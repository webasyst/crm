{**
  * Template for render composite control
  *}

<div class="c-field-wrapper crm-composite-field fields{if $params.subfield_captionplace|default:'above' !== 'above'} horizontal{/if}" data-composite="1">
    {foreach $params.subfields as $subfield_id => $subfield}
        {$is_checkbox = $subfield.field instanceof waContactCheckboxField}
        {if !($subfield.field instanceof waContactHiddenField)}
            <div class="field {if $params.subfield_captionplace|default:'above' === 'above'} vertical{/if}">
                {if $params.subfield_captionplace|default:'above' !== 'none'}
                    <div class="name for-input">
                        {if !$is_checkbox}
                            {$subfield.name|escape}
                        {/if}
                    </div>
                {/if}
                <div class="value">
                    {if $is_checkbox}
                        <label class="crm-input-checkbox flexbox space-8">
                            <span>
                                {$subfield.html}
                                <span></span>
                            </span>
                            <span>{strip}
                                {$subfield.name|escape}
                            {/strip}</span>
                        </label>
                    {else}
                        {$subfield.html}
                    {/if}
                </div>
            </div>
        {/if}
    {/foreach}
</div>
