<div class="crm-dialog-wrapper crm-confirm-dialog" id="crm-confirm-dialog">
    <div class="crm-dialog-background"></div>
    <div class="crm-dialog-block">
        <header class="crm-dialog-header">
            <h1>[`Change deal stage`]</h1>
        </header>

        <div class="crm-dialog-content">
            <p>
                {sprintf_wp('Shop-Script order %s is in <strong>%s</strong> state.', $order_number, $state_name|escape)}<br>
                {sprintf_wp('Action <strong>%s</strong> is not available. Order will remain unchanged.', $action_name|escape)}<br>
                {sprintf_wp('Move this deal to <strong>%s</strong> stage?', $stage_name|escape)}
            </p>
        </div>

        <footer class="crm-dialog-footer">
            <input class="button red js-confirm-dialog" type="button" value="[`Change stage`]">
            <span style="margin: 0 4px;">[`or`]</span>
            <a class="js-close-dialog js-cancel-dialog" href="javascript:void(0);">[`cancel`]</a>
        </footer>
    </div>

    <script>
        ( function($) {
            var $wrapper = $("#js-deal-change-state-dialog"),
                dialog = $wrapper.data("dialog");

            $wrapper.on("click", ".js-submit-button", function() {
                dialog.options.onConfirm();
                dialog.close();
            });
        })(jQuery);
    </script>
</div>