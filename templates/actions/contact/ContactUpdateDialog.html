{$_number = $client_number|escape}
{$_name = $client_name|escape}

<div class="dialog c-contact-update-dialog" id="js-contact-update-dialog">
    <div class="dialog-background"></div>
    <div class="dialog-body">
        <form>
            <header class="dialog-header">
                <h3>{sprintf(_w('Add phone <span class="nowrap">%s</span> to contact'), $_number)}</h3>
            </header>
            <div class="dialog-content fields" style="min-height: 100px;">

                <div class="field">
                    <div class="name">[`Find contact`]</div>
                    <div class="value">
                        <div class="c-autocomplete-wrapper js-autocomplete-wrapper">
                            <input class="js-autocomplete" type="text" placeholder="[`Enter name or email`]">
                            <input class="js-field" name="contact[id]" type="hidden">
                        </div>
                    </div>
                </div>

                {if $bonded_call}
                    <div class="field">
                        <div class="name for-checkbox"></div>
                        <div class="value">
                            <label class="flexbox space-8">
                                <span class="wa-checkbox">
                                    <input type="checkbox" name="client_delete_phone" id="delete-phone">
                                    <span>
                                        <span class="icon">
                                            <i class="fas fa-check"></i>
                                        </span>
                                    </span>
                                </span>
                                <span>{sprintf(_w('Remove phone <span class="nowrap">%s</span> from %s data'), $_number, $_name)}</span>
                                
                            </label>
                        </div>
                    </div>
                {/if}

                <div class="js-field-autocomplete hidden"></div>
                <div class="js-errors-place"></div>
            </div>
            <footer class="dialog-footer js-dialog-footer">
                <input class="button js-submit-button" type="submit" value="[`Save`]" disabled>
                <a class="button light-gray js-close-dialog" href="javascript:void(0);">[`Cancel`]</a>
            </footer>

            <input name="call[id]" value="{$call.id}" type="hidden">
        </form>
    </div>

    <script>
        (function ($) {
            $('.js-delete-phone-switch').waSwitch();
            new CRMContactUpdateDialog({
                $wrapper: $("#js-contact-update-dialog")
            });
        })(jQuery);
    </script>
</div>