import{d as k,ag as v,ah as C,j as g,o as d,c as _,i as e,e as o,w as i,k as l,f as u,m as S,p as x,X as f,af as I,q as N,s as y,ae as O,_ as E}from"./main-ec0df6a4.js";import{_ as L}from"./WaDialogOpener.vue_vue_type_script_setup_true_lang-e3cb498b.js";import{D as B,a as T,_ as $,b as A,c as R}from"./DealHeaderButtonReopen.vue_vue_type_script_setup_true_lang-30af4974.js";import{b as F}from"./tags-11dad524.js";import{_ as M}from"./DealNavigateBack.vue_vue_type_script_setup_true_lang-94fb821d.js";import"./ButtonSubmit-edad645b.js";import"./WaDialog-c7c19903.js";import"./UserPic-87c13a4a.js";import"./MenuList-466c4134.js";import"./helpers-a2ed4cd9.js";import"./dealStageChanger-92fcc456.js";import"./emit-727b9eb7.js";import"./FieldSelect-df2e3574.js";import"./DropDown-5d25a522.js";import"./index-8d873219.js";import"./InputWithPerformers.vue_vue_type_script_setup_true_lang-3cf71b4b.js";import"./recentContacts-b91545dc.js";import"./CustomColumn-959e6ffe.js";import"./index-4793d891.js";import"./DropdownAddTags.vue_vue_type_script_setup_true_lang-87b6a8e2.js";import"./ChipsList-64240846.js";import"./FieldString-0827de0f.js";import"./TagsCloud.vue_vue_type_script_setup_true_lang-b5fb5453.js";import"./IconButton-16cdf9d0.js";import"./vTooltip-c8fe82a0.js";import"./CustomField-0c36cb4f.js";import"./IframeView-4c5bf049.js";import"./iframeObserver-be2a61ac.js";import"./dayjs-44a66bd3.js";import"./date-8ac6c57c.js";import"./currency-format-0c135c5b.js";import"./DropdownModal-0f31f39b.js";import"./fields-5ca407fb.js";import"./FieldCheckbox-be3e2148.js";import"./SkeletonList-192ed29f.js";import"./validation-981dc8b6.js";const h=s=>(N("data-v-d98a81a5"),s=s(),y(),s),P={class:"form-deal-info"},V={class:"!tw-mb-2 !tw-pb-2 tw-sticky tw-top-0 tw-pt-4 tw-bg-inherit tw-z-10"},Y={class:"tw-mb-4 tw-space-y-3"},j={class:"tw-min-h-[2.5rem]"},q={class:"tw-flex tw-items-center tw-gap-3"},z=["href"],H=h(()=>e("i",{class:"fas fa-external-link-alt"},null,-1)),J=[H],U={key:0,class:"!tw-mt-2"},X={key:0,class:"form-deal-info__lost-text tw-mt-1"},G=["onClick"],K=h(()=>e("span",{class:"icon text-red"},[e("i",{class:"fas fa-trash-alt"})],-1)),Q=k({__name:"FormDealContact",props:{dealId:{}},setup(s){const p=s,r=F();let n;v(()=>{r.fetchById(p.dealId)}),C(()=>r.deal,a=>{if(!a)return;const c=JSON.stringify(a);n!==c&&(n&&w(),n=c)},{immediate:!0,deep:!0,debounce:200});function w(){f(O).emit(r.deal)}function b(){f(I).emit()}return(a,c)=>{const D=g("RouterLink");return d(),_("div",P,[e("div",V,[o(M)]),o(R,null,{top:i(({deal:t})=>[e("div",Y,[e("div",j,[o(B,{"deal-id":t.id,"deal-name":t.name,"can-edit":t.rights.can_edit,"is-closed":t.status_id!=="OPEN","disable-center-mobile":!0},null,8,["deal-id","deal-name","can-edit","is-closed"])]),e("div",q,[o(T),o(D,{to:{name:"deal",params:{id:p.dealId}},custom:""},{default:i(({href:m})=>[e("a",{class:"button blank circle smaller text-blue",target:"_blank",href:m},J,8,z)]),_:1},8,["to"])]),t.status_id!=="OPEN"?(d(),_("div",U,[o($),t.status_id==="LOST"&&t.lost_text?(d(),_("div",X,l(t.lost_text),1)):u("",!0)])):u("",!0)])]),bottom:i(({deal:t})=>[o(L,{component:A,"component-props":{dealId:t.id,dealName:t.name,disableDealsPageRedirect:!0,callbackSuccess:()=>{b(),a.$router.back()}}},{default:i(({open:m})=>[e("button",{class:"button light-gray tw-w-fit !tw-mt-8",onClick:x(m,["prevent"])},[K,S(" "+l(a.$t("delete")),1)],8,G)]),_:2},1032,["component-props"])]),_:1})])}}});const $t=E(Q,[["__scopeId","data-v-d98a81a5"]]);export{$t as default};
