import{Q as w,a as s,z as y,$ as F,M as A,P as a}from"./main-512a5cdd.js";const S=w("funnels",()=>{const e=s([]),n=s(),t=s({}),o=y(()=>`crm.funnel.list?${F.stringify(t.value)}`),{data:c,isFetching:f,isFinished:u,error:l,execute:m,canAbort:h,abort:d}=A(o,{immediate:!1,refetch:!1}).get().json();a(o,i),a(c,r=>{Array.isArray(r)&&(e.value=[...r])});function i(){h.value&&d(),setTimeout(()=>{m()},0)}function g(){t.value={...t.value,with_count:1}}function p(r){if(r)return e.value.find(v=>v.id===r)}return{funnels:e,selectedFunnel:n,isFetching:f,isFinished:u,error:l,refetch:i,getFunnelById:p,withCount:g}});function C(e,n){if(e!==null)if(n==="all")for(const t in e)delete e[t];else for(const t of n)delete e[t]}function O(e){return[...new Set(e)]}function k(e){return JSON.parse(JSON.stringify(e))}function B(){const e=window.navigator.userAgent.toLowerCase();return/(macintosh|macintel|macppc|mac68k|macos)/i.test(e)}function b(e){const n=new FormData(e);return Object.fromEntries(n)}function x(e){return e.scrollWidth>e.offsetWidth||e.scrollHeight>e.offsetHeight}function D(e,n,t){t>=e.children.length?e.appendChild(n):e.insertBefore(n,e.children[t])}export{x as a,B as b,O as c,k as d,b as g,D as i,C as r,S as u};
