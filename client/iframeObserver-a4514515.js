import{bf as b,I as p,V as E,E as y,ac as g,aw as f}from"./main-07d84941.js";import{b as w}from"./index-00e882cb.js";function O(e){const{stop:s}=b(document.documentElement,i=>{var r,c;const d=i[0].target.getAttribute("data-theme")??"";(c=(r=e.value)==null?void 0:r.contentWindow)==null||c.document.documentElement.setAttribute("data-theme",d)},{attributes:!0,attributeFilter:["data-theme"]});return{stop:s}}function L(e,s,i){const d=p(w),{stop:r}=O(e),c=E(()=>{e.value&&(e.value.onload=v,c())});y(()=>{r()});function v(){var o,a,u;const t=(u=(a=(o=e.value)==null?void 0:o.contentWindow)==null?void 0:a.document)==null?void 0:u.documentElement;if(t){t.style.background="transparent";const n=t.querySelector("body");n&&(n.style.minHeight="auto",n.style.background="transparent"),s||g(t,l=>{m(l[0].contentRect.height)}),b(t,()=>{s||m(t.scrollHeight),h()},{childList:!0,subtree:!0}),h()}}const m=t=>{e.value&&(d.value||i)&&(e.value.style.height=t+"px")},h=f(()=>{var t,o,a,u;(u=(a=(o=(t=e.value)==null?void 0:t.contentWindow)==null?void 0:o.document)==null?void 0:a.documentElement)==null||u.querySelectorAll('a[data-link="top"]').forEach(n=>{n.addEventListener("click",l=>{l.preventDefault(),window.history.pushState({reload:!0},"",n.href)})})},100)}export{L as u};
