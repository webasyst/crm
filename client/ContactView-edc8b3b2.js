import{d as V,z as S,t as w,x as q,E as A,j as B,o as i,b as _,w as r,g as e,c as P,i as o,p as R,k as T,h as n,v as c,f as U,e as a,K as D,G as E,A as m,q as N,s as z,_ as F}from"./main-ad3d4b2a.js";import{_ as K}from"./ViewWithSidebar.vue_vue_type_style_index_0_lang-6ed39417.js";import{u as L}from"./FormSegmentUpdate.vue_vue_type_script_setup_true_lang-de3b66c1.js";import y from"./IframeView-502df974.js";import{_ as h}from"./ComponentActivator.vue_vue_type_script_setup_true_lang-4282f1e9.js";import{_ as M}from"./ContactsList.vue_vue_type_script_setup_true_lang-f8eb0edc.js";import j from"./ContactTabs-9aafc483.js";import{_ as G}from"./ContactInfo.vue_vue_type_script_setup_true_lang-13b5cab2.js";import"./CustomColumn-d0d2dfb9.js";import"./FieldString-77b19497.js";import"./FieldCheckbox-ea76a60e.js";import"./WaDialog-48ef549a.js";import"./InputWithContacts.vue_vue_type_script_setup_true_lang-05c199be.js";import"./UserPic-e76d468d.js";import"./InputWithUsers.vue_vue_type_script_setup_true_lang-fe28f2e3.js";import"./MenuList-d27c7173.js";import"./DropDown-6640089d.js";import"./index-f0757591.js";import"./helpers-c0c14d27.js";import"./validation-32ee062c.js";import"./iframeObserver-2315e964.js";import"./index-38eb481c.js";import"./SkeletonList-22bbddc4.js";import"./EmptyList-a90c3660.js";import"./ContactsListItems-3069d7eb.js";import"./ChipsList-007889bd.js";import"./ContactsListItemAction.vue_vue_type_style_index_0_lang-70395f49.js";import"./dayjs-e01b34a2.js";import"./vTooltip-c8fe82a0.js";import"./WaDialogOpener.vue_vue_type_script_setup_true_lang-55644d30.js";import"./FormContactDelete.vue_vue_type_script_setup_true_lang-bf662fb6.js";import"./WaSpinner-8364792b.js";import"./FormContactChangeResponsible.vue_vue_type_script_setup_true_lang-1de03711.js";import"./DropdownIncludeSegment.vue_vue_type_script_setup_true_lang-43b408ee.js";import"./FormAddTag.vue_vue_type_script_setup_true_lang-f31d1ef2.js";import"./DropdownAddTags.vue_vue_type_script_setup_true_lang-3dd59e88.js";import"./tags-66e0142b.js";import"./funnels-5e77cb0b.js";import"./useSortable-1dcfe543.js";import"./HorizontalScrollContainer-56033e35.js";import"./DropdownModal-ddc95c01.js";import"./ErrorDummy.vue_vue_type_script_setup_true_lang-e98c8616.js";import"./FormContactUpdate.vue_vue_type_script_setup_true_lang-1cf5407d.js";import"./SortableList.vue_vue_type_script_setup_true_lang-bcf551ed.js";import"./FieldSelect-fbb8732d.js";import"./fields-00e92370.js";import"./dialog-55612c15.js";import"./ContactInfoUserpic.vue_vue_type_script_setup_true_lang-626b785a.js";import"./imageUrlToBase64-bf4bcddf.js";import"./ContactInfoTags.vue_vue_type_script_setup_true_lang-b3e11281.js";import"./TagsCloud.vue_vue_type_script_setup_true_lang-fe2c5a56.js";import"./emit-32ce2ce5.js";import"./ContactInfoSegments.vue_vue_type_script_setup_true_lang-77ed3be3.js";import"./ContactInfoResponsible.vue_vue_type_script_setup_true_lang-14bde7bd.js";import"./ContactInfoFavorites.vue_vue_type_script_setup_true_lang-e1c557b4.js";import"./recentContacts-6dcec390.js";import"./ButtonFavorites.vue_vue_type_script_setup_true_lang-539e4ac6.js";import"./CustomField-495187e4.js";const C=s=>(N("data-v-b0798280"),s=s(),z(),s),H={key:0,class:"sidebarHeader"},Q={class:"tw-overflow-hidden"},J=C(()=>o("i",{class:"fas fa-arrow-left"},null,-1)),O={class:"tw-truncate"},W=C(()=>o("i",{class:"fas fa-list-ul black"},null,-1)),X=[W],Y=C(()=>o("i",{class:"fas fa-times black"},null,-1)),Z=[Y],x={class:"sidebarContainer"},tt={class:"sidebarList"},ot={class:"sidebarInfo"},et=V({__name:"ContactView",props:{contactId:{}},setup(s){const l=s,k=S(()=>({context_contact_id:l.contactId})),{previousFetchParams:v}=w(q()),{showSidebar:p}=w(L()),{contact:u}=w(A()),$=S(()=>{var t;return(t=u.value)!=null&&t.main&&Array.isArray(u.value.main.email)&&!u.value.main.email.length?"&noemail=1":""});return(t,d)=>{const g=B("RouterView");return i(),_(K,null,{sidebar:r(()=>{var f;return[e(m).webView?U("",!0):(i(),P("div",H,[o("div",Q,[o("a",{class:"tw-flex tw-space-x-3 tw-items-center black",onClick:d[0]||(d[0]=R(()=>{var b,I;t.$router.push(`/contact/${((I=(b=e(v))==null?void 0:b.hash)==null?void 0:I.replace("import/","import/result/").replace("crmSearch/","search/result/"))??""}`)},["prevent"]))},[J,o("span",O,T((f=e(v))!=null&&f.hash?e(v).title:t.$t("allContacts")),1)])]),o("button",{class:"circle transparent",onClick:d[1]||(d[1]=b=>p.value=!e(p))},[n(o("span",null,X,512),[[c,!e(p)]]),n(o("span",null,Z,512),[[c,e(p)]])])])),o("div",x,[o("div",tt,[a(h,null,{default:r(()=>[a(M,{"fetch-params":k.value,"hide-header":!0,"active-contact-id":l.contactId},null,8,["fetch-params","active-contact-id"])]),_:1})]),o("div",ot,[a(G,{"contact-id":l.contactId},null,8,["contact-id"])])])]}),default:r(()=>[a(j,{"contact-id":l.contactId},{default:r(()=>[a(g,null,{default:r(({Component:f})=>[(i(),_(D,null,[(i(),_(E(f),{key:t.$route.fullPath}))],1024)),n(o("div",null,[a(h,null,{default:r(()=>[a(y,{src:`${e(m).baseUrl}call/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}`},null,8,["src"])]),_:1})],512),[[c,t.$route.name==="contactCallsTab"]]),n(o("div",null,[a(h,null,{default:r(()=>[(i(),_(y,{key:String(t.$route.query.conversationId)+$.value,"is-pre-fetching":!e(u),src:t.$route.query.conversationId?`${e(m).baseUrl}message/conversation/${t.$route.query.conversationId}/?iframe=1&contact=${t.$route.params.id}${$.value}`:`${e(m).baseUrl}message/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}${$.value}`,"disable-resize":!0,"fixed-height-mobile":!0},null,8,["is-pre-fetching","src"]))]),_:1})],512),[[c,t.$route.name==="contactMessagesTab"]]),n(o("div",null,[a(h,null,{default:r(()=>[a(y,{src:`${e(m).baseUrl}reminder/all/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}`},null,8,["src"])]),_:1})],512),[[c,t.$route.name==="contactRemindersTab"]])]),_:1})]),_:1},8,["contact-id"])]),_:1})}}});const no=F(et,[["__scopeId","data-v-b0798280"]]);export{no as default};
