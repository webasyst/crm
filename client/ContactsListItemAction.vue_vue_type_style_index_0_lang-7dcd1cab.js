import{U as y}from"./UserPic-92d000dd.js";import{d as l}from"./dayjs-82f63efd.js";import{d as w,h as b,l as T,o as e,c as a,a as d,k,u as o,n as p,b as v,F as c,A as i,p as n,j as u,B as L}from"./main-82f77a11.js";import{v as C}from"./ChipsList-bf475e53.js";const g={class:"tw-inline-block tw-mr-1 tw-translate-y-0.5"},$=w({__name:"ContactsListItemAction",props:{contactId:{},action:{},truncateText:{type:Boolean},disableLineClamp:{type:Boolean},disableTooltip:{type:Boolean}},setup(f){const t=f,s=b(),_=T(()=>t.action&&s.value?s.value.innerHTML:"");return(r,x)=>{var m;return e(),a("div",{ref_key:"actionRef",ref:s},[d("div",{class:p(["last-action tw-space-x-2 tw-items-center tw-w-full break-words",{"tw-flex":!t.disableLineClamp||t.truncateText}])},[k((e(),a("span",{class:p(["last-action__content gray group-[]/md-contacts:tw-break-all",{"tw-truncate":t.truncateText,"tw-line-clamp-2 group-[]/md-contacts:tw-line-clamp-1":!t.disableLineClamp}])},[d("div",g,[v(y,{url:t.action.icon.url,"icon-color":t.action.icon.color,"fa-icon":t.action.icon.fa||t.action.icon.fab,"fa-icon-style":t.action.icon.fab?"fab":"fas",size:16,"disable-rounded":!0},null,8,["url","icon-color","fa-icon","fa-icon-style"])]),t.action.actor?(e(),a(c,{key:0},[i(n(t.contactId===o(L).user.id?`${r.$t("you")}: `:t.contactId!==t.action.actor.id?`${t.action.actor.name}: `:""),1)],64)):u("",!0),t.action.object_type==="MESSAGE"&&t.action.action==="message_sent"?(e(),a(c,{key:1},[i(n(((m=t.action.message)==null?void 0:m.body_plain)??""),1)],64)):(e(),a(c,{key:2},[t.action.object_type!=="CALL"?(e(),a(c,{key:0},[i(n(r.$filters.toTitleCase(t.action.action_name)),1)],64)):u("",!0),i(" "+n(t.action.content),1)],64))],2)),[[o(C),t.disableTooltip?null:{allowHTML:!0,placement:"top-start",content:_.value},void 0,{500:!0,updated:!0}]]),d("span",{class:p(["last-action__create-at gray nowrap",{"tw-hidden group-[]/md-contacts:tw-block":!t.disableLineClamp,"tw-self-end":t.truncateText}])},n(o(l)(t.action.create_datetime).isYesterday()?r.$t("yesterday"):o(l)(t.action.create_datetime).format(o(l)(t.action.create_datetime).isToday()?"LT":"L")),3)],2)],512)}}});export{$ as _};
