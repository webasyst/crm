import{d as v,av as k,am as x,aw as C,m as S,o as _,c as p,a as e,b as o,w as i,p as l,j as u,A as g,e as N,U as f,au as y,s as I,x as A,at as O,_ as E}from"./main-46836c41.js";import{_ as L}from"./WaDialogOpener.vue_vue_type_script_setup_true_lang-49fe8b50.js";import{_ as B,a as T}from"./DealNavigateBack.vue_vue_type_script_setup_true_lang-aeff0fd9.js";import{D as $,a as R,_ as F,b as M}from"./DealHeaderButtonReopen.vue_vue_type_script_setup_true_lang-88b5a133.js";import"./ButtonSubmit-c3bae343.js";import"./UserPic-951b6ea8.js";import"./DropDown-2ad3ed01.js";import"./index-dbd22bf6.js";import"./dealStageChanger-78bc7b45.js";import"./emit-c388f0d7.js";import"./alert-1ed8dffa.js";import"./FieldSelect-19a80dbd.js";import"./DropDownButton-49606824.js";import"./DropdownAddTags.vue_vue_type_script_setup_true_lang-02e057ea.js";import"./CustomColumn-c8c73188.js";import"./ChipsList-9ead41c5.js";import"./FieldCheckbox-618a9e12.js";import"./index-0f68ab4c.js";import"./TagsCloud.vue_vue_type_script_setup_true_lang-e5b75374.js";import"./fields-e10d6cd3.js";import"./IconButton-2ca5e7da.js";import"./vTooltip-9ea5107e.js";import"./CustomField-e832abeb.js";import"./IframeView-19d2dace.js";import"./iframeObserver-4dc3c410.js";import"./InputWithPerformers.vue_vue_type_script_setup_true_lang-07dbcaf8.js";import"./recentContacts-3e5f8df1.js";import"./dayjs-a1477631.js";import"./date-54fb6a54.js";import"./currency-format-52cd88d5.js";import"./DropdownModal-8fb9742c.js";import"./object_hash-770ac6b3.js";import"./TabContentIframe.vue_vue_type_script_setup_true_lang-ad7b6be7.js";import"./SkeletonList-3dd02ff1.js";import"./EmptyList-5f0d3ac0.js";import"./validation-b14de04c.js";const w=s=>(I("data-v-71388945"),s=s(),A(),s),P={class:"form-deal-info"},V={class:"!tw-mb-2 !tw-pb-2 tw-sticky tw-top-0 tw-pt-4 tw-bg-inherit tw-z-10"},H={class:"tw-mb-4 tw-space-y-3"},U={class:"tw-min-h-[2.5rem]"},Y={class:"tw-flex tw-items-center tw-gap-3"},j=["href"],z=w(()=>e("i",{class:"fas fa-external-link-alt"},null,-1)),J=[z],q={key:0,class:"!tw-mt-2"},G={key:0,class:"form-deal-info__lost-text tw-mt-1"},K=["onClick"],Q=w(()=>e("span",{class:"icon text-red"},[e("i",{class:"fas fa-trash-alt"})],-1)),W=v({__name:"FormDealContact",props:{dealId:{}},setup(s){const d=s,r=k();let n;x(()=>{r.fetchById(d.dealId)}),C(()=>r.deal,a=>{if(!a)return;const c=JSON.stringify(a);n!==c&&(n&&h(),n=c)},{immediate:!0,deep:!0,debounce:200});function h(){f(O).emit(r.deal)}function b(){f(y).emit()}return(a,c)=>{const D=S("RouterLink");return _(),p("div",P,[e("div",V,[o(B)]),o(M,null,{top:i(({deal:t})=>[e("div",H,[e("div",U,[o($,{"deal-id":t.id,"deal-name":t.name,"can-edit":t.rights.can_edit,"is-closed":t.status_id!=="OPEN","disable-center-mobile":!0},null,8,["deal-id","deal-name","can-edit","is-closed"])]),e("div",Y,[o(R),o(D,{to:{name:"deal",params:{id:d.dealId}},custom:""},{default:i(({href:m})=>[e("a",{class:"button blank circle smaller !tw-text-waAccent hover:!tw-text-waAccentHover",target:"_blank",href:m},J,8,j)]),_:1},8,["to"])]),t.status_id!=="OPEN"?(_(),p("div",q,[o(F),t.status_id==="LOST"&&t.lost_text?(_(),p("div",G,l(t.lost_text),1)):u("",!0)])):u("",!0)])]),bottom:i(({deal:t})=>[o(L,{component:T,"component-props":{ids:[t.id],dealName:t.name,disableDealsPageRedirect:!0,callbackSuccess:()=>{b(),a.$router.back()}}},{default:i(({open:m})=>[e("button",{class:"button light-gray tw-w-fit !tw-mt-8",onClick:N(m,["prevent"])},[Q,g(" "+l(a.$t("delete")),1)],8,K)]),_:2},1032,["component-props"])]),_:1})])}}});const Tt=E(W,[["__scopeId","data-v-71388945"]]);export{Tt as default};
