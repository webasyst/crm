import{O as w,a as s,z as y,W as F,J as A,N as a}from"./main-ec0df6a4.js";const P=w("funnels",()=>{const e=s([]),n=s(),t=s({}),o=y(()=>`crm.funnel.list?${F.stringify(t.value)}`),{data:c,isFetching:f,isFinished:u,error:l,execute:m,canAbort:h,abort:d}=A(o,{immediate:!1,refetch:!1}).get().json();a(o,i),a(c,r=>{Array.isArray(r)&&(e.value=[...r])});function i(){h.value&&d(),setTimeout(()=>{m()},0)}function g(){t.value={...t.value,with_count:1}}function p(r){if(r)return e.value.find(v=>v.id===r)}return{funnels:e,selectedFunnel:n,isFetching:f,isFinished:u,error:l,refetch:i,getFunnelById:p,withCount:g}});function S(e,n){if(e!==null)if(n==="all")for(const t in e)delete e[t];else for(const t of n)delete e[t]}function C(e){return[...new Set(e)]}function k(e){return JSON.parse(JSON.stringify(e))}function B(){const e=window.navigator.userAgent.toLowerCase();return/(macintosh|macintel|macppc|mac68k|macos)/i.test(e)}function J(e){const n=new FormData(e);return Object.fromEntries(n)}function N(e){return e.scrollWidth>e.offsetWidth||e.scrollHeight>e.offsetHeight}function W(e,n,t){t>=e.children.length?e.appendChild(n):e.insertBefore(n,e.children[t])}export{N as a,B as b,C as c,k as d,J as g,W as i,S as r,P as u};
