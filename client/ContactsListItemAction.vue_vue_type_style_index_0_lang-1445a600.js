import{U as y}from"./UserPic-f44f080b.js";import{d as l}from"./dayjs-910ec40d.js";import{d as w,h as g,l as b,o as e,c as a,a as d,k as L,u as o,n as m,b as k,F as c,A as i,p as n,B as v,j as u}from"./main-2290994d.js";import{v as T}from"./vTooltip-95186f83.js";const h={class:"last-action tw-space-x-2 tw-items-center tw-w-full break-words tw-flex"},C={class:"tw-inline-block tw-mr-1 tw-translate-y-0.5"},N=w({__name:"ContactsListItemAction",props:{contactId:{},action:{},singleLine:{type:Boolean},disableTooltip:{type:Boolean}},setup(_){const t=_,s=g(),f=b(()=>t.action&&s.value?s.value.innerHTML:"");return(r,A)=>{var p;return e(),a("div",{ref_key:"actionRef",ref:s},[d("div",h,[L((e(),a("span",{class:m(["last-action__content gray group-[]/md-contacts:tw-break-all",{"tw-line-clamp-1":t.singleLine,"tw-line-clamp-2 group-[]/md-contacts:tw-line-clamp-1":!t.singleLine}])},[d("div",C,[k(y,{url:t.action.icon.url,"icon-color":t.action.icon.color,"fa-icon":t.action.icon.fa||t.action.icon.fab,"fa-icon-style":t.action.icon.fab?"fab":"fas",size:16,"disable-rounded":!0},null,8,["url","icon-color","fa-icon","fa-icon-style"])]),t.action.actor?(e(),a(c,{key:0},[i(n(t.contactId===o(v).user.id?`${r.$t("you")}: `:t.contactId!==t.action.actor.id?`${t.action.actor.name}: `:""),1)],64)):u("",!0),t.action.object_type==="MESSAGE"&&t.action.action==="message_sent"?(e(),a(c,{key:1},[i(n(((p=t.action.message)==null?void 0:p.body_plain)??""),1)],64)):(e(),a(c,{key:2},[t.action.object_type!=="CALL"?(e(),a(c,{key:0},[i(n(r.$filters.toTitleCase(t.action.action_name)),1)],64)):u("",!0),i(" "+n(t.action.content),1)],64))],2)),[[o(T),t.disableTooltip?null:{allowHTML:!0,placement:"top-start",content:f.value},void 0,{500:!0,updated:!0}]]),d("span",{class:m(["last-action__create-at gray nowrap",{"tw-hidden group-[]/md-contacts:tw-block":!t.singleLine,"tw-self-end":t.singleLine}])},n(o(l)(t.action.create_datetime).isYesterday()?r.$t("yesterday"):o(l)(t.action.create_datetime).format(o(l)(t.action.create_datetime).isToday()?"LT":"L")),3)])],512)}}});export{N as _};
