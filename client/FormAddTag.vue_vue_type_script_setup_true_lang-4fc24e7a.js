import{d as w,J as b,h as m,o,i as d,w as s,A as p,p as n,a as l,e as v,b as f,n as T,c as g,j as y,F as V,q as A,W as B}from"./main-82f77a11.js";import{_ as N}from"./DropdownAddTags.vue_vue_type_script_setup_true_lang-0f96d531.js";import{C as $}from"./CustomColumn-096f9d5b.js";import{C as F,a as I}from"./ChipsList-bf475e53.js";const S=["disabled","onClick"],x={key:0,class:"hint"},L=["onClick"],D=l("i",{class:"fas fa-hashtag"},null,-1),W={class:"tw-flex-auto tw-truncate"},J=w({__name:"FormAddTag",props:{entityIds:{},entityType:{}},emits:["close"],setup(h,{emit:c}){const i=h,_=b(),t=m([]),a=m();async function C(){a.value=_.tagAssign(i.entityType,i.entityIds,t.value,!0),await a.value.execute(),a.value.error||c("close")}return(u,r)=>(o(),d(B,{"use-cancel-as-button-label":!0,onClose:r[1]||(r[1]=e=>c("close"))},{header:s(()=>[p(n(u.$t("addTags")),1)]),submit:s(()=>{var e;return[l("button",{disabled:!t.value.length||!!((e=a.value)!=null&&e.isFetching),onClick:v(C,["prevent"])},n(u.$t("save")),9,S)]}),error:s(()=>{var e;return[p(n((e=a.value)==null?void 0:e.error),1)]}),default:s(()=>[f($,{space:"6"},{default:s(()=>[l("div",{class:T(["tw-p-4 tw-rounded-md tw-bg-waBackground",{"tw-pb-2":t.value.length}])},[t.value.length?y("",!0):(o(),g("div",x,n(u.$t("tagsToAssign")),1)),t.value.length?(o(),d(F,{key:1},{default:s(()=>[(o(!0),g(V,null,A(t.value,e=>(o(),d(I,{key:e,class:"smaller"},{default:s(()=>[l("a",{onClick:v(()=>{t.value=t.value.filter(k=>k!==e)},["prevent"])},[D,l("span",W,n(e),1)],8,L)]),_:2},1024))),128))]),_:1})):y("",!0)],2),f(N,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),"entity-ids":i.entityIds,"entity-type":i.entityType},null,8,["modelValue","entity-ids","entity-type"])]),_:1})]),_:1}))}});export{J as _};
