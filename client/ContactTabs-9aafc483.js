import{_ as E,H as V}from"./HorizontalScrollContainer-56033e35.js";import{_ as $}from"./ErrorDummy.vue_vue_type_script_setup_true_lang-e98c8616.js";import{d as z,t as b,a_ as D,E as H,z as h,N as A,P as R,j,o as e,c as n,i as t,F as d,g as u,b as m,f as l,e as q,w as k,l as y,n as r,r as L,aS as M,A as P,m as G,k as g,q as J,s as K,_ as O}from"./main-ad3d4b2a.js";import"./DropdownModal-ddc95c01.js";import"./MenuList-d27c7173.js";import"./DropDown-6640089d.js";import"./index-f0757591.js";import"./EmptyList-a90c3660.js";import"./CustomColumn-d0d2dfb9.js";const Q=s=>(J("data-v-ec7dd75e"),s=s(),K(),s),U={class:"tw-flex tw-flex-col tw-min-h-full md:tw-border-0 md:tw-border-solid md:tw-border-l md:tw-border-l-waBorder"},W={class:"tabs tw-flex-none"},X=["href","onClick"],Y={key:0,class:"count"},Z=Q(()=>t("div",{class:"skeleton-line"},null,-1)),ee=[Z],te=z({__name:"ContactTabs",props:{contactId:{}},setup(s){const p=s,{contactId:C,tabs:_,isFetching:S}=b(D()),{isFetching:I,contact:x,error:w,statusCode:f}=b(H()),v=h(()=>S.value||I.value),c=h(()=>[403,404].includes(Number(f.value))&&w.value instanceof Error?w.value.message:null);return A(()=>{C.value=p.contactId}),R(v,o=>{var i;!o&&((i=x.value)!=null&&i.details.is_company)&&_.value.push({name:M.global.t("employees"),routeName:"contactEmployeesTab"})}),(o,i)=>{const N=j("router-link");return e(),n("div",U,[t("div",{class:r([{"mobile:!tw-hidden":c.value},"tabs-container bordered-bottom"])},[c.value?l("",!0):(e(),n(d,{key:0},[u(P).webView?l("",!0):(e(),m(E,{key:0,"entity-type":"contact","entity-id":p.contactId,class:"tw-ml-4"},null,8,["entity-id"])),q(V,{"fade-color":"var(--background-color)",class:"tw-mx-4"},{default:k(()=>[t("ul",W,[(e(!0),n(d,null,y(u(_),a=>(e(),m(N,{key:a.routeName,to:{name:a.routeName},replace:"",custom:""},{default:k(({isActive:T,href:F,navigate:B})=>[t("li",{class:r({selected:T})},[t("a",{href:F,class:r(o.$constant.parentAppDisableRouterClass),onClick:B},[t("span",null,[G(g(a.name)+" ",1),a.count?(e(),n("span",Y,g(a.count),1)):l("",!0)])],10,X)],2)]),_:2},1032,["to"]))),128)),v.value?(e(),n(d,{key:0},y(3,a=>t("li",{key:a,class:"skeleton tw-w-16"},ee)),64)):l("",!0)])]),_:1})],64))],2),t("div",{class:r(["tw-relative tw-flex-auto tw-bg-waBlank tw-min-h-[340px]",{"tw-p-4 tw-pb-0":["contactHistoryTab","contactInvoicesTab"].includes(String(o.$route.name))}])},[c.value?(e(),m($,{key:0,code:u(f),message:c.value},null,8,["code","message"])):L(o.$slots,"default",{key:1},void 0,!0)],2)])}}});const ue=O(te,[["__scopeId","data-v-ec7dd75e"]]);export{ue as default};
