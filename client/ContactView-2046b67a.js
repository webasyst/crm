import{d as V,A as S,t as w,y as q,L as B,j as A,o as i,b as _,w as r,g as e,c as N,i as o,p as P,k as R,h as n,v as c,f as T,e as a,M as U,N as D,B as m,q as L,s as M,_ as E}from"./main-07d84941.js";import{_ as F}from"./ViewWithSidebar.vue_vue_type_style_index_0_lang-d2df5d92.js";import{u as j}from"./FormSegmentUpdate.vue_vue_type_script_setup_true_lang-7002b171.js";import y from"./IframeView-74ab944a.js";import{_ as h}from"./ComponentActivator.vue_vue_type_script_setup_true_lang-ecdd3c1d.js";import{_ as z}from"./ContactsList.vue_vue_type_script_setup_true_lang-07fc45c6.js";import H from"./ContactTabs-90b3b97a.js";import{_ as K}from"./ContactInfo.vue_vue_type_script_setup_true_lang-058767a0.js";import"./CustomColumn-36c752a1.js";import"./FieldString-83da0a5f.js";import"./FieldCheckbox-eb6fe774.js";import"./InputWithContacts.vue_vue_type_script_setup_true_lang-4ab9d7cb.js";import"./UserPic-6b99ec27.js";import"./InputWithDropDown.vue_vue_type_script_setup_true_lang-71ea280f.js";import"./MenuList-1948b71a.js";import"./DropDown-d3d1a4c6.js";import"./index-c6ad4004.js";import"./validation-46e41ea1.js";import"./iframeObserver-a4514515.js";import"./index-00e882cb.js";import"./SkeletonList-6c298ef0.js";import"./LazyLoadingWithProgress.vue_vue_type_script_setup_true_lang-18529799.js";import"./EmptyList-3dbbfbca.js";import"./ContactsListItems-1516c6c2.js";import"./ChipsList-c29e2863.js";import"./ContactsListItemAction.vue_vue_type_style_index_0_lang-ab9b3926.js";import"./dayjs-ec756e3b.js";import"./vTooltip-05cbcfb0.js";import"./WaDialogOpener.vue_vue_type_script_setup_true_lang-6d140fe9.js";import"./FormContactDelete.vue_vue_type_script_setup_true_lang-0d2e60e1.js";import"./WaSpinner-40f3d131.js";import"./FormContactChangeResponsible.vue_vue_type_script_setup_true_lang-a4904281.js";import"./InputWithUsers.vue_vue_type_script_setup_true_lang-d1c57d10.js";import"./DropdownIncludeSegment.vue_vue_type_script_setup_true_lang-cc09da47.js";import"./FormAddTag.vue_vue_type_script_setup_true_lang-568c446d.js";import"./DropdownAddTags.vue_vue_type_script_setup_true_lang-934e2462.js";import"./useSortable-85e98846.js";import"./TabList-bef7e4e5.js";import"./DropdownModal-f2bc144f.js";import"./ErrorDummy.vue_vue_type_script_setup_true_lang-a0b57f22.js";import"./FormContactUpdate.vue_vue_type_script_setup_true_lang-8cd860b7.js";import"./fields-198fafc2.js";import"./FieldSelect-efa962b1.js";import"./FormContactUpdateInfo.vue_vue_type_script_setup_true_lang-990cc429.js";import"./SortableList.vue_vue_type_script_setup_true_lang-e995921a.js";import"./ContactInfoUserpic.vue_vue_type_script_setup_true_lang-82a6b8d0.js";import"./imageUrlToBase64-bf4bcddf.js";import"./ContactInfoTags.vue_vue_type_script_setup_true_lang-ada80256.js";import"./TagsCloud.vue_vue_type_script_setup_true_lang-11da5cd8.js";import"./emit-60490a02.js";import"./ContactInfoSegments.vue_vue_type_script_setup_true_lang-b3fc0328.js";import"./ConfirmDialog.vue_vue_type_script_setup_true_lang-b662fb14.js";import"./ButtonSubmit-7647b2fd.js";import"./ContactInfoResponsible.vue_vue_type_script_setup_true_lang-68c8155b.js";import"./ContactInfoPersonalAccount.vue_vue_type_script_setup_true_lang-6198e608.js";import"./CustomField-4dbf1640.js";import"./TextAreaAutoresize-4cf6468e.js";import"./ContactInfoFavorites.vue_vue_type_script_setup_true_lang-ed7bed3c.js";import"./recentContacts-f5cbf16b.js";import"./ButtonFavorites.vue_vue_type_script_setup_true_lang-76f24332.js";const C=s=>(L("data-v-b0798280"),s=s(),M(),s),Q={key:0,class:"sidebarHeader"},G={class:"tw-overflow-hidden"},J=C(()=>o("i",{class:"fas fa-arrow-left"},null,-1)),O={class:"tw-truncate"},W=C(()=>o("i",{class:"fas fa-list-ul black"},null,-1)),X=[W],Y=C(()=>o("i",{class:"fas fa-times black"},null,-1)),Z=[Y],x={class:"sidebarContainer"},tt={class:"sidebarList"},ot={class:"sidebarInfo"},et=V({__name:"ContactView",props:{contactId:{}},setup(s){const l=s,k=S(()=>({context_contact_id:l.contactId})),{previousFetchParams:v}=w(q()),{showSidebar:p}=w(j()),{contact:u}=w(B()),$=S(()=>{var t;return(t=u.value)!=null&&t.main&&Array.isArray(u.value.main.email)&&!u.value.main.email.length?"&noemail=1":""});return(t,d)=>{const g=A("RouterView");return i(),_(F,null,{sidebar:r(()=>{var f;return[e(m).webView?T("",!0):(i(),N("div",Q,[o("div",G,[o("a",{class:"tw-flex tw-space-x-3 tw-items-center black",onClick:d[0]||(d[0]=P(()=>{var b,I;t.$router.push(`/contact/${((I=(b=e(v))==null?void 0:b.hash)==null?void 0:I.replace("import/","import/result/").replace("crmSearch/","search/result/"))??""}`)},["prevent"]))},[J,o("span",O,R((f=e(v))!=null&&f.hash?e(v).title:t.$t("allContacts")),1)])]),o("button",{class:"circle transparent",onClick:d[1]||(d[1]=b=>p.value=!e(p))},[n(o("span",null,X,512),[[c,!e(p)]]),n(o("span",null,Z,512),[[c,e(p)]])])])),o("div",x,[o("div",tt,[a(h,null,{default:r(()=>[a(z,{"fetch-params":k.value,"hide-header":!0,"active-contact-id":l.contactId},null,8,["fetch-params","active-contact-id"])]),_:1})]),o("div",ot,[a(K,{"contact-id":l.contactId},null,8,["contact-id"])])])]}),default:r(()=>[a(H,{"contact-id":l.contactId},{default:r(()=>[a(g,null,{default:r(({Component:f})=>[(i(),_(U,null,[(i(),_(D(f),{key:t.$route.fullPath}))],1024)),n(o("div",null,[a(h,null,{default:r(()=>[a(y,{src:`${e(m).baseUrl}call/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}`},null,8,["src"])]),_:1})],512),[[c,t.$route.name==="contactCallsTab"]]),n(o("div",null,[a(h,null,{default:r(()=>[(i(),_(y,{key:String(t.$route.query.conversationId)+$.value,"is-pre-fetching":!e(u),src:t.$route.query.conversationId?`${e(m).baseUrl}message/conversation/${t.$route.query.conversationId}/?iframe=1&contact=${t.$route.params.id}${$.value}`:`${e(m).baseUrl}message/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}${$.value}`,"disable-resize":!0,"fixed-height-mobile":!0},null,8,["is-pre-fetching","src"]))]),_:1})],512),[[c,t.$route.name==="contactMessagesTab"]]),n(o("div",null,[a(h,null,{default:r(()=>[a(y,{src:`${e(m).baseUrl}reminder/all/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}`},null,8,["src"])]),_:1})],512),[[c,t.$route.name==="contactRemindersTab"]])]),_:1})]),_:1},8,["contact-id"])]),_:1})}}});const mo=E(et,[["__scopeId","data-v-b0798280"]]);export{mo as default};
