import{_ as h}from"./TagsCloud.vue_vue_type_script_setup_true_lang-b5fb5453.js";import{D as v}from"./DropDown-5d25a522.js";import{C}from"./CustomColumn-959e6ffe.js";import{d as u,t as p,a8 as f,o as r,c as D,g as m,b as _,ar as V,f as k,w as n,e as c,i as g,m as w,k as x,J as T}from"./main-ec0df6a4.js";import{_ as $}from"./DropdownAddTags.vue_vue_type_script_setup_true_lang-87b6a8e2.js";const B={class:"tw-p-2"},I=u({__name:"DropdownAddTags",props:{contactIds:{}},setup(s){const e=s,{contact:t}=p(f());return(i,a)=>(r(),D("div",B,[m(t)?(r(),_($,{key:0,modelValue:m(t),"onUpdate:modelValue":a[0]||(a[0]=o=>V(t)?t.value=o:null),"entity-type":"contact","entity-ids":e.contactIds},null,8,["modelValue","entity-ids"])):k("",!0)]))}}),N={class:"gray small"},b=g("i",{class:"fas fa-plus"},null,-1),J=u({__name:"ContactInfoTags",props:{contact:{}},setup(s){const e=s,{contact:t}=p(f());async function i(a){var l,d;const{response:o}=await T("crm.tag.remove").post({contact_id:[e.contact.id],tag:[a]});(l=o.value)!=null&&l.ok&&t.value&&t.value.id===e.contact.id&&(t.value.tags=(d=t.value)==null?void 0:d.tags.filter(y=>y.name!==a))}return(a,o)=>(r(),_(C,{space:"none"},{default:n(()=>[c(h,{"entity-type":"contact",tags:e.contact.tags,editable:!0,onDeleteTag:i},null,8,["tags"]),c(v,{"max-height":a.$route.meta.menuItemType==="frame"?"280px":void 0},{body:n(()=>[c(I,{"contact-ids":[e.contact.id]},null,8,["contact-ids"])]),default:n(()=>[g("a",N,[b,w("Â "+x(a.$t("addTag")),1)])]),_:1},8,["max-height"])]),_:1}))}});export{J as _};
