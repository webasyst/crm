import{d as V,z as S,t as w,x as q,E as A,j as B,o as i,b as _,w as r,g as e,c as P,i as o,p as R,k as T,h as n,v as c,f as U,e as a,K as D,G as E,A as l,q as N,s as z,_ as F}from"./main-512a5cdd.js";import{_ as K}from"./ViewWithSidebar.vue_vue_type_style_index_0_lang-1ba1bf17.js";import{u as L}from"./FormSegmentUpdate.vue_vue_type_script_setup_true_lang-911844b1.js";import y from"./IframeView-95d9d201.js";import{_ as h}from"./ComponentActivator.vue_vue_type_script_setup_true_lang-c63f430d.js";import{_ as M}from"./ContactsList.vue_vue_type_script_setup_true_lang-b5cb28f3.js";import j from"./ContactTabs-fb0c4e16.js";import{_ as G}from"./ContactInfo.vue_vue_type_script_setup_true_lang-bc83400b.js";import"./CustomColumn-351ad915.js";import"./FieldString-0d7a3814.js";import"./FieldCheckbox-a8d5da5b.js";import"./WaDialog-079c5577.js";import"./InputWithContacts.vue_vue_type_script_setup_true_lang-3d5e0b02.js";import"./UserPic-2094e1a0.js";import"./InputWithUsers.vue_vue_type_script_setup_true_lang-e9424cff.js";import"./MenuList-bac784e3.js";import"./DropDown-f7af334e.js";import"./index-0b315a89.js";import"./validation-2131e443.js";import"./iframeObserver-b7e5eaf8.js";import"./index-f44a2c60.js";import"./SkeletonList-675defe7.js";import"./EmptyList-256bbb87.js";import"./ContactsListItems-27834ddd.js";import"./ChipsList-784e50f6.js";import"./ContactsListItemAction.vue_vue_type_style_index_0_lang-425ad307.js";import"./dayjs-63c9a14c.js";import"./vTooltip-c8fe82a0.js";import"./WaDialogOpener.vue_vue_type_script_setup_true_lang-b56346dd.js";import"./FormContactDelete.vue_vue_type_script_setup_true_lang-0460304a.js";import"./WaSpinner-c8c65e65.js";import"./FormContactChangeResponsible.vue_vue_type_script_setup_true_lang-2f23e992.js";import"./DropdownIncludeSegment.vue_vue_type_script_setup_true_lang-2c6bb1ae.js";import"./FormAddTag.vue_vue_type_script_setup_true_lang-7f103d1a.js";import"./DropdownAddTags.vue_vue_type_script_setup_true_lang-7871ff83.js";import"./tags-ec5b68fa.js";import"./helpers-c15b26e3.js";import"./useSortable-bb0b2f8f.js";import"./HorizontalScrollContainer-412259a3.js";import"./DropdownModal-9b32b296.js";import"./AccessDeniedDummy.vue_vue_type_script_setup_true_lang-aad20bf1.js";import"./FormContactUpdate.vue_vue_type_script_setup_true_lang-8609aaf0.js";import"./SortableList.vue_vue_type_script_setup_true_lang-0632140e.js";import"./FieldSelect-46bbc3cb.js";import"./fields-536d59a3.js";import"./dialog-e5c60953.js";import"./ContactInfoUserpic.vue_vue_type_script_setup_true_lang-a140854c.js";import"./imageUrlToBase64-bf4bcddf.js";import"./ContactInfoTags.vue_vue_type_script_setup_true_lang-4dae6ccb.js";import"./TagsCloud.vue_vue_type_script_setup_true_lang-24d3dd10.js";import"./emit-243cfb93.js";import"./ContactInfoSegments.vue_vue_type_script_setup_true_lang-99fb1af6.js";import"./ContactInfoResponsible.vue_vue_type_script_setup_true_lang-5e63a447.js";import"./ContactInfoFavorites.vue_vue_type_script_setup_true_lang-5fe1c50b.js";import"./recentContacts-971ea6fa.js";import"./ButtonFavorites.vue_vue_type_script_setup_true_lang-060ba851.js";import"./CustomField-1e45d57a.js";const C=s=>(N("data-v-b0798280"),s=s(),z(),s),H={key:0,class:"sidebarHeader"},Q={class:"tw-overflow-hidden"},J=C(()=>o("i",{class:"fas fa-arrow-left"},null,-1)),O={class:"tw-truncate"},W=C(()=>o("i",{class:"fas fa-list-ul black"},null,-1)),X=[W],Y=C(()=>o("i",{class:"fas fa-times black"},null,-1)),Z=[Y],x={class:"sidebarContainer"},tt={class:"sidebarList"},ot={class:"sidebarInfo"},et=V({__name:"ContactView",props:{contactId:{}},setup(s){const m=s,k=S(()=>({context_contact_id:m.contactId})),{previousFetchParams:v}=w(q()),{showSidebar:p}=w(L()),{contact:u}=w(A()),$=S(()=>{var t;return(t=u.value)!=null&&t.main&&Array.isArray(u.value.main.email)&&!u.value.main.email.length?"&noemail=1":""});return(t,d)=>{const g=B("RouterView");return i(),_(K,null,{sidebar:r(()=>{var f;return[e(l).webView?U("",!0):(i(),P("div",H,[o("div",Q,[o("a",{class:"tw-flex tw-space-x-3 tw-items-center black",onClick:d[0]||(d[0]=R(()=>{var b,I;t.$router.push(`/contact/${((I=(b=e(v))==null?void 0:b.hash)==null?void 0:I.replace("import/","import/result/").replace("crmSearch/","search/result/"))??""}`)},["prevent"]))},[J,o("span",O,T((f=e(v))!=null&&f.hash?e(v).title:t.$t("allContacts")),1)])]),o("button",{class:"circle transparent",onClick:d[1]||(d[1]=b=>p.value=!e(p))},[n(o("span",null,X,512),[[c,!e(p)]]),n(o("span",null,Z,512),[[c,e(p)]])])])),o("div",x,[o("div",tt,[a(h,null,{default:r(()=>[a(M,{"fetch-params":k.value,"hide-header":!0,"active-contact-id":m.contactId},null,8,["fetch-params","active-contact-id"])]),_:1})]),o("div",ot,[a(G,{"contact-id":m.contactId},null,8,["contact-id"])])])]}),default:r(()=>[a(j,{"contact-id":m.contactId},{default:r(()=>[a(g,null,{default:r(({Component:f})=>[(i(),_(D,null,[(i(),_(E(f),{key:t.$route.fullPath}))],1024)),n(o("div",null,[a(h,null,{default:r(()=>[a(y,{src:`${e(l).baseUrl}call/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}`},null,8,["src"])]),_:1})],512),[[c,t.$route.name==="contactCallsTab"]]),n(o("div",null,[a(h,null,{default:r(()=>[(i(),_(y,{key:String(t.$route.query.conversationId)+$.value,"is-pre-fetching":!e(u),src:t.$route.query.conversationId?`${e(l).baseUrl}message/conversation/${t.$route.query.conversationId}/?iframe=1&contact=${t.$route.params.id}${$.value}`:`${e(l).baseUrl}message/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}${$.value}`,"disable-resize":!0,"fixed-height-mobile":!0},null,8,["is-pre-fetching","src"]))]),_:1})],512),[[c,t.$route.name==="contactMessagesTab"]]),n(o("div",null,[a(h,null,{default:r(()=>[a(y,{src:`${e(l).baseUrl}reminder/all/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}`},null,8,["src"])]),_:1})],512),[[c,t.$route.name==="contactRemindersTab"]])]),_:1})]),_:1},8,["contact-id"])]),_:1})}}});const io=F(et,[["__scopeId","data-v-b0798280"]]);export{io as default};
