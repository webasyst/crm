import{U as y}from"./UserPic-e76d468d.js";import{d as l}from"./dayjs-e01b34a2.js";import{d as w,a as b,z as T,o as e,c as a,h as k,g as o,n as d,i as p,e as v,F as c,m as i,k as n,f as u,A as L}from"./main-ad3d4b2a.js";import{v as g}from"./vTooltip-c8fe82a0.js";const C={class:"tw-inline-block tw-mr-1 tw-translate-y-0.5"},$=w({__name:"ContactsListItemAction",props:{contactId:{},action:{},truncateText:{type:Boolean},disableLineClamp:{type:Boolean},disableTooltip:{type:Boolean}},setup(f){const t=f,s=b(),_=T(()=>t.action&&s.value?s.value.innerHTML:"");return(r,x)=>{var m;return e(),a("div",{ref_key:"actionRef",ref:s},[k((e(),a("div",{class:d(["last-action tw-space-x-2 tw-items-center tw-w-full break-words",{"tw-flex":!t.disableLineClamp||t.truncateText}])},[p("span",{class:d(["last-action__content gray group-[]/md-contacts:tw-break-all",{"tw-truncate":t.truncateText,"tw-line-clamp-2 group-[]/md-contacts:tw-line-clamp-1":!t.disableLineClamp}])},[p("div",C,[v(y,{url:t.action.icon.url,"icon-color":t.action.icon.color,"fa-icon":t.action.icon.fa||t.action.icon.fab,"fa-icon-style":t.action.icon.fab?"fab":"fas",size:16,"disable-rounded":!0},null,8,["url","icon-color","fa-icon","fa-icon-style"])]),t.action.actor?(e(),a(c,{key:0},[i(n(t.contactId===o(L).user.id?`${r.$t("you")}: `:t.contactId!==t.action.actor.id?`${t.action.actor.name}: `:""),1)],64)):u("",!0),t.action.object_type==="MESSAGE"&&t.action.action==="message_sent"?(e(),a(c,{key:1},[i(n(((m=t.action.message)==null?void 0:m.body_plain)??""),1)],64)):(e(),a(c,{key:2},[t.action.object_type!=="CALL"?(e(),a(c,{key:0},[i(n(r.$filters.toTitleCase(t.action.action_name)),1)],64)):u("",!0),i(" "+n(t.action.content),1)],64))],2),p("span",{class:d(["last-action__create-at gray nowrap",{"tw-hidden group-[]/md-contacts:tw-block":!t.disableLineClamp,"tw-self-end":t.truncateText}])},n(o(l)(t.action.create_datetime).isYesterday()?r.$t("yesterday"):o(l)(t.action.create_datetime).format(o(l)(t.action.create_datetime).isToday()?"LT":"L")),3)],2)),[[o(g),t.disableTooltip?null:{allowHTML:!0,placement:"top-start",content:_.value},void 0,{500:!0,updated:!0}]])],512)}}});export{$ as _};
