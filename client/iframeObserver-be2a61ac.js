import{aW as b,Q as p,L as E,aB as y,a2 as g,ad as f}from"./main-ec0df6a4.js";import{a as w}from"./index-4793d891.js";function L(e){const{stop:s}=b(document.documentElement,d=>{var r,c;const i=d[0].target.getAttribute("data-theme")??"";(c=(r=e.value)==null?void 0:r.contentWindow)==null||c.document.documentElement.setAttribute("data-theme",i)},{attributes:!0,attributeFilter:["data-theme"]});return{stop:s}}function M(e,s,d){const i=p(w),{stop:r}=L(e),c=E(()=>{e.value&&(e.value.onload=v,c())});y(()=>{r()});function v(){var o,a,u;const t=(u=(a=(o=e.value)==null?void 0:o.contentWindow)==null?void 0:a.document)==null?void 0:u.documentElement;if(t){t.style.background="transparent";const n=t.querySelector("body");n&&(n.style.minHeight="auto",n.style.background="transparent"),s||g(t,l=>{m(l[0].contentRect.height)}),b(t,()=>{s||m(t.scrollHeight),h()},{childList:!0,subtree:!0}),h()}}const m=t=>{e.value&&(i.value||d)&&(e.value.style.height=t+"px")},h=f(()=>{var t,o,a,u;(u=(a=(o=(t=e.value)==null?void 0:t.contentWindow)==null?void 0:o.document)==null?void 0:a.documentElement)==null||u.querySelectorAll('a[data-link="top"]').forEach(n=>{n.addEventListener("click",l=>{l.preventDefault(),window.history.pushState({reload:!0},"",n.href)})})},100)}export{M as u};
