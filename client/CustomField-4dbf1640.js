import{v as x}from"./vTooltip-05cbcfb0.js";import{d as k,h as F,g as d,o as t,c as a,n as $,f as c,q as B,s as V,i as n,_ as S,b as v,w as z,e as M,W,$ as N,F as m,a2 as D,k as u,m as w,B as p,R as U,r as E}from"./main-07d84941.js";import L from"./IframeView-74ab944a.js";const O=s=>(B("data-v-eb6c8161"),s=s(),V(),s),R=O(()=>n("i",{class:"fas fa-question-circle"},null,-1)),q=[R],P=k({__name:"TooltipIcon",props:{content:{},placement:{},triggerClick:{type:Boolean},delay:{},interactive:{type:Boolean}},setup(s){const e=s,i=document.body;return(_,y)=>e.content?F((t(),a("span",{key:0,class:$(["icon",{"tw-cursor-pointer":e.triggerClick}])},q,2)),[[d(x),{...e.placement?{placement:e.placement}:{},trigger:e.triggerClick?"click":"mouseenter",delay:e.delay||0,interactive:!!e.interactive,allowHTML:!0,content:e.content,appendTo:d(i)}]]):c("",!0)}});const j=S(P,[["__scopeId","data-v-eb6c8161"]]),H=k({__name:"IframeViewInDialog",props:{src:{}},setup(s){const e=s;return(i,_)=>(t(),v(W,{"hide-buttons":!0},{default:z(({close:y})=>[M(L,{src:e.src,"static-position":!0,"force-resize":!0,onClose:y},null,8,["src","onClose"])]),_:1}))}}),G={class:"tw-flex tw-items-baseline tw-space-x-2"},J={class:"tw-flex tw-items-baseline tw-space-x-2 tw-max-w-full"},K={class:"icon size-14"},Q=["href"],X={key:1},Y=n("span",{class:"icon size-14"},[n("i",{class:"fas fa-map-marker-alt gray"})],-1),Z={class:"break-words"},ee=["href"],te=n("i",{class:"fas fa-angle-right"},null,-1),ae={class:"icon size-14"},oe={key:0,class:"fas fa-envelope tw-text-waAccent"},se={key:1,class:"fas fa-phone-alt tw-text-waAccent"},ne={key:2,class:"fas fa-link tw-text-waAccent"},le=["title"],ce=n("i",{class:"fas fa-check-circle tw-text-waAccent",style:{color:"rgb(52, 199, 89)"}},null,-1),ie=[ce],re=["href"],ue=n("i",{class:"fas fa-sms"},null,-1),pe=[ue],de=["title"],me=k({__name:"CustomFieldIm",props:{value:{},type:{},contactId:{}},setup(s){const e=s,i=N(),_=i.meta.menuItemType==="deals"&&typeof i.params.id=="string"?i.params.id:null;function y(o,l,r){e.contactId&&(p.can_init_call&&l==="phone"&&b(o,`${p.baseUrl}?module=call&action=initContactDialog&contact_id=${e.contactId}&phone=${r}&iframe=1`),p.is_email_configured&&l==="email"&&b(o,`${p.baseUrl}?module=message&action=writeNewDialog&contact_id=${e.contactId}&email=${r}${_?`&deal_id=${_}`:""}&iframe=1`))}function T(o,l){b(o,`${p.baseUrl}?module=message&action=writeSMSNewDialog&contact_id=${e.contactId}&phone=${l}&iframe=1`)}function b(o,l){o.preventDefault(),U(H,{src:l}).show()}const f={im:{whatsapp:{icon:"fab fa-whatsapp",color:"#29C54D",link:"https://wa.me/{name}"},telegram:{icon:"fab fa-telegram-plane",color:"#279FDA",link:"https://t.me/{name}"},skype:{icon:"fab fa-skype",color:"#28A8EA",link:"skype:{name}?chat"},viber:{icon:"fab fa-viber",color:"#7360F4",link:"viber://chat?number={name}"},facebook:{icon:"fab fa-facebook-messenger",color:"#0084FF",link:"https://m.me/{name}"},discord:{icon:"fab fa-discord",color:"#404EED",link:""},slack:{icon:"fab fa-slack",color:"#A436AB",link:""},yahoo:{icon:"fab fa-yahoo",color:"#581cc7",link:""},custom:{icon:"fas fa-comments text-purple",color:"",link:""}},socialnetwork:{facebook:{icon:"fab fa-facebook-f",color:"#1877F2",link:"http://facebook.com/{name}"},twitter:{icon:"fab fa-twitter",color:"#29A6F3",link:"http://twitter.com/{name}"},linkedin:{icon:"fab fa-linkedin-in",color:"#0078B6",link:""},vkontakte:{icon:"fab fa-vk",color:"#2787F5",link:"http://vk.com/{name}"},instagram:{icon:"fab fa-instagram",color:"#FF2565",link:""},custom:{icon:"fas fa-comments text-purple",color:"",link:""}}};function A(o,l,r){try{const h=new URL(o);return o}catch{return r==="telegram"&&(o=o.startsWith("@")?o.slice(1):o),f[l][r].link.replace("{name}",o)}}return(o,l)=>{var r,h,I,C;return t(),a("div",G,[n("div",J,[["im","socialnetwork"].includes(e.type)?(t(),a(m,{key:0},[n("span",K,[n("i",{class:$(((r=f[e.type][e.value.ext])==null?void 0:r.icon)||f[e.type].custom.icon),style:D(`color: ${((h=f[e.type][e.value.ext])==null?void 0:h.color)||f[e.type].custom.color};`)},null,6)]),(I=f[e.type][e.value.ext])!=null&&I.link?(t(),a("a",{key:0,href:A(e.value.data,e.type,e.value.ext),class:"tw-truncate",target:"_blank"},u(e.value.value),9,Q)):(t(),a("span",X,u(e.value.value),1))],64)):e.type==="address"?(t(),a(m,{key:1},[Y,n("div",Z,[w(u(e.value.value)+" ",1),e.value.map_url?(t(),a("a",{key:0,href:e.value.map_url,target:"_blank",class:"nowrap"},[w(u(o.$t("map"))+" ",1),te],8,ee)):c("",!0)])],64)):["phone","email","url"].includes(e.type)&&((C=e.value.value)!=null&&C.trim())?(t(),a(m,{key:2},[n("span",ae,[e.type==="email"?(t(),a("i",oe)):c("",!0),e.type==="phone"?(t(),a("i",se)):c("",!0),e.type==="url"?(t(),a("i",ne)):c("",!0)]),e.value.status==="confirmed"?(t(),a("span",{key:0,class:"icon size-12 tw-absolute -tw-translate-y-2",title:o.$t("confirmed")},ie,8,le)):c("",!0),n("a",{href:`${e.type==="url"?"":e.type==="email"?"mailto:":"tel:"}${e.value.data}`,class:"tw-truncate",onClick:l[0]||(l[0]=g=>!d(p).webView&&(o.$route.meta.menuItemType!=="frame"||e.type==="phone")?y(g,e.type,e.value.data):null)},u(e.value.value),9,re),!d(p).webView&&o.$route.meta.menuItemType!=="frame"&&d(p).is_sms_configured&&e.type==="phone"?F((t(),a("a",{key:1,class:"icon size-16",onClick:l[1]||(l[1]=g=>T(g,e.value.data))},pe)),[[d(x),o.$t("sendSMS")]]):c("",!0)],64)):c("",!0)]),e.value.ext_value&&e.type!=="address"?(t(),a("span",{key:0,title:e.value.ext_value,class:"tw-truncate gray small"},u(e.value.ext_value),9,de)):c("",!0)])}}});function _e(s){return s.value!==void 0}const fe=k({__name:"CustomFieldValue",props:{type:{},value:{},contactId:{}},setup(s){const e=s;return(i,_)=>d(_e)(e.value)?(t(),a(m,{key:0},[e.type?(t(),v(me,{key:0,value:e.value,type:e.type,"contact-id":e.contactId},null,8,["value","type","contact-id"])):(t(),a(m,{key:1},[w(u(e.value.value),1)],64))],64)):(t(),a(m,{key:1},[w(u(e.value),1)],64))}}),ke=n("span",{class:"skeleton-line"},null,-1),ye=[ke],he={key:1},ve={key:0,class:"small gray break-word tw-flex tw-items-baseline tw-gap-2 tw-mb-1"},we=k({__name:"CustomField",props:{contactId:{},label:{},skeleton:{type:Boolean},skeletonWidth:{},class:{},tooltipContent:{},tooltipPlacement:{},type:{},value:{}},setup(s){const e=s;return(i,_)=>(t(),a(m,null,[e.skeleton?(t(),a("div",{key:0,class:"skeleton",style:D(`width: ${e.skeletonWidth||100}%`)},ye,4)):c("",!0),(i.$slots.default||e.value)&&!e.skeleton?(t(),a("div",he,[e.label?(t(),a("div",ve,[n("span",null,u(e.label),1),e.tooltipContent?(t(),v(j,{key:0,content:e.tooltipContent,placement:e.tooltipPlacement,interactive:!0},null,8,["content","placement"])):c("",!0)])):c("",!0),n("div",{class:$([e.class,i.$style.text])},[i.$slots.default?E(i.$slots,"default",{key:0}):(t(),v(fe,{key:1,type:e.type,value:e.value,"contact-id":e.contactId},null,8,["type","value","contact-id"]))],2)])):c("",!0)],64))}}),be="_text_161d4_1",ge={text:be},$e={$style:ge},Fe=S(we,[["__cssModules",$e]]);export{Fe as C,j as T};
