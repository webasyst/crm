import{d as V,A as S,t as w,y as q,L as B,j as A,o as i,b as _,w as r,g as e,c as N,i as o,p as P,k as R,h as n,v as c,f as T,e as a,M as U,N as D,B as m,q as L,s as M,_ as E}from"./main-49799bbb.js";import{_ as F}from"./ViewWithSidebar.vue_vue_type_style_index_0_lang-ddb54da3.js";import{u as j}from"./FormSegmentUpdate.vue_vue_type_script_setup_true_lang-377ab6f1.js";import y from"./IframeView-7c903c8b.js";import{_ as h}from"./ComponentActivator.vue_vue_type_script_setup_true_lang-a75ddaf1.js";import{_ as z}from"./ContactsList.vue_vue_type_script_setup_true_lang-0ad475ef.js";import H from"./ContactTabs-ada1cb03.js";import{_ as K}from"./ContactInfo.vue_vue_type_script_setup_true_lang-646417b4.js";import"./CustomColumn-69543086.js";import"./FieldString-194c706e.js";import"./FieldCheckbox-3d76d976.js";import"./InputWithContacts.vue_vue_type_script_setup_true_lang-d19d385b.js";import"./UserPic-0ac47e38.js";import"./InputWithDropDown.vue_vue_type_script_setup_true_lang-6c69cc73.js";import"./MenuList-7aba2312.js";import"./DropDown-a179a782.js";import"./index-824b3191.js";import"./validation-0b7609dc.js";import"./iframeObserver-aae39d6d.js";import"./index-55296fc3.js";import"./SkeletonList-7258d9b0.js";import"./LazyLoadingWithProgress.vue_vue_type_script_setup_true_lang-2b9243c9.js";import"./EmptyList-c3da84c8.js";import"./ContactsListItems-2449c47a.js";import"./ChipsList-2cf36f72.js";import"./ContactsListItemAction.vue_vue_type_style_index_0_lang-3014a49e.js";import"./dayjs-16abfa33.js";import"./vTooltip-05cbcfb0.js";import"./WaDialogOpener.vue_vue_type_script_setup_true_lang-2cbf507f.js";import"./FormContactDelete.vue_vue_type_script_setup_true_lang-843bf35b.js";import"./WaSpinner-60e0806d.js";import"./FormContactChangeResponsible.vue_vue_type_script_setup_true_lang-1fbb6fc6.js";import"./InputWithUsers.vue_vue_type_script_setup_true_lang-2d28a965.js";import"./DropdownIncludeSegment.vue_vue_type_script_setup_true_lang-29e8aae6.js";import"./FormAddTag.vue_vue_type_script_setup_true_lang-6664f8c9.js";import"./DropdownAddTags.vue_vue_type_script_setup_true_lang-b50945ba.js";import"./useSortable-2cae4f7d.js";import"./TabList-729d80a5.js";import"./DropdownModal-424b732d.js";import"./ErrorDummy.vue_vue_type_script_setup_true_lang-8b0b14f2.js";import"./FormContactUpdate.vue_vue_type_script_setup_true_lang-94d75ad0.js";import"./fields-c0b43be5.js";import"./FieldSelect-ba9fc41b.js";import"./FormContactUpdateInfo.vue_vue_type_script_setup_true_lang-7b625765.js";import"./SortableList.vue_vue_type_script_setup_true_lang-eb182ea4.js";import"./ContactInfoUserpic.vue_vue_type_script_setup_true_lang-f586b1ed.js";import"./imageUrlToBase64-bf4bcddf.js";import"./ContactInfoTags.vue_vue_type_script_setup_true_lang-33252dc4.js";import"./TagsCloud.vue_vue_type_script_setup_true_lang-1b1fc392.js";import"./emit-3c4bd418.js";import"./ContactInfoSegments.vue_vue_type_script_setup_true_lang-a49d2e9f.js";import"./ConfirmDialog.vue_vue_type_script_setup_true_lang-a48aca33.js";import"./ButtonSubmit-f807b130.js";import"./ContactInfoResponsible.vue_vue_type_script_setup_true_lang-3dda0715.js";import"./ContactInfoPersonalAccount.vue_vue_type_script_setup_true_lang-2e57fc54.js";import"./CustomField-11c9ecf8.js";import"./TextAreaAutoresize-e338c58d.js";import"./ContactInfoFavorites.vue_vue_type_script_setup_true_lang-6943277b.js";import"./recentContacts-0e0dbd30.js";import"./ButtonFavorites.vue_vue_type_script_setup_true_lang-12bf7b2b.js";const C=s=>(L("data-v-b0798280"),s=s(),M(),s),Q={key:0,class:"sidebarHeader"},G={class:"tw-overflow-hidden"},J=C(()=>o("i",{class:"fas fa-arrow-left"},null,-1)),O={class:"tw-truncate"},W=C(()=>o("i",{class:"fas fa-list-ul black"},null,-1)),X=[W],Y=C(()=>o("i",{class:"fas fa-times black"},null,-1)),Z=[Y],x={class:"sidebarContainer"},tt={class:"sidebarList"},ot={class:"sidebarInfo"},et=V({__name:"ContactView",props:{contactId:{}},setup(s){const l=s,k=S(()=>({context_contact_id:l.contactId})),{previousFetchParams:v}=w(q()),{showSidebar:p}=w(j()),{contact:u}=w(B()),$=S(()=>{var t;return(t=u.value)!=null&&t.main&&Array.isArray(u.value.main.email)&&!u.value.main.email.length?"&noemail=1":""});return(t,d)=>{const g=A("RouterView");return i(),_(F,null,{sidebar:r(()=>{var f;return[e(m).webView?T("",!0):(i(),N("div",Q,[o("div",G,[o("a",{class:"tw-flex tw-space-x-3 tw-items-center black",onClick:d[0]||(d[0]=P(()=>{var b,I;t.$router.push(`/contact/${((I=(b=e(v))==null?void 0:b.hash)==null?void 0:I.replace("import/","import/result/").replace("crmSearch/","search/result/"))??""}`)},["prevent"]))},[J,o("span",O,R((f=e(v))!=null&&f.hash?e(v).title:t.$t("allContacts")),1)])]),o("button",{class:"circle transparent",onClick:d[1]||(d[1]=b=>p.value=!e(p))},[n(o("span",null,X,512),[[c,!e(p)]]),n(o("span",null,Z,512),[[c,e(p)]])])])),o("div",x,[o("div",tt,[a(h,null,{default:r(()=>[a(z,{"fetch-params":k.value,"hide-header":!0,"active-contact-id":l.contactId},null,8,["fetch-params","active-contact-id"])]),_:1})]),o("div",ot,[a(K,{"contact-id":l.contactId},null,8,["contact-id"])])])]}),default:r(()=>[a(H,{"contact-id":l.contactId},{default:r(()=>[a(g,null,{default:r(({Component:f})=>[(i(),_(U,null,[(i(),_(D(f),{key:t.$route.fullPath}))],1024)),n(o("div",null,[a(h,null,{default:r(()=>[a(y,{src:`${e(m).baseUrl}call/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}`},null,8,["src"])]),_:1})],512),[[c,t.$route.name==="contactCallsTab"]]),n(o("div",null,[a(h,null,{default:r(()=>[(i(),_(y,{key:String(t.$route.query.conversationId)+$.value,"is-pre-fetching":!e(u),src:t.$route.query.conversationId?`${e(m).baseUrl}message/conversation/${t.$route.query.conversationId}/?iframe=1&contact=${t.$route.params.id}${$.value}`:`${e(m).baseUrl}message/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}${$.value}`,"disable-resize":!0,"fixed-height-mobile":!0},null,8,["is-pre-fetching","src"]))]),_:1})],512),[[c,t.$route.name==="contactMessagesTab"]]),n(o("div",null,[a(h,null,{default:r(()=>[a(y,{src:`${e(m).baseUrl}reminder/all/?iframe=1&contact=${t.$route.params.id}${t.$route.query.focus?"&focus=1":""}`},null,8,["src"])]),_:1})],512),[[c,t.$route.name==="contactRemindersTab"]])]),_:1})]),_:1},8,["contact-id"])]),_:1})}}});const mo=E(et,[["__scopeId","data-v-b0798280"]]);export{mo as default};
