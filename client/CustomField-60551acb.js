import{v as C}from"./ChipsList-2ef71dd1.js";import{d as k,h as F,g as d,o as t,c as a,n as $,f as l,q as B,s as V,i as s,_ as S,b as v,w as z,e as M,W,a0 as N,F as m,a3 as T,k as r,m as g,B as p,T as U,r as E}from"./main-14ee4927.js";import L from"./IframeView-9a46a878.js";const O=n=>(B("data-v-eb6c8161"),n=n(),V(),n),q=O(()=>s("i",{class:"fas fa-question-circle"},null,-1)),P=[q],R=k({__name:"TooltipIcon",props:{content:{},placement:{},triggerClick:{type:Boolean},delay:{},interactive:{type:Boolean}},setup(n){const e=n,i=document.body;return(_,y)=>e.content?F((t(),a("span",{key:0,class:$(["icon",{"tw-cursor-pointer":e.triggerClick}])},P,2)),[[d(C),{...e.placement?{placement:e.placement}:{},trigger:e.triggerClick?"click":"mouseenter",delay:e.delay||0,interactive:!!e.interactive,allowHTML:!0,content:e.content,appendTo:d(i)}]]):l("",!0)}});const j=S(R,[["__scopeId","data-v-eb6c8161"]]),H=k({__name:"IframeViewInDialog",props:{src:{}},setup(n){const e=n;return(i,_)=>(t(),v(W,{"hide-buttons":!0},{default:z(({close:y})=>[M(L,{src:e.src,"static-position":!0,"force-resize":!0,onClose:y},null,8,["src","onClose"])]),_:1}))}}),G={class:"tw-flex tw-items-baseline tw-space-x-2"},J={class:"tw-flex tw-items-baseline tw-space-x-2 tw-max-w-full"},K={class:"icon size-14"},Q=["href"],X={key:1},Y=s("span",{class:"icon size-14"},[s("i",{class:"fas fa-map-marker-alt gray"})],-1),Z={class:"break-words"},ee={class:"custom-mr-4"},te={key:0,class:"hint custom-mr-4"},ae=["href"],oe=s("i",{class:"fas fa-angle-right"},null,-1),se={class:"icon size-14"},ne={key:0,class:"fas fa-envelope tw-text-waAccent"},le={key:1,class:"fas fa-phone-alt tw-text-waAccent"},ce={key:2,class:"fas fa-link tw-text-waAccent"},ie=["title"],re=s("i",{class:"fas fa-check-circle tw-text-waAccent",style:{color:"rgb(52, 199, 89)"}},null,-1),ue=[re],pe=["href"],de=s("i",{class:"fas fa-sms"},null,-1),me=[de],_e=["title"],fe=k({__name:"CustomFieldIm",props:{value:{},type:{},contactId:{}},setup(n){const e=n,i=N(),_=i.meta.menuItemType==="deals"&&typeof i.params.id=="string"?i.params.id:null;function y(o,c,u){e.contactId&&(p.can_init_call&&c==="phone"&&w(o,`${p.baseUrl}?module=call&action=initContactDialog&contact_id=${e.contactId}&phone=${u}&iframe=1`),p.is_email_configured&&c==="email"&&w(o,`${p.baseUrl}?module=message&action=writeNewDialog&contact_id=${e.contactId}&email=${u}${_?`&deal_id=${_}`:""}&iframe=1`))}function D(o,c){w(o,`${p.baseUrl}?module=message&action=writeSMSNewDialog&contact_id=${e.contactId}&phone=${c}&iframe=1`)}function w(o,c){o.preventDefault(),U(H,{src:c}).show()}const f={im:{whatsapp:{icon:"fab fa-whatsapp",color:"#29C54D",link:"https://wa.me/{name}"},telegram:{icon:"fab fa-telegram-plane",color:"#279FDA",link:"https://t.me/{name}"},skype:{icon:"fab fa-skype",color:"#28A8EA",link:"skype:{name}?chat"},viber:{icon:"fab fa-viber",color:"#7360F4",link:"viber://chat?number={name}"},facebook:{icon:"fab fa-facebook-messenger",color:"#0084FF",link:"https://m.me/{name}"},discord:{icon:"fab fa-discord",color:"#404EED",link:""},slack:{icon:"fab fa-slack",color:"#A436AB",link:""},yahoo:{icon:"fab fa-yahoo",color:"#581cc7",link:""},custom:{icon:"fas fa-comments text-purple",color:"",link:""}},socialnetwork:{facebook:{icon:"fab fa-facebook-f",color:"#1877F2",link:"http://facebook.com/{name}"},twitter:{icon:"fab fa-twitter",color:"#29A6F3",link:"http://twitter.com/{name}"},linkedin:{icon:"fab fa-linkedin-in",color:"#0078B6",link:""},vkontakte:{icon:"fab fa-vk",color:"#2787F5",link:"http://vk.com/{name}"},instagram:{icon:"fab fa-instagram",color:"#FF2565",link:""},custom:{icon:"fas fa-comments text-purple",color:"",link:""}}};function A(o,c,u){try{const h=new URL(o);return o}catch{return u==="telegram"&&(o=o.startsWith("@")?o.slice(1):o),f[c][u].link.replace("{name}",o)}}return(o,c)=>{var u,h,x,I;return t(),a("div",G,[s("div",J,[["im","socialnetwork"].includes(e.type)?(t(),a(m,{key:0},[s("span",K,[s("i",{class:$(((u=f[e.type][e.value.ext])==null?void 0:u.icon)||f[e.type].custom.icon),style:T(`color: ${((h=f[e.type][e.value.ext])==null?void 0:h.color)||f[e.type].custom.color};`)},null,6)]),(x=f[e.type][e.value.ext])!=null&&x.link?(t(),a("a",{key:0,href:A(e.value.data,e.type,e.value.ext),class:"tw-truncate",target:"_blank"},r(e.value.value),9,Q)):(t(),a("span",X,r(e.value.value),1))],64)):e.type==="address"?(t(),a(m,{key:1},[Y,s("div",Z,[s("span",ee,r(e.value.value),1),e.value.ext_value?(t(),a("span",te,r(e.value.ext_value),1)):l("",!0),e.value.map_url?(t(),a("a",{key:1,href:e.value.map_url,target:"_blank",class:"nowrap"},[g(r(o.$t("map"))+" ",1),oe],8,ae)):l("",!0)])],64)):["phone","email","url"].includes(e.type)&&((I=e.value.value)!=null&&I.trim())?(t(),a(m,{key:2},[s("span",se,[e.type==="email"?(t(),a("i",ne)):l("",!0),e.type==="phone"?(t(),a("i",le)):l("",!0),e.type==="url"?(t(),a("i",ce)):l("",!0)]),e.value.status==="confirmed"?(t(),a("span",{key:0,class:"icon size-12 tw-absolute -tw-translate-y-2",title:o.$t("confirmed")},ue,8,ie)):l("",!0),s("a",{href:`${e.type==="url"?"":e.type==="email"?"mailto:":"tel:"}${e.value.data}`,class:"tw-truncate",onClick:c[0]||(c[0]=b=>!d(p).webView&&(o.$route.meta.menuItemType!=="frame"||e.type==="phone")?y(b,e.type,e.value.data):null)},r(e.value.value),9,pe),!d(p).webView&&o.$route.meta.menuItemType!=="frame"&&d(p).is_sms_configured&&e.type==="phone"?F((t(),a("a",{key:1,class:"icon size-16",onClick:c[1]||(c[1]=b=>D(b,e.value.data))},me)),[[d(C),o.$t("sendSMS")]]):l("",!0)],64)):l("",!0)]),e.value.ext_value&&e.type!=="address"?(t(),a("span",{key:0,title:e.value.ext_value,class:"tw-truncate gray small"},r(e.value.ext_value),9,_e)):l("",!0)])}}});function ke(n){return n.value!==void 0}const ye=k({__name:"CustomFieldValue",props:{type:{},value:{},contactId:{}},setup(n){const e=n;return(i,_)=>d(ke)(e.value)?(t(),a(m,{key:0},[e.type?(t(),v(fe,{key:0,value:e.value,type:e.type,"contact-id":e.contactId},null,8,["value","type","contact-id"])):(t(),a(m,{key:1},[g(r(e.value.value),1)],64))],64)):(t(),a(m,{key:1},[g(r(e.value),1)],64))}}),he=s("span",{class:"skeleton-line"},null,-1),ve=[he],we={key:1},be={key:0,class:"small gray break-word tw-flex tw-items-baseline tw-gap-2 tw-mb-1"},ge=k({__name:"CustomField",props:{contactId:{},label:{},skeleton:{type:Boolean},skeletonWidth:{},class:{},tooltipContent:{},tooltipPlacement:{},type:{},value:{}},setup(n){const e=n;return(i,_)=>(t(),a(m,null,[e.skeleton?(t(),a("div",{key:0,class:"skeleton",style:T(`width: ${e.skeletonWidth||100}%`)},ve,4)):l("",!0),(i.$slots.default||e.value)&&!e.skeleton?(t(),a("div",we,[e.label?(t(),a("div",be,[s("span",null,r(e.label),1),e.tooltipContent?(t(),v(j,{key:0,content:e.tooltipContent,placement:e.tooltipPlacement,interactive:!0},null,8,["content","placement"])):l("",!0)])):l("",!0),s("div",{class:$([e.class,i.$style.text])},[i.$slots.default?E(i.$slots,"default",{key:0}):(t(),v(ye,{key:1,type:e.type,value:e.value,"contact-id":e.contactId},null,8,["type","value","contact-id"]))],2)])):l("",!0)],64))}}),$e="_text_161d4_1",xe={text:$e},Ie={$style:xe},Te=S(ge,[["__cssModules",Ie]]);export{Te as C,j as T};
