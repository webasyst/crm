import{d as v,ai as k,aj as C,j as g,o as p,c as _,i as e,e as o,w as i,k as l,f,m as x,p as S,Y as u,ah as I,q as N,s as y,ag as O,_ as A}from"./main-ad3d4b2a.js";import{_ as E}from"./WaDialogOpener.vue_vue_type_script_setup_true_lang-55644d30.js";import{D as L,a as B,_ as T,b as $,c as R}from"./DealHeaderButtonReopen.vue_vue_type_script_setup_true_lang-14c9ef48.js";import{b as F}from"./tags-66e0142b.js";import{_ as M}from"./DealNavigateBack.vue_vue_type_script_setup_true_lang-5146d9b0.js";import"./ButtonSubmit-66512fc6.js";import"./WaDialog-48ef549a.js";import"./UserPic-e76d468d.js";import"./MenuList-d27c7173.js";import"./funnels-5e77cb0b.js";import"./dealStageChanger-04c6c77c.js";import"./emit-32ce2ce5.js";import"./helpers-c0c14d27.js";import"./FieldSelect-fbb8732d.js";import"./DropDown-6640089d.js";import"./index-f0757591.js";import"./InputWithPerformers.vue_vue_type_script_setup_true_lang-c5140a20.js";import"./recentContacts-6dcec390.js";import"./CustomColumn-d0d2dfb9.js";import"./index-38eb481c.js";import"./DropdownAddTags.vue_vue_type_script_setup_true_lang-3dd59e88.js";import"./ChipsList-007889bd.js";import"./FieldString-77b19497.js";import"./TagsCloud.vue_vue_type_script_setup_true_lang-fe2c5a56.js";import"./IconButton-65105cac.js";import"./vTooltip-c8fe82a0.js";import"./CustomField-495187e4.js";import"./IframeView-502df974.js";import"./iframeObserver-2315e964.js";import"./dayjs-e01b34a2.js";import"./date-5bb5c85b.js";import"./currency-format-ea9c59e9.js";import"./DropdownModal-ddc95c01.js";import"./fields-00e92370.js";import"./FieldCheckbox-ea76a60e.js";import"./SkeletonList-22bbddc4.js";import"./EmptyList-a90c3660.js";import"./validation-32ee062c.js";const w=s=>(N("data-v-cbf65af1"),s=s(),y(),s),P={class:"form-deal-info"},V={class:"!tw-mb-2 !tw-pb-2 tw-sticky tw-top-0 tw-pt-4 tw-bg-inherit tw-z-10"},Y={class:"tw-mb-4 tw-space-y-3"},j={class:"tw-min-h-[2.5rem]"},H={class:"tw-flex tw-items-center tw-gap-3"},q=["href"],z=w(()=>e("i",{class:"fas fa-external-link-alt"},null,-1)),J=[z],U={key:0,class:"!tw-mt-2"},G={key:0,class:"form-deal-info__lost-text tw-mt-1"},K=["onClick"],Q=w(()=>e("span",{class:"icon text-red"},[e("i",{class:"fas fa-trash-alt"})],-1)),W=v({__name:"FormDealContact",props:{dealId:{}},setup(s){const d=s,r=F();let n;k(()=>{r.fetchById(d.dealId)}),C(()=>r.deal,a=>{if(!a)return;const c=JSON.stringify(a);n!==c&&(n&&h(),n=c)},{immediate:!0,deep:!0,debounce:200});function h(){u(O).emit(r.deal)}function b(){u(I).emit()}return(a,c)=>{const D=g("RouterLink");return p(),_("div",P,[e("div",V,[o(M)]),o(R,null,{top:i(({deal:t})=>[e("div",Y,[e("div",j,[o(L,{"deal-id":t.id,"deal-name":t.name,"can-edit":t.rights.can_edit,"is-closed":t.status_id!=="OPEN","disable-center-mobile":!0},null,8,["deal-id","deal-name","can-edit","is-closed"])]),e("div",H,[o(B),o(D,{to:{name:"deal",params:{id:d.dealId}},custom:""},{default:i(({href:m})=>[e("a",{class:"button blank circle smaller !tw-text-waAccent hover:!tw-text-waAccentHover",target:"_blank",href:m},J,8,q)]),_:1},8,["to"])]),t.status_id!=="OPEN"?(p(),_("div",U,[o(T),t.status_id==="LOST"&&t.lost_text?(p(),_("div",G,l(t.lost_text),1)):f("",!0)])):f("",!0)])]),bottom:i(({deal:t})=>[o(E,{component:$,"component-props":{dealId:t.id,dealName:t.name,disableDealsPageRedirect:!0,callbackSuccess:()=>{b(),a.$router.back()}}},{default:i(({open:m})=>[e("button",{class:"button light-gray tw-w-fit !tw-mt-8",onClick:S(m,["prevent"])},[Q,x(" "+l(a.$t("delete")),1)],8,K)]),_:2},1032,["component-props"])]),_:1})])}}});const Rt=A(W,[["__scopeId","data-v-cbf65af1"]]);export{Rt as default};
