import{d as v,ax as x,ao as k,ay as C,m as g,o as d,c as _,a as e,b as o,w as i,p,j as f,A as y,e as S,V as u,aw as N,s as I,x as A,av as O,_ as E}from"./main-2290994d.js";import{_ as L}from"./WaDialogOpener.vue_vue_type_script_setup_true_lang-41c5f744.js";import{_ as B,a as T}from"./DealNavigateBack.vue_vue_type_script_setup_true_lang-f1507124.js";import{D as $,a as R,_ as F,b as V}from"./DealHeaderButtonReopen.vue_vue_type_script_setup_true_lang-5e2f3c5c.js";import"./ButtonSubmit-4410c58d.js";import"./UserPic-f44f080b.js";import"./DropDown-9065f982.js";import"./index-0b6b9def.js";import"./emit-692c947e.js";import"./dealStageChanger-141c6214.js";import"./alert-f02e40a8.js";import"./FieldSelect-bea6b277.js";import"./DropDownButton-495429ba.js";import"./DropdownAddTags.vue_vue_type_script_setup_true_lang-02a4ee0d.js";import"./CustomColumn-c63128eb.js";import"./ChipsList-0fe31c28.js";import"./FieldCheckbox-4d368f68.js";import"./index-6e4a059f.js";import"./TagsCloud.vue_vue_type_script_setup_true_lang-b20f1c85.js";import"./fields-7ab6f7f6.js";import"./IconButton-aa8f99d3.js";import"./vTooltip-95186f83.js";import"./CustomField-6450664d.js";import"./IframeView-4c556b87.js";import"./iframeObserver-d581afdd.js";import"./InputWithPerformers.vue_vue_type_script_setup_true_lang-ca873d3d.js";import"./recentContacts-a3525f5f.js";import"./dayjs-910ec40d.js";import"./date-18c3b35b.js";import"./currency-format-433ea0a4.js";import"./DropdownModal-7cbbc57e.js";import"./object_hash-b6864a68.js";import"./dealFields-e5577c1a.js";import"./TabContentIframe.vue_vue_type_script_setup_true_lang-74002775.js";import"./SkeletonList-1c6858f7.js";import"./EmptyList-239f0622.js";import"./validation-5af53256.js";const w=s=>(I("data-v-1cbff0d6"),s=s(),A(),s),M={class:"form-deal-info"},P={class:"!tw-mb-2 !tw-pb-2 tw-sticky tw-top-0 tw-pt-4 tw-bg-inherit tw-z-10"},H={class:"tw-mb-4 tw-space-y-3"},Y={class:"tw-min-h-[2.5rem] tw-flex tw-flex-col"},j={class:"gray small"},z={class:"tw-flex tw-items-center tw-gap-3"},J=["href"],U=w(()=>e("i",{class:"fas fa-external-link-alt"},null,-1)),q=[U],G={key:0,class:"!tw-mt-2"},K={key:0,class:"form-deal-info__lost-text tw-mt-1"},Q=["onClick"],W=w(()=>e("span",{class:"icon text-red"},[e("i",{class:"fas fa-trash-alt"})],-1)),X=v({__name:"FormDealContact",props:{dealId:{}},setup(s){const l=s,r=x();let n;k(()=>{r.fetchById(l.dealId)}),C(()=>r.deal,a=>{if(!a)return;const c=JSON.stringify(a);n!==c&&(n&&h(),n=c)},{immediate:!0,deep:!0,debounce:200});function h(){u(O).emit(r.deal)}function b(){u(N).emit()}return(a,c)=>{const D=g("RouterLink");return d(),_("div",M,[e("div",P,[o(B)]),o(V,null,{top:i(({deal:t})=>[e("div",H,[e("div",Y,[o($,{"deal-id":t.id,"deal-name":t.name,"can-edit":t.rights.can_edit,"is-closed":t.status_id!=="OPEN","disable-center-mobile":!0},null,8,["deal-id","deal-name","can-edit","is-closed"]),e("span",j," id: "+p(t.id),1)]),e("div",z,[o(R),o(D,{to:{name:"deal",params:{id:l.dealId}},custom:""},{default:i(({href:m})=>[e("a",{class:"button blank circle smaller !tw-text-waAccent hover:!tw-text-waAccentHover",target:"_blank",href:m},q,8,J)]),_:1},8,["to"])]),t.status_id!=="OPEN"?(d(),_("div",G,[o(F),t.status_id==="LOST"&&t.lost_text?(d(),_("div",K,p(t.lost_text),1)):f("",!0)])):f("",!0)])]),bottom:i(({deal:t})=>[o(L,{component:T,"component-props":{ids:[t.id],dealName:t.name,disableDealsPageRedirect:!0,callbackSuccess:()=>{b(),a.$router.back()}}},{default:i(({open:m})=>[e("button",{class:"button light-gray tw-w-fit !tw-mt-8",onClick:S(m,["prevent"])},[W,y(" "+p(a.$t("delete")),1)],8,Q)]),_:2},1032,["component-props"])]),_:1})])}}});const Rt=E(X,[["__scopeId","data-v-1cbff0d6"]]);export{Rt as default};
