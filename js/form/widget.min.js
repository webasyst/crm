!function(){"use strict";var e=[],t=[];!function(i,n){if(i&&"undefined"!=typeof document){var a,r=!0===n.prepend?"prepend":"append",o=!0===n.singleTag,d="string"==typeof n.container?document.querySelector(n.container):document.getElementsByTagName("head")[0];if(o){var s=e.indexOf(d);-1===s&&(s=e.push(d)-1,t[s]={}),a=t[s]&&t[s][r]?t[s][r]:t[s][r]=l()}else a=l();65279===i.charCodeAt(0)&&(i=i.substring(1)),a.styleSheet?a.styleSheet.cssText+=i:a.appendChild(document.createTextNode(i))}function l(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),n.attributes)for(var t=Object.keys(n.attributes),i=0;i<t.length;i++)e.setAttribute(t[i],n.attributes[t[i]]);var a="prepend"===r?"afterbegin":"beforeend";return d.insertAdjacentElement(a,e),e}}("body.wa-embeded-widget-opened {\n    overflow: hidden;\n}\n\n#wa-embeded-widget-iframe {\n    padding: 24px 40px 40px 40px;\n    background: #fff;\n}\n\n@media (prefers-color-scheme: dark) {\n    #wa-embeded-widget-iframe {\n        background: rgba(57, 57, 57, 1);\n    }\n}\n\n[data-theme=\"light\"] #wa-embeded-widget-iframe,\n#wa-embeded-widget-iframe[data-theme=\"light\"] {\n    background: #fff;\n}\n\n[data-theme=\"dark\"] #wa-embeded-widget-iframe,\n#wa-embeded-widget-iframe[data-theme=\"dark\"] {\n    background: rgba(57, 57, 57, 1);\n}\n\n@media screen and (max-width: 760px) {\n    #wa-embeded-widget-iframe {\n        padding: 24px;\n    }\n}\n\n.wa-embeded-widget-fab {\n    position: fixed;\n    bottom: 40px;\n    right: 40px;\n    background-color: rgba(14, 162, 108, 1);\n    width: 60px;\n    height: 60px;\n    border-radius: 80px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    overflow: hidden;\n    z-index: 9999;\n    cursor: pointer;\n    border: solid 2px #fff;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 14px;\n    transition: scale .2s;\n}\n\n.wa-embeded-widget-fab:hover {\n    scale: 1.08;\n}\n\n.wa-embeded-widget-fab::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100px;\n    width: 80px;\n    height: 100%;\n    background: linear-gradient(\n        90deg,\n        transparent,\n        rgba(255, 255, 255, 0.2),\n        rgba(255, 255, 255, 0.4),\n        rgba(255, 255, 255, 0.2),\n        transparent\n    );\n    transform: skewX(-20deg);\n    animation: sweep 4s infinite;\n    filter: blur(1px);\n}\n\n.wa-embeded-widget-fab--text {\n    padding-left: 26px;\n    padding-right: 26px;\n    max-width: 200px;\n    width: auto;\n    font-size: 18px;\n    color: white;\n}\n\n.wa-embeded-widget-fab--icon {\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 26px;\n}\n.wa-embeded-widget-fab--icon.wa-embeded-widget-fab--text {\n    padding-left: 60px;\n    background-position: 20px center;\n}\n\n.wa-embeded-widget-iframe-header {\n    display: flex;\n    flex: none;\n    align-items: start;\n    margin-bottom: 42px;\n}\n\n.wa-embeded-widget-iframe-drawer {\n    position: relative;\n    flex: auto;\n    overflow-y: auto;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n}\n\n.wa-embeded-widget-iframe-drawer::-webkit-scrollbar {\n    display: none;\n}\n\n.wa-embeded-widget-iframe-brending {\n    font-size: 14px;\n    color: #ccc;\n    flex: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: .5rem;\n    margin-top: 2rem;\n\n    a {\n        color: #898989;\n        text-decoration: none;\n    }\n}\n\n.wa-embeded-widget-iframe-title {\n    font-weight: bold;\n    font-size: 28px;\n    line-height: 120%;\n    color: rgba(34, 34, 34, 1);\n}\n\n@media (prefers-color-scheme: dark) {\n    .wa-embeded-widget-iframe-title {\n        color: rgba(240, 240, 240, 1);\n    }\n}\n\n[data-theme=\"light\"] .wa-embeded-widget-iframe-title {\n    color: rgba(34, 34, 34, 1);\n}\n\n[data-theme=\"dark\"] .wa-embeded-widget-iframe-title {\n    color: rgba(240, 240, 240, 1);\n}\n\n@media screen and (max-width: 760px) {\n    .wa-embeded-widget-iframe-title {\n        font-size: 24px;\n    }\n}\n\n.wa-embeded-widget-iframe-close {\n    margin-left: auto;\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n\n    background-image: url(\"data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='40' height='40' rx='20' fill='%23EBEBEB'/%3E%3Cpath opacity='0.5' d='M25.5283 11.8516C26.1141 11.2658 27.0636 11.2658 27.6494 11.8516C28.2351 12.4374 28.2351 13.3869 27.6494 13.9727L22.1211 19.5L27.6494 25.0273C28.2351 25.6131 28.2351 26.5636 27.6494 27.1494C27.0637 27.7348 26.114 27.7347 25.5283 27.1494L20 21.6211L14.4727 27.1494C13.887 27.7348 12.9373 27.7347 12.3516 27.1494C11.7658 26.5636 11.7658 25.6131 12.3516 25.0273L17.8789 19.5L12.3516 13.9727C11.7658 13.3869 11.7658 12.4374 12.3516 11.8516C12.9373 11.2658 13.8869 11.2658 14.4727 11.8516L20 17.3789L25.5283 11.8516Z' fill='%23222222'/%3E%3C/svg%3E\");\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n}\n\n@media (prefers-color-scheme: dark) {\n    .wa-embeded-widget-iframe-close {\n        background-image: url(\"data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='40' height='40' rx='20' fill='%23808080' fill-opacity='0.4'/%3E%3Cpath opacity='0.5' d='M25.5283 11.8516C26.1141 11.2658 27.0636 11.2658 27.6494 11.8516C28.2351 12.4374 28.2351 13.3869 27.6494 13.9727L22.1211 19.5L27.6494 25.0273C28.2351 25.6131 28.2351 26.5636 27.6494 27.1494C27.0637 27.7348 26.114 27.7347 25.5283 27.1494L20 21.6211L14.4727 27.1494C13.887 27.7348 12.9373 27.7347 12.3516 27.1494C11.7658 26.5636 11.7658 25.6131 12.3516 25.0273L17.8789 19.5L12.3516 13.9727C11.7658 13.3869 11.7658 12.4374 12.3516 11.8516C12.9373 11.2658 13.8869 11.2658 14.4727 11.8516L20 17.3789L25.5283 11.8516Z' fill='%23F0F0F0'/%3E%3C/svg%3E\");\n    }\n}\n\n[data-theme=\"light\"] .wa-embeded-widget-iframe-close {\n    background-image: url(\"data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='40' height='40' rx='20' fill='%23EBEBEB'/%3E%3Cpath opacity='0.5' d='M25.5283 11.8516C26.1141 11.2658 27.0636 11.2658 27.6494 11.8516C28.2351 12.4374 28.2351 13.3869 27.6494 13.9727L22.1211 19.5L27.6494 25.0273C28.2351 25.6131 28.2351 26.5636 27.6494 27.1494C27.0637 27.7348 26.114 27.7347 25.5283 27.1494L20 21.6211L14.4727 27.1494C13.887 27.7348 12.9373 27.7347 12.3516 27.1494C11.7658 26.5636 11.7658 25.6131 12.3516 25.0273L17.8789 19.5L12.3516 13.9727C11.7658 13.3869 11.7658 12.4374 12.3516 11.8516C12.9373 11.2658 13.8869 11.2658 14.4727 11.8516L20 17.3789L25.5283 11.8516Z' fill='%23222222'/%3E%3C/svg%3E\");\n}\n\n[data-theme=\"dark\"] .wa-embeded-widget-iframe-close {\n    background-image: url(\"data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='40' height='40' rx='20' fill='%23808080' fill-opacity='0.4'/%3E%3Cpath opacity='0.5' d='M25.5283 11.8516C26.1141 11.2658 27.0636 11.2658 27.6494 11.8516C28.2351 12.4374 28.2351 13.3869 27.6494 13.9727L22.1211 19.5L27.6494 25.0273C28.2351 25.6131 28.2351 26.5636 27.6494 27.1494C27.0637 27.7348 26.114 27.7347 25.5283 27.1494L20 21.6211L14.4727 27.1494C13.887 27.7348 12.9373 27.7347 12.3516 27.1494C11.7658 26.5636 11.7658 25.6131 12.3516 25.0273L17.8789 19.5L12.3516 13.9727C11.7658 13.3869 11.7658 12.4374 12.3516 11.8516C12.9373 11.2658 13.8869 11.2658 14.4727 11.8516L20 17.3789L25.5283 11.8516Z' fill='%23F0F0F0'/%3E%3C/svg%3E\");\n}\n\n.wa-embeded-widget-iframe-close:hover {\n    opacity: 0.8;\n    transition: all .3s;\n}\n\n.wa-embeded-widget-iframe-loader {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: #fff;\n    z-index: 1;\n    font-family: sans-serif;\n    color: #666;\n}\n\n@media (prefers-color-scheme: dark) {\n    .wa-embeded-widget-iframe-loader {\n        background: rgba(57, 57, 57, 1);\n    }\n}\n\n[data-theme=\"light\"] .wa-embeded-widget-iframe-loader {\n    background: #fff;\n}\n\n[data-theme=\"dark\"] .wa-embeded-widget-iframe-loader {\n    background: rgba(57, 57, 57, 1);\n}\n\n.wa-embeded-widget-iframe-spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid #ccc;\n    border-top: 4px solid #666;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    from {\n        transform: rotate(0deg);\n    }\n\n    to {\n        transform: rotate(360deg);\n    }\n}\n\n\n.wa-embeded-widget-fab--icon[data-icon=\"fas fa-phone\"] {\n  background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='%23fff' d='M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z'/></svg>\");\n}\n\n.wa-embeded-widget-fab--icon[data-icon=\"fas fa-comment-dots\"] {\n  background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='%23fff' d='M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z'/></svg>\");\n}\n\n.wa-embeded-widget-fab--icon[data-icon=\"fas fa-question-circle\"] {\n  background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='%23fff' d='M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z'/></svg>\");\n}\n\n.wa-embeded-widget-fab--icon[data-icon=\"fas fa-envelope\"] {\n  background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='%23fff' d='M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z'/></svg>\");\n}\n\n.wa-embeded-widget-fab--icon[data-icon=\"fas fa-bell\"] {\n  background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512'><path fill='%23fff' d='M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z'/></svg>\");\n}\n\n.wa-embeded-widget-fab--icon[data-icon=\"fas fa-info-circle\"] {\n  background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='%23fff' d='M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z'/></svg>\");\n}\n\n.wa-embeded-widget-fab--icon[data-icon=\"fas fa-concierge-bell\"] {\n  background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='%23fff' d='M288 130.54V112h16c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h16v18.54C115.49 146.11 32 239.18 32 352h448c0-112.82-83.49-205.89-192-221.46zM496 384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z'/></svg>\");\n}\n\n.wa-embeded-widget-fab--icon[data-icon=\"fas fa-life-ring\"] {\n  background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='%23fff' d='M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm173.696 119.559l-63.399 63.399c-10.987-18.559-26.67-34.252-45.255-45.255l63.399-63.399a218.396 218.396 0 0 1 45.255 45.255zM256 352c-53.019 0-96-42.981-96-96s42.981-96 96-96 96 42.981 96 96-42.981 96-96 96zM127.559 82.304l63.399 63.399c-18.559 10.987-34.252 26.67-45.255 45.255l-63.399-63.399a218.372 218.372 0 0 1 45.255-45.255zM82.304 384.441l63.399-63.399c10.987 18.559 26.67 34.252 45.255 45.255l-63.399 63.399a218.396 218.396 0 0 1-45.255-45.255zm302.137 45.255l-63.399-63.399c18.559-10.987 34.252-26.67 45.255-45.255l63.399 63.399a218.403 218.403 0 0 1-45.255 45.255z'/></svg>\");\n}\n\n\n@keyframes sweep {\n    0% {\n        left: -100px;\n        opacity: 0;\n        transform: skewX(-20deg) scaleY(0.5);\n    }\n    20% {\n        opacity: 1;\n        transform: skewX(-20deg) scaleY(1);\n    }\n    80% {\n        opacity: 1;\n        transform: skewX(-20deg) scaleY(1);\n    }\n    100% {\n        left: 520px;\n        opacity: 0;\n        transform: skewX(-20deg) scaleY(0.5);\n    }\n}",{}),function(){function e(e,t,i){"addEventListener"in window?e.addEventListener(t,i,!1):"attachEvent"in window&&e.attachEvent("on"+t,i)}function t(e){y.log&&"object"==typeof console&&console.log(h+"[Host page"+p+"]"+e)}function i(){null!==w&&(window.scrollTo(w.x,w.y),t(" Set position: "+w.x+","+w.y),w=null)}function n(e){t(" Size reset requested by "+("init"===e.type?"host page":"iFrame")),null===w&&t(" Get position: "+(w={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop}).x+","+w.y),r(function(){a(e),o("reset","reset",e.iframe)},e,"init")}function a(e){function i(i){e.iframe.style[i]=e[i]+"px",t(" IFrame ("+e.iframe.id+") "+i+" set to "+e[i]+"px")}y.sizeHeight&&i("height"),y.sizeWidth&&i("width")}function r(e,i,n){n!==i.type&&u?(t(" Requesting animation frame"),u(e)):e()}function o(e,i,n){t("["+e+"] Sending msg to iframe ("+i+")"),n.contentWindow.postMessage(h+i,"*")}function d(){var i=this,a=function(e){return""===e&&(i.id=e="iFrameResizer"+c++,t(" Added missing iframe ID: "+e+" ("+i.src+")")),e}(i.id);t(" IFrame scrolling "+(y.scrolling?"enabled":"disabled")+" for "+a),i.style.overflow=!1===y.scrolling?"hidden":"auto",i.scrolling=!1===y.scrolling?"no":"yes",function(){function e(e){1/0!==y[e]&&0!==y[e]&&(i.style[e]=y[e]+"px",t(" Set "+e+" = "+y[e]+"px"))}e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),("number"==typeof y.bodyMargin||"0"===y.bodyMargin)&&(y.bodyMarginV1=y.bodyMargin,y.bodyMargin=y.bodyMargin+"px"),function(t){e(i,"load",function(){var e=m;o("iFrame.onload",t,i),!e&&y.heightCalculationMethod in b&&n({iframe:i,height:0,width:0,type:"init"})}),o("init",t,i)}(a+":"+y.bodyMarginV1+":"+y.sizeWidth+":"+y.log+":"+y.interval+":"+y.enablePublicMethods+":"+y.autoResize+":"+y.bodyMargin+":"+y.heightCalculationMethod+":"+y.bodyBackground+":"+y.bodyPadding+":"+y.tolerance)}function s(e){if("object"!=typeof e)throw new TypeError("Options is not an object.")}function l(){function e(e){if("IFRAME"!==e.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+e.tagName+">.");d.call(e)}return function(t,i){(function(e){for(var t in s(e=e||{}),x)x.hasOwnProperty(t)&&(y[t]=e.hasOwnProperty(t)?e[t]:x[t])})(t),Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),e)}}var c=0,m=!0,f=7,h="[iFrameSizer]",g=h.length,p="",w=null,u=window.requestAnimationFrame,b={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},y={},x={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,enablePublicMethods:!1,heightCalculationMethod:"offset",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,closedCallback:function(){},initCallback:function(){},messageCallback:function(){},resizedCallback:function(){}};(function(){var e,i=["moz","webkit","o","ms"];for(e=0;e<i.length&&!u;e+=1)u=window[i[e]+"RequestAnimationFrame"];u||t(" RequestAnimationFrame not supported")})(),e(window,"message",function(e){function o(){r(function(){a(l),i(),y.resizedCallback(l)},l,"resetPage")}function d(e){var i=Number(y["max"+e]),n=Number(y["min"+e]),a=e.toLowerCase(),r=Number(l[a]);if(n>i)throw new Error("Value for min"+e+" can not be greater than max"+e);t(" Checking "+a+" is in range "+n+"-"+i),n>r&&(r=n,t(" Set "+a+" to min value")),r>i&&(r=i,t(" Set "+a+" to max value")),l[a]=""+r}var s=e.data,l={};h===(""+s).substr(0,g)&&(t(" Received: "+s),l=function(){var e=s.substr(g).split(":");return{iframe:document.getElementById(e[0]),id:e[0],height:e[1],width:e[2],type:e[3]}}(),d("Height"),d("Width"),!function(){var e=l.type in{true:1,false:1};return e&&t(" Ignoring init message from meta parent page"),e}()&&function(){if(null===l.iframe)throw new Error("iFrame ("+l.id+") does not exist on "+p);return!0}()&&function(){var i=e.origin,n=l.iframe.src.split("/").slice(0,3).join("/");if(y.checkOrigin&&(t(" Checking connection is from: "+n),""+i!="null"&&i!==n))throw new Error("Unexpected message received from: "+i+" for "+l.iframe.id+". Message was: "+e.data+". This error can be disabled by adding the checkOrigin: false option.");return!0}()&&(function(){switch(l.type){case"close":(function(e){var i=e.id;t(" Removing iFrame: "+i),e.parentNode.removeChild(e),y.closedCallback(i),t(" --")})(l.iframe),y.resizedCallback(l);break;case"message":!function(){var e=s.substr(s.indexOf(":")+f+6);t(" MessageCallback passed: {iframe: "+l.iframe.id+", message: "+e+"}"),y.messageCallback({iframe:l.iframe,message:e}),t(" --")}();break;case"scrollTo":t(" Reposition requested from iFrame"),w={x:l.width,y:l.height},i();break;case"reset":n(l);break;case"init":o(),y.initCallback(l.iframe);break;default:o()}}(),m=!1))}),window.jQuery&&function(e){e.fn.iFrameResize=function(t){return s(t=t||{}),y=e.extend({},x,t),this.filter("iframe").each(d).end()}}(jQuery),"function"==typeof define&&define.amd?define(function(){return l()}):window.iFrameResize=l()}(),(()=>{class e{constructor(e){this.isValidOptions(e)&&(this.iframeUrl=e.iframe_url,this.header=e.header||"",this.theme=e.theme,this.displayContainer=e.display_container||"dialog",this.displayConditions=e.display_conditions,this.displayFabText=e.display_fab_text,this.displayFabColor=e.display_fab_color,this.displayTimeout=e.display_timeout,this.container=e.container,this.customElement=e.custom_element,this.showAfterTimeout=e.show_after_timeout||864e5,this.displayScroll=e.display_scroll,this.maxWidth=e.max_width||400,this.noBrending=e.no_brending,this.displayFabIcon=e.display_fab_icon,this.iframeId=`wa-crm-iframe-${this.generateUniqueId()}`,this.locale=e.locale||"en",this.powered_by='<a href="https://www.webasyst.com/store/app/crm/" target="_blank" rel="noopener">Powered by Webasyst CRM</a>',"ru"==this.locale&&(this.powered_by='<a href="https://www.webasyst.ru/store/app/crm/" target="_blank" rel="noopener">Работает на Webasyst CRM</a>'),this.panel=null,this.overlay=null,this.escHandlerInited=!1,this.availableIcons=["fas fa-phone","fas fa-comment-dots","fas fa-question-circle","fas fa-envelope","fas fa-bell","fas fa-info-circle","fas fa-concierge-bell","fas fa-life-ring"],"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.init()):this.init())}isValidOptions(e){try{if(!e||"object"!=typeof e)throw new Error("CRMFormEmbedded: options должен быть объектом");if(!e.iframe_url)throw new Error("CRMFormEmbedded: параметр iframe_url обязателен");if("string"!=typeof e.iframe_url)throw new Error("CRMFormEmbedded: iframe_url должен быть строкой");try{new URL(e.iframe_url)}catch(e){throw new Error("CRMFormEmbedded: iframe_url должен быть валидным URL")}if(void 0!==e.header&&"string"!=typeof e.header)throw new Error("CRMFormEmbedded: header должен быть строкой");if(void 0!==e.theme&&"string"!=typeof e.theme)throw new Error("CRMFormEmbedded: theme должен быть строкой");if(void 0!==e.display_fab_text&&"string"!=typeof e.display_fab_text)throw new Error("CRMFormEmbedded: display_fab_text должен быть строкой");if(void 0!==e.container&&"string"!=typeof e.container)throw new Error("CRMFormEmbedded: container должен быть строкой");if(void 0!==e.custom_element&&"string"!=typeof e.custom_element)throw new Error("CRMFormEmbedded: custom_element должен быть строкой");if(void 0!==e.display_fab_icon&&"string"!=typeof e.display_fab_icon)throw new Error("CRMFormEmbedded: display_fab_icon должен быть строкой");if(void 0!==e.display_container){const t=["dialog","drawer"];if(!t.includes(e.display_container))throw new Error(`CRMFormEmbedded: display_container должен быть одним из: ${t.join(", ")}`)}if(void 0!==e.display_conditions){const t=["fab","inline"];if(!t.includes(e.display_conditions))throw new Error(`CRMFormEmbedded: display_conditions должен быть одним из: ${t.join(", ")}`)}if(void 0!==e.display_timeout&&(!this.isValidNumber(e.display_timeout)||e.display_timeout<0))throw new Error("CRMFormEmbedded: display_timeout должен быть неотрицательным числом");if(void 0!==e.show_after_timeout&&(!this.isValidNumber(e.show_after_timeout)||e.show_after_timeout<0))throw new Error("CRMFormEmbedded: show_after_timeout должен быть неотрицательным числом");if(void 0!==e.display_scroll&&(!this.isValidNumber(e.display_scroll)||e.display_scroll<0))throw new Error("CRMFormEmbedded: display_scroll должен быть неотрицательным числом");if(void 0!==e.max_width&&(!this.isValidNumber(e.max_width)||e.max_width<=0))throw new Error("CRMFormEmbedded: max_width должен быть положительным числом");if(void 0!==e.no_brending&&"boolean"!=typeof e.no_brending)throw new Error("CRMFormEmbedded: no_brending должен быть boolean");return!0}catch(e){return console.error(e.message),!1}}isValidNumber(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}init(){this.createIframe(),"inline"===this.displayConditions&&this.container?this.insertFrameToContainer():(this.addScrollListener(),this.displayTimeout&&this.showContainerInAutoMode(this.displayTimeout),"fab"===this.displayConditions&&this.createCircle(),this.customElement&&this.addCustomElementHandler())}addCustomElementHandler(){document.addEventListener("click",e=>{e.target.closest(this.customElement)&&this.showContainer()})}addScrollListener(){const e=()=>{(window.scrollY||document.documentElement.scrollTop)>this.displayScroll&&(this.showContainerInAutoMode(),document.removeEventListener("scroll",e))};this.displayScroll&&document.addEventListener("scroll",e)}generateUniqueId(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}isDarkTheme(){if(this.theme)return"dark"===this.theme;try{const e=window.parent?.document?.documentElement?.dataset?.theme;if(e)return"dark"===e}catch{}return window.matchMedia?.("(prefers-color-scheme: dark)").matches??!1}createIframe(){let e=this.iframeUrl;if(this.isDarkTheme()){const t=new URL(e,window.location.origin);t.searchParams.set("theme","dark"),e=t.toString()}this.iframe=document.createElement("iframe"),this.iframe.id=this.iframeId,this.iframe.name=this.iframeId,this.iframe.src=e,this.iframe.style.width="100%",this.iframe.style.minHeight="400px",this.iframe.style.border="none",this.iframe.style.opacity="0",this.iframe.style.transition="height 0.3s ease, opacity 0.3s ease",this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("marginwidth","0"),this.iframe.setAttribute("scrolling","no")}showContainerInAutoMode(e=0){setTimeout(()=>{this.shouldShowForm()&&this.showContainer()},e)}showContainer(e=0){setTimeout(()=>{this.show({type:this.displayContainer,content:this.iframe.outerHTML})},e)}createRootElement(){const e=document.createElement("div");return e.id="wa-embeded-widget-iframe",e}createWrapper(e,t){return`\n                ${t?`\n                    <div class="wa-embeded-widget-iframe-header">\n                    <div class="wa-embeded-widget-iframe-title">${this.header}</div>\n                    <div class="wa-embeded-widget-iframe-close"></div>\n                </div>    \n                `:""}\n                <div class="wa-embeded-widget-iframe-drawer">\n                    <div class="wa-embeded-widget-iframe-loader">\n                        <div class="wa-embeded-widget-iframe-spinner"></div>\n                    </div>\n                    ${e}\n                </div>\n                ${this.noBrending?"":`<div class="wa-embeded-widget-iframe-brending">\n                    <svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_11077_59454)"><path d="M11.04 15.953c.028-.096.165-.096.192 0l.361 1.276a.348.348 0 0 0 .24.24l1.277.362c.096.027.096.163 0 .19l-1.277.362a.348.348 0 0 0-.24.24l-.361 1.276c-.027.097-.164.097-.191 0l-.362-1.276a.348.348 0 0 0-.24-.24l-1.276-.361c-.096-.027-.096-.164 0-.191l1.276-.361a.348.348 0 0 0 .24-.24l.362-1.277Z" fill="url(#paint0_linear_11077_59454)"/><path d="M17.383 10.515c.034-.118.2-.118.234 0l.441 1.56c.04.142.152.253.294.293l1.56.442c.117.033.117.2 0 .233l-1.56.442a.425.425 0 0 0-.294.293l-.441 1.56c-.034.118-.2.118-.234 0l-.441-1.56a.425.425 0 0 0-.294-.293l-1.56-.441c-.117-.034-.117-.2 0-.234l1.56-.442a.425.425 0 0 0 .294-.293l.441-1.56Z" fill="url(#paint1_linear_11077_59454)"/><path d="M6.215 10.206c.042-.15.255-.15.297 0l.562 1.985c.051.181.193.323.373.374l1.986.562c.15.042.15.255 0 .297l-1.986.562a.541.541 0 0 0-.373.374l-.562 1.985c-.042.15-.255.15-.297 0l-.562-1.985a.542.542 0 0 0-.373-.374l-1.986-.562c-.15-.042-.15-.255 0-.297l1.985-.562a.541.541 0 0 0 .374-.374l.562-1.985Z" fill="url(#paint2_linear_11077_59454)"/><path d="M1.95 5.953c.027-.096.164-.096.191 0l.361 1.276a.348.348 0 0 0 .24.24l1.277.362c.096.027.096.164 0 .19l-1.277.362a.348.348 0 0 0-.24.24L2.142 9.9c-.028.097-.165.097-.192 0l-.362-1.276a.348.348 0 0 0-.24-.24L.073 8.022c-.096-.027-.096-.164 0-.191L1.35 7.47a.348.348 0 0 0 .24-.24l.36-1.277Z" fill="url(#paint3_linear_11077_59454)"/><path d="M5.802.507c.03-.107.182-.107.213 0l.401 1.418c.037.13.138.23.267.267l1.418.401c.107.03.107.182 0 .213l-1.418.401a.387.387 0 0 0-.267.267l-.401 1.418c-.03.107-.182.107-.213 0l-.401-1.418a.387.387 0 0 0-.267-.267l-1.418-.401c-.107-.03-.107-.182 0-.213l1.418-.401a.387.387 0 0 0 .267-.267L5.802.507Z" fill="url(#paint4_linear_11077_59454)"/><path d="M17.642 1.4c.025-.085.146-.085.17 0l.322 1.135a.31.31 0 0 0 .213.213l1.134.321c.086.024.086.146 0 .17l-1.134.321a.31.31 0 0 0-.213.214l-.322 1.134c-.024.086-.145.086-.17 0l-.32-1.134a.31.31 0 0 0-.214-.214l-1.135-.32c-.085-.025-.085-.147 0-.17l1.135-.322a.31.31 0 0 0 .213-.213l.321-1.135Z" fill="url(#paint5_linear_11077_59454)"/><path d="M12.203 5.879c3.46 0 6.325 1.151 6.646 1.245.322.094.322.567 0 .66l-4.254 1.248c-.387.113-.69.427-.8.828-.11.402-1.116 4.072-1.204 4.406a.328.328 0 0 1-.637 0c-.428-1.732-.749-2.682-1.205-4.406a1.182 1.182 0 0 0-.8-.828c-1.657-.502-2.593-.76-4.254-1.247-.322-.094-.387-.503 0-.66 1.526-.62 3.046-1.246 6.508-1.246Z" fill="url(#paint6_linear_11077_59454)"/><path d="M12.292.417a2.292 2.292 0 1 1 0 4.583 2.292 2.292 0 0 1 0-4.583Z" fill="url(#paint7_linear_11077_59454)"/></g><defs><linearGradient id="paint0_linear_11077_59454" x1="21.5207" y1="15.775" x2="6.89238" y2="32.3596" gradientUnits="userSpaceOnUse"><stop offset="0.215638" stop-color="#999999"/><stop offset="0.791315" stop-color="#949494"/></linearGradient><linearGradient id="paint1_linear_11077_59454" x1="30.192" y1="10.2974" x2="12.313" y2="30.5674" gradientUnits="userSpaceOnUse"><stop offset="0.317655" stop-color="#BABABA"/><stop offset="0.577647" stop-color="#949494"/></linearGradient><linearGradient id="paint2_linear_11077_59454" x1="22.5169" y1="9.9291" x2="-0.238151" y2="35.7273" gradientUnits="userSpaceOnUse"><stop offset="0.215638" stop-color="#999999"/><stop offset="0.791315" stop-color="#949494"/></linearGradient><linearGradient id="paint3_linear_11077_59454" x1="12.4298" y1="5.77501" x2="-2.19844" y2="22.3596" gradientUnits="userSpaceOnUse"><stop offset="0.215638" stop-color="#999999"/><stop offset="0.791315" stop-color="#949494"/></linearGradient><linearGradient id="paint4_linear_11077_59454" x1="14.8091" y1="0.107188" x2="-8.83326" y2="27.7688" gradientUnits="userSpaceOnUse"><stop offset="0.19232" stop-color="#BDBDBD"/><stop offset="0.297596" stop-color="#909090"/></linearGradient><linearGradient id="paint5_linear_11077_59454" x1="26.9579" y1="1.24185" x2="13.955" y2="15.9837" gradientUnits="userSpaceOnUse"><stop offset="0.215638" stop-color="#CCCCCC"/><stop offset="0.685172" stop-color="#8C8C8C"/></linearGradient><linearGradient id="paint6_linear_11077_59454" x1="39.0111" y1="5.27172" x2="0.97381" y2="75.671" gradientUnits="userSpaceOnUse"><stop offset="0.150602" stop-color="#C1C1C1"/><stop offset="0.205293" stop-color="#9F9F9F"/></linearGradient><linearGradient id="paint7_linear_11077_59454" x1="21.2665" y1="0.0947595" x2="-2.57291" y2="27.9869" gradientUnits="userSpaceOnUse"><stop offset="0.137358" stop-color="#C4C4C4"/><stop offset="0.297596" stop-color="#9C9C9C"/></linearGradient><clipPath id="clip0_11077_59454"><rect width="20" height="20" fill="white"/></clipPath></defs></svg>\n                    ${this.powered_by}\n                </div>`}\n            `}addFrameResizer(){iFrameResize({resizedCallback:()=>{const e=document.getElementById(this.iframeId),t=document.querySelector(".wa-embeded-widget-iframe-loader");e.style.minHeight="",e.style.opacity="1",t.style.display="none"}},`#${this.iframeId}`)}insertFrameToContainer(){const e=document.querySelector(this.container);if(!e)return;const t=this.createRootElement();t.innerHTML=this.createWrapper(this.iframe.outerHTML),e.innerHTML=t.outerHTML,this.addFrameResizer()}shouldShowForm(){const e=this.getStorage();return!e[this.iframeUrl]||Date.now()-e[this.iframeUrl]>this.showAfterTimeout}updateStorage(e){const t={...this.getStorage(),...e};localStorage.setItem("crm/formembeded",JSON.stringify(t))}getStorage(){if("undefined"==typeof localStorage)return{};const e=localStorage.getItem("crm/formembeded");if(!e)return{};try{const t=JSON.parse(e);return t&&"object"==typeof t?t:{}}catch{return{}}}createPanel({type:e,content:t}){this.overlay=document.createElement("div"),Object.assign(this.overlay.style,{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.23)",zIndex:9998,opacity:"0",transition:"opacity 0.3s ease"}),this.panel=this.createRootElement(),this.theme&&(this.panel.dataset.theme=this.theme),Object.assign(this.panel.style,{zIndex:9999,boxSizing:"border-box",transition:"drawer"===e?"right 0.3s ease":"transform 0.3s ease, opacity 0.3s ease"}),"dialog"===e?Object.assign(this.panel.style,{position:"fixed",borderRadius:"20px",maxWidth:`${this.maxWidth}px`,width:"100%",boxShadow:"0px 0px 70px 0px rgba(0, 0, 0, 0.25)",top:"50%",left:"50%",transform:"translate(-50%, -50%) scale(0.9)",opacity:"0",maxHeight:"90vh",display:"flex",flexDirection:"column"}):"drawer"===e&&Object.assign(this.panel.style,{position:"fixed",top:0,right:-this.maxWidth+"px",maxWidth:`${this.maxWidth}px`,width:"100%",height:"100%",boxShadow:"0px 0px 70px 0px #00000040",display:"flex",flexDirection:"column"}),this.panel.innerHTML=this.createWrapper(t,!0),document.body.appendChild(this.overlay),document.body.appendChild(this.panel),document.body.classList.add("wa-embeded-widget-opened"),this.addFrameResizer(),this.overlay.addEventListener("click",()=>this.close(e)),this.panel.querySelector(".wa-embeded-widget-iframe-close").addEventListener("click",()=>this.close(e)),requestAnimationFrame(()=>{this.overlay.style.opacity="1","dialog"===e?(this.panel.style.transform="translate(-50%, -50%) scale(1)",this.panel.style.opacity="1"):"drawer"===e&&(this.panel.style.right="0")})}show({type:e="dialog",content:t=""}){this.overlay||(this.createPanel({type:e,content:t}),this.escHandlerInited||(this.escHandlerInited=!0,document.addEventListener("keydown",t=>{"Escape"===t.code&&this.close(e)})))}close(e){this.overlay&&this.panel&&(this.overlay.style.opacity="0","dialog"===e?(this.panel.style.transform="translate(-50%, -50%) scale(0.9)",this.panel.style.opacity="0"):"drawer"===e&&(this.panel.style.right=-this.maxWidth+"px"),setTimeout(()=>{this.overlay.remove(),this.panel.remove(),this.overlay=null,this.panel=null,document.body.classList.remove("wa-embeded-widget-opened"),this.updateStorage({[this.iframeUrl]:Date.now()})},300))}createCircle(){const e=document.createElement("div");e.className="wa-embeded-widget-fab",this.displayFabText&&(e.classList.add("wa-embeded-widget-fab--text"),e.innerText=this.displayFabText),this.availableIcons.includes(this.displayFabIcon)&&(e.classList.add("wa-embeded-widget-fab--icon"),e.dataset.icon=this.displayFabIcon),/^#([0-9A-Fa-f]{3}){1,2}([0-9A-Fa-f]{2})?$/.test(this.displayFabColor)&&(e.style.backgroundColor=this.displayFabColor),e.addEventListener("click",()=>{this.showContainer()}),document.body.appendChild(e)}}window.createCRMWidget=t=>{new e(t)}})()}();
