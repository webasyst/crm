/*
 jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(d,N,W){d instanceof String&&(d=String(d));for(var a=d.length,f=0;f<a;f++){var g=d[f];if(N.call(W,g,f,d))return{i:f,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,N,W){if(d==Array.prototype||d==Object.prototype)return d;d[N]=W.value;return d};$jscomp.getGlobal=function(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var N=0;N<d.length;++N){var W=d[N];if(W&&W.Math==Math)return W}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(d,N){var W=$jscomp.propertyToPolyfillSymbol[N];if(null==W)return d[N];W=d[W];return void 0!==W?W:d[N]};
$jscomp.polyfill=function(d,N,W,a){N&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(d,N,W,a):$jscomp.polyfillUnisolated(d,N,W,a))};$jscomp.polyfillUnisolated=function(d,N,W,a){W=$jscomp.global;d=d.split(".");for(a=0;a<d.length-1;a++){var f=d[a];if(!(f in W))return;W=W[f]}d=d[d.length-1];a=W[d];N=N(a);N!=a&&null!=N&&$jscomp.defineProperty(W,d,{configurable:!0,writable:!0,value:N})};
$jscomp.polyfillIsolated=function(d,N,W,a){var f=d.split(".");d=1===f.length;a=f[0];a=!d&&a in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var g=0;g<f.length-1;g++){var h=f[g];if(!(h in a))return;a=a[h]}f=f[f.length-1];W=$jscomp.IS_SYMBOL_NATIVE&&"es6"===W?a[f]:null;N=N(W);null!=N&&(d?$jscomp.defineProperty($jscomp.polyfills,f,{configurable:!0,writable:!0,value:N}):N!==W&&(void 0===$jscomp.propertyToPolyfillSymbol[f]&&(W=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[f]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(f):$jscomp.POLYFILL_PREFIX+W+"$"+f),$jscomp.defineProperty(a,$jscomp.propertyToPolyfillSymbol[f],{configurable:!0,writable:!0,value:N})))};$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(N,W){return $jscomp.findInternal(this,N,W).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(d){var N=0;return function(){return N<d.length?{done:!1,value:d[N++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(d){if(d)return d;var N=function(g,h){this.$jscomp$symbol$id_=g;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:h})};N.prototype.toString=function(){return this.$jscomp$symbol$id_};var W="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",a=0,f=function(g){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new N(W+(g||"")+"_"+a++,g)};return f},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var N="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),W=0;W<N.length;W++){var a=$jscomp.global[N[W]];"function"===typeof a&&"function"!=typeof a.prototype[d]&&$jscomp.defineProperty(a.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return d},"es6",
"es3");$jscomp.iteratorPrototype=function(d){d={next:d};d[Symbol.iterator]=function(){return this};return d};$jscomp.iteratorFromArray=function(d,N){d instanceof String&&(d+="");var W=0,a=!1,f={next:function(){if(!a&&W<d.length){var g=W++;return{value:N(g,d[g]),done:!1}}a=!0;return{done:!0,value:void 0}}};f[Symbol.iterator]=function(){return f};return f};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(N){return N})}},"es6","es3");
!function(d,N){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?N(d,!0):function(W){if(!W.document)throw Error("jQuery requires a window with a document");return N(W)}:N(d)}("undefined"!=typeof window?window:this,function(d,N){function W(r){var B=r.length,I=H.type(r);return"function"===I||H.isWindow(r)?!1:1===r.nodeType&&B?!0:"array"===I||0===B||"number"==typeof B&&0<B&&B-1 in r}function a(r,B,I){if(H.isFunction(B))return H.grep(r,function(P,U){return!!B.call(P,U,
P)!==I});if(B.nodeType)return H.grep(r,function(P){return P===B!==I});if("string"==typeof B){if(hd.test(B))return H.filter(B,r,I);B=H.filter(B,r)}return H.grep(r,function(P){return 0<=H.inArray(P,B)!==I})}function f(r,B){do r=r[B];while(r&&1!==r.nodeType);return r}function g(r){var B=tc[r]={};return H.each(r.match(zc)||[],function(I,P){B[P]=!0}),B}function h(){Pa.addEventListener?(Pa.removeEventListener("DOMContentLoaded",e,!1),d.removeEventListener("load",e,!1)):(Pa.detachEvent("onreadystatechange",
e),d.detachEvent("onload",e))}function e(){(Pa.addEventListener||"load"===event.type||"complete"===Pa.readyState)&&(h(),H.ready())}function l(r,B,I){if(void 0===I&&1===r.nodeType){var P="data-"+B.replace(sb,"-$1").toLowerCase();if(I=r.getAttribute(P),"string"==typeof I){try{I="true"===I?!0:"false"===I?!1:"null"===I?null:+I+""===I?+I:Ac.test(I)?H.parseJSON(I):I}catch(U){}H.data(r,B,I)}else I=void 0}return I}function p(r){for(var B in r)if(("data"!==B||!H.isEmptyObject(r[B]))&&"toJSON"!==B)return!1;
return!0}function u(r,B,I,P){if(H.acceptData(r)){var U,Y,fa=H.expando,qa=r.nodeType,xa=qa?H.cache:r,Ja=qa?r[fa]:r[fa]&&fa;if(Ja&&xa[Ja]&&(P||xa[Ja].data)||void 0!==I||"string"!=typeof B)return Ja||(Ja=qa?r[fa]=cb.pop()||H.guid++:fa),xa[Ja]||(xa[Ja]=qa?{}:{toJSON:H.noop}),("object"==typeof B||"function"==typeof B)&&(P?xa[Ja]=H.extend(xa[Ja],B):xa[Ja].data=H.extend(xa[Ja].data,B)),Y=xa[Ja],P||(Y.data||(Y.data={}),Y=Y.data),void 0!==I&&(Y[H.camelCase(B)]=I),"string"==typeof B?(U=Y[B],null==U&&(U=Y[H.camelCase(B)])):
U=Y,U}}function c(r,B,I){if(H.acceptData(r)){var P,U,Y=r.nodeType,fa=Y?H.cache:r,qa=Y?r[H.expando]:H.expando;if(fa[qa]){if(B&&(P=I?fa[qa]:fa[qa].data)){H.isArray(B)?B=B.concat(H.map(B,H.camelCase)):B in P?B=[B]:(B=H.camelCase(B),B=B in P?[B]:B.split(" "));for(U=B.length;U--;)delete P[B[U]];if(I?!p(P):!H.isEmptyObject(P))return}(I||(delete fa[qa].data,p(fa[qa])))&&(Y?H.cleanData([r],!0):Xa.deleteExpando||fa!=fa.window?delete fa[qa]:fa[qa]=null)}}}function m(){return!0}function n(){return!1}function w(){try{return Pa.activeElement}catch(r){}}
function z(r){var B=Bc.split("|");r=r.createDocumentFragment();if(r.createElement)for(;B.length;)r.createElement(B.pop());return r}function x(r,B){var I,P,U=0,Y="undefined"!==typeof r.getElementsByTagName?r.getElementsByTagName(B||"*"):"undefined"!==typeof r.querySelectorAll?r.querySelectorAll(B||"*"):void 0;if(!Y)for(Y=[],I=r.childNodes||r;null!=(P=I[U]);U++)!B||H.nodeName(P,B)?Y.push(P):H.merge(Y,x(P,B));return void 0===B||B&&H.nodeName(r,B)?H.merge([r],Y):Y}function J(r){Gd.test(r.type)&&(r.defaultChecked=
r.checked)}function v(r,B){return H.nodeName(r,"table")&&H.nodeName(11!==B.nodeType?B:B.firstChild,"tr")?r.getElementsByTagName("tbody")[0]||r.appendChild(r.ownerDocument.createElement("tbody")):r}function K(r){return r.type=(null!==H.find.attr(r,"type"))+"/"+r.type,r}function D(r){var B=bg.exec(r.type);return B?r.type=B[1]:r.removeAttribute("type"),r}function M(r,B){for(var I,P=0;null!=(I=r[P]);P++)H._data(I,"globalEval",!B||H._data(B[P],"globalEval"))}function Q(r,B){if(1===B.nodeType&&H.hasData(r)){var I,
P;var U=H._data(r);r=H._data(B,U);var Y=U.events;if(Y)for(I in delete r.handle,r.events={},Y)for(U=0,P=Y[I].length;P>U;U++)H.event.add(B,I,Y[I][U]);r.data&&(r.data=H.extend({},r.data))}}function G(r,B){var I;r=H(B.createElement(r)).appendTo(B.body);B=d.getDefaultComputedStyle&&(I=d.getDefaultComputedStyle(r[0]))?I.display:H.css(r[0],"display");return r.detach(),B}function T(r){var B=Pa,I=Ye[r];return I||(I=G(r,B),"none"!==I&&I||(Hd=(Hd||H("<iframe frameborder='0' width='0' height='0'/>")).appendTo(B.documentElement),
B=(Hd[0].contentWindow||Hd[0].contentDocument).document,B.write(),B.close(),I=G(r,B),Hd.detach()),Ye[r]=I),I}function S(r,B){return{get:function(){var I=r();if(null!=I)return I?void delete this.get:(this.get=B).apply(this,arguments)}}}function R(r,B){if(B in r)return B;for(var I=B.charAt(0).toUpperCase()+B.slice(1),P=B,U=Ud.length;U--;)if(B=Ud[U]+I,B in r)return B;return P}function ca(r,B){for(var I,P,U,Y=[],fa=0,qa=r.length;qa>fa;fa++)P=r[fa],P.style&&(Y[fa]=H._data(P,"olddisplay"),I=P.style.display,
B?(Y[fa]||"none"!==I||(P.style.display=""),""===P.style.display&&jd(P)&&(Y[fa]=H._data(P,"olddisplay",T(P.nodeName)))):(U=jd(P),(I&&"none"!==I||!U)&&H._data(P,"olddisplay",U?I:H.css(P,"display"))));for(fa=0;qa>fa;fa++)P=r[fa],P.style&&(B&&"none"!==P.style.display&&""!==P.style.display||(P.style.display=B?Y[fa]||"":"none"));return r}function ha(r,B,I){return(r=Ee.exec(B))?Math.max(0,r[1]-(I||0))+(r[2]||"px"):B}function ra(r,B,I,P,U){B=I===(P?"border":"content")?4:"width"===B?1:0;for(var Y=0;4>B;B+=
2)"margin"===I&&(Y+=H.css(r,I+Cc[B],!0,U)),P?("content"===I&&(Y-=H.css(r,"padding"+Cc[B],!0,U)),"margin"!==I&&(Y-=H.css(r,"border"+Cc[B]+"Width",!0,U))):(Y+=H.css(r,"padding"+Cc[B],!0,U),"padding"!==I&&(Y+=H.css(r,"border"+Cc[B]+"Width",!0,U)));return Y}function Ia(r,B,I){var P=!0,U="width"===B?r.offsetWidth:r.offsetHeight,Y=qd(r),fa=Xa.boxSizing&&"border-box"===H.css(r,"boxSizing",!1,Y);if(0>=U||null==U){if(U=rd(r,B,Y),(0>U||null==U)&&(U=r.style[B]),je.test(U))return U;P=fa&&(Xa.boxSizingReliable()||
U===r.style[B]);U=parseFloat(U)||0}return U+ra(r,B,I||(fa?"border":"content"),P,Y)+"px"}function ja(r,B,I,P,U){return new ja.prototype.init(r,B,I,P,U)}function ma(){return setTimeout(function(){Nc=void 0}),Nc=H.now()}function Aa(r,B){var I={height:r},P=0;for(B=B?1:0;4>P;P+=2-B){var U=Cc[P];I["margin"+U]=I["padding"+U]=r}return B&&(I.opacity=I.width=r),I}function Da(r,B,I){for(var P,U=(sd[B]||[]).concat(sd["*"]),Y=0,fa=U.length;fa>Y;Y++)if(P=U[Y].call(I,B,r))return P}function Fa(r,B){var I,P,U,Y,fa;
for(I in r)if(P=H.camelCase(I),U=B[P],Y=r[I],H.isArray(Y)&&(U=Y[1],Y=r[I]=Y[0]),I!==P&&(r[P]=Y,delete r[I]),fa=H.cssHooks[P],fa&&"expand"in fa)for(I in Y=fa.expand(Y),delete r[P],Y)I in r||(r[I]=Y[I],B[I]=U);else B[P]=U}function Oa(r,B,I){var P,U=0,Y=td.length,fa=H.Deferred().always(function(){delete qa.elem}),qa=function(){if(P)return!1;var Ja=Nc||ma();Ja=Math.max(0,xa.startTime+xa.duration-Ja);for(var za=1-(Ja/xa.duration||0),Ra=0,Za=xa.tweens.length;Za>Ra;Ra++)xa.tweens[Ra].run(za);return fa.notifyWith(r,
[xa,za,Ja]),1>za&&Za?Ja:(fa.resolveWith(r,[xa]),!1)},xa=fa.promise({elem:r,props:H.extend({},B),opts:H.extend(!0,{specialEasing:{}},I),originalProperties:B,originalOptions:I,startTime:Nc||ma(),duration:I.duration,tweens:[],createTween:function(Ja,za){Ja=H.Tween(r,xa.opts,Ja,za,xa.opts.specialEasing[Ja]||xa.opts.easing);return xa.tweens.push(Ja),Ja},stop:function(Ja){var za=0,Ra=Ja?xa.tweens.length:0;if(P)return this;for(P=!0;Ra>za;za++)xa.tweens[za].run(1);return Ja?fa.resolveWith(r,[xa,Ja]):fa.rejectWith(r,
[xa,Ja]),this}});I=xa.props;for(Fa(I,xa.opts.specialEasing);Y>U;U++)if(B=td[U].call(xa,r,I,xa.opts))return B;return H.map(I,Da,xa),H.isFunction(xa.opts.start)&&xa.opts.start.call(r,xa),H.fx.timer(H.extend(qa,{elem:r,anim:xa,queue:xa.opts.queue})),xa.progress(xa.opts.progress).done(xa.opts.done,xa.opts.complete).fail(xa.opts.fail).always(xa.opts.always)}function Ga(r){return function(B,I){"string"!=typeof B&&(I=B,B="*");var P=0,U=B.toLowerCase().match(zc)||[];if(H.isFunction(I))for(;B=U[P++];)"+"===
B.charAt(0)?(B=B.slice(1)||"*",(r[B]=r[B]||[]).unshift(I)):(r[B]=r[B]||[]).push(I)}}function wa(r,B,I,P){function U(qa){var xa;return Y[qa]=!0,H.each(r[qa]||[],function(Ja,za){Ja=za(B,I,P);return"string"!=typeof Ja||fa||Y[Ja]?fa?!(xa=Ja):void 0:(B.dataTypes.unshift(Ja),U(Ja),!1)}),xa}var Y={},fa=r===ke;return U(B.dataTypes[0])||!Y["*"]&&U("*")}function Qa(r,B){var I,P,U=H.ajaxSettings.flatOptions||{};for(P in B)void 0!==B[P]&&((U[P]?r:I||(I={}))[P]=B[P]);return I&&H.extend(!0,r,I),r}function Wa(r,
B,I,P){var U;if(H.isArray(B))H.each(B,function(Y,fa){I||cg.test(r)?P(r,fa):Wa(r+"["+("object"==typeof fa?Y:"")+"]",fa,I,P)});else if(I||"object"!==H.type(B))P(r,B);else for(U in B)Wa(r+"["+U+"]",B[U],I,P)}function Ba(){try{return new d.XMLHttpRequest}catch(r){}}function Sa(r){return H.isWindow(r)?r:9===r.nodeType?r.defaultView||r.parentWindow:!1}var cb=[],$a=cb.slice,qb=cb.concat,Ib=cb.push,ib=cb.indexOf,Ob={},kc=Ob.toString,nc=Ob.hasOwnProperty,Xa={},H=function(r,B){return new H.fn.init(r,B)},oc=
/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,hc=/^-ms-/,lc=/-([\da-z])/gi,Zc=function(r,B){return B.toUpperCase()};H.fn=H.prototype={jquery:"1.11.1",constructor:H,selector:"",length:0,toArray:function(){return $a.call(this)},get:function(r){return null!=r?0>r?this[r+this.length]:this[r]:$a.call(this)},pushStack:function(r){r=H.merge(this.constructor(),r);return r.prevObject=this,r.context=this.context,r},each:function(r,B){return H.each(this,r,B)},map:function(r){return this.pushStack(H.map(this,function(B,
I){return r.call(B,I,B)}))},slice:function(){return this.pushStack($a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(r){var B=this.length;r=+r+(0>r?B:0);return this.pushStack(0<=r&&B>r?[this[r]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Ib,sort:cb.sort,splice:cb.splice};H.extend=H.fn.extend=function(){var r,B,I,P,U=arguments[0]||{},Y=1,fa=arguments.length,qa=!1;"boolean"==typeof U&&(qa=U,U=arguments[Y]||{},
Y++);"object"==typeof U||H.isFunction(U)||(U={});for(Y===fa&&(U=this,Y--);fa>Y;Y++)if(null!=(I=arguments[Y]))for(B in I){var xa=U[B];var Ja=I[B];U!==Ja&&(qa&&Ja&&(H.isPlainObject(Ja)||(r=H.isArray(Ja)))?(r?(r=!1,P=xa&&H.isArray(xa)?xa:[]):P=xa&&H.isPlainObject(xa)?xa:{},U[B]=H.extend(qa,P,Ja)):void 0!==Ja&&(U[B]=Ja))}return U};H.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw Error(r);},noop:function(){},isFunction:function(r){return"function"===
H.type(r)},isArray:Array.isArray||function(r){return"array"===H.type(r)},isWindow:function(r){return null!=r&&r==r.window},isNumeric:function(r){return!H.isArray(r)&&0<=r-parseFloat(r)},isEmptyObject:function(r){for(var B in r)return!1;return!0},isPlainObject:function(r){var B;if(!r||"object"!==H.type(r)||r.nodeType||H.isWindow(r))return!1;try{if(r.constructor&&!nc.call(r,"constructor")&&!nc.call(r.constructor.prototype,"isPrototypeOf"))return!1}catch(I){return!1}if(Xa.ownLast)for(B in r)return nc.call(r,
B);for(B in r);return void 0===B||nc.call(r,B)},type:function(r){return null==r?r+"":"object"==typeof r||"function"==typeof r?Ob[kc.call(r)]||"object":typeof r},globalEval:function(r){r&&H.trim(r)&&(d.execScript||function(B){d.eval.call(d,B)})(r)},camelCase:function(r){return r.replace(hc,"ms-").replace(lc,Zc)},nodeName:function(r,B){return r.nodeName&&r.nodeName.toLowerCase()===B.toLowerCase()},each:function(r,B,I){var P,U=0,Y=r.length,fa=W(r);if(I)if(fa)for(;Y>U&&(P=B.apply(r[U],I),!1!==P);U++);
else for(U in r){if(P=B.apply(r[U],I),!1===P)break}else if(fa)for(;Y>U&&(P=B.call(r[U],U,r[U]),!1!==P);U++);else for(U in r)if(P=B.call(r[U],U,r[U]),!1===P)break;return r},trim:function(r){return null==r?"":(r+"").replace(oc,"")},makeArray:function(r,B){B=B||[];return null!=r&&(W(Object(r))?H.merge(B,"string"==typeof r?[r]:r):Ib.call(B,r)),B},inArray:function(r,B,I){if(B){if(ib)return ib.call(B,r,I);var P=B.length;for(I=I?0>I?Math.max(0,P+I):I:0;P>I;I++)if(I in B&&B[I]===r)return I}return-1},merge:function(r,
B){for(var I=+B.length,P=0,U=r.length;I>P;)r[U++]=B[P++];if(I!==I)for(;void 0!==B[P];)r[U++]=B[P++];return r.length=U,r},grep:function(r,B,I){for(var P=[],U=0,Y=r.length,fa=!I;Y>U;U++)I=!B(r[U],U),I!==fa&&P.push(r[U]);return P},map:function(r,B,I){var P=0,U=r.length,Y=[];if(W(r))for(;U>P;P++){var fa=B(r[P],P,I);null!=fa&&Y.push(fa)}else for(P in r)fa=B(r[P],P,I),null!=fa&&Y.push(fa);return qb.apply([],Y)},guid:1,proxy:function(r,B){var I,P,U;return"string"==typeof B&&(U=r[B],B=r,r=U),H.isFunction(r)?
(I=$a.call(arguments,2),P=function(){return r.apply(B||this,I.concat($a.call(arguments)))},P.guid=r.guid=r.guid||H.guid++,P):void 0},now:function(){return+new Date},support:Xa});H.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(r,B){Ob["[object "+B+"]"]=B.toLowerCase()});var dc=function(r){function B(ea,sa,ua,ya){var Ka,Ma,Ua,fb,bb;if((sa?sa.ownerDocument||sa:ac)!==Pb&&ud(sa),sa=sa||Pb,ua=ua||[],!ea||"string"!=typeof ea)return ua;if(1!==(fb=sa.nodeType)&&9!==
fb)return[];if(pc&&!ya){if(Ka=dg.exec(ea))if(Ua=Ka[1])if(9===fb){if(Ma=sa.getElementById(Ua),!Ma||!Ma.parentNode)return ua;if(Ma.id===Ua)return ua.push(Ma),ua}else{if(sa.ownerDocument&&(Ma=sa.ownerDocument.getElementById(Ua))&&Fc(sa,Ma)&&Ma.id===Ua)return ua.push(Ma),ua}else{if(Ka[2])return $c.apply(ua,sa.getElementsByTagName(ea)),ua;if((Ua=Ka[3])&&Tb.getElementsByClassName&&sa.getElementsByClassName)return $c.apply(ua,sa.getElementsByClassName(Ua)),ua}if(Tb.qsa&&(!Kb||!Kb.test(ea))){if(Ma=Ka=yb,
Ua=sa,bb=9===fb&&ea,1===fb&&"object"!==sa.nodeName.toLowerCase()){fb=le(ea);(Ka=sa.getAttribute("id"))?Ma=Ka.replace(eg,"\\$&"):sa.setAttribute("id",Ma);Ma="[id='"+Ma+"'] ";for(Ua=fb.length;Ua--;)fb[Ua]=Ma+Za(fb[Ua]);Ua=Fe.test(ea)&&za(sa.parentNode)||sa;bb=fb.join(",")}if(bb)try{return $c.apply(ua,Ua.querySelectorAll(bb)),ua}catch(tb){}finally{Ka||sa.removeAttribute("id")}}}return uc(ea.replace(Vd,"$1"),sa,ua,ya)}function I(){function ea(ua,ya){return sa.push(ua+" ")>Bb.cacheLength&&delete ea[sa.shift()],
ea[ua+" "]=ya}var sa=[];return ea}function P(ea){return ea[yb]=!0,ea}function U(ea){var sa=Pb.createElement("div");try{return!!ea(sa)}catch(ua){return!1}finally{sa.parentNode&&sa.parentNode.removeChild(sa)}}function Y(ea,sa){var ua=ea.split("|");for(ea=ea.length;ea--;)Bb.attrHandle[ua[ea]]=sa}function fa(ea,sa){var ua=sa&&ea,ya=ua&&1===ea.nodeType&&1===sa.nodeType&&(~sa.sourceIndex||-2147483648)-(~ea.sourceIndex||-2147483648);if(ya)return ya;if(ua)for(;ua=ua.nextSibling;)if(ua===sa)return-1;return ea?
1:-1}function qa(ea){return function(sa){return"input"===sa.nodeName.toLowerCase()&&sa.type===ea}}function xa(ea){return function(sa){var ua=sa.nodeName.toLowerCase();return("input"===ua||"button"===ua)&&sa.type===ea}}function Ja(ea){return P(function(sa){return sa=+sa,P(function(ua,ya){for(var Ka,Ma=ea([],ua.length,sa),Ua=Ma.length;Ua--;)ua[Ka=Ma[Ua]]&&(ua[Ka]=!(ya[Ka]=ua[Ka]))})})}function za(ea){return ea&&"undefined"!==typeof ea.getElementsByTagName&&ea}function Ra(){}function Za(ea){for(var sa=
0,ua=ea.length,ya="";ua>sa;sa++)ya+=ea[sa].value;return ya}function pb(ea,sa,ua){var ya=sa.dir,Ka=ua&&"parentNode"===ya,Ma=Lb++;return sa.first?function(Ua,fb,bb){for(;Ua=Ua[ya];)if(1===Ua.nodeType||Ka)return ea(Ua,fb,bb)}:function(Ua,fb,bb){var tb,vb,Ab=[Ub,Ma];if(bb)for(;Ua=Ua[ya];){if((1===Ua.nodeType||Ka)&&ea(Ua,fb,bb))return!0}else for(;Ua=Ua[ya];)if(1===Ua.nodeType||Ka){if(vb=Ua[yb]||(Ua[yb]={}),(tb=vb[ya])&&tb[0]===Ub&&tb[1]===Ma)return Ab[2]=tb[2];if(vb[ya]=Ab,Ab[2]=ea(Ua,fb,bb))return!0}}}
function mb(ea){return 1<ea.length?function(sa,ua,ya){for(var Ka=ea.length;Ka--;)if(!ea[Ka](sa,ua,ya))return!1;return!0}:ea[0]}function Gb(ea,sa,ua,ya,Ka){for(var Ma,Ua=[],fb=0,bb=ea.length,tb=null!=sa;bb>fb;fb++)(Ma=ea[fb])&&(!ua||ua(Ma,ya,Ka))&&(Ua.push(Ma),tb&&sa.push(fb));return Ua}function Yb(ea,sa,ua,ya,Ka,Ma){return ya&&!ya[yb]&&(ya=Yb(ya)),Ka&&!Ka[yb]&&(Ka=Yb(Ka,Ma)),P(function(Ua,fb,bb,tb){var vb,Ab=[],bc=[],Oc=fb.length,Hb;if(!(Hb=Ua)){Hb=sa||"*";for(var Cb=bb.nodeType?[bb]:bb,ic=[],jc=
0,me=Cb.length;me>jc;jc++)B(Hb,Cb[jc],ic);Hb=ic}Hb=!ea||!Ua&&sa?Hb:Gb(Hb,Ab,ea,bb,tb);Cb=ua?Ka||(Ua?ea:Oc||ya)?[]:fb:Hb;if(ua&&ua(Hb,Cb,bb,tb),ya){var Jc=Gb(Cb,bc);ya(Jc,[],bb,tb);for(bb=Jc.length;bb--;)(vb=Jc[bb])&&(Cb[bc[bb]]=!(Hb[bc[bb]]=vb))}if(Ua){if(Ka||ea){if(Ka){Jc=[];for(bb=Cb.length;bb--;)(vb=Cb[bb])&&Jc.push(Hb[bb]=vb);Ka(null,Cb=[],Jc,tb)}for(bb=Cb.length;bb--;)(vb=Cb[bb])&&-1<(Jc=Ka?vd.call(Ua,vb):Ab[bb])&&(Ua[Jc]=!(fb[Jc]=vb))}}else Cb=Gb(Cb===fb?Cb.splice(Oc,Cb.length):Cb),Ka?Ka(null,
fb,Cb,tb):$c.apply(fb,Cb)})}function Id(ea){var sa,ua,ya=ea.length,Ka=Bb.relative[ea[0].type];var Ma=Ka||Bb.relative[" "];for(var Ua=Ka?1:0,fb=pb(function(vb){return vb===sa},Ma,!0),bb=pb(function(vb){return-1<vd.call(sa,vb)},Ma,!0),tb=[function(vb,Ab,bc){return!Ka&&(bc||Ab!==xb)||((sa=Ab).nodeType?fb(vb,Ab,bc):bb(vb,Ab,bc))}];ya>Ua;Ua++)if(Ma=Bb.relative[ea[Ua].type])tb=[pb(mb(tb),Ma)];else{if(Ma=Bb.filter[ea[Ua].type].apply(null,ea[Ua].matches),Ma[yb]){for(ua=++Ua;ya>ua&&!Bb.relative[ea[ua].type];ua++);
return Yb(1<Ua&&mb(tb),1<Ua&&Za(ea.slice(0,Ua-1).concat({value:" "===ea[Ua-2].type?"*":""})).replace(Vd,"$1"),Ma,ua>Ua&&Id(ea.slice(Ua,ua)),ya>ua&&Id(ea=ea.slice(ua)),ya>ua&&Za(ea))}tb.push(Ma)}return mb(tb)}function vc(ea,sa){var ua=0<sa.length,ya=0<ea.length,Ka=function(Ma,Ua,fb,bb,tb){var vb,Ab,bc,Oc=0,Hb="0",Cb=Ma&&[],ic=[],jc=xb,me=Ma||ya&&Bb.find.TAG("*",tb),Jc=Ub+=null==jc?1:Math.random()||.1,Ze=me.length;for(tb&&(xb=Ua!==Pb&&Ua);Hb!==Ze&&null!=(vb=me[Hb]);Hb++){if(ya&&vb){for(Ab=0;bc=ea[Ab++];)if(bc(vb,
Ua,fb)){bb.push(vb);break}tb&&(Ub=Jc)}ua&&((vb=!bc&&vb)&&Oc--,Ma&&Cb.push(vb))}if(Oc+=Hb,ua&&Hb!==Oc){for(Ab=0;bc=sa[Ab++];)bc(Cb,ic,Ua,fb);if(Ma){if(0<Oc)for(;Hb--;)Cb[Hb]||ic[Hb]||(ic[Hb]=Ge.call(bb));ic=Gb(ic)}$c.apply(bb,ic);tb&&!Ma&&0<ic.length&&1<Oc+sa.length&&B.uniqueSort(bb)}return tb&&(Ub=Jc,xb=jc),Cb};return ua?P(Ka):Ka}var Pc,wb,uc,xb,Jb,Qb,Pb,wc,pc,Kb,Wb,Vb,Fc,yb="sizzle"+-new Date,ac=r.document,Ub=0,Lb=0,ad=I(),qc=I(),cc=I(),Qc=function(ea,sa){return ea===sa&&(Qb=!0),0},Kc={}.hasOwnProperty,
xc=[],Ge=xc.pop,fg=xc.push,$c=xc.push,Jd=xc.slice,vd=xc.indexOf||function(ea){for(var sa=0,ua=this.length;ua>sa;sa++)if(this[sa]===ea)return sa;return-1},ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),He="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)[\\x20\\t\\r\\n\\f]*\\]",Rc=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
He+")*)|.*)\\)|)",Vd=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,wd=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,oe=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,gg=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,$e=new RegExp(Rc),af=new RegExp("^"+ne+"$"),pe={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+He),PSEUDO:new RegExp("^"+Rc),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},hg=/^(?:input|select|textarea|button)$/i,ig=/^h\d$/i,Wd=/^[^{]+\{\s*\[native \w/,dg=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fe=/[+~]/,eg=/'|\\/g,bd=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,cd=function(ea,sa,ua){ea="0x"+
sa-65536;return ea!==ea||ua?sa:0>ea?String.fromCharCode(ea+65536):String.fromCharCode(ea>>10|55296,1023&ea|56320)};try{$c.apply(xc=Jd.call(ac.childNodes),ac.childNodes),xc[ac.childNodes.length].nodeType}catch(ea){$c={apply:xc.length?function(sa,ua){fg.apply(sa,Jd.call(ua))}:function(sa,ua){for(var ya=sa.length,Ka=0;sa[ya++]=ua[Ka++];);sa.length=ya-1}}}var Tb=B.support={};var bf=B.isXML=function(ea){return(ea=ea&&(ea.ownerDocument||ea).documentElement)?"HTML"!==ea.nodeName:!1};var ud=B.setDocument=
function(ea){var sa,ua=ea?ea.ownerDocument||ea:ac;ea=ua.defaultView;return ua!==Pb&&9===ua.nodeType&&ua.documentElement?(Pb=ua,wc=ua.documentElement,pc=!bf(ua),ea&&ea!==ea.top&&(ea.addEventListener?ea.addEventListener("unload",function(){ud()},!1):ea.attachEvent&&ea.attachEvent("onunload",function(){ud()})),Tb.attributes=U(function(ya){return ya.className="i",!ya.getAttribute("className")}),Tb.getElementsByTagName=U(function(ya){return ya.appendChild(ua.createComment("")),!ya.getElementsByTagName("*").length}),
Tb.getElementsByClassName=Wd.test(ua.getElementsByClassName)&&U(function(ya){return ya.innerHTML="<div class='a'></div><div class='a i'></div>",ya.firstChild.className="i",2===ya.getElementsByClassName("i").length}),Tb.getById=U(function(ya){return wc.appendChild(ya).id=yb,!ua.getElementsByName||!ua.getElementsByName(yb).length}),Tb.getById?(Bb.find.ID=function(ya,Ka){if("undefined"!==typeof Ka.getElementById&&pc)return(ya=Ka.getElementById(ya))&&ya.parentNode?[ya]:[]},Bb.filter.ID=function(ya){var Ka=
ya.replace(bd,cd);return function(Ma){return Ma.getAttribute("id")===Ka}}):(delete Bb.find.ID,Bb.filter.ID=function(ya){var Ka=ya.replace(bd,cd);return function(Ma){return(Ma="undefined"!==typeof Ma.getAttributeNode&&Ma.getAttributeNode("id"))&&Ma.value===Ka}}),Bb.find.TAG=Tb.getElementsByTagName?function(ya,Ka){return"undefined"!==typeof Ka.getElementsByTagName?Ka.getElementsByTagName(ya):void 0}:function(ya,Ka){var Ma=[],Ua=0;Ka=Ka.getElementsByTagName(ya);if("*"===ya){for(;ya=Ka[Ua++];)1===ya.nodeType&&
Ma.push(ya);return Ma}return Ka},Bb.find.CLASS=Tb.getElementsByClassName&&function(ya,Ka){return"undefined"!==typeof Ka.getElementsByClassName&&pc?Ka.getElementsByClassName(ya):void 0},Wb=[],Kb=[],(Tb.qsa=Wd.test(ua.querySelectorAll))&&(U(function(ya){ya.innerHTML="<select msallowclip=''><option selected=''></option></select>";ya.querySelectorAll("[msallowclip^='']").length&&Kb.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");ya.querySelectorAll("[selected]").length||Kb.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
ya.querySelectorAll(":checked").length||Kb.push(":checked")}),U(function(ya){var Ka=ua.createElement("input");Ka.setAttribute("type","hidden");ya.appendChild(Ka).setAttribute("name","D");ya.querySelectorAll("[name=d]").length&&Kb.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");ya.querySelectorAll(":enabled").length||Kb.push(":enabled",":disabled");ya.querySelectorAll("*,:x");Kb.push(",.*:")})),(Tb.matchesSelector=Wd.test(Vb=wc.matches||wc.webkitMatchesSelector||wc.mozMatchesSelector||wc.oMatchesSelector||
wc.msMatchesSelector))&&U(function(ya){Tb.disconnectedMatch=Vb.call(ya,"div");Vb.call(ya,"[s!='']:x");Wb.push("!=",Rc)}),Kb=Kb.length&&new RegExp(Kb.join("|")),Wb=Wb.length&&new RegExp(Wb.join("|")),sa=Wd.test(wc.compareDocumentPosition),Fc=sa||Wd.test(wc.contains)?function(ya,Ka){var Ma=9===ya.nodeType?ya.documentElement:ya;Ka=Ka&&Ka.parentNode;return ya===Ka||!(!Ka||1!==Ka.nodeType||!(Ma.contains?Ma.contains(Ka):ya.compareDocumentPosition&&16&ya.compareDocumentPosition(Ka)))}:function(ya,Ka){if(Ka)for(;Ka=
Ka.parentNode;)if(Ka===ya)return!0;return!1},Qc=sa?function(ya,Ka){if(ya===Ka)return Qb=!0,0;var Ma=!ya.compareDocumentPosition-!Ka.compareDocumentPosition;return Ma?Ma:(Ma=(ya.ownerDocument||ya)===(Ka.ownerDocument||Ka)?ya.compareDocumentPosition(Ka):1,1&Ma||!Tb.sortDetached&&Ka.compareDocumentPosition(ya)===Ma?ya===ua||ya.ownerDocument===ac&&Fc(ac,ya)?-1:Ka===ua||Ka.ownerDocument===ac&&Fc(ac,Ka)?1:Jb?vd.call(Jb,ya)-vd.call(Jb,Ka):0:4&Ma?-1:1)}:function(ya,Ka){if(ya===Ka)return Qb=!0,0;var Ma=0,
Ua=ya.parentNode,fb=Ka.parentNode,bb=[ya],tb=[Ka];if(!Ua||!fb)return ya===ua?-1:Ka===ua?1:Ua?-1:fb?1:Jb?vd.call(Jb,ya)-vd.call(Jb,Ka):0;if(Ua===fb)return fa(ya,Ka);for(;ya=ya.parentNode;)bb.unshift(ya);for(ya=Ka;ya=ya.parentNode;)tb.unshift(ya);for(;bb[Ma]===tb[Ma];)Ma++;return Ma?fa(bb[Ma],tb[Ma]):bb[Ma]===ac?-1:tb[Ma]===ac?1:0},ua):Pb};B.matches=function(ea,sa){return B(ea,null,null,sa)};B.matchesSelector=function(ea,sa){if((ea.ownerDocument||ea)!==Pb&&ud(ea),sa=sa.replace(gg,"='$1']"),!(!Tb.matchesSelector||
!pc||Wb&&Wb.test(sa)||Kb&&Kb.test(sa)))try{var ua=Vb.call(ea,sa);if(ua||Tb.disconnectedMatch||ea.document&&11!==ea.document.nodeType)return ua}catch(ya){}return 0<B(sa,Pb,null,[ea]).length};B.contains=function(ea,sa){return(ea.ownerDocument||ea)!==Pb&&ud(ea),Fc(ea,sa)};B.attr=function(ea,sa){(ea.ownerDocument||ea)!==Pb&&ud(ea);var ua=Bb.attrHandle[sa.toLowerCase()];ua=ua&&Kc.call(Bb.attrHandle,sa.toLowerCase())?ua(ea,sa,!pc):void 0;return void 0!==ua?ua:Tb.attributes||!pc?ea.getAttribute(sa):(ua=
ea.getAttributeNode(sa))&&ua.specified?ua.value:null};B.error=function(ea){throw Error("Syntax error, unrecognized expression: "+ea);};B.uniqueSort=function(ea){var sa,ua=[],ya=0,Ka=0;if(Qb=!Tb.detectDuplicates,Jb=!Tb.sortStable&&ea.slice(0),ea.sort(Qc),Qb){for(;sa=ea[Ka++];)sa===ea[Ka]&&(ya=ua.push(Ka));for(;ya--;)ea.splice(ua[ya],1)}return Jb=null,ea};var Ie=B.getText=function(ea){var sa,ua="",ya=0;if(sa=ea.nodeType)if(1===sa||9===sa||11===sa){if("string"==typeof ea.textContent)return ea.textContent;
for(ea=ea.firstChild;ea;ea=ea.nextSibling)ua+=Ie(ea)}else{if(3===sa||4===sa)return ea.nodeValue}else for(;sa=ea[ya++];)ua+=Ie(sa);return ua};var Bb=B.selectors={cacheLength:50,createPseudo:P,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ea){return ea[1]=ea[1].replace(bd,cd),ea[3]=(ea[3]||ea[4]||ea[5]||"").replace(bd,cd),"~="===ea[2]&&(ea[3]=" "+ea[3]+" "),ea.slice(0,
4)},CHILD:function(ea){return ea[1]=ea[1].toLowerCase(),"nth"===ea[1].slice(0,3)?(ea[3]||B.error(ea[0]),ea[4]=+(ea[4]?ea[5]+(ea[6]||1):2*("even"===ea[3]||"odd"===ea[3])),ea[5]=+(ea[7]+ea[8]||"odd"===ea[3])):ea[3]&&B.error(ea[0]),ea},PSEUDO:function(ea){var sa,ua=!ea[6]&&ea[2];return pe.CHILD.test(ea[0])?null:(ea[3]?ea[2]=ea[4]||ea[5]||"":ua&&$e.test(ua)&&(sa=le(ua,!0))&&(sa=ua.indexOf(")",ua.length-sa)-ua.length)&&(ea[0]=ea[0].slice(0,sa),ea[2]=ua.slice(0,sa)),ea.slice(0,3))}},filter:{TAG:function(ea){var sa=
ea.replace(bd,cd).toLowerCase();return"*"===ea?function(){return!0}:function(ua){return ua.nodeName&&ua.nodeName.toLowerCase()===sa}},CLASS:function(ea){var sa=ad[ea+" "];return sa||(sa=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+ea+"([\\x20\\t\\r\\n\\f]|$)"),ad(ea,function(ua){return sa.test("string"==typeof ua.className&&ua.className||"undefined"!==typeof ua.getAttribute&&ua.getAttribute("class")||"")}))},ATTR:function(ea,sa,ua){return function(ya){ya=B.attr(ya,ea);return null==ya?"!="===sa:sa?(ya+="",
"="===sa?ya===ua:"!="===sa?ya!==ua:"^="===sa?ua&&0===ya.indexOf(ua):"*="===sa?ua&&-1<ya.indexOf(ua):"$="===sa?ua&&ya.slice(-ua.length)===ua:"~="===sa?-1<(" "+ya+" ").indexOf(ua):"|="===sa?ya===ua||ya.slice(0,ua.length+1)===ua+"-":!1):!0}},CHILD:function(ea,sa,ua,ya,Ka){var Ma="nth"!==ea.slice(0,3),Ua="last"!==ea.slice(-4),fb="of-type"===sa;return 1===ya&&0===Ka?function(bb){return!!bb.parentNode}:function(bb,tb,vb){var Ab;tb=Ma!==Ua?"nextSibling":"previousSibling";var bc=bb.parentNode,Oc=fb&&bb.nodeName.toLowerCase();
vb=!vb&&!fb;if(bc){if(Ma){for(;tb;){for(Ab=bb;Ab=Ab[tb];)if(fb?Ab.nodeName.toLowerCase()===Oc:1===Ab.nodeType)return!1;var Hb=tb="only"===ea&&!Hb&&"nextSibling"}return!0}if(Hb=[Ua?bc.firstChild:bc.lastChild],Ua&&vb){vb=bc[yb]||(bc[yb]={});var Cb=vb[ea]||[];var ic=Cb[0]===Ub&&Cb[1];var jc=Cb[0]===Ub&&Cb[2];for(Ab=ic&&bc.childNodes[ic];Ab=++ic&&Ab&&Ab[tb]||(jc=ic=0)||Hb.pop();)if(1===Ab.nodeType&&++jc&&Ab===bb){vb[ea]=[Ub,ic,jc];break}}else if(vb&&(Cb=(bb[yb]||(bb[yb]={}))[ea])&&Cb[0]===Ub)jc=Cb[1];
else for(;(Ab=++ic&&Ab&&Ab[tb]||(jc=ic=0)||Hb.pop())&&((fb?Ab.nodeName.toLowerCase()!==Oc:1!==Ab.nodeType)||!++jc||(vb&&((Ab[yb]||(Ab[yb]={}))[ea]=[Ub,jc]),Ab!==bb)););return jc-=Ka,jc===ya||0===jc%ya&&0<=jc/ya}}},PSEUDO:function(ea,sa){var ua,ya=Bb.pseudos[ea]||Bb.setFilters[ea.toLowerCase()]||B.error("unsupported pseudo: "+ea);return ya[yb]?ya(sa):1<ya.length?(ua=[ea,ea,"",sa],Bb.setFilters.hasOwnProperty(ea.toLowerCase())?P(function(Ka,Ma){for(var Ua,fb=ya(Ka,sa),bb=fb.length;bb--;)Ua=vd.call(Ka,
fb[bb]),Ka[Ua]=!(Ma[Ua]=fb[bb])}):function(Ka){return ya(Ka,0,ua)}):ya}},pseudos:{not:P(function(ea){var sa=[],ua=[],ya=wb(ea.replace(Vd,"$1"));return ya[yb]?P(function(Ka,Ma,Ua,fb){var bb;Ua=ya(Ka,null,fb,[]);for(fb=Ka.length;fb--;)(bb=Ua[fb])&&(Ka[fb]=!(Ma[fb]=bb))}):function(Ka,Ma,Ua){return sa[0]=Ka,ya(sa,null,Ua,ua),!ua.pop()}}),has:P(function(ea){return function(sa){return 0<B(ea,sa).length}}),contains:P(function(ea){return function(sa){return-1<(sa.textContent||sa.innerText||Ie(sa)).indexOf(ea)}}),
lang:P(function(ea){return af.test(ea||"")||B.error("unsupported lang: "+ea),ea=ea.replace(bd,cd).toLowerCase(),function(sa){var ua;do if(ua=pc?sa.lang:sa.getAttribute("xml:lang")||sa.getAttribute("lang"))return ua=ua.toLowerCase(),ua===ea||0===ua.indexOf(ea+"-");while((sa=sa.parentNode)&&1===sa.nodeType);return!1}}),target:function(ea){var sa=r.location&&r.location.hash;return sa&&sa.slice(1)===ea.id},root:function(ea){return ea===wc},focus:function(ea){return ea===Pb.activeElement&&(!Pb.hasFocus||
Pb.hasFocus())&&!!(ea.type||ea.href||~ea.tabIndex)},enabled:function(ea){return!1===ea.disabled},disabled:function(ea){return!0===ea.disabled},checked:function(ea){var sa=ea.nodeName.toLowerCase();return"input"===sa&&!!ea.checked||"option"===sa&&!!ea.selected},selected:function(ea){return ea.parentNode&&ea.parentNode.selectedIndex,!0===ea.selected},empty:function(ea){for(ea=ea.firstChild;ea;ea=ea.nextSibling)if(6>ea.nodeType)return!1;return!0},parent:function(ea){return!Bb.pseudos.empty(ea)},header:function(ea){return ig.test(ea.nodeName)},
input:function(ea){return hg.test(ea.nodeName)},button:function(ea){var sa=ea.nodeName.toLowerCase();return"input"===sa&&"button"===ea.type||"button"===sa},text:function(ea){var sa;return"input"===ea.nodeName.toLowerCase()&&"text"===ea.type&&(null==(sa=ea.getAttribute("type"))||"text"===sa.toLowerCase())},first:Ja(function(){return[0]}),last:Ja(function(ea,sa){return[sa-1]}),eq:Ja(function(ea,sa,ua){return[0>ua?ua+sa:ua]}),even:Ja(function(ea,sa){for(var ua=0;sa>ua;ua+=2)ea.push(ua);return ea}),odd:Ja(function(ea,
sa){for(var ua=1;sa>ua;ua+=2)ea.push(ua);return ea}),lt:Ja(function(ea,sa,ua){for(sa=0>ua?ua+sa:ua;0<=--sa;)ea.push(sa);return ea}),gt:Ja(function(ea,sa,ua){for(ua=0>ua?ua+sa:ua;++ua<sa;)ea.push(ua);return ea})}};Bb.pseudos.nth=Bb.pseudos.eq;for(Pc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Bb.pseudos[Pc]=qa(Pc);for(Pc in{submit:!0,reset:!0})Bb.pseudos[Pc]=xa(Pc);Ra.prototype=Bb.filters=Bb.pseudos;Bb.setFilters=new Ra;var le=B.tokenize=function(ea,sa){var ua,ya,Ka,Ma,Ua;if(Ma=qc[ea+" "])return sa?
0:Ma.slice(0);Ma=ea;var fb=[];for(Ua=Bb.preFilter;Ma;){bb&&!(ua=wd.exec(Ma))||(ua&&(Ma=Ma.slice(ua[0].length)||Ma),fb.push(ya=[]));var bb=!1;(ua=oe.exec(Ma))&&(bb=ua.shift(),ya.push({value:bb,type:ua[0].replace(Vd," ")}),Ma=Ma.slice(bb.length));for(Ka in Bb.filter)!(ua=pe[Ka].exec(Ma))||Ua[Ka]&&!(ua=Ua[Ka](ua))||(bb=ua.shift(),ya.push({value:bb,type:Ka,matches:ua}),Ma=Ma.slice(bb.length));if(!bb)break}return sa?Ma.length:Ma?B.error(ea):qc(ea,fb).slice(0)};return wb=B.compile=function(ea,sa){var ua,
ya=[],Ka=[],Ma=cc[ea+" "];if(!Ma){sa||(sa=le(ea));for(ua=sa.length;ua--;)Ma=Id(sa[ua]),Ma[yb]?ya.push(Ma):Ka.push(Ma);Ma=cc(ea,vc(Ka,ya));Ma.selector=ea}return Ma},uc=B.select=function(ea,sa,ua,ya){var Ka,Ma,Ua,fb,bb,tb="function"==typeof ea&&ea,vb=!ya&&le(ea=tb.selector||ea);if(ua=ua||[],1===vb.length){if(Ma=vb[0]=vb[0].slice(0),2<Ma.length&&"ID"===(Ua=Ma[0]).type&&Tb.getById&&9===sa.nodeType&&pc&&Bb.relative[Ma[1].type]){if(sa=(Bb.find.ID(Ua.matches[0].replace(bd,cd),sa)||[])[0],!sa)return ua;tb&&
(sa=sa.parentNode);ea=ea.slice(Ma.shift().value.length)}for(Ka=pe.needsContext.test(ea)?0:Ma.length;Ka--&&(Ua=Ma[Ka],!Bb.relative[fb=Ua.type]);)if((bb=Bb.find[fb])&&(ya=bb(Ua.matches[0].replace(bd,cd),Fe.test(Ma[0].type)&&za(sa.parentNode)||sa))){if(Ma.splice(Ka,1),ea=ya.length&&Za(Ma),!ea)return $c.apply(ua,ya),ua;break}}return(tb||wb(ea,vb))(ya,sa,!pc,ua,Fe.test(ea)&&za(sa.parentNode)||sa),ua},Tb.sortStable=yb.split("").sort(Qc).join("")===yb,Tb.detectDuplicates=!!Qb,ud(),Tb.sortDetached=U(function(ea){return 1&
ea.compareDocumentPosition(Pb.createElement("div"))}),U(function(ea){return ea.innerHTML="<a href='#'></a>","#"===ea.firstChild.getAttribute("href")})||Y("type|href|height|width",function(ea,sa,ua){return ua?void 0:ea.getAttribute(sa,"type"===sa.toLowerCase()?1:2)}),Tb.attributes&&U(function(ea){return ea.innerHTML="<input/>",ea.firstChild.setAttribute("value",""),""===ea.firstChild.getAttribute("value")})||Y("value",function(ea,sa,ua){return ua||"input"!==ea.nodeName.toLowerCase()?void 0:ea.defaultValue}),
U(function(ea){return null==ea.getAttribute("disabled")})||Y("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(ea,sa,ua){var ya;return ua?void 0:!0===ea[sa]?sa.toLowerCase():(ya=ea.getAttributeNode(sa))&&ya.specified?ya.value:null}),B}(d);H.find=dc;H.expr=dc.selectors;H.expr[":"]=H.expr.pseudos;H.unique=dc.uniqueSort;H.text=dc.getText;H.isXMLDoc=dc.isXML;H.contains=dc.contains;var xd=H.expr.match.needsContext,Gc=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,
hd=/^.[^:#\[\.,]*$/;H.filter=function(r,B,I){var P=B[0];return I&&(r=":not("+r+")"),1===B.length&&1===P.nodeType?H.find.matchesSelector(P,r)?[P]:[]:H.find.matches(r,H.grep(B,function(U){return 1===U.nodeType}))};H.fn.extend({find:function(r){var B,I=[],P=this,U=P.length;if("string"!=typeof r)return this.pushStack(H(r).filter(function(){for(B=0;U>B;B++)if(H.contains(P[B],this))return!0}));for(B=0;U>B;B++)H.find(r,P[B],I);return I=this.pushStack(1<U?H.unique(I):I),I.selector=this.selector?this.selector+
" "+r:r,I},filter:function(r){return this.pushStack(a(this,r||[],!1))},not:function(r){return this.pushStack(a(this,r||[],!0))},is:function(r){return!!a(this,"string"==typeof r&&xd.test(r)?H(r):r||[],!1).length}});var Pa=d.document,rb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(H.fn.init=function(r,B){var I,P;if(!r)return this;if("string"==typeof r){if(I="<"===r.charAt(0)&&">"===r.charAt(r.length-1)&&3<=r.length?[null,r,null]:rb.exec(r),!I||!I[1]&&B)return!B||B.jquery?(B||nb).find(r):this.constructor(B).find(r);
if(I[1]){if(B=B instanceof H?B[0]:B,H.merge(this,H.parseHTML(I[1],B&&B.nodeType?B.ownerDocument||B:Pa,!0)),Gc.test(I[1])&&H.isPlainObject(B))for(I in B)H.isFunction(this[I])?this[I](B[I]):this.attr(I,B[I]);return this}if(P=Pa.getElementById(I[2]),P&&P.parentNode){if(P.id!==I[2])return nb.find(r);this.length=1;this[0]=P}return this.context=Pa,this.selector=r,this}return r.nodeType?(this.context=this[0]=r,this.length=1,this):H.isFunction(r)?"undefined"!=typeof nb.ready?nb.ready(r):r(H):(void 0!==r.selector&&
(this.selector=r.selector,this.context=r.context),H.makeArray(r,this))}).prototype=H.fn;var nb=H(Pa);var zb=/^(?:parents|prev(?:Until|All))/,gb={children:!0,contents:!0,next:!0,prev:!0};H.extend({dir:function(r,B,I){var P=[];for(r=r[B];r&&9!==r.nodeType&&(void 0===I||1!==r.nodeType||!H(r).is(I));)1===r.nodeType&&P.push(r),r=r[B];return P},sibling:function(r,B){for(var I=[];r;r=r.nextSibling)1===r.nodeType&&r!==B&&I.push(r);return I}});H.fn.extend({has:function(r){var B,I=H(r,this),P=I.length;return this.filter(function(){for(B=
0;P>B;B++)if(H.contains(this,I[B]))return!0})},closest:function(r,B){for(var I,P=0,U=this.length,Y=[],fa=xd.test(r)||"string"!=typeof r?H(r,B||this.context):0;U>P;P++)for(I=this[P];I&&I!==B;I=I.parentNode)if(11>I.nodeType&&(fa?-1<fa.index(I):1===I.nodeType&&H.find.matchesSelector(I,r))){Y.push(I);break}return this.pushStack(1<Y.length?H.unique(Y):Y)},index:function(r){return r?"string"==typeof r?H.inArray(this[0],H(r)):H.inArray(r.jquery?r[0]:r,this):this[0]&&this[0].parentNode?this.first().prevAll().length:
-1},add:function(r,B){return this.pushStack(H.unique(H.merge(this.get(),H(r,B))))},addBack:function(r){return this.add(null==r?this.prevObject:this.prevObject.filter(r))}});H.each({parent:function(r){return(r=r.parentNode)&&11!==r.nodeType?r:null},parents:function(r){return H.dir(r,"parentNode")},parentsUntil:function(r,B,I){return H.dir(r,"parentNode",I)},next:function(r){return f(r,"nextSibling")},prev:function(r){return f(r,"previousSibling")},nextAll:function(r){return H.dir(r,"nextSibling")},
prevAll:function(r){return H.dir(r,"previousSibling")},nextUntil:function(r,B,I){return H.dir(r,"nextSibling",I)},prevUntil:function(r,B,I){return H.dir(r,"previousSibling",I)},siblings:function(r){return H.sibling((r.parentNode||{}).firstChild,r)},children:function(r){return H.sibling(r.firstChild)},contents:function(r){return H.nodeName(r,"iframe")?r.contentDocument||r.contentWindow.document:H.merge([],r.childNodes)}},function(r,B){H.fn[r]=function(I,P){var U=H.map(this,B,I);return"Until"!==r.slice(-5)&&
(P=I),P&&"string"==typeof P&&(U=H.filter(P,U)),1<this.length&&(gb[r]||(U=H.unique(U)),zb.test(r)&&(U=U.reverse())),this.pushStack(U)}});var zc=/\S+/g,tc={};H.Callbacks=function(r){r="string"==typeof r?tc[r]||g(r):H.extend({},r);var B,I,P,U,Y,fa,qa=[],xa=!r.once&&[],Ja=function(Ra){I=r.memory&&Ra;P=!0;Y=fa||0;fa=0;U=qa.length;for(B=!0;qa&&U>Y;Y++)if(!1===qa[Y].apply(Ra[0],Ra[1])&&r.stopOnFalse){I=!1;break}B=!1;qa&&(xa?xa.length&&Ja(xa.shift()):I?qa=[]:za.disable())},za={add:function(){if(qa){var Ra=
qa.length;!function mb(pb){H.each(pb,function(Gb,Yb){Gb=H.type(Yb);"function"===Gb?r.unique&&za.has(Yb)||qa.push(Yb):Yb&&Yb.length&&"string"!==Gb&&mb(Yb)})}(arguments);B?U=qa.length:I&&(fa=Ra,Ja(I))}return this},remove:function(){return qa&&H.each(arguments,function(Ra,Za){for(var pb;-1<(pb=H.inArray(Za,qa,pb));)qa.splice(pb,1),B&&(U>=pb&&U--,Y>=pb&&Y--)}),this},has:function(Ra){return Ra?-1<H.inArray(Ra,qa):!(!qa||!qa.length)},empty:function(){return qa=[],U=0,this},disable:function(){return qa=
xa=I=void 0,this},disabled:function(){return!qa},lock:function(){return xa=void 0,I||za.disable(),this},locked:function(){return!xa},fireWith:function(Ra,Za){return!qa||P&&!xa||(Za=Za||[],Za=[Ra,Za.slice?Za.slice():Za],B?xa.push(Za):Ja(Za)),this},fire:function(){return za.fireWith(this,arguments),this},fired:function(){return!!P}};return za};H.extend({Deferred:function(r){var B=[["resolve","done",H.Callbacks("once memory"),"resolved"],["reject","fail",H.Callbacks("once memory"),"rejected"],["notify",
"progress",H.Callbacks("memory")]],I="pending",P={state:function(){return I},always:function(){return U.done(arguments).fail(arguments),this},then:function(){var Y=arguments;return H.Deferred(function(fa){H.each(B,function(qa,xa){var Ja=H.isFunction(Y[qa])&&Y[qa];U[xa[1]](function(){var za=Ja&&Ja.apply(this,arguments);za&&H.isFunction(za.promise)?za.promise().done(fa.resolve).fail(fa.reject).progress(fa.notify):fa[xa[0]+"With"](this===P?fa.promise():this,Ja?[za]:arguments)})});Y=null}).promise()},
promise:function(Y){return null!=Y?H.extend(Y,P):P}},U={};return P.pipe=P.then,H.each(B,function(Y,fa){var qa=fa[2],xa=fa[3];P[fa[1]]=qa.add;xa&&qa.add(function(){I=xa},B[1^Y][2].disable,B[2][2].lock);U[fa[0]]=function(){return U[fa[0]+"With"](this===U?P:this,arguments),this};U[fa[0]+"With"]=qa.fireWith}),P.promise(U),r&&r.call(U,U),U},when:function(r){var B=0,I=$a.call(arguments),P=I.length,U=1!==P||r&&H.isFunction(r.promise)?P:0,Y=1===U?r:H.Deferred(),fa=function(za,Ra,Za){return function(pb){Ra[za]=
this;Za[za]=1<arguments.length?$a.call(arguments):pb;Za===xa?Y.notifyWith(Ra,Za):--U||Y.resolveWith(Ra,Za)}},qa;if(1<P){var xa=Array(P);var Ja=Array(P);for(qa=Array(P);P>B;B++)I[B]&&H.isFunction(I[B].promise)?I[B].promise().done(fa(B,qa,I)).fail(Y.reject).progress(fa(B,Ja,xa)):--U}return U||Y.resolveWith(qa,I),Y.promise()}});var kd;H.fn.ready=function(r){return H.ready.promise().done(r),this};H.extend({isReady:!1,readyWait:1,holdReady:function(r){r?H.readyWait++:H.ready(!0)},ready:function(r){if(!0===
r?!--H.readyWait:!H.isReady){if(!Pa.body)return setTimeout(H.ready);H.isReady=!0;!0!==r&&0<--H.readyWait||(kd.resolveWith(Pa,[H]),H.fn.triggerHandler&&(H(Pa).triggerHandler("ready"),H(Pa).off("ready")))}}});H.ready.promise=function(r){if(!kd)if(kd=H.Deferred(),"complete"===Pa.readyState)setTimeout(H.ready);else if(Pa.addEventListener)Pa.addEventListener("DOMContentLoaded",e,!1),d.addEventListener("load",e,!1);else{Pa.attachEvent("onreadystatechange",e);d.attachEvent("onload",e);var B=!1;try{B=null==
d.frameElement&&Pa.documentElement}catch(I){}B&&B.doScroll&&!function P(){if(!H.isReady){try{B.doScroll("left")}catch(U){return setTimeout(P,50)}h();H.ready()}}()}return kd.promise(r)};for(var Xc in H(Xa))break;Xa.ownLast="0"!==Xc;Xa.inlineBlockNeedsLayout=!1;H(function(){var r,B,I,P;(I=Pa.getElementsByTagName("body")[0])&&I.style&&(B=Pa.createElement("div"),P=Pa.createElement("div"),P.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",I.appendChild(P).appendChild(B),"undefined"!==
typeof B.style.zoom&&(B.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",Xa.inlineBlockNeedsLayout=r=3===B.offsetWidth,r&&(I.style.zoom=1)),I.removeChild(P))});(function(){var r=Pa.createElement("div");if(null==Xa.deleteExpando){Xa.deleteExpando=!0;try{delete r.test}catch(B){Xa.deleteExpando=!1}}})();H.acceptData=function(r){var B=H.noData[(r.nodeName+" ").toLowerCase()],I=+r.nodeType||1;return 1!==I&&9!==I?!1:!B||!0!==B&&r.getAttribute("classid")===B};var Ac=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
sb=/([A-Z])/g;H.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(r){return r=r.nodeType?H.cache[r[H.expando]]:r[H.expando],!!r&&!p(r)},data:function(r,B,I){return u(r,B,I)},removeData:function(r,B){return c(r,B)},_data:function(r,B,I){return u(r,B,I,!0)},_removeData:function(r,B){return c(r,B,!0)}});H.fn.extend({data:function(r,B){var I,P,U,Y=this[0],fa=Y&&Y.attributes;if(void 0===r){if(this.length&&(U=H.data(Y),1===Y.nodeType&&
!H._data(Y,"parsedAttrs"))){for(I=fa.length;I--;)fa[I]&&(P=fa[I].name,0===P.indexOf("data-")&&(P=H.camelCase(P.slice(5)),l(Y,P,U[P])));H._data(Y,"parsedAttrs",!0)}return U}return"object"==typeof r?this.each(function(){H.data(this,r)}):1<arguments.length?this.each(function(){H.data(this,r,B)}):Y?l(Y,r,H.data(Y,r)):void 0},removeData:function(r){return this.each(function(){H.removeData(this,r)})}});H.extend({queue:function(r,B,I){var P;return r?(B=(B||"fx")+"queue",P=H._data(r,B),I&&(!P||H.isArray(I)?
P=H._data(r,B,H.makeArray(I)):P.push(I)),P||[]):void 0},dequeue:function(r,B){B=B||"fx";var I=H.queue(r,B),P=I.length,U=I.shift(),Y=H._queueHooks(r,B),fa=function(){H.dequeue(r,B)};"inprogress"===U&&(U=I.shift(),P--);U&&("fx"===B&&I.unshift("inprogress"),delete Y.stop,U.call(r,fa,Y));!P&&Y&&Y.empty.fire()},_queueHooks:function(r,B){var I=B+"queueHooks";return H._data(r,I)||H._data(r,I,{empty:H.Callbacks("once memory").add(function(){H._removeData(r,B+"queue");H._removeData(r,I)})})}});H.fn.extend({queue:function(r,
B){var I=2;return"string"!=typeof r&&(B=r,r="fx",I--),arguments.length<I?H.queue(this[0],r):void 0===B?this:this.each(function(){var P=H.queue(this,r,B);H._queueHooks(this,r);"fx"===r&&"inprogress"!==P[0]&&H.dequeue(this,r)})},dequeue:function(r){return this.each(function(){H.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,B){var I,P=1,U=H.Deferred(),Y=this,fa=this.length,qa=function(){--P||U.resolveWith(Y,[Y])};"string"!=typeof r&&(B=r,r=void 0);for(r=
r||"fx";fa--;)(I=H._data(Y[fa],r+"queueHooks"))&&I.empty&&(P++,I.empty.add(qa));return qa(),U.promise(B)}});var Dc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Cc=["Top","Right","Bottom","Left"],jd=function(r,B){return r=B||r,"none"===H.css(r,"display")||!H.contains(r.ownerDocument,r)},rc=H.access=function(r,B,I,P,U,Y,fa){var qa=0,xa=r.length,Ja=null==I;if("object"===H.type(I))for(qa in U=!0,I)H.access(r,B,qa,I[qa],!0,Y,fa);else if(void 0!==P&&(U=!0,H.isFunction(P)||(fa=!0),Ja&&(fa?(B.call(r,P),B=
null):(Ja=B,B=function(za,Ra,Za){return Ja.call(H(za),Za)})),B))for(;xa>qa;qa++)B(r[qa],I,fa?P:P.call(r[qa],qa,B(r[qa],I)));return U?r:Ja?B.call(r):xa?B(r[0],I):Y},Gd=/^(?:checkbox|radio)$/i;!function(){var r=Pa.createElement("input"),B=Pa.createElement("div"),I=Pa.createDocumentFragment();if(B.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Xa.leadingWhitespace=3===B.firstChild.nodeType,Xa.tbody=!B.getElementsByTagName("tbody").length,Xa.htmlSerialize=!!B.getElementsByTagName("link").length,
Xa.html5Clone="<:nav></:nav>"!==Pa.createElement("nav").cloneNode(!0).outerHTML,r.type="checkbox",r.checked=!0,I.appendChild(r),Xa.appendChecked=r.checked,B.innerHTML="<textarea>x</textarea>",Xa.noCloneChecked=!!B.cloneNode(!0).lastChild.defaultValue,I.appendChild(B),B.innerHTML="<input type='radio' checked='checked' name='t'/>",Xa.checkClone=B.cloneNode(!0).cloneNode(!0).lastChild.checked,Xa.noCloneEvent=!0,B.attachEvent&&(B.attachEvent("onclick",function(){Xa.noCloneEvent=!1}),B.cloneNode(!0).click()),
null==Xa.deleteExpando){Xa.deleteExpando=!0;try{delete B.test}catch(P){Xa.deleteExpando=!1}}}();(function(){var r,B=Pa.createElement("div");for(r in{submit:!0,change:!0,focusin:!0}){var I="on"+r;(Xa[r+"Bubbles"]=I in d)||(B.setAttribute(I,"t"),Xa[r+"Bubbles"]=!1===B.attributes[I].expando)}})();var Kd=/^(?:input|select|textarea)$/i,Va=/^key/,Fb=/^(?:mouse|pointer|contextmenu)|click/,Sc=/^(?:focusinfocus|focusoutblur)$/,Xb=/^([^.]*)(?:\.(.+)|)$/;H.event={global:{},add:function(r,B,I,P,U){var Y,fa,qa,
xa,Ja,za,Ra,Za;if(fa=H._data(r)){I.handler&&(qa=I,I=qa.handler,U=qa.selector);I.guid||(I.guid=H.guid++);(Y=fa.events)||(Y=fa.events={});(Ja=fa.handle)||(Ja=fa.handle=function(Gb){return"undefined"===typeof H||Gb&&H.event.triggered===Gb.type?void 0:H.event.dispatch.apply(Ja.elem,arguments)},Ja.elem=r);B=(B||"").match(zc)||[""];for(fa=B.length;fa--;){var pb=Xb.exec(B[fa])||[];var mb=Za=pb[1];pb=(pb[2]||"").split(".").sort();mb&&(xa=H.event.special[mb]||{},mb=(U?xa.delegateType:xa.bindType)||mb,xa=H.event.special[mb]||
{},za=H.extend({type:mb,origType:Za,data:P,handler:I,guid:I.guid,selector:U,needsContext:U&&H.expr.match.needsContext.test(U),namespace:pb.join(".")},qa),(Ra=Y[mb])||(Ra=Y[mb]=[],Ra.delegateCount=0,xa.setup&&!1!==xa.setup.call(r,P,pb,Ja)||(r.addEventListener?r.addEventListener(mb,Ja,!1):r.attachEvent&&r.attachEvent("on"+mb,Ja))),xa.add&&(xa.add.call(r,za),za.handler.guid||(za.handler.guid=I.guid)),U?Ra.splice(Ra.delegateCount++,0,za):Ra.push(za),H.event.global[mb]=!0)}r=null}},remove:function(r,B,
I,P,U){var Y,fa,qa,xa,Ja,za,Ra,Za,pb=H.hasData(r)&&H._data(r);if(pb&&(Ja=pb.events)){B=(B||"").match(zc)||[""];for(xa=B.length;xa--;)if(fa=Xb.exec(B[xa])||[],za=Za=fa[1],Ra=(fa[2]||"").split(".").sort(),za){var mb=H.event.special[za]||{};za=(P?mb.delegateType:mb.bindType)||za;var Gb=Ja[za]||[];fa=fa[2]&&new RegExp("(^|\\.)"+Ra.join("\\.(?:.*\\.|)")+"(\\.|$)");for(qa=Y=Gb.length;Y--;){var Yb=Gb[Y];!U&&Za!==Yb.origType||I&&I.guid!==Yb.guid||fa&&!fa.test(Yb.namespace)||P&&P!==Yb.selector&&("**"!==P||
!Yb.selector)||(Gb.splice(Y,1),Yb.selector&&Gb.delegateCount--,mb.remove&&mb.remove.call(r,Yb))}qa&&!Gb.length&&(mb.teardown&&!1!==mb.teardown.call(r,Ra,pb.handle)||H.removeEvent(r,za,pb.handle),delete Ja[za])}else for(za in Ja)H.event.remove(r,za+B[xa],I,P,!0);H.isEmptyObject(Ja)&&(delete pb.handle,H._removeData(r,"events"))}},trigger:function(r,B,I,P){var U,Y,fa,qa,xa=[I||Pa],Ja=nc.call(r,"type")?r.type:r;var za=nc.call(r,"namespace")?r.namespace.split("."):[];if(fa=U=I=I||Pa,3!==I.nodeType&&8!==
I.nodeType&&!Sc.test(Ja+H.event.triggered)&&(0<=Ja.indexOf(".")&&(za=Ja.split("."),Ja=za.shift(),za.sort()),Y=0>Ja.indexOf(":")&&"on"+Ja,r=r[H.expando]?r:new H.Event(Ja,"object"==typeof r&&r),r.isTrigger=P?2:3,r.namespace=za.join("."),r.namespace_re=r.namespace?new RegExp("(^|\\.)"+za.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=I),B=null==B?[r]:H.makeArray(B,[r]),qa=H.event.special[Ja]||{},P||!qa.trigger||!1!==qa.trigger.apply(I,B))){if(!P&&!qa.noBubble&&!H.isWindow(I)){var Ra=
qa.delegateType||Ja;for(Sc.test(Ra+Ja)||(fa=fa.parentNode);fa;fa=fa.parentNode)xa.push(fa),U=fa;U===(I.ownerDocument||Pa)&&xa.push(U.defaultView||U.parentWindow||d)}for(za=0;(fa=xa[za++])&&!r.isPropagationStopped();)r.type=1<za?Ra:qa.bindType||Ja,(U=(H._data(fa,"events")||{})[r.type]&&H._data(fa,"handle"))&&U.apply(fa,B),(U=Y&&fa[Y])&&U.apply&&H.acceptData(fa)&&(r.result=U.apply(fa,B),!1===r.result&&r.preventDefault());if(r.type=Ja,!(P||r.isDefaultPrevented()||qa._default&&!1!==qa._default.apply(xa.pop(),
B))&&H.acceptData(I)&&Y&&I[Ja]&&!H.isWindow(I)){(U=I[Y])&&(I[Y]=null);H.event.triggered=Ja;try{I[Ja]()}catch(Za){}H.event.triggered=void 0;U&&(I[Y]=U)}return r.result}},dispatch:function(r){r=H.event.fix(r);var B,I,P,U,Y=$a.call(arguments);var fa=(H._data(this,"events")||{})[r.type]||[];var qa=H.event.special[r.type]||{};if(Y[0]=r,r.delegateTarget=this,!qa.preDispatch||!1!==qa.preDispatch.call(this,r)){var xa=H.event.handlers.call(this,r,fa);for(fa=0;(P=xa[fa++])&&!r.isPropagationStopped();)for(r.currentTarget=
P.elem,U=0;(I=P.handlers[U++])&&!r.isImmediatePropagationStopped();)r.namespace_re&&!r.namespace_re.test(I.namespace)||(r.handleObj=I,r.data=I.data,B=((H.event.special[I.origType]||{}).handle||I.handler).apply(P.elem,Y),void 0===B||!1!==(r.result=B)||(r.preventDefault(),r.stopPropagation()));return qa.postDispatch&&qa.postDispatch.call(this,r),r.result}},handlers:function(r,B){var I,P=[],U=B.delegateCount,Y=r.target;if(U&&Y.nodeType&&(!r.button||"click"!==r.type))for(;Y!=this;Y=Y.parentNode||this)if(1===
Y.nodeType&&(!0!==Y.disabled||"click"!==r.type)){var fa=[];for(I=0;U>I;I++){var qa=B[I];var xa=qa.selector+" ";void 0===fa[xa]&&(fa[xa]=qa.needsContext?0<=H(xa,this).index(Y):H.find(xa,this,null,[Y]).length);fa[xa]&&fa.push(qa)}fa.length&&P.push({elem:Y,handlers:fa})}return U<B.length&&P.push({elem:this,handlers:B.slice(U)}),P},fix:function(r){if(r[H.expando])return r;var B=r.type;var I=r,P=this.fixHooks[B];P||(this.fixHooks[B]=P=Fb.test(B)?this.mouseHooks:Va.test(B)?this.keyHooks:{});var U=P.props?
this.props.concat(P.props):this.props;r=new H.Event(I);for(B=U.length;B--;){var Y=U[B];r[Y]=I[Y]}return r.target||(r.target=I.srcElement||Pa),3===r.target.nodeType&&(r.target=r.target.parentNode),r.metaKey=!!r.metaKey,P.filter?P.filter(r,I):r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(r,B){return null==r.which&&(r.which=null!=
B.charCode?B.charCode:B.keyCode),r}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(r,B){var I,P,U,Y=B.button,fa=B.fromElement;return null==r.pageX&&null!=B.clientX&&(P=r.target.ownerDocument||Pa,U=P.documentElement,I=P.body,r.pageX=B.clientX+(U&&U.scrollLeft||I&&I.scrollLeft||0)-(U&&U.clientLeft||I&&I.clientLeft||0),r.pageY=B.clientY+(U&&U.scrollTop||I&&I.scrollTop||0)-(U&&U.clientTop||I&&I.clientTop||
0)),!r.relatedTarget&&fa&&(r.relatedTarget=fa===r.target?B.toElement:fa),r.which||void 0===Y||(r.which=1&Y?1:2&Y?3:4&Y?2:0),r}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(r){}},delegateType:"focusin"},blur:{trigger:function(){return this===w()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return H.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(r){return H.nodeName(r.target,
"a")}},beforeunload:{postDispatch:function(r){void 0!==r.result&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}},simulate:function(r,B,I,P){r=H.extend(new H.Event,I,{type:r,isSimulated:!0,originalEvent:{}});P?H.event.trigger(r,null,B):H.event.dispatch.call(B,r);r.isDefaultPrevented()&&I.preventDefault()}};H.removeEvent=Pa.removeEventListener?function(r,B,I){r.removeEventListener&&r.removeEventListener(B,I,!1)}:function(r,B,I){B="on"+B;r.detachEvent&&("undefined"===typeof r[B]&&(r[B]=null),
r.detachEvent(B,I))};H.Event=function(r,B){return this instanceof H.Event?(r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||void 0===r.defaultPrevented&&!1===r.returnValue?m:n):this.type=r,B&&H.extend(this,B),this.timeStamp=r&&r.timeStamp||H.now(),void(this[H.expando]=!0)):new H.Event(r,B)};H.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=
m;r&&(r.preventDefault?r.preventDefault():r.returnValue=!1)},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=m;r&&(r.stopPropagation&&r.stopPropagation(),r.cancelBubble=!0)},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=m;r&&r.stopImmediatePropagation&&r.stopImmediatePropagation();this.stopPropagation()}};H.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,
B){H.event.special[r]={delegateType:B,bindType:B,handle:function(I){var P,U=I.relatedTarget,Y=I.handleObj;return(!U||U!==this&&!H.contains(this,U))&&(I.type=Y.origType,P=Y.handler.apply(this,arguments),I.type=B),P}}});Xa.submitBubbles||(H.event.special.submit={setup:function(){return H.nodeName(this,"form")?!1:void H.event.add(this,"click._submit keypress._submit",function(r){r=r.target;(r=H.nodeName(r,"input")||H.nodeName(r,"button")?r.form:void 0)&&!H._data(r,"submitBubbles")&&(H.event.add(r,"submit._submit",
function(B){B._submit_bubble=!0}),H._data(r,"submitBubbles",!0))})},postDispatch:function(r){r._submit_bubble&&(delete r._submit_bubble,this.parentNode&&!r.isTrigger&&H.event.simulate("submit",this.parentNode,r,!0))},teardown:function(){return H.nodeName(this,"form")?!1:void H.event.remove(this,"._submit")}});Xa.changeBubbles||(H.event.special.change={setup:function(){return Kd.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(H.event.add(this,"propertychange._change",function(r){"checked"===
r.originalEvent.propertyName&&(this._just_changed=!0)}),H.event.add(this,"click._change",function(r){this._just_changed&&!r.isTrigger&&(this._just_changed=!1);H.event.simulate("change",this,r,!0)})),!1):void H.event.add(this,"beforeactivate._change",function(r){r=r.target;Kd.test(r.nodeName)&&!H._data(r,"changeBubbles")&&(H.event.add(r,"change._change",function(B){!this.parentNode||B.isSimulated||B.isTrigger||H.event.simulate("change",this.parentNode,B,!0)}),H._data(r,"changeBubbles",!0))})},handle:function(r){var B=
r.target;return this!==B||r.isSimulated||r.isTrigger||"radio"!==B.type&&"checkbox"!==B.type?r.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return H.event.remove(this,"._change"),!Kd.test(this.nodeName)}});Xa.focusinBubbles||H.each({focus:"focusin",blur:"focusout"},function(r,B){var I=function(P){H.event.simulate(B,P.target,H.event.fix(P),!0)};H.event.special[B]={setup:function(){var P=this.ownerDocument||this,U=H._data(P,B);U||P.addEventListener(r,I,!0);H._data(P,B,(U||0)+1)},
teardown:function(){var P=this.ownerDocument||this,U=H._data(P,B)-1;U?H._data(P,B,U):(P.removeEventListener(r,I,!0),H._removeData(P,B))}}});H.fn.extend({on:function(r,B,I,P,U){var Y,fa;if("object"==typeof r){"string"!=typeof B&&(I=I||B,B=void 0);for(Y in r)this.on(Y,B,I,r[Y],U);return this}if(null==I&&null==P?(P=B,I=B=void 0):null==P&&("string"==typeof B?(P=I,I=void 0):(P=I,I=B,B=void 0)),!1===P)P=n;else if(!P)return this;return 1===U&&(fa=P,P=function(qa){return H().off(qa),fa.apply(this,arguments)},
P.guid=fa.guid||(fa.guid=H.guid++)),this.each(function(){H.event.add(this,r,P,I,B)})},one:function(r,B,I,P){return this.on(r,B,I,P,1)},off:function(r,B,I){var P,U;if(r&&r.preventDefault&&r.handleObj)return P=r.handleObj,H(r.delegateTarget).off(P.namespace?P.origType+"."+P.namespace:P.origType,P.selector,P.handler),this;if("object"==typeof r){for(U in r)this.off(U,B,r[U]);return this}return(!1===B||"function"==typeof B)&&(I=B,B=void 0),!1===I&&(I=n),this.each(function(){H.event.remove(this,r,I,B)})},
trigger:function(r,B){return this.each(function(){H.event.trigger(r,B,this)})},triggerHandler:function(r,B){var I=this[0];return I?H.event.trigger(r,B,I,!0):void 0}});var Bc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",yd=/ jQuery\d+="(?:null|\d+)"/g,cf=new RegExp("<(?:"+Bc+")[\\s/>]","i"),mc=/^\s+/,Xd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Yd=/<([\w:]+)/,
df=/<tbody/i,jg=/<|&#?\w+;/,kg=/<(?:script|style|link)/i,lg=/checked\s*(?:[^=]|=\s*.checked.)/i,ef=/^$|\/(?:java|ecma)script/i,bg=/^true\/(.*)/,mg=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Hc={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>",
"</tr></tbody></table>"],_default:Xa.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Je=z(Pa).appendChild(Pa.createElement("div"));Hc.optgroup=Hc.option;Hc.tbody=Hc.tfoot=Hc.colgroup=Hc.caption=Hc.thead;Hc.th=Hc.td;H.extend({clone:function(r,B,I){var P,U,Y,fa=H.contains(r.ownerDocument,r);if(Xa.html5Clone||H.isXMLDoc(r)||!cf.test("<"+r.nodeName+">")?U=r.cloneNode(!0):(Je.innerHTML=r.outerHTML,Je.removeChild(U=Je.firstChild)),!(Xa.noCloneEvent&&Xa.noCloneChecked||1!==r.nodeType&&11!==r.nodeType||H.isXMLDoc(r))){var qa=
x(U);var xa=x(r);for(Y=0;null!=(P=xa[Y]);++Y)if(qa[Y]){var Ja=void 0,za,Ra=P,Za=qa[Y];if(1===Za.nodeType){if(za=Za.nodeName.toLowerCase(),!Xa.noCloneEvent&&Za[H.expando]){P=H._data(Za);for(Ja in P.events)H.removeEvent(Za,Ja,P.handle);Za.removeAttribute(H.expando)}"script"===za&&Za.text!==Ra.text?(K(Za).text=Ra.text,D(Za)):"object"===za?(Za.parentNode&&(Za.outerHTML=Ra.outerHTML),Xa.html5Clone&&Ra.innerHTML&&!H.trim(Za.innerHTML)&&(Za.innerHTML=Ra.innerHTML)):"input"===za&&Gd.test(Ra.type)?(Za.defaultChecked=
Za.checked=Ra.checked,Za.value!==Ra.value&&(Za.value=Ra.value)):"option"===za?Za.defaultSelected=Za.selected=Ra.defaultSelected:("input"===za||"textarea"===za)&&(Za.defaultValue=Ra.defaultValue)}}}if(B)if(I)for(xa=xa||x(r),qa=qa||x(U),Y=0;null!=(P=xa[Y]);Y++)Q(P,qa[Y]);else Q(r,U);return qa=x(U,"script"),0<qa.length&&M(qa,!fa&&x(r,"script")),U},buildFragment:function(r,B,I,P){for(var U,Y,fa,qa,xa,Ja,za,Ra=r.length,Za=z(B),pb=[],mb=0;Ra>mb;mb++)if(Y=r[mb],Y||0===Y)if("object"===H.type(Y))H.merge(pb,
Y.nodeType?[Y]:Y);else if(jg.test(Y)){qa=qa||Za.appendChild(B.createElement("div"));xa=(Yd.exec(Y)||["",""])[1].toLowerCase();za=Hc[xa]||Hc._default;qa.innerHTML=za[1]+Y.replace(Xd,"<$1></$2>")+za[2];for(U=za[0];U--;)qa=qa.lastChild;if(!Xa.leadingWhitespace&&mc.test(Y)&&pb.push(B.createTextNode(mc.exec(Y)[0])),!Xa.tbody)for(U=(Y="table"!==xa||df.test(Y)?"<table>"!==za[1]||df.test(Y)?0:qa:qa.firstChild)&&Y.childNodes.length;U--;)H.nodeName(Ja=Y.childNodes[U],"tbody")&&!Ja.childNodes.length&&Y.removeChild(Ja);
H.merge(pb,qa.childNodes);for(qa.textContent="";qa.firstChild;)qa.removeChild(qa.firstChild);qa=Za.lastChild}else pb.push(B.createTextNode(Y));qa&&Za.removeChild(qa);Xa.appendChecked||H.grep(x(pb,"input"),J);for(mb=0;Y=pb[mb++];)if((!P||-1===H.inArray(Y,P))&&(fa=H.contains(Y.ownerDocument,Y),qa=x(Za.appendChild(Y),"script"),fa&&M(qa),I))for(U=0;Y=qa[U++];)ef.test(Y.type||"")&&I.push(Y);return Za},cleanData:function(r,B){for(var I,P,U,Y,fa=0,qa=H.expando,xa=H.cache,Ja=Xa.deleteExpando,za=H.event.special;null!=
(I=r[fa]);fa++)if((B||H.acceptData(I))&&(U=I[qa],Y=U&&xa[U])){if(Y.events)for(P in Y.events)za[P]?H.event.remove(I,P):H.removeEvent(I,P,Y.handle);xa[U]&&(delete xa[U],Ja?delete I[qa]:"undefined"!==typeof I.removeAttribute?I.removeAttribute(qa):I[qa]=null,cb.push(U))}}});H.fn.extend({text:function(r){return rc(this,function(B){return void 0===B?H.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Pa).createTextNode(B))},null,r,arguments.length)},append:function(){return this.domManip(arguments,
function(r){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||v(this,r).appendChild(r)})},prepend:function(){return this.domManip(arguments,function(r){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var B=v(this,r);B.insertBefore(r,B.firstChild)}})},before:function(){return this.domManip(arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return this.domManip(arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},
remove:function(r,B){for(var I=r?H.filter(r,this):this,P=0;null!=(r=I[P]);P++)B||1!==r.nodeType||H.cleanData(x(r)),r.parentNode&&(B&&H.contains(r.ownerDocument,r)&&M(x(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var r,B=0;null!=(r=this[B]);B++){for(1===r.nodeType&&H.cleanData(x(r,!1));r.firstChild;)r.removeChild(r.firstChild);r.options&&H.nodeName(r,"select")&&(r.options.length=0)}return this},clone:function(r,B){return r=null==r?!1:r,B=null==B?r:B,this.map(function(){return H.clone(this,
r,B)})},html:function(r){return rc(this,function(B){var I=this[0]||{},P=0,U=this.length;if(void 0===B)return 1===I.nodeType?I.innerHTML.replace(yd,""):void 0;if(!("string"!=typeof B||kg.test(B)||!Xa.htmlSerialize&&cf.test(B)||!Xa.leadingWhitespace&&mc.test(B)||Hc[(Yd.exec(B)||["",""])[1].toLowerCase()])){B=B.replace(Xd,"<$1></$2>");try{for(;U>P;P++)I=this[P]||{},1===I.nodeType&&(H.cleanData(x(I,!1)),I.innerHTML=B);I=0}catch(Y){}}I&&this.empty().append(B)},null,r,arguments.length)},replaceWith:function(){var r=
arguments[0];return this.domManip(arguments,function(B){r=this.parentNode;H.cleanData(x(this));r&&r.replaceChild(B,this)}),r&&(r.length||r.nodeType)?this:this.remove()},detach:function(r){return this.remove(r,!0)},domManip:function(r,B){r=qb.apply([],r);var I,P,U,Y=0,fa=this.length,qa=this,xa=fa-1,Ja=r[0],za=H.isFunction(Ja);if(za||1<fa&&"string"==typeof Ja&&!Xa.checkClone&&lg.test(Ja))return this.each(function(Za){var pb=qa.eq(Za);za&&(r[0]=Ja.call(this,Za,pb.html()));pb.domManip(r,B)});if(fa&&(U=
H.buildFragment(r,this[0].ownerDocument,!1,this),I=U.firstChild,1===U.childNodes.length&&(U=I),I)){var Ra=H.map(x(U,"script"),K);for(P=Ra.length;fa>Y;Y++)I=U,Y!==xa&&(I=H.clone(I,!0,!0),P&&H.merge(Ra,x(I,"script"))),B.call(this[Y],I,Y);if(P)for(U=Ra[Ra.length-1].ownerDocument,H.map(Ra,D),Y=0;P>Y;Y++)I=Ra[Y],ef.test(I.type||"")&&!H._data(I,"globalEval")&&H.contains(U,I)&&(I.src?H._evalUrl&&H._evalUrl(I.src):H.globalEval((I.text||I.textContent||I.innerHTML||"").replace(mg,"")));U=I=null}return this}});
H.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,B){H.fn[r]=function(I){for(var P=0,U=[],Y=H(I),fa=Y.length-1;fa>=P;P++)I=P===fa?this:this.clone(!0),H(Y[P])[B](I),Ib.apply(U,I.get());return this.pushStack(U)}});var Hd,Ye={};!function(){var r;Xa.shrinkWrapBlocks=function(){if(null!=r)return r;r=!1;var B,I,P;return I=Pa.getElementsByTagName("body")[0],I&&I.style?(B=Pa.createElement("div"),P=Pa.createElement("div"),P.style.cssText=
"position:absolute;border:0;width:0;height:0;top:0;left:-9999px",I.appendChild(P).appendChild(B),"undefined"!==typeof B.style.zoom&&(B.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",B.appendChild(Pa.createElement("div")).style.width="5px",r=3!==B.offsetWidth),I.removeChild(P),r):void 0}}();var ff=/^margin/,je=new RegExp("^("+Dc+")(?!px)[a-z%]+$","i"),qd,rd,ng=/^(top|right|bottom|left)$/;
d.getComputedStyle?(qd=function(r){return r.ownerDocument.defaultView.getComputedStyle(r,null)},rd=function(r,B,I){var P,U,Y,fa,qa=r.style;return I=I||qd(r),fa=I?I.getPropertyValue(B)||I[B]:void 0,I&&(""!==fa||H.contains(r.ownerDocument,r)||(fa=H.style(r,B)),je.test(fa)&&ff.test(B)&&(P=qa.width,U=qa.minWidth,Y=qa.maxWidth,qa.minWidth=qa.maxWidth=qa.width=fa,fa=I.width,qa.width=P,qa.minWidth=U,qa.maxWidth=Y)),void 0===fa?fa:fa+""}):Pa.documentElement.currentStyle&&(qd=function(r){return r.currentStyle},
rd=function(r,B,I){var P,U,Y,fa,qa=r.style;return I=I||qd(r),fa=I?I[B]:void 0,null==fa&&qa&&qa[B]&&(fa=qa[B]),je.test(fa)&&!ng.test(B)&&(P=qa.left,U=r.runtimeStyle,Y=U&&U.left,Y&&(U.left=r.currentStyle.left),qa.left="fontSize"===B?"1em":fa,fa=qa.pixelLeft+"px",qa.left=P,Y&&(U.left=Y)),void 0===fa?fa:fa+""||"auto"});!function(){var r,B,I,P,U,Y,fa;if(r=Pa.createElement("div"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",I=r.getElementsByTagName("a")[0],B=I&&I.style){var qa=
function(){var xa,Ja,za,Ra;(Ja=Pa.getElementsByTagName("body")[0])&&Ja.style&&(xa=Pa.createElement("div"),za=Pa.createElement("div"),za.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",Ja.appendChild(za).appendChild(xa),xa.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",P=U=!1,fa=!0,d.getComputedStyle&&(P="1%"!==(d.getComputedStyle(xa,null)||
{}).top,U="4px"===(d.getComputedStyle(xa,null)||{width:"4px"}).width,Ra=xa.appendChild(Pa.createElement("div")),Ra.style.cssText=xa.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",Ra.style.marginRight=Ra.style.width="0",xa.style.width="1px",fa=!parseFloat((d.getComputedStyle(Ra,null)||{}).marginRight)),xa.innerHTML="<table><tr><td></td><td>t</td></tr></table>",Ra=xa.getElementsByTagName("td"),Ra[0].style.cssText=
"margin:0;border:0;padding:0;display:none",Y=0===Ra[0].offsetHeight,Y&&(Ra[0].style.display="",Ra[1].style.display="none",Y=0===Ra[0].offsetHeight),Ja.removeChild(za))};B.cssText="float:left;opacity:.5";Xa.opacity="0.5"===B.opacity;Xa.cssFloat=!!B.cssFloat;r.style.backgroundClip="content-box";r.cloneNode(!0).style.backgroundClip="";Xa.clearCloneStyle="content-box"===r.style.backgroundClip;Xa.boxSizing=""===B.boxSizing||""===B.MozBoxSizing||""===B.WebkitBoxSizing;H.extend(Xa,{reliableHiddenOffsets:function(){return null==
Y&&qa(),Y},boxSizingReliable:function(){return null==U&&qa(),U},pixelPosition:function(){return null==P&&qa(),P},reliableMarginRight:function(){return null==fa&&qa(),fa}})}}();H.swap=function(r,B,I,P){var U,Y={};for(U in B)Y[U]=r.style[U],r.style[U]=B[U];I=I.apply(r,P||[]);for(U in B)r.style[U]=Y[U];return I};var Zd=/alpha\([^)]*\)/i,gf=/opacity\s*=\s*([^)]*)/,qe=/^(none|table(?!-c[ea]).+)/,Ee=new RegExp("^("+Dc+")(.*)$","i"),hf=new RegExp("^([+-])=("+Dc+")","i"),og={position:"absolute",visibility:"hidden",
display:"block"},ld={letterSpacing:"0",fontWeight:"400"},Ud=["Webkit","O","Moz","ms"];H.extend({cssHooks:{opacity:{get:function(r,B){if(B)return r=rd(r,"opacity"),""===r?"1":r}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Xa.cssFloat?"cssFloat":"styleFloat"},style:function(r,B,I,P){if(r&&3!==r.nodeType&&8!==r.nodeType&&r.style){var U,Y,fa,qa=H.camelCase(B),xa=r.style;if(B=
H.cssProps[qa]||(H.cssProps[qa]=R(xa,qa)),fa=H.cssHooks[B]||H.cssHooks[qa],void 0===I)return fa&&"get"in fa&&void 0!==(U=fa.get(r,!1,P))?U:xa[B];if(Y=typeof I,"string"===Y&&(U=hf.exec(I))&&(I=(U[1]+1)*U[2]+parseFloat(H.css(r,B)),Y="number"),null!=I&&I===I&&("number"!==Y||H.cssNumber[qa]||(I+="px"),Xa.clearCloneStyle||""!==I||0!==B.indexOf("background")||(xa[B]="inherit"),!(fa&&"set"in fa&&void 0===(I=fa.set(r,I,P)))))try{xa[B]=I}catch(Ja){}}},css:function(r,B,I,P){var U,Y,fa,qa=H.camelCase(B);return B=
H.cssProps[qa]||(H.cssProps[qa]=R(r.style,qa)),fa=H.cssHooks[B]||H.cssHooks[qa],fa&&"get"in fa&&(Y=fa.get(r,!0,I)),void 0===Y&&(Y=rd(r,B,P)),"normal"===Y&&B in ld&&(Y=ld[B]),""===I||I?(U=parseFloat(Y),!0===I||H.isNumeric(U)?U||0:Y):Y}});H.each(["height","width"],function(r,B){H.cssHooks[B]={get:function(I,P,U){return P?qe.test(H.css(I,"display"))&&0===I.offsetWidth?H.swap(I,og,function(){return Ia(I,B,U)}):Ia(I,B,U):void 0},set:function(I,P,U){var Y=U&&qd(I);return ha(I,P,U?ra(I,B,U,Xa.boxSizing&&
"border-box"===H.css(I,"boxSizing",!1,Y),Y):0)}}});Xa.opacity||(H.cssHooks.opacity={get:function(r,B){return gf.test((B&&r.currentStyle?r.currentStyle.filter:r.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":B?"1":""},set:function(r,B){var I=r.style;r=r.currentStyle;var P=H.isNumeric(B)?"alpha(opacity="+100*B+")":"",U=r&&r.filter||I.filter||"";I.zoom=1;(1<=B||""===B)&&""===H.trim(U.replace(Zd,""))&&I.removeAttribute&&(I.removeAttribute("filter"),""===B||r&&!r.filter)||(I.filter=Zd.test(U)?U.replace(Zd,
P):U+" "+P)}});H.cssHooks.marginRight=S(Xa.reliableMarginRight,function(r,B){return B?H.swap(r,{display:"inline-block"},rd,[r,"marginRight"]):void 0});H.each({margin:"",padding:"",border:"Width"},function(r,B){H.cssHooks[r+B]={expand:function(I){var P=0,U={};for(I="string"==typeof I?I.split(" "):[I];4>P;P++)U[r+Cc[P]+B]=I[P]||I[P-2]||I[0];return U}};ff.test(r)||(H.cssHooks[r+B].set=ha)});H.fn.extend({css:function(r,B){return rc(this,function(I,P,U){var Y,fa={},qa=0;if(H.isArray(P)){U=qd(I);for(Y=
P.length;Y>qa;qa++)fa[P[qa]]=H.css(I,P[qa],!1,U);return fa}return void 0!==U?H.style(I,P,U):H.css(I,P)},r,B,1<arguments.length)},show:function(){return ca(this,!0)},hide:function(){return ca(this)},toggle:function(r){return"boolean"==typeof r?r?this.show():this.hide():this.each(function(){jd(this)?H(this).show():H(this).hide()})}});H.Tween=ja;ja.prototype={constructor:ja,init:function(r,B,I,P,U,Y){this.elem=r;this.prop=I;this.easing=U||"swing";this.options=B;this.start=this.now=this.cur();this.end=
P;this.unit=Y||(H.cssNumber[I]?"":"px")},cur:function(){var r=ja.propHooks[this.prop];return r&&r.get?r.get(this):ja.propHooks._default.get(this)},run:function(r){var B,I=ja.propHooks[this.prop];return this.pos=B=this.options.duration?H.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):r,this.now=(this.end-this.start)*B+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),I&&I.set?I.set(this):ja.propHooks._default.set(this),this}};ja.prototype.init.prototype=
ja.prototype;ja.propHooks={_default:{get:function(r){var B;return null==r.elem[r.prop]||r.elem.style&&null!=r.elem.style[r.prop]?(B=H.css(r.elem,r.prop,""),B&&"auto"!==B?B:0):r.elem[r.prop]},set:function(r){H.fx.step[r.prop]?H.fx.step[r.prop](r):r.elem.style&&(null!=r.elem.style[H.cssProps[r.prop]]||H.cssHooks[r.prop])?H.style(r.elem,r.prop,r.now+r.unit):r.elem[r.prop]=r.now}}};ja.propHooks.scrollTop=ja.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}};
H.easing={linear:function(r){return r},swing:function(r){return.5-Math.cos(r*Math.PI)/2}};H.fx=ja.prototype.init;H.fx.step={};var Nc,Ld,re=/^(?:toggle|show|hide)$/,$d=new RegExp("^(?:([+-])=|)("+Dc+")([a-z%]*)$","i"),se=/queueHooks$/,td=[function(r,B,I){var P,U,Y,fa,qa,xa,Ja,za=this,Ra={},Za=r.style,pb=r.nodeType&&jd(r),mb=H._data(r,"fxshow");I.queue||(fa=H._queueHooks(r,"fx"),null==fa.unqueued&&(fa.unqueued=0,qa=fa.empty.fire,fa.empty.fire=function(){fa.unqueued||qa()}),fa.unqueued++,za.always(function(){za.always(function(){fa.unqueued--;
H.queue(r,"fx").length||fa.empty.fire()})}));1===r.nodeType&&("height"in B||"width"in B)&&(I.overflow=[Za.overflow,Za.overflowX,Za.overflowY],xa=H.css(r,"display"),Ja="none"===xa?H._data(r,"olddisplay")||T(r.nodeName):xa,"inline"===Ja&&"none"===H.css(r,"float")&&(Xa.inlineBlockNeedsLayout&&"inline"!==T(r.nodeName)?Za.zoom=1:Za.display="inline-block"));I.overflow&&(Za.overflow="hidden",Xa.shrinkWrapBlocks()||za.always(function(){Za.overflow=I.overflow[0];Za.overflowX=I.overflow[1];Za.overflowY=I.overflow[2]}));
for(P in B)if(U=B[P],re.exec(U)){if(delete B[P],Y=Y||"toggle"===U,U===(pb?"hide":"show")){if("show"!==U||!mb||void 0===mb[P])continue;pb=!0}Ra[P]=mb&&mb[P]||H.style(r,P)}else xa=void 0;if(H.isEmptyObject(Ra))"inline"===("none"===xa?T(r.nodeName):xa)&&(Za.display=xa);else for(P in mb?"hidden"in mb&&(pb=mb.hidden):mb=H._data(r,"fxshow",{}),Y&&(mb.hidden=!pb),pb?H(r).show():za.done(function(){H(r).hide()}),za.done(function(){var Gb;H._removeData(r,"fxshow");for(Gb in Ra)H.style(r,Gb,Ra[Gb])}),Ra)B=Da(pb?
mb[P]:0,P,za),P in mb||(mb[P]=B.start,pb&&(B.end=B.start,B.start="width"===P||"height"===P?1:0))}],sd={"*":[function(r,B){var I=this.createTween(r,B),P=I.cur(),U=(B=$d.exec(B))&&B[3]||(H.cssNumber[r]?"":"px"),Y=(H.cssNumber[r]||"px"!==U&&+P)&&$d.exec(H.css(I.elem,r)),fa=1,qa=20;if(Y&&Y[3]!==U){U=U||Y[3];B=B||[];Y=+P||1;do fa=fa||".5",Y/=fa,H.style(I.elem,r,Y+U);while(fa!==(fa=I.cur()/P)&&1!==fa&&--qa)}return B&&(Y=I.start=+Y||+P||0,I.unit=U,I.end=B[1]?Y+(B[1]+1)*B[2]:+B[2]),I}]};H.Animation=H.extend(Oa,
{tweener:function(r,B){H.isFunction(r)?(B=r,r=["*"]):r=r.split(" ");for(var I,P=0,U=r.length;U>P;P++)I=r[P],sd[I]=sd[I]||[],sd[I].unshift(B)},prefilter:function(r,B){B?td.unshift(r):td.push(r)}});H.speed=function(r,B,I){var P=r&&"object"==typeof r?H.extend({},r):{complete:I||!I&&B||H.isFunction(r)&&r,duration:r,easing:I&&B||B&&!H.isFunction(B)&&B};return P.duration=H.fx.off?0:"number"==typeof P.duration?P.duration:P.duration in H.fx.speeds?H.fx.speeds[P.duration]:H.fx.speeds._default,(null==P.queue||
!0===P.queue)&&(P.queue="fx"),P.old=P.complete,P.complete=function(){H.isFunction(P.old)&&P.old.call(this);P.queue&&H.dequeue(this,P.queue)},P};H.fn.extend({fadeTo:function(r,B,I,P){return this.filter(jd).css("opacity",0).show().end().animate({opacity:B},r,I,P)},animate:function(r,B,I,P){var U=H.isEmptyObject(r),Y=H.speed(B,I,P);B=function(){var fa=Oa(this,H.extend({},r),Y);(U||H._data(this,"finish"))&&fa.stop(!0)};return B.finish=B,U||!1===Y.queue?this.each(B):this.queue(Y.queue,B)},stop:function(r,
B,I){var P=function(U){var Y=U.stop;delete U.stop;Y(I)};return"string"!=typeof r&&(I=B,B=r,r=void 0),B&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var U=!0,Y=null!=r&&r+"queueHooks",fa=H.timers,qa=H._data(this);if(Y)qa[Y]&&qa[Y].stop&&P(qa[Y]);else for(Y in qa)qa[Y]&&qa[Y].stop&&se.test(Y)&&P(qa[Y]);for(Y=fa.length;Y--;)fa[Y].elem!==this||null!=r&&fa[Y].queue!==r||(fa[Y].anim.stop(I),U=!1,fa.splice(Y,1));!U&&I||H.dequeue(this,r)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var B=
H._data(this),I=B[r+"queue"];var P=B[r+"queueHooks"];var U=H.timers,Y=I?I.length:0;B.finish=!0;H.queue(this,r,[]);P&&P.stop&&P.stop.call(this,!0);for(P=U.length;P--;)U[P].elem===this&&U[P].queue===r&&(U[P].anim.stop(!0),U.splice(P,1));for(P=0;Y>P;P++)I[P]&&I[P].finish&&I[P].finish.call(this);delete B.finish})}});H.each(["toggle","show","hide"],function(r,B){var I=H.fn[B];H.fn[B]=function(P,U,Y){return null==P||"boolean"==typeof P?I.apply(this,arguments):this.animate(Aa(B,!0),P,U,Y)}});H.each({slideDown:Aa("show"),
slideUp:Aa("hide"),slideToggle:Aa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(r,B){H.fn[r]=function(I,P,U){return this.animate(B,I,P,U)}});H.timers=[];H.fx.tick=function(){var r=H.timers,B=0;for(Nc=H.now();B<r.length;B++){var I=r[B];I()||r[B]!==I||r.splice(B--,1)}r.length||H.fx.stop();Nc=void 0};H.fx.timer=function(r){H.timers.push(r);r()?H.fx.start():H.timers.pop()};H.fx.interval=13;H.fx.start=function(){Ld||(Ld=setInterval(H.fx.tick,H.fx.interval))};
H.fx.stop=function(){clearInterval(Ld);Ld=null};H.fx.speeds={slow:600,fast:200,_default:400};H.fn.delay=function(r,B){return r=H.fx?H.fx.speeds[r]||r:r,B=B||"fx",this.queue(B,function(I,P){var U=setTimeout(I,r);P.stop=function(){clearTimeout(U)}})};(function(){var r=Pa.createElement("div");r.setAttribute("className","t");r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";var B=r.getElementsByTagName("a")[0];var I=Pa.createElement("select");var P=I.appendChild(Pa.createElement("option"));
var U=r.getElementsByTagName("input")[0];B.style.cssText="top:1px";Xa.getSetAttribute="t"!==r.className;Xa.style=/top/.test(B.getAttribute("style"));Xa.hrefNormalized="/a"===B.getAttribute("href");Xa.checkOn=!!U.value;Xa.optSelected=P.selected;Xa.enctype=!!Pa.createElement("form").enctype;I.disabled=!0;Xa.optDisabled=!P.disabled;U=Pa.createElement("input");U.setAttribute("value","");Xa.input=""===U.getAttribute("value");U.value="t";U.setAttribute("type","radio");Xa.radioValue="t"===U.value})();var ae=
/\r/g;H.fn.extend({val:function(r){var B,I,P,U=this[0];if(arguments.length)return P=H.isFunction(r),this.each(function(Y){var fa;1===this.nodeType&&(fa=P?r.call(this,Y,H(this).val()):r,null==fa?fa="":"number"==typeof fa?fa+="":H.isArray(fa)&&(fa=H.map(fa,function(qa){return null==qa?"":qa+""})),B=H.valHooks[this.type]||H.valHooks[this.nodeName.toLowerCase()],B&&"set"in B&&void 0!==B.set(this,fa,"value")||(this.value=fa))});if(U)return B=H.valHooks[U.type]||H.valHooks[U.nodeName.toLowerCase()],B&&
"get"in B&&void 0!==(I=B.get(U,"value"))?I:(I=U.value,"string"==typeof I?I.replace(ae,""):null==I?"":I)}});H.extend({valHooks:{option:{get:function(r){var B=H.find.attr(r,"value");return null!=B?B:H.trim(H.text(r))}},select:{get:function(r){for(var B,I=r.options,P=r.selectedIndex,U="select-one"===r.type||0>P,Y=U?null:[],fa=U?P+1:I.length,qa=0>P?fa:U?P:0;fa>qa;qa++)if(B=I[qa],!(!B.selected&&qa!==P||(Xa.optDisabled?B.disabled:null!==B.getAttribute("disabled"))||B.parentNode.disabled&&H.nodeName(B.parentNode,
"optgroup"))){if(r=H(B).val(),U)return r;Y.push(r)}return Y},set:function(r,B){var I,P,U=r.options;B=H.makeArray(B);for(var Y=U.length;Y--;)if(P=U[Y],0<=H.inArray(H.valHooks.option.get(P),B))try{P.selected=I=!0}catch(fa){P.scrollHeight}else P.selected=!1;return I||(r.selectedIndex=-1),U}}}});H.each(["radio","checkbox"],function(){H.valHooks[this]={set:function(r,B){return H.isArray(B)?r.checked=0<=H.inArray(H(r).val(),B):void 0}};Xa.checkOn||(H.valHooks[this].get=function(r){return null===r.getAttribute("value")?
"on":r.value})});var zd,dd=H.expr.attrHandle,Ke=/^(?:checked|selected)$/i,md=Xa.getSetAttribute,ed=Xa.input;H.fn.extend({attr:function(r,B){return rc(this,H.attr,r,B,1<arguments.length)},removeAttr:function(r){return this.each(function(){H.removeAttr(this,r)})}});H.extend({attr:function(r,B,I){var P,U,Y=r.nodeType;if(r&&3!==Y&&8!==Y&&2!==Y)return"undefined"===typeof r.getAttribute?H.prop(r,B,I):(1===Y&&H.isXMLDoc(r)||(B=B.toLowerCase(),P=H.attrHooks[B]||(H.expr.match.bool.test(B)?jf:zd)),void 0===
I?P&&"get"in P&&null!==(U=P.get(r,B))?U:(U=H.find.attr(r,B),null==U?void 0:U):null!==I?P&&"set"in P&&void 0!==(U=P.set(r,I,B))?U:(r.setAttribute(B,I+""),I):void H.removeAttr(r,B))},removeAttr:function(r,B){var I=0,P=B&&B.match(zc);if(P&&1===r.nodeType)for(;B=P[I++];){var U=H.propFix[B]||B;H.expr.match.bool.test(B)?ed&&md||!Ke.test(B)?r[U]=!1:r[H.camelCase("default-"+B)]=r[U]=!1:H.attr(r,B,"");r.removeAttribute(md?B:U)}},attrHooks:{type:{set:function(r,B){if(!Xa.radioValue&&"radio"===B&&H.nodeName(r,
"input")){var I=r.value;return r.setAttribute("type",B),I&&(r.value=I),B}}}}});var jf={set:function(r,B,I){return!1===B?H.removeAttr(r,I):ed&&md||!Ke.test(I)?r.setAttribute(!md&&H.propFix[I]||I,I):r[H.camelCase("default-"+I)]=r[I]=!0,I}};H.each(H.expr.match.bool.source.match(/\w+/g),function(r,B){var I=dd[B]||H.find.attr;dd[B]=ed&&md||!Ke.test(B)?function(P,U,Y){var fa,qa;return Y||(qa=dd[U],dd[U]=fa,fa=null!=I(P,U,Y)?U.toLowerCase():null,dd[U]=qa),fa}:function(P,U,Y){return Y?void 0:P[H.camelCase("default-"+
U)]?U.toLowerCase():null}});ed&&md||(H.attrHooks.value={set:function(r,B,I){return H.nodeName(r,"input")?void(r.defaultValue=B):zd&&zd.set(r,B,I)}});md||(zd={set:function(r,B,I){var P=r.getAttributeNode(I);return P||r.setAttributeNode(P=r.ownerDocument.createAttribute(I)),P.value=B+="","value"===I||B===r.getAttribute(I)?B:void 0}},dd.id=dd.name=dd.coords=function(r,B,I){var P;return I?void 0:(P=r.getAttributeNode(B))&&""!==P.value?P.value:null},H.valHooks.button={get:function(r,B){return(r=r.getAttributeNode(B))&&
r.specified?r.value:void 0},set:zd.set},H.attrHooks.contenteditable={set:function(r,B,I){zd.set(r,""===B?!1:B,I)}},H.each(["width","height"],function(r,B){H.attrHooks[B]={set:function(I,P){return""===P?(I.setAttribute(B,"auto"),P):void 0}}}));Xa.style||(H.attrHooks.style={get:function(r){return r.style.cssText||void 0},set:function(r,B){return r.style.cssText=B+""}});var kf=/^(?:input|select|textarea|button|object)$/i,te=/^(?:a|area)$/i;H.fn.extend({prop:function(r,B){return rc(this,H.prop,r,B,1<
arguments.length)},removeProp:function(r){return r=H.propFix[r]||r,this.each(function(){try{this[r]=void 0,delete this[r]}catch(B){}})}});H.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(r,B,I){var P,U,Y,fa=r.nodeType;if(r&&3!==fa&&8!==fa&&2!==fa)return Y=1!==fa||!H.isXMLDoc(r),Y&&(B=H.propFix[B]||B,U=H.propHooks[B]),void 0!==I?U&&"set"in U&&void 0!==(P=U.set(r,I,B))?P:r[B]=I:U&&"get"in U&&null!==(P=U.get(r,B))?P:r[B]},propHooks:{tabIndex:{get:function(r){var B=H.find.attr(r,
"tabindex");return B?parseInt(B,10):kf.test(r.nodeName)||te.test(r.nodeName)&&r.href?0:-1}}}});Xa.hrefNormalized||H.each(["href","src"],function(r,B){H.propHooks[B]={get:function(I){return I.getAttribute(B,4)}}});Xa.optSelected||(H.propHooks.selected={get:function(r){r=r.parentNode;return r&&(r.selectedIndex,r.parentNode&&r.parentNode.selectedIndex),null}});H.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){H.propFix[this.toLowerCase()]=
this});Xa.enctype||(H.propFix.enctype="encoding");var ue=/[\t\r\n\f]/g;H.fn.extend({addClass:function(r){var B,I,P,U,Y=0,fa=this.length;var qa="string"==typeof r&&r;if(H.isFunction(r))return this.each(function(xa){H(this).addClass(r.call(this,xa,this.className))});if(qa)for(qa=(r||"").match(zc)||[];fa>Y;Y++)if(B=this[Y],I=1===B.nodeType&&(B.className?(" "+B.className+" ").replace(ue," "):" ")){for(U=0;P=qa[U++];)0>I.indexOf(" "+P+" ")&&(I+=P+" ");I=H.trim(I);B.className!==I&&(B.className=I)}return this},
removeClass:function(r){var B,I,P,U,Y=0,fa=this.length;var qa=0===arguments.length||"string"==typeof r&&r;if(H.isFunction(r))return this.each(function(xa){H(this).removeClass(r.call(this,xa,this.className))});if(qa)for(qa=(r||"").match(zc)||[];fa>Y;Y++)if(B=this[Y],I=1===B.nodeType&&(B.className?(" "+B.className+" ").replace(ue," "):"")){for(U=0;P=qa[U++];)for(;0<=I.indexOf(" "+P+" ");)I=I.replace(" "+P+" "," ");I=r?H.trim(I):"";B.className!==I&&(B.className=I)}return this},toggleClass:function(r,
B){var I=typeof r;return"boolean"==typeof B&&"string"===I?B?this.addClass(r):this.removeClass(r):this.each(H.isFunction(r)?function(P){H(this).toggleClass(r.call(this,P,this.className,B),B)}:function(){if("string"===I)for(var P,U=0,Y=H(this),fa=r.match(zc)||[];P=fa[U++];)Y.hasClass(P)?Y.removeClass(P):Y.addClass(P);else("undefined"===I||"boolean"===I)&&(this.className&&H._data(this,"__className__",this.className),this.className=this.className||!1===r?"":H._data(this,"__className__")||"")})},hasClass:function(r){r=
" "+r+" ";for(var B=0,I=this.length;I>B;B++)if(1===this[B].nodeType&&0<=(" "+this[B].className+" ").replace(ue," ").indexOf(r))return!0;return!1}});H.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(r,B){H.fn[B]=function(I,P){return 0<arguments.length?this.on(B,null,I,P):this.trigger(B)}});H.fn.extend({hover:function(r,B){return this.mouseenter(r).mouseleave(B||
r)},bind:function(r,B,I){return this.on(r,null,B,I)},unbind:function(r,B){return this.off(r,null,B)},delegate:function(r,B,I,P){return this.on(B,r,I,P)},undelegate:function(r,B,I){return 1===arguments.length?this.off(r,"**"):this.off(B,r||"**",I)}});var Le=H.now(),ve=/\?/,pg=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;H.parseJSON=function(r){if(d.JSON&&d.JSON.parse)return d.JSON.parse(r+"");var B,I=null,P=H.trim(r+
"");return P&&!H.trim(P.replace(pg,function(U,Y,fa,qa){return B&&Y&&(I=0),0===I?U:(B=fa||Y,I+=!qa-!fa,"")}))?Function("return "+P)():H.error("Invalid JSON: "+r)};H.parseXML=function(r){var B,I;if(!r||"string"!=typeof r)return null;try{d.DOMParser?(I=new DOMParser,B=I.parseFromString(r,"text/xml")):(B=new ActiveXObject("Microsoft.XMLDOM"),B.async="false",B.loadXML(r))}catch(P){B=void 0}return B&&B.documentElement&&!B.getElementsByTagName("parsererror").length||H.error("Invalid XML: "+r),B};var qg=
/#.*$/,Me=/([?&])_=[^&]*/,lf=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ne=/^(?:GET|HEAD)$/,mf=/^\/\//,nf=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,of={},ke={},nd="*/".concat("*");try{var od=location.href}catch(r){od=Pa.createElement("a"),od.href="",od=od.href}var Ad=nf.exec(od.toLowerCase())||[];H.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:od,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ad[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":nd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":H.parseJSON,"text xml":H.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,B){return B?Qa(Qa(r,H.ajaxSettings),B):Qa(H.ajaxSettings,r)},ajaxPrefilter:Ga(of),ajaxTransport:Ga(ke),ajax:function(r,
B){function I(xb,Jb,Qb,Pb){var wc,pc,Kb,Wb=Jb;if(2!==vc){vc=2;fa&&clearTimeout(fa);xa=void 0;Y=Pb||"";wb.readyState=0<xb?4:0;Pb=200<=xb&&300>xb||304===xb;if(Qb){var Vb=za;for(var Fc=wb,yb,ac,Ub,Lb,ad=Vb.contents,qc=Vb.dataTypes;"*"===qc[0];)qc.shift(),void 0===ac&&(ac=Vb.mimeType||Fc.getResponseHeader("Content-Type"));if(ac)for(Lb in ad)if(ad[Lb]&&ad[Lb].test(ac)){qc.unshift(Lb);break}if(qc[0]in Qb)Ub=qc[0];else{for(Lb in Qb){if(!qc[0]||Vb.converters[Lb+" "+qc[0]]){Ub=Lb;break}yb||(yb=Lb)}Ub=Ub||
yb}Vb=Ub?(Ub!==qc[0]&&qc.unshift(Ub),Qb[Ub]):void 0}a:{Qb=za;yb=Vb;ac=wb;Ub=Pb;var cc,Qc,Kc;Vb={};Fc=Qb.dataTypes.slice();if(Fc[1])for(cc in Qb.converters)Vb[cc.toLowerCase()]=Qb.converters[cc];for(Lb=Fc.shift();Lb;)if(Qb.responseFields[Lb]&&(ac[Qb.responseFields[Lb]]=yb),!Kc&&Ub&&Qb.dataFilter&&(yb=Qb.dataFilter(yb,Qb.dataType)),Kc=Lb,Lb=Fc.shift())if("*"===Lb)Lb=Kc;else if("*"!==Kc&&Kc!==Lb){if(cc=Vb[Kc+" "+Lb]||Vb["* "+Lb],!cc)for(xc in Vb)if(Qc=xc.split(" "),Qc[1]===Lb&&(cc=Vb[Kc+" "+Qc[0]]||
Vb["* "+Qc[0]])){!0===cc?cc=Vb[xc]:!0!==Vb[xc]&&(Lb=Qc[0],Fc.unshift(Qc[1]));break}if(!0!==cc)if(cc&&Qb["throws"])yb=cc(yb);else try{yb=cc(yb)}catch(Ge){var xc={state:"parsererror",error:cc?Ge:"No conversion from "+Kc+" to "+Lb};break a}}xc={state:"success",data:yb}}Vb=xc;Pb?(za.ifModified&&(Kb=wb.getResponseHeader("Last-Modified"),Kb&&(H.lastModified[uc]=Kb),Kb=wb.getResponseHeader("etag"),Kb&&(H.etag[uc]=Kb)),204===xb||"HEAD"===za.type?Wb="nocontent":304===xb?Wb="notmodified":(Wb=Vb.state,wc=Vb.data,
pc=Vb.error,Pb=!pc)):(pc=Wb,(xb||!Wb)&&(Wb="error",0>xb&&(xb=0)));wb.status=xb;wb.statusText=(Jb||Wb)+"";Pb?pb.resolveWith(Ra,[wc,Wb,wb]):pb.rejectWith(Ra,[wb,Wb,pc]);wb.statusCode(Gb);Gb=void 0;qa&&Za.trigger(Pb?"ajaxSuccess":"ajaxError",[wb,za,Pb?wc:pc]);mb.fireWith(Ra,[wb,Wb]);qa&&(Za.trigger("ajaxComplete",[wb,za]),--H.active||H.event.trigger("ajaxStop"))}}"object"==typeof r&&(B=r,r=void 0);B=B||{};var P,U,Y,fa,qa,xa,Ja,za=H.ajaxSetup({},B),Ra=za.context||za,Za=za.context&&(Ra.nodeType||Ra.jquery)?
H(Ra):H.event,pb=H.Deferred(),mb=H.Callbacks("once memory"),Gb=za.statusCode||{},Yb={},Id={},vc=0,Pc="canceled",wb={readyState:0,getResponseHeader:function(xb){var Jb;if(2===vc){if(!Ja)for(Ja={};Jb=lf.exec(Y);)Ja[Jb[1].toLowerCase()]=Jb[2];Jb=Ja[xb.toLowerCase()]}return null==Jb?null:Jb},getAllResponseHeaders:function(){return 2===vc?Y:null},setRequestHeader:function(xb,Jb){var Qb=xb.toLowerCase();return vc||(xb=Id[Qb]=Id[Qb]||xb,Yb[xb]=Jb),this},overrideMimeType:function(xb){return vc||(za.mimeType=
xb),this},statusCode:function(xb){var Jb;if(xb)if(2>vc)for(Jb in xb)Gb[Jb]=[Gb[Jb],xb[Jb]];else wb.always(xb[wb.status]);return this},abort:function(xb){xb=xb||Pc;return xa&&xa.abort(xb),I(0,xb),this}};if(pb.promise(wb).complete=mb.add,wb.success=wb.done,wb.error=wb.fail,za.url=((r||za.url||od)+"").replace(qg,"").replace(mf,Ad[1]+"//"),za.type=B.method||B.type||za.method||za.type,za.dataTypes=H.trim(za.dataType||"*").toLowerCase().match(zc)||[""],null==za.crossDomain&&(P=nf.exec(za.url.toLowerCase()),
za.crossDomain=!(!P||P[1]===Ad[1]&&P[2]===Ad[2]&&(P[3]||("http:"===P[1]?"80":"443"))===(Ad[3]||("http:"===Ad[1]?"80":"443")))),za.data&&za.processData&&"string"!=typeof za.data&&(za.data=H.param(za.data,za.traditional)),wa(of,za,B,wb),2===vc)return wb;(qa=za.global)&&0===H.active++&&H.event.trigger("ajaxStart");za.type=za.type.toUpperCase();za.hasContent=!Ne.test(za.type);var uc=za.url;za.hasContent||(za.data&&(uc=za.url+=(ve.test(uc)?"&":"?")+za.data,delete za.data),!1===za.cache&&(za.url=Me.test(uc)?
uc.replace(Me,"$1_="+Le++):uc+(ve.test(uc)?"&":"?")+"_="+Le++));za.ifModified&&(H.lastModified[uc]&&wb.setRequestHeader("If-Modified-Since",H.lastModified[uc]),H.etag[uc]&&wb.setRequestHeader("If-None-Match",H.etag[uc]));(za.data&&za.hasContent&&!1!==za.contentType||B.contentType)&&wb.setRequestHeader("Content-Type",za.contentType);wb.setRequestHeader("Accept",za.dataTypes[0]&&za.accepts[za.dataTypes[0]]?za.accepts[za.dataTypes[0]]+("*"!==za.dataTypes[0]?", "+nd+"; q=0.01":""):za.accepts["*"]);for(U in za.headers)wb.setRequestHeader(U,
za.headers[U]);if(za.beforeSend&&(!1===za.beforeSend.call(Ra,wb,za)||2===vc))return wb.abort();Pc="abort";for(U in{success:1,error:1,complete:1})wb[U](za[U]);if(xa=wa(ke,za,B,wb)){wb.readyState=1;qa&&Za.trigger("ajaxSend",[wb,za]);za.async&&0<za.timeout&&(fa=setTimeout(function(){wb.abort("timeout")},za.timeout));try{vc=1,xa.send(Yb,I)}catch(xb){if(!(2>vc))throw xb;I(-1,xb)}}else I(-1,"No Transport");return wb},getJSON:function(r,B,I){return H.get(r,B,I,"json")},getScript:function(r,B){return H.get(r,
void 0,B,"script")}});H.each(["get","post"],function(r,B){H[B]=function(I,P,U,Y){return H.isFunction(P)&&(Y=Y||U,U=P,P=void 0),H.ajax({url:I,type:B,dataType:Y,data:P,success:U})}});H.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(r,B){H.fn[B]=function(I){return this.on(B,I)}});H._evalUrl=function(r){return H.ajax({url:r,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};H.fn.extend({wrapAll:function(r){if(H.isFunction(r))return this.each(function(I){H(this).wrapAll(r.call(this,
I))});if(this[0]){var B=H(r,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&B.insertBefore(this[0]);B.map(function(){for(var I=this;I.firstChild&&1===I.firstChild.nodeType;)I=I.firstChild;return I}).append(this)}return this},wrapInner:function(r){return this.each(H.isFunction(r)?function(B){H(this).wrapInner(r.call(this,B))}:function(){var B=H(this),I=B.contents();I.length?I.wrapAll(r):B.append(r)})},wrap:function(r){var B=H.isFunction(r);return this.each(function(I){H(this).wrapAll(B?
r.call(this,I):r)})},unwrap:function(){return this.parent().each(function(){H.nodeName(this,"body")||H(this).replaceWith(this.childNodes)}).end()}});H.expr.filters.hidden=function(r){return 0>=r.offsetWidth&&0>=r.offsetHeight||!Xa.reliableHiddenOffsets()&&"none"===(r.style&&r.style.display||H.css(r,"display"))};H.expr.filters.visible=function(r){return!H.expr.filters.hidden(r)};var rg=/%20/g,cg=/\[\]$/,Oe=/\r?\n/g,sg=/^(?:submit|button|image|reset|file)$/i,pf=/^(?:input|select|textarea|keygen)/i;
H.param=function(r,B){var I,P=[],U=function(Y,fa){fa=H.isFunction(fa)?fa():null==fa?"":fa;P[P.length]=encodeURIComponent(Y)+"="+encodeURIComponent(fa)};if(void 0===B&&(B=H.ajaxSettings&&H.ajaxSettings.traditional),H.isArray(r)||r.jquery&&!H.isPlainObject(r))H.each(r,function(){U(this.name,this.value)});else for(I in r)Wa(I,r[I],B,U);return P.join("&").replace(rg,"+")};H.fn.extend({serialize:function(){return H.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=
H.prop(this,"elements");return r?H.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!H(this).is(":disabled")&&pf.test(this.nodeName)&&!sg.test(r)&&(this.checked||!Gd.test(r))}).map(function(r,B){r=H(this).val();return null==r?null:H.isArray(r)?H.map(r,function(I){return{name:B.name,value:I.replace(Oe,"\r\n")}}):{name:B.name,value:r.replace(Oe,"\r\n")}}).get()}});H.ajaxSettings.xhr=void 0!==d.ActiveXObject?function(){var r;if(!(r=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&
Ba()))a:{try{r=new d.ActiveXObject("Microsoft.XMLHTTP");break a}catch(B){}r=void 0}return r}:Ba;var qf=0,Tc={},Md=H.ajaxSettings.xhr();d.ActiveXObject&&H(d).on("unload",function(){for(var r in Tc)Tc[r](void 0,!0)});Xa.cors=!!Md&&"withCredentials"in Md;(Md=Xa.ajax=!!Md)&&H.ajaxTransport(function(r){if(!r.crossDomain||Xa.cors){var B;return{send:function(I,P){var U,Y=r.xhr(),fa=++qf;if(Y.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(U in r.xhrFields)Y[U]=r.xhrFields[U];r.mimeType&&
Y.overrideMimeType&&Y.overrideMimeType(r.mimeType);r.crossDomain||I["X-Requested-With"]||(I["X-Requested-With"]="XMLHttpRequest");for(U in I)void 0!==I[U]&&Y.setRequestHeader(U,I[U]+"");Y.send(r.hasContent&&r.data||null);B=function(qa,xa){if(B&&(xa||4===Y.readyState))if(delete Tc[fa],B=void 0,Y.onreadystatechange=H.noop,xa)4!==Y.readyState&&Y.abort();else{var Ja={};var za=Y.status;"string"==typeof Y.responseText&&(Ja.text=Y.responseText);try{var Ra=Y.statusText}catch(Za){Ra=""}za||!r.isLocal||r.crossDomain?
1223===za&&(za=204):za=Ja.text?200:404}Ja&&P(za,Ra,Ja,Y.getAllResponseHeaders())};r.async?4===Y.readyState?setTimeout(B):Y.onreadystatechange=Tc[fa]=B:B()},abort:function(){B&&B(void 0,!0)}}}});H.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(r){return H.globalEval(r),r}}});H.ajaxPrefilter("script",function(r){void 0===r.cache&&(r.cache=!1);r.crossDomain&&
(r.type="GET",r.global=!1)});H.ajaxTransport("script",function(r){if(r.crossDomain){var B,I=Pa.head||H("head")[0]||Pa.documentElement;return{send:function(P,U){B=Pa.createElement("script");B.async=!0;r.scriptCharset&&(B.charset=r.scriptCharset);B.src=r.url;B.onload=B.onreadystatechange=function(Y,fa){(fa||!B.readyState||/loaded|complete/.test(B.readyState))&&(B.onload=B.onreadystatechange=null,B.parentNode&&B.parentNode.removeChild(B),B=null,fa||U(200,"success"))};I.insertBefore(B,I.firstChild)},
abort:function(){B&&B.onload(void 0,!0)}}}});var Pe=[],Bd=/(=)\?(?=&|$)|\?\?/;H.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=Pe.pop()||H.expando+"_"+Le++;return this[r]=!0,r}});H.ajaxPrefilter("json jsonp",function(r,B,I){var P,U,Y,fa=!1!==r.jsonp&&(Bd.test(r.url)?"url":"string"==typeof r.data&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bd.test(r.data)&&"data");return fa||"jsonp"===r.dataTypes[0]?(P=r.jsonpCallback=H.isFunction(r.jsonpCallback)?r.jsonpCallback():
r.jsonpCallback,fa?r[fa]=r[fa].replace(Bd,"$1"+P):!1!==r.jsonp&&(r.url+=(ve.test(r.url)?"&":"?")+r.jsonp+"="+P),r.converters["script json"]=function(){return Y||H.error(P+" was not called"),Y[0]},r.dataTypes[0]="json",U=d[P],d[P]=function(){Y=arguments},I.always(function(){d[P]=U;r[P]&&(r.jsonpCallback=B.jsonpCallback,Pe.push(P));Y&&H.isFunction(U)&&U(Y[0]);Y=U=void 0}),"script"):void 0});H.parseHTML=function(r,B,I){if(!r||"string"!=typeof r)return null;"boolean"==typeof B&&(I=B,B=!1);B=B||Pa;var P=
Gc.exec(r);I=!I&&[];return P?[B.createElement(P[1])]:(P=H.buildFragment([r],B,I),I&&I.length&&H(I).remove(),H.merge([],P.childNodes))};var Qe=H.fn.load;H.fn.load=function(r,B,I){if("string"!=typeof r&&Qe)return Qe.apply(this,arguments);var P,U,Y,fa=this,qa=r.indexOf(" ");return 0<=qa&&(P=H.trim(r.slice(qa,r.length)),r=r.slice(0,qa)),H.isFunction(B)?(I=B,B=void 0):B&&"object"==typeof B&&(Y="POST"),0<fa.length&&H.ajax({url:r,type:Y,dataType:"html",data:B}).done(function(xa){U=arguments;fa.html(P?H("<div>").append(H.parseHTML(xa)).find(P):
xa)}).complete(I&&function(xa,Ja){fa.each(I,U||[xa.responseText,Ja,xa])}),this};H.expr.filters.animated=function(r){return H.grep(H.timers,function(B){return r===B.elem}).length};var we=d.document.documentElement;H.offset={setOffset:function(r,B,I){var P,U,Y,fa=H.css(r,"position"),qa=H(r),xa={};"static"===fa&&(r.style.position="relative");var Ja=qa.offset();var za=H.css(r,"top");var Ra=H.css(r,"left");("absolute"===fa||"fixed"===fa)&&-1<H.inArray("auto",[za,Ra])?(P=qa.position(),Y=P.top,U=P.left):
(Y=parseFloat(za)||0,U=parseFloat(Ra)||0);H.isFunction(B)&&(B=B.call(r,I,Ja));null!=B.top&&(xa.top=B.top-Ja.top+Y);null!=B.left&&(xa.left=B.left-Ja.left+U);"using"in B?B.using.call(r,xa):qa.css(xa)}};H.fn.extend({offset:function(r){if(arguments.length)return void 0===r?this:this.each(function(fa){H.offset.setOffset(this,r,fa)});var B,I,P={top:0,left:0},U=this[0],Y=U&&U.ownerDocument;if(Y)return B=Y.documentElement,H.contains(B,U)?("undefined"!==typeof U.getBoundingClientRect&&(P=U.getBoundingClientRect()),
I=Sa(Y),{top:P.top+(I.pageYOffset||B.scrollTop)-(B.clientTop||0),left:P.left+(I.pageXOffset||B.scrollLeft)-(B.clientLeft||0)}):P},position:function(){if(this[0]){var r,B,I={top:0,left:0},P=this[0];return"fixed"===H.css(P,"position")?B=P.getBoundingClientRect():(r=this.offsetParent(),B=this.offset(),H.nodeName(r[0],"html")||(I=r.offset()),I.top+=H.css(r[0],"borderTopWidth",!0),I.left+=H.css(r[0],"borderLeftWidth",!0)),{top:B.top-I.top-H.css(P,"marginTop",!0),left:B.left-I.left-H.css(P,"marginLeft",
!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent||we;r&&!H.nodeName(r,"html")&&"static"===H.css(r,"position");)r=r.offsetParent;return r||we})}});H.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,B){var I=/Y/.test(B);H.fn[r]=function(P){return rc(this,function(U,Y,fa){var qa=Sa(U);return void 0===fa?qa?B in qa?qa[B]:qa.document.documentElement[Y]:U[Y]:void(qa?qa.scrollTo(I?H(qa).scrollLeft():fa,I?fa:H(qa).scrollTop()):U[Y]=fa)},r,P,arguments.length,
null)}});H.each(["top","left"],function(r,B){H.cssHooks[B]=S(Xa.pixelPosition,function(I,P){return P?(P=rd(I,B),je.test(P)?H(I).position()[B]+"px":P):void 0})});H.each({Height:"height",Width:"width"},function(r,B){H.each({padding:"inner"+r,content:B,"":"outer"+r},function(I,P){H.fn[P]=function(U,Y){var fa=arguments.length&&(I||"boolean"!=typeof U),qa=I||(!0===U||!0===Y?"margin":"border");return rc(this,function(xa,Ja,za){var Ra;return H.isWindow(xa)?xa.document.documentElement["client"+r]:9===xa.nodeType?
(Ra=xa.documentElement,Math.max(xa.body["scroll"+r],Ra["scroll"+r],xa.body["offset"+r],Ra["offset"+r],Ra["client"+r])):void 0===za?H.css(xa,Ja,qa):H.style(xa,Ja,za,qa)},B,fa?U:void 0,fa,null)}})});H.fn.size=function(){return this.length};H.fn.andSelf=H.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return H});var rf=d.jQuery,sf=d.$;return H.noConflict=function(r){return d.$===H&&(d.$=sf),r&&d.jQuery===H&&(d.jQuery=rf),H},"undefined"===typeof N&&(d.jQuery=d.$=H),H});/*
 jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0);
(function(d,N,W){function a(ja){var ma=N.console;g[ja]||(g[ja]=!0,d.migrateWarnings.push(ja),ma&&ma.warn&&!d.migrateMute&&(ma.warn("JQMIGRATE: "+ja),d.migrateTrace&&ma.trace&&ma.trace()))}function f(ja,ma,Aa,Da){if(Object.defineProperty)try{return Object.defineProperty(ja,ma,{configurable:!0,enumerable:!0,get:function(){return a(Da),Aa},set:function(Fa){a(Da);Aa=Fa}}),W}catch(Fa){}d._definePropertyBroken=!0;ja[ma]=Aa}var g={};d.migrateWarnings=[];!d.migrateMute&&N.console&&N.console.log&&N.console.log("JQMIGRATE: Logging is active");
d.migrateTrace===W&&(d.migrateTrace=!0);d.migrateReset=function(){g={};d.migrateWarnings.length=0};"BackCompat"===document.compatMode&&a("jQuery is not compatible with Quirks Mode");var h=d("<input/>",{size:1}).attr("size")&&d.attrFn,e=d.attr,l=d.attrHooks.value&&d.attrHooks.value.get||function(){return null},p=d.attrHooks.value&&d.attrHooks.value.set||function(){return W},u=/^(?:input|button)$/i,c=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
n=/^(?:checked|selected)$/i;f(d,"attrFn",h||{},"jQuery.attrFn is deprecated");d.attr=function(ja,ma,Aa,Da){var Fa=ma.toLowerCase(),Oa=ja&&ja.nodeType;return Da&&(4>e.length&&a("jQuery.fn.attr( props, pass ) is deprecated"),ja&&!c.test(Oa)&&(h?ma in h:d.isFunction(d.fn[ma])))?d(ja)[ma](Aa):("type"===ma&&Aa!==W&&u.test(ja.nodeName)&&ja.parentNode&&a("Can't change the 'type' of an input or button in IE 6/7/8"),!d.attrHooks[Fa]&&m.test(Fa)&&(d.attrHooks[Fa]={get:function(Ga,wa){var Qa,Wa=d.prop(Ga,wa);
return!0===Wa||"boolean"!=typeof Wa&&(Qa=Ga.getAttributeNode(wa))&&!1!==Qa.nodeValue?wa.toLowerCase():W},set:function(Ga,wa,Qa){var Wa;return!1===wa?d.removeAttr(Ga,Qa):(Wa=d.propFix[Qa]||Qa,Wa in Ga&&(Ga[Wa]=!0),Ga.setAttribute(Qa,Qa.toLowerCase())),Qa}},n.test(Fa)&&a("jQuery.fn.attr('"+Fa+"') may use property instead of attribute")),e.call(d,ja,ma,Aa))};d.attrHooks.value={get:function(ja,ma){var Aa=(ja.nodeName||"").toLowerCase();return"button"===Aa?l.apply(this,arguments):("input"!==Aa&&"option"!==
Aa&&a("jQuery.fn.attr('value') no longer gets properties"),ma in ja?ja.value:null)},set:function(ja,ma){var Aa=(ja.nodeName||"").toLowerCase();return"button"===Aa?p.apply(this,arguments):("input"!==Aa&&"option"!==Aa&&a("jQuery.fn.attr('value', val) no longer sets properties"),ja.value=ma,W)}};var w,z,x=d.fn.init,J=d.parseJSON,v=/^([^<]*)(<[\w\W]+>)([^>]*)$/;d.fn.init=function(ja,ma,Aa){var Da;return ja&&"string"==typeof ja&&!d.isPlainObject(ma)&&(Da=v.exec(d.trim(ja)))&&Da[0]&&("<"!==ja.charAt(0)&&
a("$(html) HTML strings must start with '<' character"),Da[3]&&a("$(html) HTML text after last tag is ignored"),"#"===Da[0].charAt(0)&&(a("HTML string cannot start with a '#' character"),d.error("JQMIGRATE: Invalid selector string (XSS)")),ma&&ma.context&&(ma=ma.context),d.parseHTML)?x.call(this,d.parseHTML(Da[2],ma,!0),ma,Aa):x.apply(this,arguments)};d.fn.init.prototype=d.fn;d.parseJSON=function(ja){return ja||null===ja?J.apply(this,arguments):(a("jQuery.parseJSON requires a valid JSON string"),
null)};d.uaMatch=function(ja){ja=ja.toLowerCase();ja=/(chrome)[ \/]([\w.]+)/.exec(ja)||/(webkit)[ \/]([\w.]+)/.exec(ja)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ja)||/(msie) ([\w.]+)/.exec(ja)||0>ja.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ja)||[];return{browser:ja[1]||"",version:ja[2]||"0"}};d.browser||(w=d.uaMatch(navigator.userAgent),z={},w.browser&&(z[w.browser]=!0,z.version=w.version),z.chrome?z.webkit=!0:z.webkit&&(z.safari=!0),d.browser=z);f(d,"browser",d.browser,"jQuery.browser is deprecated");
d.sub=function(){function ja(Aa,Da){return new ja.fn.init(Aa,Da)}d.extend(!0,ja,this);ja.superclass=this;ja.fn=ja.prototype=this();ja.fn.constructor=ja;ja.sub=this.sub;ja.fn.init=function(Aa,Da){return Da&&Da instanceof d&&!(Da instanceof ja)&&(Da=ja(Da)),d.fn.init.call(this,Aa,Da,ma)};ja.fn.init.prototype=ja.fn;var ma=ja(document);return a("jQuery.sub() is deprecated"),ja};d.ajaxSetup({converters:{"text json":d.parseJSON}});var K=d.fn.data;d.fn.data=function(ja){var ma,Aa,Da=this[0];return!Da||"events"!==
ja||1!==arguments.length||(ma=d.data(Da,ja),Aa=d._data(Da,ja),ma!==W&&ma!==Aa||Aa===W)?K.apply(this,arguments):(a("Use of jQuery.fn.data('events') is deprecated"),Aa)};var D=/\/(java|ecma)script/i,M=d.fn.andSelf||d.fn.addBack;d.fn.andSelf=function(){return a("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)};d.clean||(d.clean=function(ja,ma,Aa,Da){ma=ma||document;ma=!ma.nodeType&&ma[0]||ma;ma=ma.ownerDocument||ma;a("jQuery.clean() is deprecated");var Fa,Oa=[];if(d.merge(Oa,
d.buildFragment(ja,ma).childNodes),Aa){var Ga=function(wa){return!wa.type||D.test(wa.type)?Da?Da.push(wa.parentNode?wa.parentNode.removeChild(wa):wa):Aa.appendChild(wa):W};for(ja=0;null!=(ma=Oa[ja]);ja++)d.nodeName(ma,"script")&&Ga(ma)||(Aa.appendChild(ma),ma.getElementsByTagName!==W&&(Fa=d.grep(d.merge([],ma.getElementsByTagName("script")),Ga),Oa.splice.apply(Oa,[ja+1,0].concat(Fa)),ja+=Fa.length))}return Oa});var Q=d.event.add,G=d.event.remove,T=d.event.trigger,S=d.fn.toggle,R=d.fn.live,ca=d.fn.die,
ha=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,ra=/(?:^|\s)hover(\.\S+|)\b/,Ia=function(ja){return"string"!=typeof ja||d.event.special.hover?ja:(ra.test(ja)&&a("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),ja&&ja.replace(ra,"mouseenter$1 mouseleave$1"))};d.event.props&&"attrChange"!==d.event.props[0]&&d.event.props.unshift("attrChange","attrName","relatedNode","srcElement");d.event.dispatch&&f(d.event,"handle",d.event.dispatch,"jQuery.event.handle is undocumented and deprecated");
d.event.add=function(ja,ma,Aa,Da,Fa){ja!==document&&ha.test(ma)&&a("AJAX events should be attached to document: "+ma);Q.call(this,ja,Ia(ma||""),Aa,Da,Fa)};d.event.remove=function(ja,ma,Aa,Da,Fa){G.call(this,ja,Ia(ma)||"",Aa,Da,Fa)};d.fn.error=function(){var ja=Array.prototype.slice.call(arguments,0);return a("jQuery.fn.error() is deprecated"),ja.splice(0,0,"error"),arguments.length?this.bind.apply(this,ja):(this.triggerHandler.apply(this,ja),this)};d.fn.toggle=function(ja,ma){if(!d.isFunction(ja)||
!d.isFunction(ma))return S.apply(this,arguments);a("jQuery.fn.toggle(handler, handler...) is deprecated");var Aa=arguments,Da=ja.guid||d.guid++,Fa=0,Oa=function(Ga){var wa=(d._data(this,"lastToggle"+ja.guid)||0)%Fa;return d._data(this,"lastToggle"+ja.guid,wa+1),Ga.preventDefault(),Aa[wa].apply(this,arguments)||!1};for(Oa.guid=Da;Aa.length>Fa;)Aa[Fa++].guid=Da;return this.click(Oa)};d.fn.live=function(ja,ma,Aa){return a("jQuery.fn.live() is deprecated"),R?R.apply(this,arguments):(d(this.context).on(ja,
this.selector,ma,Aa),this)};d.fn.die=function(ja,ma){return a("jQuery.fn.die() is deprecated"),ca?ca.apply(this,arguments):(d(this.context).off(ja,this.selector||"**",ma),this)};d.event.trigger=function(ja,ma,Aa,Da){return Aa||ha.test(ja)||a("Global events are undocumented and deprecated"),T.call(this,ja,ma,Aa||document,Da)};d.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(ja,ma){d.event.special[ma]={setup:function(){var Aa=this;return Aa!==document&&(d.event.add(document,
ma+"."+d.guid,function(){d.event.trigger(ma,null,Aa,!0)}),d._data(this,ma,d.guid++)),!1},teardown:function(){return this!==document&&d.event.remove(document,ma+"."+d._data(this,ma)),!1}}})})(jQuery,window);/*
 jQuery UI - v1.12.1 - 2017-06-21
 http://jqueryui.com
 Includes: widget.js, position.js, data.js, keycode.js, scroll-parent.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/datepicker.js, widgets/menu.js, widgets/mouse.js, widgets/tooltip.js
 Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(d){"function"==typeof define&&define.amd?define(["jquery"],d):d(jQuery)})(function(d){function N(c){for(var m,n;c.length&&c[0]!==document;){if(m=c.css("position"),("absolute"===m||"relative"===m||"fixed"===m)&&(n=parseInt(c.css("zIndex"),10),!isNaN(n)&&0!==n))return n;c=c.parent()}return 0}function W(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass=
"ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};d.extend(this._defaults,
this.regional[""]);this.regional.en=d.extend(!0,{},this.regional[""]);this.regional["en-US"]=d.extend(!0,{},this.regional.en);this.dpDiv=a(d("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(c){return c.on("mouseout","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",function(){d(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).removeClass("ui-datepicker-prev-hover");
-1!==this.className.indexOf("ui-datepicker-next")&&d(this).removeClass("ui-datepicker-next-hover")}).on("mouseover","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",f)}function f(){d.datepicker._isDisabledDatepicker(u.inline?u.dpDiv.parent()[0]:u.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).addClass("ui-datepicker-prev-hover"),
-1!==this.className.indexOf("ui-datepicker-next")&&d(this).addClass("ui-datepicker-next-hover"))}function g(c,m){d.extend(c,m);for(var n in m)null==m[n]&&(c[n]=m[n]);return c}d.ui=d.ui||{};d.ui.version="1.12.1";var h=0,e=Array.prototype.slice;d.cleanData=function(c){return function(m){var n,w,z;for(z=0;null!=(w=m[z]);z++)try{(n=d._data(w,"events"))&&n.remove&&d(w).triggerHandler("remove")}catch(x){}c(m)}}(d.cleanData);d.widget=function(c,m,n){var w,z,x,J={},v=c.split(".")[0];c=c.split(".")[1];var K=
v+"-"+c;return n||(n=m,m=d.Widget),d.isArray(n)&&(n=d.extend.apply(null,[{}].concat(n))),d.expr[":"][K.toLowerCase()]=function(D){return!!d.data(D,K)},d[v]=d[v]||{},w=d[v][c],z=d[v][c]=function(D,M){return this._createWidget?(arguments.length&&this._createWidget(D,M),void 0):new z(D,M)},d.extend(z,w,{version:n.version,_proto:d.extend({},n),_childConstructors:[]}),x=new m,x.options=d.widget.extend({},x.options),d.each(n,function(D,M){return d.isFunction(M)?(J[D]=function(){function Q(){return m.prototype[D].apply(this,
arguments)}function G(T){return m.prototype[D].apply(this,T)}return function(){var T,S=this._super,R=this._superApply;return this._super=Q,this._superApply=G,T=M.apply(this,arguments),this._super=S,this._superApply=R,T}}(),void 0):(J[D]=M,void 0)}),z.prototype=d.widget.extend(x,{widgetEventPrefix:w?x.widgetEventPrefix||c:c},J,{constructor:z,namespace:v,widgetName:c,widgetFullName:K}),w?(d.each(w._childConstructors,function(D,M){D=M.prototype;d.widget(D.namespace+"."+D.widgetName,z,M._proto)}),delete w._childConstructors):
m._childConstructors.push(z),d.widget.bridge(c,z),z};d.widget.extend=function(c){for(var m,n,w=e.call(arguments,1),z=0,x=w.length;x>z;z++)for(m in w[z])n=w[z][m],w[z].hasOwnProperty(m)&&void 0!==n&&(c[m]=d.isPlainObject(n)?d.isPlainObject(c[m])?d.widget.extend({},c[m],n):d.widget.extend({},n):n);return c};d.widget.bridge=function(c,m){var n=m.prototype.widgetFullName||c;d.fn[c]=function(w){var z="string"==typeof w,x=e.call(arguments,1),J=this;return z?this.length||"instance"!==w?this.each(function(){var v,
K=d.data(this,n);return"instance"===w?(J=K,!1):K?d.isFunction(K[w])&&"_"!==w.charAt(0)?(v=K[w].apply(K,x),v!==K&&void 0!==v?(J=v&&v.jquery?J.pushStack(v.get()):v,!1):void 0):d.error("no such method '"+w+"' for "+c+" widget instance"):d.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+w+"'")}):J=void 0:(x.length&&(w=d.widget.extend.apply(null,[w].concat(x))),this.each(function(){var v=d.data(this,n);v?(v.option(w||{}),v._init&&v._init()):d.data(this,n,new m(w,
this))})),J}};d.Widget=function(){};d.Widget._childConstructors=[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(c,m){m=d(m||this.defaultElement||this)[0];this.element=d(m);this.uuid=h++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=d();this.hoverable=d();this.focusable=d();this.classesElementLookup={};m!==this&&(d.data(m,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===
m&&this.destroy()}}),this.document=d(m.style?m.ownerDocument:m.document||m),this.window=d(this.document[0].defaultView||this.document[0].parentWindow));this.options=d.widget.extend({},this.options,this._getCreateOptions(),c);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){var c=this;
this._destroy();d.each(this.classesElementLookup,function(m,n){c._removeClass(n,m)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:d.noop,widget:function(){return this.element},option:function(c,m){var n,w,z=c;if(0===arguments.length)return d.widget.extend({},this.options);if("string"==typeof c)if(z={},n=c.split("."),c=n.shift(),n.length){var x=z[c]=d.widget.extend({},
this.options[c]);for(w=0;n.length-1>w;w++)x[n[w]]=x[n[w]]||{},x=x[n[w]];if(c=n.pop(),1===arguments.length)return void 0===x[c]?null:x[c];x[c]=m}else{if(1===arguments.length)return void 0===this.options[c]?null:this.options[c];z[c]=m}return this._setOptions(z),this},_setOptions:function(c){for(var m in c)this._setOption(m,c[m]);return this},_setOption:function(c,m){return"classes"===c&&this._setOptionClasses(m),this.options[c]=m,"disabled"===c&&this._setOptionDisabled(m),this},_setOptionClasses:function(c){var m,
n;for(m in c){var w=this.classesElementLookup[m];c[m]!==this.options.classes[m]&&w&&w.length&&(n=d(w.get()),this._removeClass(w,m),n.addClass(this._classes({element:n,keys:m,classes:c,add:!0})))}},_setOptionDisabled:function(c){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!c);c&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},
_classes:function(c){function m(z,x){var J;for(J=0;z.length>J;J++){var v=w.classesElementLookup[z[J]]||d();v=c.add?d(d.unique(v.get().concat(c.element.get()))):d(v.not(c.element).get());w.classesElementLookup[z[J]]=v;n.push(z[J]);x&&c.classes[z[J]]&&n.push(c.classes[z[J]])}}var n=[],w=this;return c=d.extend({element:this.element,classes:this.options.classes||{}},c),this._on(c.element,{remove:"_untrackClassesElement"}),c.keys&&m(c.keys.match(/\S+/g)||[],!0),c.extra&&m(c.extra.match(/\S+/g)||[]),n.join(" ")},
_untrackClassesElement:function(c){var m=this;d.each(m.classesElementLookup,function(n,w){-1!==d.inArray(c.target,w)&&(m.classesElementLookup[n]=d(w.not(c.target).get()))})},_removeClass:function(c,m,n){return this._toggleClass(c,m,n,!1)},_addClass:function(c,m,n){return this._toggleClass(c,m,n,!0)},_toggleClass:function(c,m,n,w){w="boolean"==typeof w?w:n;var z="string"==typeof c||null===c;c={extra:z?m:n,keys:z?c:m,element:z?this.element:c,add:w};return c.element.toggleClass(this._classes(c),w),this},
_on:function(c,m,n){var w,z=this;"boolean"!=typeof c&&(n=m,m=c,c=!1);n?(m=w=d(m),this.bindings=this.bindings.add(m)):(n=m,m=this.element,w=this.widget());d.each(n,function(x,J){function v(){return c||!0!==z.options.disabled&&!d(this).hasClass("ui-state-disabled")?("string"==typeof J?z[J]:J).apply(z,arguments):void 0}"string"!=typeof J&&(v.guid=J.guid=J.guid||v.guid||d.guid++);var K=x.match(/^([\w:-]*)\s*(.*)$/);x=K[1]+z.eventNamespace;(K=K[2])?w.on(x,K,v):m.on(x,v)})},_off:function(c,m){m=(m||"").split(" ").join(this.eventNamespace+
" ")+this.eventNamespace;c.off(m).off(m);this.bindings=d(this.bindings.not(c).get());this.focusable=d(this.focusable.not(c).get());this.hoverable=d(this.hoverable.not(c).get())},_delay:function(c,m){var n=this;return setTimeout(function(){return("string"==typeof c?n[c]:c).apply(n,arguments)},m||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(m){this._addClass(d(m.currentTarget),null,"ui-state-hover")},mouseleave:function(m){this._removeClass(d(m.currentTarget),
null,"ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(m){this._addClass(d(m.currentTarget),null,"ui-state-focus")},focusout:function(m){this._removeClass(d(m.currentTarget),null,"ui-state-focus")}})},_trigger:function(c,m,n){var w,z=this.options[c];if(n=n||{},m=d.Event(m),m.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase(),m.target=this.element[0],c=m.originalEvent)for(w in c)w in m||(m[w]=c[w]);return this.element.trigger(m,
n),!(d.isFunction(z)&&!1===z.apply(this.element[0],[m].concat(n))||m.isDefaultPrevented())}};d.each({show:"fadeIn",hide:"fadeOut"},function(c,m){d.Widget.prototype["_"+c]=function(n,w,z){"string"==typeof w&&(w={effect:w});var x=w?!0===w||"number"==typeof w?m:w.effect||m:c;w=w||{};"number"==typeof w&&(w={duration:w});var J=!d.isEmptyObject(w);w.complete=z;w.delay&&n.delay(w.delay);J&&d.effects&&d.effects.effect[x]?n[c](w):x!==c&&n[x]?n[x](w.duration,w.easing,z):n.queue(function(v){d(this)[c]();z&&
z.call(n[0]);v()})}});d.widget;(function(){function c(Q,G,T){return[parseFloat(Q[0])*(D.test(Q[0])?G/100:1),parseFloat(Q[1])*(D.test(Q[1])?T/100:1)]}function m(Q){var G=Q[0];return 9===G.nodeType?{width:Q.width(),height:Q.height(),offset:{top:0,left:0}}:d.isWindow(G)?{width:Q.width(),height:Q.height(),offset:{top:Q.scrollTop(),left:Q.scrollLeft()}}:G.preventDefault?{width:0,height:0,offset:{top:G.pageY,left:G.pageX}}:{width:Q.outerWidth(),height:Q.outerHeight(),offset:Q.offset()}}var n,w=Math.max,
z=Math.abs,x=/left|center|right/,J=/top|center|bottom/,v=/[\+\-]\d+(\.[\d]+)?%?/,K=/^\w+/,D=/%$/,M=d.fn.position;d.position={scrollbarWidth:function(){if(void 0!==n)return n;var Q,G,T=d("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),S=T.children()[0];return d("body").append(T),Q=S.offsetWidth,T.css("overflow","scroll"),G=S.offsetWidth,Q===G&&(G=T[0].clientWidth),T.remove(),n=Q-G},getScrollInfo:function(Q){var G=
Q.isWindow||Q.isDocument?"":Q.element.css("overflow-x"),T=Q.isWindow||Q.isDocument?"":Q.element.css("overflow-y");G="scroll"===G||"auto"===G&&Q.width<Q.element[0].scrollWidth;return{width:"scroll"===T||"auto"===T&&Q.height<Q.element[0].scrollHeight?d.position.scrollbarWidth():0,height:G?d.position.scrollbarWidth():0}},getWithinInfo:function(Q){var G=d(Q||window),T=d.isWindow(G[0]),S=!!G[0]&&9===G[0].nodeType;return{element:G,isWindow:T,isDocument:S,offset:T||S?{left:0,top:0}:d(Q).offset(),scrollLeft:G.scrollLeft(),
scrollTop:G.scrollTop(),width:G.outerWidth(),height:G.outerHeight()}}};d.fn.position=function(Q){if(!Q||!Q.of)return M.apply(this,arguments);Q=d.extend({},Q);var G,T,S,R,ca,ha,ra=d(Q.of),Ia=d.position.getWithinInfo(Q.within),ja=d.position.getScrollInfo(Ia),ma=(Q.collision||"flip").split(" "),Aa={};return ha=m(ra),ra[0].preventDefault&&(Q.at="left top"),T=ha.width,S=ha.height,R=ha.offset,ca=d.extend({},R),d.each(["my","at"],function(){var Da=(Q[this]||"").split(" ");1===Da.length&&(Da=x.test(Da[0])?
Da.concat(["center"]):J.test(Da[0])?["center"].concat(Da):["center","center"]);Da[0]=x.test(Da[0])?Da[0]:"center";Da[1]=J.test(Da[1])?Da[1]:"center";var Fa=v.exec(Da[0]);var Oa=v.exec(Da[1]);Aa[this]=[Fa?Fa[0]:0,Oa?Oa[0]:0];Q[this]=[K.exec(Da[0])[0],K.exec(Da[1])[0]]}),1===ma.length&&(ma[1]=ma[0]),"right"===Q.at[0]?ca.left+=T:"center"===Q.at[0]&&(ca.left+=T/2),"bottom"===Q.at[1]?ca.top+=S:"center"===Q.at[1]&&(ca.top+=S/2),G=c(Aa.at,T,S),ca.left+=G[0],ca.top+=G[1],this.each(function(){var Da,Fa=d(this),
Oa=Fa.outerWidth(),Ga=Fa.outerHeight(),wa=parseInt(d.css(this,"marginLeft"),10)||0,Qa=parseInt(d.css(this,"marginTop"),10)||0,Wa=Oa+wa+(parseInt(d.css(this,"marginRight"),10)||0)+ja.width,Ba=Ga+Qa+(parseInt(d.css(this,"marginBottom"),10)||0)+ja.height,Sa=d.extend({},ca),cb=c(Aa.my,Fa.outerWidth(),Fa.outerHeight());"right"===Q.my[0]?Sa.left-=Oa:"center"===Q.my[0]&&(Sa.left-=Oa/2);"bottom"===Q.my[1]?Sa.top-=Ga:"center"===Q.my[1]&&(Sa.top-=Ga/2);Sa.left+=cb[0];Sa.top+=cb[1];var $a={marginLeft:wa,marginTop:Qa};
d.each(["left","top"],function(qb,Ib){d.ui.position[ma[qb]]&&d.ui.position[ma[qb]][Ib](Sa,{targetWidth:T,targetHeight:S,elemWidth:Oa,elemHeight:Ga,collisionPosition:$a,collisionWidth:Wa,collisionHeight:Ba,offset:[G[0]+cb[0],G[1]+cb[1]],my:Q.my,at:Q.at,within:Ia,elem:Fa})});Q.using&&(Da=function(qb){var Ib=R.left-Sa.left,ib=Ib+T-Oa,Ob=R.top-Sa.top,kc=Ob+S-Ga,nc={target:{element:ra,left:R.left,top:R.top,width:T,height:S},element:{element:Fa,left:Sa.left,top:Sa.top,width:Oa,height:Ga},horizontal:0>ib?
"left":0<Ib?"right":"center",vertical:0>kc?"top":0<Ob?"bottom":"middle"};Oa>T&&T>z(Ib+ib)&&(nc.horizontal="center");Ga>S&&S>z(Ob+kc)&&(nc.vertical="middle");nc.important=w(z(Ib),z(ib))>w(z(Ob),z(kc))?"horizontal":"vertical";Q.using.call(this,qb,nc)});Fa.offset(d.extend(Sa,{using:Da}))})};d.ui.position={fit:{left:function(Q,G){var T,S=G.within,R=S.isWindow?S.scrollLeft:S.offset.left;S=S.width;var ca=Q.left-G.collisionPosition.marginLeft,ha=R-ca,ra=ca+G.collisionWidth-S-R;G.collisionWidth>S?0<ha&&0>=
ra?(T=Q.left+ha+G.collisionWidth-S-R,Q.left+=ha-T):Q.left=0<ra&&0>=ha?R:ha>ra?R+S-G.collisionWidth:R:0<ha?Q.left+=ha:0<ra?Q.left-=ra:Q.left=w(Q.left-ca,Q.left)},top:function(Q,G){var T,S=G.within;S=S.isWindow?S.scrollTop:S.offset.top;var R=G.within.height,ca=Q.top-G.collisionPosition.marginTop,ha=S-ca,ra=ca+G.collisionHeight-R-S;G.collisionHeight>R?0<ha&&0>=ra?(T=Q.top+ha+G.collisionHeight-R-S,Q.top+=ha-T):Q.top=0<ra&&0>=ha?S:ha>ra?S+R-G.collisionHeight:S:0<ha?Q.top+=ha:0<ra?Q.top-=ra:Q.top=w(Q.top-
ca,Q.top)}},flip:{left:function(Q,G){var T,S,R=G.within,ca=R.offset.left+R.scrollLeft,ha=R.width;R=R.isWindow?R.scrollLeft:R.offset.left;var ra=Q.left-G.collisionPosition.marginLeft,Ia=ra-R;ra=ra+G.collisionWidth-ha-R;var ja="left"===G.my[0]?-G.elemWidth:"right"===G.my[0]?G.elemWidth:0,ma="left"===G.at[0]?G.targetWidth:"right"===G.at[0]?-G.targetWidth:0,Aa=-2*G.offset[0];0>Ia?(T=Q.left+ja+ma+Aa+G.collisionWidth-ha-ca,(0>T||z(Ia)>T)&&(Q.left+=ja+ma+Aa)):0<ra&&(S=Q.left-G.collisionPosition.marginLeft+
ja+ma+Aa-R,(0<S||ra>z(S))&&(Q.left+=ja+ma+Aa))},top:function(Q,G){var T,S,R=G.within,ca=R.offset.top+R.scrollTop,ha=R.height;R=R.isWindow?R.scrollTop:R.offset.top;var ra=Q.top-G.collisionPosition.marginTop,Ia=ra-R;ra=ra+G.collisionHeight-ha-R;var ja="top"===G.my[1]?-G.elemHeight:"bottom"===G.my[1]?G.elemHeight:0,ma="top"===G.at[1]?G.targetHeight:"bottom"===G.at[1]?-G.targetHeight:0,Aa=-2*G.offset[1];0>Ia?(S=Q.top+ja+ma+Aa+G.collisionHeight-ha-ca,(0>S||z(Ia)>S)&&(Q.top+=ja+ma+Aa)):0<ra&&(T=Q.top-G.collisionPosition.marginTop+
ja+ma+Aa-R,(0<T||ra>z(T))&&(Q.top+=ja+ma+Aa))}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this,arguments);d.ui.position.fit.top.apply(this,arguments)}}}})();d.ui.position;d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(c){return function(m){return!!d.data(m,c)}}):function(c,m,n){return!!d.data(c,n[3])}});d.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,
END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};d.fn.scrollParent=function(c){var m=this.css("position"),n="absolute"===m,w=c?/(auto|scroll|hidden)/:/(auto|scroll)/;c=this.parents().filter(function(){var z=d(this);return n&&"static"===z.css("position")?!1:w.test(z.css("overflow")+z.css("overflow-y")+z.css("overflow-x"))}).eq(0);return"fixed"!==m&&c.length?c:d(this[0].ownerDocument||document)};d.fn.extend({uniqueId:function(){var c=0;return function(){return this.each(function(){this.id||
(this.id="ui-id-"+ ++c)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&d(this).removeAttr("id")})}});d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var l=!1;d(document).on("mouseup",function(){l=!1});d.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.on("mousedown."+this.widgetName,function(m){return c._mouseDown(m)}).on("click."+
this.widgetName,function(m){return!0===d.data(m.target,c.widgetName+".preventClickEvent")?(d.removeData(m.target,c.widgetName+".preventClickEvent"),m.stopImmediatePropagation(),!1):void 0});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!l){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(c);
this._mouseDownEvent=c;var m=this,n=1===c.which,w="string"==typeof this.options.cancel&&c.target.nodeName?d(c.target).closest(this.options.cancel).length:!1;return n&&!w&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){m.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted)?(c.preventDefault(),!0):(!0===d.data(c.target,
this.widgetName+".preventClickEvent")&&d.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(z){return m._mouseMove(z)},this._mouseUpDelegate=function(z){return m._mouseUp(z)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),l=!0,!0)):!0}},_mouseMove:function(c){if(this._mouseMoved){if(d.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button)return this._mouseUp(c);
if(!c.which)if(c.originalEvent.altKey||c.originalEvent.ctrlKey||c.originalEvent.metaKey||c.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(c)}return(c.which||c.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c),this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},
_mouseUp:function(c){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&d.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);l=this.ignoreMissingWhich=!1;c.preventDefault()},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-
c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});d.ui.plugin={add:function(c,m,n){var w;c=d.ui[c].prototype;for(w in n)c.plugins[w]=c.plugins[w]||[],c.plugins[w].push([m,n[w]])},call:function(c,m,n,w){if((m=c.plugins[m])&&(w||c.element[0].parentNode&&11!==c.element[0].parentNode.nodeType))for(w=0;m.length>w;w++)c.options[m[w][0]]&&
m[w][1].apply(c.element,n)}};d.ui.safeActiveElement=function(c){try{var m=c.activeElement}catch(n){m=c.body}return m||(m=c.body),m.nodeName||(m=c.body),m};d.ui.safeBlur=function(c){c&&"body"!==c.nodeName.toLowerCase()&&d(c).trigger("blur")};d.widget("ui.draggable",d.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,
revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(c,m){this._super(c,m);"handle"===c&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||
this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(c){var m=this.options;return this.helper||m.disabled||0<d(c.target).closest(".ui-resizable-handle").length?!1:(this.handle=this._getHandle(c),this.handle?(this._blurActiveElement(c),this._blockFrames(!0===m.iframeFix?"iframe":m.iframeFix),!0):!1)},_blockFrames:function(c){this.iframeBlocks=this.document.find(c).map(function(){var m=d(this);
return d("<div>").css("position","absolute").appendTo(m.parent()).outerWidth(m.outerWidth()).outerHeight(m.outerHeight()).offset(m.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(c){var m=d.ui.safeActiveElement(this.document[0]);d(c.target).closest(m).length||d.ui.safeBlur(m)},_mouseStart:function(c){var m=this.options;return this.helper=this._createHelper(c),this._addClass(this.helper,"ui-draggable-dragging"),
this._cacheHelperProportions(),d.ui.ddmanager&&(d.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===d(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(c),this.originalPosition=this.position=this._generatePosition(c,!1),this.originalPageX=c.pageX,
this.originalPageY=c.pageY,m.cursorAt&&this._adjustOffsetFromHelper(m.cursorAt),this._setContainment(),!1===this._trigger("start",c)?(this._clear(),!1):(this._cacheHelperProportions(),d.ui.ddmanager&&!m.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,c),!0)},_refreshOffsets:function(c){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),
relative:this._getRelativeOffset()};this.offset.click={left:c.pageX-this.offset.left,top:c.pageY-this.offset.top}},_mouseDrag:function(c,m){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(c,!0),this.positionAbs=this._convertPositionTo("absolute"),!m){m=this._uiHash();if(!1===this._trigger("drag",c,m))return this._mouseUp(new d.Event("mouseup",c)),!1;this.position=m.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=
this.position.top+"px",d.ui.ddmanager&&d.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var m=this,n=!1;return d.ui.ddmanager&&!this.options.dropBehaviour&&(n=d.ui.ddmanager.drop(this,c)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==
m._trigger("stop",c)&&m._clear()}):!1!==this._trigger("stop",c)&&this._clear(),!1},_mouseUp:function(c){return this._unblockFrames(),d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,c),this.handleElement.is(c.target)&&this.element.trigger("focus"),d.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new d.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(c){return this.options.handle?!!d(c.target).closest(this.element.find(this.options.handle)).length:
!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(c){var m=this.options,n=d.isFunction(m.helper);c=n?d(m.helper.apply(this.element[0],[c])):"clone"===m.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"===
m.appendTo?this.element[0].parentNode:m.appendTo),n&&c[0]===this.element[0]&&this._setPositionRelative(),c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));d.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);
"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_isRootNode:function(c){return/(html|body)/i.test(c.tagName)||c===this.document[0]},_getParentOffset:function(){var c=this.offsetParent.offset(),m=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==m&&d.contains(this.scrollParent[0],
this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var c=this.element.position(),m=this._isRootNode(this.scrollParent[0]);return{top:c.top-(parseInt(this.helper.css("top"),
10)||0)+(m?0:this.scrollParent.scrollTop()),left:c.left-(parseInt(this.helper.css("left"),10)||0)+(m?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var c,m,n,w=this.options,z=this.document[0];return this.relativeContainer=null,w.containment?"window"===w.containment?(this.containment=[d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,d(window).scrollLeft()+d(window).width()-this.helperProportions.width-this.margins.left,d(window).scrollTop()+(d(window).height()||z.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],
void 0):"document"===w.containment?(this.containment=[0,0,d(z).width()-this.helperProportions.width-this.margins.left,(d(z).height()||z.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):w.containment.constructor===Array?(this.containment=w.containment,void 0):("parent"===w.containment&&(w.containment=this.helper[0].parentNode),m=d(w.containment),n=m[0],n&&(c=/(scroll|auto)/.test(m.css("overflow")),this.containment=[(parseInt(m.css("borderLeftWidth"),10)||0)+(parseInt(m.css("paddingLeft"),
10)||0),(parseInt(m.css("borderTopWidth"),10)||0)+(parseInt(m.css("paddingTop"),10)||0),(c?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(m.css("borderRightWidth"),10)||0)-(parseInt(m.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(m.css("borderBottomWidth"),10)||0)-(parseInt(m.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],
this.relativeContainer=m),void 0):(this.containment=null,void 0)},_convertPositionTo:function(c,m){m||(m=this.position);c="absolute"===c?1:-1;var n=this._isRootNode(this.scrollParent[0]);return{top:m.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*c,left:m.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*c}},_generatePosition:function(c,
m){var n,w,z,x,J=this.options,v=this._isRootNode(this.scrollParent[0]),K=c.pageX,D=c.pageY;return v&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),m&&(this.containment&&(this.relativeContainer?(w=this.relativeContainer.offset(),n=[this.containment[0]+w.left,this.containment[1]+w.top,this.containment[2]+w.left,this.containment[3]+w.top]):n=this.containment,c.pageX-this.offset.click.left<n[0]&&(K=n[0]+this.offset.click.left),c.pageY-
this.offset.click.top<n[1]&&(D=n[1]+this.offset.click.top),c.pageX-this.offset.click.left>n[2]&&(K=n[2]+this.offset.click.left),c.pageY-this.offset.click.top>n[3]&&(D=n[3]+this.offset.click.top)),J.grid&&(z=J.grid[1]?this.originalPageY+Math.round((D-this.originalPageY)/J.grid[1])*J.grid[1]:this.originalPageY,D=n?z-this.offset.click.top>=n[1]||z-this.offset.click.top>n[3]?z:z-this.offset.click.top>=n[1]?z-J.grid[1]:z+J.grid[1]:z,x=J.grid[0]?this.originalPageX+Math.round((K-this.originalPageX)/J.grid[0])*
J.grid[0]:this.originalPageX,K=n?x-this.offset.click.left>=n[0]||x-this.offset.click.left>n[2]?x:x-this.offset.click.left>=n[0]?x-J.grid[0]:x+J.grid[0]:x),"y"===J.axis&&(K=this.originalPageX),"x"===J.axis&&(D=this.originalPageY)),{top:D-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:v?0:this.offset.scroll.top),left:K-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:
v?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(c,m,n){return n=n||this._uiHash(),d.ui.plugin.call(this,c,[m,n,this],!0),/^(drag|start|stop)/.test(c)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),d.Widget.prototype._trigger.call(this,
c,m,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.ui.plugin.add("draggable","connectToSortable",{start:function(c,m,n){var w=d.extend({},m,{item:n.element});n.sortables=[];d(n.options.connectToSortable).each(function(){var z=d(this).sortable("instance");z&&!z.options.disabled&&(n.sortables.push(z),z.refreshPositions(),z._trigger("activate",c,w))})},stop:function(c,m,n){var w=d.extend({},m,{item:n.element});
n.cancelHelperRemoval=!1;d.each(n.sortables,function(){this.isOver?(this.isOver=0,n.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(c),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",c,w))})},drag:function(c,m,n){d.each(n.sortables,function(){var w=!1,z=this;z.positionAbs=n.positionAbs;z.helperProportions=
n.helperProportions;z.offset.click=n.offset.click;z._intersectsWith(z.containerCache)&&(w=!0,d.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==z&&this._intersectsWith(this.containerCache)&&d.contains(z.element[0],this.element[0])&&(w=!1),w}));w?(z.isOver||(z.isOver=1,n._parent=m.helper.parent(),z.currentItem=m.helper.appendTo(z.element).data("ui-sortable-item",!0),z.options._helper=z.options.helper,
z.options.helper=function(){return m.helper[0]},c.target=z.currentItem[0],z._mouseCapture(c,!0),z._mouseStart(c,!0,!0),z.offset.click.top=n.offset.click.top,z.offset.click.left=n.offset.click.left,z.offset.parent.left-=n.offset.parent.left-z.offset.parent.left,z.offset.parent.top-=n.offset.parent.top-z.offset.parent.top,n._trigger("toSortable",c),n.dropped=z.element,d.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,z.fromOutside=n),z.currentItem&&(z._mouseDrag(c),m.position=
z.position)):z.isOver&&(z.isOver=0,z.cancelHelperRemoval=!0,z.options._revert=z.options.revert,z.options.revert=!1,z._trigger("out",c,z._uiHash(z)),z._mouseStop(c,!0),z.options.revert=z.options._revert,z.options.helper=z.options._helper,z.placeholder&&z.placeholder.remove(),m.helper.appendTo(n._parent),n._refreshOffsets(c),m.position=n._generatePosition(c,!0),n._trigger("fromSortable",c),n.dropped=!1,d.each(n.sortables,function(){this.refreshPositions()}))})}});d.ui.plugin.add("draggable","cursor",
{start:function(c,m,n){c=d("body");n=n.options;c.css("cursor")&&(n._cursor=c.css("cursor"));c.css("cursor",n.cursor)},stop:function(c,m,n){c=n.options;c._cursor&&d("body").css("cursor",c._cursor)}});d.ui.plugin.add("draggable","opacity",{start:function(c,m,n){c=d(m.helper);n=n.options;c.css("opacity")&&(n._opacity=c.css("opacity"));c.css("opacity",n.opacity)},stop:function(c,m,n){c=n.options;c._opacity&&d(m.helper).css("opacity",c._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(c,
m,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1));n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(c,m,n){m=n.options;var w=!1,z=n.scrollParentNotHidden[0],x=n.document[0];z!==x&&"HTML"!==z.tagName?(m.axis&&"x"===m.axis||(n.overflowOffset.top+z.offsetHeight-c.pageY<m.scrollSensitivity?z.scrollTop=w=z.scrollTop+m.scrollSpeed:c.pageY-n.overflowOffset.top<m.scrollSensitivity&&
(z.scrollTop=w=z.scrollTop-m.scrollSpeed)),m.axis&&"y"===m.axis||(n.overflowOffset.left+z.offsetWidth-c.pageX<m.scrollSensitivity?z.scrollLeft=w=z.scrollLeft+m.scrollSpeed:c.pageX-n.overflowOffset.left<m.scrollSensitivity&&(z.scrollLeft=w=z.scrollLeft-m.scrollSpeed))):(m.axis&&"x"===m.axis||(c.pageY-d(x).scrollTop()<m.scrollSensitivity?w=d(x).scrollTop(d(x).scrollTop()-m.scrollSpeed):d(window).height()-(c.pageY-d(x).scrollTop())<m.scrollSensitivity&&(w=d(x).scrollTop(d(x).scrollTop()+m.scrollSpeed))),
m.axis&&"y"===m.axis||(c.pageX-d(x).scrollLeft()<m.scrollSensitivity?w=d(x).scrollLeft(d(x).scrollLeft()-m.scrollSpeed):d(window).width()-(c.pageX-d(x).scrollLeft())<m.scrollSensitivity&&(w=d(x).scrollLeft(d(x).scrollLeft()+m.scrollSpeed))));!1!==w&&d.ui.ddmanager&&!m.dropBehaviour&&d.ui.ddmanager.prepareOffsets(n,c)}});d.ui.plugin.add("draggable","snap",{start:function(c,m,n){c=n.options;n.snapElements=[];d(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var w=
d(this),z=w.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:w.outerWidth(),height:w.outerHeight(),top:z.top,left:z.left})})},drag:function(c,m,n){var w,z,x,J,v,K,D=n.options,M=D.snapTolerance,Q=m.offset.left,G=Q+n.helperProportions.width,T=m.offset.top,S=T+n.helperProportions.height;for(v=n.snapElements.length-1;0<=v;v--){var R=n.snapElements[v].left-n.margins.left;var ca=R+n.snapElements[v].width;var ha=n.snapElements[v].top-n.margins.top;var ra=ha+n.snapElements[v].height;R-M>
G||Q>ca+M||ha-M>S||T>ra+M||!d.contains(n.snapElements[v].item.ownerDocument,n.snapElements[v].item)?(n.snapElements[v].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,c,d.extend(n._uiHash(),{snapItem:n.snapElements[v].item})),n.snapElements[v].snapping=!1):("inner"!==D.snapMode&&(w=M>=Math.abs(ha-S),z=M>=Math.abs(ra-T),x=M>=Math.abs(R-G),J=M>=Math.abs(ca-Q),w&&(m.position.top=n._convertPositionTo("relative",{top:ha-n.helperProportions.height,left:0}).top),z&&(m.position.top=
n._convertPositionTo("relative",{top:ra,left:0}).top),x&&(m.position.left=n._convertPositionTo("relative",{top:0,left:R-n.helperProportions.width}).left),J&&(m.position.left=n._convertPositionTo("relative",{top:0,left:ca}).left)),K=w||z||x||J,"outer"!==D.snapMode&&(w=M>=Math.abs(ha-T),z=M>=Math.abs(ra-S),x=M>=Math.abs(R-Q),J=M>=Math.abs(ca-G),w&&(m.position.top=n._convertPositionTo("relative",{top:ha,left:0}).top),z&&(m.position.top=n._convertPositionTo("relative",{top:ra-n.helperProportions.height,
left:0}).top),x&&(m.position.left=n._convertPositionTo("relative",{top:0,left:R}).left),J&&(m.position.left=n._convertPositionTo("relative",{top:0,left:ca-n.helperProportions.width}).left)),!n.snapElements[v].snapping&&(w||z||x||J||K)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,c,d.extend(n._uiHash(),{snapItem:n.snapElements[v].item})),n.snapElements[v].snapping=w||z||x||J||K)}}});d.ui.plugin.add("draggable","stack",{start:function(c,m,n){var w;c=d.makeArray(d(n.options.stack)).sort(function(z,
x){return(parseInt(d(z).css("zIndex"),10)||0)-(parseInt(d(x).css("zIndex"),10)||0)});c.length&&(w=parseInt(d(c[0]).css("zIndex"),10)||0,d(c).each(function(z){d(this).css("zIndex",w+z)}),this.css("zIndex",w+c.length))}});d.ui.plugin.add("draggable","zIndex",{start:function(c,m,n){c=d(m.helper);n=n.options;c.css("zIndex")&&(n._zIndex=c.css("zIndex"));c.css("zIndex",n.zIndex)},stop:function(c,m,n){c=n.options;c._zIndex&&d(m.helper).css("zIndex",c._zIndex)}});d.ui.draggable;d.widget("ui.droppable",{version:"1.12.1",
widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,m=this.options,n=m.accept;this.isover=!1;this.isout=!0;this.accept=d.isFunction(n)?n:function(w){return w.is(n)};this.proportions=function(){return arguments.length?(c=arguments[0],void 0):c?c:c={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(m.scope);m.addClasses&&
this._addClass("ui-droppable")},_addToManager:function(c){d.ui.ddmanager.droppables[c]=d.ui.ddmanager.droppables[c]||[];d.ui.ddmanager.droppables[c].push(this)},_splice:function(c){for(var m=0;c.length>m;m++)c[m]===this&&c.splice(m,1)},_destroy:function(){this._splice(d.ui.ddmanager.droppables[this.options.scope])},_setOption:function(c,m){"accept"===c?this.accept=d.isFunction(m)?m:function(n){return n.is(m)}:"scope"===c&&(this._splice(d.ui.ddmanager.droppables[this.options.scope]),this._addToManager(m));
this._super(c,m)},_activate:function(c){var m=d.ui.ddmanager.current;this._addActiveClass();m&&this._trigger("activate",c,this.ui(m))},_deactivate:function(c){var m=d.ui.ddmanager.current;this._removeActiveClass();m&&this._trigger("deactivate",c,this.ui(m))},_over:function(c){var m=d.ui.ddmanager.current;m&&(m.currentItem||m.element)[0]!==this.element[0]&&this.accept.call(this.element[0],m.currentItem||m.element)&&(this._addHoverClass(),this._trigger("over",c,this.ui(m)))},_out:function(c){var m=
d.ui.ddmanager.current;m&&(m.currentItem||m.element)[0]!==this.element[0]&&this.accept.call(this.element[0],m.currentItem||m.element)&&(this._removeHoverClass(),this._trigger("out",c,this.ui(m)))},_drop:function(c,m){var n=m||d.ui.ddmanager.current,w=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var z=d(this).droppable("instance");return z.options.greedy&&!z.options.disabled&&z.options.scope===n.options.scope&&
z.accept.call(z.element[0],n.currentItem||n.element)&&p(n,d.extend(z,{offset:z.element.offset()}),z.options.tolerance,c)?(w=!0,!1):void 0}),w?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",c,this.ui(n)),this.element):!1):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},
_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var p=d.ui.intersect=function(){return function(c,m,n,w){if(!m.offset)return!1;var z=(c.positionAbs||c.position.absolute).left+c.margins.left,x=(c.positionAbs||c.position.absolute).top+c.margins.top,J=z+c.helperProportions.width,v=x+c.helperProportions.height,K=m.offset.left,D=m.offset.top,M=K+m.proportions().width,Q=D+m.proportions().height;switch(n){case "fit":return z>=
K&&M>=J&&x>=D&&Q>=v;case "intersect":return z+c.helperProportions.width/2>K&&M>J-c.helperProportions.width/2&&x+c.helperProportions.height/2>D&&Q>v-c.helperProportions.height/2;case "pointer":c=w.pageY;n=m.proportions().height;if(D=c>=D&&D+n>c)w=w.pageX,m=m.proportions().width,D=w>=K&&K+m>w;return D;case "touch":return(x>=D&&Q>=x||v>=D&&Q>=v||D>x&&v>Q)&&(z>=K&&M>=z||J>=K&&M>=J||K>z&&J>M);default:return!1}}}();d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,m){var n,
w=d.ui.ddmanager.droppables[c.options.scope]||[],z=m?m.type:null,x=(c.currentItem||c.element).find(":data(ui-droppable)").addBack();var J=0;a:for(;w.length>J;J++)if(!(w[J].options.disabled||c&&!w[J].accept.call(w[J].element[0],c.currentItem||c.element))){for(n=0;x.length>n;n++)if(x[n]===w[J].element[0]){w[J].proportions().height=0;continue a}w[J].visible="none"!==w[J].element.css("display");w[J].visible&&("mousedown"===z&&w[J]._activate.call(w[J],m),w[J].offset=w[J].element.offset(),w[J].proportions({width:w[J].element[0].offsetWidth,
height:w[J].element[0].offsetHeight}))}},drop:function(c,m){var n=!1;return d.each((d.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&p(c,this,this.options.tolerance,m)&&(n=this._drop.call(this,m)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,m)))}),n},dragStart:function(c,m){c.element.parentsUntil("body").on("scroll.droppable",
function(){c.options.refreshPositions||d.ui.ddmanager.prepareOffsets(c,m)})},drag:function(c,m){c.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(c,m);d.each(d.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,w,z,x=p(c,this,this.options.tolerance,m);(x=!x&&this.isover?"isout":x&&!this.isover?"isover":null)&&(this.options.greedy&&(w=this.options.scope,z=this.element.parents(":data(ui-droppable)").filter(function(){return d(this).droppable("instance").options.scope===
w}),z.length&&(n=d(z[0]).droppable("instance"),n.greedyChild="isover"===x)),n&&"isover"===x&&(n.isover=!1,n.isout=!0,n._out.call(n,m)),this[x]=!0,this["isout"===x?"isover":"isout"]=!1,this["isover"===x?"_over":"_out"].call(this,m),n&&"isout"===x&&(n.isout=!1,n.isover=!0,n._over.call(n,m)))}})},dragStop:function(c,m){c.element.parentsUntil("body").off("scroll.droppable");c.options.refreshPositions||d.ui.ddmanager.prepareOffsets(c,m)}};!1!==d.uiBackCompat&&d.widget("ui.droppable",d.ui.droppable,{options:{hoverClass:!1,
activeClass:!1},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});d.ui.droppable;
d.widget("ui.sortable",d.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,
remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(c,m,n){return c>=m&&m+n>c},_isFloating:function(c){return/left|right/.test(c.css("float"))||/inline|table-cell/.test(c.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(c,m){this._super(c,m);"handle"===c&&this._setHandleClassName()},_setHandleClassName:function(){var c=
this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");d.each(this.items,function(){c._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var c=this.items.length-1;0<=c;c--)this.items[c].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(c,m){var n=null,w=!1,z=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?
!1:(this._refreshItems(c),d(c.target).parents().each(function(){return d.data(this,z.widgetName+"-item")===z?(n=d(this),!1):void 0}),d.data(c.target,z.widgetName+"-item")===z&&(n=d(c.target)),n?!this.options.handle||m||(d(this.options.handle,n).find("*").addBack().each(function(){this===c.target&&(w=!0)}),w)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(c,m,n){var w;m=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(c),
this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(c),
this.originalPageX=c.pageX,this.originalPageY=c.pageY,m.cursorAt&&this._adjustOffsetFromHelper(m.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),m.containment&&this._setContainment(),m.cursor&&"auto"!==m.cursor&&(w=this.document.find("body"),this.storedCursor=w.css("cursor"),w.css("cursor",m.cursor),this.storedStylesheet=d("<style>*{ cursor: "+m.cursor+" !important; }</style>").appendTo(w)),
m.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",m.opacity)),m.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",m.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",c,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(n=this.containers.length-
1;0<=n;n--)this.containers[n]._trigger("activate",c,this._uiHash(this));return d.ui.ddmanager&&(d.ui.ddmanager.current=this),d.ui.ddmanager&&!m.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(c),!0},_mouseDrag:function(c){var m,n,w;var z=this.options;var x=!1;this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);
this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<z.scrollSensitivity?this.scrollParent[0].scrollTop=x=this.scrollParent[0].scrollTop+z.scrollSpeed:c.pageY-this.overflowOffset.top<z.scrollSensitivity&&(this.scrollParent[0].scrollTop=x=this.scrollParent[0].scrollTop-z.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-c.pageX<z.scrollSensitivity?this.scrollParent[0].scrollLeft=
x=this.scrollParent[0].scrollLeft+z.scrollSpeed:c.pageX-this.overflowOffset.left<z.scrollSensitivity&&(this.scrollParent[0].scrollLeft=x=this.scrollParent[0].scrollLeft-z.scrollSpeed)):(c.pageY-this.document.scrollTop()<z.scrollSensitivity?x=this.document.scrollTop(this.document.scrollTop()-z.scrollSpeed):this.window.height()-(c.pageY-this.document.scrollTop())<z.scrollSensitivity&&(x=this.document.scrollTop(this.document.scrollTop()+z.scrollSpeed)),c.pageX-this.document.scrollLeft()<z.scrollSensitivity?
x=this.document.scrollLeft(this.document.scrollLeft()-z.scrollSpeed):this.window.width()-(c.pageX-this.document.scrollLeft())<z.scrollSensitivity&&(x=this.document.scrollLeft(this.document.scrollLeft()+z.scrollSpeed))),!1!==x&&d.ui.ddmanager&&!z.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=
this.position.top+"px");for(z=this.items.length-1;0<=z;z--)if(m=this.items[z],n=m.item[0],w=this._intersectsWithPointer(m),w&&m.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===w?"next":"prev"]()[0]!==n&&!d.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!d.contains(this.element[0],n):!0)){if(this.direction=1===w?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(m))break;this._rearrange(c,m);this._trigger("change",c,this._uiHash());
break}return this._contactContainers(c),d.ui.ddmanager&&d.ui.ddmanager.drag(this,c),this._trigger("sort",c,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(c,m){if(c){if(d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,c),this.options.revert){var n=this;m=this.placeholder.offset();var w=this.options.axis,z={};w&&"x"!==w||(z.left=m.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));
w&&"y"!==w||(z.top=m.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;d(this.helper).animate(z,parseInt(this.options.revert,10)||500,function(){n._clear(c)})}else this._clear(c,m);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new d.Event("mouseup",{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):
this.currentItem.show();for(var c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,
{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var m=this._getItemsAsjQuery(c&&c.connected),n=[];return c=c||{},d(m).each(function(){var w=(d(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[\-=_](.+)/);w&&n.push((c.key||w[1]+"[]")+"="+(c.key&&c.expression?w[1]:w[2]))}),!n.length&&c.key&&n.push(c.key+"="),n.join("&")},
toArray:function(c){var m=this._getItemsAsjQuery(c&&c.connected),n=[];return c=c||{},m.each(function(){n.push(d(c.item||this).attr(c.attribute||"id")||"")}),n},_intersectsWith:function(c){var m=this.positionAbs.left,n=m+this.helperProportions.width,w=this.positionAbs.top,z=w+this.helperProportions.height,x=c.left,J=x+c.width,v=c.top,K=v+c.height,D=this.offset.click.top,M=this.offset.click.left;D="x"===this.options.axis||w+D>v&&K>w+D;M="y"===this.options.axis||m+M>x&&J>m+M;return"pointer"===this.options.tolerance||
this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?D&&M:m+this.helperProportions.width/2>x&&J>n-this.helperProportions.width/2&&w+this.helperProportions.height/2>v&&K>z-this.helperProportions.height/2},_intersectsWithPointer:function(c){var m,n,w="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height);c="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+
this.offset.click.left,c.left,c.width);return w&&c?(m=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===m?2:1:m&&("down"===m?2:1)):!1},_intersectsWithSides:function(c){var m=this._isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var n=this._getDragVerticalDirection(),w=this._getDragHorizontalDirection();return this.floating&&
w?"right"===w&&c||"left"===w&&!c:n&&("down"===n&&m||"up"===n&&!m)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return 0!==c&&(0<c?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return 0!==c&&(0<c?"right":"left")},refresh:function(c){return this._refreshItems(c),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var c=this.options;return c.connectWith.constructor===
String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){function m(){z.push(this)}var n,w,z=[],x=[],J=this._connectWith();if(J&&c)for(c=J.length-1;0<=c;c--){var v=d(J[c],this.document[0]);for(n=v.length-1;0<=n;n--)(w=d.data(v[n],this.widgetFullName))&&w!==this&&!w.options.disabled&&x.push([d.isFunction(w.options.items)?w.options.items.call(w.element):d(w.options.items,w.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),w])}x.push([d.isFunction(this.options.items)?this.options.items.call(this.element,
null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(c=x.length-1;0<=c;c--)x[c][0].each(m);return d(z)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(m){for(var n=0;c.length>n;n++)if(c[n]===m.item[0])return!1;return!0})},_refreshItems:function(c){this.items=[];this.containers=[this];var m,n,w,z,x=this.items,
J=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):d(this.options.items,this.element),this]];if((z=this._connectWith())&&this.ready)for(m=z.length-1;0<=m;m--){var v=d(z[m],this.document[0]);for(n=v.length-1;0<=n;n--)(w=d.data(v[n],this.widgetFullName))&&w!==this&&!w.options.disabled&&(J.push([d.isFunction(w.options.items)?w.options.items.call(w.element[0],c,{item:this.currentItem}):d(w.options.items,w.element),w]),this.containers.push(w))}for(m=
J.length-1;0<=m;m--)for(c=J[m][1],v=J[m][0],n=0,z=v.length;z>n;n++)w=d(v[n]),w.data(this.widgetName+"-item",c),x.push({item:w,instance:c,width:0,height:0,left:0,top:0})},refreshPositions:function(c){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var m,n,w;for(m=this.items.length-1;0<=m;m--){var z=this.items[m];z.instance!==this.currentContainer&&this.currentContainer&&z.item[0]!==
this.currentItem[0]||(n=this.options.toleranceElement?d(this.options.toleranceElement,z.item):z.item,c||(z.width=n.outerWidth(),z.height=n.outerHeight()),w=n.offset(),z.left=w.left,z.top=w.top)}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(m=this.containers.length-1;0<=m;m--)w=this.containers[m].element.offset(),this.containers[m].containerCache.left=w.left,this.containers[m].containerCache.top=w.top,this.containers[m].containerCache.width=
this.containers[m].element.outerWidth(),this.containers[m].containerCache.height=this.containers[m].element.outerHeight();return this},_createPlaceholder:function(c){c=c||this;var m,n=c.options;n.placeholder&&n.placeholder.constructor!==String||(m=n.placeholder,n.placeholder={element:function(){var w=c.currentItem[0].nodeName.toLowerCase(),z=d("<"+w+">",c.document[0]);return c._addClass(z,"ui-sortable-placeholder",m||c.currentItem[0].className)._removeClass(z,"ui-sortable-helper"),"tbody"===w?c._createTrPlaceholder(c.currentItem.find("tr").eq(0),
d("<tr>",c.document[0]).appendTo(z)):"tr"===w?c._createTrPlaceholder(c.currentItem,z):"img"===w&&z.attr("src",c.currentItem.attr("src")),m||z.css("visibility","hidden"),z},update:function(w,z){(!m||n.forcePlaceholderSize)&&(z.height()||z.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),z.width()||z.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||
0,10)))}});c.placeholder=d(n.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);n.placeholder.update(c,c.placeholder)},_createTrPlaceholder:function(c,m){var n=this;c.children().each(function(){d("<td>&#160;</td>",n.document[0]).attr("colspan",d(this).attr("colspan")||1).appendTo(m)})},_contactContainers:function(c){var m,n,w,z,x,J=w=null;for(m=this.containers.length-1;0<=m;m--)d.contains(this.currentItem[0],this.containers[m].element[0])||(this._intersectsWith(this.containers[m].containerCache)?
w&&d.contains(this.containers[m].element[0],w.element[0])||(w=this.containers[m],J=m):this.containers[m].containerCache.over&&(this.containers[m]._trigger("out",c,this._uiHash(this)),this.containers[m].containerCache.over=0));if(w)if(1===this.containers.length)this.containers[J].containerCache.over||(this.containers[J]._trigger("over",c,this._uiHash(this)),this.containers[J].containerCache.over=1);else{m=1E4;var v=null;w=(n=w.floating||this._isFloating(this.currentItem))?"left":"top";var K=n?"width":
"height";var D=n?"pageX":"pageY";for(n=this.items.length-1;0<=n;n--)d.contains(this.containers[J].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(z=this.items[n].item.offset()[w],x=!1,c[D]-z>this.items[n][K]/2&&(x=!0),m>Math.abs(c[D]-z)&&(m=Math.abs(c[D]-z),v=this.items[n],this.direction=x?"up":"down"));if(v||this.options.dropOnEmpty){if(this.currentContainer===this.containers[J])return this.currentContainer.containerCache.over||(this.containers[J]._trigger("over",
c,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;v?this._rearrange(c,v,null,!0):this._rearrange(c,null,this.containers[J].element,!0);this._trigger("change",c,this._uiHash());this.containers[J]._trigger("change",c,this._uiHash(this));this.currentContainer=this.containers[J];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[J]._trigger("over",c,this._uiHash(this));this.containers[J].containerCache.over=1}}},_createHelper:function(c){var m=
this.options;c=d.isFunction(m.helper)?d(m.helper.apply(this.element[0],[c,this.currentItem])):"clone"===m.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||d("parent"!==m.appendTo?m.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),
(!c[0].style.width||m.forceHelperSize)&&c.width(this.currentItem.width()),(!c[0].style.height||m.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));d.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=
this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&
d.ui.ie)&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins=
{left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,m,n,w=this.options;"parent"===w.containment&&(w.containment=this.helper[0].parentNode);"document"!==w.containment&&"window"!==w.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-
this.offset.parent.top,"document"===w.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===w.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(w.containment)||(c=d(w.containment)[0],m=d(w.containment).offset(),n="hidden"!==d(c).css("overflow"),this.containment=[m.left+
(parseInt(d(c).css("borderLeftWidth"),10)||0)+(parseInt(d(c).css("paddingLeft"),10)||0)-this.margins.left,m.top+(parseInt(d(c).css("borderTopWidth"),10)||0)+(parseInt(d(c).css("paddingTop"),10)||0)-this.margins.top,m.left+(n?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(d(c).css("borderLeftWidth"),10)||0)-(parseInt(d(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,m.top+(n?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(d(c).css("borderTopWidth"),
10)||0)-(parseInt(d(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(c,m){m||(m=this.position);c="absolute"===c?1:-1;var n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,w=/(html|body)/i.test(n[0].tagName);return{top:m.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():
w?0:n.scrollTop())*c,left:m.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():w?0:n.scrollLeft())*c}},_generatePosition:function(c){var m,n,w=this.options,z=c.pageX,x=c.pageY,J="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,v=/(html|body)/i.test(J[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==
this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(z=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(x=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(z=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&
(x=this.containment[3]+this.offset.click.top)),w.grid&&(m=this.originalPageY+Math.round((x-this.originalPageY)/w.grid[1])*w.grid[1],x=this.containment?m-this.offset.click.top>=this.containment[1]&&m-this.offset.click.top<=this.containment[3]?m:m-this.offset.click.top>=this.containment[1]?m-w.grid[1]:m+w.grid[1]:m,n=this.originalPageX+Math.round((z-this.originalPageX)/w.grid[0])*w.grid[0],z=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?
n:n-this.offset.click.left>=this.containment[0]?n-w.grid[0]:n+w.grid[0]:n)),{top:x-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():v?0:J.scrollTop()),left:z-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():v?0:J.scrollLeft())}},_rearrange:function(c,m,n,w){n?n[0].appendChild(this.placeholder[0]):m.item[0].parentNode.insertBefore(this.placeholder[0],
"down"===this.direction?m.item[0]:m.item[0].nextSibling);var z=this.counter=this.counter?++this.counter:1;this._delay(function(){z===this.counter&&this.refreshPositions(!w)})},_clear:function(c,m){function n(x,J,v){return function(K){v._trigger(x,K,J._uiHash(J))}}this.reverting=!1;var w,z=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(w in this._storedCSS)"auto"!==this._storedCSS[w]&&
"static"!==this._storedCSS[w]||(this._storedCSS[w]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!m&&z.push(function(x){this._trigger("receive",x,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||m||z.push(function(x){this._trigger("update",x,this._uiHash())});this!==
this.currentContainer&&(m||(z.push(function(x){this._trigger("remove",x,this._uiHash())}),z.push(function(x){return function(J){x._trigger("receive",J,this._uiHash(this))}}.call(this,this.currentContainer)),z.push(function(x){return function(J){x._trigger("update",J,this._uiHash(this))}}.call(this,this.currentContainer))));for(w=this.containers.length-1;0<=w;w--)m||z.push(n("deactivate",this,this.containers[w])),this.containers[w].containerCache.over&&(z.push(n("out",this,this.containers[w])),this.containers[w].containerCache.over=
0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,m||this._trigger("beforeStop",c,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=
null),!m){for(w=0;z.length>w;w++)z[w].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(c){var m=c||this;return{helper:m.helper,placeholder:m.placeholder||d([]),position:m.position,originalPosition:m.originalPosition,offset:m.positionAbs,item:m.currentItem,sender:c?c.element:null}}});d.widget("ui.accordion",{version:"1.12.1",options:{active:0,
animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",
paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var c=this.options;this.prevShow=this.prevHide=d();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");c.collapsible||!1!==c.active&&null!=c.active||(c.active=0);this._processPanels();0>c.active&&(c.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():d()}},_createIcons:function(){var c,m,n=
this.options.icons;n&&(c=d("<span>"),this._addClass(c,"ui-accordion-header-icon","ui-icon "+n.header),c.prependTo(this.headers),m=this.active.children(".ui-accordion-header-icon"),this._removeClass(m,n.header)._addClass(m,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();
this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&c.css("height","")},_setOption:function(c,m){return"active"===c?(this._activate(m),void 0):("event"===c&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(m)),this._super(c,m),"collapsible"!==c||m||!1!==this.options.active||this._activate(0),"icons"===c&&(this._destroyIcons(),m&&this._createIcons()),void 0)},
_setOptionDisabled:function(c){this._super(c);this.element.attr("aria-disabled",c);this._toggleClass(null,"ui-state-disabled",!!c);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!c)},_keydown:function(c){if(!c.altKey&&!c.ctrlKey){var m=d.ui.keyCode,n=this.headers.length,w=this.headers.index(c.target),z=!1;switch(c.keyCode){case m.RIGHT:case m.DOWN:z=this.headers[(w+1)%n];break;case m.LEFT:case m.UP:z=this.headers[(w-1+n)%n];break;case m.SPACE:case m.ENTER:this._eventHandler(c);
break;case m.HOME:z=this.headers[0];break;case m.END:z=this.headers[n-1]}z&&(d(c.target).attr("tabIndex",-1),d(z).attr("tabIndex",0),d(z).trigger("focus"),c.preventDefault())}},_panelKeyDown:function(c){c.keyCode===d.ui.keyCode.UP&&c.ctrlKey&&d(c.currentTarget).prev().trigger("focus")},refresh:function(){var c=this.options;this._processPanels();!1===c.active&&!0===c.collapsible||!this.headers.length?(c.active=!1,this.active=d()):!1===c.active?this._activate(0):this.active.length&&!d.contains(this.element[0],
this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(c.active=!1,this.active=d()):this._activate(Math.max(0,c.active-1)):c.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var c=this.headers,m=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();
this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");m&&(this._off(c.not(this.headers)),this._off(m.not(this.panels)))},_refresh:function(){var c,m=this.options,n=m.heightStyle,w=this.element.parent();this.active=this._findActive(m.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role",
"tab").each(function(){var z=d(this),x=z.uniqueId().attr("id"),J=z.next(),v=J.uniqueId().attr("id");z.attr("aria-controls",v);J.attr("aria-labelledby",x)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();
this._setupEvents(m.event);"fill"===n?(c=w.height(),this.element.siblings(":visible").each(function(){var z=d(this),x=z.css("position");"absolute"!==x&&"fixed"!==x&&(c-=z.outerHeight(!0))}),this.headers.each(function(){c-=d(this).outerHeight(!0)}),this.headers.next().each(function(){d(this).height(Math.max(0,c-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===n&&(c=0,this.headers.next().each(function(){var z=d(this).is(":visible");z||d(this).show();c=Math.max(c,d(this).css("height",
"").height());z||d(this).hide()}).height(c))},_activate:function(c){c=this._findActive(c)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:d.noop}))},_findActive:function(c){return"number"==typeof c?this.headers.eq(c):d()},_setupEvents:function(c){var m={keydown:"_keydown"};c&&d.each(c.split(" "),function(n,w){m[w]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,m);this._on(this.headers.next(),{keydown:"_panelKeyDown"});
this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(c){var m,n,w=this.options,z=this.active,x=d(c.currentTarget),J=x[0]===z[0],v=J&&w.collapsible,K=v?d():x.next(),D=z.next();K={oldHeader:z,oldPanel:D,newHeader:v?d():x,newPanel:K};c.preventDefault();J&&!w.collapsible||!1===this._trigger("beforeActivate",c,K)||(w.active=v?!1:this.headers.index(x),this.active=J?d():x,this._toggle(K),this._removeClass(z,"ui-accordion-header-active","ui-state-active"),w.icons&&(m=z.children(".ui-accordion-header-icon"),
this._removeClass(m,null,w.icons.activeHeader)._addClass(m,null,w.icons.header)),J||(this._removeClass(x,"ui-accordion-header-collapsed")._addClass(x,"ui-accordion-header-active","ui-state-active"),w.icons&&(n=x.children(".ui-accordion-header-icon"),this._removeClass(n,null,w.icons.header)._addClass(n,null,w.icons.activeHeader)),this._addClass(x.next(),"ui-accordion-content-active")))},_toggle:function(c){var m=c.newPanel,n=this.prevShow.length?this.prevShow:c.oldPanel;this.prevShow.add(this.prevHide).stop(!0,
!0);this.prevShow=m;this.prevHide=n;this.options.animate?this._animate(m,n,c):(n.hide(),m.show(),this._toggleComplete(c));n.attr({"aria-hidden":"true"});n.prev().attr({"aria-selected":"false","aria-expanded":"false"});m.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):m.length&&this.headers.filter(function(){return 0===parseInt(d(this).attr("tabIndex"),10)}).attr("tabIndex",-1);m.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},
_animate:function(c,m,n){var w,z,x,J=this,v=0,K=c.css("box-sizing"),D=c.length&&(!m.length||c.index()<m.index()),M=this.options.animate||{};D=D&&M.down||M;var Q=function(){J._toggleComplete(n)};return"number"==typeof D&&(x=D),"string"==typeof D&&(z=D),z=z||D.easing||M.easing,x=x||D.duration||M.duration,m.length?c.length?(w=c.show().outerHeight(),m.animate(this.hideProps,{duration:x,easing:z,step:function(G,T){T.now=Math.round(G)}}),c.hide().animate(this.showProps,{duration:x,easing:z,complete:Q,step:function(G,
T){T.now=Math.round(G);"height"!==T.prop?"content-box"===K&&(v+=T.now):"content"!==J.options.heightStyle&&(T.now=Math.round(w-m.outerHeight()-v),v=0)}}),void 0):m.animate(this.hideProps,x,z,Q):c.animate(this.showProps,x,z,Q)},_toggleComplete:function(c){var m=c.oldPanel,n=m.prev();this._removeClass(m,"ui-accordion-content-active");this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed");m.length&&(m.parent()[0].className=m.parent()[0].className);this._trigger("activate",
null,c)}});d.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(c){c.preventDefault()},"click .ui-menu-item":function(c){var m=
d(c.target),n=d(d.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&m.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||(this.mouseHandled=!0),m.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){if(!this.previousFilter){var m=d(c.target).closest(".ui-menu-item"),
n=d(c.currentTarget);m[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(c,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,m){var n=this.active||this.element.find(this.options.items).eq(0);m||this.focus(c,n)},blur:function(c){this._delay(function(){!d.contains(this.element[0],d.ui.safeActiveElement(this.document[0]))&&this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){this._closeOnDocumentClick(c)&&
this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){var c=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();c.children().each(function(){var m=d(this);m.data("ui-menu-submenu-caret")&&m.remove()})},
_keydown:function(c){var m=!0;switch(c.keyCode){case d.ui.keyCode.PAGE_UP:this.previousPage(c);break;case d.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case d.ui.keyCode.HOME:this._move("first","first",c);break;case d.ui.keyCode.END:this._move("last","last",c);break;case d.ui.keyCode.UP:this.previous(c);break;case d.ui.keyCode.DOWN:this.next(c);break;case d.ui.keyCode.LEFT:this.collapse(c);break;case d.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case d.ui.keyCode.ENTER:case d.ui.keyCode.SPACE:this._activate(c);
break;case d.ui.keyCode.ESCAPE:this.collapse(c);break;default:m=!1;var n=this.previousFilter||"";var w=!1;var z=96<=c.keyCode&&105>=c.keyCode?""+(c.keyCode-96):String.fromCharCode(c.keyCode);clearTimeout(this.filterTimer);z===n?w=!0:z=n+z;n=this._filterMenuItems(z);n=w&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n;n.length||(z=String.fromCharCode(c.keyCode),n=this._filterMenuItems(z));n.length?(this.focus(c,n),this.previousFilter=z,this.filterTimer=this._delay(function(){delete this.previousFilter},
1E3)):delete this.previousFilter}m&&c.preventDefault()},_activate:function(c){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(c):this.select(c))},refresh:function(){var c=this,m=this.options.icons.submenu;var n=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);var w=n.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var x=
d(this),J=x.prev(),v=d("<span>").data("ui-menu-submenu-caret",!0);c._addClass(v,"ui-menu-icon","ui-icon "+m);J.attr("aria-haspopup","true").prepend(v);x.attr("aria-labelledby",J.attr("id"))});this._addClass(w,"ui-menu","ui-widget ui-widget-content ui-front");w=n.add(this.element).find(this.options.items);w.not(".ui-menu-item").each(function(){var x=d(this);c._isDivider(x)&&c._addClass(x,"ui-menu-divider","ui-widget-content")});n=w.not(".ui-menu-item, .ui-menu-divider");var z=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,
role:this._itemRole()});this._addClass(n,"ui-menu-item")._addClass(z,"ui-menu-item-wrapper");w.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!d.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,m){if("icons"===c){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,m.submenu)}this._super(c,m)},_setOptionDisabled:function(c){this._super(c);
this.element.attr("aria-disabled",c+"");this._toggleClass(null,"ui-state-disabled",!!c)},focus:function(c,m){this.blur(c,c&&"focus"===c.type);this._scrollIntoView(m);this.active=m.first();var n=this.active.children(".ui-menu-item-wrapper");this._addClass(n,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",n.attr("id"));n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(n,null,"ui-state-active");c&&"keydown"===c.type?
this._close():this.timer=this._delay(function(){this._close()},this.delay);n=m.children(".ui-menu");n.length&&c&&/^mouse/.test(c.type)&&this._startOpening(n);this.activeMenu=m.parent();this._trigger("focus",c,{item:m})},_scrollIntoView:function(c){var m,n,w,z,x,J;this._hasScroll()&&(m=parseFloat(d.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(d.css(this.activeMenu[0],"paddingTop"))||0,w=c.offset().top-this.activeMenu.offset().top-m-n,z=this.activeMenu.scrollTop(),x=this.activeMenu.height(),
J=c.outerHeight(),0>w?this.activeMenu.scrollTop(z+w):w+J>x&&this.activeMenu.scrollTop(z+w-x+J))},blur:function(c,m){m||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",c,{item:this.active}),this.active=null)},_startOpening:function(c){clearTimeout(this.timer);"true"===c.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(c)},this.delay))},_open:function(c){var m=d.extend({of:this.active},
this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(m)},collapseAll:function(c,m){clearTimeout(this.timer);this.timer=this._delay(function(){var n=m?this.element:d(c&&c.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element);this._close(n);this.blur(c);this._removeClass(n.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=
n},this.delay)},_close:function(c){c||(c=this.active?this.active.parent():this.element);c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(c){return!d(c.target).closest(".ui-menu").length},_isDivider:function(c){return!/[^\-\u2014\u2013\s]/.test(c.text())},collapse:function(c){var m=this.active&&this.active.parent().closest(".ui-menu-item",this.element);m&&m.length&&(this._close(),this.focus(c,m))},expand:function(c){var m=this.active&&
this.active.children(".ui-menu ").find(this.options.items).first();m&&m.length&&(this._open(m.parent()),this._delay(function(){this.focus(c,m)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(c,m,n){var w;this.active&&(w="first"===c||"last"===c?this.active["first"===
c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0));w&&w.length&&this.active||(w=this.activeMenu.find(this.options.items)[m]());this.focus(n,w)},nextPage:function(c){var m,n,w;return this.active?(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,w=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return m=d(this),0>m.offset().top-n-w}),this.focus(c,m)):this.focus(c,this.activeMenu.find(this.options.items)[this.active?
"last":"first"]())),void 0):(this.next(c),void 0)},previousPage:function(c){var m,n,w;return this.active?(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,w=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return m=d(this),0<m.offset().top-n+w}),this.focus(c,m)):this.focus(c,this.activeMenu.find(this.options.items).first())),void 0):(this.next(c),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=
this.active||d(c.target).closest(".ui-menu-item");var m={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,m)},_filterMenuItems:function(c){c=c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var m=RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return m.test(d.trim(d(this).children(".ui-menu-item-wrapper").text()))})}});d.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",
options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var c,m,n,w=this.element[0].nodeName.toLowerCase(),z="textarea"===w;w="input"===w;this.isMultiLine=z||!w&&this._isContentEditable(this.element);this.valueMethod=this.element[z||w?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");
this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(x){if(this.element.prop("readOnly"))return c=!0,n=!0,m=!0,void 0;m=n=c=!1;var J=d.ui.keyCode;switch(x.keyCode){case J.PAGE_UP:c=!0;this._move("previousPage",x);break;case J.PAGE_DOWN:c=!0;this._move("nextPage",x);break;case J.UP:c=!0;this._keyEvent("previous",x);break;case J.DOWN:c=!0;this._keyEvent("next",x);break;case J.ENTER:this.menu.active&&(c=!0,x.preventDefault(),this.menu.select(x));break;case J.TAB:this.menu.active&&
this.menu.select(x);break;case J.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(x),x.preventDefault());break;default:m=!0,this._searchTimeout(x)}},keypress:function(x){if(c)return c=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&x.preventDefault(),void 0;if(!m){var J=d.ui.keyCode;switch(x.keyCode){case J.PAGE_UP:this._move("previousPage",x);break;case J.PAGE_DOWN:this._move("nextPage",x);break;case J.UP:this._keyEvent("previous",x);break;case J.DOWN:this._keyEvent("next",
x)}}},input:function(x){return n?(n=!1,x.preventDefault(),void 0):(this._searchTimeout(x),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(x){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(x),this._change(x),void 0)}});this._initSource();this.menu=d("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,
{mousedown:function(x){x.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==d.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(x,J){var v,K;return this.isNewMenu&&(this.isNewMenu=!1,x.originalEvent&&/^mouse/.test(x.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){d(x.target).trigger(x.originalEvent)}),void 0):(K=J.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",x,
{item:K})&&x.originalEvent&&/^key/.test(x.originalEvent.type)&&this._value(K.value),v=J.item.attr("aria-label")||K.value,v&&d.trim(v).length&&(this.liveRegion.children().hide(),d("<div>").text(v).appendTo(this.liveRegion)),void 0)},menuselect:function(x,J){var v=J.item.data("ui-autocomplete-item"),K=this.previous;this.element[0]!==d.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=K,this._delay(function(){this.previous=K;this.selectedItem=v}));!1!==this._trigger("select",
x,{item:v})&&this._value(v.value);this.term=this._value();this.close(x);this.selectedItem=v}});this.liveRegion=d("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},
_setOption:function(c,m){this._super(c,m);"source"===c&&this._initSource();"appendTo"===c&&this.menu.element.appendTo(this._appendTo());"disabled"===c&&m&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(c){var m=this.menu.element[0];return c.target===this.element[0]||c.target===m||d.contains(m,c.target)},_closeOnClickOutside:function(c){this._isEventTargetInWidget(c)||this.close()},_appendTo:function(){var c=this.options.appendTo;return c&&(c=c.jquery||c.nodeType?d(c):this.document.find(c).eq(0)),
c&&c[0]||(c=this.element.closest(".ui-front, dialog")),c.length||(c=this.document[0].body),c},_initSource:function(){var c,m,n=this;d.isArray(this.options.source)?(c=this.options.source,this.source=function(w,z){z(d.ui.autocomplete.filter(c,w.term))}):"string"==typeof this.options.source?(m=this.options.source,this.source=function(w,z){n.xhr&&n.xhr.abort();n.xhr=d.ajax({url:m,data:w,dataType:"json",success:function(x){z(x)},error:function(){z([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching);
this.searching=this._delay(function(){var m=this.term===this._value(),n=this.menu.element.is(":visible"),w=c.altKey||c.ctrlKey||c.metaKey||c.shiftKey;m&&(!m||n||w)||(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,m){return c=null!=c?c:this._value(),this.term=this._value(),c.length<this.options.minLength?this.close(m):!1!==this._trigger("search",m)?this._search(c):void 0},_search:function(c){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=
!1;this.source({term:c},this._response())},_response:function(){var c=++this.requestIndex;return d.proxy(function(m){c===this.requestIndex&&this.__response(m);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(c){c&&(c=this._normalize(c));this._trigger("response",null,{content:c});!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0;this._close(c)},_close:function(c){this._off(this.document,
"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:d.map(c,function(m){return"string"==typeof m?{label:m,value:m}:d.extend({},m,{label:m.label||m.value,value:m.value||m.label})})},_suggest:function(c){var m=this.menu.element.empty();this._renderMenu(m,
c);this.isNewMenu=!0;this.menu.refresh();m.show();this._resizeMenu();m.position(d.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,m){var n=this;d.each(m,function(w,z){n._renderItemData(c,z)})},_renderItemData:function(c,m){return this._renderItem(c,m).data("ui-autocomplete-item",
m)},_renderItem:function(c,m){return d("<li>").append(d("<div>").text(m.label)).appendTo(c)},_move:function(c,m){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[c](m),void 0):(this.search(null,m),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(c,m){this.isMultiLine&&
!this.menu.element.is(":visible")||(this._move(c,m),m.preventDefault())},_isContentEditable:function(c){if(!c.length)return!1;var m=c.prop("contentEditable");return"inherit"===m?this._isContentEditable(c.parent()):"true"===m}});d.extend(d.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,m){var n=RegExp(d.ui.autocomplete.escapeRegex(m),"i");return d.grep(c,function(w){return n.test(w.label||w.value||w)})}});d.widget("ui.autocomplete",
d.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(1<c?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var m;this._superApply(arguments);this.options.disabled||this.cancelSearch||(m=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults,this.liveRegion.children().hide(),d("<div>").text(m).appendTo(this.liveRegion))}});d.ui.autocomplete;d.extend(d.ui,{datepicker:{version:"1.12.1"}});
var u;d.extend(W.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(c){return g(this._defaults,c||{}),this},_attachDatepicker:function(c,m){var n=c.nodeName.toLowerCase();var w="div"===n||"span"===n;c.id||(this.uuid+=1,c.id="dp"+this.uuid);var z=this._newInst(d(c),w);z.settings=d.extend({},m||{});"input"===n?this._connectDatepicker(c,z):w&&this._inlineDatepicker(c,z)},_newInst:function(c,m){return{id:c[0].id.replace(/([^A-Za-z0-9_\-])/g,
"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:m,dpDiv:m?a(d("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(c,m){var n=d(c);m.append=d([]);m.trigger=d([]);n.hasClass(this.markerClassName)||(this._attachments(n,m),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(m),
d.data(c,"datepicker",m),m.settings.disabled&&this._disableDatepicker(c))},_attachments:function(c,m){var n,w;var z=this._get(m,"appendText");var x=this._get(m,"isRTL");m.append&&m.append.remove();z&&(m.append=d("<span class='"+this._appendClass+"'>"+z+"</span>"),c[x?"before":"after"](m.append));c.off("focus",this._showDatepicker);m.trigger&&m.trigger.remove();z=this._get(m,"showOn");"focus"!==z&&"both"!==z||c.on("focus",this._showDatepicker);"button"!==z&&"both"!==z||(n=this._get(m,"buttonText"),
w=this._get(m,"buttonImage"),m.trigger=d(this._get(m,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:w,alt:n,title:n}):d("<button type='button'></button>").addClass(this._triggerClass).html(w?d("<img/>").attr({src:w,alt:n,title:n}):n)),c[x?"before":"after"](m.trigger),m.trigger.on("click",function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput===c[0]?d.datepicker._hideDatepicker():d.datepicker._datepickerShowing&&d.datepicker._lastInput!==c[0]?(d.datepicker._hideDatepicker(),
d.datepicker._showDatepicker(c[0])):d.datepicker._showDatepicker(c[0]),!1}))},_autoSize:function(c){if(this._get(c,"autoSize")&&!c.inline){var m,n,w,z,x=new Date(2009,11,20),J=this._get(c,"dateFormat");J.match(/[DM]/)&&(m=function(v){for(z=w=n=0;v.length>z;z++)v[z].length>n&&(n=v[z].length,w=z);return w},x.setMonth(m(this._get(c,J.match(/MM/)?"monthNames":"monthNamesShort"))),x.setDate(m(this._get(c,J.match(/DD/)?"dayNames":"dayNamesShort"))+20-x.getDay()));c.input.attr("size",this._formatDate(c,
x).length)}},_inlineDatepicker:function(c,m){var n=d(c);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(m.dpDiv),d.data(c,"datepicker",m),this._setDate(m,this._getDefaultDate(m),!0),this._updateDatepicker(m),this._updateAlternate(m),m.settings.disabled&&this._disableDatepicker(c),m.dpDiv.css("display","block"))},_dialogDatepicker:function(c,m,n,w,z){var x,J,v,K,D;c=this._dialogInst;return c||(this.uuid+=1,x="dp"+this.uuid,this._dialogInput=d("<input type='text' id='"+x+
"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),d("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},d.data(this._dialogInput[0],"datepicker",c)),g(c.settings,w||{}),m=m&&m.constructor===Date?this._formatDate(c,m):m,this._dialogInput.val(m),this._pos=z?z.length?z:[z.pageX,z.pageY]:null,this._pos||(J=document.documentElement.clientWidth,v=document.documentElement.clientHeight,K=document.documentElement.scrollLeft||
document.body.scrollLeft,D=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[J/2-100+K,v/2-150+D]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(c){var m,n=d(c),w=d.data(c,"datepicker");n.hasClass(this.markerClassName)&&
(m=c.nodeName.toLowerCase(),d.removeData(c,"datepicker"),"input"===m?(w.append.remove(),w.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===m||"span"===m)&&n.removeClass(this.markerClassName).empty(),u===w&&(u=null))},_enableDatepicker:function(c){var m,n,w=d(c),z=d.data(c,"datepicker");w.hasClass(this.markerClassName)&&(m=c.nodeName.toLowerCase(),"input"===m?(c.disabled=
!1,z.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===m||"span"===m)&&(n=w.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=d.map(this._disabledInputs,function(x){return x===c?null:x}))},_disableDatepicker:function(c){var m,n,w=d(c),z=d.data(c,"datepicker");w.hasClass(this.markerClassName)&&(m=
c.nodeName.toLowerCase(),"input"===m?(c.disabled=!0,z.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===m||"span"===m)&&(n=w.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=d.map(this._disabledInputs,function(x){return x===c?null:x}),this._disabledInputs[this._disabledInputs.length]=c)},_isDisabledDatepicker:function(c){if(!c)return!1;
for(var m=0;this._disabledInputs.length>m;m++)if(this._disabledInputs[m]===c)return!0;return!1},_getInst:function(c){try{return d.data(c,"datepicker")}catch(m){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,m,n){var w,z,x,J,v=this._getInst(c);return 2===arguments.length&&"string"==typeof m?"defaults"===m?d.extend({},d.datepicker._defaults):v?"all"===m?d.extend({},v.settings):this._get(v,m):null:(w=m||{},"string"==typeof m&&(w={},w[m]=n),v&&(this._curInst===v&&this._hideDatepicker(),
z=this._getDateDatepicker(c,!0),x=this._getMinMaxDate(v,"min"),J=this._getMinMaxDate(v,"max"),g(v.settings,w),null!==x&&void 0!==w.dateFormat&&void 0===w.minDate&&(v.settings.minDate=this._formatDate(v,x)),null!==J&&void 0!==w.dateFormat&&void 0===w.maxDate&&(v.settings.maxDate=this._formatDate(v,J)),"disabled"in w&&(w.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(d(c),v),this._autoSize(v),this._setDate(v,z),this._updateAlternate(v),this._updateDatepicker(v)),void 0)},
_changeDatepicker:function(c,m,n){this._optionDatepicker(c,m,n)},_refreshDatepicker:function(c){(c=this._getInst(c))&&this._updateDatepicker(c)},_setDateDatepicker:function(c,m){(c=this._getInst(c))&&(this._setDate(c,m),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(c,m){c=this._getInst(c);return c&&!c.inline&&this._setDateFromField(c,m),c?this._getDate(c):null},_doKeyDown:function(c){var m,n,w,z=d.datepicker._getInst(c.target),x=!0,J=z.dpDiv.is(".ui-datepicker-rtl");
if(z._keyEvent=!0,d.datepicker._datepickerShowing)switch(c.keyCode){case 9:d.datepicker._hideDatepicker();x=!1;break;case 13:return w=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",z.dpDiv),w[0]&&d.datepicker._selectDay(c.target,z.selectedMonth,z.selectedYear,w[0]),m=d.datepicker._get(z,"onSelect"),m?(n=d.datepicker._formatDate(z),m.apply(z.input?z.input[0]:null,[n,z])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(c.target,
c.ctrlKey?-d.datepicker._get(z,"stepBigMonths"):-d.datepicker._get(z,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(c.target,c.ctrlKey?+d.datepicker._get(z,"stepBigMonths"):+d.datepicker._get(z,"stepMonths"),"M");break;case 35:(c.ctrlKey||c.metaKey)&&d.datepicker._clearDate(c.target);x=c.ctrlKey||c.metaKey;break;case 36:(c.ctrlKey||c.metaKey)&&d.datepicker._gotoToday(c.target);x=c.ctrlKey||c.metaKey;break;case 37:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,J?1:-1,"D");x=c.ctrlKey||
c.metaKey;c.originalEvent.altKey&&d.datepicker._adjustDate(c.target,c.ctrlKey?-d.datepicker._get(z,"stepBigMonths"):-d.datepicker._get(z,"stepMonths"),"M");break;case 38:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,-7,"D");x=c.ctrlKey||c.metaKey;break;case 39:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,J?-1:1,"D");x=c.ctrlKey||c.metaKey;c.originalEvent.altKey&&d.datepicker._adjustDate(c.target,c.ctrlKey?+d.datepicker._get(z,"stepBigMonths"):+d.datepicker._get(z,"stepMonths"),
"M");break;case 40:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,7,"D");x=c.ctrlKey||c.metaKey;break;default:x=!1}else 36===c.keyCode&&c.ctrlKey?d.datepicker._showDatepicker(this):x=!1;x&&(c.preventDefault(),c.stopPropagation())},_doKeyPress:function(c){var m,n,w=d.datepicker._getInst(c.target);return d.datepicker._get(w,"constrainInput")?(m=d.datepicker._possibleChars(d.datepicker._get(w,"dateFormat")),n=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||
" ">n||!m||-1<m.indexOf(n)):void 0},_doKeyUp:function(c){var m;c=d.datepicker._getInst(c.target);if(c.input.val()!==c.lastVal)try{(m=d.datepicker.parseDate(d.datepicker._get(c,"dateFormat"),c.input?c.input.val():null,d.datepicker._getFormatConfig(c)))&&(d.datepicker._setDateFromField(c),d.datepicker._updateAlternate(c),d.datepicker._updateDatepicker(c))}catch(n){}return!0},_showDatepicker:function(c){if(c=c.target||c,"input"!==c.nodeName.toLowerCase()&&(c=d("input",c.parentNode)[0]),!d.datepicker._isDisabledDatepicker(c)&&
d.datepicker._lastInput!==c){var m,n,w,z;var x=d.datepicker._getInst(c);d.datepicker._curInst&&d.datepicker._curInst!==x&&(d.datepicker._curInst.dpDiv.stop(!0,!0),x&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0]));var J=(J=d.datepicker._get(x,"beforeShow"))?J.apply(c,[c,x]):{};!1!==J&&(g(x.settings,J),x.lastVal=null,d.datepicker._lastInput=c,d.datepicker._setDateFromField(x),d.datepicker._inDialog&&(c.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(c),
d.datepicker._pos[1]+=c.offsetHeight),m=!1,d(c).parents().each(function(){return m|="fixed"===d(this).css("position"),!m}),n={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,x.dpDiv.empty(),x.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(x),n=d.datepicker._checkOffset(x,n,m),x.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":m?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),x.inline||(w=d.datepicker._get(x,
"showAnim"),z=d.datepicker._get(x,"duration"),x.dpDiv.css("z-index",N(d(c))+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects.effect[w]?x.dpDiv.show(w,d.datepicker._get(x,"showOptions"),z):x.dpDiv[w||"show"](w?z:null),d.datepicker._shouldFocusInput(x)&&x.input.trigger("focus"),d.datepicker._curInst=x))}},_updateDatepicker:function(c){this.maxRows=4;u=c;c.dpDiv.empty().append(this._generateHTML(c));this._attachHandlers(c);var m,n=this._getNumberOfMonths(c),w=n[1],z=c.dpDiv.find("."+this._dayOverClass+
" a");0<z.length&&f.apply(z.get(0));c.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<w&&c.dpDiv.addClass("ui-datepicker-multi-"+w).css("width",17*w+"em");c.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi");c.dpDiv[(this._get(c,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");c===d.datepicker._curInst&&d.datepicker._datepickerShowing&&d.datepicker._shouldFocusInput(c)&&c.input.trigger("focus");c.yearshtml&&(m=c.yearshtml,
setTimeout(function(){m===c.yearshtml&&c.yearshtml&&c.dpDiv.find("select.ui-datepicker-year:first").replaceWith(c.yearshtml);m=c.yearshtml=null},0))},_shouldFocusInput:function(c){return c.input&&c.input.is(":visible")&&!c.input.is(":disabled")&&!c.input.is(":focus")},_checkOffset:function(c,m,n){var w=c.dpDiv.outerWidth(),z=c.dpDiv.outerHeight(),x=c.input?c.input.outerWidth():0,J=c.input?c.input.outerHeight():0,v=document.documentElement.clientWidth+(n?0:d(document).scrollLeft()),K=document.documentElement.clientHeight+
(n?0:d(document).scrollTop());return m.left-=this._get(c,"isRTL")?w-x:0,m.left-=n&&m.left===c.input.offset().left?d(document).scrollLeft():0,m.top-=n&&m.top===c.input.offset().top+J?d(document).scrollTop():0,m.left-=Math.min(m.left,m.left+w>v&&v>w?Math.abs(m.left+w-v):0),m.top-=Math.min(m.top,m.top+z>K&&K>z?Math.abs(z+J):0),m},_findPos:function(c){var m,n=this._getInst(c);for(n=this._get(n,"isRTL");c&&("hidden"===c.type||1!==c.nodeType||d.expr.filters.hidden(c));)c=c[n?"previousSibling":"nextSibling"];
return m=d(c).offset(),[m.left,m.top]},_hideDatepicker:function(c){var m,n,w,z,x=this._curInst;!x||c&&x!==d.data(c,"datepicker")||this._datepickerShowing&&(m=this._get(x,"showAnim"),n=this._get(x,"duration"),w=function(){d.datepicker._tidyDialog(x)},d.effects&&(d.effects.effect[m]||d.effects[m])?x.dpDiv.hide(m,d.datepicker._get(x,"showOptions"),n,w):x.dpDiv["slideDown"===m?"slideUp":"fadeIn"===m?"fadeOut":"hide"](m?n:null,w),m||w(),this._datepickerShowing=!1,z=this._get(x,"onClose"),z&&z.apply(x.input?
x.input[0]:null,[x.input?x.input.val():"",x]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(c){c.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(c){if(d.datepicker._curInst){c=d(c.target);var m=d.datepicker._getInst(c[0]);(!(c[0].id===d.datepicker._mainDivId||0!==c.parents("#"+d.datepicker._mainDivId).length||
c.hasClass(d.datepicker.markerClassName)||c.closest("."+d.datepicker._triggerClass).length||!d.datepicker._datepickerShowing||d.datepicker._inDialog&&d.blockUI)||c.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!==m)&&d.datepicker._hideDatepicker()}},_adjustDate:function(c,m,n){c=d(c);var w=this._getInst(c[0]);this._isDisabledDatepicker(c[0])||(this._adjustInstDate(w,m+("M"===n?this._get(w,"showCurrentAtPos"):0),n),this._updateDatepicker(w))},_gotoToday:function(c){var m;c=d(c);var n=
this._getInst(c[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(m=new Date,n.selectedDay=m.getDate(),n.drawMonth=n.selectedMonth=m.getMonth(),n.drawYear=n.selectedYear=m.getFullYear());this._notifyChange(n);this._adjustDate(c)},_selectMonthYear:function(c,m,n){c=d(c);var w=this._getInst(c[0]);w["selected"+("M"===n?"Month":"Year")]=w["draw"+("M"===n?"Month":"Year")]=parseInt(m.options[m.selectedIndex].value,
10);this._notifyChange(w);this._adjustDate(c)},_selectDay:function(c,m,n,w){var z,x=d(c);d(w).hasClass(this._unselectableClass)||this._isDisabledDatepicker(x[0])||(z=this._getInst(x[0]),z.selectedDay=z.currentDay=d("a",w).html(),z.selectedMonth=z.currentMonth=m,z.selectedYear=z.currentYear=n,this._selectDate(c,this._formatDate(z,z.currentDay,z.currentMonth,z.currentYear)))},_clearDate:function(c){c=d(c);this._selectDate(c,"")},_selectDate:function(c,m){c=d(c);var n=this._getInst(c[0]);m=null!=m?m:
this._formatDate(n);n.input&&n.input.val(m);this._updateAlternate(n);(c=this._get(n,"onSelect"))?c.apply(n.input?n.input[0]:null,[m,n]):n.input&&n.input.trigger("change");n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(c){var m,n,w,z=this._get(c,"altField");z&&(m=this._get(c,"altFormat")||this._get(c,"dateFormat"),n=this._getDate(c),w=this.formatDate(m,n,this._getFormatConfig(c)),
d(z).val(w))},noWeekends:function(c){c=c.getDay();return[0<c&&6>c,""]},iso8601Week:function(c){var m;c=new Date(c.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),m=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((m-c)/864E5)/7)+1},parseDate:function(c,m,n){if(null==c||null==m)throw"Invalid arguments";if(m="object"==typeof m?""+m:m+"",""===m)return null;var w,z,x,J=0,v=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;v="string"!=typeof v?v:(new Date).getFullYear()%
100+parseInt(v,10);var K=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,D=(n?n.dayNames:null)||this._defaults.dayNames,M=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort;n=(n?n.monthNames:null)||this._defaults.monthNames;var Q=-1,G=-1,T=-1,S=-1,R=!1,ca=function(ma){ma=c.length>w+1&&c.charAt(w+1)===ma;return ma&&w++,ma},ha=function(ma){var Aa=ca(ma);Aa="@"===ma?14:"!"===ma?20:"y"===ma&&Aa?4:"o"===ma?3:2;ma=RegExp("^\\d{"+("y"===ma?Aa:1)+","+Aa+"}");ma=m.substring(J).match(ma);if(!ma)throw"Missing number at position "+
J;return J+=ma[0].length,parseInt(ma[0],10)},ra=function(ma,Aa,Da){var Fa=-1;ma=d.map(ca(ma)?Da:Aa,function(Oa,Ga){return[[Ga,Oa]]}).sort(function(Oa,Ga){return-(Oa[1].length-Ga[1].length)});if(d.each(ma,function(Oa,Ga){Oa=Ga[1];return m.substr(J,Oa.length).toLowerCase()===Oa.toLowerCase()?(Fa=Ga[0],J+=Oa.length,!1):void 0}),-1!==Fa)return Fa+1;throw"Unknown name at position "+J;},Ia=function(){if(m.charAt(J)!==c.charAt(w))throw"Unexpected literal at position "+J;J++};for(w=0;c.length>w;w++)if(R)"'"!==
c.charAt(w)||ca("'")?Ia():R=!1;else switch(c.charAt(w)){case "d":T=ha("d");break;case "D":ra("D",K,D);break;case "o":S=ha("o");break;case "m":G=ha("m");break;case "M":G=ra("M",M,n);break;case "y":Q=ha("y");break;case "@":var ja=new Date(ha("@"));Q=ja.getFullYear();G=ja.getMonth()+1;T=ja.getDate();break;case "!":ja=new Date((ha("!")-this._ticksTo1970)/1E4);Q=ja.getFullYear();G=ja.getMonth()+1;T=ja.getDate();break;case "'":ca("'")?Ia():R=!0;break;default:Ia()}if(m.length>J&&(x=m.substr(J),!/^\s+/.test(x)))throw"Extra/unparsed characters found in date: "+
x;if(-1===Q?Q=(new Date).getFullYear():100>Q&&(Q+=(new Date).getFullYear()-(new Date).getFullYear()%100+(v>=Q?0:-100)),-1<S)for(G=1,T=S;!(z=this._getDaysInMonth(Q,G-1),z>=T);)G++,T-=z;if(ja=this._daylightSavingAdjust(new Date(Q,G-1,T)),ja.getFullYear()!==Q||ja.getMonth()+1!==G||ja.getDate()!==T)throw"Invalid date";return ja},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",
TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*719162,formatDate:function(c,m,n){if(!m)return"";var w,z=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,x=(n?n.dayNames:null)||this._defaults.dayNames,J=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort;n=(n?n.monthNames:null)||this._defaults.monthNames;var v=function(G){G=c.length>w+1&&c.charAt(w+1)===G;return G&&w++,G},K=function(G,T,S){T=""+T;if(v(G))for(;S>T.length;)T="0"+T;return T},D=function(G,T,S,R){return v(G)?R[T]:S[T]},M=
"",Q=!1;if(m)for(w=0;c.length>w;w++)if(Q)"'"!==c.charAt(w)||v("'")?M+=c.charAt(w):Q=!1;else switch(c.charAt(w)){case "d":M+=K("d",m.getDate(),2);break;case "D":M+=D("D",m.getDay(),z,x);break;case "o":M+=K("o",Math.round(((new Date(m.getFullYear(),m.getMonth(),m.getDate())).getTime()-(new Date(m.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":M+=K("m",m.getMonth()+1,2);break;case "M":M+=D("M",m.getMonth(),J,n);break;case "y":M+=v("y")?m.getFullYear():(10>m.getFullYear()%100?"0":"")+m.getFullYear()%
100;break;case "@":M+=m.getTime();break;case "!":M+=1E4*m.getTime()+this._ticksTo1970;break;case "'":v("'")?M+="'":Q=!0;break;default:M+=c.charAt(w)}return M},_possibleChars:function(c){var m,n="",w=!1,z=function(x){x=c.length>m+1&&c.charAt(m+1)===x;return x&&m++,x};for(m=0;c.length>m;m++)if(w)"'"!==c.charAt(m)||z("'")?n+=c.charAt(m):w=!1;else switch(c.charAt(m)){case "d":case "m":case "y":case "@":n+="0123456789";break;case "D":case "M":return null;case "'":z("'")?n+="'":w=!0;break;default:n+=c.charAt(m)}return n},
_get:function(c,m){return void 0!==c.settings[m]?c.settings[m]:this._defaults[m]},_setDateFromField:function(c,m){if(c.input.val()!==c.lastVal){var n=this._get(c,"dateFormat"),w=c.lastVal=c.input?c.input.val():null,z=this._getDefaultDate(c),x=z,J=this._getFormatConfig(c);try{x=this.parseDate(n,w,J)||z}catch(v){w=m?"":w}c.selectedDay=x.getDate();c.drawMonth=c.selectedMonth=x.getMonth();c.drawYear=c.selectedYear=x.getFullYear();c.currentDay=w?x.getDate():0;c.currentMonth=w?x.getMonth():0;c.currentYear=
w?x.getFullYear():0;this._adjustInstDate(c)}},_getDefaultDate:function(c){return this._restrictMinMax(c,this._determineDate(c,this._get(c,"defaultDate"),new Date))},_determineDate:function(c,m,n){var w=function(x){var J=new Date;return J.setDate(J.getDate()+x),J},z=function(x){try{return d.datepicker.parseDate(d.datepicker._get(c,"dateFormat"),x,d.datepicker._getFormatConfig(c))}catch(Q){}var J=(x.toLowerCase().match(/^c/)?d.datepicker._getDate(c):null)||new Date,v=J.getFullYear(),K=J.getMonth();
J=J.getDate();for(var D=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,M=D.exec(x);M;){switch(M[2]||"d"){case "d":case "D":J+=parseInt(M[1],10);break;case "w":case "W":J+=7*parseInt(M[1],10);break;case "m":case "M":K+=parseInt(M[1],10);J=Math.min(J,d.datepicker._getDaysInMonth(v,K));break;case "y":case "Y":v+=parseInt(M[1],10),J=Math.min(J,d.datepicker._getDaysInMonth(v,K))}M=D.exec(x)}return new Date(v,K,J)};m=null==m||""===m?n:"string"==typeof m?z(m):"number"==typeof m?isNaN(m)?n:w(m):new Date(m.getTime());
return m=m&&"Invalid Date"==""+m?n:m,m&&(m.setHours(0),m.setMinutes(0),m.setSeconds(0),m.setMilliseconds(0)),this._daylightSavingAdjust(m)},_daylightSavingAdjust:function(c){return c?(c.setHours(12<c.getHours()?c.getHours()+2:0),c):null},_setDate:function(c,m,n){var w=!m,z=c.selectedMonth,x=c.selectedYear;m=this._restrictMinMax(c,this._determineDate(c,m,new Date));c.selectedDay=c.currentDay=m.getDate();c.drawMonth=c.selectedMonth=c.currentMonth=m.getMonth();c.drawYear=c.selectedYear=c.currentYear=
m.getFullYear();z===c.selectedMonth&&x===c.selectedYear||n||this._notifyChange(c);this._adjustInstDate(c);c.input&&c.input.val(w?"":this._formatDate(c))},_getDate:function(c){return!c.currentYear||c.input&&""===c.input.val()?null:this._daylightSavingAdjust(new Date(c.currentYear,c.currentMonth,c.currentDay))},_attachHandlers:function(c){var m=this._get(c,"stepMonths"),n="#"+c.id.replace(/\\\\/g,"\\");c.dpDiv.find("[data-handler]").map(function(){d(this).on(this.getAttribute("data-event"),{prev:function(){d.datepicker._adjustDate(n,
-m,"M")},next:function(){d.datepicker._adjustDate(n,+m,"M")},hide:function(){d.datepicker._hideDatepicker()},today:function(){d.datepicker._gotoToday(n)},selectDay:function(){return d.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return d.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return d.datepicker._selectMonthYear(n,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(c){var m,
n,w,z,x,J,v,K=new Date;K=this._daylightSavingAdjust(new Date(K.getFullYear(),K.getMonth(),K.getDate()));var D=this._get(c,"isRTL");var M=this._get(c,"showButtonPanel");var Q=this._get(c,"hideIfNoPrevNext");var G=this._get(c,"navigationAsDateFormat");var T=this._getNumberOfMonths(c),S=this._get(c,"showCurrentAtPos");var R=this._get(c,"stepMonths");var ca=1!==T[0]||1!==T[1],ha=this._daylightSavingAdjust(c.currentDay?new Date(c.currentYear,c.currentMonth,c.currentDay):new Date(9999,9,9)),ra=this._getMinMaxDate(c,
"min"),Ia=this._getMinMaxDate(c,"max");S=c.drawMonth-S;var ja=c.drawYear;if(0>S&&(S+=12,ja--),Ia){var ma=this._daylightSavingAdjust(new Date(Ia.getFullYear(),Ia.getMonth()-T[0]*T[1]+1,Ia.getDate()));for(ma=ra&&ra>ma?ra:ma;this._daylightSavingAdjust(new Date(ja,S,1))>ma;)S--,0>S&&(S=11,ja--)}c.drawMonth=S;c.drawYear=ja;ma=this._get(c,"prevText");ma=G?this.formatDate(ma,this._daylightSavingAdjust(new Date(ja,S-R,1)),this._getFormatConfig(c)):ma;ma=this._canAdjustMonth(c,-1,ja,S)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+
ma+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"e":"w")+"'>"+ma+"</span></a>":Q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+ma+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"e":"w")+"'>"+ma+"</span></a>";var Aa=this._get(c,"nextText");Aa=G?this.formatDate(Aa,this._daylightSavingAdjust(new Date(ja,S+R,1)),this._getFormatConfig(c)):Aa;Q=this._canAdjustMonth(c,1,ja,S)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+
Aa+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"w":"e")+"'>"+Aa+"</span></a>":Q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+Aa+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"w":"e")+"'>"+Aa+"</span></a>";R=this._get(c,"currentText");Aa=this._get(c,"gotoCurrent")&&c.currentDay?ha:K;R=G?this.formatDate(R,Aa,this._getFormatConfig(c)):R;G=c.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(c,"closeText")+"</button>";M=M?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(D?G:"")+(this._isInRange(c,Aa)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+R+"</button>":"")+(D?"":G)+"</div>":"";G=parseInt(this._get(c,"firstDay"),10);G=isNaN(G)?0:G;R=this._get(c,"showWeek");Aa=this._get(c,"dayNames");var Da=this._get(c,"dayNamesMin");var Fa=this._get(c,"monthNames");var Oa=this._get(c,
"monthNamesShort");var Ga=this._get(c,"beforeShowDay");var wa=this._get(c,"showOtherMonths");var Qa=this._get(c,"selectOtherMonths");var Wa=this._getDefaultDate(c);var Ba="";for(n=0;T[0]>n;n++){var Sa="";this.maxRows=4;for(w=0;T[1]>w;w++){if(z=this._daylightSavingAdjust(new Date(ja,S,c.selectedDay)),m=" ui-corner-all",x="",ca){if(x+="<div class='ui-datepicker-group",1<T[1])switch(w){case 0:x+=" ui-datepicker-group-first";m=" ui-corner-"+(D?"right":"left");break;case T[1]-1:x+=" ui-datepicker-group-last";
m=" ui-corner-"+(D?"left":"right");break;default:x+=" ui-datepicker-group-middle",m=""}x+="'>"}x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+m+"'>"+(/all|left/.test(m)&&0===n?D?Q:ma:"")+(/all|right/.test(m)&&0===n?D?ma:Q:"")+this._generateMonthYearHeader(c,S,ja,ra,Ia,0<n||0<w,Fa,Oa)+"</div><table class='ui-datepicker-calendar'><thead><tr>";var cb=R?"<th class='ui-datepicker-week-col'>"+this._get(c,"weekHeader")+"</th>":"";for(m=0;7>m;m++){var $a=(m+G)%7;cb+="<th scope='col'"+
(5<=(m+G+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+Aa[$a]+"'>"+Da[$a]+"</span></th>"}x+=cb+"</tr></thead><tbody>";cb=this._getDaysInMonth(ja,S);ja===c.selectedYear&&S===c.selectedMonth&&(c.selectedDay=Math.min(c.selectedDay,cb));m=(this._getFirstDayOfMonth(ja,S)-G+7)%7;cb=Math.ceil((m+cb)/7);this.maxRows=cb=ca?this.maxRows>cb?this.maxRows:cb:cb;$a=this._daylightSavingAdjust(new Date(ja,S,1-m));for(J=0;cb>J;J++){x+="<tr>";var qb=R?"<td class='ui-datepicker-week-col'>"+this._get(c,
"calculateWeek")($a)+"</td>":"";for(m=0;7>m;m++){var Ib=Ga?Ga.apply(c.input?c.input[0]:null,[$a]):[!0,""];var ib=(v=$a.getMonth()!==S)&&!Qa||!Ib[0]||ra&&ra>$a||Ia&&$a>Ia;qb+="<td class='"+(5<=(m+G+6)%7?" ui-datepicker-week-end":"")+(v?" ui-datepicker-other-month":"")+($a.getTime()===z.getTime()&&S===c.selectedMonth&&c._keyEvent||Wa.getTime()===$a.getTime()&&Wa.getTime()===z.getTime()?" "+this._dayOverClass:"")+(ib?" "+this._unselectableClass+" ui-state-disabled":"")+(v&&!wa?"":" "+Ib[1]+($a.getTime()===
ha.getTime()?" "+this._currentClass:"")+($a.getTime()===K.getTime()?" ui-datepicker-today":""))+"'"+(v&&!wa||!Ib[2]?"":" title='"+Ib[2].replace(/'/g,"&#39;")+"'")+(ib?"":" data-handler='selectDay' data-event='click' data-month='"+$a.getMonth()+"' data-year='"+$a.getFullYear()+"'")+">"+(v&&!wa?"&#xa0;":ib?"<span class='ui-state-default'>"+$a.getDate()+"</span>":"<a class='ui-state-default"+($a.getTime()===K.getTime()?" ui-state-highlight":"")+($a.getTime()===ha.getTime()?" ui-state-active":"")+(v?
" ui-priority-secondary":"")+"' href='#'>"+$a.getDate()+"</a>")+"</td>";$a.setDate($a.getDate()+1);$a=this._daylightSavingAdjust($a)}x+=qb+"</tr>"}S++;11<S&&(S=0,ja++);x+="</tbody></table>"+(ca?"</div>"+(0<T[0]&&w===T[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");Sa+=x}Ba+=Sa}return Ba+=M,c._keyEvent=!1,Ba},_generateMonthYearHeader:function(c,m,n,w,z,x,J,v){var K,D=this._get(c,"changeMonth"),M=this._get(c,"changeYear"),Q=this._get(c,"showMonthAfterYear"),G="<div class='ui-datepicker-title'>",
T="";if(x||!D)T+="<span class='ui-datepicker-month'>"+J[m]+"</span>";else{J=w&&w.getFullYear()===n;var S=z&&z.getFullYear()===n;T+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(K=0;12>K;K++)(!J||K>=w.getMonth())&&(!S||z.getMonth()>=K)&&(T+="<option value='"+K+"'"+(K===m?" selected='selected'":"")+">"+v[K]+"</option>");T+="</select>"}if(Q||(G+=T+(!x&&D&&M?"":"&#xa0;")),!c.yearshtml)if(c.yearshtml="",x||!M)G+="<span class='ui-datepicker-year'>"+n+"</span>";
else{v=this._get(c,"yearRange").split(":");var R=(new Date).getFullYear();J=function(ca){ca=ca.match(/c[+\-].*/)?n+parseInt(ca.substring(1),10):ca.match(/[+\-].*/)?R+parseInt(ca,10):parseInt(ca,10);return isNaN(ca)?R:ca};m=J(v[0]);v=Math.max(m,J(v[1]||""));m=w?Math.max(m,w.getFullYear()):m;v=z?Math.min(v,z.getFullYear()):v;for(c.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";v>=m;m++)c.yearshtml+="<option value='"+m+"'"+(m===n?" selected='selected'":
"")+">"+m+"</option>";c.yearshtml+="</select>";G+=c.yearshtml;c.yearshtml=null}return G+=this._get(c,"yearSuffix"),Q&&(G+=(!x&&D&&M?"":"&#xa0;")+T),G+="</div>"},_adjustInstDate:function(c,m,n){var w=c.selectedYear+("Y"===n?m:0),z=c.selectedMonth+("M"===n?m:0);m=Math.min(c.selectedDay,this._getDaysInMonth(w,z))+("D"===n?m:0);w=this._restrictMinMax(c,this._daylightSavingAdjust(new Date(w,z,m)));c.selectedDay=w.getDate();c.drawMonth=c.selectedMonth=w.getMonth();c.drawYear=c.selectedYear=w.getFullYear();
"M"!==n&&"Y"!==n||this._notifyChange(c)},_restrictMinMax:function(c,m){var n=this._getMinMaxDate(c,"min");c=this._getMinMaxDate(c,"max");m=n&&n>m?n:m;return c&&m>c?c:m},_notifyChange:function(c){var m=this._get(c,"onChangeMonthYear");m&&m.apply(c.input?c.input[0]:null,[c.selectedYear,c.selectedMonth+1,c])},_getNumberOfMonths:function(c){c=this._get(c,"numberOfMonths");return null==c?[1,1]:"number"==typeof c?[1,c]:c},_getMinMaxDate:function(c,m){return this._determineDate(c,this._get(c,m+"Date"),null)},
_getDaysInMonth:function(c,m){return 32-this._daylightSavingAdjust(new Date(c,m,32)).getDate()},_getFirstDayOfMonth:function(c,m){return(new Date(c,m,1)).getDay()},_canAdjustMonth:function(c,m,n,w){var z=this._getNumberOfMonths(c);n=this._daylightSavingAdjust(new Date(n,w+(0>m?m:z[0]*z[1]),1));return 0>m&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(c,n)},_isInRange:function(c,m){var n,w,z=this._getMinMaxDate(c,"min"),x=this._getMinMaxDate(c,"max"),J=null,v=null;c=
this._get(c,"yearRange");return c&&(n=c.split(":"),w=(new Date).getFullYear(),J=parseInt(n[0],10),v=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(J+=w),n[1].match(/[+\-].*/)&&(v+=w)),(!z||m.getTime()>=z.getTime())&&(!x||m.getTime()<=x.getTime())&&(!J||m.getFullYear()>=J)&&(!v||v>=m.getFullYear())},_getFormatConfig:function(c){var m=this._get(c,"shortYearCutoff");return m="string"!=typeof m?m:(new Date).getFullYear()%100+parseInt(m,10),{shortYearCutoff:m,dayNamesShort:this._get(c,"dayNamesShort"),dayNames:this._get(c,
"dayNames"),monthNamesShort:this._get(c,"monthNamesShort"),monthNames:this._get(c,"monthNames")}},_formatDate:function(c,m,n,w){m||(c.currentDay=c.selectedDay,c.currentMonth=c.selectedMonth,c.currentYear=c.selectedYear);m=m?"object"==typeof m?m:this._daylightSavingAdjust(new Date(w,n,m)):this._daylightSavingAdjust(new Date(c.currentYear,c.currentMonth,c.currentDay));return this.formatDate(this._get(c,"dateFormat"),m,this._getFormatConfig(c))}});d.fn.datepicker=function(c){if(!this.length)return this;
d.datepicker.initialized||(d(document).on("mousedown",d.datepicker._checkExternalClick),d.datepicker.initialized=!0);0===d("#"+d.datepicker._mainDivId).length&&d("body").append(d.datepicker.dpDiv);var m=Array.prototype.slice.call(arguments,1);return"string"!=typeof c||"isDisabled"!==c&&"getDate"!==c&&"widget"!==c?"option"===c&&2===arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+c+"Datepicker"].apply(d.datepicker,[this[0]].concat(m)):this.each(function(){"string"==typeof c?d.datepicker["_"+
c+"Datepicker"].apply(d.datepicker,[this].concat(m)):d.datepicker._attachDatepicker(this,c)}):d.datepicker["_"+c+"Datepicker"].apply(d.datepicker,[this[0]].concat(m))};d.datepicker=new W;d.datepicker.initialized=!1;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.12.1";d.datepicker;d.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var c=d(this).attr("title")||"";return d("<a>").text(c).html()},hide:!0,items:"[title]:not([disabled])",
position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(c,m){var n=(c.attr("aria-describedby")||"").split(/\s+/);n.push(m);c.data("ui-tooltip-id",m).attr("aria-describedby",d.trim(n.join(" ")))},_removeDescribedBy:function(c){var m=c.data("ui-tooltip-id"),n=(c.attr("aria-describedby")||"").split(/\s+/);m=d.inArray(m,n);-1!==m&&n.splice(m,1);c.removeData("ui-tooltip-id");(n=d.trim(n.join(" ")))?c.attr("aria-describedby",
n):c.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=d("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=d([])},_setOption:function(c,m){var n=this;this._super(c,m);"content"===c&&d.each(this.tooltips,function(w,z){n._updateContent(z.element)})},_setOptionDisabled:function(c){this[c?
"_disable":"_enable"]()},_disable:function(){var c=this;d.each(this.tooltips,function(m,n){m=d.Event("blur");m.target=m.currentTarget=n.element[0];c.close(m,!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var m=d(this);return m.is("[title]")?m.data("ui-tooltip-title",m.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var c=d(this);c.data("ui-tooltip-title")&&c.attr("title",c.data("ui-tooltip-title"))});
this.disabledTitles=d([])},open:function(c){var m=this,n=d(c?c.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),c&&"mouseover"===c.type&&n.parents().each(function(){var w,z=d(this);z.data("ui-tooltip-open")&&(w=d.Event("blur"),w.target=w.currentTarget=this,m.close(w,!0));z.attr("title")&&(z.uniqueId(),m.parents[this.id]={element:this,title:z.attr("title")},z.attr("title",""))}),
this._registerCloseHandlers(c,n),this._updateContent(n,c))},_updateContent:function(c,m){var n,w=this.options.content,z=this,x=m?m.type:null;return"string"==typeof w||w.nodeType||w.jquery?this._open(m,c,w):(n=w.call(c[0],function(J){z._delay(function(){c.data("ui-tooltip-open")&&(m&&(m.type=x),this._open(m,c,J))})}),n&&this._open(m,c,n),void 0)},_open:function(c,m,n){function w(K){J.of=K;v.is(":hidden")||v.position(J)}var z,x,J=d.extend({},this.options.position);if(n){if(z=this._find(m))return z.tooltip.find(".ui-tooltip-content").html(n),
void 0;m.is("[title]")&&(c&&"mouseover"===c.type?m.attr("title",""):m.removeAttr("title"));z=this._tooltip(m);var v=z.tooltip;this._addDescribedBy(m,v.attr("id"));v.find(".ui-tooltip-content").html(n);this.liveRegion.children().hide();n=d("<div>").html(v.find(".ui-tooltip-content").html());n.removeAttr("name").find("[name]").removeAttr("name");n.removeAttr("id").find("[id]").removeAttr("id");n.appendTo(this.liveRegion);this.options.track&&c&&/^mouse/.test(c.type)?(this._on(this.document,{mousemove:w}),
w(c)):v.position(d.extend({of:m},this.options.position));v.hide();this._show(v,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(x=this.delayedShow=setInterval(function(){v.is(":visible")&&(w(J.of),clearInterval(x))},d.fx.interval));this._trigger("open",c,{tooltip:v})}},_registerCloseHandlers:function(c,m){var n={keyup:function(w){w.keyCode===d.ui.keyCode.ESCAPE&&(w=d.Event(w),w.currentTarget=m[0],this.close(w,!0))}};m[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(m).tooltip)});
c&&"mouseover"!==c.type||(n.mouseleave="close");c&&"focusin"!==c.type||(n.focusout="close");this._on(!0,m,n)},close:function(c){var m,n=this,w=d(c?c.currentTarget:this.element),z=this._find(w);return z?(m=z.tooltip,z.closing||(clearInterval(this.delayedShow),w.data("ui-tooltip-title")&&!w.attr("title")&&w.attr("title",w.data("ui-tooltip-title")),this._removeDescribedBy(w),z.hiding=!0,m.stop(!0),this._hide(m,this.options.hide,function(){n._removeTooltip(d(this))}),w.removeData("ui-tooltip-open"),this._off(w,
"mouseleave focusout keyup"),w[0]!==this.element[0]&&this._off(w,"remove"),this._off(this.document,"mousemove"),c&&"mouseleave"===c.type&&d.each(this.parents,function(x,J){d(J.element).attr("title",J.title);delete n.parents[x]}),z.closing=!0,this._trigger("close",c,{tooltip:m}),z.hiding||(z.closing=!1)),void 0):(w.removeData("ui-tooltip-open"),void 0)},_tooltip:function(c){var m=d("<div>").attr("role","tooltip"),n=d("<div>").appendTo(m),w=m.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),
this._addClass(m,"ui-tooltip","ui-widget ui-widget-content"),m.appendTo(this._appendTo(c)),this.tooltips[w]={element:c,tooltip:m}},_find:function(c){return(c=c.data("ui-tooltip-id"))?this.tooltips[c]:null},_removeTooltip:function(c){c.remove();delete this.tooltips[c.attr("id")]},_appendTo:function(c){c=c.closest(".ui-front, dialog");return c.length||(c=this.document[0].body),c},_destroy:function(){var c=this;d.each(this.tooltips,function(m,n){var w=d.Event("blur");n=n.element;w.target=w.currentTarget=
n[0];c.close(w,!0);d("#"+m).remove();n.data("ui-tooltip-title")&&(n.attr("title")||n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});!1!==d.uiBackCompat&&d.widget("ui.tooltip",d.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var c=this._superApply(arguments);return this.options.tooltipClass&&c.tooltip.addClass(this.options.tooltipClass),c}});d.ui.tooltip});(function(d){d.widget("ui.progressbar",{options:{value:0},_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this._valueMin(),"aria-valuemax":this._valueMax(),"aria-valuenow":this._value()});this.valueDiv=d("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();d.Widget.prototype.destroy.apply(this,arguments)},value:function(N){if(void 0===N)return this._value();this._setOption("value",N);return this},_setOption:function(N,W){switch(N){case "value":this.options.value=W,this._refreshValue(),this._trigger("change")}d.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var N=this.options.value;"number"!==typeof N&&(N=0);N<this._valueMin()&&(N=this._valueMin());N>this._valueMax()&&(N=this._valueMax());return N},_valueMin:function(){return 0},
_valueMax:function(){return 100},_refreshValue:function(){var N=this.value();this.valueDiv[N===this._valueMax()?"addClass":"removeClass"]("ui-corner-right").width(N+"%");this.element.attr("aria-valuenow",N)}});d.extend(d.ui.progressbar,{version:"1.8.2"})})(jQuery);(function(d,N){d.store=function(W,a){var f=this;if("string"==typeof W)if(d.store.drivers[W])this.driver=d.store.drivers[W];else throw Error("Unknown driver "+W);else if("object"==typeof W){if(!(d.isFunction(W.init)&&d.isFunction(W.get)&&d.isFunction(W.set)&&d.isFunction(W.del)&&d.isFunction(W.flush)))throw Error("The specified driver does not fulfill the API requirements");this.driver=W}else d.each(d.store.drivers,function(){if(!d.isFunction(this.available)||!this.available())return!0;f.driver=this;
return!1===f.driver.init()?(f.driver=null,!0):!1});a||(a=d.store.serializers);this.serializers={};d.each(a,function(g,h){if(!d.isFunction(this.init))return!0;f.serializers[g]=this;f.serializers[g].init(f.encoders,f.decoders)})};d.extend(d.store.prototype,{get:function(W){W=this.driver.get(W);return this.driver.encodes?W:this.unserialize(W)},set:function(W,a){this.driver.set(W,this.driver.encodes?a:this.serialize(a))},del:function(W){this.driver.del(W)},flush:function(){this.driver.flush()},driver:N,
encoders:[],decoders:[],serialize:function(W){var a=this;d.each(this.encoders,function(){var f=a.serializers[this+""];if(!f||!f.encode)return!0;try{W=f.encode(W)}catch(g){}});return W},unserialize:function(W){var a=this;if(!W)return W;d.each(this.decoders,function(){var f=a.serializers[this+""];if(!f||!f.decode)return!0;W=f.decode(W)});return W}});d.store.drivers={localStorage:{ident:"$.store.drivers.localStorage",scope:"browser",available:function(){try{return!!window.localStorage}catch(W){return!1}},
init:d.noop,get:function(W){return window.localStorage.getItem(W)},set:function(W,a){window.localStorage.setItem(W,a)},del:function(W){window.localStorage.removeItem(W)},flush:function(){window.localStorage.clear()}},userData:{ident:"$.store.drivers.userData",element:null,nodeName:"userdatadriver",scope:"browser",initialized:!1,available:function(){try{return!(!document.documentElement||!document.documentElement.addBehavior)}catch(W){return!1}},init:function(){if(!this.initialized)try{this.element=
document.createElement(this.nodeName),document.documentElement.insertBefore(this.element,document.getElementsByTagName("title")[0]),this.element.addBehavior("#default#userData"),this.initialized=!0}catch(W){return!1}},get:function(W){this.element.load(this.nodeName);return this.element.getAttribute(W)},set:function(W,a){this.element.setAttribute(W,a);this.element.save(this.nodeName)},del:function(W){this.element.removeAttribute(W);this.element.save(this.nodeName)},flush:function(){this.element.expires=
(new Date).toUTCString();this.element.save(this.nodeName)}},windowName:{ident:"$.store.drivers.windowName",scope:"window",cache:{},encodes:!0,available:function(){return!0},init:function(){this.load()},save:function(){window.name=d.store.serializers.json.encode(this.cache)},load:function(){try{this.cache=d.store.serializers.json.decode(window.name+""),"object"!=typeof this.cache&&(this.cache={})}catch(W){this.cache={},window.name="{}"}},get:function(W){return this.cache[W]},set:function(W,a){this.cache[W]=
a;this.save()},del:function(W){try{delete this.cache[W]}catch(a){this.cache[W]=N}this.save()},flush:function(){window.name="{}"}}};d.store.serializers={json:{ident:"$.store.serializers.json",init:function(W,a){W.push("json");a.push("json")},encode:"object"==typeof JSON?JSON.stringify:d.JSON.stringify,decode:"object"==typeof JSON?JSON.parse:d.JSON.parse},xml:{ident:"$.store.serializers.xml",init:function(W,a){W.unshift("xml");a.push("xml")},isXML:function(W){return(W=(W?W.ownerDocument||W:0).documentElement)?
"html"!==W.nodeName.toLowerCase():!1},encode:function(W){if(!W||W._serialized||!this.isXML(W))return W;var a={_serialized:this.ident,value:W};try{return a.value=(new XMLSerializer).serializeToString(W),a}catch(f){try{return a.value=W.xml,a}catch(g){}}return W},decode:function(W){if(!W||!W._serialized||W._serialized!=this.ident)return W;var a="DOMParser"in window&&(new DOMParser).parseFromString;!a&&window.ActiveXObject&&(a=function(f){var g=new ActiveXObject("Microsoft.XMLDOM");g.async="false";g.loadXML(f);
return g});if(!a)return N;W.value=a.call("DOMParser"in window&&new DOMParser||window,W.value,"text/xml");return this.isXML(W.value)?W.value:N}}}})(jQuery);(function(d){d.fn.farbtastic=function(N){d.farbtastic(this,N);return this};d.farbtastic=function(N,W){N=d(N).get(0);return N.farbtastic||(N.farbtastic=new d._farbtastic(N,W))};d._farbtastic=function(N,W){var a=this;d(N).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var f=d(".farbtastic",N);a.wheel=d(".wheel",N).get(0);a.radius=84;a.square=100;a.width=194;navigator.appVersion.match(/MSIE [0-6]\./)&&
d("*",f).each(function(){if("none"!=this.currentStyle.backgroundImage){var g=this.currentStyle.backgroundImage;g=this.currentStyle.backgroundImage.substring(5,g.length-2);d(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+g+"')"})}});a.linkTo=function(g){"object"==typeof a.callback&&d(a.callback).unbind("keyup",a.updateValue);a.color=null;if("function"==typeof g)a.callback=g;else if("object"==typeof g||"string"==typeof g)a.callback=
d(g),a.callback.bind("keyup",a.updateValue),a.callback.get(0).value&&a.setColor(a.callback.get(0).value);return this};a.updateValue=function(){this.value&&this.value!=a.color&&a.setColor(this.value)};a.setColor=function(g){var h=a.unpack(g);a.color!=g&&h&&(a.color=g,a.rgb=h,a.hsl=a.RGBToHSL(a.rgb),a.updateDisplay());return this};a.setHSL=function(g){a.hsl=g;a.rgb=a.HSLToRGB(g);a.color=a.pack(a.rgb);a.updateDisplay();return this};a.widgetCoords=function(g){var h=d(a.wheel).offset();return{x:g.pageX-
h.left-a.width/2,y:g.pageY-h.top-a.width/2}};a.mousedown=function(g){document.dragging||(d(document).bind("mousemove",a.mousemove).bind("mouseup",a.mouseup),document.dragging=!0);var h=a.widgetCoords(g);a.circleDrag=2*Math.max(Math.abs(h.x),Math.abs(h.y))>a.square;a.mousemove(g);return!1};a.mousemove=function(g){g=a.widgetCoords(g);a.circleDrag?(g=Math.atan2(g.x,-g.y)/6.28,0>g&&(g+=1),a.setHSL([g,a.hsl[1],a.hsl[2]])):a.setHSL([a.hsl[0],Math.max(0,Math.min(1,-(g.x/a.square)+.5)),Math.max(0,Math.min(1,
-(g.y/a.square)+.5))]);return!1};a.mouseup=function(){d(document).unbind("mousemove",a.mousemove);d(document).unbind("mouseup",a.mouseup);document.dragging=!1};a.updateDisplay=function(){var g=6.28*a.hsl[0];d(".h-marker",f).css({left:Math.round(Math.sin(g)*a.radius+a.width/2)+"px",top:Math.round(-Math.cos(g)*a.radius+a.width/2)+"px"});d(".sl-marker",f).css({left:Math.round(a.square*(.5-a.hsl[1])+a.width/2)+"px",top:Math.round(a.square*(.5-a.hsl[2])+a.width/2)+"px"});d(".color",f).css("backgroundColor",
a.pack(a.HSLToRGB([a.hsl[0],1,.5])));"object"==typeof a.callback?(d(a.callback).css({backgroundColor:a.color,color:.5<a.hsl[2]?"#000":"#fff"}),d(a.callback).each(function(){this.value&&this.value!=a.color&&(this.value=a.color)})):"function"==typeof a.callback&&a.callback.call(a,a.color)};a.pack=function(g){var h=Math.round(255*g[0]),e=Math.round(255*g[1]);g=Math.round(255*g[2]);return"#"+(16>h?"0":"")+h.toString(16)+(16>e?"0":"")+e.toString(16)+(16>g?"0":"")+g.toString(16)};a.unpack=function(g){if(7==
g.length)return[parseInt("0x"+g.substring(1,3))/255,parseInt("0x"+g.substring(3,5))/255,parseInt("0x"+g.substring(5,7))/255];if(4==g.length)return[parseInt("0x"+g.substring(1,2))/15,parseInt("0x"+g.substring(2,3))/15,parseInt("0x"+g.substring(3,4))/15]};a.HSLToRGB=function(g){var h=g[0];var e=g[1];g=g[2];e=.5>=g?g*(e+1):g+e-g*e;g=2*g-e;return[this.hueToRGB(g,e,h+.33333),this.hueToRGB(g,e,h),this.hueToRGB(g,e,h-.33333)]};a.hueToRGB=function(g,h,e){e=0>e?e+1:1<e?e-1:e;return 1>6*e?g+(h-g)*e*6:1>2*e?
h:2>3*e?g+(h-g)*(.66666-e)*6:g};a.RGBToHSL=function(g){var h=g[0],e=g[1],l=g[2];var p=Math.min(h,Math.min(e,l));g=Math.max(h,Math.max(e,l));var u=g-p;var c=(p+g)/2;var m=0;0<c&&1>c&&(m=u/(.5>c?2*c:2-2*c));p=0;0<u&&(g==h&&g!=e&&(p+=(e-l)/u),g==e&&g!=l&&(p+=2+(l-h)/u),g==l&&g!=h&&(p+=4+(h-e)/u),p/=6);return[p,m,c]};d("*",f).mousedown(a.mousedown);a.setColor("#000000");W&&a.linkTo(W)}})(jQuery);/*
 jquery-timepicker v1.11.5 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 Copyright (c) 2016 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 License: MIT
*/
!function(d){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?d(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],d):d(jQuery)}(function(d){function N(G){G=G[0];return 0<G.offsetWidth&&0<G.offsetHeight}function W(G){if(G.minTime&&(G.minTime=K(G.minTime)),G.maxTime&&(G.maxTime=K(G.maxTime)),G.durationTime&&"function"!=typeof G.durationTime&&(G.durationTime=K(G.durationTime)),"now"==G.scrollDefault)G.scrollDefault=function(){return G.roundingFunction(K(new Date),
G)};else if(G.scrollDefault&&"function"!=typeof G.scrollDefault){var T=G.scrollDefault;G.scrollDefault=function(){return G.roundingFunction(K(T),G)}}else G.minTime&&(G.scrollDefault=function(){return G.roundingFunction(G.minTime,G)});if("string"===d.type(G.timeFormat)&&G.timeFormat.match(/[gh]/)&&(G._twelveHourTime=!0),!1===G.showOnFocus&&-1!=G.showOn.indexOf("focus")&&G.showOn.splice(G.showOn.indexOf("focus"),1),0<G.disableTimeRanges.length){for(var S in G.disableTimeRanges)G.disableTimeRanges[S]=
[K(G.disableTimeRanges[S][0]),K(G.disableTimeRanges[S][1])];G.disableTimeRanges=G.disableTimeRanges.sort(function(R,ca){return R[0]-ca[0]});for(S=G.disableTimeRanges.length-1;0<S;S--)G.disableTimeRanges[S][0]<=G.disableTimeRanges[S-1][1]&&(G.disableTimeRanges[S-1]=[Math.min(G.disableTimeRanges[S][0],G.disableTimeRanges[S-1][0]),Math.max(G.disableTimeRanges[S][1],G.disableTimeRanges[S-1][1])],G.disableTimeRanges.splice(S,1))}return G}function a(G){var T=G.data("timepicker-settings"),S=G.data("timepicker-list");
if(S&&S.length&&(S.remove(),G.data("timepicker-list",!1)),T.useSelect)var R=S=d("<select />",{"class":"ui-timepicker-select"});else S=d("<ul />",{"class":"ui-timepicker-list"}),R=d("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1}),R.css({display:"none",position:"absolute"}).append(S);if(T.noneOption)if(!0===T.noneOption&&(T.noneOption=T.useSelect?"Time...":"None"),d.isArray(T.noneOption))for(var ca in T.noneOption){if(parseInt(ca,10)==ca){var ha=f(T.noneOption[ca],T.useSelect);S.append(ha)}}else ha=
f(T.noneOption,T.useSelect),S.append(ha);(T.className&&R.addClass(T.className),null===T.minTime&&null===T.durationTime||!T.showDuration)||("function"==typeof T.step?"function":T.step,R.addClass("ui-timepicker-with-duration"),R.addClass("ui-timepicker-step-"+T.step));ha=T.minTime;"function"==typeof T.durationTime?ha=K(T.durationTime()):null!==T.durationTime&&(ha=T.durationTime);ca=null!==T.minTime?T.minTime:0;var ra=null!==T.maxTime?T.maxTime:ca+D-1;ca>ra&&(ra+=D);ra===D-1&&"string"===d.type(T.timeFormat)&&
T.show2400&&(ra=D);var Ia=T.disableTimeRanges,ja=0,ma=Ia.length,Aa=T.step;"function"!=typeof Aa&&(Aa=function(){return T.step});for(var Da=0;ra>=ca;Da++,ca+=60*Aa(Da)){var Fa=ca,Oa=v(Fa,T);if(T.useSelect)var Ga=d("<option />",{value:Oa});else Ga=d("<li />"),Ga.addClass(43200>Fa%86400?"ui-timepicker-am":"ui-timepicker-pm"),Ga.data("time",86400>=Fa?Fa:Fa%86400);Ga.text(Oa);if((null!==T.minTime||null!==T.durationTime)&&T.showDuration)if(Oa=J(ca-ha,T.step),T.useSelect)Ga.text(Ga.text()+" ("+Oa+")");else{var wa=
d("<span />",{"class":"ui-timepicker-duration"});wa.text(" ("+Oa+")");Ga.append(wa)}ma>ja&&(Fa>=Ia[ja][1]&&(ja+=1),Ia[ja]&&Fa>=Ia[ja][0]&&Fa<Ia[ja][1]&&(T.useSelect?Ga.prop("disabled",!0):Ga.addClass("ui-timepicker-disabled")));S.append(Ga)}(R.data("timepicker-input",G),G.data("timepicker-list",R),T.useSelect)?(G.val()&&S.val(g(K(G.val()),T)),S.on("focus",function(){d(this).data("timepicker-input").trigger("showTimepicker")}),S.on("blur",function(){d(this).data("timepicker-input").trigger("hideTimepicker")}),
S.on("change",function(){m(G,d(this).val(),"select")}),m(G,S.val(),"initial"),G.hide().after(S)):(ca=T.appendTo,"string"==typeof ca?ca=d(ca):"function"==typeof ca&&(ca=ca(G)),ca.append(R),p(G,S),S.on("mousedown click","li",function(Qa){G.off("focus.timepicker");G.on("focus.timepicker-ie-hack",function(){G.off("focus.timepicker-ie-hack");G.on("focus.timepicker",Q.show)});e(G)||G[0].focus();S.find("li").removeClass("ui-timepicker-selected");d(this).addClass("ui-timepicker-selected");x(G)&&(G.trigger("hideTimepicker"),
S.on("mouseup.timepicker click.timepicker","li",function(Wa){S.off("mouseup.timepicker click.timepicker");R.hide()}))}))}function f(G,T){var S,R,ca;return"object"==typeof G?(S=G.label,R=G.className,ca=G.value):"string"==typeof G?S=G:d.error("Invalid noneOption value"),T?d("<option />",{value:ca,"class":R,text:S}):d("<li />",{"class":R,text:S}).data("time",String(ca))}function g(G,T){return G=T.roundingFunction(G,T),null!==G?v(G,T):void 0}function h(G){G.target!=window&&(G=d(G.target),G.closest(".ui-timepicker-input").length||
G.closest(".ui-timepicker-wrapper").length||(Q.hide(),d(document).unbind(".ui-timepicker"),d(window).unbind(".ui-timepicker")))}function e(G){G=G.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&G.disableTouchKeyboard}function l(G,T,S){if(!S&&0!==S)return!1;G=G.data("timepicker-settings");var R=!1;S=G.roundingFunction(S,G);return T.find("li").each(function(ca,ha){ca=d(ha);if("number"==typeof ca.data("time"))return ca.data("time")==S?(R=ca,!1):void 0}),
R}function p(G,T){T.find("li").removeClass("ui-timepicker-selected");var S=K(c(G),G.data("timepicker-settings"));null!==S&&(G=l(G,T,S))&&(S=G.offset().top-T.offset().top,(S+G.outerHeight()>T.outerHeight()||0>S)&&T.scrollTop(T.scrollTop()+G.position().top-G.outerHeight()),G.addClass("ui-timepicker-selected"))}function u(G,T){if(""!==this.value&&"timepicker"!=T){var S=d(this);if(!S.is(":focus")||G&&"change"==G.type){G=S.data("timepicker-settings");var R=K(this.value,G);if(null===R)return void S.trigger("timeFormatError");
var ca=!1;if(null!==G.minTime&&null!==G.maxTime&&(R<G.minTime||R>G.maxTime)&&(ca=!0),d.each(G.disableTimeRanges,function(){return R>=this[0]&&R<this[1]?(ca=!0,!1):void 0}),G.forceRoundTime){var ha=G.roundingFunction(R,G);ha!=R&&(R=ha,T=null)}G=v(R,G);ca?m(S,G,"error")&&S.trigger("timeRangeError"):m(S,G,T)}}}function c(G){return G.is("input")?G.val():G.data("ui-timepicker-value")}function m(G,T,S){if(G.is("input")){G.val(T);var R=G.data("timepicker-settings");R.useSelect&&"select"!=S&&"initial"!=S&&
G.data("timepicker-list").val(g(K(T),R))}return G.data("ui-timepicker-value")!=T?(G.data("ui-timepicker-value",T),"select"==S?G.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(S)&&G.trigger("changeTime"),!0):(G.trigger("selectTime"),!1)}function n(G){switch(G.keyCode){case 13:case 9:break;default:G.preventDefault()}}function w(G){var T=d(this),S=T.data("timepicker-list");if(!S||!N(S)){if(40!=G.keyCode)return!0;Q.show.call(T.get(0));S=T.data("timepicker-list");
e(T)||T.focus()}switch(G.keyCode){case 13:return x(T)&&(u.call(T.get(0),{type:"change"}),Q.hide.apply(this)),G.preventDefault(),!1;case 38:var R=S.find(".ui-timepicker-selected");return R.length?R.is(":first-child")||(R.removeClass("ui-timepicker-selected"),R.prev().addClass("ui-timepicker-selected"),R.prev().position().top<R.outerHeight()&&S.scrollTop(S.scrollTop()-R.outerHeight())):(S.find("li").each(function(ca,ha){return 0<d(ha).position().top?(R=d(ha),!1):void 0}),R.addClass("ui-timepicker-selected")),
!1;case 40:return R=S.find(".ui-timepicker-selected"),0===R.length?(S.find("li").each(function(ca,ha){return 0<d(ha).position().top?(R=d(ha),!1):void 0}),R.addClass("ui-timepicker-selected")):R.is(":last-child")||(R.removeClass("ui-timepicker-selected"),R.next().addClass("ui-timepicker-selected"),R.next().position().top+2*R.outerHeight()>S.outerHeight()&&S.scrollTop(S.scrollTop()+R.outerHeight())),!1;case 27:S.find("li").removeClass("ui-timepicker-selected");Q.hide();break;case 9:Q.hide();break;default:return!0}}
function z(G){var T=d(this),S=T.data("timepicker-list"),R=T.data("timepicker-settings");if(!S||!N(S)||R.disableTextInput)return!0;switch(G.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:R.typeaheadHighlight?p(T,S):S.hide()}}function x(G){var T=G.data("timepicker-settings"),S=null,R=G.data("timepicker-list").find(".ui-timepicker-selected");
return R.hasClass("ui-timepicker-disabled")?!1:(R.length&&(S=R.data("time")),null!==S&&("string"!=typeof S&&(S=v(S,T)),m(G,S,"select")),!0)}function J(G,T){G=Math.abs(G);var S,R;G=Math.round(G/60);var ca=[];return 60>G?ca=[G,M.mins]:(S=Math.floor(G/60),R=G%60,30==T&&30==R&&(S+=M.decimal+5),ca.push(S),ca.push(1==S?M.hr:M.hrs),30!=T&&R&&(ca.push(R),ca.push(M.mins))),ca.join(" ")}function v(G,T){if("number"!=typeof G)return null;var S=parseInt(G%60),R=parseInt(G/60%60),ca=parseInt(G/3600%24);ca=new Date(1970,
0,2,ca,R,S,0);if(isNaN(ca.getTime()))return null;if("function"===d.type(T.timeFormat))return T.timeFormat(ca);for(var ha="",ra=0;ra<T.timeFormat.length;ra++)switch(S=T.timeFormat.charAt(ra)){case "a":ha+=11<ca.getHours()?M.pm:M.am;break;case "A":ha+=11<ca.getHours()?M.PM:M.AM;break;case "g":S=ca.getHours()%12;ha+=0===S?"12":S;break;case "G":S=ca.getHours();G===D&&(S=T.show2400?24:0);ha+=S;break;case "h":S=ca.getHours()%12;0!==S&&10>S&&(S="0"+S);ha+=0===S?"12":S;break;case "H":S=ca.getHours();G===
D&&(S=T.show2400?24:0);ha+=9<S?S:"0"+S;break;case "i":R=ca.getMinutes();ha+=9<R?R:"0"+R;break;case "s":S=ca.getSeconds();ha+=9<S?S:"0"+S;break;case "\\":ra++;ha+=T.timeFormat.charAt(ra);break;default:ha+=S}return ha}function K(G,T){if(""===G||null===G)return null;if("object"==typeof G)return 3600*G.getHours()+60*G.getMinutes()+G.getSeconds();if("string"!=typeof G)return G;G=G.toLowerCase().replace(/[\s\.]/g,"");"a"!=G.slice(-1)&&"p"!=G.slice(-1)||(G+="m");var S="("+M.am.replace(".","")+"|"+M.pm.replace(".",
"")+"|"+M.AM.replace(".","")+"|"+M.PM.replace(".","")+")?",R=G.match(new RegExp("^"+S+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+S+"$"));if(!R)return null;G=parseInt(1*R[2],10);if(24<G){if(T&&!1===T.wrapHours)return null;G%=24}S=R[1]||R[5];var ca=G;12>=G&&S&&(ca=S==M.pm||S==M.PM,ca=12==G?ca?12:0:G+(ca?12:0));R=3600*ca+60*(1*R[3]||0)+(1*R[4]||0);12>G&&!S&&T&&T._twelveHourTime&&T.scrollDefault&&(T=R-T.scrollDefault(),0>T&&T>=D/-2&&(R=(R+D/2)%D));return R}var D=86400,M={am:"am",pm:"pm",AM:"AM",
PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},Q={init:function(G){return this.each(function(){var T=d(this),S=[],R;for(R in d.fn.timepicker.defaults)T.data(R)&&(S[R]=T.data(R));S=d.extend({},d.fn.timepicker.defaults,S,G);if(S.lang&&(M=d.extend(M,S.lang)),S=W(S),T.data("timepicker-settings",S),T.addClass("ui-timepicker-input"),S.useSelect)a(T);else{if(T.prop("autocomplete","off"),S.showOn)for(var ca in S.showOn)T.on(S.showOn[ca]+".timepicker",Q.show);T.on("change.timepicker",u);T.on("keydown.timepicker",
w);T.on("keyup.timepicker",z);S.disableTextInput&&T.on("keydown.timepicker",n);u.call(T.get(0),null,"initial")}})},show:function(G){var T=d(this),S=T.data("timepicker-settings");if(G&&G.preventDefault(),S.useSelect)return void T.data("timepicker-list").focus();e(T)&&T.blur();G=T.data("timepicker-list");if(!T.prop("readonly")&&(G&&0!==G.length&&"function"!=typeof S.durationTime||(a(T),G=T.data("timepicker-list")),!N(G))){T.data("ui-timepicker-value",T.val());p(T,G);Q.hide();G.show();var R={};S.orientation.match(/r/)?
R.left=T.offset().left+T.outerWidth()-G.outerWidth()+parseInt(G.css("marginLeft").replace("px",""),10):R.left=T.offset().left+parseInt(G.css("marginLeft").replace("px",""),10);"t"==(S.orientation.match(/t/)?"t":S.orientation.match(/b/)?"b":T.offset().top+T.outerHeight(!0)+G.outerHeight()>d(window).height()+d(window).scrollTop()?"t":"b")?(G.addClass("ui-timepicker-positioned-top"),R.top=T.offset().top-G.outerHeight()+parseInt(G.css("marginTop").replace("px",""),10)):(G.removeClass("ui-timepicker-positioned-top"),
R.top=T.offset().top+T.outerHeight()+parseInt(G.css("marginTop").replace("px",""),10));G.offset(R);R=G.find(".ui-timepicker-selected");if(!R.length){var ca=K(c(T));null!==ca?R=l(T,G,ca):S.scrollDefault&&(R=l(T,G,S.scrollDefault()))}R&&R.length?(R=G.scrollTop()+R.position().top-R.outerHeight(),G.scrollTop(R)):G.scrollTop(0);return S.stopScrollPropagation&&d(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(ha){ha.preventDefault();var ra=d(this).scrollTop();d(this).scrollTop(ra+ha.originalEvent.deltaY)}),
d(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",h),d(window).on("resize.ui-timepicker",h),S.closeOnWindowScroll&&d(document).on("scroll.ui-timepicker",h),T.trigger("showTimepicker"),this}},hide:function(G){G=d(this);var T=G.data("timepicker-settings");return T&&T.useSelect&&G.blur(),d(".ui-timepicker-wrapper").each(function(){var S=d(this);if(N(S)){var R=S.data("timepicker-input"),ca=R.data("timepicker-settings");ca&&ca.selectOnBlur&&x(R);S.hide();R.trigger("hideTimepicker")}}),
this},option:function(G,T){return"string"==typeof G&&"undefined"==typeof T?d(this).data("timepicker-settings")[G]:this.each(function(){var S=d(this),R=S.data("timepicker-settings"),ca=S.data("timepicker-list");"object"==typeof G?R=d.extend(R,G):"string"==typeof G&&(R[G]=T);R=W(R);S.data("timepicker-settings",R);ca&&(ca.remove(),S.data("timepicker-list",!1));R.useSelect&&a(S)})},getSecondsFromMidnight:function(){return K(c(this))},getTime:function(G){var T=c(this);if(!T)return null;T=K(T);if(null===
T)return null;G||(G=new Date);G=new Date(G);return G.setHours(T/3600),G.setMinutes(T%3600/60),G.setSeconds(T%60),G.setMilliseconds(0),G},isVisible:function(){var G=this.data("timepicker-list");return!(!G||!N(G))},setTime:function(G){var T=this.data("timepicker-settings"),S=T.forceRoundTime?g(K(G),T):v(K(G),T);return G&&null===S&&T.noneOption&&(S=G),m(this,S),this.data("timepicker-list")&&p(this,this.data("timepicker-list")),this},remove:function(){if(this.hasClass("ui-timepicker-input")){var G=this.data("timepicker-settings");
return this.removeAttr("autocomplete","off"),this.removeClass("ui-timepicker-input"),this.removeData("timepicker-settings"),this.off(".timepicker"),this.data("timepicker-list")&&this.data("timepicker-list").remove(),G.useSelect&&this.show(),this.removeData("timepicker-list"),this}}};d.fn.timepicker=function(G){return this.length?Q[G]?this.hasClass("ui-timepicker-input")?Q[G].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof G&&G?void d.error("Method "+G+" does not exist on jQuery.timepicker"):
Q.init.apply(this,arguments):this};d.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(G,T){if(null===G)return null;if("number"!=typeof T.step)return G;var S=G%(60*T.step);return S>=30*T.step?G+=60*T.step-S:G-=S,G==D&&T.show2400?G:G%D},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,
showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}});(function(d){function N(){return d("<div/>")}var W=Math.abs,a=Math.max,f=Math.min,g=Math.round;d.imgAreaSelect=function(h,e){function l(Va){return Va+cb.left-ib.left}function p(Va){return Va+cb.top-ib.top}function u(Va){return Va-cb.left+ib.left}function c(Va){return Va-cb.top+ib.top}function m(Va){var Fb=Va||H;Va=Va||oc;return{x1:g(gb.x1*Fb),y1:g(gb.y1*Va),x2:g(gb.x2*Fb),y2:g(gb.y2*Va),width:g(gb.x2*Fb)-g(gb.x1*Fb),height:g(gb.y2*Va)-g(gb.y1*Va)}}function n(Va,Fb,Sc,Xb,Bc){var yd=Bc||H;Bc=Bc||oc;
gb={x1:g(Va/yd||0),y1:g(Fb/Bc||0),x2:g(Sc/yd||0),y2:g(Xb/Bc||0)};gb.width=gb.x2-gb.x1;gb.height=gb.y2-gb.y1}function w(){Da&&Aa.width()&&(cb={left:g(Aa.offset().left),top:g(Aa.offset().top)},$a=Aa.innerWidth(),qb=Aa.innerHeight(),cb.top+=Aa.outerHeight()-qb>>1,cb.left+=Aa.outerWidth()-$a>>1,lc=g(e.minWidth/H)||0,Zc=g(e.minHeight/oc)||0,dc=g(f(e.maxWidth/H||16777216,$a)),xd=g(f(e.maxHeight/oc||16777216,qb)),"1.3.2"!=d().jquery||"fixed"!=kc||zc.getBoundingClientRect||(cb.top+=a(document.body.scrollTop,
zc.scrollTop),cb.left+=a(document.body.scrollLeft,zc.scrollLeft)),ib=/absolute|relative/.test(Ib.css("position"))?{left:g(Ib.offset().left)-Ib.scrollLeft(),top:g(Ib.offset().top)-Ib.scrollTop()}:"fixed"==kc?{left:d(document).scrollLeft(),top:d(document).scrollTop()}:{left:0,top:0},Ba=l(0),Sa=p(0),(gb.x2>$a||gb.y2>qb)&&Q())}function z(Va){if(hd){Fa.css({left:l(gb.x1),top:p(gb.y1)}).add(Oa).width(sb=gb.width).height(Dc=gb.height);Oa.add(Ga).add(Qa).css({left:0,top:0});Ga.width(a(sb-Ga.outerWidth()+
Ga.innerWidth(),0)).height(a(Dc-Ga.outerHeight()+Ga.innerHeight(),0));d(wa[0]).css({left:Ba,top:Sa,width:gb.x1,height:qb});d(wa[1]).css({left:Ba+gb.x1,top:Sa,width:sb,height:gb.y1});d(wa[2]).css({left:Ba+gb.x2,top:Sa,width:$a-gb.x2,height:qb});d(wa[3]).css({left:Ba+gb.x1,top:Sa+gb.y2,width:sb,height:qb-gb.y2});sb-=Qa.outerWidth();Dc-=Qa.outerHeight();switch(Qa.length){case 8:d(Qa[4]).css({left:sb>>1}),d(Qa[5]).css({left:sb,top:Dc>>1}),d(Qa[6]).css({left:sb>>1,top:Dc}),d(Qa[7]).css({top:Dc>>1});case 4:Qa.slice(1,
3).css({left:sb}),Qa.slice(2,4).css({top:Dc})}if(!1!==Va&&(d.imgAreaSelect.onKeyPress!=jd&&d(document).unbind(d.imgAreaSelect.keyPress,d.imgAreaSelect.onKeyPress),e.keys))d(document)[d.imgAreaSelect.keyPress](d.imgAreaSelect.onKeyPress=jd);rc&&2==Ga.outerWidth()-Ga.innerWidth()&&(Ga.css("margin",0),setTimeout(function(){Ga.css("margin","auto")},0))}}function x(Va){w();z(Va);Pa=l(gb.x1);rb=p(gb.y1);nb=l(gb.x2);zb=p(gb.y2)}function J(Va,Fb){e.fadeSpeed?Va.fadeOut(e.fadeSpeed,Fb):Va.hide()}function v(Va){var Fb=
u(Va.pageX-ib.left)-gb.x1;Va=c(Va.pageY-ib.top)-gb.y1;Cc||(w(),Cc=!0,Fa.one("mouseout",function(){Cc=!1}));hc="";e.resizable&&(Va<=e.resizeMargin?hc="n":Va>=gb.height-e.resizeMargin&&(hc="s"),Fb<=e.resizeMargin?hc+="w":Fb>=gb.width-e.resizeMargin&&(hc+="e"));Fa.css("cursor",hc?hc+"-resize":e.movable?"move":"");Wa&&Wa.toggle()}function K(Va){d("body").css("cursor","");(e.autoHide||0==gb.width*gb.height)&&J(Fa.add(wa),function(){d(this).hide()});d(document).unbind("mousemove",G);Fa.mousemove(v);e.onSelectEnd(h,
m())}function D(Va){if(1!=Va.which)return!1;w();hc?(d("body").css("cursor",hc+"-resize"),Pa=l(gb[/w/.test(hc)?"x2":"x1"]),rb=p(gb[/n/.test(hc)?"y2":"y1"]),d(document).mousemove(G).one("mouseup",K),Fa.unbind("mousemove",v)):e.movable?(nc=Ba+gb.x1-(Va.pageX-ib.left),Xa=Sa+gb.y1-(Va.pageY-ib.top),Fa.unbind("mousemove",v),d(document).mousemove(S).one("mouseup",function(){e.onSelectEnd(h,m());d(document).unbind("mousemove",S);Fa.mousemove(v)})):Aa.mousedown(Va);return!1}function M(Va){Gc&&(Va?(nb=a(Ba,
f(Ba+$a,Pa+W(zb-rb)*Gc*(nb>Pa||-1))),zb=g(a(Sa,f(Sa+qb,rb+W(nb-Pa)/Gc*(zb>rb||-1)))),nb=g(nb)):(zb=a(Sa,f(Sa+qb,rb+W(nb-Pa)/Gc*(zb>rb||-1))),nb=g(a(Ba,f(Ba+$a,Pa+W(zb-rb)*Gc*(nb>Pa||-1)))),zb=g(zb)))}function Q(){Pa=f(Pa,Ba+$a);rb=f(rb,Sa+qb);W(nb-Pa)<lc&&(nb=Pa-lc*(nb<Pa||-1),nb<Ba?Pa=Ba+lc:nb>Ba+$a&&(Pa=Ba+$a-lc));W(zb-rb)<Zc&&(zb=rb-Zc*(zb<rb||-1),zb<Sa?rb=Sa+Zc:zb>Sa+qb&&(rb=Sa+qb-Zc));nb=a(Ba,f(nb,Ba+$a));zb=a(Sa,f(zb,Sa+qb));M(W(nb-Pa)<W(zb-rb)*Gc);W(nb-Pa)>dc&&(nb=Pa-dc*(nb<Pa||-1),M());W(zb-
rb)>xd&&(zb=rb-xd*(zb<rb||-1),M(!0));gb={x1:u(f(Pa,nb)),x2:u(a(Pa,nb)),y1:c(f(rb,zb)),y2:c(a(rb,zb)),width:W(nb-Pa),height:W(zb-rb)};z();e.onSelectChange(h,m())}function G(Va){nb=/w|e|^$/.test(hc)||Gc?Va.pageX-ib.left:l(gb.x2);zb=/n|s|^$/.test(hc)||Gc?Va.pageY-ib.top:p(gb.y2);Q();return!1}function T(Va,Fb){nb=(Pa=Va)+gb.width;zb=(rb=Fb)+gb.height;d.extend(gb,{x1:u(Pa),y1:c(rb),x2:u(nb),y2:c(zb)});z();e.onSelectChange(h,m())}function S(Va){Pa=a(Ba,f(nc+(Va.pageX-ib.left),Ba+$a-gb.width));rb=a(Sa,f(Xa+
(Va.pageY-ib.top),Sa+qb-gb.height));T(Pa,rb);Va.preventDefault();return!1}function R(){d(document).unbind("mousemove",R);w();nb=Pa;zb=rb;Q();hc="";wa.is(":visible")||Fa.add(wa).hide().fadeIn(e.fadeSpeed||0);hd=!0;d(document).unbind("mouseup",ca).mousemove(G).one("mouseup",K);Fa.unbind("mousemove",v);e.onSelectStart(h,m())}function ca(){d(document).unbind("mousemove",R).unbind("mouseup",ca);J(Fa.add(wa));n(u(Pa),c(rb),u(Pa),c(rb));this instanceof d.imgAreaSelect||(e.onSelectChange(h,m()),e.onSelectEnd(h,
m()))}function ha(Va){if(1!=Va.which||wa.is(":animated"))return!1;w();nc=Pa=Va.pageX-ib.left;Xa=rb=Va.pageY-ib.top;d(document).mousemove(R).mouseup(ca);return!1}function ra(){x(!1)}function Ia(){Da=!0;ma(e=d.extend({classPrefix:"imgareaselect",movable:!0,parent:"body",resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},e));Fa.add(wa).css({visibility:""});e.show&&(hd=!0,w(),z(),Fa.add(wa).hide().fadeIn(e.fadeSpeed||0));setTimeout(function(){e.onInit(h,
m())},0)}function ja(Va,Fb){for(var Sc in Fb)void 0!==e[Sc]&&Va.css(Fb[Sc],e[Sc])}function ma(Va){Va.parent&&(Ib=d(Va.parent)).append(Fa.add(wa));d.extend(e,Va);w();if(null!=Va.handles){Qa.remove();Qa=d([]);for(Xc=Va.handles?"corners"==Va.handles?4:8:0;Xc--;)Qa=Qa.add(N());Qa.addClass(e.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:Ob+1||1});0<=!parseInt(Qa.css("width"))&&Qa.width(5).height(5);(Ac=e.borderWidth)&&Qa.css({borderWidth:Ac,borderStyle:"solid"});ja(Qa,{borderColor1:"border-color",
borderColor2:"background-color",borderOpacity:"opacity"})}H=e.imageWidth/$a||1;oc=e.imageHeight/qb||1;null!=Va.x1&&(n(Va.x1,Va.y1,Va.x2,Va.y2),Va.show=!Va.hide);Va.keys&&(e.keys=d.extend({shift:1,ctrl:"resize"},Va.keys));wa.addClass(e.classPrefix+"-outer");Oa.addClass(e.classPrefix+"-selection");for(Xc=0;4>Xc++;)d(Ga[Xc-1]).addClass(e.classPrefix+"-border"+Xc);ja(Oa,{selectionColor:"background-color",selectionOpacity:"opacity"});ja(Ga,{borderOpacity:"opacity",borderWidth:"border-width"});ja(wa,{outerColor:"background-color",
outerOpacity:"opacity"});(Ac=e.borderColor1)&&d(Ga[0]).css({borderStyle:"solid",borderColor:Ac});(Ac=e.borderColor2)&&d(Ga[1]).css({borderStyle:"dashed",borderColor:Ac});Fa.append(Oa.add(Ga).add(Wa)).append(Qa);rc&&((Ac=(wa.css("filter")||"").match(/opacity=(\d+)/))&&wa.css("opacity",Ac[1]/100),(Ac=(Ga.css("filter")||"").match(/opacity=(\d+)/))&&Ga.css("opacity",Ac[1]/100));Va.hide?J(Fa.add(wa)):Va.show&&Da&&(hd=!0,Fa.add(wa).fadeIn(e.fadeSpeed||0),x());Gc=(kd=(e.aspectRatio||"").split(/:/))[0]/kd[1];
Aa.add(wa).unbind("mousedown",ha);if(e.disable||!1===e.enable)Fa.unbind("mousemove",v).unbind("mousedown",D),d(window).unbind("resize",ra);else{if(e.enable||!1===e.disable)(e.resizable||e.movable)&&Fa.mousemove(v).mousedown(D),d(window).resize(ra);e.persistent||Aa.add(wa).mousedown(ha)}e.enable=e.disable=void 0}var Aa=d(h),Da,Fa=N(),Oa=N(),Ga=N().add(N()).add(N()).add(N()),wa=N().add(N()).add(N()).add(N()),Qa=d([]),Wa,Ba,Sa,cb={left:0,top:0},$a,qb,Ib,ib={left:0,top:0},Ob=0,kc="absolute",nc,Xa,H,oc,
hc,lc,Zc,dc,xd,Gc,hd,Pa,rb,nb,zb,gb={x1:0,y1:0,x2:0,y2:0,width:0,height:0},zc=document.documentElement,tc=navigator.userAgent,kd,Xc,Ac,sb,Dc,Cc,jd=function(Va){var Fb=e.keys,Sc=Va.keyCode;var Xb=isNaN(Fb.alt)||!Va.altKey&&!Va.originalEvent.altKey?!isNaN(Fb.ctrl)&&Va.ctrlKey?Fb.ctrl:!isNaN(Fb.shift)&&Va.shiftKey?Fb.shift:isNaN(Fb.arrows)?10:Fb.arrows:Fb.alt;if("resize"==Fb.arrows||"resize"==Fb.shift&&Va.shiftKey||"resize"==Fb.ctrl&&Va.ctrlKey||"resize"==Fb.alt&&(Va.altKey||Va.originalEvent.altKey)){switch(Sc){case 37:Xb=
-Xb;case 39:Va=a(Pa,nb);Pa=f(Pa,nb);nb=a(Va+Xb,Pa);M();break;case 38:Xb=-Xb;case 40:Va=a(rb,zb);rb=f(rb,zb);zb=a(Va+Xb,rb);M(!0);break;default:return}Q()}else switch(Pa=f(Pa,nb),rb=f(rb,zb),Sc){case 37:T(a(Pa-Xb,Ba),rb);break;case 38:T(Pa,a(rb-Xb,Sa));break;case 39:T(Pa+f(Xb,$a-u(nb)),rb);break;case 40:T(Pa,rb+f(Xb,qb-c(zb)));break;default:return}return!1};this.remove=function(){ma({disable:!0});Fa.add(wa).remove()};this.getOptions=function(){return e};this.setOptions=ma;this.getSelection=m;this.setSelection=
n;this.cancelSelection=ca;this.update=x;var rc=(/msie ([\w.]+)/i.exec(tc)||[])[1],Gd=/opera/i.test(tc),Kd=/webkit/i.test(tc)&&!/chrome/i.test(tc);for(tc=Aa;tc.length;)Ob=a(Ob,isNaN(tc.css("z-index"))?Ob:tc.css("z-index")),"fixed"==tc.css("position")&&(kc="fixed"),tc=tc.parent(":not(body)");Ob=e.zIndex||Ob;rc&&Aa.attr("unselectable","on");d.imgAreaSelect.keyPress=rc||Kd?"keydown":"keypress";Gd&&(Wa=N().css({width:"100%",height:"100%",position:"absolute",zIndex:Ob+2||2}));Fa.add(wa).css({visibility:"hidden",
position:kc,overflow:"hidden",zIndex:Ob||"0"});Fa.css({zIndex:Ob+2||2});Oa.add(Ga).css({position:"absolute",fontSize:0});h.complete||"complete"==h.readyState||!Aa.is("img")?Ia():Aa.one("load",Ia);!Da&&rc&&7<=rc&&(h.src=h.src)};d.fn.imgAreaSelect=function(h){h=h||{};this.each(function(){d(this).data("imgAreaSelect")?h.remove?(d(this).data("imgAreaSelect").remove(),d(this).removeData("imgAreaSelect")):d(this).data("imgAreaSelect").setOptions(h):h.remove||(void 0===h.enable&&void 0===h.disable&&(h.enable=
!0),d(this).data("imgAreaSelect",new d.imgAreaSelect(this,h)))});return h.instance?d(this).data("imgAreaSelect"):this}})(jQuery);!function(){function d(b){return b&&(b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView)}function N(b,k){return k>b?-1:b>k?1:b>=k?0:0/0}function W(b){return null===b?0/0:+b}function a(b){return!isNaN(b)}function f(b){return{left:function(k,q,t,A){3>arguments.length&&(t=0);for(4>arguments.length&&(A=k.length);A>t;){var y=t+A>>>1;0>b(k[y],q)?t=y+1:A=y}return t},right:function(k,q,t,A){3>arguments.length&&(t=0);for(4>arguments.length&&(A=k.length);A>t;){var y=t+A>>>1;0<b(k[y],
q)?A=y:t=y+1}return t}}}function g(b){return b.length}function h(b,k){for(var q in k)Object.defineProperty(b.prototype,q,{value:k[q],enumerable:!1})}function e(){this._=Object.create(null)}function l(b){return(b+="")===ni||b[0]===tg?tg+b:b}function p(b){return(b+="")[0]===tg?b.slice(1):b}function u(b){return l(b)in this._}function c(b){return(b=l(b))in this._&&delete this._[b]}function m(){var b=[],k;for(k in this._)b.push(p(k));return b}function n(){var b=0,k;for(k in this._)++b;return b}function w(){for(var b in this._)return!1;
return!0}function z(){this._=Object.create(null)}function x(b){return b}function J(b,k,q){return function(){var t=q.apply(k,arguments);return t===k?b:t}}function v(b,k){if(k in b)return k;k=k.charAt(0).toUpperCase()+k.slice(1);for(var q=0,t=dh.length;t>q;++q){var A=dh[q]+k;if(A in b)return A}}function K(){}function D(){}function M(b){function k(){for(var A,y=q,E=-1,C=y.length;++E<C;)(A=y[E].on)&&A.apply(this,arguments);return b}var q=[],t=new e;return k.on=function(A,y){var E,C=t.get(A);return 2>
arguments.length?C&&C.on:(C&&(C.on=null,q=q.slice(0,E=q.indexOf(C)).concat(q.slice(E+1)),t.remove(A)),y&&q.push(t.set(A,{on:y})),b)},k}function Q(){aa.event.preventDefault()}function G(){for(var b,k=aa.event;b=k.sourceEvent;)k=b;return k}function T(b){for(var k=new D,q=0,t=arguments.length;++q<t;)k[arguments[q]]=M(k);return k.of=function(A,y){return function(E){try{var C=E.sourceEvent=aa.event;E.target=b;aa.event=E;k[E.type].apply(A,y)}finally{aa.event=C}}},k}function S(b){return tf(b,Db),b}function R(b){return"function"==
typeof b?b:function(){return ug(b,this)}}function ca(b){return"function"==typeof b?b:function(){return vg(b,this)}}function ha(b,k){function q(){this.removeAttribute(b)}function t(){this.removeAttributeNS(b.space,b.local)}function A(){this.setAttribute(b,k)}function y(){this.setAttributeNS(b.space,b.local,k)}function E(){var F=k.apply(this,arguments);null==F?this.removeAttribute(b):this.setAttribute(b,F)}function C(){var F=k.apply(this,arguments);null==F?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,
b.local,F)}return b=aa.ns.qualify(b),null==k?b.local?t:q:"function"==typeof k?b.local?C:E:b.local?y:A}function ra(b){return new RegExp("(?:^|\\s+)"+aa.requote(b)+"(?:\\s+|$)","g")}function Ia(b,k){function q(){for(var y=-1;++y<A;)b[y](this,k)}function t(){for(var y=-1,E=k.apply(this,arguments);++y<A;)b[y](this,E)}b=(b+"").trim().split(/^|\s+/).map(ja);var A=b.length;return"function"==typeof k?t:q}function ja(b){var k=ra(b);return function(q,t){if(A=q.classList)return t?A.add(b):A.remove(b);var A=
q.getAttribute("class")||"";t?(k.lastIndex=0,k.test(A)||q.setAttribute("class",(A+" "+b).trim().replace(/\s+/g," "))):q.setAttribute("class",A.replace(k," ").trim().replace(/\s+/g," "))}}function ma(b,k,q){function t(){this.style.removeProperty(b)}function A(){this.style.setProperty(b,k,q)}function y(){var E=k.apply(this,arguments);null==E?this.style.removeProperty(b):this.style.setProperty(b,E,q)}return null==k?t:"function"==typeof k?y:A}function Aa(b,k){function q(){delete this[b]}function t(){this[b]=
k}function A(){var y=k.apply(this,arguments);null==y?delete this[b]:this[b]=y}return null==k?q:"function"==typeof k?A:t}function Da(b){function k(){var t=this.ownerDocument,A=this.namespaceURI;return A?t.createElementNS(A,b):t.createElement(b)}function q(){return this.ownerDocument.createElementNS(b.space,b.local)}return"function"==typeof b?b:(b=aa.ns.qualify(b)).local?q:k}function Fa(){var b=this.parentNode;b&&b.removeChild(this)}function Oa(b){return function(){return wg(this,b)}}function Ga(b){return arguments.length||
(b=N),function(k,q){return k&&q?b(k.__data__,q.__data__):!k-!q}}function wa(b,k){for(var q=0,t=b.length;t>q;q++)for(var A,y=b[q],E=0,C=y.length;C>E;E++)(A=y[E])&&k(A,E,q);return b}function Qa(b){return tf(b,Cd),b}function Wa(b){var k,q;return function(t,A,y){t=b[y].update;var E=t.length;y!=q&&(q=y,k=0);for(A>=k&&(k=A+1);!(A=t[k])&&++k<E;);return A}}function Ba(b,k,q){function t(){var O=this[E];O&&(this.removeEventListener(b,O,O.$),delete this[E])}function A(){var O=F(k,Nd(arguments));t.call(this);
this.addEventListener(b,this[E]=O,O.$=q);O._=k}function y(){var O,V=new RegExp("^__on([^.]+)"+aa.requote(b)+"$"),X;for(X in this)if(O=X.match(V)){var Z=this[X];this.removeEventListener(O[1],Z,Z.$);delete this[X]}}var E="__on"+b,C=b.indexOf("."),F=Sa;0<C&&(b=b.slice(0,C));var L=xg.get(b);return L&&(b=L,F=cb),C?k?A:t:k?K:y}function Sa(b,k){return function(q){var t=aa.event;aa.event=q;k[0]=this.__data__;try{b.apply(this,k)}finally{aa.event=t}}}function cb(b,k){var q=Sa(b,k);return function(t){var A=
t.relatedTarget;A&&(A===this||8&A.compareDocumentPosition(this))||q.call(this,t)}}function $a(b){var k=".dragsuppress-"+ ++oi,q="click"+k,t=aa.select(d(b)).on("touchmove"+k,Q).on("dragstart"+k,Q).on("selectstart"+k,Q);if(null==be&&(be="onselectstart"in b?!1:v(b.style,"userSelect")),be){var A=(b&&(b.ownerDocument||b.document||b).documentElement).style,y=A[be];A[be]="none"}return function(E){if(t.on(k,null),be&&(A[be]=y),E){var C=function(){t.on(q,null)};t.on(q,function(){Q();C()},!0);setTimeout(C,
0)}}}function qb(b,k){k.changedTouches&&(k=k.changedTouches[0]);var q=b.ownerSVGElement||b;if(q.createSVGPoint){var t=q.createSVGPoint();if(0>yg&&(q=d(b),q.scrollX||q.scrollY)){q=aa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var A=q[0][0].getScreenCTM();yg=!(A.f||A.e);q.remove()}return yg?(t.x=k.pageX,t.y=k.pageY):(t.x=k.clientX,t.y=k.clientY),t=t.matrixTransform(b.getScreenCTM().inverse()),[t.x,t.y]}t=b.getBoundingClientRect();
return[k.clientX-t.left-b.clientLeft,k.clientY-t.top-b.clientTop]}function Ib(){return aa.event.changedTouches[0].identifier}function ib(b,k,q){return(k[0]-b[0])*(q[1]-b[1])-(k[1]-b[1])*(q[0]-b[0])}function Ob(b){return 1<b?0:-1>b?kb:Math.acos(b)}function kc(b){return 1<b?Zb:-1>b?-Zb:Math.asin(b)}function nc(b){return((b=Math.exp(b))+1/b)/2}function Xa(b){return(b=Math.sin(b/2))*b}function H(){}function oc(b,k,q){return this instanceof oc?(this.h=+b,this.s=+k,void(this.l=+q)):2>arguments.length?b instanceof
oc?new oc(b.h,b.s,b.l):zc(""+b,tc,oc):new oc(b,k,q)}function hc(b,k,q){function t(E){return 360<E?E-=360:0>E&&(E+=360),60>E?A+(y-A)*E/60:180>E?y:240>E?A+(y-A)*(240-E)/60:A}var A,y;return b=isNaN(b)?0:0>(b%=360)?b+360:b,k=isNaN(k)?0:0>k?0:1<k?1:k,q=0>q?0:1<q?1:q,y=.5>=q?q*(1+k):q+k-q*k,A=2*q-y,new nb(Math.round(255*t(b+120)),Math.round(255*t(b)),Math.round(255*t(b-120)))}function lc(b,k,q){return this instanceof lc?(this.h=+b,this.c=+k,void(this.l=+q)):2>arguments.length?b instanceof lc?new lc(b.h,
b.c,b.l):b instanceof dc?Gc(b.l,b.a,b.b):Gc((b=kd((b=aa.rgb(b)).r,b.g,b.b)).l,b.a,b.b):new lc(b,k,q)}function Zc(b,k,q){return isNaN(b)&&(b=0),isNaN(k)&&(k=0),new dc(q,Math.cos(b*=lb)*k,Math.sin(b)*k)}function dc(b,k,q){return this instanceof dc?(this.l=+b,this.a=+k,void(this.b=+q)):2>arguments.length?b instanceof dc?new dc(b.l,b.a,b.b):b instanceof lc?Zc(b.h,b.c,b.l):kd((b=nb(b)).r,b.g,b.b):new dc(b,k,q)}function xd(b,k,q){b=(b+16)/116;k=b+k/500;q=b-q/200;return k=hd(k)*eh,b=hd(b)*fh,q=hd(q)*gh,
new nb(rb(3.2404542*k-1.5371385*b-.4985314*q),rb(-.969266*k+1.8760108*b+.041556*q),rb(.0556434*k-.2040259*b+1.0572252*q))}function Gc(b,k,q){return 0<b?new lc(Math.atan2(q,k)*Rb,Math.sqrt(k*k+q*q),b):new lc(0/0,0/0,b)}function hd(b){return.206893034<b?b*b*b:(b-4/29)/7.787037}function Pa(b){return.008856<b?Math.pow(b,1/3):7.787037*b+4/29}function rb(b){return Math.round(255*(.00304>=b?12.92*b:1.055*Math.pow(b,1/2.4)-.055))}function nb(b,k,q){return this instanceof nb?(this.r=~~b,this.g=~~k,void(this.b=
~~q)):2>arguments.length?b instanceof nb?new nb(b.r,b.g,b.b):zc(""+b,nb,hc):new nb(b,k,q)}function zb(b){return new nb(b>>16,b>>8&255,255&b)+""}function gb(b){return 16>b?"0"+Math.max(0,b).toString(16):Math.min(255,b).toString(16)}function zc(b,k,q){var t,A,y,E=0,C=0,F=0;if(t=/([a-z]+)\((.*)\)/i.exec(b))switch(A=t[2].split(","),t[1]){case "hsl":return q(parseFloat(A[0]),parseFloat(A[1])/100,parseFloat(A[2])/100);case "rgb":return k(Ac(A[0]),Ac(A[1]),Ac(A[2]))}return(y=uf.get(b.toLowerCase()))?k(y.r,
y.g,y.b):(null==b||"#"!==b.charAt(0)||isNaN(y=parseInt(b.slice(1),16))||(4===b.length?(E=(3840&y)>>4,E|=E>>4,C=240&y,C|=C>>4,F=15&y,F|=F<<4):7===b.length&&(E=(16711680&y)>>16,C=(65280&y)>>8,F=255&y)),k(E,C,F))}function tc(b,k,q){var t,A,y=Math.min(b/=255,k/=255,q/=255),E=Math.max(b,k,q),C=E-y,F=(E+y)/2;return C?(A=.5>F?C/(E+y):C/(2-E-y),t=b==E?(k-q)/C+(q>k?6:0):k==E?(q-b)/C+2:(b-k)/C+4,t*=60):(t=0/0,A=0<F&&1>F?0:t),new oc(t,A,F)}function kd(b,k,q){b=Xc(b);k=Xc(k);q=Xc(q);var t=Pa((.4124564*b+.3575761*
k+.1804375*q)/eh),A=Pa((.2126729*b+.7151522*k+.072175*q)/fh);b=Pa((.0193339*b+.119192*k+.9503041*q)/gh);return dc(116*A-16,500*(t-A),200*(A-b))}function Xc(b){return.04045>=(b/=255)?b/12.92:Math.pow((b+.055)/1.055,2.4)}function Ac(b){var k=parseFloat(b);return"%"===b.charAt(b.length-1)?Math.round(2.55*k):k}function sb(b){return"function"==typeof b?b:function(){return b}}function Dc(b){return function(k,q,t){return 2===arguments.length&&"function"==typeof q&&(t=q,q=null),Cc(k,q,b,t)}}function Cc(b,
k,q,t){function A(){var O=F.status,V;if(V=!O)V=(V=F.responseType)&&"text"!==V?F.response:F.responseText;if(V||200<=O&&300>O||304===O){try{var X=q.call(y,F)}catch(Z){return void E.error.call(y,Z)}E.load.call(y,X)}else E.error.call(y,F)}var y={},E=aa.dispatch("beforesend","progress","load","error"),C={},F=new XMLHttpRequest,L=null;return!this.XDomainRequest||"withCredentials"in F||!/^(http(s)?:)?\/\//.test(b)||(F=new XDomainRequest),"onload"in F?F.onload=F.onerror=A:F.onreadystatechange=function(){3<
F.readyState&&A()},F.onprogress=function(O){var V=aa.event;aa.event=O;try{E.progress.call(y,F)}finally{aa.event=V}},y.header=function(O,V){return O=(O+"").toLowerCase(),2>arguments.length?C[O]:(null==V?delete C[O]:C[O]=V+"",y)},y.mimeType=function(O){return arguments.length?(k=null==O?null:O+"",y):k},y.responseType=function(O){return arguments.length?(L=O,y):L},y.response=function(O){return q=O,y},["get","post"].forEach(function(O){y[O]=function(){return y.send.apply(y,[O].concat(Nd(arguments)))}}),
y.send=function(O,V,X){if(2===arguments.length&&"function"==typeof V&&(X=V,V=null),F.open(O,b,!0),null==k||"accept"in C||(C.accept=k+",*/*"),F.setRequestHeader)for(var Z in C)F.setRequestHeader(Z,C[Z]);return null!=k&&F.overrideMimeType&&F.overrideMimeType(k),null!=L&&(F.responseType=L),null!=X&&y.on("error",X).on("load",function(da){X(null,da)}),E.beforesend.call(y,F),F.send(null==V?null:V),y},y.abort=function(){return F.abort(),y},aa.rebind(y,E,"on"),null==t?y:y.get(jd(t))}function jd(b){return 1===
b.length?function(k,q){b(null==k?q:null)}:b}function rc(){var b=Gd();b=Kd()-b;24<b?(isFinite(b)&&(clearTimeout(vf),vf=setTimeout(rc,b)),wf=0):(wf=1,hh(rc))}function Gd(){var b=Date.now();for(Dd=xf;Dd;)b>=Dd.t&&(Dd.f=Dd.c(b-Dd.t)),Dd=Dd.n;return b}function Kd(){for(var b,k=xf,q=1/0;k;)k.f?k=b?b.n=k.n:xf=k.n:(k.t<q&&(q=k.t),k=(b=k).n);return yf=b,q}function Va(b,k){return k-(b?Math.ceil(Math.log(b)/Math.LN10):1)}function Fb(b){var k=b.decimal,q=b.thousands,t=b.grouping,A=b.currency,y=t&&q?function(E,
C){for(var F=E.length,L=[],O=0,V=t[0],X=0;0<F&&0<V&&(X+V+1>C&&(V=Math.max(1,C-X)),L.push(E.substring(F-=V,F+V)),!((X+=V+1)>C));)V=t[O=(O+1)%t.length];return L.reverse().join(q)}:x;return function(E){E=ih.exec(E);var C=E[1]||" ",F=E[2]||">",L=E[3]||"-",O=E[4]||"",V=E[5],X=+E[6],Z=E[7],da=E[8],pa=E[9],ka=1,na="",oa="",ia=!1,va=!0;switch(da&&(da=+da.substring(1)),(V||"0"===C&&"="===F)&&(V=C="0",F="="),pa){case "n":Z=!0;pa="g";break;case "%":ka=100;oa="%";pa="f";break;case "p":ka=100;oa="%";pa="r";break;
case "b":case "o":case "x":case "X":"#"===O&&(na="0"+pa.toLowerCase());case "c":va=!1;case "d":ia=!0;da=0;break;case "s":ka=-1,pa="r"}"$"===O&&(na=A[0],oa=A[1]);"r"!=pa||da||(pa="g");null!=da&&("g"==pa?da=Math.max(1,Math.min(21,da)):("e"==pa||"f"==pa)&&(da=Math.max(0,Math.min(20,da))));pa=pi.get(pa)||Sc;var Ha=V&&Z;return function(ba){var la=oa;if(ia&&ba%1)return"";var ta=0>ba||0===ba&&0>1/ba?(ba=-ba,"-"):"-"===L?"":L;0>ka?(la=aa.formatPrefix(ba,da),ba=la.scale(ba),la=la.symbol+oa):ba*=ka;ba=pa(ba,
da);var Ca,Ea,La=ba.lastIndexOf(".");0>La?(La=va?ba.lastIndexOf("e"):-1,0>La?(Ca=ba,Ea=""):(Ca=ba.substring(0,La),Ea=ba.substring(La))):(Ca=ba.substring(0,La),Ea=k+ba.substring(La+1));!V&&Z&&(Ca=y(Ca,1/0));La=na.length+Ca.length+Ea.length+(Ha?0:ta.length);var Na=X>La?Array(La=X-La+1).join(C):"";return Ha&&(Ca=y(Na+Ca,Na.length?X-Ea.length:1/0)),ta+=na,ba=Ca+Ea,("<"===F?ta+ba+Na:">"===F?Na+ta+ba:"^"===F?Na.substring(0,La>>=1)+ta+ba+Na.substring(La):ta+(Ha?ba:Na+ba))+la}}}function Sc(b){return b+""}
function Xb(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Bc(b,k,q){function t(F){var L=b(F),O=y(L,1);return O-F>F-L?L:O}function A(F){return k(F=b(new yc(F-1)),1),F}function y(F,L){return k(F=new yc(+F),L),F}function E(F,L,O){F=A(F);var V=[];if(1<O)for(;L>F;)q(F)%O||V.push(new Date(+F)),k(F,1);else for(;L>F;)V.push(new Date(+F)),k(F,1);return V}b.floor=b;b.round=t;b.ceil=A;b.offset=y;b.range=E;var C=b.utc=yd(b);return C.floor=C,C.round=yd(t),C.ceil=yd(A),
C.offset=yd(y),C.range=function(F,L,O){try{yc=Xb;var V=new Xb;return V._=F,E(V,L,O)}finally{yc=Date}},b}function yd(b){return function(k,q){try{yc=Xb;var t=new Xb;return t._=k,b(t,q)._}finally{yc=Date}}}function cf(b){function k(ba){function la(Ca){for(var Ea,La,Na,db=[],jb=-1,eb=0;++jb<ta;)37===ba.charCodeAt(jb)&&(db.push(ba.slice(eb,jb)),null!=(La=jh[Ea=ba.charAt(++jb)])&&(Ea=ba.charAt(++jb)),(Na=va[Ea])&&(Ea=Na(Ca,null==La?"e"===Ea?" ":"0":La)),db.push(Ea),eb=jb+1);return db.push(ba.slice(eb,jb)),
db.join("")}var ta=ba.length;return la.parse=function(Ca){var Ea={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(q(Ea,ba,Ca,0)!=Ca.length)return null;"p"in Ea&&(Ea.H=Ea.H%12+12*Ea.p);Ca=null!=Ea.Z&&yc!==Xb;var La=new (Ca?Xb:yc);return"j"in Ea?La.setFullYear(Ea.y,0,Ea.j):"w"in Ea&&("W"in Ea||"U"in Ea)?(La.setFullYear(Ea.y,0,1),La.setFullYear(Ea.y,0,"W"in Ea?(Ea.w+6)%7+7*Ea.W-(La.getDay()+5)%7:Ea.w+7*Ea.U-(La.getDay()+6)%7)):La.setFullYear(Ea.y,Ea.m,Ea.d),La.setHours(Ea.H+(Ea.Z/100|0),Ea.M+Ea.Z%100,Ea.S,
Ea.L),Ca?La._:La},la.toString=function(){return ba},la}function q(ba,la,ta,Ca){for(var Ea,La,Na,db=0,jb=la.length,eb=ta.length;jb>db;){if(Ca>=eb)return-1;if(Ea=la.charCodeAt(db++),37===Ea){if(Na=la.charAt(db++),La=Ha[Na in jh?la.charAt(db++):Na],!La||0>(Ca=La(ba,ta,Ca)))return-1}else if(Ea!=ta.charCodeAt(Ca++))return-1}return Ca}var t=b.dateTime,A=b.date,y=b.time,E=b.periods,C=b.days,F=b.shortDays,L=b.months,O=b.shortMonths;k.utc=function(ba){function la(Ca){try{yc=Xb;var Ea=new yc;return Ea._=Ca,
ta(Ea)}finally{yc=Date}}var ta=k(ba);return la.parse=function(Ca){try{yc=Xb;var Ea=ta.parse(Ca);return Ea&&Ea._}finally{yc=Date}},la.toString=ta.toString,la};k.multi=k.utc.multi=ng;var V=aa.map(),X=Xd(C),Z=Yd(C),da=Xd(F),pa=Yd(F),ka=Xd(L),na=Yd(L),oa=Xd(O),ia=Yd(O);E.forEach(function(ba,la){V.set(ba.toLowerCase(),la)});var va={a:function(ba){return F[ba.getDay()]},A:function(ba){return C[ba.getDay()]},b:function(ba){return O[ba.getMonth()]},B:function(ba){return L[ba.getMonth()]},c:k(t),d:function(ba,
la){return mc(ba.getDate(),la,2)},e:function(ba,la){return mc(ba.getDate(),la,2)},H:function(ba,la){return mc(ba.getHours(),la,2)},I:function(ba,la){return mc(ba.getHours()%12||12,la,2)},j:function(ba,la){return mc(1+ab.dayOfYear(ba),la,3)},L:function(ba,la){return mc(ba.getMilliseconds(),la,3)},m:function(ba,la){return mc(ba.getMonth()+1,la,2)},M:function(ba,la){return mc(ba.getMinutes(),la,2)},p:function(ba){return E[+(12<=ba.getHours())]},S:function(ba,la){return mc(ba.getSeconds(),la,2)},U:function(ba,
la){return mc(ab.sundayOfYear(ba),la,2)},w:function(ba){return ba.getDay()},W:function(ba,la){return mc(ab.mondayOfYear(ba),la,2)},x:k(A),X:k(y),y:function(ba,la){return mc(ba.getFullYear()%100,la,2)},Y:function(ba,la){return mc(ba.getFullYear()%1E4,la,4)},Z:qd,"%":function(){return"%"}},Ha={a:function(ba,la,ta){da.lastIndex=0;return(la=da.exec(la.slice(ta)))?(ba.w=pa.get(la[0].toLowerCase()),ta+la[0].length):-1},A:function(ba,la,ta){X.lastIndex=0;return(la=X.exec(la.slice(ta)))?(ba.w=Z.get(la[0].toLowerCase()),
ta+la[0].length):-1},b:function(ba,la,ta){oa.lastIndex=0;return(la=oa.exec(la.slice(ta)))?(ba.m=ia.get(la[0].toLowerCase()),ta+la[0].length):-1},B:function(ba,la,ta){ka.lastIndex=0;return(la=ka.exec(la.slice(ta)))?(ba.m=na.get(la[0].toLowerCase()),ta+la[0].length):-1},c:function(ba,la,ta){return q(ba,va.c.toString(),la,ta)},d:Hc,e:Hc,H:Hd,I:Hd,j:Je,L:je,m:mg,M:Ye,p:function(ba,la,ta){la=V.get(la.slice(ta,ta+=2).toLowerCase());return null==la?-1:(ba.p=la,ta)},S:ff,U:jg,w:df,W:kg,x:function(ba,la,ta){return q(ba,
va.x.toString(),la,ta)},X:function(ba,la,ta){return q(ba,va.X.toString(),la,ta)},y:ef,Y:lg,Z:bg,"%":rd};return k}function mc(b,k,q){var t=0>b?"-":"";b=(t?-b:b)+"";var A=b.length;return t+(q>A?Array(q-A+1).join(k)+b:b)}function Xd(b){return new RegExp("^(?:"+b.map(aa.requote).join("|")+")","i")}function Yd(b){for(var k=new e,q=-1,t=b.length;++q<t;)k.set(b[q].toLowerCase(),q);return k}function df(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+1)))?(b.w=+k[0],q+k[0].length):-1}function jg(b,k,q){$b.lastIndex=
0;return(k=$b.exec(k.slice(q)))?(b.U=+k[0],q+k[0].length):-1}function kg(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q)))?(b.W=+k[0],q+k[0].length):-1}function lg(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+4)))?(b.y=+k[0],q+k[0].length):-1}function ef(b,k,q){$b.lastIndex=0;if(k=$b.exec(k.slice(q,q+2))){var t=+k[0];b=(b.y=t+(68<t?1900:2E3),q+k[0].length)}else b=-1;return b}function bg(b,k,q){return/^[+-]\d{4}$/.test(k=k.slice(q,q+5))?(b.Z=-k,q+5):-1}function mg(b,k,q){$b.lastIndex=0;return(k=
$b.exec(k.slice(q,q+2)))?(b.m=k[0]-1,q+k[0].length):-1}function Hc(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+2)))?(b.d=+k[0],q+k[0].length):-1}function Je(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+3)))?(b.j=+k[0],q+k[0].length):-1}function Hd(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+2)))?(b.H=+k[0],q+k[0].length):-1}function Ye(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+2)))?(b.M=+k[0],q+k[0].length):-1}function ff(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,
q+2)))?(b.S=+k[0],q+k[0].length):-1}function je(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+3)))?(b.L=+k[0],q+k[0].length):-1}function qd(b){var k=b.getTimezoneOffset();b=0<k?"-":"+";var q=ob(k)/60|0;k=ob(k)%60;return b+mc(q,"0",2)+mc(k,"0",2)}function rd(b,k,q){kh.lastIndex=0;return(b=kh.exec(k.slice(q,q+1)))?q+b[0].length:-1}function ng(b){for(var k=b.length,q=-1;++q<k;)b[q][0]=this(b[q][0]);return function(t){for(var A=0,y=b[A];!y[1](t);)y=b[++A];return y[0](t)}}function Zd(){}function gf(b,
k,q){var t=q.s=b+k,A=t-b;q.t=b-(t-A)+(k-A)}function qe(b,k){b&&lh.hasOwnProperty(b.type)&&lh[b.type](b,k)}function Ee(b,k,q){var t=-1,A=b.length-q;for(k.lineStart();++t<A;)q=b[t],k.point(q[0],q[1],q[2]);k.lineEnd()}function hf(b,k){var q=-1,t=b.length;for(k.polygonStart();++q<t;)Ee(b[q],k,1);k.polygonEnd()}function og(){function b(E,C){E*=lb;C=C*lb/2+kb/4;var F=E-t,L=0<=F?1:-1;F*=L;var O=Math.cos(C);C=Math.sin(C);var V=y*C;ce.add(Math.atan2(V*L*Math.sin(F),A*O+V*Math.cos(F)));t=E;A=O;y=C}var k,q,
t,A,y;Uc.point=function(E,C){Uc.point=b;t=(k=E)*lb;A=Math.cos(C=(q=C)*lb/2+kb/4);y=Math.sin(C)};Uc.lineEnd=function(){b(k,q)}}function ld(b){var k=b[0];b=b[1];var q=Math.cos(b);return[q*Math.cos(k),q*Math.sin(k),Math.sin(b)]}function Ud(b,k){return b[0]*k[0]+b[1]*k[1]+b[2]*k[2]}function Nc(b,k){return[b[1]*k[2]-b[2]*k[1],b[2]*k[0]-b[0]*k[2],b[0]*k[1]-b[1]*k[0]]}function Ld(b,k){b[0]+=k[0];b[1]+=k[1];b[2]+=k[2]}function re(b,k){return[b[0]*k,b[1]*k,b[2]*k]}function $d(b){var k=Math.sqrt(b[0]*b[0]+
b[1]*b[1]+b[2]*b[2]);b[0]/=k;b[1]/=k;b[2]/=k}function se(b){return[Math.atan2(b[1],b[0]),kc(b[2])]}function td(b,k){return ob(b[0]-k[0])<Ya&&ob(b[1]-k[1])<Ya}function sd(b,k){b*=lb;var q=Math.cos(k*=lb);ae(q*Math.cos(b),q*Math.sin(b),Math.sin(k))}function ae(b,k,q){++Re;de+=(b-de)/Re;ee+=(k-ee)/Re;Ed+=(q-Ed)/Re}function zd(){function b(A,y){A*=lb;var E=Math.cos(y*=lb),C=E*Math.cos(A);A=E*Math.sin(A);y=Math.sin(y);var F=Math.atan2(Math.sqrt((F=q*y-t*A)*F+(F=t*C-k*y)*F+(F=k*A-q*C)*F),k*C+q*A+t*y);zf+=
F;Od+=F*(k+(k=C));Pd+=F*(q+(q=A));pd+=F*(t+(t=y));ae(k,q,t)}var k,q,t;fd.point=function(A,y){A*=lb;var E=Math.cos(y*=lb);k=E*Math.cos(A);q=E*Math.sin(A);t=Math.sin(y);fd.point=b;ae(k,q,t)}}function dd(){fd.point=sd}function Ke(){function b(E,C){E*=lb;var F=Math.cos(C*=lb),L=F*Math.cos(E);E=F*Math.sin(E);C=Math.sin(C);F=A*C-y*E;var O=y*L-t*C,V=t*E-A*L,X=Math.sqrt(F*F+O*O+V*V),Z=t*L+A*E+y*C,da=X&&-Ob(Z)/X;X=Math.atan2(X,Z);xe+=da*F;ye+=da*O;Qd+=da*V;zf+=X;Od+=X*(t+(t=L));Pd+=X*(A+(A=E));pd+=X*(y+(y=
C));ae(t,A,y)}var k,q,t,A,y;fd.point=function(E,C){k=E;q=C;fd.point=b;E*=lb;var F=Math.cos(C*=lb);t=F*Math.cos(E);A=F*Math.sin(E);y=Math.sin(C);ae(t,A,y)};fd.lineEnd=function(){b(k,q);fd.lineEnd=dd;fd.point=sd}}function md(b,k){function q(t,A){return t=b(t,A),k(t[0],t[1])}return b.invert&&k.invert&&(q.invert=function(t,A){return t=k.invert(t,A),t&&b.invert(t[0],t[1])}),q}function ed(){return!0}function jf(b,k,q,t,A){var y=[],E=[];if(b.forEach(function(V){if(!(0>=(X=V.length-1))){var X,Z=V[0],da=V[X];
if(td(Z,da)){A.lineStart();for(da=0;X>da;++da)A.point((Z=V[da])[0],Z[1]);return void A.lineEnd()}X=new te(Z,V,null,!0);Z=new te(Z,null,X,!1);X.o=Z;y.push(X);E.push(Z);X=new te(da,V,null,!1);Z=new te(da,null,X,!0);X.o=Z;y.push(X);E.push(Z)}}),E.sort(k),kf(y),kf(E),y.length){b=0;k=q;for(q=E.length;q>b;++b)E[b].e=k=!k;for(var C,F=y[0];;){for(var L=F,O=!0;L.v;)if((L=L.n)===F)return;k=L.z;A.lineStart();do{if(L.v=L.o.v=!0,L.e){if(O)for(b=0,q=k.length;q>b;++b)A.point((C=k[b])[0],C[1]);else t(L.x,L.n.x,1,
A);L=L.n}else{if(O)for(k=L.p.z,b=k.length-1;0<=b;--b)A.point((C=k[b])[0],C[1]);else t(L.x,L.p.x,-1,A);L=L.p}L=L.o;k=L.z;O=!O}while(!L.v);A.lineEnd()}}}function kf(b){if(k=b.length){for(var k,q,t=0,A=b[0];++t<k;)A.n=q=b[t],q.p=A,A=q;A.n=q=b[0];q.p=A}}function te(b,k,q,t){this.x=b;this.z=k;this.o=q;this.e=t;this.v=!1;this.n=this.p=null}function ue(b,k,q,t){return function(A,y){function E(ba,la){var ta=A(ba,la);b(ba=ta[0],la=ta[1])&&y.point(ba,la)}function C(ba,la){ba=A(ba,la);ka.point(ba[0],ba[1])}
function F(){oa.point=C;ka.lineStart()}function L(){oa.point=E;ka.lineEnd()}function O(ba,la){pa.push([ba,la]);ba=A(ba,la);va.point(ba[0],ba[1])}function V(){va.lineStart();pa=[]}function X(){O(pa[0][0],pa[0][1]);va.lineEnd();var ba=va.clean();var la=ia.buffer(),ta=la.length;if(pa.pop(),da.push(pa),pa=null,ta)if(1&ba){ba=la[0];var Ca;ta=ba.length-1;la=-1;if(0<ta){Ha||(y.polygonStart(),Ha=!0);for(y.lineStart();++la<ta;)y.point((Ca=ba[la])[0],Ca[1]);y.lineEnd()}}else 1<ta&&2&ba&&la.push(la.pop().concat(la.shift())),
Z.push(la.filter(Le))}var Z,da,pa,ka=k(y),na=A.invert(t[0],t[1]),oa={point:E,lineStart:F,lineEnd:L,polygonStart:function(){oa.point=O;oa.lineStart=V;oa.lineEnd=X;Z=[];da=[]},polygonEnd:function(){oa.point=E;oa.lineStart=F;oa.lineEnd=L;Z=aa.merge(Z);var ba=na;var la=da;var ta=ba[0],Ca=ba[1],Ea=[Math.sin(ta),-Math.cos(ta),0],La=0,Na=0;ce.reset();for(var db=0,jb=la.length;jb>db;++db){var eb=la[db],Ta=eb.length;if(Ta){var hb=eb[0],ub=hb[0];ba=hb[1]/2+kb/4;for(var Eb=Math.sin(ba),sc=Math.cos(ba),Mb=1;;){Mb===
Ta&&(Mb=0);ba=eb[Mb];var fc=ba[0],ec=ba[1]/2+kb/4,Ic=Math.sin(ec);ec=Math.cos(ec);var Lc=fc-ub,Se=0<=Lc?1:-1,Te=Se*Lc,fe=Te>kb;Eb*=Ic;if(ce.add(Math.atan2(Eb*Se*Math.sin(Te),sc*ec+Eb*Math.cos(Te))),La+=fe?Lc+Se*Vc:Lc,fe^ub>=ta^fc>=ta)hb=Nc(ld(hb),ld(ba)),$d(hb),ub=Nc(Ea,hb),$d(ub),ub=(fe^0<=Lc?-1:1)*kc(ub[2]),(Ca>ub||Ca===ub&&(hb[0]||hb[1]))&&(Na+=fe^0<=Lc?1:-1);if(!Mb++)break;ub=fc;Eb=Ic;sc=ec;hb=ba}}}la=(-Ya>La||Ya>La&&0>ce)^1&Na;Z.length?(Ha||(y.polygonStart(),Ha=!0),jf(Z,pg,la,q,y)):la&&(Ha||
(y.polygonStart(),Ha=!0),y.lineStart(),q(null,null,1,y),y.lineEnd());Ha&&(y.polygonEnd(),Ha=!1);Z=da=null},sphere:function(){y.polygonStart();y.lineStart();q(null,null,1,y);y.lineEnd();y.polygonEnd()}},ia=ve(),va=k(ia),Ha=!1;return oa}}function Le(b){return 1<b.length}function ve(){var b,k=[];return{lineStart:function(){k.push(b=[])},point:function(q,t){b.push([q,t])},lineEnd:K,buffer:function(){var q=k;return k=[],b=null,q},rejoin:function(){1<k.length&&k.push(k.pop().concat(k.shift()))}}}function pg(b,
k){return(0>(b=b.x)[0]?b[1]-Zb-Ya:Zb-b[1])-(0>(k=k.x)[0]?k[1]-Zb-Ya:Zb-k[1])}function qg(b){function k(F,L){return Math.cos(F)*Math.cos(L)>A}function q(F,L,O){var V=ld(F),X=ld(L),Z=[1,0,0];X=Nc(V,X);var da=Ud(X,X);V=X[0];var pa=da-V*V;if(!pa)return!O&&F;da=A*da/pa;pa=-A*V/pa;V=Nc(Z,X);Z=re(Z,da);X=re(X,pa);Ld(Z,X);X=Ud(Z,V);da=Ud(V,V);pa=X*X-da*(Ud(Z,Z)-1);if(!(0>pa)){var ka=Math.sqrt(pa);pa=re(V,(-X-ka)/da);if(Ld(pa,Z),pa=se(pa),!O)return pa;var na;O=F[0];var oa=L[0];F=F[1];L=L[1];O>oa&&(na=O,O=
oa,oa=na);var ia=oa-O,va=ob(ia-kb)<Ya,Ha=va||Ya>ia;if(!va&&F>L&&(na=F,F=L,L=na),Ha?va?0<F+L^pa[1]<(ob(pa[0]-O)<Ya?F:L):F<=pa[1]&&pa[1]<=L:ia>kb^(O<=pa[0]&&pa[0]<=oa))return na=re(V,(-X+ka)/da),Ld(na,Z),[pa,se(na)]}}function t(F,L){var O=y?b:kb-b,V=0;return-O>F?V|=1:F>O&&(V|=2),-O>L?V|=4:L>O&&(V|=8),V}var A=Math.cos(b),y=0<A,E=ob(A)>Ya,C=B(b,6*lb);return ue(k,function(F){var L,O,V,X,Z;return{lineStart:function(){X=V=!1;Z=1},point:function(da,pa){var ka,na=[da,pa],oa=k(da,pa);da=y?oa?0:t(da,pa):oa?
t(da+(0>da?kb:-kb),pa):0;if(!L&&(X=V=oa)&&F.lineStart(),oa!==V&&(ka=q(L,na),(td(L,ka)||td(na,ka))&&(na[0]+=Ya,na[1]+=Ya,oa=k(na[0],na[1]))),oa!==V)Z=0,oa?(F.lineStart(),ka=q(na,L),F.point(ka[0],ka[1])):(ka=q(L,na),F.point(ka[0],ka[1]),F.lineEnd()),L=ka;else if(E&&L&&y^oa){var ia;da&O||!(ia=q(na,L,!0))||(Z=0,y?(F.lineStart(),F.point(ia[0][0],ia[0][1]),F.point(ia[1][0],ia[1][1]),F.lineEnd()):(F.point(ia[1][0],ia[1][1]),F.lineEnd(),F.lineStart(),F.point(ia[0][0],ia[0][1])))}!oa||L&&td(L,na)||F.point(na[0],
na[1]);L=na;V=oa;O=da},lineEnd:function(){V&&F.lineEnd();L=null},clean:function(){return Z|(X&&V)<<1}}},C,y?[0,-b]:[-kb,b-kb])}function Me(b,k,q,t){return function(A){var y,E=A.a,C=A.b,F=E.x;E=E.y;var L=0,O=1,V=C.x-F;C=C.y-E;if(y=b-F,V||!(0<y)){if(y/=V,0>V){if(L>y)return;O>y&&(O=y)}else if(0<V){if(y>O)return;y>L&&(L=y)}if(y=q-F,V||!(0>y)){if(y/=V,0>V){if(y>O)return;y>L&&(L=y)}else if(0<V){if(L>y)return;O>y&&(O=y)}if(y=k-E,C||!(0<y)){if(y/=C,0>C){if(L>y)return;O>y&&(O=y)}else if(0<C){if(y>O)return;
y>L&&(L=y)}if(y=t-E,C||!(0>y)){if(y/=C,0>C){if(y>O)return;y>L&&(L=y)}else if(0<C){if(L>y)return;O>y&&(O=y)}return 0<L&&(A.a={x:F+L*V,y:E+L*C}),1>O&&(A.b={x:F+O*V,y:E+O*C}),A}}}}}}function lf(b,k,q,t){function A(C,F){return ob(C[0]-b)<Ya?0<F?0:3:ob(C[0]-q)<Ya?0<F?2:1:ob(C[1]-k)<Ya?0<F?1:0:0<F?3:2}function y(C,F){return E(C.x,F.x)}function E(C,F){var L=A(C,1),O=A(F,1);return L!==O?L-O:0===L?F[1]-C[1]:1===L?C[0]-F[0]:2===L?C[1]-F[1]:F[0]-C[0]}return function(C){function F(Ea,La,Na,db){var jb=0,eb=0;
if(null==Ea||(jb=A(Ea,Na))!==(eb=A(La,Na))||0>E(Ea,La)^0<Na){do db.point(0===jb||3===jb?b:q,1<jb?t:k);while((jb=(jb+Na+4)%4)!==eb)}else db.point(La[0],La[1])}function L(Ea,La){Ea>=b&&q>=Ea&&La>=k&&t>=La&&C.point(Ea,La)}function O(Ea,La){Ea=Math.max(-Af,Math.min(Af,Ea));La=Math.max(-Af,Math.min(Af,La));var Na=Ea>=b&&q>=Ea&&La>=k&&t>=La;if(X&&Z.push([Ea,La]),va)da=Ea,pa=La,ka=Na,va=!1,Na&&(C.lineStart(),C.point(Ea,La));else if(Na&&ia)C.point(Ea,La);else{var db={a:{x:na,y:oa},b:{x:Ea,y:La}};ta(db)?(ia||
(C.lineStart(),C.point(db.a.x,db.a.y)),C.point(db.b.x,db.b.y),Na||C.lineEnd(),Ha=!1):Na&&(C.lineStart(),C.point(Ea,La),Ha=!1)}na=Ea;oa=La;ia=Na}var V,X,Z,da,pa,ka,na,oa,ia,va,Ha,ba=C,la=ve(),ta=Me(b,k,q,t),Ca={point:L,lineStart:function(){Ca.point=O;X&&X.push(Z=[]);va=!0;ia=!1;na=oa=0/0},lineEnd:function(){V&&(O(da,pa),ka&&ia&&la.rejoin(),V.push(la.buffer()));Ca.point=L;ia&&C.lineEnd()},polygonStart:function(){C=la;V=[];X=[];Ha=!0},polygonEnd:function(){C=ba;V=aa.merge(V);var Ea=[b,t];for(var La=
0,Na=X.length,db=Ea[1],jb=0;Na>jb;++jb)for(var eb,Ta=1,hb=X[jb],ub=hb.length,Eb=hb[0];ub>Ta;++Ta)eb=hb[Ta],Eb[1]<=db?eb[1]>db&&0<ib(Eb,eb,Ea)&&++La:eb[1]<=db&&0>ib(Eb,eb,Ea)&&--La,Eb=eb;Ea=0!==La;La=Ha&&Ea;Na=V.length;(La||Na)&&(C.polygonStart(),La&&(C.lineStart(),F(null,null,1,C),C.lineEnd()),Na&&jf(V,y,Ea,F,C),C.polygonEnd());V=X=Z=null}};return Ca}}function Ne(b){var k=0,q=kb/3,t=Md(b);b=t(k,q);return b.parallels=function(A){return arguments.length?t(k=A[0]*kb/180,q=A[1]*kb/180):[k/kb*180,q/kb*
180]},b}function mf(b,k){function q(E,C){C=Math.sqrt(A-2*t*Math.sin(C))/t;return[C*Math.sin(E*=t),y-C*Math.cos(E)]}b=Math.sin(b);var t=(b+Math.sin(k))/2,A=1+b*(2*t-b),y=Math.sqrt(A)/t;return q.invert=function(E,C){C=y-C;return[Math.atan2(E,C)/t,kc((A-(E*E+C*C)*t*t)/(2*t))]},q}function nf(){function b(y,E){zg+=A*y-t*E;t=y;A=E}var k,q,t,A;Rd.point=function(y,E){Rd.point=b;k=t=y;q=A=E};Rd.lineEnd=function(){b(k,q)}}function of(){function b(F,L){E.push("M",F,",",L,y)}function k(F,L){E.push("M",F,",",
L);C.point=q}function q(F,L){E.push("L",F,",",L)}function t(){C.point=b}function A(){E.push("Z")}var y=ke(4.5),E=[],C={point:b,lineStart:function(){C.point=k},lineEnd:t,polygonStart:function(){C.lineEnd=A},polygonEnd:function(){C.lineEnd=t;C.point=b},pointRadius:function(F){return y=ke(F),C},result:function(){if(E.length){var F=E.join("");return E=[],F}}};return C}function ke(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function nd(b,k){de+=b;ee+=k;++Ed}function od(){function b(t,
A){var y=t-k,E=A-q;y=Math.sqrt(y*y+E*E);Od+=y*(k+t)/2;Pd+=y*(q+A)/2;pd+=y;nd(k=t,q=A)}var k,q;gd.point=function(t,A){gd.point=b;nd(k=t,q=A)}}function Ad(){gd.point=nd}function rg(){function b(y,E){var C=y-t,F=E-A;C=Math.sqrt(C*C+F*F);Od+=C*(t+y)/2;Pd+=C*(A+E)/2;pd+=C;C=A*y-t*E;xe+=C*(t+y);ye+=C*(A+E);Qd+=3*C;nd(t=y,A=E)}var k,q,t,A;gd.point=function(y,E){gd.point=b;nd(k=t=y,q=A=E)};gd.lineEnd=function(){b(k,q)}}function cg(b){function k(F,L){b.moveTo(F+E,L);b.arc(F,L,E,0,Vc)}function q(F,L){b.moveTo(F,
L);C.point=t}function t(F,L){b.lineTo(F,L)}function A(){C.point=k}function y(){b.closePath()}var E=4.5,C={point:k,lineStart:function(){C.point=q},lineEnd:A,polygonStart:function(){C.lineEnd=y},polygonEnd:function(){C.lineEnd=A;C.point=k},pointRadius:function(F){return E=F,C},result:K};return C}function Oe(b){function k(F){return(C?t:q)(F)}function q(F){return qf(F,function(L,O){L=b(L,O);F.point(L[0],L[1])})}function t(F){function L(db,jb){db=b(db,jb);F.point(db[0],db[1])}function O(){la=0/0;Na.point=
V;F.lineStart()}function V(db,jb){var eb=ld([db,jb]);jb=b(db,jb);A(la,ta,ba,Ca,Ea,La,la=jb[0],ta=jb[1],ba=db,Ca=eb[0],Ea=eb[1],La=eb[2],C,F);F.point(la,ta)}function X(){Na.point=L;F.lineEnd()}function Z(){O();Na.point=da;Na.lineEnd=pa}function da(db,jb){V(ka=db,jb);na=la;oa=ta;ia=Ca;va=Ea;Ha=La;Na.point=V}function pa(){A(la,ta,ba,Ca,Ea,La,na,oa,ka,ia,va,Ha,C,F);Na.lineEnd=X;X()}var ka,na,oa,ia,va,Ha,ba,la,ta,Ca,Ea,La,Na={point:L,lineStart:O,lineEnd:X,polygonStart:function(){F.polygonStart();Na.lineStart=
Z},polygonEnd:function(){F.polygonEnd();Na.lineStart=O}};return Na}function A(F,L,O,V,X,Z,da,pa,ka,na,oa,ia,va,Ha){var ba=da-F,la=pa-L,ta=ba*ba+la*la;if(ta>4*y&&va--){var Ca=V+na,Ea=X+oa,La=Z+ia,Na=Math.sqrt(Ca*Ca+Ea*Ea+La*La),db=Math.asin(La/=Na),jb=ob(ob(La)-1)<Ya||ob(O-ka)<Ya?(O+ka)/2:Math.atan2(Ea,Ca),eb=b(jb,db);db=eb[0];eb=eb[1];var Ta=db-F,hb=eb-L,ub=la*Ta-ba*hb;(ub*ub/ta>y||.3<ob((ba*Ta+la*hb)/ta-.5)||E>V*na+X*oa+Z*ia)&&(A(F,L,O,V,X,Z,db,eb,jb,Ca/=Na,Ea/=Na,La,va,Ha),Ha.point(db,eb),A(db,
eb,jb,Ca,Ea,La,da,pa,ka,na,oa,ia,va,Ha))}}var y=.5,E=Math.cos(30*lb),C=16;return k.precision=function(F){return arguments.length?(C=0<(y=F*F)&&16,k):Math.sqrt(y)},k}function sg(b){var k=Oe(function(q,t){return b([q*Rb,t*Rb])});return function(q){return Pe(k(q))}}function pf(b){this.stream=b}function qf(b,k){return{point:k,sphere:function(){b.sphere()},lineStart:function(){b.lineStart()},lineEnd:function(){b.lineEnd()},polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}}}
function Tc(b){return Md(function(){return b})()}function Md(b){function k(ta){return ta=C(ta[0]*lb,ta[1]*lb),[ta[0]*X+F,L-ta[1]*X]}function q(ta){return ta=C.invert((ta[0]-F)/X,(L-ta[1])/X),ta&&[ta[0]*Rb,ta[1]*Rb]}function t(){C=md(E=we(na,oa,ia),y);var ta=y(pa,ka);return F=Z-ta[0]*X,L=da+ta[1]*X,A()}function A(){return O&&(O.valid=!1,O=null),k}var y,E,C,F,L,O,V=Oe(function(ta,Ca){return ta=y(ta,Ca),[ta[0]*X+F,L-ta[1]*X]}),X=150,Z=480,da=250,pa=0,ka=0,na=0,oa=0,ia=0,va=mh,Ha=x,ba=null,la=null;return k.stream=
function(ta){return O&&(O.valid=!1),O=Pe(va(E,V(Ha(ta)))),O.valid=!0,O},k.clipAngle=function(ta){return arguments.length?(va=null==ta?(ba=ta,mh):qg((ba=+ta)*lb),A()):ba},k.clipExtent=function(ta){return arguments.length?(la=ta,Ha=ta?lf(ta[0][0],ta[0][1],ta[1][0],ta[1][1]):x,A()):la},k.scale=function(ta){return arguments.length?(X=+ta,t()):X},k.translate=function(ta){return arguments.length?(Z=+ta[0],da=+ta[1],t()):[Z,da]},k.center=function(ta){return arguments.length?(pa=ta[0]%360*lb,ka=ta[1]%360*
lb,t()):[pa*Rb,ka*Rb]},k.rotate=function(ta){return arguments.length?(na=ta[0]%360*lb,oa=ta[1]%360*lb,ia=2<ta.length?ta[2]%360*lb:0,t()):[na*Rb,oa*Rb,ia*Rb]},aa.rebind(k,V,"precision"),function(){return y=b.apply(this,arguments),k.invert=y.invert&&q,t()}}function Pe(b){return qf(b,function(k,q){b.point(k*lb,q*lb)})}function Bd(b,k){return[b,k]}function Qe(b,k){return[b>kb?b-Vc:-kb>b?b+Vc:b,k]}function we(b,k,q){return b?k||q?md(sf(b),r(k,q)):sf(b):k||q?r(k,q):Qe}function rf(b){return function(k,q){return k+=
b,[k>kb?k-Vc:-kb>k?k+Vc:k,q]}}function sf(b){var k=rf(b);return k.invert=rf(-b),k}function r(b,k){function q(C,F){var L=Math.cos(F),O=Math.cos(C)*L;C=Math.sin(C)*L;F=Math.sin(F);L=F*t+O*A;return[Math.atan2(C*y-L*E,O*t-F*A),kc(L*y+C*E)]}var t=Math.cos(b),A=Math.sin(b),y=Math.cos(k),E=Math.sin(k);return q.invert=function(C,F){var L=Math.cos(F),O=Math.cos(C)*L;C=Math.sin(C)*L;F=Math.sin(F);L=F*y-C*E;return[Math.atan2(C*y+F*E,O*t+L*A),kc(L*t-O*A)]},q}function B(b,k){var q=Math.cos(b),t=Math.sin(b);return function(A,
y,E,C){var F=E*k;null!=A?(A=I(q,A),y=I(q,y),(0<E?y>A:A>y)&&(A+=E*Vc)):(A=b+E*Vc,y=b-.5*F);for(var L;0<E?A>y:y>A;A-=F)C.point((L=se([q,-t*Math.cos(A),-t*Math.sin(A)]))[0],L[1])}}function I(b,k){k=ld(k);k[0]-=b;$d(k);b=Ob(-k[1]);return((0>-k[2]?-b:b)+2*Math.PI-Ya)%(2*Math.PI)}function P(b,k,q){var t=aa.range(b,k-Ya,q).concat(k);return function(A){return t.map(function(y){return[A,y]})}}function U(b,k,q){var t=aa.range(b,k-Ya,q).concat(k);return function(A){return t.map(function(y){return[y,A]})}}function Y(b){return b.source}
function fa(b){return b.target}function qa(b,k,q,t){var A=Math.cos(k),y=Math.sin(k),E=Math.cos(t),C=Math.sin(t),F=A*Math.cos(b),L=A*Math.sin(b),O=E*Math.cos(q),V=E*Math.sin(q),X=2*Math.asin(Math.sqrt(Xa(t-k)+A*E*Xa(q-b))),Z=1/Math.sin(X);q=X?function(da){var pa=Math.sin(da*=X)*Z;da=Math.sin(X-da)*Z;var ka=da*F+pa*O,na=da*L+pa*V;return[Math.atan2(na,ka)*Rb,Math.atan2(da*y+pa*C,Math.sqrt(ka*ka+na*na))*Rb]}:function(){return[b*Rb,k*Rb]};return q.distance=X,q}function xa(b,k){function q(t,A){var y=Math.cos(A),
E=b(Math.cos(t)*y);return[E*y*Math.sin(t),E*Math.sin(A)]}return q.invert=function(t,A){var y=Math.sqrt(t*t+A*A),E=k(y),C=Math.sin(E);return[Math.atan2(t*C,y*Math.cos(E)),Math.asin(y&&A*C/y)]},q}function Ja(b,k){function q(E,C){0<y?-Zb+Ya>C&&(C=-Zb+Ya):C>Zb-Ya&&(C=Zb-Ya);C=y/Math.pow(Math.tan(kb/4+C/2),A);return[C*Math.sin(A*E),y-C*Math.cos(A*E)]}var t=Math.cos(b),A=b===k?Math.sin(b):Math.log(t/Math.cos(k))/Math.log(Math.tan(kb/4+k/2)/Math.tan(kb/4+b/2)),y=t*Math.pow(Math.tan(kb/4+b/2),A)/A;return A?
(q.invert=function(E,C){C=y-C;return[Math.atan2(E,C)/A,2*Math.atan(Math.pow(y/((0<A?1:0>A?-1:0)*Math.sqrt(E*E+C*C)),1/A))-Zb]},q):Ra}function za(b,k){function q(E,C){C=y-C;return[C*Math.sin(A*E),y-C*Math.cos(A*E)]}var t=Math.cos(b),A=b===k?Math.sin(b):(t-Math.cos(k))/(k-b),y=t/A+b;return ob(A)<Ya?Bd:(q.invert=function(E,C){C=y-C;return[Math.atan2(E,C)/A,y-(0<A?1:0>A?-1:0)*Math.sqrt(E*E+C*C)]},q)}function Ra(b,k){return[b,Math.log(Math.tan(kb/4+k/2))]}function Za(b){var k,q=Tc(b),t=q.scale,A=q.translate,
y=q.clipExtent;return q.scale=function(){var E=t.apply(q,arguments);return E===q?k?q.clipExtent(null):q:E},q.translate=function(){var E=A.apply(q,arguments);return E===q?k?q.clipExtent(null):q:E},q.clipExtent=function(E){var C=y.apply(q,arguments);if(C===q){if(k=null==E){var F=kb*t(),L=A();y([[L[0]-F,L[1]-F],[L[0]+F,L[1]+F]])}}else k&&(C=null);return C},q.clipExtent(null)}function pb(b,k){return[Math.log(Math.tan(kb/4+k/2)),-b]}function mb(b){return b[0]}function Gb(b){return b[1]}function Yb(b){for(var k=
b.length,q=[0,1],t=2,A=2;k>A;A++){for(;1<t&&0>=ib(b[q[t-2]],b[q[t-1]],b[A]);)--t;q[t++]=A}return q.slice(0,t)}function Id(b,k){return b[0]-k[0]||b[1]-k[1]}function vc(b,k,q){return(q[0]-k[0])*(b[1]-k[1])<(q[1]-k[1])*(b[0]-k[0])}function Pc(b,k,q,t){var A=b[0],y=q[0],E=k[0]-A,C=t[0]-y;b=b[1];q=q[1];k=k[1]-b;t=t[1]-q;y=(C*(b-q)-t*(A-y))/(t*E-C*k);return[A+y*E,b+y*k]}function wb(b){var k=b[0];b=b[b.length-1];return!(k[0]-b[0]||k[1]-b[1])}function uc(){ad(this);this.edge=this.site=this.circle=null}function xb(b){var k=
nh.pop()||new uc;return k.site=b,k}function Jb(b){Wb(b);ze.remove(b);nh.push(b);ad(b)}function Qb(b,k){var q=b.site,t=q.x,A=q.y,y=A-k;if(!y)return t;b=b.P;if(!b)return-1/0;q=b.site;b=q.x;q=q.y;k=q-k;if(!k)return b;var E=b-t,C=1/y-1/k,F=E/k;return C?(-F+Math.sqrt(F*F-2*C*(E*E/(-2*k)-q+k/2+A-y/2)))/C+t:(t+b)/2}function Pb(b){this.site=b;this.edges=[]}function wc(b,k){return k.angle-b.angle}function pc(){ad(this);this.x=this.y=this.arc=this.site=this.cy=null}function Kb(b){var k=b.P,q=b.N;if(k&&q){var t=
k.site;k=b.site;var A=q.site;if(t!==A){q=k.x;var y=k.y,E=t.x-q,C=t.y-y;t=A.x-q;A=A.y-y;var F=2*(E*A-C*t);if(!(F>=-Ag)){var L=E*E+C*C,O=t*t+A*A;C=(A*L-C*O)/F;E=(E*O-t*L)/F;A=E+y;y=oh.pop()||new pc;y.arc=b;y.site=k;y.x=C+q;y.y=A+Math.sqrt(C*C+E*E);y.cy=A;b.circle=y;b=null;for(k=Ue._;k;)if(y.y<k.y||y.y===k.y&&y.x<=k.x){if(!k.L){b=k.P;break}k=k.L}else{if(!k.R){b=k;break}k=k.R}Ue.insert(b,y);b||(Bg=y)}}}}function Wb(b){var k=b.circle;k&&(k.P||(Bg=k.N),Ue.remove(k),oh.push(k),ad(k),b.circle=null)}function Vb(b,
k){var q=b.b;if(q)return!0;var t,A=b.a;q=k[0][0];var y=k[1][0],E=k[0][1];k=k[1][1];var C=b.l,F=b.r,L=C.x;C=C.y;var O=F.x;F=F.y;var V=(L+O)/2;if(F===C){if(q>V||V>=y)return;if(L>O){if(A){if(A.y>=k)return}else A={x:V,y:E};q={x:V,y:k}}else{if(A){if(A.y<E)return}else A={x:V,y:k};q={x:V,y:E}}}else if(t=(L-O)/(F-C),V=(C+F)/2-t*V,-1>t||1<t)if(L>O){if(A){if(A.y>=k)return}else A={x:(E-V)/t,y:E};q={x:(k-V)/t,y:k}}else{if(A){if(A.y<E)return}else A={x:(k-V)/t,y:k};q={x:(E-V)/t,y:E}}else if(F>C){if(A){if(A.x>=
y)return}else A={x:q,y:t*q+V};q={x:y,y:t*y+V}}else{if(A){if(A.x<q)return}else A={x:y,y:t*y+V};q={x:q,y:t*q+V}}return b.a=A,b.b=q,!0}function Fc(b,k){this.l=b;this.r=k;this.a=this.b=null}function yb(b,k,q,t){var A=new Fc(b,k);return Ae.push(A),q&&ac(A,b,k,q),t&&ac(A,k,b,t),ge[b.i].edges.push(new Ub(A,b,k)),ge[k.i].edges.push(new Ub(A,k,b)),A}function ac(b,k,q,t){b.a||b.b?b.l===q?b.b=t:b.a=t:(b.a=t,b.l=k,b.r=q)}function Ub(b,k,q){var t=b.a,A=b.b;this.edge=b;this.site=k;this.angle=q?Math.atan2(q.y-k.y,
q.x-k.x):b.l===k?Math.atan2(A.x-t.x,t.y-A.y):Math.atan2(t.x-A.x,A.y-t.y)}function Lb(){this._=null}function ad(b){b.U=b.C=b.L=b.R=b.P=b.N=null}function qc(b,k){var q=k.R,t=k.U;t?t.L===k?t.L=q:t.R=q:b._=q;q.U=t;k.U=q;k.R=q.L;k.R&&(k.R.U=k);q.L=k}function cc(b,k){var q=k.L,t=k.U;t?t.L===k?t.L=q:t.R=q:b._=q;q.U=t;k.U=q;k.L=q.R;k.L&&(k.L.U=k);q.R=k}function Qc(b){for(;b.L;)b=b.L;return b}function Kc(b,k){var q,t,A=b.sort(xc).pop();Ae=[];ge=Array(b.length);ze=new Lb;for(Ue=new Lb;;)if(t=Bg,A&&(!t||A.y<
t.y||A.y===t.y&&A.x<t.x)){if(A.x!==q||A.y!==C){ge[A.i]=new Pb(A);var y=void 0,E=void 0;var C=q=void 0;for(var F=A,L=F.x,O=F.y,V=ze._;V;)if(E=Qb(V,O)-L,E>Ya)V=V.L;else{var X=V;var Z=O;var da=X.N;da?Z=Qb(da,Z):(X=X.site,Z=X.y===Z?X.x:1/0);if(y=L-Z,!(y>Ya)){E>-Ya?(C=V.P,q=V):y>-Ya?(C=V,q=V.N):C=q=V;break}if(!V.R){C=V;break}V=V.R}y=xb(F);if(ze.insert(C,y),C||q)if(C===q)Wb(C),q=xb(C.site),ze.insert(y,q),y.edge=q.edge=yb(C.site,y.site),Kb(C),Kb(q);else if(q){Wb(C);Wb(q);E=C.site;O=E.x;V=E.y;Z=F.x-O;X=F.y-
V;L=q.site;da=L.x-O;var pa=L.y-V,ka=2*(Z*pa-X*da),na=Z*Z+X*X,oa=da*da+pa*pa;O={x:(pa*na-X*oa)/ka+O,y:(Z*oa-da*na)/ka+V};ac(q.edge,E,L,O);y.edge=yb(E,F,null,O);q.edge=yb(F,L,null,O);Kb(C);Kb(q)}else y.edge=yb(C.site,y.site);q=A.x;C=A.y}A=b.pop()}else{if(!t)break;L=t.arc;F=L.circle;E=F.x;O=F.cy;F={x:E,y:O};Z=L.P;V=L.N;y=[L];Jb(L);for(L=Z;L.circle&&ob(E-L.circle.x)<Ya&&ob(O-L.circle.cy)<Ya;)Z=L.P,y.unshift(L),Jb(L),L=Z;y.unshift(L);Wb(L);for(Z=V;Z.circle&&ob(E-Z.circle.x)<Ya&&ob(O-Z.circle.cy)<Ya;)V=
Z.N,y.push(Z),Jb(Z),Z=V;y.push(Z);Wb(Z);O=y.length;for(E=1;O>E;++E)Z=y[E],L=y[E-1],ac(Z.edge,L.site,Z.site,F);L=y[0];Z=y[O-1];Z.edge=yb(L.site,Z.site,null,F);Kb(L);Kb(Z)}if(k){t=Ae;A=Me(k[0][0],k[0][1],k[1][0],k[1][1]);for(q=t.length;q--;)b=t[q],(!Vb(b,k)||!A(b)||ob(b.a.x-b.b.x)<Ya&&ob(b.a.y-b.b.y)<Ya)&&(b.a=b.b=null,t.splice(q,1));var ia;b=k[0][0];t=k[1][0];A=k[0][1];F=k[1][1];y=ge;for(E=y.length;E--;)if(ia=y[E],ia&&ia.prepare())for(q=ia.edges,C=q.length,k=0;C>k;)if(pa=q[k].end(),X=pa.x,da=pa.y,
L=q[++k%C].start(),Z=L.x,ka=L.y,ob(X-Z)>Ya||ob(da-ka)>Ya)L=q,O=L.splice,V=k,Z=ob(X-b)<Ya&&F-da>Ya?{x:b,y:ob(Z-b)<Ya?ka:F}:ob(da-F)<Ya&&t-X>Ya?{x:ob(ka-F)<Ya?Z:t,y:F}:ob(X-t)<Ya&&da-A>Ya?{x:t,y:ob(Z-t)<Ya?ka:A}:ob(da-A)<Ya&&X-b>Ya?{x:ob(ka-A)<Ya?Z:b,y:A}:null,X=new Fc(ia.site,null),Z=(X.a=pa,X.b=Z,Ae.push(X),X),O.call(L,V,0,new Ub(Z,ia.site,null)),++C}ia={cells:ge,edges:Ae};return ze=Ue=Ae=ge=null,ia}function xc(b,k){return k.y-b.y||k.x-b.x}function Ge(b){return b.x}function fg(b){return b.y}function $c(){return{leaf:!0,
nodes:[],point:null,x:null,y:null}}function Jd(b,k,q,t,A,y){if(!b(k,q,t,A,y)){var E=.5*(q+A),C=.5*(t+y);k=k.nodes;k[0]&&Jd(b,k[0],q,t,E,C);k[1]&&Jd(b,k[1],E,t,A,C);k[2]&&Jd(b,k[2],q,C,E,y);k[3]&&Jd(b,k[3],E,C,A,y)}}function vd(b,k,q,t,A,y,E){var C,F=1/0;return function pa(O,V,X,Z,da){if(!(V>y||X>E||t>Z||A>da)){if(ka=O.point){var ka,na=k-O.x,oa=q-O.y;na=na*na+oa*oa;F>na&&(na=Math.sqrt(F=na),t=k-na,A=q-na,y=k+na,E=q+na,C=ka)}ka=O.nodes;na=.5*(V+Z);oa=.5*(X+da);for(var ia=(q>=oa)<<1|k>=na,va=ia+4;va>
ia;++ia)if(O=ka[3&ia])switch(3&ia){case 0:pa(O,V,X,na,oa);break;case 1:pa(O,na,X,Z,oa);break;case 2:pa(O,V,oa,na,da);break;case 3:pa(O,na,oa,Z,da)}}}(b,t,A,y,E),C}function ne(b,k){b=aa.rgb(b);k=aa.rgb(k);var q=b.r,t=b.g,A=b.b,y=k.r-q,E=k.g-t,C=k.b-A;return function(F){return"#"+gb(Math.round(q+y*F))+gb(Math.round(t+E*F))+gb(Math.round(A+C*F))}}function He(b,k){var q,t={},A={};for(q in b)q in k?t[q]=wd(b[q],k[q]):A[q]=b[q];for(q in k)q in b||(A[q]=k[q]);return function(y){for(q in t)A[q]=t[q](y);return A}}
function Rc(b,k){return b=+b,k=+k,function(q){return b*(1-q)+k*q}}function Vd(b,k){var q,t,A,y=Cg.lastIndex=Dg.lastIndex=0,E=-1,C=[],F=[];b+="";for(k+="";(q=Cg.exec(b))&&(t=Dg.exec(k));)(A=t.index)>y&&(A=k.slice(y,A),C[E]?C[E]+=A:C[++E]=A),(q=q[0])===(t=t[0])?C[E]?C[E]+=t:C[++E]=t:(C[++E]=null,F.push({i:E,x:Rc(q,t)})),y=Dg.lastIndex;return y<k.length&&(A=k.slice(y),C[E]?C[E]+=A:C[++E]=A),2>C.length?F[0]?(k=F[0].x,function(L){return k(L)+""}):function(){return k}:(k=F.length,function(L){for(var O,
V=0;k>V;++V)C[(O=F[V]).i]=O.x(L);return C.join("")})}function wd(b,k){for(var q,t=aa.interpolators.length;0<=--t&&!(q=aa.interpolators[t](b,k)););return q}function oe(b,k){var q,t=[],A=[],y=b.length,E=k.length,C=Math.min(b.length,k.length);for(q=0;C>q;++q)t.push(wd(b[q],k[q]));for(;y>q;++q)A[q]=b[q];for(;E>q;++q)A[q]=k[q];return function(F){for(q=0;C>q;++q)A[q]=t[q](F);return A}}function gg(b){return function(k){return 0>=k?0:1<=k?1:b(k)}}function $e(b){return function(k){return 1-b(1-k)}}function af(b){return function(k){return.5*
(.5>k?b(2*k):2-b(2-2*k))}}function pe(b){return b*b}function hg(b){return b*b*b}function ig(b){if(0>=b)return 0;if(1<=b)return 1;var k=b*b,q=k*b;return 4*(.5>b?q:3*(b-k)+q-.75)}function Wd(b){return 1-Math.cos(b*Zb)}function dg(b){return Math.pow(2,10*(b-1))}function Fe(b){return 1-Math.sqrt(1-b*b)}function eg(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375}function bd(b,k){return k-=b,function(q){return Math.round(b+
k*q)}}function cd(b){var k=[b.a,b.b],q=[b.c,b.d],t=Tb(k),A=k[0]*q[0]+k[1]*q[1];var y=-A;y=(q[0]+=y*k[0],q[1]+=y*k[1],q);y=Tb(y)||0;k[0]*q[1]<q[0]*k[1]&&(k[0]*=-1,k[1]*=-1,t*=-1,A*=-1);this.rotate=(t?Math.atan2(k[1],k[0]):Math.atan2(-q[0],q[1]))*Rb;this.translate=[b.e,b.f];this.scale=[t,y];this.skew=y?Math.atan2(A,y)*Rb:0}function Tb(b){var k=Math.sqrt(b[0]*b[0]+b[1]*b[1]);return k&&(b[0]/=k,b[1]/=k),k}function bf(b,k){var q,t=[],A=[],y=aa.transform(b),E=aa.transform(k);k=y.translate;b=E.translate;
var C=y.rotate,F=E.rotate,L=y.skew,O=E.skew;y=y.scale;E=E.scale;return k[0]!=b[0]||k[1]!=b[1]?(t.push("translate(",null,",",null,")"),A.push({i:1,x:Rc(k[0],b[0])},{i:3,x:Rc(k[1],b[1])})):t.push(b[0]||b[1]?"translate("+b+")":""),C!=F?(180<C-F?F+=360:180<F-C&&(C+=360),A.push({i:t.push(t.pop()+"rotate(",null,")")-2,x:Rc(C,F)})):F&&t.push(t.pop()+"rotate("+F+")"),L!=O?A.push({i:t.push(t.pop()+"skewX(",null,")")-2,x:Rc(L,O)}):O&&t.push(t.pop()+"skewX("+O+")"),y[0]!=E[0]||y[1]!=E[1]?(q=t.push(t.pop()+"scale(",
null,",",null,")"),A.push({i:q-4,x:Rc(y[0],E[0])},{i:q-2,x:Rc(y[1],E[1])})):(1!=E[0]||1!=E[1])&&t.push(t.pop()+"scale("+E+")"),q=A.length,function(V){for(var X,Z=-1;++Z<q;)t[(X=A[Z]).i]=X.x(V);return t.join("")}}function ud(b,k){return k=(k-=b=+b)||1/k,function(q){return(q-b)/k}}function Ie(b,k){return k=(k-=b=+b)||1/k,function(q){return Math.max(0,Math.min(1,(q-b)/k))}}function Bb(b){for(var k=[],q=b.parent;null!=q;)k.push(b),b=q,q=q.parent;return k.push(b),k}function le(b){b.fixed|=2}function ea(b){b.fixed&=
-7}function sa(b){b.fixed|=4;b.px=b.x;b.py=b.y}function ua(b){b.fixed&=-5}function ya(b,k,q){var t=0,A=0;if(b.charge=0,!b.leaf)for(var y,E=b.nodes,C=E.length,F=-1;++F<C;)y=E[F],null!=y&&(ya(y,k,q),b.charge+=y.charge,t+=y.charge*y.cx,A+=y.charge*y.cy);b.point&&(b.leaf||(b.point.x+=Math.random()-.5,b.point.y+=Math.random()-.5),k*=q[b.point.index],b.charge+=b.pointCharge=k,t+=k*b.point.x,A+=k*b.point.y);b.cx=t/b.charge;b.cy=A/b.charge}function Ka(b,k){return aa.rebind(b,k,"sort","children","value"),
b.nodes=b,b.links=vb,b}function Ma(b,k){for(var q=[b];null!=(b=q.pop());)if(k(b),(A=b.children)&&(t=A.length))for(var t,A;0<=--t;)q.push(A[t])}function Ua(b,k){for(var q=[b],t=[];null!=(b=q.pop());)if(t.push(b),(y=b.children)&&(A=y.length)){var A,y;for(b=-1;++b<A;)q.push(y[b])}for(;null!=(b=t.pop());)k(b)}function fb(b){return b.children}function bb(b){return b.value}function tb(b,k){return k.value-b.value}function vb(b){return aa.merge(b.map(function(k){return(k.children||[]).map(function(q){return{source:k,
target:q}})}))}function Ab(b){return b.x}function bc(b){return b.y}function Oc(b,k,q){b.y0=k;b.y=q}function Hb(b){return aa.range(b.length)}function Cb(b){var k=-1;b=b[0].length;for(var q=[];++k<b;)q[k]=0;return q}function ic(b){for(var k,q=1,t=0,A=b[0][1],y=b.length;y>q;++q)(k=b[q][1])>A&&(t=q,A=k);return t}function jc(b){return b.reduce(me,0)}function me(b,k){return b+k[1]}function Jc(b,k){return Ze(b,Math.ceil(Math.log(k.length)/Math.LN2+1))}function Ze(b,k){var q=-1,t=+b[0];b=(b[1]-t)/k;for(var A=
[];++q<=k;)A[q]=b*q+t;return A}function qi(b){return[aa.min(b),aa.max(b)]}function ri(b,k){return b.value-k.value}function Eg(b,k){var q=b._pack_next;b._pack_next=k;k._pack_prev=b;k._pack_next=q;q._pack_prev=k}function ph(b,k){b._pack_next=k;k._pack_prev=b}function qh(b,k){var q=k.x-b.x,t=k.y-b.y;b=b.r+k.r;return.999*b*b>q*q+t*t}function rh(b){function k(na){L=Math.min(na.x-na.r,L);O=Math.max(na.x+na.r,O);V=Math.min(na.y-na.r,V);X=Math.max(na.y+na.r,X)}if((q=b.children)&&(F=q.length)){var q,t,A,y,
E,C,F,L=1/0,O=-1/0,V=1/0,X=-1/0;if(q.forEach(si),t=q[0],t.x=-t.r,t.y=0,k(t),1<F&&(A=q[1],A.x=A.r,A.y=0,k(A),2<F)){var Z=q[2];sh(t,A,Z);k(Z);Eg(t,Z);t._pack_prev=Z;Eg(Z,A);A=t._pack_next;for(y=3;F>y;y++){sh(t,A,Z=q[y]);var da=0,pa=1,ka=1;for(E=A._pack_next;E!==A;E=E._pack_next,pa++)if(qh(E,Z)){da=1;break}if(1==da)for(C=t._pack_prev;C!==E._pack_prev&&!qh(C,Z);C=C._pack_prev,ka++);da?(ka>pa||pa==ka&&A.r<t.r?ph(t,A=E):ph(t=C,A),y--):(Eg(t,Z),A=Z,k(Z))}}t=(L+O)/2;A=(V+X)/2;for(y=E=0;F>y;y++)Z=q[y],Z.x-=
t,Z.y-=A,E=Math.max(E,Z.r+Math.sqrt(Z.x*Z.x+Z.y*Z.y));b.r=E;q.forEach(ti)}}function si(b){b._pack_next=b._pack_prev=b}function ti(b){delete b._pack_next;delete b._pack_prev}function th(b,k,q,t){var A=b.children;if(b.x=k+=t*b.x,b.y=q+=t*b.y,b.r*=t,A){b=-1;for(var y=A.length;++b<y;)th(A[b],k,q,t)}}function sh(b,k,q){var t=b.r+q.r,A=k.x-b.x,y=k.y-b.y;if(t&&(A||y)){var E=k.r+q.r,C=A*A+y*y;E*=E;t*=t;k=.5+(t-E)/(2*C);E=Math.sqrt(Math.max(0,2*E*(t+C)-(t-=C)*t-E*E))/(2*C);q.x=b.x+k*A+E*y;q.y=b.y+k*y-E*A}else q.x=
b.x+t,q.y=b.y}function uh(b,k){return b.parent==k.parent?1:2}function Fg(b){var k=b.children;return k.length?k[0]:b.t}function Gg(b){var k,q=b.children;return(k=q.length)?q[k-1]:b.t}function ui(b){return 1+aa.max(b,function(k){return k.y})}function vi(b){return b.reduce(function(k,q){return k+q.x},0)/b.length}function vh(b){var k=b.children;return k&&k.length?vh(k[0]):b}function wh(b){var k,q=b.children;return q&&(k=q.length)?wh(q[k-1]):b}function Hg(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy}}function xh(b,
k){var q=b.x+k[3],t=b.y+k[0],A=b.dx-k[1]-k[3];b=b.dy-k[0]-k[2];return 0>A&&(q+=A/2,A=0),0>b&&(t+=b/2,b=0),{x:q,y:t,dx:A,dy:b}}function Be(b){var k=b[0];b=b[b.length-1];return b>k?[k,b]:[b,k]}function Bf(b){return b.rangeExtent?b.rangeExtent():Be(b.range())}function wi(b,k,q,t){var A=q(b[0],b[1]),y=t(k[0],k[1]);return function(E){return y(A(E))}}function Cf(b,k){var q,t=0,A=b.length-1,y=b[t],E=b[A];return y>E&&(q=t,t=A,A=q,q=y,y=E,E=q),b[t]=k.floor(y),b[A]=k.ceil(E),b}function yh(b){return b?{floor:function(k){return Math.floor(k/
b)*b},ceil:function(k){return Math.ceil(k/b)*b}}:xi}function yi(b,k,q,t){var A=[],y=[],E=0,C=Math.min(b.length,k.length)-1;for(b[C]<b[0]&&(b=b.slice().reverse(),k=k.slice().reverse());++E<=C;)A.push(q(b[E-1],b[E])),y.push(t(k[E-1],k[E]));return function(F){var L=aa.bisect(b,F,1,C)-1;return y[L](A[L](F))}}function zh(b,k,q,t){function A(){var F=2<Math.min(b.length,k.length)?yi:wi,L=t?Ie:ud;return E=F(b,k,L,q),C=F(k,b,L,wd),y}function y(F){return E(F)}var E,C;return y.invert=function(F){return C(F)},
y.domain=function(F){return arguments.length?(b=F.map(Number),A()):b},y.range=function(F){return arguments.length?(k=F,A()):k},y.rangeRound=function(F){return y.range(F).interpolate(bd)},y.clamp=function(F){return arguments.length?(t=F,A()):t},y.interpolate=function(F){return arguments.length?(q=F,A()):q},y.ticks=function(F){return aa.range.apply(aa,Sd(b,F))},y.tickFormat=function(F,L){return Ig(b,F,L)},y.nice=function(F){return Cf(b,yh(Sd(b,F)[2])),A()},y.copy=function(){return zh(b,k,q,t)},A()}
function Jg(b,k){return aa.rebind(b,k,"range","rangeRound","interpolate","clamp")}function Sd(b,k){null==k&&(k=10);b=Be(b);var q=b[1]-b[0],t=Math.pow(10,Math.floor(Math.log(q/k)/Math.LN10));k=k/q*t;return.15>=k?t*=10:.35>=k?t*=5:.75>=k&&(t*=2),b[0]=Math.ceil(b[0]/t)*t,b[1]=Math.floor(b[1]/t)*t+.5*t,b[2]=t,b}function Ig(b,k,q){b=Sd(b,k);if(q){k=ih.exec(q);if(k.shift(),"s"===k[8]){var t=aa.formatPrefix(Math.max(ob(b[0]),ob(b[1])));return k[7]||(k[7]="."+Df(t.scale(b[2]))),k[8]="f",q=aa.format(k.join("")),
function(A){return q(t.scale(A))+t.symbol}}k[7]||(k[7]="."+zi(k[8],b));q=k.join("")}else q=",."+Df(b[2])+"f";return aa.format(q)}function Df(b){return-Math.floor(Math.log(b)/Math.LN10+.01)}function zi(b,k){var q=Df(k[2]);return b in Ai?Math.abs(q-Df(Math.max(ob(k[0]),ob(k[1]))))+ +("e"!==b):q-2*("%"===b)}function Ah(b,k,q,t){function A(C){return(q?Math.log(0>C?0:C):-Math.log(0<C?0:-C))/Math.log(k)}function y(C){return q?Math.pow(k,C):-Math.pow(k,-C)}function E(C){return b(A(C))}return E.invert=function(C){return y(b.invert(C))},
E.domain=function(C){return arguments.length?(q=0<=C[0],b.domain((t=C.map(Number)).map(A)),E):t},E.base=function(C){return arguments.length?(k=+C,b.domain(t.map(A)),E):k},E.nice=function(){var C=Cf(t.map(A),q?Math:Bi);return b.domain(C),t=C.map(y),E},E.ticks=function(){var C=Be(t),F=[],L=C[0];C=C[1];var O=Math.floor(A(L)),V=Math.ceil(A(C)),X=k%1?2:k;if(isFinite(V-O)){if(q){for(;V>O;O++)for(var Z=1;X>Z;Z++)F.push(y(O)*Z);F.push(y(O))}else for(F.push(y(O));O++<V;)for(Z=X-1;0<Z;Z--)F.push(y(O)*Z);for(O=
0;F[O]<L;O++);for(V=F.length;F[V-1]>C;V--);F=F.slice(O,V)}return F},E.tickFormat=function(C,F){if(!arguments.length)return Bh;2>arguments.length?F=Bh:"function"!=typeof F&&(F=aa.format(F));var L,O=Math.max(.1,C/E.ticks().length),V=q?(L=1E-12,Math.ceil):(L=-1E-12,Math.floor);return function(X){return X/y(V(A(X)+L))<=O?F(X):""}},E.copy=function(){return Ah(b.copy(),k,q,t)},Jg(E,b)}function Ch(b,k,q){function t(E){return b(A(E))}var A=Ef(k),y=Ef(1/k);return t.invert=function(E){return y(b.invert(E))},
t.domain=function(E){return arguments.length?(b.domain((q=E.map(Number)).map(A)),t):q},t.ticks=function(E){return aa.range.apply(aa,Sd(q,E))},t.tickFormat=function(E,C){return Ig(q,E,C)},t.nice=function(E){return t.domain(Cf(q,yh(Sd(q,E)[2])))},t.exponent=function(E){return arguments.length?(A=Ef(k=E),y=Ef(1/k),b.domain(q.map(A)),t):k},t.copy=function(){return Ch(b.copy(),k,q)},Jg(t,b)}function Ef(b){return function(k){return 0>k?-Math.pow(-k,b):Math.pow(k,b)}}function Dh(b,k){function q(C){return y[((A.get(C)||
("range"===k.t?A.set(C,b.push(C)):0/0))-1)%y.length]}function t(C,F){return aa.range(b.length).map(function(L){return C+F*L})}var A,y,E;return q.domain=function(C){if(!arguments.length)return b;b=[];A=new e;for(var F,L=-1,O=C.length;++L<O;)A.has(F=C[L])||A.set(F,b.push(F));return q[k.t].apply(q,k.a)},q.range=function(C){return arguments.length?(y=C,E=0,k={t:"range",a:arguments},q):y},q.rangePoints=function(C,F){2>arguments.length&&(F=0);var L=C[0],O=C[1];O=2>b.length?(L=(L+O)/2,0):(O-L)/(b.length-
1+F);return y=t(L+O*F/2,O),E=0,k={t:"rangePoints",a:arguments},q},q.rangeRoundPoints=function(C,F){2>arguments.length&&(F=0);var L=C[0],O=C[1],V=2>b.length?(L=O=Math.round((L+O)/2),0):(O-L)/(b.length-1+F)|0;return y=t(L+Math.round(V*F/2+(O-L-(b.length-1+F)*V)/2),V),E=0,k={t:"rangeRoundPoints",a:arguments},q},q.rangeBands=function(C,F,L){2>arguments.length&&(F=0);3>arguments.length&&(L=F);var O=C[1]<C[0],V=C[O-0],X=(C[1-O]-V)/(b.length-F+2*L);return y=t(V+X*L,X),O&&y.reverse(),E=X*(1-F),k={t:"rangeBands",
a:arguments},q},q.rangeRoundBands=function(C,F,L){2>arguments.length&&(F=0);3>arguments.length&&(L=F);var O=C[1]<C[0],V=C[O-0],X=C[1-O],Z=Math.floor((X-V)/(b.length-F+2*L));return y=t(V+Math.round((X-V-(b.length-F)*Z)/2),Z),O&&y.reverse(),E=Math.round(Z*(1-F)),k={t:"rangeRoundBands",a:arguments},q},q.rangeBand=function(){return E},q.rangeExtent=function(){return Be(k.a[0])},q.copy=function(){return Dh(b,k)},q.domain(b)}function Eh(b,k){function q(){var y=0,E=k.length;for(A=[];++y<E;)A[y-1]=aa.quantile(b,
y/E);return t}function t(y){return isNaN(y=+y)?void 0:k[aa.bisect(A,y)]}var A;return t.domain=function(y){return arguments.length?(b=y.map(W).filter(a).sort(N),q()):b},t.range=function(y){return arguments.length?(k=y,q()):k},t.quantiles=function(){return A},t.invertExtent=function(y){return y=k.indexOf(y),0>y?[0/0,0/0]:[0<y?A[y-1]:b[0],y<A.length?A[y]:b[b.length-1]]},t.copy=function(){return Eh(b,k)},q()}function Fh(b,k,q){function t(C){return q[Math.max(0,Math.min(E,Math.floor(y*(C-b))))]}function A(){return y=
q.length/(k-b),E=q.length-1,t}var y,E;return t.domain=function(C){return arguments.length?(b=+C[0],k=+C[C.length-1],A()):[b,k]},t.range=function(C){return arguments.length?(q=C,A()):q},t.invertExtent=function(C){return C=q.indexOf(C),C=0>C?0/0:C/y+b,[C,C+1/y]},t.copy=function(){return Fh(b,k,q)},A()}function Gh(b,k){function q(t){return t>=t?k[aa.bisect(b,t)]:void 0}return q.domain=function(t){return arguments.length?(b=t,q):b},q.range=function(t){return arguments.length?(k=t,q):k},q.invertExtent=
function(t){return t=k.indexOf(t),[b[t-1],b[t]]},q.copy=function(){return Gh(b,k)},q}function Hh(b){function k(q){return+q}return k.invert=k,k.domain=k.range=function(q){return arguments.length?(b=q.map(k),k):b},k.ticks=function(q){return aa.range.apply(aa,Sd(b,q))},k.tickFormat=function(q,t){return Ig(b,q,t)},k.copy=function(){return Hh(b)},k}function Ci(){return 0}function Di(b){return b.innerRadius}function Ei(b){return b.outerRadius}function Ih(b){return b.startAngle}function Jh(b){return b.endAngle}
function Fi(b){return b&&b.padAngle}function Ff(b,k,q,t){return 0<(b-q)*k-(k-t)*b?0:1}function Gf(b,k,q,t,A){var y=b[0]-k[0],E=b[1]-k[1];A=(A?t:-t)/Math.sqrt(y*y+E*E);E*=A;y*=-A;var C=b[0]+E,F=b[1]+y,L=k[0]+E,O=k[1]+y;b=(C+L)/2;k=(F+O)/2;A=L-C;var V=O-F,X=A*A+V*V;t=q-t;O=C*O-L*F;var Z=(0>V?-1:1)*Math.sqrt(t*t*X-O*O);C=(O*V-A*Z)/X;F=(-O*A-V*Z)/X;L=(O*V+A*Z)/X;A=(-O*A+V*Z)/X;V=C-b;X=F-k;b=L-b;k=A-k;return V*V+X*X>b*b+k*k&&(C=L,F=A),[[C-E,F-y],[C*q/t,F*q/t]]}function Kh(b){function k(F){function L(){V.push("M",
y(b(X),C))}for(var O,V=[],X=[],Z=-1,da=F.length,pa=sb(q),ka=sb(t);++Z<da;)A.call(this,O=F[Z],Z)?X.push([+pa.call(this,O,Z),+ka.call(this,O,Z)]):X.length&&(L(),X=[]);return X.length&&L(),V.length?V.join(""):null}var q=mb,t=Gb,A=ed,y=Wc,E=y.key,C=.7;return k.x=function(F){return arguments.length?(q=F,k):q},k.y=function(F){return arguments.length?(t=F,k):t},k.defined=function(F){return arguments.length?(A=F,k):A},k.interpolate=function(F){return arguments.length?(E="function"==typeof F?y=F:(y=Kg.get(F)||
Wc).key,k):E},k.tension=function(F){return arguments.length?(C=F,k):C},k}function Wc(b){return b.join("L")}function Lg(b){for(var k=0,q=b.length,t=b[0],A=[t[0],",",t[1]];++k<q;)A.push("V",(t=b[k])[1],"H",t[0]);return A.join("")}function Mg(b){for(var k=0,q=b.length,t=b[0],A=[t[0],",",t[1]];++k<q;)A.push("H",(t=b[k])[0],"V",t[1]);return A.join("")}function Hf(b,k){if(1>k.length||b.length!=k.length&&b.length!=k.length+2)return Wc(b);var q=b.length!=k.length,t="",A=b[0],y=b[1],E=k[0],C=E,F=1;if(q&&(t+=
"Q"+(y[0]-2*E[0]/3)+","+(y[1]-2*E[1]/3)+","+y[0]+","+y[1],A=b[1],F=2),1<k.length)for(C=k[1],y=b[F],F++,t+="C"+(A[0]+E[0])+","+(A[1]+E[1])+","+(y[0]-C[0])+","+(y[1]-C[1])+","+y[0]+","+y[1],A=2;A<k.length;A++,F++)y=b[F],C=k[A],t+="S"+(y[0]-C[0])+","+(y[1]-C[1])+","+y[0]+","+y[1];q&&(b=b[F],t+="Q"+(y[0]+2*C[0]/3)+","+(y[1]+2*C[1]/3)+","+b[0]+","+b[1]);return t}function Ng(b,k){for(var q=[],t=(1-k)/2,A=b[0],y=b[1],E=1,C=b.length;++E<C;)k=A,A=y,y=b[E],q.push([t*(y[0]-k[0]),t*(y[1]-k[1])]);return q}function Lh(b){if(3>
b.length)return Wc(b);var k=1,q=b.length,t=b[0],A=t[0],y=t[1],E=[A,A,A,(t=b[1])[0]],C=[y,y,y,t[1]];A=[A,",",y,"L",Yc(Td,E),",",Yc(Td,C)];for(b.push(b[q-1]);++k<=q;)t=b[k],E.shift(),E.push(t[0]),C.shift(),C.push(t[1]),Og(A,E,C);return b.pop(),A.push("L",t),A.join("")}function Yc(b,k){return b[0]*k[0]+b[1]*k[1]+b[2]*k[2]+b[3]*k[3]}function Og(b,k,q){b.push("C",Yc(Mh,k),",",Yc(Mh,q),",",Yc(Nh,k),",",Yc(Nh,q),",",Yc(Td,k),",",Yc(Td,q))}function Pg(b,k){return(k[1]-b[1])/(k[0]-b[0])}function Oh(b){for(var k,
q,t,A=-1,y=b.length;++A<y;)k=b[A],q=k[0],t=k[1]-Zb,k[0]=q*Math.cos(t),k[1]=q*Math.sin(t);return b}function Ph(b){function k(X){function Z(){na.push("M",C(b(ia),V),O,L(b(oa.reverse()),V),"Z")}for(var da,pa,ka,na=[],oa=[],ia=[],va=-1,Ha=X.length,ba=sb(q),la=sb(A),ta=q===t?function(){return pa}:sb(t),Ca=A===y?function(){return ka}:sb(y);++va<Ha;)E.call(this,da=X[va],va)?(oa.push([pa=+ba.call(this,da,va),ka=+la.call(this,da,va)]),ia.push([+ta.call(this,da,va),+Ca.call(this,da,va)])):oa.length&&(Z(),oa=
[],ia=[]);return oa.length&&Z(),na.length?na.join(""):null}var q=mb,t=mb,A=0,y=Gb,E=ed,C=Wc,F=C.key,L=C,O="L",V=.7;return k.x=function(X){return arguments.length?(q=t=X,k):t},k.x0=function(X){return arguments.length?(q=X,k):q},k.x1=function(X){return arguments.length?(t=X,k):t},k.y=function(X){return arguments.length?(A=y=X,k):y},k.y0=function(X){return arguments.length?(A=X,k):A},k.y1=function(X){return arguments.length?(y=X,k):y},k.defined=function(X){return arguments.length?(E=X,k):E},k.interpolate=
function(X){return arguments.length?(F="function"==typeof X?C=X:(C=Kg.get(X)||Wc).key,L=C.reverse||C,O=C.closed?"M":"L",k):F},k.tension=function(X){return arguments.length?(V=X,k):V},k}function Gi(b){return b.radius}function Qh(b){return[b.x,b.y]}function Hi(b){return function(){var k=b.apply(this,arguments),q=k[0];k=k[1]-Zb;return[q*Math.cos(k),q*Math.sin(k)]}}function Ii(){return 64}function Ji(){return"circle"}function Rh(b){b=Math.sqrt(b/kb);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+
b+" 0 1,1 0,"+b+"Z"}function Sh(b){return function(){var k,q;(k=this[b])&&(q=k[k.active])&&(--k.count?delete k[k.active]:delete this[b],k.active+=.5,q.event&&q.event.interrupt.call(this,this.__data__,q.index))}}function Ve(b,k,q){return tf(b,gc),b.namespace=k,b.id=q,b}function Qg(b,k,q,t){var A=b.id,y=b.namespace;return wa(b,"function"==typeof q?function(E,C,F){E[y][A].tween.set(k,t(q.call(E,E.__data__,C,F)))}:(q=t(q),function(E){E[y][A].tween.set(k,q)}))}function Ki(b){return null==b&&(b=""),function(){this.textContent=
b}}function Rg(b){return null==b?"__transition__":"__transition_"+b+"__"}function If(b,k,q,t,A){var y=b[q]||(b[q]={active:0,count:0}),E=y[t];if(!E){var C=A.time;E=y[t]={tween:new e,time:C,delay:A.delay,duration:A.duration,ease:A.ease,index:k};A=null;++y.count;aa.timer(function(F){function L(na){if(y.active>t)return V();var oa=y[y.active];oa&&(--y.count,delete y[y.active],oa.event&&oa.event.interrupt.call(b,b.__data__,oa.index));y.active=t;E.event&&E.event.start.call(b,b.__data__,k);E.tween.forEach(function(ia,
va){(va=va.call(b,b.__data__,k))&&ka.push(va)});Z=E.ease;X=E.duration;aa.timer(function(){return pa.c=O(na||1)?ed:O,1},0,C)}function O(na){if(y.active!==t)return 1;na/=X;for(var oa=Z(na),ia=ka.length;0<ia;)ka[--ia].call(b,oa);return 1<=na?(E.event&&E.event.end.call(b,b.__data__,k),V()):void 0}function V(){return--y.count?delete y[t]:delete b[q],1}var X,Z,da=E.delay,pa=Dd,ka=[];return pa.t=da+C,F>=da?L(F-da):void(pa.c=L)},0,C)}}function Li(b,k,q){b.attr("transform",function(t){var A=k(t);return"translate("+
(isFinite(A)?A:q(t))+",0)"})}function Mi(b,k,q){b.attr("transform",function(t){var A=k(t);return"translate(0,"+(isFinite(A)?A:q(t))+")"})}function Sg(b){return b.toISOString()}function Tg(b,k,q){function t(y){return b(y)}function A(y,E){var C=(y[1]-y[0])/E,F=aa.bisect(Jf,C);return F==Jf.length?[k.year,Sd(y.map(function(L){return L/31536E6}),E)[2]]:F?k[C/Jf[F-1]<Jf[F]/C?F-1:F]:[Ni,Sd(y,E)[2]]}return t.invert=function(y){return he(b.invert(y))},t.domain=function(y){return arguments.length?(b.domain(y),
t):b.domain().map(he)},t.nice=function(y,E){function C(O){return!isNaN(O)&&!y.range(O,he(+O+1),E).length}var F=t.domain(),L=Be(F);L=null==y?A(L,10):"number"==typeof y&&A(L,y);return L&&(y=L[0],E=L[1]),t.domain(Cf(F,1<E?{floor:function(O){for(;C(O=y.floor(O));)O=he(O-1);return O},ceil:function(O){for(;C(O=y.ceil(O));)O=he(+O+1);return O}}:y))},t.ticks=function(y,E){var C=Be(t.domain()),F=null==y?A(C,10):"number"==typeof y?A(C,y):!y.range&&[{range:y},E];return F&&(y=F[0],E=F[1]),y.range(C[0],he(+C[1]+
1),1>E?1:E)},t.tickFormat=function(){return q},t.copy=function(){return Tg(b.copy(),k,q)},Jg(t,b)}function he(b){return new Date(b)}function Oi(b){return JSON.parse(b.responseText)}function Pi(b){var k=Ec.createRange();return k.selectNode(Ec.body),k.createContextualFragment(b.responseText)}var aa={version:"3.5.5"},Th=[].slice,Nd=function(b){return Th.call(b)},Ec=this.document;if(Ec)try{Nd(Ec.documentElement.childNodes)[0].nodeType}catch(b){Nd=function(k){for(var q=k.length,t=Array(q);q--;)t[q]=k[q];
return t}}if(Date.now||(Date.now=function(){return+new Date}),Ec)try{Ec.createElement("DIV").style.setProperty("opacity",0,"")}catch(b){var Kf=this.Element.prototype,Qi=Kf.setAttribute,Ri=Kf.setAttributeNS,Uh=this.CSSStyleDeclaration.prototype,Si=Uh.setProperty;Kf.setAttribute=function(k,q){Qi.call(this,k,q+"")};Kf.setAttributeNS=function(k,q,t){Ri.call(this,k,q,t+"")};Uh.setProperty=function(k,q,t){Si.call(this,k,q+"",t)}}aa.ascending=N;aa.descending=function(b,k){return b>k?-1:k>b?1:k>=b?0:0/0};
aa.min=function(b,k){var q,t=-1,A=b.length;if(1===arguments.length){for(;++t<A;)if(null!=(q=b[t])&&q>=q){var y=q;break}for(;++t<A;)null!=(q=b[t])&&y>q&&(y=q)}else{for(;++t<A;)if(null!=(q=k.call(b,b[t],t))&&q>=q){y=q;break}for(;++t<A;)null!=(q=k.call(b,b[t],t))&&y>q&&(y=q)}return y};aa.max=function(b,k){var q,t=-1,A=b.length;if(1===arguments.length){for(;++t<A;)if(null!=(q=b[t])&&q>=q){var y=q;break}for(;++t<A;)null!=(q=b[t])&&q>y&&(y=q)}else{for(;++t<A;)if(null!=(q=k.call(b,b[t],t))&&q>=q){y=q;break}for(;++t<
A;)null!=(q=k.call(b,b[t],t))&&q>y&&(y=q)}return y};aa.extent=function(b,k){var q,t,A=-1,y=b.length;if(1===arguments.length){for(;++A<y;)if(null!=(q=b[A])&&q>=q){var E=t=q;break}for(;++A<y;)null!=(q=b[A])&&(E>q&&(E=q),q>t&&(t=q))}else{for(;++A<y;)if(null!=(q=k.call(b,b[A],A))&&q>=q){E=t=q;break}for(;++A<y;)null!=(q=k.call(b,b[A],A))&&(E>q&&(E=q),q>t&&(t=q))}return[E,t]};aa.sum=function(b,k){var q,t=0,A=b.length,y=-1;if(1===arguments.length)for(;++y<A;)!isNaN(q=+b[y])&&(t+=q);else for(;++y<A;)!isNaN(q=
+k.call(b,b[y],y))&&(t+=q);return t};aa.mean=function(b,k){var q,t=0,A=b.length,y=-1,E=A;if(1===arguments.length)for(;++y<A;)isNaN(q=W(b[y]))?--E:t+=q;else for(;++y<A;)isNaN(q=W(k.call(b,b[y],y)))?--E:t+=q;return E?t/E:void 0};aa.quantile=function(b,k){var q=(b.length-1)*k+1;k=Math.floor(q);var t=+b[k-1];return(q-=k)?t+q*(b[k]-t):t};aa.median=function(b,k){var q,t=[],A=b.length,y=-1;if(1===arguments.length)for(;++y<A;)!isNaN(q=W(b[y]))&&t.push(q);else for(;++y<A;)!isNaN(q=W(k.call(b,b[y],y)))&&t.push(q);
return t.length?aa.quantile(t.sort(N),.5):void 0};aa.variance=function(b,k){var q,t,A=b.length,y=0,E=0,C=-1,F=0;if(1===arguments.length)for(;++C<A;)!isNaN(q=W(b[C]))&&(t=q-y,y+=t/++F,E+=t*(q-y));else for(;++C<A;)!isNaN(q=W(k.call(b,b[C],C)))&&(t=q-y,y+=t/++F,E+=t*(q-y));return 1<F?E/(F-1):void 0};aa.deviation=function(){var b=aa.variance.apply(this,arguments);return b?Math.sqrt(b):b};var Vh=f(N);aa.bisectLeft=Vh.left;aa.bisect=aa.bisectRight=Vh.right;aa.bisector=function(b){return f(1===b.length?
function(k,q){return N(b(k),q)}:b)};aa.shuffle=function(b,k,q){3>(y=arguments.length)&&(q=b.length,2>y&&(k=0));for(var t,A,y=q-k;y;)A=Math.random()*y--|0,t=b[y+k],b[y+k]=b[A+k],b[A+k]=t;return b};aa.permute=function(b,k){for(var q=k.length,t=Array(q);q--;)t[q]=b[k[q]];return t};aa.pairs=function(b){for(var k=0,q=b.length-1,t=b[0],A=Array(0>q?0:q);q>k;)A[k]=[t,t=b[++k]];return A};aa.zip=function(){if(!(t=arguments.length))return[];for(var b=-1,k=aa.min(arguments,g),q=Array(k);++b<k;)for(var t,A=-1,
y=q[b]=Array(t);++A<t;)y[A]=arguments[A][b];return q};aa.transpose=function(b){return aa.zip.apply(aa,b)};aa.keys=function(b){var k=[],q;for(q in b)k.push(q);return k};aa.values=function(b){var k=[],q;for(q in b)k.push(b[q]);return k};aa.entries=function(b){var k=[],q;for(q in b)k.push({key:q,value:b[q]});return k};aa.merge=function(b){var k,q=b.length;var t=-1;for(var A=0;++t<q;)A+=b[t].length;for(k=Array(A);0<=--q;){var y=b[q];for(t=y.length;0<=--t;)k[--A]=y[t]}return k};var ob=Math.abs;aa.range=
function(b,k,q){if(3>arguments.length&&(q=1,2>arguments.length&&(k=b,b=0)),(k-b)/q===1/0)throw Error("infinite range");var t=[],A;var y=ob(q);for(A=1;y*A%1;)A*=10;var E=-1;if(b*=A,k*=A,q*=A,0>q)for(;(y=b+q*++E)>k;)t.push(y/A);else for(;(y=b+q*++E)<k;)t.push(y/A);return t};aa.map=function(b,k){var q=new e;if(b instanceof e)b.forEach(function(E,C){q.set(E,C)});else if(Array.isArray(b)){var t,A=-1,y=b.length;if(1===arguments.length)for(;++A<y;)q.set(A,b[A]);else for(;++A<y;)q.set(k.call(b,t=b[A],A),
t)}else for(A in b)q.set(A,b[A]);return q};var ni="__proto__",tg="\x00";h(e,{has:u,get:function(b){return this._[l(b)]},set:function(b,k){return this._[l(b)]=k},remove:c,keys:m,values:function(){var b=[],k;for(k in this._)b.push(this._[k]);return b},entries:function(){var b=[],k;for(k in this._)b.push({key:p(k),value:this._[k]});return b},size:n,empty:w,forEach:function(b){for(var k in this._)b.call(this,p(k),this._[k])}});aa.nest=function(){function b(C,F,L){if(L>=y.length)return t?t.call(A,F):q?
F.sort(q):F;for(var O,V,X,Z,da=-1,pa=F.length,ka=y[L++],na=new e;++da<pa;)(Z=na.get(O=ka(V=F[da])))?Z.push(V):na.set(O,[V]);return C?(V=C(),X=function(oa,ia){V.set(oa,b(C,ia,L))}):(V={},X=function(oa,ia){V[oa]=b(C,ia,L)}),na.forEach(X),V}function k(C,F){if(F>=y.length)return C;var L=[],O=E[F++];return C.forEach(function(V,X){L.push({key:V,values:k(X,F)})}),O?L.sort(function(V,X){return O(V.key,X.key)}):L}var q,t,A={},y=[],E=[];return A.map=function(C,F){return b(F,C,0)},A.entries=function(C){return k(b(aa.map,
C,0),0)},A.key=function(C){return y.push(C),A},A.sortKeys=function(C){return E[y.length-1]=C,A},A.sortValues=function(C){return q=C,A},A.rollup=function(C){return t=C,A},A};aa.set=function(b){var k=new z;if(b)for(var q=0,t=b.length;t>q;++q)k.add(b[q]);return k};h(z,{has:u,add:function(b){return this._[l(b+="")]=!0,b},remove:c,values:m,size:n,empty:w,forEach:function(b){for(var k in this._)b.call(this,p(k))}});aa.behavior={};aa.rebind=function(b,k){for(var q,t=1,A=arguments.length;++t<A;)b[q=arguments[t]]=
J(b,k,k[q]);return b};var dh="webkit ms moz Moz o O".split(" ");aa.dispatch=function(){for(var b=new D,k=-1,q=arguments.length;++k<q;)b[arguments[k]]=M(b);return b};D.prototype.on=function(b,k){var q=b.indexOf("."),t="";if(0<=q&&(t=b.slice(q+1),b=b.slice(0,q)),b)return 2>arguments.length?this[b].on(t):this[b].on(t,k);if(2===arguments.length){if(null==k)for(b in this)this.hasOwnProperty(b)&&this[b].on(t,null);return this}};aa.event=null;aa.requote=function(b){return b.replace(Ti,"\\$&")};var Ti=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,
tf={}.__proto__?function(b,k){b.__proto__=k}:function(b,k){for(var q in k)b[q]=k[q]},ug=function(b,k){return k.querySelector(b)},vg=function(b,k){return k.querySelectorAll(b)},wg=function(b,k){var q=b.matches||b[v(b,"matchesSelector")];return(wg=function(t,A){return q.call(t,A)})(b,k)};"function"==typeof Sizzle&&(ug=function(b,k){return Sizzle(b,k)[0]||null},vg=Sizzle,wg=Sizzle.matchesSelector);aa.selection=function(){return aa.select(Ec.documentElement)};var Db=aa.selection.prototype=[];Db.select=
function(b){var k,q,t,A,y=[];b=R(b);for(var E=-1,C=this.length;++E<C;){y.push(k=[]);k.parentNode=(t=this[E]).parentNode;for(var F=-1,L=t.length;++F<L;)(A=t[F])?(k.push(q=b.call(A,A.__data__,F,E)),q&&"__data__"in A&&(q.__data__=A.__data__)):k.push(null)}return S(y)};Db.selectAll=function(b){var k,q,t=[];b=ca(b);for(var A=-1,y=this.length;++A<y;)for(var E=this[A],C=-1,F=E.length;++C<F;)(q=E[C])&&(t.push(k=Nd(b.call(q,q.__data__,C,A))),k.parentNode=q);return S(t)};var Ug={svg:"http://www.w3.org/2000/svg",
xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};aa.ns={prefix:Ug,qualify:function(b){var k=b.indexOf(":"),q=b;return 0<=k&&(q=b.slice(0,k),b=b.slice(k+1)),Ug.hasOwnProperty(q)?{space:Ug[q],local:b}:b}};Db.attr=function(b,k){if(2>arguments.length){if("string"==typeof b){var q=this.node();return b=aa.ns.qualify(b),b.local?q.getAttributeNS(b.space,b.local):q.getAttribute(b)}for(k in b)this.each(ha(k,
b[k]));return this}return this.each(ha(b,k))};Db.classed=function(b,k){if(2>arguments.length){if("string"==typeof b){var q=this.node(),t=(b=(b+"").trim().split(/^|\s+/)).length,A=-1;if(k=q.classList)for(;++A<t;){if(!k.contains(b[A]))return!1}else for(k=q.getAttribute("class");++A<t;)if(!ra(b[A]).test(k))return!1;return!0}for(k in b)this.each(Ia(k,b[k]));return this}return this.each(Ia(b,k))};Db.style=function(b,k,q){var t=arguments.length;if(3>t){if("string"!=typeof b){2>t&&(k="");for(q in b)this.each(ma(q,
b[q],k));return this}if(2>t)return t=this.node(),d(t).getComputedStyle(t,null).getPropertyValue(b);q=""}return this.each(ma(b,k,q))};Db.property=function(b,k){if(2>arguments.length){if("string"==typeof b)return this.node()[b];for(k in b)this.each(Aa(k,b[k]));return this}return this.each(Aa(b,k))};Db.text=function(b){return arguments.length?this.each("function"==typeof b?function(){var k=b.apply(this,arguments);this.textContent=null==k?"":k}:null==b?function(){this.textContent=""}:function(){this.textContent=
b}):this.node().textContent};Db.html=function(b){return arguments.length?this.each("function"==typeof b?function(){var k=b.apply(this,arguments);this.innerHTML=null==k?"":k}:null==b?function(){this.innerHTML=""}:function(){this.innerHTML=b}):this.node().innerHTML};Db.append=function(b){return b=Da(b),this.select(function(){return this.appendChild(b.apply(this,arguments))})};Db.insert=function(b,k){return b=Da(b),k=R(k),this.select(function(){return this.insertBefore(b.apply(this,arguments),k.apply(this,
arguments)||null)})};Db.remove=function(){return this.each(Fa)};Db.data=function(b,k){function q(O,V){var X,Z,da,pa=O.length,ka=V.length,na=Math.min(pa,ka),oa=Array(ka),ia=Array(ka),va=Array(pa);if(k){var Ha;na=new e;var ba=Array(pa);for(X=-1;++X<pa;)na.has(Ha=k.call(Z=O[X],Z.__data__,X))?va[X]=Z:na.set(Ha,Z),ba[X]=Ha;for(X=-1;++X<ka;)(Z=na.get(Ha=k.call(V,da=V[X],X)))?!0!==Z&&(oa[X]=Z,Z.__data__=da):ia[X]={__data__:da},na.set(Ha,!0);for(X=-1;++X<pa;)!0!==na.get(ba[X])&&(va[X]=O[X])}else{for(X=-1;++X<
na;)Z=O[X],da=V[X],Z?(Z.__data__=da,oa[X]=Z):ia[X]={__data__:da};for(;ka>X;++X)ia[X]={__data__:V[X]};for(;pa>X;++X)va[X]=O[X]}ia.update=oa;ia.parentNode=oa.parentNode=va.parentNode=O.parentNode;C.push(ia);F.push(oa);L.push(va)}var t,A,y=-1,E=this.length;if(!arguments.length){for(b=Array(E=(t=this[0]).length);++y<E;)(A=t[y])&&(b[y]=A.__data__);return b}var C=Qa([]),F=S([]),L=S([]);if("function"==typeof b)for(;++y<E;)q(t=this[y],b.call(t,t.parentNode.__data__,y));else for(;++y<E;)q(t=this[y],b);return F.enter=
function(){return C},F.exit=function(){return L},F};Db.datum=function(b){return arguments.length?this.property("__data__",b):this.property("__data__")};Db.filter=function(b){var k,q,t,A=[];"function"!=typeof b&&(b=Oa(b));for(var y=0,E=this.length;E>y;y++){A.push(k=[]);k.parentNode=(q=this[y]).parentNode;for(var C=0,F=q.length;F>C;C++)(t=q[C])&&b.call(t,t.__data__,C,y)&&k.push(t)}return S(A)};Db.order=function(){for(var b=-1,k=this.length;++b<k;)for(var q,t=this[b],A=t.length-1,y=t[A];0<=--A;)(q=t[A])&&
(y&&y!==q.nextSibling&&y.parentNode.insertBefore(q,y),y=q);return this};Db.sort=function(b){b=Ga.apply(this,arguments);for(var k=-1,q=this.length;++k<q;)this[k].sort(b);return this.order()};Db.each=function(b){return wa(this,function(k,q,t){b.call(k,k.__data__,q,t)})};Db.call=function(b){var k=Nd(arguments);return b.apply(k[0]=this,k),this};Db.empty=function(){return!this.node()};Db.node=function(){for(var b=0,k=this.length;k>b;b++)for(var q=this[b],t=0,A=q.length;A>t;t++){var y=q[t];if(y)return y}return null};
Db.size=function(){var b=0;return wa(this,function(){++b}),b};var Cd=[];aa.selection.enter=Qa;aa.selection.enter.prototype=Cd;Cd.append=Db.append;Cd.empty=Db.empty;Cd.node=Db.node;Cd.call=Db.call;Cd.size=Db.size;Cd.select=function(b){for(var k,q,t,A,y,E=[],C=-1,F=this.length;++C<F;){t=(A=this[C]).update;E.push(k=[]);k.parentNode=A.parentNode;for(var L=-1,O=A.length;++L<O;)(y=A[L])?(k.push(t[L]=q=b.call(A.parentNode,y.__data__,L,C)),q.__data__=y.__data__):k.push(null)}return S(E)};Cd.insert=function(b,
k){return 2>arguments.length&&(k=Wa(this)),Db.insert.call(this,b,k)};aa.select=function(b){var k;return"string"==typeof b?(k=[ug(b,Ec)],k.parentNode=Ec.documentElement):(k=[b],k.parentNode=b&&(b.ownerDocument||b.document||b).documentElement),S([k])};aa.selectAll=function(b){var k;return"string"==typeof b?(k=Nd(vg(b,Ec)),k.parentNode=Ec.documentElement):(k=b,k.parentNode=null),S([k])};Db.on=function(b,k,q){var t=arguments.length;if(3>t){if("string"!=typeof b){2>t&&(k=!1);for(q in b)this.each(Ba(q,
b[q],k));return this}if(2>t)return(t=this.node()["__on"+b])&&t._;q=!1}return this.each(Ba(b,k,q))};var xg=aa.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ec&&xg.forEach(function(b){"on"+b in Ec&&xg.remove(b)});var be,oi=0;aa.mouse=function(b){return qb(b,G())};var yg=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;aa.touch=function(b,k,q){if(3>arguments.length&&(q=k,k=G().changedTouches),k)for(var t,A=0,y=k.length;y>A;++A)if((t=k[A]).identifier===q)return qb(b,t)};aa.behavior.drag=
function(){function b(){this.on("mousedown.drag",A).on("touchstart.drag",y)}function k(E,C,F,L,O){return function(){var V,X=aa.event.target,Z=this.parentNode,da=q.of(this,arguments),pa=0,ka=E(),na=".drag"+(null==ka?"":"-"+ka),oa=aa.select(F(X)).on(L+na,function(){var Ha,ba,la=C(Z,ka);la&&(Ha=la[0]-va[0],ba=la[1]-va[1],pa|=Ha|ba,va=la,da({type:"drag",x:la[0]+V[0],y:la[1]+V[1],dx:Ha,dy:ba}))}).on(O+na,function(){C(Z,ka)&&(oa.on(L+na,null).on(O+na,null),ia(pa&&aa.event.target===X),da({type:"dragend"}))}),
ia=$a(X),va=C(Z,ka);t?(V=t.apply(this,arguments),V=[V.x-va[0],V.y-va[1]]):V=[0,0];da({type:"dragstart"})}}var q=T(b,"drag","dragstart","dragend"),t=null,A=k(K,aa.mouse,d,"mousemove","mouseup"),y=k(Ib,aa.touch,x,"touchmove","touchend");return b.origin=function(E){return arguments.length?(t=E,b):t},aa.rebind(b,q,"on")};aa.touches=function(b,k){return 2>arguments.length&&(k=G().touches),k?Nd(k).map(function(q){var t=qb(b,q);return t.identifier=q.identifier,t}):[]};var Ya=1E-6,Ag=Ya*Ya,kb=Math.PI,Vc=
2*kb,Ui=Vc-Ya,Zb=kb/2,lb=kb/180,Rb=180/kb,Lf=Math.SQRT2;aa.interpolateZoom=function(b,k){function q(Z){var da=Z*X;if(V){Z=nc(O);var pa=y/(2*L),ka=Lf*da+O;var na=((ka=Math.exp(2*ka))-1)/(ka+1);var oa=O;ka=((oa=Math.exp(oa))-1/oa)/2;pa*=Z*na-ka;return[t+pa*E,A+pa*C,y*Z/nc(Lf*da+O)]}return[t+Z*E,A+Z*C,y*Math.exp(Lf*da)]}var t=b[0],A=b[1],y=b[2];b=k[2];var E=k[0]-t,C=k[1]-A,F=E*E+C*C,L=Math.sqrt(F);k=(b*b-y*y+4*F)/(4*y*L);F=(b*b-y*y-4*F)/(4*b*L);var O=Math.log(Math.sqrt(k*k+1)-k),V=Math.log(Math.sqrt(F*
F+1)-F)-O,X=(V||Math.log(b/y))/Lf;return q.duration=1E3*X,q};aa.behavior.zoom=function(){function b(Ta){Ta.on(La,L).on(Vg+".zoom",V).on("dblclick.zoom",X).on(jb,O)}function k(Ta){return[(Ta[0]-ba.x)/ba.k,(Ta[1]-ba.y)/ba.k]}function q(Ta){ba.k=Math.max(ta[0],Math.min(ta[1],Ta))}function t(Ta,hb){hb=[hb[0]*ba.k+ba.x,hb[1]*ba.k+ba.y];ba.x+=Ta[0]-hb[0];ba.y+=Ta[1]-hb[1]}function A(Ta,hb,ub,Eb){Ta.__chart__={x:ba.x,y:ba.y,k:ba.k};q(Math.pow(2,Eb));t(da=hb,ub);Ta=aa.select(Ta);0<Ca&&(Ta=Ta.transition().duration(Ca));
Ta.call(b.event)}function y(){ia&&ia.domain(oa.range().map(function(Ta){return(Ta-ba.x)/ba.k}).map(oa.invert));Ha&&Ha.domain(va.range().map(function(Ta){return(Ta-ba.y)/ba.k}).map(va.invert))}function E(Ta){Ea++||Ta({type:"zoomstart"})}function C(Ta){y();Ta({type:"zoom",scale:ba.k,translate:[ba.x,ba.y]})}function F(Ta){--Ea||Ta({type:"zoomend"});da=null}function L(){var Ta=this,hb=aa.event.target,ub=eb.of(Ta,arguments),Eb=0,sc=aa.select(d(Ta)).on(Na,function(){Eb=1;t(aa.mouse(Ta),Mb);C(ub)}).on(db,
function(){sc.on(Na,null).on(db,null);fc(Eb&&aa.event.target===hb);F(ub)}),Mb=k(aa.mouse(Ta)),fc=$a(Ta);Mf.call(Ta);E(ub)}function O(){function Ta(){var Nb=aa.touches(Mb);return sc=ba.k,Nb.forEach(function(Sb){Sb.identifier in ec&&(ec[Sb.identifier]=k(Sb))}),Nb}function hb(){var Nb=aa.event.target;aa.select(Nb).on(Se,ub).on(Te,Eb);fe.push(Nb);Nb=aa.event.changedTouches;for(var Sb=0,Mc=Nb.length;Mc>Sb;++Sb)ec[Nb[Sb].identifier]=null;Sb=Ta();Mc=Date.now();1===Sb.length?(500>Mc-na&&(Nb=Sb[0],A(Mb,Nb,
ec[Nb.identifier],Math.floor(Math.log(ba.k)/Math.LN2)+1),Q()),na=Mc):1<Sb.length&&(Nb=Sb[0],Mc=Sb[1],Sb=Nb[0]-Mc[0],Nb=Nb[1]-Mc[1],Ic=Sb*Sb+Nb*Nb)}function ub(){var Nb,Sb,Mc=aa.touches(Mb);Mf.call(Mb);for(var Nf=0,Vi=Mc.length;Vi>Nf;++Nf,Sb=null)if(Nb=Mc[Nf],Sb=ec[Nb.identifier]){if(We)break;var Ce=Nb;var We=Sb}if(Sb){var Xe=(Xe=Nb[0]-Ce[0])*Xe+(Xe=Nb[1]-Ce[1])*Xe;Mc=Ic&&Math.sqrt(Xe/Ic);Ce=[(Ce[0]+Nb[0])/2,(Ce[1]+Nb[1])/2];We=[(We[0]+Sb[0])/2,(We[1]+Sb[1])/2];q(Mc*sc)}na=null;t(Ce,We);C(fc)}function Eb(){if(aa.event.touches.length){for(var Nb=
aa.event.changedTouches,Sb=0,Mc=Nb.length;Mc>Sb;++Sb)delete ec[Nb[Sb].identifier];for(var Nf in ec)return void Ta()}aa.selectAll(fe).on(Lc,null);Wh.on(La,L).on(jb,O);Wi();F(fc)}var sc,Mb=this,fc=eb.of(Mb,arguments),ec={},Ic=0,Lc=".zoom-"+aa.event.changedTouches[0].identifier,Se="touchmove"+Lc,Te="touchend"+Lc,fe=[],Wh=aa.select(Mb),Wi=$a(Mb);hb();E(fc);Wh.on(La,null).on(jb,hb)}function V(){var Ta=eb.of(this,arguments);ka?clearTimeout(ka):(Z=k(da=pa||aa.mouse(this)),Mf.call(this),E(Ta));ka=setTimeout(function(){ka=
null;F(Ta)},50);Q();q(Math.pow(2,.002*Of())*ba.k);t(da,Z);C(Ta)}function X(){var Ta=aa.mouse(this),hb=Math.log(ba.k)/Math.LN2;A(this,Ta,k(Ta),aa.event.shiftKey?Math.ceil(hb)-1:Math.floor(hb)+1)}var Z,da,pa,ka,na,oa,ia,va,Ha,ba={x:0,y:0,k:1},la=[960,500],ta=Xh,Ca=250,Ea=0,La="mousedown.zoom",Na="mousemove.zoom",db="mouseup.zoom",jb="touchstart.zoom",eb=T(b,"zoomstart","zoom","zoomend");return Vg||(Vg="onwheel"in Ec?(Of=function(){return-aa.event.deltaY*(aa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in
Ec?(Of=function(){return aa.event.wheelDelta},"mousewheel"):(Of=function(){return-aa.event.detail},"MozMousePixelScroll")),b.event=function(Ta){Ta.each(function(){var hb=eb.of(this,arguments),ub=ba;ie?aa.select(this).transition().each("start.zoom",function(){ba=this.__chart__||{x:0,y:0,k:1};E(hb)}).tween("zoom:zoom",function(){var Eb=la[0],sc=la[1],Mb=da?da[0]:Eb/2,fc=da?da[1]:sc/2,ec=aa.interpolateZoom([(Mb-ba.x)/ba.k,(fc-ba.y)/ba.k,Eb/ba.k],[(Mb-ub.x)/ub.k,(fc-ub.y)/ub.k,Eb/ub.k]);return function(Ic){Ic=
ec(Ic);var Lc=Eb/Ic[2];this.__chart__=ba={x:Mb-Ic[0]*Lc,y:fc-Ic[1]*Lc,k:Lc};C(hb)}}).each("interrupt.zoom",function(){F(hb)}).each("end.zoom",function(){F(hb)}):(this.__chart__=ba,E(hb),C(hb),F(hb))})},b.translate=function(Ta){return arguments.length?(ba={x:+Ta[0],y:+Ta[1],k:ba.k},y(),b):[ba.x,ba.y]},b.scale=function(Ta){return arguments.length?(ba={x:ba.x,y:ba.y,k:+Ta},y(),b):ba.k},b.scaleExtent=function(Ta){return arguments.length?(ta=null==Ta?Xh:[+Ta[0],+Ta[1]],b):ta},b.center=function(Ta){return arguments.length?
(pa=Ta&&[+Ta[0],+Ta[1]],b):pa},b.size=function(Ta){return arguments.length?(la=Ta&&[+Ta[0],+Ta[1]],b):la},b.duration=function(Ta){return arguments.length?(Ca=+Ta,b):Ca},b.x=function(Ta){return arguments.length?(ia=Ta,oa=Ta.copy(),ba={x:0,y:0,k:1},b):ia},b.y=function(Ta){return arguments.length?(Ha=Ta,va=Ta.copy(),ba={x:0,y:0,k:1},b):Ha},aa.rebind(b,eb,"on")};var Of,Vg,Xh=[0,1/0];aa.color=H;H.prototype.toString=function(){return this.rgb()+""};aa.hsl=oc;var Wg=oc.prototype=new H;Wg.brighter=function(b){return b=
Math.pow(.7,arguments.length?b:1),new oc(this.h,this.s,this.l/b)};Wg.darker=function(b){return b=Math.pow(.7,arguments.length?b:1),new oc(this.h,this.s,b*this.l)};Wg.rgb=function(){return hc(this.h,this.s,this.l)};aa.hcl=lc;var Xg=lc.prototype=new H;Xg.brighter=function(b){return new lc(this.h,this.c,Math.min(100,this.l+Pf*(arguments.length?b:1)))};Xg.darker=function(b){return new lc(this.h,this.c,Math.max(0,this.l-Pf*(arguments.length?b:1)))};Xg.rgb=function(){return Zc(this.h,this.c,this.l).rgb()};
aa.lab=dc;var Pf=18,eh=.95047,fh=1,gh=1.08883,Yg=dc.prototype=new H;Yg.brighter=function(b){return new dc(Math.min(100,this.l+Pf*(arguments.length?b:1)),this.a,this.b)};Yg.darker=function(b){return new dc(Math.max(0,this.l-Pf*(arguments.length?b:1)),this.a,this.b)};Yg.rgb=function(){return xd(this.l,this.a,this.b)};aa.rgb=nb;var Qf=nb.prototype=new H;Qf.brighter=function(b){b=Math.pow(.7,arguments.length?b:1);var k=this.r,q=this.g,t=this.b;return k||q||t?(k&&30>k&&(k=30),q&&30>q&&(q=30),t&&30>t&&
(t=30),new nb(Math.min(255,k/b),Math.min(255,q/b),Math.min(255,t/b))):new nb(30,30,30)};Qf.darker=function(b){return b=Math.pow(.7,arguments.length?b:1),new nb(b*this.r,b*this.g,b*this.b)};Qf.hsl=function(){return tc(this.r,this.g,this.b)};Qf.toString=function(){return"#"+gb(this.r)+gb(this.g)+gb(this.b)};var uf=aa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,
burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,
darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,
lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,
mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,
red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});uf.forEach(function(b,k){uf.set(b,
new nb(k>>16,k>>8&255,255&k))});aa.functor=sb;aa.xhr=Dc(x);aa.dsv=function(b,k){function q(L,O,V){3>arguments.length&&(V=O,O=null);var X=Cc(L,k,null==O?t:A(O),V);return X.row=function(Z){return arguments.length?X.response(null==(O=Z)?t:A(Z)):O},X}function t(L){return q.parse(L.responseText)}function A(L){return function(O){return q.parse(O.responseText,L)}}function y(L){return L.map(E).join(b)}function E(L){return C.test(L)?'"'+L.replace(/"/g,'""')+'"':L}var C=new RegExp('["'+b+"\n]"),F=b.charCodeAt(0);
return q.parse=function(L,O){var V;return q.parseRows(L,function(X,Z){if(V)return V(X,Z-1);var da=new Function("d","return {"+X.map(function(pa,ka){return JSON.stringify(pa)+": d["+ka+"]"}).join(",")+"}");V=O?function(pa,ka){return O(da(pa),ka)}:da})},q.parseRows=function(L,O){function V(){if(oa>=na)return pa;if(Z)return Z=!1,da;var Ha=oa;if(34===L.charCodeAt(Ha)){for(var ba=Ha;ba++<na;)if(34===L.charCodeAt(ba)){if(34!==L.charCodeAt(ba+1))break;++ba}oa=ba+2;var la=L.charCodeAt(ba+1);return 13===la?
(Z=!0,10===L.charCodeAt(ba+2)&&++oa):10===la&&(Z=!0),L.slice(Ha+1,ba).replace(/""/g,'"')}for(;na>oa;){la=L.charCodeAt(oa++);ba=1;if(10===la)Z=!0;else if(13===la)Z=!0,10===L.charCodeAt(oa)&&(++oa,++ba);else if(la!==F)continue;return L.slice(Ha,oa-ba)}return L.slice(Ha)}for(var X,Z,da={},pa={},ka=[],na=L.length,oa=0,ia=0;(X=V())!==pa;){for(var va=[];X!==da&&X!==pa;)va.push(X),X=V();O&&null==(va=O(va,ia++))||ka.push(va)}return ka},q.format=function(L){if(Array.isArray(L[0]))return q.formatRows(L);var O=
new z,V=[];return L.forEach(function(X){for(var Z in X)O.has(Z)||V.push(O.add(Z))}),[V.map(E).join(b)].concat(L.map(function(X){return V.map(function(Z){return E(X[Z])}).join(b)})).join("\n")},q.formatRows=function(L){return L.map(y).join("\n")},q};aa.csv=aa.dsv(",","text/csv");aa.tsv=aa.dsv("\t","text/tab-separated-values");var xf,yf,wf,vf,Dd,hh=this[v(this,"requestAnimationFrame")]||function(b){setTimeout(b,17)};aa.timer=function(b,k,q){var t=arguments.length;2>t&&(k=0);3>t&&(q=Date.now());t={c:b,
t:q+k,f:!1,n:null};yf?yf.n=t:xf=t;yf=t;wf||(vf=clearTimeout(vf),wf=1,hh(rc))};aa.timer.flush=function(){Gd();Kd()};aa.round=function(b,k){return k?Math.round(b*(k=Math.pow(10,k)))/k:Math.round(b)};var Xi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(b,k){var q=Math.pow(10,3*ob(8-k));return{scale:8<k?function(t){return t/q}:function(t){return t*q},symbol:b}});aa.formatPrefix=function(b,k){var q=0;return b&&(0>b&&(b*=-1),k&&(b=aa.round(b,Va(b,k))),q=1+Math.floor(1E-12+Math.log(b)/
Math.LN10),q=Math.max(-24,Math.min(24,3*Math.floor((q-1)/3)))),Xi[8+q/3]};var ih=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,pi=aa.map({b:function(b){return b.toString(2)},c:function(b){return String.fromCharCode(b)},o:function(b){return b.toString(8)},x:function(b){return b.toString(16)},X:function(b){return b.toString(16).toUpperCase()},g:function(b,k){return b.toPrecision(k)},e:function(b,k){return b.toExponential(k)},f:function(b,k){return b.toFixed(k)},r:function(b,
k){return(b=aa.round(b,Va(b,k))).toFixed(Math.max(0,Math.min(20,Va(b*(1+1E-15),k))))}}),ab=aa.time={},yc=Date;Xb.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},
getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Fd.setUTCDate.apply(this._,arguments)},setDay:function(){Fd.setUTCDay.apply(this._,arguments)},setFullYear:function(){Fd.setUTCFullYear.apply(this._,arguments)},setHours:function(){Fd.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Fd.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Fd.setUTCMinutes.apply(this._,arguments)},
setMonth:function(){Fd.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Fd.setUTCSeconds.apply(this._,arguments)},setTime:function(){Fd.setTime.apply(this._,arguments)}};var Fd=Date.prototype;ab.year=Bc(function(b){return b=ab.day(b),b.setMonth(0,1),b},function(b,k){b.setFullYear(b.getFullYear()+k)},function(b){return b.getFullYear()});ab.years=ab.year.range;ab.years.utc=ab.year.utc.range;ab.day=Bc(function(b){var k=new yc(2E3,0);return k.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),
k},function(b,k){b.setDate(b.getDate()+k)},function(b){return b.getDate()-1});ab.days=ab.day.range;ab.days.utc=ab.day.utc.range;ab.dayOfYear=function(b){var k=ab.year(b);return Math.floor((b-k-6E4*(b.getTimezoneOffset()-k.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(b,k){k=7-k;var q=ab[b]=Bc(function(t){return(t=ab.day(t)).setDate(t.getDate()-(t.getDay()+k)%7),t},function(t,A){t.setDate(t.getDate()+7*Math.floor(A))},function(t){var A=
ab.year(t).getDay();return Math.floor((ab.dayOfYear(t)+(A+k)%7)/7)-(A!==k)});ab[b+"s"]=q.range;ab[b+"s"].utc=q.utc.range;ab[b+"OfYear"]=function(t){var A=ab.year(t).getDay();return Math.floor((ab.dayOfYear(t)+(A+k)%7)/7)}});ab.week=ab.sunday;ab.weeks=ab.sunday.range;ab.weeks.utc=ab.sunday.utc.range;ab.weekOfYear=ab.sundayOfYear;var jh={"-":"",_:" ",0:"0"},$b=/^\s*\d+/,kh=/^%/;aa.locale=function(b){return{numberFormat:Fb(b),timeFormat:cf(b)}};var Yh=aa.locale({decimal:".",thousands:",",grouping:[3],
currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});aa.format=Yh.numberFormat;aa.geo={};Zd.prototype={s:0,t:0,add:function(b){gf(b,this.t,Rf);gf(Rf.s,
this.s,this);this.s?this.t+=Rf.t:this.s=Rf.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Rf=new Zd;aa.geo.stream=function(b,k){b&&Zh.hasOwnProperty(b.type)?Zh[b.type](b,k):qe(b,k)};var Zh={Feature:function(b,k){qe(b.geometry,k)},FeatureCollection:function(b,k){b=b.features;for(var q=-1,t=b.length;++q<t;)qe(b[q].geometry,k)}},lh={Sphere:function(b,k){k.sphere()},Point:function(b,k){b=b.coordinates;k.point(b[0],b[1],b[2])},MultiPoint:function(b,k){for(var q=b.coordinates,
t=-1,A=q.length;++t<A;)b=q[t],k.point(b[0],b[1],b[2])},LineString:function(b,k){Ee(b.coordinates,k,0)},MultiLineString:function(b,k){b=b.coordinates;for(var q=-1,t=b.length;++q<t;)Ee(b[q],k,0)},Polygon:function(b,k){hf(b.coordinates,k)},MultiPolygon:function(b,k){b=b.coordinates;for(var q=-1,t=b.length;++q<t;)hf(b[q],k)},GeometryCollection:function(b,k){b=b.geometries;for(var q=-1,t=b.length;++q<t;)qe(b[q],k)}};aa.geo.area=function(b){return Sf=0,aa.geo.stream(b,Uc),Sf};var Sf,ce=new Zd,Uc={sphere:function(){Sf+=
4*kb},point:K,lineStart:K,lineEnd:K,polygonStart:function(){ce.reset();Uc.lineStart=og},polygonEnd:function(){var b=2*ce;Sf+=0>b?4*kb+b:b;Uc.lineStart=Uc.lineEnd=Uc.point=K}};aa.geo.bounds=function(){function b(ba,la){ia.push(va=[O=ba,X=ba]);V>la&&(V=la);la>Z&&(Z=la)}function k(ba,la){var ta=ld([ba*lb,la*lb]);if(na){var Ca=Nc(na,ta);Ca=Nc([Ca[1],-Ca[0],0],Ca);$d(Ca);Ca=se(Ca);var Ea=ba-da,La=0<Ea?1:-1,Na=Ca[0]*Rb*La;Ea=180<ob(Ea);Ea^(Na>La*da&&La*ba>Na)?(la=Ca[1]*Rb,la>Z&&(Z=la)):(Na=(Na+360)%360-
180,Ea^(Na>La*da&&La*ba>Na))?(la=-Ca[1]*Rb,V>la&&(V=la)):(V>la&&(V=la),la>Z&&(Z=la));Ea?da>ba?C(O,ba)>C(O,X)&&(X=ba):C(ba,X)>C(O,X)&&(O=ba):X>=O?(O>ba&&(O=ba),ba>X&&(X=ba)):ba>da?C(O,ba)>C(O,X)&&(X=ba):C(ba,X)>C(O,X)&&(O=ba)}else b(ba,la);na=ta;da=ba}function q(){Ha.point=k}function t(){va[0]=O;va[1]=X;Ha.point=b;na=null}function A(ba,la){if(na){var ta=ba-da;oa+=180<ob(ta)?ta+(0<ta?360:-360):ta}else pa=ba,ka=la;Uc.point(ba,la);k(ba,la)}function y(){Uc.lineStart()}function E(){A(pa,ka);Uc.lineEnd();
ob(oa)>Ya&&(O=-(X=180));va[0]=O;va[1]=X;na=null}function C(ba,la){return 0>(la-=ba)?la+360:la}function F(ba,la){return ba[0]-la[0]}function L(ba,la){return la[0]<=la[1]?la[0]<=ba&&ba<=la[1]:ba<la[0]||la[1]<ba}var O,V,X,Z,da,pa,ka,na,oa,ia,va,Ha={point:b,lineStart:q,lineEnd:t,polygonStart:function(){Ha.point=A;Ha.lineStart=y;Ha.lineEnd=E;oa=0;Uc.polygonStart()},polygonEnd:function(){Uc.polygonEnd();Ha.point=b;Ha.lineStart=q;Ha.lineEnd=t;0>ce?(O=-(X=180),V=-(Z=90)):oa>Ya?Z=90:-Ya>oa&&(V=-90);va[0]=
O;va[1]=X}};return function(ba){Z=X=-(O=V=1/0);ia=[];aa.geo.stream(ba,Ha);if(ba=ia.length){ia.sort(F);for(var la,ta=1,Ca=ia[0],Ea=[Ca];ba>ta;++ta)la=ia[ta],L(la[0],Ca)||L(la[1],Ca)?(C(Ca[0],la[1])>C(Ca[0],Ca[1])&&(Ca[1]=la[1]),C(la[0],Ca[1])>C(Ca[0],Ca[1])&&(Ca[0]=la[0])):Ea.push(Ca=la);var La,Na=-1/0;ba=Ea.length-1;ta=0;for(Ca=Ea[ba];ba>=ta;Ca=la,++ta)la=Ea[ta],(La=C(Ca[1],la[0]))>Na&&(Na=La,O=la[0],X=Ca[1])}return ia=va=null,1/0===O||1/0===V?[[0/0,0/0],[0/0,0/0]]:[[O,V],[X,Z]]}}();aa.geo.centroid=
function(b){Re=zf=de=ee=Ed=Od=Pd=pd=xe=ye=Qd=0;aa.geo.stream(b,fd);b=xe;var k=ye,q=Qd,t=b*b+k*k+q*q;return Ag>t&&(b=Od,k=Pd,q=pd,Ya>zf&&(b=de,k=ee,q=Ed),t=b*b+k*k+q*q,Ag>t)?[0/0,0/0]:[Math.atan2(k,b)*Rb,kc(q/Math.sqrt(t))*Rb]};var Re,zf,de,ee,Ed,Od,Pd,pd,xe,ye,Qd,fd={sphere:K,point:sd,lineStart:zd,lineEnd:dd,polygonStart:function(){fd.lineStart=Ke},polygonEnd:function(){fd.lineStart=zd}},mh=ue(ed,function(b){var k,q=0/0,t=0/0,A=0/0;return{lineStart:function(){b.lineStart();k=1},point:function(y,E){var C=
0<y?kb:-kb,F=ob(y-q);if(ob(F-kb)<Ya)b.point(q,t=0<(t+E)/2?Zb:-Zb),b.point(A,t),b.lineEnd(),b.lineStart(),b.point(C,t),b.point(y,t),k=0;else if(A!==C&&F>=kb){ob(q-A)<Ya&&(q-=A*Ya);ob(y-C)<Ya&&(y-=C*Ya);F=q;var L=t,O=y,V,X,Z=Math.sin(F-O);t=ob(Z)>Ya?Math.atan((Math.sin(L)*(X=Math.cos(E))*Math.sin(O)-Math.sin(E)*(V=Math.cos(L))*Math.sin(F))/(V*X*Z)):(L+E)/2;b.point(A,t);b.lineEnd();b.lineStart();b.point(C,t);k=0}b.point(q=y,t=E);A=C},lineEnd:function(){b.lineEnd();q=t=0/0},clean:function(){return 2-
k}}},function(b,k,q,t){null==b?(q*=Zb,t.point(-kb,q),t.point(0,q),t.point(kb,q),t.point(kb,0),t.point(kb,-q),t.point(0,-q),t.point(-kb,-q),t.point(-kb,0),t.point(-kb,q)):ob(b[0]-k[0])>Ya?(b=b[0]<k[0]?kb:-kb,q=q*b/2,t.point(-b,q),t.point(0,q),t.point(b,q)):t.point(k[0],k[1])},[-kb,-kb/2]),Af=1E9;aa.geo.clipExtent=function(){var b,k,q,t,A,y,E={stream:function(C){return A&&(A.valid=!1),A=y(C),A.valid=!0,A},extent:function(C){return arguments.length?(y=lf(b=+C[0][0],k=+C[0][1],q=+C[1][0],t=+C[1][1]),
A&&(A.valid=!1,A=null),E):[[b,k],[q,t]]}};return E.extent([[0,0],[960,500]])};(aa.geo.conicEqualArea=function(){return Ne(mf)}).raw=mf;aa.geo.albers=function(){return aa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};aa.geo.albersUsa=function(){function b(L){var O=L[0];L=L[1];return k=null,q(O,L),k||(t(O,L),k)||A(O,L),k}var k,q,t,A,y=aa.geo.albers(),E=aa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),C=aa.geo.conicEqualArea().rotate([157,
0]).center([-3,19.9]).parallels([8,18]),F={point:function(L,O){k=[L,O]}};return b.invert=function(L){var O=y.scale(),V=y.translate(),X=(L[0]-V[0])/O;O=(L[1]-V[1])/O;return(.12<=O&&.234>O&&-.425<=X&&-.214>X?E:.166<=O&&.234>O&&-.214<=X&&-.115>X?C:y).invert(L)},b.stream=function(L){var O=y.stream(L),V=E.stream(L),X=C.stream(L);return{point:function(Z,da){O.point(Z,da);V.point(Z,da);X.point(Z,da)},sphere:function(){O.sphere();V.sphere();X.sphere()},lineStart:function(){O.lineStart();V.lineStart();X.lineStart()},
lineEnd:function(){O.lineEnd();V.lineEnd();X.lineEnd()},polygonStart:function(){O.polygonStart();V.polygonStart();X.polygonStart()},polygonEnd:function(){O.polygonEnd();V.polygonEnd();X.polygonEnd()}}},b.precision=function(L){return arguments.length?(y.precision(L),E.precision(L),C.precision(L),b):y.precision()},b.scale=function(L){return arguments.length?(y.scale(L),E.scale(.35*L),C.scale(L),b.translate(y.translate())):y.scale()},b.translate=function(L){if(!arguments.length)return y.translate();
var O=y.scale(),V=+L[0],X=+L[1];return q=y.translate(L).clipExtent([[V-.455*O,X-.238*O],[V+.455*O,X+.238*O]]).stream(F).point,t=E.translate([V-.307*O,X+.201*O]).clipExtent([[V-.425*O+Ya,X+.12*O+Ya],[V-.214*O-Ya,X+.234*O-Ya]]).stream(F).point,A=C.translate([V-.205*O,X+.212*O]).clipExtent([[V-.214*O+Ya,X+.166*O+Ya],[V-.115*O-Ya,X+.234*O-Ya]]).stream(F).point,b},b.scale(1070)};var Zg,zg,Tf,Uf,Vf,Wf,Rd={point:K,lineStart:K,lineEnd:K,polygonStart:function(){zg=0;Rd.lineStart=nf},polygonEnd:function(){Rd.lineStart=
Rd.lineEnd=Rd.point=K;Zg+=ob(zg/2)}},Yi={point:function(b,k){Tf>b&&(Tf=b);b>Vf&&(Vf=b);Uf>k&&(Uf=k);k>Wf&&(Wf=k)},lineStart:K,lineEnd:K,polygonStart:K,polygonEnd:K},gd={point:nd,lineStart:od,lineEnd:Ad,polygonStart:function(){gd.lineStart=rg},polygonEnd:function(){gd.point=nd;gd.lineStart=od;gd.lineEnd=Ad}};aa.geo.path=function(){function b(C){return C&&("function"==typeof E&&A.pointRadius(+E.apply(this,arguments)),y&&y.valid||(y=t(A)),aa.geo.stream(C,y)),A.result()}var k,q,t,A,y,E=4.5;return b.area=
function(C){return Zg=0,aa.geo.stream(C,t(Rd)),Zg},b.centroid=function(C){return de=ee=Ed=Od=Pd=pd=xe=ye=Qd=0,aa.geo.stream(C,t(gd)),Qd?[xe/Qd,ye/Qd]:pd?[Od/pd,Pd/pd]:Ed?[de/Ed,ee/Ed]:[0/0,0/0]},b.bounds=function(C){return Vf=Wf=-(Tf=Uf=1/0),aa.geo.stream(C,t(Yi)),[[Tf,Uf],[Vf,Wf]]},b.projection=function(C){return arguments.length?(t=(k=C)?C.stream||sg(C):x,y=null,b):k},b.context=function(C){return arguments.length?(A=null==(q=C)?new of:new cg(C),"function"!=typeof E&&A.pointRadius(E),y=null,b):q},
b.pointRadius=function(C){return arguments.length?(E="function"==typeof C?C:(A.pointRadius(+C),+C),b):E},b.projection(aa.geo.albersUsa()).context(null)};aa.geo.transform=function(b){return{stream:function(k){k=new pf(k);for(var q in b)k[q]=b[q];return k}}};pf.prototype={point:function(b,k){this.stream.point(b,k)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
aa.geo.projection=Tc;aa.geo.projectionMutator=Md;(aa.geo.equirectangular=function(){return Tc(Bd)}).raw=Bd.invert=Bd;aa.geo.rotation=function(b){function k(q){return q=b(q[0]*lb,q[1]*lb),q[0]*=Rb,q[1]*=Rb,q}return b=we(b[0]%360*lb,b[1]*lb,2<b.length?b[2]*lb:0),k.invert=function(q){return q=b.invert(q[0]*lb,q[1]*lb),q[0]*=Rb,q[1]*=Rb,q},k};Qe.invert=Bd;aa.geo.circle=function(){function b(){var y="function"==typeof t?t.apply(this,arguments):t,E=we(-y[0]*lb,-y[1]*lb,0).invert,C=[];return q(null,null,
1,{point:function(F,L){C.push(F=E(F,L));F[0]*=Rb;F[1]*=Rb}}),{type:"Polygon",coordinates:[C]}}var k,q,t=[0,0],A=6;return b.origin=function(y){return arguments.length?(t=y,b):t},b.angle=function(y){return arguments.length?(q=B((k=+y)*lb,A*lb),b):k},b.precision=function(y){return arguments.length?(q=B(k*lb,(A=+y)*lb),b):A},b.angle(90)};aa.geo.distance=function(b,k){var q,t=(k[0]-b[0])*lb,A=b[1]*lb,y=k[1]*lb;k=Math.cos(t);b=Math.sin(A);A=Math.cos(A);var E=Math.sin(y);y=Math.cos(y);return Math.atan2(Math.sqrt((q=
y*Math.sin(t))*q+(q=A*E-b*y*k)*q),b*E+A*y*k)};aa.geo.graticule=function(){function b(){return{type:"MultiLineString",coordinates:k()}}function k(){return aa.range(Math.ceil(y/ka)*ka,A,ka).map(X).concat(aa.range(Math.ceil(L/na)*na,F,na).map(Z)).concat(aa.range(Math.ceil(t/da)*da,q,da).filter(function(ia){return ob(ia%ka)>Ya}).map(O)).concat(aa.range(Math.ceil(C/pa)*pa,E,pa).filter(function(ia){return ob(ia%na)>Ya}).map(V))}var q,t,A,y,E,C,F,L,O,V,X,Z,da=10,pa=da,ka=90,na=360,oa=2.5;return b.lines=
function(){return k().map(function(ia){return{type:"LineString",coordinates:ia}})},b.outline=function(){return{type:"Polygon",coordinates:[X(y).concat(Z(F).slice(1),X(A).reverse().slice(1),Z(L).reverse().slice(1))]}},b.extent=function(ia){return arguments.length?b.majorExtent(ia).minorExtent(ia):b.minorExtent()},b.majorExtent=function(ia){return arguments.length?(y=+ia[0][0],A=+ia[1][0],L=+ia[0][1],F=+ia[1][1],y>A&&(ia=y,y=A,A=ia),L>F&&(ia=L,L=F,F=ia),b.precision(oa)):[[y,L],[A,F]]},b.minorExtent=
function(ia){return arguments.length?(t=+ia[0][0],q=+ia[1][0],C=+ia[0][1],E=+ia[1][1],t>q&&(ia=t,t=q,q=ia),C>E&&(ia=C,C=E,E=ia),b.precision(oa)):[[t,C],[q,E]]},b.step=function(ia){return arguments.length?b.majorStep(ia).minorStep(ia):b.minorStep()},b.majorStep=function(ia){return arguments.length?(ka=+ia[0],na=+ia[1],b):[ka,na]},b.minorStep=function(ia){return arguments.length?(da=+ia[0],pa=+ia[1],b):[da,pa]},b.precision=function(ia){return arguments.length?(oa=+ia,O=P(C,E,90),V=U(t,q,oa),X=P(L,F,
90),Z=U(y,A,oa),b):oa},b.majorExtent([[-180,-90+Ya],[180,90-Ya]]).minorExtent([[-180,-80-Ya],[180,80+Ya]])};aa.geo.greatArc=function(){function b(){return{type:"LineString",coordinates:[k||t.apply(this,arguments),q||A.apply(this,arguments)]}}var k,q,t=Y,A=fa;return b.distance=function(){return aa.geo.distance(k||t.apply(this,arguments),q||A.apply(this,arguments))},b.source=function(y){return arguments.length?(t=y,k="function"==typeof y?null:y,b):t},b.target=function(y){return arguments.length?(A=
y,q="function"==typeof y?null:y,b):A},b.precision=function(){return arguments.length?b:0},b};aa.geo.interpolate=function(b,k){return qa(b[0]*lb,b[1]*lb,k[0]*lb,k[1]*lb)};aa.geo.length=function(b){return $g=0,aa.geo.stream(b,De),$g};var $g,De={sphere:K,point:K,lineStart:function(){function b(A,y){var E=Math.sin(y*=lb);y=Math.cos(y);var C=ob((A*=lb)-k),F=Math.cos(C);$g+=Math.atan2(Math.sqrt((C=y*Math.sin(C))*C+(C=t*E-q*y*F)*C),q*E+t*y*F);k=A;q=E;t=y}var k,q,t;De.point=function(A,y){k=A*lb;q=Math.sin(y*=
lb);t=Math.cos(y);De.point=b};De.lineEnd=function(){De.point=De.lineEnd=K}},lineEnd:K,polygonStart:K,polygonEnd:K},$h=xa(function(b){return Math.sqrt(2/(1+b))},function(b){return 2*Math.asin(b/2)});(aa.geo.azimuthalEqualArea=function(){return Tc($h)}).raw=$h;var ai=xa(function(b){return(b=Math.acos(b))&&b/Math.sin(b)},x);(aa.geo.azimuthalEquidistant=function(){return Tc(ai)}).raw=ai;(aa.geo.conicConformal=function(){return Ne(Ja)}).raw=Ja;(aa.geo.conicEquidistant=function(){return Ne(za)}).raw=za;
var bi=xa(function(b){return 1/b},Math.atan);(aa.geo.gnomonic=function(){return Tc(bi)}).raw=bi;Ra.invert=function(b,k){return[b,2*Math.atan(Math.exp(k))-Zb]};(aa.geo.mercator=function(){return Za(Ra)}).raw=Ra;var ci=xa(function(){return 1},Math.asin);(aa.geo.orthographic=function(){return Tc(ci)}).raw=ci;var di=xa(function(b){return 1/(1+b)},function(b){return 2*Math.atan(b)});(aa.geo.stereographic=function(){return Tc(di)}).raw=di;pb.invert=function(b,k){return[-k,2*Math.atan(Math.exp(b))-Zb]};
(aa.geo.transverseMercator=function(){var b=Za(pb),k=b.center,q=b.rotate;return b.center=function(t){return t?k([-t[1],t[0]]):(t=k(),[t[1],-t[0]])},b.rotate=function(t){return t?q([t[0],t[1],2<t.length?t[2]+90:90]):(t=q(),[t[0],t[1],t[2]-90])},q([0,0,90])}).raw=pb;aa.geom={};aa.geom.hull=function(b){function k(A){if(3>A.length)return[];var y,E=sb(q),C=sb(t),F=A.length,L=[],O=[];for(y=0;F>y;y++)L.push([+E.call(this,A[y],y),+C.call(this,A[y],y),y]);L.sort(Id);for(y=0;F>y;y++)O.push([L[y][0],-L[y][1]]);
E=Yb(L);O=Yb(O);C=O[0]===E[0];F=O[O.length-1]===E[E.length-1];var V=[];for(y=E.length-1;0<=y;--y)V.push(A[L[E[y]][2]]);for(y=+C;y<O.length-F;++y)V.push(A[L[O[y]][2]]);return V}var q=mb,t=Gb;return arguments.length?k(b):(k.x=function(A){return arguments.length?(q=A,k):q},k.y=function(A){return arguments.length?(t=A,k):t},k)};aa.geom.polygon=function(b){return tf(b,Xf),b};var Xf=aa.geom.polygon.prototype=[];Xf.area=function(){for(var b,k=-1,q=this.length,t=this[q-1],A=0;++k<q;)b=t,t=this[k],A+=b[1]*
t[0]-b[0]*t[1];return.5*A};Xf.centroid=function(b){var k=-1,q=this.length,t=0,A=0,y=this[q-1];for(arguments.length||(b=-1/(6*this.area()));++k<q;){var E=y;y=this[k];var C=E[0]*y[1]-y[0]*E[1];t+=(E[0]+y[0])*C;A+=(E[1]+y[1])*C}return[t*b,A*b]};Xf.clip=function(b){for(var k,q,t,A,y,E,C=wb(b),F=-1,L=this.length-wb(this),O=this[L-1];++F<L;){k=b.slice();b.length=0;A=this[F];y=k[(t=k.length-C)-1];for(q=-1;++q<t;)E=k[q],vc(E,O,A)?(vc(y,O,A)||b.push(Pc(y,E,O,A)),b.push(E)):vc(y,O,A)&&b.push(Pc(y,E,O,A)),y=
E;C&&b.push(b[0]);O=A}return b};var Ae,ge,ze,Bg,Ue,nh=[],oh=[];Pb.prototype.prepare=function(){for(var b,k=this.edges,q=k.length;q--;)b=k[q].edge,b.b&&b.a||k.splice(q,1);return k.sort(wc),k.length};Ub.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};Lb.prototype={insert:function(b,k){var q;if(b){if(k.P=b,k.N=b.N,b.N&&(b.N.P=k),b.N=k,b.R){for(b=b.R;b.L;)b=b.L;b.L=k}else b.R=k;var t=b}else this._?
(b=Qc(this._),k.P=null,k.N=b,b.P=b.L=k,t=b):(k.P=k.N=null,this._=k,t=null);k.L=k.R=null;k.U=t;k.C=!0;for(b=k;t&&t.C;)k=t.U,t===k.L?(q=k.R,q&&q.C?(t.C=q.C=!1,k.C=!0,b=k):(b===t.R&&(qc(this,t),b=t,t=b.U),t.C=!1,k.C=!0,cc(this,k))):(q=k.L,q&&q.C?(t.C=q.C=!1,k.C=!0,b=k):(b===t.L&&(cc(this,t),b=t,t=b.U),t.C=!1,k.C=!0,qc(this,k))),t=b.U;this._.C=!1},remove:function(b){b.N&&(b.N.P=b.P);b.P&&(b.P.N=b.N);b.N=b.P=null;var k,q,t,A=b.U,y=b.L,E=b.R;if(q=y?E?Qc(E):y:E,A?A.L===b?A.L=q:A.R=q:this._=q,y&&E?(t=q.C,
q.C=b.C,q.L=y,y.U=q,q!==E?(A=q.U,q.U=b.U,b=q.R,A.L=b,q.R=E,E.U=q):(q.U=A,A=q,b=q.R)):(t=b.C,b=q),b&&(b.U=A),!t){if(b&&b.C)return void(b.C=!1);do{if(b===this._)break;if(b===A.L){if(k=A.R,k.C&&(k.C=!1,A.C=!0,qc(this,A),k=A.R),k.L&&k.L.C||k.R&&k.R.C){k.R&&k.R.C||(k.L.C=!1,k.C=!0,cc(this,k),k=A.R);k.C=A.C;A.C=k.R.C=!1;qc(this,A);b=this._;break}}else if(k=A.L,k.C&&(k.C=!1,A.C=!0,cc(this,A),k=A.L),k.L&&k.L.C||k.R&&k.R.C){k.L&&k.L.C||(k.R.C=!1,k.C=!0,qc(this,k),k=A.L);k.C=A.C;A.C=k.L.C=!1;cc(this,A);b=this._;
break}k.C=!0;b=A;A=A.U}while(!b.C);b&&(b.C=!1)}}};aa.geom.voronoi=function(b){function k(F){var L=Array(F.length),O=C[0][0],V=C[0][1],X=C[1][0],Z=C[1][1];return Kc(q(F),C).cells.forEach(function(da,pa){var ka=da.edges;da=da.site;(L[pa]=ka.length?ka.map(function(na){na=na.start();return[na.x,na.y]}):da.x>=O&&da.x<=X&&da.y>=V&&da.y<=Z?[[O,Z],[X,Z],[X,V],[O,V]]:[]).point=F[pa]}),L}function q(F){return F.map(function(L,O){return{x:Math.round(y(L,O)/Ya)*Ya,y:Math.round(E(L,O)/Ya)*Ya,i:O}})}var t=mb,A=
Gb,y=t,E=A,C=Yf;return b?k(b):(k.links=function(F){return Kc(q(F)).edges.filter(function(L){return L.l&&L.r}).map(function(L){return{source:F[L.l.i],target:F[L.r.i]}})},k.triangles=function(F){var L=[];return Kc(q(F)).cells.forEach(function(O,V){var X=O.site,Z=O.edges.sort(wc),da=-1,pa=Z.length,ka=Z[pa-1].edge;for(ka=ka.l===X?ka.r:ka.l;++da<pa;)O=ka,ka=Z[da].edge,ka=ka.l===X?ka.r:ka.l,V<O.i&&V<ka.i&&0>(X.x-ka.x)*(O.y-X.y)-(X.x-O.x)*(ka.y-X.y)&&L.push([F[V],F[O.i],F[ka.i]])}),L},k.x=function(F){return arguments.length?
(y=sb(t=F),k):t},k.y=function(F){return arguments.length?(E=sb(A=F),k):A},k.clipExtent=function(F){return arguments.length?(C=null==F?Yf:F,k):C===Yf?null:C},k.size=function(F){return arguments.length?k.clipExtent(F&&[[0,0],F]):C===Yf?null:C&&C[1]},k)};var Yf=[[-1E6,-1E6],[1E6,1E6]];aa.geom.delaunay=function(b){return aa.geom.voronoi().triangles(b)};aa.geom.quadtree=function(b,k,q,t,A){function y(L){function O(Ca,Ea,La,Na,db,jb,eb,Ta){if(!isNaN(La)&&!isNaN(Na))if(Ca.leaf){var hb=Ca.x,ub=Ca.y;if(null!=
hb){if(!(.01>ob(hb-La)+ob(ub-Na))){var Eb=Ca.point;Ca.x=Ca.y=Ca.point=null;V(Ca,Eb,hb,ub,db,jb,eb,Ta)}V(Ca,Ea,La,Na,db,jb,eb,Ta)}else Ca.x=La,Ca.y=Na,Ca.point=Ea}else V(Ca,Ea,La,Na,db,jb,eb,Ta)}function V(Ca,Ea,La,Na,db,jb,eb,Ta){var hb=.5*(db+eb),ub=.5*(jb+Ta),Eb=La>=hb,sc=Na>=ub,Mb=sc<<1|Eb;Ca.leaf=!1;Ca=Ca.nodes[Mb]||(Ca.nodes[Mb]=$c());Eb?db=hb:eb=hb;sc?jb=ub:Ta=ub;O(Ca,Ea,La,Na,db,jb,eb,Ta)}var X,Z,da,pa,ka=sb(C),na=sb(F);if(null!=k){var oa=k;var ia=q;var va=t;var Ha=A}else if(va=Ha=-(oa=ia=
1/0),X=[],Z=[],pa=L.length,E)for(da=0;pa>da;++da){var ba=L[da];ba.x<oa&&(oa=ba.x);ba.y<ia&&(ia=ba.y);ba.x>va&&(va=ba.x);ba.y>Ha&&(Ha=ba.y);X.push(ba.x);Z.push(ba.y)}else for(da=0;pa>da;++da){var la=+ka(ba=L[da],da);ba=+na(ba,da);oa>la&&(oa=la);ia>ba&&(ia=ba);la>va&&(va=la);ba>Ha&&(Ha=ba);X.push(la);Z.push(ba)}la=va-oa;ba=Ha-ia;la>ba?Ha=ia+la:va=oa+ba;var ta=$c();if(ta.add=function(Ca){O(ta,Ca,+ka(Ca,++da),+na(Ca,da),oa,ia,va,Ha)},ta.visit=function(Ca){Jd(Ca,ta,oa,ia,va,Ha)},ta.find=function(Ca){return vd(ta,
Ca[0],Ca[1],oa,ia,va,Ha)},da=-1,null==k){for(;++da<pa;)O(ta,L[da],X[da],Z[da],oa,ia,va,Ha);--da}else L.forEach(ta.add);return X=Z=L=ba=null,ta}var E,C=mb,F=Gb;return(E=arguments.length)?(C=Ge,F=fg,3===E&&(A=q,t=k,q=k=0),y(b)):(y.x=function(L){return arguments.length?(C=L,y):C},y.y=function(L){return arguments.length?(F=L,y):F},y.extent=function(L){return arguments.length?(null==L?k=q=t=A=null:(k=+L[0][0],q=+L[0][1],t=+L[1][0],A=+L[1][1]),y):null==k?null:[[k,q],[t,A]]},y.size=function(L){return arguments.length?
(null==L?k=q=t=A=null:(k=q=0,t=+L[0],A=+L[1]),y):null==k?null:[t-k,A-q]},y)};aa.interpolateRgb=ne;aa.interpolateObject=He;aa.interpolateNumber=Rc;aa.interpolateString=Vd;var Cg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dg=new RegExp(Cg.source,"g");aa.interpolate=wd;aa.interpolators=[function(b,k){var q=typeof k;return("string"===q?uf.has(k)||/^(#|rgb\(|hsl\()/.test(k)?ne:Vd:k instanceof H?ne:Array.isArray(k)?oe:"object"===q&&isNaN(k)?He:Rc)(b,k)}];aa.interpolateArray=oe;var ei=function(){return x},
Zi=aa.map({linear:ei,poly:function(b){return function(k){return Math.pow(k,b)}},quad:function(){return pe},cubic:function(){return hg},sin:function(){return Wd},exp:function(){return dg},circle:function(){return Fe},elastic:function(b,k){var q;return 2>arguments.length&&(k=.45),arguments.length?q=k/Vc*Math.asin(1/b):(b=1,q=k/4),function(t){return 1+b*Math.pow(2,-10*t)*Math.sin((t-q)*Vc/k)}},back:function(b){return b||(b=1.70158),function(k){return k*k*((b+1)*k-b)}},bounce:function(){return eg}}),
$i=aa.map({"in":x,out:$e,"in-out":af,"out-in":function(b){return af($e(b))}});aa.ease=function(b){var k=b.indexOf("-"),q=0<=k?b.slice(0,k):b;k=0<=k?b.slice(k+1):"in";return q=Zi.get(q)||ei,k=$i.get(k)||x,gg(k(q.apply(null,Th.call(arguments,1))))};aa.interpolateHcl=function(b,k){b=aa.hcl(b);k=aa.hcl(k);var q=b.h,t=b.c,A=b.l,y=k.h-q,E=k.c-t,C=k.l-A;return isNaN(E)&&(E=0,t=isNaN(t)?k.c:t),isNaN(y)?(y=0,q=isNaN(q)?k.h:q):180<y?y-=360:-180>y&&(y+=360),function(F){return Zc(q+y*F,t+E*F,A+C*F)+""}};aa.interpolateHsl=
function(b,k){b=aa.hsl(b);k=aa.hsl(k);var q=b.h,t=b.s,A=b.l,y=k.h-q,E=k.s-t,C=k.l-A;return isNaN(E)&&(E=0,t=isNaN(t)?k.s:t),isNaN(y)?(y=0,q=isNaN(q)?k.h:q):180<y?y-=360:-180>y&&(y+=360),function(F){return hc(q+y*F,t+E*F,A+C*F)+""}};aa.interpolateLab=function(b,k){b=aa.lab(b);k=aa.lab(k);var q=b.l,t=b.a,A=b.b,y=k.l-q,E=k.a-t,C=k.b-A;return function(F){return xd(q+y*F,t+E*F,A+C*F)+""}};aa.interpolateRound=bd;aa.transform=function(b){var k=Ec.createElementNS(aa.ns.prefix.svg,"g");return(aa.transform=
function(q){if(null!=q){k.setAttribute("transform",q);var t=k.transform.baseVal.consolidate()}return new cd(t?t.matrix:aj)})(b)};cd.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var aj={a:1,b:0,c:0,d:1,e:0,f:0};aa.interpolateTransform=bf;aa.layout={};aa.layout.bundle=function(){return function(b){for(var k=[],q=-1,t=b.length;++q<t;){var A=k,y=A.push,E=b[q],C=E.source;E=E.target;var F=E;if(C===F)var L=C;else{L=Bb(C);
F=Bb(F);for(var O=L.pop(),V=F.pop(),X=null;O===V;)X=O,O=L.pop(),V=F.pop();L=X}for(F=[C];C!==L;)C=C.parent,F.push(C);for(C=F.length;E!==L;)F.splice(C,0,E),E=E.parent;y.call(A,F)}return k}};aa.layout.chord=function(){function b(){var V,X,Z={},da=[],pa=aa.range(y),ka=[];q=[];t=[];var na=0;for(V=-1;++V<y;){var oa=0;for(X=-1;++X<y;)oa+=A[V][X];da.push(oa);ka.push(aa.range(y));na+=oa}E&&pa.sort(function(Ca,Ea){return E(da[Ca],da[Ea])});C&&ka.forEach(function(Ca,Ea){Ca.sort(function(La,Na){return C(A[Ea][La],
A[Ea][Na])})});na=(Vc-O*y)/na;oa=0;for(V=-1;++V<y;){var ia=oa;for(X=-1;++X<y;){var va=pa[V],Ha=ka[va][X],ba=A[va][Ha],la=oa,ta=oa+=ba*na;Z[va+"-"+Ha]={index:va,subindex:Ha,startAngle:la,endAngle:ta,value:ba}}t[va]={index:va,startAngle:ia,endAngle:oa,value:(oa-ia)/na};oa+=O}for(V=-1;++V<y;)for(X=V-1;++X<y;)na=Z[V+"-"+X],oa=Z[X+"-"+V],(na.value||oa.value)&&q.push(na.value<oa.value?{source:oa,target:na}:{source:na,target:oa});F&&k()}function k(){q.sort(function(V,X){return F((V.source.value+V.target.value)/
2,(X.source.value+X.target.value)/2)})}var q,t,A,y,E,C,F,L={},O=0;return L.matrix=function(V){return arguments.length?(y=(A=V)&&A.length,q=t=null,L):A},L.padding=function(V){return arguments.length?(O=V,q=t=null,L):O},L.sortGroups=function(V){return arguments.length?(E=V,q=t=null,L):E},L.sortSubgroups=function(V){return arguments.length?(C=V,q=null,L):C},L.sortChords=function(V){return arguments.length?(F=V,q&&k(),L):F},L.chords=function(){return q||b(),q},L.groups=function(){return t||b(),t},L};
aa.layout.force=function(){function b(ia){return function(va,Ha,ba,la){if(va.point!==ia){ba=va.cx-ia.x;var ta=va.cy-ia.y;Ha=la-Ha;la=ba*ba+ta*ta;if(la>Ha*Ha/ka)return da>la&&(Ha=va.charge/la,ia.px-=ba*Ha,ia.py-=ta*Ha),!0;va.point&&la&&da>la&&(Ha=va.pointCharge/la,ia.px-=ba*Ha,ia.py-=ta*Ha)}return!va.charge}}function k(ia){ia.px=aa.event.x;ia.py=aa.event.y;C.resume()}var q,t,A,y,E,C={},F=aa.dispatch("start","tick","end"),L=[1,1],O=.9,V=bj,X=cj,Z=-30,da=dj,pa=.1,ka=.64,na=[],oa=[];return C.tick=function(){if(.005>
(t*=.99))return F.end({type:"end",alpha:t=0}),!0;var ia,va,Ha,ba=na.length,la=oa.length;for(ia=0;la>ia;++ia){var ta=oa[ia];var Ca=ta.source;var Ea=ta.target;var La=Ea.x-Ca.x;var Na=Ea.y-Ca.y;(va=La*La+Na*Na)&&(va=t*y[ia]*((va=Math.sqrt(va))-A[ia])/va,La*=va,Na*=va,Ea.x-=La*(Ha=Ca.weight/(Ea.weight+Ca.weight)),Ea.y-=Na*Ha,Ca.x+=La*(Ha=1-Ha),Ca.y+=Na*Ha)}if((Ha=t*pa)&&(La=L[0]/2,Na=L[1]/2,ia=-1,Ha))for(;++ia<ba;)ta=na[ia],ta.x+=(La-ta.x)*Ha,ta.y+=(Na-ta.y)*Ha;if(Z)for(ya(Ca=aa.geom.quadtree(na),t,E),
ia=-1;++ia<ba;)(ta=na[ia]).fixed||Ca.visit(b(ta));for(ia=-1;++ia<ba;)ta=na[ia],ta.fixed?(ta.x=ta.px,ta.y=ta.py):(ta.x-=(ta.px-(ta.px=ta.x))*O,ta.y-=(ta.py-(ta.py=ta.y))*O);F.tick({type:"tick",alpha:t})},C.nodes=function(ia){return arguments.length?(na=ia,C):na},C.links=function(ia){return arguments.length?(oa=ia,C):oa},C.size=function(ia){return arguments.length?(L=ia,C):L},C.linkDistance=function(ia){return arguments.length?(V="function"==typeof ia?ia:+ia,C):V},C.distance=C.linkDistance,C.linkStrength=
function(ia){return arguments.length?(X="function"==typeof ia?ia:+ia,C):X},C.friction=function(ia){return arguments.length?(O=+ia,C):O},C.charge=function(ia){return arguments.length?(Z="function"==typeof ia?ia:+ia,C):Z},C.chargeDistance=function(ia){return arguments.length?(da=ia*ia,C):Math.sqrt(da)},C.gravity=function(ia){return arguments.length?(pa=+ia,C):pa},C.theta=function(ia){return arguments.length?(ka=ia*ia,C):Math.sqrt(ka)},C.alpha=function(ia){return arguments.length?(ia=+ia,t?t=0<ia?ia:
0:0<ia&&(F.start({type:"start",alpha:t=ia}),aa.timer(C.tick)),C):t},C.start=function(){function ia(La,Na){if(!Ha){Ha=Array(la);for(eb=0;la>eb;++eb)Ha[eb]=[];for(eb=0;ta>eb;++eb){var db=oa[eb];Ha[db.source.index].push(db.target);Ha[db.target.index].push(db.source)}}for(var jb=Ha[va],eb=-1,Ta=jb.length;++eb<Ta;)if(!isNaN(db=jb[eb][La]))return db;return Math.random()*Na}var va,Ha,ba,la=na.length,ta=oa.length,Ca=L[0],Ea=L[1];for(va=0;la>va;++va)(ba=na[va]).index=va,ba.weight=0;for(va=0;ta>va;++va)ba=
oa[va],"number"==typeof ba.source&&(ba.source=na[ba.source]),"number"==typeof ba.target&&(ba.target=na[ba.target]),++ba.source.weight,++ba.target.weight;for(va=0;la>va;++va)ba=na[va],isNaN(ba.x)&&(ba.x=ia("x",Ca)),isNaN(ba.y)&&(ba.y=ia("y",Ea)),isNaN(ba.px)&&(ba.px=ba.x),isNaN(ba.py)&&(ba.py=ba.y);if(A=[],"function"==typeof V)for(va=0;ta>va;++va)A[va]=+V.call(this,oa[va],va);else for(va=0;ta>va;++va)A[va]=V;if(y=[],"function"==typeof X)for(va=0;ta>va;++va)y[va]=+X.call(this,oa[va],va);else for(va=
0;ta>va;++va)y[va]=X;if(E=[],"function"==typeof Z)for(va=0;la>va;++va)E[va]=+Z.call(this,na[va],va);else for(va=0;la>va;++va)E[va]=Z;return C.resume()},C.resume=function(){return C.alpha(.1)},C.stop=function(){return C.alpha(0)},C.drag=function(){return q||(q=aa.behavior.drag().origin(x).on("dragstart.force",le).on("drag.force",k).on("dragend.force",ea)),arguments.length?void this.on("mouseover.force",sa).on("mouseout.force",ua).call(q):q},aa.rebind(C,F,"on")};var bj=20,cj=1,dj=1/0;aa.layout.hierarchy=
function(){function b(A){var y,E=[A],C=[];for(A.depth=0;null!=(y=E.pop());)if(C.push(y),(L=q.call(b,y,y.depth))&&(F=L.length)){for(var F,L,O;0<=--F;)E.push(O=L[F]),O.parent=y,O.depth=y.depth+1;t&&(y.value=0);y.children=L}else t&&(y.value=+t.call(b,y,y.depth)||0),delete y.children;return Ua(A,function(V){var X,Z;k&&(X=V.children)&&X.sort(k);t&&(Z=V.parent)&&(Z.value+=V.value)}),C}var k=tb,q=fb,t=bb;return b.sort=function(A){return arguments.length?(k=A,b):k},b.children=function(A){return arguments.length?
(q=A,b):q},b.value=function(A){return arguments.length?(t=A,b):t},b.revalue=function(A){return t&&(Ma(A,function(y){y.children&&(y.value=0)}),Ua(A,function(y){var E;y.children||(y.value=+t.call(b,y,y.depth)||0);(E=y.parent)&&(E.value+=y.value)})),A},b};aa.layout.partition=function(){function b(y,E,C,F){var L=y.children;if(y.x=E,y.y=y.depth*F,y.dx=C,y.dy=F,L&&(O=L.length)){var O,V,X=-1;for(C=y.value?C/y.value:0;++X<O;)b(V=L[X],E,y=V.value*C,F),E+=y}}function k(y){y=y.children;var E=0;if(y&&(C=y.length))for(var C,
F=-1;++F<C;)E=Math.max(E,k(y[F]));return 1+E}function q(y,E){y=t.call(this,y,E);return b(y[0],0,A[0],A[1]/k(y[0])),y}var t=aa.layout.hierarchy(),A=[1,1];return q.size=function(y){return arguments.length?(A=y,q):A},Ka(q,t)};aa.layout.pie=function(){function b(E){var C,F=E.length,L=E.map(function(ka,na){return+k.call(b,ka,na)}),O=+("function"==typeof t?t.apply(this,arguments):t),V=("function"==typeof A?A.apply(this,arguments):A)-O,X=Math.min(Math.abs(V)/F,+("function"==typeof y?y.apply(this,arguments):
y)),Z=X*(0>V?-1:1),da=(V-F*Z)/aa.sum(L);F=aa.range(F);var pa=[];return null!=q&&F.sort(q===fi?function(ka,na){return L[na]-L[ka]}:function(ka,na){return q(E[ka],E[na])}),F.forEach(function(ka){pa[ka]={data:E[ka],value:C=L[ka],startAngle:O,endAngle:O+=C*da+Z,padAngle:X}}),pa}var k=Number,q=fi,t=0,A=Vc,y=0;return b.value=function(E){return arguments.length?(k=E,b):k},b.sort=function(E){return arguments.length?(q=E,b):q},b.startAngle=function(E){return arguments.length?(t=E,b):t},b.endAngle=function(E){return arguments.length?
(A=E,b):A},b.padAngle=function(E){return arguments.length?(y=E,b):y},b};var fi={};aa.layout.stack=function(){function b(C,F){if(!(X=C.length))return C;var L=C.map(function(ka,na){return k.call(b,ka,na)}),O=L.map(function(ka){return ka.map(function(na,oa){return[y.call(b,na,oa),E.call(b,na,oa)]})}),V=q.call(b,O,F);L=aa.permute(L,V);O=aa.permute(O,V);var X,Z,da=t.call(b,O,F),pa=L[0].length;for(V=0;pa>V;++V)for(A.call(b,L[0][V],Z=da[V],O[0][V][1]),F=1;X>F;++F)A.call(b,L[F][V],Z+=O[F-1][V][1],O[F][V][1]);
return C}var k=x,q=Hb,t=Cb,A=Oc,y=Ab,E=bc;return b.values=function(C){return arguments.length?(k=C,b):k},b.order=function(C){return arguments.length?(q="function"==typeof C?C:ej.get(C)||Hb,b):q},b.offset=function(C){return arguments.length?(t="function"==typeof C?C:fj.get(C)||Cb,b):t},b.x=function(C){return arguments.length?(y=C,b):y},b.y=function(C){return arguments.length?(E=C,b):E},b.out=function(C){return arguments.length?(A=C,b):A},b};var ej=aa.map({"inside-out":function(b){var k=b.length,q=
b.map(ic),t=b.map(jc),A=aa.range(k).sort(function(O,V){return q[O]-q[V]}),y=0,E=0,C=[],F=[];for(b=0;k>b;++b){var L=A[b];E>y?(y+=t[L],C.push(L)):(E+=t[L],F.push(L))}return F.reverse().concat(C)},reverse:function(b){return aa.range(b.length).reverse()},"default":Hb}),fj=aa.map({silhouette:function(b){var k,q,t,A=b.length,y=b[0].length,E=[],C=0,F=[];for(q=0;y>q;++q){for(t=k=0;A>k;k++)t+=b[k][q][1];t>C&&(C=t);E.push(t)}for(q=0;y>q;++q)F[q]=(C-E[q])/2;return F},wiggle:function(b){var k,q,t,A,y,E,C,F=b.length,
L=b[0],O=L.length,V=[];V[0]=E=C=0;for(q=1;O>q;++q){for(t=k=0;F>k;++k)t+=b[k][q][1];var X=k=0;for(y=L[q][0]-L[q-1][0];F>k;++k){var Z=0;for(A=(b[k][q][1]-b[k][q-1][1])/(2*y);k>Z;++Z)A+=(b[Z][q][1]-b[Z][q-1][1])/y;X+=A*b[k][q][1]}V[q]=E-=t?X/t*y:0;C>E&&(C=E)}for(q=0;O>q;++q)V[q]-=C;return V},expand:function(b){var k,q,t,A=b.length,y=b[0].length,E=1/A,C=[];for(q=0;y>q;++q){for(t=k=0;A>k;k++)t+=b[k][q][1];if(t)for(k=0;A>k;k++)b[k][q][1]/=t;else for(k=0;A>k;k++)b[k][q][1]=E}for(q=0;y>q;++q)C[q]=0;return C},
zero:Cb});aa.layout.histogram=function(){function b(y,E){var C=[],F=y.map(q,this),L=t.call(this,F,E),O=A.call(this,L,F,E);E=-1;for(var V=F.length,X=O.length-1,Z=k?1:1/V;++E<X;){var da=C[E]=[];da.dx=O[E+1]-(da.x=O[E]);da.y=0}if(0<X)for(E=-1;++E<V;){var pa=F[E];pa>=L[0]&&pa<=L[1]&&(da=C[aa.bisect(O,pa,1,X)-1],da.y+=Z,da.push(y[E]))}return C}var k=!0,q=Number,t=qi,A=Jc;return b.value=function(y){return arguments.length?(q=y,b):q},b.range=function(y){return arguments.length?(t=sb(y),b):t},b.bins=function(y){return arguments.length?
(A="number"==typeof y?function(E){return Ze(E,y)}:sb(y),b):A},b.frequency=function(y){return arguments.length?(k=!!y,b):k},b};aa.layout.pack=function(){function b(y,E){y=q.call(this,y,E);E=y[0];var C=A[0],F=A[1],L=null==k?Math.sqrt:"function"==typeof k?k:function(){return k};if(E.x=E.y=0,Ua(E,function(V){V.r=+L(V.value)}),Ua(E,rh),t){var O=t*(k?1:Math.max(2*E.r/C,2*E.r/F))/2;Ua(E,function(V){V.r+=O});Ua(E,rh);Ua(E,function(V){V.r-=O})}return th(E,C/2,F/2,k?1:1/Math.max(2*E.r/C,2*E.r/F)),y}var k,q=
aa.layout.hierarchy().sort(ri),t=0,A=[1,1];return b.size=function(y){return arguments.length?(A=y,b):A},b.radius=function(y){return arguments.length?(k=null==y||"function"==typeof y?y:+y,b):k},b.padding=function(y){return arguments.length?(t=+y,b):t},Ka(b,q)};aa.layout.tree=function(){function b(L,O){L=y.call(this,L,O);O=L[0];var V=k(O);if(Ua(V,q),V.parent.m=-V.z,Ma(V,t),F)Ma(O,A);else{var X=O,Z=O,da=O;Ma(O,function(oa){oa.x<X.x&&(X=oa);oa.x>Z.x&&(Z=oa);oa.depth>da.depth&&(da=oa)});var pa=E(X,Z)/
2-X.x,ka=C[0]/(Z.x+E(Z,X)/2+pa),na=C[1]/(da.depth||1);Ma(O,function(oa){oa.x=(oa.x+pa)*ka;oa.y=oa.depth*na})}return L}function k(L){for(var O={A:null,children:[L]},V=[O];null!=(L=V.pop());)for(var X,Z=L.children,da=0,pa=Z.length;pa>da;++da)V.push((Z[da]=X={_:Z[da],parent:L,children:(X=Z[da].children)&&X.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:da}).a=X);return O.children[0]}function q(L){var O=L.children,V=L.parent.children,X=L.i?V[L.i-1]:null;if(O.length){for(var Z,da=0,pa=0,ka=L.children,
na=ka.length;0<=--na;)Z=ka[na],Z.z+=da,Z.m+=da,da+=Z.s+(pa+=Z.c);O=(O[0].z+O[O.length-1].z)/2;X?(L.z=X.z+E(L._,X._),L.m=L.z-O):L.z=O}else X&&(L.z=X.z+E(L._,X._));O=L.parent;V=L.parent.A||V[0];if(X){da=Z=L;pa=X;ka=Z.parent.children[0];na=Z.m;for(var oa=da.m,ia=pa.m,va=ka.m;pa=Gg(pa),Z=Fg(Z),pa&&Z;){ka=Fg(ka);da=Gg(da);da.a=L;X=pa.z+ia-Z.z-na+E(pa._,Z._);if(0<X){var Ha=pa.a.parent===L.parent?pa.a:V,ba=L,la=X,ta=la/(ba.i-Ha.i);ba.c-=ta;ba.s+=la;Ha.c+=ta;ba.z+=la;ba.m+=la;na+=X;oa+=X}ia+=pa.m;na+=Z.m;
va+=ka.m;oa+=da.m}pa&&!Gg(da)&&(da.t=pa,da.m+=ia-oa);Z&&!Fg(ka)&&(ka.t=Z,ka.m+=na-va,V=L)}O.A=V}function t(L){L._.x=L.z+L.parent.m;L.m+=L.parent.m}function A(L){L.x*=C[0];L.y=L.depth*C[1]}var y=aa.layout.hierarchy().sort(null).value(null),E=uh,C=[1,1],F=null;return b.separation=function(L){return arguments.length?(E=L,b):E},b.size=function(L){return arguments.length?(F=null==(C=L)?A:null,b):F?null:C},b.nodeSize=function(L){return arguments.length?(F=null==(C=L)?null:A,b):F?C:null},Ka(b,y)};aa.layout.cluster=
function(){function b(y,E){var C;y=k.call(this,y,E);var F=y[0],L=0;Ua(F,function(Z){var da=Z.children;da&&da.length?(Z.x=vi(da),Z.y=ui(da)):(Z.x=C?L+=q(Z,C):0,Z.y=0,C=Z)});E=vh(F);var O=wh(F),V=E.x-q(E,O)/2,X=O.x+q(O,E)/2;return Ua(F,A?function(Z){Z.x=(Z.x-F.x)*t[0];Z.y=(F.y-Z.y)*t[1]}:function(Z){Z.x=(Z.x-V)/(X-V)*t[0];Z.y=(1-(F.y?Z.y/F.y:1))*t[1]}),y}var k=aa.layout.hierarchy().sort(null).value(null),q=uh,t=[1,1],A=!1;return b.separation=function(y){return arguments.length?(q=y,b):q},b.size=function(y){return arguments.length?
(A=null==(t=y),b):A?null:t},b.nodeSize=function(y){return arguments.length?(A=null!=(t=y),b):A?t:null},Ka(b,k)};aa.layout.treemap=function(){function b(da,pa){for(var ka,na,oa=-1,ia=da.length;++oa<ia;)na=(ka=da[oa]).value*(0>pa?0:pa),ka.area=isNaN(na)||0>=na?0:na}function k(da){var pa=da.children;if(pa&&pa.length){var ka=O(da),na=[],oa=pa.slice(),ia=1/0,va="slice"===X?ka.dx:"dice"===X?ka.dy:"slice-dice"===X?1&da.depth?ka.dy:ka.dx:Math.min(ka.dx,ka.dy);b(oa,ka.dx*ka.dy/da.value);for(na.area=0;0<(da=
oa.length);){na.push(da=oa[da-1]);na.area+=da.area;var Ha;if(!(Ha="squarify"!==X)){var ba=void 0;da=va;var la=na.area;Ha=0;for(var ta=1/0,Ca=-1,Ea=na.length;++Ca<Ea;)(ba=na[Ca].area)&&(ta>ba&&(ta=ba),ba>Ha&&(Ha=ba));Ha=(ba=(la*=la,da*=da,la?Math.max(da*Ha*Z/la,la/(da*ta*Z)):1/0))<=ia}Ha?(oa.pop(),ia=ba):(na.area-=na.pop().area,t(na,va,ka,!1),va=Math.min(ka.dx,ka.dy),na.length=na.area=0,ia=1/0)}na.length&&(t(na,va,ka,!0),na.length=na.area=0);pa.forEach(k)}}function q(da){var pa=da.children;if(pa&&
pa.length){var ka=O(da),na=pa.slice(),oa=[];b(na,ka.dx*ka.dy/da.value);for(oa.area=0;da=na.pop();)oa.push(da),oa.area+=da.area,null!=da.z&&(t(oa,da.z?ka.dx:ka.dy,ka,!na.length),oa.length=oa.area=0);pa.forEach(q)}}function t(da,pa,ka,na){var oa=-1,ia=da.length,va=ka.x,Ha=ka.y,ba=pa?C(da.area/pa):0;if(pa==ka.dx){for((na||ba>ka.dy)&&(ba=ka.dy);++oa<ia;){var la=da[oa];la.x=va;la.y=Ha;la.dy=ba;va+=la.dx=Math.min(ka.x+ka.dx-va,ba?C(la.area/ba):0)}la.z=!0;la.dx+=ka.x+ka.dx-va;ka.y+=ba;ka.dy-=ba}else{for((na||
ba>ka.dx)&&(ba=ka.dx);++oa<ia;)la=da[oa],la.x=va,la.y=Ha,la.dx=ba,Ha+=la.dy=Math.min(ka.y+ka.dy-Ha,ba?C(la.area/ba):0);la.z=!1;la.dy+=ka.y+ka.dy-Ha;ka.x+=ba;ka.dx-=ba}}function A(da){da=y||E(da);var pa=da[0];return pa.x=0,pa.y=0,pa.dx=F[0],pa.dy=F[1],y&&E.revalue(pa),b([pa],pa.dx*pa.dy/pa.value),(y?q:k)(pa),V&&(y=da),da}var y,E=aa.layout.hierarchy(),C=Math.round,F=[1,1],L=null,O=Hg,V=!1,X="squarify",Z=.5*(1+Math.sqrt(5));return A.size=function(da){return arguments.length?(F=da,A):F},A.padding=function(da){function pa(oa){var ia=
da.call(A,oa,oa.depth);return null==ia?Hg(oa):xh(oa,"number"==typeof ia?[ia,ia,ia,ia]:ia)}function ka(oa){return xh(oa,da)}if(!arguments.length)return L;var na;return O=null==(L=da)?Hg:"function"==(na=typeof da)?pa:"number"===na?(da=[da,da,da,da],ka):ka,A},A.round=function(da){return arguments.length?(C=da?Math.round:Number,A):C!=Number},A.sticky=function(da){return arguments.length?(V=da,y=null,A):V},A.ratio=function(da){return arguments.length?(Z=da,A):Z},A.mode=function(da){return arguments.length?
(X=da+"",A):X},Ka(A,E)};aa.random={normal:function(b,k){var q=arguments.length;return 2>q&&(k=1),1>q&&(b=0),function(){do{var t=2*Math.random()-1;var A=2*Math.random()-1;A=t*t+A*A}while(!A||1<A);return b+k*t*Math.sqrt(-2*Math.log(A)/A)}},logNormal:function(){var b=aa.random.normal.apply(aa,arguments);return function(){return Math.exp(b())}},bates:function(b){var k=aa.random.irwinHall(b);return function(){return k()/b}},irwinHall:function(b){return function(){for(var k=0,q=0;b>q;q++)k+=Math.random();
return k}}};aa.scale={};var xi={floor:x,ceil:x};aa.scale.linear=function(){return zh([0,1],[0,1],wd,!1)};var Ai={s:1,g:1,p:1,r:1,e:1};aa.scale.log=function(){return Ah(aa.scale.linear().domain([0,1]),10,!0,[1,10])};var Bh=aa.format(".0e"),Bi={floor:function(b){return-Math.ceil(-b)},ceil:function(b){return-Math.floor(-b)}};aa.scale.pow=function(){return Ch(aa.scale.linear(),1,[0,1])};aa.scale.sqrt=function(){return aa.scale.pow().exponent(.5)};aa.scale.ordinal=function(){return Dh([],{t:"range",a:[[]]})};
aa.scale.category10=function(){return aa.scale.ordinal().range(gj)};aa.scale.category20=function(){return aa.scale.ordinal().range(hj)};aa.scale.category20b=function(){return aa.scale.ordinal().range(ij)};aa.scale.category20c=function(){return aa.scale.ordinal().range(jj)};var gj=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(zb),hj=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,
8355711,13092807,12369186,14408589,1556175,10410725].map(zb),ij=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(zb),jj=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(zb);aa.scale.quantile=function(){return Eh([],[])};aa.scale.quantize=function(){return Fh(0,
1,[0,1])};aa.scale.threshold=function(){return Gh([.5],[0,1])};aa.scale.identity=function(){return Hh([0,1])};aa.svg={};aa.svg.arc=function(){function b(){var L=Math.max(0,+q.apply(this,arguments)),O=Math.max(0,+t.apply(this,arguments)),V=E.apply(this,arguments)-Zb,X=C.apply(this,arguments)-Zb,Z=Math.abs(X-V),da=V>X?0:1;if(L>O&&(pa=O,O=L,L=pa),Z>=Ui)return k(O,da)+(L?k(L,1-da):"")+"Z";var pa,ka,na;var oa=pa=0;Z=[];if((na=(+F.apply(this,arguments)||0)/2)&&(ka=y===Zf?Math.sqrt(L*L+O*O):+y.apply(this,
arguments),da||(oa*=-1),O&&(oa=kc(ka/O*Math.sin(na))),L&&(pa=kc(ka/L*Math.sin(na)))),O){ka=O*Math.cos(V+oa);na=O*Math.sin(V+oa);var ia=O*Math.cos(X-oa);var va=O*Math.sin(X-oa);var Ha=Math.abs(X-V-2*oa)<=kb?0:1;oa&&Ff(ka,na,ia,va)===da^Ha&&(ia=(V+X)/2,ka=O*Math.cos(ia),na=O*Math.sin(ia),ia=va=null)}else ka=na=0;if(L){oa=L*Math.cos(X-pa);var ba=L*Math.sin(X-pa);var la=L*Math.cos(V+pa);var ta=L*Math.sin(V+pa);var Ca=Math.abs(V-X+2*pa)<=kb?0:1;pa&&Ff(oa,ba,la,ta)===1-da^Ca&&(la=(V+X)/2,oa=L*Math.cos(la),
ba=L*Math.sin(la),la=ta=null)}else oa=ba=0;if(.001<(pa=Math.min(Math.abs(O-L)/2,+A.apply(this,arguments)))){Ha=O>L^da?0:1;Ca=null==la?[oa,ba]:null==ia?[ka,na]:Pc([ka,na],[la,ta],[ia,va],[oa,ba]);V=ka-Ca[0];X=na-Ca[1];var Ea=ia-Ca[0],La=va-Ca[1];V=1/Math.sin(Math.acos((V*Ea+X*La)/(Math.sqrt(V*V+X*X)*Math.sqrt(Ea*Ea+La*La)))/2);Ca=Math.sqrt(Ca[0]*Ca[0]+Ca[1]*Ca[1]);null!=ia?(X=Math.min(pa,(O-Ca)/(V+1)),Ea=Gf(null==la?[oa,ba]:[la,ta],[ka,na],O,X,da),La=Gf([ia,va],[oa,ba],O,X,da),pa===X?Z.push("M",Ea[0],
"A",X,",",X," 0 0,",Ha," ",Ea[1],"A",O,",",O," 0 ",1-da^Ff(Ea[1][0],Ea[1][1],La[1][0],La[1][1]),",",da," ",La[1],"A",X,",",X," 0 0,",Ha," ",La[0]):Z.push("M",Ea[0],"A",X,",",X," 0 1,",Ha," ",La[0])):Z.push("M",ka,",",na);null!=la?(O=Math.min(pa,(L-Ca)/(V-1)),la=Gf([ka,na],[la,ta],L,-O,da),ia=Gf([oa,ba],null==ia?[ka,na]:[ia,va],L,-O,da),pa===O?Z.push("L",ia[0],"A",O,",",O," 0 0,",Ha," ",ia[1],"A",L,",",L," 0 ",da^Ff(ia[1][0],ia[1][1],la[1][0],la[1][1]),",",1-da," ",la[1],"A",O,",",O," 0 0,",Ha," ",
la[0]):Z.push("L",ia[0],"A",O,",",O," 0 0,",Ha," ",la[0])):Z.push("L",oa,",",ba)}else Z.push("M",ka,",",na),null!=ia&&Z.push("A",O,",",O," 0 ",Ha,",",da," ",ia,",",va),Z.push("L",oa,",",ba),null!=la&&Z.push("A",L,",",L," 0 ",Ca,",",1-da," ",la,",",ta);return Z.push("Z"),Z.join("")}function k(L,O){return"M0,"+L+"A"+L+","+L+" 0 1,"+O+" 0,"+-L+"A"+L+","+L+" 0 1,"+O+" 0,"+L}var q=Di,t=Ei,A=Ci,y=Zf,E=Ih,C=Jh,F=Fi;return b.innerRadius=function(L){return arguments.length?(q=sb(L),b):q},b.outerRadius=function(L){return arguments.length?
(t=sb(L),b):t},b.cornerRadius=function(L){return arguments.length?(A=sb(L),b):A},b.padRadius=function(L){return arguments.length?(y=L==Zf?Zf:sb(L),b):y},b.startAngle=function(L){return arguments.length?(E=sb(L),b):E},b.endAngle=function(L){return arguments.length?(C=sb(L),b):C},b.padAngle=function(L){return arguments.length?(F=sb(L),b):F},b.centroid=function(){var L=(+q.apply(this,arguments)+ +t.apply(this,arguments))/2,O=(+E.apply(this,arguments)+ +C.apply(this,arguments))/2-Zb;return[Math.cos(O)*
L,Math.sin(O)*L]},b};var Zf="auto";aa.svg.line=function(){return Kh(x)};var Kg=aa.map({linear:Wc,"linear-closed":function(b){return Wc(b)+"Z"},step:function(b){for(var k=0,q=b.length,t=b[0],A=[t[0],",",t[1]];++k<q;)A.push("H",(t[0]+(t=b[k])[0])/2,"V",t[1]);return 1<q&&A.push("H",t[0]),A.join("")},"step-before":Lg,"step-after":Mg,basis:Lh,"basis-open":function(b){if(4>b.length)return Wc(b);for(var k,q=[],t=-1,A=b.length,y=[0],E=[0];3>++t;)k=b[t],y.push(k[0]),E.push(k[1]);q.push(Yc(Td,y)+","+Yc(Td,
E));for(--t;++t<A;)k=b[t],y.shift(),y.push(k[0]),E.shift(),E.push(k[1]),Og(q,y,E);return q.join("")},"basis-closed":function(b){for(var k,q,t=-1,A=b.length,y=A+4,E=[],C=[];4>++t;)q=b[t%A],E.push(q[0]),C.push(q[1]);k=[Yc(Td,E),",",Yc(Td,C)];for(--t;++t<y;)q=b[t%A],E.shift(),E.push(q[0]),C.shift(),C.push(q[1]),Og(k,E,C);return k.join("")},bundle:function(b,k){var q=b.length-1;if(q)for(var t,A,y=b[0][0],E=b[0][1],C=b[q][0]-y,F=b[q][1]-E,L=-1;++L<=q;)t=b[L],A=L/q,t[0]=k*t[0]+(1-k)*(y+A*C),t[1]=k*t[1]+
(1-k)*(E+A*F);return Lh(b)},cardinal:function(b,k){return 3>b.length?Wc(b):b[0]+Hf(b,Ng(b,k))},"cardinal-open":function(b,k){return 4>b.length?Wc(b):b[1]+Hf(b.slice(1,-1),Ng(b,k))},"cardinal-closed":function(b,k){return 3>b.length?Wc(b):b[0]+Hf((b.push(b[0]),b),Ng([b[b.length-2]].concat(b,[b[1]]),k))},monotone:function(b){if(3>b.length)b=Wc(b);else{var k=b[0],q,t,A,y=[];var E=0;var C=b.length-1;for(var F=[],L=b[1],O=F[0]=Pg(b[0],L);++E<C;)F[E]=(O+(O=Pg(L,L=b[E+1])))/2;C=(F[E]=O,F);F=-1;for(L=b.length-
1;++F<L;)E=Pg(b[F],b[F+1]),ob(E)<Ya?C[F]=C[F+1]=0:(q=C[F]/E,t=C[F+1]/E,A=q*q+t*t,9<A&&(A=3*E/Math.sqrt(A),C[F]=A*q,C[F+1]=A*t));for(F=-1;++F<=L;)A=(b[Math.min(L,F+1)][0]-b[Math.max(0,F-1)][0])/(6*(1+C[F]*C[F])),y.push([A||0,C[F]*A||0]);b=k+Hf(b,y)}return b}});Kg.forEach(function(b,k){k.key=b;k.closed=/-closed$/.test(b)});var Mh=[0,2/3,1/3,0],Nh=[0,1/3,2/3,0],Td=[0,1/6,2/3,1/6];aa.svg.line.radial=function(){var b=Kh(Oh);return b.radius=b.x,delete b.x,b.angle=b.y,delete b.y,b};Lg.reverse=Mg;Mg.reverse=
Lg;aa.svg.area=function(){return Ph(x)};aa.svg.area.radial=function(){var b=Ph(Oh);return b.radius=b.x,delete b.x,b.innerRadius=b.x0,delete b.x0,b.outerRadius=b.x1,delete b.x1,b.angle=b.y,delete b.y,b.startAngle=b.y0,delete b.y0,b.endAngle=b.y1,delete b.y1,b};aa.svg.chord=function(){function b(F,L){var O=k(this,t,F,L);F=k(this,A,F,L);return"M"+O.p0+q(O.r,O.p1,O.a1-O.a0)+(O.a0==F.a0&&O.a1==F.a1?"Q 0,0 "+O.p0:"Q 0,0 "+F.p0+q(F.r,F.p1,F.a1-F.a0)+("Q 0,0 "+O.p0))+"Z"}function k(F,L,O,V){var X=L.call(F,
O,V);L=y.call(F,X,V);O=E.call(F,X,V)-Zb;F=C.call(F,X,V)-Zb;return{r:L,a0:O,a1:F,p0:[L*Math.cos(O),L*Math.sin(O)],p1:[L*Math.cos(F),L*Math.sin(F)]}}function q(F,L,O){return"A"+F+","+F+" 0 "+ +(O>kb)+",1 "+L}var t=Y,A=fa,y=Gi,E=Ih,C=Jh;return b.radius=function(F){return arguments.length?(y=sb(F),b):y},b.source=function(F){return arguments.length?(t=sb(F),b):t},b.target=function(F){return arguments.length?(A=sb(F),b):A},b.startAngle=function(F){return arguments.length?(E=sb(F),b):E},b.endAngle=function(F){return arguments.length?
(C=sb(F),b):C},b};aa.svg.diagonal=function(){function b(A,y){var E=k.call(this,A,y);A=q.call(this,A,y);y=(E.y+A.y)/2;E=[E,{x:E.x,y:y},{x:A.x,y:y},A];return E=E.map(t),"M"+E[0]+"C"+E[1]+" "+E[2]+" "+E[3]}var k=Y,q=fa,t=Qh;return b.source=function(A){return arguments.length?(k=sb(A),b):k},b.target=function(A){return arguments.length?(q=sb(A),b):q},b.projection=function(A){return arguments.length?(t=A,b):t},b};aa.svg.diagonal.radial=function(){var b=aa.svg.diagonal(),k=Qh,q=b.projection;return b.projection=
function(t){return arguments.length?q(Hi(k=t)):k},b};aa.svg.symbol=function(){function b(t,A){return(gi.get(k.call(this,t,A))||Rh)(q.call(this,t,A))}var k=Ji,q=Ii;return b.type=function(t){return arguments.length?(k=sb(t),b):k},b.size=function(t){return arguments.length?(q=sb(t),b):q},b};var gi=aa.map({circle:Rh,cross:function(b){b=Math.sqrt(b/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(b){b=Math.sqrt(b/(2*hi));var k=
b*hi;return"M0,"+-b+"L"+k+",0 0,"+b+" "+-k+",0Z"},square:function(b){b=Math.sqrt(b)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(b){b=Math.sqrt(b/$f);var k=b*$f/2;return"M0,"+k+"L"+b+","+-k+" "+-b+","+-k+"Z"},"triangle-up":function(b){b=Math.sqrt(b/$f);var k=b*$f/2;return"M0,"+-k+"L"+b+","+k+" "+-b+","+k+"Z"}});aa.svg.symbolTypes=gi.keys();var $f=Math.sqrt(3),hi=Math.tan(30*lb);Db.transition=function(b){for(var k,q=ie||++ii,t=Rg(b),A=[],y=ag||{time:Date.now(),
ease:ig,delay:0,duration:250},E=-1,C=this.length;++E<C;){A.push(b=[]);for(var F=this[E],L=-1,O=F.length;++L<O;)(k=F[L])&&If(k,L,t,q,y),b.push(k)}return Ve(A,t,q)};Db.interrupt=function(b){return this.each(null==b?Mf:Sh(Rg(b)))};var ie,ag,Mf=Sh(Rg()),gc=[],ii=0;gc.call=Db.call;gc.empty=Db.empty;gc.node=Db.node;gc.size=Db.size;aa.transition=function(b,k){return b&&b.transition?ie?b.transition(k):b:aa.selection().transition(b)};aa.transition.prototype=gc;gc.select=function(b){var k,q,t,A=this.id,y=this.namespace,
E=[];b=R(b);for(var C=-1,F=this.length;++C<F;){E.push(k=[]);for(var L=this[C],O=-1,V=L.length;++O<V;)(t=L[O])&&(q=b.call(t,t.__data__,O,C))?("__data__"in t&&(q.__data__=t.__data__),If(q,O,y,A,t[y][A]),k.push(q)):k.push(null)}return Ve(E,y,A)};gc.selectAll=function(b){var k,q,t=this.id,A=this.namespace,y=[];b=ca(b);for(var E=-1,C=this.length;++E<C;)for(var F=this[E],L=-1,O=F.length;++L<O;)if(k=F[L]){var V=k[A][t];var X=b.call(k,k.__data__,L,E);y.push(k=[]);for(var Z=-1,da=X.length;++Z<da;)(q=X[Z])&&
If(q,Z,A,t,V),k.push(q)}return Ve(y,A,t)};gc.filter=function(b){var k,q,t=[];"function"!=typeof b&&(b=Oa(b));for(var A=0,y=this.length;y>A;A++){t.push(k=[]);var E=this[A];for(var C=0,F=E.length;F>C;C++)(q=E[C])&&b.call(q,q.__data__,C,A)&&k.push(q)}return Ve(t,this.namespace,this.id)};gc.tween=function(b,k){var q=this.id,t=this.namespace;return 2>arguments.length?this.node()[t][q].tween.get(b):wa(this,null==k?function(A){A[t][q].tween.remove(b)}:function(A){A[t][q].tween.set(b,k)})};gc.attr=function(b,
k){function q(){this.removeAttribute(C)}function t(){this.removeAttributeNS(C.space,C.local)}function A(F){return null==F?q:(F+="",function(){var L,O=this.getAttribute(C);return O!==F&&(L=E(O,F),function(V){this.setAttribute(C,L(V))})})}function y(F){return null==F?t:(F+="",function(){var L,O=this.getAttributeNS(C.space,C.local);return O!==F&&(L=E(O,F),function(V){this.setAttributeNS(C.space,C.local,L(V))})})}if(2>arguments.length){for(k in b)this.attr(k,b[k]);return this}var E="transform"==b?bf:
wd,C=aa.ns.qualify(b);return Qg(this,"attr."+b,k,C.local?y:A)};gc.attrTween=function(b,k){function q(y,E){var C=k.call(this,y,E,this.getAttribute(A));return C&&function(F){this.setAttribute(A,C(F))}}function t(y,E){var C=k.call(this,y,E,this.getAttributeNS(A.space,A.local));return C&&function(F){this.setAttributeNS(A.space,A.local,C(F))}}var A=aa.ns.qualify(b);return this.tween("attr."+b,A.local?t:q)};gc.style=function(b,k,q){function t(){this.style.removeProperty(b)}var A=arguments.length;if(3>A){if("string"!=
typeof b){2>A&&(k="");for(q in b)this.style(q,b[q],k);return this}q=""}return Qg(this,"style."+b,k,function(y){return null==y?t:(y+="",function(){var E,C=d(this).getComputedStyle(this,null).getPropertyValue(b);return C!==y&&(E=wd(C,y),function(F){this.style.setProperty(b,E(F),q)})})})};gc.styleTween=function(b,k,q){return 3>arguments.length&&(q=""),this.tween("style."+b,function(t,A){var y=k.call(this,t,A,d(this).getComputedStyle(this,null).getPropertyValue(b));return y&&function(E){this.style.setProperty(b,
y(E),q)}})};gc.text=function(b){return Qg(this,"text",b,Ki)};gc.remove=function(){var b=this.namespace;return this.each("end.transition",function(){var k;2>this[b].count&&(k=this.parentNode)&&k.removeChild(this)})};gc.ease=function(b){var k=this.id,q=this.namespace;return 1>arguments.length?this.node()[q][k].ease:("function"!=typeof b&&(b=aa.ease.apply(aa,arguments)),wa(this,function(t){t[q][k].ease=b}))};gc.delay=function(b){var k=this.id,q=this.namespace;return 1>arguments.length?this.node()[q][k].delay:
wa(this,"function"==typeof b?function(t,A,y){t[q][k].delay=+b.call(t,t.__data__,A,y)}:(b=+b,function(t){t[q][k].delay=b}))};gc.duration=function(b){var k=this.id,q=this.namespace;return 1>arguments.length?this.node()[q][k].duration:wa(this,"function"==typeof b?function(t,A,y){t[q][k].duration=Math.max(1,b.call(t,t.__data__,A,y))}:(b=Math.max(1,b),function(t){t[q][k].duration=b}))};gc.each=function(b,k){var q=this.id,t=this.namespace;if(2>arguments.length){var A=ag,y=ie;try{ie=q,wa(this,function(E,
C,F){ag=E[t][q];b.call(E,E.__data__,C,F)})}finally{ag=A,ie=y}}else wa(this,function(E){E=E[t][q];(E.event||(E.event=aa.dispatch("start","end","interrupt"))).on(b,k)});return this};gc.transition=function(){for(var b,k,q,t,A=this.id,y=++ii,E=this.namespace,C=[],F=0,L=this.length;L>F;F++){C.push(b=[]);k=this[F];for(var O=0,V=k.length;V>O;O++)(q=k[O])&&(t=q[E][A],If(q,O,E,y,{time:t.time,ease:t.ease,delay:t.delay+t.duration,duration:t.duration})),b.push(q)}return Ve(C,E,y)};aa.svg.axis=function(){function b(L){L.each(function(){var O,
V=aa.select(this),X=this.__chart__||q,Z=this.__chart__=q.copy(),da=null==F?Z.ticks?Z.ticks.apply(Z,C):Z.domain():F,pa=null==k?Z.tickFormat?Z.tickFormat.apply(Z,C):x:k,ka=V.selectAll(".tick").data(da,Z);da=ka.enter().insert("g",".domain").attr("class","tick").style("opacity",Ya);var na=aa.transition(ka.exit()).style("opacity",Ya).remove(),oa=aa.transition(ka.order()).style("opacity",1),ia=Math.max(A,0)+E,va=Bf(Z);V=V.selectAll(".domain").data([0]);V=(V.enter().append("path").attr("class","domain"),
aa.transition(V));da.append("line");da.append("text");var Ha,ba,la,ta,Ca=da.select("line"),Ea=oa.select("line");pa=ka.select("text").text(pa);ka=da.select("text");var La=oa.select("text"),Na="top"===t||"left"===t?-1:1;if("bottom"===t||"top"===t?(O=Li,Ha="x",la="y",ba="x2",ta="y2",pa.attr("dy",0>Na?"0em":".71em").style("text-anchor","middle"),V.attr("d","M"+va[0]+","+Na*y+"V0H"+va[1]+"V"+Na*y)):(O=Mi,Ha="y",la="x",ba="y2",ta="x2",pa.attr("dy",".32em").style("text-anchor",0>Na?"end":"start"),V.attr("d",
"M"+Na*y+","+va[0]+"H0V"+va[1]+"H"+Na*y)),Ca.attr(ta,Na*A),ka.attr(la,Na*ia),Ea.attr(ba,0).attr(ta,Na*A),La.attr(Ha,0).attr(la,Na*ia),Z.rangeBand){var db=Z,jb=db.rangeBand()/2;X=Z=function(eb){return db(eb)+jb}}else X.rangeBand?X=Z:na.call(O,Z,X);da.call(O,X,Z);oa.call(O,Z,Z)})}var k,q=aa.scale.linear(),t=ji,A=6,y=6,E=3,C=[10],F=null;return b.scale=function(L){return arguments.length?(q=L,b):q},b.orient=function(L){return arguments.length?(t=L in kj?L+"":ji,b):t},b.ticks=function(){return arguments.length?
(C=arguments,b):C},b.tickValues=function(L){return arguments.length?(F=L,b):F},b.tickFormat=function(L){return arguments.length?(k=L,b):k},b.tickSize=function(L){var O=arguments.length;return O?(A=+L,y=+arguments[O-1],b):A},b.innerTickSize=function(L){return arguments.length?(A=+L,b):A},b.outerTickSize=function(L){return arguments.length?(y=+L,b):y},b.tickPadding=function(L){return arguments.length?(E=+L,b):E},b.tickSubdivide=function(){return arguments.length&&b},b};var ji="bottom",kj={top:1,right:1,
bottom:1,left:1};aa.svg.brush=function(){function b(pa){pa.each(function(){var ka=aa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",A).on("touchstart.brush",A),na=ka.selectAll(".background").data([0]);na.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");ka.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var oa=ka.selectAll(".resize").data(da,
x);oa.exit().remove();oa.enter().append("g").attr("class",function(va){return"resize "+va}).style("cursor",function(va){return lj[va]}).append("rect").attr("x",function(va){return/[ew]$/.test(va)?-3:null}).attr("y",function(va){return/^[ns]/.test(va)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");oa.style("display",b.empty()?"none":null);var ia;ka=aa.transition(ka);na=aa.transition(na);F&&(ia=Bf(F),na.attr("x",ia[0]).attr("width",ia[1]-ia[0]),q(ka));L&&(ia=Bf(L),na.attr("y",
ia[0]).attr("height",ia[1]-ia[0]),t(ka));k(ka)})}function k(pa){pa.selectAll(".resize").attr("transform",function(ka){return"translate("+O[+/e$/.test(ka)]+","+V[+/^s/.test(ka)]+")"})}function q(pa){pa.select(".extent").attr("x",O[0]);pa.selectAll(".extent,.n>rect,.s>rect").attr("width",O[1]-O[0])}function t(pa){pa.select(".extent").attr("y",V[0]);pa.selectAll(".extent,.e>rect,.w>rect").attr("height",V[1]-V[0])}function A(){function pa(){var Ta=aa.mouse(ia),hb=!1;eb&&(Ta[0]+=eb[0],Ta[1]+=eb[1]);Ea||
(aa.event.altKey?(oa||(oa=[(O[0]+O[1])/2,(V[0]+V[1])/2]),Na[0]=O[+(Ta[0]<oa[0])],Na[1]=V[+(Ta[1]<oa[1])]):oa=null);ta&&ka(Ta,F,0)&&(q(ba),hb=!0);Ca&&ka(Ta,L,1)&&(t(ba),hb=!0);hb&&(k(ba),Ha({type:"brush",mode:Ea?"move":"resize"}))}function ka(Ta,hb,ub){var Eb,sc,Mb=Bf(hb);hb=Mb[0];Mb=Mb[1];var fc=Na[ub],ec=ub?V:O,Ic=ec[1]-ec[0];return Ea&&(hb-=fc,Mb-=Ic+fc),Eb=(ub?Z:X)?Math.max(hb,Math.min(Mb,Ta[ub])):Ta[ub],Ea?sc=(Eb+=fc)+Ic:(oa&&(fc=Math.max(hb,Math.min(Mb,2*oa[ub]-Eb))),Eb>fc?(sc=Eb,Eb=fc):sc=fc),
ec[0]!=Eb||ec[1]!=sc?(ub?E=null:y=null,ec[0]=Eb,ec[1]=sc,!0):void 0}function na(){pa();ba.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null);aa.select("body").style("cursor",null);db.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);La();Ha({type:"brushend"})}var oa,ia=this,va=aa.select(aa.event.target),Ha=C.of(ia,arguments),ba=aa.select(ia),la=va.datum(),ta=
!/^(n|s)$/.test(la)&&F,Ca=!/^(e|w)$/.test(la)&&L,Ea=va.classed("extent"),La=$a(ia),Na=aa.mouse(ia),db=aa.select(d(ia)).on("keydown.brush",function(){32==aa.event.keyCode&&(Ea||(oa=null,Na[0]-=O[1],Na[1]-=V[1],Ea=2),Q())}).on("keyup.brush",function(){32==aa.event.keyCode&&2==Ea&&(Na[0]+=O[1],Na[1]+=V[1],Ea=0,Q())});if(aa.event.changedTouches?db.on("touchmove.brush",pa).on("touchend.brush",na):db.on("mousemove.brush",pa).on("mouseup.brush",na),ba.interrupt().selectAll("*").interrupt(),Ea)Na[0]=O[0]-
Na[0],Na[1]=V[0]-Na[1];else if(la){var jb=+/w$/.test(la);la=+/^n/.test(la);var eb=[O[1-jb]-Na[0],V[1-la]-Na[1]];Na[0]=O[jb];Na[1]=V[la]}else aa.event.altKey&&(oa=Na.slice());ba.style("pointer-events","none").selectAll(".resize").style("display",null);aa.select("body").style("cursor",va.style("cursor"));Ha({type:"brushstart"});pa()}var y,E,C=T(b,"brushstart","brush","brushend"),F=null,L=null,O=[0,0],V=[0,0],X=!0,Z=!0,da=ah[0];return b.event=function(pa){pa.each(function(){var ka=C.of(this,arguments),
na={x:O,y:V,i:y,j:E},oa=this.__chart__||na;this.__chart__=na;ie?aa.select(this).transition().each("start.brush",function(){y=oa.i;E=oa.j;O=oa.x;V=oa.y;ka({type:"brushstart"})}).tween("brush:brush",function(){var ia=oe(O,na.x),va=oe(V,na.y);return y=E=null,function(Ha){O=na.x=ia(Ha);V=na.y=va(Ha);ka({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=na.i;E=na.j;ka({type:"brush",mode:"resize"});ka({type:"brushend"})}):(ka({type:"brushstart"}),ka({type:"brush",mode:"resize"}),ka({type:"brushend"}))})},
b.x=function(pa){return arguments.length?(F=pa,da=ah[!F<<1|!L],b):F},b.y=function(pa){return arguments.length?(L=pa,da=ah[!F<<1|!L],b):L},b.clamp=function(pa){return arguments.length?(F&&L?(X=!!pa[0],Z=!!pa[1]):F?X=!!pa:L&&(Z=!!pa),b):F&&L?[X,Z]:F?X:L?Z:null},b.extent=function(pa){var ka,na,oa,ia,va;return arguments.length?(F&&(ka=pa[0],na=pa[1],L&&(ka=ka[0],na=na[0]),y=[ka,na],F.invert&&(ka=F(ka),na=F(na)),ka>na&&(va=ka,ka=na,na=va),(ka!=O[0]||na!=O[1])&&(O=[ka,na])),L&&(oa=pa[0],ia=pa[1],F&&(oa=
oa[1],ia=ia[1]),E=[oa,ia],L.invert&&(oa=L(oa),ia=L(ia)),oa>ia&&(va=oa,oa=ia,ia=va),(oa!=V[0]||ia!=V[1])&&(V=[oa,ia])),b):(F&&(y?(ka=y[0],na=y[1]):(ka=O[0],na=O[1],F.invert&&(ka=F.invert(ka),na=F.invert(na)),ka>na&&(va=ka,ka=na,na=va))),L&&(E?(oa=E[0],ia=E[1]):(oa=V[0],ia=V[1],L.invert&&(oa=L.invert(oa),ia=L.invert(ia)),oa>ia&&(va=oa,oa=ia,ia=va))),F&&L?[[ka,oa],[na,ia]]:F?[ka,na]:L&&[oa,ia])},b.clear=function(){return b.empty()||(O=[0,0],V=[0,0],y=E=null),b},b.empty=function(){return!!F&&O[0]==O[1]||
!!L&&V[0]==V[1]},aa.rebind(b,C,"on")};var lj={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ah=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],bh=ab.format=Yh.timeFormat,ki=bh.utc,li=ki("%Y-%m-%dT%H:%M:%S.%LZ");bh.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Sg:li;Sg.parse=function(b){b=new Date(b);return isNaN(b)?null:b};Sg.toString=li.toString;ab.second=Bc(function(b){return new yc(1E3*
Math.floor(b/1E3))},function(b,k){b.setTime(b.getTime()+1E3*Math.floor(k))},function(b){return b.getSeconds()});ab.seconds=ab.second.range;ab.seconds.utc=ab.second.utc.range;ab.minute=Bc(function(b){return new yc(6E4*Math.floor(b/6E4))},function(b,k){b.setTime(b.getTime()+6E4*Math.floor(k))},function(b){return b.getMinutes()});ab.minutes=ab.minute.range;ab.minutes.utc=ab.minute.utc.range;ab.hour=Bc(function(b){var k=b.getTimezoneOffset()/60;return new yc(36E5*(Math.floor(b/36E5-k)+k))},function(b,
k){b.setTime(b.getTime()+36E5*Math.floor(k))},function(b){return b.getHours()});ab.hours=ab.hour.range;ab.hours.utc=ab.hour.utc.range;ab.month=Bc(function(b){return b=ab.day(b),b.setDate(1),b},function(b,k){b.setMonth(b.getMonth()+k)},function(b){return b.getMonth()});ab.months=ab.month.range;ab.months.utc=ab.month.utc.range;var Jf=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],ch=[[ab.second,1],[ab.second,5],[ab.second,15],[ab.second,30],[ab.minute,
1],[ab.minute,5],[ab.minute,15],[ab.minute,30],[ab.hour,1],[ab.hour,3],[ab.hour,6],[ab.hour,12],[ab.day,1],[ab.day,2],[ab.week,1],[ab.month,1],[ab.month,3],[ab.year,1]],mj=bh.multi([[".%L",function(b){return b.getMilliseconds()}],[":%S",function(b){return b.getSeconds()}],["%I:%M",function(b){return b.getMinutes()}],["%I %p",function(b){return b.getHours()}],["%a %d",function(b){return b.getDay()&&1!=b.getDate()}],["%b %d",function(b){return 1!=b.getDate()}],["%B",function(b){return b.getMonth()}],
["%Y",ed]]),Ni={range:function(b,k,q){return aa.range(Math.ceil(b/q)*q,+k,q).map(he)},floor:x,ceil:x};ch.year=ab.year;ab.scale=function(){return Tg(aa.scale.linear(),ch,mj)};var mi=ch.map(function(b){return[b[0].utc,b[1]]}),nj=ki.multi([[".%L",function(b){return b.getUTCMilliseconds()}],[":%S",function(b){return b.getUTCSeconds()}],["%I:%M",function(b){return b.getUTCMinutes()}],["%I %p",function(b){return b.getUTCHours()}],["%a %d",function(b){return b.getUTCDay()&&1!=b.getUTCDate()}],["%b %d",function(b){return 1!=
b.getUTCDate()}],["%B",function(b){return b.getUTCMonth()}],["%Y",ed]]);mi.year=ab.year.utc;ab.scale.utc=function(){return Tg(aa.scale.linear(),mi,nj)};aa.text=Dc(function(b){return b.responseText});aa.json=function(b,k){return Cc(b,"application/json",Oi,k)};aa.html=function(b,k){return Cc(b,"text/html",Pi,k)};aa.xml=Dc(function(b){return b.responseXML});"function"==typeof define&&define.amd?define(aa):"object"==typeof module&&module.exports&&(module.exports=aa);this.d3=aa}();if(function(d){function N(a,f){return new N.prototype.init(a,f)}Function.prototype.bind||(Function.prototype.bind=function(a){var f=this;return function(){return f.apply(a)}});var W=0;d.fn.redactor=function(a){var f=[],g=Array.prototype.slice.call(arguments,1);return"string"==typeof a?this.each(function(){var h,e=d.data(this,"redactor");("-1"!==a.search(/\./)?(h=a.split("."),void 0!==e[h[0]]&&(h=e[h[0]][h[1]])):h=e[a],void 0!==e&&d.isFunction(h))?(h=h.apply(e,g),void 0!==h&&h!==e&&f.push(h)):d.error('No such method "'+
a+'" for Redactor')}):this.each(function(){d.data(this,"redactor",{});d.data(this,"redactor",N(this,a))}),0===f.length?this:1===f.length?f[0]:f};d.Redactor=N;d.Redactor.VERSION="2.10";d.Redactor.modules="air autosave block buffer build button caret clean code core detect dropdown events file focus image indent inline insert keydown keyup lang line link linkify list marker modal observe offset paragraphize paste placeholder progress selection shortcuts storage toolbar upload uploads3 utils browser".split(" ");
d.Redactor.settings={};d.Redactor.opts={animation:!1,lang:"en",direction:"ltr",spellcheck:!0,overrideStyles:!0,stylesClass:!1,scrollTarget:document,focus:!1,focusEnd:!1,clickToEdit:!1,structure:!1,tabindex:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:!1,callbacks:{},placeholder:!1,linkify:!0,enterKey:!0,pastePlainText:!1,pasteImages:!0,pasteLinks:!0,pasteBlockTags:"pre h1 h2 h3 h4 h5 h6 table tbody thead tfoot th tr td ul ol li blockquote p figure figcaption".split(" "),pasteInlineTags:"br strong ins code del span samp kbd sup sub mark var cite small b u em i".split(" "),
preClass:!1,preSpaces:4,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveFields:!1,imageUpload:null,imageUploadParam:"file",imageUploadFields:!1,imageUploadForms:!1,imageTag:"figure",imageEditable:!0,imageCaption:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",dragImageUpload:!0,multipleImageUpload:!0,clipboardImageUpload:!0,fileUpload:null,fileUploadParam:"file",fileUploadFields:!1,fileUploadForms:!1,dragFileUpload:!0,s3:!1,linkNewTab:!1,linkTooltip:!0,linkNofollow:!1,linkSize:30,
linkValidation:!0,pasteLinkTarget:!1,videoContainerClass:"video-container",toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarOverflow:!1,air:!1,airWidth:!1,formatting:"p blockquote pre h1 h2 h3 h4 h5 h6".split(" "),formattingAdd:!1,buttons:"format bold italic deleted lists image file link horizontalrule".split(" "),buttonsTextLabeled:!1,buttonsHide:[],buttonsHideOnMobile:[],script:!0,removeNewlines:!1,removeComments:!0,replaceTags:{b:"strong",
i:"em",strike:"del"},keepStyleAttr:[],keepInlineOnEnter:!1,shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},
shortcutsAdd:!1,activeButtons:["deleted","italic","bold"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",u:"underline",strike:"deleted"},langs:{en:{format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U",lists:"Lists","link-insert":"Insert link","link-edit":"Edit link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",
cancel:"Cancel",close:"Close",insert:"Insert",save:"Save",delete:"Delete",text:"Text",edit:"Edit",title:"Title",general:"General",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line","upload-label":"Drop file here or ",caption:"Caption",
upload:"Upload",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center","accessibility-help-label":"Rich text editor"}},type:"textarea",inline:!1,inlineTags:"a span strong strike b u em i code del ins samp kbd sup sub mark var cite small".split(" "),blockTags:"pre ul ol li p h1 h2 h3 h4 h5 h6 dl dt dd div td blockquote output figcaption figure address section header footer aside article iframe".split(" "),paragraphize:!0,paragraphizeBlocks:"table div pre form ul ol h1 h2 h3 h4 h5 h6 dl blockquote figcaption address section header footer aside article object style script iframe select input textarea button option map area math hr fieldset legend hgroup nav figure details menu summary p".split(" "),
emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",emptyHtmlRendered:d("").html("\u200b").html(),imageTypes:["image/png","image/jpeg","image/gif"],userAgent:navigator.userAgent.toLowerCase(),observe:{dropdowns:[]},regexps:{linkyoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,linkvimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,linkvimeochannel:/https?:\/\/(www\.)?vimeo.com\/channels\/[^\/]+\/(\d+)($|\/)/,
linkimage:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi}};N.fn=d.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(a,f){if(this.$element=d(a),this.uuid=W++,this.sBuffer=[],this.sRebuffer=[],this.loadOptions(f),this.loadModules(),this.opts.clickToEdit&&!this.$element.hasClass("redactor-click-to-edit"))return this.loadToEdit(f);
this.$element.hasClass("redactor-click-to-edit")&&this.$element.removeClass("redactor-click-to-edit");this.reIsBlock=new RegExp("^("+this.opts.blockTags.join("|").toUpperCase()+")$","i");this.reIsInline=new RegExp("^("+this.opts.inlineTags.join("|").toUpperCase()+")$","i");this.opts.dragImageUpload=null!==this.opts.imageUpload&&this.opts.dragImageUpload;this.opts.dragFileUpload=null!==this.opts.fileUpload&&this.opts.dragFileUpload;this.formatting={};this.lang.load();d.extend(this.opts.shortcuts,this.opts.shortcutsAdd);
this.$editor=this.$element;this.detectType();this.core.callback("start");this.core.callback("startToEdit");this.start=!0;this.build.start()},detectType:function(){this.build.isInline()||this.opts.inline?this.opts.type="inline":this.build.isTag("DIV")?this.opts.type="div":this.build.isTag("PRE")&&(this.opts.type="pre")},loadToEdit:function(a){this.$element.on("click.redactor-click-to-edit",d.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},initToEdit:function(a){d.extend(a.callbacks,
{startToEdit:function(){this.insert.node(this.marker.get(),!1)},initToEdit:function(){this.selection.restore();this.clickToCancelStorage=this.code.get();d(this.opts.clickToCancel).off(".redactor-click-to-edit");d(this.opts.clickToCancel).show().on("click.redactor-click-to-edit",d.proxy(function(f){f.preventDefault();this.core.destroy();this.events.syncFire=!1;this.$element.html(this.clickToCancelStorage);this.core.callback("cancel",this.clickToCancelStorage);this.events.syncFire=!0;this.clickToCancelStorage=
"";d(this.opts.clickToCancel).hide();d(this.opts.clickToSave).hide();this.$element.on("click.redactor-click-to-edit",d.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},this));d(this.opts.clickToSave).off(".redactor-click-to-edit");d(this.opts.clickToSave).show().on("click.redactor-click-to-edit",d.proxy(function(f){f.preventDefault();this.core.destroy();this.core.callback("save",this.code.get());d(this.opts.clickToCancel).hide();d(this.opts.clickToSave).hide();
this.$element.on("click.redactor-click-to-edit",d.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},this))}});this.$element.redactor(a);this.$element.off(".redactor-click-to-edit")},loadOptions:function(a){var f={};void 0!==d.Redactor.settings.namespace?this.$element.hasClass(d.Redactor.settings.namespace)&&(f=d.Redactor.settings):f=d.Redactor.settings;this.opts=d.extend({},d.Redactor.opts,this.$element.data(),a);this.opts=d.extend({},this.opts,f)},getModuleMethods:function(a){return Object.getOwnPropertyNames(a).filter(function(f){return"function"==
typeof a[f]})},loadModules:function(){for(var a=d.Redactor.modules.length,f=0;f<a;f++)this.bindModuleMethods(d.Redactor.modules[f])},bindModuleMethods:function(a){if(void 0!==this[a]){this[a]=this[a]();for(var f=this.getModuleMethods(this[a]),g=f.length,h=0;h<g;h++)this[a][f[h]]=this[a][f[h]].bind(this)}},air:function(){return{enabled:!1,collapsed:function(){this.opts.air&&this.selection.get().collapseToStart()},collapsedEnd:function(){this.opts.air&&this.selection.get().collapseToEnd()},build:function(){this.detect.isMobile()||
(this.button.hideButtons(),this.button.hideButtonsOnMobile(),0!==this.opts.buttons.length&&(this.$air=this.air.createContainer(),!1!==this.opts.airWidth&&this.$air.css("width",this.opts.airWidth),this.air.append(),this.button.$toolbar=this.$air,this.button.setFormatting(),this.button.load(this.$air),this.core.editor().on("mouseup.redactor",this,d.proxy(function(a){""!==this.selection.text()&&this.air.show(a)},this))))},append:function(){this.$air.appendTo("body")},createContainer:function(){return d("<ul>").addClass("redactor-air").attr({id:"redactor-air-"+
this.uuid,role:"toolbar"}).hide()},show:function(a){this.selection.saveInstant();d(".redactor-air").hide();var f=0,g=this.$air.innerWidth();d(window).width()<a.clientX+g&&(f=200);this.$air.css({left:a.clientX-f+"px",top:a.clientY+10+d(document).scrollTop()+"px"}).show();this.air.enabled=!0;this.air.bindHide()},bindHide:function(){d(document).on("mousedown.redactor-air."+this.uuid,d.proxy(function(a){var f=d(a.target).closest(".redactor-dropdown").length;0===d(a.target).closest(this.$air).length&&
0===f&&!1!==this.air.hide(a)&&this.marker.remove()},this)).on("keydown.redactor-air."+this.uuid,d.proxy(function(a){var f=a.which;(this.utils.isRedactorParent(a.target)||d(a.target).hasClass("redactor-in"))&&0===d(a.target).closest("#redactor-modal").length&&(f===this.keyCode.ESC?this.selection.get().collapseToStart():f===this.keyCode.BACKSPACE||f===this.keyCode.DELETE?(f=this.selection.get(),this.selection.range(f).deleteContents()):f===this.keyCode.ENTER&&this.selection.get().collapseToEnd(),this.air.enabled?
this.air.hide(a):this.selection.get().collapseToStart())},this))},hide:function(a){if(a.ctrlKey||a.metaKey||a.shiftKey&&a.altKey)return!1;this.button.setInactiveAll();this.$air.fadeOut(100);this.air.enabled=!1;d(document).off("mousedown.redactor-air."+this.uuid);d(document).off("keydown.redactor-air."+this.uuid)}}},autosave:function(){return{enabled:!1,html:!1,init:function(){this.opts.autosave&&(this.autosave.enabled=!0,this.autosave.name=this.opts.autosaveName?this.opts.autosaveName:this.$textarea.attr("name"))},
is:function(){return this.autosave.enabled},send:function(){if(this.opts.autosave&&(this.autosave.source=this.code.get(),this.autosave.html!==this.autosave.source)){var a={};a.name=this.autosave.name;a[this.autosave.name]=this.autosave.source;a=this.autosave.getHiddenFields(a);d.ajax({url:this.opts.autosave,type:"post",data:a}).done(this.autosave.success)}},getHiddenFields:function(a){return!1===this.opts.autosaveFields||"object"!=typeof this.opts.autosaveFields?a:(d.each(this.opts.autosaveFields,
d.proxy(function(f,g){null!==g&&0===g.toString().indexOf("#")&&(g=d(g).val());a[f]=g},this)),a)},success:function(a){try{var f=JSON.parse(a)}catch(g){f=a}this.core.callback(void 0===f.error?"autosave":"autosaveError",this.autosave.name,f);this.autosave.html=this.autosave.source},disable:function(){this.autosave.enabled=!1;clearInterval(this.autosaveTimeout)}}},block:function(){return{format:function(a,f,g,h){if(a="quote"===a?"blockquote":a,this.block.tags="p blockquote pre h1 h2 h3 h4 h5 h6 div figure".split(" "),
-1!==d.inArray(a,this.block.tags))return"p"===a&&void 0===f&&(f="class"),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.block.formatCollapsed(a,f,g,h):this.block.formatUncollapsed(a,f,g,h)},formatCollapsed:function(a,f,g,h){this.selection.save();var e=this.selection.block(),l=e.tagName.toLowerCase();if(-1===d.inArray(l,this.block.tags))return void this.selection.restore();var p=!1;l===a&&void 0===f&&(a="p",p=!0);p&&(this.block.removeAllClass(),this.block.removeAllAttr());
"blockquote"===l&&this.utils.isEndOfElement(e)?(this.marker.remove(),l=document.createElement("p"),l.innerHTML=this.opts.invisibleSpace,d(e).after(l),this.caret.start(l),e=d(e).children().last(),0!==e.length&&"BR"===e[0].tagName&&e.remove()):l=this.utils.replaceToTag(e,a);if("object"==typeof f){h=g;for(var u in f)l=this.block.setAttr(l,u,f[u],h)}else l=this.block.setAttr(l,f,g,h);return"pre"===a&&1===l.length&&d(l).html(d.trim(d(l).html())),this.selection.restore(),this.block.removeInlineTags(l),
l},formatUncollapsed:function(a,f,g,h){this.selection.save();var e=[],l=this.selection.blocks();l[0]&&(d(l[0]).hasClass("redactor-in")||d(l[0]).hasClass("redactor-box"))&&(l=this.core.editor().find(this.opts.blockTags.join(", ")));for(var p=l.length,u=0;u<p;u++){var c=l[u].tagName.toLowerCase();if(-1!==d.inArray(c,this.block.tags)&&"figure"!==c){c=this.utils.replaceToTag(l[u],a);if("object"==typeof f){h=g;for(var m in f)c=this.block.setAttr(c,m,f[m],h)}else c=this.block.setAttr(c,f,g,h);e.push(c);
this.block.removeInlineTags(c)}}if(this.selection.restore(),"pre"===a&&0!==e.length){var n=e[0];d.each(e,function(w,z){0!==w&&(d(n).append("\n"+d.trim(z.html())),d(z).remove())});e=[];e.push(n)}return e},removeInlineTags:function(a){a=a[0]||a;var f=this.opts.inlineTags;if(-1!==d.inArray(a.tagName,"PRE H1 H2 H3 H4 H5 H6".split(" "))){if("PRE"!==a.tagName){var g=f.indexOf("a");f.splice(g,1)}d(a).find(f.join(",")).not(".redactor-selection-marker").contents().unwrap()}},setAttr:function(a,f,g,h){if(void 0===
f)return a;h=void 0===h?"replace":h;return"class"===f?this.block[h+"Class"](g,a):"remove"===h?this.block[h+"Attr"](f,a):"removeAll"===h?this.block[h+"Attr"](f,a):this.block[h+"Attr"](f,g,a)},getBlocks:function(a){if(a=void 0===a?this.selection.blocks():a,d(a).hasClass("redactor-box")){var f=[];a=this.core.editor().children();return d.each(a,d.proxy(function(g,h){this.utils.isBlock(h)&&f.push(h)},this)),f}return a},replaceClass:function(a,f){return d(this.block.getBlocks(f)).removeAttr("class").addClass(a)[0]},
toggleClass:function(a,f){return d(this.block.getBlocks(f)).toggleClass(a)[0]},addClass:function(a,f){return d(this.block.getBlocks(f)).addClass(a)[0]},removeClass:function(a,f){return d(this.block.getBlocks(f)).removeClass(a)[0]},removeAllClass:function(a){return d(this.block.getBlocks(a)).removeAttr("class")[0]},replaceAttr:function(a,f,g){return g=this.block.removeAttr(a,g),d(g).attr(a,f)[0]},toggleAttr:function(a,f,g){g=this.block.getBlocks(g);var h=this,e=[];return d.each(g,function(l,p){d(p).attr(a)?
e.push(h.block.removeAttr(a,p)):e.push(h.block.addAttr(a,f,p))}),e},addAttr:function(a,f,g){return d(this.block.getBlocks(g)).attr(a,f)[0]},removeAttr:function(a,f){return d(this.block.getBlocks(f)).removeAttr(a)[0]},removeAllAttr:function(a){a=this.block.getBlocks(a);var f=[];return d.each(a,function(g,h){if(void 0!==h.attributes)for(;h.attributes.length;)h.removeAttribute(h.attributes[0].name);f.push(h)}),f}}},buffer:function(){return{set:function(a){void 0===a&&this.buffer.clear();void 0===a||
"undo"===a?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){var a=this.selection.saveInstant(),f=this.sBuffer[this.sBuffer.length-1],g=this.core.editor().html();void 0!==f&&f[0]===g||this.sBuffer.push([g,a])},setRedo:function(){var a=this.selection.saveInstant();this.sRebuffer.push([this.core.editor().html(),a])},add:function(){this.sBuffer.push([this.core.editor().html(),0])},undo:function(){if(0!==this.sBuffer.length){var a=this.sBuffer.pop();this.buffer.set("redo");this.core.editor().html(a[0]);
this.selection.restoreInstant(a[1]);this.selection.restore();this.observe.load();this.code.sync()}},redo:function(){if(0!==this.sRebuffer.length){var a=this.sRebuffer.pop();this.buffer.set("undo");this.core.editor().html(a[0]);this.selection.restoreInstant(a[1]);this.selection.restore();this.observe.load();this.code.sync()}},clear:function(){this.sRebuffer=[]}}},build:function(){return{start:function(){"inline"===this.opts.type?this.opts.type="inline":"div"===this.opts.type?(""===d.trim(this.$editor.html())&&
this.$editor.html(this.opts.emptyHtml),this.build.buildTextarea()):"textarea"===this.opts.type&&this.build.startTextarea();this.build.setIn();this.build.setId();this.build.enableEditor();this.build.setOptions();this.build.callEditor()},createContainerBox:function(){this.$box=d('<div class="redactor-box" role="application" />')},setIn:function(){this.core.editor().addClass("redactor-in")},setId:function(){var a="textarea"===this.opts.type?"redactor-uuid-"+this.uuid:this.$element.attr("id");this.core.editor().attr("id",
void 0===a?"redactor-uuid-"+this.uuid:a)},getName:function(){var a=this.$element.attr("name");return void 0===a?"content-"+this.uuid:a},buildTextarea:function(){this.$textarea=d("<textarea>");this.$textarea.attr("name",this.build.getName());this.$textarea.hide();this.$element.after(this.$textarea);this.build.setStartAttrs()},loadFromTextarea:function(){this.$editor=d("<div />");this.$textarea=this.$element;this.$element.attr("name",this.build.getName());this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element);
this.build.setStartAttrs();this.$editor.addClass("redactor-layer");this.opts.overrideStyles&&this.$editor.addClass("redactor-styles");this.$element.hide();this.$box.prepend('<span class="redactor-voice-label" id="redactor-voice-'+this.uuid+'" aria-hidden="false">'+this.lang.get("accessibility-help-label")+"</span>")},setStartAttrs:function(){this.$editor.attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},startTextarea:function(){this.build.createContainerBox();this.build.loadFromTextarea();
this.code.start(this.core.textarea().val());this.core.textarea().val(this.clean.onSync(this.$editor.html()))},isTag:function(a){return this.$element[0].tagName===a},isInline:function(){return!this.build.isTag("TEXTAREA")&&!this.build.isTag("DIV")&&!this.build.isTag("PRE")},enableEditor:function(){this.core.editor().attr({contenteditable:!0})},setOptions:function(){"inline"===this.opts.type&&(this.opts.enterKey=!1);"inline"!==this.opts.type&&"pre"!==this.opts.type||(this.opts.toolbarMobile=!1,this.opts.toolbar=
!1,this.opts.air=!1,this.opts.linkify=!1);this.core.editor().attr("spellcheck",this.opts.spellcheck);this.opts.structure&&this.core.editor().addClass("redactor-structure");this.opts.stylesClass&&this.core.editor().addClass(this.opts.stylesClass);"textarea"===this.opts.type&&(this.core.box().attr("dir",this.opts.direction),this.core.editor().attr("dir",this.opts.direction),this.opts.tabindex&&this.core.editor().attr("tabindex",this.opts.tabindex),this.opts.minHeight?this.core.editor().css("min-height",
this.opts.minHeight):this.core.editor().css("min-height","40px"),this.opts.maxHeight&&this.core.editor().css("max-height",this.opts.maxHeight),this.opts.maxWidth&&this.core.editor().css({"max-width":this.opts.maxWidth,margin:"auto"}))},callEditor:function(){this.build.disableBrowsersEditing();this.events.init();this.build.setHelpers();(this.opts.toolbar||this.opts.air)&&(this.toolbarsButtons=this.button.init());this.opts.air?this.air.build():this.opts.toolbar&&this.toolbar.build();this.detect.isMobile()&&
this.opts.toolbarMobile&&this.opts.air&&(this.opts.toolbar=!0,this.toolbar.build());(this.opts.air||this.opts.toolbar)&&(this.core.editor().on("mouseup.redactor-observe."+this.uuid+" keyup.redactor-observe."+this.uuid+" focus.redactor-observe."+this.uuid+" touchstart.redactor-observe."+this.uuid,d.proxy(this.observe.toolbar,this)),this.core.element().on("blur.callback.redactor",d.proxy(function(){this.button.setInactiveAll()},this)));this.modal.templates();this.build.plugins();this.autosave.init();
this.code.html=this.code.cleaned(this.core.editor().html());this.core.callback("init");this.core.callback("initToEdit");this.storage.observe();this.start=!1},setHelpers:function(){this.opts.linkify&&this.linkify.format();this.placeholder.init();this.opts.focus?setTimeout(this.focus.start,100):this.opts.focusEnd&&setTimeout(this.focus.end,100)},disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",
!1,!1)}catch(a){}},plugins:function(){this.opts.plugins&&d.each(this.opts.plugins,d.proxy(function(a,f){a=void 0!==RedactorPlugins&&void 0!==RedactorPlugins[f]?RedactorPlugins:N.fn;if(d.isFunction(a[f])){this[f]=a[f]();a=this.getModuleMethods(this[f]);for(var g=a.length,h=0;h<g;h++)this[f][a[h]]=this[f][a[h]].bind(this);if(void 0!==this[f].langs){a={};void 0!==this[f].langs[this.opts.lang]?a=this[f].langs[this.opts.lang]:void 0===this[f].langs[this.opts.lang]&&void 0!==this[f].langs.en&&(a=this[f].langs.en);
var e=this;d.each(a,function(l,p){void 0===e.opts.curLang[l]&&(e.opts.curLang[l]=p)})}d.isFunction(this[f].init)&&this[f].init()}},this))}}},button:function(){return{toolbar:function(){return void 0!==this.button.$toolbar&&this.button.$toolbar?this.button.$toolbar:this.$toolbar},init:function(){return{format:{title:this.lang.get("format"),icon:!0,dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{title:this.lang.get("code"),
func:"block.format"},h1:{title:this.lang.get("heading1"),func:"block.format"},h2:{title:this.lang.get("heading2"),func:"block.format"},h3:{title:this.lang.get("heading3"),func:"block.format"},h4:{title:this.lang.get("heading4"),func:"block.format"},h5:{title:this.lang.get("heading5"),func:"block.format"},h6:{title:this.lang.get("heading6"),func:"block.format"}}},bold:{title:this.lang.get("bold-abbr"),icon:!0,label:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic-abbr"),
icon:!0,label:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted-abbr"),icon:!0,label:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline-abbr"),icon:!0,label:this.lang.get("underline"),func:"inline.format"},lists:{title:this.lang.get("lists"),icon:!0,dropdown:{unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+
this.lang.get("outdent"),func:"indent.decrease",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},ul:{title:"&bull; "+this.lang.get("bulletslist"),icon:!0,func:"list.toggle"},ol:{title:"1. "+this.lang.get("numberslist"),icon:!0,func:"list.toggle"},outdent:{title:this.lang.get("outdent"),icon:!0,
func:"indent.decrease"},indent:{title:this.lang.get("indent"),icon:!0,func:"indent.increase"},image:{title:this.lang.get("image"),icon:!0,func:"image.show"},file:{title:this.lang.get("file"),icon:!0,func:"file.show"},link:{title:this.lang.get("link"),icon:!0,dropdown:{link:{title:this.lang.get("link-insert"),func:"link.show",observe:{element:"a",in:{title:this.lang.get("link-edit")},out:{title:this.lang.get("link-insert")}}},unlink:{title:this.lang.get("unlink"),func:"link.unlink",observe:{element:"a",
out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},horizontalrule:{title:this.lang.get("horizontalrule"),icon:!0,func:"line.insert"}}},setFormatting:function(){d.each(this.toolbarsButtons.format.dropdown,d.proxy(function(a,f){-1===d.inArray(a,this.opts.formatting)&&delete this.toolbarsButtons.format.dropdown[a]},this))},hideButtons:function(){0!==this.opts.buttonsHide.length&&this.button.hideButtonsSlicer(this.opts.buttonsHide)},hideButtonsOnMobile:function(){this.detect.isMobile()&&
0!==this.opts.buttonsHideOnMobile.length&&this.button.hideButtonsSlicer(this.opts.buttonsHideOnMobile)},hideButtonsSlicer:function(a){d.each(a,d.proxy(function(f,g){f=this.opts.buttons.indexOf(g);-1!==f&&this.opts.buttons.splice(f,1)},this))},load:function(a){this.button.buttons=[];d.each(this.opts.buttons,d.proxy(function(f,g){!this.toolbarsButtons[g]||"file"===g&&!this.file.is()||"image"===g&&!this.image.is()||a.append(d("<li>").append(this.button.build(g,this.toolbarsButtons[g])))},this))},buildButtonTooltip:function(a,
f){if(!this.opts.air&&!this.detect.isMobile()){var g=d("<span>");g.addClass("re-button-tooltip");g.html(f);var h=this,e=this.button.toolbar();f=e.closest(".redactor-toolbar-box");f=0===f.length?e:f;f.prepend(g);a.on("mouseover",function(){if(!d(this).hasClass("redactor-button-disabled")){var l=e.hasClass("toolbar-fixed-box")?a.offset():a.position();l=h.opts.toolbarFixedTarget!==document?a.position():l;var p=e.hasClass("toolbar-fixed-box")?a.position().top+h.opts.toolbarFixedTopOffset:l.top,u=a.innerHeight(),
c=a.innerWidth(),m=e.hasClass("toolbar-fixed-box")?"fixed":"absolute";m=h.opts.toolbarFixedTarget!==document?"absolute":m;var n=h.opts.toolbarFixedTarget!==document?e.position().top:0;g.show();g.css({top:p+u+n+"px",left:l.left+c/2-g.innerWidth()/2+"px",position:m})}}).on("mouseout",function(){g.hide()})}},build:function(a,f){if(!1!==this.opts.toolbar){var g=void 0!==f.label?f.label:f.title,h=d('<a href="javascript:void(null);" alt="'+g+'" rel="'+a+'" />');if(h.addClass("re-button re-"+a),h.attr({role:"button",
"aria-label":g,tabindex:"-1"}),void 0===f.icon||this.opts.buttonsTextLabeled)h.html(f.title);else{var e=d("<i>");e.addClass("re-icon-"+a);h.append(e);h.addClass("re-button-icon");this.button.buildButtonTooltip(h,g)}if((f.func||f.command||f.dropdown)&&this.button.setEvent(h,a,f),f.dropdown)h.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0),g=d('<ul class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+a+'" style="display: none;">'),h.data("dropdown",g),
this.dropdown.build(a,g,f.dropdown);return this.button.buttons.push(h),h}},getButtons:function(){return this.button.toolbar().find("a.re-button")},getButtonsKeys:function(){return this.button.buttons},setEvent:function(a,f,g){a.on("mousedown",d.proxy(function(h){if(h.preventDefault(),a.hasClass("redactor-button-disabled"))return!1;var e="func",l=g.func;return g.command?(e="command",l=g.command):g.dropdown&&(e="dropdown",l=!1),this.button.toggle(h,f,e,l),!1},this))},toggle:function(a,f,g,h,e){!this.detect.isIe()&&
this.detect.isDesktop()||(this.utils.freezeScroll(),a.returnValue=!1);"command"===g?this.inline.format(h):"dropdown"===g?this.dropdown.show(a,f):this.button.clickCallback(a,h,f,e);"dropdown"!==g&&this.dropdown.hideAll(!1);this.opts.air&&"dropdown"!==g&&this.air.hide(a);!this.detect.isIe()&&this.detect.isDesktop()||this.utils.unfreezeScroll()},clickCallback:function(a,f,g,h){var e;if(h=void 0===h?g:h,d.isFunction(f))f.call(this,g);else if("-1"!==f.search(/\./)){if(e=f.split("."),void 0===this[e[0]])return;
"object"==typeof h?this[e[0]][e[1]].apply(this,h):this[e[0]][e[1]].call(this,h)}else"object"==typeof h?this[f].apply(this,h):this[f].call(this,h);this.observe.buttons(a,g)},all:function(){return this.button.buttons},get:function(a){if(!1!==this.opts.toolbar)return this.button.toolbar().find("a.re-"+a)},set:function(a,f){if(!1!==this.opts.toolbar)return a=this.button.toolbar().find("a.re-"+a),a.html(f).attr("aria-label",f),a},add:function(a,f){if(!0!==this.button.isAdded(a))return d();a=this.button.build(a,
{title:f});return this.button.toolbar().append(d("<li>").append(a)),a},addFirst:function(a,f){if(!0!==this.button.isAdded(a))return d();a=this.button.build(a,{title:f});return this.button.toolbar().prepend(d("<li>").append(a)),a},addAfter:function(a,f,g){if(!0!==this.button.isAdded(f))return d();f=this.button.build(f,{title:g});a=this.button.get(a);return 0!==a.length?a.parent().after(d("<li>").append(f)):this.button.toolbar().append(d("<li>").append(f)),f},addBefore:function(a,f,g){if(!0!==this.button.isAdded(f))return d();
f=this.button.build(f,{title:g});a=this.button.get(a);return 0!==a.length?a.parent().before(d("<li>").append(f)):this.button.toolbar().append(d("<li>").append(f)),f},isAdded:function(a){a=this.opts.buttonsHideOnMobile.indexOf(a);return!(!1===this.opts.toolbar||-1!==a&&this.detect.isMobile())},setIcon:function(a,f){this.opts.buttonsTextLabeled||(a.html(f).addClass("re-button-icon"),this.button.buildButtonTooltip(a,a.attr("alt")))},changeIcon:function(a,f){a=this.button.get(a);0!==a.length&&a.find("i").removeAttr("class").addClass("re-icon-"+
f)},addCallback:function(a,f){if(void 0!==a&&!1!==this.opts.toolbar){var g="dropdown"===f?"dropdown":"func",h=a.attr("rel");a.on("mousedown",d.proxy(function(e){if(a.hasClass("redactor-button-disabled"))return!1;this.button.toggle(e,h,g,f)},this))}},addDropdown:function(a,f){if(!1!==this.opts.toolbar){a.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var g=a.attr("rel");this.button.addCallback(a,"dropdown");var h=d('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+
g+'" style="display: none;">');return a.data("dropdown",h),f&&this.dropdown.build(g,h,f),h}},setActive:function(a){this.button.get(a).addClass("redactor-act")},setInactive:function(a){this.button.get(a).removeClass("redactor-act")},setInactiveAll:function(a){var f=this.button.toolbar().find("a.re-button");void 0!==a&&(f=f.not(".re-"+a));f.removeClass("redactor-act")},disable:function(a){this.button.get(a).addClass("redactor-button-disabled")},enable:function(a){this.button.get(a).removeClass("redactor-button-disabled")},
disableAll:function(a){var f=this.button.toolbar().find("a.re-button");void 0!==a&&(f=f.not(".re-"+a));f.addClass("redactor-button-disabled")},enableAll:function(){this.button.toolbar().find("a.re-button").removeClass("redactor-button-disabled")},remove:function(a){this.button.get(a).remove()}}},caret:function(){return{set:function(a,f,g){var h=this.core.editor().scrollTop();this.core.editor().focus();this.core.editor().scrollTop(h);g=void 0===g?0:1;a=a[0]||a;f=f[0]||f;h=this.selection.get();var e=
this.selection.range(h);try{e.setStart(a,0),e.setEnd(f,g)}catch(l){}this.selection.update(h,e)},prepare:function(a){return this.detect.isFirefox()&&void 0!==this.start&&this.core.editor().focus(),a[0]||a},start:function(a){var f,g;if(a=this.caret.prepare(a)){if("BR"===a.tagName)return this.caret.before(a);var h=d(a).children().first(),e=this.utils.isInlineTag(a.tagName);""===a.innerHTML||e?this.caret.setStartEmptyOrInline(a,e):h&&0!==h.length&&this.utils.isInlineTag(h[0].tagName)&&""===h.text()?this.caret.setStartEmptyOrInline(h[0],
!0):(f=window.getSelection(),f.removeAllRanges(),g=document.createRange(),g.selectNodeContents(a),g.collapse(!0),f.addRange(g))}},setStartEmptyOrInline:function(a,f){var g=window.getSelection(),h=document.createRange(),e=document.createTextNode("\u200b");h.setStart(a,0);h.insertNode(e);h.setStartAfter(e);h.collapse(!0);g.removeAllRanges();g.addRange(h);f||this.core.editor().on("keydown.redactor-remove-textnode",function(){d(e).remove();d(this).off("keydown.redactor-remove-textnode")})},end:function(a){var f,
g;if(a=this.caret.prepare(a)){if("BR"!==a.tagName&&""===a.innerHTML)return this.caret.start(a);if("BR"===a.tagName){var h=document.createElement("span");return h.className="redactor-invisible-space",h.innerHTML="&#x200b;",d(a).after(h),f=window.getSelection(),f.removeAllRanges(),g=document.createRange(),g.setStartBefore(h),g.setEndBefore(h),f.addRange(g),void d(h).replaceWith(function(){return d(this).contents()})}if(a.lastChild&&1===a.lastChild.nodeType)return this.caret.after(a.lastChild);f=window.getSelection();
if(f.getRangeAt||f.rangeCount)try{g=f.getRangeAt(0),g.selectNodeContents(a),g.collapse(!1),f.removeAllRanges(),f.addRange(g)}catch(e){}}},after:function(a){if(a=this.caret.prepare(a)){if("BR"===a.tagName)return this.caret.end(a);if(this.utils.isBlockTag(a.tagName)){var f=this.caret.next(a);return void(void 0===f?this.caret.end(a):("TABLE"===f.tagName?f=d(f).find("th, td").first()[0]:"UL"!==f.tagName&&"OL"!==f.tagName||(f=d(f).find("li").first()[0]),this.caret.start(f)))}var g=document.createTextNode("\u200b");
f=window.getSelection();f.removeAllRanges();var h=document.createRange();h.setStartAfter(a);h.insertNode(g);h.setStartAfter(g);h.collapse(!0);f.addRange(h)}},before:function(a){if(a=this.caret.prepare(a)){if(this.utils.isBlockTag(a.tagName)){var f=this.caret.prev(a);return void(void 0===f?this.caret.start(a):("TABLE"===f.tagName?f=d(f).find("th, td").last()[0]:"UL"!==f.tagName&&"OL"!==f.tagName||(f=d(f).find("li").last()[0]),this.caret.end(f)))}f=window.getSelection();f.removeAllRanges();var g=document.createRange();
g.setStartBefore(a);g.collapse(!0);f.addRange(g)}},next:function(a){a=d(a).next();return a.hasClass("redactor-script-tag, redactor-selection-marker")?a.next()[0]:a[0]},prev:function(a){a=d(a).prev();return a.hasClass("redactor-script-tag, redactor-selection-marker")?a.prev()[0]:a[0]},offset:function(a){return this.offset.get(a)}}},clean:function(){return{onSet:function(a){a=this.clean.savePreCode(a);a=this.clean.saveFormTags(a);this.opts.script&&(a=a.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,
'<pre class="redactor-script-tag" $1>$2</pre>'));a=a.replace(/\$/g,"&#36;");a=a.replace(/<a href="(.*?[^>]?)\u00ae(.*?[^>]?)">/gi,'<a href="$1&reg$2">');a=a.replace(/<span id="selection-marker-1"(.*?[^>]?)>\u200b<\/span>/gi,"###marker1###");a=a.replace(/<span id="selection-marker-2"(.*?[^>]?)>\u200b<\/span>/gi,"###marker2###");var f=this;a=d("<div/>").html(d.parseHTML(a,document,!0));var g=this.opts.replaceTags;if(g){var h=Object.keys(this.opts.replaceTags);a.find(h.join(",")).each(function(e,l){f.utils.replaceToTag(l,
g[l.tagName.toLowerCase()])})}a.find("span, a").attr("data-redactor-span",!0);a.find(this.opts.inlineTags.join(",")).each(function(){var e=d(this);e.attr("style")&&e.attr("data-redactor-style-cache",e.attr("style"))});a=a.html();h="font html head link body meta applet".split(" ");return this.opts.script||h.push("script"),a=this.clean.stripTags(a,h),this.opts.removeComments&&(a=a.replace(/\x3c!--[\s\S]*?--\x3e/gi,"")),a=this.paragraphize.load(a),a=a.replace("###marker1###",'<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>'),
a=a.replace("###marker2###",'<span id="selection-marker-2" class="redactor-selection-marker">\u200b</span>'),-1!==a.search(/^(||\s||<br\s?\/?>||&nbsp;)$/i)?this.opts.emptyHtml:a},onGet:function(a){return this.clean.onSync(a)},onSync:function(a){if(a=a.replace(/\u200B/g,""),a=a.replace(/&#x200b;/gi,""),-1!==a.search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";a=a.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>");a=a.replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,
"");a=a.replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,"");a=a.replace(/<img(.*?)style="(.*?)opacity: 0\.5;(.*?)"(.*?)>/gi,'<img$1style="$2$3"$4>');var f=d("<div/>").html(d.parseHTML(a,document,!0));f.find('*[style=""]').removeAttr("style");f.find('*[class=""]').removeAttr("class");f.find('*[rel=""]').removeAttr("rel");f.find('*[data-image=""]').removeAttr("data-image");f.find('*[alt=""]').removeAttr("alt");f.find('*[title=""]').removeAttr("title");f.find("*[data-redactor-style-cache]").removeAttr("data-redactor-style-cache");
f.find(".redactor-invisible-space, .redactor-unlink").each(function(){d(this).contents().unwrap()});f.find("span, a").removeAttr("data-redactor-span data-redactor-style-cache").each(function(){0===this.attributes.length&&d(this).contents().unwrap()});f.find("img").removeAttr("rel");f.find(".redactor-selection-marker, #redactor-insert-marker").remove();a=f.html();this.opts.script&&(a=a.replace(/<pre class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2\x3c/script>"));a=this.clean.restoreFormTags(a);
a=a.replace(/<br\s?\/?><\/h/gi,"</h");a=a.replace(/<br\s?\/?><\/li>/gi,"</li>");a=a.replace(/<\/li><br\s?\/?>/gi,"</li>");a=a.replace(/<pre>/gi,"<pre>\n");this.opts.preClass&&(a=a.replace(/<pre>/gi,'<pre class="'+this.opts.preClass+'">'));this.opts.linkNofollow&&(a=a.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,"<a$1$2>"),a=a.replace(/<a(.*?[^>])>/gi,'<a$1 rel="nofollow">'));return d.each({"\u2122":"&trade;","\u00a9":"&copy;","\u2026":"&hellip;","\u2014":"&mdash;","\u2010":"&dash;"},function(g,h){a=
a.replace(new RegExp(g,"g"),h)}),a=a.replace(/\n{2,}/g,"\n\n"),this.opts.removeNewlines&&(a=a.replace(/\r?\n/g,"")),a=this.core.callback("syncClean",a)},onPaste:function(a,f,g){!0!==g&&(a=a.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),a=a.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3"),a=a.replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>"),a=a.replace(/<span[^>]*(font-style: italic; font-weight: 700|font-weight: 700; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,
"<b><i>$2</i></b>"),a=a.replace(/<span[^>]*font-style: italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>"),a=a.replace(/<span[^>]*font-weight: bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>"),a=a.replace(/<span[^>]*font-weight: 700[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>"),a=a.replace(/<o:p[^>]*>/gi,""),a=a.replace(/<\/o:p>/gi,""),this.clean.isHtmlMsWord(a)&&(a=this.clean.cleanMsWord(a)));if(a=d.trim(a),f.pre)this.opts.preSpaces&&(a=a.replace(/\t/g,Array(this.opts.preSpaces+1).join(" ")));else{if(0<=a.indexOf("<p")&&
0<=a.indexOf("<br")){a=d("<div>").html(a);var h=this;a.find("p").each(function(){var e=d(this),l=d.trim(e.html().replace(/\n/g," "));0<=l.indexOf("<br")&&d.trim(h.clean.replaceBrToNl(l))&&e.html(l.replace(/\s*<br\s?\/?>\s*/gi,'<br data-keepbr="1">\n'))});a=a.html()}a=this.clean.replaceBrToNl(a);a=this.clean.replaceNbspToSpaces(a);a=this.clean.removeTagsInsidePre(a)}return!0!==g&&(a=this.clean.removeEmptyInlineTags(a),!1===f.encode&&(a=a.replace(/&/g,"&amp;"),a=this.clean.convertTags(a,f),a=this.clean.getPlainText(a),
a=this.clean.reconvertTags(a,f))),f.text&&(a=this.clean.replaceNbspToSpaces(a),a=this.clean.getPlainText(a)),f.lists&&(a=a.replace("\n","<br>")),f.encode&&(a=this.clean.encodeHtml(a)),f.paragraphize&&(a=a.replace(/ \n/g," "),a=a.replace(/\n /g," "),a=this.paragraphize.load(a),a=a.replace(/<p>\s*<\/p>/g,"")),a=a.replace(/<li>\s*<p>/g,"<li>"),a=a.replace(/<\/p>\s*<\/li>/g,"</li>"),f.pre||(a=a.replace(/\n|\r/g," ")),a},getCurrentType:function(a,f){var g=this.selection.blocks();a={text:!1,encode:!1,paragraphize:!0,
line:this.clean.isHtmlLine(a),blocks:this.clean.isHtmlBlocked(a),pre:!1,lists:!1,block:!0,inline:!0,links:!0,images:!0};return 1===g.length&&this.utils.isCurrentOrParent("h1 h2 h3 h4 h5 h6 a figcaption".split(" "))?(a.text=!0,a.paragraphize=!1,a.inline=!1,a.images=!1,a.links=!1,a.line=!0):"inline"===this.opts.type||!1===this.opts.enterKey?(a.paragraphize=!1,a.block=!1,a.line=!0):1===g.length&&this.utils.isCurrentOrParent(["li"])?(a.lists=!0,a.block=!1,a.paragraphize=!1,a.images=!0):1===g.length&&
this.utils.isCurrentOrParent(["th","td","blockquote"])?(a.block=!1,a.paragraphize=!1):("pre"===this.opts.type||1===g.length&&this.utils.isCurrentOrParent("pre"))&&(a.inline=!1,a.block=!1,a.encode=!0,a.pre=!0,a.paragraphize=!1,a.images=!1,a.links=!1),!0===a.line&&(a.paragraphize=!1),!0===f&&(a.text=!1),a},isHtmlBlocked:function(a){var f=a.match(new RegExp("</("+this.opts.blockTags.join("|").toUpperCase()+")>","gi"));a=a.match(/<hr(.*?[^>])>/gi);return null!==f||null!==a},isHtmlLine:function(a){if(this.clean.isHtmlBlocked(a))return!1;
var f=a.match(/<br\s?\/?>/gi);a=a.match(/\n/gi);return!f&&!a},isHtmlMsWord:function(a){return a.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},removeEmptyInlineTags:function(a){var f=this.opts.inlineTags,g=d("<div/>").html(d.parseHTML(a,document,!0)),h=this,e=g.find("span");f=g.find(f.join(","));return f.removeAttr("style"),f.each(function(){var l=d(this).html();0===this.attributes.length&&h.utils.isEmpty(l)&&d(this).replaceWith(function(){return d(this).contents()})}),
e.each(function(){d(this).html();0===this.attributes.length&&d(this).replaceWith(function(){return d(this).contents()})}),a=g.html(),a=a.replace("\x3c!--?php","<?php"),a=a.replace("\x3c!--?","<?"),a=a.replace("?--\x3e","?>"),g.remove(),a},cleanMsWord:function(a){a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,"");a=a.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"");a=a.replace(/\n/g," ");a=a.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n\n");var f=d("<div/>").html(a),g=!1,h=1,e=[];return f.find("p[style]").each(function(){var l=
d(this).attr("style").match(/mso\-list:l([0-9]+)\slevel([0-9]+)/);if(l){var p=parseInt(l[1]);l=parseInt(l[2]);var u=d(this).html().match(/^[\w]+\./)?"ol":"ul",c=d("<li/>").html(d(this).html());if(c.html(c.html().replace(/^([\w\.]+)</,"<")),c.find("span:first").remove(),1==l&&-1==d.inArray(p,e)){var m=d("<"+u+"/>").attr({"data-level":l,"data-list":p}).html(c);d(this).replaceWith(m);g=p;e.push(p)}else{if(l>h){for(var n=m=f.find('[data-level="'+h+'"][data-list="'+g+'"]'),w=h;w<l;w++)m=d("<"+u+"/>"),
m.appendTo(n.find("li").last()),n=m;n.attr({"data-level":l,"data-list":p}).html(c)}else m=f.find('[data-level="'+l+'"][data-list="'+p+'"]').last(),m.append(c);h=l;g=p;d(this).remove()}}}),f.find("[data-level][data-list]").removeAttr("data-level data-list"),a=f.html()},replaceNbspToSpaces:function(a){return a.replace(/&nbsp;/gi," ")},replaceBrToNl:function(a){return a.replace(/<br\s?\/?>/gi,"\n")},replaceNlToBr:function(a){return a.replace(/\n/g,"<br />")},convertTags:function(a,f){var g=d("<div>").html(a);
g.find("iframe").remove();var h=g.find("a");if(h.removeAttr("style"),!1!==this.opts.pasteLinkTarget&&h.attr("target",this.opts.pasteLinkTarget),f.links&&this.opts.pasteLinks&&g.find("a").each(function(e,l){if(l.href){for(var p='##%%a href="'+l.href+'"',u=0,c=l.attributes.length;u<c;u++)e=l.attributes.item(u),"href"!==e.name&&(p+=" "+e.name+'="'+e.value+'"');l.outerHTML=p+"%%##"+l.innerHTML+"##%%/a%%##"}}),a=g.html(),f.images&&this.opts.pasteImages&&(a=a.replace(/<img(.*?)src="(.*?)"(.*?[^>])>/gi,
'##%%img$1src="$2"$3%%##')),this.opts.pastePlainText)return a;g=f.lists?["ul","ol","li"]:this.opts.pasteBlockTags;f=f.block||f.lists?f.inline?g.concat(this.opts.pasteInlineTags):g:f.inline?this.opts.pasteInlineTags:[];g=f.length;for(h=0;h<g;h++)a=a.replace(new RegExp("</"+f[h]+">","gi"),"###/"+f[h]+"###"),"td"===f[h]||"th"===f[h]?a=a.replace(new RegExp("<"+f[h]+'(.*?[^>])((colspan|rowspan)="(.*?[^>])")?(.*?[^>])>',"gi"),"###"+f[h]+" $2###"):this.utils.isInlineTag(f[h])?(a=a.replace(new RegExp("<"+
f[h]+'([^>]*)class="([^>]*)"[^>]*>',"gi"),"###"+f[h]+' class="$2"###'),a=a.replace(new RegExp("<"+f[h]+'([^>]*)data-redactor-style-cache="([^>]*)"[^>]*>',"gi"),"###"+f[h]+' cache="$2"###'),a=a.replace(new RegExp("<"+f[h]+"[^>]*>","gi"),"###"+f[h]+"###")):a=a.replace(new RegExp("<"+f[h]+"[^>]*>","gi"),"###"+f[h]+"###");return a},reconvertTags:function(a,f){if((f.links&&this.opts.pasteLinks||f.images&&this.opts.pasteImages)&&(a=a.replace(/##%%/gi,"<"),a=a.replace(/%%##/gi,">")),this.opts.pastePlainText)return a;
var g=f.lists?["ul","ol","li"]:this.opts.pasteBlockTags;f=f.block||f.lists?f.inline?g.concat(this.opts.pasteInlineTags):g:f.inline?this.opts.pasteInlineTags:[];g=f.length;for(var h=0;h<g;h++)a=a.replace(new RegExp("###/"+f[h]+"###","gi"),"</"+f[h]+">");for(h=0;h<g;h++)a=a.replace(new RegExp("###"+f[h]+"###","gi"),"<"+f[h]+">");for(h=0;h<g;h++)"td"===f[h]||"th"===f[h]?a=a.replace(new RegExp("###"+f[h]+"s?(.*?[^#])###","gi"),"<"+f[h]+"$1>"):this.utils.isInlineTag(f[h])&&(a=a.replace(new RegExp("###"+
f[h]+' cache="(.*?[^#])"###',"gi"),"<"+f[h]+' style="$1"'+("span"===f[h]?' data-redactor-span="true"':"")+' data-redactor-style-cache="$1">'),a=a.replace(new RegExp("###"+f[h]+"s?(.*?[^#])###","gi"),"<"+f[h]+"$1>"));return a},cleanPre:function(a){a=void 0===a?d(this.selection.block()).closest("pre",this.core.editor()[0]):a;d(a).find("br").replaceWith(function(){return document.createTextNode("\n")});d(a).find("p").replaceWith(function(){return d(this).contents()})},removeTagsInsidePre:function(a){var f=
d("<div />").append(a);return f.find("pre").replaceWith(function(){var g=d(this).html();return g=g.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n"),g=g.replace(/(<([^>]+)>)/gi,""),d("<pre />").append(g)}),a=f.html(),f.remove(),a},getPlainText:function(a){a=a.replace(/\x3c!--[\s\S]*?--\x3e/gi,"");a=a.replace(/<style[\s\S]*?style>/gi,"");a=a.replace(/<p><\/p>/g,"");a=a.replace(/<\/div>|<\/li>|<\/td>/gi,"\n");a=a.replace(/<\/p>/gi,"\n\n");a=a.replace(/<\/H[1-6]>/gi,"\n\n");var f=document.createElement("div");
return f.innerHTML=a,a=f.textContent||f.innerText,d.trim(a)},savePreCode:function(a){return a=this.clean.savePreFormatting(a),a=this.clean.saveCodeFormatting(a),this.clean.restoreSelectionMarkers(a)},savePreFormatting:function(a){var f=a.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return null===f?a:(d.each(f,d.proxy(function(g,h){var e,l,p;g=[];var u=!1;h.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>/i)?(g=h.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>([\w\W]*?)<\/code>(([\n\r\s]+)?)<\/pre>/i),u=!0,e=g[5],
l=g[1],p=g[4]):(g=h.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i),e=g[2],l=g[1]);e=e.replace(/<br\s?\/?>/g,"\n");e=e.replace(/&nbsp;/g," ");this.opts.preSpaces&&(e=e.replace(/\t/g,Array(this.opts.preSpaces+1).join(" ")));e=this.clean.encodeEntities(e);e=e.replace(/\$/g,"&#36;");a=u?a.replace(h,"<pre"+l+"><code"+p+">"+e+"</code></pre>"):a.replace(h,"<pre"+l+">"+e+"</pre>")},this)),a)},saveCodeFormatting:function(a){var f=a.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);return null===f?a:(d.each(f,d.proxy(function(g,
h){g=h.match(/<code(.*?)>([\w\W]*?)<\/code>/i);g[2]=g[2].replace(/&nbsp;/g," ");g[2]=this.clean.encodeEntities(g[2]);g[2]=g[2].replace(/\$/g,"&#36;");a=a.replace(h,"<code"+g[1]+">"+g[2]+"</code>")},this)),a)},restoreSelectionMarkers:function(a){return a.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot;&gt;\u200b&lt;\/span&gt;/g,'<span id="selection-marker-$1" class="redactor-selection-marker">\u200b</span>')},saveFormTags:function(a){return a.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,
'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(a){return a.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")},encodeHtml:function(a){return a=a.replace(/\u201d/g,'"'),a=a.replace(/\u201c/g,'"'),a=a.replace(/\u2018/g,"'"),a=a.replace(/\u2019/g,"'"),this.clean.encodeEntities(a)},encodeEntities:function(a){return a=String(a).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),a.replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},stripTags:function(a,f){return void 0===f?a.replace(/(<([^>]+)>)/gi,""):a.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(g,h){return-1===f.indexOf(h.toLowerCase())?g:""})},removeMarkers:function(a){return a.replace(/<span(.*?[^>]?)class="redactor-selection-marker"(.*?[^>]?)>([\w\W]*?)<\/span>/gi,"")},removeSpaces:function(a){return a=d.trim(a),a=a.replace(/\n/g,""),a=a.replace(/[\t]*/g,""),a=a.replace(/\n\s*\n/g,"\n"),a=
a.replace(/^[\s\n]*/g," "),a=a.replace(/[\s\n]*$/g," "),a=a.replace(/>\s{2,}</g,"> <"),a=a.replace(/\n\n/g,"\n"),a.replace(/\u200B/g,"")},removeSpacesHard:function(a){return a=d.trim(a),a=a.replace(/\n/g,""),a=a.replace(/[\t]*/g,""),a=a.replace(/\n\s*\n/g,"\n"),a=a.replace(/^[\s\n]*/g,""),a=a.replace(/[\s\n]*$/g,""),a=a.replace(/>\s{2,}</g,"><"),a=a.replace(/\n\n/g,"\n"),a.replace(/\u200B/g,"")},normalizeCurrentHeading:function(){var a=this.selection.block();this.utils.isCurrentOrParentHeader()&&
a&&a.normalize()}}},code:function(){return{syncFire:!0,html:!1,start:function(a){a=d.trim(a);a=a.replace(/^(<span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span>)/,"");"textarea"===this.opts.type?a=this.clean.onSet(a):"div"===this.opts.type&&""===a&&(a=this.opts.emptyHtml);a=a.replace(/<p><span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span><\/p>/,"");this.events.stopDetectChanges();this.core.editor().html(a);this.observe.load();this.events.startDetectChanges()},
set:function(a,f){a=d.trim(a);f=f||{};f.start&&(this.start=f.start);"textarea"===this.opts.type?a=this.clean.onSet(a):"div"===this.opts.type&&""===a&&(a=this.opts.emptyHtml);this.core.editor().html(a);this.observe.load();"textarea"===this.opts.type&&this.code.sync();this.placeholder.enable()},get:function(){if("textarea"===this.opts.type)return this.core.textarea().val();var a=this.core.editor().html();return this.clean.onGet(a)},sync:function(){if(this.code.syncFire){var a=this.core.editor().html(),
f=this.code.cleaned(a);if(!this.code.isSync(f)){if(this.code.html=f,"textarea"!==this.opts.type)return this.core.callback("sync",a),void this.core.callback("change",a);"textarea"===this.opts.type&&setTimeout(d.proxy(function(){this.code.startSync(a)},this),10)}}},startSync:function(a){a=this.core.callback("syncBefore",a);a=this.clean.onSync(a);this.core.textarea().val(a);this.core.callback("sync",a);!1===this.start&&this.core.callback("change",a);this.start=!1},isSync:function(a){var f=!1!==this.code.html&&
this.code.html;return!1!==f&&f===a},cleaned:function(a){return a=a.replace(/\u200B/g,""),this.clean.removeMarkers(a)}}},core:function(){return{id:function(){return this.$editor.attr("id")},element:function(){return this.$element},editor:function(){return void 0===this.$editor?d():this.$editor},textarea:function(){return this.$textarea},box:function(){return"textarea"===this.opts.type?this.$box:this.$element},toolbar:function(){return!!this.$toolbar&&this.$toolbar},air:function(){return!!this.$air&&
this.$air},object:function(){return d.extend({},this)},structure:function(){this.core.editor().toggleClass("redactor-structure")},addEvent:function(a){this.core.event=a},getEvent:function(){return this.core.event},callback:function(a,f,g){var h=!1,e=d._data(this.core.element()[0],"events");if(void 0!==e&&void 0!==e[a])for(var l=e[a].length,p=0;p<l;p++)if("callback.redactor"===e[a][p].namespace){h=e[a][p].handler;var u=void 0===g?[f]:[f,g];h=void 0===u?h.call(this,f):h.call(this,f,u)}if(h)return h;
if(void 0===this.opts.callbacks[a])return void 0===g?f:g;a=this.opts.callbacks[a];return d.isFunction(a)?void 0===g?a.call(this,f):a.call(this,f,g):void 0===g?f:g},destroy:function(){this.opts.destroyed=!0;this.core.callback("destroy");this.placeholder.destroy();this.progress.destroy();d("#redactor-voice-"+this.uuid).remove();this.core.editor().removeClass("redactor-in redactor-styles redactor-structure redactor-layer-img-edit");this.core.editor().off("keydown.redactor-remove-textnode");this.core.editor().off(".redactor-observe."+
this.uuid);this.$element.off(".redactor").removeData("redactor");this.core.editor().off(".redactor");d(document).off(".redactor-dropdown");d(document).off(".redactor-air."+this.uuid);d(document).off("mousedown.redactor-blur."+this.uuid);d(document).off("mousedown.redactor."+this.uuid);d(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid);d(window).off(".redactor-toolbar."+this.uuid);d(window).off("touchmove.redactor."+this.uuid);d("body").off("scroll.redactor."+this.uuid);
d(this.opts.toolbarFixedTarget).off("scroll.redactor."+this.uuid);var a=this;!1!==this.opts.plugins&&d.each(this.opts.plugins,function(g,h){d(window).off(".redactor-plugin-"+h);d(document).off(".redactor-plugin-"+h);d("body").off(".redactor-plugin-"+h);a.core.editor().off(".redactor-plugin-"+h)});this.$element.off("click.redactor-click-to-edit");this.$element.removeClass("redactor-click-to-edit");this.core.editor().removeClass("redactor-layer");this.core.editor().removeAttr("contenteditable");var f=
this.code.get();this.opts.toolbar&&this.$toolbar&&this.$toolbar.find("a").each(function(){var g=d(this);g.data("dropdown")&&(g.data("dropdown").remove(),g.data("dropdown",{}))});"textarea"===this.opts.type&&(this.$box.after(this.$element),this.$box.remove(),this.$element.val(f).show());this.opts.air&&this.$air.remove();this.opts.toolbar&&this.$toolbar&&this.$toolbar.remove();this.$modalBox&&this.$modalBox.remove();this.$modalOverlay&&this.$modalOverlay.remove();d(".redactor-link-tooltip").remove();
clearInterval(this.autosaveTimeout)}}},detect:function(){return{isWebkit:function(){return/webkit/.test(this.opts.userAgent)},isFirefox:function(){return-1<this.opts.userAgent.indexOf("firefox")},isIe:function(a){if(document.documentMode||/Edge/.test(navigator.userAgent))return"edge";var f;return f=RegExp("msie"+(isNaN(a)?"":"\\s"+a),"i").test(navigator.userAgent),f||(f=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),f},isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},
isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isIpad:function(){return/iPad/.test(navigator.userAgent)}}},dropdown:function(){return{active:!1,button:!1,key:!1,position:[],getDropdown:function(){return this.dropdown.active},build:function(a,f,g){g=this.dropdown.buildFormatting(a,g);d.each(g,d.proxy(function(h,e){var l=this.dropdown.buildItem(h,e);this.observe.addDropdown(l,h,e);f.attr("rel",a).append(l)},this))},buildFormatting:function(a,f){return"format"!==
a||!1===this.opts.formattingAdd?f:(d.each(this.opts.formattingAdd,d.proxy(function(g,h){var e=this.utils.isBlockTag(h.args[0])?"block":"inline";f[g]={func:"block"===e?"block.format":"inline.format",args:h.args,title:h.title}},this)),f)},buildItem:function(a,f){var g=d("<li />");if(void 0!==f.classname&&g.addClass(f.classname),-1!==a.search(/^divider/i))return g.addClass("redactor-dropdown-divider"),g;var h=d('<a href="#" class="redactor-dropdown-'+a+'" role="button" />'),e=d("<span />").html(f.title);
return h.append(e),h.on("mousedown",d.proxy(function(l){l.preventDefault();this.dropdown.buildClick(l,a,f)},this)),g.append(h),g},buildClick:function(a,f,g){if(!d(a.target).hasClass("redactor-dropdown-link-inactive")){var h=this.dropdown.buildCommand(g);void 0!==g.args?this.button.toggle(a,f,h.type,h.callback,g.args):this.button.toggle(a,f,h.type,h.callback)}},buildCommand:function(a){var f={};return f.type="func",f.callback=a.func,a.command?(f.type="command",f.callback=a.command):a.dropdown&&(f.type=
"dropdown",f.callback=a.dropdown),f},show:function(a,f){if(this.detect.isDesktop()&&this.core.editor().focus(),this.dropdown.hideAll(!1,f),this.dropdown.key=f,this.dropdown.button=this.button.get(this.dropdown.key),this.dropdown.button.hasClass("dropact"))return void this.dropdown.hide();this.dropdown.active=this.dropdown.button.data("dropdown").appendTo(document.body);this.core.callback("dropdownShow",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button});this.button.setActive(this.dropdown.key);
this.dropdown.button.addClass("dropact");this.dropdown.getButtonPosition();this.button.toolbar().hasClass("toolbar-fixed-box")&&this.detect.isDesktop()?this.dropdown.showIsFixedToolbar():this.dropdown.showIsUnFixedToolbar();this.detect.isDesktop()&&!this.detect.isFirefox()&&(this.dropdown.active.on("mouseover.redactor-dropdown",d.proxy(this.utils.disableBodyScroll,this)),this.dropdown.active.on("mouseout.redactor-dropdown mousedown.redactor-dropdown",d.proxy(this.utils.enableBodyScroll,this)));a.stopPropagation()},
showIsFixedToolbar:function(){var a=this.dropdown.button.position().top+this.dropdown.button.innerHeight()+this.opts.toolbarFixedTopOffset,f="fixed";this.opts.toolbarFixedTarget!==document&&(a=this.dropdown.button.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,f="absolute");this.dropdown.active.css({position:f,left:this.dropdown.position.left+"px",top:a+"px"}).show();this.dropdown.active.redactorAnimation("slideDown",{duration:.2},d.proxy(function(){this.dropdown.enableCallback();
this.dropdown.enableEvents()},this))},showIsUnFixedToolbar:function(){this.dropdown.active.css({position:"absolute",left:this.dropdown.position.left+"px",top:this.dropdown.button.innerHeight()+this.dropdown.position.top+"px"}).show();this.dropdown.active.redactorAnimation(this.opts.animation?"slideDown":"show",{duration:.2},d.proxy(function(){this.dropdown.enableCallback();this.dropdown.enableEvents()},this))},enableEvents:function(){d(document).on("mousedown.redactor-dropdown",d.proxy(this.dropdown.hideAll,
this));this.core.editor().on("touchstart.redactor-dropdown",d.proxy(this.dropdown.hideAll,this));d(document).on("keyup.redactor-dropdown",d.proxy(this.dropdown.closeHandler,this))},enableCallback:function(){this.core.callback("dropdownShown",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button})},getButtonPosition:function(){this.dropdown.position=this.dropdown.button.offset();var a=this.dropdown.active.width();this.dropdown.position.left+a>d(document).width()&&(this.dropdown.position.left=
Math.max(0,this.dropdown.position.left-a+parseInt(this.dropdown.button.innerWidth())))},closeHandler:function(a){a.which===this.keyCode.ESC&&(this.dropdown.hideAll(a),this.core.editor().focus())},hideAll:function(a,f){if(this.detect.isDesktop()&&this.utils.enableBodyScroll(),!1===a||0===d(a.target).closest(".redactor-dropdown").length)a=void 0===f?this.button.toolbar().find("a.dropact"):this.button.toolbar().find("a.dropact").not(".re-"+f),f=void 0===f?d(".redactor-dropdown-"+this.uuid):d(".redactor-dropdown-"+
this.uuid).not(".redactor-dropdown-box-"+f),0!==f.length&&(d(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),d.each(f,d.proxy(function(g,h){g=d(h);this.core.callback("dropdownHide",g);g.hide();g.off("mouseover mouseout").off(".redactor-dropdown")},this)),a.removeClass("redactor-act dropact"))},hide:function(){!1!==this.dropdown.active&&(this.detect.isDesktop()&&this.utils.enableBodyScroll(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideUp":"hide",
{duration:.2},d.proxy(function(){d(document).off(".redactor-dropdown");this.core.editor().off(".redactor-dropdown");this.dropdown.hideOut()},this)))},hideOut:function(){this.core.callback("dropdownHide",this.dropdown.active);this.dropdown.button.removeClass("redactor-act dropact");this.dropdown.active.off("mouseover mouseout").off(".redactor-dropdown");this.dropdown.button=!1;this.dropdown.key=!1;this.dropdown.active=!1}}},events:function(){return{focused:!1,blured:!0,dropImage:!1,stopChanges:!1,
stopDetectChanges:function(){this.events.stopChanges=!0},startDetectChanges:function(){var a=this;setTimeout(function(){a.events.stopChanges=!1},1)},dragover:function(a){a.preventDefault();a.stopPropagation();"IMG"===a.target.tagName&&d(a.target).addClass("redactor-image-dragover")},dragleave:function(a){this.core.editor().find("img").removeClass("redactor-image-dragover")},drop:function(a){return a=a.originalEvent||a,this.core.editor().find("img").removeClass("redactor-image-dragover"),"inline"===
this.opts.type||"pre"===this.opts.type?(a.preventDefault(),!1):void 0===window.FormData||!a.dataTransfer||(0===a.dataTransfer.files.length?this.events.onDrop(a):(this.events.onDropUpload(a),void this.core.callback("drop",a)))},click:function(a){var f=this.core.getEvent();this.core.addEvent("click"!==f&&"arrow"!==f&&"click");this.utils.disableSelectAll();this.core.callback("click",a)},focus:function(a){if(!this.rtePaste&&(this.events.isCallback("focus")&&this.core.callback("focus",a),this.events.focused=
!0,this.events.blured=!1,!1===this.selection.current())){a=this.selection.get();var f=this.selection.range(a);f.setStart(this.core.editor()[0],0);f.setEnd(this.core.editor()[0],0);this.selection.update(a,f)}},blur:function(a){this.start||this.rtePaste||0===d(a.target).closest("#"+this.core.id()+", .redactor-toolbar, .redactor-dropdown, #redactor-modal-box").length&&(!this.events.blured&&this.events.isCallback("blur")&&this.core.callback("blur",a),this.events.focused=!1,this.events.blured=!0)},touchImageEditing:function(){var a=
-1;this.events.imageEditing=!1;d(window).on("touchmove.redactor."+this.uuid,d.proxy(function(){this.events.imageEditing=!0;-1!==a&&clearTimeout(a);a=setTimeout(d.proxy(function(){this.events.imageEditing=!1},this),500)},this))},init:function(){this.core.editor().on("dragover.redactor dragenter.redactor",d.proxy(this.events.dragover,this));this.core.editor().on("dragleave.redactor",d.proxy(this.events.dragleave,this));this.core.editor().on("drop.redactor",d.proxy(this.events.drop,this));this.core.editor().on("click.redactor",
d.proxy(this.events.click,this));this.core.editor().on("paste.redactor",d.proxy(this.paste.init,this));this.core.editor().on("keydown.redactor",d.proxy(this.keydown.init,this));this.core.editor().on("keyup.redactor",d.proxy(this.keyup.init,this));this.core.editor().on("focus.redactor",d.proxy(this.events.focus,this));d(document).on("mousedown.redactor-blur."+this.uuid,d.proxy(this.events.blur,this));this.events.touchImageEditing();this.events.createObserver();this.events.setupObserver()},createObserver:function(){var a=
this;this.events.observer=new MutationObserver(function(f){f.forEach(d.proxy(a.events.iterateObserver,a))})},iterateObserver:function(a){var f=!1;(("textarea"===this.opts.type||"div"===this.opts.type)&&!this.detect.isFirefox()&&a.target===this.core.editor()[0]||"class"===a.attributeName&&a.target===this.core.editor()[0]||"data-vivaldi-spatnav-clickable"==a.attributeName)&&(f=!0);f||(this.observe.load(),this.events.changeHandler())},setupObserver:function(){this.events.observer.observe(this.core.editor()[0],
{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})},changeHandler:function(){this.events.stopChanges||(this.code.sync(),this.autosave.is()&&(clearTimeout(this.autosaveTimeout),this.autosaveTimeout=setTimeout(d.proxy(this.autosave.send,this),300)))},onDropUpload:function(a){if(a.preventDefault(),a.stopPropagation(),(this.opts.dragImageUpload||this.opts.dragFileUpload)&&(null!==this.opts.imageUpload||null!==this.opts.fileUpload)){"IMG"===a.target.tagName&&(this.events.dropImage=
a.target);for(var f=a.dataTransfer.files,g=f.length,h=0;h<g;h++)this.upload.directUpload(f[h],a)}},onDrop:function(a){this.core.callback("drop",a)},isCallback:function(a){return void 0!==this.opts.callbacks[a]&&d.isFunction(this.opts.callbacks[a])},stopDetect:function(){this.events.stopDetectChanges()},startDetect:function(){this.events.startDetectChanges()}}},file:function(){return{is:function(){return!(!this.opts.fileUpload||!this.opts.fileUpload&&!this.opts.s3)},show:function(){this.modal.load("file",
this.lang.get("file"),700);this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert);d("#redactor-filename").val(this.selection.get().toString());this.modal.show()},insert:function(a,f,g){if(void 0!==a.error)return this.modal.close(),void this.core.callback("fileUploadError",a);this.file.release(g,f);this.buffer.set();this.air.collapsed();g=this.file.text(a);g=d("<a />").attr("href",a.url).text(g);var h=void 0===a.id?"":a.id,e=void 0===a.s3?"file":"s3";g.attr("data-"+e,
h);g=d(this.insert.node(g));this.caret.after(g);this.storage.add({type:e,node:g[0],url:a.url,id:h});null!==f&&this.core.callback("fileUpload",g,a)},release:function(a,f){f?(this.marker.remove(),this.insert.nodeToPoint(a,this.marker.get()),this.selection.restore()):this.modal.close()},text:function(a){var f=d("#redactor-filename").val();return void 0===f||""===f?a.name:f}}},focus:function(){return{start:function(){if(this.core.editor().focus(),"inline"!==this.opts.type){var a=this.focus.first();!1!==
a&&this.caret.start(a)}},end:function(){this.core.editor().focus();var a=this.opts.inline?this.core.editor():this.focus.last();if(0!==a.length){var f=this.focus.lastChild(a);if(this.detect.isWebkit()||!1===f){f=this.selection.get();var g=this.selection.range(f);null!==g?(g.selectNodeContents(a[0]),g.collapse(!1),this.selection.update(f,g)):this.caret.end(a)}else this.caret.end(f)}},first:function(){var a=this.core.editor().children().first();return!a.length||"UL"!==a[0].tagName&&"OL"!==a[0].tagName||
(a=a.find("li").first()),0!==a.length&&0!==a[0].length&&"BR"!==a[0].tagName&&"HR"!==a[0].tagName&&3!==a[0].nodeType&&a},last:function(){return this.core.editor().children().last()},lastChild:function(a){a=a[0].lastChild;return!(null===a||!this.utils.isInlineTag(a.tagName))&&a},is:function(){return this.core.editor()[0]===document.activeElement}}},image:function(){return{is:function(){return!(!this.opts.imageUpload||!this.opts.imageUpload&&!this.opts.s3)},show:function(){var a=this.selection.current();
if(a)if(this.utils.isTag(a,"img"))this.events.dropImage=a;else if(a=d(a).find("img:first"),a.length)return this.image.showEdit(a);this.modal.load("image",this.lang.get("image"),700);this.upload.init("#redactor-modal-image-droparea",this.opts.imageUpload,this.image.insert);this.modal.show()},insert:function(a,f,g){var h;if(void 0!==a.error)return this.modal.close(),this.events.dropImage=!1,void this.core.callback("imageUploadError",a,g);if(!1!==this.events.dropImage)return h=d(this.events.dropImage),
this.core.callback("imageDelete",h[0].src,h),h.attr("src",a.url),this.events.dropImage=!1,this.core.callback("imageUpload",h,a),void this.modal.close();this.placeholder.hide();var e=d("<"+this.opts.imageTag+">");h=d("<img>");h.attr("src",a.url);var l=void 0===a.id?"":a.id,p=void 0===a.s3?"image":"s3";h.attr("data-"+p,l);e.append(h);var u=this.utils.isTag(this.selection.current(),"pre");f?(this.air.collapsed(),this.marker.remove(),g=this.insert.nodeToPoint(g,this.marker.get()),g=d(g).next(),this.selection.restore(),
this.buffer.set(),void 0!==g&&0!==g.length&&"IMG"===g[0].tagName?(this.core.callback("imageDelete",g[0].src,g),g.closest("figure, p",this.core.editor()[0]).replaceWith(e),this.caret.after(e)):(u?d(u).after(e):this.insert.node(e),this.caret.after(e))):(this.modal.close(),this.buffer.set(),this.air.collapsed(),u?d(u).after(e):this.insert.node(e),this.caret.after(e));this.events.dropImage=!1;this.storage.add({type:p,node:h[0],url:a.url,id:l});l=h[0].nextSibling;e=e.next();p=d(l).text().replace(/\u200B/g,
"");u=e.text().replace(/\u200B/g,"");""===p&&d(l).remove();1===e.length&&"FIGURE"===e[0].tagName&&""===u&&e.remove();null!==f?this.core.callback("imageUpload",h,a):this.core.callback("imageInserted",h,a)},setEditable:function(a){if(a.on("dragstart",function(g){g.preventDefault()}),this.opts.imageResizable){var f=d.proxy(function(g){this.observe.image=a;this.image.resizer=this.image.loadEditableControls(a);d(document).on("mousedown.redactor-image-resize-hide."+this.uuid,d.proxy(this.image.hideResize,
this));this.image.resizer&&this.image.resizer.on("mousedown.redactor touchstart.redactor",d.proxy(function(h){this.image.setResizable(h,a)},this))},this);a.off("mousedown.redactor").on("mousedown.redactor",d.proxy(this.image.hideResize,this));a.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",f)}else a.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",d.proxy(function(g){setTimeout(d.proxy(function(){this.image.showEdit(a)},this),200)},
this))},setResizable:function(a,f){a.preventDefault();this.image.resizeHandle={x:a.pageX,y:a.pageY,el:f,ratio:f.width()/f.height(),h:f.height()};a=a.originalEvent||a;a.targetTouches&&(this.image.resizeHandle.x=a.targetTouches[0].pageX,this.image.resizeHandle.y=a.targetTouches[0].pageY);this.image.startResize()},startResize:function(){d(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",d.proxy(this.image.moveResize,this));d(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",
d.proxy(this.image.stopResize,this))},moveResize:function(a){a.preventDefault();a=a.originalEvent||a;var f=this.image.resizeHandle.h;a.targetTouches?f+=a.targetTouches[0].pageY-this.image.resizeHandle.y:f+=a.pageY-this.image.resizeHandle.y;a=Math.round(f*this.image.resizeHandle.ratio);50>f||100>a||(this.image.resizeHandle.el.attr({width:a,height:f}),this.image.resizeHandle.el.width(a),this.image.resizeHandle.el.height(f),this.code.sync())},stopResize:function(){this.handle=!1;d(document).off(".redactor-image-resize");
this.image.hideResize()},hideResize:function(a){a&&0!==d(a.target).closest("#redactor-image-box",this.$editor[0]).length||(a&&"IMG"==a.target.tagName&&d(a.target),a=this.$editor.find("#redactor-image-box"),0!==a.length&&(d("#redactor-image-editter").remove(),d("#redactor-image-resizer").remove(),a.find("img").css({marginTop:a[0].style.marginTop,marginBottom:a[0].style.marginBottom,marginLeft:a[0].style.marginLeft,marginRight:a[0].style.marginRight}),a.css("margin",""),a.find("img").css("opacity",
""),a.replaceWith(function(){return d(this).contents()}),d(document).off("mousedown.redactor-image-resize-hide."+this.uuid),void 0!==this.image.resizeHandle&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style"))))},loadResizableControls:function(a,f){if(this.opts.imageResizable&&!this.detect.isMobile()){var g=d('<span id="redactor-image-resizer" data-redactor="verified"></span>');return this.detect.isDesktop()||g.css({width:"15px",height:"15px"}),g.attr("contenteditable",
!1),f.append(g),f.append(a),g}return f.append(a),!1},loadEditableControls:function(a){if(0===d("#redactor-image-box").length){var f=d('<span id="redactor-image-box" data-redactor="verified">');if(f.css("float",a.css("float")).attr("contenteditable",!1),"auto"!=a[0].style.margin?(f.css({marginTop:a[0].style.marginTop,marginBottom:a[0].style.marginBottom,marginLeft:a[0].style.marginLeft,marginRight:a[0].style.marginRight}),a.css("margin","")):f.css({display:"block",margin:"auto"}),a.css("opacity",".5").after(f),
this.opts.imageEditable){this.image.editter=d('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>");this.image.editter.attr("contenteditable",!1);this.image.editter.on("click",d.proxy(function(){this.image.showEdit(a)},this));f.append(this.image.editter);var g=this.image.editter.innerWidth();this.image.editter.css("margin-left","-"+g/2+"px")}return this.image.loadResizableControls(a,f)}},showEdit:function(a){if(!this.events.imageEditing){this.observe.image=
a;var f=a.closest("a",this.$editor[0]),g=a.closest("figure",this.$editor[0]),h=0!==g.length?g:a;if(this.modal.load("image-edit",this.lang.get("edit"),705),this.image.buttonDelete=this.modal.getDeleteButton().text(this.lang.get("delete")),this.image.buttonSave=this.modal.getActionButton().text(this.lang.get("save")),this.image.buttonDelete.on("click",d.proxy(this.image.remove,this)),this.image.buttonSave.on("click",d.proxy(this.image.update,this)),!1===this.opts.imageCaption)d("#redactor-image-caption").val("").hide().prev().hide();
else{var e=a.closest(this.opts.imageTag,this.$editor[0]).find("figcaption");0!==e&&d("#redactor-image-caption").val(e.text()).show()}this.opts.imagePosition?(g=(0!==g.length?"center"===h.css("text-align"):"block"==h.css("display")&&"none"==h.css("float"))?"center":h.css("float"),d("#redactor-image-align").val(g)):d(".redactor-image-position-option").hide();d("#redactor-image-preview").html(d('<img src="'+a.attr("src")+'" style="max-width: 100%;">'));d("#redactor-image-title").val(a.attr("alt"));0!==
f.length&&(d("#redactor-image-link").val(f.attr("href")),"_blank"===f.attr("target")&&d("#redactor-image-link-blank").prop("checked",!0));d(".redactor-link-tooltip").remove();this.modal.show();this.detect.isDesktop()&&d("#redactor-image-title").focus()}},update:function(){var a=this.observe.image,f=a.closest("a",this.core.editor()[0]),g=d("#redactor-image-title").val().replace(/(<([^>]+)>)/gi,"");a.attr("alt",g).attr("title",g);this.image.setFloating(a);g=d.trim(d("#redactor-image-link").val()).replace(/(<([^>]+)>)/gi,
"");if(""!==g){var h=/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}/i;-1===g.search(/^(http|ftp|https):\/\/((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}/i)&&0===g.search(h)&&this.opts.linkProtocol&&(g=this.opts.linkProtocol+"://"+g);h=!!d("#redactor-image-link-blank").prop("checked");0===f.length?(f=d('<a href="'+g+'" id="redactor-img-tmp">'+this.utils.getOuterHtml(a)+"</a>"),h&&f.attr("target","_blank"),a=a.replaceWith(f),f=this.core.editor().find("#redactor-img-tmp"),f.removeAttr("id")):(f.attr("href",
g),h?f.attr("target","_blank"):f.removeAttr("target"))}else 0!==f.length&&f.replaceWith(this.utils.getOuterHtml(a));this.image.addCaption(a,f);this.modal.close();this.buffer.set()},setFloating:function(a){var f=a.closest("figure",this.$editor[0]),g=0!==f.length?f:a,h="",e="",l="",p="";switch(d("#redactor-image-align").val()){case "left":h="left";l="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case "right":h="right";l="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;
break;case "center":0!==f.length?p="center":(e="block",l="auto")}g.css({float:h,display:e,margin:l,"text-align":p});g.attr("rel",a.attr("style"))},addCaption:function(a,f){var g=d("#redactor-image-caption").val();a=0!==f.length?f:a;f=a.next();0!==f.length&&"FIGCAPTION"===f[0].tagName||(f=!1);""!==g?!1===f?(f=d("<figcaption />").text(g),a.after(f)):f.text(g):!1!==f&&f.remove()},remove:function(a,f,g){f=void 0===f?d(this.observe.image):f;"boolean"!=typeof a&&this.buffer.set();this.events.stopDetectChanges();
g=f.closest("a",this.core.editor()[0]);var h=f.closest(this.opts.imageTag,this.core.editor()[0]);f.parent();if(!1===this.core.callback("imageDelete",a,f[0]))return a&&a.preventDefault(),!1;0!==d("#redactor-image-box").length&&d("#redactor-image-box").parent();var e,l;0!==h.length?(l=h.prev(),e=h.next(),h.remove()):0!==g.length?(g.parent(),g.remove()):f.remove();d("#redactor-image-box").remove();!1!==a&&(e&&0!==e.length?this.caret.start(e):l&&0!==l.length&&this.caret.end(l));"boolean"!=typeof a&&this.modal.close();
this.utils.restoreScroll();this.observe.image=!1;this.events.startDetectChanges();this.placeholder.enable();this.code.sync()}}},indent:function(){return{increase:function(){if(this.list.get()){var a=d(this.selection.current()).closest("li"),f=a.closest("ul, ol",this.core.editor()[0]),g=a.closest("li").prev();if(0!==g.length&&"LI"===g[0].tagName){if(this.buffer.set(),this.utils.isCollapsed()){var h=f[0].tagName;d("<"+h+" />");this.selection.save();h=g.find("ol").first();1===h.length?h.append(a):(h=
f[0].tagName,f=d("<"+h+" />"),f.append(a),g.append(f))}else document.execCommand("indent"),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize();this.selection.restore()}}},decrease:function(){if(this.list.get()){d(this.selection.current()).closest("li").closest("ul, ol",this.core.editor()[0]);this.buffer.set();document.execCommand("outdent");var a=d(this.selection.current()).closest("li",this.core.editor()[0]);if(this.utils.isCollapsed()&&this.indent.repositionItem(a),0===a.length)document.execCommand("formatblock",
!1,"p"),a=d(this.selection.current()),a=a.next(),0!==a.length&&"BR"===a[0].tagName&&a.remove();this.selection.save();this.indent.removeEmpty();this.indent.normalize();this.selection.restore()}},repositionItem:function(a){var f=a.next();0===f.length||"UL"===f[0].tagName&&"OL"===f[0].tagName||a.append(f);f=a.prev();0!==f.length&&"LI"!==f[0].tagName&&(this.selection.save(),a.parents("li",this.core.editor()[0]).after(a),this.selection.restore())},normalize:function(){this.core.editor().find("li").each(d.proxy(function(a,
f){a=d(f);f="";0!==this.opts.keepStyleAttr.length&&(f=","+this.opts.keepStyleAttr.join(","));a.find(this.opts.inlineTags.join(",")).not("img"+f).removeAttr("style");f=a.parent();if(0!==f.length&&"LI"===f[0].tagName)return void f.after(a);f=a.next();0===f.length||"UL"!==f[0].tagName&&"OL"!==f[0].tagName||a.append(f)},this))},removeEmpty:function(a){a=this.core.editor().find("ul, ol");var f=this.core.editor().find("li");f.each(d.proxy(function(g,h){this.indent.removeItemEmpty(h)},this));a.each(d.proxy(function(g,
h){this.indent.removeItemEmpty(h)},this));f.each(d.proxy(function(g,h){this.indent.removeItemEmpty(h)},this))},removeItemEmpty:function(a){""===a.innerHTML.replace(/[\t\s\n]/g,"").replace(/<span><\/span>/g,"")&&d(a).remove()}}},inline:function(){return{format:function(a,f,g,h){this.utils.isCurrentOrParent(["PRE","CODE"])||(f=this.inline.getParams(f,g,h),a=this.inline.arrangeTag(a),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.inline.formatCollapsed(a,f):this.inline.formatUncollapsed(a,
f))},formatCollapsed:function(a,f){var g=this.selection.inline();if(g){var h=g.tagName.toLowerCase();h===a?this.utils.isEmpty(g.innerHTML)?(this.caret.after(g),d(g).remove()):(f=this.inline.insertBreakpoint(g,h),this.caret.after(f)):0===d(g).closest(a).length?(a=this.inline.insertInline(a),this.inline.setParams(a,f)):(f=this.inline.insertBreakpoint(g,h),this.caret.after(f))}else a=this.inline.insertInline(a),this.inline.setParams(a,f)},formatUncollapsed:function(a,f){this.selection.save();var g=this.inline.getClearedNodes();
this.inline.setNodesStriked(g,a,f);this.selection.restore();document.execCommand("strikethrough");this.selection.saveInstant();var h=this;this.core.editor().find("strike").each(function(){var e=h.utils.replaceToTag(this,a);h.inline.setParams(e[0],f);var l=e.find(a),p=e.parent(),u=p.parent();if(0!==u.length&&u[0].tagName.toLowerCase()===a&&u.html()==p[0].outerHTML)return e.replaceWith(function(){return d(this).contents()}),void u.replaceWith(function(){return d(this).contents()});0!==l.length&&h.inline.cleanInsideOrParent(l,
f);p.html()==e[0].outerHTML&&h.inline.cleanInsideOrParent(p,f);h.detect.isFirefox()&&h.core.editor().find(a+":empty").remove()});this.selection.restoreInstant()},cleanInsideOrParent:function(a,f){if(f)for(var g in f.data)this.inline.removeSpecificAttr(a,g,f.data[g])},getClearedNodes:function(){for(var a=this.selection.nodes(),f=[],g=a.length,h=0,e=0;e<g;e++)if(d(a[e]).hasClass("redactor-selection-marker")){h=e+2;break}for(e=0;e<g;e++)e>=h&&!this.utils.isBlockTag(a[e].tagName)&&f.push(a[e]);return f},
isConvertableAttr:function(a,f,g){var h=d(a).attr(f);if(h)if("style"===f){g=d.trim(g).replace(/;$/,"");f=g.split(";");for(h=g=0;h<f.length;h++){var e=f[h].split(":"),l=d.trim(e[0]);e=d.trim(e[1]);-1!==l.search(/color/)?(l=d(a).css(l),!l||l!==e&&this.utils.rgb2hex(l)!==e||g++):d(a).css(l)===e&&g++}if(g===f.length)return 1}else if(h===g)return 1;return 0},isConvertable:function(a,f,g,h){if(f===g){if(!h)return!0;f=0;for(var e in h.data)f+=this.inline.isConvertableAttr(a,e,h.data[e]);if(f===Object.keys(h.data).length)return!0}return!1},
setNodesStriked:function(a,f,g){for(var h=0;h<a.length;h++){var e=a[h].tagName?a[h].tagName.toLowerCase():void 0,l=a[h].parentNode,p=l&&l.tagName?l.tagName.toLowerCase():void 0;(p=this.inline.isConvertable(l,p,f,g))&&d(l).replaceWith(function(){return d("<strike>").append(d(this).contents())}).attr("data-redactor-inline-converted");(p=this.inline.isConvertable(a[h],e,f,g))&&d(a[h]).replaceWith(function(){return d("<strike>").append(d(this).contents())})}},insertBreakpoint:function(a,f){var g=document.createElement("span");
g.id="redactor-inline-breakpoint";this.insert.node(g);var h=this.utils.isEndOfElement(a);g=this.utils.getOuterHtml(a);h=h?"":"<"+f+">";g=g.replace(/<span id="redactor-inline-breakpoint"><\/span>/i,"</"+f+">"+h);f=d(g);return d(a).replaceWith(f),""!==h&&this.utils.cloneAttributes(a,f.last()),f.first()},insertInline:function(a){a=document.createElement(a);return this.insert.node(a),this.caret.start(a),a},arrangeTag:function(a){var f="b bold i italic underline strikethrough deleted superscript subscript".split(" "),
g="strong strong em em u del del sup sub".split(" ");a=a.toLowerCase();for(var h=0;h<f.length;h++)a===f[h]&&(a=g[h]);return a},getStyleParams:function(a){var f={};a=a.trim().replace(/;$/,"").split(";");for(var g=0;g<a.length;g++){var h=a[g].split(":");h&&(f[h[0].trim()]=h[1].trim())}return f},getParams:function(a,f,g){var h=!1,e="toggle";return"object"==typeof a?(h=a,e=void 0!==f?f:e):void 0!==a&&void 0!==f&&(h={},h[a]=f,e=void 0!==g?g:e),!!h&&{func:e,data:h}},setParams:function(a,f){if(f)for(var g in f.data){var h=
d(a);"style"===g?(a=this.inline[f.func+"Style"](f.data[g],a),h.attr("data-redactor-style-cache",h.attr("style"))):a="class"===g?this.inline[f.func+"Class"](f.data[g],a):"remove"===f.func?this.inline[f.func+"Attr"](g,a):this.inline[f.func+"Attr"](g,f.data[g],a);"style"===g&&"SPAN"===a.tagName&&h.attr("data-redactor-span",!0)}return a},eachInline:function(a,f){if(a=void 0===a?this.selection.inlines():[a])for(var g=0;g<a.length;g++)var h=f(a[g])[0];return h},replaceClass:function(a,f){return this.inline.eachInline(f,
function(g){return d(g).removeAttr("class").addClass(a)})},toggleClass:function(a,f){return this.inline.eachInline(f,function(g){return d(g).toggleClass(a)})},addClass:function(a,f){return this.inline.eachInline(f,function(g){return d(g).addClass(a)})},removeClass:function(a,f){return this.inline.eachInline(f,function(g){return d(g).removeClass(a)})},removeAllClass:function(a){return this.inline.eachInline(a,function(f){return d(f).removeAttr("class")})},replaceAttr:function(a,f,g){return this.inline.eachInline(g,
function(h){return d(h).removeAttr(a).attr(a.value)})},toggleAttr:function(a,f,g){return this.inline.eachInline(g,function(h){return d(h).attr(a)?d(h).removeAttr(a):d(h).attr(a.value)})},addAttr:function(a,f,g){return this.inline.eachInline(g,function(h){return d(h).attr(a,f)})},removeAttr:function(a,f){return this.inline.eachInline(f,function(g){g=d(g);return g.removeAttr(a),"style"===a&&g.removeAttr("data-redactor-style-cache"),g})},removeAllAttr:function(a){return this.inline.eachInline(a,function(f){for(var g=
d(f),h=f.attributes.length,e=0;e<h;e++)g.removeAttr(f.attributes[e].name);return g})},removeSpecificAttr:function(a,f,g){var h=d(a);"style"===f?(f=g.split(":")[0].trim(),h.css(f,""),this.utils.removeEmptyAttr(a,"style")&&h.removeAttr("data-redactor-style-cache")):h.removeAttr(f)[0]},hasParentStyle:function(a){var f=a.parent();return 1===f.length&&f[0].tagName===a[0].tagName&&f.html()===a[0].outerHTML&&f},addParentStyle:function(a){var f=this.inline.hasParentStyle(a);if(f){var g=this.inline.getStyleParams(a.attr("style"));
f.css(g);f.attr("data-redactor-style-cache",f.attr("style"));a.replaceWith(function(){return d(this).contents()})}else a.attr("data-redactor-style-cache",a.attr("style"));return a},replaceStyle:function(a,f){a=this.inline.getStyleParams(a);var g=this;return this.inline.eachInline(f,function(h){h=d(h);h.removeAttr("style").css(a);var e=h.attr("style");return e&&h.attr("style",e.replace(/"/g,"'")),g.inline.addParentStyle(h)})},toggleStyle:function(a,f){a=this.inline.getStyleParams(a);var g=this;return this.inline.eachInline(f,
function(h){var e=d(h);for(u in a){var l=a[u],p=e.css(u);p=g.utils.isRgb(p)?g.utils.rgb2hex(p):p.replace(/"/g,"");l=g.utils.isRgb(l)?g.utils.rgb2hex(l):l.replace(/"/g,"");p===l?e.css(u,""):e.css(u,l)}var u=e.attr("style");return u&&e.attr("style",u.replace(/"/g,"'")),g.utils.removeEmptyAttr(h,"style")?e.removeAttr("data-redactor-style-cache"):e=g.inline.addParentStyle(e),e})},addStyle:function(a,f){a=this.inline.getStyleParams(a);var g=this;return this.inline.eachInline(f,function(h){h=d(h);h.css(a);
var e=h.attr("style");return e&&h.attr("style",e.replace(/"/g,"'")),g.inline.addParentStyle(h)})},removeStyle:function(a,f){a=this.inline.getStyleParams(a);var g=this;return this.inline.eachInline(f,function(h){var e=d(h),l;for(l in a)e.css(l,"");return g.utils.removeEmptyAttr(h,"style")?e.removeAttr("data-redactor-style-cache"):e.attr("data-redactor-style-cache",e.attr("style")),e})},removeAllStyle:function(a){return this.inline.eachInline(a,function(f){return d(f).removeAttr("style").removeAttr("data-redactor-style-cache")})},
removeStyleRule:function(a){var f=this.selection.parent(),g=this.selection.inlines();this.buffer.set();f&&"SPAN"===f.tagName&&this.inline.removeStyleRuleAttr(d(f),a);for(f=0;f<g.length;f++){var h=g[f],e=d(h);-1==d.inArray(h.tagName.toLowerCase(),this.opts.inlineTags)||e.hasClass("redactor-selection-marker")||this.inline.removeStyleRuleAttr(e,a)}},removeStyleRuleAttr:function(a,f){a.css(f,"");this.utils.removeEmptyAttr(a,"style")?a.removeAttr("data-redactor-style-cache"):a.attr("data-redactor-style-cache",
a.attr("style"))},update:function(a,f,g,h){a=this.inline.arrangeTag(a);f=this.inline.getParams(f,g,h);g=this.selection.inlines();h=[];if(g)for(var e=0;e<g.length;e++){var l=g[e];"*"!==a&&l.tagName.toLowerCase()!==a||h.push(this.inline.setParams(l,f))}return h},removeFormat:function(){this.selection.save();for(var a=this.inline.getClearedNodes(),f=0;f<a.length;f++)1===a[f].nodeType&&d(a[f]).replaceWith(function(){return d(this).contents()});this.selection.restore()}}},insert:function(){return{set:function(a){this.placeholder.hide();
this.code.set(a);this.focus.end();this.placeholder.enable()},html:function(a,f){this.placeholder.hide();this.core.editor().focus();var g=this.selection.block(),h=this.selection.inline();void 0===f&&(f=this.clean.getCurrentType(a,!0),a=this.clean.onPaste(a,f,!0));a=d.parseHTML(a);var e=d(a).last(),l=this.selection.get(),p=this.selection.range(l);if(p.deleteContents(),this.selection.update(l,p),f.lists)if(l=d(a),0!==l.length&&("UL"===l[0].tagName||"OL"===l[0].tagName))return void this.insert.appendLists(g,
l);f.blocks&&g?this.utils.isSelectAll()?(this.core.editor().html(a),this.focus.end()):(h=this.utils.breakBlockTag(),!1===h?this.insert.placeHtml(a):(d(a).children().last().append(this.marker.get()),"start"===h.type?h.$block.before(a):h.$block.after(a),this.selection.restore(),this.core.editor().find("p").each(function(){""===d.trim(this.innerHTML)&&d(this).remove()}))):(h&&(a=d("<div/>").html(a),a.find(h.tagName.toLowerCase()).each(function(){d(this).contents().unwrap()}),a=a.html(),a=d.parseHTML(a),
e=d(a).last()),this.utils.isSelectAll()?(h=d(this.opts.emptyHtml),this.core.editor().html("").append(h),h.html(a),this.caret.end(h)):this.insert.placeHtml(a));this.utils.disableSelectAll();f.pre&&this.clean.cleanPre();this.caret.end(e);this.linkify.format()},text:function(a){a=a.toString();a=d.trim(a);var f=document.createElement("div");if(f.innerHTML=a,void 0!==(a=f.textContent||f.innerText)){this.placeholder.hide();this.core.editor().focus();f=this.selection.blocks();if(a=a.replace(/\n/g," "),this.utils.isSelectAll())f=
d(this.opts.emptyHtml),this.core.editor().html("").append(f),f.html(a),this.caret.end(f);else{var g=this.selection.get();a=document.createTextNode(a);if(g.getRangeAt&&g.rangeCount){var h=g.getRangeAt(0);h.deleteContents();h.insertNode(a);h.setStartAfter(a);h.collapse(!0);this.selection.update(g,h)}1<f.length&&(d(a).wrap("<p>"),this.caret.after(a))}this.utils.disableSelectAll();this.linkify.format();this.clean.normalizeCurrentHeading()}},raw:function(a){this.placeholder.hide();this.core.editor().focus();
var f=this.selection.get(),g=this.selection.range(f);g.deleteContents();var h=document.createElement("div");h.innerHTML=a;for(var e,l=document.createDocumentFragment();a=h.firstChild;)e=l.appendChild(a);g.insertNode(l);e&&(g=g.cloneRange(),g.setStartAfter(e),g.collapse(!0),f.removeAllRanges(),f.addRange(g))},rawAfter:function(a){this.placeholder.hide();this.core.editor().focus();var f=this.selection.get(),g=this.selection.range(f),h=this.selection.current(),e=document.createElement("div");e.innerHTML=
a;a=e.firstChild;d(h).after(d(a));g.setStartAfter(a);g.collapse(!0);f.addRange(g)},node:function(a,f){this.placeholder.hide();void 0!==this.start&&this.core.editor().focus();a=a[0]||a;var g=this.selection.block(),h=this.utils.isBlockTag(a.tagName),e=!0;this.utils.isSelectAll()?(h?this.core.editor().html(a):this.core.editor().html(d("<p>").html(a)),this.code.sync()):h&&g?(g=this.utils.breakBlockTag(),!1===g?this.insert.placeNode(a,f):("start"===g.type?g.$block.before(a):g.$block.after(a),this.core.editor().find("p:empty").remove())):
e=this.insert.placeNode(a,f);return this.utils.disableSelectAll(),e&&this.caret.end(a),a},appendLists:function(a,f){var g=d(a),h=this.utils.isEmpty(a.innerHTML);if(h||this.utils.isEndOfElement(a)){var e=g;f.find("li").each(function(){e.after(this);e=d(this)});h&&g.remove()}else this.utils.isStartOfElement(a)?f.find("li").each(function(){g.before(this);e=d(this)}):(a=this.selection.extractEndOfNode(a),g.after(d("<li>").append(a)),g.append(f),e=f);this.marker.remove();e&&this.caret.end(e);this.linkify.format()},
placeHtml:function(a){var f=document.createElement("span");f.id="redactor-insert-marker";f=this.insert.node(f);d(f).before(a);this.selection.restore();this.caret.after(f);d(f).remove()},placeNode:function(a,f){var g=this.selection.get(),h=this.selection.range(g);if(null==h)return!1;!1!==f&&h.deleteContents();h.insertNode(a);h.collapse(!1);this.selection.update(g,h)},nodeToPoint:function(a,f){if(this.placeholder.hide(),f=f[0]||f,this.utils.isEmpty())return f=this.utils.isBlock(f)?f:d("<p />").append(f),
this.core.editor().html(f),f;var g=a.clientX,h=a.clientY;if(document.caretPositionFromPoint)g=document.caretPositionFromPoint(g,h),a=document.getSelection().getRangeAt(0),a.setStart(g.offsetNode,g.offset),a.collapse(!0),a.insertNode(f);else if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(g,h),a.insertNode(f);else if(void 0!==document.body.createTextRange){a=document.body.createTextRange();a.moveToPoint(g,h);var e=a.duplicate();e.moveToPoint(g,h);a.setEndPoint("EndToEnd",e);a.select()}return f},
nodeToCaretPositionFromPoint:function(a,f){this.insert.nodeToPoint(a,f)},marker:function(){this.marker.insert()}}},keydown:function(){return{init:function(a){if(!this.rtePaste){var f=a.which,g=37<=f&&40>=f;this.keydown.ctrl=a.ctrlKey||a.metaKey;this.keydown.parent=this.selection.parent();this.keydown.current=this.selection.current();this.keydown.block=this.selection.block();this.keydown.pre=this.utils.isTag(this.keydown.current,"pre");this.keydown.blockquote=this.utils.isTag(this.keydown.current,
"blockquote");this.keydown.figcaption=this.utils.isTag(this.keydown.current,"figcaption");this.keydown.figure=this.utils.isTag(this.keydown.current,"figure");if(!1===this.core.callback("keydown",a))return a.preventDefault(),!1;if(this.shortcuts.init(a,f),this.keydown.checkEvents(g,f),this.keydown.setupBuffer(a,f),this.utils.isSelectAll()&&(f===this.keyCode.ENTER||f===this.keyCode.BACKSPACE||f===this.keyCode.DELETE))return a.preventDefault(),this.code.set(this.opts.emptyHtml),void this.events.changeHandler();
if(this.keydown.addArrowsEvent(g),this.keydown.setupSelectAll(a,f),!this.opts.enterKey&&f===this.keyCode.ENTER)return a.preventDefault(),a=this.selection.get(),a=this.selection.range(a),void(a.collapsed||a.deleteContents());if(this.opts.enterKey&&f===this.keyCode.DOWN&&this.keydown.onArrowDown(),this.opts.enterKey&&f===this.keyCode.UP&&this.keydown.onArrowUp(),("textarea"===this.opts.type||"div"===this.opts.type)&&this.keydown.current&&3===this.keydown.current.nodeType&&d(this.keydown.parent).hasClass("redactor-in")&&
this.keydown.wrapToParagraph(),!this.keyup.lastShiftKey&&f===this.keyCode.SPACE&&(a.ctrlKey||a.shiftKey))return a.preventDefault(),this.keydown.onShiftSpace();if(f===this.keyCode.ENTER&&(a.ctrlKey||a.shiftKey))return a.preventDefault(),this.keydown.onShiftEnter(a);if(f===this.keyCode.ENTER&&!a.shiftKey&&!a.ctrlKey&&!a.metaKey)return this.keydown.onEnter(a);if(f===this.keyCode.TAB||a.metaKey&&221===f||a.metaKey&&219===f)return this.keydown.onTab(a,f);if(this.detect.isFirefox()&&f===this.keyCode.BACKSPACE&&
this.keydown.block&&"P"===this.keydown.block.tagName&&this.utils.isStartOfElement(this.keydown.block)&&(g=d(this.keydown.block).prev(),0!==g.length))return a.preventDefault(),g.append(this.marker.get()),g.append(d(this.keydown.block).html()),d(this.keydown.block).remove(),void this.selection.restore();if(f===this.keyCode.BACKSPACE||f===this.keyCode.DELETE){if(this.observe.image&&void 0!==this.observe.image&&0!==d("#redactor-image-box").length)return a.preventDefault(),g=this.observe.image.closest("figure, p").prev(),
this.image.remove(!1),this.observe.image=!1,void(g&&0!==g.length?this.caret.end(g):this.core.editor().focus());this.keydown.onBackspaceAndDeleteBefore()}if(f===this.keyCode.DELETE){g=d(this.keydown.block).next();if(this.utils.isEndOfElement(this.keydown.block)&&0!==g.length&&"FIGURE"===g[0].tagName)return g.remove(),!1;if(this.keydown.block&&"LI"===this.keydown.block.tagName&&this.keydown.block){var h=d(this.keydown.block).parents("ul, ol").last(),e=h.next();if(this.utils.isRedactorParent(h)&&this.utils.isEndOfElement(h)&&
0!==e.length&&("UL"===e[0].tagName||"OL"===e[0].tagName))return a.preventDefault(),h.append(e.contents()),e.remove(),!1}if(this.utils.isEndOfElement(this.keydown.block)&&0!==g.length&&"PRE"===g[0].tagName)return d(this.keydown.block).append(g.text()),g.remove(),!1}if(f===this.keyCode.DELETE&&0!==d("#redactor-image-box").length&&this.image.remove(),f===this.keyCode.BACKSPACE){if(this.detect.isFirefox()&&this.line.removeOnBackspace(a),this.list.combineAfterAndBefore(this.keydown.block))return void a.preventDefault();
if((g=this.selection.block())&&"LI"===g.tagName&&this.utils.isCollapsed()&&this.utils.isStartOfElement())return this.indent.decrease(),void a.preventDefault();this.keydown.removeInvisibleSpace();this.keydown.removeEmptyListInTable(a)}f!==this.keyCode.BACKSPACE&&f!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteAfter(a)}},onShiftSpace:function(){return this.buffer.set(),this.insert.raw("&nbsp;"),!1},onShiftEnter:function(a){return this.buffer.set(),this.keydown.figure?this.insert.rawAfter("<br>"):
this.keydown.pre?this.keydown.insertNewLine(a):this.insert.raw("<br>")},onBackspaceAndDeleteBefore:function(){this.utils.saveScroll()},onBackspaceAndDeleteAfter:function(a){setTimeout(d.proxy(function(){this.code.syncFire=!1;this.keydown.removeEmptyLists();var f="";0!==this.opts.keepStyleAttr.length&&(f=","+this.opts.keepStyleAttr.join(","));this.core.editor().find("*[style]").not("p, h1, h2, h3, h4, h5, h6, div, ul, li, img, figure, iframe, #redactor-image-box, #redactor-image-editter, [data-redactor-style-cache], [data-redactor-span]"+
f).removeAttr("style");this.keydown.formatEmpty(a);this.code.syncFire=!0},this),1)},onEnter:function(a){if(!1===this.core.callback("enter",a))return a.preventDefault(),!1;if(this.keydown.blockquote&&!0===this.keydown.exitFromBlockquote(a))return!1;if(this.keydown.pre)return this.keydown.insertNewLine(a);if(this.keydown.blockquote||this.keydown.figcaption)return this.keydown.insertBreakLine(a);if(this.keydown.figure)setTimeout(d.proxy(function(){this.keydown.replaceToParagraph("FIGURE")},this),1);
else if(this.keydown.block){if(setTimeout(d.proxy(function(){this.keydown.replaceToParagraph("DIV")},this),1),"LI"===this.keydown.block.tagName){var f=this.selection.current(),g=d(f).closest("li",this.$editor[0]);f=g.parents("ul,ol",this.$editor[0]).last();if(0!==g.length&&this.utils.isEmpty(g.html())&&0===f.next().length&&this.utils.isEmpty(f.find("li").last().html()))return f.find("li").last().remove(),a=d(this.opts.emptyHtml),f.after(a),this.caret.start(a),!1}}else if(!this.keydown.block)return this.keydown.insertParagraph(a);
if(this.detect.isFirefox()&&this.utils.isInline(this.keydown.parent))return void this.keydown.insertBreakLine(a);this.opts.keepInlineOnEnter||setTimeout(d.proxy(function(){var h=this.selection.inline();if(h&&this.utils.isEmpty(h.innerHTML)){var e=this.selection.block();d(h).remove();h=document.createRange();h.setStart(e,0);e=document.createTextNode("\u200b");h.insertNode(e);h.setStartAfter(e);h.collapse(!0);e=window.getSelection();e.removeAllRanges();e.addRange(h)}},this),1);setTimeout(d.proxy(function(){var h=
this.selection.block().childNodes;(h=h[h.length-1])&&3!==h.nodeType&&"BR"===h.tagName&&d(h).remove()},this),1)},checkEvents:function(a,f){a||"click"!==this.core.getEvent()&&"arrow"!==this.core.getEvent()||(this.core.addEvent(!1),this.keydown.checkKeyEvents(f)&&this.buffer.set())},checkKeyEvents:function(a){var f=this.keyCode;return-1===d.inArray(a,[f.BACKSPACE,f.DELETE,f.ENTER,f.ESC,f.TAB,f.CTRL,f.META,f.ALT,f.SHIFT])},addArrowsEvent:function(a){if(a)return"click"===this.core.getEvent()||"arrow"===
this.core.getEvent()?void this.core.addEvent(!1):void this.core.addEvent("arrow")},setupBuffer:function(a,f){return this.keydown.ctrl&&90===f&&!a.shiftKey&&!a.altKey&&this.sBuffer.length?(a.preventDefault(),void this.buffer.undo()):this.keydown.ctrl&&90===f&&a.shiftKey&&!a.altKey&&0!==this.sRebuffer.length?(a.preventDefault(),void this.buffer.redo()):void(this.keydown.ctrl||f!==this.keyCode.SPACE&&f!==this.keyCode.BACKSPACE&&f!==this.keyCode.DELETE&&(f!==this.keyCode.ENTER||a.ctrlKey||a.shiftKey)||
this.buffer.set())},exitFromBlockquote:function(a){if(this.utils.isEndOfElement(this.keydown.blockquote)&&-1!==this.clean.removeSpacesHard(d(this.keydown.blockquote).html()).search(/(<br\s?\/?>){1}$/i))return a.preventDefault(),d(this.keydown.blockquote).children().last().filter("br").remove(),d(this.keydown.blockquote).children().last().filter("span").remove(),a=d(this.opts.emptyHtml),d(this.keydown.blockquote).after(a),this.caret.start(a),!0},onArrowDown:function(){for(var a=[this.keydown.blockquote,
this.keydown.pre,this.keydown.figcaption],f=0;f<a.length;f++)if(a[f])return this.keydown.insertAfterLastElement(a[f]),!1},onArrowUp:function(){for(var a=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],f=0;f<a.length;f++)if(a[f])return this.keydown.insertBeforeFirstElement(a[f]),!1},insertAfterLastElement:function(a){if(this.utils.isEndOfElement(a)){var f=this.core.editor().contents().last();if(0===("FIGCAPTION"===a.tagName?d(this.keydown.block).parent().next():d(this.keydown.block).next()).length){if(0===
f.length&&f[0]!==a)return void this.caret.start(f);f=d(this.opts.emptyHtml);"FIGCAPTION"===a.tagName?d(a).parent().after(f):d(a).after(f);this.caret.start(f)}}},insertBeforeFirstElement:function(a){if(this.utils.isStartOfElement()&&!(1<this.core.editor().contents().length&&this.core.editor().contents().first()[0]!==a)){var f=d(this.opts.emptyHtml);d(a).before(f);this.caret.start(f)}},onTab:function(a,f){if(!this.opts.tabKey)return!0;var g=this.keydown.block&&"LI"===this.keydown.block.tagName;if(this.utils.isEmpty(this.code.get())||
!g&&!this.keydown.pre&&!1===this.opts.tabAsSpaces)return!0;a.preventDefault();this.buffer.set();var h;g=g&&this.utils.isStartOfElement(this.keydown.block);return this.keydown.pre&&!a.shiftKey?(h=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join("\u00a0")):document.createTextNode("\t"),this.insert.node(h)):!1===this.opts.tabAsSpaces||g?a.metaKey&&219===f?this.indent.decrease():a.metaKey&&221===f?this.indent.increase():a.shiftKey?this.indent.decrease():this.indent.increase():
(h=document.createTextNode(Array(this.opts.tabAsSpaces+1).join("\u00a0")),this.insert.node(h)),!1},setupSelectAll:function(a,f){this.keydown.ctrl&&65===f?this.utils.enableSelectAll():!this.keydown.ctrl||35!=f&&36!=f&&38!=f&&40!=f?f===this.keyCode.LEFT_WIN||this.keydown.ctrl||this.utils.disableSelectAll():this.utils.disableSelectAll()},insertNewLine:function(a){a.preventDefault();a=document.createTextNode("\n");var f=this.selection.get();f=this.selection.range(f);return f.deleteContents(),f.insertNode(a),
this.caret.after(a),!1},insertParagraph:function(a){a.preventDefault();a=document.createElement("p");a.innerHTML="<br>";var f=this.selection.get();f=this.selection.range(f);return f.deleteContents(),f.insertNode(a),this.caret.start(a),!1},insertBreakLine:function(a){return this.keydown.insertBreakLineProcessing(a)},insertDblBreakLine:function(a){return this.keydown.insertBreakLineProcessing(a,!0)},insertBreakLineProcessing:function(a,f){a.stopPropagation();a=document.createElement("br");(this.insert.node(a),
!0===f)?(f=document.createElement("br"),this.insert.node(f),this.caret.after(f)):this.caret.after(a);return!1},wrapToParagraph:function(){var a=d(this.keydown.current),f=d("<p>").append(a.clone());a.replaceWith(f);a=d(f).next();void 0!==a[0]&&"BR"===a[0].tagName&&a.remove();this.caret.end(f)},replaceToParagraph:function(a){var f=this.selection.block(),g=d(f).prev(),h=f.innerHTML.replace(/<br\s?\/?>/gi,"");if(f.tagName===a&&this.utils.isEmpty(h)&&!d(f).hasClass("redactor-in"))return a=document.createElement("p"),
d(f).replaceWith(a),this.keydown.setCaretToParagraph(a),!1;if("P"===f.tagName)return d(f).removeAttr("class").removeAttr("style"),this.detect.isIe()&&this.utils.isEmpty(h)&&this.utils.isInline(this.keydown.parent)&&d(f).on("input",d.proxy(function(){var e=this.selection.parent();this.utils.isInline(e)&&(e=d(e).html(),d(f).html(e),this.caret.end(f));d(f).off("keyup")},this)),!1;if(g.hasClass(this.opts.videoContainerClass))return g.removeAttr("class"),a=document.createElement("p"),g.replaceWith(a),
this.keydown.setCaretToParagraph(a),!1},setCaretToParagraph:function(a){var f=document.createRange();f.setStart(a,0);a=document.createTextNode("\u200b");f.insertNode(a);f.setStartAfter(a);f.collapse(!0);a=window.getSelection();a.removeAllRanges();a.addRange(f)},removeInvisibleSpace:function(){var a=d(this.keydown.current);0===a.text().search(/^\u200B$/g)&&a.remove()},removeEmptyListInTable:function(a){var f=d(this.keydown.current),g=d(this.keydown.parent),h=f.closest("td",this.$editor[0]);0!==h.length&&
f.closest("li",this.$editor[0])&&1===g.children("li").length&&this.utils.isEmpty(f.text())&&(a.preventDefault(),f.remove(),g.remove(),this.caret.start(h))},removeEmptyLists:function(){var a=function(){""===d.trim(this.innerHTML).replace(/\/t\/n/g,"")&&d(this).remove()};this.core.editor().find("li").each(a);this.core.editor().find("ul, ol").each(a)},formatEmpty:function(a){var f=d.trim(this.core.editor().html());if(this.utils.isEmpty(f))return a.preventDefault(),"inline"===this.opts.type||"pre"===
this.opts.type?(this.core.editor().html(this.marker.html()),this.selection.restore()):(this.core.editor().html(this.opts.emptyHtml),this.focus.start()),!1}}},keyup:function(){return{init:function(a){if(!this.rtePaste){var f=a.which;this.keyup.block=this.selection.block();this.keyup.current=this.selection.current();this.keyup.parent=this.selection.parent();this.keyup.lastShiftKey=a.shiftKey;if(!1===this.core.callback("keyup",a))return a.preventDefault(),!1;if(f===this.keyCode.ENTER&&this.keyup.block&&
"FIGURE"===this.keyup.block.tagName&&(a=d(this.keyup.block).prev(),0!==a.length&&"FIGURE"===a[0].tagName))return f=this.utils.replaceToTag(a,"p"),void this.caret.start(f);if(f===this.keyCode.BACKSPACE||f===this.keyCode.DELETE){if(this.utils.isSelectAll())return this.focus.start(),void this.toolbar.setUnfixed();this.keyup.block&&"P"===this.keyup.block.tagName&&(a=d(this.keyup.block).find("img").length,""===d(this.keyup.block).text().replace(/\u200B/g,"")&&0!==a&&this.utils.replaceToTag(this.keyup.block,
"figure"));this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&0===d(this.keyup.block).find("img").length&&(this.selection.save(),this.utils.replaceToTag(this.keyup.block,"p"),this.selection.restore())}this.linkify.isKey(f)&&(this.selection.save(),this.linkify.format(),this.selection.restore())}}}},lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(a){return void 0!==this.opts.curLang[a]?this.opts.curLang[a]:""}}},line:function(){return{insert:function(){this.buffer.set();
this.insert.html(this.line.getLineHtml());var a=this.core.editor().find("#redactor-hr-tmp-id");return a.removeAttr("id"),this.core.callback("insertedLine",a),a},getLineHtml:function(){var a='<hr id="redactor-hr-tmp-id" />';return!this.detect.isFirefox()&&this.utils.isEmpty()&&(a+="<p>"+this.opts.emptyHtml+"</p>"),a},removeOnBackspace:function(a){if(this.utils.isCollapsed()){var f=d(this.selection.block());0!==f.length&&this.utils.isStartOfElement(f)&&(f=f.prev())&&0!==f.length&&"HR"===f[0].tagName&&
(a.preventDefault(),f.remove())}}}},link:function(){return{get:function(){return d(this.selection.inlines("a"))},is:function(){var a=this.selection.nodes(),f=d(this.selection.current()).closest("a",this.core.editor()[0]);return!(0===f.length||1<a.length)&&f},unlink:function(a){void 0!==a&&a.preventDefault&&a.preventDefault();this.buffer.set();a=this.selection.inlines("a");0!==a.length&&(a=this.link.replaceLinksToText(a),this.observe.closeAllTooltip(),this.core.callback("deletedLink",a))},insert:function(a,
f){var g=this.link.is();if(!0!==f&&!1===(a=this.link.buildLinkFromObject(g,a)))return!1;(this.buffer.set(),a=this.core.callback("beforeInsertingLink",a),!1===g)?(g=d("<a />"),g=this.link.update(g,a),g=d(this.insert.node(g)),a=g.parent(),!1===this.utils.isRedactorParent(a)&&g.wrap("<p>"),a.hasClass("redactor-unlink")&&a.replaceWith(function(){return d(this).contents()}),this.caret.after(g),this.core.callback("insertedLink",g)):(g=this.link.update(g,a),this.caret.after(g));return g},update:function(a,
f){return a.text(f.text),a.attr("href",f.url),this.link.target(a,f.target),a},target:function(a,f){return f?a.attr("target","_blank"):a.removeAttr("target")},show:function(a){void 0!==a&&a.preventDefault&&a.preventDefault();this.observe.closeAllTooltip();a=this.link.linkEl();this.link.buildModal(a);var f=this.link.buildLinkFromElement(a);f.url=this.link.removeSelfHostFromUrl(f.url);this.opts.linkNewTab&&!a&&(f.target=!0);this.link.setModalValues(f);this.modal.show();this.detect.isDesktop()&&d("#redactor-link-url").focus()},
linkEl:function(){var a=d(this.selection.current()).closest("a",this.core.editor()[0]);return 0===a.length&&(a=d(d.parseHTML(this.selection.html())).closest("a",this.core.editor()[0])),0!==a.length&&a},setModalValues:function(a){d("#redactor-link-blank").prop("checked",a.target);d("#redactor-link-url").val(a.url);d("#redactor-link-url-text").val(a.text)},buildModal:function(a){this.modal.load("link",this.lang.get(!1===a?"link-insert":"link-edit"),600);this.modal.getActionButton().text(this.lang.get(!1===
a?"insert":"save")).on("click",d.proxy(this.link.callback,this))},callback:function(){var a=this.link.buildLinkFromModal();if(!1===a)return!1;this.modal.close();this.link.insert(a,!0)},cleanUrl:function(a){return void 0===a?"":d.trim(a.replace(/[^\W\w\D\d+&'@#\/%?=~_|!:,.;\(\)]/gi,""))},cleanText:function(a){return void 0===a?"":d.trim(a)},getText:function(a){return""===a.text&&""!==a.url?this.link.truncateUrl(a.url.replace(/<|>/g,"")):a.text},isUrl:function(a){var f=/^(http|ftp|https):\/\/((xn--)?[\W\w\D\d]+(-[\W\w\D\d]+)*\.)+[\W\w]{2,}/i,
g=/^((xn--)?[\W\w\D\d]+(-[\W\w\D\d]+)*\.)+[\W\w]{2,}/i,h=/.(html|php)$/i,e=/^\//i,l=/^tel:(.*?)/i;return-1===a.search(f)&&-1!==a.search(g)&&-1===a.search(h)&&"/"!==a.substring(0,1)&&(a="http://"+a),(-1!==a.search(f)||-1!==a.search(h)||-1!==a.search(e)||-1!==a.search(l))&&a},isMailto:function(a){return-1!==a.search("@")&&!1===/(http|ftp|https):\/\//i.test(a)},isEmpty:function(a){return""===a.url||""===a.text&&""===a.url},truncateUrl:function(a){return a.length>this.opts.linkSize?a.substring(0,this.opts.linkSize)+
"...":a},parse:function(a){return this.link.isMailto(a.url)?a.url="mailto:"+a.url.replace("mailto:",""):0!==a.url.search("#")&&this.opts.linkValidation&&(a.url=this.link.isUrl(a.url)),!this.link.isEmpty(a)&&!1!==a.url&&a},buildLinkFromModal:function(){var a={};return a.url=this.link.cleanUrl(d("#redactor-link-url").val()),a.text=this.link.cleanText(d("#redactor-link-url-text").val()),a.text=this.link.getText(a),a.target=!!d("#redactor-link-blank").prop("checked"),this.link.parse(a)},buildLinkFromObject:function(a,
f){return f.url=this.link.cleanUrl(f.url),f.text=void 0===f.text&&this.selection.is()?this.selection.text():this.link.cleanText(f.text),f.text=this.link.getText(f),f.target=!1===a?f.target:this.link.buildTarget(a),this.link.parse(f)},buildLinkFromElement:function(a){var f={url:"",text:this.selection.is()?this.selection.text():"",target:!1};return!1!==a&&(f.url=a.attr("href"),f.text=f.text?f.text:a.text(),f.target=this.link.buildTarget(a)),f},buildTarget:function(a){return void 0!==a.attr("target")&&
"_blank"===a.attr("target")},removeSelfHostFromUrl:function(a){var f=self.location.href.replace("#","").replace(/\/$/i,"");return a.replace(/^\/#/,"#").replace(f,"").replace("mailto:","")},replaceLinksToText:function(a){var f,g=d.each(a,function(h,e){e=d(e);var l=d('<span class="redactor-unlink" />').append(e.contents());return e.replaceWith(l),0===h&&(f=l),e});return 1===a.length&&this.selection.isCollapsed()&&this.caret.after(f),g}}},linkify:function(){return{isKey:function(a){return a===this.keyCode.ENTER||
a===this.keyCode.SPACE},isLink:function(a){return a.nodeValue.match(this.opts.regexps.linkyoutube)||a.nodeValue.match(this.opts.regexps.linkvimeo)||a.nodeValue.match(this.opts.regexps.linkvimeochannel)||a.nodeValue.match(this.opts.regexps.linkimage)||a.nodeValue.match(this.opts.regexps.url)},isFiltered:function(a,f){return 3===f.nodeType&&""!==d.trim(f.nodeValue)&&!d(f).parent().is("pre")&&this.linkify.isLink(f)},handler:function(a,f){a=d(f);var g=f=a.text();g=g.match(this.opts.regexps.linkyoutube)||
g.match(this.opts.regexps.linkvimeo)||g.match(this.opts.regexps.linkvimeochannel)?this.linkify.convertVideoLinks(g):g.match(this.opts.regexps.linkimage)?this.linkify.convertImages(g):this.linkify.convertLinks(g);a.before(f.replace(f,g)).remove()},format:function(){if(this.opts.linkify&&!this.utils.isCurrentOrParent("pre")){this.core.editor().find(":not(iframe,img,a,pre,code,.redactor-unlink)").addBack().contents().filter(d.proxy(this.linkify.isFiltered,this)).each(d.proxy(this.linkify.handler,this));
var a,f=this.core.editor().find(".redactor-linkify-object").each(d.proxy(function(g,h){return a=d(h),a.removeClass("redactor-linkify-object"),""===a.attr("class")&&a.removeAttr("class"),"DIV"===h.tagName?this.linkify.breakBlockTag(a,"video"):"IMG"===h.tagName?this.linkify.breakBlockTag(a,"image"):"A"===h.tagName&&this.core.callback("insertedLink",a),a},this));setTimeout(d.proxy(function(){this.code.sync();this.core.callback("linkify",f)},this),100)}},breakBlockTag:function(a,f){var g=this.utils.breakBlockTag();
if(!1!==g){var h=a;"image"===f&&(h=d("<figure />").append(a));"start"===g.type?g.$block.before(h):g.$block.after(h);"image"===f&&this.caret.after(h)}},convertVideoLinks:function(a){var f='<div class="'+this.opts.videoContainerClass+' redactor-linkify-object"><iframe class="redactor-linkify-object" width="500" height="281" src="';return a.match(this.opts.regexps.linkyoutube)&&(a=a.replace(this.opts.regexps.linkyoutube,f+'//www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe></div>')),
a.match(this.opts.regexps.linkvimeo)&&(a=a.replace(this.opts.regexps.linkvimeo,f+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>')),a.match(this.opts.regexps.linkvimeochannel)&&(a=a.replace(this.opts.regexps.linkvimeochannel,f+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>')),a},convertImages:function(a){var f=a.match(this.opts.regexps.linkimage);return f?a.replace(a,'<img src="'+f+'" class="redactor-linkify-object" />'):a},convertLinks:function(a){var f=
a.match(this.opts.regexps.url);if(!f)return a;f=d.grep(f,function(m,n){return d.inArray(m,f)===n});for(var g=f.length,h=0;h<g;h++){var e=f[h],l=e,p=null!==e.match(/(https?|ftp):\/\//i)?"":"http://";l.length>this.opts.linkSize&&(l=l.substring(0,this.opts.linkSize)+"...");-1===l.search("%")&&(l=decodeURIComponent(l));var u="\\b";-1!==d.inArray(e.slice(-1),["/","&","="])&&(u="");u=new RegExp("("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+u+")","g");var c="";!1!==this.opts.pasteLinkTarget&&
(c=' target="'+this.opts.pasteLinkTarget+'"');a=a.replace(u,'<a href="'+p+d.trim(e)+'"'+c+' class="redactor-linkify-object">'+d.trim(l)+"</a>")}return a}}},list:function(){return{toggle:function(a){if(!this.utils.inBlocks(["table","td","th","tr"])){var f="orderedlist"===a||"ol"===a?"OL":"UL";a="OL"===f?"orderedlist":"unorderedlist";var g=d(this.selection.current()).parentsUntil(".redactor-in","ul, ol").first(),h=d(this.selection.current()).parentsUntil(".redactor-in","li").first();this.placeholder.hide();
this.buffer.set();if(""===this.selection.html()&&0!==h.length&&h[0].parentNode.tagName===f&&this.utils.isRedactorParent(h)){a=d(h[0]).prev();g=d(h[0]).next();var e=h.html(),l=d(h[0].parentNode);if(this.selection.save(),!a.length&&g.length)return h.remove(),void l.before(d("<p />").append(e));if(a.length&&g.length){h.replaceWith(function(){return"-~=REMOVED+ITEM=~-"});h=this.selection.current();var p=d(h)[0].outerHTML.replace(/-~=REMOVED\+ITEM=~-/g,"</"+f+">\n\n<p>"+e+"</p>\n\n<"+f+">");return d(h).replaceWith(function(){return p})}return a.length&&
!g.length?(h.remove(),void l.after(d("<p />").append(e))):void(a.length||g.length||l.replaceWith(function(){return d("<p />").append(e)}))}if(0!==g.length&&g[0].tagName===f&&this.utils.isRedactorParent(g))return this.selection.save(),g.find("ul, ol").each(function(){var u=d(this).closest("li");d(this).find("li").each(function(){d(u).after(this)})}),g.find("ul, ol").remove(),g.find("li").each(function(){return d(this).replaceWith(function(){return d("<p />").append(d(this).contents())})}),g.replaceWith(function(){return d(this).contents()}),
void this.selection.restore();this.selection.save();0!==g.length&&g[0].tagName!==f?g.each(d.proxy(function(u,c){this.utils.replaceToTag(c,f)},this)):document.execCommand("insert"+a);this.selection.restore();h=this.list.get();if(!h)return void(this.selection.block()||document.execCommand("formatblock",!1,"p"));h.find("span").replaceWith(function(){return d(this).contents()});h.find(this.opts.inlineTags.join(",")).each(function(){d(this).removeAttr("style")});h=h.parent();this.utils.isRedactorParent(h)&&
"LI"!==h[0].tagName&&this.utils.isBlock(h)&&(this.selection.save(),h.replaceWith(h.contents()),this.selection.restore())}},get:function(){var a=this.selection.current();a=d(a).closest("ul, ol",this.core.editor()[0]);return 0!==a.length&&a},combineAfterAndBefore:function(a){var f=d(a).prev(),g=d(a).next();a=a&&"P"===a.tagName&&("<br>"===a.innerHTML||""===a.innerHTML);var h=1===f.closest("ol, ul",this.core.editor()[0]).length&&1===g.closest("ol, ul",this.core.editor()[0]).length;return!(!a||!h)&&(f.children("li").last().append(this.marker.get()),
f.append(g.contents()),this.selection.restore(),!0)}}},marker:function(){return{get:function(a){a=void 0===a?1:a;var f=document.createElement("span");return f.id="selection-marker-"+a,f.className="redactor-selection-marker",f.innerHTML=this.opts.invisibleSpace,f},html:function(a){return this.utils.getOuterHtml(this.marker.get(a))},find:function(a){return a=void 0===a?1:a,this.core.editor().find("span#selection-marker-"+a)},insert:function(){var a=this.selection.get();a=this.selection.range(a);this.marker.insertNode(a,
this.marker.get(1),!0);a&&!1===a.collapsed&&this.marker.insertNode(a,this.marker.get(2),!1)},remove:function(){this.core.editor().find(".redactor-selection-marker").each(this.marker.iterateRemove)},insertNode:function(a,f,g){var h=this.selection.parent();if(null!==a&&0!==d(h).closest(".redactor-in").length){a=a.cloneRange();try{a.collapse(g),a.insertNode(f)}catch(e){this.focus.start()}}},iterateRemove:function(a,f){a=d(f);f=a.text().replace(/\u200B/g,"");a.parent()[0];""===f?a.remove():a.replaceWith(function(){return d(this).contents()})}}},
modal:function(){return{callbacks:{},templates:function(){this.opts.modal={"image-edit":String()+'<div class="redactor-modal-tab redactor-group" data-title="'+this.lang.get("general")+'"><div id="redactor-image-preview" class="redactor-modal-tab-side"></div><div class="redactor-modal-tab-area"><section><label>'+this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /></section><section><label>'+this.lang.get("caption")+'</label><input type="text" id="redactor-image-caption" aria-label="'+
this.lang.get("caption")+'" /></section><section><label>'+this.lang.get("link")+'</label><input type="text" id="redactor-image-link" aria-label="'+this.lang.get("link")+'" /></section><section><label class="redactor-image-position-option">'+this.lang.get("image-position")+'</label><select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+this.lang.get("image-position")+'"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+
'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+this.lang.get("right")+'</option></select></section><section><label class="checkbox"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get("link-in-new-tab")+'"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+'</button><button id="redactor-modal-button-delete" class="redactor-modal-button-offset">'+
this.lang.get("delete")+"</button></section></div></div>",image:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("upload")+'"><section><div id="redactor-modal-image-droparea"></div></section></div>',file:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("upload")+'"><section><label>'+this.lang.get("filename")+' <span class="desc">('+this.lang.get("optional")+')</span></label><input type="text" id="redactor-filename" aria-label="'+this.lang.get("filename")+
'" /><br><br></section><section><div id="redactor-modal-file-upload"></div></section></div>',link:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("general")+'"><section><label>URL</label><input type="url" id="redactor-link-url" aria-label="URL" /></section><section><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" aria-label="'+this.lang.get("text")+'" /></section><section><label class="checkbox"><input type="checkbox" id="redactor-link-blank"> '+
this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"};d.extend(this.opts,this.opts.modal)},addCallback:function(a,f){this.modal.callbacks[a]=f},addTemplate:function(a,f){this.opts.modal[a]=f},getTemplate:function(a){return this.opts.modal[a]},getModal:function(){return this.$modalBody},getActionButton:function(){return this.$modalBody.find("#redactor-modal-button-action")},
getCancelButton:function(){return this.$modalBody.find("#redactor-modal-button-cancel")},getDeleteButton:function(){return this.$modalBody.find("#redactor-modal-button-delete")},load:function(a,f,g){void 0!==this.$modalBox&&this.$modalBox.hasClass("open")||(this.modal.templateName=a,this.modal.width=g,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(f),this.modal.setDraggable(),this.modal.setContent(),void 0!==this.modal.callbacks[a]&&this.modal.callbacks[a].call(this))},show:function(){this.detect.isDesktop()||
document.activeElement.blur();this.selection.save();this.modal.buildTabber();this.detect.isMobile()&&(this.modal.width="96%");setTimeout(d.proxy(this.modal.buildWidth,this),0);d(window).on("resize.redactor-modal",d.proxy(this.modal.buildWidth,this));this.$modalOverlay.redactorAnimation("fadeIn",{duration:.25});this.$modalBox.addClass("open").show();this.$modal.redactorAnimation("fadeIn",{timing:"cubic-bezier(0.175, 0.885, 0.320, 1.105)"},d.proxy(function(){this.utils.saveScroll();this.utils.disableBodyScroll();
this.core.callback("modalOpened",this.modal.templateName,this.$modal);d(document).off("focusin.modal");this.$modal.find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor-modal",d.proxy(this.modal.setEnter,this))},this))},buildWidth:function(){var a=d(window).height(),f=d(window).width(),g="number"==typeof this.modal.width;!g&&this.modal.width.match(/%$/)?this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}):parseInt(this.modal.width)>f?this.$modal.css({width:"96%",
"margin-bottom":"2%"}):(g&&(this.modal.width+="px"),this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}));f=this.$modal.outerHeight();g=a/2-f/2+"px";this.detect.isMobile()?g="2%":f>a&&(g="16px");this.$modal.css("margin-top",g)},buildTabber:function(){this.modal.tabs=this.$modal.find(".redactor-modal-tab");2>this.modal.tabs.length||(this.modal.$tabsBox=d('<div id="redactor-modal-tabber" />'),d.each(this.modal.tabs,d.proxy(function(a,f){f=d('<a href="#" rel="'+a+'" />').text(d(f).attr("data-title"));
f.on("click",d.proxy(this.modal.showTab,this));0===a&&f.addClass("active");this.modal.$tabsBox.append(f)},this)),this.$modalBody.prepend(this.modal.$tabsBox))},showTab:function(a){a.preventDefault();a=d(a.target);var f=a.attr("rel");return this.modal.tabs.hide(),this.modal.tabs.eq(f).show(),d("#redactor-modal-tabber").find("a").removeClass("active"),a.addClass("active"),!1},setTitle:function(a){this.$modalHeader.html(a)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName));
this.modal.getCancelButton().on("mousedown",d.proxy(this.modal.close,this))},setDraggable:function(){void 0!==d.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(a){13===a.which&&(a.preventDefault(),this.modal.getActionButton().click())},build:function(){this.modal.buildOverlay();this.$modalBox=d('<div id="redactor-modal-box"/>').hide();this.$modal=d('<div id="redactor-modal" role="dialog" />');this.$modalHeader=d('<div id="redactor-modal-header" />');
this.$modalClose=d('<button type="button" id="redactor-modal-close" aria-label="'+this.lang.get("close")+'" />').html("&times;");this.$modalBody=d('<div id="redactor-modal-body" />');this.$modal.append(this.$modalHeader);this.$modal.append(this.$modalBody);this.$modal.append(this.$modalClose);this.$modalBox.append(this.$modal);this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=d('<div id="redactor-modal-overlay">').hide();d("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("mousedown.redactor-modal",
d.proxy(this.modal.close,this));d(document).on("keyup.redactor-modal",d.proxy(this.modal.closeHandler,this));this.core.editor().on("keyup.redactor-modal",d.proxy(this.modal.closeHandler,this));this.$modalBox.on("click.redactor-modal",d.proxy(this.modal.close,this))},disableEvents:function(){this.$modalClose.off("mousedown.redactor-modal");d(document).off("keyup.redactor-modal");this.core.editor().off("keyup.redactor-modal");this.$modalBox.off("click\u00a7.redactor-modal");d(window).off("resize.redactor-modal")},
closeHandler:function(a){a.which===this.keyCode.ESC&&this.modal.close(!1)},close:function(a){if(a){if("redactor-modal-button-cancel"!==d(a.target).attr("id")&&a.target!==this.$modalClose[0]&&a.target!==this.$modalBox[0])return;a.preventDefault()}this.$modalBox&&(this.selection.restore(),this.modal.disableEvents(),this.utils.enableBodyScroll(),this.utils.restoreScroll(),this.$modalOverlay.redactorAnimation("fadeOut",{duration:.4},d.proxy(function(){this.$modalOverlay.remove()},this)),this.$modal.redactorAnimation("fadeOut",
{duration:.3,timing:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},d.proxy(function(){void 0!==this.$modalBox&&(this.$modalBox.remove(),this.$modalBox=void 0);this.core.callback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){void 0===this.opts.destroyed&&(this.observe.links(),this.observe.images())},isCurrent:function(a,f){return void 0===f&&(f=d(this.selection.current())),f.is(a)||0<f.parents(a).length},toolbar:function(){this.observe.buttons();this.observe.dropdowns()},
buttons:function(a,f){var g=this.selection.current(),h=this.selection.parent();if(!1!==a?this.button.setInactiveAll():this.button.setInactiveAll(f),!1===a&&"html"!==f)return void(-1!==d.inArray(f,this.opts.activeButtons)&&this.button.toggleActive(f));this.utils.isRedactorParent(g)&&("none"!==this.core.editor().css("display")&&(this.utils.isCurrentOrParentHeader()||this.utils.isCurrentOrParent(["table","pre","blockquote","li"])?this.button.disable("horizontalrule"):this.button.enable("horizontalrule")),
d.each(this.opts.activeButtonsStates,d.proxy(function(e,l){var p=d(h).closest(e,this.$editor[0]),u=d(g).closest(e,this.$editor[0]);(0===p.length||this.utils.isRedactorParent(p))&&this.utils.isRedactorParent(u)&&(0===p.length&&0===u.closest(e,this.$editor[0]).length||this.button.setActive(l))},this)))},dropdowns:function(){var a=d("<div />").html(this.selection.html()).find("a").length,f=d(this.selection.current()),g=this.utils.isRedactorParent(f);d.each(this.opts.observe.dropdowns,d.proxy(function(h,
e){var l=e.observe;h=l.element;e=e.item;var p=void 0!==l.in&&l.in;l=void 0!==l.out&&l.out;0<f.closest(h).length&&g||"a"===h&&0!==a?this.observe.setDropdownProperties(e,p,l):this.observe.setDropdownProperties(e,l,p)},this))},setDropdownProperties:function(a,f,g){g&&void 0!==g.attr&&this.observe.setDropdownAttr(a,g.attr,!0);void 0!==f.attr&&this.observe.setDropdownAttr(a,f.attr);void 0!==f.title&&a.find("span").text(f.title)},setDropdownAttr:function(a,f,g){d.each(f,function(h,e){"class"===h?g?a.removeClass(e):
a.addClass(e):g?a.removeAttr(h):a.attr(h,e)})},addDropdown:function(a,f,g){void 0!==g.observe&&(g.item=a,this.opts.observe.dropdowns.push(g))},images:function(){this.opts.imageEditable&&(this.core.editor().addClass("redactor-layer-img-edit"),this.core.editor().find("img").each(d.proxy(function(a,f){a=d(f);a.closest("a",this.$editor[0]).on("click",function(g){g.preventDefault()});this.image.setEditable(a)},this)))},links:function(){this.opts.linkTooltip&&this.core.editor().find("a").each(d.proxy(function(a,
f){a=d(f);!0!==a.data("cached")&&(a.data("cached",!0),a.on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.showTooltip,this)))},this))},getTooltipPosition:function(a){return a.offset()},showTooltip:function(a){var f=d(a.target);if("IMG"!==f[0].tagName&&("A"!==f[0].tagName&&(f=f.closest("a",this.$editor[0])),"A"===f[0].tagName)){var g=f;f=this.observe.getTooltipPosition(g);var h=d('<span class="redactor-link-tooltip"></span>'),e=g.attr("href");void 0===e&&(e="");
24<e.length&&(e=e.substring(0,24)+"...");e=d('<a href="'+g.attr("href")+'" target="_blank" />').html(e).addClass("redactor-link-tooltip-action");var l=d('<a href="#" />').html(this.lang.get("edit")).on("click",d.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),p=d('<a href="#" />').html(this.lang.get("unlink")).on("click",d.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action");h.append(e).append(" | ").append(l).append(" | ").append(p);g=parseInt(g.css("line-height"),
10);h.css({top:f.top+Math.ceil((a.pageY-f.top)/g)*g+"px",left:f.left+"px"});d(".redactor-link-tooltip").remove();d("body").append(h);this.core.editor().on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.closeTooltip,this));d(document).on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.closeTooltip,this))}},closeAllTooltip:function(){d(".redactor-link-tooltip").remove()},closeTooltip:function(a){a=a.originalEvent||a;a=a.target;var f=
d(a).closest("a",this.$editor[0]);0!==f.length&&"A"===f[0].tagName&&"A"!==a.tagName||"A"===a.tagName&&this.utils.isRedactorParent(a)||d(a).hasClass("redactor-link-tooltip-action")||(this.observe.closeAllTooltip(),this.core.editor().off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.closeTooltip,this)),d(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.closeTooltip,this)))}}},offset:function(){return{get:function(a){a=
this.offset.clone(a);if(!1===a)return 0;var f=document.createElement("div");return f.appendChild(a.cloneContents()),f.innerHTML=f.innerHTML.replace(/<img(.*?[^>])>$/gi,"i"),d.trim(d(f).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"").length},clone:function(a){var f=this.selection.get();f=this.selection.range(f);if(null===f&&void 0===a||!1===(a=void 0===a?this.$editor:a))return!1;a=a[0]||a;var g=f.cloneRange();return g.selectNodeContents(a),g.setEnd(f.endContainer,f.endOffset),g},set:function(a,
f){f=void 0===f?a:f;this.focus.is()||this.focus.start();for(var g,h=this.selection.get(),e=this.selection.range(h),l=0,p=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);null!==(g=p.nextNode());)if(l+=g.nodeValue.length,l>a&&(e.setStart(g,g.nodeValue.length+a-l),a=1/0),l>=f){e.setEnd(g,g.nodeValue.length+f-l);break}e.collapse(!1);this.selection.update(h,e)}}},paragraphize:function(){return{load:function(a){return!1===this.opts.paragraphize||"inline"===this.opts.type||"pre"===
this.opts.type?a:""===a||"<p></p>"===a?this.opts.emptyHtml:(a+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,a=a.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>"),a=a.replace(/<\/pre>/gi,"</pre>\n\n"),a=a.replace(/<p>\s<br><\/p>/gi,"<p></p>"),a=this.paragraphize.getSafes(a),a=a.replace("<br>","\n"),a=this.paragraphize.convert(a),a=this.paragraphize.clear(a),a=this.paragraphize.restoreSafes(a),a=a.replace(new RegExp("<br\\s?/?>\n?<("+this.opts.paragraphizeBlocks.join("|")+")(.*?[^>])>",
"gi"),"<p><br /></p>\n<$1$2>"),d.trim(a))},getSafes:function(a){a=d("<div />").append(a);return a.find("blockquote p").replaceWith(function(){return d(this).append("<br />").contents()}),a.find(this.opts.paragraphizeBlocks.join(", ")).each(d.proxy(function(f,g){g&&g.tagName&&"iframe"==g.tagName.toLowerCase()&&(g.innerHTML="");f=g.outerHTML;if(g&&g.tagName)switch(g.tagName.toLowerCase()){case "ul":case "ol":f=f.replace(/(<brs*?>s*)*<li>(s*<brs*?>)*/gi,"\n<li>");f=f.replace(/(<brs*?>s*)*<\/ul>/gi,"\n</ul>\n");
f=f.replace(/(<brs*?>s*)*<\/ol>/gi,"\n</ol>\n");break;case "table":f=f.replace(/(<brs*?>s*)*<(tr|td|tbody)>(s*<brs*?>)*/gi,"\n<$2>"),f=f.replace(/(<brs*?>s*)*<\/table>/gi,"\n</table>\n"),f=f.replace(/(<brs*?>s*)*<\/tbody>/gi,"\n</tbody>"),f=f.replace(/(<brs*?>s*)*<\/tr>/gi,"\n</tr>")}return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=f,d(g).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),a.find("span.redactor-selection-marker").each(d.proxy(function(f,
g){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=g.outerHTML,d(g).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),a.html()},restoreSafes:function(a){return d.each(this.paragraphize.safes,function(f,g){g=void 0!==g?g.replace(/\$/g,"&#36;"):g;a=a.replace("#####replace"+f+"#####",g)}),a},convert:function(a){a=a.replace(/\r\n/g,"xparagraphmarkerz");a=a.replace(/\n/g,"xparagraphmarkerz");a=a.replace(/\r/g,"xparagraphmarkerz");a=a.replace(/\s+/g," ");a=
d.trim(a);a=a.replace(/xparagraphmarkerzxparagraphmarkerz/gi,"</p><p>");return a=a.replace(/xparagraphmarkerz/gi,"<br>"),a="<p>"+a+"</p>",a=a.replace("<p></p>",""),a=a.replace("\r\n\r\n",""),a=a.replace(/<\/p><p>/g,"</p>\r\n\r\n<p>"),a=a.replace(/<br\s?\/?><\/p>/g,"</p>"),a=a.replace(/<p><br\s?\/?>/g,"<p>"),a=a.replace(/<p><br\s?\/?>/g,"<p>"),a=a.replace(/<br\s?\/?><\/p>/g,"</p>"),a=a.replace(/<p>&nbsp;<\/p>/gi,""),a=a.replace(/<p>\s?<br>&nbsp;<\/p>/gi,""),a.replace(/<p>\s?<br>/gi,"<p>")},clear:function(a){return a=
a.replace(/<p>(.*?)#####replace(.*?)#####\s?<\/p>/gi,"<p>$1</p>#####replace$2#####"),a=a.replace(/(<br\s?\/?>){2,}<\/p>/gi,"</p>"),a=a.replace(/<\/blockquote><\/p>/gi,"</blockquote>"),a=a.replace(/<p><\/blockquote>/gi,"</blockquote>"),a=a.replace(/<p><blockquote>/gi,"<blockquote>"),a=a.replace(/<blockquote><\/p>/gi,"<blockquote>"),a=a.replace(/<p><p /gi,"<p "),a=a.replace(/<p><p>/gi,"<p>"),a=a.replace(/<\/p><\/p>/gi,"</p>"),a=a.replace(/<p>\s?<\/p>/gi,""),a=a.replace(/\n<\/p>/gi,"</p>"),a=a.replace(/<p>\t?\t?\n?<p>/gi,
"<p>"),a.replace(/<p>\t*<\/p>/gi,"")}}},paste:function(){return{init:function(a){this.rtePaste=!0;var f=!("pre"!==this.opts.type&&!this.utils.isCurrentOrParent("pre"));if(this.detect.isDesktop()&&!this.paste.pre&&this.opts.clipboardImageUpload&&this.opts.imageUpload&&this.paste.detectClipboardUpload(a))return void(this.detect.isIe()&&setTimeout(d.proxy(this.paste.clipboardUpload,this),100));this.utils.saveScroll();this.selection.save();this.paste.createPasteBox(f);d(window).on("scroll.redactor-freeze",
d.proxy(function(){d(window).scrollTop(this.saveBodyScroll)},this));setTimeout(d.proxy(function(){var g=this.paste.getPasteBoxCode(f);this.buffer.set();this.selection.restore();this.utils.restoreScroll();var h=this.clean.getCurrentType(g);g=this.clean.onPaste(g,h);var e=this.core.callback("paste",g);this.paste.insert(void 0===e?g:e,h);this.rtePaste=!1;f&&this.clean.cleanPre();d(window).off("scroll.redactor-freeze")},this),1)},getPasteBoxCode:function(a){a=a?this.$pasteBox.val():this.$pasteBox.html();
return this.$pasteBox.remove(),a},createPasteBox:function(a){var f={position:"fixed",width:"1px",top:0,left:"-9999px"};this.$pasteBox=a?d("<textarea>").css(f):d("<div>").attr("contenteditable","true").css(f);this.paste.appendPasteBox();this.$pasteBox.focus()},appendPasteBox:function(){if(this.detect.isIe())this.core.box().append(this.$pasteBox);else{var a=d(".modal-body:visible");0<a.length?a.append(this.$pasteBox):d("body").prepend(this.$pasteBox)}},detectClipboardUpload:function(a){a=a.originalEvent||
a;var f=a.clipboardData;if(this.detect.isIe()||this.detect.isFirefox())return!1;if(-1!==f.types.indexOf("public.tiff"))return a.preventDefault(),!1;if(f.items&&f.items.length){a=f.items[0].getAsFile();if(null===a)return!1;f=new FileReader;return f.readAsDataURL(a),f.onload=d.proxy(this.paste.insertFromClipboard,this),!0}},clipboardUpload:function(){var a=this.$editor.find("img");d.each(a,d.proxy(function(f,g){if(-1!==g.src.search(/^data:image/i)&&(f=window.FormData?new FormData:null,window.FormData)){this.upload.direct=
!0;this.upload.type="image";this.upload.url=this.opts.imageUpload;this.upload.callback=d.proxy(function(e){if(this.detect.isIe())d(g).wrap(d("<figure />"));else{var l=d(g).parent();this.utils.replaceToTag(l,"figure")}g.src=e.url;this.core.callback("imageUpload",d(g),e)},this);var h=this.utils.dataURItoBlob(g.src);f.append("clipboard",1);f.append(this.opts.imageUploadParam,h);this.progress.show();this.upload.send(f,!1);this.code.sync();this.rtePaste=!1}},this))},insertFromClipboard:function(a){var f=
window.FormData?new FormData:null;if(window.FormData){this.upload.direct=!0;this.upload.type="image";this.upload.url=this.opts.imageUpload;this.upload.callback=this.image.insert;var g=this.utils.dataURItoBlob(a.target.result);f.append("clipboard",1);f.append(this.opts.imageUploadParam,g);this.progress.show();this.upload.send(f,a);this.rtePaste=!1}},insert:function(a,f){f.pre?this.insert.raw(a):f.text?this.insert.text(a):this.insert.html(a,f);this.detect.isFirefox()&&this.opts.imageUpload&&this.opts.clipboardImageUpload&&
setTimeout(d.proxy(this.paste.clipboardUpload,this),100)}}},placeholder:function(){return{enable:function(){setTimeout(d.proxy(function(){return this.placeholder.isEditorEmpty()?this.placeholder.show():this.placeholder.hide()},this),5)},show:function(){this.core.editor().addClass("redactor-placeholder")},update:function(a){this.opts.placeholder=a;this.core.editor().attr("placeholder",a)},hide:function(){this.core.editor().removeClass("redactor-placeholder")},is:function(){return this.core.editor().hasClass("redactor-placeholder")},
init:function(){this.placeholder.enabled()&&(this.utils.isEditorRelative()||this.utils.setEditorRelative(),this.placeholder.build(),this.placeholder.buildPosition(),this.placeholder.enable(),this.placeholder.enableEvents())},enabled:function(){return this.opts.placeholder?this.core.element().attr("placeholder",this.opts.placeholder):this.placeholder.isAttr()},enableEvents:function(){this.core.editor().on("keydown.redactor-placeholder."+this.uuid,d.proxy(this.placeholder.enable,this))},disableEvents:function(){this.core.editor().off(".redactor-placeholder."+
this.uuid)},build:function(){this.core.editor().attr("placeholder",this.core.element().attr("placeholder"))},buildPosition:function(){var a=d("<style />");a.addClass("redactor-placeholder-style-tag");a.html("#"+this.core.id()+".redactor-placeholder::after "+this.placeholder.getPosition());d("head").append(a)},getPosition:function(){return"{ top: "+this.core.editor().css("padding-top")+"; left: "+this.core.editor().css("padding-left")+"; }"},isEditorEmpty:function(){var a=d.trim(this.core.editor().html()).replace(/[\t\n]/g,
"");return-1!==d.inArray(a,["","<p>\u200b</p>","<p>\u200b<br></p>",this.opts.emptyHtmlRendered])},isAttr:function(){return void 0!==this.core.element().attr("placeholder")&&""!==this.core.element().attr("placeholder")},destroy:function(){this.core.editor().removeAttr("placeholder");this.placeholder.hide();this.placeholder.disableEvents();d(".redactor-placeholder-style-tag").remove()}}},progress:function(){return{$box:null,$bar:null,target:document.body,show:function(){this.progress.is()?this.progress.$box.show():
(this.progress.build(),this.progress.$box.redactorAnimation("fadeIn"))},hide:function(){this.progress.is()&&this.progress.$box.redactorAnimation("fadeOut",{duration:.35},d.proxy(this.progress.destroy,this))},update:function(a){this.progress.show();this.progress.$bar.css("width",a+"%")},is:function(){return null!==this.progress.$box},build:function(){this.progress.$bar=d("<span />");this.progress.$box=d('<div id="redactor-progress" />');this.progress.$box.append(this.progress.$bar);d(this.progress.target).append(this.progress.$box)},
destroy:function(){this.progress.is()&&this.progress.$box.remove();this.progress.$box=null;this.progress.$bar=null}}},selection:function(){return{get:function(){return window.getSelection?window.getSelection():document.selection&&"Control"!==document.selection.type?document.selection:null},range:function(a){return void 0===a&&(a=this.selection.get()),a.getRangeAt&&a.rangeCount?a.getRangeAt(0):null},is:function(){return!this.selection.isCollapsed()},isRedactor:function(){var a=this.selection.range();
return null!==a&&(a=a.startContainer.parentNode,d(a).hasClass("redactor-in")||0!==d(a).parents(".redactor-in").length)?!0:!1},isCollapsed:function(){var a=this.selection.get();return null!==a&&a.isCollapsed},update:function(a,f){null!==f&&(a.removeAllRanges(),a.addRange(f))},current:function(){var a=this.selection.get();return null!==a&&a.anchorNode},parent:function(){var a=this.selection.current();return null!==a&&a.parentNode},block:function(a){for(a=a||this.selection.current();a;){if(this.utils.isBlockTag(a.tagName))return!d(a).hasClass("redactor-in")&&
a;a=a.parentNode}return!1},inline:function(a){for(a=a||this.selection.current();a;){if(this.utils.isInlineTag(a.tagName))return!d(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},element:function(a){for(a||(a=this.selection.current());a;){if(1===a.nodeType)return!d(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},prev:function(){return null!==this.selection.current()&&this.selection.current().previousSibling},next:function(){return null!==this.selection.current()&&this.selection.current().nextSibling},
blocks:function(a){var f=[];a=this.selection.nodes(a);d.each(a,d.proxy(function(g,h){this.utils.isBlock(h)&&f.push(h)},this));a=this.selection.block();return 0===f.length&&!1===a?[]:0===f.length&&!1!==a?[a]:f},inlines:function(a){var f=[];a=this.selection.nodes(a);d.each(a,d.proxy(function(g,h){this.utils.isInline(h)&&f.push(h)},this));a=this.selection.inline();return 0===f.length&&!1===a?[]:0===f.length&&!1!==a?[a]:f},nodes:function(a){var f=void 0===a?[]:d.isArray(a)?a:[a];a=this.selection.get();
a=this.selection.range(a);var g=[],h=[];if(this.utils.isCollapsed())g=[this.selection.current()];else{var e=a.startContainer,l=a.endContainer;if(e===l)return[this.selection.parent()];for(;e&&e!==l;)((e=this.selection.nextNode(e))!==l||0<a.endOffset)&&g.push(e);for(e=a.startContainer;e&&e!==a.commonAncestorContainer;)g.unshift(e),e=e.parentNode}return d.each(g,function(p,u){u&&(p=1===u.nodeType&&u.tagName.toLowerCase(),d(u).hasClass("redactor-script-tag")||d(u).hasClass("redactor-selection-marker")||
p&&0!==f.length&&-1===d.inArray(p,f)||h.push(u))}),0===h.length?[]:h},nextNode:function(a){if(a.hasChildNodes())return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null},save:function(){this.marker.insert();this.savedSel=this.core.editor().html()},restore:function(a){var f=this.marker.find(1),g=this.marker.find(2);this.detect.isFirefox()&&this.core.editor().focus();0!==f.length&&0!==g.length?this.caret.set(f,g):0!==f.length?this.caret.start(f):this.core.editor().focus();
!1!==a&&(this.marker.remove(),this.savedSel=!1)},saveInstant:function(){var a=this.core.editor()[0],f=a.ownerDocument.defaultView.getSelection();if(f.getRangeAt&&f.rangeCount){f=f.getRangeAt(0);var g=f.cloneRange();g.selectNodeContents(a);g.setEnd(f.startContainer,f.startOffset);a=g.toString().length;return this.saved={start:a,end:a+f.toString().length,node:f.startContainer},this.saved}},restoreInstant:function(a){if(void 0!==a||this.saved)if(this.saved=void 0!==a?a:this.saved,a=this.core.editor().find(this.saved.node),
0===a.length||0!==a.text().trim().replace(/\u200B/g,"").length){var f=this.core.editor()[0],g=f.ownerDocument,h=g.defaultView;a=0;g=g.createRange();g.setStart(f,0);g.collapse(!0);var e;f=[f];for(var l=!1,p=!1;!p&&(e=f.pop());)if(3==e.nodeType){var u=a+e.length;!l&&this.saved.start>=a&&this.saved.start<=u&&(g.setStart(e,this.saved.start-a),l=!0);l&&this.saved.end>=a&&this.saved.end<=u&&(g.setEnd(e,this.saved.end-a),p=!0);a=u}else for(u=e.childNodes.length;u--;)f.push(e.childNodes[u]);h=h.getSelection();
h.removeAllRanges();h.addRange(g)}else try{g=document.createRange(),g.setStart(a[0],0),h=window.getSelection(),h.removeAllRanges(),h.addRange(g)}catch(c){}},node:function(a){d(a).prepend(this.marker.get(1));d(a).append(this.marker.get(2));this.selection.restore()},all:function(){this.core.editor().focus();var a=this.selection.get(),f=this.selection.range(a);f.selectNodeContents(this.core.editor()[0]);this.selection.update(a,f)},remove:function(){this.selection.get().removeAllRanges()},replace:function(a){this.insert.html(a)},
text:function(){return this.selection.get().toString()},html:function(){var a="",f=this.selection.get();if(f.rangeCount){a=document.createElement("div");for(var g=f.rangeCount,h=0;h<g;++h)a.appendChild(f.getRangeAt(h).cloneContents());a=this.clean.onGet(a.innerHTML)}return a},extractEndOfNode:function(a){var f=this.selection.get();f=this.selection.range(f);var g=f.cloneRange();return g.selectNodeContents(a),g.setStart(f.endContainer,f.endOffset),g.extractContents()},removeMarkers:function(){this.marker.remove()},
marker:function(a){return this.marker.get(a)},markerHtml:function(a){return this.marker.html(a)}}},shortcuts:function(){return{hotkeysSpecialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",
112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hotkeysShiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},init:function(a,f){if(!1===this.opts.shortcuts)return!a.ctrlKey&&!a.metaKey||66!==f&&73!==f||a.preventDefault(),
!1;d.each(this.opts.shortcuts,d.proxy(function(g,h){this.shortcuts.build(a,g,h)},this))},build:function(a,f,g){var h=d.proxy(function(){this.shortcuts.buildHandler(g)},this);f=f.split(",");for(var e=f.length,l=0;l<e;l++)"string"==typeof f[l]&&this.shortcuts.handler(a,d.trim(f[l]),h)},buildHandler:function(a){var f;"-1"!==a.func.search(/\./)?(f=a.func.split("."),void 0!==this[f[0]]&&this[f[0]][f[1]].apply(this,a.params)):this[a.func].apply(this,a.params)},handler:function(a,f,g){f=f.toLowerCase().split(" ");
var h=this.shortcuts.hotkeysSpecialKeys[a.keyCode],e=String.fromCharCode(a.which).toLowerCase(),l="",p={};d.each(["alt","ctrl","meta","shift"],function(c,m){a[m+"Key"]&&h!==m&&(l+=m+"+")});h&&(p[l+h]=!0);e&&(p[l+e]=!0,p[l+this.shortcuts.hotkeysShiftNums[e]]=!0,"shift+"===l&&(p[this.shortcuts.hotkeysShiftNums[e]]=!0));e=f.length;for(var u=0;u<e;u++)if(p[f[u]])return a.preventDefault(),g.apply(this,arguments)}}},storage:function(){return{data:[],add:function(a){a.status=!0;a.url=decodeURI(a.url);this.storage.data[a.url]=
a},status:function(a,f){this.storage.data[decodeURI(a)].status=f},observe:function(){var a=this;this.core.editor().find("[data-image]").each(function(f,g){a.storage.add({type:"image",node:g,url:g.src,id:d(g).attr("data-image")})});this.core.editor().find("[data-file]").each(function(f,g){a.storage.add({type:"file",node:g,url:g.href,id:d(g).attr("data-file")})});this.core.editor().find("[data-s3]").each(function(f,g){a.storage.add({type:"s3",node:g,url:"IMG"===g.tagName?g.src:g.href,id:d(g).attr("data-s3")})})},
changes:function(){for(var a in this.storage.data){var f=this.storage.data[a],g="IMG"===f.node.tagName?"src":"href";0===this.core.editor().find("[data-"+f.type+"]["+g+'="'+f.url+'"]').length?this.storage.status(f.url,!1):this.storage.status(f.url,!0)}return this.storage.data}}},toolbar:function(){return{build:function(){this.button.hideButtons();this.button.hideButtonsOnMobile();this.$toolbarBox=d("<div />").addClass("redactor-toolbar-box");this.$toolbar=this.toolbar.createContainer();this.$toolbarBox.append(this.$toolbar);
this.toolbar.append();this.button.$toolbar=this.$toolbar;this.button.setFormatting();this.button.load(this.$toolbar);this.toolbar.setOverflow();this.toolbar.setFixed()},createContainer:function(){return d("<ul>").addClass("redactor-toolbar").attr({id:"redactor-toolbar-"+this.uuid,role:"toolbar"})},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),d(this.opts.toolbarExternal).html(this.$toolbarBox)):"textarea"===this.opts.type?this.$box.prepend(this.$toolbarBox):
this.$element.before(this.$toolbarBox)},setOverflow:function(){this.opts.toolbarOverflow&&this.$toolbar.addClass("redactor-toolbar-overflow")},setFixed:function(){if(this.opts.toolbarFixed&&!this.opts.toolbarExternal){if(this.opts.toolbarFixedTarget!==document){var a=d(this.opts.toolbarFixedTarget);this.toolbar.toolbarOffsetTop=0===a.length?0:this.core.box().offset().top-a.offset().top}a=0!==this.core.box().closest(".modal-body").length?1E3:0;setTimeout(d.proxy(function(){var f=this;this.toolbar.observeScroll(!1);
this.detect.isDesktop()?d(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){100>f.core.editor().height()||f.placeholder.isEditorEmpty()||f.toolbar.observeScroll()}):d(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){100>f.core.editor().height()||f.placeholder.isEditorEmpty()||(f.core.toolbar().hide(),clearTimeout(d.data(this,"scrollCheck")),d.data(this,"scrollCheck",setTimeout(function(){f.core.toolbar().show();f.toolbar.observeScroll()},250)))})},this),
a)}},setUnfixed:function(){this.toolbar.observeScrollDisable()},getBoxTop:function(){return this.opts.toolbarFixedTarget===document?this.core.box().offset().top:this.toolbar.toolbarOffsetTop},observeScroll:function(a){var f=0;!1!==a&&(f=this.opts.toolbarFixedTarget===document?20:0);a=d(this.opts.toolbarFixedTarget).scrollTop();var g=this.toolbar.getBoxTop();a!==g&&(a+this.opts.toolbarFixedTopOffset+f>g?this.toolbar.observeScrollEnable(a,g):this.toolbar.observeScrollDisable())},observeScrollResize:function(){this.$toolbar.css({width:this.core.box().innerWidth(),
left:this.core.box().offset().left})},observeScrollEnable:function(a,f){if(void 0!==this.fullscreen&&!1===this.fullscreen.isOpened)return void this.toolbar.observeScrollDisable();var g=f+this.core.box().outerHeight()-32,h=this.core.box().innerWidth(),e=this.detect.isDesktop()?"fixed":"absolute",l=this.detect.isDesktop()?this.opts.toolbarFixedTopOffset:d(this.opts.toolbarFixedTarget).scrollTop()-f+this.opts.toolbarFixedTopOffset,p=this.detect.isDesktop()?this.core.box().offset().left:0;this.opts.toolbarFixedTarget!==
document&&(e="absolute",l=this.opts.toolbarFixedTopOffset+d(this.opts.toolbarFixedTarget).scrollTop()-f,p=0);this.$toolbar.addClass("toolbar-fixed-box");this.$toolbar.css({position:e,width:h,top:l,left:p});a>g&&d(".redactor-dropdown-"+this.uuid+":visible").hide();this.toolbar.setDropdownsFixed();this.$toolbar.css("visibility",a<g?"visible":"hidden");d(window).on("resize.redactor-toolbar."+this.uuid,d.proxy(this.toolbar.observeScrollResize,this))},observeScrollDisable:function(){this.$toolbar.css({position:"relative",
width:"auto",top:0,left:0,visibility:"visible"});this.toolbar.unsetDropdownsFixed();this.$toolbar.removeClass("toolbar-fixed-box");d(window).off("resize.redactor-toolbar."+this.uuid)},setDropdownsFixed:function(){var a=this.opts.toolbarFixedTarget===document&&this.detect.isDesktop()?"fixed":"absolute";this.toolbar.setDropdownPosition(a)},unsetDropdownsFixed:function(){this.toolbar.setDropdownPosition("absolute")},setDropdownPosition:function(a){var f=this;d(".redactor-dropdown-"+this.uuid).each(function(){var g=
d(this),h=f.button.get(g.attr("rel")),e="fixed"===a?f.opts.toolbarFixedTopOffset:h.offset().top;g.css({position:a,top:h.innerHeight()+e+"px"})})}}},upload:function(){return{init:function(a,f,g){this.upload.direct=!1;this.upload.callback=g;this.upload.url=f;this.upload.$el=d(a);this.upload.$droparea=d('<div id="redactor-droparea" />');this.upload.$placeholdler=d('<div id="redactor-droparea-placeholder" />').text(this.lang.get("upload-label"));this.upload.$input=d('<input type="file" name="file" multiple />');
this.upload.$placeholdler.append(this.upload.$input);this.upload.$droparea.append(this.upload.$placeholdler);this.upload.$el.append(this.upload.$droparea);this.upload.$droparea.off("redactor.upload");this.upload.$input.off("redactor.upload");this.upload.$droparea.on("dragover.redactor.upload",d.proxy(this.upload.onDrag,this));this.upload.$droparea.on("dragleave.redactor.upload",d.proxy(this.upload.onDragLeave,this));this.upload.$input.on("change.redactor.upload",d.proxy(function(h){h=h.originalEvent||
h;for(var e=this.upload.$input[0].files.length,l=0;l<e;l++)this.upload.traverseFile(this.upload.$input[0].files[e-1-l],h)},this));this.upload.$droparea.on("drop.redactor.upload",d.proxy(function(h){h.preventDefault();this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop");this.upload.onDrop(h)},this))},directUpload:function(a,f){this.upload.direct=!0;this.upload.traverseFile(a,f)},onDrop:function(a){a=a.originalEvent||a;var f=a.dataTransfer.files;if(this.opts.multipleImageUpload)for(var g=
f.length,h=0;h<g;h++)this.upload.traverseFile(f[h],a);else this.upload.traverseFile(f[0],a)},traverseFile:function(a,f){if(this.opts.s3)return this.upload.setConfig(a),void this.uploads3.send(a,f);var g=window.FormData?new FormData:null;window.FormData&&(this.upload.setConfig(a),g.append("image"===this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam,a));this.progress.show();!1!==this.core.callback("uploadStart",f,g)&&this.upload.send(g,f)},setConfig:function(a){this.upload.getType(a);
this.upload.direct&&(this.upload.url="image"===this.upload.type?this.opts.imageUpload:this.opts.fileUpload,this.upload.callback="image"===this.upload.type?this.image.insert:this.file.insert)},getType:function(a){this.upload.type=-1===this.opts.imageTypes.indexOf(a.type)?"file":"image";null===this.opts.imageUpload&&null!==this.opts.fileUpload&&(this.upload.type="file")},getHiddenFields:function(a,f){return!1===a||"object"!=typeof a?f:(d.each(a,d.proxy(function(g,h){null!==h&&0===h.toString().indexOf("#")&&
(h=d(h).val());f.append(g,h)},this)),f)},send:function(a,f){"image"===this.upload.type?(a=this.utils.appendFields(this.opts.imageUploadFields,a),a=this.utils.appendForms(this.opts.imageUploadForms,a),a=this.upload.getHiddenFields(this.upload.imageFields,a)):(a=this.utils.appendFields(this.opts.fileUploadFields,a),a=this.utils.appendForms(this.opts.fileUploadForms,a),a=this.upload.getHiddenFields(this.upload.fileFields,a));var g=new XMLHttpRequest;g.open("POST",this.upload.url);g.setRequestHeader("X-Requested-With",
"XMLHttpRequest");g.onreadystatechange=d.proxy(function(){if(4===g.readyState){var h=g.responseText;h=h.replace(/^\[/,"");h=h.replace(/\]$/,"");try{var e="string"==typeof h?JSON.parse(h):h}catch(l){e={error:!0}}this.progress.hide();this.upload.direct||this.upload.$droparea.removeClass("drag-drop");this.upload.callback(e,this.upload.direct,f)}},this);!1!==this.core.callback("uploadBeforeSend",g)&&g.send(a)},onDrag:function(a){a.preventDefault();this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(a){a.preventDefault();
this.upload.$droparea.removeClass("drag-hover")},clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(a,f){this.upload.imageFields[a]=f},removeImageFields:function(a){delete this.upload.imageFields[a]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(a,f){this.upload.fileFields[a]=f},removeFileFields:function(a){delete this.upload.fileFields[a]}}},uploads3:function(){return{send:function(a,f){this.uploads3.executeOnSignedUrl(a,d.proxy(function(g){this.uploads3.sendToS3(a,
g,f)},this))},executeOnSignedUrl:function(a,f){var g=new XMLHttpRequest,h=-1===this.opts.s3.search(/\?/)?"?":"&";g.open("GET",this.opts.s3+h+"name="+a.name+"&type="+a.type,!0);g.overrideMimeType&&g.overrideMimeType("text/plain; charset=x-user-defined");var e=this;g.onreadystatechange=function(l){4===this.readyState&&200===this.status&&(e.progress.show(),f(decodeURIComponent(this.responseText)))};g.send()},createCORSRequest:function(a,f){var g=new XMLHttpRequest;return"withCredentials"in g?g.open(a,
f,!0):"undefined"!=typeof XDomainRequest?(g=new XDomainRequest,g.open(a,f)):g=null,g},sendToS3:function(a,f,g){var h=this.uploads3.createCORSRequest("PUT",f);h&&(h.onload=d.proxy(function(){var e;if(this.progress.hide(),200!==h.status)return e={error:!0},void this.upload.callback(e,this.upload.direct,h);var l=f.split("?");if(!l[0])return!1;if(this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),e={url:l[0],id:l[0],s3:!0},"file"===this.upload.type)l=l[0].split("/"),e.name=l[l.length-
1];this.upload.callback(e,this.upload.direct,g)},this),h.onerror=function(){},h.upload.onprogress=function(e){},h.setRequestHeader("Content-Type",a.type),h.setRequestHeader("x-amz-acl","public-read"),h.send(a))}}},utils:function(){return{isEmpty:function(a){return a=void 0===a?this.core.editor().html():a,a=a.replace(/[\u200B-\u200D\uFEFF]/g,""),a=a.replace(/&nbsp;/gi,""),a=a.replace(/<\/?br\s?\/?>/g,""),a=a.replace(/\s/g,""),a=a.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,""),a=a.replace(/<iframe(.*?[^>])>$/i,
"iframe"),a=a.replace(/<source(.*?[^>])>$/i,"source"),a=a.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),a=a.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),""===d.trim(a)},isElement:function(a){try{return a instanceof HTMLElement}catch(f){return"object"==typeof a&&1===a.nodeType&&"object"==typeof a.style&&"object"==typeof a.ownerDocument}},strpos:function(a,f,g){a=a.indexOf(f,g);return 0<=a&&a},dataURItoBlob:function(a){var f=0<=a.split(",")[0].indexOf("base64")?atob(a.split(",")[1]):unescape(a.split(",")[1]);a=
a.split(",")[0].split(":")[1].split(";")[0];for(var g=new Uint8Array(f.length),h=0;h<f.length;h++)g[h]=f.charCodeAt(h);return new Blob([g],{type:a})},getOuterHtml:function(a){return d("<div>").append(d(a).eq(0).clone()).html()},cloneAttributes:function(a,f){a=a[0]||a;f=d(f);a=a.attributes;for(var g=a.length;g--;){var h=a[g];f.attr(h.name,h.value)}return f},breakBlockTag:function(){var a=this.selection.block();if(!a)return!1;var f=this.utils.isEmpty(a.innerHTML),g=a.tagName.toLowerCase();if("pre"===
g||"li"===g||"td"===g||"th"===g)return!1;if(!f&&this.utils.isStartOfElement(a))return{$block:d(a),$next:d(a).next(),type:"start"};if(!f&&this.utils.isEndOfElement(a))return{$block:d(a),$next:d(a).next(),type:"end"};f=this.selection.extractEndOfNode(a);g=d("<"+g+" />").append(f);return g=this.utils.cloneAttributes(a,g),d(a).after(g),{$block:d(a),$next:g,type:"break"}},inBlocks:function(a){a=d.isArray(a)?a:[a];for(var f=this.selection.blocks(),g=f.length,h=!1,e=0;e<g;e++)if(!1!==f[e]){var l=f[e].tagName.toLowerCase();
-1!==d.inArray(l,a)&&(h=!0)}return h},inInlines:function(a){a=d.isArray(a)?a:[a];for(var f=this.selection.inlines(),g=f.length,h=!1,e=0;e<g;e++){var l=f[e].tagName.toLowerCase();-1!==d.inArray(l,a)&&(h=!0)}return h},isTag:function(a,f){a=d(a).closest(f,this.core.editor()[0]);return 1===a.length&&a[0]},isBlock:function(a){return null!==a&&(a=a[0]||a)&&this.utils.isBlockTag(a.tagName)},isBlockTag:function(a){return void 0!==a&&this.reIsBlock.test(a)},isInline:function(a){return(a=a[0]||a)&&this.utils.isInlineTag(a.tagName)},
isInlineTag:function(a){return void 0!==a&&this.reIsInline.test(a)},isRedactorParent:function(a){return!!a&&0!==d(a).parents(".redactor-in").length&&!d(a).hasClass("redactor-in")&&a},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent("H1 H2 H3 H4 H5 H6".split(" "))},isCurrentOrParent:function(a){var f=this.selection.parent(),g=this.selection.current();if(d.isArray(a)){var h=0;return d.each(a,d.proxy(function(e,l){this.utils.isCurrentOrParentOne(g,f,l)&&h++},this)),0!==h}return this.utils.isCurrentOrParentOne(g,
f,a)},isCurrentOrParentOne:function(a,f,g){return g=g.toUpperCase(),f&&f.tagName===g?f:!(!a||a.tagName!==g)&&a},isEditorRelative:function(){var a=this.core.editor().css("position");return-1!==d.inArray(["absolute","fixed","relative"],a)},setEditorRelative:function(){this.core.editor().addClass("redactor-relative")},getScrollTarget:function(){var a=d(this.opts.scrollTarget);return 0!==a.length?a:d(document)},freezeScroll:function(){this.freezeScrollTop=this.utils.getScrollTarget().scrollTop();this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},
unfreezeScroll:function(){void 0!==this.freezeScrollTop&&this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},saveScroll:function(){this.tmpScrollTop=this.utils.getScrollTarget().scrollTop()},restoreScroll:function(){void 0!==this.tmpScrollTop&&this.utils.getScrollTarget().scrollTop(this.tmpScrollTop)},isStartOfElement:function(a){return!(void 0===a&&!(a=this.selection.block()))&&0===this.offset.get(a)},isEndOfElement:function(a){if(void 0===a&&!(a=this.selection.block()))return!1;var f=
d.trim(d(a).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"");return this.offset.get(a)===f.length},removeEmptyAttr:function(a,f){a=d(a);return void 0===a.attr(f)||""===a.attr(f)&&(a.removeAttr(f),!0)},replaceToTag:function(a,f){var g;return d(a).replaceWith(function(){g=d("<"+f+" />").append(d(this).contents());for(var h=0;h<this.attributes.length;h++)g.attr(this.attributes[h].name,this.attributes[h].value);return g}),g},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=
!0},disableSelectAll:function(){this.selectAll=!1},disableBodyScroll:function(){var a=d("html"),f=window.innerWidth;f||(f=document.documentElement.getBoundingClientRect(),f=f.right-Math.abs(f.left));f=document.body.clientWidth<f;var g=this.utils.measureScrollbar();a.css("overflow","hidden");f&&a.css("padding-right",g)},measureScrollbar:function(){var a=d("body"),f=document.createElement("div");f.className="redactor-scrollbar-measure";a.append(f);var g=f.offsetWidth-f.clientWidth;return a[0].removeChild(f),
g},enableBodyScroll:function(){d("html").css({overflow:"","padding-right":""});d("body").remove("redactor-scrollbar-measure")},appendFields:function(a,f){if(!a)return f;if("object"==typeof a)return d.each(a,function(g,h){null!==h&&0===h.toString().indexOf("#")&&(h=d(h).val());f.append(g,h)}),f;a=d(a);return 0===a.length?f:(a.each(function(){f.append(d(this).attr("name"),d(this).val())}),f)},appendForms:function(a,f){if(!a)return f;a=d(a);if(0===a.length)return f;a=a.serializeArray();return d.each(a,
function(g,h){f.append(h.name,h.value)}),f},isRgb:function(a){return 0===a.search(/^rgb/i)},rgb2hex:function(a){return a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),a&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""},isCollapsed:function(){return this.selection.isCollapsed()},isMobile:function(){return this.detect.isMobile()},isDesktop:function(){return this.detect.isDesktop()},
isPad:function(){return this.detect.isIpad()}}},browser:function(){return{webkit:function(){return this.detect.isWebkit()},ff:function(){return this.detect.isFirefox()},ie:function(){return this.detect.isIe()}}}};d(window).on("load.tools.redactor",function(){d('[data-tools="redactor"]').redactor()});N.prototype.init.prototype=N.prototype}(jQuery),function(d){function N(W,a,f,g){var h={duration:.5,iterate:1,delay:0,prefix:"redactor-",timing:"linear"};this.animation=a;this.slide="slideDown"===this.animation||
"slideUp"===this.animation;this.$element=d(W);this.prefixes=["","-moz-","-o-animation-","-webkit-"];this.queue=[];"function"==typeof f?(g=f,this.opts=h):this.opts=d.extend(h,f);this.slide&&this.$element.height(this.$element.height());this.init(g)}d.fn.redactorAnimation=function(W,a,f){return this.each(function(){new N(this,W,a,f)})};N.prototype={init:function(W){this.queue.push(this.animation);this.clean();"show"===this.animation?(this.opts.timing="linear",this.$element.removeClass("hide").show(),
"function"==typeof W&&W(this)):"hide"===this.animation?(this.opts.timing="linear",this.$element.hide(),"function"==typeof W&&W(this)):this.animate(W)},animate:function(W){this.$element.addClass("redactor-animated").css("display","").removeClass("hide");this.$element.addClass(this.opts.prefix+this.queue[0]);this.set(this.opts.duration+"s",this.opts.delay+"s",this.opts.iterate,this.opts.timing);var a=1<this.queue.length?null:W;this.complete("AnimationEnd",d.proxy(function(){this.$element.hasClass(this.opts.prefix+
this.queue[0])&&(this.clean(),this.queue.shift(),this.queue.length&&this.animate(W))},this),a)},set:function(W,a,f,g){for(var h=this.prefixes.length;h--;)this.$element.css(this.prefixes[h]+"animation-duration",W),this.$element.css(this.prefixes[h]+"animation-delay",a),this.$element.css(this.prefixes[h]+"animation-iteration-count",f),this.$element.css(this.prefixes[h]+"animation-timing-function",g)},clean:function(){this.$element.removeClass("redactor-animated");this.$element.removeClass(this.opts.prefix+
this.queue[0]);this.set("","","","")},complete:function(W,a,f){this.$element.one(W.toLowerCase()+" webkit"+W+" o"+W+" MS"+W,d.proxy(function(){"function"==typeof a&&a();"function"==typeof f&&f(this);-1!==d.inArray(this.animation,"fadeOut slideUp zoomOut slideOutUp slideOutRight slideOutLeft".split(" "))&&this.$element.css("display","none");this.slide&&this.$element.css("height","")},this))}}}(jQuery),function(d){d.Redactor.prototype.alignment=function(){return{langs:{en:{align:"Align","align-left":"Align Left",
"align-center":"Align Center","align-right":"Align Right","align-justify":"Align Justify"}},init:function(){var N={};N.left={title:this.lang.get("align-left"),func:this.alignment.setLeft};N.center={title:this.lang.get("align-center"),func:this.alignment.setCenter};N.right={title:this.lang.get("align-right"),func:this.alignment.setRight};N.justify={title:this.lang.get("align-justify"),func:this.alignment.setJustify};var W=this.button.add("alignment",this.lang.get("align"));this.button.setIcon(W,'<i class="re-icon-alignment"></i>');
this.button.addDropdown(W,N)},removeAlign:function(){this.block.removeAttr("style")},setLeft:function(){this.buffer.set();this.alignment.removeAlign()},setCenter:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: center"});this.core.editor().focus()},setRight:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: right"});this.core.editor().focus()},setJustify:function(){this.buffer.set();this.alignment.removeAlign();
this.block.addAttr({style:"text-align: justify"});this.core.editor().focus()}}}}(jQuery),!RedactorPlugins)var RedactorPlugins={};
!function(){function d(N,W,a,f,g){return function(){var h;return{locfn:window.$_||function(e){return e},langs:{en:{"code-to-insert":"Code to insert","blockquote-to-insert":"Blockquote to insert"}},init:function(){h=this[N];f=h.locfn(f);h.initToolbar();h.initEvents();h.initModal()},initToolbar:function(){var e=this.button.add(N,f);this.button.addCallback(e,h.show);this.button.setIcon(e,'<i class="'+a+'"></i>')},initEvents:function(){var e=null;this.$editor.on("keydown.redactor-"+N,$.proxy(function(l){l.which!=
this.keyCode.DOWN&&l.which!=this.keyCode.UP||(e=this.caret.getOffset())},this));this.$editor.on("keyup.redactor-"+N,$.proxy(function(l){if((l.which==this.keyCode.DOWN||l.which==this.keyCode.UP)&&e==this.caret.getOffset()){var p=$(this.selection.getBlock());if(p.length&&p.is(W)){var u;if(u=l.which==this.keyCode.DOWN?p.next():p.prev(),u.length){if(""!=$.trim(u.text()))return;u.html("&#8203;")}else u=h.insertNewline(p),l.which==this.keyCode.UP&&u.insertBefore(p);this.caret.setStart(u)}}},this))},initModal:function(){this.modal.addTemplate(N,
h.getTemplate());this.modal.addCallback(N,function(){this.modal.getCancelButton();this.modal.getActionButton(h.locfn("Insert")).on("click",function(){h.insertSnippet($("#h-"+N+"-textarea").val())})})},getTemplate:function(){return'<div class="modal-section" id="redactor-modal-'+N+'-insert"><section><label>'+this.lang.get(g)+'</label><textarea id="h-'+N+'-textarea" style="height: 200px"></textarea></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+
this.lang.get("cancel")+"</button></section></div>"},show:function(){this.buffer.set();this.selection.save();this.modal.load(N,f,800);this.modal.show();this.detect.isDesktop()&&setTimeout(function(){$("#h-"+N+"-textarea").focus()},1)},insertSnippet:function(e){this.modal.close();this.selection.restore();h.insertNewline($("<"+W+">").text(e).insertAfter(this.selection.current()));this.code.sync()},insertNewline:function(e){return $("<p>&#8203;</p>").insertAfter(e)}}}}RedactorPlugins.codeblock=d("codeblock",
"pre","re-icon-html","Insert code block","code-to-insert");RedactorPlugins.blockquote=d("blockquote","blockquote","re-icon-clips","Insert quote","blockquote-to-insert");$.wa&&($.wa.RedactorCodeblockPluginFactory=d)}();
(function(d){d.Redactor.prototype.fontcolor=function(){return{langs:{en:{fontcolor:"Text Color","fontcolor-highlight":"Highlight","fontcolor-text":"Text","fontcolor-none":"None"}},init:function(){var N="#ffffff #000000 #ff0000 #cc0000 #4f81bd #c0504d #9bbb59 #8064a2 #4bacc6 #f79646 #ffff00 #f2f2f2 #7f7f7f #0000ff #0000cc #dbe5f1 #f2dcdb #ebf1dd #e5e0ec #dbeef3 #fdeada #fff2ca #d8d8d8 #595959 #00ff00 #00cc00 #b8cce4 #e5b9b7 #d7e3bc #ccc1d9 #b7dde8 #fbd5b5 #ffe694 #bfbfbf #3f3f3f #7bed0c #59a60d #95b3d7 #d99694 #c3d69b #b2a2c7 #b7dde8 #fac08f #f2c314 #a5a5a5 #262626 #00ffff #00cccc #366092 #953734 #76923c #5f497a #92cddc #e36c09 #c09100 #7f7f7f #0c0c0c #ff00ff #cc00cc #244061 #632423 #4f6128 #3f3151 #31859b #974806 #7f6000".split(" "),W=
this.button.add("fontcolor",this.lang.get("fontcolor"));this.button.setIcon(W,'<i class="re-icon-fontcolor"></i>');var a=this.button.addDropdown(W);a.attr("rel","fontcolor");a.width(242);W=d('<div style="overflow: hidden; text-align: center;">');var f=d('<span rel="text" class="re-dropdown-box-selector-font" style="background: #eee; float: left; padding: 8px 0; cursor: pointer; font-size: 12px; width: 50%;">'+this.lang.get("fontcolor-text")+"</span>"),g=d('<span rel="back" class="re-dropdown-box-selector-font" style="float: left; padding: 8px 0; cursor: pointer; font-size: 12px; width: 50%;">'+
this.lang.get("fontcolor-highlight")+"</span>");W.append(f);W.append(g);a.append(W);this.fontcolor.buildPicker(a,"textcolor",N);this.fontcolor.buildPicker(a,"backcolor",N);f.on("mousedown",function(h){h.preventDefault();a.find(".re-dropdown-box-selector-font").css("background","none");a.find(".re-dropdown-box-backcolor").hide();a.find(".re-dropdown-box-textcolor").show();d(this).css("background","#eee")});g.on("mousedown",function(h){h.preventDefault();a.find(".re-dropdown-box-selector-font").css("background",
"none");a.find(".re-dropdown-box-textcolor").hide();a.find(".re-dropdown-box-backcolor").show();d(this).css("background","#eee")})},buildPicker:function(N,W,a){for(var f=d('<div class="re-dropdown-box-'+W+'">'),g="backcolor"==W?"background-color":"color",h=a.length,e=this,l=function(m){m.preventDefault();e.fontcolor.set(d(this).data("rule"),d(this).attr("rel"))},p=0;p<h;p++){var u=a[p],c=d('<a rel="'+u+'" data-rule="'+g+'" href="#" style="float: left; box-sizing: border-box; font-size: 0; border: 2px solid #fff; padding: 0; margin: 0; width: 22px; height: 22px;"></a>');
c.css("background-color",u);c.on("mousedown",l);f.append(c)}a=d('<a href="#" style="display: block; clear: both; padding: 8px 5px; box-sizing: border-box; font-size: 12px; line-height: 1;"></a>').html(this.lang.get("fontcolor-none"));a.on("mousedown",d.proxy(function(m){m.preventDefault();this.fontcolor.remove(g)},this));f.append(a);N.append(f);"backcolor"==W&&f.hide()},set:function(N,W){this.inline.format("span","style",N+": "+W+";");this.dropdown.hide()},remove:function(N){this.inline.removeStyleRule(N);
this.dropdown.hide()}}}})(jQuery);
(function(d){d.Redactor.prototype.fontfamily=function(){return{langs:{en:{fontfamily:"Font","fontfamily-remove":"Remove Font Family"}},init:function(){var N=this,W={};d.each("Arial;Helvetica;Georgia;Times New Roman;Verdana;Monospace".split(";"),function(f,g){W["s"+f]={title:g,func:function(){N.fontfamily.set(g)}}});W.remove={title:this.lang.get("fontfamily-remove"),func:N.fontfamily.reset};var a=this.button.add("fontfamily",this.lang.get("fontfamily"));this.button.setIcon(a,'<i class="re-icon-fontfamily"></i>');
this.button.addDropdown(a,W)},set:function(N){this.inline.format("span","style","font-family:"+N+";")},reset:function(){this.inline.removeStyleRule("font-family")}}}})(jQuery);
(function(d){d.Redactor.prototype.fontsize=function(){return{langs:{en:{fontsize:"Size","fontsize-remove":"Remove Font Size"}},init:function(){var N=this,W={};d.each([10,11,12,14,16,18,20,24,28,30],function(f,g){W["s"+f]={title:g+"px",func:function(){N.fontsize.set(g)}}});W.remove={title:this.lang.get("fontsize-remove"),func:N.fontsize.reset};var a=this.button.add("fontsize",this.lang.get("fontsize"));this.button.setIcon(a,'<i class="re-icon-fontsize"></i>');this.button.addDropdown(a,W)},set:function(N){this.inline.format("span",
"style","font-size: "+N+"px;")},reset:function(){this.inline.removeStyleRule("font-size")}}}})(jQuery);
(function(d){d.Redactor.prototype.inlinestyle=function(){return{langs:{en:{style:"Style","style-marked":"Marked","style-code":"Code","style-sample":"Sample","style-variable":"Variable","style-shortcut":"Shortcut","style-cite":"Cite","style-sup":"Superscript","style-sub":"Subscript"}},init:function(){var N=this,W={};d.each({marked:{title:"style-marked",args:["mark"]},code:{title:"style-code",args:["code"]},sample:{title:"style-sample",args:["samp"]},variable:{title:"style-variable",args:["var"]},shortcut:{title:"style-shortcut",
args:["kbd"]},cite:{title:"style-cite",args:["cite"]},sup:{title:"style-sup",args:["sup"]},sub:{title:"style-sub",args:["sub"]}},function(f,g){W[f]={title:N.lang.get(g.title),func:"inline.format",args:g.args}});var a=this.button.addAfter("format","inline",this.lang.get("style"));this.button.setIcon(a,'<i class="re-icon-inline"></i>');this.button.addDropdown(a,W)}}}})(jQuery);
(function(d){d.Redactor.prototype.properties=function(){return{langs:{en:{properties:"Properties"}},block:!1,labelStyle:{position:"absolute",padding:"2px 5px","line-height":1,"border-radius":"5px","font-size":"10px",color:"rgba(255, 255, 255, .9)","z-index":99},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-properties"><section><label id="modal-properties-id-label">Id</label><input type="text" id="modal-properties-id" /></section><section><label id="modal-properties-class-label">Class</label><input type="text" id="modal-properties-class" /></section><section><button id="redactor-modal-button-action">Save</button><button id="redactor-modal-button-cancel">Cancel</button></section></div>'},
setup:function(){this.opts.properties=void 0===this.opts.properties?{}:this.opts.properties;this.opts.properties.id=void 0===this.opts.properties.id||this.opts.properties.id;this.opts.properties.classname=void 0===this.opts.properties.classname||this.opts.properties.classname;this.opts.properties.show=void 0!==this.opts.properties.show&&this.opts.properties.show},init:function(){if("pre"!==this.opts.type&&"inline"!==this.opts.type){this.properties.setup();this.properties.createLabelId(this.properties.labelStyle);
this.properties.createLabelClass(this.properties.labelStyle);this.properties.setEvents();var N=this.button.add("properties",this.lang.get("properties"));this.button.setIcon(N,'<i class="re-icon-properties"></i>');this.button.addCallback(N,this.properties.show)}},show:function(){this.modal.addTemplate("properties",this.properties.getTemplate());this.modal.load("properties","Properties",600);this.modal.getActionButton().text("Save").on("click",this.properties.save);this.properties.showId();this.properties.showClass();
this.modal.show()},createLabelId:function(N){(this.opts.properties.show||this.opts.properties.id)&&(this.properties.labelId=d("<span />").attr("id","redactor-properties-label-id-"+this.uuid).attr("title","ID").hide(),this.properties.labelId.css(N).css("background","rgba(229, 57, 143, .7)"),d("body").append(this.properties.labelId))},createLabelClass:function(N){(this.opts.properties.show||this.opts.properties.classname)&&(this.properties.labelClass=d("<span />").attr("id","redactor-properties-label-class-"+
this.uuid).attr("title","class").hide(),this.properties.labelClass.css(N).css("background","rgba(61, 121, 242, .7)"),d("body").append(this.properties.labelClass))},setEvents:function(){this.core.element().on("click.callback.redactor",this.properties.showOnClick);d(document).on("mousedown.redactor-properties",d.proxy(this.properties.hideOnBlur,this));this.core.element().on("destroy.callback.redactor",d.proxy(function(){d(document).off(".redactor-properties")},this))},showId:function(){this.opts.properties.id?
(d("#modal-properties-id-label").show(),d("#modal-properties-id").show().val(d(this.properties.block).attr("id"))):d("#modal-properties-id, #modal-properties-id-label").hide()},showClass:function(){this.opts.properties.classname?(d("#modal-properties-class-label").show(),d("#modal-properties-class").show().val(d(this.properties.block).attr("class"))):d("#modal-properties-class, #modal-properties-class-label").hide()},save:function(){if(this.opts.properties.id){var N=d("#modal-properties-id").val();
void 0===N||""===N?this.block.removeAttr("id",this.properties.block):this.block.replaceAttr("id",N,this.properties.block)}this.opts.properties.classname&&(N=d("#modal-properties-class").val(),void 0===N||""===N?this.block.removeAttr("class",this.properties.block):this.block.replaceClass(N,this.properties.block));this.modal.close();this.properties.showOnClick(!1)},showOnClick:function(N){!1!==N&&N.preventDefault();N=void 0!==this.fullscreen&&this.fullscreen.isOpen?1052:99;if(this.properties.block=
this.selection.block(),this.properties.block&&this.utils.isRedactorParent(this.properties.block)&&!this.utils.isCurrentOrParent(["figure","li"])){var W=d(this.properties.block).offset(),a=this.properties.showOnClickClass(W,N);this.properties.showOnClickId(W,N,a)}},showOnClickId:function(N,W,a){var f=d(this.properties.block).attr("id");this.opts.properties.show&&this.opts.properties.id&&void 0!==f&&""!==f&&setTimeout(d.proxy(function(){var g=this.opts.properties.classname&&void 0!==a&&""!==a?this.properties.labelClass.innerWidth():
-3;this.properties.labelId.css({zIndex:W,top:N.top-13,left:N.left+g}).show().text("#"+f)},this),10)},showOnClickClass:function(N,W){var a=d(this.properties.block).attr("class");return this.opts.properties.show&&this.opts.properties.classname&&void 0!==a&&""!==a&&this.properties.labelClass.css({zIndex:W,top:N.top-13,left:N.left-3}).show().text(a),a},hideOnBlur:function(N){N.target!==this.properties.block&&(this.properties.hideOnBlurId(),this.properties.hideOnBlurClass())},hideOnBlurId:function(){this.opts.properties.show&&
this.opts.properties.id&&this.properties.labelId.css("z-index",99).hide()},hideOnBlurClass:function(){this.opts.properties.show&&this.opts.properties.classname&&this.properties.labelClass.css("z-index",99).hide()}}}})(jQuery);
(function(d){d.Redactor.prototype.source=function(){return{init:function(){var N=this.button.addFirst("html","HTML");this.button.setIcon(N,'<i class="re-icon-html"></i>');this.button.addCallback(N,this.source.toggle);this.source.$textarea=d("<textarea />");this.source.$textarea.css({width:"100%",margin:"0",background:"#1d1d1d","box-sizing":"border-box",color:"#ccc","font-size":"15px",outline:"none",padding:"20px","line-height":"24px","font-family":'Consolas, Menlo, Monaco, "Courier New", monospace'}).hide();
"textarea"===this.opts.type?this.core.box().append(this.source.$textarea):this.core.box().after(this.source.$textarea);this.core.element().on("destroy.callback.redactor",d.proxy(function(){this.source.$textarea.remove()},this))},toggle:function(){this.source.$textarea.hasClass("open")?this.source.hide():(this.source.show(),this.source.$textarea.on("keyup.redactor-source",d.proxy(function(){var N=this.source.$textarea.val();this.core.callback("change",N)},this)))},setCaretOnShow:function(){this.source.offset=
this.offset.get();d(window).scrollTop();this.core.editor().innerWidth();this.core.editor().innerHeight();this.source.start=0;this.source.end=0;var N=d("<div/>").append(d.parseHTML(this.core.editor().html(),document,!0)),W=N.find("span.redactor-selection-marker");if(0<W.length){var a=N.html().replace(/&amp;/g,"&");1===W.length?(this.source.start=this.utils.strpos(a,N.find("#selection-marker-1").prop("outerHTML")),this.source.end=this.source.start):2===W.length&&(this.source.start=this.utils.strpos(a,
N.find("#selection-marker-1").prop("outerHTML")),this.source.end=this.utils.strpos(a,N.find("#selection-marker-2").prop("outerHTML"))-N.find("#selection-marker-1").prop("outerHTML").toString().length)}},setCaretOnHide:function(N){if(this.source.start=this.source.$textarea.get(0).selectionStart,this.source.end=this.source.$textarea.get(0).selectionEnd,this.source.start>this.source.end&&0<this.source.end){var W=this.source.start;this.source.start=this.source.end;this.source.end=W}if(this.source.start=
this.source.enlargeOffset(N,this.source.start),this.source.end=this.source.enlargeOffset(N,this.source.end),N=N.substr(0,this.source.start)+this.marker.html(1)+N.substr(this.source.start),this.source.end>this.source.start)W=this.marker.html(1).toString().length,N=N.substr(0,this.source.end+W)+this.marker.html(2)+N.substr(this.source.end+W);return N},hide:function(){this.source.$textarea.removeClass("open").hide();this.source.$textarea.off(".redactor-source");var N=this.source.$textarea.val();N=this.paragraphize.load(N);
N=this.source.setCaretOnHide(N);N=N.replace('&amp;<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>','<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>&amp;');this.code.start(N);this.button.enableAll();this.core.editor().show().focus();this.selection.restore();this.placeholder.enable();this.core.callback("visual")},show:function(){this.selection.save();this.source.setCaretOnShow();var N=this.core.editor().height(),W=this.code.get();W=this.core.callback("source",
W);this.core.editor().hide();this.button.disableAll("html");this.source.$textarea.val(W).height(N).addClass("open").show();this.source.$textarea.on("keyup.redactor-source",d.proxy(function(){"textarea"===this.opts.type&&this.core.textarea().val(this.source.$textarea.val())},this));this.marker.remove();d(window).scrollTop(scroll);this.source.$textarea[0].setSelectionRange&&this.source.$textarea[0].setSelectionRange(this.source.start,this.source.end);this.source.$textarea[0].scrollTop=0;setTimeout(d.proxy(function(){this.source.$textarea.focus()},
this),0)},enlargeOffset:function(N,W){var a=N.length,f=0;if(">"===N[W])f++;else for(var g=W;g<=a&&(f++,">"!==N[g]);g++)if("<"===N[g]||g===a){f=0;break}return W+f}}}})(jQuery);
(function(d){d.Redactor.prototype.table=function(){return{langs:{en:{table:"Table","insert-table":"Insert table","insert-row-above":"Insert row above","insert-row-below":"Insert row below","insert-column-left":"Insert column left","insert-column-right":"Insert column right","add-head":"Add head","delete-head":"Delete head","delete-column":"Delete column","delete-row":"Delete row","delete-table":"Delete table"}},init:function(){var N={};N.insert_table={title:this.lang.get("insert-table"),func:this.table.insert,
observe:{element:"table",in:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};N.insert_row_above={title:this.lang.get("insert-row-above"),func:this.table.addRowAbove,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};N.insert_row_below={title:this.lang.get("insert-row-below"),func:this.table.addRowBelow,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};N.insert_column_left={title:this.lang.get("insert-column-left"),
func:this.table.addColumnLeft,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};N.insert_column_right={title:this.lang.get("insert-column-right"),func:this.table.addColumnRight,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};N.add_head={title:this.lang.get("add-head"),func:this.table.addHead,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};N.delete_head=
{title:this.lang.get("delete-head"),func:this.table.deleteHead,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};N.delete_column={title:this.lang.get("delete-column"),func:this.table.deleteColumn,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};N.delete_row={title:this.lang.get("delete-row"),func:this.table.deleteRow,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};
N.delete_table={title:this.lang.get("delete-table"),func:this.table.deleteTable,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};var W=this.button.addBefore("link","table",this.lang.get("table"));this.button.setIcon(W,'<i class="re-icon-table"></i>');this.button.addDropdown(W,N)},insert:function(){if(!this.table.getTable()){this.placeholder.hide();for(var N=d("<div>"),W=d("<table />"),a=0;2>a;a++){for(var f=d("<tr>"),g=0;3>g;g++){var h=d("<td>"+this.opts.invisibleSpace+
"</td>");0===a&&0===g&&h.append(this.marker.get());d(f).append(h)}W.append(f)}N.append(W);N=N.html();this.buffer.set();a=this.selection.current();0!==d(a).closest("li",this.core.editor()[0]).length?d(a).closest("ul, ol").first().after(N):(this.air.collapsed(),this.insert.html(N));this.selection.restore();this.core.callback("insertedTable",W)}},getTable:function(){var N=d(this.selection.current()).closest("table");return!!this.utils.isRedactorParent(N)&&0!==N.length&&N},restoreAfterDelete:function(N){this.selection.restore();
N.find("span.redactor-selection-marker").remove()},deleteTable:function(){var N=this.table.getTable();if(N){this.buffer.set();var W=N.next();this.opts.linebreaks||0===W.length?this.caret.after(N):this.caret.start(W);N.remove()}},deleteRow:function(){var N=this.table.getTable();if(N){var W=d(this.selection.current());this.buffer.set();W=W.closest("tr");var a=W.prev().length?W.prev():W.next();a.length&&(a=a.children("td, th").first(),a.length&&a.prepend(this.marker.get()));W.remove();this.table.restoreAfterDelete(N)}},
deleteColumn:function(){var N=this.table.getTable();if(N){this.buffer.set();var W=d(this.selection.current()).closest("td, th")[0].cellIndex;N.find("tr").each(d.proxy(function(a,f){f=d(f);var g=0>W-1?W+1:W-1;0===a&&f.find("td, th").eq(g).prepend(this.marker.get());f.find("td, th").eq(W).remove()},this));this.table.restoreAfterDelete(N)}},addHead:function(){var N=this.table.getTable();if(N){if(this.buffer.set(),0!==N.find("thead").length)return void this.table.deleteHead();var W=N.find("tr").first().clone();
W.find("td").replaceWith(d.proxy(function(){return d("<th>").html(this.opts.invisibleSpace)},this));$thead=d("<thead></thead>").append(W);N.prepend($thead)}},deleteHead:function(){var N=this.table.getTable();N&&(N=N.find("thead"),0!==N.length&&(this.buffer.set(),N.remove()))},addRowAbove:function(){this.table.addRow("before")},addRowBelow:function(){this.table.addRow("after")},addColumnLeft:function(){this.table.addColumn("before")},addColumnRight:function(){this.table.addColumn("after")},addRow:function(N){if(this.table.getTable()){this.buffer.set();
var W=d(this.selection.current()).closest("tr"),a=W.clone();a.find("th").replaceWith(function(){var f=d("<td>");return f[0].attributes=this.attributes,f.append(d(this).contents())});a.find("td").html(this.opts.invisibleSpace);"after"===N?W.after(a):W.before(a)}},addColumn:function(N){var W=this.table.getTable();if(W){var a=0,f=d(this.selection.current());this.buffer.set();var g=f.closest("tr"),h=f.closest("td, th");g.find("td, th").each(d.proxy(function(e,l){d(l)[0]===h[0]&&(a=e)},this));W.find("tr").each(d.proxy(function(e,
l){e=d(l).find("td, th").eq(a);l=e.clone();l.html(this.opts.invisibleSpace);"after"===N?e.after(l):e.before(l)},this))}}}}})(jQuery);
(function(d){d.Redactor.prototype.video=function(){return{reUrlYoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,reIframeYoutube:/.*src="https?:\/\/(www\.)?youtube.com\/embed\/(\w+).*/,reUrlVimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,reUrlVimeoChannel:/https?:\/\/(www\.)?vimeo.com\/channels\/.*\/(\d+)($|\/)/,reIframeVimeo:/.*src="https?:\/\/(www\.)?player.vimeo.com\/video\/(\d+).*/,langs:{en:{video:"Video",
"video-html-code":"Video Embed Code or Youtube/Vimeo Link"}},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-video-insert"><section><label>'+this.lang.get("video-html-code")+'</label><textarea id="redactor-insert-video-area" style="height: 160px;"></textarea></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"},init:function(){var N=
this.button.addAfter("image","video",this.lang.get("video"));this.button.setIcon(N,'<i class="re-icon-video"></i>');this.button.addCallback(N,this.video.show)},show:function(){this.modal.addTemplate("video",this.video.getTemplate());this.modal.load("video",this.lang.get("video"),700);this.modal.getActionButton().text(this.lang.get("insert")).on("click",this.video.insert);this.modal.show();this.detect.isDesktop()&&setTimeout(function(){d("#redactor-insert-video-area").focus()},1)},insert:function(){var N=
d("#redactor-insert-video-area").val(),W=N.match(/<iframe|<video|http/gi);if(W&&0!==W.length){var a=["iframe","video"];N=N.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(f,g){return-1===a.indexOf(g.toLowerCase())?"":f});this.opts.videoContainerClass=void 0===this.opts.videoContainerClass?"video-container":this.opts.videoContainerClass;W='<div class="'+this.opts.videoContainerClass+'"><iframe style="width: 500px; height: 281px;" src="';N=N.match(this.video.reUrlYoutube)?N.replace(this.video.reUrlYoutube,
W+'//www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe></div>'):N.match(this.video.reIframeYoutube)?N.replace(this.video.reIframeYoutube,W+'//www.youtube.com/embed/$2" frameborder="0" allowfullscreen></iframe></div>'):N.match(this.video.reUrlVimeo)?N.replace(this.video.reUrlVimeo,W+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):N.match(this.video.reUrlVimeoChannel)?N.replace(this.video.reUrlVimeoChannel,W+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):
N.match(this.video.reIframeVimeo)?N.replace(this.video.reIframeVimeo,W+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):'<div class="'+this.opts.videoContainerClass+'">'+N+"</div>"}this.modal.close();this.placeholder.hide();this.buffer.set();this.air.collapsed();this.insert.html(N)}}}})(jQuery);(function(){var d=function(){return this}();!d&&"undefined"!=typeof window&&(d=window);if("undefined"==typeof requirejs){var N=function(h,e,l){"string"!=typeof h?N.original?N.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()):(2==arguments.length&&(l=e),N.modules[h]||(N.payloads[h]=l,N.modules[h]=null))};N.modules={};N.payloads={};var W=function(h,e,l){if("string"==typeof e){if(h=g(h,e),void 0!=h)return l&&l(),h}else if("[object Array]"===
Object.prototype.toString.call(e)){for(var p=[],u=0,c=e.length;u<c;++u){var m=g(h,e[u]);if(void 0==m&&a.original)return;p.push(m)}return l&&l.apply(null,p)||!0}},a=function(h,e){var l=W("",h,e);return void 0==l&&a.original?a.original.apply(this,arguments):l},f=function(h,e){if(-1!==e.indexOf("!"))return e=e.split("!"),f(h,e[0])+"!"+f(h,e[1]);if("."==e.charAt(0))for(e=h.split("/").slice(0,-1).join("/")+"/"+e;-1!==e.indexOf(".")&&l!=e;){var l=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return e},
g=function(h,e){e=f(h,e);h=N.modules[e];if(!h){h=N.payloads[e];if("function"==typeof h){var l={},p={id:e,uri:"",exports:l,packaged:!0};l=h(function(u,c){return W(e,u,c)},l,p)||p.exports;N.modules[e]=l;delete N.payloads[e]}h=N.modules[e]=l||h}return h};(function(h){var e=d;h&&(d[h]||(d[h]={}),e=d[h]);e.define&&e.define.packaged||(N.original=e.define,e.define=N,e.define.packaged=!0);e.require&&e.require.packaged||(a.original=e.require,e.require=a,e.require.packaged=!0)})("")}})();
define("ace/lib/regexp",["require","exports","module"],function(d,N,W){function a(p,u,c){if(Array.prototype.indexOf)return p.indexOf(u,c);for(c=c||0;c<p.length;c++)if(p[c]===u)return c;return-1}var f=RegExp.prototype.exec,g=RegExp.prototype.test,h=String.prototype.replace,e=void 0===f.call(/()??/,"")[1],l=function(){var p=/^/g;return g.call(p,""),!p.lastIndex}();l&&e||(RegExp.prototype.exec=function(p){var u=f.apply(this,arguments),c;if("string"==typeof p&&u){!e&&1<u.length&&-1<a(u,"")&&(c=RegExp(this.source,
h.call((this.global?"g":"")+(this.ignoreCase?"i":"")+(this.multiline?"m":"")+(this.extended?"x":"")+(this.sticky?"y":""),"g","")),h.call(p.slice(u.index),c,function(){for(var n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(u[n]=void 0)}));if(this._xregexp&&this._xregexp.captureNames)for(var m=1;m<u.length;m++)(c=this._xregexp.captureNames[m-1])&&(u[c]=u[m]);!l&&this.global&&!u[0].length&&this.lastIndex>u.index&&this.lastIndex--}return u},l||(RegExp.prototype.test=function(p){p=f.call(this,p);
return p&&this.global&&!p[0].length&&this.lastIndex>p.index&&this.lastIndex--,!!p}))});
define("ace/lib/es5-shim",["require","exports","module"],function(d,N,W){function a(){}function f(R){try{return Object.defineProperty(R,"sentinel",{}),"sentinel"in R}catch(ca){}}function g(R){return R=+R,R!==R?R=0:0!==R&&R!==1/0&&R!==-1/0&&(R=(0<R||-1)*Math.floor(Math.abs(R))),R}Function.prototype.bind||(Function.prototype.bind=function(R){var ca=this;if("function"!=typeof ca)throw new TypeError("Function.prototype.bind called on incompatible "+ca);var ha=e.call(arguments,1),ra=function(){if(this instanceof
ra){var Ia=ca.apply(this,ha.concat(e.call(arguments)));return Object(Ia)===Ia?Ia:this}return ca.apply(R,ha.concat(e.call(arguments)))};return ca.prototype&&(a.prototype=ca.prototype,ra.prototype=new a,a.prototype=null),ra});d=Function.prototype.call;var h=Object.prototype,e=Array.prototype.slice,l=d.bind(h.toString),p=d.bind(h.hasOwnProperty),u;if(u=p(h,"__defineGetter__")){var c=d.bind(h.__defineGetter__);var m=d.bind(h.__defineSetter__);var n=d.bind(h.__lookupGetter__);var w=d.bind(h.__lookupSetter__)}if(2!=
[1,2].splice(0).length)if(function(){function R(ra){ra=Array(ra+2);return ra[0]=ra[1]=0,ra}var ca=[];ca.splice.apply(ca,R(20));ca.splice.apply(ca,R(26));var ha=ca.length;ca.splice(5,0,"XXX");ha+1==ca.length;if(ha+1==ca.length)return!0}()){var z=Array.prototype.splice;Array.prototype.splice=function(R,ca){return arguments.length?z.apply(this,[void 0===R?0:R,void 0===ca?this.length-R:ca].concat(e.call(arguments,2))):[]}}else Array.prototype.splice=function(R,ca){var ha=this.length;0<R?R>ha&&(R=ha):
void 0==R?R=0:0>R&&(R=Math.max(ha+R,0));R+ca<ha||(ca=ha-R);var ra=this.slice(R,R+ca),Ia=e.call(arguments,2),ja=Ia.length;if(R===ha)ja&&this.push.apply(this,Ia);else{var ma=Math.min(ca,ha-R),Aa=R+ma,Da=Aa+ja-ma,Fa=ha-Aa;ha-=ma;if(Da<Aa)for(ma=0;ma<Fa;++ma)this[Da+ma]=this[Aa+ma];else if(Da>Aa)for(ma=Fa;ma--;)this[Da+ma]=this[Aa+ma];if(ja&&R===ha)this.length=ha,this.push.apply(this,Ia);else for(this.length=ha+ja,ma=0;ma<ja;++ma)this[R+ma]=Ia[ma]}return ra};Array.isArray||(Array.isArray=function(R){return"[object Array]"==
l(R)});d=Object("a");var x="a"!=d[0]||!(0 in d);Array.prototype.forEach||(Array.prototype.forEach=function(R,ca){var ha=S(this),ra=x&&"[object String]"==l(this)?this.split(""):ha,Ia=-1,ja=ra.length>>>0;if("[object Function]"!=l(R))throw new TypeError;for(;++Ia<ja;)Ia in ra&&R.call(ca,ra[Ia],Ia,ha)});Array.prototype.map||(Array.prototype.map=function(R,ca){var ha=S(this),ra=x&&"[object String]"==l(this)?this.split(""):ha,Ia=ra.length>>>0,ja=Array(Ia);if("[object Function]"!=l(R))throw new TypeError(R+
" is not a function");for(var ma=0;ma<Ia;ma++)ma in ra&&(ja[ma]=R.call(ca,ra[ma],ma,ha));return ja});Array.prototype.filter||(Array.prototype.filter=function(R,ca){var ha=S(this),ra=x&&"[object String]"==l(this)?this.split(""):ha,Ia=ra.length>>>0,ja=[],ma;if("[object Function]"!=l(R))throw new TypeError(R+" is not a function");for(var Aa=0;Aa<Ia;Aa++)Aa in ra&&(ma=ra[Aa],R.call(ca,ma,Aa,ha)&&ja.push(ma));return ja});Array.prototype.every||(Array.prototype.every=function(R,ca){var ha=S(this),ra=x&&
"[object String]"==l(this)?this.split(""):ha,Ia=ra.length>>>0;if("[object Function]"!=l(R))throw new TypeError(R+" is not a function");for(var ja=0;ja<Ia;ja++)if(ja in ra&&!R.call(ca,ra[ja],ja,ha))return!1;return!0});Array.prototype.some||(Array.prototype.some=function(R,ca){var ha=S(this),ra=x&&"[object String]"==l(this)?this.split(""):ha,Ia=ra.length>>>0;if("[object Function]"!=l(R))throw new TypeError(R+" is not a function");for(var ja=0;ja<Ia;ja++)if(ja in ra&&R.call(ca,ra[ja],ja,ha))return!0;
return!1});Array.prototype.reduce||(Array.prototype.reduce=function(R){var ca=S(this),ha=x&&"[object String]"==l(this)?this.split(""):ca,ra=ha.length>>>0;if("[object Function]"!=l(R))throw new TypeError(R+" is not a function");if(!ra&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var Ia=0;if(2<=arguments.length)var ja=arguments[1];else{do{if(Ia in ha){ja=ha[Ia++];break}if(++Ia>=ra)throw new TypeError("reduce of empty array with no initial value");}while(1)
}for(;Ia<ra;Ia++)Ia in ha&&(ja=R.call(void 0,ja,ha[Ia],Ia,ca));return ja});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(R){var ca=S(this),ha=x&&"[object String]"==l(this)?this.split(""):ca,ra=ha.length>>>0;if("[object Function]"!=l(R))throw new TypeError(R+" is not a function");if(!ra&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");--ra;if(2<=arguments.length)var Ia=arguments[1];else{do{if(ra in ha){Ia=ha[ra--];break}if(0>--ra)throw new TypeError("reduceRight of empty array with no initial value");
}while(1)}do ra in this&&(Ia=R.call(void 0,Ia,ha[ra],ra,ca));while(ra--);return Ia});Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(R){var ca=x&&"[object String]"==l(this)?this.split(""):S(this),ha=ca.length>>>0;if(!ha)return-1;var ra=0;1<arguments.length&&(ra=g(arguments[1]));for(ra=0<=ra?ra:Math.max(0,ha+ra);ra<ha;ra++)if(ra in ca&&ca[ra]===R)return ra;return-1});Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(R){var ca=
x&&"[object String]"==l(this)?this.split(""):S(this),ha=ca.length>>>0;if(!ha)return-1;var ra=ha-1;1<arguments.length&&(ra=Math.min(ra,g(arguments[1])));for(ra=0<=ra?ra:ha-Math.abs(ra);0<=ra;ra--)if(ra in ca&&R===ca[ra])return ra;return-1});Object.getPrototypeOf||(Object.getPrototypeOf=function(R){return R.__proto__||(R.constructor?R.constructor.prototype:h)});Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(R,ca){if("object"!=typeof R&&"function"!=typeof R||null===R)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+
R);if(p(R,ca)){var ha={enumerable:!0,configurable:!0};if(u){var ra=R.__proto__;R.__proto__=h;var Ia=n(R,ca);var ja=w(R,ca);R.__proto__=ra;if(Ia||ja)return Ia&&(ha.get=Ia),ja&&(ha.set=ja),ha}return ha.value=R[ca],ha}});Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(R){return Object.keys(R)});if(!Object.create){var J;null===Object.prototype.__proto__?J=function(){return{__proto__:null}}:J=function(){var R={},ca;for(ca in R)R[ca]=null;return R.constructor=R.hasOwnProperty=R.propertyIsEnumerable=
R.isPrototypeOf=R.toLocaleString=R.toString=R.valueOf=R.__proto__=null,R};Object.create=function(R,ca){if(null===R)var ha=J();else{if("object"!=typeof R)throw new TypeError("typeof prototype["+typeof R+"] != 'object'");ha=function(){};ha.prototype=R;ha=new ha;ha.__proto__=R}return void 0!==ca&&Object.defineProperties(ha,ca),ha}}if(Object.defineProperty&&(d=f({}),N="undefined"==typeof document||f(document.createElement("div")),!d||!N))var v=Object.defineProperty;if(!Object.defineProperty||v)Object.defineProperty=
function(R,ca,ha){if("object"!=typeof R&&"function"!=typeof R||null===R)throw new TypeError("Object.defineProperty called on non-object: "+R);if("object"!=typeof ha&&"function"!=typeof ha||null===ha)throw new TypeError("Property description must be an object: "+ha);if(v)try{return v.call(Object,R,ca,ha)}catch(Ia){}if(p(ha,"value"))if(u&&(n(R,ca)||w(R,ca))){var ra=R.__proto__;R.__proto__=h;delete R[ca];R[ca]=ha.value;R.__proto__=ra}else R[ca]=ha.value;else{if(!u)throw new TypeError("getters & setters can not be defined on this javascript engine");
p(ha,"get")&&c(R,ca,ha.get);p(ha,"set")&&m(R,ca,ha.set)}return R};Object.defineProperties||(Object.defineProperties=function(R,ca){for(var ha in ca)p(ca,ha)&&Object.defineProperty(R,ha,ca[ha]);return R});Object.seal||(Object.seal=function(R){return R});Object.freeze||(Object.freeze=function(R){return R});try{Object.freeze(function(){})}catch(R){Object.freeze=function(ca){return function(ha){return"function"==typeof ha?ha:ca(ha)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=
function(R){return R});Object.isSealed||(Object.isSealed=function(R){return!1});Object.isFrozen||(Object.isFrozen=function(R){return!1});Object.isExtensible||(Object.isExtensible=function(R){if(Object(R)===R)throw new TypeError;for(var ca="";p(R,ca);)ca+="?";R[ca]=!0;var ha=p(R,ca);return delete R[ca],ha});if(!Object.keys){var K=!0,D="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),M=D.length;for(Q in{toString:null})K=!1;Object.keys=function(R){if("object"!=
typeof R&&"function"!=typeof R||null===R)throw new TypeError("Object.keys called on a non-object");var ca=[],ha;for(ha in R)p(R,ha)&&ca.push(ha);if(K)for(ha=0;ha<M;ha++){var ra=D[ha];p(R,ra)&&ca.push(ra)}return ca}}Date.now||(Date.now=function(){return(new Date).getTime()});var Q="\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||Q.trim()){Q="["+Q+"]";var G=new RegExp("^"+Q+Q+"*"),T=new RegExp(Q+
Q+"*$");String.prototype.trim=function(){return String(this).replace(G,"").replace(T,"")}}var S=function(R){if(null==R)throw new TypeError("can't convert "+R+" to object");return Object(R)}});define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(d,N,W){d("./regexp");d("./es5-shim")});
define("ace/lib/dom",["require","exports","module"],function(d,N,W){N.getDocumentHead=function(a){return a||(a=document),a.head||a.getElementsByTagName("head")[0]||a.documentElement};N.createElement=function(a,f){return document.createElementNS?document.createElementNS(f||"http://www.w3.org/1999/xhtml",a):document.createElement(a)};N.hasCssClass=function(a,f){return-1!==(a.className+"").split(/\s+/g).indexOf(f)};N.addCssClass=function(a,f){N.hasCssClass(a,f)||(a.className+=" "+f)};N.removeCssClass=
function(a,f){for(var g=a.className.split(/\s+/g);;){var h=g.indexOf(f);if(-1==h)break;g.splice(h,1)}a.className=g.join(" ")};N.toggleCssClass=function(a,f){for(var g=a.className.split(/\s+/g),h=!0;;){var e=g.indexOf(f);if(-1==e)break;h=!1;g.splice(e,1)}return h&&g.push(f),a.className=g.join(" "),h};N.setCssClass=function(a,f,g){g?N.addCssClass(a,f):N.removeCssClass(a,f)};N.hasCssString=function(a,f){var g=0,h;f=f||document;if(f.createStyleSheet&&(h=f.styleSheets))for(;g<h.length;){if(h[g++].owningElement.id===
a)return!0}else if(h=f.getElementsByTagName("style"))for(;g<h.length;)if(h[g++].id===a)return!0;return!1};N.importCssString=function(a,f,g){g=g||document;if(f&&N.hasCssString(f,g))return null;var h;f&&(a+="\n/*# sourceURL=ace/css/"+f+" */");g.createStyleSheet?(h=g.createStyleSheet(),h.cssText=a,f&&(h.owningElement.id=f)):(h=N.createElement("style"),h.appendChild(g.createTextNode(a)),f&&(h.id=f),N.getDocumentHead(g).appendChild(h))};N.importCssStylsheet=function(a,f){if(f.createStyleSheet)f.createStyleSheet(a);
else{var g=N.createElement("link");g.rel="stylesheet";g.href=a;N.getDocumentHead(f).appendChild(g)}};N.getInnerWidth=function(a){return parseInt(N.computedStyle(a,"paddingLeft"),10)+parseInt(N.computedStyle(a,"paddingRight"),10)+a.clientWidth};N.getInnerHeight=function(a){return parseInt(N.computedStyle(a,"paddingTop"),10)+parseInt(N.computedStyle(a,"paddingBottom"),10)+a.clientHeight};N.scrollbarWidth=function(a){var f=N.createElement("ace_inner");f.style.width="100%";f.style.minWidth="0px";f.style.height=
"200px";f.style.display="block";var g=N.createElement("ace_outer"),h=g.style;h.position="absolute";h.left="-10000px";h.overflow="hidden";h.width="200px";h.minWidth="0px";h.height="150px";h.display="block";g.appendChild(f);a=a.documentElement;a.appendChild(g);var e=f.offsetWidth;h.overflow="scroll";f=f.offsetWidth;return e==f&&(f=g.clientWidth),a.removeChild(g),e-f};"undefined"==typeof document?N.importCssString=function(){}:(void 0!==window.pageYOffset?(N.getPageScrollTop=function(){return window.pageYOffset},
N.getPageScrollLeft=function(){return window.pageXOffset}):(N.getPageScrollTop=function(){return document.body.scrollTop},N.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?N.computedStyle=function(a,f){return f?(window.getComputedStyle(a,"")||{})[f]||"":window.getComputedStyle(a,"")||{}}:N.computedStyle=function(a,f){return f?a.currentStyle[f]:a.currentStyle},N.setInnerHtml=function(a,f){var g=a.cloneNode(!1);return g.innerHTML=f,a.parentNode.replaceChild(g,
a),g},"textContent"in document.documentElement?(N.setInnerText=function(a,f){a.textContent=f},N.getInnerText=function(a){return a.textContent}):(N.setInnerText=function(a,f){a.innerText=f},N.getInnerText=function(a){return a.innerText}),N.getParentWindow=function(a){return a.defaultView||a.parentWindow})});
define("ace/lib/oop",["require","exports","module"],function(d,N,W){N.inherits=function(a,f){a.super_=f;a.prototype=Object.create(f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};N.mixin=function(a,f){for(var g in f)a[g]=f[g];return a};N.implement=function(a,f){N.mixin(a,f)}});
define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(d,N,W){d("./fixoldbrowsers");var a=d("./oop"),f=function(){var g={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",
97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",
81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},h;for(h in g.FUNCTION_KEYS){var e=g.FUNCTION_KEYS[h].toLowerCase();g[e]=parseInt(h,10)}for(h in g.PRINTABLE_KEYS)e=g.PRINTABLE_KEYS[h].toLowerCase(),g[e]=parseInt(h,10);return a.mixin(g,g.MODIFIER_KEYS),a.mixin(g,g.PRINTABLE_KEYS),a.mixin(g,g.FUNCTION_KEYS),g.enter=g["return"],g.escape=g.esc,g.del=g["delete"],
g[173]="-",function(){for(var l=["cmd","ctrl","alt","shift"],p=Math.pow(2,l.length);p--;)g.KEY_MODS[p]=l.filter(function(u){return p&g.KEY_MODS[u]}).join("-")+"-"}(),g.KEY_MODS[0]="",g.KEY_MODS[-1]="input-",g}();a.mixin(N,f);N.keyCodeToString=function(g){var h=f[g];return"string"!=typeof h&&(h=String.fromCharCode(g)),h.toLowerCase()}});
define("ace/lib/useragent",["require","exports","module"],function(d,N,W){N.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};N.getOS=function(){return N.isMac?N.OS.MAC:N.isLinux?N.OS.LINUX:N.OS.WINDOWS};"object"==typeof navigator&&(d=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),W=navigator.userAgent,N.isWin="win"==d,N.isMac="mac"==d,N.isLinux="linux"==d,N.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((W.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||
[])[1]):parseFloat((W.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),N.isOldIE=N.isIE&&9>N.isIE,N.isGecko=N.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,N.isOldGecko=N.isGecko&&4>parseInt((W.match(/rv:(\d+)/)||[])[1],10),N.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),N.isWebKit=parseFloat(W.split("WebKit/")[1])||void 0,N.isChrome=parseFloat(W.split(" Chrome/")[1])||void 0,N.isAIR=0<=W.indexOf("AdobeAIR"),
N.isIPad=0<=W.indexOf("iPad"),N.isChromeOS=0<=W.indexOf(" CrOS "),N.isIOS=/iPad|iPhone|iPod/.test(W)&&!window.MSStream,N.isIOS&&(N.isMac=!0))});
define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(d,N,W){function a(u,c,m){var n=p(c);if(!h.isMac&&e){c.getModifierState&&(c.getModifierState("OS")||c.getModifierState("Win"))&&(n|=8);if(e.altGr){if(3==(3&n))return;e.altGr=0}if(18===m||17===m){var w="location"in c?c.location:c.keyLocation;17===m&&1===w?1==e[m]&&(l=c.timeStamp):18===m&&3===n&&2===w&&50>c.timeStamp-l&&(e.altGr=!0)}}m in g.MODIFIER_KEYS&&(m=-1);n&8&&91<=m&&93>=m&&(m=-1);if(!n&&13===m&&
(w="location"in c?c.location:c.keyLocation,3===w&&(u(c,n,-m),c.defaultPrevented)))return;if(h.isChromeOS&&n&8){u(c,n,m);if(c.defaultPrevented)return;n&=-9}return n||m in g.FUNCTION_KEYS||m in g.PRINTABLE_KEYS?u(c,n,m):!1}function f(){e=Object.create(null)}var g=d("./keys"),h=d("./useragent"),e=null,l=0;N.addListener=function(u,c,m){if(u.addEventListener)return u.addEventListener(c,m,!1);if(u.attachEvent){var n=function(){m.call(u,window.event)};m._wrapper=n;u.attachEvent("on"+c,n)}};N.removeListener=
function(u,c,m){if(u.removeEventListener)return u.removeEventListener(c,m,!1);u.detachEvent&&u.detachEvent("on"+c,m._wrapper||m)};N.stopEvent=function(u){return N.stopPropagation(u),N.preventDefault(u),!1};N.stopPropagation=function(u){u.stopPropagation?u.stopPropagation():u.cancelBubble=!0};N.preventDefault=function(u){u.preventDefault?u.preventDefault():u.returnValue=!1};N.getButton=function(u){return"dblclick"==u.type?0:"contextmenu"==u.type||h.isMac&&u.ctrlKey&&!u.altKey&&!u.shiftKey?2:u.preventDefault?
u.button:{1:0,2:2,4:1}[u.button]};N.capture=function(u,c,m){function n(w){c&&c(w);m&&m(w);N.removeListener(document,"mousemove",c,!0);N.removeListener(document,"mouseup",n,!0);N.removeListener(document,"dragstart",n,!0)}return N.addListener(document,"mousemove",c,!0),N.addListener(document,"mouseup",n,!0),N.addListener(document,"dragstart",n,!0),n};N.addTouchMoveListener=function(u,c){var m,n;N.addListener(u,"touchstart",function(w){w=w.touches[0];m=w.clientX;n=w.clientY});N.addListener(u,"touchmove",
function(w){var z=w.touches;1<z.length||(z=z[0],w.wheelX=m-z.clientX,w.wheelY=n-z.clientY,m=z.clientX,n=z.clientY,c(w))})};N.addMouseWheelListener=function(u,c){"onmousewheel"in u?N.addListener(u,"mousewheel",function(m){void 0!==m.wheelDeltaX?(m.wheelX=-m.wheelDeltaX/8,m.wheelY=-m.wheelDeltaY/8):(m.wheelX=0,m.wheelY=-m.wheelDelta/8);c(m)}):"onwheel"in u?N.addListener(u,"wheel",function(m){switch(m.deltaMode){case m.DOM_DELTA_PIXEL:m.wheelX=.35*m.deltaX||0;m.wheelY=.35*m.deltaY||0;break;case m.DOM_DELTA_LINE:case m.DOM_DELTA_PAGE:m.wheelX=
5*(m.deltaX||0),m.wheelY=5*(m.deltaY||0)}c(m)}):N.addListener(u,"DOMMouseScroll",function(m){m.axis&&m.axis==m.HORIZONTAL_AXIS?(m.wheelX=5*(m.detail||0),m.wheelY=0):(m.wheelX=0,m.wheelY=5*(m.detail||0));c(m)})};N.addMultiMouseDownListener=function(u,c,m,n){function w(M){0!==N.getButton(M)?x=0:1<M.detail?(x++,4<x&&(x=1)):x=1;if(h.isIE){var Q=5<Math.abs(M.clientX-J)||5<Math.abs(M.clientY-v);if(!K||Q)x=1;K&&clearTimeout(K);K=setTimeout(function(){K=null},c[x-1]||600);1==x&&(J=M.clientX,v=M.clientY)}M._clicks=
x;m[n]("mousedown",M);if(4<x)x=0;else if(1<x)return m[n](D[x],M)}function z(M){x=2;K&&clearTimeout(K);K=setTimeout(function(){K=null},c[x-1]||600);m[n]("mousedown",M);m[n](D[x],M)}var x=0,J,v,K,D={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(u)||(u=[u]);u.forEach(function(M){N.addListener(M,"mousedown",w);h.isOldIE&&N.addListener(M,"dblclick",z)})};var p=!h.isMac||!h.isOpera||"KeyboardEvent"in window?function(u){return 0|(u.ctrlKey?1:0)|(u.altKey?2:0)|(u.shiftKey?4:0)|(u.metaKey?8:0)}:
function(u){return 0|(u.metaKey?1:0)|(u.altKey?2:0)|(u.shiftKey?4:0)|(u.ctrlKey?8:0)};N.getModifierString=function(u){return g.KEY_MODS[p(u)]};N.addCommandKeyListener=function(u,c){var m=N.addListener;if(h.isOldGecko||h.isOpera&&!("KeyboardEvent"in window)){var n=null;m(u,"keydown",function(z){n=z.keyCode});m(u,"keypress",function(z){return a(c,z,n)})}else{var w=null;m(u,"keydown",function(z){e[z.keyCode]=(e[z.keyCode]||0)+1;var x=a(c,z,z.keyCode);return w=z.defaultPrevented,x});m(u,"keypress",function(z){w&&
(z.ctrlKey||z.altKey||z.shiftKey||z.metaKey)&&(N.stopEvent(z),w=null)});m(u,"keyup",function(z){e[z.keyCode]=null});e||(f(),m(window,"focus",f))}};"object"==typeof window&&window.postMessage&&!h.isOldIE&&(N.nextTick=function(u,c){c=c||window;N.addListener(c,"message",function w(n){"zero-timeout-message-1"==n.data&&(N.stopPropagation(n),N.removeListener(c,"message",w),u())});c.postMessage("zero-timeout-message-1","*")});N.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);N.nextFrame?N.nextFrame=N.nextFrame.bind(window):N.nextFrame=function(u){setTimeout(u,17)}});
define("ace/lib/lang",["require","exports","module"],function(d,N,W){N.last=function(g){return g[g.length-1]};N.stringReverse=function(g){return g.split("").reverse().join("")};N.stringRepeat=function(g,h){for(var e="";0<h;)if(h&1&&(e+=g),h>>=1)g+=g;return e};var a=/^\s\s*/,f=/\s\s*$/;N.stringTrimLeft=function(g){return g.replace(a,"")};N.stringTrimRight=function(g){return g.replace(f,"")};N.copyObject=function(g){var h={},e;for(e in g)h[e]=g[e];return h};N.copyArray=function(g){for(var h=[],e=0,
l=g.length;e<l;e++)g[e]&&"object"==typeof g[e]?h[e]=this.copyObject(g[e]):h[e]=g[e];return h};N.deepCopy=function e(h){if("object"!=typeof h||!h)return h;if(Array.isArray(h)){var l=[];for(var p=0;p<h.length;p++)l[p]=e(h[p]);return l}if("[object Object]"!==Object.prototype.toString.call(h))return h;l={};for(p in h)l[p]=e(h[p]);return l};N.arrayToMap=function(h){for(var e={},l=0;l<h.length;l++)e[h[l]]=1;return e};N.createMap=function(h){var e=Object.create(null),l;for(l in h)e[l]=h[l];return e};N.arrayRemove=
function(h,e){for(var l=0;l<=h.length;l++)e===h[l]&&h.splice(l,1)};N.escapeRegExp=function(h){return h.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};N.escapeHTML=function(h){return h.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};N.getMatchOffsets=function(h,e){var l=[];return h.replace(e,function(p){l.push({offset:arguments[arguments.length-2],length:p.length})}),l};N.deferredCall=function(h){var e=null,l=function(){e=null;h()},p=function(u){return p.cancel(),
e=setTimeout(l,u||0),p};return p.schedule=p,p.call=function(){return this.cancel(),h(),p},p.cancel=function(){return clearTimeout(e),e=null,p},p.isPending=function(){return e},p};N.delayedCall=function(h,e){var l=null,p=function(){l=null;h()},u=function(c){null==l&&(l=setTimeout(p,c||e))};return u.delay=function(c){l&&clearTimeout(l);l=setTimeout(p,c||e)},u.schedule=u,u.call=function(){this.cancel();h()},u.cancel=function(){l&&clearTimeout(l);l=null},u.isPending=function(){return l},u}});
define("ace/keyboard/textinput_ios","require exports module ace/lib/event ace/lib/useragent ace/lib/dom ace/lib/lang ace/lib/keys".split(" "),function(d,N,W){var a=d("../lib/event"),f=d("../lib/useragent"),g=d("../lib/dom"),h=d("../lib/lang"),e=d("../lib/keys"),l=e.KEY_MODS,p=18>f.isChrome,u=f.isIE;N.TextInput=function(c,m){function n(Ba){if(!M){M=!0;if(ca)Sa=0,Ba=Ba?0:x.value.length-1;else{var Sa=4;Ba=5}try{x.setSelectionRange(Sa,Ba)}catch(cb){}M=!1}}function w(){M||(x.value=J,f.isWebKit&&R.schedule())}
function z(){clearTimeout(Oa);Oa=setTimeout(function(){Q&&(x.style.cssText=Q,Q="");null==m.renderer.$keepTextAreaAtCursor&&(m.renderer.$keepTextAreaAtCursor=!0,m.renderer.$moveTextAreaToCursor())},0)}var x=g.createElement("textarea");x.className=f.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input";f.isTouchPad&&x.setAttribute("x-palm-disable-auto-cap",!0);x.setAttribute("wrap","off");x.setAttribute("autocorrect","off");x.setAttribute("autocapitalize","off");x.setAttribute("spellcheck",!1);
x.style.opacity="0";c.insertBefore(x,c.firstChild);var J="\n aaaa a\n",v=!1,K=!1,D=!1,M=!1,Q="",G=!0;try{var T=document.activeElement===x}catch(Ba){}a.addListener(x,"blur",function(Ba){m.onBlur(Ba);T=!1});a.addListener(x,"focus",function(Ba){T=!0;m.onFocus(Ba);n()});this.focus=function(){if(Q)return x.focus();x.style.position="fixed";x.focus()};this.blur=function(){x.blur()};this.isFocused=function(){return T};var S=h.delayedCall(function(){T&&n(G)}),R=h.delayedCall(function(){M||(x.value=J,T&&n())});
f.isWebKit||m.addEventListener("changeSelection",function(){m.selection.isEmpty()!=G&&(G=!G,S.schedule())});w();T&&m.onFocus();var ca=null;this.setInputHandler=function(Ba){ca=Ba};this.getInputHandler=function(){return ca};var ha=!1,ra=function(Ba){if(4!==x.selectionStart||5!==x.selectionEnd)ca&&(Ba=ca(Ba),ca=null),D?(n(),Ba&&m.onPaste(Ba),D=!1):Ba==J.substr(0)&&4===x.selectionStart?ha?m.execCommand("del",{source:"ace"}):m.execCommand("backspace",{source:"ace"}):v||(Ba.substring(0,9)==J&&Ba.length>
J.length?Ba=Ba.substr(9):Ba.substr(0,4)==J.substr(0,4)?Ba=Ba.substr(4,Ba.length-J.length+1):Ba.charAt(Ba.length-1)==J.charAt(0)&&(Ba=Ba.slice(0,-1)),Ba!=J.charAt(0)&&Ba.charAt(Ba.length-1)==J.charAt(0)&&(Ba=Ba.slice(0,-1)),Ba&&m.onTextInput(Ba)),v&&(v=!1),ha&&(ha=!1)},Ia=function(Ba){M||(ra(x.value),w())},ja=function(Ba,Sa,cb){if((Ba=Ba.clipboardData||window.clipboardData)&&!p){var $a=u||cb?"Text":"text/plain";try{return Sa?!1!==Ba.setData($a,Sa):Ba.getData($a)}catch(qb){if(!cb)return ja(qb,Sa,!0)}}},
ma=function(Ba,Sa){var cb=m.getCopyText();if(!cb)return a.preventDefault(Ba);ja(Ba,cb)?(f.isIOS&&(K=Sa,x.value="\n aa"+cb+"a a\n",x.setSelectionRange(4,4+cb.length),v={value:cb}),Sa?m.onCut():m.onCopy(),f.isIOS||a.preventDefault(Ba)):(v=!0,x.value=cb,x.select(),setTimeout(function(){v=!1;w();n();Sa?m.onCut():m.onCopy()}))};a.addCommandKeyListener(x,m.onCommandKey.bind(m));a.addListener(x,"select",function(Ba){0===x.selectionStart&&x.selectionEnd===x.value.length?(m.selectAll(),n()):ca&&n(m.selection.isEmpty())});
a.addListener(x,"input",Ia);a.addListener(x,"cut",function(Ba){ma(Ba,!0)});a.addListener(x,"copy",function(Ba){ma(Ba,!1)});a.addListener(x,"paste",function(Ba){var Sa=ja(Ba);"string"==typeof Sa?(Sa&&m.onPaste(Sa,Ba),f.isIE&&setTimeout(n),a.preventDefault(Ba)):(x.value="",D=!0)});var Aa=function(){if(M&&m.onCompositionUpdate&&!m.$readOnly){var Ba=x.value.replace(/\x01/g,"");M.lastValue!==Ba&&(m.onCompositionUpdate(Ba),M.lastValue&&m.undo(),M.canUndo&&(M.lastValue=Ba),M.lastValue&&(Ba=m.selection.getRange(),
m.insert(M.lastValue),m.session.markUndoGroup(),M.range=m.selection.getRange(),m.selection.setRange(Ba),m.selection.clearSelection()))}},Da=function(Ba){if(m.onCompositionEnd&&!m.$readOnly){var Sa=M;M=!1;var cb=setTimeout(function(){cb=null;var $a=x.value.replace(/\x01/g,"");M||($a==Sa.lastValue?w():!Sa.lastValue&&$a&&(w(),ra($a)))});ca=function($a){return cb&&clearTimeout(cb),$a=$a.replace(/\x01/g,""),$a==Sa.lastValue?"":(Sa.lastValue&&cb&&m.undo(),$a)};m.onCompositionEnd();m.removeListener("mousedown",
Da);"compositionend"==Ba.type&&Sa.range&&m.selection.setRange(Sa.range);(f.isChrome&&53<=f.isChrome||f.isWebKit&&603<=f.isWebKit)&&Ia()}},Fa=h.delayedCall(Aa,50);a.addListener(x,"compositionstart",function(Ba){M||!m.onCompositionStart||m.$readOnly||(M={},M.canUndo=m.session.$undoManager,m.onCompositionStart(),setTimeout(Aa,0),m.on("mousedown",Da),M.canUndo&&!m.selection.isEmpty()&&(m.insert(""),m.session.markUndoGroup(),m.selection.clearSelection()),m.session.markUndoGroup())});f.isGecko?a.addListener(x,
"text",function(){Fa.schedule()}):(a.addListener(x,"keyup",function(){Fa.schedule()}),a.addListener(x,"keydown",function(){Fa.schedule()}));a.addListener(x,"compositionend",Da);this.getElement=function(){return x};this.setReadOnly=function(Ba){x.readOnly=Ba};this.onContextMenu=function(Ba){ha=!0;n(m.selection.isEmpty());m._emit("nativecontextmenu",{target:m,domEvent:Ba});this.moveToMouse(Ba,!0)};this.moveToMouse=function(Ba,Sa){Q||(Q=x.style.cssText);x.style.cssText=(Sa?"z-index:100000;":"")+"height:"+
x.style.height+";"+(f.isIE?"opacity:0.1;":"");Sa=m.container.getBoundingClientRect();var cb=g.computedStyle(m.container),$a=Sa.top+(parseInt(cb.borderTopWidth)||0),qb=Sa.left+(parseInt(Sa.borderLeftWidth)||0),Ib=Sa.bottom-$a-x.clientHeight-2;Sa=function(ib){x.style.left=ib.clientX-qb-2+"px";x.style.top=Math.min(ib.clientY-$a-2,Ib)+"px"};Sa(Ba);"mousedown"==Ba.type&&(m.renderer.$keepTextAreaAtCursor&&(m.renderer.$keepTextAreaAtCursor=null),clearTimeout(Oa),f.isWin&&a.capture(m.container,Sa,z))};this.onContextMenuClose=
z;var Oa,Ga=function(Ba){m.textInput.onContextMenu(Ba);z()};a.addListener(x,"mouseup",Ga);a.addListener(x,"mousedown",function(Ba){Ba.preventDefault();z()});a.addListener(m.renderer.scroller,"contextmenu",Ga);a.addListener(x,"contextmenu",Ga);if(f.isIOS){var wa=null,Qa=!1;c.addEventListener("keydown",function(Ba){wa&&clearTimeout(wa);Qa=!0});c.addEventListener("keyup",function(Ba){wa=setTimeout(function(){Qa=!1},100)});var Wa=function(Ba){if(document.activeElement===x&&!Qa){if(K)return setTimeout(function(){K=
!1},100);Ba=x.selectionStart;var Sa=x.selectionEnd;x.setSelectionRange(4,5);if(Ba==Sa)switch(Ba){case 0:m.onCommandKey(null,0,e.up);break;case 1:m.onCommandKey(null,0,e.home);break;case 2:m.onCommandKey(null,l.option,e.left);break;case 4:m.onCommandKey(null,0,e.left);break;case 5:m.onCommandKey(null,0,e.right);break;case 7:m.onCommandKey(null,l.option,e.right);break;case 8:m.onCommandKey(null,0,e.end);break;case 9:m.onCommandKey(null,0,e.down)}else{switch(Sa){case 6:m.onCommandKey(null,l.shift,e.right);
break;case 7:m.onCommandKey(null,l.shift|l.option,e.right);break;case 8:m.onCommandKey(null,l.shift,e.end);break;case 9:m.onCommandKey(null,l.shift,e.down)}switch(Ba){case 0:m.onCommandKey(null,l.shift,e.up);break;case 1:m.onCommandKey(null,l.shift,e.home);break;case 2:m.onCommandKey(null,l.shift|l.option,e.left);break;case 3:m.onCommandKey(null,l.shift,e.left)}}}};document.addEventListener("selectionchange",Wa);m.on("destroy",function(){document.removeEventListener("selectionchange",Wa)})}}});
define("ace/keyboard/textinput","require exports module ace/lib/event ace/lib/useragent ace/lib/dom ace/lib/lang ace/keyboard/textinput_ios".split(" "),function(d,N,W){var a=d("../lib/event"),f=d("../lib/useragent"),g=d("../lib/dom"),h=d("../lib/lang"),e=18>f.isChrome,l=f.isIE,p=d("./textinput_ios").TextInput;N.TextInput=function(u,c){function m(wa){if(!K){K=!0;if(S){var Qa=0;wa=wa?0:z.value.length-1}else Qa=wa?2:1,wa=2;try{z.setSelectionRange(Qa,wa)}catch(Wa){}K=!1}}function n(){K||(z.value=x,f.isWebKit&&
T.schedule())}function w(){clearTimeout(Ga);Ga=setTimeout(function(){D&&(z.style.cssText=D,D="");null==c.renderer.$keepTextAreaAtCursor&&(c.renderer.$keepTextAreaAtCursor=!0,c.renderer.$moveTextAreaToCursor())},0)}if(f.isIOS)return p.call(this,u,c);var z=g.createElement("textarea");z.className="ace_text-input";z.setAttribute("wrap","off");z.setAttribute("autocorrect","off");z.setAttribute("autocapitalize","off");z.setAttribute("spellcheck",!1);z.style.opacity="0";u.insertBefore(z,u.firstChild);var x=
"\u2028\u2028",J=!1,v=!1,K=!1,D="",M=!0;try{var Q=document.activeElement===z}catch(wa){}a.addListener(z,"blur",function(wa){c.onBlur(wa);Q=!1});a.addListener(z,"focus",function(wa){Q=!0;c.onFocus(wa);m()});this.focus=function(){if(D)return z.focus();var wa=z.style.top;z.style.position="fixed";z.style.top="0px";z.focus();setTimeout(function(){z.style.position="";"0px"==z.style.top&&(z.style.top=wa)},0)};this.blur=function(){z.blur()};this.isFocused=function(){return Q};var G=h.delayedCall(function(){Q&&
m(M)}),T=h.delayedCall(function(){K||(z.value=x,Q&&m())});f.isWebKit||c.addEventListener("changeSelection",function(){c.selection.isEmpty()!=M&&(M=!M,G.schedule())});n();Q&&c.onFocus();var S=null;this.setInputHandler=function(wa){S=wa};this.getInputHandler=function(){return S};var R=!1,ca=function(wa){S&&(wa=S(wa),S=null);v?(m(),wa&&c.onPaste(wa),v=!1):wa==x.charAt(0)?R?c.execCommand("del",{source:"ace"}):c.execCommand("backspace",{source:"ace"}):(wa.substring(0,2)==x?wa=wa.substr(2):wa.charAt(0)==
x.charAt(0)?wa=wa.substr(1):wa.charAt(wa.length-1)==x.charAt(0)&&(wa=wa.slice(0,-1)),wa.charAt(wa.length-1)==x.charAt(0)&&(wa=wa.slice(0,-1)),wa&&c.onTextInput(wa));R&&(R=!1)},ha=function(wa){K||(ca(z.value),n())},ra=function(wa,Qa,Wa){if((wa=wa.clipboardData||window.clipboardData)&&!e){var Ba=l||Wa?"Text":"text/plain";try{return Qa?!1!==wa.setData(Ba,Qa):wa.getData(Ba)}catch(Sa){if(!Wa)return ra(Sa,Qa,!0)}}},Ia=function(wa,Qa){var Wa=c.getCopyText();if(!Wa)return a.preventDefault(wa);ra(wa,Wa)?(Qa?
c.onCut():c.onCopy(),a.preventDefault(wa)):(J=!0,z.value=Wa,z.select(),setTimeout(function(){J=!1;n();m();Qa?c.onCut():c.onCopy()}))},ja=function(wa){Ia(wa,!0)},ma=function(wa){Ia(wa,!1)},Aa=function(wa){var Qa=ra(wa);"string"==typeof Qa?(Qa&&c.onPaste(Qa,wa),f.isIE&&setTimeout(m),a.preventDefault(wa)):(z.value="",v=!0)};a.addCommandKeyListener(z,c.onCommandKey.bind(c));a.addListener(z,"select",function(wa){J?J=!1:0===z.selectionStart&&z.selectionEnd===z.value.length?(c.selectAll(),m()):S&&m(c.selection.isEmpty())});
a.addListener(z,"input",ha);a.addListener(z,"cut",ja);a.addListener(z,"copy",ma);a.addListener(z,"paste",Aa);"oncut"in z&&"oncopy"in z&&"onpaste"in z||a.addListener(u,"keydown",function(wa){if((!f.isMac||wa.metaKey)&&wa.ctrlKey)switch(wa.keyCode){case 67:ma(wa);break;case 86:Aa(wa);break;case 88:ja(wa)}});var Da=function(){if(K&&c.onCompositionUpdate&&!c.$readOnly){var wa=z.value.replace(/\u2028/g,"");K.lastValue!==wa&&(c.onCompositionUpdate(wa),K.lastValue&&c.undo(),K.canUndo&&(K.lastValue=wa),K.lastValue&&
(wa=c.selection.getRange(),c.insert(K.lastValue),c.session.markUndoGroup(),K.range=c.selection.getRange(),c.selection.setRange(wa),c.selection.clearSelection()))}},Fa=function(wa){if(c.onCompositionEnd&&!c.$readOnly){var Qa=K;K=!1;var Wa=setTimeout(function(){Wa=null;var Ba=z.value.replace(/\u2028/g,"");K||(Ba==Qa.lastValue?n():!Qa.lastValue&&Ba&&(n(),ca(Ba)))});S=function(Ba){return Wa&&clearTimeout(Wa),Ba=Ba.replace(/\u2028/g,""),Ba==Qa.lastValue?"":(Qa.lastValue&&Wa&&c.undo(),Ba)};c.onCompositionEnd();
c.removeListener("mousedown",Fa);"compositionend"==wa.type&&Qa.range&&c.selection.setRange(Qa.range);(f.isChrome&&53<=f.isChrome||f.isWebKit&&603<=f.isWebKit)&&ha()}},Oa=h.delayedCall(Da,50);a.addListener(z,"compositionstart",function(wa){K||!c.onCompositionStart||c.$readOnly||(K={},K.canUndo=c.session.$undoManager,c.onCompositionStart(),setTimeout(Da,0),c.on("mousedown",Fa),K.canUndo&&!c.selection.isEmpty()&&(c.insert(""),c.session.markUndoGroup(),c.selection.clearSelection()),c.session.markUndoGroup())});
f.isGecko?a.addListener(z,"text",function(){Oa.schedule()}):(a.addListener(z,"keyup",function(){Oa.schedule()}),a.addListener(z,"keydown",function(){Oa.schedule()}));a.addListener(z,"compositionend",Fa);this.getElement=function(){return z};this.setReadOnly=function(wa){z.readOnly=wa};this.onContextMenu=function(wa){R=!0;m(c.selection.isEmpty());c._emit("nativecontextmenu",{target:c,domEvent:wa});this.moveToMouse(wa,!0)};this.moveToMouse=function(wa,Qa){D||(D=z.style.cssText);z.style.cssText=(Qa?"z-index:100000;":
"")+"height:"+z.style.height+";"+(f.isIE?"opacity:0.1;":"");Qa=c.container.getBoundingClientRect();var Wa=g.computedStyle(c.container),Ba=Qa.top+(parseInt(Wa.borderTopWidth)||0),Sa=Qa.left+(parseInt(Qa.borderLeftWidth)||0),cb=Qa.bottom-Ba-z.clientHeight-2;Qa=function($a){z.style.left=$a.clientX-Sa-2+"px";z.style.top=Math.min($a.clientY-Ba-2,cb)+"px"};Qa(wa);"mousedown"==wa.type&&(c.renderer.$keepTextAreaAtCursor&&(c.renderer.$keepTextAreaAtCursor=null),clearTimeout(Ga),f.isWin&&a.capture(c.container,
Qa,w))};this.onContextMenuClose=w;var Ga;u=function(wa){c.textInput.onContextMenu(wa);w()};a.addListener(z,"mouseup",u);a.addListener(z,"mousedown",function(wa){wa.preventDefault();w()});a.addListener(c.renderer.scroller,"contextmenu",u);a.addListener(z,"contextmenu",u)}});
define("ace/mouse/default_handlers","require exports module ace/lib/dom ace/lib/event ace/lib/useragent".split(" "),function(d,N,W){function a(h){h.$clickSelection=null;var e=h.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(h));e.setDefaultHandler("dblclick",this.onDoubleClick.bind(h));e.setDefaultHandler("tripleclick",this.onTripleClick.bind(h));e.setDefaultHandler("quadclick",this.onQuadClick.bind(h));e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(h));e.setDefaultHandler("touchmove",
this.onTouchMove.bind(h));"select startSelect selectEnd selectAllEnd selectByWordsEnd selectByLinesEnd dragWait dragWaitEnd focusWait".split(" ").forEach(function(l){h[l]=this[l]},this);h.selectByLines=this.extendSelectionBy.bind(h,"getLineRange");h.selectByWords=this.extendSelectionBy.bind(h,"getWordRange")}function f(h,e){return 0>(h.start.row==h.end.row?2*e.column-h.start.column-h.end.column:h.start.row!=h.end.row-1||h.start.column||h.end.column?2*e.row-h.start.row-h.end.row:e.column-4)?{cursor:h.start,
anchor:h.end}:{cursor:h.end,anchor:h.start}}d("../lib/dom");d("../lib/event");var g=d("../lib/useragent");(function(){this.onMouseDown=function(h){var e=h.inSelection(),l=h.getDocumentPosition();this.mousedownEvent=h;var p=this.editor,u=h.getButton();if(0!==u)e=p.getSelectionRange().isEmpty(),p.$blockScrolling++,(e||1==u)&&p.selection.moveToPosition(l),p.$blockScrolling--,2==u&&(p.textInput.onContextMenu(h.domEvent),g.isMozilla||h.preventDefault());else{this.mousedownEvent.time=Date.now();if(e&&!p.isFocused()&&
(p.focus(),this.$focusTimout&&!this.$clickSelection&&!p.inMultiSelectMode)){this.setState("focusWait");this.captureMouse(h);return}return this.captureMouse(h),this.startSelect(l,1<h.domEvent._clicks),h.preventDefault()}};this.startSelect=function(h,e){h=h||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var l=this.editor;l.$blockScrolling++;this.mousedownEvent.getShiftKey()?l.selection.selectToPosition(h):e||l.selection.moveToPosition(h);e||this.select();l.renderer.scroller.setCapture&&
l.renderer.scroller.setCapture();l.setStyle("ace_selecting");this.setState("select");l.$blockScrolling--};this.select=function(){var h=this.editor,e=h.renderer.screenToTextCoordinates(this.x,this.y);h.$blockScrolling++;if(this.$clickSelection){var l=this.$clickSelection.comparePoint(e);-1==l?l=this.$clickSelection.end:1==l?l=this.$clickSelection.start:(l=f(this.$clickSelection,e),e=l.cursor,l=l.anchor);h.selection.setSelectionAnchor(l.row,l.column)}h.selection.selectToPosition(e);h.$blockScrolling--;
h.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(h){var e=this.editor,l=e.renderer.screenToTextCoordinates(this.x,this.y);h=e.selection[h](l.row,l.column);e.$blockScrolling++;if(this.$clickSelection){var p=this.$clickSelection.comparePoint(h.start);var u=this.$clickSelection.comparePoint(h.end);if(-1==p&&0>=u){if(p=this.$clickSelection.end,h.end.row!=l.row||h.end.column!=l.column)l=h.start}else if(1==u&&0<=p){if(p=this.$clickSelection.start,h.start.row!=l.row||h.start.column!=l.column)l=
h.end}else-1==p&&1==u?(l=h.end,p=h.start):(h=f(this.$clickSelection,l),l=h.cursor,p=h.anchor);e.selection.setSelectionAnchor(p.row,p.column)}e.selection.selectToPosition(l);e.$blockScrolling--;e.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()};this.focusWait=function(){var h=
Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),e=Date.now();(0<h||e-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(h){h=h.getDocumentPosition();var e=this.editor,l=e.session.getBracketRange(h);l?(l.isEmpty()&&(l.start.column--,l.end.column++),this.setState("select")):(l=e.selection.getWordRange(h.row,h.column),this.setState("selectByWords"));this.$clickSelection=l;this.select()};
this.onTripleClick=function(h){h=h.getDocumentPosition();var e=this.editor;this.setState("selectByLines");var l=e.getSelectionRange();l.isMultiLine()&&l.contains(h.row,h.column)?(this.$clickSelection=e.selection.getLineRange(l.start.row),this.$clickSelection.end=e.selection.getLineRange(l.end.row).end):this.$clickSelection=e.selection.getLineRange(h.row);this.select()};this.onQuadClick=function(h){h=this.editor;h.selectAll();this.$clickSelection=h.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=
function(h){if(!h.getAccelKey()){h.getShiftKey()&&h.wheelY&&!h.wheelX&&(h.wheelX=h.wheelY,h.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var l=this.$lastScroll,p=h.domEvent.timeStamp,u=p-l.t,c=h.wheelX/u,m=h.wheelY/u;250>u&&(c=(c+l.vx)/2,m=(m+l.vy)/2);u=Math.abs(c/m);var n=!1;1<=u&&e.renderer.isScrollableBy(h.wheelX*h.speed,0)&&(n=!0);1>=u&&e.renderer.isScrollableBy(0,h.wheelY*h.speed)&&(n=!0);n?l.allowed=p:250>p-l.allowed&&(Math.abs(c)<=1.1*Math.abs(l.vx)&&
Math.abs(m)<=1.1*Math.abs(l.vy)?(n=!0,l.allowed=p):l.allowed=0);l.t=p;l.vx=c;l.vy=m;if(n)return e.renderer.scrollBy(h.wheelX*h.speed,h.wheelY*h.speed),h.stop()}};this.onTouchMove=function(h){this.editor._emit("mousewheel",h)}}).call(a.prototype);N.DefaultHandlers=a});
define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(d,N,W){function a(g){this.isOpen=!1;this.$element=null;this.$parentNode=g}d("./lib/oop");var f=d("./lib/dom");(function(){this.$init=function(){return this.$element=f.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(g){f.setInnerText(this.getElement(),
g)};this.setHtml=function(g){this.getElement().innerHTML=g};this.setPosition=function(g,h){this.getElement().style.left=g+"px";this.getElement().style.top=h+"px"};this.setClassName=function(g){f.addCssClass(this.getElement(),g)};this.show=function(g,h,e){null!=g&&this.setText(g);null!=h&&null!=e&&this.setPosition(h,e);this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)};this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)};this.getHeight=function(){return this.getElement().offsetHeight};
this.getWidth=function(){return this.getElement().offsetWidth};this.destroy=function(){this.isOpen=!1;this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(a.prototype);N.Tooltip=a});
define("ace/mouse/default_gutter_handler","require exports module ace/lib/dom ace/lib/oop ace/lib/event ace/tooltip".split(" "),function(d,N,W){function a(e){h.call(this,e)}var f=d("../lib/dom");W=d("../lib/oop");var g=d("../lib/event"),h=d("../tooltip").Tooltip;W.inherits(a,h);(function(){this.setPosition=function(e,l){var p=window.innerWidth||document.documentElement.clientWidth,u=window.innerHeight||document.documentElement.clientHeight,c=this.getWidth(),m=this.getHeight();e+=15;l+=15;e+c>p&&(e-=
e+c-p);l+m>u&&(l-=20+m);h.prototype.setPosition.call(this,e,l)}}).call(a.prototype);N.GutterHandler=function(e){function l(){m&&(m=clearTimeout(m));w&&(c.hide(),w=null,p._signal("hideGutterTooltip",c),p.removeEventListener("mousewheel",l))}var p=e.editor,u=p.renderer.$gutterLayer,c=new a(p.container);e.editor.setDefaultHandler("guttermousedown",function(z){if(p.isFocused()&&0==z.getButton()&&"foldWidgets"!=u.getRegion(z)){var x=z.getDocumentPosition().row,J=p.session.selection;if(z.getShiftKey())J.selectTo(x,
0);else{if(2==z.domEvent.detail)return p.selectAll(),z.preventDefault();e.$clickSelection=p.selection.getLineRange(x)}return e.setState("selectByLines"),e.captureMouse(z),z.preventDefault()}});var m,n,w;e.editor.setDefaultHandler("guttermousemove",function(z){if(f.hasCssClass(z.domEvent.target||z.domEvent.srcElement,"ace_fold-widget"))return l();w&&e.$tooltipFollowsMouse&&c.setPosition(z.x,z.y);n=z;m||(m=setTimeout(function(){m=null;if(n&&!e.isMousePressed)a:{var x=n.getDocumentPosition().row,J=u.$annotations[x];
if(J){var v=p.session.getLength();if(x==v&&(x=p.renderer.pixelToScreenCoordinates(0,n.y).row,v=n.$pos,x>p.session.documentToScreenRow(v.row,v.column))){l();break a}w!=J&&(w=J.text.join("<br/>"),c.setHtml(w),c.show(),p._signal("showGutterTooltip",c),p.on("mousewheel",l),e.$tooltipFollowsMouse?c.setPosition(n.x,n.y):(J=n.domEvent.target.getBoundingClientRect(),x=c.getElement().style,x.left=J.right+"px",x.top=J.bottom+"px"))}else l()}else l()},50))});g.addListener(p.renderer.$gutter,"mouseout",function(z){n=
null;w&&!m&&(m=setTimeout(function(){m=null;l()},50))});p.on("changeSession",l)}});
define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(d,N,W){var a=d("../lib/event"),f=d("../lib/useragent");d=N.MouseEvent=function(g,h){this.domEvent=g;this.editor=h;this.x=this.clientX=g.clientX;this.y=this.clientY=g.clientY;this.$inSelection=this.$pos=null;this.defaultPrevented=this.propagationStopped=!1};(function(){this.stopPropagation=function(){a.stopPropagation(this.domEvent);this.propagationStopped=!0};this.preventDefault=function(){a.preventDefault(this.domEvent);
this.defaultPrevented=!0};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)};this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var g=this.editor.getSelectionRange();if(g.isEmpty())this.$inSelection=!1;else{var h=this.getDocumentPosition();this.$inSelection=g.contains(h.row,h.column)}return this.$inSelection};
this.getButton=function(){return a.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=f.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(d.prototype)});
define("ace/mouse/dragdrop_handler","require exports module ace/lib/dom ace/lib/event ace/lib/useragent".split(" "),function(d,N,W){function a(u){var c,m;function n(){var Da=ca,Fa=ca=K.renderer.screenToTextCoordinates(G,T),Oa=Date.now(),Ga=!Da||Fa.row!=Da.row,wa=!Da||Fa.column!=Da.column;!ma||Ga||wa?(K.$blockScrolling+=1,K.moveCursorToPosition(Fa),--K.$blockScrolling,ma=Oa,c=G,m=T):Math.sqrt(Math.pow(G-c,2)+Math.pow(T-m,2))>p?ma=null:Oa-ma>=l&&(K.renderer.scrollCursorIntoView(),ma=null);Fa=ca;Oa=
Date.now();wa=K.renderer.layerConfig.lineHeight;var Qa=K.renderer.layerConfig.characterWidth;Ga=K.renderer.scroller.getBoundingClientRect();var Wa=G-Ga.left,Ba=Ga.right-G,Sa=T-Ga.top,cb=Ga.bottom-T,$a=Math.min(Sa,cb);Ga={row:Fa.row,column:Fa.column};2>=Math.min(Wa,Ba)/Qa&&(Ga.column+=Wa<Ba?-3:2);1>=$a/wa&&(Ga.row+=Sa<cb?-1:1);wa=Fa.column!=Ga.column;Da=!Da||Fa.row!=Da.row;Fa.row!=Ga.row||wa&&!Da?ja?Oa-ja>=e&&K.renderer.scrollCursorIntoView(Ga):ja=Oa:ja=null}function w(){R=K.selection.toOrientedRange();
Q=K.session.addMarker(R,"ace_selection",K.getSelectionStyle());K.clearSelection();K.isFocused()&&K.renderer.$cursorLayer.setBlinking(!1);clearInterval(S);n();S=setInterval(n,20);ha=0;g.addListener(document,"mousemove",x)}function z(){clearInterval(S);K.session.removeMarker(Q);Q=null;K.$blockScrolling+=1;K.selection.fromOrientedRange(R);--K.$blockScrolling;K.isFocused()&&!Ia&&K.renderer.$cursorLayer.setBlinking(!K.getReadOnly());ca=R=null;ha=0;ma=ja=null;g.removeListener(document,"mousemove",x)}function x(){null==
Aa&&(Aa=setTimeout(function(){null!=Aa&&Q&&z()},20))}function J(Da){Da=Da.types;return!Da||Array.prototype.some.call(Da,function(Fa){return"text/plain"==Fa||"Text"==Fa})}function v(Da){var Fa=["copy","copymove","all","uninitialized"],Oa=["move","copymove","linkmove","all","uninitialized"],Ga=h.isMac?Da.altKey:Da.ctrlKey,wa="uninitialized";try{wa=Da.dataTransfer.effectAllowed.toLowerCase()}catch(Qa){}Da="none";return Ga&&0<=Fa.indexOf(wa)?Da="copy":0<=Oa.indexOf(wa)?Da="move":0<=Fa.indexOf(wa)&&(Da=
"copy"),Da}var K=u.editor,D=f.createElement("img");D.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";h.isOpera&&(D.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(Da){u[Da]=this[Da]},this);K.addEventListener("mousedown",this.onMouseDown.bind(u));var M=K.container,Q,G,T,S,R,ca,ha=0,ra,Ia,ja,ma;this.onDragStart=function(Da){if(this.cancelDrag||
!M.draggable){var Fa=this;return setTimeout(function(){Fa.startSelect();Fa.captureMouse(Da)},0),Da.preventDefault()}R=K.getSelectionRange();var Oa=Da.dataTransfer;Oa.effectAllowed=K.getReadOnly()?"copy":"copyMove";h.isOpera&&(K.container.appendChild(D),D.scrollTop=0);Oa.setDragImage&&Oa.setDragImage(D,0,0);h.isOpera&&K.container.removeChild(D);Oa.clearData();Oa.setData("Text",K.session.getTextRange());Ia=!0;this.setState("drag")};this.onDragEnd=function(Da){Ia=M.draggable=!1;this.setState(null);K.getReadOnly()||
(Da=Da.dataTransfer.dropEffect,!ra&&"move"==Da&&K.session.remove(K.getSelectionRange()),K.renderer.$cursorLayer.setBlinking(!0));this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(Da){if(!K.getReadOnly()&&J(Da.dataTransfer))return G=Da.clientX,T=Da.clientY,Q||w(),ha++,Da.dataTransfer.dropEffect=ra=v(Da),g.preventDefault(Da)};this.onDragOver=function(Da){if(!K.getReadOnly()&&J(Da.dataTransfer))return G=Da.clientX,T=Da.clientY,Q||(w(),ha++),null!==
Aa&&(Aa=null),Da.dataTransfer.dropEffect=ra=v(Da),g.preventDefault(Da)};this.onDragLeave=function(Da){ha--;if(0>=ha&&Q)return z(),ra=null,g.preventDefault(Da)};this.onDrop=function(Da){if(ca){var Fa=Da.dataTransfer;if(Ia)switch(ra){case "move":R.contains(ca.row,ca.column)?R={start:ca,end:ca}:R=K.moveText(R,ca);break;case "copy":R=K.moveText(R,ca,!0)}else Fa=Fa.getData("Text"),R={start:ca,end:K.session.insert(ca,Fa)},K.focus(),ra=null;return z(),g.preventDefault(Da)}};g.addListener(M,"dragstart",this.onDragStart.bind(u));
g.addListener(M,"dragend",this.onDragEnd.bind(u));g.addListener(M,"dragenter",this.onDragEnter.bind(u));g.addListener(M,"dragover",this.onDragOver.bind(u));g.addListener(M,"dragleave",this.onDragLeave.bind(u));g.addListener(M,"drop",this.onDrop.bind(u));var Aa=null}var f=d("../lib/dom"),g=d("../lib/event"),h=d("../lib/useragent"),e=200,l=200,p=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(){this.editor.container.draggable=
!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(u){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){this.cancelDrag=!1;var u=this.editor;u.container.draggable=!0;u.renderer.$cursorLayer.setBlinking(!1);u.setStyle("ace_dragging");u.renderer.setCursorStyle(h.isWin?"default":"move");this.setState("dragReady")};
this.onMouseDrag=function(u){u=this.editor.container;if(h.isIE&&"dragReady"==this.state){var c=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2));3<c&&u.dragDrop()}"dragWait"===this.state&&(c=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),0<c&&(u.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))};this.onMouseDown=function(u){if(this.$dragEnabled){this.mousedownEvent=u;var c=this.editor,
m=u.inSelection(),n=u.getButton();1!==(u.domEvent.detail||1)||0!==n||!m||u.editor.inMultiSelectMode&&(u.getAccelKey()||u.getShiftKey())||(this.mousedownEvent.time=Date.now(),m=u.domEvent.target||u.domEvent.srcElement,"unselectable"in m&&(m.unselectable="on"),c.getDragDelay()?(h.isWebKit&&(this.cancelDrag=!0,c.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(u,this.onMouseDrag.bind(this)),u.defaultPrevented=!0)}}}).call(a.prototype);N.DragdropHandler=a});
define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(d,N,W){var a=d("./dom");N.get=function(f,g){var h=new XMLHttpRequest;h.open("GET",f,!0);h.onreadystatechange=function(){4===h.readyState&&g(h.responseText)};h.send(null)};N.loadScript=function(f,g){var h=a.getDocumentHead(),e=document.createElement("script");e.src=f;h.appendChild(e);e.onload=e.onreadystatechange=function(l,p){if(p||!e.readyState||"loaded"==e.readyState||"complete"==e.readyState)e=e.onload=e.onreadystatechange=
null,p||g()}};N.qualifyURL=function(f){var g=document.createElement("a");return g.href=f,g.href}});
define("ace/lib/event_emitter",["require","exports","module"],function(d,N,W){d={};var a=function(){this.propagationStopped=!0},f=function(){this.defaultPrevented=!0};d._emit=d._dispatchEvent=function(g,h){this._eventRegistry||(this._eventRegistry={});this._defaultHandlers||(this._defaultHandlers={});var e=this._eventRegistry[g]||[],l=this._defaultHandlers[g];if(e.length||l){"object"==typeof h&&h||(h={});h.type||(h.type=g);h.stopPropagation||(h.stopPropagation=a);h.preventDefault||(h.preventDefault=
f);e=e.slice();for(g=0;g<e.length&&(e[g](h,this),!h.propagationStopped);g++);if(l&&!h.defaultPrevented)return l(h,this)}};d._signal=function(g,h){if(g=(this._eventRegistry||{})[g]){g=g.slice();for(var e=0;e<g.length;e++)g[e](h,this)}};d.once=function(g,h){var e=this;h&&this.addEventListener(g,function p(){e.removeEventListener(g,p);h.apply(null,arguments)})};d.setDefaultHandler=function(g,h){var e=this._defaultHandlers;e||(e=this._defaultHandlers={_disabled_:{}});if(e[g]){var l=e[g],p=e._disabled_[g];
p||(e._disabled_[g]=p=[]);p.push(l);l=p.indexOf(h);-1!=l&&p.splice(l,1)}e[g]=h};d.removeDefaultHandler=function(g,h){var e=this._defaultHandlers;if(e){var l=e._disabled_[g];e[g]==h?l&&this.setDefaultHandler(g,l.pop()):l&&(g=l.indexOf(h),-1!=g&&l.splice(g,1))}};d.on=d.addEventListener=function(g,h,e){this._eventRegistry=this._eventRegistry||{};var l=this._eventRegistry[g];return l||(l=this._eventRegistry[g]=[]),-1==l.indexOf(h)&&l[e?"unshift":"push"](h),h};d.off=d.removeListener=d.removeEventListener=
function(g,h){this._eventRegistry=this._eventRegistry||{};if(g=this._eventRegistry[g])h=g.indexOf(h),-1!==h&&g.splice(h,1)};d.removeAllListeners=function(g){this._eventRegistry&&(this._eventRegistry[g]=[])};N.EventEmitter=d});
define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,N,W){function a(l){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function f(l,p){var u=Error(l);u.data=p;"object"==typeof console&&console.error&&console.error(u);setTimeout(function(){throw u;})}"no use strict";var g=d("./oop"),h=d("./event_emitter").EventEmitter,e={setOptions:function(l){Object.keys(l).forEach(function(p){this.setOption(p,l[p])},this)},getOptions:function(l){var p=
{};return l?Array.isArray(l)||(p=l,l=Object.keys(p)):l=Object.keys(this.$options),l.forEach(function(u){p[u]=this.getOption(u)},this),p},setOption:function(l,p){if(this["$"+l]!==p){var u=this.$options[l];if(!u)return a('misspelled option "'+l+'"');if(u.forwardTo)return this[u.forwardTo]&&this[u.forwardTo].setOption(l,p);u.handlesSet||(this["$"+l]=p);u&&u.set&&u.set.call(this,p)}},getOption:function(l){var p=this.$options[l];return p?p.forwardTo?this[p.forwardTo]&&this[p.forwardTo].getOption(l):p&&
p.get?p.get.call(this):this["$"+l]:a('misspelled option "'+l+'"')}};d=function(){this.$defaultOptions={}};(function(){g.implement(this,h);this.defineOptions=function(l,p,u){return l.$options||(this.$defaultOptions[p]=l.$options={}),Object.keys(u).forEach(function(c){var m=u[c];"string"==typeof m&&(m={forwardTo:m});m.name||(m.name=c);l.$options[m.name]=m;"initialValue"in m&&(l["$"+m.name]=m.initialValue)}),g.implement(l,e),this};this.resetOptions=function(l){Object.keys(l.$options).forEach(function(p){var u=
l.$options[p];"value"in u&&l.setOption(p,u.value)})};this.setDefaultValue=function(l,p,u){l=this.$defaultOptions[l]||(this.$defaultOptions[l]={});l[p]&&(l.forwardTo?this.setDefaultValue(l.forwardTo,p,u):l[p].value=u)};this.setDefaultValues=function(l,p){Object.keys(p).forEach(function(u){this.setDefaultValue(l,u,p[u])},this)};this.warn=a;this.reportError=f}).call(d.prototype);N.AppConfig=d});
define("ace/config","require exports module ace/lib/lang ace/lib/oop ace/lib/net ace/lib/app_config".split(" "),function(d,N,W){function a(p){return p.replace(/-(.)/g,function(u,c){return c.toUpperCase()})}"no use strict";var f=d("./lib/lang");d("./lib/oop");var g=d("./lib/net"),h=d("./lib/app_config").AppConfig;W.exports=N=new h;var e=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};
N.get=function(p){if(!l.hasOwnProperty(p))throw Error("Unknown config key: "+p);return l[p]};N.set=function(p,u){if(!l.hasOwnProperty(p))throw Error("Unknown config key: "+p);l[p]=u};N.all=function(){return f.copyObject(l)};N.moduleUrl=function(p,u){if(l.$moduleUrls[p])return l.$moduleUrls[p];var c=p.split("/");u=u||c[c.length-2]||"";p="snippets"==u?"/":"-";var m=c[c.length-1];"worker"==u&&"-"==p&&(m=m.replace(new RegExp("^"+u+"[\\-_]|[\\-_]"+u+"$","g"),""));(!m||m==u)&&1<c.length&&(m=c[c.length-
2]);c=l[u+"Path"];return null==c?c=l.basePath:"/"==p&&(u=p=""),c&&"/"!=c.slice(-1)&&(c+="/"),c+u+p+m+this.get("suffix")};N.setModuleUrl=function(p,u){return l.$moduleUrls[p]=u};N.$loading={};N.loadModule=function(p,u){var c;Array.isArray(p)&&(c=p[0],p=p[1]);try{var m=d(p)}catch(n){}if(m&&!N.$loading[p])return u&&u(m);N.$loading[p]||(N.$loading[p]=[]);N.$loading[p].push(u);if(!(1<N.$loading[p].length)){u=function(){d([p],function(n){N._emit("load.module",{name:p,module:n});var w=N.$loading[p];N.$loading[p]=
null;w.forEach(function(z){z&&z(n)})})};if(!N.get("packaged"))return u();g.loadScript(N.moduleUrl(p,c),u)}};N.init=function(p){if(e&&e.document){l.packaged=p||d.packaged||W.packaged||e.define&&define.packaged;p={};var u="",c=document.currentScript||document._currentScript;c=(c&&c.ownerDocument||document).getElementsByTagName("script");for(var m=0;m<c.length;m++){var n=c[m],w=n.src||n.getAttribute("src");if(w){n=n.attributes;for(var z=0,x=n.length;z<x;z++){var J=n[z];0===J.name.indexOf("data-ace-")&&
(p[a(J.name.replace(/^data-ace-/,""))]=J.value)}(w=w.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/))&&(u=w[1])}}u&&(p.base=p.base||u,p.packaged=!0);p.basePath=p.base;p.workerPath=p.workerPath||p.base;p.modePath=p.modePath||p.base;p.themePath=p.themePath||p.base;delete p.base;for(var v in p)"undefined"!=typeof p[v]&&N.set(v,p[v])}}});
define("ace/mouse/mouse_handler","require exports module ace/lib/event ace/lib/useragent ace/mouse/default_handlers ace/mouse/default_gutter_handler ace/mouse/mouse_event ace/mouse/dragdrop_handler ace/config".split(" "),function(d,N,W){var a=d("../lib/event"),f=d("../lib/useragent"),g=d("./default_handlers").DefaultHandlers,h=d("./default_gutter_handler").GutterHandler,e=d("./mouse_event").MouseEvent,l=d("./dragdrop_handler").DragdropHandler;d=d("../config");W=function(p){var u=this;this.editor=
p;new g(this);new h(this);new l(this);var c=function(w){document.hasFocus&&document.hasFocus()&&(p.isFocused()||document.activeElement!=(p.textInput&&p.textInput.getElement()))||window.focus();p.focus()},m=p.renderer.getMouseEventTarget();a.addListener(m,"click",this.onMouseEvent.bind(this,"click"));a.addListener(m,"mousemove",this.onMouseMove.bind(this,"mousemove"));a.addMultiMouseDownListener([m,p.renderer.scrollBarV&&p.renderer.scrollBarV.inner,p.renderer.scrollBarH&&p.renderer.scrollBarH.inner,
p.textInput&&p.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent");a.addMouseWheelListener(p.container,this.onMouseWheel.bind(this,"mousewheel"));a.addTouchMoveListener(p.container,this.onTouchMove.bind(this,"touchmove"));var n=p.renderer.$gutter;a.addListener(n,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));a.addListener(n,"click",this.onMouseEvent.bind(this,"gutterclick"));a.addListener(n,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"));a.addListener(n,
"mousemove",this.onMouseEvent.bind(this,"guttermousemove"));a.addListener(m,"mousedown",c);a.addListener(n,"mousedown",c);f.isIE&&p.renderer.scrollBarV&&(a.addListener(p.renderer.scrollBarV.element,"mousedown",c),a.addListener(p.renderer.scrollBarH.element,"mousedown",c));p.on("mousemove",function(w){if(!u.state&&!u.$dragDelay&&u.$dragEnabled){w=p.renderer.screenToTextCoordinates(w.x,w.y);var z=p.session.selection.getRange(),x=p.renderer;!z.isEmpty()&&z.insideStart(w.row,w.column)?x.setCursorStyle("default"):
x.setCursorStyle("")}})};(function(){this.onMouseEvent=function(p,u){this.editor._emit(p,new e(u,this.editor))};this.onMouseMove=function(p,u){var c=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;c&&c.length&&this.editor._emit(p,new e(u,this.editor))};this.onMouseWheel=function(p,u){var c=new e(u,this.editor);c.speed=2*this.$scrollSpeed;c.wheelX=u.wheelX;c.wheelY=u.wheelY;this.editor._emit(p,c)};this.onTouchMove=function(p,u){var c=new e(u,this.editor);c.speed=1;c.wheelX=u.wheelX;
c.wheelY=u.wheelY;this.editor._emit(p,c)};this.setState=function(p){this.state=p};this.captureMouse=function(p,u){this.x=p.x;this.y=p.y;this.isMousePressed=!0;var c=this.editor.renderer;c.$keepTextAreaAtCursor&&(c.$keepTextAreaAtCursor=null);var m=this,n=function(J){if(J){if(f.isWebKit&&!J.which&&m.releaseMouse)return m.releaseMouse();m.x=J.clientX;m.y=J.clientY;u&&u(J);m.mouseEvent=new e(J,m.editor);m.$mouseMoved=!0}},w=function(J){clearInterval(x);z();m[m.state+"End"]&&m[m.state+"End"](J);m.state=
"";null==c.$keepTextAreaAtCursor&&(c.$keepTextAreaAtCursor=!0,c.$moveTextAreaToCursor());m.isMousePressed=!1;m.$onCaptureMouseMove=m.releaseMouse=null;J&&m.onMouseEvent("mouseup",J)},z=function(){m[m.state]&&m[m.state]();m.$mouseMoved=!1};if(f.isOldIE&&"dblclick"==p.domEvent.type)return setTimeout(function(){w(p)});m.$onCaptureMouseMove=n;m.releaseMouse=a.capture(this.editor.container,n,w);var x=setInterval(z,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var p=function(u){u&&u.domEvent&&
"contextmenu"!=u.domEvent.type||(this.editor.off("nativecontextmenu",p),u&&u.domEvent&&a.stopEvent(u.domEvent))}.bind(this);setTimeout(p,10);this.editor.on("nativecontextmenu",p)}}).call(W.prototype);d.defineOptions(W.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:f.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});N.MouseHandler=W});
define("ace/mouse/fold_handler",["require","exports","module"],function(d,N,W){N.FoldHandler=function(a){a.on("click",function(f){var g=f.getDocumentPosition(),h=a.session;(g=h.getFoldAt(g.row,g.column,1))&&(f.getAccelKey()?h.removeFold(g):h.expandFold(g),f.stop())});a.on("gutterclick",function(f){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(f)){var g=f.getDocumentPosition().row,h=a.session;h.foldWidgets&&h.foldWidgets[g]&&a.session.onFoldWidgetClick(g,f);a.isFocused()||a.focus();f.stop()}});
a.on("gutterdblclick",function(f){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(f)){var g=f.getDocumentPosition().row,h=a.session,e=h.getParentFoldRangeData(g,!0);if(e=e.range||e.firstRange)g=e.start.row,(g=h.getFoldAt(g,h.getLine(g).length,1))?h.removeFold(g):(h.addFold("...",e),a.renderer.scrollCursorIntoView({row:e.start.row,column:0}));f.stop()}})}});
define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(d,N,W){var a=d("../lib/keys"),f=d("../lib/event");d=function(g){this.$editor=g;this.$data={editor:g};this.$handlers=[];this.setDefaultHandler(g.commands)};(function(){this.setDefaultHandler=function(g){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=g;this.addKeyboardHandler(g,0)};this.setKeyboardHandler=function(g){var h=this.$handlers;if(h[h.length-1]!=g){for(;h[h.length-
1]&&h[h.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(h[h.length-1]);this.addKeyboardHandler(g,1)}};this.addKeyboardHandler=function(g,h){if(g){"function"==typeof g&&!g.handleKeyboard&&(g.handleKeyboard=g);var e=this.$handlers.indexOf(g);-1!=e&&this.$handlers.splice(e,1);void 0==h?this.$handlers.push(g):this.$handlers.splice(h,0,g);-1==e&&g.attach&&g.attach(this.$editor)}};this.removeKeyboardHandler=function(g){var h=this.$handlers.indexOf(g);return-1==h?!1:(this.$handlers.splice(h,
1),g.detach&&g.detach(this.$editor),!0)};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var g=this.$data,h=g.editor;return this.$handlers.map(function(e){return e.getStatusText&&e.getStatusText(h,g)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(g,h,e,l){for(var p,u=!1,c=this.$editor.commands,m=this.$handlers.length;m--&&!((p=this.$handlers[m].handleKeyboard(this.$data,g,h,e,l))&&p.command&&("null"==p.command?
u=!0:u=c.exec(p.command,this.$editor,p.args,l),u&&l&&-1!=g&&1!=p.passEvent&&1!=p.command.passEvent&&f.stopEvent(l),u)););return!u&&-1==g&&(p={command:"insertstring"},u=c.exec("insertstring",this.$editor,h)),u&&this.$editor._signal&&this.$editor._signal("keyboardActivity",p),u};this.onCommandKey=function(g,h,e){var l=a.keyCodeToString(e);this.$callKeyboardHandlers(h,l,e,g)};this.onTextInput=function(g){this.$callKeyboardHandlers(-1,g)}}).call(d.prototype);N.KeyBinding=d});
define("ace/lib/bidiutil",["require","exports","module"],function(d,N,W){function a(Fa,Oa,Ga){if(!(e<Fa))if(1!=Fa||h!=n||p)for(var wa=Ga.length,Qa=0,Wa,Ba,Sa;Qa<wa;){if(Oa[Qa]>=Fa){for(Wa=Qa+1;Wa<wa&&Oa[Wa]>=Fa;)Wa++;for(Ba=Wa-1;Qa<Ba;Qa++,Ba--)Sa=Ga[Qa],Ga[Qa]=Ga[Ba],Ga[Ba]=Sa;Qa=Wa}Qa++}else Ga.reverse()}function f(Fa,Oa,Ga,wa){var Qa=Oa[wa],Wa,Ba;switch(Qa){case w:case z:l=!1;case v:case J:return Qa;case x:return l?J:x;case M:return l=!0,z;case Q:return v;case G:return 1>wa||wa+1>=Oa.length||(Wa=
Ga[wa-1])!=x&&Wa!=J||(Ba=Oa[wa+1])!=x&&Ba!=J?v:(l&&(Ba=J),Ba==Wa?Ba:v);case T:return Wa=0<wa?Ga[wa-1]:K,Wa==x&&wa+1<Oa.length&&Oa[wa+1]==x?x:v;case S:if(0<wa&&Ga[wa-1]==x)return x;if(l)return v;Wa=wa+1;for(Qa=Oa.length;Wa<Qa&&Oa[Wa]==S;)Wa++;return Wa<Qa&&Oa[Wa]==x?x:v;case R:Qa=Oa.length;for(Wa=wa+1;Wa<Qa&&Oa[Wa]==R;)Wa++;return Wa<Qa&&(Fa=Fa[wa],Wa=Oa[Wa],(1425<=Fa&&2303>=Fa||64286==Fa)&&(Wa==z||Wa==M))?z:1>wa||Oa[wa-1]==K?v:Ga[wa-1];case K:return l=!1,p=!0,h;case D:return u=!0,v;case ca:case ha:case Ia:case ja:case ra:l=
!1;case ma:return v}}function g(Fa){var Oa=Fa.charCodeAt(0),Ga=Oa>>8;return 0==Ga?191<Oa?w:Aa[Oa]:5==Ga?/[\u0591-\u05f4]/.test(Fa)?z:w:6==Ga?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Fa)?R:/[\u0660-\u0669\u066b-\u066c]/.test(Fa)?J:1642==Oa?S:/[\u06f0-\u06f9]/.test(Fa)?x:M:32==Ga&&8287>=Oa?Da[Oa&255]:254==Ga?65136<=Oa?M:v:v}var h=0,e=0,l=!1,p=!1,u=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,
1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],n=1,w=0,z=1,x=2,J=3,v=4,K=5,D=6,M=7,Q=8,G=9,T=10,S=11,R=12,ca=13,ha=14,ra=15,Ia=16,ja=17,ma=18,Aa=[ma,ma,ma,ma,ma,ma,ma,ma,ma,D,K,D,Q,K,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,K,K,K,D,Q,v,v,S,S,S,v,v,v,v,v,T,G,T,G,G,x,x,x,x,x,x,x,x,x,x,G,v,v,v,v,v,v,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,v,v,v,v,v,v,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,v,v,v,v,ma,ma,ma,ma,ma,ma,K,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,
ma,ma,ma,ma,ma,G,v,S,S,S,S,v,v,v,v,w,v,v,ma,v,v,S,S,x,x,v,w,v,v,v,x,w,v,v,v,v,v],Da=[Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,ma,ma,ma,w,z,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,Q,K,ca,ha,ra,Ia,ja,G,S,S,S,S,S,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,G,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,Q];N.L=w;N.R=z;N.EN=x;N.ON_R=3;N.AN=4;N.R_H=5;N.B=6;N.DOT="\u00b7";N.doBidiReorder=function(Fa,Oa,Ga){if(2>Fa.length)return{};Fa=Fa.split("");var wa=Array(Fa.length),Qa=Array(Fa.length),Wa=[];h=Ga?n:0;Ga=Fa.length;var Ba=
Oa,Sa=h?m:c;var cb=0;var $a=-1,qb,Ib=[];if(!Ba){var ib=0;for(Ba=[];ib<Ga;ib++)Ba[ib]=g(Fa[ib])}e=h;u=p=l=!1;for(qb=0;qb<Ga;qb++){var Ob=cb;Ib[qb]=cb=f(Fa,Ba,Ib,qb);cb=Sa[Ob][cb];ib=cb&240;cb&=15;Wa[qb]=Ob=Sa[cb][5];if(0<ib){if(16==ib)for(ib=$a;ib<qb;ib++)Wa[ib]=1;$a=-1}if(ib=Sa[cb][6])-1==$a&&($a=qb);else if(-1<$a){for(ib=$a;ib<qb;ib++)Wa[ib]=Ob;$a=-1}Ba[qb]==K&&(Wa[qb]=0);e|=Ob}if(u)for(ib=0;ib<Ga;ib++)if(Ba[ib]==D)for(Wa[ib]=h,Sa=ib-1;0<=Sa&&Ba[Sa]==Q;Sa--)Wa[Sa]=h;for(Ga=0;Ga<wa.length;wa[Ga]=
Ga,Ga++);a(2,Wa,wa);a(1,Wa,wa);for(Ga=0;Ga<wa.length-1;Ga++)Oa[Ga]===J?Wa[Ga]=N.AN:Wa[Ga]===z&&(Oa[Ga]>M&&Oa[Ga]<ca||Oa[Ga]===v||Oa[Ga]===ma)?Wa[Ga]=N.ON_R:0<Ga&&"\u0644"===Fa[Ga-1]&&/\u0622|\u0623|\u0625|\u0627/.test(Fa[Ga])&&(Wa[Ga-1]=Wa[Ga]=N.R_H,Ga++);Fa[Fa.length-1]===N.DOT&&(Wa[Fa.length-1]=N.B);for(Ga=0;Ga<wa.length;Ga++)Qa[Ga]=Wa[wa[Ga]];return{logicalFromVisual:wa,bidiLevels:Qa}};N.hasBidiCharacters=function(Fa,Oa){for(var Ga=!1,wa=0;wa<Fa.length;wa++)Oa[wa]=g(Fa.charAt(wa)),Ga||Oa[wa]!=
z&&Oa[wa]!=M||(Ga=!0);return Ga};N.getVisualFromLogicalIdx=function(Fa,Oa){for(var Ga=0;Ga<Oa.logicalFromVisual.length;Ga++)if(Oa.logicalFromVisual[Ga]==Fa)return Ga;return 0}});
define("ace/bidihandler","require exports module ace/lib/bidiutil ace/lib/lang ace/lib/useragent".split(" "),function(d,N,W){var a=d("./lib/bidiutil"),f=d("./lib/lang"),g=d("./lib/useragent"),h=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;d=function(e){this.session=e;this.bidiMap={};this.currentRow=null;this.bidiUtil=a;this.charWidths=[];this.EOL="\u00ac";this.showInvisibles=!0;this.isRtlDir=!1;this.line="";this.wrapIndent=0;this.isLastRow=!1;this.EOF="\u00b6";this.seenBidi=!1};(function(){this.isBidiRow=
function(e,l,p){return this.seenBidi?(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(l,p),this.updateBidiMap()),this.bidiMap.bidiLevels):!1};this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&h.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)};this.getDocumentRow=function(){var e=0,l=this.session.$screenRowCache;l.length&&(l=this.session.$getRowCacheIndex(l,this.currentRow),0<=l&&(e=this.session.$docRowCache[l]));return e};this.getSplitIndex=
function(){var e=0,l=this.session.$screenRowCache;if(l.length)for(var p,u=this.session.$getRowCacheIndex(l,this.currentRow);0<this.currentRow-e;){p=this.session.$getRowCacheIndex(l,this.currentRow-e-1);if(p!==u)break;u=p;e++}return e};this.updateRowLine=function(e,l){void 0===e&&(e=this.getDocumentRow());this.wrapIndent=0;this.isLastRow=e===this.session.getLength()-1;this.line=this.session.getLine(e);this.session.$useWrapMode&&(e=this.session.$wrapData[e])&&(void 0===l&&(l=this.getSplitIndex()),0<
l&&e.length?(this.wrapIndent=e.indent,this.line=l<e.length?this.line.substring(e[l-1],e[e.length-1]):this.line.substring(e[e.length-1])):this.line=this.line.substring(0,e[l]));var p=this.session,u=0,c;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(m,n){return"\t"===m||p.isFullWidth(m.charCodeAt(0))?(c="\t"===m?p.getScreenTabSize(n+u):2,u+=c-1,f.stringRepeat(a.DOT,c)):m})};this.updateBidiMap=function(){var e=[],l=this.isLastRow?this.EOF:this.EOL;l=this.line+(this.showInvisibles?
l:a.DOT);a.hasBidiCharacters(l,e)?this.bidiMap=a.doBidiReorder(l,e,this.isRtlDir):this.bidiMap={}};this.markAsDirty=function(){this.currentRow=null};this.updateCharacterWidths=function(e){if(this.seenBidi&&this.characterWidth!==e.$characterSize.width){var l=this.characterWidth=e.$characterSize.width;e=e.$measureCharWidth("\u05d4");this.charWidths[a.L]=this.charWidths[a.EN]=this.charWidths[a.ON_R]=l;this.charWidths[a.R]=this.charWidths[a.AN]=e;this.charWidths[a.R_H]=g.isChrome?e:.45*e;this.charWidths[a.B]=
0;this.currentRow=null}};this.getShowInvisibles=function(){return this.showInvisibles};this.setShowInvisibles=function(e){this.showInvisibles=e;this.currentRow=null};this.setEolChar=function(e){this.EOL=e};this.setTextDir=function(e){this.isRtlDir=e};this.getPosLeft=function(e){e-=this.wrapIndent;var l=a.getVisualFromLogicalIdx(0<e?e-1:0,this.bidiMap),p=this.bidiMap.bidiLevels,u=0;0===e&&0!==p[l]%2&&l++;for(var c=0;c<l;c++)u+=this.charWidths[p[c]];return 0!==e&&0===p[l]%2&&(u+=this.charWidths[p[l]]),
this.wrapIndent&&(u+=this.wrapIndent*this.charWidths[a.L]),u};this.getSelections=function(e,l){var p=this.bidiMap,u=p.bidiLevels,c=this.wrapIndent*this.charWidths[a.L],m=[],n=Math.min(e,l)-this.wrapIndent;l=Math.max(e,l)-this.wrapIndent;for(var w=!1,z=!1,x=0,J=0;J<u.length;J++)w=p.logicalFromVisual[J],e=u[J],(w=w>=n&&w<l)&&!z?x=c:!w&&z&&m.push({left:x,width:c-x}),c+=this.charWidths[e],z=w;return w&&J===u.length&&m.push({left:x,width:c-x}),m};this.offsetToCol=function(e){var l=0;e=Math.max(e,0);var p=
0,u=0,c=this.bidiMap.bidiLevels,m=this.charWidths[c[u]];for(this.wrapIndent&&(e-=this.wrapIndent*this.charWidths[a.L]);e>p+m/2;){p+=m;if(u===c.length-1){m=0;break}m=this.charWidths[c[++u]]}return 0<u&&0!==c[u-1]%2&&0===c[u]%2?(e<p&&u--,l=this.bidiMap.logicalFromVisual[u]):0<u&&0===c[u-1]%2&&0!==c[u]%2?l=1+(e>p?this.bidiMap.logicalFromVisual[u]:this.bidiMap.logicalFromVisual[u-1]):this.isRtlDir&&u===c.length-1&&0===m&&0===c[u-1]%2||!this.isRtlDir&&0===u&&0!==c[u]%2?l=1+this.bidiMap.logicalFromVisual[u]:
(0<u&&0!==c[u-1]%2&&0!==m&&u--,l=this.bidiMap.logicalFromVisual[u]),l+this.wrapIndent}}).call(d.prototype);N.BidiHandler=d});
define("ace/range",["require","exports","module"],function(d,N,W){var a=function(f,g,h,e){this.start={row:f,column:g};this.end={row:h,column:e}};(function(){this.isEqual=function(f){return this.start.row===f.start.row&&this.end.row===f.end.row&&this.start.column===f.start.column&&this.end.column===f.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(f,g){return 0==this.compare(f,g)};this.compareRange=
function(f){var g,h=f.end;f=f.start;return g=this.compare(h.row,h.column),1==g?(g=this.compare(f.row,f.column),1==g?2:0==g?1:0):-1==g?-2:(g=this.compare(f.row,f.column),-1==g?-1:1==g?42:0)};this.comparePoint=function(f){return this.compare(f.row,f.column)};this.containsRange=function(f){return 0==this.comparePoint(f.start)&&0==this.comparePoint(f.end)};this.intersects=function(f){f=this.compareRange(f);return-1==f||0==f||1==f};this.isEnd=function(f,g){return this.end.row==f&&this.end.column==g};this.isStart=
function(f,g){return this.start.row==f&&this.start.column==g};this.setStart=function(f,g){"object"==typeof f?(this.start.column=f.column,this.start.row=f.row):(this.start.row=f,this.start.column=g)};this.setEnd=function(f,g){"object"==typeof f?(this.end.column=f.column,this.end.row=f.row):(this.end.row=f,this.end.column=g)};this.inside=function(f,g){return 0==this.compare(f,g)?this.isEnd(f,g)||this.isStart(f,g)?!1:!0:!1};this.insideStart=function(f,g){return 0==this.compare(f,g)?this.isEnd(f,g)?!1:
!0:!1};this.insideEnd=function(f,g){return 0==this.compare(f,g)?this.isStart(f,g)?!1:!0:!1};this.compare=function(f,g){return this.isMultiLine()||f!==this.start.row?f<this.start.row?-1:f>this.end.row?1:this.start.row===f?g>=this.start.column?0:-1:this.end.row===f?g<=this.end.column?0:1:0:g<this.start.column?-1:g>this.end.column?1:0};this.compareStart=function(f,g){return this.start.row==f&&this.start.column==g?-1:this.compare(f,g)};this.compareEnd=function(f,g){return this.end.row==f&&this.end.column==
g?1:this.compare(f,g)};this.compareInside=function(f,g){return this.end.row==f&&this.end.column==g?1:this.start.row==f&&this.start.column==g?-1:this.compare(f,g)};this.clipRows=function(f,g){if(this.end.row>g)var h={row:g+1,column:0};else this.end.row<f&&(h={row:f,column:0});if(this.start.row>g)var e={row:g+1,column:0};else this.start.row<f&&(e={row:f,column:0});return a.fromPoints(e||this.start,h||this.end)};this.extend=function(f,g){var h=this.compare(f,g);if(0==h)return this;if(-1==h)var e={row:f,
column:g};else var l={row:f,column:g};return a.fromPoints(e||this.start,l||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return a.fromPoints(this.start,this.end)};this.collapseRows=function(){return 0==this.end.column?new a(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new a(this.start.row,0,this.end.row,0)};this.toScreenRange=function(f){var g=
f.documentToScreenPosition(this.start);f=f.documentToScreenPosition(this.end);return new a(g.row,g.column,f.row,f.column)};this.moveBy=function(f,g){this.start.row+=f;this.start.column+=g;this.end.row+=f;this.end.column+=g}}).call(a.prototype);a.fromPoints=function(f,g){return new a(f.row,f.column,g.row,g.column)};a.comparePoints=function(f,g){return f.row-g.row||f.column-g.column};a.comparePoints=function(f,g){return f.row-g.row||f.column-g.column};N.Range=a});
define("ace/selection","require exports module ace/lib/oop ace/lib/lang ace/lib/event_emitter ace/range".split(" "),function(d,N,W){var a=d("./lib/oop"),f=d("./lib/lang"),g=d("./lib/event_emitter").EventEmitter,h=d("./range").Range;d=function(e){this.session=e;this.doc=e.getDocument();this.clearSelection();this.lead=this.selectionLead=this.doc.createAnchor(0,0);this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var l=this;this.lead.on("change",function(p){l._emit("changeCursor");l.$isEmpty||
l._emit("changeSelection");!l.$keepDesiredColumnOnChange&&p.old.column!=p.value.column&&(l.$desiredColumn=null)});this.selectionAnchor.on("change",function(){l.$isEmpty||l._emit("changeSelection")})};(function(){a.implement(this,g);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=
function(e,l){this.anchor.setPosition(e,l);this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))};this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.shiftSelection=function(e){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+e);else{var l=this.getSelectionAnchor(),p=this.getSelectionLead(),u=this.isBackwards();u&&0===l.column||this.setSelectionAnchor(l.row,
l.column+e);(u||0!==p.column)&&this.$moveSelection(function(){this.moveCursorTo(p.row,p.column+e)})}};this.isBackwards=function(){var e=this.anchor,l=this.lead;return e.row>l.row||e.row==l.row&&e.column>l.column};this.getRange=function(){var e=this.anchor,l=this.lead;return this.isEmpty()?h.fromPoints(l,l):this.isBackwards()?h.fromPoints(l,e):h.fromPoints(e,l)};this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))};this.selectAll=function(){var e=this.doc.getLength()-
1;this.setSelectionAnchor(0,0);this.moveCursorTo(e,this.doc.getLine(e).length)};this.setRange=this.setSelectionRange=function(e,l){l?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column));this.getRange().isEmpty()&&(this.$isEmpty=!0);this.$desiredColumn=null};this.$moveSelection=function(e){var l=this.lead;this.$isEmpty&&this.setSelectionAnchor(l.row,l.column);e.call(this)};
this.selectTo=function(e,l){this.$moveSelection(function(){this.moveCursorTo(e,l)})};this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})};this.moveTo=function(e,l){this.clearSelection();this.moveCursorTo(e,l)};this.moveToPosition=function(e){this.clearSelection();this.moveCursorToPosition(e)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};
this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};
this.getWordRange=function(e,l){"undefined"==typeof l&&(l=e||this.lead,e=l.row,l=l.column);return this.session.getWordRange(e,l)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var e=this.getCursor();e=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(e)};this.getLineRange=function(e,l){e="number"==typeof e?e:this.lead.row;var p,u=this.session.getFoldLine(e);return u?(e=u.start.row,p=u.end.row):p=e,!0===l?new h(e,0,p,this.session.getLine(p).length):
new h(e,0,p+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.wouldMoveIntoSoftTab=function(e,l,p){var u=e.column,c=e.column+l;return 0>p&&(u=e.column-l,c=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(u,c).split(" ").length-1==l};this.moveCursorLeft=function(){var e=this.lead.getPosition(),l;(l=this.session.getFoldAt(e.row,e.column,-1))?
this.moveCursorTo(l.start.row,l.start.column):0===e.column?0<e.row&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length):(l=this.session.getTabSize(),this.wouldMoveIntoSoftTab(e,l,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-l):this.moveCursorBy(0,-1))};this.moveCursorRight=function(){var e=this.lead.getPosition();if(e=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<
this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var l=this.session.getTabSize();e=this.lead;this.wouldMoveIntoSoftTab(e,l,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,l):this.moveCursorBy(0,1)}};this.moveCursorLineStart=function(){var e=this.lead.row,l=this.lead.column,p=this.session.documentToScreenRow(e,l);p=this.session.screenToDocumentPosition(p,0);e=this.session.getDisplayLine(e,null,p.row,p.column).match(/^\s*/);e[0].length!=l&&!this.session.$useEmacsStyleLineStart&&
(p.column+=e[0].length);this.moveCursorToPosition(p)};this.moveCursorLineEnd=function(){var e=this.lead;e=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==e.column){var l=this.session.getLine(e.row);e.column==l.length&&(l=l.search(/\s+$/),0<l&&(e.column=l))}this.moveCursorTo(e.row,e.column)};this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,l=this.doc.getLine(e).length;this.moveCursorTo(e,l)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};
this.moveCursorLongWordRight=function(){var e=this.lead.row,l=this.lead.column,p=this.doc.getLine(e),u=p.substring(l);this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;var c=this.session.getFoldAt(e,l,1);c?this.moveCursorTo(c.end.row,c.end.column):(this.session.nonTokenRe.exec(u)&&(l+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,u=p.substring(l)),l>=p.length?(this.moveCursorTo(e,p.length),this.moveCursorRight(),e<this.doc.getLength()-1&&this.moveCursorWordRight()):
(this.session.tokenRe.exec(u)&&(l+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,l)))};this.moveCursorLongWordLeft=function(){var e=this.lead.row,l=this.lead.column,p;(p=this.session.getFoldAt(e,l,-1))?this.moveCursorTo(p.start.row,p.start.column):(p=this.session.getFoldStringAt(e,l,-1),null==p&&(p=this.doc.getLine(e).substring(0,l)),p=f.stringReverse(p),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(p)&&(l-=
this.session.nonTokenRe.lastIndex,p=p.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=l?(this.moveCursorTo(e,0),this.moveCursorLeft(),0<e&&this.moveCursorWordLeft()):(this.session.tokenRe.exec(p)&&(l-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,l)))};this.$shortWordEndIndex=function(e){var l=0,p,u=/\s/,c=this.session.tokenRe;c.lastIndex=0;if(this.session.tokenRe.exec(e))l=this.session.tokenRe.lastIndex;else{for(;(p=e[l])&&u.test(p);)l++;
if(1>l)for(c.lastIndex=0;(p=e[l])&&!c.test(p);)if(c.lastIndex=0,l++,u.test(p)){if(2<l){l--;break}for(;(p=e[l])&&u.test(p);)l++;if(2<l)break}}return c.lastIndex=0,l};this.moveCursorShortWordRight=function(){var e=this.lead.row,l=this.lead.column,p=this.doc.getLine(e),u=p.substring(l),c=this.session.getFoldAt(e,l,1);if(c)return this.moveCursorTo(c.end.row,c.end.column);if(l==p.length){l=this.doc.getLength();do e++,u=this.doc.getLine(e);while(e<l&&/^\s*$/.test(u));/^\s+/.test(u)||(u="");l=0}u=this.$shortWordEndIndex(u);
this.moveCursorTo(e,l+u)};this.moveCursorShortWordLeft=function(){var e=this.lead.row,l=this.lead.column,p;if(p=this.session.getFoldAt(e,l,-1))return this.moveCursorTo(p.start.row,p.start.column);p=this.session.getLine(e).substring(0,l);if(0===l){do e--,p=this.doc.getLine(e);while(0<e&&/^\s*$/.test(p));l=p.length;/\s+$/.test(p)||(p="")}p=f.stringReverse(p);p=this.$shortWordEndIndex(p);return this.moveCursorTo(e,l-p)};this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():
this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()};this.moveCursorBy=function(e,l){var p=this.session.documentToScreenPosition(this.lead.row,this.lead.column),u;0===l&&(0!==e&&(this.session.$bidiHandler.isBidiRow(p.row,this.lead.row)?(u=this.session.$bidiHandler.getPosLeft(p.column),p.column=Math.round(u/this.session.$bidiHandler.charWidths[0])):u=p.column*this.session.$bidiHandler.charWidths[0]),
this.$desiredColumn?p.column=this.$desiredColumn:this.$desiredColumn=p.column);p=this.session.screenToDocumentPosition(p.row+e,p.column,u);0!==e&&0===l&&p.row===this.lead.row&&p.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[p.row]&&(0<p.row||0<e)&&p.row++;this.moveCursorTo(p.row,p.column+l,0===l)};this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)};this.moveCursorTo=function(e,l,p){var u=this.session.getFoldAt(e,l,1);u&&(e=u.start.row,l=u.start.column);
this.$keepDesiredColumnOnChange=!0;u=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(u.charAt(l))&&u.charAt(l-1)&&(this.lead.row==e&&this.lead.column==l+1?--l:l+=1);this.lead.setPosition(e,l);this.$keepDesiredColumnOnChange=!1;p||(this.$desiredColumn=null)};this.moveCursorToScreen=function(e,l,p){e=this.session.screenToDocumentPosition(e,l);this.moveCursorTo(e.row,e.column,p)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=function(e){this.setSelectionRange(e,
e.cursor==e.start);this.$desiredColumn=e.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(e){var l=this.getRange();return e?(e.start.column=l.start.column,e.start.row=l.start.row,e.end.column=l.end.column,e.end.row=l.end.row):e=l,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e};this.getRangeOfMovements=function(e){var l=this.getCursor();try{e(this);var p=this.getCursor();return h.fromPoints(l,p)}catch(u){return h.fromPoints(l,l)}finally{this.moveCursorToPosition(l)}};
this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(l){var p=l.clone();return p.isBackwards=l.cursor==l.start,p});else e=this.getRange(),e.isBackwards=this.isBackwards();return e};this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var l=e.length;l--;){var p=h.fromPoints(e[l].start,e[l].end);e[l].isBackwards&&(p.cursor=p.start);this.addRange(p,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e);this.setSelectionRange(e,e.isBackwards)};
this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var l=this.ranges.length;l--;)if(!this.ranges[l].isEqual(e[l]))return!1;return!0}}).call(d.prototype);N.Selection=d});
define("ace/tokenizer",["require","exports","module","ace/config"],function(d,N,W){var a=d("./config"),f=2E3;d=function(g){this.states=g;this.regExps={};this.matchMappings={};for(var h in this.states){g=this.states[h];for(var e=[],l=0,p=this.matchMappings[h]={defaultToken:"text"},u="g",c=[],m=0;m<g.length;m++){var n=g[m];n.defaultToken&&(p.defaultToken=n.defaultToken);n.caseInsensitive&&(u="gi");if(null!=n.regex){n.regex instanceof RegExp&&(n.regex=n.regex.toString().slice(1,-1));var w=n.regex,z=
(new RegExp("(?:("+w+")|(.))")).exec("a").length-2;Array.isArray(n.token)?1==n.token.length||1==z?n.token=n.token[0]:z-1!=n.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:n,groupCount:z-1}),n.token=n.token[0]):(n.tokenArray=n.token,n.token=null,n.onMatch=this.$arrayTokens):"function"==typeof n.token&&!n.onMatch&&(1<z?n.onMatch=this.$applyToken:n.onMatch=n.token);1<z&&(/\\\d/.test(n.regex)?w=n.regex.replace(/\\([0-9]+)/g,function(x,J){return"\\"+(parseInt(J,
10)+l+1)}):(z=1,w=this.removeCapturingGroups(n.regex)),!n.splitRegex&&"string"!=typeof n.token&&c.push(n));p[l]=m;l+=z;e.push(w);n.onMatch||(n.onMatch=null)}}e.length||(p[0]=0,e.push("$"));c.forEach(function(x){x.splitRegex=this.createSplitterRegexp(x.regex,u)},this);this.regExps[h]=new RegExp("("+e.join(")|(")+")|($)",u)}};(function(){this.$setMaxTokenCount=function(g){f=g|0};this.$applyToken=function(g){var h=this.splitRegex.exec(g).slice(1),e=this.token.apply(this,h);if("string"==typeof e)return[{type:e,
value:g}];g=[];for(var l=0,p=e.length;l<p;l++)h[l]&&(g[g.length]={type:e[l],value:h[l]});return g};this.$arrayTokens=function(g){if(!g)return[];g=this.splitRegex.exec(g);if(!g)return"text";for(var h=[],e=this.tokenArray,l=0,p=e.length;l<p;l++)g[l+1]&&(h[h.length]={type:e[l],value:g[l+1]});return h};this.removeCapturingGroups=function(g){return g.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(h,e){return e?"(?:":h})};this.createSplitterRegexp=function(g,h){if(-1!=g.indexOf("(?=")){var e=
0,l=!1,p={};g.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(u,c,m,n,w,z){return l?l="]"!=w:w?l=!0:n?(e==p.stack&&(p.end=z+1,p.stack=-1),e--):m&&(e++,1!=m.length&&(p.stack=e,p.start=z)),u});null!=p.end&&/^\)*$/.test(g.substr(p.end))&&(g=g.substring(0,p.start)+g.substr(p.end))}return"^"!=g.charAt(0)&&(g="^"+g),"$"!=g.charAt(g.length-1)&&(g+="$"),new RegExp(g,(h||"").replace("g",""))};this.getLineTokens=function(g,h){if(h&&"string"!=typeof h){var e=h.slice(0);h=e[0];"#tmp"===h&&(e.shift(),
h=e.shift())}else e=[];var l=h||"start",p=this.states[l];p||(l="start",p=this.states[l]);var u=this.matchMappings[l],c=this.regExps[l];c.lastIndex=0;for(var m,n=[],w=0,z=0,x={type:null,value:""};m=c.exec(g);){var J=u.defaultToken,v=null,K=m[0],D=c.lastIndex;if(D-K.length>w){var M=g.substring(w,D-K.length);x.type==J?x.value+=M:(x.type&&n.push(x),x={type:J,value:M})}for(M=0;M<m.length-2;M++)if(void 0!==m[M+1]){v=p[u[M]];v.onMatch?J=v.onMatch(K,l,e,g):J=v.token;v.next&&("string"==typeof v.next?l=v.next:
l=v.next(l,e),p=this.states[l],p||(this.reportError("state doesn't exist",l),l="start",p=this.states[l]),u=this.matchMappings[l],w=D,c=this.regExps[l],c.lastIndex=D);v.consumeLineEnd&&(w=D);break}if(K)if("string"==typeof J)v&&!1===v.merge||x.type!==J?(x.type&&n.push(x),x={type:J,value:K}):x.value+=K;else if(J)for(x.type&&n.push(x),x={type:null,value:""},M=0;M<J.length;M++)n.push(J[M]);if(w==g.length)break;w=D;if(z++>f){for(z>2*g.length&&this.reportError("infinite loop with in ace tokenizer",{startState:h,
line:g});w<g.length;)x.type&&n.push(x),x={value:g.substring(w,w+=2E3),type:"overflow"};l="start";e=[];break}}return x.type&&n.push(x),1<e.length&&e[0]!==l&&e.unshift("#tmp",l),{tokens:n,state:e.length?e:l}};this.reportError=a.reportError}).call(d.prototype);N.Tokenizer=d});
define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(d,N,W){var a=d("../lib/lang");d=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(h,e){if(e)for(c in h){for(var l=h[c],p=0;p<l.length;p++){var u=l[p];if(u.next||u.onMatch)"string"==typeof u.next&&0!==u.next.indexOf(e)&&(u.next=e+u.next),u.nextState&&0!==u.nextState.indexOf(e)&&(u.nextState=e+u.nextState)}this.$rules[e+c]=l}else for(var c in h)this.$rules[c]=
h[c]};this.getRules=function(){return this.$rules};this.embedRules=function(h,e,l,p,u){h="function"==typeof h?(new h).getRules():h;if(p)for(var c=0;c<p.length;c++)p[c]=e+p[c];else for(c in p=[],h)p.push(e+c);this.addRules(h,e);if(l)for(u=Array.prototype[u?"push":"unshift"],c=0;c<p.length;c++)u.apply(this.$rules[p[c]],a.deepCopy(l));this.$embeds||(this.$embeds=[]);this.$embeds.push(e)};this.getEmbeds=function(){return this.$embeds};var f=function(h,e){return("start"!=h||e.length)&&e.unshift(this.nextState,
h),this.nextState},g=function(h,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){function h(p){p=l[p];p.processed=!0;for(var u=0;u<p.length;u++){var c=p[u],m=null;Array.isArray(c)&&(m=c,c={});!c.regex&&c.start&&(c.regex=c.start,c.next||(c.next=[]),c.next.push({defaultToken:c.token},{token:c.token+".end",regex:c.end||c.start,next:"pop"}),c.token+=".start",c.push=!0);var n=c.next||c.push;if(n&&Array.isArray(n)){var w=c.stateName;w||(w=c.token,"string"!=typeof w&&(w=w[0]||""),l[w]&&
(w+=e++));l[w]=n;c.next=w;h(w)}else"pop"==n&&(c.next=g);c.push&&(c.nextState=c.next||c.push,c.next=f,delete c.push);if(c.rules)for(var z in c.rules)l[z]?l[z].push&&l[z].push.apply(l[z],c.rules[z]):l[z]=c.rules[z];(n="string"==typeof c?c:c.include)&&(Array.isArray(n)?m=n.map(function(x){return l[x]}):m=l[n]);m&&(m=[u,1].concat(m),c.noEscape&&(m=m.filter(function(x){return!x.next})),p.splice.apply(p,m),u--);c.keywordMap&&(c.token=this.createKeywordMapper(c.keywordMap,c.defaultToken||"text",c.caseInsensitive),
delete c.defaultToken)}}var e=0,l=this.$rules;Object.keys(l).forEach(h,this)};this.createKeywordMapper=function(h,e,l,p){var u=Object.create(null);return Object.keys(h).forEach(function(c){var m=h[c];l&&(m=m.toLowerCase());m=m.split(p||"|");for(var n=m.length;n--;)u[m[n]]=c}),Object.getPrototypeOf(u)&&(u.__proto__=null),this.$keywordList=Object.keys(u),h=null,l?function(c){return u[c.toLowerCase()]||e}:function(c){return u[c]||e}};this.getKeywords=function(){return this.$keywords}}).call(d.prototype);
N.TextHighlightRules=d});
define("ace/mode/behaviour",["require","exports","module"],function(d,N,W){d=function(){this.$behaviours={}};(function(){this.add=function(a,f,g){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[a]:this.$behaviours[a]={}}this.$behaviours[a][f]=g};this.addBehaviours=function(a){for(var f in a)for(var g in a[f])this.add(f,g,a[f][g])};this.remove=function(a){this.$behaviours&&this.$behaviours[a]&&delete this.$behaviours[a]};this.inherit=function(a,f){a="function"==typeof a?
(new a).getBehaviours(f):a.getBehaviours(f);this.addBehaviours(a)};this.getBehaviours=function(a){if(!a)return this.$behaviours;for(var f={},g=0;g<a.length;g++)this.$behaviours[a[g]]&&(f[a[g]]=this.$behaviours[a[g]]);return f}}).call(d.prototype);N.Behaviour=d});
define("ace/token_iterator",["require","exports","module","ace/range"],function(d,N,W){var a=d("./range").Range;d=function(f,g,h){this.$session=f;this.$row=g;this.$rowTokens=f.getTokens(g);this.$tokenIndex=(f=f.getTokenAt(g,h))?f.index:-1};(function(){this.stepBackward=function(){for(--this.$tokenIndex;0>this.$tokenIndex;){--this.$row;if(0>this.$row)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};
this.stepForward=function(){this.$tokenIndex+=1;for(var f;this.$tokenIndex>=this.$rowTokens.length;){this.$row+=1;f||(f=this.$session.getLength());if(this.$row>=f)return this.$row=f-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var f=this.$rowTokens,g=this.$tokenIndex,
h=f[g].start;if(void 0!==h)return h;for(h=0;0<g;)--g,h+=f[g].value.length;return h};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var f=this.$rowTokens[this.$tokenIndex],g=this.getCurrentTokenColumn();return new a(this.$row,g,this.$row,g+f.value.length)}}).call(d.prototype);N.TokenIterator=d});
define("ace/mode/behaviour/cstyle","require exports module ace/lib/oop ace/mode/behaviour ace/token_iterator ace/lib/lang".split(" "),function(d,N,W){W=d("../../lib/oop");var a=d("../behaviour").Behaviour,f=d("../../token_iterator").TokenIterator,g=d("../../lib/lang"),h=["text","paren.rparen","punctuation.operator"],e=["text","paren.rparen","punctuation.operator","comment"],l,p={},u={'"':'"',"'":"'"},c=function(w){var z=-1;w.multiSelect&&(z=w.selection.index,p.rangeCount!=w.multiSelect.rangeCount&&
(p={rangeCount:w.multiSelect.rangeCount}));if(p[z])return l=p[z];l=p[z]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(w,z,x,J){var v=w.end.row-w.start.row;return{text:x+z+J,selection:[0,w.start.column+1,v,w.end.column+(v?0:1)]}},n=function(w){this.add("braces","insertion",function(z,x,J,v,K){z=J.getCursorPosition();x=v.doc.getLine(z.row);if("{"==K){c(J);K=J.getSelectionRange();
var D=v.doc.getTextRange(K);if(""!==D&&"{"!==D&&J.getWrapBehavioursEnabled())return m(K,D,"{","}");if(n.isSaneInsertion(J,v))return/[\]\}\)]/.test(x[z.column])||J.inMultiSelectMode||w&&w.braces?(n.recordAutoInsert(J,v,"}"),{text:"{}",selection:[1,1]}):(n.recordMaybeInsert(J,v,"{"),{text:"{",selection:[1,1]})}else if("}"==K){if(c(J),D=x.substring(z.column,z.column+1),"}"==D&&null!==v.$findOpeningBracket("}",{column:z.column+1,row:z.row})&&n.isAutoInsertedClosing(z,x,K))return n.popAutoInsertedClosing(),
{text:"",selection:[1,1]}}else{if("\n"==K||"\r\n"==K){c(J);J="";n.isMaybeInsertedClosing(z,x)&&(J=g.stringRepeat("}",l.maybeInsertedBrackets),n.clearMaybeInsertedClosing());D=x.substring(z.column,z.column+1);if("}"===D){z=v.findMatchingBracket({row:z.row,column:z.column+1},"}");if(!z)return null;z=this.$getIndent(v.getLine(z.row))}else{if(!J){n.clearMaybeInsertedClosing();return}z=this.$getIndent(x)}v=z+v.getTabString();return{text:"\n"+v+"\n"+z+J,selection:[1,v.length,1,v.length]}}n.clearMaybeInsertedClosing()}});
this.add("braces","deletion",function(z,x,J,v,K){z=v.doc.getTextRange(K);if(!K.isMultiLine()&&"{"==z){c(J);if("}"==v.doc.getLine(K.start.row).substring(K.end.column,K.end.column+1))return K.end.column++,K;l.maybeInsertedBrackets--}});this.add("parens","insertion",function(z,x,J,v,K){if("("==K){c(J);K=J.getSelectionRange();z=v.doc.getTextRange(K);if(""!==z&&J.getWrapBehavioursEnabled())return m(K,z,"(",")");if(n.isSaneInsertion(J,v))return n.recordAutoInsert(J,v,")"),{text:"()",selection:[1,1]}}else if(")"==
K&&(c(J),J=J.getCursorPosition(),z=v.doc.getLine(J.row),")"==z.substring(J.column,J.column+1)&&null!==v.$findOpeningBracket(")",{column:J.column+1,row:J.row})&&n.isAutoInsertedClosing(J,z,K)))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}});this.add("parens","deletion",function(z,x,J,v,K){z=v.doc.getTextRange(K);if(!K.isMultiLine()&&"("==z&&(c(J),")"==v.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)))return K.end.column++,K});this.add("brackets","insertion",function(z,
x,J,v,K){if("["==K){c(J);K=J.getSelectionRange();z=v.doc.getTextRange(K);if(""!==z&&J.getWrapBehavioursEnabled())return m(K,z,"[","]");if(n.isSaneInsertion(J,v))return n.recordAutoInsert(J,v,"]"),{text:"[]",selection:[1,1]}}else if("]"==K&&(c(J),J=J.getCursorPosition(),z=v.doc.getLine(J.row),"]"==z.substring(J.column,J.column+1)&&null!==v.$findOpeningBracket("]",{column:J.column+1,row:J.row})&&n.isAutoInsertedClosing(J,z,K)))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}});this.add("brackets",
"deletion",function(z,x,J,v,K){z=v.doc.getTextRange(K);if(!K.isMultiLine()&&"["==z&&(c(J),"]"==v.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)))return K.end.column++,K});this.add("string_dquotes","insertion",function(z,x,J,v,K){z=v.$mode.$quotes||u;if(1==K.length&&z[K]&&(!this.lineCommentStart||-1==this.lineCommentStart.indexOf(K))){c(J);x=J.getSelectionRange();var D=v.doc.getTextRange(x);if(""!==D&&(1!=D.length||!z[D])&&J.getWrapBehavioursEnabled())return m(x,D,K,K);if(!D){x=
J.getCursorPosition();z=v.doc.getLine(x.row);J=z.substring(x.column-1,x.column);z=z.substring(x.column,x.column+1);D=v.getTokenAt(x.row,x.column);x=v.getTokenAt(x.row,x.column+1);if("\\"==J&&D&&/escape/.test(D.type))return null;D=D&&/string|escape/.test(D.type);var M=!x||/string|escape/.test(x.type);if(z==K)(v=D!==M)&&/string\.end/.test(x.type)&&(v=!1);else{if(D&&!M||D&&M)return null;x=v.$mode.tokenRe;x.lastIndex=0;v=x.test(J);x.lastIndex=0;J=x.test(J);if(v||J||z&&!/[\s;,.})\]\\]/.test(z))return null;
v=!0}return{text:v?K+K:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(z,x,J,v,K){z=v.doc.getTextRange(K);if(!K.isMultiLine()&&('"'==z||"'"==z)&&(c(J),v.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)==z))return K.end.column++,K})};n.isSaneInsertion=function(w,z){w=w.getCursorPosition();var x=new f(z,w.row,w.column);return this.$matchTokenType(x.getCurrentToken()||"text",h)||(z=new f(z,w.row,w.column+1),this.$matchTokenType(z.getCurrentToken()||"text",h))?
(x.stepForward(),x.getCurrentTokenRow()!==w.row||this.$matchTokenType(x.getCurrentToken()||"text",e)):!1};n.$matchTokenType=function(w,z){return-1<z.indexOf(w.type||w)};n.recordAutoInsert=function(w,z,x){w=w.getCursorPosition();z=z.doc.getLine(w.row);this.isAutoInsertedClosing(w,z,l.autoInsertedLineEnd[0])||(l.autoInsertedBrackets=0);l.autoInsertedRow=w.row;l.autoInsertedLineEnd=x+z.substr(w.column);l.autoInsertedBrackets++};n.recordMaybeInsert=function(w,z,x){w=w.getCursorPosition();z=z.doc.getLine(w.row);
this.isMaybeInsertedClosing(w,z)||(l.maybeInsertedBrackets=0);l.maybeInsertedRow=w.row;l.maybeInsertedLineStart=z.substr(0,w.column)+x;l.maybeInsertedLineEnd=z.substr(w.column);l.maybeInsertedBrackets++};n.isAutoInsertedClosing=function(w,z,x){return 0<l.autoInsertedBrackets&&w.row===l.autoInsertedRow&&x===l.autoInsertedLineEnd[0]&&z.substr(w.column)===l.autoInsertedLineEnd};n.isMaybeInsertedClosing=function(w,z){return 0<l.maybeInsertedBrackets&&w.row===l.maybeInsertedRow&&z.substr(w.column)===l.maybeInsertedLineEnd&&
z.substr(0,w.column)==l.maybeInsertedLineStart};n.popAutoInsertedClosing=function(){l.autoInsertedLineEnd=l.autoInsertedLineEnd.substr(1);l.autoInsertedBrackets--};n.clearMaybeInsertedClosing=function(){l&&(l.maybeInsertedBrackets=0,l.maybeInsertedRow=-1)};W.inherits(n,a);N.CstyleBehaviour=n});
define("ace/unicode",["require","exports","module"],function(d,N,W){N.packages={};d={L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"};
W=/\w{4}/g;for(var a in d)N.packages[a]=d[a].replace(W,"\\u$&")});
define("ace/mode/text","require exports module ace/tokenizer ace/mode/text_highlight_rules ace/mode/behaviour/cstyle ace/unicode ace/lib/lang ace/token_iterator ace/range".split(" "),function(d,N,W){var a=d("../tokenizer").Tokenizer,f=d("./text_highlight_rules").TextHighlightRules,g=d("./behaviour/cstyle").CstyleBehaviour,h=d("../unicode"),e=d("../lib/lang"),l=d("../token_iterator").TokenIterator,p=d("../range").Range;d=function(){this.HighlightRules=f};(function(){this.$defaultBehaviour=new g;this.tokenRe=
new RegExp("^["+h.packages.L+h.packages.Mn+h.packages.Mc+h.packages.Nd+h.packages.Pc+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+h.packages.L+h.packages.Mn+h.packages.Mc+h.packages.Nd+h.packages.Pc+"\\$_]|\\s])+","g");this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new a(this.$highlightRules.getRules())),this.$tokenizer};this.blockComment=this.lineCommentStart="";this.toggleCommentLines=
function(u,c,m,n){function w(Ia){for(var ja=m;ja<=n;ja++)Ia(z.getLine(ja),ja)}var z=c.doc,x=!0,J=!0,v=Infinity,K=c.getTabSize();u=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(T=this.lineCommentStart.map(e.escapeRegExp).join("|"),Q=this.lineCommentStart[0]):(T=e.escapeRegExp(this.lineCommentStart),Q=this.lineCommentStart);T=new RegExp("^(\\s*)(?:"+T+") ?");u=c.getUseSoftTabs();ca=function(Ia,ja){var ma=Ia.match(T);if(ma){var Aa=ma[1].length,Da=ma[0].length;!M(Ia,Aa,Da)&&" "==
ma[0][Da-1]&&Da--;z.removeInLine(ja,Aa,Da)}};var D=Q+" ";R=function(Ia,ja){if(!x||/\S/.test(Ia))M(Ia,v,v)?z.insertInLine({row:ja,column:v},D):z.insertInLine({row:ja,column:v},Q)};ha=function(Ia,ja){return T.test(Ia)};var M=function(Ia,ja,ma){for(var Aa=0;ja--&&" "==Ia.charAt(ja);)Aa++;if(0!=Aa%K)return!1;for(Aa=0;" "==Ia.charAt(ma++);)Aa++;return 2<K?Aa%K!=K-1:0==Aa%K}}else{if(!this.blockComment)return!1;var Q=this.blockComment.start,G=this.blockComment.end,T=new RegExp("^(\\s*)(?:"+e.escapeRegExp(Q)+
")"),S=new RegExp("(?:"+e.escapeRegExp(G)+")\\s*$"),R=function(Ia,ja){ha(Ia,ja)||x&&!/\S/.test(Ia)||(z.insertInLine({row:ja,column:Ia.length},G),z.insertInLine({row:ja,column:v},Q))},ca=function(Ia,ja){var ma;(ma=Ia.match(S))&&z.removeInLine(ja,Ia.length-ma[0].length,Ia.length);(ma=Ia.match(T))&&z.removeInLine(ja,ma[1].length,ma[0].length)},ha=function(Ia,ja){if(T.test(Ia))return!0;Ia=c.getTokens(ja);for(ja=0;ja<Ia.length;ja++)if("comment"===Ia[ja].type)return!0}}var ra=Infinity;w(function(Ia,ja){var ma=
Ia.search(/\S/);-1!==ma?(ma<v&&(v=ma),J&&!ha(Ia,ja)&&(J=!1)):ra>Ia.length&&(ra=Ia.length)});Infinity==v&&(v=ra,x=!1,J=!1);u&&0!=v%K&&(v=Math.floor(v/K)*K);w(J?ca:R)};this.toggleBlockComment=function(u,c,m,n){if(u=this.blockComment){!u.start&&u[0]&&(u=u[0]);var w=new l(c,n.row,n.column),z=w.getCurrentToken(),x=c.selection.toOrientedRange(),J,v;if(z&&/comment/.test(z.type)){for(var K,D;z&&/comment/.test(z.type);){z=z.value.indexOf(u.start);if(-1!=z){m=w.getCurrentTokenRow();w=w.getCurrentTokenColumn()+
z;K=new p(m,w,m,w+u.start.length);break}z=w.stepBackward()}w=new l(c,n.row,n.column);for(z=w.getCurrentToken();z&&/comment/.test(z.type);){z=z.value.indexOf(u.end);if(-1!=z){m=w.getCurrentTokenRow();w=w.getCurrentTokenColumn()+z;D=new p(m,w,m,w+u.end.length);break}z=w.stepForward()}D&&c.remove(D);K&&(c.remove(K),J=K.start.row,v=-u.start.length)}else v=u.start.length,J=m.start.row,c.insert(m.end,u.end),c.insert(m.start,u.start);x.start.row==J&&(x.start.column+=v);x.end.row==J&&(x.end.column+=v);c.selection.fromOrientedRange(x)}};
this.getNextLineIndent=function(u,c,m){return this.$getIndent(c)};this.checkOutdent=function(u,c,m){return!1};this.autoOutdent=function(u,c,m){};this.$getIndent=function(u){return u.match(/^\s*/)[0]};this.createWorker=function(u){return null};this.createModeDelegates=function(u){this.$embeds=[];this.$modes={};for(var c in u)u[c]&&(this.$embeds.push(c),this.$modes[c]=new u[c]);var m="toggleBlockComment toggleCommentLines getNextLineIndent checkOutdent autoOutdent transformAction getCompletions".split(" ");
for(c=0;c<m.length;c++)(function(n){var w=m[c],z=n[w];n[m[c]]=function(){return this.$delegator(w,arguments,z)}})(this)};this.$delegator=function(u,c,m){var n=c[0];"string"!=typeof n&&(n=n[0]);for(var w=0;w<this.$embeds.length;w++)if(this.$modes[this.$embeds[w]]){var z=n.split(this.$embeds[w]);if(!z[0]&&z[1])return c[0]=z[1],m=this.$modes[this.$embeds[w]],m[u].apply(m,c)}u=m.apply(this,c);return m?u:void 0};this.transformAction=function(u,c,m,n,w){if(this.$behaviour){var z=this.$behaviour.getBehaviours(),
x;for(x in z)if(z[x][c]){var J=z[x][c].apply(this,arguments);if(J)return J}}};this.getKeywords=function(u){if(!this.completionKeywords){var c=this.$tokenizer.rules,m=[];for(v in c)for(var n=c[v],w=0,z=n.length;w<z;w++)if("string"==typeof n[w].token)/keyword|support|storage/.test(n[w].token)&&m.push(n[w].regex);else if("object"==typeof n[w].token)for(var x=0,J=n[w].token.length;x<J;x++)if(/keyword|support|storage/.test(n[w].token[x])){var v=n[w].regex.match(/\(.+?\)/g)[x];m.push(v.substr(1,v.length-
2))}this.completionKeywords=m}return u?m.concat(this.$keywordList||[]):this.$keywordList};this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(u,c,m,n){return(this.$keywordList||this.$createKeywordList()).map(function(w){return{name:w,value:w,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(d.prototype);N.Mode=d});
define("ace/apply_delta",["require","exports","module"],function(d,N,W){N.applyDelta=function(a,f,g){g=f.start.row;var h=f.start.column,e=a[g]||"";switch(f.action){case "insert":if(1===f.lines.length)a[g]=e.substring(0,h)+f.lines[0]+e.substring(h);else{var l=[g,1].concat(f.lines);a.splice.apply(a,l);a[g]=e.substring(0,h)+a[g];a[g+f.lines.length-1]+=e.substring(h)}break;case "remove":l=f.end.column,f=f.end.row,g===f?a[g]=e.substring(0,h)+e.substring(l):a.splice(g,f-g+1,e.substring(0,h)+a[f].substring(l))}}});
define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,N,W){var a=d("./lib/oop"),f=d("./lib/event_emitter").EventEmitter;d=N.Anchor=function(g,h,e){this.$onChange=this.onChange.bind(this);this.attach(g);"undefined"==typeof e?this.setPosition(h.row,h.column):this.setPosition(h,e)};(function(){function g(h,e,l){l=l?h.column<=e.column:h.column<e.column;return h.row<e.row||h.row==e.row&&l}a.implement(this,f);this.getPosition=function(){return this.$clipPositionToDocument(this.row,
this.column)};this.getDocument=function(){return this.document};this.$insertRight=!1;this.onChange=function(h){if(!(h.start.row==h.end.row&&h.start.row!=this.row||h.start.row>this.row)){var e={row:this.row,column:this.column};var l=this.$insertRight,p="insert"==h.action,u=(p?1:-1)*(h.end.row-h.start.row),c=(p?1:-1)*(h.end.column-h.start.column),m=h.start;h=p?m:h.end;e=g(e,m,l)?{row:e.row,column:e.column}:g(h,e,!l)?{row:e.row+u,column:e.column+(e.row==h.row?c:0)}:{row:m.row,column:m.column};this.setPosition(e.row,
e.column,!0)}};this.setPosition=function(h,e,l){var p;l?p={row:h,column:e}:p=this.$clipPositionToDocument(h,e);if(this.row!=p.row||this.column!=p.column)h={row:this.row,column:this.column},this.row=p.row,this.column=p.column,this._signal("change",{old:h,value:p})};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.attach=function(h){this.document=h||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(h,e){var l={};return h>=
this.document.getLength()?(l.row=Math.max(0,this.document.getLength()-1),l.column=this.document.getLine(l.row).length):0>h?(l.row=0,l.column=0):(l.row=h,l.column=Math.min(this.document.getLine(l.row).length,Math.max(0,e))),0>e&&(l.column=0),l}}).call(d.prototype)});
define("ace/document","require exports module ace/lib/oop ace/apply_delta ace/lib/event_emitter ace/range ace/anchor".split(" "),function(d,N,W){var a=d("./lib/oop"),f=d("./apply_delta").applyDelta,g=d("./lib/event_emitter").EventEmitter,h=d("./range").Range,e=d("./anchor").Anchor;d=function(l){this.$lines=[""];0===l.length?this.$lines=[""]:Array.isArray(l)?this.insertMergedLines({row:0,column:0},l):this.insert({row:0,column:0},l)};(function(){a.implement(this,g);this.setValue=function(l){var p=this.getLength()-
1;this.remove(new h(0,0,p,this.getLine(p).length));this.insert({row:0,column:0},l)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(l,p){return new e(this,l,p)};0==="aaa".split(/a/).length?this.$split=function(l){return l.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(l){return l.split(/\r\n|\r|\n/)};this.$detectNewLine=function(l){this.$autoNewLine=(l=l.match(/^.*?(\r\n|\r|\n)/m))?l[1]:"\n";this._signal("changeNewLineMode")};
this.getNewLineCharacter=function(){switch(this.$newLineMode){case "windows":return"\r\n";case "unix":return"\n";default:return this.$autoNewLine||"\n"}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(l){this.$newLineMode!==l&&(this.$newLineMode=l,this._signal("changeNewLineMode"))};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(l){return"\r\n"==l||"\r"==l||"\n"==l};this.getLine=function(l){return this.$lines[l]||""};this.getLines=function(l,
p){return this.$lines.slice(l,p+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(l){return this.getLinesForRange(l).join(this.getNewLineCharacter())};this.getLinesForRange=function(l){if(l.start.row===l.end.row)var p=[this.getLine(l.start.row).substring(l.start.column,l.end.column)];else{p=this.getLines(l.start.row,l.end.row);p[0]=(p[0]||"").substring(l.start.column);var u=p.length-1;l.end.row-
l.start.row==u&&(p[u]=p[u].substring(0,l.end.column))}return p};this.insertLines=function(l,p){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(l,p)};this.removeLines=function(l,p){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(l,p)};this.insertNewLine=function(l){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),
this.insertMergedLines(l,["",""])};this.insert=function(l,p){return 1>=this.getLength()&&this.$detectNewLine(p),this.insertMergedLines(l,this.$split(p))};this.insertInLine=function(l,p){var u=this.clippedPos(l.row,l.column);l=this.pos(l.row,l.column+p.length);return this.applyDelta({start:u,end:l,action:"insert",lines:[p]},!0),this.clonePos(l)};this.clippedPos=function(l,p){var u=this.getLength();void 0===l?l=u:0>l?l=0:l>=u&&(l=u-1,p=void 0);u=this.getLine(l);return void 0==p&&(p=u.length),p=Math.min(Math.max(p,
0),u.length),{row:l,column:p}};this.clonePos=function(l){return{row:l.row,column:l.column}};this.pos=function(l,p){return{row:l,column:p}};this.$clipPosition=function(l){var p=this.getLength();return l.row>=p?(l.row=Math.max(0,p-1),l.column=this.getLine(p-1).length):(l.row=Math.max(0,l.row),l.column=Math.min(Math.max(l.column,0),this.getLine(l.row).length)),l};this.insertFullLines=function(l,p){l=Math.min(Math.max(l,0),this.getLength());var u=0;l<this.getLength()?(p=p.concat([""]),u=0):(p=[""].concat(p),
l--,u=this.$lines[l].length);this.insertMergedLines({row:l,column:u},p)};this.insertMergedLines=function(l,p){l=this.clippedPos(l.row,l.column);var u={row:l.row+p.length-1,column:(1==p.length?l.column:0)+p[p.length-1].length};return this.applyDelta({start:l,end:u,action:"insert",lines:p}),this.clonePos(u)};this.remove=function(l){var p=this.clippedPos(l.start.row,l.start.column);l=this.clippedPos(l.end.row,l.end.column);return this.applyDelta({start:p,end:l,action:"remove",lines:this.getLinesForRange({start:p,
end:l})}),this.clonePos(p)};this.removeInLine=function(l,p,u){p=this.clippedPos(l,p);l=this.clippedPos(l,u);return this.applyDelta({start:p,end:l,action:"remove",lines:this.getLinesForRange({start:p,end:l})},!0),this.clonePos(p)};this.removeFullLines=function(l,p){l=Math.min(Math.max(0,l),this.getLength()-1);p=Math.min(Math.max(0,p),this.getLength()-1);var u=p==this.getLength()-1&&0<l,c=p<this.getLength()-1,m=u?l-1:l;u=u?this.getLine(m).length:0;var n=c?p+1:p;c=c?0:this.getLine(n).length;m=new h(m,
u,n,c);l=this.$lines.slice(l,p+1);return this.applyDelta({start:m.start,end:m.end,action:"remove",lines:this.getLinesForRange(m)}),l};this.removeNewLine=function(l){l<this.getLength()-1&&0<=l&&this.applyDelta({start:this.pos(l,this.getLine(l).length),end:this.pos(l+1,0),action:"remove",lines:["",""]})};this.replace=function(l,p){l instanceof h||(l=h.fromPoints(l.start,l.end));if(0===p.length&&l.isEmpty())return l.start;if(p==this.getTextRange(l))return l.end;this.remove(l);var u;return p?u=this.insert(l.start,
p):u=l.start,u};this.applyDeltas=function(l){for(var p=0;p<l.length;p++)this.applyDelta(l[p])};this.revertDeltas=function(l){for(var p=l.length-1;0<=p;p--)this.revertDelta(l[p])};this.applyDelta=function(l,p){var u="insert"==l.action;(u?1>=l.lines.length&&!l.lines[0]:!h.comparePoints(l.start,l.end))||(u&&2E4<l.lines.length&&this.$splitAndapplyLargeDelta(l,2E4),f(this.$lines,l,p),this._signal("change",l))};this.$splitAndapplyLargeDelta=function(l,p){var u=l.lines,c=u.length,m=l.start.row,n=l.start.column,
w=0;do{var z=w;w+=p-1;var x=u.slice(z,w);if(w>c){l.lines=x;l.start.row=m+z;l.start.column=n;break}x.push("");this.applyDelta({start:this.pos(m+z,n),end:this.pos(m+w,n=0),action:l.action,lines:x},!0)}while(1)};this.revertDelta=function(l){this.applyDelta({start:this.clonePos(l.start),end:this.clonePos(l.end),action:"insert"==l.action?"remove":"insert",lines:l.lines.slice()})};this.indexToPosition=function(l,p){var u=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length;p=p||0;for(var m=
u.length;p<m;p++)if(l-=u[p].length+c,0>l)return{row:p,column:l+u[p].length+c};return{row:m-1,column:u[m-1].length}};this.positionToIndex=function(l,p){var u=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length,m=0,n=Math.min(l.row,u.length);for(p=p||0;p<n;++p)m+=u[p].length+c;return m+l.column}}).call(d.prototype);N.Document=d});
define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,N,W){var a=d("./lib/oop"),f=d("./lib/event_emitter").EventEmitter;d=function(g,h){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=g;var e=this;this.$worker=function(){if(e.running){for(var l=new Date,p=e.currentLine,u=-1,c=e.doc,m=p;e.lines[p];)p++;c=c.getLength();var n=0;for(e.running=!1;p<c;){e.$tokenizeRow(p);u=p;do p++;while(e.lines[p]);n++;if(0===n%
5&&20<new Date-l){e.running=setTimeout(e.$worker,20);break}}e.currentLine=p;-1==u&&(u=p);m<=u&&e.fireUpdateEvent(m,u)}}};(function(){a.implement(this,f);this.setTokenizer=function(g){this.tokenizer=g;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(g){this.doc=g;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(g,h){this._signal("update",{data:{first:g,last:h}})};this.start=function(g){this.currentLine=Math.min(g||0,this.currentLine,this.doc.getLength());
this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))};this.$updateOnChange=function(g){var h=g.start.row,e=g.end.row-h;0===e?this.lines[h]=null:"remove"==g.action?(this.lines.splice(h,e+1,null),this.states.splice(h,e+1,null)):(g=Array(e+1),g.unshift(h,1),this.lines.splice.apply(this.lines,g),this.states.splice.apply(this.states,
g));this.currentLine=Math.min(h,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){this.running&&clearTimeout(this.running);this.running=!1};this.getTokens=function(g){return this.lines[g]||this.$tokenizeRow(g)};this.getState=function(g){return this.currentLine==g&&this.$tokenizeRow(g),this.states[g]||"start"};this.$tokenizeRow=function(g){var h=this.doc.getLine(g);h=this.tokenizer.getLineTokens(h,this.states[g-1],g);return this.states[g]+""!=h.state+""?(this.states[g]=h.state,
this.lines[g+1]=null,this.currentLine>g+1&&(this.currentLine=g+1)):this.currentLine==g&&(this.currentLine=g+1),this.lines[g]=h.tokens}}).call(d.prototype);N.BackgroundTokenizer=d});
define("ace/search_highlight","require exports module ace/lib/lang ace/lib/oop ace/range".split(" "),function(d,N,W){var a=d("./lib/lang");d("./lib/oop");var f=d("./range").Range;d=function(g,h,e){this.setRegexp(g);this.clazz=h;this.type=e||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(g){this.regExp+""!=g+""&&(this.regExp=g,this.cache=[])};this.update=function(g,h,e,l){if(this.regExp)for(var p=l.lastRow,u=l.firstRow;u<=p;u++){var c=this.cache[u];null==c&&(c=a.getMatchOffsets(e.getLine(u),
this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(n){return new f(u,n.offset,u,n.offset+n.length)}),this.cache[u]=c.length?c:"");for(var m=c.length;m--;)h.drawSingleLineMarker(g,c[m].toScreenRange(e),this.clazz,l)}}}).call(d.prototype);N.SearchHighlight=d});
define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(d,N,W){function a(g,h){this.foldData=g;Array.isArray(h)?this.folds=h:h=this.folds=[h];g=h[h.length-1];this.range=new f(h[0].start.row,h[0].start.column,g.end.row,g.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(e){e.setFoldLine(this)},this)}var f=d("../range").Range;(function(){this.shiftRow=function(g){this.start.row+=g;this.end.row+=g;this.folds.forEach(function(h){h.start.row+=
g;h.end.row+=g})};this.addFold=function(g){if(g.sameRow){if(g.start.row<this.startRow||g.endRow>this.endRow)throw Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(g);this.folds.sort(function(h,e){return-h.range.compareEnd(e.start.row,e.start.column)});0<this.range.compareEnd(g.start.row,g.start.column)?(this.end.row=g.end.row,this.end.column=g.end.column):0>this.range.compareStart(g.end.row,g.end.column)&&(this.start.row=g.start.row,this.start.column=g.start.column)}else if(g.start.row==
this.end.row)this.folds.push(g),this.end.row=g.end.row,this.end.column=g.end.column;else{if(g.end.row!=this.start.row)throw Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(g);this.start.row=g.start.row;this.start.column=g.start.column}g.foldLine=this};this.containsRow=function(g){return g>=this.start.row&&g<=this.end.row};this.walk=function(g,h,e){var l=0,p=this.folds;var u=!0;null==h&&(h=this.end.row,e=this.end.column);for(var c=0;c<p.length;c++){var m=
p[c];var n=m.range.compareStart(h,e);if(-1==n){g(null,h,e,l,u);return}u=g(null,m.start.row,m.start.column,l,u);if((u=!u&&g(m.placeholder,m.start.row,m.start.column,l))||0===n)return;u=!m.sameRow;l=m.end.column}g(null,h,e,l,u)};this.getNextFoldTo=function(g,h){for(var e,l,p=0;p<this.folds.length;p++){e=this.folds[p];l=e.range.compareEnd(g,h);if(-1==l)return{fold:e,kind:"after"};if(0===l)return{fold:e,kind:"inside"}}return null};this.addRemoveChars=function(g,h,e){var l=this.getNextFoldTo(g,h);if(l){var p=
l.fold;if("inside"==l.kind&&p.start.column!=h&&p.start.row!=g)window.console&&window.console.log(g,h,p);else if(p.start.row==g){g=this.folds;h=g.indexOf(p);0===h&&(this.start.column+=e);for(h;h<g.length;h++){p=g[h];p.start.column+=e;if(!p.sameRow)return;p.end.column+=e}this.end.column+=e}}};this.split=function(g,h){var e=this.getNextFoldTo(g,h);if(!e||"inside"==e.kind)return null;h=this.folds;g=this.foldData;e=h.indexOf(e.fold);var l=h[e-1];this.end.row=l.end.row;this.end.column=l.end.column;h=h.splice(e,
h.length-e);h=new a(g,h);return g.splice(g.indexOf(this)+1,0,h),h};this.merge=function(g){for(var h=g.folds,e=0;e<h.length;e++)this.addFold(h[e]);h=this.foldData;h.splice(h.indexOf(g),1)};this.toString=function(){var g=[this.range.toString()+": ["];return this.folds.forEach(function(h){g.push("  "+h.toString())}),g.push("]"),g.join("\n")};this.idxToPosition=function(g){for(var h=0,e=0;e<this.folds.length;e++){var l=this.folds[e];g-=l.start.column-h;if(0>g)return{row:l.start.row,column:l.start.column+
g};g-=l.placeholder.length;if(0>g)return l.start;h=l.end.column}return{row:this.end.row,column:this.end.column+g}}}).call(a.prototype);N.FoldLine=a});
define("ace/range_list",["require","exports","module","ace/range"],function(d,N,W){var a=d("./range").Range.comparePoints;d=function(){this.ranges=[]};(function(){this.comparePoints=a;this.pointIndex=function(f,g,h){var e=this.ranges;for(h=h||0;h<e.length;h++){var l=e[h],p=a(f,l.end);if(!(0<p))return f=a(f,l.start),0===p?g&&0!==f?-h-2:h:0<f||0===f&&!g?h:-h-1}return-h-1};this.add=function(f){var g=!f.isEmpty(),h=this.pointIndex(f.start,g);0>h&&(h=-h-1);g=this.pointIndex(f.end,g,h);return 0>g?g=-g-
1:g++,this.ranges.splice(h,g-h,f)};this.addList=function(f){for(var g=[],h=f.length;h--;)g.push.apply(g,this.add(f[h]));return g};this.substractPoint=function(f){f=this.pointIndex(f);if(0<=f)return this.ranges.splice(f,1)};this.merge=function(){var f=[],g=this.ranges;g=g.sort(function(u,c){return a(u.start,c.start)});for(var h=g[0],e,l=1;l<g.length;l++){e=h;h=g[l];var p=a(e.end,h.start);0>p||0==p&&!e.isEmpty()&&!h.isEmpty()||(0>a(e.end,h.end)&&(e.end.row=h.end.row,e.end.column=h.end.column),g.splice(l,
1),f.push(h),h=e,l--)}return this.ranges=g,f};this.contains=function(f,g){return 0<=this.pointIndex({row:f,column:g})};this.containsPoint=function(f){return 0<=this.pointIndex(f)};this.rangeAtPoint=function(f){f=this.pointIndex(f);if(0<=f)return this.ranges[f]};this.clipRows=function(f,g){var h=this.ranges;if(h[0].start.row>g||h[h.length-1].start.row<f)return[];f=this.pointIndex({row:f,column:0});0>f&&(f=-f-1);g=this.pointIndex({row:g,column:0},f);0>g&&(g=-g-1);for(var e=[];f<g;f++)e.push(h[f]);return e};
this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(f){this.session&&this.detach();this.session=f;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)};this.$onChange=function(f){if("insert"==f.action)var g=f.start,h=f.end;else h=f.start,g=f.end;f=g.row;var e=h.row-f;h=-g.column+h.column;for(var l=this.ranges,p=0,u=l.length;p<
u;p++){var c=l[p];if(!(c.end.row<f)){if(c.start.row>f)break;c.start.row==f&&c.start.column>=g.column&&(c.start.column!=g.column||!this.$insertRight)&&(c.start.column+=h,c.start.row+=e);c.end.row==f&&c.end.column>=g.column&&(c.end.column!=g.column||!this.$insertRight)&&(c.end.column==g.column&&0<h&&p<u-1&&c.end.column>c.start.column&&c.end.column==l[p+1].start.column&&(c.end.column-=h),c.end.column+=h,c.end.row+=e)}}if(0!=e&&p<u)for(;p<u;p++)c=l[p],c.start.row+=e,c.end.row+=e}}).call(d.prototype);
N.RangeList=d});
define("ace/edit_session/fold","require exports module ace/range ace/range_list ace/lib/oop".split(" "),function(d,N,W){function a(h,e){h.row-=e.row;0==h.row&&(h.column-=e.column)}function f(h,e){0==h.row&&(h.column+=e.column);h.row+=e.row}d("../range");W=d("../range_list").RangeList;d=d("../lib/oop");var g=N.Fold=function(h,e){this.foldLine=null;this.placeholder=e;this.range=h;this.start=h.start;this.end=h.end;this.sameRow=h.start.row==h.end.row;this.subFolds=this.ranges=[]};d.inherits(g,W);(function(){this.toString=
function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(h){this.foldLine=h;this.subFolds.forEach(function(e){e.setFoldLine(h)})};this.clone=function(){var h=this.range.clone(),e=new g(h,this.placeholder);return this.subFolds.forEach(function(l){e.subFolds.push(l.clone())}),e.collapseChildren=this.collapseChildren,e};this.addSubFold=function(h){if(!this.range.isEqual(h)){if(!this.range.containsRange(h))throw Error("A fold can't intersect already existing fold"+h.range+
this.range);var e=this.start;a(h.start,e);a(h.end,e);var l=h.start.row,p=h.start.column;e=0;for(var u=-1;e<this.subFolds.length&&(u=this.subFolds[e].range.compare(l,p),1==u);e++);l=this.subFolds[e];if(0==u)return l.addSubFold(h);l=h.range.end.row;p=h.range.end.column;var c=e;for(u=-1;c<this.subFolds.length&&(u=this.subFolds[c].range.compare(l,p),1==u);c++);if(0==u)throw Error("A fold can't intersect already existing fold"+h.range+this.range);this.subFolds.splice(e,c-e,h);return h.setFoldLine(this.foldLine),
h}};this.restoreRange=function(h){var e=this.start;f(h.start,e);f(h.end,e)}}).call(g.prototype)});
define("ace/edit_session/folding","require exports module ace/range ace/edit_session/fold_line ace/edit_session/fold ace/token_iterator".split(" "),function(d,N,W){var a=d("../range").Range,f=d("./fold_line").FoldLine,g=d("./fold").Fold,h=d("../token_iterator").TokenIterator;N.Folding=function(){this.getFoldAt=function(e,l,p){var u=this.getFoldLine(e);if(!u)return null;u=u.folds;for(var c=0;c<u.length;c++){var m=u[c];if(!(!m.range.contains(e,l)||1==p&&m.range.isEnd(e,l)||-1==p&&m.range.isStart(e,
l)))return m}};this.getFoldsInRange=function(e){var l=e.start,p=e.end,u=this.$foldData,c=[];l.column+=1;--p.column;for(var m=0;m<u.length;m++){var n=u[m].range.compareRange(e);if(2!=n){if(-2==n)break;for(var w=u[m].folds,z=0;z<w.length;z++){var x=w[z];n=x.range.compareRange(e);if(-2==n)break;if(2!=n){if(42==n)break;c.push(x)}}}}return--l.column,p.column+=1,c};this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var l=[];e.forEach(function(p){l=l.concat(this.getFoldsInRange(p))},this)}else l=
this.getFoldsInRange(e);return l};this.getAllFolds=function(){for(var e=[],l=this.$foldData,p=0;p<l.length;p++)for(var u=0;u<l[p].folds.length;u++)e.push(l[p].folds[u]);return e};this.getFoldStringAt=function(e,l,p,u){u=u||this.getFoldLine(e);if(!u)return null;for(var c={end:{column:0}},m,n,w=0;w<u.folds.length;w++){n=u.folds[w];var z=n.range.compareEnd(e,l);if(-1==z){m=this.getLine(n.start.row).substring(c.end.column,n.start.column);break}if(0===z)return null;c=n}return m||(m=this.getLine(n.start.row).substring(c.end.column)),
-1==p?m.substring(0,l-c.end.column):1==p?m.substring(l-c.end.column):m};this.getFoldLine=function(e,l){var p=this.$foldData,u=0;l&&(u=p.indexOf(l));-1==u&&(u=0);for(u;u<p.length;u++){l=p[u];if(l.start.row<=e&&l.end.row>=e)return l;if(l.end.row>e)break}return null};this.getNextFoldLine=function(e,l){var p=this.$foldData,u=0;l&&(u=p.indexOf(l));-1==u&&(u=0);for(u;u<p.length;u++)if(l=p[u],l.end.row>=e)return l;return null};this.getFoldedRowCount=function(e,l){for(var p=this.$foldData,u=l-e+1,c=0;c<p.length;c++){var m=
p[c],n=m.end.row;m=m.start.row;if(n>=l){m<l&&(m>=e?u-=l-m:u=0);break}n>=e&&(m>=e?u-=n-m:u-=n-e+1)}return u};this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(l,p){return l.start.row-p.start.row}),e};this.addFold=function(e,l){var p=this.$foldData,u=!1,c;e instanceof g?c=e:(c=new g(l,e),c.collapseChildren=l.collapseChildren);this.$clipRangeToDocument(c.range);l=c.start.row;var m=c.start.column;e=c.end.row;var n=c.end.column;if(l<e||l==e&&m<=n-2){var w=this.getFoldAt(l,
m,1),z=this.getFoldAt(e,n,-1);if(w&&z==w)return w.addSubFold(c);w&&!w.range.isStart(l,m)&&this.removeFold(w);z&&!z.range.isEnd(e,n)&&this.removeFold(z);m=this.getFoldsInRange(c.range);0<m.length&&(this.removeFolds(m),m.forEach(function(J){c.addSubFold(J)}));for(m=0;m<p.length;m++){var x=p[m];if(e==x.start.row){x.addFold(c);u=!0;break}if(l==x.end.row){x.addFold(c);u=!0;if(!c.sameRow&&(p=p[m+1])&&p.start.row==e){x.merge(p);break}break}if(e<=x.start.row)break}return u||(x=this.$addFoldLine(new f(this.$foldData,
c))),this.$useWrapMode?this.$updateWrapData(x.start.row,x.start.row):this.$updateRowLengthCache(x.start.row,x.start.row),this.$modified=!0,this._signal("changeFold",{data:c,action:"add"}),c}throw Error("The range has to be at least 2 characters width");};this.addFolds=function(e){e.forEach(function(l){this.addFold(l)},this)};this.removeFold=function(e){var l=e.foldLine,p=l.start.row,u=l.end.row,c=this.$foldData,m=l.folds;1==m.length?c.splice(c.indexOf(l),1):l.range.isEnd(e.end.row,e.end.column)?(m.pop(),
l.end.row=m[m.length-1].end.row,l.end.column=m[m.length-1].end.column):l.range.isStart(e.start.row,e.start.column)?(m.shift(),l.start.row=m[0].start.row,l.start.column=m[0].start.column):e.sameRow?m.splice(m.indexOf(e),1):(l=l.split(e.start.row,e.start.column),m=l.folds,m.shift(),l.start.row=m[0].start.row,l.start.column=m[0].start.column);this.$updating||(this.$useWrapMode?this.$updateWrapData(p,u):this.$updateRowLengthCache(p,u));this.$modified=!0;this._signal("changeFold",{data:e,action:"remove"})};
this.removeFolds=function(e){for(var l=[],p=0;p<e.length;p++)l.push(e[p]);l.forEach(function(u){this.removeFold(u)},this);this.$modified=!0};this.expandFold=function(e){this.removeFold(e);e.subFolds.forEach(function(l){e.restoreRange(l);this.addFold(l)},this);0<e.collapseChildren&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1);e.subFolds=[]};this.expandFolds=function(e){e.forEach(function(l){this.expandFold(l)},this)};this.unfold=function(e,l){var p;null==e?(p=new a(0,0,this.getLength(),
0),l=!0):"number"==typeof e?p=new a(e,0,e,this.getLine(e).length):"row"in e?p=a.fromPoints(e,e):p=e;e=this.getFoldsInRangeList(p);if(l)this.removeFolds(e);else for(l=e;l.length;)this.expandFolds(l),l=this.getFoldsInRangeList(p);if(e.length)return e};this.isRowFolded=function(e,l){return!!this.getFoldLine(e,l)};this.getRowFoldEnd=function(e,l){return(l=this.getFoldLine(e,l))?l.end.row:e};this.getRowFoldStart=function(e,l){return(l=this.getFoldLine(e,l))?l.start.row:e};this.getFoldDisplayLine=function(e,
l,p,u,c){null==u&&(u=e.start.row);null==c&&(c=0);null==l&&(l=e.end.row);null==p&&(p=this.getLine(l).length);var m=this.doc,n="";return e.walk(function(w,z,x,J){if(!(z<u)){if(z==u){if(x<c)return;J=Math.max(c,J)}null!=w?n+=w:n+=m.getLine(z).substring(J,x)}},l,p),n};this.getDisplayLine=function(e,l,p,u){var c=this.getFoldLine(e);if(!c){var m;return m=this.doc.getLine(e),m.substring(u||0,l||m.length)}return this.getFoldDisplayLine(c,e,l,p,u)};this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(l){l=
l.folds.map(function(p){return p.clone()});return new f(e,l)}),e};this.toggleFold=function(e){var l=this.selection.getRange(),p,u;if(l.isEmpty()){e=l.start;if(p=this.getFoldAt(e.row,e.column)){this.expandFold(p);return}(u=this.findMatchingBracket(e))?1==l.comparePoint(u)?l.end=u:(l.start=u,l.start.column++,l.end.column--):(u=this.findMatchingBracket({row:e.row,column:e.column+1}))?(1==l.comparePoint(u)?l.end=u:l.start=u,l.start.column++):l=this.getCommentFoldRange(e.row,e.column)||l}else{u=this.getFoldsInRange(l);
if(e&&u.length){this.expandFolds(u);return}1==u.length&&(p=u[0])}p||(p=this.getFoldAt(l.start.row,l.start.column));if(p&&p.range.toString()==l.toString())this.expandFold(p);else{p="...";if(!l.isMultiLine()){p=this.getTextRange(l);if(4>p.length)return;p=p.trim().substring(0,2)+".."}this.addFold(p,l)}};this.getCommentFoldRange=function(e,l,p){var u=new h(this,e,l),c=u.getCurrentToken(),m=c.type;if(c&&/^comment|string/.test(m)){m=m.match(/comment|string/)[0];"comment"==m&&(m+="|doc-start");m=new RegExp(m);
var n=new a;if(1!=p){do c=u.stepBackward();while(c&&m.test(c.type));u.stepForward()}n.start.row=u.getCurrentTokenRow();n.start.column=u.getCurrentTokenColumn()+2;u=new h(this,e,l);if(-1!=p){e=-1;do if(c=u.stepForward(),-1==e)l=this.getState(u.$row),m.test(l)||(e=u.$row);else if(u.$row>e)break;while(c&&m.test(c.type));c=u.stepBackward()}else c=u.getCurrentToken();return n.end.row=u.getCurrentTokenRow(),n.end.column=u.getCurrentTokenColumn()+c.value.length-2,n}};this.foldAll=function(e,l,p){void 0==
p&&(p=1E5);var u=this.foldWidgets;if(u){l=l||this.getLength();for(var c=e=e||0;c<l;c++)if(null==u[c]&&(u[c]=this.getFoldWidget(c)),"start"==u[c]){var m=this.getFoldWidgetRange(c);if(m&&m.isMultiLine()&&m.end.row<=l&&m.start.row>=e){c=m.end.row;try{var n=this.addFold("...",m);n&&(n.collapseChildren=p)}catch(w){}}}}};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+
"]");this.$foldStyle!=e&&(this.$foldStyle=e,"manual"==e&&this.unfold(),e=this.$foldMode,this.$setFolding(null),this.$setFolding(e))};this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,
this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)};this.getParentFoldRangeData=function(e,l){var p=this.foldWidgets;if(!p||l&&p[e])return{};l=e-1;for(var u;0<=l;){var c=p[l];null==c&&(c=p[l]=this.getFoldWidget(l));if("start"==c){var m=this.getFoldWidgetRange(l);u||(u=m);
if(m&&m.end.row>=e)break}l--}return{range:-1!==l&&m,firstRange:u}};this.onFoldWidgetClick=function(e,l){l=l.domEvent;this.$toggleFoldWidget(e,{children:l.shiftKey,all:l.ctrlKey||l.metaKey,siblings:l.altKey})||(e=l.target||l.srcElement)&&/ace_fold-widget/.test(e.className)&&(e.className+=" ace_invalid")};this.$toggleFoldWidget=function(e,l){if(this.getFoldWidget){var p=this.getFoldWidget(e),u=this.getLine(e);p="end"===p?-1:1;if(p=this.getFoldAt(e,-1===p?0:u.length,p))return l.children||l.all?this.removeFold(p):
this.expandFold(p),p;if((u=this.getFoldWidgetRange(e,!0))&&!u.isMultiLine()&&(p=this.getFoldAt(u.start.row,u.start.column,1))&&u.isEqual(p.range))return this.removeFold(p),p;if(l.siblings){e=this.getParentFoldRangeData(e);if(e.range)var c=e.range.start.row+1,m=e.range.end.row;this.foldAll(c,m,l.all?1E4:0)}else l.children?(m=u?u.end.row:this.getLength(),this.foldAll(e+1,m,l.all?1E4:0)):u&&(l.all&&(u.collapseChildren=1E4),this.addFold("...",u));return u}};this.toggleFoldWidget=function(e){var l=this.selection.getCursor().row;
l=this.getRowFoldStart(l);e=this.$toggleFoldWidget(l,{});!e&&(e=this.getParentFoldRangeData(l,!0),e=e.range||e.firstRange)&&(l=e.start.row,(l=this.getFoldAt(l,this.getLine(l).length,1))?this.removeFold(l):this.addFold("...",e))};this.updateFoldWidgets=function(e){var l=e.start.row,p=e.end.row-l;0===p?this.foldWidgets[l]=null:"remove"==e.action?this.foldWidgets.splice(l,p+1,null):(e=Array(p+1),e.unshift(l,1),this.foldWidgets.splice.apply(this.foldWidgets,e))};this.tokenizerUpdateFoldWidgets=function(e){e=
e.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}});
define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(d,N,W){var a=d("../token_iterator").TokenIterator,f=d("../range").Range;N.BracketMatch=function(){this.findMatchingBracket=function(g,h){if(0==g.column)return null;h=h||this.getLine(g.row).charAt(g.column-1);return""==h?null:(h=h.match(/([\(\[\{])|([\)\]\}])/))?h[1]?this.$findClosingBracket(h[1],g):this.$findOpeningBracket(h[2],g):null};this.getBracketRange=function(g){var h=this.getLine(g.row),
e=!0,l=h.charAt(g.column-1),p=l&&l.match(/([\(\[\{])|([\)\]\}])/);p||(l=h.charAt(g.column),g={row:g.row,column:g.column+1},p=l&&l.match(/([\(\[\{])|([\)\]\}])/),e=!1);if(!p)return null;if(p[1]){h=this.$findClosingBracket(p[1],g);if(!h)return null;g=f.fromPoints(g,h);e||(g.end.column++,g.start.column--);g.cursor=g.end}else{h=this.$findOpeningBracket(p[2],g);if(!h)return null;g=f.fromPoints(h,g);e||(g.start.column++,g.end.column--);g.cursor=g.start}return g};this.$brackets={")":"(","(":")","]":"[",
"[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(g,h,e){var l=this.$brackets[g],p=1,u=new a(this,h.row,h.column),c=u.getCurrentToken();c||(c=u.stepForward());if(c){e||(e=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));h=h.column-u.getCurrentTokenColumn()-2;for(c=c.value;;){for(;0<=h;){var m=c.charAt(h);if(m==l){if(--p,0==p)return{row:u.getCurrentTokenRow(),column:h+u.getCurrentTokenColumn()}}else m==g&&(p+=1);--h}do c=
u.stepBackward();while(c&&!e.test(c.type));if(null==c)break;c=c.value;h=c.length-1}return null}};this.$findClosingBracket=function(g,h,e){var l=this.$brackets[g],p=1,u=new a(this,h.row,h.column),c=u.getCurrentToken();c||(c=u.stepForward());if(c){e||(e=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(h=h.column-u.getCurrentTokenColumn();;){c=c.value;for(var m=c.length;h<m;){var n=c.charAt(h);if(n==l){if(--p,0==p)return{row:u.getCurrentTokenRow(),
column:h+u.getCurrentTokenColumn()}}else n==g&&(p+=1);h+=1}do c=u.stepForward();while(c&&!e.test(c.type));if(null==c)break;h=0}return null}}}});
define("ace/edit_session","require exports module ace/lib/oop ace/lib/lang ace/bidihandler ace/config ace/lib/event_emitter ace/selection ace/mode/text ace/range ace/document ace/background_tokenizer ace/search_highlight ace/edit_session/folding ace/edit_session/bracket_match".split(" "),function(d,N,W){var a=d("./lib/oop"),f=d("./lib/lang"),g=d("./bidihandler").BidiHandler,h=d("./config"),e=d("./lib/event_emitter").EventEmitter,l=d("./selection").Selection,p=d("./mode/text").Mode,u=d("./range").Range,
c=d("./document").Document,m=d("./background_tokenizer").BackgroundTokenizer,n=d("./search_highlight").SearchHighlight,w=function(z,x){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++w.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);"object"==typeof z&&z.getLine||(z=new c(z));this.$bidiHandler=
new g(this);this.setDocument(z);this.selection=new l(this);h.resetOptions(this);this.setMode(x);h._signal("session",this)};w.$uid=0;(function(){function z(v){return 4352>v?!1:4352<=v&&4447>=v||4515<=v&&4519>=v||4602<=v&&4607>=v||9001<=v&&9002>=v||11904<=v&&11929>=v||11931<=v&&12019>=v||12032<=v&&12245>=v||12272<=v&&12283>=v||12288<=v&&12350>=v||12353<=v&&12438>=v||12441<=v&&12543>=v||12549<=v&&12589>=v||12593<=v&&12686>=v||12688<=v&&12730>=v||12736<=v&&12771>=v||12784<=v&&12830>=v||12832<=v&&12871>=
v||12880<=v&&13054>=v||13056<=v&&19903>=v||19968<=v&&42124>=v||42128<=v&&42182>=v||43360<=v&&43388>=v||44032<=v&&55203>=v||55216<=v&&55238>=v||55243<=v&&55291>=v||63744<=v&&64255>=v||65040<=v&&65049>=v||65072<=v&&65106>=v||65108<=v&&65126>=v||65128<=v&&65131>=v||65281<=v&&65376>=v||65504<=v&&65510>=v}a.implement(this,e);this.setDocument=function(v){this.doc&&this.doc.removeListener("change",this.$onChange);this.doc=v;v.on("change",this.$onChange);this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument());
this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(v){if(v){var K=this.$docRowCache.length;v=this.$getRowCacheIndex(this.$docRowCache,v)+1;K>v&&(this.$docRowCache.splice(v,K),this.$screenRowCache.splice(v,K))}else this.$docRowCache=[],this.$screenRowCache=[]};this.$getRowCacheIndex=function(v,K){for(var D=0,M=v.length-1;D<=M;){var Q=D+M>>1,G=v[Q];if(K>G)D=Q+1;else{if(!(K<G))return Q;M=Q-1}}return D-1};this.resetCaches=function(){this.$modified=!0;this.$wrapData=
[];this.$rowLengthCache=[];this.$resetRowCache(0);this.bgTokenizer&&this.bgTokenizer.start(0)};this.onChangeFold=function(v){this.$resetRowCache(v.data.start.row)};this.onChange=function(v){this.$modified=!0;this.$bidiHandler.onChange(v);this.$resetRowCache(v.start.row);var K=this.$updateInternalDataOnChange(v);!this.$fromUndo&&this.$undoManager&&!v.ignore&&(this.$deltasDoc.push(v),K&&0!=K.length&&this.$deltasFold.push({action:"removeFolds",folds:K}),this.$informUndoManager.schedule());this.bgTokenizer&&
this.bgTokenizer.$updateOnChange(v);this._signal("change",v)};this.setValue=function(v){this.doc.setValue(v);this.selection.moveTo(0,0);this.$resetRowCache(0);this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(v){return this.bgTokenizer.getState(v)};this.getTokens=function(v){return this.bgTokenizer.getTokens(v)};
this.getTokenAt=function(v,K){var D=this.bgTokenizer.getTokens(v),M,Q=0;if(null==K){var G=D.length-1;Q=this.getLine(v).length}else for(G=0;G<D.length&&!(Q+=D[G].value.length,Q>=K);G++);return M=D[G],M?(M.index=G,M.start=Q-M.value.length,M):null};this.setUndoManager=function(v){this.$undoManager=v;this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.$informUndoManager&&this.$informUndoManager.cancel();if(v){var K=this;this.$syncInformUndoManager=function(){K.$informUndoManager.cancel();K.$deltasFold.length&&
(K.$deltas.push({group:"fold",deltas:K.$deltasFold}),K.$deltasFold=[]);K.$deltasDoc.length&&(K.$deltas.push({group:"doc",deltas:K.$deltasDoc}),K.$deltasDoc=[]);0<K.$deltas.length&&v.execute({action:"aceupdate",args:[K.$deltas,K],merge:K.mergeUndoDeltas});K.mergeUndoDeltas=!1;K.$deltas=[]};this.$informUndoManager=f.delayedCall(this.$syncInformUndoManager)}};this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},
reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){return this.getUseSoftTabs()?f.stringRepeat(" ",this.getTabSize()):"\t"};this.setUseSoftTabs=function(v){this.setOption("useSoftTabs",v)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(v){this.setOption("tabSize",v)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(v){return this.$useSoftTabs&&
0===v.column%this.$tabSize};this.setNavigateWithinSoftTabs=function(v){this.setOption("navigateWithinSoftTabs",v)};this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs};this.$overwrite=!1;this.setOverwrite=function(v){this.setOption("overwrite",v)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(v,K){this.$decorations[v]||(this.$decorations[v]="");this.$decorations[v]+=
" "+K;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(v,K){this.$decorations[v]=(this.$decorations[v]||"").replace(" "+K,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(v){this.$breakpoints=[];for(var K=0;K<v.length;K++)this.$breakpoints[v[K]]="ace_breakpoint";this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=
function(v,K){void 0===K&&(K="ace_breakpoint");K?this.$breakpoints[v]=K:delete this.$breakpoints[v];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(v){delete this.$breakpoints[v];this._signal("changeBreakpoint",{})};this.addMarker=function(v,K,D,M){var Q=this.$markerId++;v={range:v,type:D||"line",renderer:"function"==typeof D?D:null,clazz:K,inFront:!!M,id:Q};return M?(this.$frontMarkers[Q]=v,this._signal("changeFrontMarker")):(this.$backMarkers[Q]=v,this._signal("changeBackMarker")),
Q};this.addDynamicMarker=function(v,K){if(v.update){var D=this.$markerId++;return v.id=D,v.inFront=!!K,K?(this.$frontMarkers[D]=v,this._signal("changeFrontMarker")):(this.$backMarkers[D]=v,this._signal("changeBackMarker")),v}};this.removeMarker=function(v){var K=this.$frontMarkers[v]||this.$backMarkers[v];if(K){var D=K.inFront?this.$frontMarkers:this.$backMarkers;K&&(delete D[v],this._signal(K.inFront?"changeFrontMarker":"changeBackMarker"))}};this.getMarkers=function(v){return v?this.$frontMarkers:
this.$backMarkers};this.highlight=function(v){if(!this.$searchHighlight){var K=new n(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(K)}this.$searchHighlight.setRegexp(v)};this.highlightLines=function(v,K,D,M){"number"!=typeof K&&(D=K,K=v);D||(D="ace_step");v=new u(v,0,K,Infinity);return v.id=this.addMarker(v,D,"fullLine",M),v};this.setAnnotations=function(v){this.$annotations=v;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||
[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(v){(v=v.match(/^.*?(\r?\n)/m))?this.$autoNewLine=v[1]:this.$autoNewLine="\n"};this.getWordRange=function(v,K){var D=this.getLine(v),M=!1;0<K&&(M=!!D.charAt(K-1).match(this.tokenRe));M||(M=!!D.charAt(K).match(this.tokenRe));M=M?this.tokenRe:/^\s+$/.test(D.slice(K-1,K+1))?/\s/:this.nonTokenRe;var Q=K;if(0<Q){do Q--;while(0<=Q&&D.charAt(Q).match(M));Q++}for(;K<D.length&&D.charAt(K).match(M);)K++;return new u(v,
Q,v,K)};this.getAWordRange=function(v,K){v=this.getWordRange(v,K);for(K=this.getLine(v.end.row);K.charAt(v.end.column).match(/[ \t]/);)v.end.column+=1;return v};this.setNewLineMode=function(v){this.doc.setNewLineMode(v)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(v){this.setOption("useWorker",v)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(v){this.bgTokenizer.start(v.data.first);this._signal("tokenizerUpdate",
v)};this.$modes={};this.$modeId=this.$mode=null;this.setMode=function(v,K){if(v&&"object"==typeof v){if(v.getTokenizer)return this.$onChangeMode(v);var D=v,M=D.path}else M=v||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new p);this.$modes[M]&&!D?(this.$onChangeMode(this.$modes[M]),K&&K()):(this.$modeId=M,h.loadModule(["mode",M],function(Q){if(this.$modeId!==M)return K&&K();this.$modes[M]&&!D?this.$onChangeMode(this.$modes[M]):Q&&Q.Mode&&(Q=new Q.Mode(D),D||(this.$modes[M]=
Q,Q.$id=M),this.$onChangeMode(Q));K&&K()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0))};this.$onChangeMode=function(v,K){K||(this.$modeId=v.$id);if(this.$mode!==v){this.$mode=v;this.$stopWorker();this.$useWorker&&this.$startWorker();var D=v.getTokenizer();if(void 0!==D.addEventListener){var M=this.onReloadTokenizer.bind(this);D.addEventListener("update",M)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(D);else{this.bgTokenizer=new m(D);var Q=this;this.bgTokenizer.addEventListener("update",
function(G){Q._signal("tokenizerUpdate",G)})}this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=v.tokenRe;this.nonTokenRe=v.nonTokenRe;K||(v.attachToSession&&v.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(v.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}};this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(v){h.warn("Could not load worker",
v),this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(v){this.$scrollTop===v||isNaN(v)||(this.$scrollTop=v,this._signal("changeScrollTop",v))};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(v){this.$scrollLeft===v||isNaN(v)||(this.$scrollLeft=v,this._signal("changeScrollLeft",v))};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){return this.$computeWidth(),
this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth};this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var v=0;return this.lineWidgets.forEach(function(K){K&&K.screenWidth>v&&(v=K.screenWidth)}),this.lineWidgetWidth=v};this.$computeWidth=function(v){if(this.$modified||v){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;v=this.doc.getAllLines();for(var K=this.$rowLengthCache,D=0,M=0,
Q=this.$foldData[M],G=Q?Q.start.row:Infinity,T=v.length,S=0;S<T;S++){if(S>G){S=Q.end.row+1;if(S>=T)break;G=(Q=this.$foldData[M++])?Q.start.row:Infinity}null==K[S]&&(K[S]=this.$getStringScreenWidth(v[S])[0]);K[S]>D&&(D=K[S])}this.screenWidth=D}};this.getLine=function(v){return this.doc.getLine(v)};this.getLines=function(v,K){return this.doc.getLines(v,K)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(v){return this.doc.getTextRange(v||this.selection.getRange())};
this.insert=function(v,K){return this.doc.insert(v,K)};this.remove=function(v){return this.doc.remove(v)};this.removeFullLines=function(v,K){return this.doc.removeFullLines(v,K)};this.undoChanges=function(v,K){if(v.length){this.$fromUndo=!0;for(var D=null,M=v.length-1;-1!=M;M--){var Q=v[M];"doc"==Q.group?(this.doc.revertDeltas(Q.deltas),D=this.$getUndoSelection(Q.deltas,!0,D)):Q.deltas.forEach(function(G){this.addFolds(G.folds)},this)}return this.$fromUndo=!1,D&&this.$undoSelect&&!K&&this.selection.setSelectionRange(D),
D}};this.redoChanges=function(v,K){if(v.length){this.$fromUndo=!0;for(var D=null,M=0;M<v.length;M++){var Q=v[M];"doc"==Q.group&&(this.doc.applyDeltas(Q.deltas),D=this.$getUndoSelection(Q.deltas,!1,D))}return this.$fromUndo=!1,D&&this.$undoSelect&&!K&&this.selection.setSelectionRange(D),D}};this.setUndoSelect=function(v){this.$undoSelect=v};this.$getUndoSelection=function(v,K,D){var M=v[0],Q,G;(K?"insert"!==M.action:"insert"===M.action)?Q=u.fromPoints(M.start,M.end):Q=u.fromPoints(M.start,M.start);
for(var T=1;T<v.length;T++)M=v[T],(K?"insert"!==M.action:"insert"===M.action)?(G=M.start,-1==Q.compare(G.row,G.column)&&Q.setStart(G),G=M.end,1==Q.compare(G.row,G.column)&&Q.setEnd(G)):(G=M.start,-1==Q.compare(G.row,G.column)&&(Q=u.fromPoints(M.start,M.start)));null!=D&&(0===u.comparePoints(D.start,Q.start)&&(D.start.column+=Q.end.column-Q.start.column,D.end.column+=Q.end.column-Q.start.column),v=D.compareRange(Q),1==v?Q.setStart(D.start):-1==v&&Q.setEnd(D.end));return Q};this.replace=function(v,
K){return this.doc.replace(v,K)};this.moveText=function(v,K,D){var M=this.getTextRange(v),Q=this.getFoldsInRange(v);K=u.fromPoints(K,K);if(!D){this.remove(v);var G=v.start.row-v.end.row,T=G?-v.end.column:v.start.column-v.end.column;T&&(K.start.row==v.end.row&&K.start.column>v.end.column&&(K.start.column+=T),K.end.row==v.end.row&&K.end.column>v.end.column&&(K.end.column+=T));G&&K.start.row>=v.end.row&&(K.start.row+=G,K.end.row+=G)}K.end=this.insert(K.start,M);if(Q.length){var S=v.start;v=K.start;G=
v.row-S.row;T=v.column-S.column;this.addFolds(Q.map(function(R){return R=R.clone(),R.start.row==S.row&&(R.start.column+=T),R.end.row==S.row&&(R.end.column+=T),R.start.row+=G,R.end.row+=G,R}))}return K};this.indentRows=function(v,K,D){for(D=D.replace(/\t/g,this.getTabString());v<=K;v++)this.doc.insertInLine({row:v,column:0},D)};this.outdentRows=function(v){v=v.collapseRows();for(var K=new u(0,0,0,0),D=this.getTabSize(),M=v.start.row;M<=v.end.row;++M){var Q=this.getLine(M);K.start.row=M;K.end.row=M;
for(var G=0;G<D&&" "==Q.charAt(G);++G);G<D&&"\t"==Q.charAt(G)?(K.start.column=G,K.end.column=G+1):(K.start.column=0,K.end.column=G);this.remove(K)}};this.$moveLines=function(v,K,D){v=this.getRowFoldStart(v);K=this.getRowFoldEnd(K);if(0>D){var M=this.getRowFoldStart(v+D);if(0>M)return 0;var Q=M-v}else if(0<D){M=this.getRowFoldEnd(K+D);if(M>this.doc.getLength()-1)return 0;Q=M-K}else v=this.$clipRowToDocument(v),K=this.$clipRowToDocument(K),Q=K-v+1;M=new u(v,0,K,Number.MAX_VALUE);M=this.getFoldsInRange(M).map(function(G){return G=
G.clone(),G.start.row+=Q,G.end.row+=Q,G});K=0==D?this.doc.getLines(v,K):this.doc.removeFullLines(v,K);return this.doc.insertFullLines(v+Q,K),M.length&&this.addFolds(M),Q};this.moveLinesUp=function(v,K){return this.$moveLines(v,K,-1)};this.moveLinesDown=function(v,K){return this.$moveLines(v,K,1)};this.duplicateLines=function(v,K){return this.$moveLines(v,K,0)};this.$clipRowToDocument=function(v){return Math.max(0,Math.min(v,this.doc.getLength()-1))};this.$clipColumnToRow=function(v,K){return 0>K?
0:Math.min(this.doc.getLine(v).length,K)};this.$clipPositionToDocument=function(v,K){K=Math.max(0,K);if(0>v)K=v=0;else{var D=this.doc.getLength();v>=D?(v=D-1,K=this.doc.getLine(D-1).length):K=Math.min(this.doc.getLine(v).length,K)}return{row:v,column:K}};this.$clipRangeToDocument=function(v){0>v.start.row?(v.start.row=0,v.start.column=0):v.start.column=this.$clipColumnToRow(v.start.row,v.start.column);var K=this.doc.getLength()-1;return v.end.row>K?(v.end.row=K,v.end.column=this.doc.getLine(K).length):
v.end.column=this.$clipColumnToRow(v.end.row,v.end.column),v};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(v){v!=this.$useWrapMode&&(this.$useWrapMode=v,this.$modified=!0,this.$resetRowCache(0),v&&(v=this.getLength(),this.$wrapData=Array(v),this.$updateWrapData(0,v-1)),this._signal("changeWrapMode"))};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(v,K){if(this.$wrapLimitRange.min!==v||this.$wrapLimitRange.max!==
K)this.$wrapLimitRange={min:v,max:K},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode")};this.adjustWrapLimit=function(v,K){var D=this.$wrapLimitRange;0>D.max&&(D={min:K,max:K});v=this.$constrainWrapLimit(v,D.min,D.max);return v!=this.$wrapLimit&&1<v?(this.$wrapLimit=v,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1};this.$constrainWrapLimit=function(v,K,
D){return K&&(v=Math.max(K,v)),D&&(v=Math.min(D,v)),v};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(v){this.setWrapLimitRange(v,v)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(v){var K=this.$useWrapMode,D=v.action,M=v.start,Q=v.end,G=M.row,T=Q.row,S=T-G,R=null;this.$updating=!0;if(0!=S)if("remove"===D){this[K?"$wrapData":"$rowLengthCache"].splice(G,S);D=this.$foldData;
R=this.getFoldsInRange(v);this.removeFolds(R);v=this.getFoldLine(Q.row);var ca=0;v&&(v.addRemoveChars(Q.row,Q.column,M.column-Q.column),v.shiftRow(-S),(M=this.getFoldLine(G))&&M!==v&&(M.merge(v),v=M),ca=D.indexOf(v)+1);for(ca;ca<D.length;ca++)v=D[ca],v.start.row>=Q.row&&v.shiftRow(-S);T=G}else for(D=Array(S),D.unshift(G,0),v=K?this.$wrapData:this.$rowLengthCache,v.splice.apply(v,D),D=this.$foldData,v=this.getFoldLine(G),ca=0,v&&(ca=v.range.compareInside(M.row,M.column),0==ca?(v=v.split(M.row,M.column),
v&&(v.shiftRow(S),v.addRemoveChars(T,0,Q.column-M.column))):-1==ca&&(v.addRemoveChars(G,0,Q.column-M.column),v.shiftRow(S)),ca=D.indexOf(v)+1),ca;ca<D.length;ca++)v=D[ca],v.start.row>=G&&v.shiftRow(S);else S=Math.abs(v.start.column-v.end.column),"remove"===D&&(R=this.getFoldsInRange(v),this.removeFolds(R),S=-S),(v=this.getFoldLine(G))&&v.addRemoveChars(G,M.column,S);return K&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=
!1,K?this.$updateWrapData(G,T):this.$updateRowLengthCache(G,T),R};this.$updateRowLengthCache=function(v,K,D){this.$rowLengthCache[v]=null;this.$rowLengthCache[K]=null};this.$updateWrapData=function(v,K){var D=this.doc.getAllLines(),M=this.getTabSize(),Q=this.$wrapData,G=this.$wrapLimit,T,S;for(K=Math.min(K,D.length-1);v<=K;)(S=this.getFoldLine(v,S))?(T=[],S.walk(function(R,ca,ha,ra){if(null!=R)for(R=this.$getDisplayTokens(R,T.length),R[0]=x,ca=1;ca<R.length;ca++)R[ca]=J;else R=this.$getDisplayTokens(D[ca].substring(ra,
ha),T.length);T=T.concat(R)}.bind(this),S.end.row,D[S.end.row].length+1),Q[S.start.row]=this.$computeWrapSplits(T,G,M),v=S.end.row+1):(T=this.$getDisplayTokens(D[v]),Q[v]=this.$computeWrapSplits(T,G,M),v++)};var x=3,J=4;this.$computeWrapSplits=function(v,K,D){function M(){var Aa=0;if(0===ra)return Aa;if(ha)for(var Da=0;Da<v.length;Da++){var Fa=v[Da];if(10==Fa)Aa+=1;else{if(11!=Fa){if(12==Fa)continue;break}Aa+=D}}return ca&&!1!==ha&&(Aa+=D),Math.min(Aa,ra)}function Q(Aa){var Da=v.slice(S,Aa),Fa=Da.length;
Da.join("").replace(/12/g,function(){--Fa}).replace(/2/g,function(){--Fa});G.length||(Ia=M(),G.indent=Ia);R+=Fa;G.push(R);S=Aa}if(0==v.length)return[];for(var G=[],T=v.length,S=0,R=0,ca=this.$wrapAsCode,ha=this.$indentedSoftWrap,ra=K<=Math.max(2*D,8)||!1===ha?0:Math.floor(K/2),Ia=0;T-S>K-Ia;){var ja=S+K-Ia;if(10<=v[ja-1]&&10<=v[ja])Q(ja);else if(v[ja]==x||v[ja]==J){for(ja;ja!=S-1&&v[ja]!=x;ja--);if(!(ja>S)){ja=S+K;for(ja;ja<v.length&&v[ja]==J;ja++);if(ja==v.length)break}Q(ja)}else{for(var ma=Math.max(ja-
(K-(K>>2)),S-1);ja>ma&&v[ja]<x;)ja--;if(ca){for(;ja>ma&&v[ja]<x;)ja--;for(;ja>ma&&9==v[ja];)ja--}else for(;ja>ma&&10>v[ja];)ja--;ja>ma?Q(++ja):(ja=S+K,2==v[ja]&&ja--,Q(ja-Ia))}}return G};this.$getDisplayTokens=function(v,K){var D=[];K=K||0;for(var M=0;M<v.length;M++){var Q=v.charCodeAt(M);if(9==Q){Q=this.getScreenTabSize(D.length+K);D.push(11);for(var G=1;G<Q;G++)D.push(12)}else 32==Q?D.push(10):39<Q&&48>Q||57<Q&&64>Q?D.push(9):4352<=Q&&z(Q)?D.push(1,2):D.push(1)}return D};this.$getStringScreenWidth=
function(v,K,D){if(0==K)return[0,0];null==K&&(K=Infinity);D=D||0;var M;for(M=0;M<v.length;M++){var Q=v.charCodeAt(M);9==Q?D+=this.getScreenTabSize(D):4352<=Q&&z(Q)?D+=2:D+=1;if(D>K)break}return[D,M]};this.lineWidgets=null;this.getRowLength=function(v){var K=this.lineWidgets?this.lineWidgets[v]&&this.lineWidgets[v].rowCount||0:0;return this.$useWrapMode&&this.$wrapData[v]?this.$wrapData[v].length+1+K:1+K};this.getRowLineCount=function(v){return this.$useWrapMode&&this.$wrapData[v]?this.$wrapData[v].length+
1:1};this.getRowWrapIndent=function(v){if(this.$useWrapMode){v=this.screenToDocumentPosition(v,Number.MAX_VALUE);var K=this.$wrapData[v.row];return K.length&&K[0]<v.column?K.indent:0}return 0};this.getScreenLastRowColumn=function(v){v=this.screenToDocumentPosition(v,Number.MAX_VALUE);return this.documentToScreenColumn(v.row,v.column)};this.getDocumentLastRowColumn=function(v,K){v=this.documentToScreenRow(v,K);return this.getScreenLastRowColumn(v)};this.getDocumentLastRowColumnPosition=function(v,
K){v=this.documentToScreenRow(v,K);return this.screenToDocumentPosition(v,Number.MAX_VALUE/10)};this.getRowSplitData=function(v){return this.$useWrapMode?this.$wrapData[v]:void 0};this.getScreenTabSize=function(v){return this.$tabSize-v%this.$tabSize};this.screenToDocumentRow=function(v,K){return this.screenToDocumentPosition(v,K).row};this.screenToDocumentColumn=function(v,K){return this.screenToDocumentPosition(v,K).column};this.screenToDocumentPosition=function(v,K,D){if(0>v)return{row:0,column:0};
var M=0,Q=0,G,T=0;var S=0;var R=this.$screenRowCache,ca=this.$getRowCacheIndex(R,v),ha=R.length;ha&&0<=ca?(T=R[ca],M=this.$docRowCache[ca],ca=v>R[ha-1]):ca=!ha;ha=this.getLength()-1;for(var ra=(R=this.getNextFoldLine(M))?R.start.row:Infinity;T<=v;){S=this.getRowLength(M);if(T+S>v||M>=ha)break;T+=S;M++;M>ra&&(M=R.end.row+1,R=this.getNextFoldLine(M,R),ra=R?R.start.row:Infinity);ca&&(this.$docRowCache.push(M),this.$screenRowCache.push(T))}if(R&&R.start.row<=M)S=this.getFoldDisplayLine(R),M=R.start.row;
else{if(T+S<=v||M>ha)return{row:ha,column:this.getLine(ha).length};S=this.getLine(M);R=null}ca=0;v=Math.floor(v-T);this.$useWrapMode&&(ha=this.$wrapData[M])&&(G=ha[v],0<v&&ha.length&&(ca=ha.indent,Q=ha[v-1]||ha[ha.length-1],S=S.substring(Q)));return void 0!==D&&this.$bidiHandler.isBidiRow(T+v,M,v)&&(K=this.$bidiHandler.offsetToCol(D)),Q+=this.$getStringScreenWidth(S,K-ca)[1],this.$useWrapMode&&Q>=G&&(Q=G-1),R?R.idxToPosition(Q):{row:M,column:Q}};this.documentToScreenPosition=function(v,K){var D="undefined"==
typeof K?this.$clipPositionToDocument(v.row,v.column):this.$clipPositionToDocument(v,K);v=D.row;K=D.column;D=0;var M=null,Q;(Q=this.getFoldAt(v,K,1))&&(v=Q.start.row,K=Q.start.column);Q=0;var G=this.$docRowCache;var T=this.$getRowCacheIndex(G,v),S=G.length;if(S&&0<=T){Q=G[T];D=this.$screenRowCache[T];var R=v>G[S-1]}else R=!S;for(S=(T=this.getNextFoldLine(Q))?T.start.row:Infinity;Q<v;){if(Q>=S){G=T.end.row+1;if(G>v)break;S=(T=this.getNextFoldLine(G,T))?T.start.row:Infinity}else G=Q+1;D+=this.getRowLength(Q);
Q=G;R&&(this.$docRowCache.push(Q),this.$screenRowCache.push(D))}G="";T&&Q>=S?(G=this.getFoldDisplayLine(T,v,K),M=T.start.row):(G=this.getLine(v).substring(0,K),M=v);v=0;if(this.$useWrapMode&&(M=this.$wrapData[M])){for(v=0;G.length>=M[v];)D++,v++;G=G.substring(M[v-1]||0,G.length);v=0<v?M.indent:0}return{row:D,column:v+this.$getStringScreenWidth(G)[0]}};this.documentToScreenColumn=function(v,K){return this.documentToScreenPosition(v,K).column};this.documentToScreenRow=function(v,K){return this.documentToScreenPosition(v,
K).row};this.getScreenLength=function(){var v=0,K;if(this.$useWrapMode){var D=this.$wrapData.length,M=0;T=0;for(var Q=(K=this.$foldData[T++])?K.start.row:Infinity;M<D;){var G=this.$wrapData[M];v+=G?G.length+1:1;M++;M>Q&&(M=K.end.row+1,K=this.$foldData[T++],Q=K?K.start.row:Infinity)}}else{v=this.getLength();D=this.$foldData;for(var T=0;T<D.length;T++)K=D[T],v-=K.end.row-K.start.row}return this.lineWidgets&&(v+=this.$getWidgetScreenLength()),v};this.$setFontMetrics=function(v){this.$enableVarChar&&
(this.$getStringScreenWidth=function(K,D,M){if(0===D)return[0,0];D||(D=Infinity);M=M||0;var Q;for(Q=0;Q<K.length;Q++){var G=K.charAt(Q);"\t"===G?M+=this.getScreenTabSize(M):M+=v.getCharacterWidth(G);if(M>D)break}return[M,Q]})};this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null);this.$stopWorker()};this.isFullWidth=z}).call(w.prototype);d("./edit_session/folding").Folding.call(w.prototype);d("./edit_session/bracket_match").BracketMatch.call(w.prototype);
h.defineOptions(w.prototype,"session",{wrap:{set:function(z){z&&"off"!=z?"free"==z?z=!0:"printMargin"==z?z=-1:"string"==typeof z&&(z=parseInt(z,10)||!1):z=!1;this.$wrap!=z&&((this.$wrap=z)?(z="number"==typeof z?z:null,this.setWrapLimitRange(z,z),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(z){z="auto"==z?"text"!=this.$mode.type:
"text"!=z;z!=this.$wrapAsCode&&(this.$wrapAsCode=z,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(z){this.$useWorker=z;this.$stopWorker();z&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(z){isNaN(z)||this.$tabSize===z||(this.$modified=
!0,this.$rowLengthCache=[],this.$tabSize=z,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(z){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(z){this.doc.setNewLineMode(z)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(z){this.setMode(z)},get:function(){return this.$modeId}}});N.EditSession=w});
define("ace/search","require exports module ace/lib/lang ace/lib/oop ace/range".split(" "),function(d,N,W){var a=d("./lib/lang"),f=d("./lib/oop"),g=d("./range").Range;d=function(){this.$options={}};(function(){this.set=function(h){return f.mixin(this.$options,h),this};this.getOptions=function(){return a.copyObject(this.$options)};this.setOptions=function(h){this.$options=h};this.find=function(h){var e=this.$options;h=this.$matchIterator(h,e);if(!h)return!1;var l=null;return h.forEach(function(p,u,
c,m){return l=new g(p,u,c,m),u==m&&e.start&&e.start.start&&0!=e.skipCurrent&&l.isEqual(e.start)?(l=null,!1):!0}),l};this.findAll=function(h){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var l=e.range,p=l?h.getLines(l.start.row,l.end.row):h.doc.getAllLines();h=[];var u=e.re;if(e.$isMultiLine){var c=u.length,m=p.length-c,n,w=u.offset||0;a:for(;w<=m;w++){for(e=0;e<c;e++)if(-1==p[w+e].search(u[e]))continue a;var z=p[w];e=p[w+c-1];z=z.length-z.match(u[0])[0].length;e=e.match(u[c-1])[0].length;
n&&n.end.row===w&&n.end.column>z||(h.push(n=new g(w,z,w+c-1,e)),2<c&&(w=w+c-2))}}else for(n=0;n<p.length;n++)for(c=a.getMatchOffsets(p[n],u),e=0;e<c.length;e++)m=c[e],h.push(new g(n,m.offset,n,m.offset+m.length));if(l){u=p=l.start.column;n=0;for(e=h.length-1;n<e&&h[n].start.column<p&&h[n].start.row==l.start.row;)n++;for(;n<e&&h[e].end.column>u&&h[e].end.row==l.end.row;)e--;h=h.slice(n,e+1);n=0;for(e=h.length;n<e;n++)h[n].start.row+=l.start.row,h[n].end.row+=l.start.row}return h};this.replace=function(h,
e){var l=this.$options,p=this.$assembleRegExp(l);if(l.$isMultiLine)return e;if(p){var u=p.exec(h);if(!u||u[0].length!=h.length)return null;e=h.replace(p,e);if(l.preserveCase){e=e.split("");for(l=Math.min(h.length,h.length);l--;)(p=h[l])&&p.toLowerCase()!=p?e[l]=e[l].toUpperCase():e[l]=e[l].toLowerCase();e=e.join("")}return e}};this.$assembleRegExp=function(h,e){if(h.needle instanceof RegExp)return h.re=h.needle;var l=h.needle;if(!h.needle)return h.re=!1;h.regExp||(l=a.escapeRegExp(l));h.wholeWord&&
(l=(/\w/.test(l[0])||h.regExp?"\\b":"")+l+(/\w/.test(l[l.length-1])||h.regExp?"\\b":""));var p=h.caseSensitive?"gm":"gmi";h.$isMultiLine=!e&&/[\n\r]/.test(l);if(h.$isMultiLine)return h.re=this.$assembleMultilineRegExp(l,p);try{var u=new RegExp(l,p)}catch(c){u=!1}return h.re=u};this.$assembleMultilineRegExp=function(h,e){h=h.replace(/\r\n|\r|\n/g,"$\n^").split("\n");for(var l=[],p=0;p<h.length;p++)try{l.push(new RegExp(h[p],e))}catch(u){return!1}return l};this.$matchIterator=function(h,e){var l=this.$assembleRegExp(e);
if(!l)return!1;var p=1==e.backwards,u=0!=e.skipCurrent,c=e.range,m=e.start;m||(m=c?c[p?"end":"start"]:h.selection.getRange());m.start&&(m=m[u!=p?"end":"start"]);var n=c?c.start.row:0,w=c?c.end.row:h.getLength()-1;u=p?function(J){var v=m.row;if(!x(v,m.column,J)){for(v--;v>=n;v--)if(x(v,Number.MAX_VALUE,J))return;if(0!=e.wrap)for(v=w,n=m.row;v>=n&&!x(v,Number.MAX_VALUE,J);v--);}}:function(J){var v=m.row;if(!x(v,m.column,J)){for(v+=1;v<=w;v++)if(x(v,0,J))return;if(0!=e.wrap)for(v=n,w=m.row;v<=w&&!x(v,
0,J);v++);}};if(e.$isMultiLine)var z=l.length,x=function(J,v,K){J=p?J-z+1:J;if(!(0>J)){var D=h.getLine(J),M=D.search(l[0]);if(!(!p&&M<v||-1===M)){for(var Q=1;Q<z;Q++)if(D=h.getLine(J+Q),-1==D.search(l[Q]))return;D=D.match(l[z-1])[0].length;if(!(p&&D>v)&&K(J,M,J+z-1,D))return!0}}};else x=p?function(J,v,K){var D=h.getLine(J),M=[],Q;for(l.lastIndex=0;Q=l.exec(D);){var G=Q[0].length;var T=Q.index;if(!G){if(T>=D.length)break;l.lastIndex=T+1}if(Q.index+G>v)break;M.push(Q.index,G)}for(v=M.length-1;0<=v;v-=
2)if(D=M[v-1],G=M[v],K(J,D,J,D+G))return!0}:function(J,v,K){var D=h.getLine(J),M;for(l.lastIndex=v;M=l.exec(D);){v=M[0].length;M=M.index;if(K(J,M,J,M+v))return!0;if(!v&&(l.lastIndex=M+=1,M>=D.length))return!1}};return{forEach:u}}}).call(d.prototype);N.Search=d});
define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(d,N,W){function a(l,p){this.platform=p||(h.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(l);this.$singleCommand=!0}function f(l,p){a.call(this,l,p);this.$singleCommand=!1}var g=d("../lib/keys"),h=d("../lib/useragent"),e=g.KEY_MODS;f.prototype=a.prototype;(function(){function l(p){return"object"==typeof p&&p.bindKey&&p.bindKey.position||(p.isDefault?-100:0)}
this.addCommand=function(p){this.commands[p.name]&&this.removeCommand(p);this.commands[p.name]=p;p.bindKey&&this._buildKeyHash(p)};this.removeCommand=function(p,u){var c=p&&("string"==typeof p?p:p.name);p=this.commands[c];u||delete this.commands[c];u=this.commandKeyBinding;for(var m in u)if(c=u[m],c==p)delete u[m];else if(Array.isArray(c)){var n=c.indexOf(p);-1!=n&&(c.splice(n,1),1==c.length&&(u[m]=c[0]))}};this.bindKey=function(p,u,c){"object"==typeof p&&p&&(void 0==c&&(c=p.position),p=p[this.platform]);
if(p){if("function"==typeof u)return this.addCommand({exec:u,bindKey:p,name:u.name||p});p.split("|").forEach(function(m){var n="";if(-1!=m.indexOf(" ")){var w=m.split(/\s+/);m=w.pop();w.forEach(function(z){z=this.parseKeys(z);n+=(n?" ":"")+(e[z.hashId]+z.key);this._addCommandToBinding(n,"chainKeys")},this);n+=" "}m=this.parseKeys(m);this._addCommandToBinding(n+(e[m.hashId]+m.key),u,c)},this)}};this._addCommandToBinding=function(p,u,c){var m=this.commandKeyBinding,n;if(u)if(!m[p]||this.$singleCommand)m[p]=
u;else{Array.isArray(m[p])?-1!=(n=m[p].indexOf(u))&&m[p].splice(n,1):m[p]=[m[p]];"number"!=typeof c&&(c=l(u));p=m[p];for(n=0;n<p.length&&!(l(p[n])>c);n++);p.splice(n,0,u)}else delete m[p]};this.addCommands=function(p){p&&Object.keys(p).forEach(function(u){var c=p[u];if(c){if("string"==typeof c)return this.bindKey(c,u);"function"==typeof c&&(c={exec:c});"object"==typeof c&&(c.name||(c.name=u),this.addCommand(c))}},this)};this.removeCommands=function(p){Object.keys(p).forEach(function(u){this.removeCommand(p[u])},
this)};this.bindKeys=function(p){Object.keys(p).forEach(function(u){this.bindKey(u,p[u])},this)};this._buildKeyHash=function(p){this.bindKey(p.bindKey,p)};this.parseKeys=function(p){var u=p.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(z){return z}),c=u.pop(),m=g[c];if(g.FUNCTION_KEYS[m])c=g.FUNCTION_KEYS[m].toLowerCase();else{if(!u.length)return{key:c,hashId:-1};if(1==u.length&&"shift"==u[0])return{key:c.toUpperCase(),hashId:-1}}m=0;for(var n=u.length;n--;){var w=g.KEY_MODS[u[n]];if(null==
w)return"undefined"!=typeof console&&console.error("invalid modifier "+u[n]+" in "+p),!1;m|=w}return{key:c,hashId:m}};this.findKeyCommand=function(p,u){return this.commandKeyBinding[e[p]+u]};this.handleKeyboard=function(p,u,c,m){if(!(0>m)){var n=e[u]+c,w=this.commandKeyBinding[n];p.$keyChain&&(p.$keyChain+=" "+n,w=this.commandKeyBinding[p.$keyChain]||w);if(w&&("chainKeys"==w||"chainKeys"==w[w.length-1]))return p.$keyChain=p.$keyChain||n,{command:"null"};if(p.$keyChain)if(u&&4!=u||1!=c.length){if(-1==
u||0<m)p.$keyChain=""}else p.$keyChain=p.$keyChain.slice(0,-n.length-1);return{command:w}}};this.getStatusText=function(p,u){return u.$keyChain||""}}).call(a.prototype);N.HashHandler=a;N.MultiHashHandler=f});
define("ace/commands/command_manager","require exports module ace/lib/oop ace/keyboard/hash_handler ace/lib/event_emitter".split(" "),function(d,N,W){var a=d("../lib/oop"),f=d("../keyboard/hash_handler").MultiHashHandler,g=d("../lib/event_emitter").EventEmitter;d=function(h,e){f.call(this,e,h);this.byName=this.commands;this.setDefaultHandler("exec",function(l){return l.command.exec(l.editor,l.args||{})})};a.inherits(d,f);(function(){a.implement(this,g);this.exec=function(h,e,l){if(Array.isArray(h)){for(var p=
h.length;p--;)if(this.exec(h[p],e,l))return!0;return!1}"string"==typeof h&&(h=this.commands[h]);if(!h||e&&e.$readOnly&&!h.readOnly||h.isAvailable&&!h.isAvailable(e))return!1;h={editor:e,command:h,args:l};return h.returnValue=this._emit("exec",h),this._signal("afterExec",h),!1===h.returnValue?!1:!0};this.toggleRecording=function(h){if(!this.$inReplay)return h&&h._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=
this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)};this.replay=function(h){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(h);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,h):this.exec(e[0],h,e[1])},this)}finally{this.$inReplay=!1}}};this.trimMacro=
function(h){return h.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}).call(d.prototype);N.CommandManager=d});
define("ace/commands/default_commands","require exports module ace/lib/lang ace/config ace/range".split(" "),function(d,N,W){function a(e,l){return{win:e,mac:l}}var f=d("../lib/lang"),g=d("../config"),h=d("../range").Range;N.commands=[{name:"showSettingsMenu",bindKey:a("Ctrl-,","Command-,"),exec:function(e){g.loadModule("ace/ext/settings_menu",function(l){l.init(e);e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:a("Alt-E","F4"),exec:function(e){g.loadModule("ace/ext/error_marker",
function(l){l.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(e){g.loadModule("ace/ext/error_marker",function(l){l.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:a("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:a(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:a("Ctrl-L","Command-L"),
exec:function(e){var l=parseInt(prompt("Enter line number:"),10);isNaN(l)||e.gotoLine(l)},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",
bindKey:a("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:a("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:a("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll();
e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:a("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",
readOnly:!0},{name:"selectOrFindNext",bindKey:a("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:a("Ctrl-F","Command-F"),exec:function(e){g.loadModule("ace/ext/searchbox",function(l){l.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},
readOnly:!0},{name:"selecttostart",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),
exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:a("Up","Up|Ctrl-P"),exec:function(e,l){e.navigateUp(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",
bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:a("Down","Down|Ctrl-N"),exec:function(e,l){e.navigateDown(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",
readOnly:!0},{name:"selectwordleft",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:a("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},
multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:a("Left","Left|Ctrl-B"),exec:function(e,l){e.navigateLeft(l.times)},
multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:a("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:a("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:a("Right",
"Right|Ctrl-F"),exec:function(e,l){e.navigateRight(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:a(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},
readOnly:!0},{name:"pageup",bindKey:a(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:a("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:a("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",
exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},
readOnly:!0},{name:"jumptomatching",bindKey:a("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:a("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},
{name:"passKeysToBrowser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var l=e.getSelectionRange();e._emit("cut",l);e.selection.isEmpty()||(e.session.remove(l),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,l){e.$handlePaste(l)},scrollIntoView:"cursor"},{name:"removeline",bindKey:a("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",
multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:a("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},
{name:"toggleBlockComment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",
bindKey:a("Ctrl-H","Command-Option-F"),exec:function(e){g.loadModule("ace/ext/searchbox",function(l){l.Search(e,!0)})}},{name:"undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:a("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},
scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:a("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:a("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),
exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(e){var l=e.selection.getRange();l.start.column=0;e.session.remove(l)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(e){var l=e.selection.getRange();l.end.column=Number.MAX_VALUE;e.session.remove(l)},multiSelectAction:"forEach",scrollIntoView:"cursor"},
{name:"removewordleft",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:a("Tab",
"Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,l){e.insert(l)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",
exec:function(e,l){e.insert(f.stringRepeat(l.text||"",l.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:a(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},
multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var l=e.selection.getRange();l.start.column=l.end.column=0;l.end.row++;e.selection.setRange(l,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:a(null,null),exec:function(e){var l=
e.selection.isBackwards(),p=l?e.selection.getSelectionLead():e.selection.getSelectionAnchor();l=l?e.selection.getSelectionAnchor():e.selection.getSelectionLead();for(var u=e.session.doc.getLine(p.row).length,c=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,m=e.session.doc.getLine(p.row),n=p.row+1;n<=l.row+1;n++){var w=f.stringTrimLeft(f.stringTrimRight(e.session.doc.getLine(n)));0!==w.length&&(w=" "+w);m+=w}l.row+1<e.session.doc.getLength()-1&&(m+=e.session.doc.getNewLineCharacter());
e.clearSelection();e.session.doc.replace(new h(p.row,0,l.row+2,0),m);0<c?(e.selection.moveCursorTo(p.row,p.column),e.selection.selectTo(p.row,p.column+c)):(u=e.session.doc.getLine(p.row).length>u?u+1:u,e.selection.moveCursorTo(p.row,u))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:a(null,null),exec:function(e){var l=e.session.doc.getLength()-1,p=e.session.doc.getLine(l).length,u=e.selection.rangeList.ranges,c=[];1>u.length&&(u=[e.selection.getRange()]);for(var m=0;m<u.length;m++)m!=
u.length-1||u[m].end.row===l&&u[m].end.column===p||c.push(new h(u[m].end.row,u[m].end.column,l,p)),0===m?(0!==u[m].start.row||0!==u[m].start.column)&&c.push(new h(0,0,u[m].start.row,u[m].start.column)):c.push(new h(u[m-1].end.row,u[m-1].end.column,u[m].start.row,u[m].start.column));e.exitMultiSelectMode();e.clearSelection();for(m=0;m<c.length;m++)e.selection.addRange(c[m],!1)},readOnly:!0,scrollIntoView:"none"}]});
define("ace/editor","require exports module ace/lib/fixoldbrowsers ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/keyboard/textinput ace/mouse/mouse_handler ace/mouse/fold_handler ace/keyboard/keybinding ace/edit_session ace/search ace/range ace/lib/event_emitter ace/commands/command_manager ace/commands/default_commands ace/config ace/token_iterator".split(" "),function(d,N,W){d("./lib/fixoldbrowsers");var a=d("./lib/oop"),f=d("./lib/dom"),g=d("./lib/lang"),h=d("./lib/useragent"),e=d("./keyboard/textinput").TextInput,
l=d("./mouse/mouse_handler").MouseHandler,p=d("./mouse/fold_handler").FoldHandler,u=d("./keyboard/keybinding").KeyBinding,c=d("./edit_session").EditSession,m=d("./search").Search,n=d("./range").Range,w=d("./lib/event_emitter").EventEmitter,z=d("./commands/command_manager").CommandManager,x=d("./commands/default_commands").commands,J=d("./config"),v=d("./token_iterator").TokenIterator,K=function(D,M){this.container=D.getContainerElement();this.renderer=D;this.id="editor"+ ++K.$uid;this.commands=new z(h.isMac?
"mac":"win",x);"object"==typeof document&&(this.textInput=new e(D.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new p(this));this.keyBinding=new u(this);this.$blockScrolling=0;this.$search=(new m).set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=g.delayedCall(function(){this._signal("input",{});this.session&&this.session.bgTokenizer&&
this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(Q,G){G._$emitInputEvent.schedule(31)});this.setSession(M||new c(""));J.resetOptions(this);J._signal("editor",this)};K.$uid=0;(function(){a.implement(this,w);this.$initOperationListeners=function(){this.selections=[];this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=g.delayedCall(this.endOperation.bind(this));this.on("change",function(){this.curOp||
this.startOperation();this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){this.curOp||this.startOperation();this.curOp.selectionChanged=!0}.bind(this),!0)};this.curOp=null;this.prevOp={};this.startOperation=function(D){if(this.curOp){if(!D||this.curOp.command)return;this.prevOp=this.curOp}D||(this.previousCommand=null,D={});this.$opResetTimer.schedule();this.curOp={command:D.command||{},args:D.args,scrollTop:this.renderer.scrollTop};this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&
this.$blockScrolling++};this.endOperation=function(D){if(this.curOp){if(D&&!1===D.returnValue)return this.curOp=null;this._signal("beforeEndOperation");D=this.curOp.command;D.name&&0<this.$blockScrolling&&this.$blockScrolling--;if(D=D&&D.scrollIntoView){switch(D){case "center-animate":D="animate";case "center":this.renderer.scrollCursorIntoView(null,.5);break;case "animate":case "cursor":this.renderer.scrollCursorIntoView();break;case "selectionPart":var M=this.selection.getRange(),Q=this.renderer.layerConfig;
(M.start.row>=Q.lastRow||M.end.row<=Q.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==D&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(D){if(this.$mergeUndoDeltas){var M=this.prevOp,Q=this.$mergeableCommands,G=M.command&&D.command.name==M.command.name;if("insertstring"==D.command.name){var T=D.args;void 0===
this.mergeNextCommand&&(this.mergeNextCommand=!0);G=G&&this.mergeNextCommand&&(!/\s/.test(T)||/\s/.test(M.args));this.mergeNextCommand=!0}else G=G&&-1!==Q.indexOf(D.command.name);"always"!=this.$mergeUndoDeltas&&2E3<Date.now()-this.sequenceStartTime&&(G=!1);G?this.session.mergeUndoDeltas=!0:-1!==Q.indexOf(D.command.name)&&(this.sequenceStartTime=Date.now())}};this.setKeyboardHandler=function(D,M){if(D&&"string"==typeof D){this.$keybindingId=D;var Q=this;J.loadModule(["keybinding",D],function(G){Q.$keybindingId==
D&&Q.keyBinding.setKeyboardHandler(G&&G.handler);M&&M()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(D),M&&M()};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(D){if(this.session!=D){this.curOp&&this.endOperation();this.curOp={};var M=this.session;if(M){this.session.off("change",this.$onDocumentChange);this.session.off("changeMode",this.$onChangeMode);this.session.off("tokenizerUpdate",this.$onTokenizerUpdate);this.session.off("changeTabSize",
this.$onChangeTabSize);this.session.off("changeWrapLimit",this.$onChangeWrapLimit);this.session.off("changeWrapMode",this.$onChangeWrapMode);this.session.off("changeFold",this.$onChangeFold);this.session.off("changeFrontMarker",this.$onChangeFrontMarker);this.session.off("changeBackMarker",this.$onChangeBackMarker);this.session.off("changeBreakpoint",this.$onChangeBreakpoint);this.session.off("changeAnnotation",this.$onChangeAnnotation);this.session.off("changeOverwrite",this.$onCursorChange);this.session.off("changeScrollTop",
this.$onScrollTopChange);this.session.off("changeScrollLeft",this.$onScrollLeftChange);var Q=this.session.getSelection();Q.off("changeCursor",this.$onCursorChange);Q.off("changeSelection",this.$onSelectionChange)}(this.session=D)?(this.$onDocumentChange=this.onDocumentChange.bind(this),D.on("change",this.$onDocumentChange),this.renderer.setSession(D),this.$onChangeMode=this.onChangeMode.bind(this),D.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),D.on("tokenizerUpdate",
this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),D.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),D.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),D.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),D.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",
this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=
this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=D.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),--this.$blockScrolling,
this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(D));this._signal("changeSession",{session:D,oldSession:M});this.curOp=null;M&&M._signal("changeEditor",{oldEditor:this});D&&D._signal("changeEditor",{editor:this});D&&D.bgTokenizer&&D.bgTokenizer.scheduleStart()}};
this.getSession=function(){return this.session};this.setValue=function(D,M){return this.session.doc.setValue(D),M?1==M?this.navigateFileEnd():-1==M&&this.navigateFileStart():this.selectAll(),D};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(D){this.renderer.onResize(D)};this.setTheme=function(D,M){this.renderer.setTheme(D,M)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(D){this.renderer.setStyle(D)};
this.unsetStyle=function(D){this.renderer.unsetStyle(D)};this.getFontSize=function(){return this.getOption("fontSize")||f.computedStyle(this.container,"fontSize")};this.setFontSize=function(D){this.setOption("fontSize",D)};this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(!this.$highlightPending){var D=this;this.$highlightPending=!0;setTimeout(function(){D.$highlightPending=!1;var M=
D.session;if(M&&M.bgTokenizer){var Q=M.findMatchingBracket(D.getCursorPosition());if(Q)var G=new n(Q.row,Q.column,Q.row,Q.column+1);else M.$mode.getMatching&&(G=M.$mode.getMatching(D.session));G&&(M.$bracketHighlight=M.addMarker(G,"ace_bracket","text"))}},50)}};this.$highlightTags=function(){if(!this.$highlightTagPending){var D=this;this.$highlightTagPending=!0;setTimeout(function(){D.$highlightTagPending=!1;var M=D.session;if(M&&M.bgTokenizer){var Q=D.getCursorPosition(),G=new v(D.session,Q.row,
Q.column);if((Q=G.getCurrentToken())&&/\b(?:tag-open|tag-name)/.test(Q.type)){if(-1!=Q.type.indexOf("tag-open")&&(Q=G.stepForward(),!Q))return;var T=Q.value,S=0,R=G.stepBackward();if("<"==R.value){do R=Q,(Q=G.stepForward())&&Q.value===T&&-1!==Q.type.indexOf("tag-name")&&("<"===R.value?S++:"</"===R.value&&S--);while(Q&&0<=S)}else{do Q=R,R=G.stepBackward(),Q&&Q.value===T&&-1!==Q.type.indexOf("tag-name")&&("<"===R.value?S++:"</"===R.value&&S--);while(R&&0>=S);G.stepForward()}Q?(T=G.getCurrentTokenRow(),
G=G.getCurrentTokenColumn(),Q=new n(T,G,T,G+Q.value.length),G=M.$backMarkers[M.$tagHighlight],M.$tagHighlight&&void 0!=G&&0!==Q.compareRange(G.range)&&(M.removeMarker(M.$tagHighlight),M.$tagHighlight=null),Q&&!M.$tagHighlight&&(M.$tagHighlight=M.addMarker(Q,"ace_bracket","text"))):(M.removeMarker(M.$tagHighlight),M.$tagHighlight=null)}else M.removeMarker(M.$tagHighlight),M.$tagHighlight=null}},50)}};this.focus=function(){var D=this;setTimeout(function(){D.textInput.focus()});this.textInput.focus()};
this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(D){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",D))};this.onBlur=function(D){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",D))};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(D){this.renderer.updateLines(D.start.row,
D.start.row==D.end.row?D.end.row:Infinity,this.session.$useWrapMode);this._signal("change",D);this.$cursorChange();this.$updateHighlightActiveLine()};this.onTokenizerUpdate=function(D){D=D.data;this.renderer.updateLines(D.first,D.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();this.$blockScrolling||(J.warn("Automatically scrolling cursor into view after selection change",
"this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView());this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var D=this.getSession(),M;this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(M=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||
1<this.renderer.$minLines||(M=!1));D.$highlightLineMarker&&!M?(D.removeMarker(D.$highlightLineMarker.id),D.$highlightLineMarker=null):!D.$highlightLineMarker&&M?(M=new n(M.row,M.column,M.row,Infinity),M.id=D.addMarker(M,"ace_active-line","screenLine"),D.$highlightLineMarker=M):M&&(D.$highlightLineMarker.start.row=M.row,D.$highlightLineMarker.end.row=M.row,D.$highlightLineMarker.start.column=M.column,D._signal("changeBackMarker"))};this.onSelectionChange=function(D){D=this.session;D.$selectionMarker&&
D.removeMarker(D.$selectionMarker);D.$selectionMarker=null;if(this.selection.isEmpty())this.$updateHighlightActiveLine();else{var M=this.selection.getRange(),Q=this.getSelectionStyle();D.$selectionMarker=D.addMarker(M,"ace_selection",Q)}D=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(D);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var D=this.session,M=this.getSelectionRange();if(!M.isEmpty()&&!M.isMultiLine()){var Q=M.start.column-
1,G=M.end.column+1;D=D.getLine(M.start.row);var T=D.length,S=D.substring(Math.max(Q,0),Math.min(G,T));if(!(0<=Q&&/^[\w\d]/.test(S)||G<=T&&/[\w\d]$/.test(S))&&(S=D.substring(M.start.column,M.end.column),/^[\w\d]+$/.test(S)))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:S})}};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};
this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(D){this.renderer.updateText();this._emit("changeMode",D)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=
function(){var D=this.getSelectedText();return this._signal("copy",D),D};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(D,M){this.commands.exec("paste",this,{text:D,event:M})};this.$handlePaste=function(D){"string"==typeof D&&(D={text:D});this._signal("paste",D);var M=D.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(M);else{D=M.split(/\r\n|\r|\n/);var Q=this.selection.rangeList.ranges;if(D.length>
Q.length||2>D.length||!D[1])return this.commands.exec("insertstring",this,M);for(M=Q.length;M--;){var G=Q[M];G.isEmpty()||this.session.remove(G);this.session.insert(G.start,D[M])}}};this.execCommand=function(D,M){return this.commands.exec(D,this,M)};this.insert=function(D,M){var Q=this.session,G=Q.getMode(),T=this.getCursorPosition();if(this.getBehavioursEnabled()&&!M){var S=G.transformAction(Q.getState(T.row),"insertion",this,Q,D);S&&(D!==S.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=
!1),D=S.text)}"\t"==D&&(D=this.session.getTabString());this.selection.isEmpty()?this.session.getOverwrite()&&-1==D.indexOf("\n")&&(M=new n.fromPoints(T,T),M.end.column+=D.length,this.session.remove(M)):(M=this.getSelectionRange(),T=this.session.remove(M),this.clearSelection());if("\n"==D||"\r\n"==D){var R=Q.getLine(T.row);T.column>R.search(/\S|$/)&&(M=R.substr(T.column).search(/\S|$/),Q.doc.removeInLine(T.row,T.column,T.column+M))}this.clearSelection();var ca=T.column;M=Q.getState(T.row);R=Q.getLine(T.row);
var ha=G.checkOutdent(M,R,D);Q.insert(T,D);S&&S.selection&&(2==S.selection.length?this.selection.setSelectionRange(new n(T.row,ca+S.selection[0],T.row,ca+S.selection[1])):this.selection.setSelectionRange(new n(T.row+S.selection[0],S.selection[1],T.row+S.selection[2],S.selection[3])));Q.getDocument().isNewLine(D)&&(D=G.getNextLineIndent(M,R.slice(0,T.column),Q.getTabString()),Q.insert({row:T.row+1,column:0},D));ha&&G.autoOutdent(M,Q,T.row)};this.onTextInput=function(D){this.keyBinding.onTextInput(D)};
this.onCommandKey=function(D,M,Q){this.keyBinding.onCommandKey(D,M,Q)};this.setOverwrite=function(D){this.session.setOverwrite(D)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(D){this.setOption("scrollSpeed",D)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(D){this.setOption("dragDelay",D)};this.getDragDelay=function(){return this.getOption("dragDelay")};
this.setSelectionStyle=function(D){this.setOption("selectionStyle",D)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(D){this.setOption("highlightActiveLine",D)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(D){this.setOption("highlightGutterLine",D)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=
function(D){this.setOption("highlightSelectedWord",D)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(D){this.renderer.setAnimatedScroll(D)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(D){this.renderer.setShowInvisibles(D)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(D){this.renderer.setDisplayIndentGuides(D)};
this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(D){this.renderer.setShowPrintMargin(D)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(D){this.renderer.setPrintMarginColumn(D)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(D){this.setOption("readOnly",D)};this.getReadOnly=function(){return this.getOption("readOnly")};
this.setBehavioursEnabled=function(D){this.setOption("behavioursEnabled",D)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(D){this.setOption("wrapBehavioursEnabled",D)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(D){this.setOption("showFoldWidgets",D)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=
function(D){this.setOption("fadeFoldWidgets",D)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(D){this.selection.isEmpty()&&("left"==D?this.selection.selectLeft():this.selection.selectRight());D=this.getSelectionRange();if(this.getBehavioursEnabled()){var M=this.session,Q=M.getState(D.start.row);Q=M.getMode().transformAction(Q,"deletion",this,M,D);if(0===D.end.column){var G=M.getTextRange(D);"\n"==G[G.length-1]&&(M=M.getLine(D.end.row),/^\s+$/.test(M)&&
(D.end.column=M.length))}Q&&(D=Q)}this.session.remove(D);this.clearSelection()};this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.session.remove(this.getSelectionRange());
this.clearSelection()};this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var D=this.getSelectionRange();D.start.column==D.end.column&&D.start.row==D.end.row&&(D.end.column=0,D.end.row++);this.session.remove(D);this.clearSelection()};this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var D=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(D)};this.transposeLetters=function(){if(this.selection.isEmpty()){var D=
this.getCursorPosition(),M=D.column;if(0!==M){var Q=this.session.getLine(D.row),G,T;M<Q.length?(G=Q.charAt(M)+Q.charAt(M-1),T=new n(D.row,M-1,D.row,M+1)):(G=Q.charAt(M-1)+Q.charAt(M-2),T=new n(D.row,M-2,D.row,M));this.session.replace(T,G);this.session.selection.moveToPosition(T.end)}}};this.toLowerCase=function(){var D=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),Q=this.session.getTextRange(M);this.session.replace(M,Q.toLowerCase());
this.selection.setSelectionRange(D)};this.toUpperCase=function(){var D=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),Q=this.session.getTextRange(M);this.session.replace(M,Q.toUpperCase());this.selection.setSelectionRange(D)};this.indent=function(){var D=this.session,M=this.getSelectionRange();if(M.start.row<M.end.row)M=this.$getSelectedRows(),D.indentRows(M.first,M.last,"\t");else{if(M.start.column<M.end.column){var Q=D.getTextRange(M);
if(!/^\s+$/.test(Q)){M=this.$getSelectedRows();D.indentRows(M.first,M.last,"\t");return}}Q=D.getLine(M.start.row);var G=M.start,T=D.getTabSize();D=D.documentToScreenColumn(G.row,G.column);if(this.session.getUseSoftTabs())M=g.stringRepeat(" ",T-D%T);else{for(D%=T;" "==Q[M.start.column-1]&&D;)M.start.column--,D--;this.selection.setSelectionRange(M);M="\t"}return this.insert(M)}};this.blockIndent=function(){var D=this.$getSelectedRows();this.session.indentRows(D.first,D.last,"\t")};this.blockOutdent=
function(){var D=this.session.getSelection();this.session.outdentRows(D.getRange())};this.sortLines=function(){for(var D=this.$getSelectedRows(),M=this.session,Q=[],G=D.first;G<=D.last;G++)Q.push(M.getLine(G));Q.sort(function(R,ca){return R.toLowerCase()<ca.toLowerCase()?-1:R.toLowerCase()>ca.toLowerCase()?1:0});var T=new n(0,0,0,0);for(G=D.first;G<=D.last;G++){var S=M.getLine(G);T.start.row=G;T.end.row=G;T.end.column=S.length;M.replace(T,Q[G-D.first])}};this.toggleCommentLines=function(){var D=this.session.getState(this.getCursorPosition().row),
M=this.$getSelectedRows();this.session.getMode().toggleCommentLines(D,this.session,M.first,M.last)};this.toggleBlockComment=function(){var D=this.getCursorPosition(),M=this.session.getState(D.row),Q=this.getSelectionRange();this.session.getMode().toggleBlockComment(M,this.session,Q,D)};this.getNumberAt=function(D,M){var Q=/[\-]?[0-9]+(?:\.[0-9]+)?/g;Q.lastIndex=0;for(D=this.session.getLine(D);Q.lastIndex<M;){var G=Q.exec(D);if(G.index<=M&&G.index+G[0].length>=M)return{value:G[0],start:G.index,end:G.index+
G[0].length}}return null};this.modifyNumber=function(D){var M=this.selection.getCursor().row,Q=this.selection.getCursor().column,G=new n(M,Q-1,M,Q);G=this.session.getTextRange(G);if(!isNaN(parseFloat(G))&&isFinite(G)&&(G=this.getNumberAt(M,Q))){var T=0<=G.value.indexOf(".")?G.start+G.value.indexOf(".")+1:G.end,S=G.start+G.value.length-T,R=parseFloat(G.value);R*=Math.pow(10,S);T!==G.end&&Q<T?D*=Math.pow(10,G.end-Q-1):D*=Math.pow(10,G.end-Q);R=(R+D)/Math.pow(10,S);D=R.toFixed(S);T=new n(M,G.start,M,
G.end);this.session.replace(T,D);this.moveCursorTo(M,Math.max(G.start+1,Q+D.length-G.value.length))}};this.removeLines=function(){var D=this.$getSelectedRows();this.session.removeFullLines(D.first,D.last);this.clearSelection()};this.duplicateSelection=function(){var D=this.selection,M=this.session,Q=D.getRange(),G=D.isBackwards();if(Q.isEmpty())D=Q.start.row,M.duplicateLines(D,D);else{var T=G?Q.start:Q.end;M=M.insert(T,M.getTextRange(Q),!1);Q.start=T;Q.end=M;D.setSelectionRange(Q,G)}};this.moveLinesDown=
function(){this.$moveLines(1,!1)};this.moveLinesUp=function(){this.$moveLines(-1,!1)};this.moveText=function(D,M,Q){return this.session.moveText(D,M,Q)};this.copyLinesUp=function(){this.$moveLines(-1,!0)};this.copyLinesDown=function(){this.$moveLines(1,!0)};this.$moveLines=function(D,M){var Q=this.selection;if(!Q.inMultiSelectMode||this.inVirtualSelectionMode){var G=Q.toOrientedRange();var T=this.$getSelectedRows(G);var S=this.session.$moveLines(T.first,T.last,M?0:D);M&&-1==D&&(S=0);G.moveBy(S,0);
Q.fromOrientedRange(G)}else{G=Q.rangeList.ranges;Q.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;var R=0;S=0;for(var ca=G.length,ha=0;ha<ca;ha++){var ra=ha;G[ha].moveBy(R,0);T=this.$getSelectedRows(G[ha]);R=T.first;for(T=T.last;++ha<ca;){S&&G[ha].moveBy(S,0);var Ia=this.$getSelectedRows(G[ha]);if(M&&Ia.first!=T)break;if(!M&&Ia.first>T+1)break;T=Ia.last}ha--;R=this.session.$moveLines(R,T,M?0:D);for(M&&-1==D&&(ra=ha+1);ra<=ha;)G[ra].moveBy(R,0),ra++;M||(R=0);S+=R}Q.fromOrientedRange(Q.ranges[0]);
Q.rangeList.attach(this.session);this.inVirtualSelectionMode=!1}};this.$getSelectedRows=function(D){return D=(D||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(D.start.row),last:this.session.getRowFoldEnd(D.end.row)}};this.onCompositionStart=function(D){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(D){this.renderer.setCompositionText(D)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=
function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(D){return D>=this.getFirstVisibleRow()&&D<=this.getLastVisibleRow()};this.isRowFullyVisible=function(D){return D>=this.renderer.getFirstFullyVisibleRow()&&D<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(D,M){var Q=
this.renderer,G=this.renderer.layerConfig,T=D*Math.floor(G.height/G.lineHeight);this.$blockScrolling++;!0===M?this.selection.$moveSelection(function(){this.moveCursorBy(T,0)}):!1===M&&(this.selection.moveCursorBy(T,0),this.selection.clearSelection());this.$blockScrolling--;D=Q.scrollTop;Q.scrollBy(0,T*G.lineHeight);null!=M&&Q.scrollCursorIntoView(null,.5);Q.animateScrolling(D)};this.selectPageDown=function(){this.$moveByPage(1,!0)};this.selectPageUp=function(){this.$moveByPage(-1,!0)};this.gotoPageDown=
function(){this.$moveByPage(1,!1)};this.gotoPageUp=function(){this.$moveByPage(-1,!1)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(D){this.renderer.scrollToRow(D)};this.scrollToLine=function(D,M,Q,G){this.renderer.scrollToLine(D,M,Q,G)};this.centerSelection=function(){var D=this.getSelectionRange();this.renderer.alignCursor({row:Math.floor(D.start.row+(D.end.row-D.start.row)/2),column:Math.floor(D.start.column+(D.end.column-
D.start.column)/2)},.5)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();--this.$blockScrolling};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(D,M){this.selection.moveCursorTo(D,
M)};this.moveCursorToPosition=function(D){this.selection.moveCursorToPosition(D)};this.jumpToMatching=function(D,M){var Q=this.getCursorPosition(),G=new v(this.session,Q.row,Q.column),T=G.getCurrentToken(),S=T||G.stepForward();if(S){var R,ca=!1,ha={},ra=Q.column-S.start,Ia={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(S.value.match(/[{}()\[\]]/g))for(;ra<S.value.length&&!ca;ra++){if(Ia[S.value[ra]]){var ja=Ia[S.value[ra]]+"."+S.type.replace("rparen","lparen");isNaN(ha[ja])&&(ha[ja]=0);switch(S.value[ra]){case "(":case "[":case "{":ha[ja]++;
break;case ")":case "]":case "}":ha[ja]--,-1===ha[ja]&&(R="bracket",ca=!0)}}}else S&&-1!==S.type.indexOf("tag-name")&&(isNaN(ha[S.value])&&(ha[S.value]=0),"<"===T.value?ha[S.value]++:"</"===T.value&&ha[S.value]--,-1===ha[S.value]&&(R="tag",ca=!0));ca||(T=S,S=G.stepForward(),ra=0)}while(S&&!ca);if(R){if("bracket"===R){var ma=this.session.getBracketRange(Q);if(!ma){ma=new n(G.getCurrentTokenRow(),G.getCurrentTokenColumn()+ra-1,G.getCurrentTokenRow(),G.getCurrentTokenColumn()+ra-1);var Aa=ma.start;if(M||
Aa.row===Q.row&&2>Math.abs(Aa.column-Q.column))ma=this.session.getBracketRange(Aa)}}else if("tag"===R){if(!S||-1===S.type.indexOf("tag-name"))return;R=S.value;ma=new n(G.getCurrentTokenRow(),G.getCurrentTokenColumn()-2,G.getCurrentTokenRow(),G.getCurrentTokenColumn()-2);if(0===ma.compare(Q.row,Q.column)){ca=!1;do S=T,(T=G.stepBackward())&&(-1!==T.type.indexOf("tag-close")&&ma.setEnd(G.getCurrentTokenRow(),G.getCurrentTokenColumn()+1),S.value===R&&-1!==S.type.indexOf("tag-name")&&("<"===T.value?ha[R]++:
"</"===T.value&&ha[R]--,0===ha[R]&&(ca=!0)));while(T&&!ca)}S&&S.type.indexOf("tag-name")&&(Aa=ma.start,Aa.row==Q.row&&2>Math.abs(Aa.column-Q.column)&&(Aa=ma.end))}(Aa=ma&&ma.cursor||Aa)&&(D?ma&&M?this.selection.setRange(ma):ma&&ma.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Aa.row,Aa.column):this.selection.moveTo(Aa.row,Aa.column))}}};this.gotoLine=function(D,M,Q){this.selection.clearSelection();this.session.unfold({row:D-1,column:M||0});this.$blockScrolling+=1;
this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(D-1,M||0);--this.$blockScrolling;this.isRowFullyVisible(D-1)||this.scrollToLine(D-1,!0,Q)};this.navigateTo=function(D,M){this.selection.moveTo(D,M)};this.navigateUp=function(D){if(this.selection.isMultiLine()&&!this.selection.isBackwards())return D=this.selection.anchor.getPosition(),this.moveCursorToPosition(D);this.selection.clearSelection();this.selection.moveCursorBy(-D||-1,0)};this.navigateDown=function(D){if(this.selection.isMultiLine()&&
this.selection.isBackwards())return D=this.selection.anchor.getPosition(),this.moveCursorToPosition(D);this.selection.clearSelection();this.selection.moveCursorBy(D||1,0)};this.navigateLeft=function(D){if(this.selection.isEmpty())for(D=D||1;D--;)this.selection.moveCursorLeft();else D=this.getSelectionRange().start,this.moveCursorToPosition(D);this.clearSelection()};this.navigateRight=function(D){if(this.selection.isEmpty())for(D=D||1;D--;)this.selection.moveCursorRight();else D=this.getSelectionRange().end,
this.moveCursorToPosition(D);this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};
this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(D,M){M&&this.$search.set(M);M=this.$search.find(this.session);var Q=0;return M?(this.$tryReplace(M,D)&&(Q=1),null!==M&&(this.selection.setSelectionRange(M),this.renderer.scrollSelectionIntoView(M.start,M.end)),Q):Q};this.replaceAll=function(D,M){M&&this.$search.set(M);M=this.$search.findAll(this.session);var Q=0;if(!M.length)return Q;this.$blockScrolling+=1;var G=this.getSelectionRange();
this.selection.moveTo(0,0);for(var T=M.length-1;0<=T;--T)this.$tryReplace(M[T],D)&&Q++;return this.selection.setSelectionRange(G),--this.$blockScrolling,Q};this.$tryReplace=function(D,M){var Q=this.session.getTextRange(D);return M=this.$search.replace(Q,M),null!==M?(D.end=this.session.replace(D,M),D):null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(D,M,Q){M||(M={});"string"==typeof D||D instanceof RegExp?M.needle=D:"object"==typeof D&&a.mixin(M,D);var G=
this.selection.getRange();null==M.needle&&(D=this.session.getTextRange(G)||this.$search.$options.needle,D||(G=this.session.getWordRange(G.start.row,G.start.column),D=this.session.getTextRange(G)),this.$search.set({needle:D}));this.$search.set(M);M.start||this.$search.set({start:G});D=this.$search.find(this.session);if(M.preventScroll)return D;if(D)return this.revealRange(D,Q),D;M.backwards?G.start=G.end:G.end=G.start;this.selection.setRange(G)};this.findNext=function(D,M){this.find({skipCurrent:!0,
backwards:!1},D,M)};this.findPrevious=function(D,M){this.find(D,{skipCurrent:!0,backwards:!0},M)};this.revealRange=function(D,M){this.$blockScrolling+=1;this.session.unfold(D);this.selection.setSelectionRange(D);--this.$blockScrolling;var Q=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(D.start,D.end,.5);!1!==M&&this.renderer.animateScrolling(Q)};this.undo=function(){this.$blockScrolling++;this.session.getUndoManager().undo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,
.5)};this.redo=function(){this.$blockScrolling++;this.session.getUndoManager().redo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.renderer.destroy();this._signal("destroy",this);this.session&&this.session.destroy()};this.setAutoScrollEditorIntoView=function(D){if(D){var M,Q=this,G=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var T=this.$scrollAnchor;T.style.cssText="position:absolute";this.container.insertBefore(T,this.container.firstChild);
var S=this.on("changeSelection",function(){G=!0}),R=this.renderer.on("beforeRender",function(){G&&(M=Q.renderer.container.getBoundingClientRect())}),ca=this.renderer.on("afterRender",function(){if(G&&M&&(Q.isFocused()||Q.searchBox&&Q.searchBox.isFocused())){var ha=Q.renderer,ra=ha.$cursorLayer.$pixelPos;ha=ha.layerConfig;var Ia=ra.top-ha.offset;0<=ra.top&&0>Ia+M.top?G=!0:ra.top<ha.height&&ra.top+M.top+ha.lineHeight>window.innerHeight?G=!1:G=null;null!=G&&(T.style.top=Ia+"px",T.style.left=ra.left+
"px",T.style.height=ha.lineHeight+"px",T.scrollIntoView(G));G=M=null}});this.setAutoScrollEditorIntoView=function(ha){ha||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",S),this.renderer.off("afterRender",ca),this.renderer.off("beforeRender",R))}}};this.$resetCursorStyle=function(){var D=this.$cursorStyle||"ace",M=this.renderer.$cursorLayer;M&&(M.setSmoothBlinking(/smooth/.test(D)),M.isBlinking=!this.$readOnly&&"wide"!=D,f.setCssClass(M.element,"ace_slim-cursors",/slim/.test(D)))}}).call(K.prototype);
J.defineOptions(K.prototype,"editor",{selectionStyle:{set:function(D){this.onSelectionChange();this._signal("changeSelectionStyle",{data:D})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(D){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(D){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(D){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},
mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(D){this.setAutoScrollEditorIntoView(D)}},keyboardHandler:{set:function(D){this.setKeyboardHandler(D)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",
printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",
overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});N.Editor=K});
define("ace/undomanager",["require","exports","module"],function(d,N,W){d=function(){this.reset()};(function(){function a(h){return{action:h.action,start:h.start,end:h.end,lines:1==h.lines.length?null:h.lines,text:1==h.lines.length?h.lines[0]:null}}function f(h){return{action:h.action,start:h.start,end:h.end,lines:h.lines||[h.text]}}function g(h,e){for(var l=Array(h.length),p=0;p<h.length;p++){for(var u=h[p],c={group:u.group,deltas:Array(u.length)},m=0;m<u.deltas.length;m++)c.deltas[m]=e(u.deltas[m]);
l[p]=c}return l}this.execute=function(h){var e=h.args[0];this.$doc=h.args[1];h.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e));this.$undoStack.push(e);this.$redoStack=[];0>this.dirtyCounter&&(this.dirtyCounter=NaN);this.dirtyCounter++};this.undo=function(h){var e=this.$undoStack.pop(),l=null;return e&&(l=this.$doc.undoChanges(e,h),this.$redoStack.push(e),this.dirtyCounter--),l};this.redo=function(h){var e=this.$redoStack.pop(),l=null;return e&&(l=this.$doc.redoChanges(this.$deserializeDeltas(e),
h),this.$undoStack.push(e),this.dirtyCounter++),l};this.reset=function(){this.$undoStack=[];this.$redoStack=[];this.dirtyCounter=0};this.hasUndo=function(){return 0<this.$undoStack.length};this.hasRedo=function(){return 0<this.$redoStack.length};this.markClean=function(){this.dirtyCounter=0};this.isClean=function(){return 0===this.dirtyCounter};this.$serializeDeltas=function(h){return g(h,a)};this.$deserializeDeltas=function(h){return g(h,f)}}).call(d.prototype);N.UndoManager=d});
define("ace/layer/gutter","require exports module ace/lib/dom ace/lib/oop ace/lib/lang ace/lib/event_emitter".split(" "),function(d,N,W){var a=d("../lib/dom"),f=d("../lib/oop"),g=d("../lib/lang"),h=d("../lib/event_emitter").EventEmitter;d=function(e){this.element=a.createElement("div");this.element.className="ace_layer ace_gutter-layer";e.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);
this.$cells=[]};(function(){f.implement(this,h);this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations);(this.session=e)&&e.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(e,l){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(e,l)};this.removeGutterDecoration=function(e,l){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration");
this.session.removeGutterDecoration(e,l)};this.setAnnotations=function(e){this.$annotations=[];for(var l=0;l<e.length;l++){var p=e[l],u=p.row,c=this.$annotations[u];c||(c=this.$annotations[u]={text:[]});u=(u=p.text)?g.escapeHTML(u):p.html||"";-1===c.text.indexOf(u)&&c.text.push(u);p=p.type;"error"==p?c.className=" ace_error":"warning"==p&&" ace_error"!=c.className?c.className=" ace_warning":"info"==p&&!c.className&&(c.className=" ace_info")}};this.$updateAnnotations=function(e){if(this.$annotations.length){var l=
e.start.row,p=e.end.row-l;0!==p&&("remove"==e.action?this.$annotations.splice(l,p+1,null):(e=Array(p+1),e.unshift(l,1),this.$annotations.splice.apply(this.$annotations,e)))}};this.update=function(e){for(var l=this.session,p=e.firstRow,u=Math.min(e.lastRow+e.gutterOffset,l.getLength()-1),c=l.getNextFoldLine(p),m=c?c.start.row:Infinity,n=this.$showFoldWidgets&&l.foldWidgets,w=l.$breakpoints,z=l.$decorations,x=l.$firstLineNumber,J=0,v=l.gutterRenderer||this.$renderer,K=-1,D=p;;){D>m&&(D=c.end.row+1,
c=l.getNextFoldLine(D,c),m=c?c.start.row:Infinity);if(D>u){for(;this.$cells.length>K+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}(p=this.$cells[++K])||(p={element:null,textNode:null,foldWidget:null},p.element=a.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[K]=p);J="ace_gutter-cell ";w[D]&&(J+=w[D]);z[D]&&(J+=z[D]);this.$annotations[D]&&(J+=this.$annotations[D].className);p.element.className!=
J&&(p.element.className=J);J=l.getRowLength(D)*e.lineHeight+"px";J!=p.element.style.height&&(p.element.style.height=J);if(n){var M=n[D];null==M&&(M=n[D]=l.getFoldWidget(D))}M?(p.foldWidget||(p.foldWidget=a.createElement("span"),p.element.appendChild(p.foldWidget)),J="ace_fold-widget ace_"+M,"start"==M&&D==m&&D<c.end.row?J+=" ace_closed":J+=" ace_open",p.foldWidget.className!=J&&(p.foldWidget.className=J),J=e.lineHeight+"px",p.foldWidget.style.height!=J&&(p.foldWidget.style.height=J)):p.foldWidget&&
(p.element.removeChild(p.foldWidget),p.foldWidget=null);var Q=J=v?v.getText(l,D):D+x;Q!==p.textNode.data&&(p.textNode.data=Q);D++}this.element.style.height=e.minHeight+"px";if(this.$fixedWidth||l.$useWrapMode)J=l.getLength()+x;e=v?v.getWidth(l,J,e):J.toString().length*e.characterWidth;l=this.$padding||this.$computePadding();e+=l.left+l.right;e!==this.gutterWidth&&!isNaN(e)&&(this.gutterWidth=e,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",e))};this.$fixedWidth=
!1;this.$showLineNumbers=!0;this.$renderer="";this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=!0;this.setShowFoldWidgets=function(e){e?a.addCssClass(this.element,"ace_folding-enabled"):a.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=e;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};
this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=a.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding};this.getRegion=function(e){var l=this.$padding||this.$computePadding(),p=this.element.getBoundingClientRect();if(e.x<l.left+p.left)return"markers";if(this.$showFoldWidgets&&e.x>p.right-l.right)return"foldWidgets"}}).call(d.prototype);N.Gutter=
d});
define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(d,N,W){var a=d("../range").Range,f=d("../lib/dom");d=function(g){this.element=f.createElement("div");this.element.className="ace_layer ace_marker-layer";g.appendChild(this.element)};(function(){this.$padding=0;this.setPadding=function(g){this.$padding=g};this.setSession=function(g){this.session=g};this.setMarkers=function(g){this.markers=g};this.update=function(g){if(g){this.config=g;var h=[],e;for(e in this.markers){var l=this.markers[e];
if(l.range){var p=l.range.clipRows(g.firstRow,g.lastRow);if(!p.isEmpty())if(p=p.toScreenRange(this.session),l.renderer){var u=this.$getTop(p.start.row,g),c=this.$padding+(this.session.$bidiHandler.isBidiRow(p.start.row)?this.session.$bidiHandler.getPosLeft(p.start.column):p.start.column*g.characterWidth);l.renderer(h,p,c,u,g)}else"fullLine"==l.type?this.drawFullLineMarker(h,p,l.clazz,g):"screenLine"==l.type?this.drawScreenLineMarker(h,p,l.clazz,g):p.isMultiLine()?"text"==l.type?this.drawTextMarker(h,
p,l.clazz,g):this.drawMultiLineMarker(h,p,l.clazz,g):this.session.$bidiHandler.isBidiRow(p.start.row)?this.drawBidiSingleLineMarker(h,p,l.clazz+" ace_start ace_br15",g):this.drawSingleLineMarker(h,p,l.clazz+" ace_start ace_br15",g)}else l.update(h,this,this.session,g)}this.element.innerHTML=h.join("")}};this.$getTop=function(g,h){return(g-h.firstRowScreen)*h.lineHeight};this.drawTextMarker=function(g,h,e,l,p){for(var u=this.session,c=h.start.row,m=h.end.row,n=c,w,z=0,x=u.getScreenLastRowColumn(n),
J=new a(n,h.start.column,n,z);n<=m;n++)J.start.row=J.end.row=n,J.start.column=n==c?h.start.column:u.getRowWrapIndent(n),J.end.column=x,w=z,z=x,x=n+1<m?u.getScreenLastRowColumn(n+1):n==m?0:h.end.column,w=e+(n==c?" ace_start":"")+" ace_br"+((n==c||n==c+1&&h.start.column?1:0)|(w<z?2:0)|(z>x?4:0)|(n==m?8:0)),this.session.$bidiHandler.isBidiRow(n)?this.drawBidiSingleLineMarker(g,J,w,l,n==m?0:1,p):this.drawSingleLineMarker(g,J,w,l,n==m?0:1,p)};this.drawMultiLineMarker=function(g,h,e,l,p){var u=this.$padding;
p=p||"";if(this.session.$bidiHandler.isBidiRow(h.start.row)){var c=h.clone();c.end.row=c.start.row;c.end.column=this.session.getLine(c.start.row).length;this.drawBidiSingleLineMarker(g,c,e+" ace_br1 ace_start",l,null,p)}else{c=l.lineHeight;var m=this.$getTop(h.start.row,l);var n=u+h.start.column*l.characterWidth;g.push("<div class='",e," ace_br1 ace_start' style='","height:",c,"px;","right:0;","top:",m,"px;","left:",n,"px;",p,"'></div>")}this.session.$bidiHandler.isBidiRow(h.end.row)?(c=h.clone(),
c.start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(g,c,e+" ace_br12",l,null,p)):(n=h.end.column*l.characterWidth,c=l.lineHeight,m=this.$getTop(h.end.row,l),g.push("<div class='",e," ace_br12' style='","height:",c,"px;","width:",n,"px;","top:",m,"px;","left:",u,"px;",p,"'></div>"));c=(h.end.row-h.start.row-1)*l.lineHeight;0>=c||(m=this.$getTop(h.start.row+1,l),h=(h.start.column?1:0)|(h.end.column?0:8),g.push("<div class='",e,h?" ace_br"+h:"","' style='","height:",c,"px;","right:0;",
"top:",m,"px;","left:",u,"px;",p,"'></div>"))};this.drawSingleLineMarker=function(g,h,e,l,p,u){var c=l.lineHeight;p=(h.end.column+(p||0)-h.start.column)*l.characterWidth;var m=this.$getTop(h.start.row,l);g.push("<div class='",e,"' style='","height:",c,"px;","width:",p,"px;","top:",m,"px;","left:",this.$padding+h.start.column*l.characterWidth,"px;",u||"","'></div>")};this.drawBidiSingleLineMarker=function(g,h,e,l,p,u){var c=l.lineHeight,m=this.$getTop(h.start.row,l),n=this.$padding;this.session.$bidiHandler.getSelections(h.start.column,
h.end.column).forEach(function(w){g.push("<div class='",e,"' style='","height:",c,"px;","width:",w.width+(p||0),"px;","top:",m,"px;","left:",n+w.left,"px;",u||"","'></div>")})};this.drawFullLineMarker=function(g,h,e,l,p){var u=this.$getTop(h.start.row,l),c=l.lineHeight;h.start.row!=h.end.row&&(c+=this.$getTop(h.end.row,l)-u);g.push("<div class='",e,"' style='","height:",c,"px;","top:",u,"px;","left:0;right:0;",p||"","'></div>")};this.drawScreenLineMarker=function(g,h,e,l,p){h=this.$getTop(h.start.row,
l);g.push("<div class='",e,"' style='","height:",l.lineHeight,"px;","top:",h,"px;","left:0;right:0;",p||"","'></div>")}}).call(d.prototype);N.Marker=d});
define("ace/layer/text","require exports module ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/lib/event_emitter".split(" "),function(d,N,W){var a=d("../lib/oop"),f=d("../lib/dom"),g=d("../lib/lang");d("../lib/useragent");var h=d("../lib/event_emitter").EventEmitter;d=function(e){this.element=f.createElement("div");this.element.className="ace_layer ace_text-layer";e.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){a.implement(this,h);this.EOF_CHAR=
"\u00b6";this.EOL_CHAR_LF="\u00ac";this.EOL_CHAR_CRLF="\u00a4";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="\u2014";this.SPACE_CHAR="\u00b7";this.$padding=0;this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0};this.setPadding=function(e){this.$padding=e;this.element.style.padding="0 "+e+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=
function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(e){this.$fontMetrics=e;this.$fontMetrics.on("changeCharacterSize",function(l){this._signal("changeCharacterSize",l)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(e){(this.session=e)&&this.$computeTabString()};this.showInvisibles=
!1;this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)};this.displayIndentGuides=!0;this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var l=this.$tabStrings=[0],p=1;p<e+1;p++)this.showInvisibles?l.push("<span class='ace_invisible ace_invisible_tab'>"+
g.stringRepeat(this.TAB_CHAR,p)+"</span>"):l.push(g.stringRepeat(" ",p));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;e="ace_indent-guide";p=l="";if(this.showInvisibles){e+=" ace_invisible";l=" ace_invisible_space";p=" ace_invisible_tab";var u=g.stringRepeat(this.SPACE_CHAR,this.tabSize),c=g.stringRepeat(this.TAB_CHAR,this.tabSize)}else c=u=g.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+e+l+"'>"+u+"</span>";this.$tabStrings["\t"]="<span class='"+e+p+
"'>"+c+"</span>"}};this.updateLines=function(e,l,p){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e);this.config=e;var u=Math.max(l,e.firstRow);p=Math.min(p,e.lastRow);l=this.element.childNodes;for(var c=0,m=e.firstRow;m<u;m++){var n=this.session.getFoldLine(m);if(n){if(n.containsRow(u)){u=n.start.row;break}m=n.end.row}c++}m=u;for(u=(n=this.session.getNextFoldLine(m))?n.start.row:Infinity;;){m>u&&(m=n.end.row+1,n=this.session.getNextFoldLine(m,n),u=n?n.start.row:
Infinity);if(m>p)break;var w=l[c++];if(w){var z=[];this.$renderLine(z,m,!this.$useLineGroups(),m==u?n:!1);w.style.height=e.lineHeight*this.session.getRowLength(m)+"px";w.innerHTML=z.join("")}m++}};this.scrollLines=function(e){var l=this.config;this.config=e;if(!l||l.lastRow<e.firstRow||e.lastRow<l.firstRow)return this.update(e);var p=this.element;if(l.firstRow<e.firstRow)for(var u=this.session.getFoldedRowCount(l.firstRow,e.firstRow-1);0<u;u--)p.removeChild(p.firstChild);if(l.lastRow>e.lastRow)for(u=
this.session.getFoldedRowCount(e.lastRow+1,l.lastRow);0<u;u--)p.removeChild(p.lastChild);e.firstRow<l.firstRow&&(u=this.$renderLinesFragment(e,e.firstRow,l.firstRow-1),p.firstChild?p.insertBefore(u,p.firstChild):p.appendChild(u));e.lastRow>l.lastRow&&(u=this.$renderLinesFragment(e,l.lastRow+1,e.lastRow),p.appendChild(u))};this.$renderLinesFragment=function(e,l,p){for(var u=this.element.ownerDocument.createDocumentFragment(),c=this.session.getNextFoldLine(l),m=c?c.start.row:Infinity;;){l>m&&(l=c.end.row+
1,c=this.session.getNextFoldLine(l,c),m=c?c.start.row:Infinity);if(l>p)break;var n=f.createElement("div"),w=[];this.$renderLine(w,l,!1,l==m?c:!1);n.innerHTML=w.join("");if(this.$useLineGroups())n.className="ace_line_group",u.appendChild(n),n.style.height=e.lineHeight*this.session.getRowLength(l)+"px";else for(;n.firstChild;)u.appendChild(n.firstChild);l++}return u};this.update=function(e){this.config=e;for(var l=[],p=e.lastRow,u=e.firstRow,c=this.session.getNextFoldLine(u),m=c?c.start.row:Infinity;;){u>
m&&(u=c.end.row+1,c=this.session.getNextFoldLine(u,c),m=c?c.start.row:Infinity);if(u>p)break;this.$useLineGroups()&&l.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(u),"px'>");this.$renderLine(l,u,!1,u==m?c:!1);this.$useLineGroups()&&l.push("</div>");u++}this.element.innerHTML=l.join("")};this.$textToken={text:!0,rparen:!0,lparen:!0};this.$renderToken=function(e,l,p,u){var c=this,m=u.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
function(z,x,J,v,K){return x?c.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+g.stringRepeat(c.SPACE_CHAR,z.length)+"</span>":z:"&"==z?"&#38;":"<"==z?"&#60;":">"==z?"&#62;":"\t"==z?(z=c.session.getScreenTabSize(l+v),l+=z-1,c.$tabStrings[z]):"\u3000"==z?(z=c.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",x=c.showInvisibles?c.SPACE_CHAR:"",l+=1,"<span class='"+z+"' style='width:"+2*c.config.characterWidth+"px'>"+x+"</span>"):J?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+
c.SPACE_CHAR+"</span>":(l+=1,"<span class='ace_cjk' style='width:"+2*c.config.characterWidth+"px'>"+z+"</span>")});if(this.$textToken[p.type])e.push(m);else{var n="ace_"+p.type.replace(/\./g," ace_"),w="";"fold"==p.type&&(w=" style='width:"+p.value.length*this.config.characterWidth+"px;' ");e.push("<span class='",n,"'",w,">",m,"</span>")}return l+u.length};this.renderIndentGuide=function(e,l,p){var u=l.search(this.$indentGuideRe);return 0>=u||u>=p?l:" "==l[0]?(u-=u%this.tabSize,e.push(g.stringRepeat(this.$tabStrings[" "],
u/this.tabSize)),l.substr(u)):"\t"==l[0]?(e.push(g.stringRepeat(this.$tabStrings["\t"],u)),l.substr(u)):l};this.$renderWrappedLine=function(e,l,p,u){for(var c=0,m=0,n=p[0],w=0,z=0;z<l.length;z++){var x=l[z],J=x.value;if(0==z&&this.displayIndentGuides){c=J.length;J=this.renderIndentGuide(e,J,n);if(!J)continue;c-=J.length}if(c+J.length<n)w=this.$renderToken(e,w,x,J),c+=J.length;else{for(;c+J.length>=n;)this.$renderToken(e,w,x,J.substring(0,n-c)),J=J.substring(n-c),c=n,u||e.push("</div>","<div class='ace_line' style='height:",
this.config.lineHeight,"px'>"),e.push(g.stringRepeat("\u00a0",p.indent)),m++,w=0,n=p[m]||Number.MAX_VALUE;0!=J.length&&(c+=J.length,w=this.$renderToken(e,w,x,J))}}};this.$renderSimpleLine=function(e,l){var p=0,u=l[0],c=u.value;this.displayIndentGuides&&(c=this.renderIndentGuide(e,c));c&&(p=this.$renderToken(e,p,u,c));for(var m=1;m<l.length;m++)u=l[m],c=u.value,p=this.$renderToken(e,p,u,c)};this.$renderLine=function(e,l,p,u){!u&&0!=u&&(u=this.session.getFoldLine(l));var c=u?this.$getFoldLineTokens(l,
u):this.session.getTokens(l);p||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(l)),"px'>");if(c.length){var m=this.session.getRowSplitData(l);m&&m.length?this.$renderWrappedLine(e,c,m,p):this.$renderSimpleLine(e,c)}this.showInvisibles&&(u&&(l=u.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",l==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>"));p||e.push("</div>")};this.$getFoldLineTokens=function(e,
l){var p=this.session,u=[],c=p.getTokens(e);return l.walk(function(m,n,w,z,x){if(null!=m)u.push({type:"fold",value:m});else if(x&&(c=p.getTokens(n)),c.length)a:{m=c;for(x=n=0;x+m[n].value.length<z;)if(x+=m[n].value.length,n++,n==m.length)break a;if(x!=z){var J=m[n].value.substring(z-x);J.length>w-z&&(J=J.substring(0,w-z));u.push({type:m[n].type,value:J});x=z+J.length;n+=1}for(;x<w&&n<m.length;)J=m[n].value,J.length+x>w?u.push({type:m[n].type,value:J.substring(0,w-x)}):u.push(m[n]),x+=J.length,n+=
1}},l.end.row,this.session.getLine(l.end.row).length),u};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode);delete this.$measureNode}}).call(d.prototype);N.Text=d});
define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(d,N,W){var a=d("../lib/dom"),f;d=function(g){this.element=a.createElement("div");this.element.className="ace_layer ace_cursor-layer";g.appendChild(this.element);void 0===f&&(f=!("opacity"in this.element.style));this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1E3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();a.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=(f?this.$updateVisibility:
this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(g){for(var h=this.cursors,e=h.length;e--;)h[e].style.visibility=g?"":"hidden"};this.$updateOpacity=function(g){for(var h=this.cursors,e=h.length;e--;)h[e].style.opacity=g?"":"0"};this.$padding=0;this.setPadding=function(g){this.$padding=g};this.setSession=function(g){this.session=g};this.setBlinking=function(g){g!=this.isBlinking&&(this.isBlinking=g,this.restartTimer())};this.setBlinkInterval=function(g){g!=this.blinkInterval&&
(this.blinkInterval=g,this.restartTimer())};this.setSmoothBlinking=function(g){g!=this.smoothBlinking&&!f&&(this.smoothBlinking=g,a.setCssClass(this.element,"ace_smooth-blinking",g),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())};this.addCursor=function(){var g=a.createElement("div");return g.className="ace_cursor",this.element.appendChild(g),this.cursors.push(g),g};this.removeCursor=function(){if(1<this.cursors.length){var g=this.cursors.pop();return g.parentNode.removeChild(g),
g}};this.hideCursor=function(){this.isVisible=!1;a.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=!0;a.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var g=this.$updateCursors;clearInterval(this.intervalId);clearTimeout(this.timeoutId);this.smoothBlinking&&a.removeCssClass(this.element,"ace_smooth-blinking");g(!0);if(this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&
setTimeout(function(){a.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var h=function(){this.timeoutId=setTimeout(function(){g(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){g(!0);h()},this.blinkInterval);h()}};this.getPixelPosition=function(g,h){if(!this.config||!this.session)return{left:0,top:0};g||(g=this.session.selection.getCursor());var e=this.session.documentToScreenPosition(g);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(e.row,
g.row)?this.session.$bidiHandler.getPosLeft(e.column):e.column*this.config.characterWidth),top:(e.row-(h?this.config.firstRowScreen:0))*this.config.lineHeight}};this.update=function(g){this.config=g;var h=this.session.$selectionMarkers,e=0;if(void 0===h||0===h.length)h=[{cursor:null}];var l=0;for(var p=h.length;l<p;l++){var u=this.getPixelPosition(h[l].cursor,!0);if(!((u.top>g.height+g.offset||0>u.top)&&1<l)){var c=(this.cursors[e++]||this.addCursor()).style;this.drawCursor?this.drawCursor(c,u,g,
h[l],this.session):(c.left=u.left+"px",c.top=u.top+"px",c.width=g.characterWidth+"px",c.height=g.lineHeight+"px")}}for(;this.cursors.length>e;)this.removeCursor();g=this.session.getOverwrite();this.$setOverwrite(g);this.$pixelPos=u;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(g){g!=this.overwrite&&(this.overwrite=g,g?a.addCssClass(this.element,"ace_overwrite-cursors"):a.removeCssClass(this.element,"ace_overwrite-cursors"))};this.destroy=function(){clearInterval(this.intervalId);
clearTimeout(this.timeoutId)}}).call(d.prototype);N.Cursor=d});
define("ace/scrollbar","require exports module ace/lib/oop ace/lib/dom ace/lib/event ace/lib/event_emitter".split(" "),function(d,N,W){var a=d("./lib/oop"),f=d("./lib/dom"),g=d("./lib/event"),h=d("./lib/event_emitter").EventEmitter,e=function(l){this.element=f.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=f.createElement("div");this.inner.className="ace_scrollbar-inner";this.element.appendChild(this.inner);l.appendChild(this.element);this.setVisible(!1);
this.skipEvent=!1;g.addListener(this.element,"scroll",this.onScroll.bind(this));g.addListener(this.element,"mousedown",g.preventDefault)};(function(){a.implement(this,h);this.setVisible=function(l){this.element.style.display=l?"":"none";this.isVisible=l;this.coeff=1}}).call(e.prototype);d=function(l,p){e.call(this,l);this.scrollHeight=this.scrollTop=0;p.$scrollbarWidth=this.width=f.scrollbarWidth(l.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px";this.$minWidth=
0};a.inherits(d,e);(function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(1!=this.coeff){var l=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-l)/(this.coeff-l)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1};this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)};this.setHeight=function(l){this.element.style.height=l+"px"};this.setInnerHeight=this.setScrollHeight=
function(l){this.scrollHeight=l;32768<l?(this.coeff=32768/l,l=32768):1!=this.coeff&&(this.coeff=1);this.inner.style.height=l+"px"};this.setScrollTop=function(l){this.scrollTop!=l&&(this.skipEvent=!0,this.scrollTop=l,this.element.scrollTop=l*this.coeff)}}).call(d.prototype);W=function(l,p){e.call(this,l);this.scrollLeft=0;this.height=p.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};a.inherits(W,e);(function(){this.classSuffix="-h";this.onScroll=function(){this.skipEvent||
(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft}));this.skipEvent=!1};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(l){this.element.style.width=l+"px"};this.setInnerWidth=function(l){this.inner.style.width=l+"px"};this.setScrollWidth=function(l){this.inner.style.width=l+"px"};this.setScrollLeft=function(l){this.scrollLeft!=l&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=l)}}).call(W.prototype);N.ScrollBar=d;N.ScrollBarV=
d;N.ScrollBarH=W;N.VScrollBar=d;N.HScrollBar=W});define("ace/renderloop",["require","exports","module","ace/lib/event"],function(d,N,W){var a=d("./lib/event");d=function(f,g){this.onRender=f;this.pending=!1;this.changes=0;this.window=g||window};(function(){this.schedule=function(f){this.changes|=f;if(!this.pending&&this.changes){this.pending=!0;var g=this;a.nextFrame(function(){g.pending=!1;for(var h;h=g.changes;)g.changes=0,g.onRender(h)},this.window)}}}).call(d.prototype);N.RenderLoop=d});
define("ace/layer/font_metrics","require exports module ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/lib/event_emitter".split(" "),function(d,N,W){var a=d("../lib/oop"),f=d("../lib/dom"),g=d("../lib/lang"),h=d("../lib/useragent"),e=d("../lib/event_emitter").EventEmitter,l=0;d=N.FontMetrics=function(p){this.el=f.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=f.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=f.createElement("div");
this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);p.appendChild(this.el);l||this.$testFractionalRect();this.$measureNode.innerHTML=g.stringRepeat("X",l);this.$characterSize={width:0,height:0};this.checkForSizeChanges()};(function(){a.implement(this,e);this.$characterSize={width:0,height:0};this.$testFractionalRect=function(){var p=f.createElement("div");this.$setMeasureNodeStyles(p.style);p.style.width="0.2px";document.documentElement.appendChild(p);
var u=p.getBoundingClientRect().width;0<u&&1>u?l=50:l=100;p.parentNode.removeChild(p)};this.$setMeasureNodeStyles=function(p,u){p.width=p.height="auto";p.left=p.top="0px";p.visibility="hidden";p.position="absolute";p.whiteSpace="pre";8>h.isIE?p["font-family"]="inherit":p.font="inherit";p.overflow=u?"hidden":"visible"};this.checkForSizeChanges=function(){var p=this.$measureSizes();if(p&&(this.$characterSize.width!==p.width||this.$characterSize.height!==p.height)){this.$measureNode.style.fontWeight=
"bold";var u=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=p;this.charSizes=Object.create(null);this.allowBoldFonts=u&&u.width===p.width&&u.height===p.height;this._emit("changeCharacterSize",{data:p})}};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var p=this;return this.$pollSizeChangesTimer=setInterval(function(){p.checkForSizeChanges()},500)};this.setPolling=function(p){p?this.$pollSizeChanges():this.$pollSizeChangesTimer&&
(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)};this.$measureSizes=function(){if(50===l){var p=null;try{p=this.$measureNode.getBoundingClientRect()}catch(u){p={width:0,height:0}}p={height:p.height,width:p.width/l}}else p={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===p.width||0===p.height?null:p};this.$measureCharWidth=function(p){this.$main.innerHTML=g.stringRepeat(p,l);return this.$main.getBoundingClientRect().width/l};this.getCharacterWidth=
function(p){var u=this.charSizes[p];return void 0===u&&(u=this.charSizes[p]=this.$measureCharWidth(p)/this.$characterSize.width),u};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(d.prototype)});
define("ace/virtual_renderer","require exports module ace/lib/oop ace/lib/dom ace/config ace/lib/useragent ace/layer/gutter ace/layer/marker ace/layer/text ace/layer/cursor ace/scrollbar ace/scrollbar ace/renderloop ace/layer/font_metrics ace/lib/event_emitter".split(" "),function(d,N,W){var a=d("./lib/oop"),f=d("./lib/dom"),g=d("./config"),h=d("./lib/useragent"),e=d("./layer/gutter").Gutter,l=d("./layer/marker").Marker,p=d("./layer/text").Text,u=d("./layer/cursor").Cursor,c=d("./scrollbar").HScrollBar,
m=d("./scrollbar").VScrollBar,n=d("./renderloop").RenderLoop,w=d("./layer/font_metrics").FontMetrics,z=d("./lib/event_emitter").EventEmitter;f.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 1;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',
"ace_editor.css");d=function(x,J){var v=this;this.container=x||f.createElement("div");this.$keepTextAreaAtCursor=!h.isOldIE;f.addCssClass(this.container,"ace_editor");this.setTheme(J);this.$gutter=f.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden",!0);this.scroller=f.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=f.createElement("div");this.content.className=
"ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new e(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new l(this.content);this.canvas=(this.$textLayer=new p(this.content)).element;this.$markerFront=new l(this.content);this.$cursorLayer=new u(this.content);this.$vScroll=this.$horizScroll=!1;this.scrollBar=this.scrollBarV=new m(this.container,this);this.scrollBarH=new c(this.container,this);this.scrollBarV.addEventListener("scroll",
function(K){v.$scrollAnimation||v.session.setScrollTop(K.data-v.scrollMargin.top)});this.scrollBarH.addEventListener("scroll",function(K){v.$scrollAnimation||v.session.setScrollLeft(K.data-v.scrollMargin.left)});this.scrollLeft=this.scrollTop=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new w(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.addEventListener("changeCharacterSize",function(K){v.updateCharacterSize();v.onResize(!0,v.gutterWidth,v.$size.width,
v.$size.height);v._signal("changeCharacterSize",K)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$loop=new n(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();
this.setPadding(4);g.resetOptions(this);g._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;a.implement(this,z);this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",
!this.$allowBoldFonts));this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin()};this.setSession=function(x){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode);(this.session=x)&&this.scrollMargin.top&&0>=x.getScrollTop()&&x.setScrollTop(-this.scrollMargin.top);this.$cursorLayer.setSession(x);this.$markerBack.setSession(x);this.$markerFront.setSession(x);
this.$gutterLayer.setSession(x);this.$textLayer.setSession(x);x&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))};this.updateLines=function(x,J,v){void 0===J&&(J=Infinity);this.$changedLines?(this.$changedLines.firstRow>x&&(this.$changedLines.firstRow=
x),this.$changedLines.lastRow<J&&(this.$changedLines.lastRow=J)):this.$changedLines={firstRow:x,lastRow:J};if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(!v)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)};this.onChangeTabSize=
function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(x){x?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()};this.onResize=function(x,J,v,K){if(!(2<this.resizing)){0<
this.resizing?this.resizing++:this.resizing=x?1:0;var D=this.container;K||(K=D.clientHeight||D.scrollHeight);v||(v=D.clientWidth||D.scrollWidth);J=this.$updateCachedSize(x,J,v,K);if(!this.$size.scrollerHeight||!v&&!K)return this.resizing=0;x&&(this.$gutterLayer.$padding=null);x?this.$renderChanges(J|this.$changes,!0):this.$loop.schedule(J|this.$changes);this.resizing&&(this.resizing=0);this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}};this.$updateCachedSize=function(x,J,v,K){K-=this.$extraHeight||
0;var D=0,M=this.$size,Q={width:M.width,height:M.height,scrollerHeight:M.scrollerHeight,scrollerWidth:M.scrollerWidth};K&&(x||M.height!=K)&&(M.height=K,D|=this.CHANGE_SIZE,M.scrollerHeight=M.height,this.$horizScroll&&(M.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",D|=this.CHANGE_SCROLL);v&&(x||M.width!=v)&&(D|=this.CHANGE_SIZE,M.width=v,null==J&&(J=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=J,this.scrollBarH.element.style.left=
this.scroller.style.left=J+"px",M.scrollerWidth=Math.max(0,v-J-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||x)&&(D|=this.CHANGE_FULL);return M.$dirty=!v||!K,D&&this._signal("resize",Q),D};this.onGutterResize=function(){var x=this.$showGutter?this.$gutter.offsetWidth:0;x!=this.gutterWidth&&(this.$changes|=
this.$updateCachedSize(!0,x,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))};this.adjustWrapLimit=function(){return this.session.adjustWrapLimit(Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth),this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(x){this.setOption("animatedScroll",
x)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(x){this.setOption("showInvisibles",x);this.session.$bidiHandler.setShowInvisibles(x)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(x){this.setOption("displayIndentGuides",x)};this.setShowPrintMargin=function(x){this.setOption("showPrintMargin",x)};this.getShowPrintMargin=
function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(x){this.setOption("printMarginColumn",x)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(x){return this.setOption("showGutter",x)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(x){this.setOption("fadeFoldWidgets",x)};this.setHighlightGutterLine=
function(x){this.setOption("highlightGutterLine",x)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updateGutterLineHighlight=function(){var x=this.$cursorLayer.$pixelPos,J=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var v=this.session.selection.getCursor();v.column=0;x=this.$cursorLayer.getPixelPosition(v,!0);J*=this.session.getRowLength(v.row)}this.$gutterLineHighlight.style.top=x.top-this.layerConfig.offset+"px";this.$gutterLineHighlight.style.height=
J+"px"};this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var x=f.createElement("div");x.className="ace_layer ace_print-margin-layer";this.$printMarginEl=f.createElement("div");this.$printMarginEl.className="ace_print-margin";x.appendChild(this.$printMarginEl);this.content.insertBefore(x,this.content.firstChild)}x=this.$printMarginEl.style;x.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px";x.visibility=this.$showPrintMargin?
"visible":"hidden";this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var x=this.layerConfig,J=this.$cursorLayer.$pixelPos.top,v=this.$cursorLayer.$pixelPos.left;J-=x.offset;var K=this.textarea.style,D=this.lineHeight;if(0>J||J>x.height-D)K.top=
K.left="0";else{x=this.characterWidth;if(this.$composition){var M=this.textarea.value.replace(/^\x01+/,"");x*=this.session.$getStringScreenWidth(M)[0]+2;D+=2}v-=this.scrollLeft;v>this.$size.scrollerWidth-x&&(v=this.$size.scrollerWidth-x);v+=this.gutterWidth;K.height=D+"px";K.width=x+"px";K.left=Math.min(v,this.$size.scrollerWidth-x)+"px";K.top=Math.min(J,this.$size.height-D)+"px"}}};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+
(0===this.layerConfig.offset?0:1)};this.getLastFullyVisibleRow=function(){var x=this.layerConfig,J=x.lastRow;return this.session.documentToScreenRow(J,0)*x.lineHeight-this.session.getScrollTop()>x.height-x.lineHeight?J-1:J};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(x){this.$padding=x;this.$textLayer.setPadding(x);this.$cursorLayer.setPadding(x);this.$markerFront.setPadding(x);this.$markerBack.setPadding(x);this.$loop.schedule(this.CHANGE_FULL);
this.$updatePrintMargin()};this.setScrollMargin=function(x,J,v,K){var D=this.scrollMargin;D.top=x|0;D.bottom=J|0;D.right=K|0;D.left=v|0;D.v=D.top+D.bottom;D.h=D.left+D.right;D.top&&0>=this.scrollTop&&this.session&&this.session.setScrollTop(-D.top);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(x){this.setOption("hScrollBarAlwaysVisible",x)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};
this.setVScrollBarAlwaysVisible=function(x){this.setOption("vScrollBarAlwaysVisible",x)};this.$updateScrollBarV=function(){var x=this.layerConfig.maxHeight,J=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(x-=(J-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>x-J&&(x=this.scrollTop+J,this.scrollBarV.scrollTop=null));this.scrollBarV.setScrollHeight(x+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+
2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=!1;this.freeze=function(){this.$frozen=!0};this.unfreeze=function(){this.$frozen=!1};this.$renderChanges=function(x,J){this.$changes&&(x|=this.$changes,this.$changes=0);if(this.session&&this.container.offsetWidth&&!this.$frozen&&(x||J)){if(this.$size.$dirty)return this.$changes|=x,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges();this._signal("beforeRender");
this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);J=this.layerConfig;if(x&this.CHANGE_FULL||x&this.CHANGE_SIZE||x&this.CHANGE_TEXT||x&this.CHANGE_LINES||x&this.CHANGE_SCROLL||x&this.CHANGE_H_SCROLL)x|=this.$computeLayerConfig(),J.firstRow!=this.layerConfig.firstRow&&J.firstRowScreen==this.layerConfig.firstRowScreen&&(J=this.scrollTop+(J.firstRow-this.layerConfig.firstRow)*this.lineHeight,0<J&&(this.scrollTop=J,x|=this.CHANGE_SCROLL,x|=this.$computeLayerConfig())),
J=this.layerConfig,this.$updateScrollBarV(),x&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-J.offset+"px",this.content.style.marginTop=-J.offset+"px",this.content.style.width=J.width+2*this.$padding+"px",this.content.style.height=J.minHeight+"px";x&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=0>=this.scrollLeft?"ace_scroller":"ace_scroller ace_scroll-left");x&this.CHANGE_FULL?(this.$textLayer.update(J),
this.$showGutter&&this.$gutterLayer.update(J),this.$markerBack.update(J),this.$markerFront.update(J),this.$cursorLayer.update(J),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()):x&this.CHANGE_SCROLL?(x&this.CHANGE_TEXT||x&this.CHANGE_LINES?this.$textLayer.update(J):this.$textLayer.scrollLines(J),this.$showGutter&&this.$gutterLayer.update(J),this.$markerBack.update(J),this.$markerFront.update(J),this.$cursorLayer.update(J),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),
this.$moveTextAreaToCursor()):(x&this.CHANGE_TEXT?(this.$textLayer.update(J),this.$showGutter&&this.$gutterLayer.update(J)):x&this.CHANGE_LINES?(this.$updateLines()||x&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(J):(x&this.CHANGE_TEXT||x&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(J),x&this.CHANGE_CURSOR&&(this.$cursorLayer.update(J),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),x&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&
this.$markerFront.update(J),x&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(J));this._signal("afterRender")}else this.$changes|=x};this.$autosize=function(){var x=this.session.getScreenLength()*this.lineHeight,J=this.$maxLines*this.lineHeight,v=Math.min(J,Math.max((this.$minLines||1)*this.lineHeight,x))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(v+=this.scrollBarH.getHeight());this.$maxPixelHeight&&v>this.$maxPixelHeight&&(v=this.$maxPixelHeight);x=x>J;
if(v!=this.desiredHeight||this.$size.height!=this.desiredHeight||x!=this.$vScroll)x!=this.$vScroll&&(this.$vScroll=x,this.scrollBarV.setVisible(x)),x=this.container.clientWidth,this.container.style.height=v+"px",this.$updateCachedSize(!0,this.$gutterWidth,x,v),this.desiredHeight=v,this._signal("autosize")};this.$computeLayerConfig=function(){var x=this.session,J=this.$size,v=J.height<=2*this.lineHeight,K=this.session.getScreenLength()*this.lineHeight,D=this.$getLongestLine(),M=!v&&(this.$hScrollBarAlwaysVisible||
0>J.scrollerWidth-D-2*this.$padding),Q=this.$horizScroll!==M;Q&&(this.$horizScroll=M,this.scrollBarH.setVisible(M));var G=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();M=this.scrollTop%this.lineHeight;var T=J.scrollerHeight+this.lineHeight,S=!this.$maxLines&&this.$scrollPastEnd?(J.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;K+=S;var R=this.scrollMargin;this.session.setScrollTop(Math.max(-R.top,Math.min(this.scrollTop,K-J.scrollerHeight+R.bottom)));this.session.setScrollLeft(Math.max(-R.left,
Math.min(this.scrollLeft,D+2*this.$padding-J.scrollerWidth+R.right)));S=!v&&(this.$vScrollBarAlwaysVisible||0>J.scrollerHeight-K+S||this.scrollTop>R.top);(v=G!==S)&&(this.$vScroll=S,this.scrollBarV.setVisible(S));G=Math.max(0,Math.round((this.scrollTop-M)/this.lineHeight));S=G+(Math.ceil(T/this.lineHeight)-1);R=this.lineHeight;G=x.screenToDocumentRow(G,0);(M=x.getFoldLine(G))&&(G=M.start.row);var ca=x.documentToScreenRow(G,0);M=x.getRowLength(G)*R;S=Math.min(x.screenToDocumentRow(S,0),x.getLength()-
1);T=J.scrollerHeight+x.getRowLength(S)*R+M;M=this.scrollTop-ca*R;x=0;this.layerConfig.width!=D&&(x=this.CHANGE_H_SCROLL);if(Q||v)x=this.$updateCachedSize(!0,this.gutterWidth,J.width,J.height),this._signal("scrollbarVisibilityChanged"),v&&(D=this.$getLongestLine());return this.layerConfig={width:D,padding:this.$padding,firstRow:G,firstRowScreen:ca,lastRow:S,lineHeight:R,characterWidth:this.characterWidth,minHeight:T,maxHeight:K,offset:M,gutterOffset:R?Math.max(0,Math.ceil((M+J.height-J.scrollerHeight)/
R)):0,height:this.$size.scrollerHeight},x};this.$updateLines=function(){if(this.$changedLines){var x=this.$changedLines.firstRow,J=this.$changedLines.lastRow;this.$changedLines=null;var v=this.layerConfig;if(!(x>v.lastRow+1||J<v.firstRow))if(Infinity===J)this.$showGutter&&this.$gutterLayer.update(v),this.$textLayer.update(v);else return this.$textLayer.updateLines(v,x,J),!0}};this.$getLongestLine=function(){var x=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&
(x+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(x*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(x,J){this.$gutterLayer.addGutterDecoration(x,J)};this.removeGutterDecoration=function(x,J){this.$gutterLayer.removeGutterDecoration(x,
J)};this.updateBreakpoints=function(x){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(x){this.$gutterLayer.setAnnotations(x);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(x,J,v){this.scrollCursorIntoView(x,v);this.scrollCursorIntoView(J,v)};this.scrollCursorIntoView=
function(x,J,v){if(0!==this.$size.scrollerHeight){var K=this.$cursorLayer.getPixelPosition(x);x=K.left;K=K.top;var D=v&&v.top||0;v=v&&v.bottom||0;var M=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;M+D>K?(J&&M+D>K+this.lineHeight&&(K-=J*this.$size.scrollerHeight),0===K&&(K=-this.scrollMargin.top),this.session.setScrollTop(K)):M+this.$size.scrollerHeight-v<K+this.lineHeight&&(J&&M+this.$size.scrollerHeight-v<K-this.lineHeight&&(K+=J*this.$size.scrollerHeight),this.session.setScrollTop(K+
this.lineHeight-this.$size.scrollerHeight));J=this.scrollLeft;J>x?(x<this.$padding+2*this.layerConfig.characterWidth&&(x=-this.scrollMargin.left),this.session.setScrollLeft(x)):J+this.$size.scrollerWidth<x+this.characterWidth?this.session.setScrollLeft(Math.round(x+this.characterWidth-this.$size.scrollerWidth)):J<=this.$padding&&x-J<this.characterWidth&&this.session.setScrollLeft(0)}};this.getScrollTop=function(){return this.session.getScrollTop()};this.getScrollLeft=function(){return this.session.getScrollLeft()};
this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(x){this.session.setScrollTop(x*this.lineHeight)};this.alignCursor=function(x,J){"number"==typeof x&&(x={row:x,column:0});x=this.$cursorLayer.getPixelPosition(x).top-(this.$size.scrollerHeight-this.lineHeight)*(J||0);return this.session.setScrollTop(x),x};this.STEPS=8;this.$calcSteps=
function(x,J){var v,K=this.STEPS,D=[];for(v=0;v<K;++v)D.push((J-x)*(Math.pow(v/this.STEPS-1,3)+1)+x);return D};this.scrollToLine=function(x,J,v,K){x=this.$cursorLayer.getPixelPosition({row:x,column:0}).top;J&&(x-=this.$size.scrollerHeight/2);J=this.scrollTop;this.session.setScrollTop(x);!1!==v&&this.animateScrolling(J,K)};this.animateScrolling=function(x,J){var v=this.scrollTop;if(this.$animatedScroll){var K=this;if(x!=v){if(this.$scrollAnimation){var D=this.$scrollAnimation.steps;if(D.length&&(x=
D[0],x==v))return}var M=K.$calcSteps(x,v);this.$scrollAnimation={from:x,to:v,steps:M};clearInterval(this.$timer);K.session.setScrollTop(M.shift());K.session.$scrollTop=v;this.$timer=setInterval(function(){M.length?(K.session.setScrollTop(M.shift()),K.session.$scrollTop=v):null!=v?(K.session.$scrollTop=-1,K.session.setScrollTop(v),v=null):(K.$timer=clearInterval(K.$timer),K.$scrollAnimation=null,J&&J())},10)}}};this.scrollToY=function(x){this.scrollTop!==x&&(this.$loop.schedule(this.CHANGE_SCROLL),
this.scrollTop=x)};this.scrollToX=function(x){this.scrollLeft!==x&&(this.scrollLeft=x);this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(x,J){this.session.setScrollTop(J);this.session.setScrollLeft(J)};this.scrollBy=function(x,J){J&&this.session.setScrollTop(this.session.getScrollTop()+J);x&&this.session.setScrollLeft(this.session.getScrollLeft()+x)};this.isScrollableBy=function(x,J){if(0>J&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<J&&this.session.getScrollTop()+this.$size.scrollerHeight-
this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||0>x&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<x&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0};this.pixelToScreenCoordinates=function(x,J){var v=this.scroller.getBoundingClientRect();x=x+this.scrollLeft-v.left-this.$padding;var K=x/this.characterWidth,D=Math.round(K);return{row:Math.floor((J+this.scrollTop-v.top)/this.lineHeight),column:D,side:0<K-D?1:-1,offsetX:x}};
this.screenToTextCoordinates=function(x,J){var v=this.scroller.getBoundingClientRect();x=x+this.scrollLeft-v.left-this.$padding;return this.session.screenToDocumentPosition((J+this.scrollTop-v.top)/this.lineHeight,Math.max(Math.round(x/this.characterWidth),0),x)};this.textToScreenCoordinates=function(x,J){var v=this.scroller.getBoundingClientRect();J=this.session.documentToScreenPosition(x,J);x=this.$padding+(this.session.$bidiHandler.isBidiRow(J.row,x)?this.session.$bidiHandler.getPosLeft(J.column):
Math.round(J.column*this.characterWidth));return{pageX:v.left+x-this.scrollLeft,pageY:v.top+J.row*this.lineHeight-this.scrollTop}};this.visualizeFocus=function(){f.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){f.removeCssClass(this.container,"ace_focus")};this.showComposition=function(x){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText});this.$keepTextAreaAtCursor=!0;f.addCssClass(this.textarea,"ace_composition");
this.textarea.style.cssText="";this.$moveTextAreaToCursor()};this.setCompositionText=function(x){this.$moveTextAreaToCursor()};this.hideComposition=function(){this.$composition&&(f.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)};this.setTheme=function(x,J){function v(D){if(K.$themeId!=x)return J&&J();if(!D||!D.cssClass)throw Error("couldn't load module "+
x+" or it didn't call define");f.importCssString(D.cssText,D.cssClass,K.container.ownerDocument);K.theme&&f.removeCssClass(K.container,K.theme.cssClass);var M="padding"in D?D.padding:"padding"in(K.theme||{})?4:K.$padding;K.$padding&&M!=K.$padding&&K.setPadding(M);K.$theme=D.cssClass;K.theme=D;f.addCssClass(K.container,D.cssClass);f.setCssClass(K.container,"ace_dark",D.isDark);K.$size&&(K.$size.width=0,K.$updateSizeAsync());K._dispatchEvent("themeLoaded",{theme:D});J&&J()}var K=this;this.$themeId=
x;K._dispatchEvent("themeChange",{theme:x});x&&"string"!=typeof x?v(x):g.loadModule(["theme",x||this.$options.theme.initialValue],v)};this.getTheme=function(){return this.$themeId};this.setStyle=function(x,J){f.setCssClass(this.container,x,!1!==J)};this.unsetStyle=function(x){f.removeCssClass(this.container,x)};this.setCursorStyle=function(x){this.scroller.style.cursor!=x&&(this.scroller.style.cursor=x)};this.setMouseCursor=function(x){this.scroller.style.cursor=x};this.destroy=function(){this.$textLayer.destroy();
this.$cursorLayer.destroy()}}).call(d.prototype);g.defineOptions(d.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(x){this.$textLayer.setShowInvisibles(x)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(x){"number"==typeof x&&(this.$printMarginColumn=x);this.$showPrintMargin=
!!x;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(x){this.$gutter.style.display=x?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(x){f.setCssClass(this.$gutter,"ace_fade-fold-widgets",x)},initialValue:!1},showFoldWidgets:{set:function(x){this.$gutterLayer.setShowFoldWidgets(x)},initialValue:!0},showLineNumbers:{set:function(x){this.$gutterLayer.setShowLineNumbers(x);
this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(x){this.$textLayer.setDisplayIndentGuides(x)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(x){this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=x?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()):(this.$gutterLineHighlight=f.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight))},
initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(x){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(x){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(x){"number"==typeof x&&(x+="px");this.container.style.fontSize=x;this.updateFontSize()},initialValue:12},fontFamily:{set:function(x){this.container.style.fontFamily=
x;this.updateFontSize()}},maxLines:{set:function(x){this.updateFull()}},minLines:{set:function(x){this.updateFull()}},maxPixelHeight:{set:function(x){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(x){x=+x||0;this.$scrollPastEnd!=x&&(this.$scrollPastEnd=x,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(x){this.$gutterLayer.$fixedWidth=!!x;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(x){this.setTheme(x)},get:function(){return this.$themeId||
this.theme},initialValue:"./theme/textmate",handlesSet:!0}});N.VirtualRenderer=d});
define("ace/worker/worker_client","require exports module ace/lib/oop ace/lib/net ace/lib/event_emitter ace/config".split(" "),function(d,N,W){function a(p){p="importScripts('"+g.qualifyURL(p)+"');";try{var u=new Blob([p],{type:"application/javascript"})}catch(c){u=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder),u=(u.append(p),u.getBlob("application/javascript"))}u=(window.URL||window.webkitURL).createObjectURL(u);return new Worker(u)}var f=d("../lib/oop"),g=d("../lib/net"),
h=d("../lib/event_emitter").EventEmitter,e=d("../config");W=function(p,u,c,m,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);d.nameToUrl&&!d.toUrl&&(d.toUrl=d.nameToUrl);if(e.get("packaged")||!d.toUrl)m=m||e.moduleUrl(u,"worker");else{var w=this.$normalizePath;m=m||w(d.toUrl("ace/worker/worker.js",null,"_"));var z={};p.forEach(function(x){z[x]=w(d.toUrl(x,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=
a(m);n&&this.send("importScripts",n);this.$worker.postMessage({init:!0,tlns:z,module:u,classname:c});this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage};(function(){f.implement(this,h);this.onMessage=function(p){p=p.data;switch(p.type){case "event":this._signal(p.name,{data:p.data});break;case "call":var u=this.callbacks[p.id];u&&(u(p.data),delete this.callbacks[p.id]);break;case "error":this.reportError(p.data);break;case "log":window.console&&console.log&&console.log.apply(console,
p.data)}};this.reportError=function(p){window.console&&console.error&&console.error(p)};this.$normalizePath=function(p){return g.qualifyURL(p)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;this.$doc&&this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(p,u){this.$worker.postMessage({command:p,args:u})};this.call=function(p,u,c){if(c){var m=this.callbackId++;this.callbacks[m]=c;u.push(m)}this.send(p,
u)};this.emit=function(p,u){try{this.$worker.postMessage({event:p,data:{data:u.data}})}catch(c){console.error(c.stack)}};this.attachToDocument=function(p){this.$doc&&this.terminate();this.$doc=p;this.call("setValue",[p.getValue()]);p.on("change",this.changeListener)};this.changeListener=function(p){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0));"insert"==p.action?this.deltaQueue.push(p.start,p.lines):this.deltaQueue.push(p.start,p.end)};this.$sendDeltaQueue=function(){var p=
this.deltaQueue;p&&(this.deltaQueue=null,50<p.length&&p.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:p}))}}).call(W.prototype);var l=function(p,u,c){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.callbackId=1;this.callbacks={};this.messageBuffer=[];var m=null,n=!1,w=Object.create(h),z=this;this.$worker={};this.$worker.terminate=function(){};this.$worker.postMessage=function(J){z.messageBuffer.push(J);
m&&(n?setTimeout(x):x())};this.setEmitSync=function(J){n=J};var x=function(){var J=z.messageBuffer.shift();J.command?m[J.command].apply(m,J.args):J.event&&w._signal(J.event,J.data)};w.postMessage=function(J){z.onMessage({data:J})};w.callback=function(J,v){this.postMessage({type:"call",id:v,data:J})};w.emit=function(J,v){this.postMessage({type:"event",name:J,data:v})};e.loadModule(["worker",u],function(J){for(m=new J[c](w);z.messageBuffer.length;)x()})};l.prototype=W.prototype;N.UIWorkerClient=l;N.WorkerClient=
W;N.createWorker=a});
define("ace/placeholder","require exports module ace/range ace/lib/event_emitter ace/lib/oop".split(" "),function(d,N,W){var a=d("./range").Range,f=d("./lib/event_emitter").EventEmitter,g=d("./lib/oop");d=function(h,e,l,p,u,c){var m=this;this.length=e;this.session=h;this.doc=h.getDocument();this.mainClass=u;this.othersClass=c;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=p;this.$onCursorChange=function(){setTimeout(function(){m.onCursorChange()})};this.$pos=
l;this.$undoStackDepth=(h.getUndoManager().$undoStack||h.getUndoManager().$undostack||{length:-1}).length;this.setup();h.selection.on("changeCursor",this.$onCursorChange)};(function(){g.implement(this,f);this.setup=function(){var h=this,e=this.doc,l=this.session;this.selectionBefore=l.selection.toJSON();l.selection.inMultiSelectMode&&l.selection.toSingleRange();var p=this.pos=e.createAnchor(this.$pos.row,this.$pos.column);p.$insertRight=!0;p.detach();p.markerId=l.addMarker(new a(p.row,p.column,p.row,
p.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(u){u=e.createAnchor(u.row,u.column);u.$insertRight=!0;u.detach();h.others.push(u)});l.setUndoSelect(!1)};this.showOtherMarkers=function(){if(!this.othersActive){var h=this.session,e=this;this.othersActive=!0;this.others.forEach(function(l){l.markerId=h.addMarker(new a(l.row,l.column,l.row,l.column+e.length),e.othersClass,null,!1)})}};this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;
for(var h=0;h<this.others.length;h++)this.session.removeMarker(this.others[h].markerId)}};this.onUpdate=function(h){if(this.$updating)return this.updateAnchors(h);if(h.start.row===h.end.row&&h.start.row===this.pos.row){this.$updating=!0;var e="insert"===h.action?h.end.column-h.start.column:h.start.column-h.end.column,l=h.start.column>=this.pos.column&&h.start.column<=this.pos.column+this.length+1,p=h.start.column-this.pos.column;this.updateAnchors(h);l&&(this.length+=e);if(l&&!this.session.$fromUndo)if("insert"===
h.action)for(l=this.others.length-1;0<=l;l--){var u=this.others[l];u={row:u.row,column:u.column+p};this.doc.insertMergedLines(u,h.lines)}else if("remove"===h.action)for(l=this.others.length-1;0<=l;l--)u=this.others[l],u={row:u.row,column:u.column+p},this.doc.remove(new a(u.row,u.column,u.row,u.column-e));this.$updating=!1;this.updateMarkers()}};this.updateAnchors=function(h){this.pos.onChange(h);for(var e=this.others.length;e--;)this.others[e].onChange(h);this.updateMarkers()};this.updateMarkers=
function(){if(!this.$updating){var h=this,e=this.session,l=function(u,c){e.removeMarker(u.markerId);u.markerId=e.addMarker(new a(u.row,u.column,u.row,u.column+h.length),c,null,!1)};l(this.pos,this.mainClass);for(var p=this.others.length;p--;)l(this.others[p],this.othersClass)}};this.onCursorChange=function(h){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",
h)):(this.hideOtherMarkers(),this._emit("cursorLeave",h))}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null};this.cancel=function(){if(-1!==this.$undoStackDepth){for(var h=this.session.getUndoManager(),e=(h.$undoStack||h.$undostack).length-this.$undoStackDepth,l=0;l<
e;l++)h.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(d.prototype);N.PlaceHolder=d});
define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(d,N,W){function a(h,e){return h.row==e.row&&h.column==e.column}var f=d("../lib/event"),g=d("../lib/useragent");N.onMouseDown=function(h){var e=h.domEvent,l=e.altKey,p=e.shiftKey,u=e.ctrlKey,c=h.getAccelKey(),m=h.getButton();u&&g.isMac&&(m=e.button);if(h.editor.inMultiSelectMode&&2==m)h.editor.textInput.onContextMenu(h.domEvent);else if(!u&&!l&&!c)0===m&&h.editor.inMultiSelectMode&&h.editor.exitMultiSelectMode();
else if(0===m){var n=h.editor,w=n.selection;m=n.inMultiSelectMode;var z=h.getDocumentPosition(),x=w.getCursor();x=h.inSelection()||w.isEmpty()&&a(z,x);var J=h.x,v=h.y,K=function(ra){J=ra.clientX;v=ra.clientY},D=n.session,M=n.renderer.pixelToScreenCoordinates(J,v),Q=M,G;if(n.$mouseHandler.$enableJumpToDef)u&&l||c&&l?G=p?"block":"add":l&&n.$blockSelectEnabled&&(G="block");else if(c&&!l){if(G="add",!m&&p)return}else l&&n.$blockSelectEnabled&&(G="block");G&&g.isMac&&e.ctrlKey&&n.$mouseHandler.cancelContextMenu();
if("add"==G){if(m||!x){if(!m){var T=w.toOrientedRange();n.addSelectionMarker(T)}var S=w.rangeList.rangeAtPoint(z);n.$blockScrolling++;n.inVirtualSelectionMode=!0;p&&(S=null,T=w.ranges[0]||T,n.removeSelectionMarker(T));n.once("mouseup",function(){var ra=w.toOrientedRange();S&&ra.isEmpty()&&a(S.cursor,ra.cursor)?w.substractPoint(ra.cursor):(p?w.substractPoint(T.cursor):T&&(n.removeSelectionMarker(T),w.addRange(T)),w.addRange(ra));n.$blockScrolling--;n.inVirtualSelectionMode=!1})}}else if("block"==G){h.stop();
n.inVirtualSelectionMode=!0;var R,ca=[];n.$blockScrolling++;m&&!c?w.toSingleRange():!m&&c&&(R=w.toOrientedRange(),n.addSelectionMarker(R));p?M=D.documentToScreenPosition(w.lead):w.moveToPosition(z);n.$blockScrolling--;Q={row:-1,column:-1};f.capture(n.container,K,function(ra){clearInterval(ha);n.removeSelectionMarkers(ca);ca.length||(ca=[w.toOrientedRange()]);n.$blockScrolling++;R&&(n.removeSelectionMarker(R),w.toSingleRange(R));for(ra=0;ra<ca.length;ra++)w.addRange(ca[ra]);n.inVirtualSelectionMode=
!1;n.$mouseHandler.$clickSelection=null;n.$blockScrolling--});var ha=setInterval(function(){var ra=n.renderer.pixelToScreenCoordinates(J,v),Ia=D.screenToDocumentPosition(ra.row,ra.column,ra.offsetX);a(Q,ra)&&a(Ia,w.lead)||(Q=ra,n.$blockScrolling++,n.selection.moveToPosition(Ia),n.renderer.scrollCursorIntoView(),n.removeSelectionMarkers(ca),ca=w.rectangularRangeBlock(Q,M),n.$mouseHandler.$clickSelection&&1==ca.length&&ca[0].isEmpty()&&(ca[0]=n.$mouseHandler.$clickSelection.clone()),ca.forEach(n.addSelectionMarker,
n),n.updateSelectionMarkers(),n.$blockScrolling--)},20);return h.preventDefault()}}}});
define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(d,N,W){N.defaultCommands=[{name:"addCursorAbove",exec:function(a){a.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(a){a.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(a){a.selectMoreLines(-1,
!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(a){a.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(a){a.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(a){a.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",
mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(a){a.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(a){a.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(a){a.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},
{name:"alignCursors",exec:function(a){a.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(a){a.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];N.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(a){a.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(a){return a&&a.inMultiSelectMode}}];d=d("../keyboard/hash_handler").HashHandler;N.keyboardHandler=
new d(N.multiSelectCommands)});
define("ace/multi_select","require exports module ace/range_list ace/range ace/selection ace/mouse/multi_select_handler ace/lib/event ace/lib/lang ace/commands/multi_select_commands ace/search ace/edit_session ace/editor ace/config".split(" "),function(d,N,W){function a(n){n.$multiselectOnSessionChange||(n.$onAddRange=n.$onAddRange.bind(n),n.$onRemoveRange=n.$onRemoveRange.bind(n),n.$onMultiSelect=n.$onMultiSelect.bind(n),n.$onSingleSelect=n.$onSingleSelect.bind(n),n.$multiselectOnSessionChange=N.onSessionChange.bind(n),
n.$checkMultiselectChange=n.$checkMultiselectChange.bind(n),n.$multiselectOnSessionChange(n),n.on("changeSession",n.$multiselectOnSessionChange),n.on("mousedown",l),n.commands.addCommands(c.defaultCommands),f(n))}function f(n){function w(J){x&&(n.renderer.setMouseCursor(""),x=!1)}var z=n.textInput.getElement(),x=!1;p.addListener(z,"keydown",function(J){J=18==J.keyCode&&!(J.ctrlKey||J.shiftKey||J.metaKey);n.$blockSelectEnabled&&J?x||(n.renderer.setMouseCursor("crosshair"),x=!0):x&&w()});p.addListener(z,
"keyup",w);p.addListener(z,"blur",w)}var g=d("./range_list").RangeList,h=d("./range").Range,e=d("./selection").Selection,l=d("./mouse/multi_select_handler").onMouseDown,p=d("./lib/event"),u=d("./lib/lang"),c=d("./commands/multi_select_commands");N.commands=c.defaultCommands.concat(c.multiSelectCommands);var m=new (d("./search").Search);W=d("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(W.prototype);(function(){this.rangeList=this.ranges=
null;this.addRange=function(n,w){if(n){if(!this.inMultiSelectMode&&0===this.rangeCount){var z=this.toOrientedRange();this.rangeList.add(z);this.rangeList.add(n);if(2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),w||this.fromOrientedRange(n);this.rangeList.removeAll();this.rangeList.add(z);this.$onAddRange(z)}n.cursor||(n.cursor=n.end);z=this.rangeList.add(n);return this.$onAddRange(n),z.length&&this.$onRemoveRange(z),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),
this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),w||this.fromOrientedRange(n)}};this.toSingleRange=function(n){n=n||this.ranges[0];var w=this.rangeList.removeAll();w.length&&this.$onRemoveRange(w);n&&this.fromOrientedRange(n)};this.substractPoint=function(n){if(n=this.rangeList.substractPoint(n))return this.$onRemoveRange(n),n[0]};this.mergeOverlappingRanges=function(){var n=this.rangeList.merge();n.length?this.$onRemoveRange(n):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])};
this.$onAddRange=function(n){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(n);this._signal("addRange",{range:n})};this.$onRemoveRange=function(n){this.rangeCount=this.rangeList.ranges.length;if(1==this.rangeCount&&this.inMultiSelectMode){var w=this.rangeList.ranges.pop();n.push(w);this.rangeCount=0}for(var z=n.length;z--;){var x=this.ranges.indexOf(n[z]);this.ranges.splice(x,1)}this._signal("removeRange",{ranges:n});0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=
!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));(w=w||this.ranges[0])&&!w.isEqual(this.getRange())&&this.fromOrientedRange(w)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new g,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){if(1<this.rangeCount){var n=this.rangeList.ranges,w=n[n.length-1];n=h.fromPoints(n[0].start,
w.end);this.toSingleRange();this.setSelectionRange(n,w.cursor==w.start)}else{n=this.getRange();var z=this.isBackwards(),x=n.start.row;w=n.end.row;if(x==w)z?(w=n.end,n=n.start):(w=n.start,n=n.end),this.addRange(h.fromPoints(n,n)),this.addRange(h.fromPoints(w,w));else{z=[];var J=this.getLineRange(x,!0);J.start.column=n.start.column;z.push(J);for(x+=1;x<w;x++)z.push(this.getLineRange(x,!0));J=this.getLineRange(w,!0);J.end.column=n.end.column;z.push(J);z.forEach(this.addRange,this)}}};this.toggleBlockSelection=
function(){if(1<this.rangeCount){var n=this.rangeList.ranges,w=n[n.length-1];n=h.fromPoints(n[0].start,w.end);this.toSingleRange();this.setSelectionRange(n,w.cursor==w.start)}else w=this.session.documentToScreenPosition(this.selectionLead),n=this.session.documentToScreenPosition(this.selectionAnchor),this.rectangularRangeBlock(w,n).forEach(this.addRange,this)};this.rectangularRangeBlock=function(n,w,z){var x=[],J=n.column<w.column;if(J)var v=n.column,K=w.column,D=n.offsetX,M=w.offsetX;else v=w.column,
K=n.column,D=w.offsetX,M=n.offsetX;var Q=n.row<w.row;if(Q){var G=n.row;n=w.row}else G=w.row,n=n.row;0>v&&(v=0);0>G&&(G=0);for(G==n&&(z=!0);G<=n;G++){w=h.fromPoints(this.session.screenToDocumentPosition(G,v,D),this.session.screenToDocumentPosition(G,K,M));if(w.isEmpty()){var T;if(T=S)T=w.end,T=T.row==S.row&&T.column==S.column;if(T)break;var S=w.end}w.cursor=J?w.start:w.end;x.push(w)}Q&&x.reverse();if(!z){for(z=x.length-1;x[z].isEmpty()&&0<z;)z--;if(0<z)for(var R=0;x[R].isEmpty();)R++;for(;z>=R;z--)x[z].isEmpty()&&
x.splice(z,1)}return x}}).call(e.prototype);W=d("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(n){n.cursor||(n.cursor=n.end);var w=this.getSelectionStyle();return n.marker=this.session.addMarker(n,"ace_selection",w),this.session.$selectionMarkers.push(n),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,n};this.removeSelectionMarker=function(n){n.marker&&(this.session.removeMarker(n.marker),
n=this.session.$selectionMarkers.indexOf(n),-1!=n&&this.session.$selectionMarkers.splice(n,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)};this.removeSelectionMarkers=function(n){for(var w=this.session.$selectionMarkers,z=n.length;z--;){var x=n[z];x.marker&&(this.session.removeMarker(x.marker),x=w.indexOf(x),-1!=x&&w.splice(x,1))}this.session.selectionMarkerCount=w.length};this.$onAddRange=function(n){this.addSelectionMarker(n.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};
this.$onRemoveRange=function(n){this.removeSelectionMarkers(n.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(n){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(n){this.session.multiSelect.inVirtualMode||
(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))};this.$onMultiSelectExec=function(n){var w=n.command,z=n.editor;if(z.multiSelect){if(w.multiSelectAction)"forEach"==w.multiSelectAction?x=z.forEachSelection(w,n.args):"forEachLine"==w.multiSelectAction?x=z.forEachSelection(w,
n.args,!0):"single"==w.multiSelectAction?(z.exitMultiSelectMode(),x=w.exec(z,n.args||{})):x=w.multiSelectAction(z,n.args||{});else{var x=w.exec(z,n.args||{});z.multiSelect.addRange(z.multiSelect.toOrientedRange());z.multiSelect.mergeOverlappingRanges()}return x}};this.forEachSelection=function(n,w,z){if(!this.inVirtualSelectionMode){var x=1==z||z&&z.$byLines,J=this.session,v=this.selection,K=v.rangeList;z=(z&&z.keepOrder?v:K).ranges;var D;if(!z.length)return n.exec?n.exec(this,w||{}):n(this,w||{});
K=v._eventRegistry;v._eventRegistry={};var M=new e(J);this.inVirtualSelectionMode=!0;for(var Q=z.length;Q--;){if(x)for(;0<Q&&z[Q].start.row==z[Q-1].end.row;)Q--;M.fromOrientedRange(z[Q]);M.index=Q;this.selection=J.selection=M;var G=n.exec?n.exec(this,w||{}):n(this,w||{});!D&&void 0!==G&&(D=G);M.toOrientedRange(z[Q])}M.detach();this.selection=J.selection=v;this.inVirtualSelectionMode=!1;v._eventRegistry=K;v.mergeOverlappingRanges();n=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),
n&&n.from==n.to&&this.renderer.animateScrolling(n.from),D}};this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()};this.getSelectedText=function(){var n="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){n=this.multiSelect.rangeList.ranges;for(var w=[],z=0;z<n.length;z++)w.push(this.session.getTextRange(n[z]));z=this.session.getDocument().getNewLineCharacter();n=w.join(z);n.length==(w.length-1)*z.length&&(n="")}else this.selection.isEmpty()||
(n=this.session.getTextRange(this.getSelectionRange()));return n};this.$checkMultiselectChange=function(n,w){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&(n=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&w==this.multiSelect.anchor||(n=w==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor,n.row==w.row&&this.session.$clipPositionToDocument(n.row,n.column).column==w.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())))};this.findAll=function(n,w,
z){w=w||{};w.needle=n||w.needle;if(void 0==w.needle){var x=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();w.needle=this.session.getTextRange(x)}this.$search.set(w);n=this.$search.findAll(this.session);if(!n.length)return 0;this.$blockScrolling+=1;w=this.multiSelect;z||w.toSingleRange(n[0]);for(z=n.length;z--;)w.addRange(n[z],!0);return x&&w.rangeList.rangeAtPoint(x.start)&&w.addRange(x,!0),--this.$blockScrolling,n.length};this.selectMoreLines=function(n,w){var z=
this.selection.toOrientedRange(),x=z.cursor==z.end,J=this.session.documentToScreenPosition(z.cursor);this.selection.$desiredColumn&&(J.column=this.selection.$desiredColumn);var v=this.session.screenToDocumentPosition(J.row+n,J.column);if(z.isEmpty())n=v;else{var K=this.session.documentToScreenPosition(x?z.end:z.start);n=this.session.screenToDocumentPosition(K.row+n,K.column)}x?(x=h.fromPoints(v,n),x.cursor=x.start):(x=h.fromPoints(n,v),x.cursor=x.end);x.desiredColumn=J.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(z);
else if(w)var D=z.cursor;this.selection.addRange(x);D&&this.selection.substractPoint(D)};this.transposeSelections=function(n){for(var w=this.session,z=w.multiSelect,x=z.ranges,J=x.length;J--;){var v=x[J];if(v.isEmpty()){var K=w.getWordRange(v.start.row,v.start.column);v.start.row=K.start.row;v.start.column=K.start.column;v.end.row=K.end.row;v.end.column=K.end.column}}z.mergeOverlappingRanges();z=[];for(J=x.length;J--;)v=x[J],z.unshift(w.getTextRange(v));0>n?z.unshift(z.pop()):z.push(z.shift());for(J=
x.length;J--;)v=x[J],K=v.clone(),w.replace(v,z[J]),v.start.row=K.start.row,v.start.column=K.start.column};this.selectMore=function(n,w,z){var x=this.session,J=x.multiSelect.toOrientedRange();if(J.isEmpty()&&(J=x.getWordRange(J.start.row,J.start.column),J.cursor=-1==n?J.start:J.end,this.multiSelect.addRange(J),z))return;z=x.getTextRange(J);(x=(m.$options.wrap=!0,m.$options.needle=z,m.$options.backwards=-1==n,m.find(x)))&&(x.cursor=-1==n?x.start:x.end,this.$blockScrolling+=1,this.session.unfold(x),
this.multiSelect.addRange(x),--this.$blockScrolling,this.renderer.scrollCursorIntoView(null,.5));w&&this.multiSelect.substractPoint(J.cursor)};this.alignCursors=function(){var n=this.session,w=n.multiSelect,z=w.ranges,x=-1,J=z.filter(function(S){if(S.cursor.row==x)return!0;x=S.cursor.row});if(z.length&&J.length!=z.length-1){J.forEach(function(S){w.substractPoint(S.cursor)});var v=0,K=Infinity,D=z.map(function(S){S=S.cursor;var R=n.getLine(S.row).substr(S.column).search(/\S/g);return-1==R&&(R=0),S.column>
v&&(v=S.column),R<K&&(K=R),R});z.forEach(function(S,R){var ca=S.cursor,ha=v-ca.column;R=D[R]-K;ha>R?n.insert(ca,u.stringRepeat(" ",ha-R)):n.remove(new h(ca.row,ca.column,ca.row,ca.column-ha+R));S.start.column=S.end.column=v;S.start.row=S.end.row=ca.row;S.cursor=S.end});w.fromOrientedRange(z[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}else{z=this.selection.getRange();J=z.start.row;var M=z.end.row,Q=J==M;if(Q){var G=this.session.getLength();do var T=this.session.getLine(M);while(/[=:]/.test(T)&&
++M<G);do T=this.session.getLine(J);while(/[=:]/.test(T)&&0<--J);0>J&&(J=0);M>=G&&(M=G-1)}M=this.session.removeFullLines(J,M);M=this.$reAlignText(M,Q);this.session.insert({row:J,column:0},M.join("\n")+"\n");Q||(z.start.column=0,z.end.column=M[M.length-1].length);this.selection.setRange(z)}};this.$reAlignText=function(n,w){function z(T){return u.stringRepeat(" ",T)}function x(T){return T[2]?z(M)+T[2]+z(Q-T[2].length+G)+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}function J(T){return T[2]?z(M+Q-T[2].length)+
T[2]+z(G," ")+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}function v(T){return T[2]?z(M)+T[2]+z(G)+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}var K=!0,D=!0,M,Q,G;return n.map(function(T){var S=T.match(/(\s*)(.*?)(\s*)([=:].*)/);return S?null==M?(M=S[1].length,Q=S[2].length,G=S[3].length,S):(M+Q+G!=S[1].length+S[2].length+S[3].length&&(D=!1),M!=S[1].length&&(K=!1),M>S[1].length&&(M=S[1].length),Q<S[2].length&&(Q=S[2].length),G>S[3].length&&(G=S[3].length),S):[T]}).map(w?x:K?D?J:x:v)}}).call(W.prototype);N.onSessionChange=
function(n){var w=n.session;w&&!w.multiSelect&&(w.$selectionMarkers=[],w.selection.$initRangeList(),w.multiSelect=w.selection);this.multiSelect=w&&w.multiSelect;(n=n.oldSession)&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange));
w&&(w.multiSelect.on("addRange",this.$onAddRange),w.multiSelect.on("removeRange",this.$onRemoveRange),w.multiSelect.on("multiSelect",this.$onMultiSelect),w.multiSelect.on("singleSelect",this.$onSingleSelect),w.multiSelect.lead.on("change",this.$checkMultiselectChange),w.multiSelect.anchor.on("change",this.$checkMultiselectChange));w&&this.inMultiSelectMode!=w.selection.inMultiSelectMode&&(w.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};N.MultiSelect=a;d("./config").defineOptions(W.prototype,
"editor",{enableMultiselect:{set:function(n){a(this);n?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",l)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",l))},value:!0},enableBlockSelect:{set:function(n){this.$blockSelectEnabled=n},value:!0}})});
define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(d,N,W){var a=d("../../range").Range;d=N.FoldMode=function(){};(function(){this.foldingStopMarker=this.foldingStartMarker=null;this.getFoldWidget=function(f,g,h){f=f.getLine(h);return this.foldingStartMarker.test(f)?"start":"markbeginend"==g&&this.foldingStopMarker&&this.foldingStopMarker.test(f)?"end":""};this.getFoldWidgetRange=function(f,g,h){return null};this.indentationBlock=function(f,g,h){var e=/\S/,l=f.getLine(g),
p=l.search(e);if(-1!=p){h=h||l.length;for(var u=f.getLength(),c=l=g;++g<u;){var m=f.getLine(g).search(e);if(-1!=m){if(m<=p)break;c=g}}if(c>l)return f=f.getLine(c).length,new a(l,h,c,f)}};this.openingBracketBlock=function(f,g,h,e,l){h={row:h,column:e+1};if(g=f.$findClosingBracket(g,h,l))return l=f.foldWidgets[g.row],null==l&&(l=f.getFoldWidget(g.row)),"start"==l&&g.row>h.row&&(g.row--,g.column=f.getLine(g.row).length),a.fromPoints(h,g)};this.closingBracketBlock=function(f,g,h,e,l){h={row:h,column:e};
if(f=f.$findOpeningBracket(g,h))return f.column++,h.column--,a.fromPoints(f,h)}}).call(d.prototype)});
define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(d,N,W){N.isDark=!1;N.cssClass="ace-tm";N.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';d("../lib/dom").importCssString(N.cssText,
N.cssClass)});
define("ace/line_widgets","require exports module ace/lib/oop ace/lib/dom ace/range".split(" "),function(d,N,W){function a(g){this.session=g;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",
this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}d("./lib/oop");var f=d("./lib/dom");d("./range");(function(){this.getRowLength=function(g){var h;return this.lineWidgets?h=this.lineWidgets[g]&&this.lineWidgets[g].rowCount||0:h=0,this.$useWrapMode&&this.$wrapData[g]?this.$wrapData[g].length+1+h:1+h};this.$getWidgetScreenLength=function(){var g=0;return this.lineWidgets.forEach(function(h){h&&h.rowCount&&!h.hidden&&(g+=h.rowCount)}),
g};this.$onChangeEditor=function(g){this.attach(g.editor)};this.attach=function(g){g&&g.widgetManager&&g.widgetManager!=this&&g.widgetManager.detach();this.editor!=g&&(this.detach(),(this.editor=g)&&(g.widgetManager=this,g.renderer.on("beforeRender",this.measureWidgets),g.renderer.on("afterRender",this.renderWidgets)))};this.detach=function(g){if(g=this.editor)this.editor=null,g.widgetManager=null,g.renderer.off("beforeRender",this.measureWidgets),g.renderer.off("afterRender",this.renderWidgets),
(g=this.session.lineWidgets)&&g.forEach(function(h){h&&h.el&&h.el.parentNode&&(h._inDocument=!1,h.el.parentNode.removeChild(h.el))})};this.updateOnFold=function(g,h){if((h=h.lineWidgets)&&g.action){var e=g.data,l=e.start.row;e=e.end.row;g="add"==g.action;for(var p=l+1;p<e;p++)h[p]&&(h[p].hidden=g);h[e]&&(g?h[l]?h[e].hidden=g:h[l]=h[e]:(h[l]==h[e]&&(h[l]=void 0),h[e].hidden=g))}};this.updateOnChange=function(g){var h=this.session.lineWidgets;if(h){var e=g.start.row,l=g.end.row-e;0!==l&&("remove"==
g.action?h.splice(e+1,l).forEach(function(p){p&&this.removeLineWidget(p)},this):(g=Array(l),g.unshift(e,0),h.splice.apply(h,g)),this.$updateRows())}};this.$updateRows=function(){var g=this.session.lineWidgets;if(g){var h=!0;g.forEach(function(e,l){if(e)for(h=!1,e.row=l;e.$oldWidget;)e.$oldWidget.row=l,e=e.$oldWidget});h&&(this.session.lineWidgets=null)}};this.addLineWidget=function(g){this.session.lineWidgets||(this.session.lineWidgets=Array(this.session.getLength()));var h=this.session.lineWidgets[g.row];
h&&(g.$oldWidget=h,h.el&&h.el.parentNode&&(h.el.parentNode.removeChild(h.el),h._inDocument=!1));this.session.lineWidgets[g.row]=g;g.session=this.session;h=this.editor.renderer;g.html&&!g.el&&(g.el=f.createElement("div"),g.el.innerHTML=g.html);g.el&&(f.addCssClass(g.el,"ace_lineWidgetContainer"),g.el.style.position="absolute",g.el.style.zIndex=5,h.container.appendChild(g.el),g._inDocument=!0);g.coverGutter||(g.el.style.zIndex=3);null==g.pixelHeight&&(g.pixelHeight=g.el.offsetHeight);null==g.rowCount&&
(g.rowCount=g.pixelHeight/h.layerConfig.lineHeight);var e=this.session.getFoldAt(g.row,0);if(g.$fold=e){var l=this.session.lineWidgets;g.row!=e.end.row||l[e.start.row]?g.hidden=!0:l[e.start.row]=g}return this.session._emit("changeFold",{data:{start:{row:g.row}}}),this.$updateRows(),this.renderWidgets(null,h),this.onWidgetChanged(g),g};this.removeLineWidget=function(g){g._inDocument=!1;g.session=null;g.el&&g.el.parentNode&&g.el.parentNode.removeChild(g.el);if(g.editor&&g.editor.destroy)try{g.editor.destroy()}catch(e){}if(this.session.lineWidgets){var h=
this.session.lineWidgets[g.row];if(h==g)(this.session.lineWidgets[g.row]=g.$oldWidget)&&this.onWidgetChanged(g.$oldWidget);else for(;h;){if(h.$oldWidget==g){h.$oldWidget=g.$oldWidget;break}h=h.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:g.row}}});this.$updateRows()};this.getWidgetsAtRow=function(g){var h=this.session.lineWidgets;g=h&&h[g];for(h=[];g;)h.push(g),g=g.$oldWidget;return h};this.onWidgetChanged=function(g){this.session._changedWidgets.push(g);this.editor&&this.editor.renderer.updateFull()};
this.measureWidgets=function(g,h){g=this.session._changedWidgets;var e=h.layerConfig;if(g&&g.length){for(var l=Infinity,p=0;p<g.length;p++){var u=g[p];if(u&&u.el&&u.session==this.session){if(!u._inDocument){if(this.session.lineWidgets[u.row]!=u)continue;u._inDocument=!0;h.container.appendChild(u.el)}u.h=u.el.offsetHeight;u.fixedWidth||(u.w=u.el.offsetWidth,u.screenWidth=Math.ceil(u.w/e.characterWidth));var c=u.h/e.lineHeight;u.coverLine&&(c-=this.session.getRowLineCount(u.row),0>c&&(c=0));u.rowCount!=
c&&(u.rowCount=c,u.row<l&&(l=u.row))}}Infinity!=l&&(this.session._emit("changeFold",{data:{start:{row:l}}}),this.session.lineWidgetWidth=null);this.session._changedWidgets=[]}};this.renderWidgets=function(g,h){g=h.layerConfig;var e=this.session.lineWidgets;if(e){for(var l=Math.min(this.firstRow,g.firstRow),p=Math.max(this.lastRow,g.lastRow,e.length);0<l&&!e[l];)l--;this.firstRow=g.firstRow;this.lastRow=g.lastRow;for(h.$cursorLayer.config=g;l<=p;l++){var u=e[l];if(u&&u.el)if(u.hidden)u.el.style.top=
-100-(u.pixelHeight||0)+"px";else{u._inDocument||(u._inDocument=!0,h.container.appendChild(u.el));var c=h.$cursorLayer.getPixelPosition({row:l,column:0},!0).top;u.coverLine||(c+=g.lineHeight*this.session.getRowLineCount(u.row));u.el.style.top=c-g.offset+"px";c=u.coverGutter?0:h.gutterWidth;u.fixedWidth||(c-=h.scrollLeft);u.el.style.left=c+"px";u.fullWidth&&u.screenWidth&&(u.el.style.minWidth=g.width+2*g.padding+"px");u.fixedWidth?u.el.style.right=h.scrollBar.getWidth()+"px":u.el.style.right=""}}}}}).call(a.prototype);
N.LineWidgets=a});
define("ace/ext/error_marker","require exports module ace/line_widgets ace/lib/dom ace/range".split(" "),function(d,N,W){function a(e,l,p){e=e.getAnnotations().sort(h.comparePoints);if(e.length){a:{var u={row:l,column:-1};for(var c=h.comparePoints,m=0,n=e.length-1;m<=n;){var w=m+n>>1,z=c(u,e[w]);if(0<z)m=w+1;else{if(!(0>z)){u=w;break a}n=w-1}}u=-(m+1)}0>u&&(u=-u-1);u>=e.length?u=0<p?0:e.length-1:0===u&&0>p&&(u=e.length-1);if((c=e[u])&&p){if(c.row===l){do c=e[u+=p];while(c&&c.row===l);if(!c)return e.slice()}m=
[];l=c.row;do m[0>p?"unshift":"push"](c),c=e[u+=p];while(c&&c.row==l);return m.length&&m}}}var f=d("../line_widgets").LineWidgets,g=d("../lib/dom"),h=d("../range").Range;N.showErrorMarker=function(e,l){var p=e.session;p.widgetManager||(p.widgetManager=new f(p),p.widgetManager.attach(e));var u=e.getCursorPosition(),c=u.row,m=p.widgetManager.getWidgetsAtRow(c).filter(function(z){return"errorMarker"==z.type})[0];m?m.destroy():c-=l;if(l=a(p,c,l))m=l[0],u.column=(m.pos&&"number"!=typeof m.column?m.pos.sc:
m.column)||0,u.row=m.row,m=e.renderer.$gutterLayer.$annotations[u.row];else{if(m)return;m={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(u.row);e.selection.moveToPosition(u);var n={row:u.row,fixedWidth:!0,coverGutter:!0,el:g.createElement("div"),type:"errorMarker"};l=n.el.appendChild(g.createElement("div"));c=n.el.appendChild(g.createElement("div"));c.className="error_widget_arrow "+m.className;u=e.renderer.$cursorLayer.getPixelPosition(u).left;c.style.left=u+e.renderer.gutterWidth-5+
"px";n.el.className="error_widget_wrapper";l.className="error_widget "+m.className;l.innerHTML=m.text.join("<br>");l.appendChild(g.createElement("div"));var w=function(z,x,J){if(0===x&&("esc"===J||"return"===J))return n.destroy(),{command:"null"}};n.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(w),p.widgetManager.removeLineWidget(n),e.off("changeSelection",n.destroy),e.off("changeSession",n.destroy),e.off("mouseup",n.destroy),e.off("change",n.destroy))};e.keyBinding.addKeyboardHandler(w);
e.on("changeSelection",n.destroy);e.on("changeSession",n.destroy);e.on("mouseup",n.destroy);e.on("change",n.destroy);e.session.widgetManager.addLineWidget(n);n.el.onmousedown=e.focus.bind(e);e.renderer.scrollCursorIntoView(null,.5,{bottom:n.el.offsetHeight})};g.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }",
"")});
define("ace/ace","require exports module ace/lib/fixoldbrowsers ace/lib/dom ace/lib/event ace/editor ace/edit_session ace/undomanager ace/virtual_renderer ace/worker/worker_client ace/keyboard/hash_handler ace/placeholder ace/multi_select ace/mode/folding/fold_mode ace/theme/textmate ace/ext/error_marker ace/config".split(" "),function(d,N,W){d("./lib/fixoldbrowsers");var a=d("./lib/dom"),f=d("./lib/event"),g=d("./editor").Editor,h=d("./edit_session").EditSession,e=d("./undomanager").UndoManager,l=
d("./virtual_renderer").VirtualRenderer;d("./worker/worker_client");d("./keyboard/hash_handler");d("./placeholder");d("./multi_select");d("./mode/folding/fold_mode");d("./theme/textmate");d("./ext/error_marker");N.config=d("./config");N.require=d;"function"==typeof define&&(N.define=define);N.edit=function(p){if("string"==typeof p){var u=p;p=document.getElementById(u);if(!p)throw Error("ace.edit can't find div #"+u);}if(p&&p.env&&p.env.editor instanceof g)return p.env.editor;u="";if(p&&/input|textarea/i.test(p.tagName)){var c=
p;u=c.value;p=a.createElement("pre");c.parentNode.replaceChild(p,c)}else p&&(u=a.getInnerText(p),p.innerHTML="");u=N.createEditSession(u);p=new g(new l(p));p.setSession(u);var m={document:u,editor:p,onResize:p.resize.bind(p,null)};return c&&(m.textarea=c),f.addListener(window,"resize",m.onResize),p.on("destroy",function(){f.removeListener(window,"resize",m.onResize);m.editor.container.env=null}),p.container.env=p.env=m,p};N.createEditSession=function(p,u){p=new h(p,u);return p.setUndoManager(new e),
p};N.EditSession=h;N.UndoManager=e;N.version="1.2.9"});(function(){window.require(["ace/ace"],function(d){d&&(d.config.init(!0),d.define=window.define);window.ace||(window.ace=d);for(var N in d)d.hasOwnProperty(N)&&(window.ace[N]=d[N])})})();var wa_editor_key=!1,wa_editor;
function waEditorKeyCallback(d,N){N=N||{};N=jQuery.extend({save_button:"wa-page-button",change_callback:null},N);var W=$("#"+N.save_button);return d?function(a){W.length&&a.ctrlKey&&115==a.which&&!wa_editor_key&&(W.click(),a.preventDefault())}:function(a){wa_editor_key=!1;W.length&&(a.ctrlKey&&83==a.which&&(wa_editor_key=!0,W.click(),a.preventDefault()),a.metaKey||!((33>a.which||40<a.which)&&(27<a.which||8==a.which||13==a.which)&&(112>a.which||124<a.which))||a.ctrlKey&&67==a.which||(W.removeClass("green").addClass("yellow"),
N.change_callback&&"function"==typeof N.change_callback&&N.change_callback()))}}
function waEditorAceInit(d){function N(){"dark"===document.documentElement.dataset.theme?wa_editor.setTheme("ace/theme/monokai"):wa_editor.setTheme("ace/theme/eclipse")}d=d||{};d=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",type:"html",ace_editor_container:"wa-ace-editor-container"},d);d.save_button||(d.save_button=d.prefix+"button");$("#"+d.ace_editor_container).length||$('<div id="'+d.ace_editor_container+'"></div>').insertAfter($("#"+d.id));wa_editor=ace.edit(d.ace_editor_container);wa_editor.commands.removeCommand("find");
ace.config.set("basePath",wa_url+"wa-content/js/ace/");N();document.documentElement.addEventListener("wa-theme-change",N);var W=wa_editor.getSession();"css"==d.type?W.setMode("ace/mode/css"):"javascript"==d.type?W.setMode("ace/mode/javascript"):(W.setMode("ace/mode/css"),W.setMode("ace/mode/javascript"),W.setMode("ace/mode/smarty"));W.setUseWrapMode(!0);wa_editor.setOption("maxLines",1E4);wa_editor.setAutoScrollEditorIntoView(!0);wa_editor.renderer.setShowGutter(!0);wa_editor.setShowPrintMargin(!1);
-1!=navigator.appVersion.indexOf("Mac")?wa_editor.setFontSize(13):-1!=navigator.appVersion.indexOf("Linux")?wa_editor.setFontSize(16):wa_editor.setFontSize(14);$(".ace_editor").css("fontFamily","");W.setValue($("#"+d.id).hide().val());wa_editor.focus();wa_editor.navigateTo(0,0);wa_editor.commands.addCommands([{name:"waSave",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(a){$("#"+d.save_button).click()}},{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(a,f){return!1},readOnly:!0}]);
W.on("change",function(){d.change_callback&&"function"==typeof d.change_callback&&d.change_callback();$("#"+d.save_button).hasClass("green")&&$("#"+d.save_button).removeClass("green").addClass("yellow")});$(window).resize(function(){wa_editor.resize()})}
function waEditorUpdateSource(d){d=d||{};d=jQuery.extend({id:"wa-page-content"},d);d=$("#"+d.id);$(".el-rte").length&&$(".el-rte").is(":visible")?($(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))}),d.val(d.elrte("val")),wa_editor&&wa_editor.setValue(d.val()),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var N=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",N);$(this).attr("src",N.replace(/\{\$wa_url\}/,
wa_url))})):wa_editor&&d.val(wa_editor.getValue())}
function waEditorInit(d){d=d||{};d=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",lang:"en",ace_editor_container:"wa-ace-editor-container",html_tab:"html",wysiwyg_tab:"wysiwyg"},d);d.save_button||(d.save_button=d.prefix+"button");var N=$("#"+d.id);if(!d.height){var W="div."+d.prefix+"editor";W=$(W).height()-$(W+" .wa-page-gray-toolbar").height()-92;$("div."+d.prefix+"save-panel").length&&(W-=25);$("#wa-app").height()<$("#wa").height()-$("#wa-header").height()&&(W+=$("#wa").height()-$("#wa-header").height()-
$("#wa-app").height());d.height=300>W?300:W}elRTE.prototype.beforeSave=function(){};elRTE.prototype.options.toolbars.waPageToolbar="wa_style alignment colors format indent lists wa_image wa_links wa_elements wa_tables direction".split(" ");!N.val()&&$.browser.msie&&N.val("<div></div>");N.elrte({height:d.height-53,cssfiles:[wa_url+"wa-content/css/wa/wa-1.3.css"],toolbar:"waPageToolbar",lang:d.lang,wa_image_upload:"?module=pages&action=uploadimage",wa_image_upload_path:d.upload_url,width:"100%"});"<div></div>"==
N.val()&&$.browser.msie&&N.elrte("val","");var a=N.elrte()[0].elrte.filter.source;N.elrte()[0].elrte.filter.source=function(f){f=a.call(N.elrte()[0].elrte.filter,f);f=f.replace(/%7B\$wa_url%7D/,"{$wa_url}");return f=f.replace(/{[a-z$][^}]*}/gi,function(g,h,e){var l=e.indexOf("\x3c/script",h+g.length);h=e.indexOf("<script",h+g.length);if(-1==l||-1!=h&&h<l)g=g.replace(/&gt;/g,">"),g=g.replace(/&lt;/g,"<"),g=g.replace(/&amp;/g,"&"),g=g.replace(/&quot;/g,'"');return g})};$(".el-rte iframe").contents().keydown(waEditorKeyCallback(!1,
d)).keypress(waEditorKeyCallback(!0,d)).keyup(function(f){27==f.keyCode&&jQuery(".dialog:visible").trigger("esc")});$(".el-rte .toolbar li").click(function(){$("#"+d.save_button).removeClass("green").addClass("yellow")});$("#wa-page-settings").keydown(waEditorKeyCallback(!1,d)).keypress(waEditorKeyCallback(!0,d));waEditorAceInit(d);$("#"+d.wysiwyg_tab).click(function(){$.storage&&$.storage.set(wa_app+"/editor","wysiwyg");$("ul#"+d.prefix+"wysiwyg-html-toggle, ul."+d.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$(this).parent().addClass("selected");$("#"+d.ace_editor_container).hide();N.elrte("val",wa_editor.getValue());$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var f=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",f);$(this).attr("src",f.replace(/\{\$wa_url\}/,wa_url))});$(".el-rte").show();$(".el-rte iframe").contents().find("body").focus();return!1});$("#"+d.html_tab).click(function(){$.storage&&$.storage.set(wa_app+"/editor","html");$("ul#"+d.prefix+"wysiwyg-html-toggle, ul."+
d.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");$(this).parent().addClass("selected");$(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))});var f=wa_editor.getCursorPosition();waEditorUpdateSource(d);$(".el-rte").hide();$("#"+d.ace_editor_container).show();wa_editor.focus();wa_editor.navigateTo(f.row,f.column);return!1});$("ul#"+d.prefix+"wysiwyg-html-toggle, ul."+d.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$.storage&&"wysiwyg"!=$.storage.get(wa_app+"/editor")?($(".el-rte").hide(),$("#"+d.html_tab).parent().addClass("selected"),$("#"+d.ace_editor_container).show()):($("#"+d.wysiwyg_tab).parent().addClass("selected"),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var f=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",f);$(this).attr("src",f.replace(/\{\$wa_url\}/,wa_url))}),$("#"+d.ace_editor_container).hide())};(function(d){var N=[],W=[];d.fn.doAutosize=function(a){var f=d(this).data("minwidth"),g=d(this).data("maxwidth"),h="",e=d(this),l=d("#"+d(this).data("tester_id"));h!==(h=e.val())&&(h=h.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">"),l.html(h),l=l.width(),a=l+a.comfortZone>=f?l+a.comfortZone:f,l=e.width(),(a<l&&a>=f||a>f&&a<g)&&e.width(a))};d.fn.resetAutosize=function(a){var f=d(this).data("minwidth")||a.minInputWidth||d(this).width();a=d(this).data("maxwidth")||a.maxInputWidth||
d(this).closest(".tagsinput").width()-a.inputPadding;var g=d(this),h=d("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:g.css("fontSize"),fontFamily:g.css("fontFamily"),fontWeight:g.css("fontWeight"),letterSpacing:g.css("letterSpacing"),whiteSpace:"nowrap"}),e=d(this).attr("id")+"_autosize_tester";0< !d("#"+e).length&&(h.attr("id",e),h.appendTo("body"));g.data("minwidth",f);g.data("maxwidth",a);g.data("tester_id",e);g.css("width",f)};d.fn.addTag=function(a,f){f=jQuery.extend({focus:!1,
callback:!0},f);this.each(function(){var g=d(this).attr("id"),h=d(this).val().split(N[g]);""==h[0]&&(h=[]);a=jQuery.trim(a);if(f.unique){var e=d(h).tagExist(a);1==e&&d("#"+g+"_tag").addClass("not_valid")}else e=!1;if(""!=a&&1!=e&&(d("<span>").addClass("tag").append(d("<span>").text(a).append("\u00a0\u00a0"),d("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return d("#"+g).removeTag(escape(a))})).insertBefore("#"+g+"_addTag"),h.push(a),d("#"+g+"_tag").val(""),f.focus?d("#"+g+"_tag").focus():
d("#"+g+"_tag").blur(),d.fn.tagsInput.updateTagsField(this,h),f.callback&&W[g]&&W[g].onAddTag&&(e=W[g].onAddTag,e.call(this,a)),W[g]&&W[g].onChange)){var l=h.length;e=W[g].onChange;e.call(this,d(this),h[l-1])}});return!1};d.fn.removeTag=function(a){a=unescape(a);this.each(function(){var f=d(this).attr("id"),g=d(this).val().split(N[f]);d("#"+f+"_tagsinput .tag").remove();str="";for(var h=0;h<g.length;h++)g[h]!=a&&(str=str+N[f]+g[h]);d.fn.tagsInput.importTags(this,str);W[f]&&W[f].onRemoveTag&&W[f].onRemoveTag.call(this,
a)});return!1};d.fn.tagExist=function(a){return 0<=jQuery.inArray(a,d(this))};d.fn.importTags=function(a){id=d(this).attr("id");d("#"+id+"_tagsinput .tag").remove();d.fn.tagsInput.importTags(this,a)};d.fn.tagsInput=function(a){var f=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},a);this.each(function(){f.hide&&
d(this).hide();var g=d(this).attr("id"),h=jQuery.extend({pid:g,real_input:"#"+g,holder:"#"+g+"_tagsinput",input_wrapper:"#"+g+"_addTag",fake_input:"#"+g+"_tag"},f);N[g]=h.delimiter;if(f.onAddTag||f.onRemoveTag||f.onChange)W[g]=[],W[g].onAddTag=f.onAddTag,W[g].onRemoveTag=f.onRemoveTag,W[g].onChange=f.onChange;var e='<div id="'+g+'_tagsinput" class="tagsinput"><div id="'+g+'_addTag">';f.interactive&&(e=e+'<input id="'+g+'_tag" value="" data-default="'+f.defaultText+'" />');d(e+'</div><div class="tags_clear"></div></div>').insertAfter(this);
d(h.holder).css("width",f.width);d(h.holder).css("height",f.height);""!=d(h.real_input).val()&&d.fn.tagsInput.importTags(d(h.real_input),d(h.real_input).val());if(f.interactive){d(h.fake_input).val(d(h.fake_input).attr("data-default"));d(h.fake_input).css("color",f.placeholderColor);d(h.fake_input).resetAutosize(f);d(h.holder).bind("click",h,function(l){d(l.data.fake_input).focus()});d(h.fake_input).bind("focus",h,function(l){d(l.data.fake_input).val()==d(l.data.fake_input).attr("data-default")&&
d(l.data.fake_input).val("");d(l.data.fake_input).css("color","#000000")});if(void 0!=f.autocomplete_url){autocomplete_options={source:f.autocomplete_url};for(attrname in f.autocomplete)autocomplete_options[attrname]=f.autocomplete[attrname];void 0!==jQuery.Autocompleter?(d(h.fake_input).autocomplete(f.autocomplete_url,f.autocomplete),d(h.fake_input).bind("result",h,function(l,p,u){p&&d("#"+g).addTag(p[0]+"",{focus:!0,unique:f.unique})})):void 0!==jQuery.ui.autocomplete&&(d(h.fake_input).autocomplete(autocomplete_options),
d(h.fake_input).bind("autocompleteselect",h,function(l,p){d(l.data.real_input).addTag(p.item.value,{focus:!0,unique:f.unique});return!1}))}else d(h.fake_input).bind("blur",h,function(l){var p=d(this).attr("data-default");""!=d(l.data.fake_input).val()&&d(l.data.fake_input).val()!=p?l.data.minChars<=d(l.data.fake_input).val().length&&(!l.data.maxChars||l.data.maxChars>=d(l.data.fake_input).val().length)&&d(l.data.real_input).addTag(d(l.data.fake_input).val(),{focus:!0,unique:f.unique}):(d(l.data.fake_input).val(d(l.data.fake_input).attr("data-default")),
d(l.data.fake_input).css("color",f.placeholderColor));return!1});d(h.fake_input).bind("keypress",h,function(l){if(l.which==l.data.delimiter.charCodeAt(0)||13==l.which)return l.preventDefault(),l.data.minChars<=d(l.data.fake_input).val().length&&(!l.data.maxChars||l.data.maxChars>=d(l.data.fake_input).val().length)&&d(l.data.real_input).addTag(d(l.data.fake_input).val(),{focus:!0,unique:f.unique}),d(l.data.fake_input).resetAutosize(f),!1;l.data.autosize&&d(l.data.fake_input).doAutosize(f)});h.removeWithBackspace&&
d(h.fake_input).bind("keydown",function(l){if(8==l.keyCode&&""==d(this).val()){l.preventDefault();l=d(this).closest(".tagsinput").find(".tag:last").text();var p=d(this).attr("id").replace(/_tag$/,"");l=l.replace(/[\s]+x$/,"");d("#"+p).removeTag(escape(l));d(this).trigger("focus")}});d(h.fake_input).blur();h.unique&&d(h.fake_input).keydown(function(l){(8==l.keyCode||String.fromCharCode(l.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,\/]+/))&&d(this).removeClass("not_valid")})}return!1});
return this};d.fn.tagsInput.updateTagsField=function(a,f){var g=d(a).attr("id");d(a).val(f.join(N[g]))};d.fn.tagsInput.importTags=function(a,f){d(a).val("");var g=d(a).attr("id");f=f.split(N[g]);for(var h=0;h<f.length;h++)d(a).addTag(f[h],{focus:!1,callback:!1});W[g]&&W[g].onChange&&W[g].onChange.call(a,a,f[h])}})(jQuery);(function(d){d.iButton={version:"1.0.03",setDefaults:function(h){d.extend(a,h)}};d.fn.iButton=function(h){var e="string"==typeof arguments[0]&&arguments[0],l=e&&Array.prototype.slice.call(arguments,1)||arguments,p=0==this.length?null:d.data(this[0],"iButton");if(p&&e&&this.length){if("object"==e.toLowerCase())return p;if(p[e]){var u;this.each(function(c){var m=d.data(this,"iButton")[e].apply(p,l);if(0==c&&m)if(m.jquery)u=d([]).add(m);else return u=m,!1;else m&&m.jquery&&(u=u.add(m))});return u||this}return this}return this.each(function(){new W(this,
h)})};var N=0;d.browser.iphone=-1<navigator.userAgent.toLowerCase().indexOf("iphone");var W=function(h,e){var l=this,p=d(h),u=++N,c=!1,m=!1,n=null,w=null,z=null,x=null;e=d.extend({},a,e,d.metadata?p.metadata():{});h=e.labelOn==f&&e.labelOff==g;if(!p.is(":checkbox, :radio"))return p.find(":checkbox, :radio").iButton(e);if(!d.data(p[0],"iButton")){d.data(p[0],"iButton",l);"auto"==e.resizeHandle&&(e.resizeHandle=!h);"auto"==e.resizeContainer&&(e.resizeContainer=!h);this.toggle=function(ha){p.attr("checked",
0<arguments.length?ha:!p[0].checked).trigger("change")};this.disable=function(ha){var ra=0<arguments.length?ha:!c;c=ra;p.attr("disabled",ra);J[ra?"addClass":"removeClass"](e.classDisabled);d.isFunction(e.disable)&&e.disable.apply(l,[c,p,e])};this.repaint=function(){R()};this.destroy=function(){d([p[0],J[0]]).unbind(".iButton");d(document).unbind(".iButton_"+u);J.after(p).remove();d.data(p[0],"iButton",null);d.isFunction(e.destroy)&&e.destroy.apply(l,[p,e])};p.wrap('<div class="'+d.trim(e.classContainer+
" "+e.className)+'" />').after('<div class="'+e.classHandle+'"><div class="'+e.classHandleRight+'"><div class="'+e.classHandleMiddle+'" /></div></div><div class="'+e.classLabelOff+'"><span><label>'+e.labelOff+'</label></span></div><div class="'+e.classLabelOn+'"><span><label>'+e.labelOn+'</label></span></div><div class="'+e.classPaddingLeft+'"></div><div class="'+e.classPaddingRight+'"></div>');var J=p.parent(),v=p.siblings("."+e.classHandle),K=p.siblings("."+e.classLabelOff),D=K.children("span"),
M=p.siblings("."+e.classLabelOn),Q=M.children("span");if(e.resizeHandle||e.resizeContainer){var G=Q.outerWidth();var T=D.outerWidth()}e.resizeHandle?(h=Math.min(G,T),v.css("width",h)):h=v.width();e.resizeContainer?(G=Math.max(G,T)+h+20,J.css("width",G),K.css("width",G-5)):G=J.width();var S=G-h-6,R=function(ha){var ra=p[0].checked?S:0;(ha=0<arguments.length?arguments[0]:!0)&&e.enableFx?(v.stop().animate({left:ra},e.duration,e.easing),M.stop().animate({width:ra+4},e.duration,e.easing),Q.stop().animate({marginLeft:ra-
S},e.duration,e.easing),D.stop().animate({marginRight:-ra},e.duration,e.easing)):(v.css("left",ra),M.css("width",ra+4),Q.css("marginLeft",ra-S),D.css("marginRight",-ra))};R(!1);var ca=function(ha){return ha.pageX||(ha.originalEvent.changedTouches?ha.originalEvent.changedTouches[0].pageX:0)};J.bind("mousedown.iButton touchstart.iButton",function(ha){if(!(d(ha.target).is(":checkbox, :radio")||c||!e.allowRadioUncheck&&p.is(":radio:checked")))return ha.preventDefault(),n=v,w=ca(ha),z=w-(parseInt(v.css("left"),
10)||0),x=(new Date).getTime(),!1});e.enableDrag&&d(document).bind("mousemove.iButton_"+u+" touchmove.iButton_"+u,function(ha){if(n==v)return ha.preventDefault(),ha=ca(ha),ha!=z&&(m=!0,J.addClass(e.classHandleActive)),ha=Math.min(1,Math.max(0,(ha-z)/S)),v.css("left",ha*S),M.css("width",ha*S+4),D.css("marginRight",-ha*S),Q.css("marginLeft",-(1-ha)*S),!1});d(document).bind("mouseup.iButton_"+u+" touchend.iButton_"+u,function(ha){if(n==v){ha.preventDefault();var ra=!0;!m||(new Date).getTime()-x<e.clickOffset?
(ha=p[0].checked,p.attr("checked",!ha),d.isFunction(e.click)&&e.click.apply(l,[!ha,p,e])):(ha=.5<=(ca(ha)-z)/S,p[0].checked==ha&&(ra=!1),p.attr("checked",ha));J.removeClass(e.classHandleActive);m=n=null;ra?p.trigger("change"):R();return!1}});p.bind("change.iButton",function(){R();if(p.is(":radio")){var ha=p[0];d(ha.form?ha.form[ha.name]:":radio[name="+ha.name+"]").filter(":not(:checked)").iButton("repaint")}d.isFunction(e.change)&&e.change.apply(l,[p,e])}).bind("focus.iButton",function(){J.addClass(e.classFocus)}).bind("blur.iButton",
function(){J.removeClass(e.classFocus)});d.isFunction(e.click)&&p.bind("click.iButton",function(){e.click.apply(l,[p[0].checked,p,e])});p.is(":disabled")&&this.disable(!0);d.browser.msie&&(J.find("*").andSelf().attr("unselectable","on"),p.bind("click.iButton",function(){p.triggerHandler("change.iButton")}));d.isFunction(e.init)&&e.init.apply(l,[p,e])}},a={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,
clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},f=a.labelOn,g=a.labelOff})(jQuery);jQuery.fn.waEditor2=function(){function d(e,l){var p=e.closest(".wa-editor-core-wrapper");if("string"===typeof l[0])switch(l[0]){case "sync":p.find(".wysiwyg").parent().hasClass("selected")?(e.redactor("code.sync"),l=e.redactor("code.get"),l!==e.data("last_wysiwyg_code")&&(l=e.redactor("clean.onSync",e.redactor("clean.onSet",l)),e.val(l))):e.val(e.data("ace").getValue());break;case "insert":p.find(".wysiwyg").parent().hasClass("selected")?e.redactor("insert.html",l[1]):e.data("ace").insert(l[1]);
break;case "get":return p.find(".wysiwyg").parent().hasClass("selected")?e.redactor("code.get"):e.data("ace").getValue()}else e.redactor("code.set",e.val()),e.data("ace").setValue(e.val())}function N(e){e=$.extend({focus:!0,deniedTags:!1,minHeight:300,linkify:!1,source:!1,paragraphy:!1,replaceDivs:!1,toolbarFixed:!0,replaceTags:{b:"strong",i:"em",strike:"del"},removeNewlines:!1,removeComments:!1,imagePosition:!0,imageResizable:!0,imageFloatMargin:"1.5em",buttons:"format bold italic underline deleted lists image video table link alignment horizontalrule fontcolor fontsize fontfamily".split(" "),
plugins:"fontcolor fontfamily alignment fontsize table video".split(" "),imageUpload:"?module=pages&action=uploadimage&r=2",imageUploadFields:'[name="_csrf"]:first',callbacks:{}},e||{});if(e.uploadFields||e.uploadImageFields)e.imageUploadFields=e.uploadFields||e.uploadImageFields;e.callbacks=$.extend({imageUploadError:function(l){console.log("imageUploadError",l);alert(l.error)},keydown:function(l){return"115"!=l.which&&"83"!=l.which||!l.ctrlKey&&!l.metaKey?!0:(l.preventDefault(),e.saveButton&&$(e.saveButton).click(),
!1)},sync:function(l){l=l.replace(/{[a-z$][^}]*}/gi,function(p,u,c){var m=c.indexOf("\x3c/script",u+p.length);u=c.indexOf("<script",u+p.length);if(-1==m||-1!=u&&u<m)p=p.replace(/&gt;/g,">"),p=p.replace(/&lt;/g,"<"),p=p.replace(/&amp;/g,"&"),p=p.replace(/&quot;/g,'"');return p});e.callbacks.syncBefore&&(l=e.callbacks.syncBefore(l));this.$textarea.val(l)},syncClean:function(l){return l.replace(/\{[a-z\$'"_\(!+\-][^\}]*\}/gi,function(p){return p.replace(/-&gt;/g,"->")})}},e.callbacks||{});e.saveButton&&
!e.callbacks.change&&(e.callbacks.change=function(l){$(e.saveButton).removeClass("green").addClass("yellow")});return e}function W(e,l){function p(){"dark"===document.documentElement.dataset.theme?m.setTheme("ace/theme/monokai"):m.setTheme("ace/theme/eclipse")}var u=e.closest(".wa-editor-core-wrapper");if(u.find(".ace").length)c=e.closest(".wa-editor-core-wrapper").find(".ace").children("div");else{var c=$("<div></div>");e.parent().append($('<div class="ace"></div>').append(c))}var m=ace.edit(c.get(0));
m.commands.removeCommand("find");ace.config.set("basePath",wa_url+"wa-content/js/ace/");p();document.documentElement.addEventListener("wa-theme-change",p);c=m.getSession();c.setMode("ace/mode/css");c.setMode("ace/mode/javascript");c.setMode("ace/mode/smarty");m.$blockScrolling=Infinity;c.setUseWrapMode(!0);m.renderer.setShowGutter(!1);m.setShowPrintMargin(!1);-1!=navigator.appVersion.indexOf("Mac")?m.setFontSize(13):-1!=navigator.appVersion.indexOf("Linux")?m.setFontSize(16):m.setFontSize(14);u.find(".ace_editor").css("fontFamily",
"");u.find(".ace_editor").css("minHeight",200);e.val().length?c.setValue(e.val()):c.setValue(" ");m.setOption("minLines",2);m.setOption("maxLines",1E4);m.setAutoScrollEditorIntoView(!0);l.focus&&(m.focus(),m.navigateTo(0,0));m.commands.addCommands([{name:"waSave",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(n){l.saveButton&&$(l.saveButton).click()}},{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(n,w){return!1},readOnly:!0}]);if(l.callbacks.change)c.on("change",l.callbacks.change);
e.data("ace",m);$(window).resize(function(){m.resize()});return m}function a(e){e=e.replace(/\{\$[a-z_][^\}]*\}/gi,"");return!e.match(/\{[a-z\$'"_\(!+\-]/i)}function f(e,l,p,u){var c=l.find(".wa-editor-upload-img");c.removeClass("hidden").appendTo(l.find(".ace"));c.click(function(){if($.fn.fileupload)return c.find("svg").length?$.waDialog({$wrapper:e}):e.waDialog(),!1;console.log("waEditor2 ERROR: jQuery fileupload plugins is required, but missing.")});c.one("click",function(){if($.fn.fileupload)return e.find("input:file").fileupload({dataType:"json",
start:function(){e.find("div.loading").show();e.find("input[type=submit]").attr("disabled","disabled")},done:function(m,n){if(n.result.error)return $('<div style="text-align: center"><p>'+n.result.error+"</p></div>").waDialog({buttons:'<input type="submit" value="'+u.locales.close+'" class="button red" />',height:"100px",width:"550px",onSubmit:function(w){w.trigger("close");return!1}}),!1;m='\n<figure><img src="%url%"></figure>\n'.replace("%url%",n.result.url);p.insert(m);p.clearSelection();p.focus()},
stop:function(){e.hide();e.find("div.loading").hide();e.find("input[type=submit]").removeAttr("disabled")}}),!1})}var g=arguments,h;this.each(function(){function e(n){return p.data("original_code")||n}function l(n){n&&p.data("original_code",n);setTimeout(function(){p.data("last_wysiwyg_code",p.redactor("code.get"))},50)}var p=$(this);if(p.data("redactor"))h=d(p,g);else{var u=N(g[0]),c=W(p,u);l(p.val());p.redactor(u);p.redactor("core.editor").find('img[src*="$wa_url"]').each(function(){var n=decodeURIComponent($(this).attr("src"));
$(this).attr("data-src",n);$(this).attr("src",n.replace(/\{\$wa_url\}/,wa_url))});p.redactor("core.box")&&p.redactor("core.box").css("z-index",0);p.redactor("core.toolbar")&&p.redactor("core.toolbar").css("z-index",1);var m=p.closest(".wa-editor-core-wrapper");u.upload_img_dialog&&f($(u.upload_img_dialog),m,c,u);m.find(".html").click(function(){if($(this).parent().hasClass("selected"))return!1;window.wa_app&&localStorage.setItem(wa_app+"/editor","html");m.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected");
$(this).parent().addClass("selected");p.redactor("core.box").hide();var n=c.getCursorPosition();p.redactor("core.editor").find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"));$(this).removeAttr("data-src")});p.redactor("code.sync");var w=p.redactor("code.get");w!==p.data("last_wysiwyg_code")?(w=p.redactor("clean.onSync",p.redactor("clean.onSet",w)),c.setValue(w)):c.setValue(e(w));m.find(".ace").show();c.focus();c.navigateTo(n.row,n.column);return!1});m.find(".wysiwyg").click(function(){if($(this).parent().hasClass("selected"))return!1;
var n=c.getValue();if(u.smarty_wysiwyg_msg&&!a(n))return alert(u.smarty_wysiwyg_msg),!1;if($.trim(n)&&u.modification_wysiwyg_msg&&p.redactor("clean.onSync",p.redactor("clean.onSet",n))!==n)if("string"===typeof u.modification_wysiwyg_msg)if(confirm(u.modification_wysiwyg_msg))u.modification_wysiwyg_msg=null;else return!1;else return $(this).hasClass("js-is-wa2")?$.waDialog({$wrapper:u.modification_wysiwyg_msg,onOpen:function(w,z){w.find("form").on("submit",function(x){x.preventDefault();u.modification_wysiwyg_msg=
null;m.find(".wysiwyg").trigger("click");z.close()})},onSubmit:function(w){return!1}}):u.modification_wysiwyg_msg.waDialog({onSubmit:function(w){u.modification_wysiwyg_msg=null;w.trigger("close");m.find(".wysiwyg").trigger("click");return!1}}),!1;window.wa_app&&localStorage.setItem(wa_app+"/editor","wysiwyg");p.redactor("code.set",n);p.redactor("core.editor").find('img[src*="$wa_url"]').each(function(){var w=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",w);$(this).attr("src",w.replace(/\{\$wa_url\}/,
wa_url))});p.redactor("observe.images");p.redactor("observe.links");m.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected");$(this).parent().addClass("selected");m.find(".ace").hide();p.redactor("core.box").show();l(n);p.redactor("focus.start");return!1});window.wa_app&&u.smarty_wysiwyg_msg&&!a(p.val())||localStorage.getItem(wa_app+"/editor")&&"html"==localStorage.getItem(wa_app+"/editor")?(m.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected"),m.find(".html").parent().addClass("selected"),
p.redactor("core.box").hide(),m.find(".ace").show(),setTimeout(function(){c.blur()},50),u.focus&&setTimeout(function(){c.focus();c.navigateTo(0,0)},100)):(m.find(".ace").hide(),u.focus&&(u.iframe?setTimeout(function(){p.redactor("focus.start")},100):p.redactor("focus.start")))}});return h};jQuery.fn.waEditor||(jQuery.fn.waEditor=jQuery.fn.waEditor2);
//# sourceMappingURL=vendor.min.js.map