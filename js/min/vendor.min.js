/*
 jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
var $jscomp={scope:{},findInternal:function(b,n,t){b instanceof String&&(b=String(b));for(var a=b.length,g=0;g<a;g++){var e=b[g];if(n.call(t,e,g,b))return{i:g,v:e}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,n,t){if(t.get||t.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[n]=t.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,n,t,a){if(n){t=$jscomp.global;b=b.split(".");for(a=0;a<b.length-1;a++){var g=b[a];g in t||(t[g]={});t=t[g]}b=b[b.length-1];a=t[b];n=n(a);n!=a&&null!=n&&$jscomp.defineProperty(t,b,{configurable:!0,writable:!0,value:n})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,t){return $jscomp.findInternal(this,b,t).v}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var n=0;return $jscomp.iteratorPrototype(function(){return n<b.length?{done:!1,value:b[n++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(b,n){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var t=0,a={next:function(){if(t<b.length){var g=t++;return{value:n(g,b[g]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};
$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,t){return t})}},"es6","es3");$jscomp.polyfill("Array.prototype.entries",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,t){return[b,t]})}},"es6-impl","es3");
!function(b,n){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?n(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return n(b)}:n(b)}("undefined"!=typeof window?window:this,function(b,n){function t(a){var d=a.length,b=p.type(a);return"function"===b||p.isWindow(a)?!1:1===a.nodeType&&d?!0:"array"===b||0===d||"number"==typeof d&&0<d&&d-1 in a}function a(a,d,b){if(p.isFunction(d))return p.grep(a,function(a,c){return!!d.call(a,c,
a)!==b});if(d.nodeType)return p.grep(a,function(a){return a===d!==b});if("string"==typeof d){if(fb.test(d))return p.filter(d,a,b);d=p.filter(d,a)}return p.grep(a,function(a){return 0<=p.inArray(a,d)!==b})}function g(a,d){do a=a[d];while(a&&1!==a.nodeType);return a}function e(a){var d=xa[a]={};return p.each(a.match(Ma)||[],function(a,b){d[b]=!0}),d}function f(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",c,!1),b.removeEventListener("load",c,!1)):(K.detachEvent("onreadystatechange",
c),b.detachEvent("onload",c))}function c(){(K.addEventListener||"load"===event.type||"complete"===K.readyState)&&(f(),p.ready())}function h(a,d,b){if(void 0===b&&1===a.nodeType){var c="data-"+d.replace(ha,"-$1").toLowerCase();if(b=a.getAttribute(c),"string"==typeof b){try{b="true"===b?!0:"false"===b?!1:"null"===b?null:+b+""===b?+b:Na.test(b)?p.parseJSON(b):b}catch(bd){}p.data(a,d,b)}else b=void 0}return b}function k(a){for(var d in a)if(("data"!==d||!p.isEmptyObject(a[d]))&&"toJSON"!==d)return!1;
return!0}function m(a,d,b,c){if(p.acceptData(a)){var e,f,g=p.expando,l=a.nodeType,h=l?p.cache:a,q=l?a[g]:a[g]&&g;if(q&&h[q]&&(c||h[q].data)||void 0!==b||"string"!=typeof d)return q||(q=l?a[g]=ma.pop()||p.guid++:g),h[q]||(h[q]=l?{}:{toJSON:p.noop}),("object"==typeof d||"function"==typeof d)&&(c?h[q]=p.extend(h[q],d):h[q].data=p.extend(h[q].data,d)),f=h[q],c||(f.data||(f.data={}),f=f.data),void 0!==b&&(f[p.camelCase(d)]=b),"string"==typeof d?(e=f[d],null==e&&(e=f[p.camelCase(d)])):e=f,e}}function d(a,
d,b){if(p.acceptData(a)){var c,e,f=a.nodeType,g=f?p.cache:a,l=f?a[p.expando]:p.expando;if(g[l]){if(d&&(c=b?g[l]:g[l].data)){p.isArray(d)?d=d.concat(p.map(d,p.camelCase)):d in c?d=[d]:(d=p.camelCase(d),d=d in c?[d]:d.split(" "));for(e=d.length;e--;)delete c[d[e]];if(b?!k(c):!p.isEmptyObject(c))return}(b||(delete g[l].data,k(g[l])))&&(f?p.cleanData([a],!0):P.deleteExpando||g!=g.window?delete g[l]:g[l]=null)}}}function l(){return!0}function q(){return!1}function w(){try{return K.activeElement}catch(ra){}}
function z(a){var d=gb.split("|");a=a.createDocumentFragment();if(a.createElement)for(;d.length;)a.createElement(d.pop());return a}function u(a,d){var b,c,e=0,f="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(d||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(d||"*"):void 0;if(!f)for(f=[],b=a.childNodes||a;null!=(c=b[e]);e++)!d||p.nodeName(c,d)?f.push(c):p.merge(f,u(c,d));return void 0===d||d&&p.nodeName(a,d)?p.merge([a],f):f}function B(a){Eb.test(a.type)&&(a.defaultChecked=
a.checked)}function r(a,d){return p.nodeName(a,"table")&&p.nodeName(11!==d.nodeType?d:d.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function A(a){return a.type=(null!==p.find.attr(a,"type"))+"/"+a.type,a}function v(a){var d=he.exec(a.type);return d?a.type=d[1]:a.removeAttribute("type"),a}function C(a,d){for(var b,c=0;null!=(b=a[c]);c++)p._data(b,"globalEval",!d||p._data(d[c],"globalEval"))}function G(a,d){if(1===d.nodeType&&p.hasData(a)){var b,
c,e;c=p._data(a);var f=p._data(d,c),g=c.events;if(g)for(b in delete f.handle,f.events={},g)for(c=0,e=g[b].length;e>c;c++)p.event.add(d,b,g[b][c]);f.data&&(f.data=p.extend({},f.data))}}function D(a,d){var c,e=p(d.createElement(a)).appendTo(d.body),f=b.getDefaultComputedStyle&&(c=b.getDefaultComputedStyle(e[0]))?c.display:p.css(e[0],"display");return e.detach(),f}function O(a){var d=K,b=dd[a];return b||(b=D(a,d),"none"!==b&&b||(Fb=(Fb||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(d.documentElement),
d=(Fb[0].contentWindow||Fb[0].contentDocument).document,d.write(),d.close(),b=D(a,d),Fb.detach()),dd[a]=b),b}function F(a,d){return{get:function(){var b=a();if(null!=b)return b?void delete this.get:(this.get=d).apply(this,arguments)}}}function E(a,d){if(d in a)return d;for(var b=d.charAt(0).toUpperCase()+d.slice(1),c=d,e=Rb.length;e--;)if(d=Rb[e]+b,d in a)return d;return c}function M(a,d){for(var b,c,e,f=[],g=0,l=a.length;l>g;g++)c=a[g],c.style&&(f[g]=p._data(c,"olddisplay"),b=c.style.display,d?(f[g]||
"none"!==b||(c.style.display=""),""===c.style.display&&hb(c)&&(f[g]=p._data(c,"olddisplay",O(c.nodeName)))):(e=hb(c),(b&&"none"!==b||!e)&&p._data(c,"olddisplay",e?b:p.css(c,"display"))));for(g=0;l>g;g++)c=a[g],c.style&&(d&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=d?f[g]||"":"none"));return a}function Q(a,d,b){return(a=Ec.exec(d))?Math.max(0,a[1]-(b||0))+(a[2]||"px"):d}function J(a,d,b,c,e){d=b===(c?"border":"content")?4:"width"===d?1:0;for(var f=0;4>d;d+=2)"margin"===b&&(f+=
p.css(a,b+Oa[d],!0,e)),c?("content"===b&&(f-=p.css(a,"padding"+Oa[d],!0,e)),"margin"!==b&&(f-=p.css(a,"border"+Oa[d]+"Width",!0,e))):(f+=p.css(a,"padding"+Oa[d],!0,e),"padding"!==b&&(f+=p.css(a,"border"+Oa[d]+"Width",!0,e)));return f}function fa(a,d,b){var c=!0,e="width"===d?a.offsetWidth:a.offsetHeight,f=ob(a),g=P.boxSizing&&"border-box"===p.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=pb(a,d,f),(0>e||null==e)&&(e=a.style[d]),hc.test(e))return e;c=g&&(P.boxSizingReliable()||e===a.style[d]);e=parseFloat(e)||
0}return e+J(a,d,b||(g?"border":"content"),c,f)+"px"}function L(a,d,b,c,e){return new L.prototype.init(a,d,b,c,e)}function I(){return setTimeout(function(){Va=void 0}),Va=p.now()}function N(a,d){var b,c={height:a},e=0;for(d=d?1:0;4>e;e+=2-d)b=Oa[e],c["margin"+b]=c["padding"+b]=a;return d&&(c.opacity=c.width=a),c}function pa(a,d,b){for(var c,e=(qb[d]||[]).concat(qb["*"]),f=0,g=e.length;g>f;f++)if(c=e[f].call(b,d,a))return c}function W(a,d){var b,c,e,f,g;for(b in a)if(c=p.camelCase(b),e=d[c],f=a[b],
p.isArray(f)&&(e=f[1],f=a[b]=f[0]),b!==c&&(a[c]=f,delete a[b]),g=p.cssHooks[c],g&&"expand"in g)for(b in f=g.expand(f),delete a[c],f)b in a||(a[b]=f[b],d[b]=e);else d[c]=e}function na(a,d,b){var c,e=0,f=rb.length,g=p.Deferred().always(function(){delete l.elem}),l=function(){if(c)return!1;for(var d=Va||I(),d=Math.max(0,h.startTime+h.duration-d),b=1-(d/h.duration||0),e=0,f=h.tweens.length;f>e;e++)h.tweens[e].run(b);return g.notifyWith(a,[h,b,d]),1>b&&f?d:(g.resolveWith(a,[h]),!1)},h=g.promise({elem:a,
props:p.extend({},d),opts:p.extend(!0,{specialEasing:{}},b),originalProperties:d,originalOptions:b,startTime:Va||I(),duration:b.duration,tweens:[],createTween:function(d,b){var c=p.Tween(a,h.opts,d,b,h.opts.specialEasing[d]||h.opts.easing);return h.tweens.push(c),c},stop:function(d){var b=0,e=d?h.tweens.length:0;if(c)return this;for(c=!0;e>b;b++)h.tweens[b].run(1);return d?g.resolveWith(a,[h,d]):g.rejectWith(a,[h,d]),this}});b=h.props;for(W(b,h.opts.specialEasing);f>e;e++)if(d=rb[e].call(h,a,b,h.opts))return d;
return p.map(b,pa,h),p.isFunction(h.opts.start)&&h.opts.start.call(a,h),p.fx.timer(p.extend(l,{elem:a,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function T(a){return function(d,b){"string"!=typeof d&&(b=d,d="*");var c,e=0,f=d.toLowerCase().match(Ma)||[];if(p.isFunction(b))for(;c=f[e++];)"+"===c.charAt(0)?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(b)):(a[c]=a[c]||[]).push(b)}}function aa(a,d,b,c){function e(l){var h;
return f[l]=!0,p.each(a[l]||[],function(a,l){var q=l(d,b,c);return"string"!=typeof q||g||f[q]?g?!(h=q):void 0:(d.dataTypes.unshift(q),e(q),!1)}),h}var f={},g=a===ic;return e(d.dataTypes[0])||!f["*"]&&e("*")}function ea(a,d){var b,c,e=p.ajaxSettings.flatOptions||{};for(c in d)void 0!==d[c]&&((e[c]?a:b||(b={}))[c]=d[c]);return b&&p.extend(!0,a,b),a}function ua(a,d,b,c){var e;if(p.isArray(d))p.each(d,function(d,e){b||ie.test(a)?c(a,e):ua(a+"["+("object"==typeof e?d:"")+"]",e,b,c)});else if(b||"object"!==
p.type(d))c(a,d);else for(e in d)ua(a+"["+e+"]",d[e],b,c)}function ga(){try{return new b.XMLHttpRequest}catch(ra){}}function X(a){return p.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ma=[],ka=ma.slice,qa=ma.concat,ya=ma.push,ja=ma.indexOf,Ja={},Ka=Ja.toString,Ra=Ja.hasOwnProperty,P={},p=function(a,d){return new p.fn.init(a,d)},Ea=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,za=/^-ms-/,Fa=/-([\da-z])/gi,bb=function(a,d){return d.toUpperCase()};p.fn=p.prototype={jquery:"1.11.1",constructor:p,
selector:"",length:0,toArray:function(){return ka.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:ka.call(this)},pushStack:function(a){a=p.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,d){return p.each(this,a,d)},map:function(a){return this.pushStack(p.map(this,function(d,b){return a.call(d,b,d)}))},slice:function(){return this.pushStack(ka.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(a){var d=this.length;a=+a+(0>a?d:0);return this.pushStack(0<=a&&d>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ya,sort:ma.sort,splice:ma.splice};p.extend=p.fn.extend=function(){var a,d,b,c,e,f,g=arguments[0]||{},l=1,h=arguments.length,q=!1;"boolean"==typeof g&&(q=g,g=arguments[l]||{},l++);"object"==typeof g||p.isFunction(g)||(g={});for(l===h&&(g=this,l--);h>l;l++)if(null!=(e=arguments[l]))for(c in e)a=g[c],b=e[c],g!==b&&(q&&b&&(p.isPlainObject(b)||
(d=p.isArray(b)))?(d?(d=!1,f=a&&p.isArray(a)?a:[]):f=a&&p.isPlainObject(a)?a:{},g[c]=p.extend(q,f,b)):void 0!==b&&(g[c]=b));return g};p.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===p.type(a)},isArray:Array.isArray||function(a){return"array"===p.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!p.isArray(a)&&0<=a-parseFloat(a)},isEmptyObject:function(a){for(var d in a)return!1;
return!0},isPlainObject:function(a){var d;if(!a||"object"!==p.type(a)||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!Ra.call(a,"constructor")&&!Ra.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(ad){return!1}if(P.ownLast)for(d in a)return Ra.call(a,d);for(d in a);return void 0===d||Ra.call(a,d)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?Ja[Ka.call(a)]||"object":typeof a},globalEval:function(a){a&&p.trim(a)&&(b.execScript||function(a){b.eval.call(b,
a)})(a)},camelCase:function(a){return a.replace(za,"ms-").replace(Fa,bb)},nodeName:function(a,d){return a.nodeName&&a.nodeName.toLowerCase()===d.toLowerCase()},each:function(a,d,b){var c,e=0,f=a.length,g=t(a);if(b)if(g)for(;f>e&&(c=d.apply(a[e],b),!1!==c);e++);else for(e in a){if(c=d.apply(a[e],b),!1===c)break}else if(g)for(;f>e&&(c=d.call(a[e],e,a[e]),!1!==c);e++);else for(e in a)if(c=d.call(a[e],e,a[e]),!1===c)break;return a},trim:function(a){return null==a?"":(a+"").replace(Ea,"")},makeArray:function(a,
d){var b=d||[];return null!=a&&(t(Object(a))?p.merge(b,"string"==typeof a?[a]:a):ya.call(b,a)),b},inArray:function(a,d,b){var c;if(d){if(ja)return ja.call(d,a,b);c=d.length;for(b=b?0>b?Math.max(0,c+b):b:0;c>b;b++)if(b in d&&d[b]===a)return b}return-1},merge:function(a,d){for(var b=+d.length,c=0,e=a.length;b>c;)a[e++]=d[c++];if(b!==b)for(;void 0!==d[c];)a[e++]=d[c++];return a.length=e,a},grep:function(a,d,b){for(var c=[],e=0,f=a.length,g=!b;f>e;e++)b=!d(a[e],e),b!==g&&c.push(a[e]);return c},map:function(a,
d,b){var c,e=0,f=a.length,g=[];if(t(a))for(;f>e;e++)c=d(a[e],e,b),null!=c&&g.push(c);else for(e in a)c=d(a[e],e,b),null!=c&&g.push(c);return qa.apply([],g)},guid:1,proxy:function(a,d){var b,c,e;return"string"==typeof d&&(e=a[d],d=a,a=e),p.isFunction(a)?(b=ka.call(arguments,2),c=function(){return a.apply(d||this,b.concat(ka.call(arguments)))},c.guid=a.guid=a.guid||p.guid++,c):void 0},now:function(){return+new Date},support:P});p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,d){Ja["[object "+d+"]"]=d.toLowerCase()});var Ba=function(a){function d(a,d,b,c){var e,f,g,l,h;if((d?d.ownerDocument||d:W)!==I&&Q(d),d=d||I,b=b||[],!a||"string"!=typeof a)return b;if(1!==(l=d.nodeType)&&9!==l)return[];if(L&&!c){if(e=Ra.exec(a))if(g=e[1])if(9===l){if(f=d.getElementById(g),!f||!f.parentNode)return b;if(f.id===g)return b.push(f),b}else{if(d.ownerDocument&&(f=d.ownerDocument.getElementById(g))&&fa(d,f)&&f.id===g)return b.push(f),b}else{if(e[2])return ka.apply(b,d.getElementsByTagName(a)),
b;if((g=e[3])&&D.getElementsByClassName&&d.getElementsByClassName)return ka.apply(b,d.getElementsByClassName(g)),b}if(D.qsa&&(!N||!N.test(a))){if(f=e=T,g=d,h=9===l&&a,1===l&&"object"!==d.nodeName.toLowerCase()){l=G(a);(e=d.getAttribute("id"))?f=e.replace(Ia,"\\$&"):d.setAttribute("id",f);f="[id='"+f+"'] ";for(g=l.length;g--;)l[g]=f+m(l[g]);g=Ea.test(a)&&k(d.parentNode)||d;h=l.join(",")}if(h)try{return ka.apply(b,g.querySelectorAll(h)),b}catch(zf){}finally{e||d.removeAttribute("id")}}}return F(a.replace(ya,
"$1"),d,b,c)}function b(){function a(b,c){return d.push(b+" ")>B.cacheLength&&delete a[d.shift()],a[b+" "]=c}var d=[];return a}function c(a){return a[T]=!0,a}function e(a){var d=I.createElement("div");try{return!!a(d)}catch(rf){return!1}finally{d.parentNode&&d.parentNode.removeChild(d)}}function f(a,d){for(var b=a.split("|"),c=a.length;c--;)B.attrHandle[b[c]]=d}function g(a,d){var b=d&&a,c=b&&1===a.nodeType&&1===d.nodeType&&(~d.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(c)return c;
if(b)for(;b=b.nextSibling;)if(b===d)return-1;return a?1:-1}function l(a){return function(d){return"input"===d.nodeName.toLowerCase()&&d.type===a}}function h(a){return function(d){var b=d.nodeName.toLowerCase();return("input"===b||"button"===b)&&d.type===a}}function q(a){return c(function(d){return d=+d,c(function(b,c){for(var e,f=a([],b.length,d),g=f.length;g--;)b[e=f[g]]&&(b[e]=!(c[e]=b[e]))})})}function k(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function r(){}function m(a){for(var d=
0,b=a.length,c="";b>d;d++)c+=a[d].value;return c}function w(a,d,b){var c=d.dir,e=b&&"parentNode"===c,f=aa++;return d.first?function(d,b,f){for(;d=d[c];)if(1===d.nodeType||e)return a(d,b,f)}:function(d,b,g){var l,h,q=[pa,f];if(g)for(;d=d[c];){if((1===d.nodeType||e)&&a(d,b,g))return!0}else for(;d=d[c];)if(1===d.nodeType||e){if(h=d[T]||(d[T]={}),(l=h[c])&&l[0]===pa&&l[1]===f)return q[2]=l[2];if(h[c]=q,q[2]=a(d,b,g))return!0}}}function z(a){return 1<a.length?function(d,b,c){for(var e=a.length;e--;)if(!a[e](d,
b,c))return!1;return!0}:a[0]}function u(a,d,b,c,e){for(var f,g=[],l=0,h=a.length,q=null!=d;h>l;l++)(f=a[l])&&(!b||b(f,c,e))&&(g.push(f),q&&d.push(l));return g}function ra(a,b,e,f,g,l){return f&&!f[T]&&(f=ra(f)),g&&!g[T]&&(g=ra(g,l)),c(function(c,l,h,q){var k,m,r=[],w=[],z=l.length,ra;if(!(ra=c)){ra=b||"*";for(var v=h.nodeType?[h]:h,p=[],D=0,A=v.length;A>D;D++)d(ra,v[D],p);ra=p}ra=!a||!c&&b?ra:u(ra,r,a,h,q);v=e?g||(c?a:z||f)?[]:l:ra;if(e&&e(ra,v,h,q),f)for(k=u(v,w),f(k,[],h,q),h=k.length;h--;)(m=k[h])&&
(v[w[h]]=!(ra[w[h]]=m));if(c){if(g||a){if(g){k=[];for(h=v.length;h--;)(m=v[h])&&k.push(ra[h]=m);g(null,v=[],k,q)}for(h=v.length;h--;)(m=v[h])&&-1<(k=g?ja.call(c,m):r[h])&&(c[k]=!(l[k]=m))}}else v=u(v===l?v.splice(z,v.length):v),g?g(null,l,v,q):ka.apply(l,v)})}function v(a){var d,b,c,e=a.length,f=B.relative[a[0].type];b=f||B.relative[" "];for(var g=f?1:0,l=w(function(a){return a===d},b,!0),h=w(function(a){return-1<ja.call(d,a)},b,!0),q=[function(a,b,c){return!f&&(c||b!==O)||((d=b).nodeType?l(a,b,c):
h(a,b,c))}];e>g;g++)if(b=B.relative[a[g].type])q=[w(z(q),b)];else{if(b=B.filter[a[g].type].apply(null,a[g].matches),b[T]){for(c=++g;e>c&&!B.relative[a[c].type];c++);return ra(1<g&&z(q),1<g&&m(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(ya,"$1"),b,c>g&&v(a.slice(g,c)),e>c&&v(a=a.slice(c)),e>c&&m(a))}q.push(b)}return z(q)}function p(a,b){var e=0<b.length,f=0<a.length,g=function(c,g,l,h,q){var k,m,r,w=0,z="0",ra=c&&[],v=[],p=O,D=c||f&&B.find.TAG("*",q),A=pa+=null==p?1:Math.random()||
.1,Db=D.length;for(q&&(O=g!==I&&g);z!==Db&&null!=(k=D[z]);z++){if(f&&k){for(m=0;r=a[m++];)if(r(k,g,l)){h.push(k);break}q&&(pa=A)}e&&((k=!r&&k)&&w--,c&&ra.push(k))}if(w+=z,e&&z!==w){for(m=0;r=b[m++];)r(ra,v,g,l);if(c){if(0<w)for(;z--;)ra[z]||v[z]||(v[z]=P.call(h));v=u(v)}ka.apply(h,v);q&&!c&&0<v.length&&1<w+b.length&&d.uniqueSort(h)}return q&&(pa=A,O=p),ra};return e?c(g):g}var A,D,B,C,n,G,E,F,O,t,M,Q,I,J,L,N,ga,ea,fa,T="sizzle"+-new Date,W=a.document,pa=0,aa=0,na=b(),X=b(),ua=b(),K=function(a,d){return a===
d&&(M=!0),0},Tb={}.hasOwnProperty,ma=[],P=ma.pop,qa=ma.push,ka=ma.push,V=ma.slice,ja=ma.indexOf||function(a){for(var d=0,b=this.length;b>d;d++)if(this[d]===a)return d;return-1},ba="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ca="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ba+"))|)[\\x20\\t\\r\\n\\f]*\\]",ha=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
ca+")*)|.*)\\)|)",ya=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),la=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Oc=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Ja=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Ba=new RegExp(ha),mc=new RegExp("^"+ba+"$"),za={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ca),
PSEUDO:new RegExp("^"+ha),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Ka=/^(?:input|select|textarea|button)$/i,
Fa=/^h\d$/i,Aa=/^[^{]+\{\s*\[native \w/,Ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ea=/[+~]/,Ia=/'|\\/g,xa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Ga=function(a,d,b){a="0x"+d-65536;return a!==a||b?d:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{ka.apply(ma=V.call(W.childNodes),W.childNodes),ma[W.childNodes.length].nodeType}catch(je){ka={apply:ma.length?function(a,d){qa.apply(a,V.call(d))}:function(a,d){for(var b=a.length,c=0;a[b++]=
d[c++];);a.length=b-1}}}D=d.support={};n=d.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};Q=d.setDocument=function(a){var d,b=a?a.ownerDocument||a:W;a=b.defaultView;return b!==I&&9===b.nodeType&&b.documentElement?(I=b,J=b.documentElement,L=!n(b),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){Q()},!1):a.attachEvent&&a.attachEvent("onunload",function(){Q()})),D.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),
D.getElementsByTagName=e(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),D.getElementsByClassName=Aa.test(b.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),D.getById=e(function(a){return J.appendChild(a).id=T,!b.getElementsByName||!b.getElementsByName(T).length}),D.getById?(B.find.ID=function(a,d){if("undefined"!==typeof d.getElementById&&
L){var b=d.getElementById(a);return b&&b.parentNode?[b]:[]}},B.filter.ID=function(a){var d=a.replace(xa,Ga);return function(a){return a.getAttribute("id")===d}}):(delete B.find.ID,B.filter.ID=function(a){var d=a.replace(xa,Ga);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===d}}),B.find.TAG=D.getElementsByTagName?function(a,d){return"undefined"!==typeof d.getElementsByTagName?d.getElementsByTagName(a):void 0}:function(a,d){var b,c=[],e=0,f=
d.getElementsByTagName(a);if("*"===a){for(;b=f[e++];)1===b.nodeType&&c.push(b);return c}return f},B.find.CLASS=D.getElementsByClassName&&function(a,d){return"undefined"!==typeof d.getElementsByClassName&&L?d.getElementsByClassName(a):void 0},ga=[],N=[],(D.qsa=Aa.test(b.querySelectorAll))&&(e(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&N.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||
N.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||N.push(":checked")}),e(function(a){var d=b.createElement("input");d.setAttribute("type","hidden");a.appendChild(d).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&N.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||N.push(":enabled",":disabled");a.querySelectorAll("*,:x");
N.push(",.*:")})),(D.matchesSelector=Aa.test(ea=J.matches||J.webkitMatchesSelector||J.mozMatchesSelector||J.oMatchesSelector||J.msMatchesSelector))&&e(function(a){D.disconnectedMatch=ea.call(a,"div");ea.call(a,"[s!='']:x");ga.push("!=",ha)}),N=N.length&&new RegExp(N.join("|")),ga=ga.length&&new RegExp(ga.join("|")),d=Aa.test(J.compareDocumentPosition),fa=d||Aa.test(J.contains)?function(a,d){var b=9===a.nodeType?a.documentElement:a,c=d&&d.parentNode;return a===c||!(!c||1!==c.nodeType||!(b.contains?
b.contains(c):a.compareDocumentPosition&&16&a.compareDocumentPosition(c)))}:function(a,d){if(d)for(;d=d.parentNode;)if(d===a)return!0;return!1},K=d?function(a,d){if(a===d)return M=!0,0;var c=!a.compareDocumentPosition-!d.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(d.ownerDocument||d)?a.compareDocumentPosition(d):1,1&c||!D.sortDetached&&d.compareDocumentPosition(a)===c?a===b||a.ownerDocument===W&&fa(W,a)?-1:d===b||d.ownerDocument===W&&fa(W,d)?1:t?ja.call(t,a)-ja.call(t,d):0:4&c?-1:
1)}:function(a,d){if(a===d)return M=!0,0;var c,e=0;c=a.parentNode;var f=d.parentNode,l=[a],h=[d];if(!c||!f)return a===b?-1:d===b?1:c?-1:f?1:t?ja.call(t,a)-ja.call(t,d):0;if(c===f)return g(a,d);for(c=a;c=c.parentNode;)l.unshift(c);for(c=d;c=c.parentNode;)h.unshift(c);for(;l[e]===h[e];)e++;return e?g(l[e],h[e]):l[e]===W?-1:h[e]===W?1:0},b):I};d.matches=function(a,b){return d(a,null,null,b)};d.matchesSelector=function(a,b){if((a.ownerDocument||a)!==I&&Q(a),b=b.replace(Ja,"='$1']"),!(!D.matchesSelector||
!L||ga&&ga.test(b)||N&&N.test(b)))try{var c=ea.call(a,b);if(c||D.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(sf){}return 0<d(b,I,null,[a]).length};d.contains=function(a,d){return(a.ownerDocument||a)!==I&&Q(a),fa(a,d)};d.attr=function(a,d){(a.ownerDocument||a)!==I&&Q(a);var b=B.attrHandle[d.toLowerCase()],b=b&&Tb.call(B.attrHandle,d.toLowerCase())?b(a,d,!L):void 0;return void 0!==b?b:D.attributes||!L?a.getAttribute(d):(b=a.getAttributeNode(d))&&b.specified?b.value:null};
d.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};d.uniqueSort=function(a){var d,b=[],c=0,e=0;if(M=!D.detectDuplicates,t=!D.sortStable&&a.slice(0),a.sort(K),M){for(;d=a[e++];)d===a[e]&&(c=b.push(e));for(;c--;)a.splice(b[c],1)}return t=null,a};C=d.getText=function(a){var d,b="",c=0;if(d=a.nodeType)if(1===d||9===d||11===d){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=C(a)}else{if(3===d||4===d)return a.nodeValue}else for(;d=
a[c++];)b+=C(d);return b};B=d.selectors={cacheLength:50,createPseudo:c,match:za,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xa,Ga),a[3]=(a[3]||a[4]||a[5]||"").replace(xa,Ga),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||d.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||
1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&d.error(a[0]),a},PSEUDO:function(a){var d,b=!a[6]&&a[2];return za.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":b&&Ba.test(b)&&(d=G(b,!0))&&(d=b.indexOf(")",b.length-d)-b.length)&&(a[0]=a[0].slice(0,d),a[2]=b.slice(0,d)),a.slice(0,3))}},filter:{TAG:function(a){var d=a.replace(xa,Ga).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===d}},CLASS:function(a){var d=na[a+
" "];return d||(d=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),na(a,function(a){return d.test("string"==typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,b,c){return function(e){e=d.attr(e,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&-1<e.indexOf(c):"$="===b?c&&e.slice(-c.length)===c:"~="===b?-1<(" "+e+" ").indexOf(c):"|="===b?e===c||e.slice(0,c.length+
1)===c+"-":!1):!0}},CHILD:function(a,d,b,c,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),l="of-type"===d;return 1===c&&0===e?function(a){return!!a.parentNode}:function(d,b,h){var q,k,m,r,w;b=f!==g?"nextSibling":"previousSibling";var z=d.parentNode,ra=l&&d.nodeName.toLowerCase();h=!h&&!l;if(z){if(f){for(;b;){for(k=d;k=k[b];)if(l?k.nodeName.toLowerCase()===ra:1===k.nodeType)return!1;w=b="only"===a&&!w&&"nextSibling"}return!0}if(w=[g?z.firstChild:z.lastChild],g&&h)for(h=z[T]||(z[T]={}),q=h[a]||
[],r=q[0]===pa&&q[1],m=q[0]===pa&&q[2],k=r&&z.childNodes[r];k=++r&&k&&k[b]||(m=r=0)||w.pop();){if(1===k.nodeType&&++m&&k===d){h[a]=[pa,r,m];break}}else if(h&&(q=(d[T]||(d[T]={}))[a])&&q[0]===pa)m=q[1];else for(;(k=++r&&k&&k[b]||(m=r=0)||w.pop())&&((l?k.nodeName.toLowerCase()!==ra:1!==k.nodeType)||!++m||(h&&((k[T]||(k[T]={}))[a]=[pa,m]),k!==d)););return m-=e,m===c||0===m%c&&0<=m/c}}},PSEUDO:function(a,b){var e,f=B.pseudos[a]||B.setFilters[a.toLowerCase()]||d.error("unsupported pseudo: "+a);return f[T]?
f(b):1<f.length?(e=[a,a,"",b],B.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,d){for(var c,e=f(a,b),g=e.length;g--;)c=ja.call(a,e[g]),a[c]=!(d[c]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:c(function(a){var d=[],b=[],e=E(a.replace(ya,"$1"));return e[T]?c(function(a,d,b,c){var f;b=e(a,null,c,[]);for(c=a.length;c--;)(f=b[c])&&(a[c]=!(d[c]=f))}):function(a,c,f){return d[0]=a,e(d,null,f,b),!b.pop()}}),has:c(function(a){return function(b){return 0<d(a,b).length}}),contains:c(function(a){return function(d){return-1<
(d.textContent||d.innerText||C(d)).indexOf(a)}}),lang:c(function(a){return mc.test(a||"")||d.error("unsupported lang: "+a),a=a.replace(xa,Ga).toLowerCase(),function(d){var b;do if(b=L?d.lang:d.getAttribute("xml:lang")||d.getAttribute("lang"))return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-");while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(d){var b=a.location&&a.location.hash;return b&&b.slice(1)===d.id},root:function(a){return a===J},focus:function(a){return a===I.activeElement&&
(!I.hasFocus||I.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&!!a.checked||"option"===d&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!B.pseudos.empty(a)},header:function(a){return Fa.test(a.nodeName)},
input:function(a){return Ka.test(a.nodeName)},button:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&"button"===a.type||"button"===d},text:function(a){var d;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(d=a.getAttribute("type"))||"text"===d.toLowerCase())},first:q(function(){return[0]}),last:q(function(a,d){return[d-1]}),eq:q(function(a,d,b){return[0>b?b+d:b]}),even:q(function(a,d){for(var b=0;d>b;b+=2)a.push(b);return a}),odd:q(function(a,d){for(var b=1;d>b;b+=
2)a.push(b);return a}),lt:q(function(a,d,b){for(d=0>b?b+d:b;0<=--d;)a.push(d);return a}),gt:q(function(a,d,b){for(b=0>b?b+d:b;++b<d;)a.push(b);return a})}};B.pseudos.nth=B.pseudos.eq;for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})B.pseudos[A]=l(A);for(A in{submit:!0,reset:!0})B.pseudos[A]=h(A);r.prototype=B.filters=B.pseudos;B.setFilters=new r;G=d.tokenize=function(a,b){var c,e,f,g,l,h,q;if(l=X[a+" "])return b?0:l.slice(0);l=a;h=[];for(q=B.preFilter;l;){c&&!(e=la.exec(l))||(e&&(l=l.slice(e[0].length)||
l),h.push(f=[]));c=!1;(e=Oc.exec(l))&&(c=e.shift(),f.push({value:c,type:e[0].replace(ya," ")}),l=l.slice(c.length));for(g in B.filter)!(e=za[g].exec(l))||q[g]&&!(e=q[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),l=l.slice(c.length));if(!c)break}return b?l.length:l?d.error(a):X(a,h).slice(0)};return E=d.compile=function(a,d){var b,c=[],e=[],f=ua[a+" "];if(!f){d||(d=G(a));for(b=d.length;b--;)f=v(d[b]),f[T]?c.push(f):e.push(f);f=ua(a,p(e,c));f.selector=a}return f},F=d.select=function(a,d,b,
c){var e,f,g,l,h,q="function"==typeof a&&a,r=!c&&G(a=q.selector||a);if(b=b||[],1===r.length){if(f=r[0]=r[0].slice(0),2<f.length&&"ID"===(g=f[0]).type&&D.getById&&9===d.nodeType&&L&&B.relative[f[1].type]){if(d=(B.find.ID(g.matches[0].replace(xa,Ga),d)||[])[0],!d)return b;q&&(d=d.parentNode);a=a.slice(f.shift().value.length)}for(e=za.needsContext.test(a)?0:f.length;e--&&(g=f[e],!B.relative[l=g.type]);)if((h=B.find[l])&&(c=h(g.matches[0].replace(xa,Ga),Ea.test(f[0].type)&&k(d.parentNode)||d))){if(f.splice(e,
1),a=c.length&&m(f),!a)return ka.apply(b,c),b;break}}return(q||E(a,r))(c,d,!L,b,Ea.test(a)&&k(d.parentNode)||d),b},D.sortStable=T.split("").sort(K).join("")===T,D.detectDuplicates=!!M,Q(),D.sortDetached=e(function(a){return 1&a.compareDocumentPosition(I.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,d,b){return b?void 0:a.getAttribute(d,"type"===d.toLowerCase()?1:2)}),D.attributes&&e(function(a){return a.innerHTML=
"<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,d,b){return b||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,d,b){var c;return b?void 0:!0===a[d]?d.toLowerCase():(c=a.getAttributeNode(d))&&c.specified?c.value:null}),d}(b);p.find=
Ba;p.expr=Ba.selectors;p.expr[":"]=p.expr.pseudos;p.unique=Ba.uniqueSort;p.text=Ba.getText;p.isXMLDoc=Ba.isXML;p.contains=Ba.contains;var tb=p.expr.match.needsContext,Sa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fb=/^.[^:#\[\.,]*$/;p.filter=function(a,d,b){var c=d[0];return b&&(a=":not("+a+")"),1===d.length&&1===c.nodeType?p.find.matchesSelector(c,a)?[c]:[]:p.find.matches(a,p.grep(d,function(a){return 1===a.nodeType}))};p.fn.extend({find:function(a){var d,b=[],c=this,e=c.length;if("string"!=typeof a)return this.pushStack(p(a).filter(function(){for(d=
0;e>d;d++)if(p.contains(c[d],this))return!0}));for(d=0;e>d;d++)p.find(a,c[d],b);return b=this.pushStack(1<e?p.unique(b):b),b.selector=this.selector?this.selector+" "+a:a,b},filter:function(d){return this.pushStack(a(this,d||[],!1))},not:function(d){return this.pushStack(a(this,d||[],!0))},is:function(d){return!!a(this,"string"==typeof d&&tb.test(d)?p(d):d||[],!1).length}});var ba,K=b.document,ca=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(a,d){var b,c;if(!a)return this;if("string"==
typeof a){if(b="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:ca.exec(a),!b||!b[1]&&d)return!d||d.jquery?(d||ba).find(a):this.constructor(d).find(a);if(b[1]){if(d=d instanceof p?d[0]:d,p.merge(this,p.parseHTML(b[1],d&&d.nodeType?d.ownerDocument||d:K,!0)),Sa.test(b[1])&&p.isPlainObject(d))for(b in d)p.isFunction(this[b])?this[b](d[b]):this.attr(b,d[b]);return this}if(c=K.getElementById(b[2]),c&&c.parentNode){if(c.id!==b[2])return ba.find(a);this.length=1;this[0]=c}return this.context=
K,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):p.isFunction(a)?"undefined"!=typeof ba.ready?ba.ready(a):a(p):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))}).prototype=p.fn;ba=p(K);var la=/^(?:parents|prev(?:Until|All))/,V={children:!0,contents:!0,next:!0,prev:!0};p.extend({dir:function(a,d,b){var c=[];for(a=a[d];a&&9!==a.nodeType&&(void 0===b||1!==a.nodeType||!p(a).is(b));)1===a.nodeType&&c.push(a),a=a[d];return c},
sibling:function(a,d){for(var b=[];a;a=a.nextSibling)1===a.nodeType&&a!==d&&b.push(a);return b}});p.fn.extend({has:function(a){var d,b=p(a,this),c=b.length;return this.filter(function(){for(d=0;c>d;d++)if(p.contains(this,b[d]))return!0})},closest:function(a,d){for(var b,c=0,e=this.length,f=[],g=tb.test(a)||"string"!=typeof a?p(a,d||this.context):0;e>c;c++)for(b=this[c];b&&b!==d;b=b.parentNode)if(11>b.nodeType&&(g?-1<g.index(b):1===b.nodeType&&p.find.matchesSelector(b,a))){f.push(b);break}return this.pushStack(1<
f.length?p.unique(f):f)},index:function(a){return a?"string"==typeof a?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,d){return this.pushStack(p.unique(p.merge(this.get(),p(a,d))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});p.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,
d,b){return p.dir(a,"parentNode",b)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,d,b){return p.dir(a,"nextSibling",b)},prevUntil:function(a,d,b){return p.dir(a,"previousSibling",b)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,d){p.fn[a]=function(b,c){var e=p.map(this,d,b);return"Until"!==a.slice(-5)&&(c=b),c&&"string"==typeof c&&(e=p.filter(c,e)),1<this.length&&(V[a]||(e=p.unique(e)),la.test(a)&&(e=e.reverse())),this.pushStack(e)}});var Ma=/\S+/g,xa={};p.Callbacks=function(a){a="string"==typeof a?xa[a]||e(a):p.extend({},a);var d,b,c,f,g,l,h=[],q=!a.once&&[],k=function(e){b=a.memory&&e;c=!0;g=l||0;l=0;f=h.length;for(d=!0;h&&f>g;g++)if(!1===
h[g].apply(e[0],e[1])&&a.stopOnFalse){b=!1;break}d=!1;h&&(q?q.length&&k(q.shift()):b?h=[]:m.disable())},m={add:function(){if(h){var c=h.length;!function Jc(d){p.each(d,function(d,b){var c=p.type(b);"function"===c?a.unique&&m.has(b)||h.push(b):b&&b.length&&"string"!==c&&Jc(b)})}(arguments);d?f=h.length:b&&(l=c,k(b))}return this},remove:function(){return h&&p.each(arguments,function(a,b){for(var c;-1<(c=p.inArray(b,h,c));)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?-1<p.inArray(a,
h):!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=q=b=void 0,this},disabled:function(){return!h},lock:function(){return q=void 0,b||m.disable(),this},locked:function(){return!q},fireWith:function(a,b){return!h||c&&!q||(b=b||[],b=[a,b.slice?b.slice():b],d?q.push(b):k(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!c}};return m};p.extend({Deferred:function(a){var d=[["resolve","done",p.Callbacks("once memory"),"resolved"],
["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],b="pending",c={state:function(){return b},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(b){p.each(d,function(d,f){var g=p.isFunction(a[d])&&a[d];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[f[0]+"With"](this===c?b.promise():
this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?p.extend(a,c):c}},e={};return c.pipe=c.then,p.each(d,function(a,f){var g=f[2],l=f[3];c[f[1]]=g.add;l&&g.add(function(){b=l},d[1^a][2].disable,d[2][2].lock);e[f[0]]=function(){return e[f[0]+"With"](this===e?c:this,arguments),this};e[f[0]+"With"]=g.fireWith}),c.promise(e),a&&a.call(e,e),e},when:function(a){var d=0,b=ka.call(arguments),c=b.length,e=1!==c||a&&p.isFunction(a.promise)?c:0,f=1===e?a:p.Deferred(),g=function(a,
d,b){return function(c){d[a]=this;b[a]=1<arguments.length?ka.call(arguments):c;b===l?f.notifyWith(d,b):--e||f.resolveWith(d,b)}},l,h,q;if(1<c)for(l=Array(c),h=Array(c),q=Array(c);c>d;d++)b[d]&&p.isFunction(b[d].promise)?b[d].promise().done(g(d,q,b)).fail(f.reject).progress(g(d,h,l)):--e;return e||f.resolveWith(q,b),f.promise()}});var jb;p.fn.ready=function(a){return p.ready.promise().done(a),this};p.extend({isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(!0===
a?!--p.readyWait:!p.isReady){if(!K.body)return setTimeout(p.ready);p.isReady=!0;!0!==a&&0<--p.readyWait||(jb.resolveWith(K,[p]),p.fn.triggerHandler&&(p(K).triggerHandler("ready"),p(K).off("ready")))}}});p.ready.promise=function(a){if(!jb)if(jb=p.Deferred(),"complete"===K.readyState)setTimeout(p.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",c,!1),b.addEventListener("load",c,!1);else{K.attachEvent("onreadystatechange",c);b.attachEvent("onload",c);var d=!1;try{d=null==b.frameElement&&
K.documentElement}catch(ad){}d&&d.doScroll&&!function gc(){if(!p.isReady){try{d.doScroll("left")}catch(bd){return setTimeout(gc,50)}f();p.ready()}}()}return jb.promise(a)};for(var $a in p(P))break;P.ownLast="0"!==$a;P.inlineBlockNeedsLayout=!1;p(function(){var a,d,b,c;(b=K.getElementsByTagName("body")[0])&&b.style&&(d=K.createElement("div"),c=K.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(d),"undefined"!==typeof d.style.zoom&&
(d.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",P.inlineBlockNeedsLayout=a=3===d.offsetWidth,a&&(b.style.zoom=1)),b.removeChild(c))});(function(){var a=K.createElement("div");if(null==P.deleteExpando){P.deleteExpando=!0;try{delete a.test}catch(Db){P.deleteExpando=!1}}})();p.acceptData=function(a){var d=p.noData[(a.nodeName+" ").toLowerCase()],b=+a.nodeType||1;return 1!==b&&9!==b?!1:!d||!0!==d&&a.getAttribute("classid")===d};var Na=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ha=
/([A-Z])/g;p.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!k(a)},data:function(a,d,b){return m(a,d,b)},removeData:function(a,b){return d(a,b)},_data:function(a,d,b){return m(a,d,b,!0)},_removeData:function(a,b){return d(a,b,!0)}});p.fn.extend({data:function(a,d){var b,c,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=p.data(f),1===f.nodeType&&
!p._data(f,"parsedAttrs"))){for(b=g.length;b--;)g[b]&&(c=g[b].name,0===c.indexOf("data-")&&(c=p.camelCase(c.slice(5)),h(f,c,e[c])));p._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){p.data(this,a)}):1<arguments.length?this.each(function(){p.data(this,a,d)}):f?h(f,a,p.data(f,a)):void 0},removeData:function(a){return this.each(function(){p.removeData(this,a)})}});p.extend({queue:function(a,d,b){var c;return a?(d=(d||"fx")+"queue",c=p._data(a,d),b&&(!c||p.isArray(b)?
c=p._data(a,d,p.makeArray(b)):c.push(b)),c||[]):void 0},dequeue:function(a,d){d=d||"fx";var b=p.queue(a,d),c=b.length,e=b.shift(),f=p._queueHooks(a,d),g=function(){p.dequeue(a,d)};"inprogress"===e&&(e=b.shift(),c--);e&&("fx"===d&&b.unshift("inprogress"),delete f.stop,e.call(a,g,f));!c&&f&&f.empty.fire()},_queueHooks:function(a,d){var b=d+"queueHooks";return p._data(a,b)||p._data(a,b,{empty:p.Callbacks("once memory").add(function(){p._removeData(a,d+"queue");p._removeData(a,b)})})}});p.fn.extend({queue:function(a,
d){var b=2;return"string"!=typeof a&&(d=a,a="fx",b--),arguments.length<b?p.queue(this[0],a):void 0===d?this:this.each(function(){var b=p.queue(this,a,d);p._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,d){var b,c=1,e=p.Deferred(),f=this,g=this.length,l=function(){--c||e.resolveWith(f,[f])};"string"!=typeof a&&(d=a,a=void 0);for(a=a||
"fx";g--;)(b=p._data(f[g],a+"queueHooks"))&&b.empty&&(c++,b.empty.add(l));return l(),e.promise(d)}});var Pa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oa=["Top","Right","Bottom","Left"],hb=function(a,d){return a=d||a,"none"===p.css(a,"display")||!p.contains(a.ownerDocument,a)},Ia=p.access=function(a,d,b,c,e,f,g){var l=0,h=a.length,q=null==b;if("object"===p.type(b))for(l in e=!0,b)p.access(a,d,l,b[l],!0,f,g);else if(void 0!==c&&(e=!0,p.isFunction(c)||(g=!0),q&&(g?(d.call(a,c),d=null):(q=d,d=function(a,
d,b){return q.call(p(a),b)})),d))for(;h>l;l++)d(a[l],b,g?c:c.call(a[l],l,d(a[l],b)));return e?a:q?d.call(a):h?d(a[0],b):f},Eb=/^(?:checkbox|radio)$/i;!function(){var a=K.createElement("input"),d=K.createElement("div"),b=K.createDocumentFragment();if(d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",P.leadingWhitespace=3===d.firstChild.nodeType,P.tbody=!d.getElementsByTagName("tbody").length,P.htmlSerialize=!!d.getElementsByTagName("link").length,P.html5Clone="<:nav></:nav>"!==
K.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,b.appendChild(a),P.appendChecked=a.checked,d.innerHTML="<textarea>x</textarea>",P.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,b.appendChild(d),d.innerHTML="<input type='radio' checked='checked' name='t'/>",P.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,P.noCloneEvent=!0,d.attachEvent&&(d.attachEvent("onclick",function(){P.noCloneEvent=!1}),d.cloneNode(!0).click()),null==P.deleteExpando){P.deleteExpando=
!0;try{delete d.test}catch(gc){P.deleteExpando=!1}}}();(function(){var a,d,c=K.createElement("div");for(a in{submit:!0,change:!0,focusin:!0})d="on"+a,(P[a+"Bubbles"]=d in b)||(c.setAttribute(d,"t"),P[a+"Bubbles"]=!1===c.attributes[d].expando)})();var Gb=/^(?:input|select|textarea)$/i,Tb=/^key/,Oc=/^(?:mouse|pointer|contextmenu)|click/,mc=/^(?:focusinfocus|focusoutblur)$/,Ga=/^([^.]*)(?:\.(.+)|)$/;p.event={global:{},add:function(a,d,b,c,e){var f,g,l,h,q,k,m,r,w,z;if(l=p._data(a)){b.handler&&(h=b,b=
h.handler,e=h.selector);b.guid||(b.guid=p.guid++);(g=l.events)||(g=l.events={});(k=l.handle)||(k=l.handle=function(a){return"undefined"===typeof p||a&&p.event.triggered===a.type?void 0:p.event.dispatch.apply(k.elem,arguments)},k.elem=a);d=(d||"").match(Ma)||[""];for(l=d.length;l--;)f=Ga.exec(d[l])||[],w=z=f[1],f=(f[2]||"").split(".").sort(),w&&(q=p.event.special[w]||{},w=(e?q.delegateType:q.bindType)||w,q=p.event.special[w]||{},m=p.extend({type:w,origType:z,data:c,handler:b,guid:b.guid,selector:e,
needsContext:e&&p.expr.match.needsContext.test(e),namespace:f.join(".")},h),(r=g[w])||(r=g[w]=[],r.delegateCount=0,q.setup&&!1!==q.setup.call(a,c,f,k)||(a.addEventListener?a.addEventListener(w,k,!1):a.attachEvent&&a.attachEvent("on"+w,k))),q.add&&(q.add.call(a,m),m.handler.guid||(m.handler.guid=b.guid)),e?r.splice(r.delegateCount++,0,m):r.push(m),p.event.global[w]=!0);a=null}},remove:function(a,d,b,c,e){var f,g,l,h,q,k,m,r,w,z,u,v=p.hasData(a)&&p._data(a);if(v&&(k=v.events)){d=(d||"").match(Ma)||
[""];for(q=d.length;q--;)if(l=Ga.exec(d[q])||[],w=u=l[1],z=(l[2]||"").split(".").sort(),w){m=p.event.special[w]||{};w=(c?m.delegateType:m.bindType)||w;r=k[w]||[];l=l[2]&&new RegExp("(^|\\.)"+z.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=f=r.length;f--;)g=r[f],!e&&u!==g.origType||b&&b.guid!==g.guid||l&&!l.test(g.namespace)||c&&c!==g.selector&&("**"!==c||!g.selector)||(r.splice(f,1),g.selector&&r.delegateCount--,m.remove&&m.remove.call(a,g));h&&!r.length&&(m.teardown&&!1!==m.teardown.call(a,z,v.handle)||
p.removeEvent(a,w,v.handle),delete k[w])}else for(w in k)p.event.remove(a,w+d[q],b,c,!0);p.isEmptyObject(k)&&(delete v.handle,p._removeData(a,"events"))}},trigger:function(a,d,c,e){var f,g,l,h,q,k,m=[c||K],r=Ra.call(a,"type")?a.type:a;k=Ra.call(a,"namespace")?a.namespace.split("."):[];if(l=f=c=c||K,3!==c.nodeType&&8!==c.nodeType&&!mc.test(r+p.event.triggered)&&(0<=r.indexOf(".")&&(k=r.split("."),r=k.shift(),k.sort()),g=0>r.indexOf(":")&&"on"+r,a=a[p.expando]?a:new p.Event(r,"object"==typeof a&&a),
a.isTrigger=e?2:3,a.namespace=k.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=c),d=null==d?[a]:p.makeArray(d,[a]),q=p.event.special[r]||{},e||!q.trigger||!1!==q.trigger.apply(c,d))){if(!e&&!q.noBubble&&!p.isWindow(c)){h=q.delegateType||r;for(mc.test(h+r)||(l=l.parentNode);l;l=l.parentNode)m.push(l),f=l;f===(c.ownerDocument||K)&&m.push(f.defaultView||f.parentWindow||b)}for(k=0;(l=m[k++])&&!a.isPropagationStopped();)a.type=
1<k?h:q.bindType||r,(f=(p._data(l,"events")||{})[a.type]&&p._data(l,"handle"))&&f.apply(l,d),(f=g&&l[g])&&f.apply&&p.acceptData(l)&&(a.result=f.apply(l,d),!1===a.result&&a.preventDefault());if(a.type=r,!(e||a.isDefaultPrevented()||q._default&&!1!==q._default.apply(m.pop(),d))&&p.acceptData(c)&&g&&c[r]&&!p.isWindow(c)){(f=c[g])&&(c[g]=null);p.event.triggered=r;try{c[r]()}catch(fd){}p.event.triggered=void 0;f&&(c[g]=f)}return a.result}},dispatch:function(a){a=p.event.fix(a);var d,b,c,e,f,g,l=ka.call(arguments);
d=(p._data(this,"events")||{})[a.type]||[];var h=p.event.special[a.type]||{};if(l[0]=a,a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){g=p.event.handlers.call(this,a,d);for(d=0;(e=g[d++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(c=e.handlers[f++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(c.namespace)||(a.handleObj=c,a.data=c.data,b=((p.event.special[c.origType]||{}).handle||c.handler).apply(e.elem,l),void 0===b||!1!==(a.result=
b)||(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(a,d){var b,c,e,f,g=[],l=d.delegateCount,h=a.target;if(l&&h.nodeType&&(!a.button||"click"!==a.type))for(;h!=this;h=h.parentNode||this)if(1===h.nodeType&&(!0!==h.disabled||"click"!==a.type)){e=[];for(f=0;l>f;f++)c=d[f],b=c.selector+" ",void 0===e[b]&&(e[b]=c.needsContext?0<=p(b,this).index(h):p.find(b,this,null,[h]).length),e[b]&&e.push(c);e.length&&g.push({elem:h,handlers:e})}return l<
d.length&&g.push({elem:this,handlers:d.slice(l)}),g},fix:function(a){if(a[p.expando])return a;var d,b,c;d=a.type;var e=a,f=this.fixHooks[d];f||(this.fixHooks[d]=f=Oc.test(d)?this.mouseHooks:Tb.test(d)?this.keyHooks:{});c=f.props?this.props.concat(f.props):this.props;a=new p.Event(e);for(d=c.length;d--;)b=c[d],a[b]=e[b];return a.target||(a.target=e.srcElement||K),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,e):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,d){return null==a.which&&(a.which=null!=d.charCode?d.charCode:d.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var b,c,e,f=d.button,g=d.fromElement;return null==a.pageX&&null!=d.clientX&&(c=a.target.ownerDocument||K,e=c.documentElement,b=c.body,a.pageX=d.clientX+(e&&e.scrollLeft||b&&b.scrollLeft||0)-(e&&
e.clientLeft||b&&b.clientLeft||0),a.pageY=d.clientY+(e&&e.scrollTop||b&&b.scrollTop||0)-(e&&e.clientTop||b&&b.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?d.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(ra){}},delegateType:"focusin"},blur:{trigger:function(){return this===w()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return p.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return p.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,d,b,c){a=p.extend(new p.Event,b,{type:a,isSimulated:!0,originalEvent:{}});c?p.event.trigger(a,null,d):p.event.dispatch.call(d,a);a.isDefaultPrevented()&&b.preventDefault()}};p.removeEvent=K.removeEventListener?function(a,d,b){a.removeEventListener&&
a.removeEventListener(d,b,!1)}:function(a,d,b){d="on"+d;a.detachEvent&&("undefined"===typeof a[d]&&(a[d]=null),a.detachEvent(d,b))};p.Event=function(a,d){return this instanceof p.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?l:q):this.type=a,d&&p.extend(this,d),this.timeStamp=a&&a.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(a,d)};p.Event.prototype={isDefaultPrevented:q,isPropagationStopped:q,
isImmediatePropagationStopped:q,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=l;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=l;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=l;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};p.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,d){p.event.special[a]={delegateType:d,bindType:d,handle:function(a){var b,c=a.relatedTarget,e=a.handleObj;return(!c||c!==this&&!p.contains(this,c))&&(a.type=e.origType,b=e.handler.apply(this,arguments),a.type=d),b}}});P.submitBubbles||(p.event.special.submit={setup:function(){return p.nodeName(this,"form")?!1:void p.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=p.nodeName(a,"input")||
p.nodeName(a,"button")?a.form:void 0)&&!p._data(a,"submitBubbles")&&(p.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),p._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return p.nodeName(this,"form")?!1:void p.event.remove(this,"._submit")}});P.changeBubbles||(p.event.special.change={setup:function(){return Gb.test(this.nodeName)?(("checkbox"===
this.type||"radio"===this.type)&&(p.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);p.event.simulate("change",this,a,!0)})),!1):void p.event.add(this,"beforeactivate._change",function(a){a=a.target;Gb.test(a.nodeName)&&!p._data(a,"changeBubbles")&&(p.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||
p.event.simulate("change",this.parentNode,a,!0)}),p._data(a,"changeBubbles",!0))})},handle:function(a){var d=a.target;return this!==d||a.isSimulated||a.isTrigger||"radio"!==d.type&&"checkbox"!==d.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return p.event.remove(this,"._change"),!Gb.test(this.nodeName)}});P.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,d){var b=function(a){p.event.simulate(d,a.target,p.event.fix(a),!0)};p.event.special[d]={setup:function(){var c=
this.ownerDocument||this,e=p._data(c,d);e||c.addEventListener(a,b,!0);p._data(c,d,(e||0)+1)},teardown:function(){var c=this.ownerDocument||this,e=p._data(c,d)-1;e?p._data(c,d,e):(c.removeEventListener(a,b,!0),p._removeData(c,d))}}});p.fn.extend({on:function(a,d,b,c,e){var f,g;if("object"==typeof a){"string"!=typeof d&&(b=b||d,d=void 0);for(f in a)this.on(f,d,b,a[f],e);return this}if(null==b&&null==c?(c=d,b=d=void 0):null==c&&("string"==typeof d?(c=b,b=void 0):(c=b,b=d,d=void 0)),!1===c)c=q;else if(!c)return this;
return 1===e&&(g=c,c=function(a){return p().off(a),g.apply(this,arguments)},c.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a,c,b,d)})},one:function(a,d,b,c){return this.on(a,d,b,c,1)},off:function(a,d,b){var c,e;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,p(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"==typeof a){for(e in a)this.off(e,d,a[e]);return this}return(!1===d||"function"==typeof d)&&(b=
d,d=void 0),!1===b&&(b=q),this.each(function(){p.event.remove(this,a,b,d)})},trigger:function(a,d){return this.each(function(){p.event.trigger(a,d,this)})},triggerHandler:function(a,d){var b=this[0];return b?p.event.trigger(a,d,b,!0):void 0}});var gb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",nc=/ jQuery\d+="(?:null|\d+)"/g,ld=new RegExp("<(?:"+gb+")[\\s/>]","i"),Aa=/^\s+/,Ub=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
Vb=/<([\w:]+)/,md=/<tbody/i,te=/<|&#?\w+;/,ue=/<(?:script|style|link)/i,ve=/checked\s*(?:[^=]|=\s*.checked.)/i,nd=/^$|\/(?:java|ecma)script/i,he=/^true\/(.*)/,we=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ta={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,
"<table><tbody><tr>","</tr></tbody></table>"],_default:P.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Pc=z(K).appendChild(K.createElement("div"));Ta.optgroup=Ta.option;Ta.tbody=Ta.tfoot=Ta.colgroup=Ta.caption=Ta.thead;Ta.th=Ta.td;p.extend({clone:function(a,d,b){var c,e,f,g,l,h=p.contains(a.ownerDocument,a);if(P.html5Clone||p.isXMLDoc(a)||!ld.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Pc.innerHTML=a.outerHTML,Pc.removeChild(f=Pc.firstChild)),!(P.noCloneEvent&&P.noCloneChecked||1!==a.nodeType&&11!==
a.nodeType||p.isXMLDoc(a)))for(c=u(f),l=u(a),g=0;null!=(e=l[g]);++g)if(c[g]){var q=void 0,k,r=e,m=c[g];if(1===m.nodeType){if(k=m.nodeName.toLowerCase(),!P.noCloneEvent&&m[p.expando]){e=p._data(m);for(q in e.events)p.removeEvent(m,q,e.handle);m.removeAttribute(p.expando)}"script"===k&&m.text!==r.text?(A(m).text=r.text,v(m)):"object"===k?(m.parentNode&&(m.outerHTML=r.outerHTML),P.html5Clone&&r.innerHTML&&!p.trim(m.innerHTML)&&(m.innerHTML=r.innerHTML)):"input"===k&&Eb.test(r.type)?(m.defaultChecked=
m.checked=r.checked,m.value!==r.value&&(m.value=r.value)):"option"===k?m.defaultSelected=m.selected=r.defaultSelected:("input"===k||"textarea"===k)&&(m.defaultValue=r.defaultValue)}}if(d)if(b)for(l=l||u(a),c=c||u(f),g=0;null!=(e=l[g]);g++)G(e,c[g]);else G(a,f);return c=u(f,"script"),0<c.length&&C(c,!h&&u(a,"script")),f},buildFragment:function(a,d,b,c){for(var e,f,g,l,h,q,k,m=a.length,r=z(d),w=[],v=0;m>v;v++)if(f=a[v],f||0===f)if("object"===p.type(f))p.merge(w,f.nodeType?[f]:f);else if(te.test(f)){l=
l||r.appendChild(d.createElement("div"));h=(Vb.exec(f)||["",""])[1].toLowerCase();k=Ta[h]||Ta._default;l.innerHTML=k[1]+f.replace(Ub,"<$1></$2>")+k[2];for(e=k[0];e--;)l=l.lastChild;if(!P.leadingWhitespace&&Aa.test(f)&&w.push(d.createTextNode(Aa.exec(f)[0])),!P.tbody)for(e=(f="table"!==h||md.test(f)?"<table>"!==k[1]||md.test(f)?0:l:l.firstChild)&&f.childNodes.length;e--;)p.nodeName(q=f.childNodes[e],"tbody")&&!q.childNodes.length&&f.removeChild(q);p.merge(w,l.childNodes);for(l.textContent="";l.firstChild;)l.removeChild(l.firstChild);
l=r.lastChild}else w.push(d.createTextNode(f));l&&r.removeChild(l);P.appendChecked||p.grep(u(w,"input"),B);for(v=0;f=w[v++];)if((!c||-1===p.inArray(f,c))&&(g=p.contains(f.ownerDocument,f),l=u(r.appendChild(f),"script"),g&&C(l),b))for(e=0;f=l[e++];)nd.test(f.type||"")&&b.push(f);return r},cleanData:function(a,d){for(var b,c,e,f,g=0,l=p.expando,h=p.cache,q=P.deleteExpando,k=p.event.special;null!=(b=a[g]);g++)if((d||p.acceptData(b))&&(e=b[l],f=e&&h[e])){if(f.events)for(c in f.events)k[c]?p.event.remove(b,
c):p.removeEvent(b,c,f.handle);h[e]&&(delete h[e],q?delete b[l]:"undefined"!==typeof b.removeAttribute?b.removeAttribute(l):b[l]=null,ma.push(e))}}});p.fn.extend({text:function(a){return Ia(this,function(a){return void 0===a?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||r(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,
function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=r(this,a);d.insertBefore(a,d.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,d){for(var b,c=a?p.filter(a,this):this,e=0;null!=(b=c[e]);e++)d||1!==b.nodeType||p.cleanData(u(b)),b.parentNode&&
(d&&p.contains(b.ownerDocument,b)&&C(u(b,"script")),b.parentNode.removeChild(b));return this},empty:function(){for(var a,d=0;null!=(a=this[d]);d++){for(1===a.nodeType&&p.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&p.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,d){return a=null==a?!1:a,d=null==d?a:d,this.map(function(){return p.clone(this,a,d)})},html:function(a){return Ia(this,function(a){var d=this[0]||{},b=0,c=this.length;if(void 0===a)return 1===
d.nodeType?d.innerHTML.replace(nc,""):void 0;if(!("string"!=typeof a||ue.test(a)||!P.htmlSerialize&&ld.test(a)||!P.leadingWhitespace&&Aa.test(a)||Ta[(Vb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Ub,"<$1></$2>");try{for(;c>b;b++)d=this[b]||{},1===d.nodeType&&(p.cleanData(u(d,!1)),d.innerHTML=a);d=0}catch(cd){}}d&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(d){a=this.parentNode;p.cleanData(u(this));a&&a.replaceChild(d,
this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,d){a=qa.apply([],a);var b,c,e,f,g=0,l=this.length,h=this,q=l-1,k=a[0],m=p.isFunction(k);if(m||1<l&&"string"==typeof k&&!P.checkClone&&ve.test(k))return this.each(function(b){var c=h.eq(b);m&&(a[0]=k.call(this,b,c.html()));c.domManip(a,d)});if(l&&(f=p.buildFragment(a,this[0].ownerDocument,!1,this),b=f.firstChild,1===f.childNodes.length&&(f=b),b)){e=p.map(u(f,"script"),A);for(c=e.length;l>
g;g++)b=f,g!==q&&(b=p.clone(b,!0,!0),c&&p.merge(e,u(b,"script"))),d.call(this[g],b,g);if(c)for(f=e[e.length-1].ownerDocument,p.map(e,v),g=0;c>g;g++)b=e[g],nd.test(b.type||"")&&!p._data(b,"globalEval")&&p.contains(f,b)&&(b.src?p._evalUrl&&p._evalUrl(b.src):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(we,"")));f=b=null}return this}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){p.fn[a]=function(a){for(var b=
0,c=[],e=p(a),f=e.length-1;f>=b;b++)a=b===f?this:this.clone(!0),p(e[b])[d](a),ya.apply(c,a.get());return this.pushStack(c)}});var Fb,dd={};!function(){var a;P.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var d,b,c;return b=K.getElementsByTagName("body")[0],b&&b.style?(d=K.createElement("div"),c=K.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(d),"undefined"!==typeof d.style.zoom&&(d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
d.appendChild(K.createElement("div")).style.width="5px",a=3!==d.offsetWidth),b.removeChild(c),a):void 0}}();var od=/^margin/,hc=new RegExp("^("+Pa+")(?!px)[a-z%]+$","i"),ob,pb,xe=/^(top|right|bottom|left)$/;b.getComputedStyle?(ob=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},pb=function(a,d,b){var c,e,f,g,l=a.style;return b=b||ob(a),g=b?b.getPropertyValue(d)||b[d]:void 0,b&&(""!==g||p.contains(a.ownerDocument,a)||(g=p.style(a,d)),hc.test(g)&&od.test(d)&&(c=l.width,e=l.minWidth,
f=l.maxWidth,l.minWidth=l.maxWidth=l.width=g,g=b.width,l.width=c,l.minWidth=e,l.maxWidth=f)),void 0===g?g:g+""}):K.documentElement.currentStyle&&(ob=function(a){return a.currentStyle},pb=function(a,d,b){var c,e,f,g,l=a.style;return b=b||ob(a),g=b?b[d]:void 0,null==g&&l&&l[d]&&(g=l[d]),hc.test(g)&&!xe.test(d)&&(c=l.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),l.left="fontSize"===d?"1em":g,g=l.pixelLeft+"px",l.left=c,f&&(e.left=f)),void 0===g?g:g+""||"auto"});!function(){var a,
d,c,e,f,g,l;if(a=K.createElement("div"),a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=a.getElementsByTagName("a")[0],d=c&&c.style){var h=function(){var a,d,c,h;(d=K.getElementsByTagName("body")[0])&&d.style&&(a=K.createElement("div"),c=K.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",d.appendChild(c).appendChild(a),a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
e=f=!1,l=!0,b.getComputedStyle&&(e="1%"!==(b.getComputedStyle(a,null)||{}).top,f="4px"===(b.getComputedStyle(a,null)||{width:"4px"}).width,h=a.appendChild(K.createElement("div")),h.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",h.style.marginRight=h.style.width="0",a.style.width="1px",l=!parseFloat((b.getComputedStyle(h,null)||{}).marginRight)),a.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
h=a.getElementsByTagName("td"),h[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===h[0].offsetHeight,g&&(h[0].style.display="",h[1].style.display="none",g=0===h[0].offsetHeight),d.removeChild(c))};d.cssText="float:left;opacity:.5";P.opacity="0.5"===d.opacity;P.cssFloat=!!d.cssFloat;a.style.backgroundClip="content-box";a.cloneNode(!0).style.backgroundClip="";P.clearCloneStyle="content-box"===a.style.backgroundClip;P.boxSizing=""===d.boxSizing||""===d.MozBoxSizing||""===d.WebkitBoxSizing;
p.extend(P,{reliableHiddenOffsets:function(){return null==g&&h(),g},boxSizingReliable:function(){return null==f&&h(),f},pixelPosition:function(){return null==e&&h(),e},reliableMarginRight:function(){return null==l&&h(),l}})}}();p.swap=function(a,d,b,c){var e,f={};for(e in d)f[e]=a.style[e],a.style[e]=d[e];b=b.apply(a,c||[]);for(e in d)a.style[e]=f[e];return b};var Wb=/alpha\([^)]*\)/i,pd=/opacity\s*=\s*([^)]*)/,oc=/^(none|table(?!-c[ea]).+)/,Ec=new RegExp("^("+Pa+")(.*)$","i"),qd=new RegExp("^([+-])=("+
Pa+")","i"),ye={position:"absolute",visibility:"hidden",display:"block"},kb={letterSpacing:"0",fontWeight:"400"},Rb=["Webkit","O","Moz","ms"];p.extend({cssHooks:{opacity:{get:function(a,d){if(d){var b=pb(a,"opacity");return""===b?"1":b}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":P.cssFloat?"cssFloat":"styleFloat"},style:function(a,d,b,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&
a.style){var e,f,g,l=p.camelCase(d),h=a.style;if(d=p.cssProps[l]||(p.cssProps[l]=E(h,l)),g=p.cssHooks[d]||p.cssHooks[l],void 0===b)return g&&"get"in g&&void 0!==(e=g.get(a,!1,c))?e:h[d];if(f=typeof b,"string"===f&&(e=qd.exec(b))&&(b=(e[1]+1)*e[2]+parseFloat(p.css(a,d)),f="number"),null!=b&&b===b&&("number"!==f||p.cssNumber[l]||(b+="px"),P.clearCloneStyle||""!==b||0!==d.indexOf("background")||(h[d]="inherit"),!(g&&"set"in g&&void 0===(b=g.set(a,b,c)))))try{h[d]=b}catch(ge){}}},css:function(a,d,b,c){var e,
f,g,l=p.camelCase(d);return d=p.cssProps[l]||(p.cssProps[l]=E(a.style,l)),g=p.cssHooks[d]||p.cssHooks[l],g&&"get"in g&&(f=g.get(a,!0,b)),void 0===f&&(f=pb(a,d,c)),"normal"===f&&d in kb&&(f=kb[d]),""===b||b?(e=parseFloat(f),!0===b||p.isNumeric(e)?e||0:f):f}});p.each(["height","width"],function(a,d){p.cssHooks[d]={get:function(a,b,c){return b?oc.test(p.css(a,"display"))&&0===a.offsetWidth?p.swap(a,ye,function(){return fa(a,d,c)}):fa(a,d,c):void 0},set:function(a,b,c){var e=c&&ob(a);return Q(a,b,c?J(a,
d,c,P.boxSizing&&"border-box"===p.css(a,"boxSizing",!1,e),e):0)}}});P.opacity||(p.cssHooks.opacity={get:function(a,d){return pd.test((d&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":d?"1":""},set:function(a,d){var b=a.style,c=a.currentStyle,e=p.isNumeric(d)?"alpha(opacity="+100*d+")":"",f=c&&c.filter||b.filter||"";b.zoom=1;(1<=d||""===d)&&""===p.trim(f.replace(Wb,""))&&b.removeAttribute&&(b.removeAttribute("filter"),""===d||c&&!c.filter)||(b.filter=Wb.test(f)?
f.replace(Wb,e):f+" "+e)}});p.cssHooks.marginRight=F(P.reliableMarginRight,function(a,d){return d?p.swap(a,{display:"inline-block"},pb,[a,"marginRight"]):void 0});p.each({margin:"",padding:"",border:"Width"},function(a,d){p.cssHooks[a+d]={expand:function(b){var c=0,e={};for(b="string"==typeof b?b.split(" "):[b];4>c;c++)e[a+Oa[c]+d]=b[c]||b[c-2]||b[0];return e}};od.test(a)||(p.cssHooks[a+d].set=Q)});p.fn.extend({css:function(a,d){return Ia(this,function(a,d,b){var c,e={},f=0;if(p.isArray(d)){b=ob(a);
for(c=d.length;c>f;f++)e[d[f]]=p.css(a,d[f],!1,b);return e}return void 0!==b?p.style(a,d,b):p.css(a,d)},a,d,1<arguments.length)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){hb(this)?p(this).show():p(this).hide()})}});p.Tween=L;L.prototype={constructor:L,init:function(a,d,b,c,e,f){this.elem=a;this.prop=b;this.easing=e||"swing";this.options=d;this.start=this.now=this.cur();this.end=c;this.unit=
f||(p.cssNumber[b]?"":"px")},cur:function(){var a=L.propHooks[this.prop];return a&&a.get?a.get(this):L.propHooks._default.get(this)},run:function(a){var d,b=L.propHooks[this.prop];return this.pos=d=this.options.duration?p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):L.propHooks._default.set(this),this}};L.prototype.init.prototype=L.prototype;
L.propHooks={_default:{get:function(a){var d;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(d=p.css(a.elem,a.prop,""),d&&"auto"!==d?d:0):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[p.cssProps[a.prop]]||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};p.easing={linear:function(a){return a},
swing:function(a){return.5-Math.cos(a*Math.PI)/2}};p.fx=L.prototype.init;p.fx.step={};var Va,Hb,pc=/^(?:toggle|show|hide)$/,Xb=new RegExp("^(?:([+-])=|)("+Pa+")([a-z%]*)$","i"),qc=/queueHooks$/,rb=[function(a,d,b){var c,e,f,g,l,h,q,k=this,m={},r=a.style,w=a.nodeType&&hb(a),z=p._data(a,"fxshow");b.queue||(g=p._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,l=g.empty.fire,g.empty.fire=function(){g.unqueued||l()}),g.unqueued++,k.always(function(){k.always(function(){g.unqueued--;p.queue(a,"fx").length||
g.empty.fire()})}));1===a.nodeType&&("height"in d||"width"in d)&&(b.overflow=[r.overflow,r.overflowX,r.overflowY],h=p.css(a,"display"),q="none"===h?p._data(a,"olddisplay")||O(a.nodeName):h,"inline"===q&&"none"===p.css(a,"float")&&(P.inlineBlockNeedsLayout&&"inline"!==O(a.nodeName)?r.zoom=1:r.display="inline-block"));b.overflow&&(r.overflow="hidden",P.shrinkWrapBlocks()||k.always(function(){r.overflow=b.overflow[0];r.overflowX=b.overflow[1];r.overflowY=b.overflow[2]}));for(c in d)if(e=d[c],pc.exec(e)){if(delete d[c],
f=f||"toggle"===e,e===(w?"hide":"show")){if("show"!==e||!z||void 0===z[c])continue;w=!0}m[c]=z&&z[c]||p.style(a,c)}else h=void 0;if(p.isEmptyObject(m))"inline"===("none"===h?O(a.nodeName):h)&&(r.display=h);else for(c in z?"hidden"in z&&(w=z.hidden):z=p._data(a,"fxshow",{}),f&&(z.hidden=!w),w?p(a).show():k.done(function(){p(a).hide()}),k.done(function(){var d;p._removeData(a,"fxshow");for(d in m)p.style(a,d,m[d])}),m)d=pa(w?z[c]:0,c,k),c in z||(z[c]=d.start,w&&(d.end=d.start,d.start="width"===c||"height"===
c?1:0))}],qb={"*":[function(a,d){var b=this.createTween(a,d),c=b.cur(),e=Xb.exec(d),f=e&&e[3]||(p.cssNumber[a]?"":"px"),g=(p.cssNumber[a]||"px"!==f&&+c)&&Xb.exec(p.css(b.elem,a)),l=1,h=20;if(g&&g[3]!==f){f=f||g[3];e=e||[];g=+c||1;do l=l||".5",g/=l,p.style(b.elem,a,g+f);while(l!==(l=b.cur()/c)&&1!==l&&--h)}return e&&(g=b.start=+g||+c||0,b.unit=f,b.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),b}]};p.Animation=p.extend(na,{tweener:function(a,d){p.isFunction(a)?(d=a,a=["*"]):a=a.split(" ");for(var b,c=0,e=a.length;e>
c;c++)b=a[c],qb[b]=qb[b]||[],qb[b].unshift(d)},prefilter:function(a,d){d?rb.unshift(a):rb.push(a)}});p.speed=function(a,d,b){var c=a&&"object"==typeof a?p.extend({},a):{complete:b||!b&&d||p.isFunction(a)&&a,duration:a,easing:b&&d||d&&!p.isFunction(d)&&d};return c.duration=p.fx.off?0:"number"==typeof c.duration?c.duration:c.duration in p.fx.speeds?p.fx.speeds[c.duration]:p.fx.speeds._default,(null==c.queue||!0===c.queue)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){p.isFunction(c.old)&&c.old.call(this);
c.queue&&p.dequeue(this,c.queue)},c};p.fn.extend({fadeTo:function(a,d,b,c){return this.filter(hb).css("opacity",0).show().end().animate({opacity:d},a,b,c)},animate:function(a,d,b,c){var e=p.isEmptyObject(a),f=p.speed(d,b,c);d=function(){var d=na(this,p.extend({},a),f);(e||p._data(this,"finish"))&&d.stop(!0)};return d.finish=d,e||!1===f.queue?this.each(d):this.queue(f.queue,d)},stop:function(a,d,b){var c=function(a){var d=a.stop;delete a.stop;d(b)};return"string"!=typeof a&&(b=d,d=a,a=void 0),d&&!1!==
a&&this.queue(a||"fx",[]),this.each(function(){var d=!0,e=null!=a&&a+"queueHooks",f=p.timers,g=p._data(this);if(e)g[e]&&g[e].stop&&c(g[e]);else for(e in g)g[e]&&g[e].stop&&qc.test(e)&&c(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(b),d=!1,f.splice(e,1));!d&&b||p.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var d,b=p._data(this),c=b[a+"queue"];d=b[a+"queueHooks"];var e=p.timers,f=c?c.length:0;b.finish=!0;p.queue(this,a,
[]);d&&d.stop&&d.stop.call(this,!0);for(d=e.length;d--;)e[d].elem===this&&e[d].queue===a&&(e[d].anim.stop(!0),e.splice(d,1));for(d=0;f>d;d++)c[d]&&c[d].finish&&c[d].finish.call(this);delete b.finish})}});p.each(["toggle","show","hide"],function(a,d){var b=p.fn[d];p.fn[d]=function(a,c,e){return null==a||"boolean"==typeof a?b.apply(this,arguments):this.animate(N(d,!0),a,c,e)}});p.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(a,d){p.fn[a]=function(a,b,c){return this.animate(d,a,b,c)}});p.timers=[];p.fx.tick=function(){var a,d=p.timers,b=0;for(Va=p.now();b<d.length;b++)a=d[b],a()||d[b]!==a||d.splice(b--,1);d.length||p.fx.stop();Va=void 0};p.fx.timer=function(a){p.timers.push(a);a()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){Hb||(Hb=setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){clearInterval(Hb);Hb=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fn.delay=function(a,d){return a=
p.fx?p.fx.speeds[a]||a:a,d=d||"fx",this.queue(d,function(d,b){var c=setTimeout(d,a);b.stop=function(){clearTimeout(c)}})};(function(){var a,d,b,c,e;d=K.createElement("div");d.setAttribute("className","t");d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";c=d.getElementsByTagName("a")[0];b=K.createElement("select");e=b.appendChild(K.createElement("option"));a=d.getElementsByTagName("input")[0];c.style.cssText="top:1px";P.getSetAttribute="t"!==d.className;P.style=/top/.test(c.getAttribute("style"));
P.hrefNormalized="/a"===c.getAttribute("href");P.checkOn=!!a.value;P.optSelected=e.selected;P.enctype=!!K.createElement("form").enctype;b.disabled=!0;P.optDisabled=!e.disabled;a=K.createElement("input");a.setAttribute("value","");P.input=""===a.getAttribute("value");a.value="t";a.setAttribute("type","radio");P.radioValue="t"===a.value})();var Yb=/\r/g;p.fn.extend({val:function(a){var d,b,c,e=this[0];if(arguments.length)return c=p.isFunction(a),this.each(function(b){var e;1===this.nodeType&&(e=c?a.call(this,
b,p(this).val()):a,null==e?e="":"number"==typeof e?e+="":p.isArray(e)&&(e=p.map(e,function(a){return null==a?"":a+""})),d=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&void 0!==d.set(this,e,"value")||(this.value=e))});if(e)return d=p.valHooks[e.type]||p.valHooks[e.nodeName.toLowerCase()],d&&"get"in d&&void 0!==(b=d.get(e,"value"))?b:(b=e.value,"string"==typeof b?b.replace(Yb,""):null==b?"":b)}});p.extend({valHooks:{option:{get:function(a){var d=p.find.attr(a,"value");
return null!=d?d:p.trim(p.text(a))}},select:{get:function(a){for(var d,b=a.options,c=a.selectedIndex,e="select-one"===a.type||0>c,f=e?null:[],g=e?c+1:b.length,l=0>c?g:e?c:0;g>l;l++)if(d=b[l],!(!d.selected&&l!==c||(P.optDisabled?d.disabled:null!==d.getAttribute("disabled"))||d.parentNode.disabled&&p.nodeName(d.parentNode,"optgroup"))){if(a=p(d).val(),e)return a;f.push(a)}return f},set:function(a,d){for(var b,c,e=a.options,f=p.makeArray(d),g=e.length;g--;)if(c=e[g],0<=p.inArray(p.valHooks.option.get(c),
f))try{c.selected=b=!0}catch(pf){c.scrollHeight}else c.selected=!1;return b||(a.selectedIndex=-1),e}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,d){return p.isArray(d)?a.checked=0<=p.inArray(p(a).val(),d):void 0}};P.checkOn||(p.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ub,Qc,lb=p.expr.attrHandle,rc=/^(?:checked|selected)$/i,Ua=P.getSetAttribute,Zb=P.input;p.fn.extend({attr:function(a,d){return Ia(this,p.attr,a,d,1<arguments.length)},
removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}});p.extend({attr:function(a,d,b){var c,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return"undefined"===typeof a.getAttribute?p.prop(a,d,b):(1===f&&p.isXMLDoc(a)||(d=d.toLowerCase(),c=p.attrHooks[d]||(p.expr.match.bool.test(d)?Qc:ub)),void 0===b?c&&"get"in c&&null!==(e=c.get(a,d))?e:(e=p.find.attr(a,d),null==e?void 0:e):null!==b?c&&"set"in c&&void 0!==(e=c.set(a,b,d))?e:(a.setAttribute(d,b+""),b):void p.removeAttr(a,d))},removeAttr:function(a,
d){var b,c,e=0,f=d&&d.match(Ma);if(f&&1===a.nodeType)for(;b=f[e++];)c=p.propFix[b]||b,p.expr.match.bool.test(b)?Zb&&Ua||!rc.test(b)?a[c]=!1:a[p.camelCase("default-"+b)]=a[c]=!1:p.attr(a,b,""),a.removeAttribute(Ua?b:c)},attrHooks:{type:{set:function(a,d){if(!P.radioValue&&"radio"===d&&p.nodeName(a,"input")){var b=a.value;return a.setAttribute("type",d),b&&(a.value=b),d}}}}});Qc={set:function(a,d,b){return!1===d?p.removeAttr(a,b):Zb&&Ua||!rc.test(b)?a.setAttribute(!Ua&&p.propFix[b]||b,b):a[p.camelCase("default-"+
b)]=a[b]=!0,b}};p.each(p.expr.match.bool.source.match(/\w+/g),function(a,d){var b=lb[d]||p.find.attr;lb[d]=Zb&&Ua||!rc.test(d)?function(a,d,c){var e,f;return c||(f=lb[d],lb[d]=e,e=null!=b(a,d,c)?d.toLowerCase():null,lb[d]=f),e}:function(a,d,b){return b?void 0:a[p.camelCase("default-"+d)]?d.toLowerCase():null}});Zb&&Ua||(p.attrHooks.value={set:function(a,d,b){return p.nodeName(a,"input")?void(a.defaultValue=d):ub&&ub.set(a,d,b)}});Ua||(ub={set:function(a,d,b){var c=a.getAttributeNode(b);return c||
a.setAttributeNode(c=a.ownerDocument.createAttribute(b)),c.value=d+="","value"===b||d===a.getAttribute(b)?d:void 0}},lb.id=lb.name=lb.coords=function(a,d,b){var c;return b?void 0:(c=a.getAttributeNode(d))&&""!==c.value?c.value:null},p.valHooks.button={get:function(a,d){var b=a.getAttributeNode(d);return b&&b.specified?b.value:void 0},set:ub.set},p.attrHooks.contenteditable={set:function(a,d,b){ub.set(a,""===d?!1:d,b)}},p.each(["width","height"],function(a,d){p.attrHooks[d]={set:function(a,b){return""===
b?(a.setAttribute(d,"auto"),b):void 0}}}));P.style||(p.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,d){return a.style.cssText=d+""}});var rd=/^(?:input|select|textarea|button|object)$/i,sc=/^(?:a|area)$/i;p.fn.extend({prop:function(a,d){return Ia(this,p.prop,a,d,1<arguments.length)},removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(Db){}})}});p.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,
d,b){var c,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!p.isXMLDoc(a),f&&(d=p.propFix[d]||d,e=p.propHooks[d]),void 0!==b?e&&"set"in e&&void 0!==(c=e.set(a,b,d))?c:a[d]=b:e&&"get"in e&&null!==(c=e.get(a,d))?c:a[d]},propHooks:{tabIndex:{get:function(a){var d=p.find.attr(a,"tabindex");return d?parseInt(d,10):rd.test(a.nodeName)||sc.test(a.nodeName)&&a.href?0:-1}}}});P.hrefNormalized||p.each(["href","src"],function(a,d){p.propHooks[d]={get:function(a){return a.getAttribute(d,4)}}});P.optSelected||
(p.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){p.propFix[this.toLowerCase()]=this});P.enctype||(p.propFix.enctype="encoding");var tc=/[\t\r\n\f]/g;p.fn.extend({addClass:function(a){var d,b,c,e,f,g=0,l=this.length;d="string"==typeof a&&a;if(p.isFunction(a))return this.each(function(d){p(this).addClass(a.call(this,
d,this.className))});if(d)for(d=(a||"").match(Ma)||[];l>g;g++)if(b=this[g],c=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(tc," "):" ")){for(f=0;e=d[f++];)0>c.indexOf(" "+e+" ")&&(c+=e+" ");c=p.trim(c);b.className!==c&&(b.className=c)}return this},removeClass:function(a){var d,b,c,e,f,g=0,l=this.length;d=0===arguments.length||"string"==typeof a&&a;if(p.isFunction(a))return this.each(function(d){p(this).removeClass(a.call(this,d,this.className))});if(d)for(d=(a||"").match(Ma)||[];l>g;g++)if(b=
this[g],c=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(tc," "):"")){for(f=0;e=d[f++];)for(;0<=c.indexOf(" "+e+" ");)c=c.replace(" "+e+" "," ");c=a?p.trim(c):"";b.className!==c&&(b.className=c)}return this},toggleClass:function(a,d){var b=typeof a;return"boolean"==typeof d&&"string"===b?d?this.addClass(a):this.removeClass(a):this.each(p.isFunction(a)?function(b){p(this).toggleClass(a.call(this,b,this.className,d),d)}:function(){if("string"===b)for(var d,c=0,e=p(this),f=a.match(Ma)||[];d=
f[c++];)e.hasClass(d)?e.removeClass(d):e.addClass(d);else("undefined"===b||"boolean"===b)&&(this.className&&p._data(this,"__className__",this.className),this.className=this.className||!1===a?"":p._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var d=0,b=this.length;b>d;d++)if(1===this[d].nodeType&&0<=(" "+this[d].className+" ").replace(tc," ").indexOf(a))return!0;return!1}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,d){p.fn[d]=function(a,b){return 0<arguments.length?this.on(d,null,a,b):this.trigger(d)}});p.fn.extend({hover:function(a,d){return this.mouseenter(a).mouseleave(d||a)},bind:function(a,d,b){return this.on(a,null,d,b)},unbind:function(a,d){return this.off(a,null,d)},delegate:function(a,d,b,c){return this.on(d,a,b,c)},undelegate:function(a,d,b){return 1===arguments.length?this.off(a,"**"):this.off(d,a||"**",b)}});var Rc=p.now(),uc=/\?/,ze=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
p.parseJSON=function(a){if(b.JSON&&b.JSON.parse)return b.JSON.parse(a+"");var d,c=null,e=p.trim(a+"");return e&&!p.trim(e.replace(ze,function(a,b,e,f){return d&&b&&(c=0),0===c?a:(d=e||b,c+=!f-!e,"")}))?Function("return "+e)():p.error("Invalid JSON: "+a)};p.parseXML=function(a){var d,c;if(!a||"string"!=typeof a)return null;try{b.DOMParser?(c=new DOMParser,d=c.parseFromString(a,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a))}catch(gc){d=void 0}return d&&d.documentElement&&
!d.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+a),d};var vb,cb,sd=/#.*$/,vc=/([?&])_=[^&]*/,td=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ae=/^(?:GET|HEAD)$/,Be=/^\/\//,Sc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,mb={},ic={},Tc="*/".concat("*");try{cb=location.href}catch(ra){cb=K.createElement("a"),cb.href="",cb=cb.href}vb=Sc.exec(cb.toLowerCase())||[];p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:cb,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(vb[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,d){return d?ea(ea(a,
p.ajaxSettings),d):ea(p.ajaxSettings,a)},ajaxPrefilter:T(mb),ajaxTransport:T(ic),ajax:function(a,d){function b(a,d,b,c){var e,k,D,A,C=d;if(2!==B){B=2;l&&clearTimeout(l);q=void 0;g=c||"";n.readyState=0<a?4:0;c=200<=a&&300>a||304===a;if(b){D=m;for(var G=n,E,F,O,t,M=D.contents,Q=D.dataTypes;"*"===Q[0];)Q.shift(),void 0===F&&(F=D.mimeType||G.getResponseHeader("Content-Type"));if(F)for(t in M)if(M[t]&&M[t].test(F)){Q.unshift(t);break}if(Q[0]in b)O=Q[0];else{for(t in b){if(!Q[0]||D.converters[t+" "+Q[0]]){O=
t;break}E||(E=t)}O=O||E}D=O?(O!==Q[0]&&Q.unshift(O),b[O]):void 0}var I;a:{b=m;E=D;F=n;O=c;var J,L,N;D={};G=b.dataTypes.slice();if(G[1])for(J in b.converters)D[J.toLowerCase()]=b.converters[J];for(t=G.shift();t;)if(b.responseFields[t]&&(F[b.responseFields[t]]=E),!N&&O&&b.dataFilter&&(E=b.dataFilter(E,b.dataType)),N=t,t=G.shift())if("*"===t)t=N;else if("*"!==N&&N!==t){if(J=D[N+" "+t]||D["* "+t],!J)for(I in D)if(L=I.split(" "),L[1]===t&&(J=D[N+" "+L[0]]||D["* "+L[0]])){!0===J?J=D[I]:!0!==D[I]&&(t=L[0],
G.unshift(L[1]));break}if(!0!==J)if(J&&b["throws"])E=J(E);else try{E=J(E)}catch(se){I={state:"parsererror",error:J?se:"No conversion from "+N+" to "+t};break a}}I={state:"success",data:E}}D=I;c?(m.ifModified&&(A=n.getResponseHeader("Last-Modified"),A&&(p.lastModified[f]=A),A=n.getResponseHeader("etag"),A&&(p.etag[f]=A)),204===a||"HEAD"===m.type?C="nocontent":304===a?C="notmodified":(C=D.state,e=D.data,k=D.error,c=!k)):(k=C,(a||!C)&&(C="error",0>a&&(a=0)));n.status=a;n.statusText=(d||C)+"";c?z.resolveWith(r,
[e,C,n]):z.rejectWith(r,[n,C,k]);n.statusCode(v);v=void 0;h&&w.trigger(c?"ajaxSuccess":"ajaxError",[n,m,c?e:k]);u.fireWith(r,[n,C]);h&&(w.trigger("ajaxComplete",[n,m]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof a&&(d=a,a=void 0);d=d||{};var c,e,f,g,l,h,q,k,m=p.ajaxSetup({},d),r=m.context||m,w=m.context&&(r.nodeType||r.jquery)?p(r):p.event,z=p.Deferred(),u=p.Callbacks("once memory"),v=m.statusCode||{},D={},A={},B=0,C="canceled",n={readyState:0,getResponseHeader:function(a){var d;if(2===
B){if(!k)for(k={};d=td.exec(g);)k[d[1].toLowerCase()]=d[2];d=k[a.toLowerCase()]}return null==d?null:d},getAllResponseHeaders:function(){return 2===B?g:null},setRequestHeader:function(a,d){var b=a.toLowerCase();return B||(a=A[b]=A[b]||a,D[a]=d),this},overrideMimeType:function(a){return B||(m.mimeType=a),this},statusCode:function(a){var d;if(a)if(2>B)for(d in a)v[d]=[v[d],a[d]];else n.always(a[n.status]);return this},abort:function(a){a=a||C;return q&&q.abort(a),b(0,a),this}};if(z.promise(n).complete=
u.add,n.success=n.done,n.error=n.fail,m.url=((a||m.url||cb)+"").replace(sd,"").replace(Be,vb[1]+"//"),m.type=d.method||d.type||m.method||m.type,m.dataTypes=p.trim(m.dataType||"*").toLowerCase().match(Ma)||[""],null==m.crossDomain&&(c=Sc.exec(m.url.toLowerCase()),m.crossDomain=!(!c||c[1]===vb[1]&&c[2]===vb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(vb[3]||("http:"===vb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=p.param(m.data,m.traditional)),aa(mb,m,d,n),2===B)return n;
(h=m.global)&&0===p.active++&&p.event.trigger("ajaxStart");m.type=m.type.toUpperCase();m.hasContent=!Ae.test(m.type);f=m.url;m.hasContent||(m.data&&(f=m.url+=(uc.test(f)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=vc.test(f)?f.replace(vc,"$1_="+Rc++):f+(uc.test(f)?"&":"?")+"_="+Rc++));m.ifModified&&(p.lastModified[f]&&n.setRequestHeader("If-Modified-Since",p.lastModified[f]),p.etag[f]&&n.setRequestHeader("If-None-Match",p.etag[f]));(m.data&&m.hasContent&&!1!==m.contentType||d.contentType)&&
n.setRequestHeader("Content-Type",m.contentType);n.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Tc+"; q=0.01":""):m.accepts["*"]);for(e in m.headers)n.setRequestHeader(e,m.headers[e]);if(m.beforeSend&&(!1===m.beforeSend.call(r,n,m)||2===B))return n.abort();C="abort";for(e in{success:1,error:1,complete:1})n[e](m[e]);if(q=aa(ic,m,d,n)){n.readyState=1;h&&w.trigger("ajaxSend",[n,m]);m.async&&0<m.timeout&&(l=setTimeout(function(){n.abort("timeout")},
m.timeout));try{B=1,q.send(D,b)}catch(Lc){if(!(2>B))throw Lc;b(-1,Lc)}}else b(-1,"No Transport");return n},getJSON:function(a,d,b){return p.get(a,d,b,"json")},getScript:function(a,d){return p.get(a,void 0,d,"script")}});p.each(["get","post"],function(a,d){p[d]=function(a,b,c,e){return p.isFunction(b)&&(e=e||c,c=b,b=void 0),p.ajax({url:a,type:d,dataType:e,data:b,success:c})}});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,d){p.fn[d]=function(a){return this.on(d,
a)}});p._evalUrl=function(a){return p.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(a){if(p.isFunction(a))return this.each(function(d){p(this).wrapAll(a.call(this,d))});if(this[0]){var d=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&d.insertBefore(this[0]);d.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(p.isFunction(a)?
function(d){p(this).wrapInner(a.call(this,d))}:function(){var d=p(this),b=d.contents();b.length?b.wrapAll(a):d.append(a)})},wrap:function(a){var d=p.isFunction(a);return this.each(function(b){p(this).wrapAll(d?a.call(this,b):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}});p.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!P.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||
p.css(a,"display"))};p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)};var Ce=/%20/g,ie=/\[\]$/,Uc=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,ud=/^(?:input|select|textarea|keygen)/i;p.param=function(a,d){var b,c=[],e=function(a,d){d=p.isFunction(d)?d():null==d?"":d;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(d)};if(void 0===d&&(d=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){e(this.name,this.value)});
else for(b in a)ua(b,a[b],d,e);return c.join("&").replace(Ce,"+")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&ud.test(this.nodeName)&&!De.test(a)&&(this.checked||!Eb.test(a))}).map(function(a,d){var b=p(this).val();return null==b?null:p.isArray(b)?p.map(b,function(a){return{name:d.name,
value:a.replace(Uc,"\r\n")}}):{name:d.name,value:b.replace(Uc,"\r\n")}}).get()}});p.ajaxSettings.xhr=void 0!==b.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&ga()))a:{try{a=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(Db){}a=void 0}return a}:ga;var vd=0,Wa={},Ib=p.ajaxSettings.xhr();b.ActiveXObject&&p(b).on("unload",function(){for(var a in Wa)Wa[a](void 0,!0)});P.cors=!!Ib&&"withCredentials"in Ib;(Ib=P.ajax=!!Ib)&&p.ajaxTransport(function(a){if(!a.crossDomain||
P.cors){var d;return{send:function(b,c){var e,f=a.xhr(),g=++vd;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);a.crossDomain||b["X-Requested-With"]||(b["X-Requested-With"]="XMLHttpRequest");for(e in b)void 0!==b[e]&&f.setRequestHeader(e,b[e]+"");f.send(a.hasContent&&a.data||null);d=function(b,e){var l,h,q;if(d&&(e||4===f.readyState))if(delete Wa[g],d=void 0,f.onreadystatechange=
p.noop,e)4!==f.readyState&&f.abort();else{q={};l=f.status;"string"==typeof f.responseText&&(q.text=f.responseText);try{h=f.statusText}catch(fd){h=""}l||!a.isLocal||a.crossDomain?1223===l&&(l=204):l=q.text?200:404}q&&c(l,h,q,f.getAllResponseHeaders())};a.async?4===f.readyState?setTimeout(d):f.onreadystatechange=Wa[g]=d:d()},abort:function(){d&&d(void 0,!0)}}}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(a){return p.globalEval(a),a}}});p.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});p.ajaxTransport("script",function(a){if(a.crossDomain){var d,b=K.head||p("head")[0]||K.documentElement;return{send:function(c,e){d=K.createElement("script");d.async=!0;a.scriptCharset&&(d.charset=a.scriptCharset);d.src=a.url;d.onload=d.onreadystatechange=function(a,b){(b||!d.readyState||/loaded|complete/.test(d.readyState))&&
(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),d=null,b||e(200,"success"))};b.insertBefore(d,b.firstChild)},abort:function(){d&&d.onload(void 0,!0)}}}});var Vc=[],wb=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Vc.pop()||p.expando+"_"+Rc++;return this[a]=!0,a}});p.ajaxPrefilter("json jsonp",function(a,d,c){var e,f,g,l=!1!==a.jsonp&&(wb.test(a.url)?"url":"string"==typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&
wb.test(a.data)&&"data");return l||"jsonp"===a.dataTypes[0]?(e=a.jsonpCallback=p.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,l?a[l]=a[l].replace(wb,"$1"+e):!1!==a.jsonp&&(a.url+=(uc.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){return g||p.error(e+" was not called"),g[0]},a.dataTypes[0]="json",f=b[e],b[e]=function(){g=arguments},c.always(function(){b[e]=f;a[e]&&(a.jsonpCallback=d.jsonpCallback,Vc.push(e));g&&p.isFunction(f)&&f(g[0]);g=f=void 0}),"script"):
void 0});p.parseHTML=function(a,d,b){if(!a||"string"!=typeof a)return null;"boolean"==typeof d&&(b=d,d=!1);d=d||K;var c=Sa.exec(a);b=!b&&[];return c?[d.createElement(c[1])]:(c=p.buildFragment([a],d,b),b&&b.length&&p(b).remove(),p.merge([],c.childNodes))};var Wc=p.fn.load;p.fn.load=function(a,d,b){if("string"!=typeof a&&Wc)return Wc.apply(this,arguments);var c,e,f,g=this,l=a.indexOf(" ");return 0<=l&&(c=p.trim(a.slice(l,a.length)),a=a.slice(0,l)),p.isFunction(d)?(b=d,d=void 0):d&&"object"==typeof d&&
(f="POST"),0<g.length&&p.ajax({url:a,type:f,dataType:"html",data:d}).done(function(a){e=arguments;g.html(c?p("<div>").append(p.parseHTML(a)).find(c):a)}).complete(b&&function(a,d){g.each(b,e||[a.responseText,d,a])}),this};p.expr.filters.animated=function(a){return p.grep(p.timers,function(d){return a===d.elem}).length};var wc=b.document.documentElement;p.offset={setOffset:function(a,d,b){var c,e,f,g,l,h,q=p.css(a,"position"),k=p(a),m={};"static"===q&&(a.style.position="relative");l=k.offset();f=p.css(a,
"top");h=p.css(a,"left");("absolute"===q||"fixed"===q)&&-1<p.inArray("auto",[f,h])?(c=k.position(),g=c.top,e=c.left):(g=parseFloat(f)||0,e=parseFloat(h)||0);p.isFunction(d)&&(d=d.call(a,b,l));null!=d.top&&(m.top=d.top-l.top+g);null!=d.left&&(m.left=d.left-l.left+e);"using"in d?d.using.call(a,m):k.css(m)}};p.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(d){p.offset.setOffset(this,a,d)});var d,b,c={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return d=
f.documentElement,p.contains(d,e)?("undefined"!==typeof e.getBoundingClientRect&&(c=e.getBoundingClientRect()),b=X(f),{top:c.top+(b.pageYOffset||d.scrollTop)-(d.clientTop||0),left:c.left+(b.pageXOffset||d.scrollLeft)-(d.clientLeft||0)}):c},position:function(){if(this[0]){var a,d,b={top:0,left:0},c=this[0];return"fixed"===p.css(c,"position")?d=c.getBoundingClientRect():(a=this.offsetParent(),d=this.offset(),p.nodeName(a[0],"html")||(b=a.offset()),b.top+=p.css(a[0],"borderTopWidth",!0),b.left+=p.css(a[0],
"borderLeftWidth",!0)),{top:d.top-b.top-p.css(c,"marginTop",!0),left:d.left-b.left-p.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||wc;a&&!p.nodeName(a,"html")&&"static"===p.css(a,"position");)a=a.offsetParent;return a||wc})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var b=/Y/.test(d);p.fn[a]=function(c){return Ia(this,function(a,c,e){var f=X(a);return void 0===e?f?d in f?f[d]:f.document.documentElement[c]:
a[c]:void(f?f.scrollTo(b?p(f).scrollLeft():e,b?e:p(f).scrollTop()):a[c]=e)},a,c,arguments.length,null)}});p.each(["top","left"],function(a,d){p.cssHooks[d]=F(P.pixelPosition,function(a,b){return b?(b=pb(a,d),hc.test(b)?p(a).position()[d]+"px":b):void 0})});p.each({Height:"height",Width:"width"},function(a,d){p.each({padding:"inner"+a,content:d,"":"outer"+a},function(b,c){p.fn[c]=function(c,e){var f=arguments.length&&(b||"boolean"!=typeof c),g=b||(!0===c||!0===e?"margin":"border");return Ia(this,function(d,
b,c){var e;return p.isWindow(d)?d.document.documentElement["client"+a]:9===d.nodeType?(e=d.documentElement,Math.max(d.body["scroll"+a],e["scroll"+a],d.body["offset"+a],e["offset"+a],e["client"+a])):void 0===c?p.css(d,b,g):p.style(d,b,c,g)},d,f?c:void 0,f,null)}})});p.fn.size=function(){return this.length};p.fn.andSelf=p.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var wd=b.jQuery,xd=b.$;return p.noConflict=function(a){return b.$===p&&(b.$=xd),a&&b.jQuery===
p&&(b.jQuery=wd),p},"undefined"===typeof n&&(b.jQuery=b.$=p),p});/*
 jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0);
(function(b,n,t){function a(a){var d=n.console;e[a]||(e[a]=!0,b.migrateWarnings.push(a),d&&d.warn&&!b.migrateMute&&(d.warn("JQMIGRATE: "+a),b.migrateTrace&&d.trace&&d.trace()))}function g(d,c,e,f){if(Object.defineProperty)try{return Object.defineProperty(d,c,{configurable:!0,enumerable:!0,get:function(){return a(f),e},set:function(d){a(f);e=d}}),t}catch(W){}b._definePropertyBroken=!0;d[c]=e}var e={};b.migrateWarnings=[];!b.migrateMute&&n.console&&n.console.log&&n.console.log("JQMIGRATE: Logging is active");
b.migrateTrace===t&&(b.migrateTrace=!0);b.migrateReset=function(){e={};b.migrateWarnings.length=0};"BackCompat"===document.compatMode&&a("jQuery is not compatible with Quirks Mode");var f=b("<input/>",{size:1}).attr("size")&&b.attrFn,c=b.attr,h=b.attrHooks.value&&b.attrHooks.value.get||function(){return null},k=b.attrHooks.value&&b.attrHooks.value.set||function(){return t},m=/^(?:input|button)$/i,d=/^[238]$/,l=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
q=/^(?:checked|selected)$/i;g(b,"attrFn",f||{},"jQuery.attrFn is deprecated");b.attr=function(e,g,h,k){var r=g.toLowerCase(),w=e&&e.nodeType;return k&&(4>c.length&&a("jQuery.fn.attr( props, pass ) is deprecated"),e&&!d.test(w)&&(f?g in f:b.isFunction(b.fn[g])))?b(e)[g](h):("type"===g&&h!==t&&m.test(e.nodeName)&&e.parentNode&&a("Can't change the 'type' of an input or button in IE 6/7/8"),!b.attrHooks[r]&&l.test(r)&&(b.attrHooks[r]={get:function(a,d){var c,e=b.prop(a,d);return!0===e||"boolean"!=typeof e&&
(c=a.getAttributeNode(d))&&!1!==c.nodeValue?d.toLowerCase():t},set:function(a,d,c){var e;return!1===d?b.removeAttr(a,c):(e=b.propFix[c]||c,e in a&&(a[e]=!0),a.setAttribute(c,c.toLowerCase())),c}},q.test(r)&&a("jQuery.fn.attr('"+r+"') may use property instead of attribute")),c.call(b,e,g,h))};b.attrHooks.value={get:function(d,b){var c=(d.nodeName||"").toLowerCase();return"button"===c?h.apply(this,arguments):("input"!==c&&"option"!==c&&a("jQuery.fn.attr('value') no longer gets properties"),b in d?d.value:
null)},set:function(d,b){var c=(d.nodeName||"").toLowerCase();return"button"===c?k.apply(this,arguments):("input"!==c&&"option"!==c&&a("jQuery.fn.attr('value', val) no longer sets properties"),d.value=b,t)}};var w,z,u=b.fn.init,B=b.parseJSON,r=/^([^<]*)(<[\w\W]+>)([^>]*)$/;b.fn.init=function(d,c,e){var f;return d&&"string"==typeof d&&!b.isPlainObject(c)&&(f=r.exec(b.trim(d)))&&f[0]&&("<"!==d.charAt(0)&&a("$(html) HTML strings must start with '<' character"),f[3]&&a("$(html) HTML text after last tag is ignored"),
"#"===f[0].charAt(0)&&(a("HTML string cannot start with a '#' character"),b.error("JQMIGRATE: Invalid selector string (XSS)")),c&&c.context&&(c=c.context),b.parseHTML)?u.call(this,b.parseHTML(f[2],c,!0),c,e):u.apply(this,arguments)};b.fn.init.prototype=b.fn;b.parseJSON=function(d){return d||null===d?B.apply(this,arguments):(a("jQuery.parseJSON requires a valid JSON string"),null)};b.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||
/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};b.browser||(w=b.uaMatch(navigator.userAgent),z={},w.browser&&(z[w.browser]=!0,z.version=w.version),z.chrome?z.webkit=!0:z.webkit&&(z.safari=!0),b.browser=z);g(b,"browser",b.browser,"jQuery.browser is deprecated");b.sub=function(){function d(a,b){return new d.fn.init(a,b)}b.extend(!0,d,this);d.superclass=this;d.fn=d.prototype=this();d.fn.constructor=d;d.sub=
this.sub;d.fn.init=function(a,e){return e&&e instanceof b&&!(e instanceof d)&&(e=d(e)),b.fn.init.call(this,a,e,c)};d.fn.init.prototype=d.fn;var c=d(document);return a("jQuery.sub() is deprecated"),d};b.ajaxSetup({converters:{"text json":b.parseJSON}});var A=b.fn.data;b.fn.data=function(d){var c,e,f=this[0];return!f||"events"!==d||1!==arguments.length||(c=b.data(f,d),e=b._data(f,d),c!==t&&c!==e||e===t)?A.apply(this,arguments):(a("Use of jQuery.fn.data('events') is deprecated"),e)};var v=/\/(java|ecma)script/i,
C=b.fn.andSelf||b.fn.addBack;b.fn.andSelf=function(){return a("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),C.apply(this,arguments)};b.clean||(b.clean=function(d,c,e,f){c=c||document;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;a("jQuery.clean() is deprecated");var g,l,h=[];if(b.merge(h,b.buildFragment(d,c).childNodes),e)for(g=function(a){return!a.type||v.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):t},d=0;null!=(c=h[d]);d++)b.nodeName(c,"script")&&g(c)||
(e.appendChild(c),c.getElementsByTagName!==t&&(l=b.grep(b.merge([],c.getElementsByTagName("script")),g),h.splice.apply(h,[d+1,0].concat(l)),d+=l.length));return h});var G=b.event.add,D=b.event.remove,O=b.event.trigger,F=b.fn.toggle,E=b.fn.live,M=b.fn.die,Q=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,J=/(?:^|\s)hover(\.\S+|)\b/,fa=function(d){return"string"!=typeof d||b.event.special.hover?d:(J.test(d)&&a("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),
d&&d.replace(J,"mouseenter$1 mouseleave$1"))};b.event.props&&"attrChange"!==b.event.props[0]&&b.event.props.unshift("attrChange","attrName","relatedNode","srcElement");b.event.dispatch&&g(b.event,"handle",b.event.dispatch,"jQuery.event.handle is undocumented and deprecated");b.event.add=function(d,b,c,e,f){d!==document&&Q.test(b)&&a("AJAX events should be attached to document: "+b);G.call(this,d,fa(b||""),c,e,f)};b.event.remove=function(a,d,b,c,e){D.call(this,a,fa(d)||"",b,c,e)};b.fn.error=function(){var d=
Array.prototype.slice.call(arguments,0);return a("jQuery.fn.error() is deprecated"),d.splice(0,0,"error"),arguments.length?this.bind.apply(this,d):(this.triggerHandler.apply(this,d),this)};b.fn.toggle=function(d,c){if(!b.isFunction(d)||!b.isFunction(c))return F.apply(this,arguments);a("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=d.guid||b.guid++,g=0,l=function(a){var c=(b._data(this,"lastToggle"+d.guid)||0)%g;return b._data(this,"lastToggle"+d.guid,c+1),a.preventDefault(),
e[c].apply(this,arguments)||!1};for(l.guid=f;e.length>g;)e[g++].guid=f;return this.click(l)};b.fn.live=function(d,c,e){return a("jQuery.fn.live() is deprecated"),E?E.apply(this,arguments):(b(this.context).on(d,this.selector,c,e),this)};b.fn.die=function(d,c){return a("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(b(this.context).off(d,this.selector||"**",c),this)};b.event.trigger=function(d,b,c,e){return c||Q.test(d)||a("Global events are undocumented and deprecated"),O.call(this,d,b,
c||document,e)};b.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(a,d){b.event.special[d]={setup:function(){var a=this;return a!==document&&(b.event.add(document,d+"."+b.guid,function(){b.event.trigger(d,null,a,!0)}),b._data(this,d,b.guid++)),!1},teardown:function(){return this!==document&&b.event.remove(document,d+"."+b._data(this,d)),!1}}})})(jQuery,window);/*
 jQuery UI - v1.12.1 - 2017-06-21
 http://jqueryui.com
 Includes: widget.js, position.js, data.js, keycode.js, scroll-parent.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/datepicker.js, widgets/menu.js, widgets/mouse.js, widgets/tooltip.js
 Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){function n(a){for(var d,b;a.length&&a[0]!==document;){if(d=a.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b))return b;a=a.parent()}return 0}function t(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass=
"ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};b.extend(this._defaults,
this.regional[""]);this.regional.en=b.extend(!0,{},this.regional[""]);this.regional["en-US"]=b.extend(!0,{},this.regional.en);this.dpDiv=a(b("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(a){return a.on("mouseout","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",function(){b(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).removeClass("ui-datepicker-prev-hover");
-1!==this.className.indexOf("ui-datepicker-next")&&b(this).removeClass("ui-datepicker-next-hover")}).on("mouseover","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",g)}function g(){b.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(b(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),b(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).addClass("ui-datepicker-prev-hover"),
-1!==this.className.indexOf("ui-datepicker-next")&&b(this).addClass("ui-datepicker-next-hover"))}function e(a,c){b.extend(a,c);for(var d in c)null==c[d]&&(a[d]=c[d]);return a}b.ui=b.ui||{};b.ui.version="1.12.1";var f=0,c=Array.prototype.slice;b.cleanData=function(a){return function(d){var c,e,f;for(f=0;null!=(e=d[f]);f++)try{(c=b._data(e,"events"))&&c.remove&&b(e).triggerHandler("remove")}catch(u){}a(d)}}(b.cleanData);b.widget=function(a,c,e){var d,f,g,l={},h=a.split(".")[0];a=a.split(".")[1];var q=
h+"-"+a;return e||(e=c,c=b.Widget),b.isArray(e)&&(e=b.extend.apply(null,[{}].concat(e))),b.expr[":"][q.toLowerCase()]=function(a){return!!b.data(a,q)},b[h]=b[h]||{},d=b[h][a],f=b[h][a]=function(a,d){return this._createWidget?(arguments.length&&this._createWidget(a,d),void 0):new f(a,d)},b.extend(f,d,{version:e.version,_proto:b.extend({},e),_childConstructors:[]}),g=new c,g.options=b.widget.extend({},g.options),b.each(e,function(a,d){return b.isFunction(d)?(l[a]=function(){function b(){return c.prototype[a].apply(this,
arguments)}function e(d){return c.prototype[a].apply(this,d)}return function(){var a,c=this._super,f=this._superApply;return this._super=b,this._superApply=e,a=d.apply(this,arguments),this._super=c,this._superApply=f,a}}(),void 0):(l[a]=d,void 0)}),f.prototype=b.widget.extend(g,{widgetEventPrefix:d?g.widgetEventPrefix||a:a},l,{constructor:f,namespace:h,widgetName:a,widgetFullName:q}),d?(b.each(d._childConstructors,function(a,d){var c=d.prototype;b.widget(c.namespace+"."+c.widgetName,f,d._proto)}),
delete d._childConstructors):c._childConstructors.push(f),b.widget.bridge(a,f),f};b.widget.extend=function(a){for(var d,e,f=c.call(arguments,1),g=0,h=f.length;h>g;g++)for(d in f[g])e=f[g][d],f[g].hasOwnProperty(d)&&void 0!==e&&(a[d]=b.isPlainObject(e)?b.isPlainObject(a[d])?b.widget.extend({},a[d],e):b.widget.extend({},e):e);return a};b.widget.bridge=function(a,e){var d=e.prototype.widgetFullName||a;b.fn[a]=function(f){var g="string"==typeof f,l=c.call(arguments,1),h=this;return g?this.length||"instance"!==
f?this.each(function(){var c,e=b.data(this,d);return"instance"===f?(h=e,!1):e?b.isFunction(e[f])&&"_"!==f.charAt(0)?(c=e[f].apply(e,l),c!==e&&void 0!==c?(h=c&&c.jquery?h.pushStack(c.get()):c,!1):void 0):b.error("no such method '"+f+"' for "+a+" widget instance"):b.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+f+"'")}):h=void 0:(l.length&&(f=b.widget.extend.apply(null,[f].concat(l))),this.each(function(){var a=b.data(this,d);a?(a.option(f||{}),a._init&&a._init()):
b.data(this,d,new e(f,this))})),h}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(a,c){c=b(c||this.defaultElement||this)[0];this.element=b(c);this.uuid=f++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=b();this.hoverable=b();this.focusable=b();this.classesElementLookup={};c!==this&&(b.data(c,this.widgetFullName,this),this._on(!0,
this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=b(c.style?c.ownerDocument:c.document||c),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this.options=b.widget.extend({},this.options,this._getCreateOptions(),a);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:b.noop,_create:b.noop,
_init:b.noop,destroy:function(){var a=this;this._destroy();b.each(this.classesElementLookup,function(d,b){a._removeClass(b,d)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:b.noop,widget:function(){return this.element},option:function(a,c){var d,e,f,g=a;if(0===arguments.length)return b.widget.extend({},this.options);if("string"==typeof a)if(g={},d=a.split("."),
a=d.shift(),d.length){e=g[a]=b.widget.extend({},this.options[a]);for(f=0;d.length-1>f;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(a=d.pop(),1===arguments.length)return void 0===e[a]?null:e[a];e[a]=c}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];g[a]=c}return this._setOptions(g),this},_setOptions:function(a){for(var d in a)this._setOption(d,a[d]);return this},_setOption:function(a,b){return"classes"===a&&this._setOptionClasses(b),this.options[a]=b,"disabled"===a&&this._setOptionDisabled(b),
this},_setOptionClasses:function(a){var d,c,e;for(d in a)e=this.classesElementLookup[d],a[d]!==this.options.classes[d]&&e&&e.length&&(c=b(e.get()),this._removeClass(e,d),c.addClass(this._classes({element:c,keys:d,classes:a,add:!0})))},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a);a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},
disable:function(){return this._setOptions({disabled:!0})},_classes:function(a){function d(d,f){var g,l;for(l=0;d.length>l;l++)g=e.classesElementLookup[d[l]]||b(),g=a.add?b(b.unique(g.get().concat(a.element.get()))):b(g.not(a.element).get()),e.classesElementLookup[d[l]]=g,c.push(d[l]),f&&a.classes[d[l]]&&c.push(a.classes[d[l]])}var c=[],e=this;return a=b.extend({element:this.element,classes:this.options.classes||{}},a),this._on(a.element,{remove:"_untrackClassesElement"}),a.keys&&d(a.keys.match(/\S+/g)||
[],!0),a.extra&&d(a.extra.match(/\S+/g)||[]),c.join(" ")},_untrackClassesElement:function(a){var d=this;b.each(d.classesElementLookup,function(c,e){-1!==b.inArray(a.target,e)&&(d.classesElementLookup[c]=b(e.not(a.target).get()))})},_removeClass:function(a,b,c){return this._toggleClass(a,b,c,!1)},_addClass:function(a,b,c){return this._toggleClass(a,b,c,!0)},_toggleClass:function(a,b,c,e){e="boolean"==typeof e?e:c;var d="string"==typeof a||null===a;a={extra:d?b:c,keys:d?a:b,element:d?this.element:a,
add:e};return a.element.toggleClass(this._classes(a),e),this},_on:function(a,c,e){var d,f=this;"boolean"!=typeof a&&(e=c,c=a,a=!1);e?(c=d=b(c),this.bindings=this.bindings.add(c)):(e=c,c=this.element,d=this.widget());b.each(e,function(e,g){function l(){return a||!0!==f.options.disabled&&!b(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(l.guid=g.guid=g.guid||l.guid||b.guid++);var h=e.match(/^([\w:-]*)\s*(.*)$/),q=h[1]+f.eventNamespace;
(h=h[2])?d.on(q,h,l):c.on(q,l)})},_off:function(a,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.off(c).off(c);this.bindings=b(this.bindings.not(a).get());this.focusable=b(this.focusable.not(a).get());this.hoverable=b(this.hoverable.not(a).get())},_delay:function(a,b){var d=this;return setTimeout(function(){return("string"==typeof a?d[a]:a).apply(d,arguments)},b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){this._addClass(b(a.currentTarget),
null,"ui-state-hover")},mouseleave:function(a){this._removeClass(b(a.currentTarget),null,"ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){this._addClass(b(a.currentTarget),null,"ui-state-focus")},focusout:function(a){this._removeClass(b(a.currentTarget),null,"ui-state-focus")}})},_trigger:function(a,c,e){var d,f=this.options[a];if(e=e||{},c=b.Event(c),c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),c.target=
this.element[0],a=c.originalEvent)for(d in a)d in c||(c[d]=a[d]);return this.element.trigger(c,e),!(b.isFunction(f)&&!1===f.apply(this.element[0],[c].concat(e))||c.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(a,c){b.Widget.prototype["_"+a]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,l=e?!0===e||"number"==typeof e?c:e.effect||c:a;e=e||{};"number"==typeof e&&(e={duration:e});g=!b.isEmptyObject(e);e.complete=f;e.delay&&d.delay(e.delay);g&&b.effects&&b.effects.effect[l]?
d[a](e):l!==a&&d[l]?d[l](e.duration,e.easing,f):d.queue(function(c){b(this)[a]();f&&f.call(d[0]);c()})}});b.widget;(function(){function a(a,d,b){return[parseFloat(a[0])*(v.test(a[0])?d/100:1),parseFloat(a[1])*(v.test(a[1])?b/100:1)]}function c(a){var d=a[0];return 9===d.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:b.isWindow(d)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:
{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}var e,f=Math.max,g=Math.abs,h=/left|center|right/,k=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,A=/^\w+/,v=/%$/,n=b.fn.position;b.position={scrollbarWidth:function(){if(void 0!==e)return e;var a,d,c=b("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=c.children()[0];return b("body").append(c),a=f.offsetWidth,c.css("overflow","scroll"),d=f.offsetWidth,
a===d&&(d=c[0].clientWidth),c.remove(),e=a-d},getScrollInfo:function(a){var d=a.isWindow||a.isDocument?"":a.element.css("overflow-x"),c=a.isWindow||a.isDocument?"":a.element.css("overflow-y"),d="scroll"===d||"auto"===d&&a.width<a.element[0].scrollWidth;return{width:"scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight?b.position.scrollbarWidth():0,height:d?b.position.scrollbarWidth():0}},getWithinInfo:function(a){var d=b(a||window),c=b.isWindow(d[0]),e=!!d[0]&&9===d[0].nodeType;return{element:d,
isWindow:c,isDocument:e,offset:c||e?{left:0,top:0}:b(a).offset(),scrollLeft:d.scrollLeft(),scrollTop:d.scrollTop(),width:d.outerWidth(),height:d.outerHeight()}}};b.fn.position=function(d){if(!d||!d.of)return n.apply(this,arguments);d=b.extend({},d);var e,l,q,r,w,z,u=b(d.of),v=b.position.getWithinInfo(d.within),B=b.position.getScrollInfo(v),C=(d.collision||"flip").split(" "),G={};return z=c(u),u[0].preventDefault&&(d.at="left top"),l=z.width,q=z.height,r=z.offset,w=b.extend({},r),b.each(["my","at"],
function(){var a,b,c=(d[this]||"").split(" ");1===c.length&&(c=h.test(c[0])?c.concat(["center"]):k.test(c[0])?["center"].concat(c):["center","center"]);c[0]=h.test(c[0])?c[0]:"center";c[1]=k.test(c[1])?c[1]:"center";a=m.exec(c[0]);b=m.exec(c[1]);G[this]=[a?a[0]:0,b?b[0]:0];d[this]=[A.exec(c[0])[0],A.exec(c[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===d.at[0]?w.left+=l:"center"===d.at[0]&&(w.left+=l/2),"bottom"===d.at[1]?w.top+=q:"center"===d.at[1]&&(w.top+=q/2),e=a(G.at,l,q),w.left+=e[0],w.top+=
e[1],this.each(function(){var c,h,k=b(this),m=k.outerWidth(),z=k.outerHeight(),D=parseInt(b.css(this,"marginLeft"),10)||0,A=parseInt(b.css(this,"marginTop"),10)||0,n=m+D+(parseInt(b.css(this,"marginRight"),10)||0)+B.width,E=z+A+(parseInt(b.css(this,"marginBottom"),10)||0)+B.height,F=b.extend({},w),O=a(G.my,k.outerWidth(),k.outerHeight());"right"===d.my[0]?F.left-=m:"center"===d.my[0]&&(F.left-=m/2);"bottom"===d.my[1]?F.top-=z:"center"===d.my[1]&&(F.top-=z/2);F.left+=O[0];F.top+=O[1];c={marginLeft:D,
marginTop:A};b.each(["left","top"],function(a,f){b.ui.position[C[a]]&&b.ui.position[C[a]][f](F,{targetWidth:l,targetHeight:q,elemWidth:m,elemHeight:z,collisionPosition:c,collisionWidth:n,collisionHeight:E,offset:[e[0]+O[0],e[1]+O[1]],my:d.my,at:d.at,within:v,elem:k})});d.using&&(h=function(a){var b=r.left-F.left,c=b+l-m,e=r.top-F.top,h=e+q-z,w={target:{element:u,left:r.left,top:r.top,width:l,height:q},element:{element:k,left:F.left,top:F.top,width:m,height:z},horizontal:0>c?"left":0<b?"right":"center",
vertical:0>h?"top":0<e?"bottom":"middle"};m>l&&l>g(b+c)&&(w.horizontal="center");z>q&&q>g(e+h)&&(w.vertical="middle");w.important=f(g(b),g(c))>f(g(e),g(h))?"horizontal":"vertical";d.using.call(this,a,w)});k.offset(b.extend(F,{using:h}))})};b.ui.position={fit:{left:function(a,d){var b,c=d.within,e=c.isWindow?c.scrollLeft:c.offset.left,c=c.width,g=a.left-d.collisionPosition.marginLeft,l=e-g,h=g+d.collisionWidth-c-e;d.collisionWidth>c?0<l&&0>=h?(b=a.left+l+d.collisionWidth-c-e,a.left+=l-b):a.left=0<
h&&0>=l?e:l>h?e+c-d.collisionWidth:e:0<l?a.left+=l:0<h?a.left-=h:a.left=f(a.left-g,a.left)},top:function(a,d){var b,c=d.within,c=c.isWindow?c.scrollTop:c.offset.top,e=d.within.height,g=a.top-d.collisionPosition.marginTop,l=c-g,h=g+d.collisionHeight-e-c;d.collisionHeight>e?0<l&&0>=h?(b=a.top+l+d.collisionHeight-e-c,a.top+=l-b):a.top=0<h&&0>=l?c:l>h?c+e-d.collisionHeight:c:0<l?a.top+=l:0<h?a.top-=h:a.top=f(a.top-g,a.top)}},flip:{left:function(a,d){var b,c,e=d.within,f=e.offset.left+e.scrollLeft,l=e.width,
e=e.isWindow?e.scrollLeft:e.offset.left,h=a.left-d.collisionPosition.marginLeft,q=h-e,h=h+d.collisionWidth-l-e,k="left"===d.my[0]?-d.elemWidth:"right"===d.my[0]?d.elemWidth:0,m="left"===d.at[0]?d.targetWidth:"right"===d.at[0]?-d.targetWidth:0,r=-2*d.offset[0];0>q?(b=a.left+k+m+r+d.collisionWidth-l-f,(0>b||g(q)>b)&&(a.left+=k+m+r)):0<h&&(c=a.left-d.collisionPosition.marginLeft+k+m+r-e,(0<c||h>g(c))&&(a.left+=k+m+r))},top:function(a,d){var b,c,e=d.within,f=e.offset.top+e.scrollTop,l=e.height,e=e.isWindow?
e.scrollTop:e.offset.top,h=a.top-d.collisionPosition.marginTop,q=h-e,h=h+d.collisionHeight-l-e,k="top"===d.my[1]?-d.elemHeight:"bottom"===d.my[1]?d.elemHeight:0,m="top"===d.at[1]?d.targetHeight:"bottom"===d.at[1]?-d.targetHeight:0,r=-2*d.offset[1];0>q?(c=a.top+k+m+r+d.collisionHeight-l-f,(0>c||g(q)>c)&&(a.top+=k+m+r)):0<h&&(b=a.top-d.collisionPosition.marginTop+k+m+r-e,(0<b||h>g(b))&&(a.top+=k+m+r))}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments);b.ui.position.fit.left.apply(this,
arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments);b.ui.position.fit.top.apply(this,arguments)}}}})();b.ui.position;b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(a){return function(d){return!!b.data(d,a)}}):function(a,c,e){return!!b.data(a,e[3])}});b.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};b.fn.scrollParent=function(a){var d=this.css("position"),
c="absolute"===d,e=a?/(auto|scroll|hidden)/:/(auto|scroll)/;a=this.parents().filter(function(){var a=b(this);return c&&"static"===a.css("position")?!1:e.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==d&&a.length?a:b(this[0].ownerDocument||document)};b.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&b(this).removeAttr("id")})}});
b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var h=!1;b(document).on("mouseup",function(){h=!1});b.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.on("mousedown."+this.widgetName,function(d){return a._mouseDown(d)}).on("click."+this.widgetName,function(d){return!0===b.data(d.target,a.widgetName+".preventClickEvent")?(b.removeData(d.target,a.widgetName+".preventClickEvent"),
d.stopImmediatePropagation(),!1):void 0});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!h){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var d=this,c=1===a.which,e="string"==typeof this.options.cancel&&a.target.nodeName?b(a.target).closest(this.options.cancel).length:
!1;return c&&!e&&this._mouseCapture(a)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted)?(a.preventDefault(),!0):(!0===b.data(a.target,this.widgetName+".preventClickEvent")&&b.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},
this._mouseUpDelegate=function(a){return d._mouseUp(a)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),h=!0,!0)):!0}},_mouseMove:function(a){if(this._mouseMoved){if(b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button)return this._mouseUp(a);if(!a.which)if(a.originalEvent.altKey||a.originalEvent.ctrlKey||a.originalEvent.metaKey||a.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(a)}return(a.which||
a.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a),this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted)},_mouseUp:function(a){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&
b.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);h=this.ignoreMissingWhich=!1;a.preventDefault()},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},
_mouseCapture:function(){return!0}});b.ui.plugin={add:function(a,c,e){var d;a=b.ui[a].prototype;for(d in e)a.plugins[d]=a.plugins[d]||[],a.plugins[d].push([c,e[d]])},call:function(a,b,c,e){if((b=a.plugins[b])&&(e||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;b.length>e;e++)a.options[b[e][0]]&&b[e][1].apply(a.element,c)}};b.ui.safeActiveElement=function(a){var d;try{d=a.activeElement}catch(q){d=a.body}return d||(d=a.body),d.nodeName||(d=a.body),d};b.ui.safeBlur=function(a){a&&
"body"!==a.nodeName.toLowerCase()&&b(a).trigger("blur")};b.widget("ui.draggable",b.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},
_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(a,b){this._super(a,b);"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(a){var d=
this.options;return this.helper||d.disabled||0<b(a.target).closest(".ui-resizable-handle").length?!1:(this.handle=this._getHandle(a),this.handle?(this._blurActiveElement(a),this._blockFrames(!0===d.iframeFix?"iframe":d.iframeFix),!0):!1)},_blockFrames:function(a){this.iframeBlocks=this.document.find(a).map(function(){var a=b(this);return b("<div>").css("position","absolute").appendTo(a.parent()).outerWidth(a.outerWidth()).outerHeight(a.outerHeight()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&
(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(a){var d=b.ui.safeActiveElement(this.document[0]);b(a.target).closest(d).length||b.ui.safeBlur(d)},_mouseStart:function(a){var d=this.options;return this.helper=this._createHelper(a),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),
this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===b(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(a),this.originalPosition=this.position=this._generatePosition(a,!1),this.originalPageX=a.pageX,this.originalPageY=a.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this._setContainment(),!1===this._trigger("start",a)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&
!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a),this._mouseDrag(a,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,a),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(a,c){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),
this.position=this._generatePosition(a,!0),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(!1===this._trigger("drag",a,d))return this._mouseUp(new b.Event("mouseup",a)),!1;this.position=d.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",b.ui.ddmanager&&b.ui.ddmanager.drag(this,a),!1},_mouseStop:function(a){var d=this,c=!1;return b.ui.ddmanager&&!this.options.dropBehaviour&&(c=b.ui.ddmanager.drop(this,
a)),this.dropped&&(c=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!c||"valid"===this.options.revert&&c||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)?b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==d._trigger("stop",a)&&d._clear()}):!1!==this._trigger("stop",a)&&this._clear(),!1},_mouseUp:function(a){return this._unblockFrames(),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,
a),this.handleElement.is(a.target)&&this.element.trigger("focus"),b.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new b.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(a){return this.options.handle?!!b(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;
this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(a){var d=this.options,c=b.isFunction(d.helper);a=c?b(d.helper.apply(this.element[0],[a])):"clone"===d.helper?this.element.clone().removeAttr("id"):this.element;return a.parents("body").length||a.appendTo("parent"===d.appendTo?this.element[0].parentNode:d.appendTo),c&&a[0]===this.element[0]&&this._setPositionRelative(),a[0]===
this.element[0]||/(fixed|absolute)/.test(a.css("position"))||a.css("position","absolute"),a},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&
(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var a=this.offsetParent.offset(),c=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==c&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),
this._isRootNode(this.offsetParent[0])&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||
0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,c,e,f=this.options,g=this.document[0];return this.relativeContainer=
null,f.containment?"window"===f.containment?(this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===f.containment?(this.containment=[0,0,b(g).width()-this.helperProportions.width-
this.margins.left,(b(g).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):f.containment.constructor===Array?(this.containment=f.containment,void 0):("parent"===f.containment&&(f.containment=this.helper[0].parentNode),c=b(f.containment),e=c[0],e&&(a=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),
10)||0),(a?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c),void 0):(this.containment=null,void 0)},_convertPositionTo:function(a,
b){b||(b=this.position);var d="absolute"===a?1:-1,c=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.offset.scroll.top:c?0:this.offset.scroll.top)*d,left:b.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.offset.scroll.left:c?0:this.offset.scroll.left)*d}},_generatePosition:function(a,b){var d,c,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),l=a.pageX,
k=a.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(c=this.relativeContainer.offset(),d=[this.containment[0]+c.left,this.containment[1]+c.top,this.containment[2]+c.left,this.containment[3]+c.top]):d=this.containment,a.pageX-this.offset.click.left<d[0]&&(l=d[0]+this.offset.click.left),a.pageY-this.offset.click.top<d[1]&&(k=d[1]+this.offset.click.top),a.pageX-this.offset.click.left>
d[2]&&(l=d[2]+this.offset.click.left),a.pageY-this.offset.click.top>d[3]&&(k=d[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((k-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,k=d?e-this.offset.click.top>=d[1]||e-this.offset.click.top>d[3]?e:e-this.offset.click.top>=d[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,l=d?f-this.offset.click.left>=d[0]||f-this.offset.click.left>
d[2]?f:f-this.offset.click.left>=d[0]?f-g.grid[0]:f+g.grid[0]:f),"y"===g.axis&&(l=this.originalPageX),"x"===g.axis&&(k=this.originalPageY)),{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,
"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(a,c,e){return e=e||this._uiHash(),b.ui.plugin.call(this,a,[c,e,this],!0),/^(drag|start|stop)/.test(a)&&(this.positionAbs=this._convertPositionTo("absolute"),e.offset=this.positionAbs),b.Widget.prototype._trigger.call(this,a,c,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,
originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(a,c,e){var d=b.extend({},c,{item:e.element});e.sortables=[];b(e.options.connectToSortable).each(function(){var c=b(this).sortable("instance");c&&!c.options.disabled&&(e.sortables.push(c),c.refreshPositions(),c._trigger("activate",a,d))})},stop:function(a,c,e){var d=b.extend({},c,{item:e.element});e.cancelHelperRemoval=!1;b.each(e.sortables,function(){this.isOver?(this.isOver=
0,e.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(a),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",a,d))})},drag:function(a,c,e){b.each(e.sortables,function(){var d=!1,f=this;f.positionAbs=e.positionAbs;f.helperProportions=e.helperProportions;f.offset.click=e.offset.click;f._intersectsWith(f.containerCache)&&
(d=!0,b.each(e.sortables,function(){return this.positionAbs=e.positionAbs,this.helperProportions=e.helperProportions,this.offset.click=e.offset.click,this!==f&&this._intersectsWith(this.containerCache)&&b.contains(f.element[0],this.element[0])&&(d=!1),d}));d?(f.isOver||(f.isOver=1,e._parent=c.helper.parent(),f.currentItem=c.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return c.helper[0]},a.target=f.currentItem[0],f._mouseCapture(a,
!0),f._mouseStart(a,!0,!0),f.offset.click.top=e.offset.click.top,f.offset.click.left=e.offset.click.left,f.offset.parent.left-=e.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=e.offset.parent.top-f.offset.parent.top,e._trigger("toSortable",a),e.dropped=f.element,b.each(e.sortables,function(){this.refreshPositions()}),e.currentItem=e.element,f.fromOutside=e),f.currentItem&&(f._mouseDrag(a),c.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,
f.options.revert=!1,f._trigger("out",a,f._uiHash(f)),f._mouseStop(a,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),c.helper.appendTo(e._parent),e._refreshOffsets(a),c.position=e._generatePosition(a,!0),e._trigger("fromSortable",a),e.dropped=!1,b.each(e.sortables,function(){this.refreshPositions()}))})}});b.ui.plugin.add("draggable","cursor",{start:function(a,c,e){a=b("body");e=e.options;a.css("cursor")&&(e._cursor=a.css("cursor"));a.css("cursor",
e.cursor)},stop:function(a,c,e){a=e.options;a._cursor&&b("body").css("cursor",a._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(a,c,e){a=b(c.helper);e=e.options;a.css("opacity")&&(e._opacity=a.css("opacity"));a.css("opacity",e.opacity)},stop:function(a,c,e){a=e.options;a._opacity&&b(c.helper).css("opacity",a._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1));c.scrollParentNotHidden[0]!==
c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(a,c,e){c=e.options;var d=!1,f=e.scrollParentNotHidden[0],g=e.document[0];f!==g&&"HTML"!==f.tagName?(c.axis&&"x"===c.axis||(e.overflowOffset.top+f.offsetHeight-a.pageY<c.scrollSensitivity?f.scrollTop=d=f.scrollTop+c.scrollSpeed:a.pageY-e.overflowOffset.top<c.scrollSensitivity&&(f.scrollTop=d=f.scrollTop-c.scrollSpeed)),c.axis&&"y"===c.axis||(e.overflowOffset.left+f.offsetWidth-
a.pageX<c.scrollSensitivity?f.scrollLeft=d=f.scrollLeft+c.scrollSpeed:a.pageX-e.overflowOffset.left<c.scrollSensitivity&&(f.scrollLeft=d=f.scrollLeft-c.scrollSpeed))):(c.axis&&"x"===c.axis||(a.pageY-b(g).scrollTop()<c.scrollSensitivity?d=b(g).scrollTop(b(g).scrollTop()-c.scrollSpeed):b(window).height()-(a.pageY-b(g).scrollTop())<c.scrollSensitivity&&(d=b(g).scrollTop(b(g).scrollTop()+c.scrollSpeed))),c.axis&&"y"===c.axis||(a.pageX-b(g).scrollLeft()<c.scrollSensitivity?d=b(g).scrollLeft(b(g).scrollLeft()-
c.scrollSpeed):b(window).width()-(a.pageX-b(g).scrollLeft())<c.scrollSensitivity&&(d=b(g).scrollLeft(b(g).scrollLeft()+c.scrollSpeed))));!1!==d&&b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(e,a)}});b.ui.plugin.add("draggable","snap",{start:function(a,c,e){a=e.options;e.snapElements=[];b(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var a=b(this),d=a.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),
top:d.top,left:d.left})})},drag:function(a,c,e){var d,f,g,h,l,k,q,m,n,D,O=e.options,F=O.snapTolerance,E=c.offset.left,t=E+e.helperProportions.width,Q=c.offset.top,J=Q+e.helperProportions.height;for(n=e.snapElements.length-1;0<=n;n--)l=e.snapElements[n].left-e.margins.left,k=l+e.snapElements[n].width,q=e.snapElements[n].top-e.margins.top,m=q+e.snapElements[n].height,l-F>t||E>k+F||q-F>J||Q>m+F||!b.contains(e.snapElements[n].item.ownerDocument,e.snapElements[n].item)?(e.snapElements[n].snapping&&e.options.snap.release&&
e.options.snap.release.call(e.element,a,b.extend(e._uiHash(),{snapItem:e.snapElements[n].item})),e.snapElements[n].snapping=!1):("inner"!==O.snapMode&&(d=F>=Math.abs(q-J),f=F>=Math.abs(m-Q),g=F>=Math.abs(l-t),h=F>=Math.abs(k-E),d&&(c.position.top=e._convertPositionTo("relative",{top:q-e.helperProportions.height,left:0}).top),f&&(c.position.top=e._convertPositionTo("relative",{top:m,left:0}).top),g&&(c.position.left=e._convertPositionTo("relative",{top:0,left:l-e.helperProportions.width}).left),h&&
(c.position.left=e._convertPositionTo("relative",{top:0,left:k}).left)),D=d||f||g||h,"outer"!==O.snapMode&&(d=F>=Math.abs(q-Q),f=F>=Math.abs(m-J),g=F>=Math.abs(l-E),h=F>=Math.abs(k-t),d&&(c.position.top=e._convertPositionTo("relative",{top:q,left:0}).top),f&&(c.position.top=e._convertPositionTo("relative",{top:m-e.helperProportions.height,left:0}).top),g&&(c.position.left=e._convertPositionTo("relative",{top:0,left:l}).left),h&&(c.position.left=e._convertPositionTo("relative",{top:0,left:k-e.helperProportions.width}).left)),
!e.snapElements[n].snapping&&(d||f||g||h||D)&&e.options.snap.snap&&e.options.snap.snap.call(e.element,a,b.extend(e._uiHash(),{snapItem:e.snapElements[n].item})),e.snapElements[n].snapping=d||f||g||h||D)}});b.ui.plugin.add("draggable","stack",{start:function(a,c,e){var d;a=b.makeArray(b(e.options.stack)).sort(function(a,d){return(parseInt(b(a).css("zIndex"),10)||0)-(parseInt(b(d).css("zIndex"),10)||0)});a.length&&(d=parseInt(b(a[0]).css("zIndex"),10)||0,b(a).each(function(a){b(this).css("zIndex",d+
a)}),this.css("zIndex",d+a.length))}});b.ui.plugin.add("draggable","zIndex",{start:function(a,c,e){a=b(c.helper);e=e.options;a.css("zIndex")&&(e._zIndex=a.css("zIndex"));a.css("zIndex",e.zIndex)},stop:function(a,c,e){a=e.options;a._zIndex&&b(c.helper).css("zIndex",a._zIndex)}});b.ui.draggable;b.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},
_create:function(){var a,c=this.options,e=c.accept;this.isover=!1;this.isout=!0;this.accept=b.isFunction(e)?e:function(a){return a.is(e)};this.proportions=function(){return arguments.length?(a=arguments[0],void 0):a?a:a={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(c.scope);c.addClasses&&this._addClass("ui-droppable")},_addToManager:function(a){b.ui.ddmanager.droppables[a]=b.ui.ddmanager.droppables[a]||[];b.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var d=
0;a.length>d;d++)a[d]===this&&a.splice(d,1)},_destroy:function(){this._splice(b.ui.ddmanager.droppables[this.options.scope])},_setOption:function(a,c){"accept"===a?this.accept=b.isFunction(c)?c:function(a){return a.is(c)}:"scope"===a&&(this._splice(b.ui.ddmanager.droppables[this.options.scope]),this._addToManager(c));this._super(a,c)},_activate:function(a){var d=b.ui.ddmanager.current;this._addActiveClass();d&&this._trigger("activate",a,this.ui(d))},_deactivate:function(a){var d=b.ui.ddmanager.current;
this._removeActiveClass();d&&this._trigger("deactivate",a,this.ui(d))},_over:function(a){var d=b.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this._addHoverClass(),this._trigger("over",a,this.ui(d)))},_out:function(a){var d=b.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this._removeHoverClass(),this._trigger("out",a,this.ui(d)))},
_drop:function(a,c){var d=c||b.ui.ddmanager.current,e=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var c=b(this).droppable("instance");return c.options.greedy&&!c.options.disabled&&c.options.scope===d.options.scope&&c.accept.call(c.element[0],d.currentItem||d.element)&&k(d,b.extend(c,{offset:c.element.offset()}),c.options.tolerance,a)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||
d.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",a,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});
var k=b.ui.intersect=function(){return function(a,b,c,e){if(!b.offset)return!1;var d=(a.positionAbs||a.position.absolute).left+a.margins.left,f=(a.positionAbs||a.position.absolute).top+a.margins.top,g=d+a.helperProportions.width,h=f+a.helperProportions.height,l=b.offset.left,k=b.offset.top,q=l+b.proportions().width,m=k+b.proportions().height;switch(c){case "fit":return d>=l&&q>=g&&f>=k&&m>=h;case "intersect":return d+a.helperProportions.width/2>l&&q>g-a.helperProportions.width/2&&f+a.helperProportions.height/
2>k&&m>h-a.helperProportions.height/2;case "pointer":a=e.pageY;c=b.proportions().height;if(k=a>=k&&k+c>a)e=e.pageX,b=b.proportions().width,k=e>=l&&l+b>e;return k;case "touch":return(f>=k&&m>=f||h>=k&&m>=h||k>f&&h>m)&&(d>=l&&q>=d||g>=l&&q>=g||l>d&&g>q);default:return!1}}}();b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,c){var d,e,f=b.ui.ddmanager.droppables[a.options.scope]||[],g=c?c.type:null,h=(a.currentItem||a.element).find(":data(ui-droppable)").addBack();d=0;
a:for(;f.length>d;d++)if(!(f[d].options.disabled||a&&!f[d].accept.call(f[d].element[0],a.currentItem||a.element))){for(e=0;h.length>e;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display");f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(a,c){var d=!1;return b.each((b.ui.ddmanager.droppables[a.options.scope]||
[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&k(a,this,this.options.tolerance,c)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(a,c){a.element.parentsUntil("body").on("scroll.droppable",function(){a.options.refreshPositions||b.ui.ddmanager.prepareOffsets(a,c)})},drag:function(a,c){a.options.refreshPositions&&
b.ui.ddmanager.prepareOffsets(a,c);b.each(b.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=k(a,this,this.options.tolerance,c);(g=!g&&this.isover?"isout":g&&!this.isover?"isover":null)&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return b(this).droppable("instance").options.scope===e}),f.length&&(d=b(f[0]).droppable("instance"),d.greedyChild="isover"===g)),
d&&"isover"===g&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[g]=!0,this["isout"===g?"isover":"isout"]=!1,this["isover"===g?"_over":"_out"].call(this,c),d&&"isout"===g&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(a,c){a.element.parentsUntil("body").off("scroll.droppable");a.options.refreshPositions||b.ui.ddmanager.prepareOffsets(a,c)}};!1!==b.uiBackCompat&&b.widget("ui.droppable",b.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super();
this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});b.ui.droppable;b.widget("ui.sortable",b.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",
ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,
b,c){return a>=b&&b+c>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(a,b){this._super(a,b);"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){var a=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");
b.each(this.items,function(){a._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(a,c){var d=null,e=!1,f=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(a),b(a.target).parents().each(function(){return b.data(this,
f.widgetName+"-item")===f?(d=b(this),!1):void 0}),b.data(a.target,f.widgetName+"-item")===f&&(d=b(a.target)),d?!this.options.handle||c||(b(this.options.handle,d).find("*").addBack().each(function(){this===a.target&&(e=!0)}),e)?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(a,c,e){var d;c=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),
this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),c.containment&&this._setContainment(),c.cursor&&"auto"!==c.cursor&&(d=this.document.find("body"),this.storedCursor=d.css("cursor"),d.css("cursor",c.cursor),this.storedStylesheet=b("<style>*{ cursor: "+c.cursor+" !important; }</style>").appendTo(d)),c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",c.opacity)),c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!e)for(e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("activate",a,this._uiHash(this));return b.ui.ddmanager&&
(b.ui.ddmanager.current=this),b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){var d,c,e,f;d=this.options;var g=!1;this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?
(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<d.scrollSensitivity?this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop+d.scrollSpeed:a.pageY-this.overflowOffset.top<d.scrollSensitivity&&(this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop-d.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<d.scrollSensitivity?this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft+d.scrollSpeed:a.pageX-this.overflowOffset.left<d.scrollSensitivity&&
(this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft-d.scrollSpeed)):(a.pageY-this.document.scrollTop()<d.scrollSensitivity?g=this.document.scrollTop(this.document.scrollTop()-d.scrollSpeed):this.window.height()-(a.pageY-this.document.scrollTop())<d.scrollSensitivity&&(g=this.document.scrollTop(this.document.scrollTop()+d.scrollSpeed)),a.pageX-this.document.scrollLeft()<d.scrollSensitivity?g=this.document.scrollLeft(this.document.scrollLeft()-d.scrollSpeed):this.window.width()-(a.pageX-
this.document.scrollLeft())<d.scrollSensitivity&&(g=this.document.scrollLeft(this.document.scrollLeft()+d.scrollSpeed))),!1!==g&&b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(d=this.items.length-1;0<=d;d--)if(c=this.items[d],e=
c.item[0],f=this._intersectsWithPointer(c),f&&c.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!b.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!b.contains(this.element[0],e):!0)){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(c))break;this._rearrange(a,c);this._trigger("change",a,this._uiHash());break}return this._contactContainers(a),b.ui.ddmanager&&b.ui.ddmanager.drag(this,
a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,c){if(a){if(b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,a),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===
this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;b(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(a)})}else this._clear(a,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new b.Event("mouseup",{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var a=this.containers.length-1;0<=a;a--)this.containers[a]._trigger("deactivate",
null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):
b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var d=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},b(d).each(function(){var d=(b(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);d&&c.push((a.key||d[1]+"[]")+"="+(a.key&&a.expression?d[1]:d[2]))}),!c.length&&a.key&&c.push(a.key+"="),c.join("&")},toArray:function(a){var d=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},d.each(function(){c.push(b(a.item||this).attr(a.attribute||
"id")||"")}),c},_intersectsWith:function(a){var d=this.positionAbs.left,b=d+this.helperProportions.width,c=this.positionAbs.top,e=c+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,k=h+a.height,m=this.offset.click.top,n=this.offset.click.left,m="x"===this.options.axis||c+m>h&&k>c+m,n="y"===this.options.axis||d+n>f&&g>d+n;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>
a[this.floating?"width":"height"]?m&&n:d+this.helperProportions.width/2>f&&g>b-this.helperProportions.width/2&&c+this.helperProportions.height/2>h&&k>e-this.helperProportions.height/2},_intersectsWithPointer:function(a){var d,b,c="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);return c&&a?(d=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection(),
this.floating?"right"===b||"down"===d?2:1:d&&("down"===d?2:1)):!1},_intersectsWithSides:function(a){var d=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var b=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return this.floating&&c?"right"===c&&a||"left"===c&&!a:b&&("down"===b&&d||"up"===b&&!d)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-
this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function d(){g.push(this)}var c,e,f,g=[],h=[],k=this._connectWith();
if(k&&a)for(a=k.length-1;0<=a;a--)for(e=b(k[a],this.document[0]),c=e.length-1;0<=c;c--)(f=b.data(e[c],this.widgetFullName))&&f!==this&&!f.options.disabled&&h.push([b.isFunction(f.options.items)?f.options.items.call(f.element):b(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f]);h.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(a=h.length-1;0<=a;a--)h[a][0].each(d);return b(g)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(d){for(var b=0;a.length>b;b++)if(a[b]===d.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[];this.containers=[this];var d,c,e,f,g,h=this.items,k=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):b(this.options.items,this.element),this]];
if((g=this._connectWith())&&this.ready)for(d=g.length-1;0<=d;d--)for(e=b(g[d],this.document[0]),c=e.length-1;0<=c;c--)(f=b.data(e[c],this.widgetFullName))&&f!==this&&!f.options.disabled&&(k.push([b.isFunction(f.options.items)?f.options.items.call(f.element[0],a,{item:this.currentItem}):b(f.options.items,f.element),f]),this.containers.push(f));for(d=k.length-1;0<=d;d--)for(a=k[d][1],e=k[d][0],c=0,g=e.length;g>c;c++)f=b(e[c]),f.data(this.widgetName+"-item",a),h.push({item:f,instance:a,width:0,height:0,
left:0,top:0})},refreshPositions:function(a){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var d,c,e,f;for(d=this.items.length-1;0<=d;d--)c=this.items[d],c.instance!==this.currentContainer&&this.currentContainer&&c.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?b(this.options.toleranceElement,c.item):c.item,a||(c.width=e.outerWidth(),c.height=e.outerHeight()),
f=e.offset(),c.left=f.left,c.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(d=this.containers.length-1;0<=d;d--)f=this.containers[d].element.offset(),this.containers[d].containerCache.left=f.left,this.containers[d].containerCache.top=f.top,this.containers[d].containerCache.width=this.containers[d].element.outerWidth(),this.containers[d].containerCache.height=this.containers[d].element.outerHeight();return this},_createPlaceholder:function(a){a=
a||this;var d,c=a.options;c.placeholder&&c.placeholder.constructor!==String||(d=c.placeholder,c.placeholder={element:function(){var c=a.currentItem[0].nodeName.toLowerCase(),e=b("<"+c+">",a.document[0]);return a._addClass(e,"ui-sortable-placeholder",d||a.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===c?a._createTrPlaceholder(a.currentItem.find("tr").eq(0),b("<tr>",a.document[0]).appendTo(e)):"tr"===c?a._createTrPlaceholder(a.currentItem,e):"img"===c&&e.attr("src",a.currentItem.attr("src")),
d||e.css("visibility","hidden"),e},update:function(b,e){(!d||c.forcePlaceholderSize)&&(e.height()||e.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}});a.placeholder=b(c.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);c.placeholder.update(a,
a.placeholder)},_createTrPlaceholder:function(a,c){var d=this;a.children().each(function(){b("<td>&#160;</td>",d.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(c)})},_contactContainers:function(a){var d,c,e,f,g,h,k,m,v=f=null;for(d=this.containers.length-1;0<=d;d--)b.contains(this.currentItem[0],this.containers[d].element[0])||(this._intersectsWith(this.containers[d].containerCache)?f&&b.contains(this.containers[d].element[0],f.element[0])||(f=this.containers[d],v=d):this.containers[d].containerCache.over&&
(this.containers[d]._trigger("out",a,this._uiHash(this)),this.containers[d].containerCache.over=0));if(f)if(1===this.containers.length)this.containers[v].containerCache.over||(this.containers[v]._trigger("over",a,this._uiHash(this)),this.containers[v].containerCache.over=1);else{d=1E4;e=null;f=(c=f.floating||this._isFloating(this.currentItem))?"left":"top";g=c?"width":"height";m=c?"pageX":"pageY";for(c=this.items.length-1;0<=c;c--)b.contains(this.containers[v].element[0],this.items[c].item[0])&&this.items[c].item[0]!==
this.currentItem[0]&&(h=this.items[c].item.offset()[f],k=!1,a[m]-h>this.items[c][g]/2&&(k=!0),d>Math.abs(a[m]-h)&&(d=Math.abs(a[m]-h),e=this.items[c],this.direction=k?"up":"down"));if(e||this.options.dropOnEmpty){if(this.currentContainer===this.containers[v])return this.currentContainer.containerCache.over||(this.containers[v]._trigger("over",a,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;e?this._rearrange(a,e,null,!0):this._rearrange(a,null,this.containers[v].element,!0);this._trigger("change",
a,this._uiHash());this.containers[v]._trigger("change",a,this._uiHash(this));this.currentContainer=this.containers[v];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[v]._trigger("over",a,this._uiHash(this));this.containers[v].containerCache.over=1}}},_createHelper:function(a){var d=this.options;a=b.isFunction(d.helper)?b(d.helper.apply(this.element[0],[a,this.currentItem])):"clone"===d.helper?this.currentItem.clone():this.currentItem;return a.parents("body").length||
b("parent"!==d.appendTo?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]),a[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!a[0].style.width||d.forceHelperSize)&&a.width(this.currentItem.width()),(!a[0].style.height||d.forceHelperSize)&&a.height(this.currentItem.height()),a},_adjustOffsetFromHelper:function(a){"string"==
typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"===
this.cssPosition&&this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===
this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var a,c,e,f=this.options;"parent"===f.containment&&(f.containment=this.helper[0].parentNode);"document"!==f.containment&&"window"!==f.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===f.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===f.containment?this.document.height()||document.body.parentNode.scrollHeight:
this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(f.containment)||(a=b(f.containment)[0],c=b(f.containment).offset(),e="hidden"!==b(a).css("overflow"),this.containment=[c.left+(parseInt(b(a).css("borderLeftWidth"),10)||0)+(parseInt(b(a).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(a).css("borderTopWidth"),10)||0)+(parseInt(b(a).css("paddingTop"),10)||0)-this.margins.top,c.left+(e?
Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(b(a).css("borderLeftWidth"),10)||0)-(parseInt(b(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(e?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(b(a).css("borderTopWidth"),10)||0)-(parseInt(b(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,c){c||(c=this.position);var d="absolute"===a?1:-1,e="absolute"!==this.cssPosition||
this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(a){var d,
c,e=this.options,f=a.pageX,g=a.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&
(f=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(d=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?d-this.offset.click.top>=this.containment[1]&&d-this.offset.click.top<=
this.containment[3]?d:d-this.offset.click.top>=this.containment[1]?d-e.grid[1]:d+e.grid[1]:d,c=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?c-this.offset.click.left>=this.containment[0]&&c-this.offset.click.left<=this.containment[2]?c:c-this.offset.click.left>=this.containment[0]?c-e.grid[0]:c+e.grid[0]:c)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:h.scrollTop()),
left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:h.scrollLeft())}},_rearrange:function(a,b,c,e){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var d=this.counter=this.counter?++this.counter:1;this._delay(function(){d===this.counter&&this.refreshPositions(!e)})},_clear:function(a,b){function d(a,d,b){return function(c){b._trigger(a,
c,d._uiHash(d))}}this.reverting=!1;var c,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)"auto"!==this._storedCSS[c]&&"static"!==this._storedCSS[c]||(this._storedCSS[c]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",
a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(d){a._trigger("receive",d,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(d){a._trigger("update",
d,this._uiHash(this))}}.call(this,this.currentContainer))));for(c=this.containers.length-1;0<=c;c--)b||e.push(d("deactivate",this,this.containers[c])),this.containers[c].containerCache.over&&(e.push(d("out",this,this.containers[c])),this.containers[c].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",
"auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!b){for(c=0;e.length>c;c++)e[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===b.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},
_uiHash:function(a){var d=a||this;return{helper:d.helper,placeholder:d.placeholder||b([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:a?a.element:null}}});b.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",
icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=b();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");a.collapsible||
!1!==a.active&&null!=a.active||(a.active=0);this._processPanels();0>a.active&&(a.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():b()}},_createIcons:function(){var a,c,e=this.options.icons;e&&(a=b("<span>"),this._addClass(a,"ui-accordion-header-icon","ui-icon "+e.header),a.prependTo(this.headers),c=this.active.children(".ui-accordion-header-icon"),this._removeClass(c,e.header)._addClass(c,null,e.activeHeader)._addClass(this.headers,
"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&a.css("height","")},
_setOption:function(a,b){return"active"===a?(this._activate(b),void 0):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),void 0)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",a);this._toggleClass(null,"ui-state-disabled",!!a);this._toggleClass(this.headers.add(this.headers.next()),
null,"ui-state-disabled",!!a)},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var d=b.ui.keyCode,c=this.headers.length,e=this.headers.index(a.target),f=!1;switch(a.keyCode){case d.RIGHT:case d.DOWN:f=this.headers[(e+1)%c];break;case d.LEFT:case d.UP:f=this.headers[(e-1+c)%c];break;case d.SPACE:case d.ENTER:this._eventHandler(a);break;case d.HOME:f=this.headers[0];break;case d.END:f=this.headers[c-1]}f&&(b(a.target).attr("tabIndex",-1),b(f).attr("tabIndex",0),b(f).trigger("focus"),a.preventDefault())}},
_panelKeyDown:function(a){a.keyCode===b.ui.keyCode.UP&&a.ctrlKey&&b(a.currentTarget).prev().trigger("focus")},refresh:function(){var a=this.options;this._processPanels();!1===a.active&&!0===a.collapsible||!this.headers.length?(a.active=!1,this.active=b()):!1===a.active?this._activate(0):this.active.length&&!b.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=b()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active);
this._destroyIcons();this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var a,
c=this.options,e=c.heightStyle,f=this.element.parent();this.active=this._findActive(c.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var a=b(this),d=a.uniqueId().attr("id"),c=a.next(),e=c.uniqueId().attr("id");a.attr("aria-controls",e);c.attr("aria-labelledby",d)}).next().attr("role",
"tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(c.event);"fill"===e?(a=f.height(),this.element.siblings(":visible").each(function(){var d=b(this),c=d.css("position");"absolute"!==c&&"fixed"!==
c&&(a-=d.outerHeight(!0))}),this.headers.each(function(){a-=b(this).outerHeight(!0)}),this.headers.next().each(function(){b(this).height(Math.max(0,a-b(this).innerHeight()+b(this).height()))}).css("overflow","auto")):"auto"===e&&(a=0,this.headers.next().each(function(){var d=b(this).is(":visible");d||b(this).show();a=Math.max(a,b(this).css("height","").height());d||b(this).hide()}).height(a))},_activate:function(a){a=this._findActive(a)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,
currentTarget:a,preventDefault:b.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):b()},_setupEvents:function(a){var d={keydown:"_keydown"};a&&b.each(a.split(" "),function(a,b){d[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,d);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(a){var d,c,e=this.options,f=this.active,g=b(a.currentTarget),
h=g[0]===f[0],k=h&&e.collapsible,m=k?b():g.next(),v=f.next(),m={oldHeader:f,oldPanel:v,newHeader:k?b():g,newPanel:m};a.preventDefault();h&&!e.collapsible||!1===this._trigger("beforeActivate",a,m)||(e.active=k?!1:this.headers.index(g),this.active=h?b():g,this._toggle(m),this._removeClass(f,"ui-accordion-header-active","ui-state-active"),e.icons&&(d=f.children(".ui-accordion-header-icon"),this._removeClass(d,null,e.icons.activeHeader)._addClass(d,null,e.icons.header)),h||(this._removeClass(g,"ui-accordion-header-collapsed")._addClass(g,
"ui-accordion-header-active","ui-state-active"),e.icons&&(c=g.children(".ui-accordion-header-icon"),this._removeClass(c,null,e.icons.header)._addClass(c,null,e.icons.activeHeader)),this._addClass(g.next(),"ui-accordion-content-active")))},_toggle:function(a){var d=a.newPanel,c=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=d;this.prevHide=c;this.options.animate?this._animate(d,c,a):(c.hide(),d.show(),this._toggleComplete(a));c.attr({"aria-hidden":"true"});
c.prev().attr({"aria-selected":"false","aria-expanded":"false"});d.length&&c.length?c.prev().attr({tabIndex:-1,"aria-expanded":"false"}):d.length&&this.headers.filter(function(){return 0===parseInt(b(this).attr("tabIndex"),10)}).attr("tabIndex",-1);d.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,b,c){var d,e,f,g=this,h=0,k=a.css("box-sizing"),l=a.length&&(!b.length||a.index()<b.index()),m=this.options.animate||{},l=l&&m.down||
m,q=function(){g._toggleComplete(c)};return"number"==typeof l&&(f=l),"string"==typeof l&&(e=l),e=e||l.easing||m.easing,f=f||l.duration||m.duration,b.length?a.length?(d=a.show().outerHeight(),b.animate(this.hideProps,{duration:f,easing:e,step:function(a,d){d.now=Math.round(a)}}),a.hide().animate(this.showProps,{duration:f,easing:e,complete:q,step:function(a,c){c.now=Math.round(a);"height"!==c.prop?"content-box"===k&&(h+=c.now):"content"!==g.options.heightStyle&&(c.now=Math.round(d-b.outerHeight()-
h),h=0)}}),void 0):b.animate(this.hideProps,f,e,q):a.animate(this.showProps,f,e,q)},_toggleComplete:function(a){var d=a.oldPanel,b=d.prev();this._removeClass(d,"ui-accordion-content-active");this._removeClass(b,"ui-accordion-header-active")._addClass(b,"ui-accordion-header-collapsed");d.length&&(d.parent()[0].className=d.parent()[0].className);this._trigger("activate",null,a)}});b.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",
menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(a){var d=b(a.target),c=b(b.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&d.not(".ui-state-disabled").length&&
(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&c.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){if(!this.previousFilter){var d=b(a.target).closest(".ui-menu-item"),c=b(a.currentTarget);d[0]===c[0]&&(this._removeClass(c.siblings().children(".ui-state-active"),null,"ui-state-active"),
this.focus(a,c))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var d=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,d)},blur:function(a){this._delay(function(){!b.contains(this.element[0],b.ui.safeActiveElement(this.document[0]))&&this.collapseAll(a)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a);this.mouseHandled=!1}})},_destroy:function(){var a=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");
this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();a.children().each(function(){var a=b(this);a.data("ui-menu-submenu-caret")&&a.remove()})},_keydown:function(a){var d,c,e,f=!0;switch(a.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(a);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case b.ui.keyCode.HOME:this._move("first","first",a);break;case b.ui.keyCode.END:this._move("last",
"last",a);break;case b.ui.keyCode.UP:this.previous(a);break;case b.ui.keyCode.DOWN:this.next(a);break;case b.ui.keyCode.LEFT:this.collapse(a);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(a);break;case b.ui.keyCode.ESCAPE:this.collapse(a);break;default:f=!1,d=this.previousFilter||"",e=!1,c=96<=a.keyCode&&105>=a.keyCode?""+(a.keyCode-96):String.fromCharCode(a.keyCode),clearTimeout(this.filterTimer),
c===d?e=!0:c=d+c,d=this._filterMenuItems(c),d=e&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(c=String.fromCharCode(a.keyCode),d=this._filterMenuItems(c)),d.length?(this.focus(a,d),this.previousFilter=c,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}f&&a.preventDefault()},_activate:function(a){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(a):
this.select(a))},refresh:function(){var a,c,e,f=this,g=this.options.icons.submenu;c=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);a=c.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var a=b(this),d=a.prev(),c=b("<span>").data("ui-menu-submenu-caret",!0);f._addClass(c,"ui-menu-icon","ui-icon "+g);d.attr("aria-haspopup","true").prepend(c);a.attr("aria-labelledby",
d.attr("id"))});this._addClass(a,"ui-menu","ui-widget ui-widget-content ui-front");a=c.add(this.element).find(this.options.items);a.not(".ui-menu-item").each(function(){var a=b(this);f._isDivider(a)&&f._addClass(a,"ui-menu-divider","ui-widget-content")});c=a.not(".ui-menu-item, .ui-menu-divider");e=c.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(c,"ui-menu-item")._addClass(e,"ui-menu-item-wrapper");a.filter(".ui-state-disabled").attr("aria-disabled",
"true");this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){if("icons"===a){var d=this.element.find(".ui-menu-icon");this._removeClass(d,null,this.options.icons.submenu)._addClass(d,null,b.submenu)}this._super(a,b)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",a+"");this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,b){var d;
this.blur(a,a&&"focus"===a.type);this._scrollIntoView(b);this.active=b.first();d=this.active.children(".ui-menu-item-wrapper");this._addClass(d,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",d.attr("id"));d=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(d,null,"ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);d=b.children(".ui-menu");d.length&&a&&
/^mouse/.test(a.type)&&this._startOpening(d);this.activeMenu=b.parent();this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){var d,c,e,f,g,h;this._hasScroll()&&(d=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,c=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,e=a.offset().top-this.activeMenu.offset().top-d-c,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=a.outerHeight(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,
b){b||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",a,{item:this.active}),this.active=null)},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(a){var d=b.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden",
"true");a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(a,c){clearTimeout(this.timer);this.timer=this._delay(function(){var d=c?this.element:b(a&&a.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element);this._close(d);this.blur(a);this._removeClass(d.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden",
"true").attr("aria-expanded","false")},_closeOnDocumentClick:function(a){return!b(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var d=this.active&&this.active.parent().closest(".ui-menu-item",this.element);d&&d.length&&(this._close(),this.focus(a,d))},expand:function(a){var d=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();d&&d.length&&(this._open(d.parent()),this._delay(function(){this.focus(a,
d)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[b]());
this.focus(c,d)},nextPage:function(a){var d,c,e;return this.active?(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return d=b(this),0>d.offset().top-c-e}),this.focus(a,d)):this.focus(a,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(a),void 0)},previousPage:function(a){var d,c,e;return this.active?(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,
e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return d=b(this),0<d.offset().top-c+e}),this.focus(a,d)):this.focus(a,this.activeMenu.find(this.options.items).first())),void 0):(this.next(a),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||b(a.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0);this._trigger("select",
a,d)},_filterMenuItems:function(a){a=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var d=RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(b.trim(b(this).children(".ui-menu-item-wrapper").text()))})}});b.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,
open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,c,e,f=this.element[0].nodeName.toLowerCase(),g="textarea"===f,f="input"===f;this.isMultiLine=g||!f&&this._isContentEditable(this.element);this.valueMethod=this.element[g||f?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(d){if(this.element.prop("readOnly"))return a=!0,e=!0,c=!0,void 0;c=e=a=!1;var f=
b.ui.keyCode;switch(d.keyCode){case f.PAGE_UP:a=!0;this._move("previousPage",d);break;case f.PAGE_DOWN:a=!0;this._move("nextPage",d);break;case f.UP:a=!0;this._keyEvent("previous",d);break;case f.DOWN:a=!0;this._keyEvent("next",d);break;case f.ENTER:this.menu.active&&(a=!0,d.preventDefault(),this.menu.select(d));break;case f.TAB:this.menu.active&&this.menu.select(d);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(d),d.preventDefault());break;
default:c=!0,this._searchTimeout(d)}},keypress:function(d){if(a)return a=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault(),void 0;if(!c){var e=b.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return e?(e=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=
null;this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}});this._initSource();this.menu=b("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==b.ui.safeActiveElement(this.document[0])&&
this.element.trigger("focus")})},menufocus:function(a,d){var c,e;return this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){b(a.target).trigger(a.originalEvent)}),void 0):(e=d.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",a,{item:e})&&a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(e.value),c=d.item.attr("aria-label")||e.value,c&&b.trim(c).length&&(this.liveRegion.children().hide(),
b("<div>").text(c).appendTo(this.liveRegion)),void 0)},menuselect:function(a,d){var c=d.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==b.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=c}));!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();this.close(a);this.selectedItem=c}});this.liveRegion=b("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);
this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(a){var d=
this.menu.element[0];return a.target===this.element[0]||a.target===d||b.contains(d,a.target)},_closeOnClickOutside:function(a){this._isEventTargetInWidget(a)||this.close()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?b(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front, dialog")),a.length||(a=this.document[0].body),a},_initSource:function(){var a,c,e=this;b.isArray(this.options.source)?(a=this.options.source,this.source=function(d,c){c(b.ui.autocomplete.filter(a,
d.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(a,d){e.xhr&&e.xhr.abort();e.xhr=b.ajax({url:c,data:a,dataType:"json",success:function(a){d(a)},error:function(){d([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){var d=this.term===this._value(),b=this.menu.element.is(":visible"),c=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;d&&(!d||b||c)||(this.selectedItem=null,this.search(null,
a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):!1!==this._trigger("search",b)?this._search(a):void 0},_search:function(a){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return b.proxy(function(d){a===this.requestIndex&&this.__response(d);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},
this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this._off(this.document,"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",
a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:b.map(a,function(a){return"string"==typeof a?{label:a,value:a}:b.extend({},a,{label:a.label||a.value,value:a.value||a.label})})},_suggest:function(a){var d=this.menu.element.empty();this._renderMenu(d,a);this.isNewMenu=!0;this.menu.refresh();d.show();this._resizeMenu();d.position(b.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},
_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,c){var d=this;b.each(c,function(b,c){d._renderItemData(a,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(a,c){return b("<li>").append(b("<div>").text(c.label)).appendTo(a)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&
/^next/.test(a)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[a](b),void 0):(this.search(null,b),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(a,b),b.preventDefault())},_isContentEditable:function(a){if(!a.length)return!1;var b=a.prop("contentEditable");return"inherit"===b?this._isContentEditable(a.parent()):
"true"===b}});b.extend(b.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,c){var d=RegExp(b.ui.autocomplete.escapeRegex(c),"i");return b.grep(a,function(a){return d.test(a.label||a.value||a)})}});b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var c;
this._superApply(arguments);this.options.disabled||this.cancelSearch||(c=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.children().hide(),b("<div>").text(c).appendTo(this.liveRegion))}});b.ui.autocomplete;b.extend(b.ui,{datepicker:{version:"1.12.1"}});var m;b.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return e(this._defaults,a||{}),this},_attachDatepicker:function(a,
c){var d,e,f;d=a.nodeName.toLowerCase();e="div"===d||"span"===d;a.id||(this.uuid+=1,a.id="dp"+this.uuid);f=this._newInst(b(a),e);f.settings=b.extend({},c||{});"input"===d?this._connectDatepicker(a,f):e&&this._inlineDatepicker(a,f)},_newInst:function(c,e){return{id:c[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?a(b("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(a,c){var d=b(a);c.append=b([]);c.trigger=b([]);d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(c),b.data(a,"datepicker",c),c.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,c){var d,e,f;d=this._get(c,"appendText");var g=this._get(c,"isRTL");c.append&&c.append.remove();d&&(c.append=b("<span class='"+
this._appendClass+"'>"+d+"</span>"),a[g?"before":"after"](c.append));a.off("focus",this._showDatepicker);c.trigger&&c.trigger.remove();d=this._get(c,"showOn");"focus"!==d&&"both"!==d||a.on("focus",this._showDatepicker);"button"!==d&&"both"!==d||(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=b(this._get(c,"buttonImageOnly")?b("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):b("<button type='button'></button>").addClass(this._triggerClass).html(f?b("<img/>").attr({src:f,
alt:e,title:e}):e)),a[g?"before":"after"](c.trigger),c.trigger.on("click",function(){return b.datepicker._datepickerShowing&&b.datepicker._lastInput===a[0]?b.datepicker._hideDatepicker():b.datepicker._datepickerShowing&&b.datepicker._lastInput!==a[0]?(b.datepicker._hideDatepicker(),b.datepicker._showDatepicker(a[0])):b.datepicker._showDatepicker(a[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var c,b,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&
(c=function(a){for(e=d=b=0;a.length>e;e++)a[e].length>b&&(b=a[e].length,d=e);return d},f.setMonth(c(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(c(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay()));a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(a,c){var d=b(a);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),b.data(a,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),
this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(a),c.dpDiv.css("display","block"))},_dialogDatepicker:function(a,c,f,g,h){var d,k,l,m,q;a=this._dialogInst;return a||(this.uuid+=1,d="dp"+this.uuid,this._dialogInput=b("<input type='text' id='"+d+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),b("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},b.data(this._dialogInput[0],
"datepicker",a)),e(a.settings,g||{}),c=c&&c.constructor===Date?this._formatDate(a,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(k=document.documentElement.clientWidth,l=document.documentElement.clientHeight,m=document.documentElement.scrollLeft||document.body.scrollLeft,q=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[k/2-100+m,l/2-150+q]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=
f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),b.blockUI&&b.blockUI(this.dpDiv),b.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(a){var c,d=b(a),e=b.data(a,"datepicker");d.hasClass(this.markerClassName)&&(c=a.nodeName.toLowerCase(),b.removeData(a,"datepicker"),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",
this._doKeyPress).off("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty(),m===e&&(m=null))},_enableDatepicker:function(a){var c,d,e=b(a),f=b.data(a,"datepicker");e.hasClass(this.markerClassName)&&(c=a.nodeName.toLowerCase(),"input"===c?(a.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),
d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=b.map(this._disabledInputs,function(c){return c===a?null:c}))},_disableDatepicker:function(a){var c,d,e=b(a),f=b.data(a,"datepicker");e.hasClass(this.markerClassName)&&(c=a.nodeName.toLowerCase(),"input"===c?(a.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),
d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=b.map(this._disabledInputs,function(c){return c===a?null:c}),this._disabledInputs[this._disabledInputs.length]=a)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var c=0;this._disabledInputs.length>c;c++)if(this._disabledInputs[c]===a)return!0;return!1},_getInst:function(a){try{return b.data(a,"datepicker")}catch(l){throw"Missing instance data for this datepicker";
}},_optionDatepicker:function(a,c,f){var d,g,h,k,l=this._getInst(a);return 2===arguments.length&&"string"==typeof c?"defaults"===c?b.extend({},b.datepicker._defaults):l?"all"===c?b.extend({},l.settings):this._get(l,c):null:(d=c||{},"string"==typeof c&&(d={},d[c]=f),l&&(this._curInst===l&&this._hideDatepicker(),g=this._getDateDatepicker(a,!0),h=this._getMinMaxDate(l,"min"),k=this._getMinMaxDate(l,"max"),e(l.settings,d),null!==h&&void 0!==d.dateFormat&&void 0===d.minDate&&(l.settings.minDate=this._formatDate(l,
h)),null!==k&&void 0!==d.dateFormat&&void 0===d.maxDate&&(l.settings.maxDate=this._formatDate(l,k)),"disabled"in d&&(d.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(b(a),l),this._autoSize(l),this._setDate(l,g),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(a,c,b){this._optionDatepicker(a,c,b)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,c){var b=this._getInst(a);
b&&(this._setDate(b,c),this._updateDatepicker(b),this._updateAlternate(b))},_getDateDatepicker:function(a,c){var b=this._getInst(a);return b&&!b.inline&&this._setDateFromField(b,c),b?this._getDate(b):null},_doKeyDown:function(a){var c,d,e,f=b.datepicker._getInst(a.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,b.datepicker._datepickerShowing)switch(a.keyCode){case 9:b.datepicker._hideDatepicker();g=!1;break;case 13:return e=b("td."+b.datepicker._dayOverClass+":not(."+b.datepicker._currentClass+
")",f.dpDiv),e[0]&&b.datepicker._selectDay(a.target,f.selectedMonth,f.selectedYear,e[0]),c=b.datepicker._get(f,"onSelect"),c?(d=b.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):b.datepicker._hideDatepicker(),!1;case 27:b.datepicker._hideDatepicker();break;case 33:b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(f,"stepBigMonths"):-b.datepicker._get(f,"stepMonths"),"M");break;case 34:b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(f,"stepBigMonths"):
+b.datepicker._get(f,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&b.datepicker._clearDate(a.target);g=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&b.datepicker._gotoToday(a.target);g=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,h?1:-1,"D");g=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(f,"stepBigMonths"):-b.datepicker._get(f,"stepMonths"),"M");break;case 38:(a.ctrlKey||
a.metaKey)&&b.datepicker._adjustDate(a.target,-7,"D");g=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,h?-1:1,"D");g=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(f,"stepBigMonths"):+b.datepicker._get(f,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,7,"D");g=a.ctrlKey||a.metaKey;break;default:g=!1}else 36===a.keyCode&&a.ctrlKey?b.datepicker._showDatepicker(this):
g=!1;g&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var c,d,e=b.datepicker._getInst(a.target);return b.datepicker._get(e,"constrainInput")?(c=b.datepicker._possibleChars(b.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">d||!c||-1<c.indexOf(d)):void 0},_doKeyUp:function(a){var c;a=b.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{(c=b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),a.input?
a.input.val():null,b.datepicker._getFormatConfig(a)))&&(b.datepicker._setDateFromField(a),b.datepicker._updateAlternate(a),b.datepicker._updateDatepicker(a))}catch(q){}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!==a.nodeName.toLowerCase()&&(a=b("input",a.parentNode)[0]),!b.datepicker._isDisabledDatepicker(a)&&b.datepicker._lastInput!==a){var c,d,f,g,h,k;c=b.datepicker._getInst(a);b.datepicker._curInst&&b.datepicker._curInst!==c&&(b.datepicker._curInst.dpDiv.stop(!0,!0),c&&b.datepicker._datepickerShowing&&
b.datepicker._hideDatepicker(b.datepicker._curInst.input[0]));d=(d=b.datepicker._get(c,"beforeShow"))?d.apply(a,[a,c]):{};!1!==d&&(e(c.settings,d),c.lastVal=null,b.datepicker._lastInput=a,b.datepicker._setDateFromField(c),b.datepicker._inDialog&&(a.value=""),b.datepicker._pos||(b.datepicker._pos=b.datepicker._findPos(a),b.datepicker._pos[1]+=a.offsetHeight),f=!1,b(a).parents().each(function(){return f|="fixed"===b(this).css("position"),!f}),g={left:b.datepicker._pos[0],top:b.datepicker._pos[1]},b.datepicker._pos=
null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),b.datepicker._updateDatepicker(c),g=b.datepicker._checkOffset(c,g,f),c.dpDiv.css({position:b.datepicker._inDialog&&b.blockUI?"static":f?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),c.inline||(h=b.datepicker._get(c,"showAnim"),k=b.datepicker._get(c,"duration"),c.dpDiv.css("z-index",n(b(a))+1),b.datepicker._datepickerShowing=!0,b.effects&&b.effects.effect[h]?c.dpDiv.show(h,b.datepicker._get(c,
"showOptions"),k):c.dpDiv[h||"show"](h?k:null),b.datepicker._shouldFocusInput(c)&&c.input.trigger("focus"),b.datepicker._curInst=c))}},_updateDatepicker:function(a){this.maxRows=4;m=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);var c,d=this._getNumberOfMonths(a),e=d[1],f=a.dpDiv.find("."+this._dayOverClass+" a");0<f.length&&g.apply(f.get(0));a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<e&&a.dpDiv.addClass("ui-datepicker-multi-"+
e).css("width",17*e+"em");a.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===b.datepicker._curInst&&b.datepicker._datepickerShowing&&b.datepicker._shouldFocusInput(a)&&a.input.trigger("focus");a.yearshtml&&(c=a.yearshtml,setTimeout(function(){c===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);c=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&
a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,c,e){var d=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),g=a.input?a.input.outerWidth():0,h=a.input?a.input.outerHeight():0,k=document.documentElement.clientWidth+(e?0:b(document).scrollLeft()),l=document.documentElement.clientHeight+(e?0:b(document).scrollTop());return c.left-=this._get(a,"isRTL")?d-g:0,c.left-=e&&c.left===a.input.offset().left?b(document).scrollLeft():0,c.top-=e&&c.top===a.input.offset().top+
h?b(document).scrollTop():0,c.left-=Math.min(c.left,c.left+d>k&&k>d?Math.abs(c.left+d-k):0),c.top-=Math.min(c.top,c.top+f>l&&l>f?Math.abs(f+h):0),c},_findPos:function(a){for(var c,d=this._getInst(a),d=this._get(d,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||b.expr.filters.hidden(a));)a=a[d?"previousSibling":"nextSibling"];return c=b(a).offset(),[c.left,c.top]},_hideDatepicker:function(a){var c,d,e,f,g=this._curInst;!g||a&&g!==b.data(a,"datepicker")||this._datepickerShowing&&(c=this._get(g,"showAnim"),
d=this._get(g,"duration"),e=function(){b.datepicker._tidyDialog(g)},b.effects&&(b.effects.effect[c]||b.effects[c])?g.dpDiv.hide(c,b.datepicker._get(g,"showOptions"),d,e):g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(g,"onClose"),f&&f.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),b.blockUI&&(b.unblockUI(),
b("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(b.datepicker._curInst){a=b(a.target);var c=b.datepicker._getInst(a[0]);(!(a[0].id===b.datepicker._mainDivId||0!==a.parents("#"+b.datepicker._mainDivId).length||a.hasClass(b.datepicker.markerClassName)||a.closest("."+b.datepicker._triggerClass).length||!b.datepicker._datepickerShowing||b.datepicker._inDialog&&b.blockUI)||
a.hasClass(b.datepicker.markerClassName)&&b.datepicker._curInst!==c)&&b.datepicker._hideDatepicker()}},_adjustDate:function(a,c,e){a=b(a);var d=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(d,c+("M"===e?this._get(d,"showCurrentAtPos"):0),e),this._updateDatepicker(d))},_gotoToday:function(a){var c;a=b(a);var d=this._getInst(a[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):
(c=new Date,d.selectedDay=c.getDate(),d.drawMonth=d.selectedMonth=c.getMonth(),d.drawYear=d.selectedYear=c.getFullYear());this._notifyChange(d);this._adjustDate(a)},_selectMonthYear:function(a,c,e){a=b(a);var d=this._getInst(a[0]);d["selected"+("M"===e?"Month":"Year")]=d["draw"+("M"===e?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(d);this._adjustDate(a)},_selectDay:function(a,c,e,f){var d,g=b(a);b(f).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||
(d=this._getInst(g[0]),d.selectedDay=d.currentDay=b("a",f).html(),d.selectedMonth=d.currentMonth=c,d.selectedYear=d.currentYear=e,this._selectDate(a,this._formatDate(d,d.currentDay,d.currentMonth,d.currentYear)))},_clearDate:function(a){a=b(a);this._selectDate(a,"")},_selectDate:function(a,c){var d;d=b(a);var e=this._getInst(d[0]);c=null!=c?c:this._formatDate(e);e.input&&e.input.val(c);this._updateAlternate(e);(d=this._get(e,"onSelect"))?d.apply(e.input?e.input[0]:null,[c,e]):e.input&&e.input.trigger("change");
e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(a){var c,d,e,f=this._get(a,"altField");f&&(c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a)),b(f).val(e))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var c;a=new Date(a.getTime());return a.setDate(a.getDate()+
4-(a.getDay()||7)),c=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((c-a)/864E5)/7)+1},parseDate:function(a,c,e){if(null==a||null==c)throw"Invalid arguments";if(c="object"==typeof c?""+c:c+"",""===c)return null;var d,f,g,h,k=0,l=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),m=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,q=(e?e.dayNames:null)||this._defaults.dayNames,n=(e?e.monthNamesShort:null)||
this._defaults.monthNamesShort;e=(e?e.monthNames:null)||this._defaults.monthNames;var D=-1,O=-1,F=-1,E=-1,t=!1,Q=function(c){c=a.length>d+1&&a.charAt(d+1)===c;return c&&d++,c},J=function(a){var b=Q(a),b="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2;a=RegExp("^\\d{"+("y"===a?b:1)+","+b+"}");a=c.substring(k).match(a);if(!a)throw"Missing number at position "+k;return k+=a[0].length,parseInt(a[0],10)},fa=function(a,d,e){var f=-1;a=b.map(Q(a)?e:d,function(a,c){return[[c,a]]}).sort(function(a,c){return-(a[1].length-
c[1].length)});if(b.each(a,function(a,b){var d=b[1];return c.substr(k,d.length).toLowerCase()===d.toLowerCase()?(f=b[0],k+=d.length,!1):void 0}),-1!==f)return f+1;throw"Unknown name at position "+k;},L=function(){if(c.charAt(k)!==a.charAt(d))throw"Unexpected literal at position "+k;k++};for(d=0;a.length>d;d++)if(t)"'"!==a.charAt(d)||Q("'")?L():t=!1;else switch(a.charAt(d)){case "d":F=J("d");break;case "D":fa("D",m,q);break;case "o":E=J("o");break;case "m":O=J("m");break;case "M":O=fa("M",n,e);break;
case "y":D=J("y");break;case "@":h=new Date(J("@"));D=h.getFullYear();O=h.getMonth()+1;F=h.getDate();break;case "!":h=new Date((J("!")-this._ticksTo1970)/1E4);D=h.getFullYear();O=h.getMonth()+1;F=h.getDate();break;case "'":Q("'")?L():t=!0;break;default:L()}if(c.length>k&&(g=c.substr(k),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(-1===D?D=(new Date).getFullYear():100>D&&(D+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=D?0:-100)),-1<E)for(O=1,F=E;!(f=this._getDaysInMonth(D,
O-1),f>=F);)O++,F-=f;if(h=this._daylightSavingAdjust(new Date(D,O-1,F)),h.getFullYear()!==D||h.getMonth()+1!==O||h.getDate()!==F)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,c,b){if(!c)return"";var d,e=
(b?b.dayNamesShort:null)||this._defaults.dayNamesShort,f=(b?b.dayNames:null)||this._defaults.dayNames,g=(b?b.monthNamesShort:null)||this._defaults.monthNamesShort;b=(b?b.monthNames:null)||this._defaults.monthNames;var h=function(c){c=a.length>d+1&&a.charAt(d+1)===c;return c&&d++,c},k=function(a,c,b){c=""+c;if(h(a))for(;b>c.length;)c="0"+c;return c},l=function(a,c,b,d){return h(a)?d[c]:b[c]},m="",q=!1;if(c)for(d=0;a.length>d;d++)if(q)"'"!==a.charAt(d)||h("'")?m+=a.charAt(d):q=!1;else switch(a.charAt(d)){case "d":m+=
k("d",c.getDate(),2);break;case "D":m+=l("D",c.getDay(),e,f);break;case "o":m+=k("o",Math.round(((new Date(c.getFullYear(),c.getMonth(),c.getDate())).getTime()-(new Date(c.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":m+=k("m",c.getMonth()+1,2);break;case "M":m+=l("M",c.getMonth(),g,b);break;case "y":m+=h("y")?c.getFullYear():(10>c.getFullYear()%100?"0":"")+c.getFullYear()%100;break;case "@":m+=c.getTime();break;case "!":m+=1E4*c.getTime()+this._ticksTo1970;break;case "'":h("'")?m+="'":
q=!0;break;default:m+=a.charAt(d)}return m},_possibleChars:function(a){var c,b="",d=!1,e=function(b){b=a.length>c+1&&a.charAt(c+1)===b;return b&&c++,b};for(c=0;a.length>c;c++)if(d)"'"!==a.charAt(c)||e("'")?b+=a.charAt(c):d=!1;else switch(a.charAt(c)){case "d":case "m":case "y":case "@":b+="0123456789";break;case "D":case "M":return null;case "'":e("'")?b+="'":d=!0;break;default:b+=a.charAt(c)}return b},_get:function(a,c){return void 0!==a.settings[c]?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,
c){if(a.input.val()!==a.lastVal){var b=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(b,d,g)||e}catch(r){d=c?"":d}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=d?f.getDate():0;a.currentMonth=d?f.getMonth():0;a.currentYear=d?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,
this._get(a,"defaultDate"),new Date))},_determineDate:function(a,c,e){var d=function(a){var c=new Date;return c.setDate(c.getDate()+a),c},f=function(c){try{return b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),c,b.datepicker._getFormatConfig(a))}catch(G){}for(var d=(c.toLowerCase().match(/^c/)?b.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),d=d.getDate(),g=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=g.exec(c);h;){switch(h[2]||"d"){case "d":case "D":d+=parseInt(h[1],
10);break;case "w":case "W":d+=7*parseInt(h[1],10);break;case "m":case "M":f+=parseInt(h[1],10);d=Math.min(d,b.datepicker._getDaysInMonth(e,f));break;case "y":case "Y":e+=parseInt(h[1],10),d=Math.min(d,b.datepicker._getDaysInMonth(e,f))}h=g.exec(c)}return new Date(e,f,d)};c=null==c||""===c?e:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?e:d(c):new Date(c.getTime());return c=c&&"Invalid Date"==""+c?e:c,c&&(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0)),this._daylightSavingAdjust(c)},
_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,c,b){var d=!c,e=a.selectedMonth,f=a.selectedYear;c=this._restrictMinMax(a,this._determineDate(a,c,new Date));a.selectedDay=a.currentDay=c.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=c.getMonth();a.drawYear=a.selectedYear=a.currentYear=c.getFullYear();e===a.selectedMonth&&f===a.selectedYear||b||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},
_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(a){var c=this._get(a,"stepMonths"),d="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){b(this).on(this.getAttribute("data-event"),{prev:function(){b.datepicker._adjustDate(d,-c,"M")},next:function(){b.datepicker._adjustDate(d,+c,"M")},hide:function(){b.datepicker._hideDatepicker()},today:function(){b.datepicker._gotoToday(d)},
selectDay:function(){return b.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return b.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return b.datepicker._selectMonthYear(d,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var c,b,d,e,f,g,h,k,m,n,G,D,t,F,E,M,Q,J,fa,L,I,N,pa,W,na,T,aa,ea=new Date,ea=this._daylightSavingAdjust(new Date(ea.getFullYear(),ea.getMonth(),ea.getDate())),
ua=this._get(a,"isRTL");g=this._get(a,"showButtonPanel");d=this._get(a,"hideIfNoPrevNext");f=this._get(a,"navigationAsDateFormat");var ga=this._getNumberOfMonths(a),X=this._get(a,"showCurrentAtPos");e=this._get(a,"stepMonths");var ma=1!==ga[0]||1!==ga[1],ka=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),qa=this._getMinMaxDate(a,"min"),ya=this._getMinMaxDate(a,"max"),X=a.drawMonth-X,ja=a.drawYear;if(0>X&&(X+=12,ja--),ya)for(c=this._daylightSavingAdjust(new Date(ya.getFullYear(),
ya.getMonth()-ga[0]*ga[1]+1,ya.getDate())),c=qa&&qa>c?qa:c;this._daylightSavingAdjust(new Date(ja,X,1))>c;)X--,0>X&&(X=11,ja--);a.drawMonth=X;a.drawYear=ja;c=this._get(a,"prevText");c=f?this.formatDate(c,this._daylightSavingAdjust(new Date(ja,X-e,1)),this._getFormatConfig(a)):c;c=this._canAdjustMonth(a,-1,ja,X)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(ua?"e":"w")+"'>"+c+"</span></a>":d?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+
c+"'><span class='ui-icon ui-icon-circle-triangle-"+(ua?"e":"w")+"'>"+c+"</span></a>";b=this._get(a,"nextText");b=f?this.formatDate(b,this._daylightSavingAdjust(new Date(ja,X+e,1)),this._getFormatConfig(a)):b;d=this._canAdjustMonth(a,1,ja,X)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(ua?"w":"e")+"'>"+b+"</span></a>":d?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+
(ua?"w":"e")+"'>"+b+"</span></a>";e=this._get(a,"currentText");b=this._get(a,"gotoCurrent")&&a.currentDay?ka:ea;e=f?this.formatDate(e,b,this._getFormatConfig(a)):e;f=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";g=g?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ua?f:"")+(this._isInRange(a,b)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
e+"</button>":"")+(ua?"":f)+"</div>":"";f=parseInt(this._get(a,"firstDay"),10);f=isNaN(f)?0:f;e=this._get(a,"showWeek");b=this._get(a,"dayNames");h=this._get(a,"dayNamesMin");k=this._get(a,"monthNames");m=this._get(a,"monthNamesShort");n=this._get(a,"beforeShowDay");G=this._get(a,"showOtherMonths");D=this._get(a,"selectOtherMonths");t=this._getDefaultDate(a);F="";for(M=0;ga[0]>M;M++){Q="";this.maxRows=4;for(J=0;ga[1]>J;J++){if(fa=this._daylightSavingAdjust(new Date(ja,X,a.selectedDay)),E=" ui-corner-all",
L="",ma){if(L+="<div class='ui-datepicker-group",1<ga[1])switch(J){case 0:L+=" ui-datepicker-group-first";E=" ui-corner-"+(ua?"right":"left");break;case ga[1]-1:L+=" ui-datepicker-group-last";E=" ui-corner-"+(ua?"left":"right");break;default:L+=" ui-datepicker-group-middle",E=""}L+="'>"}L+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+E+"'>"+(/all|left/.test(E)&&0===M?ua?d:c:"")+(/all|right/.test(E)&&0===M?ua?c:d:"")+this._generateMonthYearHeader(a,X,ja,qa,ya,0<M||0<J,k,m)+
"</div><table class='ui-datepicker-calendar'><thead><tr>";I=e?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(E=0;7>E;E++)N=(E+f)%7,I+="<th scope='col'"+(5<=(E+f+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+b[N]+"'>"+h[N]+"</span></th>";L+=I+"</tr></thead><tbody>";I=this._getDaysInMonth(ja,X);ja===a.selectedYear&&X===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,I));E=(this._getFirstDayOfMonth(ja,X)-f+7)%7;I=Math.ceil((E+I)/7);this.maxRows=I=
ma?this.maxRows>I?this.maxRows:I:I;N=this._daylightSavingAdjust(new Date(ja,X,1-E));for(pa=0;I>pa;pa++){L+="<tr>";W=e?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(N)+"</td>":"";for(E=0;7>E;E++)na=n?n.apply(a.input?a.input[0]:null,[N]):[!0,""],aa=(T=N.getMonth()!==X)&&!D||!na[0]||qa&&qa>N||ya&&N>ya,W+="<td class='"+(5<=(E+f+6)%7?" ui-datepicker-week-end":"")+(T?" ui-datepicker-other-month":"")+(N.getTime()===fa.getTime()&&X===a.selectedMonth&&a._keyEvent||t.getTime()===N.getTime()&&
t.getTime()===fa.getTime()?" "+this._dayOverClass:"")+(aa?" "+this._unselectableClass+" ui-state-disabled":"")+(T&&!G?"":" "+na[1]+(N.getTime()===ka.getTime()?" "+this._currentClass:"")+(N.getTime()===ea.getTime()?" ui-datepicker-today":""))+"'"+(T&&!G||!na[2]?"":" title='"+na[2].replace(/'/g,"&#39;")+"'")+(aa?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(T&&!G?"&#xa0;":aa?"<span class='ui-state-default'>"+N.getDate()+"</span>":
"<a class='ui-state-default"+(N.getTime()===ea.getTime()?" ui-state-highlight":"")+(N.getTime()===ka.getTime()?" ui-state-active":"")+(T?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);L+=W+"</tr>"}X++;11<X&&(X=0,ja++);L+="</tbody></table>"+(ma?"</div>"+(0<ga[0]&&J===ga[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");Q+=L}F+=Q}return F+=g,a._keyEvent=!1,F},_generateMonthYearHeader:function(a,c,b,e,f,g,h,k){var d,
m,l,r=this._get(a,"changeMonth"),q=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),n="<div class='ui-datepicker-title'>",w="";if(g||!r)w+="<span class='ui-datepicker-month'>"+h[c]+"</span>";else{h=e&&e.getFullYear()===b;d=f&&f.getFullYear()===b;w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(m=0;12>m;m++)(!h||m>=e.getMonth())&&(!d||f.getMonth()>=m)&&(w+="<option value='"+m+"'"+(m===c?" selected='selected'":"")+">"+k[m]+"</option>");w+="</select>"}if(u||
(n+=w+(!g&&r&&q?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",g||!q)n+="<span class='ui-datepicker-year'>"+b+"</span>";else{k=this._get(a,"yearRange").split(":");l=(new Date).getFullYear();h=function(a){a=a.match(/c[+\-].*/)?b+parseInt(a.substring(1),10):a.match(/[+\-].*/)?l+parseInt(a,10):parseInt(a,10);return isNaN(a)?l:a};c=h(k[0]);k=Math.max(c,h(k[1]||""));c=e?Math.max(c,e.getFullYear()):c;k=f?Math.min(k,f.getFullYear()):k;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";k>=
c;c++)a.yearshtml+="<option value='"+c+"'"+(c===b?" selected='selected'":"")+">"+c+"</option>";a.yearshtml+="</select>";n+=a.yearshtml;a.yearshtml=null}return n+=this._get(a,"yearSuffix"),u&&(n+=(!g&&r&&q?"":"&#xa0;")+w),n+="</div>"},_adjustInstDate:function(a,c,b){var d=a.selectedYear+("Y"===b?c:0),e=a.selectedMonth+("M"===b?c:0);c=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===b?c:0);d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,c)));a.selectedDay=d.getDate();a.drawMonth=
a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();"M"!==b&&"Y"!==b||this._notifyChange(a)},_restrictMinMax:function(a,c){var b=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),b=b&&b>c?b:c;return d&&b>d?d:b},_notifyChange:function(a){var c=this._get(a,"onChangeMonthYear");c&&c.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,
c){return this._determineDate(a,this._get(a,c+"Date"),null)},_getDaysInMonth:function(a,c){return 32-this._daylightSavingAdjust(new Date(a,c,32)).getDate()},_getFirstDayOfMonth:function(a,c){return(new Date(a,c,1)).getDay()},_canAdjustMonth:function(a,c,b,e){var d=this._getNumberOfMonths(a);b=this._daylightSavingAdjust(new Date(b,e+(0>c?c:d[0]*d[1]),1));return 0>c&&b.setDate(this._getDaysInMonth(b.getFullYear(),b.getMonth())),this._isInRange(a,b)},_isInRange:function(a,c){var b,d,e=this._getMinMaxDate(a,
"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,k=this._get(a,"yearRange");return k&&(b=k.split(":"),d=(new Date).getFullYear(),g=parseInt(b[0],10),h=parseInt(b[1],10),b[0].match(/[+\-].*/)&&(g+=d),b[1].match(/[+\-].*/)&&(h+=d)),(!e||c.getTime()>=e.getTime())&&(!f||c.getTime()<=f.getTime())&&(!g||c.getFullYear()>=g)&&(!h||h>=c.getFullYear())},_getFormatConfig:function(a){var c=this._get(a,"shortYearCutoff");return c="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),{shortYearCutoff:c,
dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,c,b,e){c||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);c=c?"object"==typeof c?c:this._daylightSavingAdjust(new Date(e,b,c)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),c,this._getFormatConfig(a))}});
b.fn.datepicker=function(a){if(!this.length)return this;b.datepicker.initialized||(b(document).on("mousedown",b.datepicker._checkExternalClick),b.datepicker.initialized=!0);0===b("#"+b.datepicker._mainDivId).length&&b("body").append(b.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!==a&&"getDate"!==a&&"widget"!==a?"option"===a&&2===arguments.length&&"string"==typeof arguments[1]?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(c)):
this.each(function(){"string"==typeof a?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this].concat(c)):b.datepicker._attachDatepicker(this,a)}):b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(c))};b.datepicker=new t;b.datepicker.initialized=!1;b.datepicker.uuid=(new Date).getTime();b.datepicker.version="1.12.1";b.datepicker;b.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var a=b(this).attr("title")||
"";return b("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(a,c){var d=(a.attr("aria-describedby")||"").split(/\s+/);d.push(c);a.data("ui-tooltip-id",c).attr("aria-describedby",b.trim(d.join(" ")))},_removeDescribedBy:function(a){var c=a.data("ui-tooltip-id"),d=(a.attr("aria-describedby")||"").split(/\s+/),c=b.inArray(c,d);-1!==c&&d.splice(c,1);a.removeData("ui-tooltip-id");
(d=b.trim(d.join(" ")))?a.attr("aria-describedby",d):a.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=b("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=b([])},_setOption:function(a,c){var d=this;this._super(a,c);"content"===a&&b.each(this.tooltips,function(a,
c){d._updateContent(c.element)})},_setOptionDisabled:function(a){this[a?"_disable":"_enable"]()},_disable:function(){var a=this;b.each(this.tooltips,function(c,d){var e=b.Event("blur");e.target=e.currentTarget=d.element[0];a.close(e,!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var a=b(this);return a.is("[title]")?a.data("ui-tooltip-title",a.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var a=
b(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))});this.disabledTitles=b([])},open:function(a){var c=this,d=b(a?a.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),a&&"mouseover"===a.type&&d.parents().each(function(){var a,d=b(this);d.data("ui-tooltip-open")&&(a=b.Event("blur"),a.target=a.currentTarget=this,c.close(a,!0));d.attr("title")&&(d.uniqueId(),
c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._registerCloseHandlers(a,d),this._updateContent(d,a))},_updateContent:function(a,c){var b,d=this.options.content,e=this,f=c?c.type:null;return"string"==typeof d||d.nodeType||d.jquery?this._open(c,a,d):(b=d.call(a[0],function(b){e._delay(function(){a.data("ui-tooltip-open")&&(c&&(c.type=f),this._open(c,a,b))})}),b&&this._open(c,a,b),void 0)},_open:function(a,c,e){function d(a){k.of=a;g.is(":hidden")||g.position(k)}var f,
g,h,k=b.extend({},this.options.position);if(e){if(f=this._find(c))return f.tooltip.find(".ui-tooltip-content").html(e),void 0;c.is("[title]")&&(a&&"mouseover"===a.type?c.attr("title",""):c.removeAttr("title"));f=this._tooltip(c);g=f.tooltip;this._addDescribedBy(c,g.attr("id"));g.find(".ui-tooltip-content").html(e);this.liveRegion.children().hide();e=b("<div>").html(g.find(".ui-tooltip-content").html());e.removeAttr("name").find("[name]").removeAttr("name");e.removeAttr("id").find("[id]").removeAttr("id");
e.appendTo(this.liveRegion);this.options.track&&a&&/^mouse/.test(a.type)?(this._on(this.document,{mousemove:d}),d(a)):g.position(b.extend({of:c},this.options.position));g.hide();this._show(g,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){g.is(":visible")&&(d(k.of),clearInterval(h))},b.fx.interval));this._trigger("open",a,{tooltip:g})}},_registerCloseHandlers:function(a,c){var d={keyup:function(a){a.keyCode===b.ui.keyCode.ESCAPE&&
(a=b.Event(a),a.currentTarget=c[0],this.close(a,!0))}};c[0]!==this.element[0]&&(d.remove=function(){this._removeTooltip(this._find(c).tooltip)});a&&"mouseover"!==a.type||(d.mouseleave="close");a&&"focusin"!==a.type||(d.focusout="close");this._on(!0,c,d)},close:function(a){var c,d=this,e=b(a?a.currentTarget:this.element),f=this._find(e);return f?(c=f.tooltip,f.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&!e.attr("title")&&e.attr("title",e.data("ui-tooltip-title")),this._removeDescribedBy(e),
f.hiding=!0,c.stop(!0),this._hide(c,this.options.hide,function(){d._removeTooltip(b(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),a&&"mouseleave"===a.type&&b.each(this.parents,function(a,c){b(c.element).attr("title",c.title);delete d.parents[a]}),f.closing=!0,this._trigger("close",a,{tooltip:c}),f.hiding||(f.closing=!1)),void 0):(e.removeData("ui-tooltip-open"),void 0)},_tooltip:function(a){var c=
b("<div>").attr("role","tooltip"),d=b("<div>").appendTo(c),e=c.uniqueId().attr("id");return this._addClass(d,"ui-tooltip-content"),this._addClass(c,"ui-tooltip","ui-widget ui-widget-content"),c.appendTo(this._appendTo(a)),this.tooltips[e]={element:a,tooltip:c}},_find:function(a){return(a=a.data("ui-tooltip-id"))?this.tooltips[a]:null},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_appendTo:function(a){a=a.closest(".ui-front, dialog");return a.length||(a=this.document[0].body),
a},_destroy:function(){var a=this;b.each(this.tooltips,function(c,d){var e=b.Event("blur"),f=d.element;e.target=e.currentTarget=f[0];a.close(e,!0);b("#"+c).remove();f.data("ui-tooltip-title")&&(f.attr("title")||f.attr("title",f.data("ui-tooltip-title")),f.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});!1!==b.uiBackCompat&&b.widget("ui.tooltip",b.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var a=this._superApply(arguments);return this.options.tooltipClass&&a.tooltip.addClass(this.options.tooltipClass),
a}});b.ui.tooltip});(function(b){b.widget("ui.progressbar",{options:{value:0},_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this._valueMin(),"aria-valuemax":this._valueMax(),"aria-valuenow":this._value()});this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();b.Widget.prototype.destroy.apply(this,arguments)},value:function(b){if(void 0===b)return this._value();this._setOption("value",b);return this},_setOption:function(n,t){switch(n){case "value":this.options.value=t,this._refreshValue(),this._trigger("change")}b.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var b=this.options.value;"number"!==typeof b&&(b=0);b<this._valueMin()&&(b=this._valueMin());b>this._valueMax()&&(b=this._valueMax());return b},_valueMin:function(){return 0},
_valueMax:function(){return 100},_refreshValue:function(){var b=this.value();this.valueDiv[b===this._valueMax()?"addClass":"removeClass"]("ui-corner-right").width(b+"%");this.element.attr("aria-valuenow",b)}});b.extend(b.ui.progressbar,{version:"1.8.2"})})(jQuery);(function(b,n){b.store=function(n,a){var g=this;if("string"==typeof n)if(b.store.drivers[n])this.driver=b.store.drivers[n];else throw Error("Unknown driver "+n);else if("object"==typeof n){if(!(b.isFunction(n.init)&&b.isFunction(n.get)&&b.isFunction(n.set)&&b.isFunction(n.del)&&b.isFunction(n.flush)))throw Error("The specified driver does not fulfill the API requirements");this.driver=n}else b.each(b.store.drivers,function(){if(!b.isFunction(this.available)||!this.available())return!0;g.driver=this;
return!1===g.driver.init()?(g.driver=null,!0):!1});a||(a=b.store.serializers);this.serializers={};b.each(a,function(a,f){if(!b.isFunction(this.init))return!0;g.serializers[a]=this;g.serializers[a].init(g.encoders,g.decoders)})};b.extend(b.store.prototype,{get:function(b){b=this.driver.get(b);return this.driver.encodes?b:this.unserialize(b)},set:function(b,a){this.driver.set(b,this.driver.encodes?a:this.serialize(a))},del:function(b){this.driver.del(b)},flush:function(){this.driver.flush()},driver:n,
encoders:[],decoders:[],serialize:function(n){var a=this;b.each(this.encoders,function(){var b=a.serializers[this+""];if(!b||!b.encode)return!0;try{n=b.encode(n)}catch(e){}});return n},unserialize:function(n){var a=this;if(!n)return n;b.each(this.decoders,function(){var b=a.serializers[this+""];if(!b||!b.decode)return!0;n=b.decode(n)});return n}});b.store.drivers={localStorage:{ident:"$.store.drivers.localStorage",scope:"browser",available:function(){try{return!!window.localStorage}catch(t){return!1}},
init:b.noop,get:function(b){return window.localStorage.getItem(b)},set:function(b,a){window.localStorage.setItem(b,a)},del:function(b){window.localStorage.removeItem(b)},flush:function(){window.localStorage.clear()}},userData:{ident:"$.store.drivers.userData",element:null,nodeName:"userdatadriver",scope:"browser",initialized:!1,available:function(){try{return!(!document.documentElement||!document.documentElement.addBehavior)}catch(t){return!1}},init:function(){if(!this.initialized)try{this.element=
document.createElement(this.nodeName),document.documentElement.insertBefore(this.element,document.getElementsByTagName("title")[0]),this.element.addBehavior("#default#userData"),this.initialized=!0}catch(t){return!1}},get:function(b){this.element.load(this.nodeName);return this.element.getAttribute(b)},set:function(b,a){this.element.setAttribute(b,a);this.element.save(this.nodeName)},del:function(b){this.element.removeAttribute(b);this.element.save(this.nodeName)},flush:function(){this.element.expires=
(new Date).toUTCString();this.element.save(this.nodeName)}},windowName:{ident:"$.store.drivers.windowName",scope:"window",cache:{},encodes:!0,available:function(){return!0},init:function(){this.load()},save:function(){window.name=b.store.serializers.json.encode(this.cache)},load:function(){try{this.cache=b.store.serializers.json.decode(window.name+""),"object"!=typeof this.cache&&(this.cache={})}catch(t){this.cache={},window.name="{}"}},get:function(b){return this.cache[b]},set:function(b,a){this.cache[b]=
a;this.save()},del:function(b){try{delete this.cache[b]}catch(a){this.cache[b]=n}this.save()},flush:function(){window.name="{}"}}};b.store.serializers={json:{ident:"$.store.serializers.json",init:function(b,a){b.push("json");a.push("json")},encode:"object"==typeof JSON?JSON.stringify:b.JSON.stringify,decode:"object"==typeof JSON?JSON.parse:b.JSON.parse},xml:{ident:"$.store.serializers.xml",init:function(b,a){b.unshift("xml");a.push("xml")},isXML:function(b){return(b=(b?b.ownerDocument||b:0).documentElement)?
"html"!==b.nodeName.toLowerCase():!1},encode:function(b){if(!b||b._serialized||!this.isXML(b))return b;var a={_serialized:this.ident,value:b};try{return a.value=(new XMLSerializer).serializeToString(b),a}catch(g){try{return a.value=b.xml,a}catch(e){}}return b},decode:function(b){if(!b||!b._serialized||b._serialized!=this.ident)return b;var a="DOMParser"in window&&(new DOMParser).parseFromString;!a&&window.ActiveXObject&&(a=function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);
return b});if(!a)return n;b.value=a.call("DOMParser"in window&&new DOMParser||window,b.value,"text/xml");return this.isXML(b.value)?b.value:n}}}})(jQuery);(function(b){b.fn.farbtastic=function(n){b.farbtastic(this,n);return this};b.farbtastic=function(n,t){n=b(n).get(0);return n.farbtastic||(n.farbtastic=new b._farbtastic(n,t))};b._farbtastic=function(n,t){var a=this;b(n).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var g=b(".farbtastic",n);a.wheel=b(".wheel",n).get(0);a.radius=84;a.square=100;a.width=194;navigator.appVersion.match(/MSIE [0-6]\./)&&
b("*",g).each(function(){if("none"!=this.currentStyle.backgroundImage){var a=this.currentStyle.backgroundImage,a=this.currentStyle.backgroundImage.substring(5,a.length-2);b(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+a+"')"})}});a.linkTo=function(e){"object"==typeof a.callback&&b(a.callback).unbind("keyup",a.updateValue);a.color=null;if("function"==typeof e)a.callback=e;else if("object"==typeof e||"string"==typeof e)a.callback=
b(e),a.callback.bind("keyup",a.updateValue),a.callback.get(0).value&&a.setColor(a.callback.get(0).value);return this};a.updateValue=function(){this.value&&this.value!=a.color&&a.setColor(this.value)};a.setColor=function(b){var e=a.unpack(b);a.color!=b&&e&&(a.color=b,a.rgb=e,a.hsl=a.RGBToHSL(a.rgb),a.updateDisplay());return this};a.setHSL=function(b){a.hsl=b;a.rgb=a.HSLToRGB(b);a.color=a.pack(a.rgb);a.updateDisplay();return this};a.widgetCoords=function(e){var f=b(a.wheel).offset();return{x:e.pageX-
f.left-a.width/2,y:e.pageY-f.top-a.width/2}};a.mousedown=function(e){document.dragging||(b(document).bind("mousemove",a.mousemove).bind("mouseup",a.mouseup),document.dragging=!0);var f=a.widgetCoords(e);a.circleDrag=2*Math.max(Math.abs(f.x),Math.abs(f.y))>a.square;a.mousemove(e);return!1};a.mousemove=function(b){b=a.widgetCoords(b);a.circleDrag?(b=Math.atan2(b.x,-b.y)/6.28,0>b&&(b+=1),a.setHSL([b,a.hsl[1],a.hsl[2]])):a.setHSL([a.hsl[0],Math.max(0,Math.min(1,-(b.x/a.square)+.5)),Math.max(0,Math.min(1,
-(b.y/a.square)+.5))]);return!1};a.mouseup=function(){b(document).unbind("mousemove",a.mousemove);b(document).unbind("mouseup",a.mouseup);document.dragging=!1};a.updateDisplay=function(){var e=6.28*a.hsl[0];b(".h-marker",g).css({left:Math.round(Math.sin(e)*a.radius+a.width/2)+"px",top:Math.round(-Math.cos(e)*a.radius+a.width/2)+"px"});b(".sl-marker",g).css({left:Math.round(a.square*(.5-a.hsl[1])+a.width/2)+"px",top:Math.round(a.square*(.5-a.hsl[2])+a.width/2)+"px"});b(".color",g).css("backgroundColor",
a.pack(a.HSLToRGB([a.hsl[0],1,.5])));"object"==typeof a.callback?(b(a.callback).css({backgroundColor:a.color,color:.5<a.hsl[2]?"#000":"#fff"}),b(a.callback).each(function(){this.value&&this.value!=a.color&&(this.value=a.color)})):"function"==typeof a.callback&&a.callback.call(a,a.color)};a.pack=function(a){var b=Math.round(255*a[0]),c=Math.round(255*a[1]);a=Math.round(255*a[2]);return"#"+(16>b?"0":"")+b.toString(16)+(16>c?"0":"")+c.toString(16)+(16>a?"0":"")+a.toString(16)};a.unpack=function(a){if(7==
a.length)return[parseInt("0x"+a.substring(1,3))/255,parseInt("0x"+a.substring(3,5))/255,parseInt("0x"+a.substring(5,7))/255];if(4==a.length)return[parseInt("0x"+a.substring(1,2))/15,parseInt("0x"+a.substring(2,3))/15,parseInt("0x"+a.substring(3,4))/15]};a.HSLToRGB=function(a){var b,c=a[0];b=a[1];a=a[2];b=.5>=a?a*(b+1):a+b-a*b;a=2*a-b;return[this.hueToRGB(a,b,c+.33333),this.hueToRGB(a,b,c),this.hueToRGB(a,b,c-.33333)]};a.hueToRGB=function(a,b,c){c=0>c?c+1:1<c?c-1:c;return 1>6*c?a+(b-a)*c*6:1>2*c?b:
2>3*c?a+(b-a)*(.66666-c)*6:a};a.RGBToHSL=function(a){var b,c,e,g,m=a[0],d=a[1],l=a[2];b=Math.min(m,Math.min(d,l));a=Math.max(m,Math.max(d,l));c=a-b;g=(b+a)/2;e=0;0<g&&1>g&&(e=c/(.5>g?2*g:2-2*g));b=0;0<c&&(a==m&&a!=d&&(b+=(d-l)/c),a==d&&a!=l&&(b+=2+(l-m)/c),a==l&&a!=m&&(b+=4+(m-d)/c),b/=6);return[b,e,g]};b("*",g).mousedown(a.mousedown);a.setColor("#000000");t&&a.linkTo(t)}})(jQuery);/*
 jquery-timepicker v1.11.5 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 Copyright (c) 2016 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 License: MIT
*/
!function(b){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)}(function(b){function n(a){a=a[0];return 0<a.offsetWidth&&0<a.offsetHeight}function t(a){if(a.minTime&&(a.minTime=A(a.minTime)),a.maxTime&&(a.maxTime=A(a.maxTime)),a.durationTime&&"function"!=typeof a.durationTime&&(a.durationTime=A(a.durationTime)),"now"==a.scrollDefault)a.scrollDefault=function(){return a.roundingFunction(A(new Date),
a)};else if(a.scrollDefault&&"function"!=typeof a.scrollDefault){var c=a.scrollDefault;a.scrollDefault=function(){return a.roundingFunction(A(c),a)}}else a.minTime&&(a.scrollDefault=function(){return a.roundingFunction(a.minTime,a)});if("string"===b.type(a.timeFormat)&&a.timeFormat.match(/[gh]/)&&(a._twelveHourTime=!0),!1===a.showOnFocus&&-1!=a.showOn.indexOf("focus")&&a.showOn.splice(a.showOn.indexOf("focus"),1),0<a.disableTimeRanges.length){for(var d in a.disableTimeRanges)a.disableTimeRanges[d]=
[A(a.disableTimeRanges[d][0]),A(a.disableTimeRanges[d][1])];a.disableTimeRanges=a.disableTimeRanges.sort(function(a,c){return a[0]-c[0]});for(d=a.disableTimeRanges.length-1;0<d;d--)a.disableTimeRanges[d][0]<=a.disableTimeRanges[d-1][1]&&(a.disableTimeRanges[d-1]=[Math.min(a.disableTimeRanges[d][0],a.disableTimeRanges[d-1][0]),Math.max(a.disableTimeRanges[d][1],a.disableTimeRanges[d-1][1])],a.disableTimeRanges.splice(d,1))}return a}function a(a){var d=a.data("timepicker-settings"),f=a.data("timepicker-list");
if(f&&f.length&&(f.remove(),a.data("timepicker-list",!1)),d.useSelect)var h=f=b("<select />",{"class":"ui-timepicker-select"});else f=b("<ul />",{"class":"ui-timepicker-list"}),h=b("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1}),h.css({display:"none",position:"absolute"}).append(f);if(d.noneOption)if(!0===d.noneOption&&(d.noneOption=d.useSelect?"Time...":"None"),b.isArray(d.noneOption))for(var m in d.noneOption){if(parseInt(m,10)==m){var q=g(d.noneOption[m],d.useSelect);f.append(q)}}else q=
g(d.noneOption,d.useSelect),f.append(q);(d.className&&h.addClass(d.className),null===d.minTime&&null===d.durationTime||!d.showDuration)||("function"==typeof d.step?"function":d.step,h.addClass("ui-timepicker-with-duration"),h.addClass("ui-timepicker-step-"+d.step));q=d.minTime;"function"==typeof d.durationTime?q=A(d.durationTime()):null!==d.durationTime&&(q=d.durationTime);m=null!==d.minTime?d.minTime:0;var n=null!==d.maxTime?d.maxTime:m+v-1;m>n&&(n+=v);n===v-1&&"string"===b.type(d.timeFormat)&&d.show2400&&
(n=v);var w=d.disableTimeRanges,z=0,C=w.length,D=d.step;"function"!=typeof D&&(D=function(){return d.step});for(var t=0;n>=m;t++,m+=60*D(t)){var W=m,na=r(W,d);if(d.useSelect)var T=b("<option />",{value:na});else T=b("<li />"),T.addClass(43200>W%86400?"ui-timepicker-am":"ui-timepicker-pm"),T.data("time",86400>=W?W:W%86400);T.text(na);if((null!==d.minTime||null!==d.durationTime)&&d.showDuration)if(na=B(m-q,d.step),d.useSelect)T.text(T.text()+" ("+na+")");else{var aa=b("<span />",{"class":"ui-timepicker-duration"});
aa.text(" ("+na+")");T.append(aa)}C>z&&(W>=w[z][1]&&(z+=1),w[z]&&W>=w[z][0]&&W<w[z][1]&&(d.useSelect?T.prop("disabled",!0):T.addClass("ui-timepicker-disabled")));f.append(T)}(h.data("timepicker-input",a),a.data("timepicker-list",h),d.useSelect)?(a.val()&&f.val(e(A(a.val()),d)),f.on("focus",function(){b(this).data("timepicker-input").trigger("showTimepicker")}),f.on("blur",function(){b(this).data("timepicker-input").trigger("hideTimepicker")}),f.on("change",function(){l(a,b(this).val(),"select")}),
l(a,f.val(),"initial"),a.hide().after(f)):(m=d.appendTo,"string"==typeof m?m=b(m):"function"==typeof m&&(m=m(a)),m.append(h),k(a,f),f.on("mousedown click","li",function(d){a.off("focus.timepicker");a.on("focus.timepicker-ie-hack",function(){a.off("focus.timepicker-ie-hack");a.on("focus.timepicker",G.show)});c(a)||a[0].focus();f.find("li").removeClass("ui-timepicker-selected");b(this).addClass("ui-timepicker-selected");u(a)&&(a.trigger("hideTimepicker"),f.on("mouseup.timepicker click.timepicker","li",
function(a){f.off("mouseup.timepicker click.timepicker");h.hide()}))}))}function g(a,c){var d,e,f;return"object"==typeof a?(d=a.label,e=a.className,f=a.value):"string"==typeof a?d=a:b.error("Invalid noneOption value"),c?b("<option />",{value:f,"class":e,text:d}):b("<li />",{"class":e,text:d}).data("time",String(f))}function e(a,c){return a=c.roundingFunction(a,c),null!==a?r(a,c):void 0}function f(a){a.target!=window&&(a=b(a.target),a.closest(".ui-timepicker-input").length||a.closest(".ui-timepicker-wrapper").length||
(G.hide(),b(document).unbind(".ui-timepicker"),b(window).unbind(".ui-timepicker")))}function c(a){a=a.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&a.disableTouchKeyboard}function h(a,c,d){if(!d&&0!==d)return!1;a=a.data("timepicker-settings");var e=!1;d=a.roundingFunction(d,a);return c.find("li").each(function(a,c){var f=b(c);if("number"==typeof f.data("time"))return f.data("time")==d?(e=f,!1):void 0}),e}function k(a,c){c.find("li").removeClass("ui-timepicker-selected");
var b=A(d(a),a.data("timepicker-settings"));if(null!==b&&(b=h(a,c,b))){var e=b.offset().top-c.offset().top;(e+b.outerHeight()>c.outerHeight()||0>e)&&c.scrollTop(c.scrollTop()+b.position().top-b.outerHeight());b.addClass("ui-timepicker-selected")}}function m(a,c){if(""!==this.value&&"timepicker"!=c){var d=b(this);if(!d.is(":focus")||a&&"change"==a.type){var e=d.data("timepicker-settings"),f=A(this.value,e);if(null===f)return void d.trigger("timeFormatError");var g=!1;if(null!==e.minTime&&null!==e.maxTime&&
(f<e.minTime||f>e.maxTime)&&(g=!0),b.each(e.disableTimeRanges,function(){return f>=this[0]&&f<this[1]?(g=!0,!1):void 0}),e.forceRoundTime){var h=e.roundingFunction(f,e);h!=f&&(f=h,c=null)}e=r(f,e);g?l(d,e,"error")&&d.trigger("timeRangeError"):l(d,e,c)}}}function d(a){return a.is("input")?a.val():a.data("ui-timepicker-value")}function l(a,c,b){if(a.is("input")){a.val(c);var d=a.data("timepicker-settings");d.useSelect&&"select"!=b&&"initial"!=b&&a.data("timepicker-list").val(e(A(c),d))}return a.data("ui-timepicker-value")!=
c?(a.data("ui-timepicker-value",c),"select"==b?a.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(b)&&a.trigger("changeTime"),!0):(a.trigger("selectTime"),!1)}function q(a){switch(a.keyCode){case 13:case 9:break;default:a.preventDefault()}}function w(a){var d=b(this),e=d.data("timepicker-list");if(!e||!n(e)){if(40!=a.keyCode)return!0;G.show.call(d.get(0));e=d.data("timepicker-list");c(d)||d.focus()}switch(a.keyCode){case 13:return u(d)&&(m.call(d.get(0),
{type:"change"}),G.hide.apply(this)),a.preventDefault(),!1;case 38:var f=e.find(".ui-timepicker-selected");return f.length?f.is(":first-child")||(f.removeClass("ui-timepicker-selected"),f.prev().addClass("ui-timepicker-selected"),f.prev().position().top<f.outerHeight()&&e.scrollTop(e.scrollTop()-f.outerHeight())):(e.find("li").each(function(a,c){return 0<b(c).position().top?(f=b(c),!1):void 0}),f.addClass("ui-timepicker-selected")),!1;case 40:return f=e.find(".ui-timepicker-selected"),0===f.length?
(e.find("li").each(function(a,c){return 0<b(c).position().top?(f=b(c),!1):void 0}),f.addClass("ui-timepicker-selected")):f.is(":last-child")||(f.removeClass("ui-timepicker-selected"),f.next().addClass("ui-timepicker-selected"),f.next().position().top+2*f.outerHeight()>e.outerHeight()&&e.scrollTop(e.scrollTop()+f.outerHeight())),!1;case 27:e.find("li").removeClass("ui-timepicker-selected");G.hide();break;case 9:G.hide();break;default:return!0}}function z(a){var c=b(this),d=c.data("timepicker-list"),
e=c.data("timepicker-settings");if(!d||!n(d)||e.disableTextInput)return!0;switch(a.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:e.typeaheadHighlight?k(c,d):d.hide()}}function u(a){var c=a.data("timepicker-settings"),b=null,d=a.data("timepicker-list").find(".ui-timepicker-selected");return d.hasClass("ui-timepicker-disabled")?
!1:(d.length&&(b=d.data("time")),null!==b&&("string"!=typeof b&&(b=r(b,c)),l(a,b,"select")),!0)}function B(a,c){a=Math.abs(a);var b,d,e=Math.round(a/60),f=[];return 60>e?f=[e,C.mins]:(b=Math.floor(e/60),d=e%60,30==c&&30==d&&(b+=C.decimal+5),f.push(b),f.push(1==b?C.hr:C.hrs),30!=c&&d&&(f.push(d),f.push(C.mins))),f.join(" ")}function r(a,c){if("number"!=typeof a)return null;var d=parseInt(a%60),e=parseInt(a/60%60),f=parseInt(a/3600%24),f=new Date(1970,0,2,f,e,d,0);if(isNaN(f.getTime()))return null;
if("function"===b.type(c.timeFormat))return c.timeFormat(f);for(var g="",h=0;h<c.timeFormat.length;h++)switch(d=c.timeFormat.charAt(h)){case "a":g+=11<f.getHours()?C.pm:C.am;break;case "A":g+=11<f.getHours()?C.PM:C.AM;break;case "g":d=f.getHours()%12;g+=0===d?"12":d;break;case "G":d=f.getHours();a===v&&(d=c.show2400?24:0);g+=d;break;case "h":d=f.getHours()%12;0!==d&&10>d&&(d="0"+d);g+=0===d?"12":d;break;case "H":d=f.getHours();a===v&&(d=c.show2400?24:0);g+=9<d?d:"0"+d;break;case "i":e=f.getMinutes();
g+=9<e?e:"0"+e;break;case "s":d=f.getSeconds();g+=9<d?d:"0"+d;break;case "\\":h++;g+=c.timeFormat.charAt(h);break;default:g+=d}return g}function A(a,c){if(""===a||null===a)return null;if("object"==typeof a)return 3600*a.getHours()+60*a.getMinutes()+a.getSeconds();if("string"!=typeof a)return a;a=a.toLowerCase().replace(/[\s\.]/g,"");"a"!=a.slice(-1)&&"p"!=a.slice(-1)||(a+="m");var b="("+C.am.replace(".","")+"|"+C.pm.replace(".","")+"|"+C.AM.replace(".","")+"|"+C.PM.replace(".","")+")?",d=a.match(new RegExp("^"+
b+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+b+"$"));if(!d)return null;b=parseInt(1*d[2],10);if(24<b){if(c&&!1===c.wrapHours)return null;b%=24}var e=d[1]||d[5],f=b;12>=b&&e&&(f=e==C.pm||e==C.PM,f=12==b?f?12:0:b+(f?12:0));d=3600*f+60*(1*d[3]||0)+(1*d[4]||0);12>b&&!e&&c&&c._twelveHourTime&&c.scrollDefault&&(b=d-c.scrollDefault(),0>b&&b>=v/-2&&(d=(d+v/2)%v));return d}var v=86400,C={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},G={init:function(c){return this.each(function(){var d=
b(this),e=[],f;for(f in b.fn.timepicker.defaults)d.data(f)&&(e[f]=d.data(f));e=b.extend({},b.fn.timepicker.defaults,e,c);if(e.lang&&(C=b.extend(C,e.lang)),e=t(e),d.data("timepicker-settings",e),d.addClass("ui-timepicker-input"),e.useSelect)a(d);else{if(d.prop("autocomplete","off"),e.showOn)for(var g in e.showOn)d.on(e.showOn[g]+".timepicker",G.show);d.on("change.timepicker",m);d.on("keydown.timepicker",w);d.on("keyup.timepicker",z);e.disableTextInput&&d.on("keydown.timepicker",q);m.call(d.get(0),
null,"initial")}})},show:function(e){var g=b(this),m=g.data("timepicker-settings");if(e&&e.preventDefault(),m.useSelect)return void g.data("timepicker-list").focus();c(g)&&g.blur();e=g.data("timepicker-list");if(!g.prop("readonly")&&(e&&0!==e.length&&"function"!=typeof m.durationTime||(a(g),e=g.data("timepicker-list")),!n(e))){g.data("ui-timepicker-value",g.val());k(g,e);G.hide();e.show();var l={};m.orientation.match(/r/)?l.left=g.offset().left+g.outerWidth()-e.outerWidth()+parseInt(e.css("marginLeft").replace("px",
""),10):l.left=g.offset().left+parseInt(e.css("marginLeft").replace("px",""),10);"t"==(m.orientation.match(/t/)?"t":m.orientation.match(/b/)?"b":g.offset().top+g.outerHeight(!0)+e.outerHeight()>b(window).height()+b(window).scrollTop()?"t":"b")?(e.addClass("ui-timepicker-positioned-top"),l.top=g.offset().top-e.outerHeight()+parseInt(e.css("marginTop").replace("px",""),10)):(e.removeClass("ui-timepicker-positioned-top"),l.top=g.offset().top+g.outerHeight()+parseInt(e.css("marginTop").replace("px",""),
10));e.offset(l);l=e.find(".ui-timepicker-selected");if(!l.length){var r=A(d(g));null!==r?l=h(g,e,r):m.scrollDefault&&(l=h(g,e,m.scrollDefault()))}l&&l.length?(l=e.scrollTop()+l.position().top-l.outerHeight(),e.scrollTop(l)):e.scrollTop(0);return m.stopScrollPropagation&&b(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(a){a.preventDefault();var c=b(this).scrollTop();b(this).scrollTop(c+a.originalEvent.deltaY)}),b(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",
f),b(window).on("resize.ui-timepicker",f),m.closeOnWindowScroll&&b(document).on("scroll.ui-timepicker",f),g.trigger("showTimepicker"),this}},hide:function(a){a=b(this);var c=a.data("timepicker-settings");return c&&c.useSelect&&a.blur(),b(".ui-timepicker-wrapper").each(function(){var a=b(this);if(n(a)){var c=a.data("timepicker-input"),d=c.data("timepicker-settings");d&&d.selectOnBlur&&u(c);a.hide();c.trigger("hideTimepicker")}}),this},option:function(c,d){return"string"==typeof c&&"undefined"==typeof d?
b(this).data("timepicker-settings")[c]:this.each(function(){var e=b(this),f=e.data("timepicker-settings"),g=e.data("timepicker-list");"object"==typeof c?f=b.extend(f,c):"string"==typeof c&&(f[c]=d);f=t(f);e.data("timepicker-settings",f);g&&(g.remove(),e.data("timepicker-list",!1));f.useSelect&&a(e)})},getSecondsFromMidnight:function(){return A(d(this))},getTime:function(a){var c=d(this);if(!c)return null;c=A(c);if(null===c)return null;a||(a=new Date);a=new Date(a);return a.setHours(c/3600),a.setMinutes(c%
3600/60),a.setSeconds(c%60),a.setMilliseconds(0),a},isVisible:function(){var a=this.data("timepicker-list");return!(!a||!n(a))},setTime:function(a){var c=this.data("timepicker-settings"),b=c.forceRoundTime?e(A(a),c):r(A(a),c);return a&&null===b&&c.noneOption&&(b=a),l(this,b),this.data("timepicker-list")&&k(this,this.data("timepicker-list")),this},remove:function(){if(this.hasClass("ui-timepicker-input")){var a=this.data("timepicker-settings");return this.removeAttr("autocomplete","off"),this.removeClass("ui-timepicker-input"),
this.removeData("timepicker-settings"),this.off(".timepicker"),this.data("timepicker-list")&&this.data("timepicker-list").remove(),a.useSelect&&this.show(),this.removeData("timepicker-list"),this}}};b.fn.timepicker=function(a){return this.length?G[a]?this.hasClass("ui-timepicker-input")?G[a].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof a&&a?void b.error("Method "+a+" does not exist on jQuery.timepicker"):G.init.apply(this,arguments):this};b.fn.timepicker.defaults={appendTo:"body",
className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(a,c){if(null===a)return null;if("number"!=typeof c.step)return a;var b=a%(60*c.step);return b>=30*c.step?a+=60*c.step-b:a-=b,a==v&&c.show2400?a:a%v},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,
timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}});(function(b){function n(){return b("<div/>")}var t=Math.abs,a=Math.max,g=Math.min,e=Math.round;b.imgAreaSelect=function(f,c){function h(a){return a+ma.left-ja.left}function k(a){return a+ma.top-ja.top}function m(a){return a-ma.left+ja.left}function d(a){return a-ma.top+ja.top}function l(a){var c=a||p;a=a||Ea;return{x1:e(V.x1*c),y1:e(V.y1*a),x2:e(V.x2*c),y2:e(V.y2*a),width:e(V.x2*c)-e(V.x1*c),height:e(V.y2*a)-e(V.y1*a)}}function q(a,c,b,d,f){var g=f||p;f=f||Ea;V={x1:e(a/g||0),y1:e(c/f||0),x2:e(b/g||
0),y2:e(d/f||0)};V.width=V.x2-V.x1;V.height=V.y2-V.y1}function w(){pa&&N.width()&&(ma={left:e(N.offset().left),top:e(N.offset().top)},ka=N.innerWidth(),qa=N.innerHeight(),ma.top+=N.outerHeight()-qa>>1,ma.left+=N.outerWidth()-ka>>1,Fa=e(c.minWidth/p)||0,bb=e(c.minHeight/Ea)||0,Ba=e(g(c.maxWidth/p||16777216,ka)),tb=e(g(c.maxHeight/Ea||16777216,qa)),"1.3.2"!=b().jquery||"fixed"!=Ka||Ma.getBoundingClientRect||(ma.top+=a(document.body.scrollTop,Ma.scrollTop),ma.left+=a(document.body.scrollLeft,Ma.scrollLeft)),
ja=/absolute|relative/.test(ya.css("position"))?{left:e(ya.offset().left)-ya.scrollLeft(),top:e(ya.offset().top)-ya.scrollTop()}:"fixed"==Ka?{left:b(document).scrollLeft(),top:b(document).scrollTop()}:{left:0,top:0},ga=h(0),X=k(0),(V.x2>ka||V.y2>qa)&&G())}function z(d){if(fb){W.css({left:h(V.x1),top:k(V.y1)}).add(na).width(ha=V.width).height(Pa=V.height);na.add(T).add(ea).css({left:0,top:0});T.width(a(ha-T.outerWidth()+T.innerWidth(),0)).height(a(Pa-T.outerHeight()+T.innerHeight(),0));b(aa[0]).css({left:ga,
top:X,width:V.x1,height:qa});b(aa[1]).css({left:ga+V.x1,top:X,width:ha,height:V.y1});b(aa[2]).css({left:ga+V.x2,top:X,width:ka-V.x2,height:qa});b(aa[3]).css({left:ga+V.x1,top:X+V.y2,width:ha,height:qa-V.y2});ha-=ea.outerWidth();Pa-=ea.outerHeight();switch(ea.length){case 8:b(ea[4]).css({left:ha>>1}),b(ea[5]).css({left:ha,top:Pa>>1}),b(ea[6]).css({left:ha>>1,top:Pa}),b(ea[7]).css({top:Pa>>1});case 4:ea.slice(1,3).css({left:ha}),ea.slice(2,4).css({top:Pa})}if(!1!==d&&(b.imgAreaSelect.onKeyPress!=hb&&
b(document).unbind(b.imgAreaSelect.keyPress,b.imgAreaSelect.onKeyPress),c.keys))b(document)[b.imgAreaSelect.keyPress](b.imgAreaSelect.onKeyPress=hb);Ia&&2==T.outerWidth()-T.innerWidth()&&(T.css("margin",0),setTimeout(function(){T.css("margin","auto")},0))}}function u(a){w();z(a);ba=h(V.x1);K=k(V.y1);ca=h(V.x2);la=k(V.y2)}function B(a,b){c.fadeSpeed?a.fadeOut(c.fadeSpeed,b):a.hide()}function r(a){var b=m(a.pageX-ja.left)-V.x1;a=d(a.pageY-ja.top)-V.y1;Oa||(w(),Oa=!0,W.one("mouseout",function(){Oa=!1}));
za="";c.resizable&&(a<=c.resizeMargin?za="n":a>=V.height-c.resizeMargin&&(za="s"),b<=c.resizeMargin?za+="w":b>=V.width-c.resizeMargin&&(za+="e"));W.css("cursor",za?za+"-resize":c.movable?"move":"");ua&&ua.toggle()}function A(a){b("body").css("cursor","");(c.autoHide||0==V.width*V.height)&&B(W.add(aa),function(){b(this).hide()});b(document).unbind("mousemove",D);W.mousemove(r);c.onSelectEnd(f,l())}function v(a){if(1!=a.which)return!1;w();za?(b("body").css("cursor",za+"-resize"),ba=h(V[/w/.test(za)?
"x2":"x1"]),K=k(V[/n/.test(za)?"y2":"y1"]),b(document).mousemove(D).one("mouseup",A),W.unbind("mousemove",r)):c.movable?(Ra=ga+V.x1-(a.pageX-ja.left),P=X+V.y1-(a.pageY-ja.top),W.unbind("mousemove",r),b(document).mousemove(F).one("mouseup",function(){c.onSelectEnd(f,l());b(document).unbind("mousemove",F);W.mousemove(r)})):N.mousedown(a);return!1}function C(c){Sa&&(c?(ca=a(ga,g(ga+ka,ba+t(la-K)*Sa*(ca>ba||-1))),la=e(a(X,g(X+qa,K+t(ca-ba)/Sa*(la>K||-1)))),ca=e(ca)):(la=a(X,g(X+qa,K+t(ca-ba)/Sa*(la>K||
-1))),ca=e(a(ga,g(ga+ka,ba+t(la-K)*Sa*(ca>ba||-1)))),la=e(la)))}function G(){ba=g(ba,ga+ka);K=g(K,X+qa);t(ca-ba)<Fa&&(ca=ba-Fa*(ca<ba||-1),ca<ga?ba=ga+Fa:ca>ga+ka&&(ba=ga+ka-Fa));t(la-K)<bb&&(la=K-bb*(la<K||-1),la<X?K=X+bb:la>X+qa&&(K=X+qa-bb));ca=a(ga,g(ca,ga+ka));la=a(X,g(la,X+qa));C(t(ca-ba)<t(la-K)*Sa);t(ca-ba)>Ba&&(ca=ba-Ba*(ca<ba||-1),C());t(la-K)>tb&&(la=K-tb*(la<K||-1),C(!0));V={x1:m(g(ba,ca)),x2:m(a(ba,ca)),y1:d(g(K,la)),y2:d(a(K,la)),width:t(ca-ba),height:t(la-K)};z();c.onSelectChange(f,
l())}function D(a){ca=/w|e|^$/.test(za)||Sa?a.pageX-ja.left:h(V.x2);la=/n|s|^$/.test(za)||Sa?a.pageY-ja.top:k(V.y2);G();return!1}function O(a,e){ca=(ba=a)+V.width;la=(K=e)+V.height;b.extend(V,{x1:m(ba),y1:d(K),x2:m(ca),y2:d(la)});z();c.onSelectChange(f,l())}function F(c){ba=a(ga,g(Ra+(c.pageX-ja.left),ga+ka-V.width));K=a(X,g(P+(c.pageY-ja.top),X+qa-V.height));O(ba,K);c.preventDefault();return!1}function E(){b(document).unbind("mousemove",E);w();ca=ba;la=K;G();za="";aa.is(":visible")||W.add(aa).hide().fadeIn(c.fadeSpeed||
0);fb=!0;b(document).unbind("mouseup",M).mousemove(D).one("mouseup",A);W.unbind("mousemove",r);c.onSelectStart(f,l())}function M(){b(document).unbind("mousemove",E).unbind("mouseup",M);B(W.add(aa));q(m(ba),d(K),m(ba),d(K));this instanceof b.imgAreaSelect||(c.onSelectChange(f,l()),c.onSelectEnd(f,l()))}function Q(a){if(1!=a.which||aa.is(":animated"))return!1;w();Ra=ba=a.pageX-ja.left;P=K=a.pageY-ja.top;b(document).mousemove(E).mouseup(M);return!1}function J(){u(!1)}function fa(){pa=!0;I(c=b.extend({classPrefix:"imgareaselect",
movable:!0,parent:"body",resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},c));W.add(aa).css({visibility:""});c.show&&(fb=!0,w(),z(),W.add(aa).hide().fadeIn(c.fadeSpeed||0));setTimeout(function(){c.onInit(f,l())},0)}function L(a,b){for(var d in b)void 0!==c[d]&&a.css(b[d],c[d])}function I(a){a.parent&&(ya=b(a.parent)).append(W.add(aa));b.extend(c,a);w();if(null!=a.handles){ea.remove();ea=b([]);for($a=a.handles?"corners"==
a.handles?4:8:0;$a--;)ea=ea.add(n());ea.addClass(c.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:Ja+1||1});0<=!parseInt(ea.css("width"))&&ea.width(5).height(5);(Na=c.borderWidth)&&ea.css({borderWidth:Na,borderStyle:"solid"});L(ea,{borderColor1:"border-color",borderColor2:"background-color",borderOpacity:"opacity"})}p=c.imageWidth/ka||1;Ea=c.imageHeight/qa||1;null!=a.x1&&(q(a.x1,a.y1,a.x2,a.y2),a.show=!a.hide);a.keys&&(c.keys=b.extend({shift:1,ctrl:"resize"},a.keys));aa.addClass(c.classPrefix+
"-outer");na.addClass(c.classPrefix+"-selection");for($a=0;4>$a++;)b(T[$a-1]).addClass(c.classPrefix+"-border"+$a);L(na,{selectionColor:"background-color",selectionOpacity:"opacity"});L(T,{borderOpacity:"opacity",borderWidth:"border-width"});L(aa,{outerColor:"background-color",outerOpacity:"opacity"});(Na=c.borderColor1)&&b(T[0]).css({borderStyle:"solid",borderColor:Na});(Na=c.borderColor2)&&b(T[1]).css({borderStyle:"dashed",borderColor:Na});W.append(na.add(T).add(ua)).append(ea);Ia&&((Na=(aa.css("filter")||
"").match(/opacity=(\d+)/))&&aa.css("opacity",Na[1]/100),(Na=(T.css("filter")||"").match(/opacity=(\d+)/))&&T.css("opacity",Na[1]/100));a.hide?B(W.add(aa)):a.show&&pa&&(fb=!0,W.add(aa).fadeIn(c.fadeSpeed||0),u());Sa=(jb=(c.aspectRatio||"").split(/:/))[0]/jb[1];N.add(aa).unbind("mousedown",Q);if(c.disable||!1===c.enable)W.unbind("mousemove",r).unbind("mousedown",v),b(window).unbind("resize",J);else{if(c.enable||!1===c.disable)(c.resizable||c.movable)&&W.mousemove(r).mousedown(v),b(window).resize(J);
c.persistent||N.add(aa).mousedown(Q)}c.enable=c.disable=void 0}var N=b(f),pa,W=n(),na=n(),T=n().add(n()).add(n()).add(n()),aa=n().add(n()).add(n()).add(n()),ea=b([]),ua,ga,X,ma={left:0,top:0},ka,qa,ya,ja={left:0,top:0},Ja=0,Ka="absolute",Ra,P,p,Ea,za,Fa,bb,Ba,tb,Sa,fb,ba,K,ca,la,V={x1:0,y1:0,x2:0,y2:0,width:0,height:0},Ma=document.documentElement,xa=navigator.userAgent,jb,$a,Na,ha,Pa,Oa,hb=function(b){var e=c.keys,f,h=b.keyCode;f=isNaN(e.alt)||!b.altKey&&!b.originalEvent.altKey?!isNaN(e.ctrl)&&b.ctrlKey?
e.ctrl:!isNaN(e.shift)&&b.shiftKey?e.shift:isNaN(e.arrows)?10:e.arrows:e.alt;if("resize"==e.arrows||"resize"==e.shift&&b.shiftKey||"resize"==e.ctrl&&b.ctrlKey||"resize"==e.alt&&(b.altKey||b.originalEvent.altKey)){switch(h){case 37:f=-f;case 39:b=a(ba,ca);ba=g(ba,ca);ca=a(b+f,ba);C();break;case 38:f=-f;case 40:b=a(K,la);K=g(K,la);la=a(b+f,K);C(!0);break;default:return}G()}else switch(ba=g(ba,ca),K=g(K,la),h){case 37:O(a(ba-f,ga),K);break;case 38:O(ba,a(K-f,X));break;case 39:O(ba+g(f,ka-m(ca)),K);break;
case 40:O(ba,K+g(f,qa-d(la)));break;default:return}return!1};this.remove=function(){I({disable:!0});W.add(aa).remove()};this.getOptions=function(){return c};this.setOptions=I;this.getSelection=l;this.setSelection=q;this.cancelSelection=M;this.update=u;for(var Ia=(/msie ([\w.]+)/i.exec(xa)||[])[1],Eb=/opera/i.test(xa),Gb=/webkit/i.test(xa)&&!/chrome/i.test(xa),xa=N;xa.length;)Ja=a(Ja,isNaN(xa.css("z-index"))?Ja:xa.css("z-index")),"fixed"==xa.css("position")&&(Ka="fixed"),xa=xa.parent(":not(body)");
Ja=c.zIndex||Ja;Ia&&N.attr("unselectable","on");b.imgAreaSelect.keyPress=Ia||Gb?"keydown":"keypress";Eb&&(ua=n().css({width:"100%",height:"100%",position:"absolute",zIndex:Ja+2||2}));W.add(aa).css({visibility:"hidden",position:Ka,overflow:"hidden",zIndex:Ja||"0"});W.css({zIndex:Ja+2||2});na.add(T).css({position:"absolute",fontSize:0});f.complete||"complete"==f.readyState||!N.is("img")?fa():N.one("load",fa);!pa&&Ia&&7<=Ia&&(f.src=f.src)};b.fn.imgAreaSelect=function(a){a=a||{};this.each(function(){b(this).data("imgAreaSelect")?
a.remove?(b(this).data("imgAreaSelect").remove(),b(this).removeData("imgAreaSelect")):b(this).data("imgAreaSelect").setOptions(a):a.remove||(void 0===a.enable&&void 0===a.disable&&(a.enable=!0),b(this).data("imgAreaSelect",new b.imgAreaSelect(this,a)))});return a.instance?b(this).data("imgAreaSelect"):this}})(jQuery);!function(){function b(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function n(a,c){return c>a?-1:a>c?1:a>=c?0:0/0}function t(a){return null===a?0/0:+a}function a(a){return!isNaN(a)}function g(a){return{left:function(c,b,d,e){3>arguments.length&&(d=0);for(4>arguments.length&&(e=c.length);e>d;){var f=d+e>>>1;0>a(c[f],b)?d=f+1:e=f}return d},right:function(c,b,d,e){3>arguments.length&&(d=0);for(4>arguments.length&&(e=c.length);e>d;){var f=d+e>>>1;0<a(c[f],
b)?e=f:d=f+1}return d}}}function e(a){return a.length}function f(a,c){for(var b in c)Object.defineProperty(a.prototype,b,{value:c[b],enumerable:!1})}function c(){this._=Object.create(null)}function h(a){return(a+="")===yh||a[0]===Ee?Ee+a:a}function k(a){return(a+="")[0]===Ee?a.slice(1):a}function m(a){return h(a)in this._}function d(a){return(a=h(a))in this._&&delete this._[a]}function l(){var a=[],c;for(c in this._)a.push(k(c));return a}function q(){var a=0,c;for(c in this._)++a;return a}function w(){for(var a in this._)return!1;
return!0}function z(){this._=Object.create(null)}function u(a){return a}function B(a,c,b){return function(){var d=b.apply(c,arguments);return d===c?a:d}}function r(a,c){if(c in a)return c;c=c.charAt(0).toUpperCase()+c.slice(1);for(var b=0,d=Lf.length;d>b;++b){var e=Lf[b]+c;if(e in a)return e}}function A(){}function v(){}function C(a){function b(){for(var c,b=d,e=-1,f=b.length;++e<f;)(c=b[e].on)&&c.apply(this,arguments);return a}var d=[],e=new c;return b.on=function(c,b){var f,y=e.get(c);return 2>
arguments.length?y&&y.on:(y&&(y.on=null,d=d.slice(0,f=d.indexOf(y)).concat(d.slice(f+1)),e.remove(c)),b&&d.push(e.set(c,{on:b})),a)},b}function G(){x.event.preventDefault()}function D(){for(var a,c=x.event;a=c.sourceEvent;)c=a;return c}function O(a){for(var c=new v,b=0,d=arguments.length;++b<d;)c[arguments[b]]=C(c);return c.of=function(b,d){return function(e){try{var f=e.sourceEvent=x.event;e.target=a;x.event=e;c[e.type].apply(b,d)}finally{x.event=f}}},c}function F(a){return yd(a,oa),a}function E(a){return"function"==
typeof a?a:function(){return Fe(a,this)}}function M(a){return"function"==typeof a?a:function(){return Ge(a,this)}}function Q(a,c){function b(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,c)}function f(){this.setAttributeNS(a.space,a.local,c)}function g(){var b=c.apply(this,arguments);null==b?this.removeAttribute(a):this.setAttribute(a,b)}function y(){var b=c.apply(this,arguments);null==b?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,
a.local,b)}return a=x.ns.qualify(a),null==c?a.local?d:b:"function"==typeof c?a.local?y:g:a.local?f:e}function J(a){return new RegExp("(?:^|\\s+)"+x.requote(a)+"(?:\\s+|$)","g")}function fa(a,c){function b(){for(var b=-1;++b<e;)a[b](this,c)}function d(){for(var b=-1,d=c.apply(this,arguments);++b<e;)a[b](this,d)}a=(a+"").trim().split(/^|\s+/).map(L);var e=a.length;return"function"==typeof c?d:b}function L(a){var c=J(a);return function(b,d){if(e=b.classList)return d?e.add(a):e.remove(a);var e=b.getAttribute("class")||
"";d?(c.lastIndex=0,c.test(e)||b.setAttribute("class",(e+" "+a).trim().replace(/\s+/g," "))):b.setAttribute("class",e.replace(c," ").trim().replace(/\s+/g," "))}}function I(a,c,b){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,c,b)}function f(){var d=c.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,b)}return null==c?d:"function"==typeof c?f:e}function N(a,c){function b(){delete this[a]}function d(){this[a]=c}function e(){var b=
c.apply(this,arguments);null==b?delete this[a]:this[a]=b}return null==c?b:"function"==typeof c?e:d}function pa(a){function c(){var c=this.ownerDocument,b=this.namespaceURI;return b?c.createElementNS(b,a):c.createElement(a)}function b(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=x.ns.qualify(a)).local?b:c}function W(){var a=this.parentNode;a&&a.removeChild(this)}function na(a){return function(){return He(this,a)}}function T(a){return arguments.length||
(a=n),function(c,b){return c&&b?a(c.__data__,b.__data__):!c-!b}}function aa(a,c){for(var b=0,d=a.length;d>b;b++)for(var e,f=a[b],g=0,y=f.length;y>g;g++)(e=f[g])&&c(e,g,b);return a}function ea(a){return yd(a,yb),a}function ua(a){var c,b;return function(d,e,f){d=a[f].update;var g=d.length;f!=b&&(b=f,c=0);for(e>=c&&(c=e+1);!(e=d[c])&&++c<g;);return e}}function ga(a,c,b){function d(){var c=this[g];c&&(this.removeEventListener(a,c,c.$),delete this[g])}function e(){var e=h(c,Kb(arguments));d.call(this);
this.addEventListener(a,this[g]=e,e.$=b);e._=c}function f(){var c,b=new RegExp("^__on([^.]+)"+x.requote(a)+"$"),d;for(d in this)if(c=d.match(b)){var e=this[d];this.removeEventListener(c[1],e,e.$);delete this[d]}}var g="__on"+a,y=a.indexOf("."),h=X;0<y&&(a=a.slice(0,y));var k=Ie.get(a);return k&&(a=k,h=ma),y?c?e:d:c?A:f}function X(a,c){return function(b){var d=x.event;x.event=b;c[0]=this.__data__;try{a.apply(this,c)}finally{x.event=d}}}function ma(a,c){var b=X(a,c);return function(a){var c=a.relatedTarget;
c&&(c===this||8&c.compareDocumentPosition(this))||b.call(this,a)}}function ka(a){var c=".dragsuppress-"+ ++Ah,d="click"+c,e=x.select(b(a)).on("touchmove"+c,G).on("dragstart"+c,G).on("selectstart"+c,G);if(null==$b&&($b="onselectstart"in a?!1:r(a.style,"userSelect")),$b){var f=(a&&(a.ownerDocument||a.document||a).documentElement).style,g=f[$b];f[$b]="none"}return function(a){if(e.on(c,null),$b&&(f[$b]=g),a){var b=function(){e.on(d,null)};e.on(d,function(){G();b()},!0);setTimeout(b,0)}}}function qa(a,
c){c.changedTouches&&(c=c.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var e=d.createSVGPoint();if(0>Je&&(d=b(a),d.scrollX||d.scrollY)){var d=x.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),f=d[0][0].getScreenCTM();Je=!(f.f||f.e);d.remove()}return Je?(e.x=c.pageX,e.y=c.pageY):(e.x=c.clientX,e.y=c.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}e=a.getBoundingClientRect();return[c.clientX-
e.left-a.clientLeft,c.clientY-e.top-a.clientTop]}function ya(){return x.event.changedTouches[0].identifier}function ja(a,c,b){return(c[0]-a[0])*(b[1]-a[1])-(c[1]-a[1])*(b[0]-a[0])}function Ja(a){return 1<a?0:-1>a?Y:Math.acos(a)}function Ka(a){return 1<a?Ca:-1>a?-Ca:Math.asin(a)}function Ra(a){return((a=Math.exp(a))+1/a)/2}function P(a){return(a=Math.sin(a/2))*a}function p(){}function Ea(a,c,b){return this instanceof Ea?(this.h=+a,this.s=+c,void(this.l=+b)):2>arguments.length?a instanceof Ea?new Ea(a.h,
a.s,a.l):Ma(""+a,xa,Ea):new Ea(a,c,b)}function za(a,c,b){function d(a){return 360<a?a-=360:0>a&&(a+=360),60>a?e+(f-e)*a/60:180>a?f:240>a?e+(f-e)*(240-a)/60:e}var e,f;return a=isNaN(a)?0:0>(a%=360)?a+360:a,c=isNaN(c)?0:0>c?0:1<c?1:c,b=0>b?0:1<b?1:b,f=.5>=b?b*(1+c):b+c-b*c,e=2*b-f,new ca(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function Fa(a,c,b){return this instanceof Fa?(this.h=+a,this.c=+c,void(this.l=+b)):2>arguments.length?a instanceof Fa?new Fa(a.h,a.c,a.l):a instanceof
Ba?Sa(a.l,a.a,a.b):Sa((a=jb((a=x.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new Fa(a,c,b)}function bb(a,c,b){return isNaN(a)&&(a=0),isNaN(c)&&(c=0),new Ba(b,Math.cos(a*=Z)*c,Math.sin(a)*c)}function Ba(a,c,b){return this instanceof Ba?(this.l=+a,this.a=+c,void(this.b=+b)):2>arguments.length?a instanceof Ba?new Ba(a.l,a.a,a.b):a instanceof Fa?bb(a.h,a.c,a.l):jb((a=ca(a)).r,a.g,a.b):new Ba(a,c,b)}function tb(a,c,b){a=(a+16)/116;c=a+c/500;b=a-b/200;return c=fb(c)*Mf,a=fb(a)*Nf,b=fb(b)*Of,new ca(K(3.2404542*c-1.5371385*
a-.4985314*b),K(-.969266*c+1.8760108*a+.041556*b),K(.0556434*c-.2040259*a+1.0572252*b))}function Sa(a,c,b){return 0<a?new Fa(Math.atan2(b,c)*wa,Math.sqrt(c*c+b*b),a):new Fa(0/0,0/0,a)}function fb(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function ba(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function K(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ca(a,c,b){return this instanceof ca?(this.r=~~a,this.g=~~c,void(this.b=~~b)):2>arguments.length?a instanceof
ca?new ca(a.r,a.g,a.b):Ma(""+a,ca,za):new ca(a,c,b)}function la(a){return new ca(a>>16,a>>8&255,255&a)+""}function V(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Ma(a,c,b){var d,e,f,g=0,y=0,h=0;if(d=/([a-z]+)\((.*)\)/i.exec(a))switch(e=d[2].split(","),d[1]){case "hsl":return b(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case "rgb":return c(Na(e[0]),Na(e[1]),Na(e[2]))}return(f=zd.get(a.toLowerCase()))?c(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||
isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g|=g>>4,y=240&f,y|=y>>4,h=15&f,h|=h<<4):7===a.length&&(g=(16711680&f)>>16,y=(65280&f)>>8,h=255&f)),c(g,y,h))}function xa(a,c,b){var d,e,f=Math.min(a/=255,c/=255,b/=255),g=Math.max(a,c,b),y=g-f,h=(g+f)/2;return y?(e=.5>h?y/(g+f):y/(2-g-f),d=a==g?(c-b)/y+(b>c?6:0):c==g?(b-a)/y+2:(a-c)/y+4,d*=60):(d=0/0,e=0<h&&1>h?0:d),new Ea(d,e,h)}function jb(a,c,b){a=$a(a);c=$a(c);b=$a(b);var d=ba((.4124564*a+.3575761*c+.1804375*b)/Mf),e=ba((.2126729*
a+.7151522*c+.072175*b)/Nf);a=ba((.0193339*a+.119192*c+.9503041*b)/Of);return Ba(116*e-16,500*(d-e),200*(e-a))}function $a(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Na(a){var c=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*c):c}function ha(a){return"function"==typeof a?a:function(){return a}}function Pa(a){return function(c,b,d){return 2===arguments.length&&"function"==typeof b&&(d=b,b=null),Oa(c,b,a,d)}}function Oa(a,c,b,d){function e(){var a,c=h.status,
d;if(d=!c)d=(d=h.responseType)&&"text"!==d?h.response:h.responseText;if(d||200<=c&&300>c||304===c){try{a=b.call(f,h)}catch(zh){return void g.error.call(f,zh)}g.load.call(f,a)}else g.error.call(f,h)}var f={},g=x.dispatch("beforesend","progress","load","error"),y={},h=new XMLHttpRequest,k=null;return!this.XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(a)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=e:h.onreadystatechange=function(){3<h.readyState&&e()},h.onprogress=function(a){var c=
x.event;x.event=a;try{g.progress.call(f,h)}finally{x.event=c}},f.header=function(a,c){return a=(a+"").toLowerCase(),2>arguments.length?y[a]:(null==c?delete y[a]:y[a]=c+"",f)},f.mimeType=function(a){return arguments.length?(c=null==a?null:a+"",f):c},f.responseType=function(a){return arguments.length?(k=a,f):k},f.response=function(a){return b=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(Kb(arguments)))}}),f.send=function(b,d,e){if(2===arguments.length&&"function"==
typeof d&&(e=d,d=null),h.open(b,a,!0),null==c||"accept"in y||(y.accept=c+",*/*"),h.setRequestHeader)for(var H in y)h.setRequestHeader(H,y[H]);return null!=c&&h.overrideMimeType&&h.overrideMimeType(c),null!=k&&(h.responseType=k),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),g.beforesend.call(f,h),h.send(null==d?null:d),f},f.abort=function(){return h.abort(),f},x.rebind(f,g,"on"),null==d?f:f.get(hb(d))}function hb(a){return 1===a.length?function(c,b){a(null==c?b:null)}:a}function Ia(){var a=
Eb(),a=Gb()-a;24<a?(isFinite(a)&&(clearTimeout(Ad),Ad=setTimeout(Ia,a)),Bd=0):(Bd=1,Pf(Ia))}function Eb(){var a=Date.now();for(Ab=Cd;Ab;)a>=Ab.t&&(Ab.f=Ab.c(a-Ab.t)),Ab=Ab.n;return a}function Gb(){for(var a,c=Cd,b=1/0;c;)c.f?c=a?a.n=c.n:Cd=c.n:(c.t<b&&(b=c.t),c=(a=c).n);return Dd=a,b}function Tb(a,c){return c-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Oc(a){var c=a.decimal,b=a.thousands,d=a.grouping,e=a.currency,f=d&&b?function(a,c){for(var e=a.length,f=[],g=0,y=d[0],h=0;0<e&&0<y&&(h+y+1>c&&
(y=Math.max(1,c-h)),f.push(a.substring(e-=y,e+y)),!((h+=y+1)>c));)y=d[g=(g+1)%d.length];return f.reverse().join(b)}:u;return function(a){a=Qf.exec(a);var b=a[1]||" ",d=a[2]||">",g=a[3]||"-",y=a[4]||"",h=a[5],k=+a[6],H=a[7],m=a[8],U=a[9],l=1,ia="",r="",ta=!1,q=!0;switch(m&&(m=+m.substring(1)),(h||"0"===b&&"="===d)&&(h=b="0",d="="),U){case "n":H=!0;U="g";break;case "%":l=100;r="%";U="f";break;case "p":l=100;r="%";U="r";break;case "b":case "o":case "x":case "X":"#"===y&&(ia="0"+U.toLowerCase());case "c":q=
!1;case "d":ta=!0;m=0;break;case "s":l=-1,U="r"}"$"===y&&(ia=e[0],r=e[1]);"r"!=U||m||(U="g");null!=m&&("g"==U?m=Math.max(1,Math.min(21,m)):("e"==U||"f"==U)&&(m=Math.max(0,Math.min(20,m))));var U=Bh.get(U)||mc,sa=h&&H;return function(a){var e=r;if(ta&&a%1)return"";var y=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===g?"":g;0>l?(e=x.formatPrefix(a,m),a=e.scale(a),e=e.symbol+r):a*=l;a=U(a,m);var v,va,p=a.lastIndexOf(".");0>p?(p=q?a.lastIndexOf("e"):-1,0>p?(v=a,va=""):(v=a.substring(0,p),va=a.substring(p))):(v=a.substring(0,
p),va=c+a.substring(p+1));!h&&H&&(v=f(v,1/0));var p=ia.length+v.length+va.length+(sa?0:y.length),n=k>p?Array(p=k-p+1).join(b):"";return sa&&(v=f(n+v,n.length?k-va.length:1/0)),y+=ia,a=v+va,("<"===d?y+a+n:">"===d?n+y+a:"^"===d?n.substring(0,p>>=1)+y+a+n.substring(p):y+(sa?a:n+a))+e}}}function mc(a){return a+""}function Ga(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function gb(a,c,b){function d(c){var b=a(c),d=f(b,1);return d-c>c-b?b:d}function e(b){return c(b=
a(new La(b-1)),1),b}function f(a,b){return c(a=new La(+a),b),a}function g(a,d,f){a=e(a);var g=[];if(1<f)for(;d>a;)b(a)%f||g.push(new Date(+a)),c(a,1);else for(;d>a;)g.push(new Date(+a)),c(a,1);return g}a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=g;var y=a.utc=nc(a);return y.floor=y,y.round=nc(d),y.ceil=nc(e),y.offset=nc(f),y.range=function(a,c,b){try{La=Ga;var d=new Ga;return d._=a,g(d,c,b)}finally{La=Date}},a}function nc(a){return function(c,b){try{La=Ga;var d=new Ga;return d._=c,a(d,b)._}finally{La=
Date}}}function ld(a){function c(a){function c(c){for(var b,e,f,g=[],y=-1,h=0;++y<d;)37===a.charCodeAt(y)&&(g.push(a.slice(h,y)),null!=(e=Rf[b=a.charAt(++y)])&&(b=a.charAt(++y)),(f=A[b])&&(b=f(c,null==e?"e"===b?" ":"0":e)),g.push(b),h=y+1);return g.push(a.slice(h,y)),g.join("")}var d=a.length;return c.parse=function(c){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(b(d,a,c,0)!=c.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);c=null!=d.Z&&La!==Ga;var e=new (c?Ga:La);return"j"in d?e.setFullYear(d.y,
0,d.j):"w"in d&&("W"in d||"U"in d)?(e.setFullYear(d.y,0,1),e.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(e.getDay()+5)%7:d.w+7*d.U-(e.getDay()+6)%7)):e.setFullYear(d.y,d.m,d.d),e.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),c?e._:e},c.toString=function(){return a},c}function b(a,c,b,d){for(var e,f,g,y=0,h=c.length,k=b.length;h>y;){if(d>=k)return-1;if(e=c.charCodeAt(y++),37===e){if(g=c.charAt(y++),f=C[g in Rf?c.charAt(y++):g],!f||0>(d=f(a,b,d)))return-1}else if(e!=b.charCodeAt(d++))return-1}return d}
var d=a.dateTime,e=a.date,f=a.time,g=a.periods,y=a.days,h=a.shortDays,k=a.months,m=a.shortMonths;c.utc=function(a){function b(a){try{La=Ga;var c=new La;return c._=a,d(c)}finally{La=Date}}var d=c(a);return b.parse=function(a){try{La=Ga;var c=d.parse(a);return c&&c._}finally{La=Date}},b.toString=d.toString,b};c.multi=c.utc.multi=xe;var l=x.map(),r=Ub(y),q=Vb(y),v=Ub(h),p=Vb(h),n=Ub(k),u=Vb(k),w=Ub(m),z=Vb(m);g.forEach(function(a,c){l.set(a.toLowerCase(),c)});var A={a:function(a){return h[a.getDay()]},
A:function(a){return y[a.getDay()]},b:function(a){return m[a.getMonth()]},B:function(a){return k[a.getMonth()]},c:c(d),d:function(a,c){return Aa(a.getDate(),c,2)},e:function(a,c){return Aa(a.getDate(),c,2)},H:function(a,c){return Aa(a.getHours(),c,2)},I:function(a,c){return Aa(a.getHours()%12||12,c,2)},j:function(a,c){return Aa(1+S.dayOfYear(a),c,3)},L:function(a,c){return Aa(a.getMilliseconds(),c,3)},m:function(a,c){return Aa(a.getMonth()+1,c,2)},M:function(a,c){return Aa(a.getMinutes(),c,2)},p:function(a){return g[+(12<=
a.getHours())]},S:function(a,c){return Aa(a.getSeconds(),c,2)},U:function(a,c){return Aa(S.sundayOfYear(a),c,2)},w:function(a){return a.getDay()},W:function(a,c){return Aa(S.mondayOfYear(a),c,2)},x:c(e),X:c(f),y:function(a,c){return Aa(a.getFullYear()%100,c,2)},Y:function(a,c){return Aa(a.getFullYear()%1E4,c,4)},Z:ob,"%":function(){return"%"}},C={a:function(a,c,b){v.lastIndex=0;return(c=v.exec(c.slice(b)))?(a.w=p.get(c[0].toLowerCase()),b+c[0].length):-1},A:function(a,c,b){r.lastIndex=0;return(c=
r.exec(c.slice(b)))?(a.w=q.get(c[0].toLowerCase()),b+c[0].length):-1},b:function(a,c,b){w.lastIndex=0;return(c=w.exec(c.slice(b)))?(a.m=z.get(c[0].toLowerCase()),b+c[0].length):-1},B:function(a,c,b){n.lastIndex=0;return(c=n.exec(c.slice(b)))?(a.m=u.get(c[0].toLowerCase()),b+c[0].length):-1},c:function(a,c,d){return b(a,A.c.toString(),c,d)},d:Ta,e:Ta,H:Fb,I:Fb,j:Pc,L:hc,m:we,M:dd,p:function(a,c,b){c=l.get(c.slice(b,b+=2).toLowerCase());return null==c?-1:(a.p=c,b)},S:od,U:te,w:md,W:ue,x:function(a,
c,d){return b(a,A.x.toString(),c,d)},X:function(a,c,d){return b(a,A.X.toString(),c,d)},y:nd,Y:ve,Z:he,"%":pb};return c}function Aa(a,c,b){var d=0>a?"-":"";a=(d?-a:a)+"";var e=a.length;return d+(b>e?Array(b-e+1).join(c)+a:a)}function Ub(a){return new RegExp("^(?:"+a.map(x.requote).join("|")+")","i")}function Vb(a){for(var b=new c,d=-1,e=a.length;++d<e;)b.set(a[d].toLowerCase(),d);return b}function md(a,c,b){Da.lastIndex=0;return(c=Da.exec(c.slice(b,b+1)))?(a.w=+c[0],b+c[0].length):-1}function te(a,
c,b){Da.lastIndex=0;return(c=Da.exec(c.slice(b)))?(a.U=+c[0],b+c[0].length):-1}function ue(a,c,b){Da.lastIndex=0;return(c=Da.exec(c.slice(b)))?(a.W=+c[0],b+c[0].length):-1}function ve(a,c,b){Da.lastIndex=0;return(c=Da.exec(c.slice(b,b+4)))?(a.y=+c[0],b+c[0].length):-1}function nd(a,c,b){Da.lastIndex=0;if(c=Da.exec(c.slice(b,b+2))){var d=+c[0];a=(a.y=d+(68<d?1900:2E3),b+c[0].length)}else a=-1;return a}function he(a,c,b){return/^[+-]\d{4}$/.test(c=c.slice(b,b+5))?(a.Z=-c,b+5):-1}function we(a,c,b){Da.lastIndex=
0;return(c=Da.exec(c.slice(b,b+2)))?(a.m=c[0]-1,b+c[0].length):-1}function Ta(a,c,b){Da.lastIndex=0;return(c=Da.exec(c.slice(b,b+2)))?(a.d=+c[0],b+c[0].length):-1}function Pc(a,c,b){Da.lastIndex=0;return(c=Da.exec(c.slice(b,b+3)))?(a.j=+c[0],b+c[0].length):-1}function Fb(a,c,b){Da.lastIndex=0;return(c=Da.exec(c.slice(b,b+2)))?(a.H=+c[0],b+c[0].length):-1}function dd(a,c,b){Da.lastIndex=0;return(c=Da.exec(c.slice(b,b+2)))?(a.M=+c[0],b+c[0].length):-1}function od(a,c,b){Da.lastIndex=0;return(c=Da.exec(c.slice(b,
b+2)))?(a.S=+c[0],b+c[0].length):-1}function hc(a,c,b){Da.lastIndex=0;return(c=Da.exec(c.slice(b,b+3)))?(a.L=+c[0],b+c[0].length):-1}function ob(a){var c=a.getTimezoneOffset();a=0<c?"-":"+";var b=da(c)/60|0,c=da(c)%60;return a+Aa(b,"0",2)+Aa(c,"0",2)}function pb(a,c,b){Sf.lastIndex=0;return(a=Sf.exec(c.slice(b,b+1)))?b+a[0].length:-1}function xe(a){for(var c=a.length,b=-1;++b<c;)a[b][0]=this(a[b][0]);return function(c){for(var b=0,d=a[b];!d[1](c);)d=a[++b];return d[0](c)}}function Wb(){}function pd(a,
c,b){var d=b.s=a+c,e=d-a;b.t=a-(d-e)+(c-e)}function oc(a,c){a&&Tf.hasOwnProperty(a.type)&&Tf[a.type](a,c)}function Ec(a,c,b){var d=-1,e=a.length-b;for(c.lineStart();++d<e;)b=a[d],c.point(b[0],b[1],b[2]);c.lineEnd()}function qd(a,c){var b=-1,d=a.length;for(c.polygonStart();++b<d;)Ec(a[b],c,1);c.polygonEnd()}function ye(){function a(a,c){a*=Z;c=c*Z/2+Y/4;var b=a-d,g=0<=b?1:-1,b=g*b,y=Math.cos(c),h=Math.sin(c),k=f*h;ac.add(Math.atan2(k*g*Math.sin(b),e*y+k*Math.cos(b)));d=a;e=y;f=h}var c,b,d,e,f;Xa.point=
function(g,y){Xa.point=a;d=(c=g)*Z;e=Math.cos(y=(b=y)*Z/2+Y/4);f=Math.sin(y)};Xa.lineEnd=function(){a(c,b)}}function kb(a){var c=a[0];a=a[1];var b=Math.cos(a);return[b*Math.cos(c),b*Math.sin(c),Math.sin(a)]}function Rb(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]}function Va(a,c){return[a[1]*c[2]-a[2]*c[1],a[2]*c[0]-a[0]*c[2],a[0]*c[1]-a[1]*c[0]]}function Hb(a,c){a[0]+=c[0];a[1]+=c[1];a[2]+=c[2]}function pc(a,c){return[a[0]*c,a[1]*c,a[2]*c]}function Xb(a){var c=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);
a[0]/=c;a[1]/=c;a[2]/=c}function qc(a){return[Math.atan2(a[1],a[0]),Ka(a[2])]}function rb(a,c){return da(a[0]-c[0])<R&&da(a[1]-c[1])<R}function qb(a,c){a*=Z;var b=Math.cos(c*=Z);Yb(b*Math.cos(a),b*Math.sin(a),Math.sin(c))}function Yb(a,c,b){++Yc;bc+=(a-bc)/Yc;cc+=(c-cc)/Yc;Bb+=(b-Bb)/Yc}function ub(){function a(a,e){a*=Z;var f=Math.cos(e*=Z),g=f*Math.cos(a),f=f*Math.sin(a),h=Math.sin(e),y=Math.atan2(Math.sqrt((y=b*h-d*f)*y+(y=d*g-c*h)*y+(y=c*f-b*g)*y),c*g+b*f+d*h);Ed+=y;Lb+=y*(c+(c=g));Mb+=y*(b+(b=
f));nb+=y*(d+(d=h));Yb(c,b,d)}var c,b,d;db.point=function(e,f){e*=Z;var g=Math.cos(f*=Z);c=g*Math.cos(e);b=g*Math.sin(e);d=Math.sin(f);db.point=a;Yb(c,b,d)}}function Qc(){db.point=qb}function lb(){function a(a,c){a*=Z;var b=Math.cos(c*=Z),g=b*Math.cos(a),b=b*Math.sin(a),h=Math.sin(c),y=e*h-f*b,k=f*g-d*h,H=d*b-e*g,m=Math.sqrt(y*y+k*k+H*H),l=d*g+e*b+f*h,U=m&&-Ja(l)/m,m=Math.atan2(m,l);xc+=U*y;yc+=U*k;Nb+=U*H;Ed+=m;Lb+=m*(d+(d=g));Mb+=m*(e+(e=b));nb+=m*(f+(f=h));Yb(d,e,f)}var c,b,d,e,f;db.point=function(g,
h){c=g;b=h;db.point=a;g*=Z;var y=Math.cos(h*=Z);d=y*Math.cos(g);e=y*Math.sin(g);f=Math.sin(h);Yb(d,e,f)};db.lineEnd=function(){a(c,b);db.lineEnd=Qc;db.point=qb}}function rc(a,c){function b(b,d){return b=a(b,d),c(b[0],b[1])}return a.invert&&c.invert&&(b.invert=function(b,d){return b=c.invert(b,d),b&&a.invert(b[0],b[1])}),b}function Ua(){return!0}function Zb(a,c,b,d,e){var f=[],g=[];if(a.forEach(function(a){if(!(0>=(c=a.length-1))){var c,b=a[0],d=a[c];if(rb(b,d)){e.lineStart();for(d=0;c>d;++d)e.point((b=
a[d])[0],b[1]);return void e.lineEnd()}c=new sc(b,a,null,!0);b=new sc(b,null,c,!1);c.o=b;f.push(c);g.push(b);c=new sc(d,a,null,!1);b=new sc(d,null,c,!0);c.o=b;f.push(c);g.push(b)}}),g.sort(c),rd(f),rd(g),f.length){a=0;c=b;for(b=g.length;b>a;++a)g[a].e=c=!c;for(var h,y=f[0];;){for(var k=y,H=!0;k.v;)if((k=k.n)===y)return;c=k.z;e.lineStart();do{if(k.v=k.o.v=!0,k.e){if(H)for(a=0,b=c.length;b>a;++a)e.point((h=c[a])[0],h[1]);else d(k.x,k.n.x,1,e);k=k.n}else{if(H)for(c=k.p.z,a=c.length-1;0<=a;--a)e.point((h=
c[a])[0],h[1]);else d(k.x,k.p.x,-1,e);k=k.p}k=k.o;c=k.z;H=!H}while(!k.v);e.lineEnd()}}}function rd(a){if(c=a.length){for(var c,b,d=0,e=a[0];++d<c;)e.n=b=a[d],b.p=e,e=b;e.n=b=a[0];b.p=e}}function sc(a,c,b,d){this.x=a;this.z=c;this.o=b;this.e=d;this.v=!1;this.n=this.p=null}function tc(a,c,b,d){return function(e,f){function g(c,b){var d=e(c,b);a(c=d[0],b=d[1])&&f.point(c,b)}function h(a,c){var b=e(a,c);q.point(b[0],b[1])}function y(){sa.point=h;q.lineStart()}function k(){sa.point=g;q.lineEnd()}function m(a,
c){ia.push([a,c]);var b=e(a,c);p.point(b[0],b[1])}function H(){p.lineStart();ia=[]}function l(){m(ia[0][0],ia[0][1]);p.lineEnd();var a;a=p.clean();var c=v.buffer(),b=c.length;if(ia.pop(),r.push(ia),ia=null,b)if(1&a){a=c[0];var d,b=a.length-1,c=-1;if(0<b){n||(f.polygonStart(),n=!0);for(f.lineStart();++c<b;)f.point((d=a[c])[0],d[1]);f.lineEnd()}}else 1<b&&2&a&&c.push(c.pop().concat(c.shift())),U.push(c.filter(Rc))}var U,r,ia,q=c(f),ta=e.invert(d[0],d[1]),sa={point:g,lineStart:y,lineEnd:k,polygonStart:function(){sa.point=
m;sa.lineStart=H;sa.lineEnd=l;U=[];r=[]},polygonEnd:function(){sa.point=g;sa.lineStart=y;sa.lineEnd=k;U=x.merge(U);var a,c=ta;a=r;var d=c[0],e=c[1],h=[Math.sin(d),-Math.cos(d),0],m=0,H=0;ac.reset();for(var l=0,ia=a.length;ia>l;++l){var q=a[l],v=q.length;if(v)for(var p=q[0],va=p[0],c=p[1]/2+Y/4,u=Math.sin(c),w=Math.cos(c),z=1;;){z===v&&(z=0);var c=q[z],A=c[0],Jb=c[1]/2+Y/4,Xc=Math.sin(Jb),Jb=Math.cos(Jb),xb=A-va,C=0<=xb?1:-1,B=C*xb,zb=B>Y,u=u*Xc;if(ac.add(Math.atan2(u*C*Math.sin(B),w*Jb+u*Math.cos(B))),
m+=zb?xb+C*Ya:xb,zb^va>=d^A>=d)p=Va(kb(p),kb(c)),Xb(p),va=Va(h,p),Xb(va),va=(zb^0<=xb?-1:1)*Ka(va[2]),(e>va||e===va&&(p[0]||p[1]))&&(H+=zb^0<=xb?1:-1);if(!z++)break;va=A;u=Xc;w=Jb;p=c}}a=(-R>m||R>m&&0>ac)^1&H;U.length?(n||(f.polygonStart(),n=!0),Zb(U,ze,a,b,f)):a&&(n||(f.polygonStart(),n=!0),f.lineStart(),b(null,null,1,f),f.lineEnd());n&&(f.polygonEnd(),n=!1);U=r=null},sphere:function(){f.polygonStart();f.lineStart();b(null,null,1,f);f.lineEnd();f.polygonEnd()}},v=uc(),p=c(v),n=!1;return sa}}function Rc(a){return 1<
a.length}function uc(){var a,c=[];return{lineStart:function(){c.push(a=[])},point:function(c,b){a.push([c,b])},lineEnd:A,buffer:function(){var b=c;return c=[],a=null,b},rejoin:function(){1<c.length&&c.push(c.pop().concat(c.shift()))}}}function ze(a,c){return(0>(a=a.x)[0]?a[1]-Ca-R:Ca-a[1])-(0>(c=c.x)[0]?c[1]-Ca-R:Ca-c[1])}function vb(a){function c(a,c){return Math.cos(a)*Math.cos(c)>e}function b(a,c,b){var d=kb(a),f=kb(c),g=[1,0,0],f=Va(d,f),h=Rb(f,f),d=f[0],y=h-d*d;if(!y)return!b&&a;h=e*h/y;y=-e*
d/y;d=Va(g,f);g=pc(g,h);f=pc(f,y);Hb(g,f);f=Rb(g,d);h=Rb(d,d);y=f*f-h*(Rb(g,g)-1);if(!(0>y)){var k=Math.sqrt(y),y=pc(d,(-f-k)/h);if(Hb(y,g),y=qc(y),!b)return y;var m;b=a[0];var H=c[0];a=a[1];c=c[1];b>H&&(m=b,b=H,H=m);var l=H-b,U=da(l-Y)<R,r=U||R>l;if(!U&&a>c&&(m=a,a=c,c=m),r?U?0<a+c^y[1]<(da(y[0]-b)<R?a:c):a<=y[1]&&y[1]<=c:l>Y^(b<=y[0]&&y[0]<=H))return m=pc(d,(-f+k)/h),Hb(m,g),[y,qc(m)]}}function d(c,b){var d=f?a:Y-a,e=0;return-d>c?e|=1:c>d&&(e|=2),-d>b?e|=4:b>d&&(e|=8),e}var e=Math.cos(a),f=0<e,
g=da(e)>R,h=Db(a,6*Z);return tc(c,function(a){var e,h,y,k,m;return{lineStart:function(){k=y=!1;m=1},point:function(H,l){var U,r=[H,l],ia=c(H,l),q=f?ia?0:d(H,l):ia?d(H+(0>H?Y:-Y),l):0;if(!e&&(k=y=ia)&&a.lineStart(),ia!==y&&(U=b(e,r),(rb(e,U)||rb(r,U))&&(r[0]+=R,r[1]+=R,ia=c(r[0],r[1]))),ia!==y)m=0,ia?(a.lineStart(),U=b(r,e),a.point(U[0],U[1])):(U=b(e,r),a.point(U[0],U[1]),a.lineEnd()),e=U;else if(g&&e&&f^ia){var ta;q&h||!(ta=b(r,e,!0))||(m=0,f?(a.lineStart(),a.point(ta[0][0],ta[0][1]),a.point(ta[1][0],
ta[1][1]),a.lineEnd()):(a.point(ta[1][0],ta[1][1]),a.lineEnd(),a.lineStart(),a.point(ta[0][0],ta[0][1])))}!ia||e&&rb(e,r)||a.point(r[0],r[1]);e=r;y=ia;h=q},lineEnd:function(){y&&a.lineEnd();e=null},clean:function(){return m|(k&&y)<<1}}},h,f?[0,-a]:[-Y,a-Y])}function cb(a,c,b,d){return function(e){var f,g=e.a,h=e.b,y=g.x,g=g.y,k=0,m=1,H=h.x-y,h=h.y-g;if(f=a-y,H||!(0<f)){if(f/=H,0>H){if(k>f)return;m>f&&(m=f)}else if(0<H){if(f>m)return;f>k&&(k=f)}if(f=b-y,H||!(0>f)){if(f/=H,0>H){if(f>m)return;f>k&&(k=
f)}else if(0<H){if(k>f)return;m>f&&(m=f)}if(f=c-g,h||!(0<f)){if(f/=h,0>h){if(k>f)return;m>f&&(m=f)}else if(0<h){if(f>m)return;f>k&&(k=f)}if(f=d-g,h||!(0>f)){if(f/=h,0>h){if(f>m)return;f>k&&(k=f)}else if(0<h){if(k>f)return;m>f&&(m=f)}return 0<k&&(e.a={x:y+k*H,y:g+k*h}),1>m&&(e.b={x:y+m*H,y:g+m*h}),e}}}}}}function sd(a,c,b,d){function e(d,e){return da(d[0]-a)<R?0<e?0:3:da(d[0]-b)<R?0<e?2:1:da(d[1]-c)<R?0<e?1:0:0<e?3:2}function f(a,c){return g(a.x,c.x)}function g(a,c){var b=e(a,1),d=e(c,1);return b!==
d?b-d:0===b?c[1]-a[1]:1===b?a[0]-c[0]:2===b?a[1]-c[1]:c[0]-a[0]}return function(h){function y(f,h,y,k){var m=0,H=0;if(null==f||(m=e(f,y))!==(H=e(h,y))||0>g(f,h)^0<y){do k.point(0===m||3===m?a:b,1<m?d:c);while((m=(m+y+4)%4)!==H)}else k.point(h[0],h[1])}function k(e,f){e>=a&&b>=e&&f>=c&&d>=f&&h.point(e,f)}function m(e,f){e=Math.max(-Fd,Math.min(Fd,e));f=Math.max(-Fd,Math.min(Fd,f));var g=e>=a&&b>=e&&f>=c&&d>=f;if(l&&U.push([e,f]),p)r=e,ia=f,q=g,p=!1,g&&(h.lineStart(),h.point(e,f));else if(g&&v)h.point(e,
f);else{var y={a:{x:sa,y:ta},b:{x:e,y:f}};w(y)?(v||(h.lineStart(),h.point(y.a.x,y.a.y)),h.point(y.b.x,y.b.y),g||h.lineEnd(),n=!1):g&&(h.lineStart(),h.point(e,f),n=!1)}sa=e;ta=f;v=g}var H,l,U,r,ia,q,sa,ta,v,p,n,u=h,va=uc(),w=cb(a,c,b,d),z={point:k,lineStart:function(){z.point=m;l&&l.push(U=[]);p=!0;v=!1;sa=ta=0/0},lineEnd:function(){H&&(m(r,ia),q&&v&&va.rejoin(),H.push(va.buffer()));z.point=k;v&&h.lineEnd()},polygonStart:function(){h=va;H=[];l=[];n=!0},polygonEnd:function(){h=u;H=x.merge(H);var c;
c=[a,d];for(var b=0,e=l.length,g=c[1],k=0;e>k;++k)for(var m,r=1,ia=l[k],q=ia.length,sa=ia[0];q>r;++r)m=ia[r],sa[1]<=g?m[1]>g&&0<ja(sa,m,c)&&++b:m[1]<=g&&0>ja(sa,m,c)&&--b,sa=m;c=0!==b;b=n&&c;e=H.length;(b||e)&&(h.polygonStart(),b&&(h.lineStart(),y(null,null,1,h),h.lineEnd()),e&&Zb(H,f,c,y,h),h.polygonEnd());H=l=U=null}};return z}}function vc(a){var c=0,b=Y/3,d=Ib(a);a=d(c,b);return a.parallels=function(a){return arguments.length?d(c=a[0]*Y/180,b=a[1]*Y/180):[c/Y*180,b/Y*180]},a}function td(a,c){function b(a,
c){var b=Math.sqrt(f-2*e*Math.sin(c))/e;return[b*Math.sin(a*=e),g-b*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(c))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;return b.invert=function(a,c){var b=g-c;return[Math.atan2(a,b)/e,Ka((f-(a*a+b*b)*e*e)/(2*e))]},b}function Ae(){function a(a,c){Ke+=e*a-d*c;d=a;e=c}var c,b,d,e;Ob.point=function(f,g){Ob.point=a;c=d=f;b=e=g};Ob.lineEnd=function(){a(c,b)}}function Be(){function a(a,c){g.push("M",a,",",c,f)}function c(a,c){g.push("M",a,",",c);h.point=b}function b(a,c){g.push("L",
a,",",c)}function d(){h.point=a}function e(){g.push("Z")}var f=Sc(4.5),g=[],h={point:a,lineStart:function(){h.point=c},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d;h.point=a},pointRadius:function(a){return f=Sc(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function Sc(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function mb(a,c){bc+=a;cc+=c;++Bb}function ic(){function a(a,d){var e=a-c,f=d-b,e=Math.sqrt(e*
e+f*f);Lb+=e*(c+a)/2;Mb+=e*(b+d)/2;nb+=e;mb(c=a,b=d)}var c,b;eb.point=function(d,e){eb.point=a;mb(c=d,b=e)}}function Tc(){eb.point=mb}function Ce(){function a(a,c){var b=a-d,f=c-e,b=Math.sqrt(b*b+f*f);Lb+=b*(d+a)/2;Mb+=b*(e+c)/2;nb+=b;b=e*a-d*c;xc+=b*(d+a);yc+=b*(e+c);Nb+=3*b;mb(d=a,e=c)}var c,b,d,e;eb.point=function(f,g){eb.point=a;mb(c=d=f,b=e=g)};eb.lineEnd=function(){a(c,b)}}function ie(a){function c(c,b){a.moveTo(c+g,b);a.arc(c,b,g,0,Ya)}function b(c,b){a.moveTo(c,b);h.point=d}function d(c,b){a.lineTo(c,
b)}function e(){h.point=c}function f(){a.closePath()}var g=4.5,h={point:c,lineStart:function(){h.point=b},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e;h.point=c},pointRadius:function(a){return g=a,h},result:A};return h}function Uc(a){function c(a){return(h?d:b)(a)}function b(c){return vd(c,function(b,d){b=a(b,d);c.point(b[0],b[1])})}function d(c){function b(b,d){b=a(b,d);c.point(b[0],b[1])}function d(){ta=0/0;w.point=f;c.lineStart()}function f(b,d){var f=kb([b,
d]),g=a(b,d);e(ta,v,sa,p,n,u,ta=g[0],v=g[1],sa=b,p=f[0],n=f[1],u=f[2],h,c);c.point(ta,v)}function g(){w.point=b;c.lineEnd()}function y(){d();w.point=k;w.lineEnd=m}function k(a,c){f(H=a,c);l=ta;U=v;r=p;ia=n;q=u;w.point=f}function m(){e(ta,v,sa,p,n,u,l,U,H,r,ia,q,h,c);w.lineEnd=g;g()}var H,l,U,r,ia,q,sa,ta,v,p,n,u,w={point:b,lineStart:d,lineEnd:g,polygonStart:function(){c.polygonStart();w.lineStart=y},polygonEnd:function(){c.polygonEnd();w.lineStart=d}};return w}function e(c,b,d,h,y,k,m,H,l,U,r,ia,
q,sa){var ta=m-c,v=H-b,p=ta*ta+v*v;if(p>4*f&&q--){var n=h+U,u=y+r,w=k+ia,z=Math.sqrt(n*n+u*u+w*w),va=Math.asin(w/=z),A=da(da(w)-1)<R||da(d-l)<R?(d+l)/2:Math.atan2(u,n),C=a(A,va),va=C[0],C=C[1],xb=va-c,Xc=C-b,Jb=v*xb-ta*Xc;(Jb*Jb/p>f||.3<da((ta*xb+v*Xc)/p-.5)||g>h*U+y*r+k*ia)&&(e(c,b,d,h,y,k,va,C,A,n/=z,u/=z,w,q,sa),sa.point(va,C),e(va,C,A,n,u,w,m,H,l,U,r,ia,q,sa))}}var f=.5,g=Math.cos(30*Z),h=16;return c.precision=function(a){return arguments.length?(h=0<(f=a*a)&&16,c):Math.sqrt(f)},c}function De(a){var c=
Uc(function(c,b){return a([c*wa,b*wa])});return function(a){return Vc(c(a))}}function ud(a){this.stream=a}function vd(a,c){return{point:c,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function Wa(a){return Ib(function(){return a})()}function Ib(a){function c(a){return a=h(a[0]*Z,a[1]*Z),[a[0]*r+y,k-a[1]*r]}function b(a){return a=h.invert((a[0]-y)/r,(k-a[1])/r),a&&[a[0]*
wa,a[1]*wa]}function d(){h=rc(g=wc(w,z,A),f);var a=f(p,n);return y=q-a[0]*r,k=v+a[1]*r,e()}function e(){return m&&(m.valid=!1,m=null),c}var f,g,h,y,k,m,l=Uc(function(a,c){return a=f(a,c),[a[0]*r+y,k-a[1]*r]}),r=150,q=480,v=250,p=0,n=0,w=0,z=0,A=0,C=Uf,B=u,G=null,D=null;return c.stream=function(a){return m&&(m.valid=!1),m=Vc(C(g,l(B(a)))),m.valid=!0,m},c.clipAngle=function(a){return arguments.length?(C=null==a?(G=a,Uf):vb((G=+a)*Z),e()):G},c.clipExtent=function(a){return arguments.length?(D=a,B=a?
sd(a[0][0],a[0][1],a[1][0],a[1][1]):u,e()):D},c.scale=function(a){return arguments.length?(r=+a,d()):r},c.translate=function(a){return arguments.length?(q=+a[0],v=+a[1],d()):[q,v]},c.center=function(a){return arguments.length?(p=a[0]%360*Z,n=a[1]%360*Z,d()):[p*wa,n*wa]},c.rotate=function(a){return arguments.length?(w=a[0]%360*Z,z=a[1]%360*Z,A=2<a.length?a[2]%360*Z:0,d()):[w*wa,z*wa,A*wa]},x.rebind(c,l,"precision"),function(){return f=a.apply(this,arguments),c.invert=f.invert&&b,d()}}function Vc(a){return vd(a,
function(c,b){a.point(c*Z,b*Z)})}function wb(a,c){return[a,c]}function Wc(a,c){return[a>Y?a-Ya:-Y>a?a+Ya:a,c]}function wc(a,c,b){return a?c||b?rc(xd(a),ra(c,b)):xd(a):c||b?ra(c,b):Wc}function wd(a){return function(c,b){return c+=a,[c>Y?c-Ya:-Y>c?c+Ya:c,b]}}function xd(a){var c=wd(a);return c.invert=wd(-a),c}function ra(a,c){function b(a,c){var b=Math.cos(c),h=Math.cos(a)*b,b=Math.sin(a)*b,y=Math.sin(c),k=y*d+h*e;return[Math.atan2(b*f-k*g,h*d-y*e),Ka(k*f+b*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(c),
g=Math.sin(c);return b.invert=function(a,c){var b=Math.cos(c),h=Math.cos(a)*b,b=Math.sin(a)*b,y=Math.sin(c),k=y*f-b*g;return[Math.atan2(b*f+y*g,h*d+k*e),Ka(k*d-h*e)]},b}function Db(a,c){var b=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var y=g*c;null!=e?(e=ad(b,e),f=ad(b,f),(0<g?f>e:e>f)&&(e+=g*Ya)):(e=a+g*Ya,f=a-.5*y);for(var k;0<g?e>f:f>e;e-=y)h.point((k=qc([b,-d*Math.cos(e),-d*Math.sin(e)]))[0],k[1])}}function ad(a,c){var b=kb(c);b[0]-=a;Xb(b);var d=Ja(-b[1]);return((0>-b[2]?-d:d)+2*Math.PI-
R)%(2*Math.PI)}function gc(a,c,b){var d=x.range(a,c-R,b).concat(c);return function(a){return d.map(function(c){return[a,c]})}}function bd(a,c,b){var d=x.range(a,c-R,b).concat(c);return function(a){return d.map(function(c){return[c,a]})}}function cd(a){return a.source}function fe(a){return a.target}function pf(a,c,b,d){var e=Math.cos(c),f=Math.sin(c),g=Math.cos(d),h=Math.sin(d),y=e*Math.cos(a),k=e*Math.sin(a),m=g*Math.cos(b),H=g*Math.sin(b),l=2*Math.asin(Math.sqrt(P(d-c)+e*g*P(b-a))),r=1/Math.sin(l);
b=l?function(a){var c=Math.sin(a*=l)*r;a=Math.sin(l-a)*r;var b=a*y+c*m,d=a*k+c*H;return[Math.atan2(d,b)*wa,Math.atan2(a*f+c*h,Math.sqrt(b*b+d*d))*wa]}:function(){return[a*wa,c*wa]};return b.distance=l,b}function Dc(a,c){function b(c,b){var d=Math.cos(b),e=a(Math.cos(c)*d);return[e*d*Math.sin(c),e*Math.sin(b)]}return b.invert=function(a,b){var d=Math.sqrt(a*a+b*b),e=c(d),f=Math.sin(e);return[Math.atan2(a*f,d*Math.cos(e)),Math.asin(d&&b*f/d)]},b}function ge(a,c){function b(a,c){0<f?-Ca+R>c&&(c=-Ca+
R):c>Ca-R&&(c=Ca-R);var b=f/Math.pow(Math.tan(Y/4+c/2),e);return[b*Math.sin(e*a),f-b*Math.cos(e*a)]}var d=Math.cos(a),e=a===c?Math.sin(a):Math.log(d/Math.cos(c))/Math.log(Math.tan(Y/4+c/2)/Math.tan(Y/4+a/2)),f=d*Math.pow(Math.tan(Y/4+a/2),e)/e;return e?(b.invert=function(a,c){var b=f-c;return[Math.atan2(a,b)/e,2*Math.atan(Math.pow(f/((0<e?1:0>e?-1:0)*Math.sqrt(a*a+b*b)),1/e))-Ca]},b):ed}function qf(a,c){function b(a,c){var b=f-c;return[b*Math.sin(e*a),f-b*Math.cos(e*a)]}var d=Math.cos(a),e=a===c?
Math.sin(a):(d-Math.cos(c))/(c-a),f=d/e+a;return da(e)<R?wb:(b.invert=function(a,c){var b=f-c;return[Math.atan2(a,b)/e,f-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+b*b)]},b)}function ed(a,c){return[a,Math.log(Math.tan(Y/4+c/2))]}function fd(a){var c,b=Wa(a),d=b.scale,e=b.translate,f=b.clipExtent;return b.scale=function(){var a=d.apply(b,arguments);return a===b?c?b.clipExtent(null):b:a},b.translate=function(){var a=e.apply(b,arguments);return a===b?c?b.clipExtent(null):b:a},b.clipExtent=function(a){var g=f.apply(b,
arguments);if(g===b){if(c=null==a){var h=Y*d(),y=e();f([[y[0]-h,y[1]-h],[y[0]+h,y[1]+h]])}}else c&&(g=null);return g},b.clipExtent(null)}function Jc(a,c){return[Math.log(Math.tan(Y/4+c/2)),-a]}function jc(a){return a[0]}function Kc(a){return a[1]}function Df(a){for(var c=a.length,b=[0,1],d=2,e=2;c>e;e++){for(;1<d&&0>=ja(a[b[d-2]],a[b[d-1]],a[e]);)--d;b[d++]=e}return b.slice(0,d)}function ih(a,c){return a[0]-c[0]||a[1]-c[1]}function ne(a,c,b){return(b[0]-c[0])*(a[1]-c[1])<(b[1]-c[1])*(a[0]-c[0])}function pe(a,
c,b,d){var e=a[0],f=b[0],g=c[0]-e,h=d[0]-f;a=a[1];b=b[1];c=c[1]-a;d=d[1]-b;f=(h*(a-b)-d*(e-f))/(d*g-h*c);return[e+f*g,a+f*c]}function wf(a){var c=a[0];a=a[a.length-1];return!(c[0]-a[0]||c[1]-a[1])}function $g(){gd(this);this.edge=this.site=this.circle=null}function Lc(a){var c=Vf.pop()||new $g;return c.site=a,c}function qe(a){lc(a);zc.remove(a);Vf.push(a);gd(a)}function xf(a,c){var b=a.site,d=b.x,e=b.y,f=e-c;if(!f)return d;var g=a.P;if(!g)return-1/0;var b=g.site,g=b.x,b=b.y,h=b-c;if(!h)return g;var y=
g-d,k=1/f-1/h,m=y/h;return k?(-m+Math.sqrt(m*m-2*k*(y*y/(-2*h)-b+h/2+e-f/2)))/k+d:(d+g)/2}function Ef(a){this.site=a;this.edges=[]}function Af(a,c){return c.angle-a.angle}function jh(){gd(this);this.x=this.y=this.arc=this.site=this.cy=null}function kc(a){var c=a.P,b=a.N;if(c&&b){var d=c.site,c=a.site,e=b.site;if(d!==e){var b=c.x,f=c.y,g=d.x-b,h=d.y-f,d=e.x-b,e=e.y-f,y=2*(g*e-h*d);if(!(y>=-Le)){var k=g*g+h*h,m=d*d+e*e,h=(e*k-h*m)/y,g=(g*m-d*k)/y,e=g+f,f=Wf.pop()||new jh;f.arc=a;f.site=c;f.x=h+b;f.y=
e+Math.sqrt(h*h+g*g);f.cy=e;a.circle=f;a=null;for(c=Zc._;c;)if(f.y<c.y||f.y===c.y&&f.x<=c.x){if(!c.L){a=c.P;break}c=c.L}else{if(!c.R){a=c;break}c=c.R}Zc.insert(a,f);a||(Me=f)}}}}function lc(a){var c=a.circle;c&&(c.P||(Me=c.N),Zc.remove(c),Wf.push(c),gd(c),a.circle=null)}function Xg(a,c){var b=a.b;if(b)return!0;var d,e,f=a.a,b=c[0][0],g=c[1][0],h=c[0][1],y=c[1][1],k=a.l,m=a.r,H=k.x,k=k.y,l=m.x,m=m.y;e=(H+l)/2;if(m===k){if(b>e||e>=g)return;if(H>l){if(f){if(f.y>=y)return}else f={x:e,y:h};b={x:e,y:y}}else{if(f){if(f.y<
h)return}else f={x:e,y:y};b={x:e,y:h}}}else if(d=(H-l)/(m-k),e=(k+m)/2-d*e,-1>d||1<d)if(H>l){if(f){if(f.y>=y)return}else f={x:(h-e)/d,y:h};b={x:(y-e)/d,y:y}}else{if(f){if(f.y<h)return}else f={x:(y-e)/d,y:y};b={x:(h-e)/d,y:h}}else if(m>k){if(f){if(f.x>=g)return}else f={x:b,y:d*b+e};b={x:g,y:d*g+e}}else{if(f){if(f.x<b)return}else f={x:g,y:d*g+e};b={x:b,y:d*b+e}}return a.a=f,a.b=b,!0}function uf(a,c){this.l=a;this.r=c;this.a=this.b=null}function Mc(a,c,b,d){var e=new uf(a,c);return Ac.push(e),b&&hd(e,
a,c,b),d&&hd(e,c,a,d),dc[a.i].edges.push(new jd(e,a,c)),dc[c.i].edges.push(new jd(e,c,a)),e}function Yg(a,c,b){a=new uf(a,null);return a.a=c,a.b=b,Ac.push(a),a}function hd(a,c,b,d){a.a||a.b?a.l===b?a.b=d:a.a=d:(a.a=d,a.l=c,a.r=b)}function jd(a,c,b){var d=a.a,e=a.b;this.edge=a;this.site=c;this.angle=b?Math.atan2(b.y-c.y,b.x-c.x):a.l===c?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function re(){this._=null}function gd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Ic(a,c){var b=c.R,d=c.U;d?d.L===
c?d.L=b:d.R=b:a._=b;b.U=d;c.U=b;c.R=b.L;c.R&&(c.R.U=c);b.L=c}function Hc(a,c){var b=c.L,d=c.U;d?d.L===c?d.L=b:d.R=b:a._=b;b.U=d;c.U=b;c.L=b.R;c.L&&(c.L.U=c);b.R=c}function Cf(a){for(;a.L;)a=a.L;return a}function ke(a,c){var b,d,e,f=a.sort(se).pop();Ac=[];dc=Array(a.length);zc=new re;for(Zc=new re;;)if(e=Me,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x)){if(f.x!==b||f.y!==d){dc[f.i]=new Ef(f);var g=void 0,h=void 0;d=b=void 0;for(var y=f,k=y.x,m=y.y,l=zc._;l;)if(h=xf(l,m)-k,h>R)l=l.L;else{var H;var r=l;H=m;var q=
r.N;q?H=xf(q,H):(r=r.site,H=r.y===H?r.x:1/0);if(g=k-H,!(g>R)){h>-R?(d=l.P,b=l):g>-R?(d=l,b=l.N):d=b=l;break}if(!l.R){d=l;break}l=l.R}g=Lc(y);if(zc.insert(d,g),d||b)if(d===b)lc(d),b=Lc(d.site),zc.insert(g,b),g.edge=b.edge=Mc(d.site,g.site),kc(d),kc(b);else if(b){lc(d);lc(b);h=d.site;m=h.x;l=h.y;H=y.x-m;var r=y.y-l,k=b.site,q=k.x-m,v=k.y-l,p=2*(H*v-r*q),n=H*H+r*r,u=q*q+v*v,m={x:(v*n-r*u)/p+m,y:(H*u-q*n)/p+l};hd(b.edge,h,k,m);g.edge=Mc(h,y,null,m);b.edge=Mc(y,k,null,m);kc(d);kc(b)}else g.edge=Mc(d.site,
g.site);b=f.x;d=f.y}f=a.pop()}else{if(!e)break;k=e.arc;y=k.circle;h=y.x;m=y.cy;y={x:h,y:m};H=k.P;l=k.N;g=[k];qe(k);for(k=H;k.circle&&da(h-k.circle.x)<R&&da(m-k.circle.cy)<R;)H=k.P,g.unshift(k),qe(k),k=H;g.unshift(k);lc(k);for(H=l;H.circle&&da(h-H.circle.x)<R&&da(m-H.circle.cy)<R;)l=H.N,g.push(H),qe(H),H=l;g.push(H);lc(H);m=g.length;for(h=1;m>h;++h)H=g[h],k=g[h-1],hd(H.edge,k.site,H.site,y);k=g[0];H=g[m-1];H.edge=Mc(k.site,H.site,null,y);kc(k);kc(H)}if(c){f=Ac;b=cb(c[0][0],c[0][1],c[1][0],c[1][1]);
for(d=f.length;d--;)e=f[d],(!Xg(e,c)||!b(e)||da(e.a.x-e.b.x)<R&&da(e.a.y-e.b.y)<R)&&(e.a=e.b=null,f.splice(d,1));var w,k=c[0][0],m=c[1][0],l=c[0][1];H=c[1][1];r=dc;for(q=r.length;q--;)if(w=r[q],w&&w.prepare())for(y=w.edges,g=y.length,d=0;g>d;)h=y[d].end(),f=h.x,b=h.y,v=y[++d%g].start(),e=v.x,v=v.y,(da(f-e)>R||da(b-v)>R)&&(y.splice(d,0,new jd(Yg(w.site,h,da(f-k)<R&&H-b>R?{x:k,y:da(e-k)<R?v:H}:da(b-H)<R&&m-f>R?{x:da(v-H)<R?e:m,y:H}:da(f-m)<R&&b-l>R?{x:m,y:da(e-m)<R?v:l}:da(b-l)<R&&f-k>R?{x:da(v-l)<
R?e:k,y:l}:null),w.site,null)),++g)}w={cells:dc,edges:Ac};return zc=Zc=Ac=dc=null,w}function se(a,c){return c.y-a.y||c.x-a.x}function lh(a){return a.x}function mh(a){return a.y}function Ff(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Nc(a,c,b,d,e,f){if(!a(c,b,d,e,f)){var g=.5*(b+e),h=.5*(d+f);c=c.nodes;c[0]&&Nc(a,c[0],b,d,g,h);c[1]&&Nc(a,c[1],g,d,e,h);c[2]&&Nc(a,c[2],b,h,g,f);c[3]&&Nc(a,c[3],g,h,e,f)}}function nh(a,c,b,d,e,f,g){var h,y=1/0;return function zb(a,k,m,l,H){if(!(k>f||m>
g||d>l||e>H)){if(r=a.point){var r,q=c-a.x,U=b-a.y,q=q*q+U*U;y>q&&(q=Math.sqrt(y=q),d=c-q,e=b-q,f=c+q,g=b+q,h=r)}r=a.nodes;for(var q=.5*(k+l),U=.5*(m+H),ia=(b>=U)<<1|c>=q,v=ia+4;v>ia;++ia)if(a=r[3&ia])switch(3&ia){case 0:zb(a,k,m,q,U);break;case 1:zb(a,q,m,l,U);break;case 2:zb(a,k,U,q,H);break;case 3:zb(a,q,U,l,H)}}}(a,d,e,f,g),h}function oe(a,c){a=x.rgb(a);c=x.rgb(c);var b=a.r,d=a.g,e=a.b,f=c.r-b,g=c.g-d,h=c.b-e;return function(a){return"#"+V(Math.round(b+f*a))+V(Math.round(d+g*a))+V(Math.round(e+
h*a))}}function Gf(a,c){var b,d={},e={};for(b in a)b in c?d[b]=Sb(a[b],c[b]):e[b]=a[b];for(b in c)b in a||(e[b]=c[b]);return function(a){for(b in d)e[b]=d[b](a);return e}}function sb(a,c){return a=+a,c=+c,function(b){return a*(1-b)+c*b}}function Hf(a,c){var b,d,e,f=Ne.lastIndex=Oe.lastIndex=0,g=-1,h=[],y=[];a+="";for(c+="";(b=Ne.exec(a))&&(d=Oe.exec(c));)(e=d.index)>f&&(e=c.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(b=b[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,y.push({i:g,x:sb(b,d)})),f=Oe.lastIndex;
return f<c.length&&(e=c.slice(f),h[g]?h[g]+=e:h[++g]=e),2>h.length?y[0]?(c=y[0].x,function(a){return c(a)+""}):function(){return c}:(c=y.length,function(a){for(var b,d=0;c>d;++d)h[(b=y[d]).i]=b.x(a);return h.join("")})}function Sb(a,c){for(var b,d=x.interpolators.length;0<=--d&&!(b=x.interpolators[d](a,c)););return b}function kd(a,c){var b,d=[],e=[],f=a.length,g=c.length,h=Math.min(a.length,c.length);for(b=0;h>b;++b)d.push(Sb(a[b],c[b]));for(;f>b;++b)e[b]=a[b];for(;g>b;++b)e[b]=c[b];return function(a){for(b=
0;h>b;++b)e[b]=d[b](a);return e}}function oh(a){return function(c){return 0>=c?0:1<=c?1:a(c)}}function If(a){return function(c){return 1-a(1-c)}}function Bf(a){return function(c){return.5*(.5>c?a(2*c):2-a(2-2*c))}}function ph(a){return a*a}function qh(a){return a*a*a}function rh(a){if(0>=a)return 0;if(1<=a)return 1;var c=a*a,b=c*a;return 4*(.5>a?b:3*(a-c)+b-.75)}function sh(a){return 1-Math.cos(a*Ca)}function th(a){return Math.pow(2,10*(a-1))}function uh(a){return 1-Math.sqrt(1-a*a)}function vh(a){return 1/
2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Jf(a,c){return c-=a,function(b){return Math.round(a+c*b)}}function Kf(a){var c=[a.a,a.b],b=[a.c,a.d],d=vf(c),e=c[0]*b[0]+c[1]*b[1],f;f=-e;f=(b[0]+=f*c[0],b[1]+=f*c[1],b);f=vf(f)||0;c[0]*b[1]<b[0]*c[1]&&(c[0]*=-1,c[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(c[1],c[0]):Math.atan2(-b[0],b[1]))*wa;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,
f)*wa:0}function vf(a){var c=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return c&&(a[0]/=c,a[1]/=c),c}function yf(a,c){var b,d=[],e=[],f=x.transform(a),g=x.transform(c),h=f.translate,y=g.translate,k=f.rotate,m=g.rotate,l=f.skew,H=g.skew,f=f.scale,g=g.scale;return h[0]!=y[0]||h[1]!=y[1]?(d.push("translate(",null,",",null,")"),e.push({i:1,x:sb(h[0],y[0])},{i:3,x:sb(h[1],y[1])})):d.push(y[0]||y[1]?"translate("+y+")":""),k!=m?(180<k-m?m+=360:180<m-k&&(k+=360),e.push({i:d.push(d.pop()+"rotate(",null,")")-2,x:sb(k,
m)})):m&&d.push(d.pop()+"rotate("+m+")"),l!=H?e.push({i:d.push(d.pop()+"skewX(",null,")")-2,x:sb(l,H)}):H&&d.push(d.pop()+"skewX("+H+")"),f[0]!=g[0]||f[1]!=g[1]?(b=d.push(d.pop()+"scale(",null,",",null,")"),e.push({i:b-4,x:sb(f[0],g[0])},{i:b-2,x:sb(f[1],g[1])})):(1!=g[0]||1!=g[1])&&d.push(d.pop()+"scale("+g+")"),b=e.length,function(a){for(var c,f=-1;++f<b;)d[(c=e[f]).i]=c.x(a);return d.join("")}}function Zg(a,c){return c=(c-=a=+a)||1/c,function(b){return(b-a)/c}}function wh(a,c){return c=(c-=a=+a)||
1/c,function(b){return Math.max(0,Math.min(1,(b-a)/c))}}function xh(a){var c=a.source;a=a.target;var b;var d=a;if(c===d)b=c;else{b=je(c);for(var d=je(d),e=b.pop(),f=d.pop(),g=null;e===f;)g=e,e=b.pop(),f=d.pop();b=g}for(d=[c];c!==b;)c=c.parent,d.push(c);for(c=d.length;a!==b;)d.splice(c,0,a),a=a.parent;return d}function je(a){for(var c=[],b=a.parent;null!=b;)c.push(a),a=b,b=b.parent;return c.push(a),c}function Vg(a){a.fixed|=2}function rf(a){a.fixed&=-7}function sf(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Wg(a){a.fixed&=
-5}function tf(a,c,b){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,y=-1;++y<h;)f=g[y],null!=f&&(tf(f,c,b),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),c*=b[a.point.index],a.charge+=a.pointCharge=c,d+=c*a.point.x,e+=c*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function Fc(a,c){return x.rebind(a,c,"sort","children","value"),a.nodes=a,a.links=ch,a}function Gc(a,c){for(var b=[a];null!=(a=b.pop());)if(c(a),
(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)b.push(e[d])}function ib(a,c){for(var b=[a],d=[];null!=(a=b.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)b.push(f[g]);for(;null!=(a=d.pop());)c(a)}function zf(a){return a.children}function ah(a){return a.value}function bh(a,c){return c.value-a.value}function ch(a){return x.merge(a.map(function(a){return(a.children||[]).map(function(c){return{source:a,target:c}})}))}function dh(a){return a.x}function eh(a){return a.y}function fh(a,
c,b){a.y0=c;a.y=b}function le(a){return x.range(a.length)}function me(a){var c=-1;a=a[0].length;for(var b=[];++c<a;)b[c]=0;return b}function gh(a){for(var c,b=1,d=0,e=a[0][1],f=a.length;f>b;++b)(c=a[b][1])>e&&(d=b,e=c);return d}function hh(a){return a.reduce(kh,0)}function kh(a,c){return a+c[1]}function Ch(a,c){return Xf(a,Math.ceil(Math.log(c.length)/Math.LN2+1))}function Xf(a,c){for(var b=-1,d=+a[0],e=(a[1]-d)/c,f=[];++b<=c;)f[b]=e*b+d;return f}function Dh(a){return[x.min(a),x.max(a)]}function Eh(a,
c){return a.value-c.value}function Pe(a,c){var b=a._pack_next;a._pack_next=c;c._pack_prev=a;c._pack_next=b;b._pack_prev=c}function Yf(a,c){a._pack_next=c;c._pack_prev=a}function Zf(a,c){var b=c.x-a.x,d=c.y-a.y,e=a.r+c.r;return.999*e*e>b*b+d*d}function $f(a){function c(a){m=Math.min(a.x-a.r,m);l=Math.max(a.x+a.r,l);r=Math.min(a.y-a.r,r);q=Math.max(a.y+a.r,q)}if((b=a.children)&&(y=b.length)){var b,d,e,f,g,h,k,y,m=1/0,l=-1/0,r=1/0,q=-1/0;if(b.forEach(Fh),d=b[0],d.x=-d.r,d.y=0,c(d),1<y&&(e=b[1],e.x=e.r,
e.y=0,c(e),2<y))for(f=b[2],ag(d,e,f),c(f),Pe(d,f),d._pack_prev=f,Pe(f,e),e=d._pack_next,g=3;y>g;g++){ag(d,e,f=b[g]);var v=0,p=1,n=1;for(h=e._pack_next;h!==e;h=h._pack_next,p++)if(Zf(h,f)){v=1;break}if(1==v)for(k=d._pack_prev;k!==h._pack_prev&&!Zf(k,f);k=k._pack_prev,n++);v?(n>p||p==n&&e.r<d.r?Yf(d,e=h):Yf(d=k,e),g--):(Pe(d,f),e=f,c(f))}d=(m+l)/2;e=(r+q)/2;for(g=h=0;y>g;g++)f=b[g],f.x-=d,f.y-=e,h=Math.max(h,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=h;b.forEach(Gh)}}function Fh(a){a._pack_next=a._pack_prev=
a}function Gh(a){delete a._pack_next;delete a._pack_prev}function bg(a,c,b,d){var e=a.children;if(a.x=c+=d*a.x,a.y=b+=d*a.y,a.r*=d,e){a=-1;for(var f=e.length;++a<f;)bg(e[a],c,b,d)}}function ag(a,c,b){var d=a.r+b.r,e=c.x-a.x,f=c.y-a.y;if(d&&(e||f)){var g=c.r+b.r,h=e*e+f*f,g=g*g,d=d*d;c=.5+(d-g)/(2*h);g=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);b.x=a.x+c*e+g*f;b.y=a.y+c*f-g*e}else b.x=a.x+d,b.y=a.y}function cg(a,c){return a.parent==c.parent?1:2}function Qe(a){var c=a.children;return c.length?
c[0]:a.t}function Re(a){var c,b=a.children;return(c=b.length)?b[c-1]:a.t}function Hh(a){return 1+x.max(a,function(a){return a.y})}function Ih(a){return a.reduce(function(a,c){return a+c.x},0)/a.length}function dg(a){var c=a.children;return c&&c.length?dg(c[0]):a}function eg(a){var c,b=a.children;return b&&(c=b.length)?eg(b[c-1]):a}function Se(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function fg(a,c){var b=a.x+c[3],d=a.y+c[0],e=a.dx-c[1]-c[3],f=a.dy-c[0]-c[2];return 0>e&&(b+=e/2,e=0),0>f&&(d+=f/2,f=
0),{x:b,y:d,dx:e,dy:f}}function Bc(a){var c=a[0];a=a[a.length-1];return a>c?[c,a]:[a,c]}function Gd(a){return a.rangeExtent?a.rangeExtent():Bc(a.range())}function Jh(a,c,b,d){var e=b(a[0],a[1]),f=d(c[0],c[1]);return function(a){return f(e(a))}}function Hd(a,c){var b,d=0,e=a.length-1,f=a[d],g=a[e];return f>g&&(b=d,d=e,e=b,b=f,f=g,g=b),a[d]=c.floor(f),a[e]=c.ceil(g),a}function gg(a){return a?{floor:function(c){return Math.floor(c/a)*a},ceil:function(c){return Math.ceil(c/a)*a}}:Kh}function Lh(a,c,b,
d){var e=[],f=[],g=0,h=Math.min(a.length,c.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());++g<=h;)e.push(b(a[g-1],a[g])),f.push(d(c[g-1],c[g]));return function(c){var b=x.bisect(a,c,1,h)-1;return f[b](e[b](c))}}function hg(a,c,b,d){function e(){var e=2<Math.min(a.length,c.length)?Lh:Jh,k=d?wh:Zg;return g=e(a,c,k,b),h=e(c,a,k,Sb),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(c){return arguments.length?(a=c.map(Number),e()):a},
f.range=function(a){return arguments.length?(c=a,e()):c},f.rangeRound=function(a){return f.range(a).interpolate(Jf)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(b=a,e()):b},f.ticks=function(c){return x.range.apply(x,Pb(a,c))},f.tickFormat=function(c,b){return Te(a,c,b)},f.nice=function(c){return Hd(a,gg(Pb(a,c)[2])),e()},f.copy=function(){return hg(a,c,b,d)},e()}function Ue(a,c){return x.rebind(a,c,"range","rangeRound","interpolate",
"clamp")}function Pb(a,c){null==c&&(c=10);var b=Bc(a),d=b[1]-b[0],e=Math.pow(10,Math.floor(Math.log(d/c)/Math.LN10)),d=c/d*e;return.15>=d?e*=10:.35>=d?e*=5:.75>=d&&(e*=2),b[0]=Math.ceil(b[0]/e)*e,b[1]=Math.floor(b[1]/e)*e+.5*e,b[2]=e,b}function Te(a,c,b){a=Pb(a,c);if(b){c=Qf.exec(b);if(c.shift(),"s"===c[8]){var d=x.formatPrefix(Math.max(da(a[0]),da(a[1])));return c[7]||(c[7]="."+Id(d.scale(a[2]))),c[8]="f",b=x.format(c.join("")),function(a){return b(d.scale(a))+d.symbol}}c[7]||(c[7]="."+Mh(c[8],a));
b=c.join("")}else b=",."+Id(a[2])+"f";return x.format(b)}function Id(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Mh(a,c){var b=Id(c[2]);return a in Nh?Math.abs(b-Id(Math.max(da(c[0]),da(c[1]))))+ +("e"!==a):b-2*("%"===a)}function ig(a,c,b,d){function e(a){return(b?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(c)}function f(a){return b?Math.pow(c,a):-Math.pow(c,-a)}function g(c){return a(e(c))}return g.invert=function(c){return f(a.invert(c))},g.domain=function(c){return arguments.length?
(b=0<=c[0],a.domain((d=c.map(Number)).map(e)),g):d},g.base=function(b){return arguments.length?(c=+b,a.domain(d.map(e)),g):c},g.nice=function(){var c=Hd(d.map(e),b?Math:Oh);return a.domain(c),d=c.map(f),g},g.ticks=function(){var a=Bc(d),g=[],h=a[0],a=a[1],k=Math.floor(e(h)),y=Math.ceil(e(a)),m=c%1?2:c;if(isFinite(y-k)){if(b){for(;y>k;k++)for(var l=1;m>l;l++)g.push(f(k)*l);g.push(f(k))}else for(g.push(f(k));k++<y;)for(l=m-1;0<l;l--)g.push(f(k)*l);for(k=0;g[k]<h;k++);for(y=g.length;g[y-1]>a;y--);g=
g.slice(k,y)}return g},g.tickFormat=function(a,c){if(!arguments.length)return jg;2>arguments.length?c=jg:"function"!=typeof c&&(c=x.format(c));var d,h=Math.max(.1,a/g.ticks().length),k=b?(d=1E-12,Math.ceil):(d=-1E-12,Math.floor);return function(a){return a/f(k(e(a)+d))<=h?c(a):""}},g.copy=function(){return ig(a.copy(),c,b,d)},Ue(g,a)}function kg(a,c,b){function d(c){return a(e(c))}var e=Jd(c),f=Jd(1/c);return d.invert=function(c){return f(a.invert(c))},d.domain=function(c){return arguments.length?
(a.domain((b=c.map(Number)).map(e)),d):b},d.ticks=function(a){return x.range.apply(x,Pb(b,a))},d.tickFormat=function(a,c){return Te(b,a,c)},d.nice=function(a){return d.domain(Hd(b,gg(Pb(b,a)[2])))},d.exponent=function(g){return arguments.length?(e=Jd(c=g),f=Jd(1/c),a.domain(b.map(e)),d):c},d.copy=function(){return kg(a.copy(),c,b)},Ue(d,a)}function Jd(a){return function(c){return 0>c?-Math.pow(-c,a):Math.pow(c,a)}}function lg(a,b){function d(c){return g[((f.get(c)||("range"===b.t?f.set(c,a.push(c)):
0/0))-1)%g.length]}function e(c,b){return x.range(a.length).map(function(a){return c+b*a})}var f,g,h;return d.domain=function(e){if(!arguments.length)return a;a=[];f=new c;for(var g,h=-1,k=e.length;++h<k;)f.has(g=e[h])||f.set(g,a.push(g));return d[b.t].apply(d,b.a)},d.range=function(a){return arguments.length?(g=a,h=0,b={t:"range",a:arguments},d):g},d.rangePoints=function(c,f){2>arguments.length&&(f=0);var k=c[0],y=c[1],y=2>a.length?(k=(k+y)/2,0):(y-k)/(a.length-1+f);return g=e(k+y*f/2,y),h=0,b={t:"rangePoints",
a:arguments},d},d.rangeRoundPoints=function(c,f){2>arguments.length&&(f=0);var k=c[0],y=c[1],m=2>a.length?(k=y=Math.round((k+y)/2),0):(y-k)/(a.length-1+f)|0;return g=e(k+Math.round(m*f/2+(y-k-(a.length-1+f)*m)/2),m),h=0,b={t:"rangeRoundPoints",a:arguments},d},d.rangeBands=function(c,f,k){2>arguments.length&&(f=0);3>arguments.length&&(k=f);var y=c[1]<c[0],m=c[y-0],l=(c[1-y]-m)/(a.length-f+2*k);return g=e(m+l*k,l),y&&g.reverse(),h=l*(1-f),b={t:"rangeBands",a:arguments},d},d.rangeRoundBands=function(c,
f,k){2>arguments.length&&(f=0);3>arguments.length&&(k=f);var y=c[1]<c[0],m=c[y-0],l=c[1-y],r=Math.floor((l-m)/(a.length-f+2*k));return g=e(m+Math.round((l-m-(a.length-f)*r)/2),r),y&&g.reverse(),h=Math.round(r*(1-f)),b={t:"rangeRoundBands",a:arguments},d},d.rangeBand=function(){return h},d.rangeExtent=function(){return Bc(b.a[0])},d.copy=function(){return lg(a,b)},d.domain(a)}function mg(c,b){function d(){var a=0,d=b.length;for(f=[];++a<d;)f[a-1]=x.quantile(c,a/d);return e}function e(a){return isNaN(a=
+a)?void 0:b[x.bisect(f,a)]}var f;return e.domain=function(b){return arguments.length?(c=b.map(t).filter(a).sort(n),d()):c},e.range=function(a){return arguments.length?(b=a,d()):b},e.quantiles=function(){return f},e.invertExtent=function(a){return a=b.indexOf(a),0>a?[0/0,0/0]:[0<a?f[a-1]:c[0],a<f.length?f[a]:c[c.length-1]]},e.copy=function(){return mg(c,b)},d()}function ng(a,c,b){function d(c){return b[Math.max(0,Math.min(g,Math.floor(f*(c-a))))]}function e(){return f=b.length/(c-a),g=b.length-1,
d}var f,g;return d.domain=function(b){return arguments.length?(a=+b[0],c=+b[b.length-1],e()):[a,c]},d.range=function(a){return arguments.length?(b=a,e()):b},d.invertExtent=function(c){return c=b.indexOf(c),c=0>c?0/0:c/f+a,[c,c+1/f]},d.copy=function(){return ng(a,c,b)},e()}function og(a,c){function b(b){return b>=b?c[x.bisect(a,b)]:void 0}return b.domain=function(c){return arguments.length?(a=c,b):a},b.range=function(a){return arguments.length?(c=a,b):c},b.invertExtent=function(b){return b=c.indexOf(b),
[a[b-1],a[b]]},b.copy=function(){return og(a,c)},b}function pg(a){function c(a){return+a}return c.invert=c,c.domain=c.range=function(b){return arguments.length?(a=b.map(c),c):a},c.ticks=function(c){return x.range.apply(x,Pb(a,c))},c.tickFormat=function(c,b){return Te(a,c,b)},c.copy=function(){return pg(a)},c}function Ph(){return 0}function Qh(a){return a.innerRadius}function Rh(a){return a.outerRadius}function qg(a){return a.startAngle}function rg(a){return a.endAngle}function Sh(a){return a&&a.padAngle}
function Kd(a,c,b,d){return 0<(a-b)*c-(c-d)*a?0:1}function Ld(a,c,b,d,e){var f=a[0]-c[0],g=a[1]-c[1];e=(e?d:-d)/Math.sqrt(f*f+g*g);var g=e*g,f=-e*f,h=a[0]+g,k=a[1]+f,y=c[0]+g,m=c[1]+f;a=(h+y)/2;c=(k+m)/2;e=y-h;var l=m-k,r=e*e+l*l;d=b-d;var m=h*m-y*k,q=(0>l?-1:1)*Math.sqrt(d*d*r-m*m),h=(m*l-e*q)/r,k=(-m*e-l*q)/r,y=(m*l+e*q)/r;e=(-m*e+l*q)/r;l=h-a;r=k-c;a=y-a;c=e-c;return l*l+r*r>a*a+c*c&&(h=y,k=e),[[h-g,k-f],[h*b/d,k*b/d]]}function sg(a){function c(c){function g(){y.push("M",f(a(m),h))}for(var k,y=
[],m=[],l=-1,r=c.length,q=ha(b),H=ha(d);++l<r;)e.call(this,k=c[l],l)?m.push([+q.call(this,k,l),+H.call(this,k,l)]):m.length&&(g(),m=[]);return m.length&&g(),y.length?y.join(""):null}var b=jc,d=Kc,e=Ua,f=Za,g=f.key,h=.7;return c.x=function(a){return arguments.length?(b=a,c):b},c.y=function(a){return arguments.length?(d=a,c):d},c.defined=function(a){return arguments.length?(e=a,c):e},c.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Ve.get(a)||Za).key,c):g},c.tension=
function(a){return arguments.length?(h=a,c):h},c}function Za(a){return a.join("L")}function We(a){for(var c=0,b=a.length,d=a[0],e=[d[0],",",d[1]];++c<b;)e.push("V",(d=a[c])[1],"H",d[0]);return e.join("")}function Xe(a){for(var c=0,b=a.length,d=a[0],e=[d[0],",",d[1]];++c<b;)e.push("H",(d=a[c])[0],"V",d[1]);return e.join("")}function Md(a,c){if(1>c.length||a.length!=c.length&&a.length!=c.length+2)return Za(a);var b=a.length!=c.length,d="",e=a[0],f=a[1],g=c[0],h=g,k=1;if(b&&(d+="Q"+(f[0]-2*g[0]/3)+","+
(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],k=2),1<c.length)for(h=c[1],f=a[k],k++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1],e=2;e<c.length;e++,k++)f=a[k],h=c[e],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];b&&(b=a[k],d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+b[0]+","+b[1]);return d}function Ye(a,c){for(var b,d=[],e=(1-c)/2,f=a[0],g=a[1],h=1,k=a.length;++h<k;)b=f,f=g,g=a[h],d.push([e*(g[0]-b[0]),e*(g[1]-b[1])]);return d}function tg(a){if(3>a.length)return Za(a);
var c=1,b=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],e=[e,",",f,"L",ab(Qb,g),",",ab(Qb,h)];for(a.push(a[b-1]);++c<=b;)d=a[c],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Ze(e,g,h);return a.pop(),e.push("L",d),e.join("")}function ab(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3]}function Ze(a,c,b){a.push("C",ab(ug,c),",",ab(ug,b),",",ab(vg,c),",",ab(vg,b),",",ab(Qb,c),",",ab(Qb,b))}function $e(a,c){return(c[1]-a[1])/(c[0]-a[0])}function wg(a){for(var c,b,d,e=-1,f=a.length;++e<
f;)c=a[e],b=c[0],d=c[1]-Ca,c[0]=b*Math.cos(d),c[1]=b*Math.sin(d);return a}function xg(a){function c(c){function k(){v.push("M",h(a(n),l),m,y(a(p.reverse()),l),"Z")}for(var r,q,H,v=[],p=[],n=[],u=-1,U=c.length,w=ha(b),z=ha(e),ia=b===d?function(){return q}:ha(d),A=e===f?function(){return H}:ha(f);++u<U;)g.call(this,r=c[u],u)?(p.push([q=+w.call(this,r,u),H=+z.call(this,r,u)]),n.push([+ia.call(this,r,u),+A.call(this,r,u)])):p.length&&(k(),p=[],n=[]);return p.length&&k(),v.length?v.join(""):null}var b=
jc,d=jc,e=0,f=Kc,g=Ua,h=Za,k=h.key,y=h,m="L",l=.7;return c.x=function(a){return arguments.length?(b=d=a,c):d},c.x0=function(a){return arguments.length?(b=a,c):b},c.x1=function(a){return arguments.length?(d=a,c):d},c.y=function(a){return arguments.length?(e=f=a,c):f},c.y0=function(a){return arguments.length?(e=a,c):e},c.y1=function(a){return arguments.length?(f=a,c):f},c.defined=function(a){return arguments.length?(g=a,c):g},c.interpolate=function(a){return arguments.length?(k="function"==typeof a?
h=a:(h=Ve.get(a)||Za).key,y=h.reverse||h,m=h.closed?"M":"L",c):k},c.tension=function(a){return arguments.length?(l=a,c):l},c}function Th(a){return a.radius}function yg(a){return[a.x,a.y]}function Uh(a){return function(){var c=a.apply(this,arguments),b=c[0],c=c[1]-Ca;return[b*Math.cos(c),b*Math.sin(c)]}}function Vh(){return 64}function Wh(){return"circle"}function zg(a){a=Math.sqrt(a/Y);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Ag(a){return function(){var c,b;
(c=this[a])&&(b=c[c.active])&&(--c.count?delete c[c.active]:delete this[a],c.active+=.5,b.event&&b.event.interrupt.call(this,this.__data__,b.index))}}function $c(a,c,b){return yd(a,Ha),a.namespace=c,a.id=b,a}function af(a,c,b,d){var e=a.id,f=a.namespace;return aa(a,"function"==typeof b?function(a,g,h){a[f][e].tween.set(c,d(b.call(a,a.__data__,g,h)))}:(b=d(b),function(a){a[f][e].tween.set(c,b)}))}function Xh(a){return null==a&&(a=""),function(){this.textContent=a}}function bf(a){return null==a?"__transition__":
"__transition_"+a+"__"}function Nd(a,b,d,e,f){var g=a[d]||(a[d]={active:0,count:0}),h=g[e];if(!h){var k=f.time,h=g[e]={tween:new c,time:k,delay:f.delay,duration:f.duration,ease:f.ease,index:b};f=null;++g.count;x.timer(function(c){function f(c){if(g.active>e)return y();var d=g[g.active];d&&(--g.count,delete g[g.active],d.event&&d.event.interrupt.call(a,a.__data__,d.index));g.active=e;h.event&&h.event.start.call(a,a.__data__,b);h.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&H.push(d)});r=
h.ease;l=h.duration;x.timer(function(){return v.c=m(c||1)?Ua:m,1},0,k)}function m(c){if(g.active!==e)return 1;c/=l;for(var d=r(c),f=H.length;0<f;)H[--f].call(a,d);return 1<=c?(h.event&&h.event.end.call(a,a.__data__,b),y()):void 0}function y(){return--g.count?delete g[e]:delete a[d],1}var l,r,q=h.delay,v=Ab,H=[];return v.t=q+k,c>=q?f(c-q):void(v.c=f)},0,k)}}function Yh(a,c,b){a.attr("transform",function(a){var d=c(a);return"translate("+(isFinite(d)?d:b(a))+",0)"})}function Zh(a,c,b){a.attr("transform",
function(a){var d=c(a);return"translate(0,"+(isFinite(d)?d:b(a))+")"})}function cf(a){return a.toISOString()}function df(a,c,b){function d(c){return a(c)}function e(a,b){var d=(a[1]-a[0])/b,e=x.bisect(Od,d);return e==Od.length?[c.year,Pb(a.map(function(a){return a/31536E6}),b)[2]]:e?c[d/Od[e-1]<Od[e]/d?e-1:e]:[$h,Pb(a,b)[2]]}return d.invert=function(c){return ec(a.invert(c))},d.domain=function(c){return arguments.length?(a.domain(c),d):a.domain().map(ec)},d.nice=function(a,c){function b(b){return!isNaN(b)&&
!a.range(b,ec(+b+1),c).length}var f=d.domain(),g=Bc(f),g=null==a?e(g,10):"number"==typeof a&&e(g,a);return g&&(a=g[0],c=g[1]),d.domain(Hd(f,1<c?{floor:function(c){for(;b(c=a.floor(c));)c=ec(c-1);return c},ceil:function(c){for(;b(c=a.ceil(c));)c=ec(+c+1);return c}}:a))},d.ticks=function(a,c){var b=Bc(d.domain()),f=null==a?e(b,10):"number"==typeof a?e(b,a):!a.range&&[{range:a},c];return f&&(a=f[0],c=f[1]),a.range(b[0],ec(+b[1]+1),1>c?1:c)},d.tickFormat=function(){return b},d.copy=function(){return df(a.copy(),
c,b)},Ue(d,a)}function ec(a){return new Date(a)}function ai(a){return JSON.parse(a.responseText)}function bi(a){var c=Qa.createRange();return c.selectNode(Qa.body),c.createContextualFragment(a.responseText)}var x={version:"3.5.5"},Bg=[].slice,Kb=function(a){return Bg.call(a)},Qa=this.document;if(Qa)try{Kb(Qa.documentElement.childNodes)[0].nodeType}catch(y){Kb=function(a){for(var c=a.length,b=Array(c);c--;)b[c]=a[c];return b}}if(Date.now||(Date.now=function(){return+new Date}),Qa)try{Qa.createElement("DIV").style.setProperty("opacity",
0,"")}catch(y){var Pd=this.Element.prototype,ci=Pd.setAttribute,di=Pd.setAttributeNS,Cg=this.CSSStyleDeclaration.prototype,ei=Cg.setProperty;Pd.setAttribute=function(a,c){ci.call(this,a,c+"")};Pd.setAttributeNS=function(a,c,b){di.call(this,a,c,b+"")};Cg.setProperty=function(a,c,b){ei.call(this,a,c+"",b)}}x.ascending=n;x.descending=function(a,c){return a>c?-1:c>a?1:c>=a?0:0/0};x.min=function(a,c){var b,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){b=d;break}for(;++e<
f;)null!=(d=a[e])&&b>d&&(b=d)}else{for(;++e<f;)if(null!=(d=c.call(a,a[e],e))&&d>=d){b=d;break}for(;++e<f;)null!=(d=c.call(a,a[e],e))&&b>d&&(b=d)}return b};x.max=function(a,c){var b,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){b=d;break}for(;++e<f;)null!=(d=a[e])&&d>b&&(b=d)}else{for(;++e<f;)if(null!=(d=c.call(a,a[e],e))&&d>=d){b=d;break}for(;++e<f;)null!=(d=c.call(a,a[e],e))&&d>b&&(b=d)}return b};x.extent=function(a,c){var b,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<
g;)if(null!=(d=a[f])&&d>=d){b=e=d;break}for(;++f<g;)null!=(d=a[f])&&(b>d&&(b=d),d>e&&(e=d))}else{for(;++f<g;)if(null!=(d=c.call(a,a[f],f))&&d>=d){b=e=d;break}for(;++f<g;)null!=(d=c.call(a,a[f],f))&&(b>d&&(b=d),d>e&&(e=d))}return[b,e]};x.sum=function(a,c){var b,d=0,e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)!isNaN(b=+a[f])&&(d+=b);else for(;++f<e;)!isNaN(b=+c.call(a,a[f],f))&&(d+=b);return d};x.mean=function(a,c){var b,d=0,e=a.length,f=-1,g=e;if(1===arguments.length)for(;++f<e;)isNaN(b=t(a[f]))?
--g:d+=b;else for(;++f<e;)isNaN(b=t(c.call(a,a[f],f)))?--g:d+=b;return g?d/g:void 0};x.quantile=function(a,c){var b=(a.length-1)*c+1,d=Math.floor(b),e=+a[d-1];return(b-=d)?e+b*(a[d]-e):e};x.median=function(a,c){var b,d=[],e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)!isNaN(b=t(a[f]))&&d.push(b);else for(;++f<e;)!isNaN(b=t(c.call(a,a[f],f)))&&d.push(b);return d.length?x.quantile(d.sort(n),.5):void 0};x.variance=function(a,c){var b,d,e=a.length,f=0,g=0,h=-1,k=0;if(1===arguments.length)for(;++h<
e;)!isNaN(b=t(a[h]))&&(d=b-f,f+=d/++k,g+=d*(b-f));else for(;++h<e;)!isNaN(b=t(c.call(a,a[h],h)))&&(d=b-f,f+=d/++k,g+=d*(b-f));return 1<k?g/(k-1):void 0};x.deviation=function(){var a=x.variance.apply(this,arguments);return a?Math.sqrt(a):a};var Dg=g(n);x.bisectLeft=Dg.left;x.bisect=x.bisectRight=Dg.right;x.bisector=function(a){return g(1===a.length?function(c,b){return n(a(c),b)}:a)};x.shuffle=function(a,c,b){3>(f=arguments.length)&&(b=a.length,2>f&&(c=0));for(var d,e,f=b-c;f;)e=Math.random()*f--|
0,d=a[f+c],a[f+c]=a[e+c],a[e+c]=d;return a};x.permute=function(a,c){for(var b=c.length,d=Array(b);b--;)d[b]=a[c[b]];return d};x.pairs=function(a){for(var c=0,b=a.length-1,d=a[0],e=Array(0>b?0:b);b>c;)e[c]=[d,d=a[++c]];return e};x.zip=function(){if(!(d=arguments.length))return[];for(var a=-1,c=x.min(arguments,e),b=Array(c);++a<c;)for(var d,f=-1,g=b[a]=Array(d);++f<d;)g[f]=arguments[f][a];return b};x.transpose=function(a){return x.zip.apply(x,a)};x.keys=function(a){var c=[],b;for(b in a)c.push(b);return c};
x.values=function(a){var c=[],b;for(b in a)c.push(a[b]);return c};x.entries=function(a){var c=[],b;for(b in a)c.push({key:b,value:a[b]});return c};x.merge=function(a){var c,b,d,e=a.length;c=-1;for(var f=0;++c<e;)f+=a[c].length;for(b=Array(f);0<=--e;)for(d=a[e],c=d.length;0<=--c;)b[--f]=d[c];return b};var da=Math.abs;x.range=function(a,c,b){if(3>arguments.length&&(b=1,2>arguments.length&&(c=a,a=0)),(c-a)/b===1/0)throw Error("infinite range");var d,e=[],f;d=da(b);for(f=1;d*f%1;)f*=10;var g=-1;if(a*=
f,c*=f,b*=f,0>b)for(;(d=a+b*++g)>c;)e.push(d/f);else for(;(d=a+b*++g)<c;)e.push(d/f);return e};x.map=function(a,b){var d=new c;if(a instanceof c)a.forEach(function(a,c){d.set(a,c)});else if(Array.isArray(a)){var e,f=-1,g=a.length;if(1===arguments.length)for(;++f<g;)d.set(f,a[f]);else for(;++f<g;)d.set(b.call(a,e=a[f],f),e)}else for(f in a)d.set(f,a[f]);return d};var yh="__proto__",Ee="\x00";f(c,{has:m,get:function(a){return this._[h(a)]},set:function(a,c){return this._[h(a)]=c},remove:d,keys:l,values:function(){var a=
[],c;for(c in this._)a.push(this._[c]);return a},entries:function(){var a=[],c;for(c in this._)a.push({key:k(c),value:this._[c]});return a},size:q,empty:w,forEach:function(a){for(var c in this._)a.call(this,k(c),this._[c])}});x.nest=function(){function a(b,h,k){if(k>=g.length)return e?e.call(f,h):d?h.sort(d):h;for(var m,y,l,r,q=-1,v=h.length,p=g[k++],H=new c;++q<v;)(r=H.get(m=p(y=h[q])))?r.push(y):H.set(m,[y]);return b?(y=b(),l=function(c,d){y.set(c,a(b,d,k))}):(y={},l=function(c,d){y[c]=a(b,d,k)}),
H.forEach(l),y}function b(a,c){if(c>=g.length)return a;var d=[],e=h[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,c){return e(a.key,c.key)}):d}var d,e,f={},g=[],h=[];return f.map=function(c,b){return a(b,c,0)},f.entries=function(c){return b(a(x.map,c,0),0)},f.key=function(a){return g.push(a),f},f.sortKeys=function(a){return h[g.length-1]=a,f},f.sortValues=function(a){return d=a,f},f.rollup=function(a){return e=a,f},f};x.set=function(a){var c=new z;if(a)for(var b=
0,d=a.length;d>b;++b)c.add(a[b]);return c};f(z,{has:m,add:function(a){return this._[h(a+="")]=!0,a},remove:d,values:l,size:q,empty:w,forEach:function(a){for(var c in this._)a.call(this,k(c))}});x.behavior={};x.rebind=function(a,c){for(var b,d=1,e=arguments.length;++d<e;)a[b=arguments[d]]=B(a,c,c[b]);return a};var Lf="webkit ms moz Moz o O".split(" ");x.dispatch=function(){for(var a=new v,c=-1,b=arguments.length;++c<b;)a[arguments[c]]=C(a);return a};v.prototype.on=function(a,c){var b=a.indexOf("."),
d="";if(0<=b&&(d=a.slice(b+1),a=a.slice(0,b)),a)return 2>arguments.length?this[a].on(d):this[a].on(d,c);if(2===arguments.length){if(null==c)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}};x.event=null;x.requote=function(a){return a.replace(fi,"\\$&")};var fi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,yd={}.__proto__?function(a,c){a.__proto__=c}:function(a,c){for(var b in c)a[b]=c[b]},Fe=function(a,c){return c.querySelector(a)},Ge=function(a,c){return c.querySelectorAll(a)},He=function(a,
c){var b=a.matches||a[r(a,"matchesSelector")];return(He=function(a,c){return b.call(a,c)})(a,c)};"function"==typeof Sizzle&&(Fe=function(a,c){return Sizzle(a,c)[0]||null},Ge=Sizzle,He=Sizzle.matchesSelector);x.selection=function(){return x.select(Qa.documentElement)};var oa=x.selection.prototype=[];oa.select=function(a){var c,b,d,e,f=[];a=E(a);for(var g=-1,h=this.length;++g<h;){f.push(c=[]);c.parentNode=(d=this[g]).parentNode;for(var k=-1,m=d.length;++k<m;)(e=d[k])?(c.push(b=a.call(e,e.__data__,k,
g)),b&&"__data__"in e&&(b.__data__=e.__data__)):c.push(null)}return F(f)};oa.selectAll=function(a){var c,b,d=[];a=M(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,k=g.length;++h<k;)(b=g[h])&&(d.push(c=Kb(a.call(b,b.__data__,h,e))),c.parentNode=b);return F(d)};var ef={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};x.ns={prefix:ef,qualify:function(a){var c=
a.indexOf(":"),b=a;return 0<=c&&(b=a.slice(0,c),a=a.slice(c+1)),ef.hasOwnProperty(b)?{space:ef[b],local:a}:a}};oa.attr=function(a,c){if(2>arguments.length){if("string"==typeof a){var b=this.node();return a=x.ns.qualify(a),a.local?b.getAttributeNS(a.space,a.local):b.getAttribute(a)}for(c in a)this.each(Q(c,a[c]));return this}return this.each(Q(a,c))};oa.classed=function(a,c){if(2>arguments.length){if("string"==typeof a){var b=this.node(),d=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(c=b.classList)for(;++e<
d;){if(!c.contains(a[e]))return!1}else for(c=b.getAttribute("class");++e<d;)if(!J(a[e]).test(c))return!1;return!0}for(c in a)this.each(fa(c,a[c]));return this}return this.each(fa(a,c))};oa.style=function(a,c,d){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(c="");for(d in a)this.each(I(d,a[d],c));return this}if(2>e)return e=this.node(),b(e).getComputedStyle(e,null).getPropertyValue(a);d=""}return this.each(I(a,c,d))};oa.property=function(a,c){if(2>arguments.length){if("string"==typeof a)return this.node()[a];
for(c in a)this.each(N(c,a[c]));return this}return this.each(N(a,c))};oa.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var c=a.apply(this,arguments);this.textContent=null==c?"":c}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};oa.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var c=a.apply(this,arguments);this.innerHTML=null==c?"":c}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=
a}):this.node().innerHTML};oa.append=function(a){return a=pa(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};oa.insert=function(a,c){return a=pa(a),c=E(c),this.select(function(){return this.insertBefore(a.apply(this,arguments),c.apply(this,arguments)||null)})};oa.remove=function(){return this.each(W)};oa.data=function(a,b){function d(a,d){var e,f,g,h=a.length,y=d.length,r=Math.min(h,y),q=Array(y),v=Array(y),p=Array(h);if(b){var n,r=new c,u=Array(h);for(e=-1;++e<h;)r.has(n=
b.call(f=a[e],f.__data__,e))?p[e]=f:r.set(n,f),u[e]=n;for(e=-1;++e<y;)(f=r.get(n=b.call(d,g=d[e],e)))?!0!==f&&(q[e]=f,f.__data__=g):v[e]={__data__:g},r.set(n,!0);for(e=-1;++e<h;)!0!==r.get(u[e])&&(p[e]=a[e])}else{for(e=-1;++e<r;)f=a[e],g=d[e],f?(f.__data__=g,q[e]=f):v[e]={__data__:g};for(;y>e;++e)v[e]={__data__:d[e]};for(;h>e;++e)p[e]=a[e]}v.update=q;v.parentNode=q.parentNode=p.parentNode=a.parentNode;k.push(v);m.push(q);l.push(p)}var e,f,g=-1,h=this.length;if(!arguments.length){for(a=Array(h=(e=
this[0]).length);++g<h;)(f=e[g])&&(a[g]=f.__data__);return a}var k=ea([]),m=F([]),l=F([]);if("function"==typeof a)for(;++g<h;)d(e=this[g],a.call(e,e.parentNode.__data__,g));else for(;++g<h;)d(e=this[g],a);return m.enter=function(){return k},m.exit=function(){return l},m};oa.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};oa.filter=function(a){var c,b,d,e=[];"function"!=typeof a&&(a=na(a));for(var f=0,g=this.length;g>f;f++){e.push(c=[]);c.parentNode=
(b=this[f]).parentNode;for(var h=0,k=b.length;k>h;h++)(d=b[h])&&a.call(d,d.__data__,h,f)&&c.push(d)}return F(e)};oa.order=function(){for(var a=-1,c=this.length;++a<c;)for(var b,d=this[a],e=d.length-1,f=d[e];0<=--e;)(b=d[e])&&(f&&f!==b.nextSibling&&f.parentNode.insertBefore(b,f),f=b);return this};oa.sort=function(a){a=T.apply(this,arguments);for(var c=-1,b=this.length;++c<b;)this[c].sort(a);return this.order()};oa.each=function(a){return aa(this,function(c,b,d){a.call(c,c.__data__,b,d)})};oa.call=
function(a){var c=Kb(arguments);return a.apply(c[0]=this,c),this};oa.empty=function(){return!this.node()};oa.node=function(){for(var a=0,c=this.length;c>a;a++)for(var b=this[a],d=0,e=b.length;e>d;d++){var f=b[d];if(f)return f}return null};oa.size=function(){var a=0;return aa(this,function(){++a}),a};var yb=[];x.selection.enter=ea;x.selection.enter.prototype=yb;yb.append=oa.append;yb.empty=oa.empty;yb.node=oa.node;yb.call=oa.call;yb.size=oa.size;yb.select=function(a){for(var c,b,d,e,f,g=[],h=-1,k=
this.length;++h<k;){d=(e=this[h]).update;g.push(c=[]);c.parentNode=e.parentNode;for(var m=-1,l=e.length;++m<l;)(f=e[m])?(c.push(d[m]=b=a.call(e.parentNode,f.__data__,m,h)),b.__data__=f.__data__):c.push(null)}return F(g)};yb.insert=function(a,c){return 2>arguments.length&&(c=ua(this)),oa.insert.call(this,a,c)};x.select=function(a){var c;return"string"==typeof a?(c=[Fe(a,Qa)],c.parentNode=Qa.documentElement):(c=[a],c.parentNode=a&&(a.ownerDocument||a.document||a).documentElement),F([c])};x.selectAll=
function(a){var c;return"string"==typeof a?(c=Kb(Ge(a,Qa)),c.parentNode=Qa.documentElement):(c=a,c.parentNode=null),F([c])};oa.on=function(a,c,b){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(c=!1);for(b in a)this.each(ga(b,a[b],c));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;b=!1}return this.each(ga(a,c,b))};var Ie=x.map({mouseenter:"mouseover",mouseleave:"mouseout"});Qa&&Ie.forEach(function(a){"on"+a in Qa&&Ie.remove(a)});var $b,Ah=0;x.mouse=function(a){return qa(a,D())};
var Je=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;x.touch=function(a,c,b){if(3>arguments.length&&(b=c,c=D().changedTouches),c)for(var d,e=0,f=c.length;f>e;++e)if((d=c[e]).identifier===b)return qa(a,d)};x.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function c(a,c,b,f,g){return function(){var h,k=x.event.target,m=this.parentNode,l=d.of(this,arguments),y=0,r=a(),q=".drag"+(null==r?"":"-"+r),v=x.select(b(k)).on(f+q,function(){var a,b,d=c(m,
r);d&&(a=d[0]-n[0],b=d[1]-n[1],y|=a|b,n=d,l({type:"drag",x:d[0]+h[0],y:d[1]+h[1],dx:a,dy:b}))}).on(g+q,function(){c(m,r)&&(v.on(f+q,null).on(g+q,null),p(y&&x.event.target===k),l({type:"dragend"}))}),p=ka(k),n=c(m,r);e?(h=e.apply(this,arguments),h=[h.x-n[0],h.y-n[1]]):h=[0,0];l({type:"dragstart"})}}var d=O(a,"drag","dragstart","dragend"),e=null,f=c(A,x.mouse,b,"mousemove","mouseup"),g=c(ya,x.touch,u,"touchmove","touchend");return a.origin=function(c){return arguments.length?(e=c,a):e},x.rebind(a,d,
"on")};x.touches=function(a,c){return 2>arguments.length&&(c=D().touches),c?Kb(c).map(function(c){var b=qa(a,c);return b.identifier=c.identifier,b}):[]};var R=1E-6,Le=R*R,Y=Math.PI,Ya=2*Y,gi=Ya-R,Ca=Y/2,Z=Y/180,wa=180/Y,Qd=Math.SQRT2;x.interpolateZoom=function(a,c){function b(a){var c=a*v;if(q){a=Ra(r);var b=f/(2*l),g,m=Qd*c+r;g=((m=Math.exp(2*m))-1)/(m+1);var y=r,m=((y=Math.exp(y))-1/y)/2,b=b*(a*g-m);return[d+b*h,e+b*k,f*a/Ra(Qd*c+r)]}return[d+a*h,e+a*k,f*Math.exp(Qd*c)]}var d=a[0],e=a[1],f=a[2],
g=c[2],h=c[0]-d,k=c[1]-e,m=h*h+k*k,l=Math.sqrt(m),y=(g*g-f*f+4*m)/(4*f*l),m=(g*g-f*f-4*m)/(4*g*l),r=Math.log(Math.sqrt(y*y+1)-y),q=Math.log(Math.sqrt(m*m+1)-m)-r,v=(q||Math.log(g/f))/Qd;return b.duration=1E3*v,b};x.behavior.zoom=function(){function a(a){a.on(Q,l).on(ff+".zoom",q).on("dblclick.zoom",v).on(L,r)}function c(a){return[(a[0]-E.x)/E.k,(a[1]-E.y)/E.k]}function d(a){E.k=Math.max(F[0],Math.min(F[1],a))}function e(a,c){c=[c[0]*E.k+E.x,c[1]*E.k+E.y];E.x+=a[0]-c[0];E.y+=a[1]-c[1]}function f(c,
b,f,g){c.__chart__={x:E.x,y:E.y,k:E.k};d(Math.pow(2,g));e(n=b,f);c=x.select(c);0<J&&(c=c.transition().duration(J));c.call(a.event)}function g(){C&&C.domain(A.range().map(function(a){return(a-E.x)/E.k}).map(A.invert));D&&D.domain(B.range().map(function(a){return(a-E.y)/E.k}).map(B.invert))}function h(a){M++||a({type:"zoomstart"})}function k(a){g();a({type:"zoom",scale:E.k,translate:[E.x,E.y]})}function m(a){--M||a({type:"zoomend"});n=null}function l(){var a=this,d=x.event.target,f=ea.of(a,arguments),
g=0,l=x.select(b(a)).on(I,function(){g=1;e(x.mouse(a),y);k(f)}).on(ga,function(){l.on(I,null).on(ga,null);r(g&&x.event.target===d);m(f)}),y=c(x.mouse(a)),r=ka(a);Rd.call(a);h(f)}function r(){function a(){var a=x.touches(v);return q=E.k,a.forEach(function(a){a.identifier in n&&(n[a.identifier]=c(a))}),a}function b(){var c=x.event.target;x.select(c).on(A,g).on(H,y);C.push(c);for(var c=x.event.changedTouches,b=0,d=c.length;d>b;++b)n[c[b].identifier]=null;b=a();d=Date.now();1===b.length?(500>d-z&&(c=
b[0],f(v,c,n[c.identifier],Math.floor(Math.log(E.k)/Math.LN2)+1),G()),z=d):1<b.length&&(c=b[0],d=b[1],b=c[0]-d[0],c=c[1]-d[1],u=b*b+c*c)}function g(){var a,c,b,f,g=x.touches(v);Rd.call(v);for(var h=0,m=g.length;m>h;++h,f=null)if(b=g[h],f=n[b.identifier]){if(c)break;a=b;c=f}if(f){var l=(l=b[0]-a[0])*l+(l=b[1]-a[1])*l,g=u&&Math.sqrt(l/u);a=[(a[0]+b[0])/2,(a[1]+b[1])/2];c=[(c[0]+f[0])/2,(c[1]+f[1])/2];d(g*q)}z=null;e(a,c);k(p)}function y(){if(x.event.touches.length){for(var c=x.event.changedTouches,
b=0,d=c.length;d>b;++b)delete n[c[b].identifier];for(var e in n)return void a()}x.selectAll(C).on(w,null);B.on(Q,l).on(L,r);U();m(p)}var q,v=this,p=ea.of(v,arguments),n={},u=0,w=".zoom-"+x.event.changedTouches[0].identifier,A="touchmove"+w,H="touchend"+w,C=[],B=x.select(v),U=ka(v);b();h(p);B.on(Q,null).on(L,b)}function q(){var a=ea.of(this,arguments);w?clearTimeout(w):(p=c(n=u||x.mouse(this)),Rd.call(this),h(a));w=setTimeout(function(){w=null;m(a)},50);G();d(Math.pow(2,.002*Sd())*E.k);e(n,p);k(a)}
function v(){var a=x.mouse(this),b=Math.log(E.k)/Math.LN2;f(this,a,c(a),x.event.shiftKey?Math.ceil(b)-1:Math.floor(b)+1)}var p,n,u,w,z,A,C,B,D,E={x:0,y:0,k:1},t=[960,500],F=Eg,J=250,M=0,Q="mousedown.zoom",I="mousemove.zoom",ga="mouseup.zoom",L="touchstart.zoom",ea=O(a,"zoomstart","zoom","zoomend");return ff||(ff="onwheel"in Qa?(Sd=function(){return-x.event.deltaY*(x.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Qa?(Sd=function(){return x.event.wheelDelta},"mousewheel"):(Sd=function(){return-x.event.detail},
"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=ea.of(this,arguments),c=E;fc?x.select(this).transition().each("start.zoom",function(){E=this.__chart__||{x:0,y:0,k:1};h(a)}).tween("zoom:zoom",function(){var b=t[0],d=t[1],e=n?n[0]:b/2,f=n?n[1]:d/2,g=x.interpolateZoom([(e-E.x)/E.k,(f-E.y)/E.k,b/E.k],[(e-c.x)/c.k,(f-c.y)/c.k,b/c.k]);return function(c){c=g(c);var d=b/c[2];this.__chart__=E={x:e-c[0]*d,y:f-c[1]*d,k:d};k(a)}}).each("interrupt.zoom",function(){m(a)}).each("end.zoom",function(){m(a)}):
(this.__chart__=E,h(a),k(a),m(a))})},a.translate=function(c){return arguments.length?(E={x:+c[0],y:+c[1],k:E.k},g(),a):[E.x,E.y]},a.scale=function(c){return arguments.length?(E={x:E.x,y:E.y,k:+c},g(),a):E.k},a.scaleExtent=function(c){return arguments.length?(F=null==c?Eg:[+c[0],+c[1]],a):F},a.center=function(c){return arguments.length?(u=c&&[+c[0],+c[1]],a):u},a.size=function(c){return arguments.length?(t=c&&[+c[0],+c[1]],a):t},a.duration=function(c){return arguments.length?(J=+c,a):J},a.x=function(c){return arguments.length?
(C=c,A=c.copy(),E={x:0,y:0,k:1},a):C},a.y=function(c){return arguments.length?(D=c,B=c.copy(),E={x:0,y:0,k:1},a):D},x.rebind(a,ea,"on")};var Sd,ff,Eg=[0,1/0];x.color=p;p.prototype.toString=function(){return this.rgb()+""};x.hsl=Ea;var gf=Ea.prototype=new p;gf.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new Ea(this.h,this.s,this.l/a)};gf.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Ea(this.h,this.s,a*this.l)};gf.rgb=function(){return za(this.h,this.s,this.l)};
x.hcl=Fa;var hf=Fa.prototype=new p;hf.brighter=function(a){return new Fa(this.h,this.c,Math.min(100,this.l+Td*(arguments.length?a:1)))};hf.darker=function(a){return new Fa(this.h,this.c,Math.max(0,this.l-Td*(arguments.length?a:1)))};hf.rgb=function(){return bb(this.h,this.c,this.l).rgb()};x.lab=Ba;var Td=18,Mf=.95047,Nf=1,Of=1.08883,jf=Ba.prototype=new p;jf.brighter=function(a){return new Ba(Math.min(100,this.l+Td*(arguments.length?a:1)),this.a,this.b)};jf.darker=function(a){return new Ba(Math.max(0,
this.l-Td*(arguments.length?a:1)),this.a,this.b)};jf.rgb=function(){return tb(this.l,this.a,this.b)};x.rgb=ca;var Ud=ca.prototype=new p;Ud.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var c=this.r,b=this.g,d=this.b;return c||b||d?(c&&30>c&&(c=30),b&&30>b&&(b=30),d&&30>d&&(d=30),new ca(Math.min(255,c/a),Math.min(255,b/a),Math.min(255,d/a))):new ca(30,30,30)};Ud.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ca(a*this.r,a*this.g,a*this.b)};Ud.hsl=function(){return xa(this.r,
this.g,this.b)};Ud.toString=function(){return"#"+V(this.r)+V(this.g)+V(this.b)};var zd=x.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,
darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,
gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,
lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,
orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,
slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});zd.forEach(function(a,c){zd.set(a,new ca(c>>16,c>>8&255,255&c))});x.functor=ha;x.xhr=Pa(u);x.dsv=function(a,c){function b(a,b,f){3>arguments.length&&(f=b,b=null);var g=Oa(a,c,null==b?d:e(b),f);return g.row=function(a){return arguments.length?g.response(null==
(b=a)?d:e(a)):b},g}function d(a){return b.parse(a.responseText)}function e(a){return function(c){return b.parse(c.responseText,a)}}function f(c){return c.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),k=a.charCodeAt(0);return b.parse=function(a,c){var d;return b.parseRows(a,function(a,b){if(d)return d(a,b-1);var e=new Function("d","return {"+a.map(function(a,c){return JSON.stringify(a)+": d["+c+"]"}).join(",")+"}");d=c?function(a,b){return c(e(a),
b)}:e})},b.parseRows=function(a,c){function b(){if(l>=m)return g;if(e)return e=!1,f;var c=l;if(34===a.charCodeAt(c)){for(var b=c;b++<m;)if(34===a.charCodeAt(b)){if(34!==a.charCodeAt(b+1))break;++b}l=b+2;var d=a.charCodeAt(b+1);return 13===d?(e=!0,10===a.charCodeAt(b+2)&&++l):10===d&&(e=!0),a.slice(c+1,b).replace(/""/g,'"')}for(;m>l;){d=a.charCodeAt(l++);b=1;if(10===d)e=!0;else if(13===d)e=!0,10===a.charCodeAt(l)&&(++l,++b);else if(d!==k)continue;return a.slice(c,l-b)}return a.slice(c)}for(var d,e,
f={},g={},h=[],m=a.length,l=0,y=0;(d=b())!==g;){for(var r=[];d!==f&&d!==g;)r.push(d),d=b();c&&null==(r=c(r,y++))||h.push(r)}return h},b.format=function(c){if(Array.isArray(c[0]))return b.formatRows(c);var d=new z,e=[];return c.forEach(function(a){for(var c in a)d.has(c)||e.push(d.add(c))}),[e.map(g).join(a)].concat(c.map(function(c){return e.map(function(a){return g(c[a])}).join(a)})).join("\n")},b.formatRows=function(a){return a.map(f).join("\n")},b};x.csv=x.dsv(",","text/csv");x.tsv=x.dsv("\t",
"text/tab-separated-values");var Cd,Dd,Bd,Ad,Ab,Pf=this[r(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};x.timer=function(a,c,b){var d=arguments.length;2>d&&(c=0);3>d&&(b=Date.now());d={c:a,t:b+c,f:!1,n:null};Dd?Dd.n=d:Cd=d;Dd=d;Bd||(Ad=clearTimeout(Ad),Bd=1,Pf(Ia))};x.timer.flush=function(){Eb();Gb()};x.round=function(a,c){return c?Math.round(a*(c=Math.pow(10,c)))/c:Math.round(a)};var hi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,c){var b=Math.pow(10,3*da(8-
c));return{scale:8<c?function(a){return a/b}:function(a){return a*b},symbol:a}});x.formatPrefix=function(a,c){var b=0;return a&&(0>a&&(a*=-1),c&&(a=x.round(a,Tb(a,c))),b=1+Math.floor(1E-12+Math.log(a)/Math.LN10),b=Math.max(-24,Math.min(24,3*Math.floor((b-1)/3)))),hi[8+b/3]};var Qf=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Bh=x.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},
X:function(a){return a.toString(16).toUpperCase()},g:function(a,c){return a.toPrecision(c)},e:function(a,c){return a.toExponential(c)},f:function(a,c){return a.toFixed(c)},r:function(a,c){return(a=x.round(a,Tb(a,c))).toFixed(Math.max(0,Math.min(20,Tb(a*(1+1E-15),c))))}}),S=x.time={},La=Date;Ga.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},
getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Cb.setUTCDate.apply(this._,arguments)},setDay:function(){Cb.setUTCDay.apply(this._,arguments)},setFullYear:function(){Cb.setUTCFullYear.apply(this._,
arguments)},setHours:function(){Cb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Cb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Cb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Cb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Cb.setUTCSeconds.apply(this._,arguments)},setTime:function(){Cb.setTime.apply(this._,arguments)}};var Cb=Date.prototype;S.year=gb(function(a){return a=S.day(a),a.setMonth(0,1),a},function(a,c){a.setFullYear(a.getFullYear()+
c)},function(a){return a.getFullYear()});S.years=S.year.range;S.years.utc=S.year.utc.range;S.day=gb(function(a){var c=new La(2E3,0);return c.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),c},function(a,c){a.setDate(a.getDate()+c)},function(a){return a.getDate()-1});S.days=S.day.range;S.days.utc=S.day.utc.range;S.dayOfYear=function(a){var c=S.year(a);return Math.floor((a-c-6E4*(a.getTimezoneOffset()-c.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,
c){c=7-c;var b=S[a]=gb(function(a){return(a=S.day(a)).setDate(a.getDate()-(a.getDay()+c)%7),a},function(a,c){a.setDate(a.getDate()+7*Math.floor(c))},function(a){var b=S.year(a).getDay();return Math.floor((S.dayOfYear(a)+(b+c)%7)/7)-(b!==c)});S[a+"s"]=b.range;S[a+"s"].utc=b.utc.range;S[a+"OfYear"]=function(a){var b=S.year(a).getDay();return Math.floor((S.dayOfYear(a)+(b+c)%7)/7)}});S.week=S.sunday;S.weeks=S.sunday.range;S.weeks.utc=S.sunday.utc.range;S.weekOfYear=S.sundayOfYear;var Rf={"-":"",_:" ",
0:"0"},Da=/^\s*\d+/,Sf=/^%/;x.locale=function(a){return{numberFormat:Oc(a),timeFormat:ld(a)}};var Fg=x.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
x.format=Fg.numberFormat;x.geo={};Wb.prototype={s:0,t:0,add:function(a){pd(a,this.t,Vd);pd(Vd.s,this.s,this);this.s?this.t+=Vd.t:this.s=Vd.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Vd=new Wb;x.geo.stream=function(a,c){a&&Gg.hasOwnProperty(a.type)?Gg[a.type](a,c):oc(a,c)};var Gg={Feature:function(a,c){oc(a.geometry,c)},FeatureCollection:function(a,c){for(var b=a.features,d=-1,e=b.length;++d<e;)oc(b[d].geometry,c)}},Tf={Sphere:function(a,c){c.sphere()},Point:function(a,
c){a=a.coordinates;c.point(a[0],a[1],a[2])},MultiPoint:function(a,c){for(var b=a.coordinates,d=-1,e=b.length;++d<e;)a=b[d],c.point(a[0],a[1],a[2])},LineString:function(a,c){Ec(a.coordinates,c,0)},MultiLineString:function(a,c){for(var b=a.coordinates,d=-1,e=b.length;++d<e;)Ec(b[d],c,0)},Polygon:function(a,c){qd(a.coordinates,c)},MultiPolygon:function(a,c){for(var b=a.coordinates,d=-1,e=b.length;++d<e;)qd(b[d],c)},GeometryCollection:function(a,c){for(var b=a.geometries,d=-1,e=b.length;++d<e;)oc(b[d],
c)}};x.geo.area=function(a){return Wd=0,x.geo.stream(a,Xa),Wd};var Wd,ac=new Wb,Xa={sphere:function(){Wd+=4*Y},point:A,lineStart:A,lineEnd:A,polygonStart:function(){ac.reset();Xa.lineStart=ye},polygonEnd:function(){var a=2*ac;Wd+=0>a?4*Y+a:a;Xa.lineStart=Xa.lineEnd=Xa.point=A}};x.geo.bounds=function(){function a(a,c){A.push(C=[l=a,q=a]);r>c&&(r=c);c>v&&(v=c)}function c(c,b){var d=kb([c*Z,b*Z]);if(w){var e=Va(w,d),e=Va([e[1],-e[0],0],e);Xb(e);var e=qc(e),f=c-p,g=0<f?1:-1,k=e[0]*wa*g,f=180<da(f);f^
(k>g*p&&g*c>k)?(e=e[1]*wa,e>v&&(v=e)):(k=(k+360)%360-180,f^(k>g*p&&g*c>k))?(e=-e[1]*wa,r>e&&(r=e)):(r>b&&(r=b),b>v&&(v=b));f?p>c?h(l,c)>h(l,q)&&(q=c):h(c,q)>h(l,q)&&(l=c):q>=l?(l>c&&(l=c),c>q&&(q=c)):c>p?h(l,c)>h(l,q)&&(q=c):h(c,q)>h(l,q)&&(l=c)}else a(c,b);w=d;p=c}function b(){B.point=c}function d(){C[0]=l;C[1]=q;B.point=a;w=null}function e(a,b){if(w){var d=a-p;z+=180<da(d)?d+(0<d?360:-360):d}else n=a,u=b;Xa.point(a,b);c(a,b)}function f(){Xa.lineStart()}function g(){e(n,u);Xa.lineEnd();da(z)>R&&
(l=-(q=180));C[0]=l;C[1]=q;w=null}function h(a,c){return 0>(c-=a)?c+360:c}function k(a,c){return a[0]-c[0]}function m(a,c){return c[0]<=c[1]?c[0]<=a&&a<=c[1]:a<c[0]||c[1]<a}var l,r,q,v,p,n,u,w,z,A,C,B={point:a,lineStart:b,lineEnd:d,polygonStart:function(){B.point=e;B.lineStart=f;B.lineEnd=g;z=0;Xa.polygonStart()},polygonEnd:function(){Xa.polygonEnd();B.point=a;B.lineStart=b;B.lineEnd=d;0>ac?(l=-(q=180),r=-(v=90)):z>R?v=90:-R>z&&(r=-90);C[0]=l;C[1]=q}};return function(a){v=q=-(l=r=1/0);A=[];x.geo.stream(a,
B);if(a=A.length){A.sort(k);for(var c,b=1,d=A[0],e=[d];a>b;++b)c=A[b],m(c[0],d)||m(c[1],d)?(h(d[0],c[1])>h(d[0],d[1])&&(d[1]=c[1]),h(c[0],d[1])>h(d[0],d[1])&&(d[0]=c[0])):e.push(d=c);var f,g=-1/0;a=e.length-1;b=0;for(d=e[a];a>=b;d=c,++b)c=e[b],(f=h(d[1],c[0]))>g&&(g=f,l=c[0],q=d[1])}return A=C=null,1/0===l||1/0===r?[[0/0,0/0],[0/0,0/0]]:[[l,r],[q,v]]}}();x.geo.centroid=function(a){Yc=Ed=bc=cc=Bb=Lb=Mb=nb=xc=yc=Nb=0;x.geo.stream(a,db);a=xc;var c=yc,b=Nb,d=a*a+c*c+b*b;return Le>d&&(a=Lb,c=Mb,b=nb,R>
Ed&&(a=bc,c=cc,b=Bb),d=a*a+c*c+b*b,Le>d)?[0/0,0/0]:[Math.atan2(c,a)*wa,Ka(b/Math.sqrt(d))*wa]};var Yc,Ed,bc,cc,Bb,Lb,Mb,nb,xc,yc,Nb,db={sphere:A,point:qb,lineStart:ub,lineEnd:Qc,polygonStart:function(){db.lineStart=lb},polygonEnd:function(){db.lineStart=ub}},Uf=tc(Ua,function(a){var c,b=0/0,d=0/0,e=0/0;return{lineStart:function(){a.lineStart();c=1},point:function(f,g){var h=0<f?Y:-Y,k=da(f-b);if(da(k-Y)<R)a.point(b,d=0<(d+g)/2?Ca:-Ca),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,
d),c=0;else if(e!==h&&k>=Y){da(b-e)<R&&(b-=e*R);da(f-h)<R&&(f-=h*R);var k=b,m=d,l=f,r,q,y=Math.sin(k-l);d=da(y)>R?Math.atan((Math.sin(m)*(q=Math.cos(g))*Math.sin(l)-Math.sin(g)*(r=Math.cos(m))*Math.sin(k))/(r*q*y)):(m+g)/2;a.point(e,d);a.lineEnd();a.lineStart();a.point(h,d);c=0}a.point(b=f,d=g);e=h},lineEnd:function(){a.lineEnd();b=d=0/0},clean:function(){return 2-c}}},function(a,c,b,d){null==a?(b*=Ca,d.point(-Y,b),d.point(0,b),d.point(Y,b),d.point(Y,0),d.point(Y,-b),d.point(0,-b),d.point(-Y,-b),
d.point(-Y,0),d.point(-Y,b)):da(a[0]-c[0])>R?(a=a[0]<c[0]?Y:-Y,b=b*a/2,d.point(-a,b),d.point(0,b),d.point(a,b)):d.point(c[0],c[1])},[-Y,-Y/2]),Fd=1E9;x.geo.clipExtent=function(){var a,c,b,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=sd(a=+h[0][0],c=+h[0][1],b=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,c],[b,d]]}};return g.extent([[0,0],[960,500]])};(x.geo.conicEqualArea=function(){return vc(td)}).raw=td;x.geo.albers=
function(){return x.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};x.geo.albersUsa=function(){function a(a){var f=a[0];a=a[1];return c=null,b(f,a),c||(d(f,a),c)||e(f,a),c}var c,b,d,e,f=x.geo.albers(),g=x.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=x.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),k={point:function(a,b){c=[a,b]}};return a.invert=function(a){var c=f.scale(),b=f.translate(),d=(a[0]-b[0])/
c,c=(a[1]-b[1])/c;return(.12<=c&&.234>c&&-.425<=d&&-.214>d?g:.166<=c&&.234>c&&-.214<=d&&-.115>d?h:f).invert(a)},a.stream=function(a){var c=f.stream(a),b=g.stream(a),d=h.stream(a);return{point:function(a,e){c.point(a,e);b.point(a,e);d.point(a,e)},sphere:function(){c.sphere();b.sphere();d.sphere()},lineStart:function(){c.lineStart();b.lineStart();d.lineStart()},lineEnd:function(){c.lineEnd();b.lineEnd();d.lineEnd()},polygonStart:function(){c.polygonStart();b.polygonStart();d.polygonStart()},polygonEnd:function(){c.polygonEnd();
b.polygonEnd();d.polygonEnd()}}},a.precision=function(c){return arguments.length?(f.precision(c),g.precision(c),h.precision(c),a):f.precision()},a.scale=function(c){return arguments.length?(f.scale(c),g.scale(.35*c),h.scale(c),a.translate(f.translate())):f.scale()},a.translate=function(c){if(!arguments.length)return f.translate();var m=f.scale(),l=+c[0],r=+c[1];return b=f.translate(c).clipExtent([[l-.455*m,r-.238*m],[l+.455*m,r+.238*m]]).stream(k).point,d=g.translate([l-.307*m,r+.201*m]).clipExtent([[l-
.425*m+R,r+.12*m+R],[l-.214*m-R,r+.234*m-R]]).stream(k).point,e=h.translate([l-.205*m,r+.212*m]).clipExtent([[l-.214*m+R,r+.166*m+R],[l-.115*m-R,r+.234*m-R]]).stream(k).point,a},a.scale(1070)};var kf,Ke,Xd,Yd,Zd,$d,Ob={point:A,lineStart:A,lineEnd:A,polygonStart:function(){Ke=0;Ob.lineStart=Ae},polygonEnd:function(){Ob.lineStart=Ob.lineEnd=Ob.point=A;kf+=da(Ke/2)}},ii={point:function(a,c){Xd>a&&(Xd=a);a>Zd&&(Zd=a);Yd>c&&(Yd=c);c>$d&&($d=c)},lineStart:A,lineEnd:A,polygonStart:A,polygonEnd:A},eb={point:mb,
lineStart:ic,lineEnd:Tc,polygonStart:function(){eb.lineStart=Ce},polygonEnd:function(){eb.point=mb;eb.lineStart=ic;eb.lineEnd=Tc}};x.geo.path=function(){function a(a){return a&&("function"==typeof g&&e.pointRadius(+g.apply(this,arguments)),f&&f.valid||(f=d(e)),x.geo.stream(a,f)),e.result()}var c,b,d,e,f,g=4.5;return a.area=function(a){return kf=0,x.geo.stream(a,d(Ob)),kf},a.centroid=function(a){return bc=cc=Bb=Lb=Mb=nb=xc=yc=Nb=0,x.geo.stream(a,d(eb)),Nb?[xc/Nb,yc/Nb]:nb?[Lb/nb,Mb/nb]:Bb?[bc/Bb,cc/
Bb]:[0/0,0/0]},a.bounds=function(a){return Zd=$d=-(Xd=Yd=1/0),x.geo.stream(a,d(ii)),[[Xd,Yd],[Zd,$d]]},a.projection=function(b){return arguments.length?(d=(c=b)?b.stream||De(b):u,f=null,a):c},a.context=function(c){return arguments.length?(e=null==(b=c)?new Be:new ie(c),"function"!=typeof g&&e.pointRadius(g),f=null,a):b},a.pointRadius=function(c){return arguments.length?(g="function"==typeof c?c:(e.pointRadius(+c),+c),a):g},a.projection(x.geo.albersUsa()).context(null)};x.geo.transform=function(a){return{stream:function(c){c=
new ud(c);for(var b in a)c[b]=a[b];return c}}};ud.prototype={point:function(a,c){this.stream.point(a,c)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};x.geo.projection=Wa;x.geo.projectionMutator=Ib;(x.geo.equirectangular=function(){return Wa(wb)}).raw=wb.invert=wb;x.geo.rotation=function(a){function c(c){return c=a(c[0]*
Z,c[1]*Z),c[0]*=wa,c[1]*=wa,c}return a=wc(a[0]%360*Z,a[1]*Z,2<a.length?a[2]*Z:0),c.invert=function(c){return c=a.invert(c[0]*Z,c[1]*Z),c[0]*=wa,c[1]*=wa,c},c};Wc.invert=wb;x.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,c=wc(-a[0]*Z,-a[1]*Z,0).invert,e=[];return b(null,null,1,{point:function(a,b){e.push(a=c(a,b));a[0]*=wa;a[1]*=wa}}),{type:"Polygon",coordinates:[e]}}var c,b,d=[0,0],e=6;return a.origin=function(c){return arguments.length?(d=c,a):d},a.angle=
function(d){return arguments.length?(b=Db((c=+d)*Z,e*Z),a):c},a.precision=function(d){return arguments.length?(b=Db(c*Z,(e=+d)*Z),a):e},a.angle(90)};x.geo.distance=function(a,c){var b,d=(c[0]-a[0])*Z,e=a[1]*Z,f=c[1]*Z,g=Math.cos(d),h=Math.sin(e),e=Math.cos(e),k=Math.sin(f),f=Math.cos(f);return Math.atan2(Math.sqrt((b=f*Math.sin(d))*b+(b=e*k-h*f*g)*b),h*k+e*f*g)};x.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:c()}}function c(){return x.range(Math.ceil(f/u)*u,e,u).map(q).concat(x.range(Math.ceil(m/
w)*w,k,w).map(v)).concat(x.range(Math.ceil(d/p)*p,b,p).filter(function(a){return da(a%u)>R}).map(l)).concat(x.range(Math.ceil(h/n)*n,g,n).filter(function(a){return da(a%w)>R}).map(r))}var b,d,e,f,g,h,k,m,l,r,q,v,p=10,n=p,u=90,w=360,z=2.5;return a.lines=function(){return c().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[q(f).concat(v(k).slice(1),q(e).reverse().slice(1),v(m).reverse().slice(1))]}},a.extent=function(c){return arguments.length?
a.majorExtent(c).minorExtent(c):a.minorExtent()},a.majorExtent=function(c){return arguments.length?(f=+c[0][0],e=+c[1][0],m=+c[0][1],k=+c[1][1],f>e&&(c=f,f=e,e=c),m>k&&(c=m,m=k,k=c),a.precision(z)):[[f,m],[e,k]]},a.minorExtent=function(c){return arguments.length?(d=+c[0][0],b=+c[1][0],h=+c[0][1],g=+c[1][1],d>b&&(c=d,d=b,b=c),h>g&&(c=h,h=g,g=c),a.precision(z)):[[d,h],[b,g]]},a.step=function(c){return arguments.length?a.majorStep(c).minorStep(c):a.minorStep()},a.majorStep=function(c){return arguments.length?
(u=+c[0],w=+c[1],a):[u,w]},a.minorStep=function(c){return arguments.length?(p=+c[0],n=+c[1],a):[p,n]},a.precision=function(c){return arguments.length?(z=+c,l=gc(h,g,90),r=bd(d,b,z),q=gc(m,k,90),v=bd(f,e,z),a):z},a.majorExtent([[-180,-90+R],[180,90-R]]).minorExtent([[-180,-80-R],[180,80+R]])};x.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||d.apply(this,arguments),b||e.apply(this,arguments)]}}var c,b,d=cd,e=fe;return a.distance=function(){return x.geo.distance(c||d.apply(this,
arguments),b||e.apply(this,arguments))},a.source=function(b){return arguments.length?(d=b,c="function"==typeof b?null:b,a):d},a.target=function(c){return arguments.length?(e=c,b="function"==typeof c?null:c,a):e},a.precision=function(){return arguments.length?a:0},a};x.geo.interpolate=function(a,c){return pf(a[0]*Z,a[1]*Z,c[0]*Z,c[1]*Z)};x.geo.length=function(a){return lf=0,x.geo.stream(a,Cc),lf};var lf,Cc={sphere:A,point:A,lineStart:function(){function a(a,e){var f=Math.sin(e*=Z),g=Math.cos(e),h=
da((a*=Z)-c),k=Math.cos(h);lf+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=d*f-b*g*k)*h),b*f+d*g*k);c=a;b=f;d=g}var c,b,d;Cc.point=function(e,f){c=e*Z;b=Math.sin(f*=Z);d=Math.cos(f);Cc.point=a};Cc.lineEnd=function(){Cc.point=Cc.lineEnd=A}},lineEnd:A,polygonStart:A,polygonEnd:A},Hg=Dc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(x.geo.azimuthalEqualArea=function(){return Wa(Hg)}).raw=Hg;var Ig=Dc(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},u);(x.geo.azimuthalEquidistant=
function(){return Wa(Ig)}).raw=Ig;(x.geo.conicConformal=function(){return vc(ge)}).raw=ge;(x.geo.conicEquidistant=function(){return vc(qf)}).raw=qf;var Jg=Dc(function(a){return 1/a},Math.atan);(x.geo.gnomonic=function(){return Wa(Jg)}).raw=Jg;ed.invert=function(a,c){return[a,2*Math.atan(Math.exp(c))-Ca]};(x.geo.mercator=function(){return fd(ed)}).raw=ed;var Kg=Dc(function(){return 1},Math.asin);(x.geo.orthographic=function(){return Wa(Kg)}).raw=Kg;var Lg=Dc(function(a){return 1/(1+a)},function(a){return 2*
Math.atan(a)});(x.geo.stereographic=function(){return Wa(Lg)}).raw=Lg;Jc.invert=function(a,c){return[-c,2*Math.atan(Math.exp(a))-Ca]};(x.geo.transverseMercator=function(){var a=fd(Jc),c=a.center,b=a.rotate;return a.center=function(a){return a?c([-a[1],a[0]]):(a=c(),[a[1],-a[0]])},a.rotate=function(a){return a?b([a[0],a[1],2<a.length?a[2]+90:90]):(a=b(),[a[0],a[1],a[2]-90])},b([0,0,90])}).raw=Jc;x.geom={};x.geom.hull=function(a){function c(a){if(3>a.length)return[];var c,e=ha(b),f=ha(d),g=a.length,
h=[],k=[];for(c=0;g>c;c++)h.push([+e.call(this,a[c],c),+f.call(this,a[c],c),c]);h.sort(ih);for(c=0;g>c;c++)k.push([h[c][0],-h[c][1]]);var e=Df(h),k=Df(k),f=k[0]===e[0],g=k[k.length-1]===e[e.length-1],m=[];for(c=e.length-1;0<=c;--c)m.push(a[h[e[c]][2]]);for(c=+f;c<k.length-g;++c)m.push(a[h[k[c]][2]]);return m}var b=jc,d=Kc;return arguments.length?c(a):(c.x=function(a){return arguments.length?(b=a,c):b},c.y=function(a){return arguments.length?(d=a,c):d},c)};x.geom.polygon=function(a){return yd(a,ae),
a};var ae=x.geom.polygon.prototype=[];ae.area=function(){for(var a,c=-1,b=this.length,d=this[b-1],e=0;++c<b;)a=d,d=this[c],e+=a[1]*d[0]-a[0]*d[1];return.5*e};ae.centroid=function(a){var c,b,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)c=h,h=this[d],b=c[0]*h[1]-h[0]*c[1],f+=(c[0]+h[0])*b,g+=(c[1]+h[1])*b;return[f*a,g*a]};ae.clip=function(a){for(var c,b,d,e,f,g,h=wf(a),k=-1,m=this.length-wf(this),l=this[m-1];++k<m;){c=a.slice();a.length=0;e=this[k];f=c[(d=
c.length-h)-1];for(b=-1;++b<d;)g=c[b],ne(g,l,e)?(ne(f,l,e)||a.push(pe(f,g,l,e)),a.push(g)):ne(f,l,e)&&a.push(pe(f,g,l,e)),f=g;h&&a.push(a[0]);l=e}return a};var Ac,dc,zc,Me,Zc,Vf=[],Wf=[];Ef.prototype.prepare=function(){for(var a,c=this.edges,b=c.length;b--;)a=c[b].edge,a.b&&a.a||c.splice(b,1);return c.sort(Af),c.length};jd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};re.prototype={insert:function(a,
c){var b,d,e;if(a){if(c.P=a,c.N=a.N,a.N&&(a.N.P=c),a.N=c,a.R){for(a=a.R;a.L;)a=a.L;a.L=c}else a.R=c;b=a}else this._?(a=Cf(this._),c.P=null,c.N=a,a.P=a.L=c,b=a):(c.P=c.N=null,this._=c,b=null);c.L=c.R=null;c.U=b;c.C=!0;for(a=c;b&&b.C;)d=b.U,b===d.L?(e=d.R,e&&e.C?(b.C=e.C=!1,d.C=!0,a=d):(a===b.R&&(Ic(this,b),a=b,b=a.U),b.C=!1,d.C=!0,Hc(this,d))):(e=d.L,e&&e.C?(b.C=e.C=!1,d.C=!0,a=d):(a===b.L&&(Hc(this,b),a=b,b=a.U),b.C=!1,d.C=!0,Ic(this,d))),b=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&
(a.P.N=a.N);a.N=a.P=null;var c,b,d,e=a.U,f=a.L,g=a.R;if(b=f?g?Cf(g):f:g,e?e.L===a?e.L=b:e.R=b:this._=b,f&&g?(d=b.C,b.C=a.C,b.L=f,f.U=b,b!==g?(e=b.U,b.U=a.U,a=b.R,e.L=a,b.R=g,g.U=b):(b.U=e,e=b,a=b.R)):(d=a.C,a=b),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(c=e.R,c.C&&(c.C=!1,e.C=!0,Ic(this,e),c=e.R),c.L&&c.L.C||c.R&&c.R.C){c.R&&c.R.C||(c.L.C=!1,c.C=!0,Hc(this,c),c=e.R);c.C=e.C;e.C=c.R.C=!1;Ic(this,e);a=this._;break}}else if(c=e.L,c.C&&(c.C=!1,e.C=!0,Hc(this,e),
c=e.L),c.L&&c.L.C||c.R&&c.R.C){c.L&&c.L.C||(c.R.C=!1,c.C=!0,Ic(this,c),c=e.L);c.C=e.C;e.C=c.L.C=!1;Hc(this,e);a=this._;break}c.C=!0;a=e;e=e.U}while(!a.C);a&&(a.C=!1)}}};x.geom.voronoi=function(a){function c(a){var c=Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];return ke(b(a),h).cells.forEach(function(b,h){var k=b.edges,m=b.site;(c[h]=k.length?k.map(function(a){a=a.start();return[a.x,a.y]}):m.x>=d&&m.x<=f&&m.y>=e&&m.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[]).point=a[h]}),c}function b(a){return a.map(function(a,
c){return{x:Math.round(f(a,c)/R)*R,y:Math.round(g(a,c)/R)*R,i:c}})}var d=jc,e=Kc,f=d,g=e,h=be;return a?c(a):(c.links=function(a){return ke(b(a)).edges.filter(function(a){return a.l&&a.r}).map(function(c){return{source:a[c.l.i],target:a[c.r.i]}})},c.triangles=function(a){var c=[];return ke(b(a)).cells.forEach(function(b,d){for(var e,f=b.site,g=b.edges.sort(Af),h=-1,k=g.length,m=g[k-1].edge,m=m.l===f?m.r:m.l;++h<k;)e=m,m=g[h].edge,m=m.l===f?m.r:m.l,d<e.i&&d<m.i&&0>(f.x-m.x)*(e.y-f.y)-(f.x-e.x)*(m.y-
f.y)&&c.push([a[d],a[e.i],a[m.i]])}),c},c.x=function(a){return arguments.length?(f=ha(d=a),c):d},c.y=function(a){return arguments.length?(g=ha(e=a),c):e},c.clipExtent=function(a){return arguments.length?(h=null==a?be:a,c):h===be?null:h},c.size=function(a){return arguments.length?c.clipExtent(a&&[[0,0],a]):h===be?null:h&&h[1]},c)};var be=[[-1E6,-1E6],[1E6,1E6]];x.geom.delaunay=function(a){return x.geom.voronoi().triangles(a)};x.geom.quadtree=function(a,c,b,d,e){function f(a){function f(a,c,b,d,e,f,
g,h){if(!isNaN(b)&&!isNaN(d))if(a.leaf){var k=a.x,l=a.y;if(null!=k){if(!(.01>da(k-b)+da(l-d))){var r=a.point;a.x=a.y=a.point=null;m(a,r,k,l,e,f,g,h)}m(a,c,b,d,e,f,g,h)}else a.x=b,a.y=d,a.point=c}else m(a,c,b,d,e,f,g,h)}function m(a,c,b,d,e,g,h,k){var m=.5*(e+h),l=.5*(g+k),r=b>=m,q=d>=l,v=q<<1|r;a.leaf=!1;a=a.nodes[v]||(a.nodes[v]=Ff());r?e=m:h=m;q?g=l:k=l;f(a,c,b,d,e,g,h,k)}var l,r,q,v,y,p,n,u,w,z=ha(h),A=ha(k);if(null!=c)p=c,n=b,u=d,w=e;else if(u=w=-(p=n=1/0),r=[],q=[],y=a.length,g)for(v=0;y>v;++v)l=
a[v],l.x<p&&(p=l.x),l.y<n&&(n=l.y),l.x>u&&(u=l.x),l.y>w&&(w=l.y),r.push(l.x),q.push(l.y);else for(v=0;y>v;++v){var C=+z(l=a[v],v);l=+A(l,v);p>C&&(p=C);n>l&&(n=l);C>u&&(u=C);l>w&&(w=l);r.push(C);q.push(l)}C=u-p;l=w-n;C>l?w=n+C:u=p+l;var B=Ff();if(B.add=function(a){f(B,a,+z(a,++v),+A(a,v),p,n,u,w)},B.visit=function(a){Nc(a,B,p,n,u,w)},B.find=function(a){return nh(B,a[0],a[1],p,n,u,w)},v=-1,null==c){for(;++v<y;)f(B,a[v],r[v],q[v],p,n,u,w);--v}else a.forEach(B.add);return r=q=a=l=null,B}var g,h=jc,k=
Kc;return(g=arguments.length)?(h=lh,k=mh,3===g&&(e=b,d=c,b=c=0),f(a)):(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(k=a,f):k},f.extent=function(a){return arguments.length?(null==a?c=b=d=e=null:(c=+a[0][0],b=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==c?null:[[c,b],[d,e]]},f.size=function(a){return arguments.length?(null==a?c=b=d=e=null:(c=b=0,d=+a[0],e=+a[1]),f):null==c?null:[d-c,e-b]},f)};x.interpolateRgb=oe;x.interpolateObject=Gf;x.interpolateNumber=sb;
x.interpolateString=Hf;var Ne=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oe=new RegExp(Ne.source,"g");x.interpolate=Sb;x.interpolators=[function(a,c){var b=typeof c;return("string"===b?zd.has(c)||/^(#|rgb\(|hsl\()/.test(c)?oe:Hf:c instanceof p?oe:Array.isArray(c)?kd:"object"===b&&isNaN(c)?Gf:sb)(a,c)}];x.interpolateArray=kd;var Mg=function(){return u},ji=x.map({linear:Mg,poly:function(a){return function(c){return Math.pow(c,a)}},quad:function(){return ph},cubic:function(){return qh},sin:function(){return sh},
exp:function(){return th},circle:function(){return uh},elastic:function(a,c){var b;return 2>arguments.length&&(c=.45),arguments.length?b=c/Ya*Math.asin(1/a):(a=1,b=c/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-b)*Ya/c)}},back:function(a){return a||(a=1.70158),function(c){return c*c*((a+1)*c-a)}},bounce:function(){return vh}}),ki=x.map({"in":u,out:If,"in-out":Bf,"out-in":function(a){return Bf(If(a))}});x.ease=function(a){var c=a.indexOf("-"),b=0<=c?a.slice(0,c):a,c=0<=c?a.slice(c+1):"in";
return b=ji.get(b)||Mg,c=ki.get(c)||u,oh(c(b.apply(null,Bg.call(arguments,1))))};x.interpolateHcl=function(a,c){a=x.hcl(a);c=x.hcl(c);var b=a.h,d=a.c,e=a.l,f=c.h-b,g=c.c-d,h=c.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?c.c:d),isNaN(f)?(f=0,b=isNaN(b)?c.h:b):180<f?f-=360:-180>f&&(f+=360),function(a){return bb(b+f*a,d+g*a,e+h*a)+""}};x.interpolateHsl=function(a,c){a=x.hsl(a);c=x.hsl(c);var b=a.h,d=a.s,e=a.l,f=c.h-b,g=c.s-d,h=c.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?c.s:d),isNaN(f)?(f=0,b=isNaN(b)?c.h:b):180<
f?f-=360:-180>f&&(f+=360),function(a){return za(b+f*a,d+g*a,e+h*a)+""}};x.interpolateLab=function(a,c){a=x.lab(a);c=x.lab(c);var b=a.l,d=a.a,e=a.b,f=c.l-b,g=c.a-d,h=c.b-e;return function(a){return tb(b+f*a,d+g*a,e+h*a)+""}};x.interpolateRound=Jf;x.transform=function(a){var c=Qa.createElementNS(x.ns.prefix.svg,"g");return(x.transform=function(a){if(null!=a){c.setAttribute("transform",a);var b=c.transform.baseVal.consolidate()}return new Kf(b?b.matrix:li)})(a)};Kf.prototype.toString=function(){return"translate("+
this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var li={a:1,b:0,c:0,d:1,e:0,f:0};x.interpolateTransform=yf;x.layout={};x.layout.bundle=function(){return function(a){for(var c=[],b=-1,d=a.length;++b<d;)c.push(xh(a[b]));return c}};x.layout.chord=function(){function a(){var a,m,r,q,v,p={},n=[],y=x.range(f),u=[];b=[];d=[];a=0;for(q=-1;++q<f;){m=0;for(v=-1;++v<f;)m+=e[q][v];n.push(m);u.push(x.range(f));a+=m}g&&y.sort(function(a,c){return g(n[a],n[c])});h&&u.forEach(function(a,
c){a.sort(function(a,b){return h(e[c][a],e[c][b])})});a=(Ya-l*f)/a;m=0;for(q=-1;++q<f;){r=m;for(v=-1;++v<f;){var w=y[q],z=u[w][v],A=e[w][z],C=m,B=m+=A*a;p[w+"-"+z]={index:w,subindex:z,startAngle:C,endAngle:B,value:A}}d[w]={index:w,startAngle:r,endAngle:m,value:(m-r)/a};m+=l}for(q=-1;++q<f;)for(v=q-1;++v<f;)a=p[q+"-"+v],m=p[v+"-"+q],(a.value||m.value)&&b.push(a.value<m.value?{source:m,target:a}:{source:a,target:m});k&&c()}function c(){b.sort(function(a,c){return k((a.source.value+a.target.value)/2,
(c.source.value+c.target.value)/2)})}var b,d,e,f,g,h,k,m={},l=0;return m.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,b=d=null,m):e},m.padding=function(a){return arguments.length?(l=a,b=d=null,m):l},m.sortGroups=function(a){return arguments.length?(g=a,b=d=null,m):g},m.sortSubgroups=function(a){return arguments.length?(h=a,b=null,m):h},m.sortChords=function(a){return arguments.length?(k=a,b&&c(),m):k},m.chords=function(){return b||a(),b},m.groups=function(){return d||a(),d},m};x.layout.force=
function(){function a(a){return function(c,b,d,e){if(c.point!==a){d=c.cx-a.x;var f=c.cy-a.y;b=e-b;e=d*d+f*f;if(e>b*b/w)return p>e&&(b=c.charge/e,a.px-=d*b,a.py-=f*b),!0;c.point&&e&&p>e&&(b=c.pointCharge/e,a.px-=d*b,a.py-=f*b)}return!c.charge}}function c(a){a.px=x.event.x;a.py=x.event.y;h.resume()}var b,d,e,f,g,h={},k=x.dispatch("start","tick","end"),m=[1,1],l=.9,r=mi,q=ni,v=-30,p=oi,n=.1,w=.64,z=[],A=[];return h.tick=function(){if(.005>(d*=.99))return k.end({type:"end",alpha:d=0}),!0;var c,b,h,r,
q,p,y,u,w=z.length,C=A.length;for(b=0;C>b;++b)h=A[b],c=h.source,r=h.target,y=r.x-c.x,u=r.y-c.y,(q=y*y+u*u)&&(q=d*f[b]*((q=Math.sqrt(q))-e[b])/q,y*=q,u*=q,r.x-=y*(p=c.weight/(r.weight+c.weight)),r.y-=u*p,c.x+=y*(p=1-p),c.y+=u*p);if((p=d*n)&&(y=m[0]/2,u=m[1]/2,b=-1,p))for(;++b<w;)h=z[b],h.x+=(y-h.x)*p,h.y+=(u-h.y)*p;if(v)for(tf(c=x.geom.quadtree(z),d,g),b=-1;++b<w;)(h=z[b]).fixed||c.visit(a(h));for(b=-1;++b<w;)h=z[b],h.fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*l,h.y-=(h.py-(h.py=h.y))*l);k.tick({type:"tick",
alpha:d})},h.nodes=function(a){return arguments.length?(z=a,h):z},h.links=function(a){return arguments.length?(A=a,h):A},h.size=function(a){return arguments.length?(m=a,h):m},h.linkDistance=function(a){return arguments.length?(r="function"==typeof a?a:+a,h):r},h.distance=h.linkDistance,h.linkStrength=function(a){return arguments.length?(q="function"==typeof a?a:+a,h):q},h.friction=function(a){return arguments.length?(l=+a,h):l},h.charge=function(a){return arguments.length?(v="function"==typeof a?
a:+a,h):v},h.chargeDistance=function(a){return arguments.length?(p=a*a,h):Math.sqrt(p)},h.gravity=function(a){return arguments.length?(n=+a,h):n},h.theta=function(a){return arguments.length?(w=a*a,h):Math.sqrt(w)},h.alpha=function(a){return arguments.length?(a=+a,d?d=0<a?a:0:0<a&&(k.start({type:"start",alpha:d=a}),x.timer(h.tick)),h):d},h.start=function(){function a(a,d){if(!b){b=Array(k);for(g=0;k>g;++g)b[g]=[];for(g=0;l>g;++g){var e=A[g];b[e.source.index].push(e.target);b[e.target.index].push(e.source)}}for(var f=
b[c],g=-1,h=f.length;++g<h;)if(!isNaN(e=f[g][a]))return e;return Math.random()*d}var c,b,d,k=z.length,l=A.length,p=m[0],y=m[1];for(c=0;k>c;++c)(d=z[c]).index=c,d.weight=0;for(c=0;l>c;++c)d=A[c],"number"==typeof d.source&&(d.source=z[d.source]),"number"==typeof d.target&&(d.target=z[d.target]),++d.source.weight,++d.target.weight;for(c=0;k>c;++c)d=z[c],isNaN(d.x)&&(d.x=a("x",p)),isNaN(d.y)&&(d.y=a("y",y)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(e=[],"function"==typeof r)for(c=0;l>c;++c)e[c]=
+r.call(this,A[c],c);else for(c=0;l>c;++c)e[c]=r;if(f=[],"function"==typeof q)for(c=0;l>c;++c)f[c]=+q.call(this,A[c],c);else for(c=0;l>c;++c)f[c]=q;if(g=[],"function"==typeof v)for(c=0;k>c;++c)g[c]=+v.call(this,z[c],c);else for(c=0;k>c;++c)g[c]=v;return h.resume()},h.resume=function(){return h.alpha(.1)},h.stop=function(){return h.alpha(0)},h.drag=function(){return b||(b=x.behavior.drag().origin(u).on("dragstart.force",Vg).on("drag.force",c).on("dragend.force",rf)),arguments.length?void this.on("mouseover.force",
sf).on("mouseout.force",Wg).call(b):b},x.rebind(h,k,"on")};var mi=20,ni=1,oi=1/0;x.layout.hierarchy=function(){function a(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(m=b.call(a,f,f.depth))&&(k=m.length)){for(var k,m,l;0<=--k;)g.push(l=m[k]),l.parent=f,l.depth=f.depth+1;d&&(f.value=0);f.children=m}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return ib(e,function(a){var b,e;c&&(b=a.children)&&b.sort(c);d&&(e=a.parent)&&(e.value+=a.value)}),h}var c=bh,b=zf,d=ah;
return a.sort=function(b){return arguments.length?(c=b,a):c},a.children=function(c){return arguments.length?(b=c,a):b},a.value=function(c){return arguments.length?(d=c,a):d},a.revalue=function(c){return d&&(Gc(c,function(a){a.children&&(a.value=0)}),ib(c,function(c){var b;c.children||(c.value=+d.call(a,c,c.depth)||0);(b=c.parent)&&(b.value+=c.value)})),c},a};x.layout.partition=function(){function a(c,b,d,e){var f=c.children;if(c.x=b,c.y=c.depth*e,c.dx=d,c.dy=e,f&&(g=f.length)){var g,h,k=-1;for(d=
c.value?d/c.value:0;++k<g;)a(h=f[k],b,c=h.value*d,e),b+=c}}function c(a){a=a.children;var b=0;if(a&&(d=a.length))for(var d,e=-1;++e<d;)b=Math.max(b,c(a[e]));return 1+b}function b(b,f){var g=d.call(this,b,f);return a(g[0],0,e[0],e[1]/c(g[0])),g}var d=x.layout.hierarchy(),e=[1,1];return b.size=function(a){return arguments.length?(e=a,b):e},Fc(b,d)};x.layout.pie=function(){function a(g){var h,k=g.length,m=g.map(function(b,d){return+c.call(a,b,d)}),l=+("function"==typeof d?d.apply(this,arguments):d),
r=("function"==typeof e?e.apply(this,arguments):e)-l,q=Math.min(Math.abs(r)/k,+("function"==typeof f?f.apply(this,arguments):f)),v=q*(0>r?-1:1),p=(r-k*v)/x.sum(m),k=x.range(k),n=[];return null!=b&&k.sort(b===Ng?function(a,c){return m[c]-m[a]}:function(a,c){return b(g[a],g[c])}),k.forEach(function(a){n[a]={data:g[a],value:h=m[a],startAngle:l,endAngle:l+=h*p+v,padAngle:q}}),n}var c=Number,b=Ng,d=0,e=Ya,f=0;return a.value=function(b){return arguments.length?(c=b,a):c},a.sort=function(c){return arguments.length?
(b=c,a):b},a.startAngle=function(c){return arguments.length?(d=c,a):d},a.endAngle=function(c){return arguments.length?(e=c,a):e},a.padAngle=function(c){return arguments.length?(f=c,a):f},a};var Ng={};x.layout.stack=function(){function a(h,k){if(!(q=h.length))return h;var m=h.map(function(b,d){return c.call(a,b,d)}),l=m.map(function(c){return c.map(function(c,b){return[f.call(a,c,b),g.call(a,c,b)]})}),r=b.call(a,l,k),m=x.permute(m,r),l=x.permute(l,r),q,v,p,n=d.call(a,l,k),u=m[0].length;for(v=0;u>v;++v)for(e.call(a,
m[0][v],p=n[v],l[0][v][1]),r=1;q>r;++r)e.call(a,m[r][v],p+=l[r-1][v][1],l[r][v][1]);return h}var c=u,b=le,d=me,e=fh,f=dh,g=eh;return a.values=function(b){return arguments.length?(c=b,a):c},a.order=function(c){return arguments.length?(b="function"==typeof c?c:pi.get(c)||le,a):b},a.offset=function(c){return arguments.length?(d="function"==typeof c?c:qi.get(c)||me,a):d},a.x=function(c){return arguments.length?(f=c,a):f},a.y=function(c){return arguments.length?(g=c,a):g},a.out=function(c){return arguments.length?
(e=c,a):e},a};var pi=x.map({"inside-out":function(a){var c,b=a.length,d=a.map(gh),e=a.map(hh),f=x.range(b).sort(function(a,c){return d[a]-d[c]}),g=0,h=0,k=[],m=[];for(a=0;b>a;++a)c=f[a],h>g?(g+=e[c],k.push(c)):(h+=e[c],m.push(c));return m.reverse().concat(k)},reverse:function(a){return x.range(a.length).reverse()},"default":le}),qi=x.map({silhouette:function(a){var c,b,d,e=a.length,f=a[0].length,g=[],h=0,k=[];for(b=0;f>b;++b){for(d=c=0;e>c;c++)d+=a[c][b][1];d>h&&(h=d);g.push(d)}for(b=0;f>b;++b)k[b]=
(h-g[b])/2;return k},wiggle:function(a){var c,b,d,e,f,g,h,k,m,l=a.length,r=a[0],q=r.length,v=[];v[0]=k=m=0;for(b=1;q>b;++b){for(e=c=0;l>c;++c)e+=a[c][b][1];f=c=0;for(h=r[b][0]-r[b-1][0];l>c;++c){d=0;for(g=(a[c][b][1]-a[c][b-1][1])/(2*h);c>d;++d)g+=(a[d][b][1]-a[d][b-1][1])/h;f+=g*a[c][b][1]}v[b]=k-=e?f/e*h:0;m>k&&(m=k)}for(b=0;q>b;++b)v[b]-=m;return v},expand:function(a){var c,b,d,e=a.length,f=a[0].length,g=1/e,h=[];for(b=0;f>b;++b){for(d=c=0;e>c;c++)d+=a[c][b][1];if(d)for(c=0;e>c;c++)a[c][b][1]/=
d;else for(c=0;e>c;c++)a[c][b][1]=g}for(b=0;f>b;++b)h[b]=0;return h},zero:me});x.layout.histogram=function(){function a(a,f){var g,h,k=[],m=a.map(b,this),l=d.call(this,m,f),r=e.call(this,l,m,f);f=-1;for(var q=m.length,v=r.length-1,p=c?1:1/q;++f<v;)g=k[f]=[],g.dx=r[f+1]-(g.x=r[f]),g.y=0;if(0<v)for(f=-1;++f<q;)h=m[f],h>=l[0]&&h<=l[1]&&(g=k[x.bisect(r,h,1,v)-1],g.y+=p,g.push(a[f]));return k}var c=!0,b=Number,d=Dh,e=Ch;return a.value=function(c){return arguments.length?(b=c,a):b},a.range=function(c){return arguments.length?
(d=ha(c),a):d},a.bins=function(c){return arguments.length?(e="number"==typeof c?function(a){return Xf(a,c)}:ha(c),a):e},a.frequency=function(b){return arguments.length?(c=!!b,a):c},a};x.layout.pack=function(){function a(a,f){var g=b.call(this,a,f),h=g[0],k=e[0],m=e[1],l=null==c?Math.sqrt:"function"==typeof c?c:function(){return c};if(h.x=h.y=0,ib(h,function(a){a.r=+l(a.value)}),ib(h,$f),d){var r=d*(c?1:Math.max(2*h.r/k,2*h.r/m))/2;ib(h,function(a){a.r+=r});ib(h,$f);ib(h,function(a){a.r-=r})}return bg(h,
k/2,m/2,c?1:1/Math.max(2*h.r/k,2*h.r/m)),g}var c,b=x.layout.hierarchy().sort(Eh),d=0,e=[1,1];return a.size=function(c){return arguments.length?(e=c,a):e},a.radius=function(b){return arguments.length?(c=null==b||"function"==typeof b?b:+b,a):c},a.padding=function(c){return arguments.length?(d=+c,a):d},Fc(a,b)};x.layout.tree=function(){function a(a,m){var l=f.call(this,a,m),r=l[0],q=c(r);if(ib(q,b),q.parent.m=-q.z,Gc(q,d),k)Gc(r,e);else{var v=r,p=r,n=r;Gc(r,function(a){a.x<v.x&&(v=a);a.x>p.x&&(p=a);
a.depth>n.depth&&(n=a)});var u=g(v,p)/2-v.x,w=h[0]/(p.x+g(p,v)/2+u),y=h[1]/(n.depth||1);Gc(r,function(a){a.x=(a.x+u)*w;a.y=a.depth*y})}return l}function c(a){for(var c={A:null,children:[a]},b=[c];null!=(a=b.pop());)for(var d,e=a.children,f=0,g=e.length;g>f;++f)b.push((e[f]=d={_:e[f],parent:a,children:(d=e[f].children)&&d.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:f}).a=d);return c.children[0]}function b(a){var c=a.children,b=a.parent.children,d=a.i?b[a.i-1]:null;if(c.length){for(var e,f=0,
h=0,k=a.children,m=k.length;0<=--m;)e=k[m],e.z+=f,e.m+=f,f+=e.s+(h+=e.c);c=(c[0].z+c[c.length-1].z)/2;d?(a.z=d.z+g(a._,d._),a.m=a.z-c):a.z=c}else d&&(a.z=d.z+g(a._,d._));c=a.parent;b=a.parent.A||b[0];if(d){for(var f=e=a,h=d,k=e.parent.children[0],m=e.m,l=f.m,r=h.m,q=k.m;h=Re(h),e=Qe(e),h&&e;){k=Qe(k);f=Re(f);f.a=a;d=h.z+r-e.z-m+g(h._,e._);if(0<d){var v=h.a.parent===a.parent?h.a:b,p=a,n=d,u=n/(p.i-v.i);p.c-=u;p.s+=n;v.c+=u;p.z+=n;p.m+=n;m+=d;l+=d}r+=h.m;m+=e.m;q+=k.m;l+=f.m}h&&!Re(f)&&(f.t=h,f.m+=
r-l);e&&!Qe(k)&&(k.t=e,k.m+=m-q,b=a)}c.A=b}function d(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=h[0];a.y=a.depth*h[1]}var f=x.layout.hierarchy().sort(null).value(null),g=cg,h=[1,1],k=null;return a.separation=function(c){return arguments.length?(g=c,a):g},a.size=function(c){return arguments.length?(k=null==(h=c)?e:null,a):k?null:h},a.nodeSize=function(c){return arguments.length?(k=null==(h=c)?null:e,a):k?h:null},Fc(a,f)};x.layout.cluster=function(){function a(a,f){var g,h=c.call(this,
a,f),k=h[0],m=0;ib(k,function(a){var c=a.children;c&&c.length?(a.x=Ih(c),a.y=Hh(c)):(a.x=g?m+=b(a,g):0,a.y=0,g=a)});var l=dg(k),r=eg(k),q=l.x-b(l,r)/2,v=r.x+b(r,l)/2;return ib(k,e?function(a){a.x=(a.x-k.x)*d[0];a.y=(k.y-a.y)*d[1]}:function(a){a.x=(a.x-q)/(v-q)*d[0];a.y=(1-(k.y?a.y/k.y:1))*d[1]}),h}var c=x.layout.hierarchy().sort(null).value(null),b=cg,d=[1,1],e=!1;return a.separation=function(c){return arguments.length?(b=c,a):b},a.size=function(c){return arguments.length?(e=null==(d=c),a):e?null:
d},a.nodeSize=function(c){return arguments.length?(e=null!=(d=c),a):e?d:null},Fc(a,c)};x.layout.treemap=function(){function a(a,c){for(var b,d,e=-1,f=a.length;++e<f;)d=(b=a[e]).value*(0>c?0:c),b.area=isNaN(d)||0>=d?0:d}function c(b){var e=b.children;if(e&&e.length){var f,g=l(b),h=[],k=e.slice(),m=1/0,r="slice"===q?g.dx:"dice"===q?g.dy:"slice-dice"===q?1&b.depth?g.dy:g.dx:Math.min(g.dx,g.dy);a(k,g.dx*g.dy/b.value);for(h.area=0;0<(b=k.length);){h.push(b=k[b-1]);h.area+=b.area;var p;if(!(p="squarify"!==
q)){f=void 0;b=r;var n=h.area;p=0;for(var u=1/0,w=-1,y=h.length;++w<y;)(f=h[w].area)&&(u>f&&(u=f),f>p&&(p=f));p=(f=(n*=n,b*=b,n?Math.max(b*p*v/n,n/(b*u*v)):1/0))<=m}p?(k.pop(),m=f):(h.area-=h.pop().area,d(h,r,g,!1),r=Math.min(g.dx,g.dy),h.length=h.area=0,m=1/0)}h.length&&(d(h,r,g,!0),h.length=h.area=0);e.forEach(c)}}function b(c){var e=c.children;if(e&&e.length){var f=l(c),g=e.slice(),h=[];a(g,f.dx*f.dy/c.value);for(h.area=0;c=g.pop();)h.push(c),h.area+=c.area,null!=c.z&&(d(h,c.z?f.dx:f.dy,f,!g.length),
h.length=h.area=0);e.forEach(b)}}function d(a,c,b,d){var e,f=-1,g=a.length,k=b.x,m=b.y,l=c?h(a.area/c):0;if(c==b.dx){for((d||l>b.dy)&&(l=b.dy);++f<g;)e=a[f],e.x=k,e.y=m,e.dy=l,k+=e.dx=Math.min(b.x+b.dx-k,l?h(e.area/l):0);e.z=!0;e.dx+=b.x+b.dx-k;b.y+=l;b.dy-=l}else{for((d||l>b.dx)&&(l=b.dx);++f<g;)e=a[f],e.x=k,e.y=m,e.dx=l,m+=e.dy=Math.min(b.y+b.dy-m,l?h(e.area/l):0);e.z=!1;e.dy+=b.y+b.dy-m;b.x+=l;b.dx-=l}}function e(d){d=f||g(d);var e=d[0];return e.x=0,e.y=0,e.dx=k[0],e.dy=k[1],f&&g.revalue(e),a([e],
e.dx*e.dy/e.value),(f?b:c)(e),r&&(f=d),d}var f,g=x.layout.hierarchy(),h=Math.round,k=[1,1],m=null,l=Se,r=!1,q="squarify",v=.5*(1+Math.sqrt(5));return e.size=function(a){return arguments.length?(k=a,e):k},e.padding=function(a){function c(c){var b=a.call(e,c,c.depth);return null==b?Se(c):fg(c,"number"==typeof b?[b,b,b,b]:b)}function b(c){return fg(c,a)}if(!arguments.length)return m;var d;return l=null==(m=a)?Se:"function"==(d=typeof a)?c:"number"===d?(a=[a,a,a,a],b):b,e},e.round=function(a){return arguments.length?
(h=a?Math.round:Number,e):h!=Number},e.sticky=function(a){return arguments.length?(r=a,f=null,e):r},e.ratio=function(a){return arguments.length?(v=a,e):v},e.mode=function(a){return arguments.length?(q=a+"",e):q},Fc(e,g)};x.random={normal:function(a,c){var b=arguments.length;return 2>b&&(c=1),1>b&&(a=0),function(){var b,d;do b=2*Math.random()-1,d=2*Math.random()-1,d=b*b+d*d;while(!d||1<d);return a+c*b*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(){var a=x.random.normal.apply(x,arguments);return function(){return Math.exp(a())}},
bates:function(a){var c=x.random.irwinHall(a);return function(){return c()/a}},irwinHall:function(a){return function(){for(var c=0,b=0;a>b;b++)c+=Math.random();return c}}};x.scale={};var Kh={floor:u,ceil:u};x.scale.linear=function(){return hg([0,1],[0,1],Sb,!1)};var Nh={s:1,g:1,p:1,r:1,e:1};x.scale.log=function(){return ig(x.scale.linear().domain([0,1]),10,!0,[1,10])};var jg=x.format(".0e"),Oh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};x.scale.pow=function(){return kg(x.scale.linear(),
1,[0,1])};x.scale.sqrt=function(){return x.scale.pow().exponent(.5)};x.scale.ordinal=function(){return lg([],{t:"range",a:[[]]})};x.scale.category10=function(){return x.scale.ordinal().range(ri)};x.scale.category20=function(){return x.scale.ordinal().range(si)};x.scale.category20b=function(){return x.scale.ordinal().range(ti)};x.scale.category20c=function(){return x.scale.ordinal().range(ui)};var ri=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(la),si=[2062260,
11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(la),ti=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(la),ui=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,
6513507,9868950,12434877,14277081].map(la);x.scale.quantile=function(){return mg([],[])};x.scale.quantize=function(){return ng(0,1,[0,1])};x.scale.threshold=function(){return og([.5],[0,1])};x.scale.identity=function(){return pg([0,1])};x.svg={};x.svg.arc=function(){function a(){var a=Math.max(0,+b.apply(this,arguments)),m=Math.max(0,+d.apply(this,arguments)),l=g.apply(this,arguments)-Ca,r=h.apply(this,arguments)-Ca,q=Math.abs(r-l),v=l>r?0:1;if(a>m&&(p=m,m=a,a=p),q>=gi)return c(m,v)+(a?c(a,1-v):"")+
"Z";var p,n,u,w,z,y,A,C,B,G;A=p=0;q=[];((w=(+k.apply(this,arguments)||0)/2)&&(u=f===ce?Math.sqrt(a*a+m*m):+f.apply(this,arguments),v||(A*=-1),m&&(A=Ka(u/m*Math.sin(w))),a&&(p=Ka(u/a*Math.sin(w)))),m)?(u=m*Math.cos(l+A),w=m*Math.sin(l+A),z=m*Math.cos(r-A),y=m*Math.sin(r-A),n=Math.abs(r-l-2*A)<=Y?0:1,A&&Kd(u,w,z,y)===v^n&&(z=(l+r)/2,u=m*Math.cos(z),w=m*Math.sin(z),z=y=null)):u=w=0;if(a){A=a*Math.cos(r-p);C=a*Math.sin(r-p);B=a*Math.cos(l+p);G=a*Math.sin(l+p);var D=Math.abs(l-r+2*p)<=Y?0:1;p&&Kd(A,C,
B,G)===1-v^D&&(B=(l+r)/2,A=a*Math.cos(B),C=a*Math.sin(B),B=G=null)}else A=C=0;if(.001<(p=Math.min(Math.abs(m-a)/2,+e.apply(this,arguments)))){n=m>a^v?0:1;var D=null==B?[A,C]:null==z?[u,w]:pe([u,w],[B,G],[z,y],[A,C]),l=u-D[0],r=w-D[1],E=z-D[0],t=y-D[1],l=1/Math.sin(Math.acos((l*E+r*t)/(Math.sqrt(l*l+r*r)*Math.sqrt(E*E+t*t)))/2),D=Math.sqrt(D[0]*D[0]+D[1]*D[1]);null!=z?(r=Math.min(p,(m-D)/(l+1)),E=Ld(null==B?[A,C]:[B,G],[u,w],m,r,v),t=Ld([z,y],[A,C],m,r,v),p===r?q.push("M",E[0],"A",r,",",r," 0 0,",
n," ",E[1],"A",m,",",m," 0 ",1-v^Kd(E[1][0],E[1][1],t[1][0],t[1][1]),",",v," ",t[1],"A",r,",",r," 0 0,",n," ",t[0]):q.push("M",E[0],"A",r,",",r," 0 1,",n," ",t[0])):q.push("M",u,",",w);null!=B?(m=Math.min(p,(a-D)/(l-1)),B=Ld([u,w],[B,G],a,-m,v),z=Ld([A,C],null==z?[u,w]:[z,y],a,-m,v),p===m?q.push("L",z[0],"A",m,",",m," 0 0,",n," ",z[1],"A",a,",",a," 0 ",v^Kd(z[1][0],z[1][1],B[1][0],B[1][1]),",",1-v," ",B[1],"A",m,",",m," 0 0,",n," ",B[0]):q.push("L",z[0],"A",m,",",m," 0 0,",n," ",B[0])):q.push("L",
A,",",C)}else q.push("M",u,",",w),null!=z&&q.push("A",m,",",m," 0 ",n,",",v," ",z,",",y),q.push("L",A,",",C),null!=B&&q.push("A",a,",",a," 0 ",D,",",1-v," ",B,",",G);return q.push("Z"),q.join("")}function c(a,c){return"M0,"+a+"A"+a+","+a+" 0 1,"+c+" 0,"+-a+"A"+a+","+a+" 0 1,"+c+" 0,"+a}var b=Qh,d=Rh,e=Ph,f=ce,g=qg,h=rg,k=Sh;return a.innerRadius=function(c){return arguments.length?(b=ha(c),a):b},a.outerRadius=function(c){return arguments.length?(d=ha(c),a):d},a.cornerRadius=function(c){return arguments.length?
(e=ha(c),a):e},a.padRadius=function(c){return arguments.length?(f=c==ce?ce:ha(c),a):f},a.startAngle=function(c){return arguments.length?(g=ha(c),a):g},a.endAngle=function(c){return arguments.length?(h=ha(c),a):h},a.padAngle=function(c){return arguments.length?(k=ha(c),a):k},a.centroid=function(){var a=(+b.apply(this,arguments)+ +d.apply(this,arguments))/2,c=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Ca;return[Math.cos(c)*a,Math.sin(c)*a]},a};var ce="auto";x.svg.line=function(){return sg(u)};
var Ve=x.map({linear:Za,"linear-closed":function(a){return Za(a)+"Z"},step:function(a){for(var c=0,b=a.length,d=a[0],e=[d[0],",",d[1]];++c<b;)e.push("H",(d[0]+(d=a[c])[0])/2,"V",d[1]);return 1<b&&e.push("H",d[0]),e.join("")},"step-before":We,"step-after":Xe,basis:tg,"basis-open":function(a){if(4>a.length)return Za(a);for(var c,b=[],d=-1,e=a.length,f=[0],g=[0];3>++d;)c=a[d],f.push(c[0]),g.push(c[1]);b.push(ab(Qb,f)+","+ab(Qb,g));for(--d;++d<e;)c=a[d],f.shift(),f.push(c[0]),g.shift(),g.push(c[1]),Ze(b,
f,g);return b.join("")},"basis-closed":function(a){for(var c,b,d=-1,e=a.length,f=e+4,g=[],h=[];4>++d;)b=a[d%e],g.push(b[0]),h.push(b[1]);c=[ab(Qb,g),",",ab(Qb,h)];for(--d;++d<f;)b=a[d%e],g.shift(),g.push(b[0]),h.shift(),h.push(b[1]),Ze(c,g,h);return c.join("")},bundle:function(a,c){var b=a.length-1;if(b)for(var d,e,f=a[0][0],g=a[0][1],h=a[b][0]-f,k=a[b][1]-g,m=-1;++m<=b;)d=a[m],e=m/b,d[0]=c*d[0]+(1-c)*(f+e*h),d[1]=c*d[1]+(1-c)*(g+e*k);return tg(a)},cardinal:function(a,c){return 3>a.length?Za(a):a[0]+
Md(a,Ye(a,c))},"cardinal-open":function(a,c){return 4>a.length?Za(a):a[1]+Md(a.slice(1,-1),Ye(a,c))},"cardinal-closed":function(a,c){return 3>a.length?Za(a):a[0]+Md((a.push(a[0]),a),Ye([a[a.length-2]].concat(a,[a[1]]),c))},monotone:function(a){if(3>a.length)a=Za(a);else{var c=a[0],b,d,e,f,g=[],h;b=0;h=a.length-1;for(var k=[],m=a[1],l=k[0]=$e(a[0],m);++b<h;)k[b]=(l+(l=$e(m,m=a[b+1])))/2;h=(k[b]=l,k);k=-1;for(m=a.length-1;++k<m;)b=$e(a[k],a[k+1]),da(b)<R?h[k]=h[k+1]=0:(d=h[k]/b,e=h[k+1]/b,f=d*d+e*e,
9<f&&(f=3*b/Math.sqrt(f),h[k]=f*d,h[k+1]=f*e));for(k=-1;++k<=m;)f=(a[Math.min(m,k+1)][0]-a[Math.max(0,k-1)][0])/(6*(1+h[k]*h[k])),g.push([f||0,h[k]*f||0]);a=c+Md(a,g)}return a}});Ve.forEach(function(a,c){c.key=a;c.closed=/-closed$/.test(a)});var ug=[0,2/3,1/3,0],vg=[0,1/3,2/3,0],Qb=[0,1/6,2/3,1/6];x.svg.line.radial=function(){var a=sg(wg);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};We.reverse=Xe;Xe.reverse=We;x.svg.area=function(){return xg(u)};x.svg.area.radial=function(){var a=xg(wg);
return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};x.svg.chord=function(){function a(a,f){var g=c(this,d,a,f),h=c(this,e,a,f);return"M"+g.p0+b(g.r,g.p1,g.a1-g.a0)+(g.a0==h.a0&&g.a1==h.a1?"Q 0,0 "+g.p0:"Q 0,0 "+h.p0+b(h.r,h.p1,h.a1-h.a0)+("Q 0,0 "+g.p0))+"Z"}function c(a,c,b,d){var e=c.call(a,b,d);c=f.call(a,e,d);b=g.call(a,e,d)-Ca;a=h.call(a,e,d)-Ca;return{r:c,a0:b,a1:a,p0:[c*
Math.cos(b),c*Math.sin(b)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function b(a,c,b){return"A"+a+","+a+" 0 "+ +(b>Y)+",1 "+c}var d=cd,e=fe,f=Th,g=qg,h=rg;return a.radius=function(c){return arguments.length?(f=ha(c),a):f},a.source=function(c){return arguments.length?(d=ha(c),a):d},a.target=function(c){return arguments.length?(e=ha(c),a):e},a.startAngle=function(c){return arguments.length?(g=ha(c),a):g},a.endAngle=function(c){return arguments.length?(h=ha(c),a):h},a};x.svg.diagonal=function(){function a(a,
e){var f=c.call(this,a,e),g=b.call(this,a,e),h=(f.y+g.y)/2,f=[f,{x:f.x,y:h},{x:g.x,y:h},g];return f=f.map(d),"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var c=cd,b=fe,d=yg;return a.source=function(b){return arguments.length?(c=ha(b),a):c},a.target=function(c){return arguments.length?(b=ha(c),a):b},a.projection=function(c){return arguments.length?(d=c,a):d},a};x.svg.diagonal.radial=function(){var a=x.svg.diagonal(),c=yg,b=a.projection;return a.projection=function(a){return arguments.length?b(Uh(c=a)):c},a};
x.svg.symbol=function(){function a(a,d){return(Og.get(c.call(this,a,d))||zg)(b.call(this,a,d))}var c=Wh,b=Vh;return a.type=function(b){return arguments.length?(c=ha(b),a):c},a.size=function(c){return arguments.length?(b=ha(c),a):b},a};var Og=x.map({circle:zg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*Pg));var c=a*Pg;return"M0,"+-a+"L"+c+",0 0,"+a+" "+-c+",0Z"},square:function(a){a=
Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/de);var c=a*de/2;return"M0,"+c+"L"+a+","+-c+" "+-a+","+-c+"Z"},"triangle-up":function(a){a=Math.sqrt(a/de);var c=a*de/2;return"M0,"+-c+"L"+a+","+c+" "+-a+","+c+"Z"}});x.svg.symbolTypes=Og.keys();var de=Math.sqrt(3),Pg=Math.tan(30*Z);oa.transition=function(a){for(var c,b=fc||++Qg,d=bf(a),e=[],f=ee||{time:Date.now(),ease:rh,delay:0,duration:250},g=-1,h=this.length;++g<h;){e.push(a=
[]);for(var k=this[g],m=-1,l=k.length;++m<l;)(c=k[m])&&Nd(c,m,d,b,f),a.push(c)}return $c(e,d,b)};oa.interrupt=function(a){return this.each(null==a?Rd:Ag(bf(a)))};var fc,ee,Rd=Ag(bf()),Ha=[],Qg=0;Ha.call=oa.call;Ha.empty=oa.empty;Ha.node=oa.node;Ha.size=oa.size;x.transition=function(a,c){return a&&a.transition?fc?a.transition(c):a:x.selection().transition(a)};x.transition.prototype=Ha;Ha.select=function(a){var c,b,d,e=this.id,f=this.namespace,g=[];a=E(a);for(var h=-1,k=this.length;++h<k;){g.push(c=
[]);for(var m=this[h],l=-1,r=m.length;++l<r;)(d=m[l])&&(b=a.call(d,d.__data__,l,h))?("__data__"in d&&(b.__data__=d.__data__),Nd(b,l,f,e,d[f][e]),c.push(b)):c.push(null)}return $c(g,f,e)};Ha.selectAll=function(a){var c,b,d,e,f=this.id,g=this.namespace,h=[];a=M(a);for(var k=-1,m=this.length;++k<m;)for(var l=this[k],r=-1,q=l.length;++r<q;)if(c=l[r]){e=c[g][f];b=a.call(c,c.__data__,r,k);h.push(c=[]);for(var v=-1,p=b.length;++v<p;)(d=b[v])&&Nd(d,v,g,f,e),c.push(d)}return $c(h,g,f)};Ha.filter=function(a){var c,
b,d,e=[];"function"!=typeof a&&(a=na(a));for(var f=0,g=this.length;g>f;f++){e.push(c=[]);b=this[f];for(var h=0,k=b.length;k>h;h++)(d=b[h])&&a.call(d,d.__data__,h,f)&&c.push(d)}return $c(e,this.namespace,this.id)};Ha.tween=function(a,c){var b=this.id,d=this.namespace;return 2>arguments.length?this.node()[d][b].tween.get(a):aa(this,null==c?function(c){c[d][b].tween.remove(a)}:function(e){e[d][b].tween.set(a,c)})};Ha.attr=function(a,c){function b(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,
h.local)}function e(a){return null==a?b:(a+="",function(){var c,b=this.getAttribute(h);return b!==a&&(c=g(b,a),function(a){this.setAttribute(h,c(a))})})}function f(a){return null==a?d:(a+="",function(){var c,b=this.getAttributeNS(h.space,h.local);return b!==a&&(c=g(b,a),function(a){this.setAttributeNS(h.space,h.local,c(a))})})}if(2>arguments.length){for(c in a)this.attr(c,a[c]);return this}var g="transform"==a?yf:Sb,h=x.ns.qualify(a);return af(this,"attr."+a,c,h.local?f:e)};Ha.attrTween=function(a,
c){function b(a,b){var d=c.call(this,a,b,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,b){var d=c.call(this,a,b,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=x.ns.qualify(a);return this.tween("attr."+a,e.local?d:b)};Ha.style=function(a,c,d){function e(){this.style.removeProperty(a)}var f=arguments.length;if(3>f){if("string"!=typeof a){2>f&&(c="");for(d in a)this.style(d,a[d],c);return this}d=""}return af(this,
"style."+a,c,function(c){return null==c?e:(c+="",function(){var e,f=b(this).getComputedStyle(this,null).getPropertyValue(a);return f!==c&&(e=Sb(f,c),function(c){this.style.setProperty(a,e(c),d)})})})};Ha.styleTween=function(a,c,d){return 3>arguments.length&&(d=""),this.tween("style."+a,function(e,f){var g=c.call(this,e,f,b(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(c){this.style.setProperty(a,g(c),d)}})};Ha.text=function(a){return af(this,"text",a,Xh)};Ha.remove=function(){var a=
this.namespace;return this.each("end.transition",function(){var c;2>this[a].count&&(c=this.parentNode)&&c.removeChild(this)})};Ha.ease=function(a){var c=this.id,b=this.namespace;return 1>arguments.length?this.node()[b][c].ease:("function"!=typeof a&&(a=x.ease.apply(x,arguments)),aa(this,function(d){d[b][c].ease=a}))};Ha.delay=function(a){var c=this.id,b=this.namespace;return 1>arguments.length?this.node()[b][c].delay:aa(this,"function"==typeof a?function(d,e,f){d[b][c].delay=+a.call(d,d.__data__,
e,f)}:(a=+a,function(d){d[b][c].delay=a}))};Ha.duration=function(a){var c=this.id,b=this.namespace;return 1>arguments.length?this.node()[b][c].duration:aa(this,"function"==typeof a?function(d,e,f){d[b][c].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[b][c].duration=a}))};Ha.each=function(a,c){var b=this.id,d=this.namespace;if(2>arguments.length){var e=ee,f=fc;try{fc=b,aa(this,function(c,e,f){ee=c[d][b];a.call(c,c.__data__,e,f)})}finally{ee=e,fc=f}}else aa(this,function(e){e=
e[d][b];(e.event||(e.event=x.dispatch("start","end","interrupt"))).on(a,c)});return this};Ha.transition=function(){for(var a,c,b,d,e=this.id,f=++Qg,g=this.namespace,h=[],k=0,m=this.length;m>k;k++){h.push(a=[]);c=this[k];for(var l=0,r=c.length;r>l;l++)(b=c[l])&&(d=b[g][e],Nd(b,l,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(b)}return $c(h,g,f)};x.svg.axis=function(){function a(a){a.each(function(){var a,m=x.select(this),l=this.__chart__||b,r=this.__chart__=b.copy(),
q=null==k?r.ticks?r.ticks.apply(r,h):r.domain():k,v=null==c?r.tickFormat?r.tickFormat.apply(r,h):u:c,p=m.selectAll(".tick").data(q,r),q=p.enter().insert("g",".domain").attr("class","tick").style("opacity",R),n=x.transition(p.exit()).style("opacity",R).remove(),w=x.transition(p.order()).style("opacity",1),z=Math.max(e,0)+g,A=Gd(r),m=m.selectAll(".domain").data([0]),m=(m.enter().append("path").attr("class","domain"),x.transition(m));q.append("line");q.append("text");var C,B,G,D,y=q.select("line"),E=
w.select("line"),v=p.select("text").text(v),p=q.select("text"),t=w.select("text"),F="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=Yh,C="x",G="y",B="x2",D="y2",v.attr("dy",0>F?"0em":".71em").style("text-anchor","middle"),m.attr("d","M"+A[0]+","+F*f+"V0H"+A[1]+"V"+F*f)):(a=Zh,C="y",G="x",B="y2",D="x2",v.attr("dy",".32em").style("text-anchor",0>F?"end":"start"),m.attr("d","M"+F*f+","+A[0]+"H0V"+A[1]+"H"+F*f)),y.attr(D,F*e),p.attr(G,F*z),E.attr(B,0).attr(D,F*e),t.attr(C,0).attr(G,F*z),r.rangeBand)var O=
r,J=O.rangeBand()/2,l=r=function(a){return O(a)+J};else l.rangeBand?l=r:n.call(a,r,l);q.call(a,l,r);w.call(a,r,r)})}var c,b=x.scale.linear(),d=Rg,e=6,f=6,g=3,h=[10],k=null;return a.scale=function(c){return arguments.length?(b=c,a):b},a.orient=function(c){return arguments.length?(d=c in vi?c+"":Rg,a):d},a.ticks=function(){return arguments.length?(h=arguments,a):h},a.tickValues=function(c){return arguments.length?(k=c,a):k},a.tickFormat=function(b){return arguments.length?(c=b,a):c},a.tickSize=function(c){var b=
arguments.length;return b?(e=+c,f=+arguments[b-1],a):e},a.innerTickSize=function(c){return arguments.length?(e=+c,a):e},a.outerTickSize=function(c){return arguments.length?(f=+c,a):f},a.tickPadding=function(c){return arguments.length?(g=+c,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Rg="bottom",vi={top:1,right:1,bottom:1,left:1};x.svg.brush=function(){function a(b){b.each(function(){var b=x.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",
f).on("touchstart.brush",f),g=b.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");b.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=b.selectAll(".resize").data(n,u);h.exit().remove();h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return wi[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?
-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");h.style("display",a.empty()?"none":null);var k,b=x.transition(b),g=x.transition(g);m&&(k=Gd(m),g.attr("x",k[0]).attr("width",k[1]-k[0]),d(b));l&&(k=Gd(l),g.attr("y",k[0]).attr("height",k[1]-k[0]),e(b));c(b)})}function c(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+r[+/e$/.test(a)]+","+q[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",
r[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1]-r[0])}function e(a){a.select(".extent").attr("y",q[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",q[1]-q[0])}function f(){function f(){var a=x.mouse(A),b=!1;z&&(a[0]+=z[0],a[1]+=z[1]);F||(x.event.altKey?(w||(w=[(r[0]+r[1])/2,(q[0]+q[1])/2]),J[0]=r[+(a[0]<w[0])],J[1]=q[+(a[1]<w[1])]):w=null);y&&n(a,m,0)&&(d(D),b=!0);t&&n(a,l,1)&&(e(D),b=!0);b&&(c(D),B({type:"brush",mode:F?"move":"resize"}))}function n(a,c,b){var d,e,f=Gd(c);c=
f[0];var f=f[1],k=J[b],m=b?q:r,l=m[1]-m[0];return F&&(c-=k,f-=l+k),d=(b?p:v)?Math.max(c,Math.min(f,a[b])):a[b],F?e=(d+=k)+l:(w&&(k=Math.max(c,Math.min(f,2*w[b]-d))),d>k?(e=d,d=k):e=k),m[0]!=d||m[1]!=e?(b?h=null:g=null,m[0]=d,m[1]=e,!0):void 0}function u(){f();D.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);x.select("body").style("cursor",null);M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",
null).on("keyup.brush",null);O();B({type:"brushend"})}var w,z,A=this,C=x.select(x.event.target),B=k.of(A,arguments),D=x.select(A),E=C.datum(),y=!/^(n|s)$/.test(E)&&m,t=!/^(e|w)$/.test(E)&&l,F=C.classed("extent"),O=ka(A),J=x.mouse(A),M=x.select(b(A)).on("keydown.brush",function(){32==x.event.keyCode&&(F||(w=null,J[0]-=r[1],J[1]-=q[1],F=2),G())}).on("keyup.brush",function(){32==x.event.keyCode&&2==F&&(J[0]+=r[1],J[1]+=q[1],F=0,G())});if(x.event.changedTouches?M.on("touchmove.brush",f).on("touchend.brush",
u):M.on("mousemove.brush",f).on("mouseup.brush",u),D.interrupt().selectAll("*").interrupt(),F)J[0]=r[0]-J[0],J[1]=q[0]-J[1];else if(E){var Q=+/w$/.test(E),E=+/^n/.test(E);z=[r[1-Q]-J[0],q[1-E]-J[1]];J[0]=r[Q];J[1]=q[E]}else x.event.altKey&&(w=J.slice());D.style("pointer-events","none").selectAll(".resize").style("display",null);x.select("body").style("cursor",C.style("cursor"));B({type:"brushstart"});f()}var g,h,k=O(a,"brushstart","brush","brushend"),m=null,l=null,r=[0,0],q=[0,0],v=!0,p=!0,n=mf[0];
return a.event=function(a){a.each(function(){var a=k.of(this,arguments),c={x:r,y:q,i:g,j:h},b=this.__chart__||c;this.__chart__=c;fc?x.select(this).transition().each("start.brush",function(){g=b.i;h=b.j;r=b.x;q=b.y;a({type:"brushstart"})}).tween("brush:brush",function(){var b=kd(r,c.x),d=kd(q,c.y);return g=h=null,function(e){r=c.x=b(e);q=c.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=c.i;h=c.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),
a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(c){return arguments.length?(m=c,n=mf[!m<<1|!l],a):m},a.y=function(c){return arguments.length?(l=c,n=mf[!m<<1|!l],a):l},a.clamp=function(c){return arguments.length?(m&&l?(v=!!c[0],p=!!c[1]):m?v=!!c:l&&(p=!!c),a):m&&l?[v,p]:m?v:l?p:null},a.extent=function(c){var b,d,e,f,k;return arguments.length?(m&&(b=c[0],d=c[1],l&&(b=b[0],d=d[0]),g=[b,d],m.invert&&(b=m(b),d=m(d)),b>d&&(k=b,b=d,d=k),(b!=r[0]||d!=r[1])&&(r=[b,d])),l&&(e=c[0],f=c[1],
m&&(e=e[1],f=f[1]),h=[e,f],l.invert&&(e=l(e),f=l(f)),e>f&&(k=e,e=f,f=k),(e!=q[0]||f!=q[1])&&(q=[e,f])),a):(m&&(g?(b=g[0],d=g[1]):(b=r[0],d=r[1],m.invert&&(b=m.invert(b),d=m.invert(d)),b>d&&(k=b,b=d,d=k))),l&&(h?(e=h[0],f=h[1]):(e=q[0],f=q[1],l.invert&&(e=l.invert(e),f=l.invert(f)),e>f&&(k=e,e=f,f=k))),m&&l?[[b,e],[d,f]]:m?[b,d]:l&&[e,f])},a.clear=function(){return a.empty()||(r=[0,0],q=[0,0],g=h=null),a},a.empty=function(){return!!m&&r[0]==r[1]||!!l&&q[0]==q[1]},x.rebind(a,k,"on")};var wi={n:"ns-resize",
e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mf=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],nf=S.format=Fg.timeFormat,Sg=nf.utc,Tg=Sg("%Y-%m-%dT%H:%M:%S.%LZ");nf.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?cf:Tg;cf.parse=function(a){a=new Date(a);return isNaN(a)?null:a};cf.toString=Tg.toString;S.second=gb(function(a){return new La(1E3*Math.floor(a/1E3))},function(a,c){a.setTime(a.getTime()+1E3*
Math.floor(c))},function(a){return a.getSeconds()});S.seconds=S.second.range;S.seconds.utc=S.second.utc.range;S.minute=gb(function(a){return new La(6E4*Math.floor(a/6E4))},function(a,c){a.setTime(a.getTime()+6E4*Math.floor(c))},function(a){return a.getMinutes()});S.minutes=S.minute.range;S.minutes.utc=S.minute.utc.range;S.hour=gb(function(a){var c=a.getTimezoneOffset()/60;return new La(36E5*(Math.floor(a/36E5-c)+c))},function(a,c){a.setTime(a.getTime()+36E5*Math.floor(c))},function(a){return a.getHours()});
S.hours=S.hour.range;S.hours.utc=S.hour.utc.range;S.month=gb(function(a){return a=S.day(a),a.setDate(1),a},function(a,c){a.setMonth(a.getMonth()+c)},function(a){return a.getMonth()});S.months=S.month.range;S.months.utc=S.month.utc.range;var Od=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],of=[[S.second,1],[S.second,5],[S.second,15],[S.second,30],[S.minute,1],[S.minute,5],[S.minute,15],[S.minute,30],[S.hour,1],[S.hour,3],[S.hour,6],[S.hour,12],
[S.day,1],[S.day,2],[S.week,1],[S.month,1],[S.month,3],[S.year,1]],xi=nf.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Ua]]),$h={range:function(a,c,b){return x.range(Math.ceil(a/b)*b,+c,b).map(ec)},floor:u,ceil:u};
of.year=S.year;S.scale=function(){return df(x.scale.linear(),of,xi)};var Ug=of.map(function(a){return[a[0].utc,a[1]]}),yi=Sg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Ua]]);Ug.year=S.year.utc;
S.scale.utc=function(){return df(x.scale.linear(),Ug,yi)};x.text=Pa(function(a){return a.responseText});x.json=function(a,c){return Oa(a,"application/json",ai,c)};x.html=function(a,c){return Oa(a,"text/html",bi,c)};x.xml=Pa(function(a){return a.responseXML});"function"==typeof define&&define.amd?define(x):"object"==typeof module&&module.exports&&(module.exports=x);this.d3=x}();if(function(b){function n(a,b){return new n.prototype.init(a,b)}Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;return function(){return b.apply(a)}});var t=0;b.fn.redactor=function(a){var g=[],e=Array.prototype.slice.call(arguments,1);return"string"==typeof a?this.each(function(){var f,c=b.data(this,"redactor");("-1"!==a.search(/\./)?(f=a.split("."),void 0!==c[f[0]]&&(f=c[f[0]][f[1]])):f=c[a],void 0!==c&&b.isFunction(f))?(f=f.apply(c,e),void 0!==f&&f!==c&&g.push(f)):b.error('No such method "'+
a+'" for Redactor')}):this.each(function(){b.data(this,"redactor",{});b.data(this,"redactor",n(this,a))}),0===g.length?this:1===g.length?g[0]:g};b.Redactor=n;b.Redactor.VERSION="2.10";b.Redactor.modules="air autosave block buffer build button caret clean code core detect dropdown events file focus image indent inline insert keydown keyup lang line link linkify list marker modal observe offset paragraphize paste placeholder progress selection shortcuts storage toolbar upload uploads3 utils browser".split(" ");
b.Redactor.settings={};b.Redactor.opts={animation:!1,lang:"en",direction:"ltr",spellcheck:!0,overrideStyles:!0,stylesClass:!1,scrollTarget:document,focus:!1,focusEnd:!1,clickToEdit:!1,structure:!1,tabindex:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:!1,callbacks:{},placeholder:!1,linkify:!0,enterKey:!0,pastePlainText:!1,pasteImages:!0,pasteLinks:!0,pasteBlockTags:"pre h1 h2 h3 h4 h5 h6 table tbody thead tfoot th tr td ul ol li blockquote p figure figcaption".split(" "),pasteInlineTags:"br strong ins code del span samp kbd sup sub mark var cite small b u em i".split(" "),
preClass:!1,preSpaces:4,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveFields:!1,imageUpload:null,imageUploadParam:"file",imageUploadFields:!1,imageUploadForms:!1,imageTag:"figure",imageEditable:!0,imageCaption:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",dragImageUpload:!0,multipleImageUpload:!0,clipboardImageUpload:!0,fileUpload:null,fileUploadParam:"file",fileUploadFields:!1,fileUploadForms:!1,dragFileUpload:!0,s3:!1,linkNewTab:!1,linkTooltip:!0,linkNofollow:!1,linkSize:30,
linkValidation:!0,pasteLinkTarget:!1,videoContainerClass:"video-container",toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarOverflow:!1,air:!1,airWidth:!1,formatting:"p blockquote pre h1 h2 h3 h4 h5 h6".split(" "),formattingAdd:!1,buttons:"format bold italic deleted lists image file link horizontalrule".split(" "),buttonsTextLabeled:!1,buttonsHide:[],buttonsHideOnMobile:[],script:!0,removeNewlines:!1,removeComments:!0,replaceTags:{b:"strong",
i:"em",strike:"del"},keepStyleAttr:[],keepInlineOnEnter:!1,shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},
shortcutsAdd:!1,activeButtons:["deleted","italic","bold"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",u:"underline",strike:"deleted"},langs:{en:{format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U",lists:"Lists","link-insert":"Insert link","link-edit":"Edit link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",
cancel:"Cancel",close:"Close",insert:"Insert",save:"Save","delete":"Delete",text:"Text",edit:"Edit",title:"Title",general:"General",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line","upload-label":"Drop file here or ",caption:"Caption",
upload:"Upload",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center","accessibility-help-label":"Rich text editor"}},type:"textarea",inline:!1,inlineTags:"a span strong strike b u em i code del ins samp kbd sup sub mark var cite small".split(" "),blockTags:"pre ul ol li p h1 h2 h3 h4 h5 h6 dl dt dd div td blockquote output figcaption figure address section header footer aside article iframe".split(" "),paragraphize:!0,paragraphizeBlocks:"table div pre form ul ol h1 h2 h3 h4 h5 h6 dl blockquote figcaption address section header footer aside article object style script iframe select input textarea button option map area math hr fieldset legend hgroup nav figure details menu summary p".split(" "),
emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",emptyHtmlRendered:b("").html("\u200b").html(),imageTypes:["image/png","image/jpeg","image/gif"],userAgent:navigator.userAgent.toLowerCase(),observe:{dropdowns:[]},regexps:{linkyoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,linkvimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,linkvimeochannel:/https?:\/\/(www\.)?vimeo.com\/channels\/[^\/]+\/(\d+)($|\/)/,
linkimage:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi}};n.fn=b.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(a,g){if(this.$element=b(a),this.uuid=t++,this.sBuffer=[],this.sRebuffer=[],this.loadOptions(g),this.loadModules(),this.opts.clickToEdit&&!this.$element.hasClass("redactor-click-to-edit"))return this.loadToEdit(g);
this.$element.hasClass("redactor-click-to-edit")&&this.$element.removeClass("redactor-click-to-edit");this.reIsBlock=new RegExp("^("+this.opts.blockTags.join("|").toUpperCase()+")$","i");this.reIsInline=new RegExp("^("+this.opts.inlineTags.join("|").toUpperCase()+")$","i");this.opts.dragImageUpload=null!==this.opts.imageUpload&&this.opts.dragImageUpload;this.opts.dragFileUpload=null!==this.opts.fileUpload&&this.opts.dragFileUpload;this.formatting={};this.lang.load();b.extend(this.opts.shortcuts,this.opts.shortcutsAdd);
this.$editor=this.$element;this.detectType();this.core.callback("start");this.core.callback("startToEdit");this.start=!0;this.build.start()},detectType:function(){this.build.isInline()||this.opts.inline?this.opts.type="inline":this.build.isTag("DIV")?this.opts.type="div":this.build.isTag("PRE")&&(this.opts.type="pre")},loadToEdit:function(a){this.$element.on("click.redactor-click-to-edit",b.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},initToEdit:function(a){b.extend(a.callbacks,
{startToEdit:function(){this.insert.node(this.marker.get(),!1)},initToEdit:function(){this.selection.restore();this.clickToCancelStorage=this.code.get();b(this.opts.clickToCancel).off(".redactor-click-to-edit");b(this.opts.clickToCancel).show().on("click.redactor-click-to-edit",b.proxy(function(g){g.preventDefault();this.core.destroy();this.events.syncFire=!1;this.$element.html(this.clickToCancelStorage);this.core.callback("cancel",this.clickToCancelStorage);this.events.syncFire=!0;this.clickToCancelStorage=
"";b(this.opts.clickToCancel).hide();b(this.opts.clickToSave).hide();this.$element.on("click.redactor-click-to-edit",b.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},this));b(this.opts.clickToSave).off(".redactor-click-to-edit");b(this.opts.clickToSave).show().on("click.redactor-click-to-edit",b.proxy(function(g){g.preventDefault();this.core.destroy();this.core.callback("save",this.code.get());b(this.opts.clickToCancel).hide();b(this.opts.clickToSave).hide();
this.$element.on("click.redactor-click-to-edit",b.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},this))}});this.$element.redactor(a);this.$element.off(".redactor-click-to-edit")},loadOptions:function(a){var g={};void 0!==b.Redactor.settings.namespace?this.$element.hasClass(b.Redactor.settings.namespace)&&(g=b.Redactor.settings):g=b.Redactor.settings;this.opts=b.extend({},b.Redactor.opts,this.$element.data(),a);this.opts=b.extend({},this.opts,g)},getModuleMethods:function(a){return Object.getOwnPropertyNames(a).filter(function(b){return"function"==
typeof a[b]})},loadModules:function(){for(var a=b.Redactor.modules.length,g=0;g<a;g++)this.bindModuleMethods(b.Redactor.modules[g])},bindModuleMethods:function(a){if(void 0!==this[a]){this[a]=this[a]();for(var b=this.getModuleMethods(this[a]),e=b.length,f=0;f<e;f++)this[a][b[f]]=this[a][b[f]].bind(this)}},air:function(){return{enabled:!1,collapsed:function(){this.opts.air&&this.selection.get().collapseToStart()},collapsedEnd:function(){this.opts.air&&this.selection.get().collapseToEnd()},build:function(){this.detect.isMobile()||
(this.button.hideButtons(),this.button.hideButtonsOnMobile(),0!==this.opts.buttons.length&&(this.$air=this.air.createContainer(),!1!==this.opts.airWidth&&this.$air.css("width",this.opts.airWidth),this.air.append(),this.button.$toolbar=this.$air,this.button.setFormatting(),this.button.load(this.$air),this.core.editor().on("mouseup.redactor",this,b.proxy(function(a){""!==this.selection.text()&&this.air.show(a)},this))))},append:function(){this.$air.appendTo("body")},createContainer:function(){return b("<ul>").addClass("redactor-air").attr({id:"redactor-air-"+
this.uuid,role:"toolbar"}).hide()},show:function(a){this.selection.saveInstant();b(".redactor-air").hide();var g=0,e=this.$air.innerWidth();b(window).width()<a.clientX+e&&(g=200);this.$air.css({left:a.clientX-g+"px",top:a.clientY+10+b(document).scrollTop()+"px"}).show();this.air.enabled=!0;this.air.bindHide()},bindHide:function(){b(document).on("mousedown.redactor-air."+this.uuid,b.proxy(function(a){var g=b(a.target).closest(".redactor-dropdown").length;0===b(a.target).closest(this.$air).length&&
0===g&&!1!==this.air.hide(a)&&this.marker.remove()},this)).on("keydown.redactor-air."+this.uuid,b.proxy(function(a){var g=a.which;(this.utils.isRedactorParent(a.target)||b(a.target).hasClass("redactor-in"))&&0===b(a.target).closest("#redactor-modal").length&&(g===this.keyCode.ESC?this.selection.get().collapseToStart():g===this.keyCode.BACKSPACE||g===this.keyCode.DELETE?(g=this.selection.get(),this.selection.range(g).deleteContents()):g===this.keyCode.ENTER&&this.selection.get().collapseToEnd(),this.air.enabled?
this.air.hide(a):this.selection.get().collapseToStart())},this))},hide:function(a){if(a.ctrlKey||a.metaKey||a.shiftKey&&a.altKey)return!1;this.button.setInactiveAll();this.$air.fadeOut(100);this.air.enabled=!1;b(document).off("mousedown.redactor-air."+this.uuid);b(document).off("keydown.redactor-air."+this.uuid)}}},autosave:function(){return{enabled:!1,html:!1,init:function(){this.opts.autosave&&(this.autosave.enabled=!0,this.autosave.name=this.opts.autosaveName?this.opts.autosaveName:this.$textarea.attr("name"))},
is:function(){return this.autosave.enabled},send:function(){if(this.opts.autosave&&(this.autosave.source=this.code.get(),this.autosave.html!==this.autosave.source)){var a={};a.name=this.autosave.name;a[this.autosave.name]=this.autosave.source;a=this.autosave.getHiddenFields(a);b.ajax({url:this.opts.autosave,type:"post",data:a}).done(this.autosave.success)}},getHiddenFields:function(a){return!1===this.opts.autosaveFields||"object"!=typeof this.opts.autosaveFields?a:(b.each(this.opts.autosaveFields,
b.proxy(function(g,e){null!==e&&0===e.toString().indexOf("#")&&(e=b(e).val());a[g]=e},this)),a)},success:function(a){var b;try{b=JSON.parse(a)}catch(e){b=a}this.core.callback(void 0===b.error?"autosave":"autosaveError",this.autosave.name,b);this.autosave.html=this.autosave.source},disable:function(){this.autosave.enabled=!1;clearInterval(this.autosaveTimeout)}}},block:function(){return{format:function(a,g,e,f){if(a="quote"===a?"blockquote":a,this.block.tags="p blockquote pre h1 h2 h3 h4 h5 h6 div figure".split(" "),
-1!==b.inArray(a,this.block.tags))return"p"===a&&void 0===g&&(g="class"),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.block.formatCollapsed(a,g,e,f):this.block.formatUncollapsed(a,g,e,f)},formatCollapsed:function(a,g,e,f){this.selection.save();var c=this.selection.block(),h=c.tagName.toLowerCase();if(-1===b.inArray(h,this.block.tags))return void this.selection.restore();var k=!1;h===a&&void 0===g&&(a="p",k=!0);k&&(this.block.removeAllClass(),this.block.removeAllAttr());
"blockquote"===h&&this.utils.isEndOfElement(c)?(this.marker.remove(),h=document.createElement("p"),h.innerHTML=this.opts.invisibleSpace,b(c).after(h),this.caret.start(h),c=b(c).children().last(),0!==c.length&&"BR"===c[0].tagName&&c.remove()):h=this.utils.replaceToTag(c,a);if("object"==typeof g){f=e;for(var m in g)h=this.block.setAttr(h,m,g[m],f)}else h=this.block.setAttr(h,g,e,f);return"pre"===a&&1===h.length&&b(h).html(b.trim(b(h).html())),this.selection.restore(),this.block.removeInlineTags(h),
h},formatUncollapsed:function(a,g,e,f){this.selection.save();var c=[],h=this.selection.blocks();h[0]&&(b(h[0]).hasClass("redactor-in")||b(h[0]).hasClass("redactor-box"))&&(h=this.core.editor().find(this.opts.blockTags.join(", ")));for(var k=h.length,m=0;m<k;m++){var d=h[m].tagName.toLowerCase();if(-1!==b.inArray(d,this.block.tags)&&"figure"!==d){d=this.utils.replaceToTag(h[m],a);if("object"==typeof g){f=e;for(var l in g)d=this.block.setAttr(d,l,g[l],f)}else d=this.block.setAttr(d,g,e,f);c.push(d);
this.block.removeInlineTags(d)}}if(this.selection.restore(),"pre"===a&&0!==c.length){var q=c[0];b.each(c,function(a,c){0!==a&&(b(q).append("\n"+b.trim(c.html())),b(c).remove())});c=[];c.push(q)}return c},removeInlineTags:function(a){a=a[0]||a;var g=this.opts.inlineTags;if(-1!==b.inArray(a.tagName,"PRE H1 H2 H3 H4 H5 H6".split(" "))){if("PRE"!==a.tagName){var e=g.indexOf("a");g.splice(e,1)}b(a).find(g.join(",")).not(".redactor-selection-marker").contents().unwrap()}},setAttr:function(a,b,e,f){if(void 0===
b)return a;f=void 0===f?"replace":f;return"class"===b?this.block[f+"Class"](e,a):"remove"===f?this.block[f+"Attr"](b,a):"removeAll"===f?this.block[f+"Attr"](b,a):this.block[f+"Attr"](b,e,a)},getBlocks:function(a){if(a=void 0===a?this.selection.blocks():a,b(a).hasClass("redactor-box")){var g=[];a=this.core.editor().children();return b.each(a,b.proxy(function(a,b){this.utils.isBlock(b)&&g.push(b)},this)),g}return a},replaceClass:function(a,g){return b(this.block.getBlocks(g)).removeAttr("class").addClass(a)[0]},
toggleClass:function(a,g){return b(this.block.getBlocks(g)).toggleClass(a)[0]},addClass:function(a,g){return b(this.block.getBlocks(g)).addClass(a)[0]},removeClass:function(a,g){return b(this.block.getBlocks(g)).removeClass(a)[0]},removeAllClass:function(a){return b(this.block.getBlocks(a)).removeAttr("class")[0]},replaceAttr:function(a,g,e){return e=this.block.removeAttr(a,e),b(e).attr(a,g)[0]},toggleAttr:function(a,g,e){e=this.block.getBlocks(e);var f=this,c=[];return b.each(e,function(e,k){b(k).attr(a)?
c.push(f.block.removeAttr(a,k)):c.push(f.block.addAttr(a,g,k))}),c},addAttr:function(a,g,e){return b(this.block.getBlocks(e)).attr(a,g)[0]},removeAttr:function(a,g){return b(this.block.getBlocks(g)).removeAttr(a)[0]},removeAllAttr:function(a){a=this.block.getBlocks(a);var g=[];return b.each(a,function(a,b){if(void 0!==b.attributes)for(;b.attributes.length;)b.removeAttribute(b.attributes[0].name);g.push(b)}),g}}},buffer:function(){return{set:function(a){void 0===a&&this.buffer.clear();void 0===a||
"undo"===a?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){var a=this.selection.saveInstant(),b=this.sBuffer[this.sBuffer.length-1],e=this.core.editor().html();void 0!==b&&b[0]===e||this.sBuffer.push([e,a])},setRedo:function(){var a=this.selection.saveInstant();this.sRebuffer.push([this.core.editor().html(),a])},add:function(){this.sBuffer.push([this.core.editor().html(),0])},undo:function(){if(0!==this.sBuffer.length){var a=this.sBuffer.pop();this.buffer.set("redo");this.core.editor().html(a[0]);
this.selection.restoreInstant(a[1]);this.selection.restore();this.observe.load();this.code.sync()}},redo:function(){if(0!==this.sRebuffer.length){var a=this.sRebuffer.pop();this.buffer.set("undo");this.core.editor().html(a[0]);this.selection.restoreInstant(a[1]);this.selection.restore();this.observe.load();this.code.sync()}},clear:function(){this.sRebuffer=[]}}},build:function(){return{start:function(){"inline"===this.opts.type?this.opts.type="inline":"div"===this.opts.type?(""===b.trim(this.$editor.html())&&
this.$editor.html(this.opts.emptyHtml),this.build.buildTextarea()):"textarea"===this.opts.type&&this.build.startTextarea();this.build.setIn();this.build.setId();this.build.enableEditor();this.build.setOptions();this.build.callEditor()},createContainerBox:function(){this.$box=b('<div class="redactor-box" role="application" />')},setIn:function(){this.core.editor().addClass("redactor-in")},setId:function(){var a="textarea"===this.opts.type?"redactor-uuid-"+this.uuid:this.$element.attr("id");this.core.editor().attr("id",
void 0===a?"redactor-uuid-"+this.uuid:a)},getName:function(){var a=this.$element.attr("name");return void 0===a?"content-"+this.uuid:a},buildTextarea:function(){this.$textarea=b("<textarea>");this.$textarea.attr("name",this.build.getName());this.$textarea.hide();this.$element.after(this.$textarea);this.build.setStartAttrs()},loadFromTextarea:function(){this.$editor=b("<div />");this.$textarea=this.$element;this.$element.attr("name",this.build.getName());this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element);
this.build.setStartAttrs();this.$editor.addClass("redactor-layer");this.opts.overrideStyles&&this.$editor.addClass("redactor-styles");this.$element.hide();this.$box.prepend('<span class="redactor-voice-label" id="redactor-voice-'+this.uuid+'" aria-hidden="false">'+this.lang.get("accessibility-help-label")+"</span>")},setStartAttrs:function(){this.$editor.attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},startTextarea:function(){this.build.createContainerBox();this.build.loadFromTextarea();
this.code.start(this.core.textarea().val());this.core.textarea().val(this.clean.onSync(this.$editor.html()))},isTag:function(a){return this.$element[0].tagName===a},isInline:function(){return!this.build.isTag("TEXTAREA")&&!this.build.isTag("DIV")&&!this.build.isTag("PRE")},enableEditor:function(){this.core.editor().attr({contenteditable:!0})},setOptions:function(){"inline"===this.opts.type&&(this.opts.enterKey=!1);"inline"!==this.opts.type&&"pre"!==this.opts.type||(this.opts.toolbarMobile=!1,this.opts.toolbar=
!1,this.opts.air=!1,this.opts.linkify=!1);this.core.editor().attr("spellcheck",this.opts.spellcheck);this.opts.structure&&this.core.editor().addClass("redactor-structure");this.opts.stylesClass&&this.core.editor().addClass(this.opts.stylesClass);"textarea"===this.opts.type&&(this.core.box().attr("dir",this.opts.direction),this.core.editor().attr("dir",this.opts.direction),this.opts.tabindex&&this.core.editor().attr("tabindex",this.opts.tabindex),this.opts.minHeight?this.core.editor().css("min-height",
this.opts.minHeight):this.core.editor().css("min-height","40px"),this.opts.maxHeight&&this.core.editor().css("max-height",this.opts.maxHeight),this.opts.maxWidth&&this.core.editor().css({"max-width":this.opts.maxWidth,margin:"auto"}))},callEditor:function(){this.build.disableBrowsersEditing();this.events.init();this.build.setHelpers();(this.opts.toolbar||this.opts.air)&&(this.toolbarsButtons=this.button.init());this.opts.air?this.air.build():this.opts.toolbar&&this.toolbar.build();this.detect.isMobile()&&
this.opts.toolbarMobile&&this.opts.air&&(this.opts.toolbar=!0,this.toolbar.build());(this.opts.air||this.opts.toolbar)&&(this.core.editor().on("mouseup.redactor-observe."+this.uuid+" keyup.redactor-observe."+this.uuid+" focus.redactor-observe."+this.uuid+" touchstart.redactor-observe."+this.uuid,b.proxy(this.observe.toolbar,this)),this.core.element().on("blur.callback.redactor",b.proxy(function(){this.button.setInactiveAll()},this)));this.modal.templates();this.build.plugins();this.autosave.init();
this.code.html=this.code.cleaned(this.core.editor().html());this.core.callback("init");this.core.callback("initToEdit");this.storage.observe();this.start=!1},setHelpers:function(){this.opts.linkify&&this.linkify.format();this.placeholder.init();this.opts.focus?setTimeout(this.focus.start,100):this.opts.focusEnd&&setTimeout(this.focus.end,100)},disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",
!1,!1)}catch(a){}},plugins:function(){this.opts.plugins&&b.each(this.opts.plugins,b.proxy(function(a,g){var e=void 0!==RedactorPlugins&&void 0!==RedactorPlugins[g]?RedactorPlugins:n.fn;if(b.isFunction(e[g])){this[g]=e[g]();for(var e=this.getModuleMethods(this[g]),f=e.length,c=0;c<f;c++)this[g][e[c]]=this[g][e[c]].bind(this);if(void 0!==this[g].langs){e={};void 0!==this[g].langs[this.opts.lang]?e=this[g].langs[this.opts.lang]:void 0===this[g].langs[this.opts.lang]&&void 0!==this[g].langs.en&&(e=this[g].langs.en);
var h=this;b.each(e,function(a,c){void 0===h.opts.curLang[a]&&(h.opts.curLang[a]=c)})}b.isFunction(this[g].init)&&this[g].init()}},this))}}},button:function(){return{toolbar:function(){return void 0!==this.button.$toolbar&&this.button.$toolbar?this.button.$toolbar:this.$toolbar},init:function(){return{format:{title:this.lang.get("format"),icon:!0,dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{title:this.lang.get("code"),
func:"block.format"},h1:{title:this.lang.get("heading1"),func:"block.format"},h2:{title:this.lang.get("heading2"),func:"block.format"},h3:{title:this.lang.get("heading3"),func:"block.format"},h4:{title:this.lang.get("heading4"),func:"block.format"},h5:{title:this.lang.get("heading5"),func:"block.format"},h6:{title:this.lang.get("heading6"),func:"block.format"}}},bold:{title:this.lang.get("bold-abbr"),icon:!0,label:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic-abbr"),
icon:!0,label:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted-abbr"),icon:!0,label:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline-abbr"),icon:!0,label:this.lang.get("underline"),func:"inline.format"},lists:{title:this.lang.get("lists"),icon:!0,dropdown:{unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+
this.lang.get("outdent"),func:"indent.decrease",observe:{element:"li",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase",observe:{element:"li",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},ul:{title:"&bull; "+this.lang.get("bulletslist"),icon:!0,func:"list.toggle"},ol:{title:"1. "+this.lang.get("numberslist"),icon:!0,func:"list.toggle"},outdent:{title:this.lang.get("outdent"),
icon:!0,func:"indent.decrease"},indent:{title:this.lang.get("indent"),icon:!0,func:"indent.increase"},image:{title:this.lang.get("image"),icon:!0,func:"image.show"},file:{title:this.lang.get("file"),icon:!0,func:"file.show"},link:{title:this.lang.get("link"),icon:!0,dropdown:{link:{title:this.lang.get("link-insert"),func:"link.show",observe:{element:"a","in":{title:this.lang.get("link-edit")},out:{title:this.lang.get("link-insert")}}},unlink:{title:this.lang.get("unlink"),func:"link.unlink",observe:{element:"a",
out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},horizontalrule:{title:this.lang.get("horizontalrule"),icon:!0,func:"line.insert"}}},setFormatting:function(){b.each(this.toolbarsButtons.format.dropdown,b.proxy(function(a,g){-1===b.inArray(a,this.opts.formatting)&&delete this.toolbarsButtons.format.dropdown[a]},this))},hideButtons:function(){0!==this.opts.buttonsHide.length&&this.button.hideButtonsSlicer(this.opts.buttonsHide)},hideButtonsOnMobile:function(){this.detect.isMobile()&&
0!==this.opts.buttonsHideOnMobile.length&&this.button.hideButtonsSlicer(this.opts.buttonsHideOnMobile)},hideButtonsSlicer:function(a){b.each(a,b.proxy(function(a,b){var e=this.opts.buttons.indexOf(b);-1!==e&&this.opts.buttons.splice(e,1)},this))},load:function(a){this.button.buttons=[];b.each(this.opts.buttons,b.proxy(function(g,e){!this.toolbarsButtons[e]||"file"===e&&!this.file.is()||"image"===e&&!this.image.is()||a.append(b("<li>").append(this.button.build(e,this.toolbarsButtons[e])))},this))},
buildButtonTooltip:function(a,g){if(!this.opts.air&&!this.detect.isMobile()){var e=b("<span>");e.addClass("re-button-tooltip");e.html(g);var f=this,c=this.button.toolbar(),h=c.closest(".redactor-toolbar-box"),h=0===h.length?c:h;h.prepend(e);a.on("mouseover",function(){if(!b(this).hasClass("redactor-button-disabled")){var g=c.hasClass("toolbar-fixed-box")?a.offset():a.position(),g=f.opts.toolbarFixedTarget!==document?a.position():g,h=c.hasClass("toolbar-fixed-box")?a.position().top+f.opts.toolbarFixedTopOffset:
g.top,d=a.innerHeight(),l=a.innerWidth(),q=c.hasClass("toolbar-fixed-box")?"fixed":"absolute",q=f.opts.toolbarFixedTarget!==document?"absolute":q,n=f.opts.toolbarFixedTarget!==document?c.position().top:0;e.show();e.css({top:h+d+n+"px",left:g.left+l/2-e.innerWidth()/2+"px",position:q})}}).on("mouseout",function(){e.hide()})}},build:function(a,g){if(!1!==this.opts.toolbar){var e=void 0!==g.label?g.label:g.title,f=b('<a href="javascript:void(null);" alt="'+e+'" rel="'+a+'" />');if(f.addClass("re-button re-"+
a),f.attr({role:"button","aria-label":e,tabindex:"-1"}),void 0===g.icon||this.opts.buttonsTextLabeled)f.html(g.title);else{var c=b("<i>");c.addClass("re-icon-"+a);f.append(c);f.addClass("re-button-icon");this.button.buildButtonTooltip(f,e)}if((g.func||g.command||g.dropdown)&&this.button.setEvent(f,a,g),g.dropdown)f.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0),e=b('<ul class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+a+'" style="display: none;">'),
f.data("dropdown",e),this.dropdown.build(a,e,g.dropdown);return this.button.buttons.push(f),f}},getButtons:function(){return this.button.toolbar().find("a.re-button")},getButtonsKeys:function(){return this.button.buttons},setEvent:function(a,g,e){a.on("mousedown",b.proxy(function(b){if(b.preventDefault(),a.hasClass("redactor-button-disabled"))return!1;var c="func",f=e.func;return e.command?(c="command",f=e.command):e.dropdown&&(c="dropdown",f=!1),this.button.toggle(b,g,c,f),!1},this))},toggle:function(a,
b,e,f,c){!this.detect.isIe()&&this.detect.isDesktop()||(this.utils.freezeScroll(),a.returnValue=!1);"command"===e?this.inline.format(f):"dropdown"===e?this.dropdown.show(a,b):this.button.clickCallback(a,f,b,c);"dropdown"!==e&&this.dropdown.hideAll(!1);this.opts.air&&"dropdown"!==e&&this.air.hide(a);!this.detect.isIe()&&this.detect.isDesktop()||this.utils.unfreezeScroll()},clickCallback:function(a,g,e,f){var c;if(f=void 0===f?e:f,b.isFunction(g))g.call(this,e);else if("-1"!==g.search(/\./)){if(c=g.split("."),
void 0===this[c[0]])return;"object"==typeof f?this[c[0]][c[1]].apply(this,f):this[c[0]][c[1]].call(this,f)}else"object"==typeof f?this[g].apply(this,f):this[g].call(this,f);this.observe.buttons(a,e)},all:function(){return this.button.buttons},get:function(a){if(!1!==this.opts.toolbar)return this.button.toolbar().find("a.re-"+a)},set:function(a,b){if(!1!==this.opts.toolbar){var e=this.button.toolbar().find("a.re-"+a);return e.html(b).attr("aria-label",b),e}},add:function(a,g){if(!0!==this.button.isAdded(a))return b();
var e=this.button.build(a,{title:g});return this.button.toolbar().append(b("<li>").append(e)),e},addFirst:function(a,g){if(!0!==this.button.isAdded(a))return b();var e=this.button.build(a,{title:g});return this.button.toolbar().prepend(b("<li>").append(e)),e},addAfter:function(a,g,e){if(!0!==this.button.isAdded(g))return b();g=this.button.build(g,{title:e});a=this.button.get(a);return 0!==a.length?a.parent().after(b("<li>").append(g)):this.button.toolbar().append(b("<li>").append(g)),g},addBefore:function(a,
g,e){if(!0!==this.button.isAdded(g))return b();g=this.button.build(g,{title:e});a=this.button.get(a);return 0!==a.length?a.parent().before(b("<li>").append(g)):this.button.toolbar().append(b("<li>").append(g)),g},isAdded:function(a){a=this.opts.buttonsHideOnMobile.indexOf(a);return!(!1===this.opts.toolbar||-1!==a&&this.detect.isMobile())},setIcon:function(a,b){this.opts.buttonsTextLabeled||(a.html(b).addClass("re-button-icon"),this.button.buildButtonTooltip(a,a.attr("alt")))},changeIcon:function(a,
b){var e=this.button.get(a);0!==e.length&&e.find("i").removeAttr("class").addClass("re-icon-"+b)},addCallback:function(a,g){if(void 0!==a&&!1!==this.opts.toolbar){var e="dropdown"===g?"dropdown":"func",f=a.attr("rel");a.on("mousedown",b.proxy(function(c){if(a.hasClass("redactor-button-disabled"))return!1;this.button.toggle(c,f,e,g)},this))}},addDropdown:function(a,g){if(!1!==this.opts.toolbar){a.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var e=a.attr("rel");this.button.addCallback(a,
"dropdown");var f=b('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+e+'" style="display: none;">');return a.data("dropdown",f),g&&this.dropdown.build(e,f,g),f}},setActive:function(a){this.button.get(a).addClass("redactor-act")},setInactive:function(a){this.button.get(a).removeClass("redactor-act")},setInactiveAll:function(a){var b=this.button.toolbar().find("a.re-button");void 0!==a&&(b=b.not(".re-"+a));b.removeClass("redactor-act")},disable:function(a){this.button.get(a).addClass("redactor-button-disabled")},
enable:function(a){this.button.get(a).removeClass("redactor-button-disabled")},disableAll:function(a){var b=this.button.toolbar().find("a.re-button");void 0!==a&&(b=b.not(".re-"+a));b.addClass("redactor-button-disabled")},enableAll:function(){this.button.toolbar().find("a.re-button").removeClass("redactor-button-disabled")},remove:function(a){this.button.get(a).remove()}}},caret:function(){return{set:function(a,b,e){var f=this.core.editor().scrollTop();this.core.editor().focus();this.core.editor().scrollTop(f);
e=void 0===e?0:1;a=a[0]||a;b=b[0]||b;var f=this.selection.get(),c=this.selection.range(f);try{c.setStart(a,0),c.setEnd(b,e)}catch(h){}this.selection.update(f,c)},prepare:function(a){return this.detect.isFirefox()&&void 0!==this.start&&this.core.editor().focus(),a[0]||a},start:function(a){var g,e;if(a=this.caret.prepare(a)){if("BR"===a.tagName)return this.caret.before(a);var f=b(a).children().first(),c=this.utils.isInlineTag(a.tagName);""===a.innerHTML||c?this.caret.setStartEmptyOrInline(a,c):f&&0!==
f.length&&this.utils.isInlineTag(f[0].tagName)&&""===f.text()?this.caret.setStartEmptyOrInline(f[0],!0):(g=window.getSelection(),g.removeAllRanges(),e=document.createRange(),e.selectNodeContents(a),e.collapse(!0),g.addRange(e))}},setStartEmptyOrInline:function(a,g){var e=window.getSelection(),f=document.createRange(),c=document.createTextNode("\u200b");f.setStart(a,0);f.insertNode(c);f.setStartAfter(c);f.collapse(!0);e.removeAllRanges();e.addRange(f);g||this.core.editor().on("keydown.redactor-remove-textnode",
function(){b(c).remove();b(this).off("keydown.redactor-remove-textnode")})},end:function(a){var g,e;if(a=this.caret.prepare(a)){if("BR"!==a.tagName&&""===a.innerHTML)return this.caret.start(a);if("BR"===a.tagName){var f=document.createElement("span");return f.className="redactor-invisible-space",f.innerHTML="&#x200b;",b(a).after(f),g=window.getSelection(),g.removeAllRanges(),e=document.createRange(),e.setStartBefore(f),e.setEndBefore(f),g.addRange(e),void b(f).replaceWith(function(){return b(this).contents()})}if(a.lastChild&&
1===a.lastChild.nodeType)return this.caret.after(a.lastChild);g=window.getSelection();if(g.getRangeAt||g.rangeCount)try{e=g.getRangeAt(0),e.selectNodeContents(a),e.collapse(!1),g.removeAllRanges(),g.addRange(e)}catch(c){}}},after:function(a){var g,e;if(a=this.caret.prepare(a)){if("BR"===a.tagName)return this.caret.end(a);if(this.utils.isBlockTag(a.tagName))return g=this.caret.next(a),void(void 0===g?this.caret.end(a):("TABLE"===g.tagName?g=b(g).find("th, td").first()[0]:"UL"!==g.tagName&&"OL"!==g.tagName||
(g=b(g).find("li").first()[0]),this.caret.start(g)));var f=document.createTextNode("\u200b");g=window.getSelection();g.removeAllRanges();e=document.createRange();e.setStartAfter(a);e.insertNode(f);e.setStartAfter(f);e.collapse(!0);g.addRange(e)}},before:function(a){var g,e;if(a=this.caret.prepare(a)){if(this.utils.isBlockTag(a.tagName))return g=this.caret.prev(a),void(void 0===g?this.caret.start(a):("TABLE"===g.tagName?g=b(g).find("th, td").last()[0]:"UL"!==g.tagName&&"OL"!==g.tagName||(g=b(g).find("li").last()[0]),
this.caret.end(g)));g=window.getSelection();g.removeAllRanges();e=document.createRange();e.setStartBefore(a);e.collapse(!0);g.addRange(e)}},next:function(a){a=b(a).next();return a.hasClass("redactor-script-tag, redactor-selection-marker")?a.next()[0]:a[0]},prev:function(a){a=b(a).prev();return a.hasClass("redactor-script-tag, redactor-selection-marker")?a.prev()[0]:a[0]},offset:function(a){return this.offset.get(a)}}},clean:function(){return{onSet:function(a){a=this.clean.savePreCode(a);a=this.clean.saveFormTags(a);
this.opts.script&&(a=a.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,'<pre class="redactor-script-tag" $1>$2</pre>'));a=a.replace(/\$/g,"&#36;");a=a.replace(/<a href="(.*?[^>]?)\u00ae(.*?[^>]?)">/gi,'<a href="$1&reg$2">');a=a.replace(/<span id="selection-marker-1"(.*?[^>]?)>\u200b<\/span>/gi,"###marker1###");a=a.replace(/<span id="selection-marker-2"(.*?[^>]?)>\u200b<\/span>/gi,"###marker2###");var g=this;a=b("<div/>").html(b.parseHTML(a,document,!0));var e=this.opts.replaceTags;if(e){var f=
Object.keys(this.opts.replaceTags);a.find(f.join(",")).each(function(a,b){g.utils.replaceToTag(b,e[b.tagName.toLowerCase()])})}a.find("span, a").attr("data-redactor-span",!0);a.find(this.opts.inlineTags.join(",")).each(function(){var a=b(this);a.attr("style")&&a.attr("data-redactor-style-cache",a.attr("style"))});a=a.html();f="font html head link body meta applet".split(" ");return this.opts.script||f.push("script"),a=this.clean.stripTags(a,f),this.opts.removeComments&&(a=a.replace(/\x3c!--[\s\S]*?--\x3e/gi,
"")),a=this.paragraphize.load(a),a=a.replace("###marker1###",'<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>'),a=a.replace("###marker2###",'<span id="selection-marker-2" class="redactor-selection-marker">\u200b</span>'),-1!==a.search(/^(||\s||<br\s?\/?>||&nbsp;)$/i)?this.opts.emptyHtml:a},onGet:function(a){return this.clean.onSync(a)},onSync:function(a){if(a=a.replace(/\u200B/g,""),a=a.replace(/&#x200b;/gi,""),-1!==a.search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";
a=a.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>");a=a.replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,"");a=a.replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,"");a=a.replace(/<img(.*?)style="(.*?)opacity: 0\.5;(.*?)"(.*?)>/gi,'<img$1style="$2$3"$4>');var g=b("<div/>").html(b.parseHTML(a,document,!0));g.find('*[style=""]').removeAttr("style");g.find('*[class=""]').removeAttr("class");g.find('*[rel=""]').removeAttr("rel");
g.find('*[data-image=""]').removeAttr("data-image");g.find('*[alt=""]').removeAttr("alt");g.find('*[title=""]').removeAttr("title");g.find("*[data-redactor-style-cache]").removeAttr("data-redactor-style-cache");g.find(".redactor-invisible-space, .redactor-unlink").each(function(){b(this).contents().unwrap()});g.find("span, a").removeAttr("data-redactor-span data-redactor-style-cache").each(function(){0===this.attributes.length&&b(this).contents().unwrap()});g.find("img").removeAttr("rel");g.find(".redactor-selection-marker, #redactor-insert-marker").remove();
a=g.html();this.opts.script&&(a=a.replace(/<pre class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2\x3c/script>"));a=this.clean.restoreFormTags(a);a=a.replace(RegExp("<br\\s?/?></h","gi"),"</h");a=a.replace(RegExp("<br\\s?/?></li>","gi"),"</li>");a=a.replace(RegExp("</li><br\\s?/?>","gi"),"</li>");a=a.replace(/<pre>/gi,"<pre>\n");this.opts.preClass&&(a=a.replace(/<pre>/gi,'<pre class="'+this.opts.preClass+'">'));this.opts.linkNofollow&&(a=a.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,
"<a$1$2>"),a=a.replace(/<a(.*?[^>])>/gi,'<a$1 rel="nofollow">'));return b.each({"\u2122":"&trade;","\u00a9":"&copy;","\u2026":"&hellip;","\u2014":"&mdash;","\u2010":"&dash;"},function(b,f){a=a.replace(new RegExp(b,"g"),f)}),a=a.replace(/\n{2,}/g,"\n\n"),this.opts.removeNewlines&&(a=a.replace(/\r?\n/g,"")),a=this.core.callback("syncClean",a)},onPaste:function(a,g,e){!0!==e&&(a=a.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),a=a.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,
"$3"),a=a.replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>"),a=a.replace(/<span[^>]*(font-style: italic; font-weight: 700|font-weight: 700; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>"),a=a.replace(/<span[^>]*font-style: italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>"),a=a.replace(/<span[^>]*font-weight: bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>"),a=a.replace(/<span[^>]*font-weight: 700[^>]*>([\w\W]*?)<\/span>/gi,
"<b>$1</b>"),a=a.replace(/<o:p[^>]*>/gi,""),a=a.replace(/<\/o:p>/gi,""),this.clean.isHtmlMsWord(a)&&(a=this.clean.cleanMsWord(a)));if(a=b.trim(a),g.pre)this.opts.preSpaces&&(a=a.replace(/\t/g,Array(this.opts.preSpaces+1).join(" ")));else{if(0<=a.indexOf("<p")&&0<=a.indexOf("<br")){a=b("<div>").html(a);var f=this;a.find("p").each(function(){var a=b(this),e=b.trim(a.html().replace(/\n/g," "));0<=e.indexOf("<br")&&b.trim(f.clean.replaceBrToNl(e))&&a.html(e.replace(/\s*<br\s?\/?>\s*/gi,'<br data-keepbr="1">\n'))});
a=a.html()}a=this.clean.replaceBrToNl(a);a=this.clean.replaceNbspToSpaces(a);a=this.clean.removeTagsInsidePre(a)}return!0!==e&&(a=this.clean.removeEmptyInlineTags(a),!1===g.encode&&(a=a.replace(/&/g,"&amp;"),a=this.clean.convertTags(a,g),a=this.clean.getPlainText(a),a=this.clean.reconvertTags(a,g))),g.text&&(a=this.clean.replaceNbspToSpaces(a),a=this.clean.getPlainText(a)),g.lists&&(a=a.replace("\n","<br>")),g.encode&&(a=this.clean.encodeHtml(a)),g.paragraphize&&(a=a.replace(/ \n/g," "),a=a.replace(/\n /g,
" "),a=this.paragraphize.load(a),a=a.replace(/<p>\s*<\/p>/g,"")),a=a.replace(/<li>\s*<p>/g,"<li>"),a=a.replace(/<\/p>\s*<\/li>/g,"</li>"),g.pre||(a=a.replace(/\n|\r/g," ")),a},getCurrentType:function(a,b){var e=this.selection.blocks(),f={text:!1,encode:!1,paragraphize:!0,line:this.clean.isHtmlLine(a),blocks:this.clean.isHtmlBlocked(a),pre:!1,lists:!1,block:!0,inline:!0,links:!0,images:!0};return 1===e.length&&this.utils.isCurrentOrParent("h1 h2 h3 h4 h5 h6 a figcaption".split(" "))?(f.text=!0,f.paragraphize=
!1,f.inline=!1,f.images=!1,f.links=!1,f.line=!0):"inline"===this.opts.type||!1===this.opts.enterKey?(f.paragraphize=!1,f.block=!1,f.line=!0):1===e.length&&this.utils.isCurrentOrParent(["li"])?(f.lists=!0,f.block=!1,f.paragraphize=!1,f.images=!0):1===e.length&&this.utils.isCurrentOrParent(["th","td","blockquote"])?(f.block=!1,f.paragraphize=!1):("pre"===this.opts.type||1===e.length&&this.utils.isCurrentOrParent("pre"))&&(f.inline=!1,f.block=!1,f.encode=!0,f.pre=!0,f.paragraphize=!1,f.images=!1,f.links=
!1),!0===f.line&&(f.paragraphize=!1),!0===b&&(f.text=!1),f},isHtmlBlocked:function(a){var b=a.match(new RegExp("</("+this.opts.blockTags.join("|").toUpperCase()+")>","gi"));a=a.match(RegExp("<hr(.*?[^>])>","gi"));return null!==b||null!==a},isHtmlLine:function(a){if(this.clean.isHtmlBlocked(a))return!1;var b=a.match(/<br\s?\/?>/gi);a=a.match(/\n/gi);return!b&&!a},isHtmlMsWord:function(a){return a.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},removeEmptyInlineTags:function(a){var g=
this.opts.inlineTags,e=b("<div/>").html(b.parseHTML(a,document,!0)),f=this,c=e.find("span"),g=e.find(g.join(","));return g.removeAttr("style"),g.each(function(){var a=b(this).html();0===this.attributes.length&&f.utils.isEmpty(a)&&b(this).replaceWith(function(){return b(this).contents()})}),c.each(function(){b(this).html();0===this.attributes.length&&b(this).replaceWith(function(){return b(this).contents()})}),a=e.html(),a=a.replace("\x3c!--?php","<?php"),a=a.replace("\x3c!--?","<?"),a=a.replace("?--\x3e",
"?>"),e.remove(),a},cleanMsWord:function(a){a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,"");a=a.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"");a=a.replace(/\n/g," ");a=a.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n\n");var g=b("<div/>").html(a),e=!1,f=1,c=[];return g.find("p[style]").each(function(){var a=b(this).attr("style").match(/mso\-list\:l([0-9]+)\slevel([0-9]+)/);if(a){var k=parseInt(a[1]),a=parseInt(a[2]),m=b(this).html().match(/^[\w]+\./)?"ol":"ul",d=b("<li/>").html(b(this).html());if(d.html(d.html().replace(/^([\w\.]+)</,
"<")),d.find("span:first").remove(),1==a&&-1==b.inArray(k,c)){var l=b("<"+m+"/>").attr({"data-level":a,"data-list":k}).html(d);b(this).replaceWith(l);e=k;c.push(k)}else{if(a>f){for(var q=l=g.find('[data-level="'+f+'"][data-list="'+e+'"]'),n=f;n<a;n++)l=b("<"+m+"/>"),l.appendTo(q.find("li").last()),q=l;q.attr({"data-level":a,"data-list":k}).html(d)}else l=g.find('[data-level="'+a+'"][data-list="'+k+'"]').last(),l.append(d);f=a;e=k;b(this).remove()}}}),g.find("[data-level][data-list]").removeAttr("data-level data-list"),
a=g.html()},replaceNbspToSpaces:function(a){return a.replace(/&nbsp;/gi," ")},replaceBrToNl:function(a){return a.replace(/<br\s?\/?>/gi,"\n")},replaceNlToBr:function(a){return a.replace(/\n/g,"<br />")},convertTags:function(a,g){var e=b("<div>").html(a);e.find("iframe").remove();var f=e.find("a");if(f.removeAttr("style"),!1!==this.opts.pasteLinkTarget&&f.attr("target",this.opts.pasteLinkTarget),g.links&&this.opts.pasteLinks&&e.find("a").each(function(a,c){if(c.href){for(var b,d='##%%a href="'+c.href+
'"',e=0,f=c.attributes.length;e<f;e++)b=c.attributes.item(e),"href"!==b.name&&(d+=" "+b.name+'="'+b.value+'"');c.outerHTML=d+"%%##"+c.innerHTML+"##%%/a%%##"}}),a=e.html(),g.images&&this.opts.pasteImages&&(a=a.replace(/<img(.*?)src="(.*?)"(.*?[^>])>/gi,'##%%img$1src="$2"$3%%##')),this.opts.pastePlainText)return a;for(var e=g.lists?["ul","ol","li"]:this.opts.pasteBlockTags,e=g.block||g.lists?g.inline?e.concat(this.opts.pasteInlineTags):e:g.inline?this.opts.pasteInlineTags:[],f=e.length,c=0;c<f;c++)a=
a.replace(new RegExp("</"+e[c]+">","gi"),"###/"+e[c]+"###"),"td"===e[c]||"th"===e[c]?a=a.replace(new RegExp("<"+e[c]+'(.*?[^>])((colspan|rowspan)="(.*?[^>])")?(.*?[^>])>',"gi"),"###"+e[c]+" $2###"):this.utils.isInlineTag(e[c])?(a=a.replace(new RegExp("<"+e[c]+'([^>]*)class="([^>]*)"[^>]*>',"gi"),"###"+e[c]+' class="$2"###'),a=a.replace(new RegExp("<"+e[c]+'([^>]*)data-redactor-style-cache="([^>]*)"[^>]*>',"gi"),"###"+e[c]+' cache="$2"###'),a=a.replace(new RegExp("<"+e[c]+"[^>]*>","gi"),"###"+e[c]+
"###")):a=a.replace(new RegExp("<"+e[c]+"[^>]*>","gi"),"###"+e[c]+"###");return a},reconvertTags:function(a,b){if((b.links&&this.opts.pasteLinks||b.images&&this.opts.pasteImages)&&(a=a.replace(RegExp("##%%","gi"),"<"),a=a.replace(RegExp("%%##","gi"),">")),this.opts.pastePlainText)return a;var e;e=b.lists?["ul","ol","li"]:this.opts.pasteBlockTags;e=b.block||b.lists?b.inline?e.concat(this.opts.pasteInlineTags):e:b.inline?this.opts.pasteInlineTags:[];for(var f=e.length,c=0;c<f;c++)a=a.replace(new RegExp("###/"+
e[c]+"###","gi"),"</"+e[c]+">");for(c=0;c<f;c++)a=a.replace(new RegExp("###"+e[c]+"###","gi"),"<"+e[c]+">");for(c=0;c<f;c++)"td"===e[c]||"th"===e[c]?a=a.replace(new RegExp("###"+e[c]+"s?(.*?[^#])###","gi"),"<"+e[c]+"$1>"):this.utils.isInlineTag(e[c])&&(a=a.replace(new RegExp("###"+e[c]+' cache="(.*?[^#])"###',"gi"),"<"+e[c]+' style="$1"'+("span"===e[c]?' data-redactor-span="true"':"")+' data-redactor-style-cache="$1">'),a=a.replace(new RegExp("###"+e[c]+"s?(.*?[^#])###","gi"),"<"+e[c]+"$1>"));return a},
cleanPre:function(a){a=void 0===a?b(this.selection.block()).closest("pre",this.core.editor()[0]):a;b(a).find("br").replaceWith(function(){return document.createTextNode("\n")});b(a).find("p").replaceWith(function(){return b(this).contents()})},removeTagsInsidePre:function(a){var g=b("<div />").append(a);return g.find("pre").replaceWith(function(){var a=b(this).html();return a=a.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n"),a=a.replace(/(<([^>]+)>)/gi,""),b("<pre />").append(a)}),a=g.html(),
g.remove(),a},getPlainText:function(a){a=a.replace(/\x3c!--[\s\S]*?--\x3e/gi,"");a=a.replace(/<style[\s\S]*?style>/gi,"");a=a.replace(/<p><\/p>/g,"");a=a.replace(/<\/div>|<\/li>|<\/td>/gi,"\n");a=a.replace(/<\/p>/gi,"\n\n");a=a.replace(/<\/H[1-6]>/gi,"\n\n");var g=document.createElement("div");return g.innerHTML=a,a=g.textContent||g.innerText,b.trim(a)},savePreCode:function(a){return a=this.clean.savePreFormatting(a),a=this.clean.saveCodeFormatting(a),this.clean.restoreSelectionMarkers(a)},savePreFormatting:function(a){var g=
a.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return null===g?a:(b.each(g,b.proxy(function(b,f){var c,e,g,m=[],d=!1;f.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>/i)?(m=f.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>([\w\W]*?)<\/code>(([\n\r\s]+)?)<\/pre>/i),d=!0,c=m[5],e=m[1],g=m[4]):(m=f.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i),c=m[2],e=m[1]);c=c.replace(/<br\s?\/?>/g,"\n");c=c.replace(/&nbsp;/g," ");this.opts.preSpaces&&(c=c.replace(/\t/g,Array(this.opts.preSpaces+1).join(" ")));c=this.clean.encodeEntities(c);
c=c.replace(/\$/g,"&#36;");a=d?a.replace(f,"<pre"+e+"><code"+g+">"+c+"</code></pre>"):a.replace(f,"<pre"+e+">"+c+"</pre>")},this)),a)},saveCodeFormatting:function(a){var g=a.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);return null===g?a:(b.each(g,b.proxy(function(b,f){var c=f.match(/<code(.*?)>([\w\W]*?)<\/code>/i);c[2]=c[2].replace(/&nbsp;/g," ");c[2]=this.clean.encodeEntities(c[2]);c[2]=c[2].replace(/\$/g,"&#36;");a=a.replace(f,"<code"+c[1]+">"+c[2]+"</code>")},this)),a)},restoreSelectionMarkers:function(a){return a.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot;&gt;\u200b&lt;\/span&gt;/g,
'<span id="selection-marker-$1" class="redactor-selection-marker">\u200b</span>')},saveFormTags:function(a){return a.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(a){return a.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")},encodeHtml:function(a){return a=a.replace(/\u201d/g,'"'),a=a.replace(/\u201c/g,'"'),a=a.replace(/\u2018/g,"'"),a=a.replace(/\u2019/g,"'"),this.clean.encodeEntities(a)},
encodeEntities:function(a){return a=String(a).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},stripTags:function(a,b){return void 0===b?a.replace(/(<([^>]+)>)/gi,""):a.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(a,f){return-1===b.indexOf(f.toLowerCase())?a:""})},removeMarkers:function(a){return a.replace(/<span(.*?[^>]?)class="redactor-selection-marker"(.*?[^>]?)>([\w\W]*?)<\/span>/gi,
"")},removeSpaces:function(a){return a=b.trim(a),a=a.replace(/\n/g,""),a=a.replace(/[\t]*/g,""),a=a.replace(/\n\s*\n/g,"\n"),a=a.replace(/^[\s\n]*/g," "),a=a.replace(/[\s\n]*$/g," "),a=a.replace(/>\s{2,}</g,"> <"),a=a.replace(/\n\n/g,"\n"),a.replace(/\u200B/g,"")},removeSpacesHard:function(a){return a=b.trim(a),a=a.replace(/\n/g,""),a=a.replace(/[\t]*/g,""),a=a.replace(/\n\s*\n/g,"\n"),a=a.replace(/^[\s\n]*/g,""),a=a.replace(/[\s\n]*$/g,""),a=a.replace(/>\s{2,}</g,"><"),a=a.replace(/\n\n/g,"\n"),
a.replace(/\u200B/g,"")},normalizeCurrentHeading:function(){var a=this.selection.block();this.utils.isCurrentOrParentHeader()&&a&&a.normalize()}}},code:function(){return{syncFire:!0,html:!1,start:function(a){a=b.trim(a);a=a.replace(/^(<span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span>)/,"");"textarea"===this.opts.type?a=this.clean.onSet(a):"div"===this.opts.type&&""===a&&(a=this.opts.emptyHtml);a=a.replace(/<p><span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span><\/p>/,
"");this.events.stopDetectChanges();this.core.editor().html(a);this.observe.load();this.events.startDetectChanges()},set:function(a,g){a=b.trim(a);g=g||{};g.start&&(this.start=g.start);"textarea"===this.opts.type?a=this.clean.onSet(a):"div"===this.opts.type&&""===a&&(a=this.opts.emptyHtml);this.core.editor().html(a);"textarea"===this.opts.type&&this.code.sync();this.placeholder.enable()},get:function(){if("textarea"===this.opts.type)return this.core.textarea().val();var a=this.core.editor().html();
return this.clean.onGet(a)},sync:function(){if(this.code.syncFire){var a=this.core.editor().html(),g=this.code.cleaned(a);if(!this.code.isSync(g)){if(this.code.html=g,"textarea"!==this.opts.type)return this.core.callback("sync",a),void this.core.callback("change",a);"textarea"===this.opts.type&&setTimeout(b.proxy(function(){this.code.startSync(a)},this),10)}}},startSync:function(a){a=this.core.callback("syncBefore",a);a=this.clean.onSync(a);this.core.textarea().val(a);this.core.callback("sync",a);
!1===this.start&&this.core.callback("change",a);this.start=!1},isSync:function(a){var b=!1!==this.code.html&&this.code.html;return!1!==b&&b===a},cleaned:function(a){return a=a.replace(/\u200B/g,""),this.clean.removeMarkers(a)}}},core:function(){return{id:function(){return this.$editor.attr("id")},element:function(){return this.$element},editor:function(){return void 0===this.$editor?b():this.$editor},textarea:function(){return this.$textarea},box:function(){return"textarea"===this.opts.type?this.$box:
this.$element},toolbar:function(){return!!this.$toolbar&&this.$toolbar},air:function(){return!!this.$air&&this.$air},object:function(){return b.extend({},this)},structure:function(){this.core.editor().toggleClass("redactor-structure")},addEvent:function(a){this.core.event=a},getEvent:function(){return this.core.event},callback:function(a,g,e){var f=!1,c=b._data(this.core.element()[0],"events");if(void 0!==c&&void 0!==c[a])for(var h=c[a].length,k=0;k<h;k++)if("callback.redactor"===c[a][k].namespace)var f=
c[a][k].handler,m=void 0===e?[g]:[g,e],f=void 0===m?f.call(this,g):f.call(this,g,m);if(f)return f;if(void 0===this.opts.callbacks[a])return void 0===e?g:e;a=this.opts.callbacks[a];return b.isFunction(a)?void 0===e?a.call(this,g):a.call(this,g,e):void 0===e?g:e},destroy:function(){this.opts.destroyed=!0;this.core.callback("destroy");this.placeholder.destroy();this.progress.destroy();b("#redactor-voice-"+this.uuid).remove();this.core.editor().removeClass("redactor-in redactor-styles redactor-structure redactor-layer-img-edit");
this.core.editor().off("keydown.redactor-remove-textnode");this.core.editor().off(".redactor-observe."+this.uuid);this.$element.off(".redactor").removeData("redactor");this.core.editor().off(".redactor");b(document).off(".redactor-dropdown");b(document).off(".redactor-air."+this.uuid);b(document).off("mousedown.redactor-blur."+this.uuid);b(document).off("mousedown.redactor."+this.uuid);b(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid);b(window).off(".redactor-toolbar."+
this.uuid);b(window).off("touchmove.redactor."+this.uuid);b("body").off("scroll.redactor."+this.uuid);b(this.opts.toolbarFixedTarget).off("scroll.redactor."+this.uuid);var a=this;!1!==this.opts.plugins&&b.each(this.opts.plugins,function(e,f){b(window).off(".redactor-plugin-"+f);b(document).off(".redactor-plugin-"+f);b("body").off(".redactor-plugin-"+f);a.core.editor().off(".redactor-plugin-"+f)});this.$element.off("click.redactor-click-to-edit");this.$element.removeClass("redactor-click-to-edit");
this.core.editor().removeClass("redactor-layer");this.core.editor().removeAttr("contenteditable");var g=this.code.get();this.opts.toolbar&&this.$toolbar&&this.$toolbar.find("a").each(function(){var a=b(this);a.data("dropdown")&&(a.data("dropdown").remove(),a.data("dropdown",{}))});"textarea"===this.opts.type&&(this.$box.after(this.$element),this.$box.remove(),this.$element.val(g).show());this.opts.air&&this.$air.remove();this.opts.toolbar&&this.$toolbar&&this.$toolbar.remove();this.$modalBox&&this.$modalBox.remove();
this.$modalOverlay&&this.$modalOverlay.remove();b(".redactor-link-tooltip").remove();clearInterval(this.autosaveTimeout)}}},detect:function(){return{isWebkit:function(){return/webkit/.test(this.opts.userAgent)},isFirefox:function(){return-1<this.opts.userAgent.indexOf("firefox")},isIe:function(a){if(document.documentMode||/Edge/.test(navigator.userAgent))return"edge";var b;return b=RegExp("msie"+(isNaN(a)?"":"\\s"+a),"i").test(navigator.userAgent),b||(b=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),
b},isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isIpad:function(){return/iPad/.test(navigator.userAgent)}}},dropdown:function(){return{active:!1,button:!1,key:!1,position:[],getDropdown:function(){return this.dropdown.active},build:function(a,g,e){e=this.dropdown.buildFormatting(a,e);b.each(e,b.proxy(function(b,c){var e=this.dropdown.buildItem(b,c);this.observe.addDropdown(e,
b,c);g.attr("rel",a).append(e)},this))},buildFormatting:function(a,g){return"format"!==a||!1===this.opts.formattingAdd?g:(b.each(this.opts.formattingAdd,b.proxy(function(a,b){var c=this.utils.isBlockTag(b.args[0])?"block":"inline";g[a]={func:"block"===c?"block.format":"inline.format",args:b.args,title:b.title}},this)),g)},buildItem:function(a,g){var e=b("<li />");if(void 0!==g.classname&&e.addClass(g.classname),-1!==a.search(/^divider/i))return e.addClass("redactor-dropdown-divider"),e;var f=b('<a href="#" class="redactor-dropdown-'+
a+'" role="button" />'),c=b("<span />").html(g.title);return f.append(c),f.on("mousedown",b.proxy(function(c){c.preventDefault();this.dropdown.buildClick(c,a,g)},this)),e.append(f),e},buildClick:function(a,g,e){if(!b(a.target).hasClass("redactor-dropdown-link-inactive")){var f=this.dropdown.buildCommand(e);void 0!==e.args?this.button.toggle(a,g,f.type,f.callback,e.args):this.button.toggle(a,g,f.type,f.callback)}},buildCommand:function(a){var b={};return b.type="func",b.callback=a.func,a.command?(b.type=
"command",b.callback=a.command):a.dropdown&&(b.type="dropdown",b.callback=a.dropdown),b},show:function(a,g){if(this.detect.isDesktop()&&this.core.editor().focus(),this.dropdown.hideAll(!1,g),this.dropdown.key=g,this.dropdown.button=this.button.get(this.dropdown.key),this.dropdown.button.hasClass("dropact"))return void this.dropdown.hide();this.dropdown.active=this.dropdown.button.data("dropdown").appendTo(document.body);this.core.callback("dropdownShow",{dropdown:this.dropdown.active,key:this.dropdown.key,
button:this.dropdown.button});this.button.setActive(this.dropdown.key);this.dropdown.button.addClass("dropact");this.dropdown.getButtonPosition();this.button.toolbar().hasClass("toolbar-fixed-box")&&this.detect.isDesktop()?this.dropdown.showIsFixedToolbar():this.dropdown.showIsUnFixedToolbar();this.detect.isDesktop()&&!this.detect.isFirefox()&&(this.dropdown.active.on("mouseover.redactor-dropdown",b.proxy(this.utils.disableBodyScroll,this)),this.dropdown.active.on("mouseout.redactor-dropdown mousedown.redactor-dropdown",
b.proxy(this.utils.enableBodyScroll,this)));a.stopPropagation()},showIsFixedToolbar:function(){var a=this.dropdown.button.position().top+this.dropdown.button.innerHeight()+this.opts.toolbarFixedTopOffset,g="fixed";this.opts.toolbarFixedTarget!==document&&(a=this.dropdown.button.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,g="absolute");this.dropdown.active.css({position:g,left:this.dropdown.position.left+"px",top:a+"px"}).show();this.dropdown.active.redactorAnimation("slideDown",
{duration:.2},b.proxy(function(){this.dropdown.enableCallback();this.dropdown.enableEvents()},this))},showIsUnFixedToolbar:function(){this.dropdown.active.css({position:"absolute",left:this.dropdown.position.left+"px",top:this.dropdown.button.innerHeight()+this.dropdown.position.top+"px"}).show();this.dropdown.active.redactorAnimation(this.opts.animation?"slideDown":"show",{duration:.2},b.proxy(function(){this.dropdown.enableCallback();this.dropdown.enableEvents()},this))},enableEvents:function(){b(document).on("mousedown.redactor-dropdown",
b.proxy(this.dropdown.hideAll,this));this.core.editor().on("touchstart.redactor-dropdown",b.proxy(this.dropdown.hideAll,this));b(document).on("keyup.redactor-dropdown",b.proxy(this.dropdown.closeHandler,this))},enableCallback:function(){this.core.callback("dropdownShown",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button})},getButtonPosition:function(){this.dropdown.position=this.dropdown.button.offset();var a=this.dropdown.active.width();this.dropdown.position.left+
a>b(document).width()&&(this.dropdown.position.left=Math.max(0,this.dropdown.position.left-a+parseInt(this.dropdown.button.innerWidth())))},closeHandler:function(a){a.which===this.keyCode.ESC&&(this.dropdown.hideAll(a),this.core.editor().focus())},hideAll:function(a,g){if(this.detect.isDesktop()&&this.utils.enableBodyScroll(),!1===a||0===b(a.target).closest(".redactor-dropdown").length){var e=void 0===g?this.button.toolbar().find("a.dropact"):this.button.toolbar().find("a.dropact").not(".re-"+g),
f=void 0===g?b(".redactor-dropdown-"+this.uuid):b(".redactor-dropdown-"+this.uuid).not(".redactor-dropdown-box-"+g);0!==f.length&&(b(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),b.each(f,b.proxy(function(a,e){var c=b(e);this.core.callback("dropdownHide",c);c.hide();c.off("mouseover mouseout").off(".redactor-dropdown")},this)),e.removeClass("redactor-act dropact"))}},hide:function(){!1!==this.dropdown.active&&(this.detect.isDesktop()&&this.utils.enableBodyScroll(),
this.dropdown.active.redactorAnimation(this.opts.animation?"slideUp":"hide",{duration:.2},b.proxy(function(){b(document).off(".redactor-dropdown");this.core.editor().off(".redactor-dropdown");this.dropdown.hideOut()},this)))},hideOut:function(){this.core.callback("dropdownHide",this.dropdown.active);this.dropdown.button.removeClass("redactor-act dropact");this.dropdown.active.off("mouseover mouseout").off(".redactor-dropdown");this.dropdown.button=!1;this.dropdown.key=!1;this.dropdown.active=!1}}},
events:function(){return{focused:!1,blured:!0,dropImage:!1,stopChanges:!1,stopDetectChanges:function(){this.events.stopChanges=!0},startDetectChanges:function(){var a=this;setTimeout(function(){a.events.stopChanges=!1},1)},dragover:function(a){a.preventDefault();a.stopPropagation();"IMG"===a.target.tagName&&b(a.target).addClass("redactor-image-dragover")},dragleave:function(a){this.core.editor().find("img").removeClass("redactor-image-dragover")},drop:function(a){return a=a.originalEvent||a,this.core.editor().find("img").removeClass("redactor-image-dragover"),
"inline"===this.opts.type||"pre"===this.opts.type?(a.preventDefault(),!1):void 0===window.FormData||!a.dataTransfer||(0===a.dataTransfer.files.length?this.events.onDrop(a):(this.events.onDropUpload(a),void this.core.callback("drop",a)))},click:function(a){var b=this.core.getEvent();this.core.addEvent("click"!==b&&"arrow"!==b&&"click");this.utils.disableSelectAll();this.core.callback("click",a)},focus:function(a){if(!this.rtePaste&&(this.events.isCallback("focus")&&this.core.callback("focus",a),this.events.focused=
!0,this.events.blured=!1,!1===this.selection.current())){a=this.selection.get();var b=this.selection.range(a);b.setStart(this.core.editor()[0],0);b.setEnd(this.core.editor()[0],0);this.selection.update(a,b)}},blur:function(a){this.start||this.rtePaste||0===b(a.target).closest("#"+this.core.id()+", .redactor-toolbar, .redactor-dropdown, #redactor-modal-box").length&&(!this.events.blured&&this.events.isCallback("blur")&&this.core.callback("blur",a),this.events.focused=!1,this.events.blured=!0)},touchImageEditing:function(){var a=
-1;this.events.imageEditing=!1;b(window).on("touchmove.redactor."+this.uuid,b.proxy(function(){this.events.imageEditing=!0;-1!==a&&clearTimeout(a);a=setTimeout(b.proxy(function(){this.events.imageEditing=!1},this),500)},this))},init:function(){this.core.editor().on("dragover.redactor dragenter.redactor",b.proxy(this.events.dragover,this));this.core.editor().on("dragleave.redactor",b.proxy(this.events.dragleave,this));this.core.editor().on("drop.redactor",b.proxy(this.events.drop,this));this.core.editor().on("click.redactor",
b.proxy(this.events.click,this));this.core.editor().on("paste.redactor",b.proxy(this.paste.init,this));this.core.editor().on("keydown.redactor",b.proxy(this.keydown.init,this));this.core.editor().on("keyup.redactor",b.proxy(this.keyup.init,this));this.core.editor().on("focus.redactor",b.proxy(this.events.focus,this));b(document).on("mousedown.redactor-blur."+this.uuid,b.proxy(this.events.blur,this));this.events.touchImageEditing();this.events.createObserver();this.events.setupObserver()},createObserver:function(){var a=
this;this.events.observer=new MutationObserver(function(g){g.forEach(b.proxy(a.events.iterateObserver,a))})},iterateObserver:function(a){var b=!1;(("textarea"===this.opts.type||"div"===this.opts.type)&&!this.detect.isFirefox()&&a.target===this.core.editor()[0]||"class"===a.attributeName&&a.target===this.core.editor()[0]||"data-vivaldi-spatnav-clickable"==a.attributeName)&&(b=!0);b||(this.observe.load(),this.events.changeHandler())},setupObserver:function(){this.events.observer.observe(this.core.editor()[0],
{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})},changeHandler:function(){this.events.stopChanges||(this.code.sync(),this.autosave.is()&&(clearTimeout(this.autosaveTimeout),this.autosaveTimeout=setTimeout(b.proxy(this.autosave.send,this),300)))},onDropUpload:function(a){if(a.preventDefault(),a.stopPropagation(),(this.opts.dragImageUpload||this.opts.dragFileUpload)&&(null!==this.opts.imageUpload||null!==this.opts.fileUpload)){"IMG"===a.target.tagName&&(this.events.dropImage=
a.target);for(var b=a.dataTransfer.files,e=b.length,f=0;f<e;f++)this.upload.directUpload(b[f],a)}},onDrop:function(a){this.core.callback("drop",a)},isCallback:function(a){return void 0!==this.opts.callbacks[a]&&b.isFunction(this.opts.callbacks[a])},stopDetect:function(){this.events.stopDetectChanges()},startDetect:function(){this.events.startDetectChanges()}}},file:function(){return{is:function(){return!(!this.opts.fileUpload||!this.opts.fileUpload&&!this.opts.s3)},show:function(){this.modal.load("file",
this.lang.get("file"),700);this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert);b("#redactor-filename").val(this.selection.get().toString());this.modal.show()},insert:function(a,g,e){if(void 0!==a.error)return this.modal.close(),void this.core.callback("fileUploadError",a);this.file.release(e,g);this.buffer.set();this.air.collapsed();e=this.file.text(a);e=b("<a />").attr("href",a.url).text(e);var f=void 0===a.id?"":a.id,c=void 0===a.s3?"file":"s3";e.attr("data-"+c,
f);e=b(this.insert.node(e));this.caret.after(e);this.storage.add({type:c,node:e[0],url:a.url,id:f});null!==g&&this.core.callback("fileUpload",e,a)},release:function(a,b){b?(this.marker.remove(),this.insert.nodeToPoint(a,this.marker.get()),this.selection.restore()):this.modal.close()},text:function(a){var g=b("#redactor-filename").val();return void 0===g||""===g?a.name:g}}},focus:function(){return{start:function(){if(this.core.editor().focus(),"inline"!==this.opts.type){var a=this.focus.first();!1!==
a&&this.caret.start(a)}},end:function(){this.core.editor().focus();var a=this.opts.inline?this.core.editor():this.focus.last();if(0!==a.length){var b=this.focus.lastChild(a);if(this.detect.isWebkit()||!1===b){var b=this.selection.get(),e=this.selection.range(b);null!==e?(e.selectNodeContents(a[0]),e.collapse(!1),this.selection.update(b,e)):this.caret.end(a)}else this.caret.end(b)}},first:function(){var a=this.core.editor().children().first();return!a.length||"UL"!==a[0].tagName&&"OL"!==a[0].tagName||
(a=a.find("li").first()),0!==a.length&&0!==a[0].length&&"BR"!==a[0].tagName&&"HR"!==a[0].tagName&&3!==a[0].nodeType&&a},last:function(){return this.core.editor().children().last()},lastChild:function(a){a=a[0].lastChild;return!(null===a||!this.utils.isInlineTag(a.tagName))&&a},is:function(){return this.core.editor()[0]===document.activeElement}}},image:function(){return{is:function(){return!(!this.opts.imageUpload||!this.opts.imageUpload&&!this.opts.s3)},show:function(){var a=this.selection.current();
if(a)if(this.utils.isTag(a,"img"))this.events.dropImage=a;else if(a=b(a).find("img:first"),a.length)return this.image.showEdit(a);this.modal.load("image",this.lang.get("image"),700);this.upload.init("#redactor-modal-image-droparea",this.opts.imageUpload,this.image.insert);this.modal.show()},insert:function(a,g,e){var f;if(void 0!==a.error)return this.modal.close(),this.events.dropImage=!1,void this.core.callback("imageUploadError",a,e);if(!1!==this.events.dropImage)return f=b(this.events.dropImage),
this.core.callback("imageDelete",f[0].src,f),f.attr("src",a.url),this.events.dropImage=!1,this.core.callback("imageUpload",f,a),void this.modal.close();this.placeholder.hide();var c=b("<"+this.opts.imageTag+">");f=b("<img>");f.attr("src",a.url);var h=void 0===a.id?"":a.id,k=void 0===a.s3?"image":"s3";f.attr("data-"+k,h);c.append(f);var m=this.utils.isTag(this.selection.current(),"pre");g?(this.air.collapsed(),this.marker.remove(),e=this.insert.nodeToPoint(e,this.marker.get()),e=b(e).next(),this.selection.restore(),
this.buffer.set(),void 0!==e&&0!==e.length&&"IMG"===e[0].tagName?(this.core.callback("imageDelete",e[0].src,e),e.closest("figure, p",this.core.editor()[0]).replaceWith(c),this.caret.after(c)):(m?b(m).after(c):this.insert.node(c),this.caret.after(c))):(this.modal.close(),this.buffer.set(),this.air.collapsed(),m?b(m).after(c):this.insert.node(c),this.caret.after(c));this.events.dropImage=!1;this.storage.add({type:k,node:f[0],url:a.url,id:h});h=f[0].nextSibling;c=c.next();k=b(h).text().replace(/\u200B/g,
"");m=c.text().replace(/\u200B/g,"");""===k&&b(h).remove();1===c.length&&"FIGURE"===c[0].tagName&&""===m&&c.remove();null!==g?this.core.callback("imageUpload",f,a):this.core.callback("imageInserted",f,a)},setEditable:function(a){if(a.on("dragstart",function(a){a.preventDefault()}),this.opts.imageResizable){var g=b.proxy(function(e){this.observe.image=a;this.image.resizer=this.image.loadEditableControls(a);b(document).on("mousedown.redactor-image-resize-hide."+this.uuid,b.proxy(this.image.hideResize,
this));this.image.resizer&&this.image.resizer.on("mousedown.redactor touchstart.redactor",b.proxy(function(b){this.image.setResizable(b,a)},this))},this);a.off("mousedown.redactor").on("mousedown.redactor",b.proxy(this.image.hideResize,this));a.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",g)}else a.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",b.proxy(function(e){setTimeout(b.proxy(function(){this.image.showEdit(a)},this),200)},
this))},setResizable:function(a,b){a.preventDefault();this.image.resizeHandle={x:a.pageX,y:a.pageY,el:b,ratio:b.width()/b.height(),h:b.height()};a=a.originalEvent||a;a.targetTouches&&(this.image.resizeHandle.x=a.targetTouches[0].pageX,this.image.resizeHandle.y=a.targetTouches[0].pageY);this.image.startResize()},startResize:function(){b(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",b.proxy(this.image.moveResize,this));b(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",
b.proxy(this.image.stopResize,this))},moveResize:function(a){a.preventDefault();a=a.originalEvent||a;var b=this.image.resizeHandle.h;a.targetTouches?b+=a.targetTouches[0].pageY-this.image.resizeHandle.y:b+=a.pageY-this.image.resizeHandle.y;a=Math.round(b*this.image.resizeHandle.ratio);50>b||100>a||(this.image.resizeHandle.el.attr({width:a,height:b}),this.image.resizeHandle.el.width(a),this.image.resizeHandle.el.height(b),this.code.sync())},stopResize:function(){this.handle=!1;b(document).off(".redactor-image-resize");
this.image.hideResize()},hideResize:function(a){a&&0!==b(a.target).closest("#redactor-image-box",this.$editor[0]).length||(a&&"IMG"==a.target.tagName&&b(a.target),a=this.$editor.find("#redactor-image-box"),0!==a.length&&(b("#redactor-image-editter").remove(),b("#redactor-image-resizer").remove(),a.find("img").css({marginTop:a[0].style.marginTop,marginBottom:a[0].style.marginBottom,marginLeft:a[0].style.marginLeft,marginRight:a[0].style.marginRight}),a.css("margin",""),a.find("img").css("opacity",
""),a.replaceWith(function(){return b(this).contents()}),b(document).off("mousedown.redactor-image-resize-hide."+this.uuid),void 0!==this.image.resizeHandle&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style"))))},loadResizableControls:function(a,g){if(this.opts.imageResizable&&!this.detect.isMobile()){var e=b('<span id="redactor-image-resizer" data-redactor="verified"></span>');return this.detect.isDesktop()||e.css({width:"15px",height:"15px"}),e.attr("contenteditable",
!1),g.append(e),g.append(a),e}return g.append(a),!1},loadEditableControls:function(a){if(0===b("#redactor-image-box").length){var g=b('<span id="redactor-image-box" data-redactor="verified">');if(g.css("float",a.css("float")).attr("contenteditable",!1),"auto"!=a[0].style.margin?(g.css({marginTop:a[0].style.marginTop,marginBottom:a[0].style.marginBottom,marginLeft:a[0].style.marginLeft,marginRight:a[0].style.marginRight}),a.css("margin","")):g.css({display:"block",margin:"auto"}),a.css("opacity",".5").after(g),
this.opts.imageEditable){this.image.editter=b('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>");this.image.editter.attr("contenteditable",!1);this.image.editter.on("click",b.proxy(function(){this.image.showEdit(a)},this));g.append(this.image.editter);var e=this.image.editter.innerWidth();this.image.editter.css("margin-left","-"+e/2+"px")}return this.image.loadResizableControls(a,g)}},showEdit:function(a){if(!this.events.imageEditing){this.observe.image=
a;var g=a.closest("a",this.$editor[0]),e=a.closest("figure",this.$editor[0]),f=0!==e.length?e:a;if(this.modal.load("image-edit",this.lang.get("edit"),705),this.image.buttonDelete=this.modal.getDeleteButton().text(this.lang.get("delete")),this.image.buttonSave=this.modal.getActionButton().text(this.lang.get("save")),this.image.buttonDelete.on("click",b.proxy(this.image.remove,this)),this.image.buttonSave.on("click",b.proxy(this.image.update,this)),!1===this.opts.imageCaption)b("#redactor-image-caption").val("").hide().prev().hide();
else{var c=a.closest(this.opts.imageTag,this.$editor[0]).find("figcaption");0!==c&&b("#redactor-image-caption").val(c.text()).show()}this.opts.imagePosition?(e=(0!==e.length?"center"===f.css("text-align"):"block"==f.css("display")&&"none"==f.css("float"))?"center":f.css("float"),b("#redactor-image-align").val(e)):b(".redactor-image-position-option").hide();b("#redactor-image-preview").html(b('<img src="'+a.attr("src")+'" style="max-width: 100%;">'));b("#redactor-image-title").val(a.attr("alt"));0!==
g.length&&(b("#redactor-image-link").val(g.attr("href")),"_blank"===g.attr("target")&&b("#redactor-image-link-blank").prop("checked",!0));b(".redactor-link-tooltip").remove();this.modal.show();this.detect.isDesktop()&&b("#redactor-image-title").focus()}},update:function(){var a=this.observe.image,g=a.closest("a",this.core.editor()[0]),e=b("#redactor-image-title").val().replace(/(<([^>]+)>)/gi,"");a.attr("alt",e).attr("title",e);this.image.setFloating(a);e=b.trim(b("#redactor-image-link").val()).replace(/(<([^>]+)>)/gi,
"");if(""!==e){var f=/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}/i;-1===e.search(/^(http|ftp|https):\/\/((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}/i)&&0===e.search(f)&&this.opts.linkProtocol&&(e=this.opts.linkProtocol+"://"+e);f=!!b("#redactor-image-link-blank").prop("checked");0===g.length?(g=b('<a href="'+e+'" id="redactor-img-tmp">'+this.utils.getOuterHtml(a)+"</a>"),f&&g.attr("target","_blank"),a=a.replaceWith(g),g=this.core.editor().find("#redactor-img-tmp"),g.removeAttr("id")):(g.attr("href",
e),f?g.attr("target","_blank"):g.removeAttr("target"))}else 0!==g.length&&g.replaceWith(this.utils.getOuterHtml(a));this.image.addCaption(a,g);this.modal.close();this.buffer.set()},setFloating:function(a){var g=a.closest("figure",this.$editor[0]),e=0!==g.length?g:a,f="",c="",h="",k="";switch(b("#redactor-image-align").val()){case "left":f="left";h="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case "right":f="right";h="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;
break;case "center":0!==g.length?k="center":(c="block",h="auto")}e.css({"float":f,display:c,margin:h,"text-align":k});e.attr("rel",a.attr("style"))},addCaption:function(a,g){var e=b("#redactor-image-caption").val(),f=0!==g.length?g:a,c=f.next();0!==c.length&&"FIGCAPTION"===c[0].tagName||(c=!1);""!==e?!1===c?(c=b("<figcaption />").text(e),f.after(c)):c.text(e):!1!==c&&c.remove()},remove:function(a,g,e){g=void 0===g?b(this.observe.image):g;"boolean"!=typeof a&&this.buffer.set();this.events.stopDetectChanges();
e=g.closest("a",this.core.editor()[0]);var f=g.closest(this.opts.imageTag,this.core.editor()[0]);g.parent();if(!1===this.core.callback("imageDelete",a,g[0]))return a&&a.preventDefault(),!1;0!==b("#redactor-image-box").length&&b("#redactor-image-box").parent();var c,h;0!==f.length?(h=f.prev(),c=f.next(),f.remove()):0!==e.length?(e.parent(),e.remove()):g.remove();b("#redactor-image-box").remove();!1!==a&&(c&&0!==c.length?this.caret.start(c):h&&0!==h.length&&this.caret.end(h));"boolean"!=typeof a&&this.modal.close();
this.utils.restoreScroll();this.observe.image=!1;this.events.startDetectChanges();this.placeholder.enable();this.code.sync()}}},indent:function(){return{increase:function(){if(this.list.get()){var a=b(this.selection.current()).closest("li"),g=a.closest("ul, ol",this.core.editor()[0]),e=a.closest("li").prev();if(0!==e.length&&"LI"===e[0].tagName){if(this.buffer.set(),this.utils.isCollapsed()){var f=g[0].tagName;b("<"+f+" />");this.selection.save();f=e.find("ol").first();1===f.length?f.append(a):(f=
g[0].tagName,g=b("<"+f+" />"),g.append(a),e.append(g))}else document.execCommand("indent"),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize();this.selection.restore()}}},decrease:function(){if(this.list.get()){b(this.selection.current()).closest("li").closest("ul, ol",this.core.editor()[0]);this.buffer.set();document.execCommand("outdent");var a=b(this.selection.current()).closest("li",this.core.editor()[0]);if(this.utils.isCollapsed()&&this.indent.repositionItem(a),0===a.length)document.execCommand("formatblock",
!1,"p"),a=b(this.selection.current()),a=a.next(),0!==a.length&&"BR"===a[0].tagName&&a.remove();this.selection.save();this.indent.removeEmpty();this.indent.normalize();this.selection.restore()}},repositionItem:function(a){var b=a.next();0===b.length||"UL"===b[0].tagName&&"OL"===b[0].tagName||a.append(b);b=a.prev();0!==b.length&&"LI"!==b[0].tagName&&(this.selection.save(),a.parents("li",this.core.editor()[0]).after(a),this.selection.restore())},normalize:function(){this.core.editor().find("li").each(b.proxy(function(a,
g){var e=b(g),f="";0!==this.opts.keepStyleAttr.length&&(f=","+this.opts.keepStyleAttr.join(","));e.find(this.opts.inlineTags.join(",")).not("img"+f).removeAttr("style");f=e.parent();if(0!==f.length&&"LI"===f[0].tagName)return void f.after(e);f=e.next();0===f.length||"UL"!==f[0].tagName&&"OL"!==f[0].tagName||e.append(f)},this))},removeEmpty:function(a){a=this.core.editor().find("ul, ol");var g=this.core.editor().find("li");g.each(b.proxy(function(a,b){this.indent.removeItemEmpty(b)},this));a.each(b.proxy(function(a,
b){this.indent.removeItemEmpty(b)},this));g.each(b.proxy(function(a,b){this.indent.removeItemEmpty(b)},this))},removeItemEmpty:function(a){""===a.innerHTML.replace(/[\t\s\n]/g,"").replace(/<span><\/span>/g,"")&&b(a).remove()}}},inline:function(){return{format:function(a,b,e,f){this.utils.isCurrentOrParent(["PRE","CODE"])||(b=this.inline.getParams(b,e,f),a=this.inline.arrangeTag(a),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.inline.formatCollapsed(a,b):this.inline.formatUncollapsed(a,
b))},formatCollapsed:function(a,g){var e;if(e=this.selection.inline()){var f=e.tagName.toLowerCase();f===a?this.utils.isEmpty(e.innerHTML)?(this.caret.after(e),b(e).remove()):(e=this.inline.insertBreakpoint(e,f),this.caret.after(e)):0===b(e).closest(a).length?(e=this.inline.insertInline(a),this.inline.setParams(e,g)):(e=this.inline.insertBreakpoint(e,f),this.caret.after(e))}else e=this.inline.insertInline(a),this.inline.setParams(e,g)},formatUncollapsed:function(a,g){this.selection.save();var e=this.inline.getClearedNodes();
this.inline.setNodesStriked(e,a,g);this.selection.restore();document.execCommand("strikethrough");this.selection.saveInstant();var f=this;this.core.editor().find("strike").each(function(){var c=f.utils.replaceToTag(this,a);f.inline.setParams(c[0],g);var e=c.find(a),k=c.parent(),m=k.parent();if(0!==m.length&&m[0].tagName.toLowerCase()===a&&m.html()==k[0].outerHTML)return c.replaceWith(function(){return b(this).contents()}),void m.replaceWith(function(){return b(this).contents()});0!==e.length&&f.inline.cleanInsideOrParent(e,
g);k.html()==c[0].outerHTML&&f.inline.cleanInsideOrParent(k,g);f.detect.isFirefox()&&f.core.editor().find(a+":empty").remove()});this.selection.restoreInstant()},cleanInsideOrParent:function(a,b){if(b)for(var e in b.data)this.inline.removeSpecificAttr(a,e,b.data[e])},getClearedNodes:function(){for(var a=this.selection.nodes(),g=[],e=a.length,f=0,c=0;c<e;c++)if(b(a[c]).hasClass("redactor-selection-marker")){f=c+2;break}for(c=0;c<e;c++)c>=f&&!this.utils.isBlockTag(a[c].tagName)&&g.push(a[c]);return g},
isConvertableAttr:function(a,g,e){var f=b(a).attr(g);if(f)if("style"===g){e=b.trim(e).replace(/;$/,"");g=e.split(";");for(f=e=0;f<g.length;f++){var c=g[f].split(":"),h=b.trim(c[0]),c=b.trim(c[1]);-1!==h.search(/color/)?(h=b(a).css(h),!h||h!==c&&this.utils.rgb2hex(h)!==c||e++):b(a).css(h)===c&&e++}if(e===g.length)return 1}else if(f===e)return 1;return 0},isConvertable:function(a,b,e,f){if(b===e){if(!f)return!0;b=0;for(var c in f.data)b+=this.inline.isConvertableAttr(a,c,f.data[c]);if(b===Object.keys(f.data).length)return!0}return!1},
setNodesStriked:function(a,g,e){for(var f=0;f<a.length;f++){var c=a[f].tagName?a[f].tagName.toLowerCase():void 0,h=a[f].parentNode,k=h&&h.tagName?h.tagName.toLowerCase():void 0;(k=this.inline.isConvertable(h,k,g,e))&&b(h).replaceWith(function(){return b("<strike>").append(b(this).contents())}).attr("data-redactor-inline-converted");(k=this.inline.isConvertable(a[f],c,g,e))&&b(a[f]).replaceWith(function(){return b("<strike>").append(b(this).contents())})}},insertBreakpoint:function(a,g){var e=document.createElement("span");
e.id="redactor-inline-breakpoint";this.insert.node(e);var f=this.utils.isEndOfElement(a),e=this.utils.getOuterHtml(a),f=f?"":"<"+g+">",e=e.replace(/<span id="redactor-inline-breakpoint"><\/span>/i,"</"+g+">"+f),e=b(e);return b(a).replaceWith(e),""!==f&&this.utils.cloneAttributes(a,e.last()),e.first()},insertInline:function(a){a=document.createElement(a);return this.insert.node(a),this.caret.start(a),a},arrangeTag:function(a){var b="b bold i italic underline strikethrough deleted superscript subscript".split(" "),
e="strong strong em em u del del sup sub".split(" ");a=a.toLowerCase();for(var f=0;f<b.length;f++)a===b[f]&&(a=e[f]);return a},getStyleParams:function(a){var b={};a=a.trim().replace(/;$/,"").split(";");for(var e=0;e<a.length;e++){var f=a[e].split(":");f&&(b[f[0].trim()]=f[1].trim())}return b},getParams:function(a,b,e){var f=!1,c="toggle";return"object"==typeof a?(f=a,c=void 0!==b?b:c):void 0!==a&&void 0!==b&&(f={},f[a]=b,c=void 0!==e?e:c),!!f&&{func:c,data:f}},setParams:function(a,g){if(g)for(var e in g.data){var f=
b(a);"style"===e?(a=this.inline[g.func+"Style"](g.data[e],a),f.attr("data-redactor-style-cache",f.attr("style"))):a="class"===e?this.inline[g.func+"Class"](g.data[e],a):"remove"===g.func?this.inline[g.func+"Attr"](e,a):this.inline[g.func+"Attr"](e,g.data[e],a);"style"===e&&"SPAN"===a.tagName&&f.attr("data-redactor-span",!0)}return a},eachInline:function(a,b){var e,f=void 0===a?this.selection.inlines():[a];if(f)for(var c=0;c<f.length;c++)e=b(f[c])[0];return e},replaceClass:function(a,g){return this.inline.eachInline(g,
function(e){return b(e).removeAttr("class").addClass(a)})},toggleClass:function(a,g){return this.inline.eachInline(g,function(e){return b(e).toggleClass(a)})},addClass:function(a,g){return this.inline.eachInline(g,function(e){return b(e).addClass(a)})},removeClass:function(a,g){return this.inline.eachInline(g,function(e){return b(e).removeClass(a)})},removeAllClass:function(a){return this.inline.eachInline(a,function(a){return b(a).removeAttr("class")})},replaceAttr:function(a,g,e){return this.inline.eachInline(e,
function(e){return b(e).removeAttr(a).attr(a.value)})},toggleAttr:function(a,g,e){return this.inline.eachInline(e,function(e){return b(e).attr(a)?b(e).removeAttr(a):b(e).attr(a.value)})},addAttr:function(a,g,e){return this.inline.eachInline(e,function(e){return b(e).attr(a,g)})},removeAttr:function(a,g){return this.inline.eachInline(g,function(e){e=b(e);return e.removeAttr(a),"style"===a&&e.removeAttr("data-redactor-style-cache"),e})},removeAllAttr:function(a){return this.inline.eachInline(a,function(a){for(var e=
b(a),f=a.attributes.length,c=0;c<f;c++)e.removeAttr(a.attributes[c].name);return e})},removeSpecificAttr:function(a,g,e){var f=b(a);"style"===g?(g=e.split(":")[0].trim(),f.css(g,""),this.utils.removeEmptyAttr(a,"style")&&f.removeAttr("data-redactor-style-cache")):f.removeAttr(g)[0]},hasParentStyle:function(a){var b=a.parent();return 1===b.length&&b[0].tagName===a[0].tagName&&b.html()===a[0].outerHTML&&b},addParentStyle:function(a){var g=this.inline.hasParentStyle(a);if(g){var e=this.inline.getStyleParams(a.attr("style"));
g.css(e);g.attr("data-redactor-style-cache",g.attr("style"));a.replaceWith(function(){return b(this).contents()})}else a.attr("data-redactor-style-cache",a.attr("style"));return a},replaceStyle:function(a,g){a=this.inline.getStyleParams(a);var e=this;return this.inline.eachInline(g,function(f){f=b(f);f.removeAttr("style").css(a);var c=f.attr("style");return c&&f.attr("style",c.replace(/"/g,"'")),e.inline.addParentStyle(f)})},toggleStyle:function(a,g){a=this.inline.getStyleParams(a);var e=this;return this.inline.eachInline(g,
function(f){var c=b(f),g;for(g in a){var k=a[g],m=c.css(g),m=e.utils.isRgb(m)?e.utils.rgb2hex(m):m.replace(/"/g,""),k=e.utils.isRgb(k)?e.utils.rgb2hex(k):k.replace(/"/g,"");m===k?c.css(g,""):c.css(g,k)}g=c.attr("style");return g&&c.attr("style",g.replace(/"/g,"'")),e.utils.removeEmptyAttr(f,"style")?c.removeAttr("data-redactor-style-cache"):c=e.inline.addParentStyle(c),c})},addStyle:function(a,g){a=this.inline.getStyleParams(a);var e=this;return this.inline.eachInline(g,function(f){f=b(f);f.css(a);
var c=f.attr("style");return c&&f.attr("style",c.replace(/"/g,"'")),e.inline.addParentStyle(f)})},removeStyle:function(a,g){a=this.inline.getStyleParams(a);var e=this;return this.inline.eachInline(g,function(f){var c=b(f),g;for(g in a)c.css(g,"");return e.utils.removeEmptyAttr(f,"style")?c.removeAttr("data-redactor-style-cache"):c.attr("data-redactor-style-cache",c.attr("style")),c})},removeAllStyle:function(a){return this.inline.eachInline(a,function(a){return b(a).removeAttr("style").removeAttr("data-redactor-style-cache")})},
removeStyleRule:function(a){var g=this.selection.parent(),e=this.selection.inlines();this.buffer.set();g&&"SPAN"===g.tagName&&this.inline.removeStyleRuleAttr(b(g),a);for(g=0;g<e.length;g++){var f=e[g],c=b(f);-1==b.inArray(f.tagName.toLowerCase(),this.opts.inlineTags)||c.hasClass("redactor-selection-marker")||this.inline.removeStyleRuleAttr(c,a)}},removeStyleRuleAttr:function(a,b){a.css(b,"");this.utils.removeEmptyAttr(a,"style")?a.removeAttr("data-redactor-style-cache"):a.attr("data-redactor-style-cache",
a.attr("style"))},update:function(a,b,e,f){a=this.inline.arrangeTag(a);b=this.inline.getParams(b,e,f);e=this.selection.inlines();f=[];if(e)for(var c=0;c<e.length;c++){var g=e[c];"*"!==a&&g.tagName.toLowerCase()!==a||f.push(this.inline.setParams(g,b))}return f},removeFormat:function(){this.selection.save();for(var a=this.inline.getClearedNodes(),g=0;g<a.length;g++)1===a[g].nodeType&&b(a[g]).replaceWith(function(){return b(this).contents()});this.selection.restore()}}},insert:function(){return{set:function(a){this.placeholder.hide();
this.code.set(a);this.focus.end();this.placeholder.enable()},html:function(a,g){this.placeholder.hide();this.core.editor().focus();var e=this.selection.block(),f=this.selection.inline();void 0===g&&(g=this.clean.getCurrentType(a,!0),a=this.clean.onPaste(a,g,!0));a=b.parseHTML(a);var c=b(a).last(),h=this.selection.get(),k=this.selection.range(h);if(k.deleteContents(),this.selection.update(h,k),g.lists)if(h=b(a),0!==h.length&&("UL"===h[0].tagName||"OL"===h[0].tagName))return void this.insert.appendLists(e,
h);g.blocks&&e?this.utils.isSelectAll()?(this.core.editor().html(a),this.focus.end()):(f=this.utils.breakBlockTag(),!1===f?this.insert.placeHtml(a):(b(a).children().last().append(this.marker.get()),"start"===f.type?f.$block.before(a):f.$block.after(a),this.selection.restore(),this.core.editor().find("p").each(function(){""===b.trim(this.innerHTML)&&b(this).remove()}))):(f&&(c=b("<div/>").html(a),c.find(f.tagName.toLowerCase()).each(function(){b(this).contents().unwrap()}),a=c.html(),a=b.parseHTML(a),
c=b(a).last()),this.utils.isSelectAll()?(f=b(this.opts.emptyHtml),this.core.editor().html("").append(f),f.html(a),this.caret.end(f)):this.insert.placeHtml(a));this.utils.disableSelectAll();g.pre&&this.clean.cleanPre();this.caret.end(c);this.linkify.format()},text:function(a){a=a.toString();a=b.trim(a);var g=document.createElement("div");if(g.innerHTML=a,void 0!==(a=g.textContent||g.innerText)){this.placeholder.hide();this.core.editor().focus();g=this.selection.blocks();if(a=a.replace(/\n/g," "),this.utils.isSelectAll())g=
b(this.opts.emptyHtml),this.core.editor().html("").append(g),g.html(a),this.caret.end(g);else{var e=this.selection.get();a=document.createTextNode(a);if(e.getRangeAt&&e.rangeCount){var f=e.getRangeAt(0);f.deleteContents();f.insertNode(a);f.setStartAfter(a);f.collapse(!0);this.selection.update(e,f)}1<g.length&&(b(a).wrap("<p>"),this.caret.after(a))}this.utils.disableSelectAll();this.linkify.format();this.clean.normalizeCurrentHeading()}},raw:function(a){this.placeholder.hide();this.core.editor().focus();
var b=this.selection.get(),e=this.selection.range(b);e.deleteContents();var f=document.createElement("div");f.innerHTML=a;for(var c,h=document.createDocumentFragment();a=f.firstChild;)c=h.appendChild(a);e.insertNode(h);c&&(e=e.cloneRange(),e.setStartAfter(c),e.collapse(!0),b.removeAllRanges(),b.addRange(e))},rawAfter:function(a){this.placeholder.hide();this.core.editor().focus();var g=this.selection.get(),e=this.selection.range(g),f=this.selection.current(),c=document.createElement("div");c.innerHTML=
a;a=c.firstChild;b(f).after(b(a));e.setStartAfter(a);e.collapse(!0);g.addRange(e)},node:function(a,g){this.placeholder.hide();void 0!==this.start&&this.core.editor().focus();a=a[0]||a;var e=this.selection.block(),f=this.utils.isBlockTag(a.tagName),c=!0;this.utils.isSelectAll()?(f?this.core.editor().html(a):this.core.editor().html(b("<p>").html(a)),this.code.sync()):f&&e?(e=this.utils.breakBlockTag(),!1===e?this.insert.placeNode(a,g):("start"===e.type?e.$block.before(a):e.$block.after(a),this.core.editor().find("p:empty").remove())):
c=this.insert.placeNode(a,g);return this.utils.disableSelectAll(),c&&this.caret.end(a),a},appendLists:function(a,g){var e,f=b(a),c=this.utils.isEmpty(a.innerHTML);c||this.utils.isEndOfElement(a)?(e=f,g.find("li").each(function(){e.after(this);e=b(this)}),c&&f.remove()):this.utils.isStartOfElement(a)?g.find("li").each(function(){f.before(this);e=b(this)}):(c=this.selection.extractEndOfNode(a),f.after(b("<li>").append(c)),f.append(g),e=g);this.marker.remove();e&&this.caret.end(e);this.linkify.format()},
placeHtml:function(a){var g=document.createElement("span");g.id="redactor-insert-marker";g=this.insert.node(g);b(g).before(a);this.selection.restore();this.caret.after(g);b(g).remove()},placeNode:function(a,b){var e=this.selection.get(),f=this.selection.range(e);if(null==f)return!1;!1!==b&&f.deleteContents();f.insertNode(a);f.collapse(!1);this.selection.update(e,f)},nodeToPoint:function(a,g){if(this.placeholder.hide(),g=g[0]||g,this.utils.isEmpty())return g=this.utils.isBlock(g)?g:b("<p />").append(g),
this.core.editor().html(g),g;var e,f=a.clientX,c=a.clientY;if(document.caretPositionFromPoint)f=document.caretPositionFromPoint(f,c),e=document.getSelection().getRangeAt(0),e.setStart(f.offsetNode,f.offset),e.collapse(!0),e.insertNode(g);else if(document.caretRangeFromPoint)e=document.caretRangeFromPoint(f,c),e.insertNode(g);else if(void 0!==document.body.createTextRange){e=document.body.createTextRange();e.moveToPoint(f,c);var h=e.duplicate();h.moveToPoint(f,c);e.setEndPoint("EndToEnd",h);e.select()}return g},
nodeToCaretPositionFromPoint:function(a,b){this.insert.nodeToPoint(a,b)},marker:function(){this.marker.insert()}}},keydown:function(){return{init:function(a){if(!this.rtePaste){var g=a.which,e=37<=g&&40>=g;this.keydown.ctrl=a.ctrlKey||a.metaKey;this.keydown.parent=this.selection.parent();this.keydown.current=this.selection.current();this.keydown.block=this.selection.block();this.keydown.pre=this.utils.isTag(this.keydown.current,"pre");this.keydown.blockquote=this.utils.isTag(this.keydown.current,
"blockquote");this.keydown.figcaption=this.utils.isTag(this.keydown.current,"figcaption");this.keydown.figure=this.utils.isTag(this.keydown.current,"figure");if(!1===this.core.callback("keydown",a))return a.preventDefault(),!1;if(this.shortcuts.init(a,g),this.keydown.checkEvents(e,g),this.keydown.setupBuffer(a,g),this.utils.isSelectAll()&&(g===this.keyCode.ENTER||g===this.keyCode.BACKSPACE||g===this.keyCode.DELETE))return a.preventDefault(),this.code.set(this.opts.emptyHtml),void this.events.changeHandler();
if(this.keydown.addArrowsEvent(e),this.keydown.setupSelectAll(a,g),!this.opts.enterKey&&g===this.keyCode.ENTER)return a.preventDefault(),a=this.selection.get(),a=this.selection.range(a),void(a.collapsed||a.deleteContents());if(this.opts.enterKey&&g===this.keyCode.DOWN&&this.keydown.onArrowDown(),this.opts.enterKey&&g===this.keyCode.UP&&this.keydown.onArrowUp(),("textarea"===this.opts.type||"div"===this.opts.type)&&this.keydown.current&&3===this.keydown.current.nodeType&&b(this.keydown.parent).hasClass("redactor-in")&&
this.keydown.wrapToParagraph(),!this.keyup.lastShiftKey&&g===this.keyCode.SPACE&&(a.ctrlKey||a.shiftKey))return a.preventDefault(),this.keydown.onShiftSpace();if(g===this.keyCode.ENTER&&(a.ctrlKey||a.shiftKey))return a.preventDefault(),this.keydown.onShiftEnter(a);if(g===this.keyCode.ENTER&&!a.shiftKey&&!a.ctrlKey&&!a.metaKey)return this.keydown.onEnter(a);if(g===this.keyCode.TAB||a.metaKey&&221===g||a.metaKey&&219===g)return this.keydown.onTab(a,g);if(this.detect.isFirefox()&&g===this.keyCode.BACKSPACE&&
this.keydown.block&&"P"===this.keydown.block.tagName&&this.utils.isStartOfElement(this.keydown.block)&&(e=b(this.keydown.block).prev(),0!==e.length))return a.preventDefault(),e.append(this.marker.get()),e.append(b(this.keydown.block).html()),b(this.keydown.block).remove(),void this.selection.restore();if(g===this.keyCode.BACKSPACE||g===this.keyCode.DELETE){if(this.observe.image&&void 0!==this.observe.image&&0!==b("#redactor-image-box").length)return a.preventDefault(),e=this.observe.image.closest("figure, p").prev(),
this.image.remove(!1),this.observe.image=!1,void(e&&0!==e.length?this.caret.end(e):this.core.editor().focus());this.keydown.onBackspaceAndDeleteBefore()}if(g===this.keyCode.DELETE){e=b(this.keydown.block).next();if(this.utils.isEndOfElement(this.keydown.block)&&0!==e.length&&"FIGURE"===e[0].tagName)return e.remove(),!1;if(this.keydown.block&&"LI"===this.keydown.block.tagName&&this.keydown.block){var f=b(this.keydown.block).parents("ul, ol").last(),c=f.next();if(this.utils.isRedactorParent(f)&&this.utils.isEndOfElement(f)&&
0!==c.length&&("UL"===c[0].tagName||"OL"===c[0].tagName))return a.preventDefault(),f.append(c.contents()),c.remove(),!1}if(this.utils.isEndOfElement(this.keydown.block)&&0!==e.length&&"PRE"===e[0].tagName)return b(this.keydown.block).append(e.text()),e.remove(),!1}if(g===this.keyCode.DELETE&&0!==b("#redactor-image-box").length&&this.image.remove(),g===this.keyCode.BACKSPACE){if(this.detect.isFirefox()&&this.line.removeOnBackspace(a),this.list.combineAfterAndBefore(this.keydown.block))return void a.preventDefault();
if((e=this.selection.block())&&"LI"===e.tagName&&this.utils.isCollapsed()&&this.utils.isStartOfElement())return this.indent.decrease(),void a.preventDefault();this.keydown.removeInvisibleSpace();this.keydown.removeEmptyListInTable(a)}g!==this.keyCode.BACKSPACE&&g!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteAfter(a)}},onShiftSpace:function(){return this.buffer.set(),this.insert.raw("&nbsp;"),!1},onShiftEnter:function(a){return this.buffer.set(),this.keydown.figure?this.insert.rawAfter("<br>"):
this.keydown.pre?this.keydown.insertNewLine(a):this.insert.raw("<br>")},onBackspaceAndDeleteBefore:function(){this.utils.saveScroll()},onBackspaceAndDeleteAfter:function(a){setTimeout(b.proxy(function(){this.code.syncFire=!1;this.keydown.removeEmptyLists();var b="";0!==this.opts.keepStyleAttr.length&&(b=","+this.opts.keepStyleAttr.join(","));this.core.editor().find("*[style]").not("p, h1, h2, h3, h4, h5, h6, div, ul, li, img, figure, iframe, #redactor-image-box, #redactor-image-editter, [data-redactor-style-cache], [data-redactor-span]"+
b).removeAttr("style");this.keydown.formatEmpty(a);this.code.syncFire=!0},this),1)},onEnter:function(a){if(!1===this.core.callback("enter",a))return a.preventDefault(),!1;if(this.keydown.blockquote&&!0===this.keydown.exitFromBlockquote(a))return!1;if(this.keydown.pre)return this.keydown.insertNewLine(a);if(this.keydown.blockquote||this.keydown.figcaption)return this.keydown.insertBreakLine(a);if(this.keydown.figure)setTimeout(b.proxy(function(){this.keydown.replaceToParagraph("FIGURE")},this),1);
else if(this.keydown.block){if(setTimeout(b.proxy(function(){this.keydown.replaceToParagraph("DIV")},this),1),"LI"===this.keydown.block.tagName){var g=this.selection.current(),e=b(g).closest("li",this.$editor[0]),g=e.parents("ul,ol",this.$editor[0]).last();if(0!==e.length&&this.utils.isEmpty(e.html())&&0===g.next().length&&this.utils.isEmpty(g.find("li").last().html()))return g.find("li").last().remove(),a=b(this.opts.emptyHtml),g.after(a),this.caret.start(a),!1}}else if(!this.keydown.block)return this.keydown.insertParagraph(a);
if(this.detect.isFirefox()&&this.utils.isInline(this.keydown.parent))return void this.keydown.insertBreakLine(a);this.opts.keepInlineOnEnter||setTimeout(b.proxy(function(){var a=this.selection.inline();if(a&&this.utils.isEmpty(a.innerHTML)){var c=this.selection.block();b(a).remove();a=document.createRange();a.setStart(c,0);c=document.createTextNode("\u200b");a.insertNode(c);a.setStartAfter(c);a.collapse(!0);c=window.getSelection();c.removeAllRanges();c.addRange(a)}},this),1);setTimeout(b.proxy(function(){var a=
this.selection.block().childNodes;(a=a[a.length-1])&&3!==a.nodeType&&"BR"===a.tagName&&b(a).remove()},this),1)},checkEvents:function(a,b){a||"click"!==this.core.getEvent()&&"arrow"!==this.core.getEvent()||(this.core.addEvent(!1),this.keydown.checkKeyEvents(b)&&this.buffer.set())},checkKeyEvents:function(a){var g=this.keyCode;return-1===b.inArray(a,[g.BACKSPACE,g.DELETE,g.ENTER,g.ESC,g.TAB,g.CTRL,g.META,g.ALT,g.SHIFT])},addArrowsEvent:function(a){if(a)return"click"===this.core.getEvent()||"arrow"===
this.core.getEvent()?void this.core.addEvent(!1):void this.core.addEvent("arrow")},setupBuffer:function(a,b){return this.keydown.ctrl&&90===b&&!a.shiftKey&&!a.altKey&&this.sBuffer.length?(a.preventDefault(),void this.buffer.undo()):this.keydown.ctrl&&90===b&&a.shiftKey&&!a.altKey&&0!==this.sRebuffer.length?(a.preventDefault(),void this.buffer.redo()):void(this.keydown.ctrl||b!==this.keyCode.SPACE&&b!==this.keyCode.BACKSPACE&&b!==this.keyCode.DELETE&&(b!==this.keyCode.ENTER||a.ctrlKey||a.shiftKey)||
this.buffer.set())},exitFromBlockquote:function(a){if(this.utils.isEndOfElement(this.keydown.blockquote)&&-1!==this.clean.removeSpacesHard(b(this.keydown.blockquote).html()).search(/(<br\s?\/?>){1}$/i))return a.preventDefault(),b(this.keydown.blockquote).children().last().filter("br").remove(),b(this.keydown.blockquote).children().last().filter("span").remove(),a=b(this.opts.emptyHtml),b(this.keydown.blockquote).after(a),this.caret.start(a),!0},onArrowDown:function(){for(var a=[this.keydown.blockquote,
this.keydown.pre,this.keydown.figcaption],b=0;b<a.length;b++)if(a[b])return this.keydown.insertAfterLastElement(a[b]),!1},onArrowUp:function(){for(var a=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],b=0;b<a.length;b++)if(a[b])return this.keydown.insertBeforeFirstElement(a[b]),!1},insertAfterLastElement:function(a){if(this.utils.isEndOfElement(a)){var g=this.core.editor().contents().last();if(0===("FIGCAPTION"===a.tagName?b(this.keydown.block).parent().next():b(this.keydown.block).next()).length){if(0===
g.length&&g[0]!==a)return void this.caret.start(g);g=b(this.opts.emptyHtml);"FIGCAPTION"===a.tagName?b(a).parent().after(g):b(a).after(g);this.caret.start(g)}}},insertBeforeFirstElement:function(a){if(this.utils.isStartOfElement()&&!(1<this.core.editor().contents().length&&this.core.editor().contents().first()[0]!==a)){var g=b(this.opts.emptyHtml);b(a).before(g);this.caret.start(g)}},onTab:function(a,b){if(!this.opts.tabKey)return!0;var e=this.keydown.block&&"LI"===this.keydown.block.tagName;if(this.utils.isEmpty(this.code.get())||
!e&&!this.keydown.pre&&!1===this.opts.tabAsSpaces)return!0;a.preventDefault();this.buffer.set();var f,e=e&&this.utils.isStartOfElement(this.keydown.block);return this.keydown.pre&&!a.shiftKey?(f=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join("\u00a0")):document.createTextNode("\t"),this.insert.node(f)):!1===this.opts.tabAsSpaces||e?a.metaKey&&219===b?this.indent.decrease():a.metaKey&&221===b?this.indent.increase():a.shiftKey?this.indent.decrease():this.indent.increase():
(f=document.createTextNode(Array(this.opts.tabAsSpaces+1).join("\u00a0")),this.insert.node(f)),!1},setupSelectAll:function(a,b){this.keydown.ctrl&&65===b?this.utils.enableSelectAll():!this.keydown.ctrl||35!=b&&36!=b&&38!=b&&40!=b?b===this.keyCode.LEFT_WIN||this.keydown.ctrl||this.utils.disableSelectAll():this.utils.disableSelectAll()},insertNewLine:function(a){a.preventDefault();a=document.createTextNode("\n");var b=this.selection.get(),b=this.selection.range(b);return b.deleteContents(),b.insertNode(a),
this.caret.after(a),!1},insertParagraph:function(a){a.preventDefault();a=document.createElement("p");a.innerHTML="<br>";var b=this.selection.get(),b=this.selection.range(b);return b.deleteContents(),b.insertNode(a),this.caret.start(a),!1},insertBreakLine:function(a){return this.keydown.insertBreakLineProcessing(a)},insertDblBreakLine:function(a){return this.keydown.insertBreakLineProcessing(a,!0)},insertBreakLineProcessing:function(a,b){a.stopPropagation();var e=document.createElement("br");if(this.insert.node(e),
!0===b)e=document.createElement("br"),this.insert.node(e);this.caret.after(e);return!1},wrapToParagraph:function(){var a=b(this.keydown.current),g=b("<p>").append(a.clone());a.replaceWith(g);a=b(g).next();void 0!==a[0]&&"BR"===a[0].tagName&&a.remove();this.caret.end(g)},replaceToParagraph:function(a){var g=this.selection.block(),e=b(g).prev(),f=g.innerHTML.replace(/<br\s?\/?>/gi,"");if(g.tagName===a&&this.utils.isEmpty(f)&&!b(g).hasClass("redactor-in"))return a=document.createElement("p"),b(g).replaceWith(a),
this.keydown.setCaretToParagraph(a),!1;if("P"===g.tagName)return b(g).removeAttr("class").removeAttr("style"),this.detect.isIe()&&this.utils.isEmpty(f)&&this.utils.isInline(this.keydown.parent)&&b(g).on("input",b.proxy(function(){var a=this.selection.parent();this.utils.isInline(a)&&(a=b(a).html(),b(g).html(a),this.caret.end(g));b(g).off("keyup")},this)),!1;if(e.hasClass(this.opts.videoContainerClass))return e.removeAttr("class"),a=document.createElement("p"),e.replaceWith(a),this.keydown.setCaretToParagraph(a),
!1},setCaretToParagraph:function(a){var b=document.createRange();b.setStart(a,0);a=document.createTextNode("\u200b");b.insertNode(a);b.setStartAfter(a);b.collapse(!0);a=window.getSelection();a.removeAllRanges();a.addRange(b)},removeInvisibleSpace:function(){var a=b(this.keydown.current);0===a.text().search(/^\u200B$/g)&&a.remove()},removeEmptyListInTable:function(a){var g=b(this.keydown.current),e=b(this.keydown.parent),f=g.closest("td",this.$editor[0]);0!==f.length&&g.closest("li",this.$editor[0])&&
1===e.children("li").length&&this.utils.isEmpty(g.text())&&(a.preventDefault(),g.remove(),e.remove(),this.caret.start(f))},removeEmptyLists:function(){var a=function(){""===b.trim(this.innerHTML).replace(/\/t\/n/g,"")&&b(this).remove()};this.core.editor().find("li").each(a);this.core.editor().find("ul, ol").each(a)},formatEmpty:function(a){var g=b.trim(this.core.editor().html());if(this.utils.isEmpty(g))return a.preventDefault(),"inline"===this.opts.type||"pre"===this.opts.type?(this.core.editor().html(this.marker.html()),
this.selection.restore()):(this.core.editor().html(this.opts.emptyHtml),this.focus.start()),!1}}},keyup:function(){return{init:function(a){if(!this.rtePaste){var g=a.which;this.keyup.block=this.selection.block();this.keyup.current=this.selection.current();this.keyup.parent=this.selection.parent();this.keyup.lastShiftKey=a.shiftKey;if(!1===this.core.callback("keyup",a))return a.preventDefault(),!1;if(g===this.keyCode.ENTER&&this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&(a=b(this.keyup.block).prev(),
0!==a.length&&"FIGURE"===a[0].tagName))return g=this.utils.replaceToTag(a,"p"),void this.caret.start(g);if(g===this.keyCode.BACKSPACE||g===this.keyCode.DELETE){if(this.utils.isSelectAll())return this.focus.start(),void this.toolbar.setUnfixed();this.keyup.block&&"P"===this.keyup.block.tagName&&(a=b(this.keyup.block).find("img").length,""===b(this.keyup.block).text().replace(/\u200B/g,"")&&0!==a&&this.utils.replaceToTag(this.keyup.block,"figure"));this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&
0===b(this.keyup.block).find("img").length&&(this.selection.save(),this.utils.replaceToTag(this.keyup.block,"p"),this.selection.restore())}this.linkify.isKey(g)&&(this.selection.save(),this.linkify.format(),this.selection.restore())}}}},lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(a){return void 0!==this.opts.curLang[a]?this.opts.curLang[a]:""}}},line:function(){return{insert:function(){this.buffer.set();this.insert.html(this.line.getLineHtml());
var a=this.core.editor().find("#redactor-hr-tmp-id");return a.removeAttr("id"),this.core.callback("insertedLine",a),a},getLineHtml:function(){var a='<hr id="redactor-hr-tmp-id" />';return!this.detect.isFirefox()&&this.utils.isEmpty()&&(a+="<p>"+this.opts.emptyHtml+"</p>"),a},removeOnBackspace:function(a){if(this.utils.isCollapsed()){var g=b(this.selection.block());0!==g.length&&this.utils.isStartOfElement(g)&&(g=g.prev())&&0!==g.length&&"HR"===g[0].tagName&&(a.preventDefault(),g.remove())}}}},link:function(){return{get:function(){return b(this.selection.inlines("a"))},
is:function(){var a=this.selection.nodes(),g=b(this.selection.current()).closest("a",this.core.editor()[0]);return!(0===g.length||1<a.length)&&g},unlink:function(a){void 0!==a&&a.preventDefault&&a.preventDefault();this.buffer.set();a=this.selection.inlines("a");0!==a.length&&(a=this.link.replaceLinksToText(a),this.observe.closeAllTooltip(),this.core.callback("deletedLink",a))},insert:function(a,g){var e=this.link.is();if(!0!==g&&!1===(a=this.link.buildLinkFromObject(e,a)))return!1;if(this.buffer.set(),
a=this.core.callback("beforeInsertingLink",a),!1===e){var e=b("<a />"),e=this.link.update(e,a),e=b(this.insert.node(e)),f=e.parent();!1===this.utils.isRedactorParent(f)&&e.wrap("<p>");f.hasClass("redactor-unlink")&&f.replaceWith(function(){return b(this).contents()});this.caret.after(e);this.core.callback("insertedLink",e)}else e=this.link.update(e,a),this.caret.after(e);return e},update:function(a,b){return a.text(b.text),a.attr("href",b.url),this.link.target(a,b.target),a},target:function(a,b){return b?
a.attr("target","_blank"):a.removeAttr("target")},show:function(a){void 0!==a&&a.preventDefault&&a.preventDefault();this.observe.closeAllTooltip();a=this.link.linkEl();this.link.buildModal(a);var g=this.link.buildLinkFromElement(a);g.url=this.link.removeSelfHostFromUrl(g.url);this.opts.linkNewTab&&!a&&(g.target=!0);this.link.setModalValues(g);this.modal.show();this.detect.isDesktop()&&b("#redactor-link-url").focus()},linkEl:function(){var a=b(this.selection.current()).closest("a",this.core.editor()[0]);
return 0===a.length&&(a=b(b.parseHTML(this.selection.html())).closest("a",this.core.editor()[0])),0!==a.length&&a},setModalValues:function(a){b("#redactor-link-blank").prop("checked",a.target);b("#redactor-link-url").val(a.url);b("#redactor-link-url-text").val(a.text)},buildModal:function(a){this.modal.load("link",this.lang.get(!1===a?"link-insert":"link-edit"),600);this.modal.getActionButton().text(this.lang.get(!1===a?"insert":"save")).on("click",b.proxy(this.link.callback,this))},callback:function(){var a=
this.link.buildLinkFromModal();if(!1===a)return!1;this.modal.close();this.link.insert(a,!0)},cleanUrl:function(a){return void 0===a?"":b.trim(a.replace(/[^\W\w\D\d+&\'@#\/%?=~_|!:,.;\(\)]/gi,""))},cleanText:function(a){return void 0===a?"":b.trim(a)},getText:function(a){return""===a.text&&""!==a.url?this.link.truncateUrl(a.url.replace(/<|>/g,"")):a.text},isUrl:function(a){var b=/^(http|ftp|https):\/\/((xn--)?[\W\w\D\d]+(-[\W\w\D\d]+)*\.)+[\W\w]{2,}/i,e=/^((xn--)?[\W\w\D\d]+(-[\W\w\D\d]+)*\.)+[\W\w]{2,}/i,
f=/.(html|php)$/i,c=/^\//i,h=/^tel:(.*?)/i;return-1===a.search(b)&&-1!==a.search(e)&&-1===a.search(f)&&"/"!==a.substring(0,1)&&(a="http://"+a),(-1!==a.search(b)||-1!==a.search(f)||-1!==a.search(c)||-1!==a.search(h))&&a},isMailto:function(a){return-1!==a.search("@")&&!1===/(http|ftp|https):\/\//i.test(a)},isEmpty:function(a){return""===a.url||""===a.text&&""===a.url},truncateUrl:function(a){return a.length>this.opts.linkSize?a.substring(0,this.opts.linkSize)+"...":a},parse:function(a){return this.link.isMailto(a.url)?
a.url="mailto:"+a.url.replace("mailto:",""):0!==a.url.search("#")&&this.opts.linkValidation&&(a.url=this.link.isUrl(a.url)),!this.link.isEmpty(a)&&!1!==a.url&&a},buildLinkFromModal:function(){var a={};return a.url=this.link.cleanUrl(b("#redactor-link-url").val()),a.text=this.link.cleanText(b("#redactor-link-url-text").val()),a.text=this.link.getText(a),a.target=!!b("#redactor-link-blank").prop("checked"),this.link.parse(a)},buildLinkFromObject:function(a,b){return b.url=this.link.cleanUrl(b.url),
b.text=void 0===b.text&&this.selection.is()?this.selection.text():this.link.cleanText(b.text),b.text=this.link.getText(b),b.target=!1===a?b.target:this.link.buildTarget(a),this.link.parse(b)},buildLinkFromElement:function(a){var b={url:"",text:this.selection.is()?this.selection.text():"",target:!1};return!1!==a&&(b.url=a.attr("href"),b.text=b.text?b.text:a.text(),b.target=this.link.buildTarget(a)),b},buildTarget:function(a){return void 0!==a.attr("target")&&"_blank"===a.attr("target")},removeSelfHostFromUrl:function(a){var b=
self.location.href.replace("#","").replace(/\/$/i,"");return a.replace(/^\/\#/,"#").replace(b,"").replace("mailto:","")},replaceLinksToText:function(a){var g,e=b.each(a,function(a,c){var e=b(c),f=b('<span class="redactor-unlink" />').append(e.contents());return e.replaceWith(f),0===a&&(g=f),e});return 1===a.length&&this.selection.isCollapsed()&&this.caret.after(g),e}}},linkify:function(){return{isKey:function(a){return a===this.keyCode.ENTER||a===this.keyCode.SPACE},isLink:function(a){return a.nodeValue.match(this.opts.regexps.linkyoutube)||
a.nodeValue.match(this.opts.regexps.linkvimeo)||a.nodeValue.match(this.opts.regexps.linkvimeochannel)||a.nodeValue.match(this.opts.regexps.linkimage)||a.nodeValue.match(this.opts.regexps.url)},isFiltered:function(a,g){return 3===g.nodeType&&""!==b.trim(g.nodeValue)&&!b(g).parent().is("pre")&&this.linkify.isLink(g)},handler:function(a,g){var e=b(g),f=e.text(),c=f,c=c.match(this.opts.regexps.linkyoutube)||c.match(this.opts.regexps.linkvimeo)||c.match(this.opts.regexps.linkvimeochannel)?this.linkify.convertVideoLinks(c):
c.match(this.opts.regexps.linkimage)?this.linkify.convertImages(c):this.linkify.convertLinks(c);e.before(f.replace(f,c)).remove()},format:function(){if(this.opts.linkify&&!this.utils.isCurrentOrParent("pre")){this.core.editor().find(":not(iframe,img,a,pre,code,.redactor-unlink)").addBack().contents().filter(b.proxy(this.linkify.isFiltered,this)).each(b.proxy(this.linkify.handler,this));var a,g=this.core.editor().find(".redactor-linkify-object").each(b.proxy(function(e,f){return a=b(f),a.removeClass("redactor-linkify-object"),
""===a.attr("class")&&a.removeAttr("class"),"DIV"===f.tagName?this.linkify.breakBlockTag(a,"video"):"IMG"===f.tagName?this.linkify.breakBlockTag(a,"image"):"A"===f.tagName&&this.core.callback("insertedLink",a),a},this));setTimeout(b.proxy(function(){this.code.sync();this.core.callback("linkify",g)},this),100)}},breakBlockTag:function(a,g){var e=this.utils.breakBlockTag();if(!1!==e){var f=a;"image"===g&&(f=b("<figure />").append(a));"start"===e.type?e.$block.before(f):e.$block.after(f);"image"===g&&
this.caret.after(f)}},convertVideoLinks:function(a){var b='<div class="'+this.opts.videoContainerClass+' redactor-linkify-object"><iframe class="redactor-linkify-object" width="500" height="281" src="';return a.match(this.opts.regexps.linkyoutube)&&(a=a.replace(this.opts.regexps.linkyoutube,b+'//www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe></div>')),a.match(this.opts.regexps.linkvimeo)&&(a=a.replace(this.opts.regexps.linkvimeo,b+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>')),
a.match(this.opts.regexps.linkvimeochannel)&&(a=a.replace(this.opts.regexps.linkvimeochannel,b+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>')),a},convertImages:function(a){var b=a.match(this.opts.regexps.linkimage);return b?a.replace(a,'<img src="'+b+'" class="redactor-linkify-object" />'):a},convertLinks:function(a){var g=a.match(this.opts.regexps.url);if(!g)return a;for(var g=b.grep(g,function(a,c){return b.inArray(a,g)===c}),e=g.length,f=0;f<e;f++){var c=g[f],h=
c,k=null!==c.match(/(https?|ftp):\/\//i)?"":"http://";h.length>this.opts.linkSize&&(h=h.substring(0,this.opts.linkSize)+"...");-1===h.search("%")&&(h=decodeURIComponent(h));var m="\\b";-1!==b.inArray(c.slice(-1),["/","&","="])&&(m="");var m=new RegExp("("+c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+m+")","g"),d="";!1!==this.opts.pasteLinkTarget&&(d=' target="'+this.opts.pasteLinkTarget+'"');a=a.replace(m,'<a href="'+k+b.trim(c)+'"'+d+' class="redactor-linkify-object">'+b.trim(h)+"</a>")}return a}}},
list:function(){return{toggle:function(a){if(!this.utils.inBlocks(["table","td","th","tr"])){var g="orderedlist"===a||"ol"===a?"OL":"UL";a="OL"===g?"orderedlist":"unorderedlist";var e=b(this.selection.current()).parentsUntil(".redactor-in","ul, ol").first(),f=b(this.selection.current()).parentsUntil(".redactor-in","li").first();this.placeholder.hide();this.buffer.set();if(""===this.selection.html()&&0!==f.length&&f[0].parentNode.tagName===g&&this.utils.isRedactorParent(f)){a=b(f[0]).prev();var e=
b(f[0]).next(),c=f.html(),h=b(f[0].parentNode);if(this.selection.save(),!a.length&&e.length)return f.remove(),void h.before(b("<p />").append(c));if(a.length&&e.length){f.replaceWith(function(){return"-~=REMOVED+ITEM=~-"});var f=this.selection.current(),k=b(f)[0].outerHTML.replace(/-~=REMOVED\+ITEM=~-/g,"</"+g+">\n\n<p>"+c+"</p>\n\n<"+g+">");return b(f).replaceWith(function(){return k})}return a.length&&!e.length?(f.remove(),void h.after(b("<p />").append(c))):void(a.length||e.length||h.replaceWith(function(){return b("<p />").append(c)}))}if(0!==
e.length&&e[0].tagName===g&&this.utils.isRedactorParent(e))return this.selection.save(),e.find("ul, ol").each(function(){var a=b(this).closest("li");b(this).find("li").each(function(){b(a).after(this)})}),e.find("ul, ol").remove(),e.find("li").each(function(){return b(this).replaceWith(function(){return b("<p />").append(b(this).contents())})}),e.replaceWith(function(){return b(this).contents()}),void this.selection.restore();this.selection.save();0!==e.length&&e[0].tagName!==g?e.each(b.proxy(function(a,
c){this.utils.replaceToTag(c,g)},this)):document.execCommand("insert"+a);this.selection.restore();f=this.list.get();if(!f)return void(this.selection.block()||document.execCommand("formatblock",!1,"p"));f.find("span").replaceWith(function(){return b(this).contents()});f.find(this.opts.inlineTags.join(",")).each(function(){b(this).removeAttr("style")});f=f.parent();this.utils.isRedactorParent(f)&&"LI"!==f[0].tagName&&this.utils.isBlock(f)&&(this.selection.save(),f.replaceWith(f.contents()),this.selection.restore())}},
get:function(){var a=this.selection.current(),a=b(a).closest("ul, ol",this.core.editor()[0]);return 0!==a.length&&a},combineAfterAndBefore:function(a){var g=b(a).prev(),e=b(a).next();a=a&&"P"===a.tagName&&("<br>"===a.innerHTML||""===a.innerHTML);var f=1===g.closest("ol, ul",this.core.editor()[0]).length&&1===e.closest("ol, ul",this.core.editor()[0]).length;return!(!a||!f)&&(g.children("li").last().append(this.marker.get()),g.append(e.contents()),this.selection.restore(),!0)}}},marker:function(){return{get:function(a){a=
void 0===a?1:a;var b=document.createElement("span");return b.id="selection-marker-"+a,b.className="redactor-selection-marker",b.innerHTML=this.opts.invisibleSpace,b},html:function(a){return this.utils.getOuterHtml(this.marker.get(a))},find:function(a){return a=void 0===a?1:a,this.core.editor().find("span#selection-marker-"+a)},insert:function(){var a=this.selection.get(),a=this.selection.range(a);this.marker.insertNode(a,this.marker.get(1),!0);a&&!1===a.collapsed&&this.marker.insertNode(a,this.marker.get(2),
!1)},remove:function(){this.core.editor().find(".redactor-selection-marker").each(this.marker.iterateRemove)},insertNode:function(a,g,e){var f=this.selection.parent();if(null!==a&&0!==b(f).closest(".redactor-in").length){a=a.cloneRange();try{a.collapse(e),a.insertNode(g)}catch(c){this.focus.start()}}},iterateRemove:function(a,g){var e=b(g),f=e.text().replace(/\u200B/g,"");e.parent()[0];""===f?e.remove():e.replaceWith(function(){return b(this).contents()})}}},modal:function(){return{callbacks:{},templates:function(){this.opts.modal=
{"image-edit":String()+'<div class="redactor-modal-tab redactor-group" data-title="'+this.lang.get("general")+'"><div id="redactor-image-preview" class="redactor-modal-tab-side"></div><div class="redactor-modal-tab-area"><section><label>'+this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /></section><section><label>'+this.lang.get("caption")+'</label><input type="text" id="redactor-image-caption" aria-label="'+this.lang.get("caption")+'" /></section><section><label>'+this.lang.get("link")+
'</label><input type="text" id="redactor-image-link" aria-label="'+this.lang.get("link")+'" /></section><section><label class="redactor-image-position-option">'+this.lang.get("image-position")+'</label><select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+this.lang.get("image-position")+'"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+
this.lang.get("right")+'</option></select></section><section><label class="checkbox"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get("link-in-new-tab")+'"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+'</button><button id="redactor-modal-button-delete" class="redactor-modal-button-offset">'+this.lang.get("delete")+
"</button></section></div></div>",image:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("upload")+'"><section><div id="redactor-modal-image-droparea"></div></section></div>',file:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("upload")+'"><section><label>'+this.lang.get("filename")+' <span class="desc">('+this.lang.get("optional")+')</span></label><input type="text" id="redactor-filename" aria-label="'+this.lang.get("filename")+'" /><br><br></section><section><div id="redactor-modal-file-upload"></div></section></div>',
link:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("general")+'"><section><label>URL</label><input type="url" id="redactor-link-url" aria-label="URL" /></section><section><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" aria-label="'+this.lang.get("text")+'" /></section><section><label class="checkbox"><input type="checkbox" id="redactor-link-blank"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+
this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"};b.extend(this.opts,this.opts.modal)},addCallback:function(a,b){this.modal.callbacks[a]=b},addTemplate:function(a,b){this.opts.modal[a]=b},getTemplate:function(a){return this.opts.modal[a]},getModal:function(){return this.$modalBody},getActionButton:function(){return this.$modalBody.find("#redactor-modal-button-action")},getCancelButton:function(){return this.$modalBody.find("#redactor-modal-button-cancel")},
getDeleteButton:function(){return this.$modalBody.find("#redactor-modal-button-delete")},load:function(a,b,e){void 0!==this.$modalBox&&this.$modalBox.hasClass("open")||(this.modal.templateName=a,this.modal.width=e,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(b),this.modal.setDraggable(),this.modal.setContent(),void 0!==this.modal.callbacks[a]&&this.modal.callbacks[a].call(this))},show:function(){this.detect.isDesktop()||document.activeElement.blur();this.selection.save();this.modal.buildTabber();
this.detect.isMobile()&&(this.modal.width="96%");setTimeout(b.proxy(this.modal.buildWidth,this),0);b(window).on("resize.redactor-modal",b.proxy(this.modal.buildWidth,this));this.$modalOverlay.redactorAnimation("fadeIn",{duration:.25});this.$modalBox.addClass("open").show();this.$modal.redactorAnimation("fadeIn",{timing:"cubic-bezier(0.175, 0.885, 0.320, 1.105)"},b.proxy(function(){this.utils.saveScroll();this.utils.disableBodyScroll();this.core.callback("modalOpened",this.modal.templateName,this.$modal);
b(document).off("focusin.modal");this.$modal.find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor-modal",b.proxy(this.modal.setEnter,this))},this))},buildWidth:function(){var a=b(window).height(),g=b(window).width(),e="number"==typeof this.modal.width;!e&&this.modal.width.match(/%$/)?this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}):parseInt(this.modal.width)>g?this.$modal.css({width:"96%","margin-bottom":"2%"}):(e&&(this.modal.width+="px"),this.$modal.css({width:this.modal.width,
"margin-bottom":"16px"}));g=this.$modal.outerHeight();e=a/2-g/2+"px";this.detect.isMobile()?e="2%":g>a&&(e="16px");this.$modal.css("margin-top",e)},buildTabber:function(){this.modal.tabs=this.$modal.find(".redactor-modal-tab");2>this.modal.tabs.length||(this.modal.$tabsBox=b('<div id="redactor-modal-tabber" />'),b.each(this.modal.tabs,b.proxy(function(a,g){var e=b('<a href="#" rel="'+a+'" />').text(b(g).attr("data-title"));e.on("click",b.proxy(this.modal.showTab,this));0===a&&e.addClass("active");
this.modal.$tabsBox.append(e)},this)),this.$modalBody.prepend(this.modal.$tabsBox))},showTab:function(a){a.preventDefault();a=b(a.target);var g=a.attr("rel");return this.modal.tabs.hide(),this.modal.tabs.eq(g).show(),b("#redactor-modal-tabber").find("a").removeClass("active"),a.addClass("active"),!1},setTitle:function(a){this.$modalHeader.html(a)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName));this.modal.getCancelButton().on("mousedown",b.proxy(this.modal.close,
this))},setDraggable:function(){void 0!==b.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(a){13===a.which&&(a.preventDefault(),this.modal.getActionButton().click())},build:function(){this.modal.buildOverlay();this.$modalBox=b('<div id="redactor-modal-box"/>').hide();this.$modal=b('<div id="redactor-modal" role="dialog" />');this.$modalHeader=b('<div id="redactor-modal-header" />');this.$modalClose=b('<button type="button" id="redactor-modal-close" aria-label="'+
this.lang.get("close")+'" />').html("&times;");this.$modalBody=b('<div id="redactor-modal-body" />');this.$modal.append(this.$modalHeader);this.$modal.append(this.$modalBody);this.$modal.append(this.$modalClose);this.$modalBox.append(this.$modal);this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=b('<div id="redactor-modal-overlay">').hide();b("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("mousedown.redactor-modal",b.proxy(this.modal.close,
this));b(document).on("keyup.redactor-modal",b.proxy(this.modal.closeHandler,this));this.core.editor().on("keyup.redactor-modal",b.proxy(this.modal.closeHandler,this));this.$modalBox.on("click.redactor-modal",b.proxy(this.modal.close,this))},disableEvents:function(){this.$modalClose.off("mousedown.redactor-modal");b(document).off("keyup.redactor-modal");this.core.editor().off("keyup.redactor-modal");this.$modalBox.off("click\u00a7.redactor-modal");b(window).off("resize.redactor-modal")},closeHandler:function(a){a.which===
this.keyCode.ESC&&this.modal.close(!1)},close:function(a){if(a){if("redactor-modal-button-cancel"!==b(a.target).attr("id")&&a.target!==this.$modalClose[0]&&a.target!==this.$modalBox[0])return;a.preventDefault()}this.$modalBox&&(this.selection.restore(),this.modal.disableEvents(),this.utils.enableBodyScroll(),this.utils.restoreScroll(),this.$modalOverlay.redactorAnimation("fadeOut",{duration:.4},b.proxy(function(){this.$modalOverlay.remove()},this)),this.$modal.redactorAnimation("fadeOut",{duration:.3,
timing:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},b.proxy(function(){void 0!==this.$modalBox&&(this.$modalBox.remove(),this.$modalBox=void 0);this.core.callback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){void 0===this.opts.destroyed&&(this.observe.links(),this.observe.images())},isCurrent:function(a,g){return void 0===g&&(g=b(this.selection.current())),g.is(a)||0<g.parents(a).length},toolbar:function(){this.observe.buttons();this.observe.dropdowns()},
buttons:function(a,g){var e=this.selection.current(),f=this.selection.parent();if(!1!==a?this.button.setInactiveAll():this.button.setInactiveAll(g),!1===a&&"html"!==g)return void(-1!==b.inArray(g,this.opts.activeButtons)&&this.button.toggleActive(g));this.utils.isRedactorParent(e)&&("none"!==this.core.editor().css("display")&&(this.utils.isCurrentOrParentHeader()||this.utils.isCurrentOrParent(["table","pre","blockquote","li"])?this.button.disable("horizontalrule"):this.button.enable("horizontalrule")),
b.each(this.opts.activeButtonsStates,b.proxy(function(a,g){var c=b(f).closest(a,this.$editor[0]),h=b(e).closest(a,this.$editor[0]);(0===c.length||this.utils.isRedactorParent(c))&&this.utils.isRedactorParent(h)&&(0===c.length&&0===h.closest(a,this.$editor[0]).length||this.button.setActive(g))},this)))},dropdowns:function(){var a=b("<div />").html(this.selection.html()).find("a").length,g=b(this.selection.current()),e=this.utils.isRedactorParent(g);b.each(this.opts.observe.dropdowns,b.proxy(function(b,
c){var f=c.observe,k=f.element,m=c.item,d=void 0!==f["in"]&&f["in"],f=void 0!==f.out&&f.out;0<g.closest(k).length&&e||"a"===k&&0!==a?this.observe.setDropdownProperties(m,d,f):this.observe.setDropdownProperties(m,f,d)},this))},setDropdownProperties:function(a,b,e){e&&void 0!==e.attr&&this.observe.setDropdownAttr(a,e.attr,!0);void 0!==b.attr&&this.observe.setDropdownAttr(a,b.attr);void 0!==b.title&&a.find("span").text(b.title)},setDropdownAttr:function(a,g,e){b.each(g,function(b,c){"class"===b?e?a.removeClass(c):
a.addClass(c):e?a.removeAttr(b):a.attr(b,c)})},addDropdown:function(a,b,e){void 0!==e.observe&&(e.item=a,this.opts.observe.dropdowns.push(e))},images:function(){this.opts.imageEditable&&(this.core.editor().addClass("redactor-layer-img-edit"),this.core.editor().find("img").each(b.proxy(function(a,g){var e=b(g);e.closest("a",this.$editor[0]).on("click",function(a){a.preventDefault()});this.image.setEditable(e)},this)))},links:function(){this.opts.linkTooltip&&this.core.editor().find("a").each(b.proxy(function(a,
g){var e=b(g);!0!==e.data("cached")&&(e.data("cached",!0),e.on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,b.proxy(this.observe.showTooltip,this)))},this))},getTooltipPosition:function(a){return a.offset()},showTooltip:function(a){var g=b(a.target);if("IMG"!==g[0].tagName&&("A"!==g[0].tagName&&(g=g.closest("a",this.$editor[0])),"A"===g[0].tagName)){var e=g,g=this.observe.getTooltipPosition(e),f=b('<span class="redactor-link-tooltip"></span>'),c=e.attr("href");void 0===c&&(c="");
24<c.length&&(c=c.substring(0,24)+"...");var c=b('<a href="'+e.attr("href")+'" target="_blank" />').html(c).addClass("redactor-link-tooltip-action"),h=b('<a href="#" />').html(this.lang.get("edit")).on("click",b.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),k=b('<a href="#" />').html(this.lang.get("unlink")).on("click",b.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action");f.append(c).append(" | ").append(h).append(" | ").append(k);e=parseInt(e.css("line-height"),
10);f.css({top:g.top+Math.ceil((a.pageY-g.top)/e)*e+"px",left:g.left+"px"});b(".redactor-link-tooltip").remove();b("body").append(f);this.core.editor().on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,b.proxy(this.observe.closeTooltip,this));b(document).on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,b.proxy(this.observe.closeTooltip,this))}},closeAllTooltip:function(){b(".redactor-link-tooltip").remove()},closeTooltip:function(a){a=a.originalEvent||a;a=a.target;var g=
b(a).closest("a",this.$editor[0]);0!==g.length&&"A"===g[0].tagName&&"A"!==a.tagName||"A"===a.tagName&&this.utils.isRedactorParent(a)||b(a).hasClass("redactor-link-tooltip-action")||(this.observe.closeAllTooltip(),this.core.editor().off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,b.proxy(this.observe.closeTooltip,this)),b(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,b.proxy(this.observe.closeTooltip,this)))}}},offset:function(){return{get:function(a){a=
this.offset.clone(a);if(!1===a)return 0;var g=document.createElement("div");return g.appendChild(a.cloneContents()),g.innerHTML=g.innerHTML.replace(/<img(.*?[^>])>$/gi,"i"),b.trim(b(g).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"").length},clone:function(a){var b=this.selection.get(),b=this.selection.range(b);if(null===b&&void 0===a||!1===(a=void 0===a?this.$editor:a))return!1;a=a[0]||a;var e=b.cloneRange();return e.selectNodeContents(a),e.setEnd(b.endContainer,b.endOffset),e},set:function(a,
b){b=void 0===b?a:b;this.focus.is()||this.focus.start();for(var e,f=this.selection.get(),c=this.selection.range(f),g=0,k=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);null!==(e=k.nextNode());)if(g+=e.nodeValue.length,g>a&&(c.setStart(e,e.nodeValue.length+a-g),a=1/0),g>=b){c.setEnd(e,e.nodeValue.length+b-g);break}c.collapse(!1);this.selection.update(f,c)}}},paragraphize:function(){return{load:function(a){return!1===this.opts.paragraphize||"inline"===this.opts.type||"pre"===
this.opts.type?a:""===a||"<p></p>"===a?this.opts.emptyHtml:(a+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,a=a.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>"),a=a.replace(/<\/pre>/gi,"</pre>\n\n"),a=a.replace(/<p>\s<br><\/p>/gi,"<p></p>"),a=this.paragraphize.getSafes(a),a=a.replace("<br>","\n"),a=this.paragraphize.convert(a),a=this.paragraphize.clear(a),a=this.paragraphize.restoreSafes(a),a=a.replace(new RegExp("<br\\s?/?>\n?<("+this.opts.paragraphizeBlocks.join("|")+")(.*?[^>])>",
"gi"),"<p><br /></p>\n<$1$2>"),b.trim(a))},getSafes:function(a){a=b("<div />").append(a);return a.find("blockquote p").replaceWith(function(){return b(this).append("<br />").contents()}),a.find(this.opts.paragraphizeBlocks.join(", ")).each(b.proxy(function(a,e){e&&e.tagName&&"iframe"==e.tagName.toLowerCase()&&(e.innerHTML="");var f=e.outerHTML;if(e&&e.tagName)switch(e.tagName.toLowerCase()){case "ul":case "ol":f=f.replace(RegExp("(<brs*?>s*)*<li>(s*<brs*?>)*","gi"),"\n<li>");f=f.replace(RegExp("(<brs*?>s*)*</ul>",
"gi"),"\n</ul>\n");f=f.replace(RegExp("(<brs*?>s*)*</ol>","gi"),"\n</ol>\n");break;case "table":f=f.replace(RegExp("(<brs*?>s*)*<(tr|td|tbody)>(s*<brs*?>)*","gi"),"\n<$2>"),f=f.replace(RegExp("(<brs*?>s*)*</table>","gi"),"\n</table>\n"),f=f.replace(RegExp("(<brs*?>s*)*</tbody>","gi"),"\n</tbody>"),f=f.replace(RegExp("(<brs*?>s*)*</tr>","gi"),"\n</tr>")}return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=f,b(e).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),
a.find("span.redactor-selection-marker").each(b.proxy(function(a,e){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=e.outerHTML,b(e).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),a.html()},restoreSafes:function(a){return b.each(this.paragraphize.safes,function(b,e){e=void 0!==e?e.replace(/\$/g,"&#36;"):e;a=a.replace("#####replace"+b+"#####",e)}),a},convert:function(a){a=a.replace(/\r\n/g,"xparagraphmarkerz");a=a.replace(/\n/g,"xparagraphmarkerz");
a=a.replace(/\r/g,"xparagraphmarkerz");a=a.replace(/\s+/g," ");a=b.trim(a);a=a.replace(/xparagraphmarkerzxparagraphmarkerz/gi,"</p><p>");return a=a.replace(/xparagraphmarkerz/gi,"<br>"),a="<p>"+a+"</p>",a=a.replace("<p></p>",""),a=a.replace("\r\n\r\n",""),a=a.replace(/<\/p><p>/g,"</p>\r\n\r\n<p>"),a=a.replace(RegExp("<br\\s?/?></p>","g"),"</p>"),a=a.replace(RegExp("<p><br\\s?/?>","g"),"<p>"),a=a.replace(RegExp("<p><br\\s?/?>","g"),"<p>"),a=a.replace(RegExp("<br\\s?/?></p>","g"),"</p>"),a=a.replace(/<p>&nbsp;<\/p>/gi,
""),a=a.replace(/<p>\s?<br>&nbsp;<\/p>/gi,""),a.replace(/<p>\s?<br>/gi,"<p>")},clear:function(a){return a=a.replace(/<p>(.*?)#####replace(.*?)#####\s?<\/p>/gi,"<p>$1</p>#####replace$2#####"),a=a.replace(/(<br\s?\/?>){2,}<\/p>/gi,"</p>"),a=a.replace(RegExp("</blockquote></p>","gi"),"</blockquote>"),a=a.replace(RegExp("<p></blockquote>","gi"),"</blockquote>"),a=a.replace(RegExp("<p><blockquote>","gi"),"<blockquote>"),a=a.replace(RegExp("<blockquote></p>","gi"),"<blockquote>"),a=a.replace(RegExp("<p><p ",
"gi"),"<p "),a=a.replace(RegExp("<p><p>","gi"),"<p>"),a=a.replace(RegExp("</p></p>","gi"),"</p>"),a=a.replace(RegExp("<p>\\s?</p>","gi"),""),a=a.replace(RegExp("\n</p>","gi"),"</p>"),a=a.replace(RegExp("<p>\t?\t?\n?<p>","gi"),"<p>"),a.replace(RegExp("<p>\t*</p>","gi"),"")}}},paste:function(){return{init:function(a){this.rtePaste=!0;var g=!("pre"!==this.opts.type&&!this.utils.isCurrentOrParent("pre"));if(this.detect.isDesktop()&&!this.paste.pre&&this.opts.clipboardImageUpload&&this.opts.imageUpload&&
this.paste.detectClipboardUpload(a))return void(this.detect.isIe()&&setTimeout(b.proxy(this.paste.clipboardUpload,this),100));this.utils.saveScroll();this.selection.save();this.paste.createPasteBox(g);b(window).on("scroll.redactor-freeze",b.proxy(function(){b(window).scrollTop(this.saveBodyScroll)},this));setTimeout(b.proxy(function(){var a=this.paste.getPasteBoxCode(g);this.buffer.set();this.selection.restore();this.utils.restoreScroll();var f=this.clean.getCurrentType(a),a=this.clean.onPaste(a,
f),c=this.core.callback("paste",a);this.paste.insert(void 0===c?a:c,f);this.rtePaste=!1;g&&this.clean.cleanPre();b(window).off("scroll.redactor-freeze")},this),1)},getPasteBoxCode:function(a){a=a?this.$pasteBox.val():this.$pasteBox.html();return this.$pasteBox.remove(),a},createPasteBox:function(a){var g={position:"fixed",width:"1px",top:0,left:"-9999px"};this.$pasteBox=a?b("<textarea>").css(g):b("<div>").attr("contenteditable","true").css(g);this.paste.appendPasteBox();this.$pasteBox.focus()},appendPasteBox:function(){if(this.detect.isIe())this.core.box().append(this.$pasteBox);
else{var a=b(".modal-body:visible");0<a.length?a.append(this.$pasteBox):b("body").prepend(this.$pasteBox)}},detectClipboardUpload:function(a){a=a.originalEvent||a;var g=a.clipboardData;if(this.detect.isIe()||this.detect.isFirefox())return!1;if(-1!==g.types.indexOf("public.tiff"))return a.preventDefault(),!1;if(g.items&&g.items.length){a=g.items[0].getAsFile();if(null===a)return!1;g=new FileReader;return g.readAsDataURL(a),g.onload=b.proxy(this.paste.insertFromClipboard,this),!0}},clipboardUpload:function(){var a=
this.$editor.find("img");b.each(a,b.proxy(function(a,e){if(-1!==e.src.search(/^data\:image/i)){var f=window.FormData?new FormData:null;if(window.FormData){this.upload.direct=!0;this.upload.type="image";this.upload.url=this.opts.imageUpload;this.upload.callback=b.proxy(function(a){if(this.detect.isIe())b(e).wrap(b("<figure />"));else{var c=b(e).parent();this.utils.replaceToTag(c,"figure")}e.src=a.url;this.core.callback("imageUpload",b(e),a)},this);var c=this.utils.dataURItoBlob(e.src);f.append("clipboard",
1);f.append(this.opts.imageUploadParam,c);this.progress.show();this.upload.send(f,!1);this.code.sync();this.rtePaste=!1}}},this))},insertFromClipboard:function(a){var b=window.FormData?new FormData:null;if(window.FormData){this.upload.direct=!0;this.upload.type="image";this.upload.url=this.opts.imageUpload;this.upload.callback=this.image.insert;var e=this.utils.dataURItoBlob(a.target.result);b.append("clipboard",1);b.append(this.opts.imageUploadParam,e);this.progress.show();this.upload.send(b,a);
this.rtePaste=!1}},insert:function(a,g){g.pre?this.insert.raw(a):g.text?this.insert.text(a):this.insert.html(a,g);this.detect.isFirefox()&&this.opts.imageUpload&&this.opts.clipboardImageUpload&&setTimeout(b.proxy(this.paste.clipboardUpload,this),100)}}},placeholder:function(){return{enable:function(){setTimeout(b.proxy(function(){return this.placeholder.isEditorEmpty()?this.placeholder.show():this.placeholder.hide()},this),5)},show:function(){this.core.editor().addClass("redactor-placeholder")},update:function(a){this.opts.placeholder=
a;this.core.editor().attr("placeholder",a)},hide:function(){this.core.editor().removeClass("redactor-placeholder")},is:function(){return this.core.editor().hasClass("redactor-placeholder")},init:function(){this.placeholder.enabled()&&(this.utils.isEditorRelative()||this.utils.setEditorRelative(),this.placeholder.build(),this.placeholder.buildPosition(),this.placeholder.enable(),this.placeholder.enableEvents())},enabled:function(){return this.opts.placeholder?this.core.element().attr("placeholder",
this.opts.placeholder):this.placeholder.isAttr()},enableEvents:function(){this.core.editor().on("keydown.redactor-placeholder."+this.uuid,b.proxy(this.placeholder.enable,this))},disableEvents:function(){this.core.editor().off(".redactor-placeholder."+this.uuid)},build:function(){this.core.editor().attr("placeholder",this.core.element().attr("placeholder"))},buildPosition:function(){var a=b("<style />");a.addClass("redactor-placeholder-style-tag");a.html("#"+this.core.id()+".redactor-placeholder::after "+
this.placeholder.getPosition());b("head").append(a)},getPosition:function(){return"{ top: "+this.core.editor().css("padding-top")+"; left: "+this.core.editor().css("padding-left")+"; }"},isEditorEmpty:function(){var a=b.trim(this.core.editor().html()).replace(/[\t\n]/g,"");return-1!==b.inArray(a,["","<p>\u200b</p>","<p>\u200b<br></p>",this.opts.emptyHtmlRendered])},isAttr:function(){return void 0!==this.core.element().attr("placeholder")&&""!==this.core.element().attr("placeholder")},destroy:function(){this.core.editor().removeAttr("placeholder");
this.placeholder.hide();this.placeholder.disableEvents();b(".redactor-placeholder-style-tag").remove()}}},progress:function(){return{$box:null,$bar:null,target:document.body,show:function(){this.progress.is()?this.progress.$box.show():(this.progress.build(),this.progress.$box.redactorAnimation("fadeIn"))},hide:function(){this.progress.is()&&this.progress.$box.redactorAnimation("fadeOut",{duration:.35},b.proxy(this.progress.destroy,this))},update:function(a){this.progress.show();this.progress.$bar.css("width",
a+"%")},is:function(){return null!==this.progress.$box},build:function(){this.progress.$bar=b("<span />");this.progress.$box=b('<div id="redactor-progress" />');this.progress.$box.append(this.progress.$bar);b(this.progress.target).append(this.progress.$box)},destroy:function(){this.progress.is()&&this.progress.$box.remove();this.progress.$box=null;this.progress.$bar=null}}},selection:function(){return{get:function(){return window.getSelection?window.getSelection():document.selection&&"Control"!==
document.selection.type?document.selection:null},range:function(a){return void 0===a&&(a=this.selection.get()),a.getRangeAt&&a.rangeCount?a.getRangeAt(0):null},is:function(){return!this.selection.isCollapsed()},isRedactor:function(){var a=this.selection.range();return null!==a&&(a=a.startContainer.parentNode,b(a).hasClass("redactor-in")||0!==b(a).parents(".redactor-in").length)?!0:!1},isCollapsed:function(){var a=this.selection.get();return null!==a&&a.isCollapsed},update:function(a,b){null!==b&&
(a.removeAllRanges(),a.addRange(b))},current:function(){var a=this.selection.get();return null!==a&&a.anchorNode},parent:function(){var a=this.selection.current();return null!==a&&a.parentNode},block:function(a){for(a=a||this.selection.current();a;){if(this.utils.isBlockTag(a.tagName))return!b(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},inline:function(a){for(a=a||this.selection.current();a;){if(this.utils.isInlineTag(a.tagName))return!b(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},
element:function(a){for(a||(a=this.selection.current());a;){if(1===a.nodeType)return!b(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},prev:function(){return null!==this.selection.current()&&this.selection.current().previousSibling},next:function(){return null!==this.selection.current()&&this.selection.current().nextSibling},blocks:function(a){var g=[];a=this.selection.nodes(a);b.each(a,b.proxy(function(a,b){this.utils.isBlock(b)&&g.push(b)},this));a=this.selection.block();return 0===g.length&&
!1===a?[]:0===g.length&&!1!==a?[a]:g},inlines:function(a){var g=[];a=this.selection.nodes(a);b.each(a,b.proxy(function(a,b){this.utils.isInline(b)&&g.push(b)},this));a=this.selection.inline();return 0===g.length&&!1===a?[]:0===g.length&&!1!==a?[a]:g},nodes:function(a){var g=void 0===a?[]:b.isArray(a)?a:[a];a=this.selection.get();a=this.selection.range(a);var e=[],f=[];if(this.utils.isCollapsed())e=[this.selection.current()];else{var c=a.startContainer,h=a.endContainer;if(c===h)return[this.selection.parent()];
for(;c&&c!==h;)((c=this.selection.nextNode(c))!==h||0<a.endOffset)&&e.push(c);for(c=a.startContainer;c&&c!==a.commonAncestorContainer;)e.unshift(c),c=c.parentNode}return b.each(e,function(a,c){if(c){var d=1===c.nodeType&&c.tagName.toLowerCase();b(c).hasClass("redactor-script-tag")||b(c).hasClass("redactor-selection-marker")||d&&0!==g.length&&-1===b.inArray(d,g)||f.push(c)}}),0===f.length?[]:f},nextNode:function(a){if(a.hasChildNodes())return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?
a.nextSibling:null},save:function(){this.marker.insert();this.savedSel=this.core.editor().html()},restore:function(a){var b=this.marker.find(1),e=this.marker.find(2);this.detect.isFirefox()&&this.core.editor().focus();0!==b.length&&0!==e.length?this.caret.set(b,e):0!==b.length?this.caret.start(b):this.core.editor().focus();!1!==a&&(this.marker.remove(),this.savedSel=!1)},saveInstant:function(){var a=this.core.editor()[0],b=a.ownerDocument.defaultView.getSelection();if(b.getRangeAt&&b.rangeCount){var b=
b.getRangeAt(0),e=b.cloneRange();e.selectNodeContents(a);e.setEnd(b.startContainer,b.startOffset);a=e.toString().length;return this.saved={start:a,end:a+b.toString().length,node:b.startContainer},this.saved}},restoreInstant:function(a){if(void 0!==a||this.saved)if(this.saved=void 0!==a?a:this.saved,a=this.core.editor().find(this.saved.node),0===a.length||0!==a.text().trim().replace(/\u200B/g,"").length){var b=this.core.editor()[0],e=b.ownerDocument,f=e.defaultView;a=0;e=e.createRange();e.setStart(b,
0);e.collapse(!0);for(var c,b=[b],h=!1,k=!1;!k&&(c=b.pop());)if(3==c.nodeType){var m=a+c.length;!h&&this.saved.start>=a&&this.saved.start<=m&&(e.setStart(c,this.saved.start-a),h=!0);h&&this.saved.end>=a&&this.saved.end<=m&&(e.setEnd(c,this.saved.end-a),k=!0);a=m}else for(m=c.childNodes.length;m--;)b.push(c.childNodes[m]);f=f.getSelection();f.removeAllRanges();f.addRange(e)}else try{e=document.createRange(),e.setStart(a[0],0),f=window.getSelection(),f.removeAllRanges(),f.addRange(e)}catch(d){}},node:function(a){b(a).prepend(this.marker.get(1));
b(a).append(this.marker.get(2));this.selection.restore()},all:function(){this.core.editor().focus();var a=this.selection.get(),b=this.selection.range(a);b.selectNodeContents(this.core.editor()[0]);this.selection.update(a,b)},remove:function(){this.selection.get().removeAllRanges()},replace:function(a){this.insert.html(a)},text:function(){return this.selection.get().toString()},html:function(){var a="",b=this.selection.get();if(b.rangeCount){for(var a=document.createElement("div"),e=b.rangeCount,f=
0;f<e;++f)a.appendChild(b.getRangeAt(f).cloneContents());a=this.clean.onGet(a.innerHTML)}return a},extractEndOfNode:function(a){var b=this.selection.get(),b=this.selection.range(b),e=b.cloneRange();return e.selectNodeContents(a),e.setStart(b.endContainer,b.endOffset),e.extractContents()},removeMarkers:function(){this.marker.remove()},marker:function(a){return this.marker.get(a)},markerHtml:function(a){return this.marker.html(a)}}},shortcuts:function(){return{hotkeysSpecialKeys:{8:"backspace",9:"tab",
10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",
189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hotkeysShiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},init:function(a,g){if(!1===this.opts.shortcuts)return!a.ctrlKey&&!a.metaKey||66!==g&&73!==g||a.preventDefault(),!1;b.each(this.opts.shortcuts,b.proxy(function(b,f){this.shortcuts.build(a,b,f)},this))},build:function(a,g,e){var f=b.proxy(function(){this.shortcuts.buildHandler(e)},this);
g=g.split(",");for(var c=g.length,h=0;h<c;h++)"string"==typeof g[h]&&this.shortcuts.handler(a,b.trim(g[h]),f)},buildHandler:function(a){var b;"-1"!==a.func.search(/\./)?(b=a.func.split("."),void 0!==this[b[0]]&&this[b[0]][b[1]].apply(this,a.params)):this[a.func].apply(this,a.params)},handler:function(a,g,e){g=g.toLowerCase().split(" ");var f=this.shortcuts.hotkeysSpecialKeys[a.keyCode],c=String.fromCharCode(a.which).toLowerCase(),h="",k={};b.each(["alt","ctrl","meta","shift"],function(c,b){a[b+"Key"]&&
f!==b&&(h+=b+"+")});f&&(k[h+f]=!0);c&&(k[h+c]=!0,k[h+this.shortcuts.hotkeysShiftNums[c]]=!0,"shift+"===h&&(k[this.shortcuts.hotkeysShiftNums[c]]=!0));for(var c=g.length,m=0;m<c;m++)if(k[g[m]])return a.preventDefault(),e.apply(this,arguments)}}},storage:function(){return{data:[],add:function(a){a.status=!0;a.url=decodeURI(a.url);this.storage.data[a.url]=a},status:function(a,b){this.storage.data[decodeURI(a)].status=b},observe:function(){var a=this;this.core.editor().find("[data-image]").each(function(g,
e){a.storage.add({type:"image",node:e,url:e.src,id:b(e).attr("data-image")})});this.core.editor().find("[data-file]").each(function(g,e){a.storage.add({type:"file",node:e,url:e.href,id:b(e).attr("data-file")})});this.core.editor().find("[data-s3]").each(function(g,e){a.storage.add({type:"s3",node:e,url:"IMG"===e.tagName?e.src:e.href,id:b(e).attr("data-s3")})})},changes:function(){for(var a in this.storage.data){var b=this.storage.data[a],e="IMG"===b.node.tagName?"src":"href";0===this.core.editor().find("[data-"+
b.type+"]["+e+'="'+b.url+'"]').length?this.storage.status(b.url,!1):this.storage.status(b.url,!0)}return this.storage.data}}},toolbar:function(){return{build:function(){this.button.hideButtons();this.button.hideButtonsOnMobile();this.$toolbarBox=b("<div />").addClass("redactor-toolbar-box");this.$toolbar=this.toolbar.createContainer();this.$toolbarBox.append(this.$toolbar);this.toolbar.append();this.button.$toolbar=this.$toolbar;this.button.setFormatting();this.button.load(this.$toolbar);this.toolbar.setOverflow();
this.toolbar.setFixed()},createContainer:function(){return b("<ul>").addClass("redactor-toolbar").attr({id:"redactor-toolbar-"+this.uuid,role:"toolbar"})},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),b(this.opts.toolbarExternal).html(this.$toolbarBox)):"textarea"===this.opts.type?this.$box.prepend(this.$toolbarBox):this.$element.before(this.$toolbarBox)},setOverflow:function(){this.opts.toolbarOverflow&&this.$toolbar.addClass("redactor-toolbar-overflow")},
setFixed:function(){if(this.opts.toolbarFixed&&!this.opts.toolbarExternal){if(this.opts.toolbarFixedTarget!==document){var a=b(this.opts.toolbarFixedTarget);this.toolbar.toolbarOffsetTop=0===a.length?0:this.core.box().offset().top-a.offset().top}a=0!==this.core.box().closest(".modal-body").length?1E3:0;setTimeout(b.proxy(function(){var a=this;this.toolbar.observeScroll(!1);this.detect.isDesktop()?b(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){100>a.core.editor().height()||
a.placeholder.isEditorEmpty()||a.toolbar.observeScroll()}):b(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){100>a.core.editor().height()||a.placeholder.isEditorEmpty()||(a.core.toolbar().hide(),clearTimeout(b.data(this,"scrollCheck")),b.data(this,"scrollCheck",setTimeout(function(){a.core.toolbar().show();a.toolbar.observeScroll()},250)))})},this),a)}},setUnfixed:function(){this.toolbar.observeScrollDisable()},getBoxTop:function(){return this.opts.toolbarFixedTarget===document?
this.core.box().offset().top:this.toolbar.toolbarOffsetTop},observeScroll:function(a){var g=0;!1!==a&&(g=this.opts.toolbarFixedTarget===document?20:0);a=b(this.opts.toolbarFixedTarget).scrollTop();var e=this.toolbar.getBoxTop();a!==e&&(a+this.opts.toolbarFixedTopOffset+g>e?this.toolbar.observeScrollEnable(a,e):this.toolbar.observeScrollDisable())},observeScrollResize:function(){this.$toolbar.css({width:this.core.box().innerWidth(),left:this.core.box().offset().left})},observeScrollEnable:function(a,
g){if(void 0!==this.fullscreen&&!1===this.fullscreen.isOpened)return void this.toolbar.observeScrollDisable();var e=g+this.core.box().outerHeight()-32,f=this.core.box().innerWidth(),c=this.detect.isDesktop()?"fixed":"absolute",h=this.detect.isDesktop()?this.opts.toolbarFixedTopOffset:b(this.opts.toolbarFixedTarget).scrollTop()-g+this.opts.toolbarFixedTopOffset,k=this.detect.isDesktop()?this.core.box().offset().left:0;this.opts.toolbarFixedTarget!==document&&(c="absolute",h=this.opts.toolbarFixedTopOffset+
b(this.opts.toolbarFixedTarget).scrollTop()-g,k=0);this.$toolbar.addClass("toolbar-fixed-box");this.$toolbar.css({position:c,width:f,top:h,left:k});a>e&&b(".redactor-dropdown-"+this.uuid+":visible").hide();this.toolbar.setDropdownsFixed();this.$toolbar.css("visibility",a<e?"visible":"hidden");b(window).on("resize.redactor-toolbar."+this.uuid,b.proxy(this.toolbar.observeScrollResize,this))},observeScrollDisable:function(){this.$toolbar.css({position:"relative",width:"auto",top:0,left:0,visibility:"visible"});
this.toolbar.unsetDropdownsFixed();this.$toolbar.removeClass("toolbar-fixed-box");b(window).off("resize.redactor-toolbar."+this.uuid)},setDropdownsFixed:function(){var a=this.opts.toolbarFixedTarget===document&&this.detect.isDesktop()?"fixed":"absolute";this.toolbar.setDropdownPosition(a)},unsetDropdownsFixed:function(){this.toolbar.setDropdownPosition("absolute")},setDropdownPosition:function(a){var g=this;b(".redactor-dropdown-"+this.uuid).each(function(){var e=b(this),f=g.button.get(e.attr("rel")),
c="fixed"===a?g.opts.toolbarFixedTopOffset:f.offset().top;e.css({position:a,top:f.innerHeight()+c+"px"})})}}},upload:function(){return{init:function(a,g,e){this.upload.direct=!1;this.upload.callback=e;this.upload.url=g;this.upload.$el=b(a);this.upload.$droparea=b('<div id="redactor-droparea" />');this.upload.$placeholdler=b('<div id="redactor-droparea-placeholder" />').text(this.lang.get("upload-label"));this.upload.$input=b('<input type="file" name="file" multiple />');this.upload.$placeholdler.append(this.upload.$input);
this.upload.$droparea.append(this.upload.$placeholdler);this.upload.$el.append(this.upload.$droparea);this.upload.$droparea.off("redactor.upload");this.upload.$input.off("redactor.upload");this.upload.$droparea.on("dragover.redactor.upload",b.proxy(this.upload.onDrag,this));this.upload.$droparea.on("dragleave.redactor.upload",b.proxy(this.upload.onDragLeave,this));this.upload.$input.on("change.redactor.upload",b.proxy(function(a){a=a.originalEvent||a;for(var c=this.upload.$input[0].files.length,b=
0;b<c;b++)this.upload.traverseFile(this.upload.$input[0].files[c-1-b],a)},this));this.upload.$droparea.on("drop.redactor.upload",b.proxy(function(a){a.preventDefault();this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop");this.upload.onDrop(a)},this))},directUpload:function(a,b){this.upload.direct=!0;this.upload.traverseFile(a,b)},onDrop:function(a){a=a.originalEvent||a;var b=a.dataTransfer.files;if(this.opts.multipleImageUpload)for(var e=b.length,f=0;f<e;f++)this.upload.traverseFile(b[f],
a);else this.upload.traverseFile(b[0],a)},traverseFile:function(a,b){if(this.opts.s3)return this.upload.setConfig(a),void this.uploads3.send(a,b);var e=window.FormData?new FormData:null;window.FormData&&(this.upload.setConfig(a),e.append("image"===this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam,a));this.progress.show();!1!==this.core.callback("uploadStart",b,e)&&this.upload.send(e,b)},setConfig:function(a){this.upload.getType(a);this.upload.direct&&(this.upload.url="image"===
this.upload.type?this.opts.imageUpload:this.opts.fileUpload,this.upload.callback="image"===this.upload.type?this.image.insert:this.file.insert)},getType:function(a){this.upload.type=-1===this.opts.imageTypes.indexOf(a.type)?"file":"image";null===this.opts.imageUpload&&null!==this.opts.fileUpload&&(this.upload.type="file")},getHiddenFields:function(a,g){return!1===a||"object"!=typeof a?g:(b.each(a,b.proxy(function(a,f){null!==f&&0===f.toString().indexOf("#")&&(f=b(f).val());g.append(a,f)},this)),g)},
send:function(a,g){"image"===this.upload.type?(a=this.utils.appendFields(this.opts.imageUploadFields,a),a=this.utils.appendForms(this.opts.imageUploadForms,a),a=this.upload.getHiddenFields(this.upload.imageFields,a)):(a=this.utils.appendFields(this.opts.fileUploadFields,a),a=this.utils.appendForms(this.opts.fileUploadForms,a),a=this.upload.getHiddenFields(this.upload.fileFields,a));var e=new XMLHttpRequest;e.open("POST",this.upload.url);e.setRequestHeader("X-Requested-With","XMLHttpRequest");e.onreadystatechange=
b.proxy(function(){if(4===e.readyState){var a=e.responseText,a=a.replace(/^\[/,""),a=a.replace(/\]$/,""),c;try{c="string"==typeof a?JSON.parse(a):a}catch(h){c={error:!0}}this.progress.hide();this.upload.direct||this.upload.$droparea.removeClass("drag-drop");this.upload.callback(c,this.upload.direct,g)}},this);!1!==this.core.callback("uploadBeforeSend",e)&&e.send(a)},onDrag:function(a){a.preventDefault();this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(a){a.preventDefault();this.upload.$droparea.removeClass("drag-hover")},
clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(a,b){this.upload.imageFields[a]=b},removeImageFields:function(a){delete this.upload.imageFields[a]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(a,b){this.upload.fileFields[a]=b},removeFileFields:function(a){delete this.upload.fileFields[a]}}},uploads3:function(){return{send:function(a,g){this.uploads3.executeOnSignedUrl(a,b.proxy(function(b){this.uploads3.sendToS3(a,b,g)},this))},executeOnSignedUrl:function(a,
b){var e=new XMLHttpRequest,f=-1===this.opts.s3.search(/\?/)?"?":"&";e.open("GET",this.opts.s3+f+"name="+a.name+"&type="+a.type,!0);e.overrideMimeType&&e.overrideMimeType("text/plain; charset=x-user-defined");var c=this;e.onreadystatechange=function(a){4===this.readyState&&200===this.status&&(c.progress.show(),b(decodeURIComponent(this.responseText)))};e.send()},createCORSRequest:function(a,b){var e=new XMLHttpRequest;return"withCredentials"in e?e.open(a,b,!0):"undefined"!=typeof XDomainRequest?(e=
new XDomainRequest,e.open(a,b)):e=null,e},sendToS3:function(a,g,e){var f=this.uploads3.createCORSRequest("PUT",g);f&&(f.onload=b.proxy(function(){var a;if(this.progress.hide(),200!==f.status)return a={error:!0},void this.upload.callback(a,this.upload.direct,f);var b=g.split("?");if(!b[0])return!1;if(this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),a={url:b[0],id:b[0],s3:!0},"file"===this.upload.type)b=b[0].split("/"),a.name=b[b.length-1];this.upload.callback(a,this.upload.direct,
e)},this),f.onerror=function(){},f.upload.onprogress=function(a){},f.setRequestHeader("Content-Type",a.type),f.setRequestHeader("x-amz-acl","public-read"),f.send(a))}}},utils:function(){return{isEmpty:function(a){return a=void 0===a?this.core.editor().html():a,a=a.replace(/[\u200B-\u200D\uFEFF]/g,""),a=a.replace(/&nbsp;/gi,""),a=a.replace(/<\/?br\s?\/?>/g,""),a=a.replace(/\s/g,""),a=a.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,""),a=a.replace(/<iframe(.*?[^>])>$/i,"iframe"),a=a.replace(/<source(.*?[^>])>$/i,
"source"),a=a.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),a=a.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),""===b.trim(a)},isElement:function(a){try{return a instanceof HTMLElement}catch(g){return"object"==typeof a&&1===a.nodeType&&"object"==typeof a.style&&"object"==typeof a.ownerDocument}},strpos:function(a,b,e){a=a.indexOf(b,e);return 0<=a&&a},dataURItoBlob:function(a){var b;b=0<=a.split(",")[0].indexOf("base64")?atob(a.split(",")[1]):unescape(a.split(",")[1]);a=a.split(",")[0].split(":")[1].split(";")[0];
for(var e=new Uint8Array(b.length),f=0;f<b.length;f++)e[f]=b.charCodeAt(f);return new Blob([e],{type:a})},getOuterHtml:function(a){return b("<div>").append(b(a).eq(0).clone()).html()},cloneAttributes:function(a,g){a=a[0]||a;g=b(g);for(var e=a.attributes,f=e.length;f--;){var c=e[f];g.attr(c.name,c.value)}return g},breakBlockTag:function(){var a=this.selection.block();if(!a)return!1;var g=this.utils.isEmpty(a.innerHTML),e=a.tagName.toLowerCase();if("pre"===e||"li"===e||"td"===e||"th"===e)return!1;if(!g&&
this.utils.isStartOfElement(a))return{$block:b(a),$next:b(a).next(),type:"start"};if(!g&&this.utils.isEndOfElement(a))return{$block:b(a),$next:b(a).next(),type:"end"};g=this.selection.extractEndOfNode(a);e=b("<"+e+" />").append(g);return e=this.utils.cloneAttributes(a,e),b(a).after(e),{$block:b(a),$next:e,type:"break"}},inBlocks:function(a){a=b.isArray(a)?a:[a];for(var g=this.selection.blocks(),e=g.length,f=!1,c=0;c<e;c++)if(!1!==g[c]){var h=g[c].tagName.toLowerCase();-1!==b.inArray(h,a)&&(f=!0)}return f},
inInlines:function(a){a=b.isArray(a)?a:[a];for(var g=this.selection.inlines(),e=g.length,f=!1,c=0;c<e;c++){var h=g[c].tagName.toLowerCase();-1!==b.inArray(h,a)&&(f=!0)}return f},isTag:function(a,g){var e=b(a).closest(g,this.core.editor()[0]);return 1===e.length&&e[0]},isBlock:function(a){return null!==a&&(a=a[0]||a)&&this.utils.isBlockTag(a.tagName)},isBlockTag:function(a){return void 0!==a&&this.reIsBlock.test(a)},isInline:function(a){return(a=a[0]||a)&&this.utils.isInlineTag(a.tagName)},isInlineTag:function(a){return void 0!==
a&&this.reIsInline.test(a)},isRedactorParent:function(a){return!!a&&0!==b(a).parents(".redactor-in").length&&!b(a).hasClass("redactor-in")&&a},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent("H1 H2 H3 H4 H5 H6".split(" "))},isCurrentOrParent:function(a){var g=this.selection.parent(),e=this.selection.current();if(b.isArray(a)){var f=0;return b.each(a,b.proxy(function(a,b){this.utils.isCurrentOrParentOne(e,g,b)&&f++},this)),0!==f}return this.utils.isCurrentOrParentOne(e,g,a)},
isCurrentOrParentOne:function(a,b,e){return e=e.toUpperCase(),b&&b.tagName===e?b:!(!a||a.tagName!==e)&&a},isEditorRelative:function(){var a=this.core.editor().css("position");return-1!==b.inArray(["absolute","fixed","relative"],a)},setEditorRelative:function(){this.core.editor().addClass("redactor-relative")},getScrollTarget:function(){var a=b(this.opts.scrollTarget);return 0!==a.length?a:b(document)},freezeScroll:function(){this.freezeScrollTop=this.utils.getScrollTarget().scrollTop();this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},
unfreezeScroll:function(){void 0!==this.freezeScrollTop&&this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},saveScroll:function(){this.tmpScrollTop=this.utils.getScrollTarget().scrollTop()},restoreScroll:function(){void 0!==this.tmpScrollTop&&this.utils.getScrollTarget().scrollTop(this.tmpScrollTop)},isStartOfElement:function(a){return!(void 0===a&&!(a=this.selection.block()))&&0===this.offset.get(a)},isEndOfElement:function(a){if(void 0===a&&!(a=this.selection.block()))return!1;var g=
b.trim(b(a).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"");return this.offset.get(a)===g.length},removeEmptyAttr:function(a,g){var e=b(a);return void 0===e.attr(g)||""===e.attr(g)&&(e.removeAttr(g),!0)},replaceToTag:function(a,g){var e;return b(a).replaceWith(function(){e=b("<"+g+" />").append(b(this).contents());for(var a=0;a<this.attributes.length;a++)e.attr(this.attributes[a].name,this.attributes[a].value);return e}),e},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=
!0},disableSelectAll:function(){this.selectAll=!1},disableBodyScroll:function(){var a=b("html"),g=window.innerWidth;g||(g=document.documentElement.getBoundingClientRect(),g=g.right-Math.abs(g.left));var g=document.body.clientWidth<g,e=this.utils.measureScrollbar();a.css("overflow","hidden");g&&a.css("padding-right",e)},measureScrollbar:function(){var a=b("body"),g=document.createElement("div");g.className="redactor-scrollbar-measure";a.append(g);var e=g.offsetWidth-g.clientWidth;return a[0].removeChild(g),
e},enableBodyScroll:function(){b("html").css({overflow:"","padding-right":""});b("body").remove("redactor-scrollbar-measure")},appendFields:function(a,g){if(!a)return g;if("object"==typeof a)return b.each(a,function(a,c){null!==c&&0===c.toString().indexOf("#")&&(c=b(c).val());g.append(a,c)}),g;var e=b(a);return 0===e.length?g:(e.each(function(){g.append(b(this).attr("name"),b(this).val())}),g)},appendForms:function(a,g){if(!a)return g;var e=b(a);if(0===e.length)return g;e=e.serializeArray();return b.each(e,
function(a,c){g.append(c.name,c.value)}),g},isRgb:function(a){return 0===a.search(/^rgb/i)},rgb2hex:function(a){return a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),a&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""},isCollapsed:function(){return this.selection.isCollapsed()},isMobile:function(){return this.detect.isMobile()},isDesktop:function(){return this.detect.isDesktop()},
isPad:function(){return this.detect.isIpad()}}},browser:function(){return{webkit:function(){return this.detect.isWebkit()},ff:function(){return this.detect.isFirefox()},ie:function(){return this.detect.isIe()}}}};b(window).on("load.tools.redactor",function(){b('[data-tools="redactor"]').redactor()});n.prototype.init.prototype=n.prototype}(jQuery),function(b){function n(n,a,g,e){var f={duration:.5,iterate:1,delay:0,prefix:"redactor-",timing:"linear"};this.animation=a;this.slide="slideDown"===this.animation||
"slideUp"===this.animation;this.$element=b(n);this.prefixes=["","-moz-","-o-animation-","-webkit-"];this.queue=[];"function"==typeof g?(e=g,this.opts=f):this.opts=b.extend(f,g);this.slide&&this.$element.height(this.$element.height());this.init(e)}b.fn.redactorAnimation=function(b,a,g){return this.each(function(){new n(this,b,a,g)})};n.prototype={init:function(b){this.queue.push(this.animation);this.clean();"show"===this.animation?(this.opts.timing="linear",this.$element.removeClass("hide").show(),
"function"==typeof b&&b(this)):"hide"===this.animation?(this.opts.timing="linear",this.$element.hide(),"function"==typeof b&&b(this)):this.animate(b)},animate:function(n){this.$element.addClass("redactor-animated").css("display","").removeClass("hide");this.$element.addClass(this.opts.prefix+this.queue[0]);this.set(this.opts.duration+"s",this.opts.delay+"s",this.opts.iterate,this.opts.timing);var a=1<this.queue.length?null:n;this.complete("AnimationEnd",b.proxy(function(){this.$element.hasClass(this.opts.prefix+
this.queue[0])&&(this.clean(),this.queue.shift(),this.queue.length&&this.animate(n))},this),a)},set:function(b,a,g,e){for(var f=this.prefixes.length;f--;)this.$element.css(this.prefixes[f]+"animation-duration",b),this.$element.css(this.prefixes[f]+"animation-delay",a),this.$element.css(this.prefixes[f]+"animation-iteration-count",g),this.$element.css(this.prefixes[f]+"animation-timing-function",e)},clean:function(){this.$element.removeClass("redactor-animated");this.$element.removeClass(this.opts.prefix+
this.queue[0]);this.set("","","","")},complete:function(n,a,g){this.$element.one(n.toLowerCase()+" webkit"+n+" o"+n+" MS"+n,b.proxy(function(){"function"==typeof a&&a();"function"==typeof g&&g(this);-1!==b.inArray(this.animation,"fadeOut slideUp zoomOut slideOutUp slideOutRight slideOutLeft".split(" "))&&this.$element.css("display","none");this.slide&&this.$element.css("height","")},this))}}}(jQuery),function(b){b.Redactor.prototype.alignment=function(){return{langs:{en:{align:"Align","align-left":"Align Left",
"align-center":"Align Center","align-right":"Align Right","align-justify":"Align Justify"}},init:function(){var b={};b.left={title:this.lang.get("align-left"),func:this.alignment.setLeft};b.center={title:this.lang.get("align-center"),func:this.alignment.setCenter};b.right={title:this.lang.get("align-right"),func:this.alignment.setRight};b.justify={title:this.lang.get("align-justify"),func:this.alignment.setJustify};var t=this.button.add("alignment",this.lang.get("align"));this.button.setIcon(t,'<i class="re-icon-alignment"></i>');
this.button.addDropdown(t,b)},removeAlign:function(){this.block.removeAttr("style")},setLeft:function(){this.buffer.set();this.alignment.removeAlign()},setCenter:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: center"});this.core.editor().focus()},setRight:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: right"});this.core.editor().focus()},setJustify:function(){this.buffer.set();this.alignment.removeAlign();
this.block.addAttr({style:"text-align: justify"});this.core.editor().focus()}}}}(jQuery),!RedactorPlugins)var RedactorPlugins={};
!function(){function b(b,t,a,g,e){return function(){var f;return{locfn:window.$_||function(a){return a},langs:{en:{"code-to-insert":"Code to insert","blockquote-to-insert":"Blockquote to insert"}},init:function(){f=this[b];g=f.locfn(g);f.initToolbar();f.initEvents();f.initModal()},initToolbar:function(){var c=this.button.add(b,g);this.button.addCallback(c,f.show);this.button.setIcon(c,'<i class="'+a+'"></i>')},initEvents:function(){var a=null;this.$editor.on("keydown.redactor-"+b,$.proxy(function(c){c.which!=
this.keyCode.DOWN&&c.which!=this.keyCode.UP||(a=this.caret.getOffset())},this));this.$editor.on("keyup.redactor-"+b,$.proxy(function(c){if((c.which==this.keyCode.DOWN||c.which==this.keyCode.UP)&&a==this.caret.getOffset()){var b=$(this.selection.getBlock());if(b.length&&b.is(t)){var e;if(e=c.which==this.keyCode.DOWN?b.next():b.prev(),e.length){if(""!=$.trim(e.text()))return;e.html("&#8203;")}else e=f.insertNewline(b),c.which==this.keyCode.UP&&e.insertBefore(b);this.caret.setStart(e)}}},this))},initModal:function(){this.modal.addTemplate(b,
f.getTemplate());this.modal.addCallback(b,function(){this.modal.getCancelButton();this.modal.getActionButton(f.locfn("Insert")).on("click",function(){f.insertSnippet($("#h-"+b+"-textarea").val())})})},getTemplate:function(){return'<div class="modal-section" id="redactor-modal-'+b+'-insert"><section><label>'+this.lang.get(e)+'</label><textarea id="h-'+b+'-textarea" style="height: 200px"></textarea></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+
this.lang.get("cancel")+"</button></section></div>"},show:function(){this.buffer.set();this.selection.save();this.modal.load(b,g,800);this.modal.show();this.detect.isDesktop()&&setTimeout(function(){$("#h-"+b+"-textarea").focus()},1)},insertSnippet:function(a){this.modal.close();this.selection.restore();f.insertNewline($("<"+t+">").text(a).insertAfter(this.selection.current()));this.code.sync()},insertNewline:function(a){return $("<p>&#8203;</p>").insertAfter(a)}}}}RedactorPlugins.codeblock=b("codeblock",
"pre","re-icon-html","Insert code block","code-to-insert");RedactorPlugins.blockquote=b("blockquote","blockquote","re-icon-clips","Insert quote","blockquote-to-insert");$.wa&&($.wa.RedactorCodeblockPluginFactory=b)}();
(function(b){b.Redactor.prototype.fontcolor=function(){return{langs:{en:{fontcolor:"Text Color","fontcolor-highlight":"Highlight","fontcolor-text":"Text","fontcolor-none":"None"}},init:function(){var n="#ffffff #000000 #ff0000 #cc0000 #4f81bd #c0504d #9bbb59 #8064a2 #4bacc6 #f79646 #ffff00 #f2f2f2 #7f7f7f #0000ff #0000cc #dbe5f1 #f2dcdb #ebf1dd #e5e0ec #dbeef3 #fdeada #fff2ca #d8d8d8 #595959 #00ff00 #00cc00 #b8cce4 #e5b9b7 #d7e3bc #ccc1d9 #b7dde8 #fbd5b5 #ffe694 #bfbfbf #3f3f3f #7bed0c #59a60d #95b3d7 #d99694 #c3d69b #b2a2c7 #b7dde8 #fac08f #f2c314 #a5a5a5 #262626 #00ffff #00cccc #366092 #953734 #76923c #5f497a #92cddc #e36c09 #c09100 #7f7f7f #0c0c0c #ff00ff #cc00cc #244061 #632423 #4f6128 #3f3151 #31859b #974806 #7f6000".split(" "),t=
this.button.add("fontcolor",this.lang.get("fontcolor"));this.button.setIcon(t,'<i class="re-icon-fontcolor"></i>');var a=this.button.addDropdown(t);a.attr("rel","fontcolor");a.width(242);var t=b('<div style="overflow: hidden; text-align: center;">'),g=b('<span rel="text" class="re-dropdown-box-selector-font" style="background: #eee; float: left; padding: 8px 0; cursor: pointer; font-size: 12px; width: 50%;">'+this.lang.get("fontcolor-text")+"</span>"),e=b('<span rel="back" class="re-dropdown-box-selector-font" style="float: left; padding: 8px 0; cursor: pointer; font-size: 12px; width: 50%;">'+
this.lang.get("fontcolor-highlight")+"</span>");t.append(g);t.append(e);a.append(t);this.fontcolor.buildPicker(a,"textcolor",n);this.fontcolor.buildPicker(a,"backcolor",n);g.on("mousedown",function(e){e.preventDefault();a.find(".re-dropdown-box-selector-font").css("background","none");a.find(".re-dropdown-box-backcolor").hide();a.find(".re-dropdown-box-textcolor").show();b(this).css("background","#eee")});e.on("mousedown",function(e){e.preventDefault();a.find(".re-dropdown-box-selector-font").css("background",
"none");a.find(".re-dropdown-box-textcolor").hide();a.find(".re-dropdown-box-backcolor").show();b(this).css("background","#eee")})},buildPicker:function(n,t,a){for(var g=b('<div class="re-dropdown-box-'+t+'">'),e="backcolor"==t?"background-color":"color",f=a.length,c=this,h=function(a){a.preventDefault();c.fontcolor.set(b(this).data("rule"),b(this).attr("rel"))},k=0;k<f;k++){var m=a[k],d=b('<a rel="'+m+'" data-rule="'+e+'" href="#" style="float: left; box-sizing: border-box; font-size: 0; border: 2px solid #fff; padding: 0; margin: 0; width: 22px; height: 22px;"></a>');
d.css("background-color",m);d.on("mousedown",h);g.append(d)}a=b('<a href="#" style="display: block; clear: both; padding: 8px 5px; box-sizing: border-box; font-size: 12px; line-height: 1;"></a>').html(this.lang.get("fontcolor-none"));a.on("mousedown",b.proxy(function(a){a.preventDefault();this.fontcolor.remove(e)},this));g.append(a);n.append(g);"backcolor"==t&&g.hide()},set:function(b,t){this.inline.format("span","style",b+": "+t+";");this.dropdown.hide()},remove:function(b){this.inline.removeStyleRule(b);
this.dropdown.hide()}}}})(jQuery);
(function(b){b.Redactor.prototype.fontfamily=function(){return{langs:{en:{fontfamily:"Font","fontfamily-remove":"Remove Font Family"}},init:function(){var n=this,t={};b.each("Arial;Helvetica;Georgia;Times New Roman;Verdana;Monospace".split(";"),function(a,b){t["s"+a]={title:b,func:function(){n.fontfamily.set(b)}}});t.remove={title:this.lang.get("fontfamily-remove"),func:n.fontfamily.reset};var a=this.button.add("fontfamily",this.lang.get("fontfamily"));this.button.setIcon(a,'<i class="re-icon-fontfamily"></i>');
this.button.addDropdown(a,t)},set:function(b){this.inline.format("span","style","font-family:"+b+";")},reset:function(){this.inline.removeStyleRule("font-family")}}}})(jQuery);
(function(b){b.Redactor.prototype.fontsize=function(){return{langs:{en:{fontsize:"Size","fontsize-remove":"Remove Font Size"}},init:function(){var n=this,t={};b.each([10,11,12,14,16,18,20,24,28,30],function(a,b){t["s"+a]={title:b+"px",func:function(){n.fontsize.set(b)}}});t.remove={title:this.lang.get("fontsize-remove"),func:n.fontsize.reset};var a=this.button.add("fontsize",this.lang.get("fontsize"));this.button.setIcon(a,'<i class="re-icon-fontsize"></i>');this.button.addDropdown(a,t)},set:function(b){this.inline.format("span",
"style","font-size: "+b+"px;")},reset:function(){this.inline.removeStyleRule("font-size")}}}})(jQuery);
(function(b){b.Redactor.prototype.inlinestyle=function(){return{langs:{en:{style:"Style","style-marked":"Marked","style-code":"Code","style-sample":"Sample","style-variable":"Variable","style-shortcut":"Shortcut","style-cite":"Cite","style-sup":"Superscript","style-sub":"Subscript"}},init:function(){var n=this,t={};b.each({marked:{title:"style-marked",args:["mark"]},code:{title:"style-code",args:["code"]},sample:{title:"style-sample",args:["samp"]},variable:{title:"style-variable",args:["var"]},shortcut:{title:"style-shortcut",
args:["kbd"]},cite:{title:"style-cite",args:["cite"]},sup:{title:"style-sup",args:["sup"]},sub:{title:"style-sub",args:["sub"]}},function(a,b){t[a]={title:n.lang.get(b.title),func:"inline.format",args:b.args}});var a=this.button.addAfter("format","inline",this.lang.get("style"));this.button.setIcon(a,'<i class="re-icon-inline"></i>');this.button.addDropdown(a,t)}}}})(jQuery);
(function(b){b.Redactor.prototype.properties=function(){return{langs:{en:{properties:"Properties"}},block:!1,labelStyle:{position:"absolute",padding:"2px 5px","line-height":1,"border-radius":"5px","font-size":"10px",color:"rgba(255, 255, 255, .9)","z-index":99},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-properties"><section><label id="modal-properties-id-label">Id</label><input type="text" id="modal-properties-id" /></section><section><label id="modal-properties-class-label">Class</label><input type="text" id="modal-properties-class" /></section><section><button id="redactor-modal-button-action">Save</button><button id="redactor-modal-button-cancel">Cancel</button></section></div>'},
setup:function(){this.opts.properties=void 0===this.opts.properties?{}:this.opts.properties;this.opts.properties.id=void 0===this.opts.properties.id||this.opts.properties.id;this.opts.properties.classname=void 0===this.opts.properties.classname||this.opts.properties.classname;this.opts.properties.show=void 0!==this.opts.properties.show&&this.opts.properties.show},init:function(){if("pre"!==this.opts.type&&"inline"!==this.opts.type){this.properties.setup();this.properties.createLabelId(this.properties.labelStyle);
this.properties.createLabelClass(this.properties.labelStyle);this.properties.setEvents();var b=this.button.add("properties",this.lang.get("properties"));this.button.setIcon(b,'<i class="re-icon-properties"></i>');this.button.addCallback(b,this.properties.show)}},show:function(){this.modal.addTemplate("properties",this.properties.getTemplate());this.modal.load("properties","Properties",600);this.modal.getActionButton().text("Save").on("click",this.properties.save);this.properties.showId();this.properties.showClass();
this.modal.show()},createLabelId:function(n){(this.opts.properties.show||this.opts.properties.id)&&(this.properties.labelId=b("<span />").attr("id","redactor-properties-label-id-"+this.uuid).attr("title","ID").hide(),this.properties.labelId.css(n).css("background","rgba(229, 57, 143, .7)"),b("body").append(this.properties.labelId))},createLabelClass:function(n){(this.opts.properties.show||this.opts.properties.classname)&&(this.properties.labelClass=b("<span />").attr("id","redactor-properties-label-class-"+
this.uuid).attr("title","class").hide(),this.properties.labelClass.css(n).css("background","rgba(61, 121, 242, .7)"),b("body").append(this.properties.labelClass))},setEvents:function(){this.core.element().on("click.callback.redactor",this.properties.showOnClick);b(document).on("mousedown.redactor-properties",b.proxy(this.properties.hideOnBlur,this));this.core.element().on("destroy.callback.redactor",b.proxy(function(){b(document).off(".redactor-properties")},this))},showId:function(){this.opts.properties.id?
(b("#modal-properties-id-label").show(),b("#modal-properties-id").show().val(b(this.properties.block).attr("id"))):b("#modal-properties-id, #modal-properties-id-label").hide()},showClass:function(){this.opts.properties.classname?(b("#modal-properties-class-label").show(),b("#modal-properties-class").show().val(b(this.properties.block).attr("class"))):b("#modal-properties-class, #modal-properties-class-label").hide()},save:function(){if(this.opts.properties.id){var n=b("#modal-properties-id").val();
void 0===n||""===n?this.block.removeAttr("id",this.properties.block):this.block.replaceAttr("id",n,this.properties.block)}this.opts.properties.classname&&(n=b("#modal-properties-class").val(),void 0===n||""===n?this.block.removeAttr("class",this.properties.block):this.block.replaceClass(n,this.properties.block));this.modal.close();this.properties.showOnClick(!1)},showOnClick:function(n){!1!==n&&n.preventDefault();n=void 0!==this.fullscreen&&this.fullscreen.isOpen?1052:99;if(this.properties.block=
this.selection.block(),this.properties.block&&this.utils.isRedactorParent(this.properties.block)&&!this.utils.isCurrentOrParent(["figure","li"])){var t=b(this.properties.block).offset(),a=this.properties.showOnClickClass(t,n);this.properties.showOnClickId(t,n,a)}},showOnClickId:function(n,t,a){var g=b(this.properties.block).attr("id");this.opts.properties.show&&this.opts.properties.id&&void 0!==g&&""!==g&&setTimeout(b.proxy(function(){var b=this.opts.properties.classname&&void 0!==a&&""!==a?this.properties.labelClass.innerWidth():
-3;this.properties.labelId.css({zIndex:t,top:n.top-13,left:n.left+b}).show().text("#"+g)},this),10)},showOnClickClass:function(n,t){var a=b(this.properties.block).attr("class");return this.opts.properties.show&&this.opts.properties.classname&&void 0!==a&&""!==a&&this.properties.labelClass.css({zIndex:t,top:n.top-13,left:n.left-3}).show().text(a),a},hideOnBlur:function(b){b.target!==this.properties.block&&(this.properties.hideOnBlurId(),this.properties.hideOnBlurClass())},hideOnBlurId:function(){this.opts.properties.show&&
this.opts.properties.id&&this.properties.labelId.css("z-index",99).hide()},hideOnBlurClass:function(){this.opts.properties.show&&this.opts.properties.classname&&this.properties.labelClass.css("z-index",99).hide()}}}})(jQuery);
(function(b){b.Redactor.prototype.source=function(){return{init:function(){var n=this.button.addFirst("html","HTML");this.button.setIcon(n,'<i class="re-icon-html"></i>');this.button.addCallback(n,this.source.toggle);this.source.$textarea=b("<textarea />");this.source.$textarea.css({width:"100%",margin:"0",background:"#1d1d1d","box-sizing":"border-box",color:"#ccc","font-size":"15px",outline:"none",padding:"20px","line-height":"24px","font-family":'Consolas, Menlo, Monaco, "Courier New", monospace'}).hide();
"textarea"===this.opts.type?this.core.box().append(this.source.$textarea):this.core.box().after(this.source.$textarea);this.core.element().on("destroy.callback.redactor",b.proxy(function(){this.source.$textarea.remove()},this))},toggle:function(){this.source.$textarea.hasClass("open")?this.source.hide():(this.source.show(),this.source.$textarea.on("keyup.redactor-source",b.proxy(function(){var b=this.source.$textarea.val();this.core.callback("change",b)},this)))},setCaretOnShow:function(){this.source.offset=
this.offset.get();b(window).scrollTop();this.core.editor().innerWidth();this.core.editor().innerHeight();this.source.start=0;this.source.end=0;var n=b("<div/>").append(b.parseHTML(this.core.editor().html(),document,!0)),t=n.find("span.redactor-selection-marker");if(0<t.length){var a=n.html().replace(/&amp;/g,"&");1===t.length?(this.source.start=this.utils.strpos(a,n.find("#selection-marker-1").prop("outerHTML")),this.source.end=this.source.start):2===t.length&&(this.source.start=this.utils.strpos(a,
n.find("#selection-marker-1").prop("outerHTML")),this.source.end=this.utils.strpos(a,n.find("#selection-marker-2").prop("outerHTML"))-n.find("#selection-marker-1").prop("outerHTML").toString().length)}},setCaretOnHide:function(b){if(this.source.start=this.source.$textarea.get(0).selectionStart,this.source.end=this.source.$textarea.get(0).selectionEnd,this.source.start>this.source.end&&0<this.source.end){var n=this.source.start;this.source.start=this.source.end;this.source.end=n}if(this.source.start=
this.source.enlargeOffset(b,this.source.start),this.source.end=this.source.enlargeOffset(b,this.source.end),b=b.substr(0,this.source.start)+this.marker.html(1)+b.substr(this.source.start),this.source.end>this.source.start)n=this.marker.html(1).toString().length,b=b.substr(0,this.source.end+n)+this.marker.html(2)+b.substr(this.source.end+n);return b},hide:function(){this.source.$textarea.removeClass("open").hide();this.source.$textarea.off(".redactor-source");var b=this.source.$textarea.val(),b=this.paragraphize.load(b),
b=this.source.setCaretOnHide(b),b=b.replace('&amp;<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>','<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>&amp;');this.code.start(b);this.button.enableAll();this.core.editor().show().focus();this.selection.restore();this.placeholder.enable();this.core.callback("visual")},show:function(){this.selection.save();this.source.setCaretOnShow();var n=this.core.editor().height(),t=this.code.get(),t=this.core.callback("source",
t);this.core.editor().hide();this.button.disableAll("html");this.source.$textarea.val(t).height(n).addClass("open").show();this.source.$textarea.on("keyup.redactor-source",b.proxy(function(){"textarea"===this.opts.type&&this.core.textarea().val(this.source.$textarea.val())},this));this.marker.remove();b(window).scrollTop(scroll);this.source.$textarea[0].setSelectionRange&&this.source.$textarea[0].setSelectionRange(this.source.start,this.source.end);this.source.$textarea[0].scrollTop=0;setTimeout(b.proxy(function(){this.source.$textarea.focus()},
this),0)},enlargeOffset:function(b,t){var a=b.length,g=0;if(">"===b[t])g++;else for(var e=t;e<=a&&(g++,">"!==b[e]);e++)if("<"===b[e]||e===a){g=0;break}return t+g}}}})(jQuery);
(function(b){b.Redactor.prototype.table=function(){return{langs:{en:{table:"Table","insert-table":"Insert table","insert-row-above":"Insert row above","insert-row-below":"Insert row below","insert-column-left":"Insert column left","insert-column-right":"Insert column right","add-head":"Add head","delete-head":"Delete head","delete-column":"Delete column","delete-row":"Delete row","delete-table":"Delete table"}},init:function(){var b={};b.insert_table={title:this.lang.get("insert-table"),func:this.table.insert,
observe:{element:"table","in":{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.insert_row_above={title:this.lang.get("insert-row-above"),func:this.table.addRowAbove,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.insert_row_below={title:this.lang.get("insert-row-below"),func:this.table.addRowBelow,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.insert_column_left=
{title:this.lang.get("insert-column-left"),func:this.table.addColumnLeft,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.insert_column_right={title:this.lang.get("insert-column-right"),func:this.table.addColumnRight,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.add_head={title:this.lang.get("add-head"),func:this.table.addHead,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive",
"aria-disabled":!0}}}};b.delete_head={title:this.lang.get("delete-head"),func:this.table.deleteHead,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.delete_column={title:this.lang.get("delete-column"),func:this.table.deleteColumn,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.delete_row={title:this.lang.get("delete-row"),func:this.table.deleteRow,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive",
"aria-disabled":!0}}}};b.delete_table={title:this.lang.get("delete-table"),func:this.table.deleteTable,observe:{element:"table",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}};var t=this.button.addBefore("link","table",this.lang.get("table"));this.button.setIcon(t,'<i class="re-icon-table"></i>');this.button.addDropdown(t,b)},insert:function(){if(!this.table.getTable()){this.placeholder.hide();for(var n=b("<div>"),t=b("<table />"),a=0;2>a;a++){for(var g=b("<tr>"),e=0;3>
e;e++){var f=b("<td>"+this.opts.invisibleSpace+"</td>");0===a&&0===e&&f.append(this.marker.get());b(g).append(f)}t.append(g)}n.append(t);n=n.html();this.buffer.set();a=this.selection.current();0!==b(a).closest("li",this.core.editor()[0]).length?b(a).closest("ul, ol").first().after(n):(this.air.collapsed(),this.insert.html(n));this.selection.restore();this.core.callback("insertedTable",t)}},getTable:function(){var n=b(this.selection.current()).closest("table");return!!this.utils.isRedactorParent(n)&&
0!==n.length&&n},restoreAfterDelete:function(b){this.selection.restore();b.find("span.redactor-selection-marker").remove()},deleteTable:function(){var b=this.table.getTable();if(b){this.buffer.set();var t=b.next();this.opts.linebreaks||0===t.length?this.caret.after(b):this.caret.start(t);b.remove()}},deleteRow:function(){var n=this.table.getTable();if(n){var t=b(this.selection.current());this.buffer.set();var t=t.closest("tr"),a=t.prev().length?t.prev():t.next();a.length&&(a=a.children("td, th").first(),
a.length&&a.prepend(this.marker.get()));t.remove();this.table.restoreAfterDelete(n)}},deleteColumn:function(){var n=this.table.getTable();if(n){this.buffer.set();var t=b(this.selection.current()).closest("td, th")[0].cellIndex;n.find("tr").each(b.proxy(function(a,g){var e=b(g),f=0>t-1?t+1:t-1;0===a&&e.find("td, th").eq(f).prepend(this.marker.get());e.find("td, th").eq(t).remove()},this));this.table.restoreAfterDelete(n)}},addHead:function(){var n=this.table.getTable();if(n){if(this.buffer.set(),0!==
n.find("thead").length)return void this.table.deleteHead();var t=n.find("tr").first().clone();t.find("td").replaceWith(b.proxy(function(){return b("<th>").html(this.opts.invisibleSpace)},this));$thead=b("<thead></thead>").append(t);n.prepend($thead)}},deleteHead:function(){var b=this.table.getTable();b&&(b=b.find("thead"),0!==b.length&&(this.buffer.set(),b.remove()))},addRowAbove:function(){this.table.addRow("before")},addRowBelow:function(){this.table.addRow("after")},addColumnLeft:function(){this.table.addColumn("before")},
addColumnRight:function(){this.table.addColumn("after")},addRow:function(n){if(this.table.getTable()){this.buffer.set();var t=b(this.selection.current()).closest("tr"),a=t.clone();a.find("th").replaceWith(function(){var a=b("<td>");return a[0].attributes=this.attributes,a.append(b(this).contents())});a.find("td").html(this.opts.invisibleSpace);"after"===n?t.after(a):t.before(a)}},addColumn:function(n){var t=this.table.getTable();if(t){var a=0,g=b(this.selection.current());this.buffer.set();var e=
g.closest("tr"),f=g.closest("td, th");e.find("td, th").each(b.proxy(function(c,e){b(e)[0]===f[0]&&(a=c)},this));t.find("tr").each(b.proxy(function(c,e){var f=b(e).find("td, th").eq(a),g=f.clone();g.html(this.opts.invisibleSpace);"after"===n?f.after(g):f.before(g)},this))}}}}})(jQuery);
(function(b){b.Redactor.prototype.video=function(){return{reUrlYoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,reIframeYoutube:/.*src="https?:\/\/(www\.)?youtube.com\/embed\/(\w+).*/,reUrlVimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,reUrlVimeoChannel:/https?:\/\/(www\.)?vimeo.com\/channels\/.*\/(\d+)($|\/)/,reIframeVimeo:/.*src="https?:\/\/(www\.)?player.vimeo.com\/video\/(\d+).*/,langs:{en:{video:"Video",
"video-html-code":"Video Embed Code or Youtube/Vimeo Link"}},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-video-insert"><section><label>'+this.lang.get("video-html-code")+'</label><textarea id="redactor-insert-video-area" style="height: 160px;"></textarea></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"},init:function(){var b=
this.button.addAfter("image","video",this.lang.get("video"));this.button.setIcon(b,'<i class="re-icon-video"></i>');this.button.addCallback(b,this.video.show)},show:function(){this.modal.addTemplate("video",this.video.getTemplate());this.modal.load("video",this.lang.get("video"),700);this.modal.getActionButton().text(this.lang.get("insert")).on("click",this.video.insert);this.modal.show();this.detect.isDesktop()&&setTimeout(function(){b("#redactor-insert-video-area").focus()},1)},insert:function(){var n=
b("#redactor-insert-video-area").val(),t=n.match(/<iframe|<video|http/gi);if(t&&0!==t.length){var a=["iframe","video"],n=n.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(b,e){return-1===a.indexOf(e.toLowerCase())?"":b});this.opts.videoContainerClass=void 0===this.opts.videoContainerClass?"video-container":this.opts.videoContainerClass;t='<div class="'+this.opts.videoContainerClass+'"><iframe style="width: 500px; height: 281px;" src="';n=n.match(this.video.reUrlYoutube)?n.replace(this.video.reUrlYoutube,
t+'//www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe></div>'):n.match(this.video.reIframeYoutube)?n.replace(this.video.reIframeYoutube,t+'//www.youtube.com/embed/$2" frameborder="0" allowfullscreen></iframe></div>'):n.match(this.video.reUrlVimeo)?n.replace(this.video.reUrlVimeo,t+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):n.match(this.video.reUrlVimeoChannel)?n.replace(this.video.reUrlVimeoChannel,t+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):
n.match(this.video.reIframeVimeo)?n.replace(this.video.reIframeVimeo,t+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):'<div class="'+this.opts.videoContainerClass+'">'+n+"</div>"}this.modal.close();this.placeholder.hide();this.buffer.set();this.air.collapsed();this.insert.html(n)}}}})(jQuery);(function(){var b=function(){return this}();!b&&"undefined"!=typeof window&&(b=window);if("undefined"==typeof requirejs){var n=function(a,c,b){"string"!=typeof a?n.original?n.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()):(2==arguments.length&&(b=c),n.modules[a]||(n.payloads[a]=b,n.modules[a]=null))};n.modules={};n.payloads={};var t=function(b,c,g){if("string"==typeof c){if(b=e(b,c),void 0!=b)return g&&g(),b}else if("[object Array]"===
Object.prototype.toString.call(c)){for(var f=[],h=0,d=c.length;h<d;++h){var l=e(b,c[h]);if(void 0==l&&a.original)return;f.push(l)}return g&&g.apply(null,f)||!0}},a=function(b,c){var e=t("",b,c);return void 0==e&&a.original?a.original.apply(this,arguments):e},g=function(a,c){if(-1!==c.indexOf("!")){var b=c.split("!");return g(a,b[0])+"!"+g(a,b[1])}if("."==c.charAt(0))for(c=a.split("/").slice(0,-1).join("/")+"/"+c;-1!==c.indexOf(".")&&b!=c;)b=c,c=c.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"");
return c},e=function(a,c){c=g(a,c);var b=n.modules[c];if(!b){b=n.payloads[c];if("function"==typeof b){var e={},f={id:c,uri:"",exports:e,packaged:!0},e=b(function(a,b){return t(c,a,b)},e,f)||f.exports;n.modules[c]=e;delete n.payloads[c]}b=n.modules[c]=e||b}return b};(function(e){var c=b;e&&(b[e]||(b[e]={}),c=b[e]);c.define&&c.define.packaged||(n.original=c.define,c.define=n,c.define.packaged=!0);c.require&&c.require.packaged||(a.original=c.require,c.require=a,c.require.packaged=!0)})("")}})();
define("ace/lib/regexp",["require","exports","module"],function(b,n,t){function a(a,c,b){if(Array.prototype.indexOf)return a.indexOf(c,b);for(b=b||0;b<a.length;b++)if(a[b]===c)return b;return-1}var g=RegExp.prototype.exec,e=RegExp.prototype.test,f=String.prototype.replace,c=void 0===g.call(/()??/,"")[1],h=function(){var a=/^/g;return e.call(a,""),!a.lastIndex}();h&&c||(RegExp.prototype.exec=function(b){var e=g.apply(this,arguments),d;if("string"==typeof b&&e){!c&&1<e.length&&-1<a(e,"")&&(d=RegExp(this.source,
f.call((this.global?"g":"")+(this.ignoreCase?"i":"")+(this.multiline?"m":"")+(this.extended?"x":"")+(this.sticky?"y":""),"g","")),f.call(b.slice(e.index),d,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(e[a]=void 0)}));if(this._xregexp&&this._xregexp.captureNames)for(var k=1;k<e.length;k++)(d=this._xregexp.captureNames[k-1])&&(e[d]=e[k]);!h&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--}return e},h||(RegExp.prototype.test=function(a){a=g.call(this,a);
return a&&this.global&&!a[0].length&&this.lastIndex>a.index&&this.lastIndex--,!!a}))});
define("ace/lib/es5-shim",["require","exports","module"],function(b,n,t){function a(){}function g(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(M){}}function e(a){return a=+a,a!==a?a=0:0!==a&&a!==1/0&&a!==-1/0&&(a=(0<a||-1)*Math.floor(Math.abs(a))),a}Function.prototype.bind||(Function.prototype.bind=function(b){var d=this;if("function"!=typeof d)throw new TypeError("Function.prototype.bind called on incompatible "+d);var e=c.call(arguments,1),f=function(){if(this instanceof
f){var a=d.apply(this,e.concat(c.call(arguments)));return Object(a)===a?a:this}return d.apply(b,e.concat(c.call(arguments)))};return d.prototype&&(a.prototype=d.prototype,f.prototype=new a,a.prototype=null),f});b=Function.prototype.call;var f=Object.prototype,c=Array.prototype.slice,h=b.bind(f.toString),k=b.bind(f.hasOwnProperty),m,d,l,q,w;if(w=k(f,"__defineGetter__"))m=b.bind(f.__defineGetter__),d=b.bind(f.__defineSetter__),l=b.bind(f.__lookupGetter__),q=b.bind(f.__lookupSetter__);if(2!=[1,2].splice(0).length)if(function(){function a(a){a=
Array(a+2);return a[0]=a[1]=0,a}var c=[],b;c.splice.apply(c,a(20));c.splice.apply(c,a(26));b=c.length;c.splice(5,0,"XXX");b+1==c.length;if(b+1==c.length)return!0}()){var z=Array.prototype.splice;Array.prototype.splice=function(a,b){return arguments.length?z.apply(this,[void 0===a?0:a,void 0===b?this.length-a:b].concat(c.call(arguments,2))):[]}}else Array.prototype.splice=function(a,b){var d=this.length;0<a?a>d&&(a=d):void 0==a?a=0:0>a&&(a=Math.max(d+a,0));a+b<d||(b=d-a);var e=this.slice(a,a+b),f=
c.call(arguments,2),g=f.length;if(a===d)g&&this.push.apply(this,f);else{var h=Math.min(b,d-a),k=a+h,m=k+g-h,l=d-k,d=d-h;if(m<k)for(h=0;h<l;++h)this[m+h]=this[k+h];else if(m>k)for(h=l;h--;)this[m+h]=this[k+h];if(g&&a===d)this.length=d,this.push.apply(this,f);else for(this.length=d+g,h=0;h<g;++h)this[a+h]=f[h]}return e};Array.isArray||(Array.isArray=function(a){return"[object Array]"==h(a)});b=Object("a");var u="a"!=b[0]||!(0 in b);Array.prototype.forEach||(Array.prototype.forEach=function(a,c){var b=
F(this),d=u&&"[object String]"==h(this)?this.split(""):b,e=-1,f=d.length>>>0;if("[object Function]"!=h(a))throw new TypeError;for(;++e<f;)e in d&&a.call(c,d[e],e,b)});Array.prototype.map||(Array.prototype.map=function(a,c){var b=F(this),d=u&&"[object String]"==h(this)?this.split(""):b,e=d.length>>>0,f=Array(e);if("[object Function]"!=h(a))throw new TypeError(a+" is not a function");for(var g=0;g<e;g++)g in d&&(f[g]=a.call(c,d[g],g,b));return f});Array.prototype.filter||(Array.prototype.filter=function(a,
c){var b=F(this),d=u&&"[object String]"==h(this)?this.split(""):b,e=d.length>>>0,f=[],g;if("[object Function]"!=h(a))throw new TypeError(a+" is not a function");for(var k=0;k<e;k++)k in d&&(g=d[k],a.call(c,g,k,b)&&f.push(g));return f});Array.prototype.every||(Array.prototype.every=function(a,c){var b=F(this),d=u&&"[object String]"==h(this)?this.split(""):b,e=d.length>>>0;if("[object Function]"!=h(a))throw new TypeError(a+" is not a function");for(var f=0;f<e;f++)if(f in d&&!a.call(c,d[f],f,b))return!1;
return!0});Array.prototype.some||(Array.prototype.some=function(a,c){var b=F(this),d=u&&"[object String]"==h(this)?this.split(""):b,e=d.length>>>0;if("[object Function]"!=h(a))throw new TypeError(a+" is not a function");for(var f=0;f<e;f++)if(f in d&&a.call(c,d[f],f,b))return!0;return!1});Array.prototype.reduce||(Array.prototype.reduce=function(a){var c=F(this),b=u&&"[object String]"==h(this)?this.split(""):c,d=b.length>>>0;if("[object Function]"!=h(a))throw new TypeError(a+" is not a function");
if(!d&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var e=0,f;if(2<=arguments.length)f=arguments[1];else{do{if(e in b){f=b[e++];break}if(++e>=d)throw new TypeError("reduce of empty array with no initial value");}while(1)}for(;e<d;e++)e in b&&(f=a.call(void 0,f,b[e],e,c));return f});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var c=F(this),b=u&&"[object String]"==h(this)?this.split(""):c,d=b.length>>>0;if("[object Function]"!=h(a))throw new TypeError(a+
" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var e,d=d-1;if(2<=arguments.length)e=arguments[1];else{do{if(d in b){e=b[d--];break}if(0>--d)throw new TypeError("reduceRight of empty array with no initial value");}while(1)}do d in this&&(e=a.call(void 0,e,b[d],d,c));while(d--);return e});Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(a){var c=u&&"[object String]"==h(this)?this.split(""):F(this),
b=c.length>>>0;if(!b)return-1;var d=0;1<arguments.length&&(d=e(arguments[1]));for(d=0<=d?d:Math.max(0,b+d);d<b;d++)if(d in c&&c[d]===a)return d;return-1});Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(a){var c=u&&"[object String]"==h(this)?this.split(""):F(this),b=c.length>>>0;if(!b)return-1;var d=b-1;1<arguments.length&&(d=Math.min(d,e(arguments[1])));for(d=0<=d?d:b-Math.abs(d);0<=d;d--)if(d in c&&a===c[d])return d;return-1});Object.getPrototypeOf||
(Object.getPrototypeOf=function(a){return a.__proto__||(a.constructor?a.constructor.prototype:f)});Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(a,c){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+a);if(k(a,c)){var b,d,e;b={enumerable:!0,configurable:!0};if(w){var g=a.__proto__;a.__proto__=f;d=l(a,c);e=q(a,c);a.__proto__=g;if(d||e)return d&&(b.get=d),e&&(b.set=e),b}return b.value=a[c],
b}});Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)});if(!Object.create){var B;null===Object.prototype.__proto__?B=function(){return{__proto__:null}}:B=function(){var a={},c;for(c in a)a[c]=null;return a.constructor=a.hasOwnProperty=a.propertyIsEnumerable=a.isPrototypeOf=a.toLocaleString=a.toString=a.valueOf=a.__proto__=null,a};Object.create=function(a,c){var b;if(null===a)b=B();else{if("object"!=typeof a)throw new TypeError("typeof prototype["+typeof a+
"] != 'object'");b=function(){};b.prototype=a;b=new b;b.__proto__=a}return void 0!==c&&Object.defineProperties(b,c),b}}if(Object.defineProperty&&(b=g({}),n="undefined"==typeof document||g(document.createElement("div")),!b||!n))var r=Object.defineProperty;if(!Object.defineProperty||r)Object.defineProperty=function(a,c,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.defineProperty called on non-object: "+a);if("object"!=typeof b&&"function"!=typeof b||null===b)throw new TypeError("Property description must be an object: "+
b);if(r)try{return r.call(Object,a,c,b)}catch(fa){}if(k(b,"value"))if(w&&(l(a,c)||q(a,c))){var e=a.__proto__;a.__proto__=f;delete a[c];a[c]=b.value;a.__proto__=e}else a[c]=b.value;else{if(!w)throw new TypeError("getters & setters can not be defined on this javascript engine");k(b,"get")&&m(a,c,b.get);k(b,"set")&&d(a,c,b.set)}return a};Object.defineProperties||(Object.defineProperties=function(a,c){for(var b in c)k(c,b)&&Object.defineProperty(a,b,c[b]);return a});Object.seal||(Object.seal=function(a){return a});
Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(E){Object.freeze=function(a){return function(c){return"function"==typeof c?c:a(c)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(a){return a});Object.isSealed||(Object.isSealed=function(a){return!1});Object.isFrozen||(Object.isFrozen=function(a){return!1});Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)===a)throw new TypeError;for(var c="";k(a,c);)c+="?";a[c]=
!0;var b=k(a,c);return delete a[c],b});if(!Object.keys){var A=!0,v="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),C=v.length,G;for(G in{toString:null})A=!1;Object.keys=function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var c=[],b;for(b in a)k(a,b)&&c.push(b);if(A)for(b=0;b<C;b++){var d=v[b];k(a,d)&&c.push(d)}return c}}Date.now||(Date.now=function(){return(new Date).getTime()});
G="\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||G.trim()){G="["+G+"]";var D=new RegExp("^"+G+G+"*"),O=new RegExp(G+G+"*$");String.prototype.trim=function(){return String(this).replace(D,"").replace(O,"")}}var F=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)}});
define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(b,n,t){b("./regexp");b("./es5-shim")});
define("ace/lib/dom",["require","exports","module"],function(b,n,t){n.getDocumentHead=function(a){return a||(a=document),a.head||a.getElementsByTagName("head")[0]||a.documentElement};n.createElement=function(a,b){return document.createElementNS?document.createElementNS(b||"http://www.w3.org/1999/xhtml",a):document.createElement(a)};n.hasCssClass=function(a,b){return-1!==(a.className+"").split(/\s+/g).indexOf(b)};n.addCssClass=function(a,b){n.hasCssClass(a,b)||(a.className+=" "+b)};n.removeCssClass=
function(a,b){for(var e=a.className.split(/\s+/g);;){var f=e.indexOf(b);if(-1==f)break;e.splice(f,1)}a.className=e.join(" ")};n.toggleCssClass=function(a,b){for(var e=a.className.split(/\s+/g),f=!0;;){var c=e.indexOf(b);if(-1==c)break;f=!1;e.splice(c,1)}return f&&e.push(b),a.className=e.join(" "),f};n.setCssClass=function(a,b,e){e?n.addCssClass(a,b):n.removeCssClass(a,b)};n.hasCssString=function(a,b){var e=0,f;b=b||document;if(b.createStyleSheet&&(f=b.styleSheets))for(;e<f.length;){if(f[e++].owningElement.id===
a)return!0}else if(f=b.getElementsByTagName("style"))for(;e<f.length;)if(f[e++].id===a)return!0;return!1};n.importCssString=function(a,b,e){e=e||document;if(b&&n.hasCssString(b,e))return null;var f;b&&(a+="\n/*# sourceURL=ace/css/"+b+" */");e.createStyleSheet?(f=e.createStyleSheet(),f.cssText=a,b&&(f.owningElement.id=b)):(f=n.createElement("style"),f.appendChild(e.createTextNode(a)),b&&(f.id=b),n.getDocumentHead(e).appendChild(f))};n.importCssStylsheet=function(a,b){if(b.createStyleSheet)b.createStyleSheet(a);
else{var e=n.createElement("link");e.rel="stylesheet";e.href=a;n.getDocumentHead(b).appendChild(e)}};n.getInnerWidth=function(a){return parseInt(n.computedStyle(a,"paddingLeft"),10)+parseInt(n.computedStyle(a,"paddingRight"),10)+a.clientWidth};n.getInnerHeight=function(a){return parseInt(n.computedStyle(a,"paddingTop"),10)+parseInt(n.computedStyle(a,"paddingBottom"),10)+a.clientHeight};n.scrollbarWidth=function(a){var b=n.createElement("ace_inner");b.style.width="100%";b.style.minWidth="0px";b.style.height=
"200px";b.style.display="block";var e=n.createElement("ace_outer"),f=e.style;f.position="absolute";f.left="-10000px";f.overflow="hidden";f.width="200px";f.minWidth="0px";f.height="150px";f.display="block";e.appendChild(b);a=a.documentElement;a.appendChild(e);var c=b.offsetWidth;f.overflow="scroll";b=b.offsetWidth;return c==b&&(b=e.clientWidth),a.removeChild(e),c-b};"undefined"==typeof document?n.importCssString=function(){}:(void 0!==window.pageYOffset?(n.getPageScrollTop=function(){return window.pageYOffset},
n.getPageScrollLeft=function(){return window.pageXOffset}):(n.getPageScrollTop=function(){return document.body.scrollTop},n.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?n.computedStyle=function(a,b){return b?(window.getComputedStyle(a,"")||{})[b]||"":window.getComputedStyle(a,"")||{}}:n.computedStyle=function(a,b){return b?a.currentStyle[b]:a.currentStyle},n.setInnerHtml=function(a,b){var e=a.cloneNode(!1);return e.innerHTML=b,a.parentNode.replaceChild(e,
a),e},"textContent"in document.documentElement?(n.setInnerText=function(a,b){a.textContent=b},n.getInnerText=function(a){return a.textContent}):(n.setInnerText=function(a,b){a.innerText=b},n.getInnerText=function(a){return a.innerText}),n.getParentWindow=function(a){return a.defaultView||a.parentWindow})});
define("ace/lib/oop",["require","exports","module"],function(b,n,t){n.inherits=function(a,b){a.super_=b;a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};n.mixin=function(a,b){for(var e in b)a[e]=b[e];return a};n.implement=function(a,b){n.mixin(a,b)}});
define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(b,n,t){b("./fixoldbrowsers");var a=b("./oop"),g=function(){var b={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",
97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",
81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},f,c;for(c in b.FUNCTION_KEYS)f=b.FUNCTION_KEYS[c].toLowerCase(),b[f]=parseInt(c,10);for(c in b.PRINTABLE_KEYS)f=b.PRINTABLE_KEYS[c].toLowerCase(),b[f]=parseInt(c,10);return a.mixin(b,b.MODIFIER_KEYS),a.mixin(b,b.PRINTABLE_KEYS),a.mixin(b,b.FUNCTION_KEYS),b.enter=b["return"],b.escape=b.esc,b.del=b["delete"],
b[173]="-",function(){for(var a=["cmd","ctrl","alt","shift"],c=Math.pow(2,a.length);c--;)b.KEY_MODS[c]=a.filter(function(a){return c&b.KEY_MODS[a]}).join("-")+"-"}(),b.KEY_MODS[0]="",b.KEY_MODS[-1]="input-",b}();a.mixin(n,g);n.keyCodeToString=function(a){var b=g[a];return"string"!=typeof b&&(b=String.fromCharCode(a)),b.toLowerCase()}});
define("ace/lib/useragent",["require","exports","module"],function(b,n,t){n.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};n.getOS=function(){return n.isMac?n.OS.MAC:n.isLinux?n.OS.LINUX:n.OS.WINDOWS};"object"==typeof navigator&&(b=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),t=navigator.userAgent,n.isWin="win"==b,n.isMac="mac"==b,n.isLinux="linux"==b,n.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((t.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||
[])[1]):parseFloat((t.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),n.isOldIE=n.isIE&&9>n.isIE,n.isGecko=n.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,n.isOldGecko=n.isGecko&&4>parseInt((t.match(/rv:(\d+)/)||[])[1],10),n.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),n.isWebKit=parseFloat(t.split("WebKit/")[1])||void 0,n.isChrome=parseFloat(t.split(" Chrome/")[1])||void 0,n.isAIR=0<=t.indexOf("AdobeAIR"),
n.isIPad=0<=t.indexOf("iPad"),n.isChromeOS=0<=t.indexOf(" CrOS "),n.isIOS=/iPad|iPhone|iPod/.test(t)&&!window.MSStream,n.isIOS&&(n.isMac=!0))});
define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(b,n,t){function a(a,b,g){var d=k(b);if(!f.isMac&&c){b.getModifierState&&(b.getModifierState("OS")||b.getModifierState("Win"))&&(d|=8);if(c.altGr){if(3==(3&d))return;c.altGr=0}if(18===g||17===g){var m="location"in b?b.location:b.keyLocation;17===g&&1===m?1==c[g]&&(h=b.timeStamp):18===g&&3===d&&2===m&&50>b.timeStamp-h&&(c.altGr=!0)}}g in e.MODIFIER_KEYS&&(g=-1);d&8&&91<=g&&93>=g&&(g=-1);if(!d&&13===g&&
(m="location"in b?b.location:b.keyLocation,3===m&&(a(b,d,-g),b.defaultPrevented)))return;if(f.isChromeOS&&d&8){a(b,d,g);if(b.defaultPrevented)return;d&=-9}return d||g in e.FUNCTION_KEYS||g in e.PRINTABLE_KEYS?a(b,d,g):!1}function g(){c=Object.create(null)}var e=b("./keys"),f=b("./useragent"),c=null,h=0;n.addListener=function(a,c,b){if(a.addEventListener)return a.addEventListener(c,b,!1);if(a.attachEvent){var d=function(){b.call(a,window.event)};b._wrapper=d;a.attachEvent("on"+c,d)}};n.removeListener=
function(a,c,b){if(a.removeEventListener)return a.removeEventListener(c,b,!1);a.detachEvent&&a.detachEvent("on"+c,b._wrapper||b)};n.stopEvent=function(a){return n.stopPropagation(a),n.preventDefault(a),!1};n.stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};n.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};n.getButton=function(a){return"dblclick"==a.type?0:"contextmenu"==a.type||f.isMac&&a.ctrlKey&&!a.altKey&&!a.shiftKey?2:a.preventDefault?
a.button:{1:0,2:2,4:1}[a.button]};n.capture=function(a,c,b){function d(a){c&&c(a);b&&b(a);n.removeListener(document,"mousemove",c,!0);n.removeListener(document,"mouseup",d,!0);n.removeListener(document,"dragstart",d,!0)}return n.addListener(document,"mousemove",c,!0),n.addListener(document,"mouseup",d,!0),n.addListener(document,"dragstart",d,!0),d};n.addTouchMoveListener=function(a,c){var b,d;n.addListener(a,"touchstart",function(a){a=a.touches[0];b=a.clientX;d=a.clientY});n.addListener(a,"touchmove",
function(a){var e=a.touches;1<e.length||(e=e[0],a.wheelX=b-e.clientX,a.wheelY=d-e.clientY,b=e.clientX,d=e.clientY,c(a))})};n.addMouseWheelListener=function(a,c){"onmousewheel"in a?n.addListener(a,"mousewheel",function(a){void 0!==a.wheelDeltaX?(a.wheelX=-a.wheelDeltaX/8,a.wheelY=-a.wheelDeltaY/8):(a.wheelX=0,a.wheelY=-a.wheelDelta/8);c(a)}):"onwheel"in a?n.addListener(a,"wheel",function(a){switch(a.deltaMode){case a.DOM_DELTA_PIXEL:a.wheelX=.35*a.deltaX||0;a.wheelY=.35*a.deltaY||0;break;case a.DOM_DELTA_LINE:case a.DOM_DELTA_PAGE:a.wheelX=
5*(a.deltaX||0),a.wheelY=5*(a.deltaY||0)}c(a)}):n.addListener(a,"DOMMouseScroll",function(a){a.axis&&a.axis==a.HORIZONTAL_AXIS?(a.wheelX=5*(a.detail||0),a.wheelY=0):(a.wheelX=0,a.wheelY=5*(a.detail||0));c(a)})};n.addMultiMouseDownListener=function(a,c,b,e){function d(a){0!==n.getButton(a)?h=0:1<a.detail?(h++,4<h&&(h=1)):h=1;if(f.isIE){var d=5<Math.abs(a.clientX-k)||5<Math.abs(a.clientY-m);if(!l||d)h=1;l&&clearTimeout(l);l=setTimeout(function(){l=null},c[h-1]||600);1==h&&(k=a.clientX,m=a.clientY)}a._clicks=
h;b[e]("mousedown",a);if(4<h)h=0;else if(1<h)return b[e](q[h],a)}function g(a){h=2;l&&clearTimeout(l);l=setTimeout(function(){l=null},c[h-1]||600);b[e]("mousedown",a);b[e](q[h],a)}var h=0,k,m,l,q={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(a)||(a=[a]);a.forEach(function(a){n.addListener(a,"mousedown",d);f.isOldIE&&n.addListener(a,"dblclick",g)})};var k=!f.isMac||!f.isOpera||"KeyboardEvent"in window?function(a){return 0|(a.ctrlKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.metaKey?8:0)}:
function(a){return 0|(a.metaKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.ctrlKey?8:0)};n.getModifierString=function(a){return e.KEY_MODS[k(a)]};n.addCommandKeyListener=function(b,d){var e=n.addListener;if(f.isOldGecko||f.isOpera&&!("KeyboardEvent"in window)){var h=null;e(b,"keydown",function(a){h=a.keyCode});e(b,"keypress",function(c){return a(d,c,h)})}else{var k=null;e(b,"keydown",function(b){c[b.keyCode]=(c[b.keyCode]||0)+1;var e=a(d,b,b.keyCode);return k=b.defaultPrevented,e});e(b,"keypress",function(a){k&&
(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)&&(n.stopEvent(a),k=null)});e(b,"keyup",function(a){c[a.keyCode]=null});c||(g(),e(window,"focus",g))}};"object"==typeof window&&window.postMessage&&!f.isOldIE&&(n.nextTick=function(a,c){c=c||window;n.addListener(c,"message",function q(b){"zero-timeout-message-1"==b.data&&(n.stopPropagation(b),n.removeListener(c,"message",q),a())});c.postMessage("zero-timeout-message-1","*")});n.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);n.nextFrame?n.nextFrame=n.nextFrame.bind(window):n.nextFrame=function(a){setTimeout(a,17)}});
define("ace/lib/lang",["require","exports","module"],function(b,n,t){n.last=function(a){return a[a.length-1]};n.stringReverse=function(a){return a.split("").reverse().join("")};n.stringRepeat=function(a,b){for(var c="";0<b;)if(b&1&&(c+=a),b>>=1)a+=a;return c};var a=/^\s\s*/,g=/\s\s*$/;n.stringTrimLeft=function(b){return b.replace(a,"")};n.stringTrimRight=function(a){return a.replace(g,"")};n.copyObject=function(a){var b={},c;for(c in a)b[c]=a[c];return b};n.copyArray=function(a){for(var b=[],c=0,
e=a.length;c<e;c++)a[c]&&"object"==typeof a[c]?b[c]=this.copyObject(a[c]):b[c]=a[c];return b};n.deepCopy=function f(a){if("object"!=typeof a||!a)return a;var c;if(Array.isArray(a)){c=[];for(var b=0;b<a.length;b++)c[b]=f(a[b]);return c}if("[object Object]"!==Object.prototype.toString.call(a))return a;c={};for(b in a)c[b]=f(a[b]);return c};n.arrayToMap=function(a){for(var c={},b=0;b<a.length;b++)c[a[b]]=1;return c};n.createMap=function(a){var c=Object.create(null),b;for(b in a)c[b]=a[b];return c};n.arrayRemove=
function(a,c){for(var b=0;b<=a.length;b++)c===a[b]&&a.splice(b,1)};n.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};n.escapeHTML=function(a){return a.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};n.getMatchOffsets=function(a,c){var b=[];return a.replace(c,function(a){b.push({offset:arguments[arguments.length-2],length:a.length})}),b};n.deferredCall=function(a){var c=null,b=function(){c=null;a()},f=function(a){return f.cancel(),
c=setTimeout(b,a||0),f};return f.schedule=f,f.call=function(){return this.cancel(),a(),f},f.cancel=function(){return clearTimeout(c),c=null,f},f.isPending=function(){return c},f};n.delayedCall=function(a,c){var b=null,f=function(){b=null;a()},g=function(a){null==b&&(b=setTimeout(f,a||c))};return g.delay=function(a){b&&clearTimeout(b);b=setTimeout(f,a||c)},g.schedule=g,g.call=function(){this.cancel();a()},g.cancel=function(){b&&clearTimeout(b);b=null},g.isPending=function(){return b},g}});
define("ace/keyboard/textinput_ios","require exports module ace/lib/event ace/lib/useragent ace/lib/dom ace/lib/lang ace/lib/keys".split(" "),function(b,n,t){var a=b("../lib/event"),g=b("../lib/useragent"),e=b("../lib/dom"),f=b("../lib/lang"),c=b("../lib/keys"),h=c.KEY_MODS,k=18>g.isChrome,m=g.isIE;n.TextInput=function(b,l){function d(a){if(!C){C=!0;if(M)c=0,a=a?0:u.value.length-1;else{var c=4;a=5}try{u.setSelectionRange(c,a)}catch(ma){}C=!1}}function n(){C||(u.value=B,g.isWebKit&&E.schedule())}function z(){clearTimeout(na);
na=setTimeout(function(){G&&(u.style.cssText=G,G="");null==l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=!0,l.renderer.$moveTextAreaToCursor())},0)}var u=e.createElement("textarea");u.className=g.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input";g.isTouchPad&&u.setAttribute("x-palm-disable-auto-cap",!0);u.setAttribute("wrap","off");u.setAttribute("autocorrect","off");u.setAttribute("autocapitalize","off");u.setAttribute("spellcheck",!1);u.style.opacity="0";b.insertBefore(u,
b.firstChild);var B="\n aaaa a\n",r=!1,A=!1,v=!1,C=!1,G="",D=!0;try{var t=document.activeElement===u}catch(ga){}a.addListener(u,"blur",function(a){l.onBlur(a);t=!1});a.addListener(u,"focus",function(a){t=!0;l.onFocus(a);d()});this.focus=function(){if(G)return u.focus();u.style.position="fixed";u.focus()};this.blur=function(){u.blur()};this.isFocused=function(){return t};var F=f.delayedCall(function(){t&&d(D)}),E=f.delayedCall(function(){C||(u.value=B,t&&d())});g.isWebKit||l.addEventListener("changeSelection",
function(){l.selection.isEmpty()!=D&&(D=!D,F.schedule())});n();t&&l.onFocus();var M=null;this.setInputHandler=function(a){M=a};this.getInputHandler=function(){return M};var Q=!1,J=function(a){if(4!==u.selectionStart||5!==u.selectionEnd)M&&(a=M(a),M=null),v?(d(),a&&l.onPaste(a),v=!1):a==B.substr(0)&&4===u.selectionStart?Q?l.execCommand("del",{source:"ace"}):l.execCommand("backspace",{source:"ace"}):r||(a.substring(0,9)==B&&a.length>B.length?a=a.substr(9):a.substr(0,4)==B.substr(0,4)?a=a.substr(4,a.length-
B.length+1):a.charAt(a.length-1)==B.charAt(0)&&(a=a.slice(0,-1)),a!=B.charAt(0)&&a.charAt(a.length-1)==B.charAt(0)&&(a=a.slice(0,-1)),a&&l.onTextInput(a)),r&&(r=!1),Q&&(Q=!1)},fa=function(a){C||(J(u.value),n())},L=function(a,c,b){if((a=a.clipboardData||window.clipboardData)&&!k){var d=m||b?"Text":"text/plain";try{return c?!1!==a.setData(d,c):a.getData(d)}catch(qa){if(!b)return L(qa,c,!0)}}},I=function(c,b){var e=l.getCopyText();if(!e)return a.preventDefault(c);L(c,e)?(g.isIOS&&(A=b,u.value="\n aa"+
e+"a a\n",u.setSelectionRange(4,4+e.length),r={value:e}),b?l.onCut():l.onCopy(),g.isIOS||a.preventDefault(c)):(r=!0,u.value=e,u.select(),setTimeout(function(){r=!1;n();d();b?l.onCut():l.onCopy()}))};a.addCommandKeyListener(u,l.onCommandKey.bind(l));a.addListener(u,"select",function(a){0===u.selectionStart&&u.selectionEnd===u.value.length?(l.selectAll(),d()):M&&d(l.selection.isEmpty())});a.addListener(u,"input",fa);a.addListener(u,"cut",function(a){I(a,!0)});a.addListener(u,"copy",function(a){I(a,
!1)});a.addListener(u,"paste",function(c){var b=L(c);"string"==typeof b?(b&&l.onPaste(b,c),g.isIE&&setTimeout(d),a.preventDefault(c)):(u.value="",v=!0)});var N=function(){if(C&&l.onCompositionUpdate&&!l.$readOnly){var a=u.value.replace(/\x01/g,"");C.lastValue!==a&&(l.onCompositionUpdate(a),C.lastValue&&l.undo(),C.canUndo&&(C.lastValue=a),C.lastValue&&(a=l.selection.getRange(),l.insert(C.lastValue),l.session.markUndoGroup(),C.range=l.selection.getRange(),l.selection.setRange(a),l.selection.clearSelection()))}},
pa=function(a){if(l.onCompositionEnd&&!l.$readOnly){var c=C;C=!1;var b=setTimeout(function(){b=null;var a=u.value.replace(/\x01/g,"");C||(a==c.lastValue?n():!c.lastValue&&a&&(n(),J(a)))});M=function(a){return b&&clearTimeout(b),a=a.replace(/\x01/g,""),a==c.lastValue?"":(c.lastValue&&b&&l.undo(),a)};l.onCompositionEnd();l.removeListener("mousedown",pa);"compositionend"==a.type&&c.range&&l.selection.setRange(c.range);(g.isChrome&&53<=g.isChrome||g.isWebKit&&603<=g.isWebKit)&&fa()}},W=f.delayedCall(N,
50);a.addListener(u,"compositionstart",function(a){C||!l.onCompositionStart||l.$readOnly||(C={},C.canUndo=l.session.$undoManager,l.onCompositionStart(),setTimeout(N,0),l.on("mousedown",pa),C.canUndo&&!l.selection.isEmpty()&&(l.insert(""),l.session.markUndoGroup(),l.selection.clearSelection()),l.session.markUndoGroup())});g.isGecko?a.addListener(u,"text",function(){W.schedule()}):(a.addListener(u,"keyup",function(){W.schedule()}),a.addListener(u,"keydown",function(){W.schedule()}));a.addListener(u,
"compositionend",pa);this.getElement=function(){return u};this.setReadOnly=function(a){u.readOnly=a};this.onContextMenu=function(a){Q=!0;d(l.selection.isEmpty());l._emit("nativecontextmenu",{target:l,domEvent:a});this.moveToMouse(a,!0)};this.moveToMouse=function(c,b){G||(G=u.style.cssText);u.style.cssText=(b?"z-index:100000;":"")+"height:"+u.style.height+";"+(g.isIE?"opacity:0.1;":"");var d=l.container.getBoundingClientRect(),f=e.computedStyle(l.container),h=d.top+(parseInt(f.borderTopWidth)||0),
k=d.left+(parseInt(d.borderLeftWidth)||0),m=d.bottom-h-u.clientHeight-2,d=function(a){u.style.left=a.clientX-k-2+"px";u.style.top=Math.min(a.clientY-h-2,m)+"px"};d(c);"mousedown"==c.type&&(l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=null),clearTimeout(na),g.isWin&&a.capture(l.container,d,z))};this.onContextMenuClose=z;var na,T=function(a){l.textInput.onContextMenu(a);z()};a.addListener(u,"mouseup",T);a.addListener(u,"mousedown",function(a){a.preventDefault();z()});a.addListener(l.renderer.scroller,
"contextmenu",T);a.addListener(u,"contextmenu",T);if(g.isIOS){var aa=null,ea=!1;b.addEventListener("keydown",function(a){aa&&clearTimeout(aa);ea=!0});b.addEventListener("keyup",function(a){aa=setTimeout(function(){ea=!1},100)});var ua=function(a){if(document.activeElement===u&&!ea){if(A)return setTimeout(function(){A=!1},100);a=u.selectionStart;var b=u.selectionEnd;u.setSelectionRange(4,5);if(a==b)switch(a){case 0:l.onCommandKey(null,0,c.up);break;case 1:l.onCommandKey(null,0,c.home);break;case 2:l.onCommandKey(null,
h.option,c.left);break;case 4:l.onCommandKey(null,0,c.left);break;case 5:l.onCommandKey(null,0,c.right);break;case 7:l.onCommandKey(null,h.option,c.right);break;case 8:l.onCommandKey(null,0,c.end);break;case 9:l.onCommandKey(null,0,c.down)}else{switch(b){case 6:l.onCommandKey(null,h.shift,c.right);break;case 7:l.onCommandKey(null,h.shift|h.option,c.right);break;case 8:l.onCommandKey(null,h.shift,c.end);break;case 9:l.onCommandKey(null,h.shift,c.down)}switch(a){case 0:l.onCommandKey(null,h.shift,c.up);
break;case 1:l.onCommandKey(null,h.shift,c.home);break;case 2:l.onCommandKey(null,h.shift|h.option,c.left);break;case 3:l.onCommandKey(null,h.shift,c.left)}}}};document.addEventListener("selectionchange",ua);l.on("destroy",function(){document.removeEventListener("selectionchange",ua)})}}});
define("ace/keyboard/textinput","require exports module ace/lib/event ace/lib/useragent ace/lib/dom ace/lib/lang ace/keyboard/textinput_ios".split(" "),function(b,n,t){var a=b("../lib/event"),g=b("../lib/useragent"),e=b("../lib/dom"),f=b("../lib/lang"),c=18>g.isChrome,h=g.isIE,k=b("./textinput_ios").TextInput;n.TextInput=function(b,d){function m(a){if(!A){A=!0;if(F){var c=0;a=a?0:z.value.length-1}else c=a?2:1,a=2;try{z.setSelectionRange(c,a)}catch(ga){}A=!1}}function q(){A||(z.value=u,g.isWebKit&&
t.schedule())}function n(){clearTimeout(T);T=setTimeout(function(){v&&(z.style.cssText=v,v="");null==d.renderer.$keepTextAreaAtCursor&&(d.renderer.$keepTextAreaAtCursor=!0,d.renderer.$moveTextAreaToCursor())},0)}if(g.isIOS)return k.call(this,b,d);var z=e.createElement("textarea");z.className="ace_text-input";z.setAttribute("wrap","off");z.setAttribute("autocorrect","off");z.setAttribute("autocapitalize","off");z.setAttribute("spellcheck",!1);z.style.opacity="0";b.insertBefore(z,b.firstChild);var u=
"\u2028\u2028",B=!1,r=!1,A=!1,v="",C=!0;try{var G=document.activeElement===z}catch(ea){}a.addListener(z,"blur",function(a){d.onBlur(a);G=!1});a.addListener(z,"focus",function(a){G=!0;d.onFocus(a);m()});this.focus=function(){if(v)return z.focus();var a=z.style.top;z.style.position="fixed";z.style.top="0px";z.focus();setTimeout(function(){z.style.position="";"0px"==z.style.top&&(z.style.top=a)},0)};this.blur=function(){z.blur()};this.isFocused=function(){return G};var D=f.delayedCall(function(){G&&
m(C)}),t=f.delayedCall(function(){A||(z.value=u,G&&m())});g.isWebKit||d.addEventListener("changeSelection",function(){d.selection.isEmpty()!=C&&(C=!C,D.schedule())});q();G&&d.onFocus();var F=null;this.setInputHandler=function(a){F=a};this.getInputHandler=function(){return F};var E=!1,M=function(a){F&&(a=F(a),F=null);r?(m(),a&&d.onPaste(a),r=!1):a==u.charAt(0)?E?d.execCommand("del",{source:"ace"}):d.execCommand("backspace",{source:"ace"}):(a.substring(0,2)==u?a=a.substr(2):a.charAt(0)==u.charAt(0)?
a=a.substr(1):a.charAt(a.length-1)==u.charAt(0)&&(a=a.slice(0,-1)),a.charAt(a.length-1)==u.charAt(0)&&(a=a.slice(0,-1)),a&&d.onTextInput(a));E&&(E=!1)},Q=function(a){A||(M(z.value),q())},J=function(a,b,d){if((a=a.clipboardData||window.clipboardData)&&!c){var e=h||d?"Text":"text/plain";try{return b?!1!==a.setData(e,b):a.getData(e)}catch(ma){if(!d)return J(ma,b,!0)}}},fa=function(c,b){var e=d.getCopyText();if(!e)return a.preventDefault(c);J(c,e)?(b?d.onCut():d.onCopy(),a.preventDefault(c)):(B=!0,z.value=
e,z.select(),setTimeout(function(){B=!1;q();m();b?d.onCut():d.onCopy()}))},L=function(a){fa(a,!0)},I=function(a){fa(a,!1)},N=function(c){var b=J(c);"string"==typeof b?(b&&d.onPaste(b,c),g.isIE&&setTimeout(m),a.preventDefault(c)):(z.value="",r=!0)};a.addCommandKeyListener(z,d.onCommandKey.bind(d));a.addListener(z,"select",function(a){B?B=!1:0===z.selectionStart&&z.selectionEnd===z.value.length?(d.selectAll(),m()):F&&m(d.selection.isEmpty())});a.addListener(z,"input",Q);a.addListener(z,"cut",L);a.addListener(z,
"copy",I);a.addListener(z,"paste",N);"oncut"in z&&"oncopy"in z&&"onpaste"in z||a.addListener(b,"keydown",function(a){if((!g.isMac||a.metaKey)&&a.ctrlKey)switch(a.keyCode){case 67:I(a);break;case 86:N(a);break;case 88:L(a)}});var pa=function(){if(A&&d.onCompositionUpdate&&!d.$readOnly){var a=z.value.replace(/\u2028/g,"");A.lastValue!==a&&(d.onCompositionUpdate(a),A.lastValue&&d.undo(),A.canUndo&&(A.lastValue=a),A.lastValue&&(a=d.selection.getRange(),d.insert(A.lastValue),d.session.markUndoGroup(),
A.range=d.selection.getRange(),d.selection.setRange(a),d.selection.clearSelection()))}},W=function(a){if(d.onCompositionEnd&&!d.$readOnly){var c=A;A=!1;var b=setTimeout(function(){b=null;var a=z.value.replace(/\u2028/g,"");A||(a==c.lastValue?q():!c.lastValue&&a&&(q(),M(a)))});F=function(a){return b&&clearTimeout(b),a=a.replace(/\u2028/g,""),a==c.lastValue?"":(c.lastValue&&b&&d.undo(),a)};d.onCompositionEnd();d.removeListener("mousedown",W);"compositionend"==a.type&&c.range&&d.selection.setRange(c.range);
(g.isChrome&&53<=g.isChrome||g.isWebKit&&603<=g.isWebKit)&&Q()}},na=f.delayedCall(pa,50);a.addListener(z,"compositionstart",function(a){A||!d.onCompositionStart||d.$readOnly||(A={},A.canUndo=d.session.$undoManager,d.onCompositionStart(),setTimeout(pa,0),d.on("mousedown",W),A.canUndo&&!d.selection.isEmpty()&&(d.insert(""),d.session.markUndoGroup(),d.selection.clearSelection()),d.session.markUndoGroup())});g.isGecko?a.addListener(z,"text",function(){na.schedule()}):(a.addListener(z,"keyup",function(){na.schedule()}),
a.addListener(z,"keydown",function(){na.schedule()}));a.addListener(z,"compositionend",W);this.getElement=function(){return z};this.setReadOnly=function(a){z.readOnly=a};this.onContextMenu=function(a){E=!0;m(d.selection.isEmpty());d._emit("nativecontextmenu",{target:d,domEvent:a});this.moveToMouse(a,!0)};this.moveToMouse=function(c,b){v||(v=z.style.cssText);z.style.cssText=(b?"z-index:100000;":"")+"height:"+z.style.height+";"+(g.isIE?"opacity:0.1;":"");var f=d.container.getBoundingClientRect(),h=
e.computedStyle(d.container),k=f.top+(parseInt(h.borderTopWidth)||0),m=f.left+(parseInt(f.borderLeftWidth)||0),l=f.bottom-k-z.clientHeight-2,f=function(a){z.style.left=a.clientX-m-2+"px";z.style.top=Math.min(a.clientY-k-2,l)+"px"};f(c);"mousedown"==c.type&&(d.renderer.$keepTextAreaAtCursor&&(d.renderer.$keepTextAreaAtCursor=null),clearTimeout(T),g.isWin&&a.capture(d.container,f,n))};this.onContextMenuClose=n;var T,aa=function(a){d.textInput.onContextMenu(a);n()};a.addListener(z,"mouseup",aa);a.addListener(z,
"mousedown",function(a){a.preventDefault();n()});a.addListener(d.renderer.scroller,"contextmenu",aa);a.addListener(z,"contextmenu",aa)}});
define("ace/mouse/default_handlers","require exports module ace/lib/dom ace/lib/event ace/lib/useragent".split(" "),function(b,n,t){function a(a){a.$clickSelection=null;var c=a.editor;c.setDefaultHandler("mousedown",this.onMouseDown.bind(a));c.setDefaultHandler("dblclick",this.onDoubleClick.bind(a));c.setDefaultHandler("tripleclick",this.onTripleClick.bind(a));c.setDefaultHandler("quadclick",this.onQuadClick.bind(a));c.setDefaultHandler("mousewheel",this.onMouseWheel.bind(a));c.setDefaultHandler("touchmove",
this.onTouchMove.bind(a));"select startSelect selectEnd selectAllEnd selectByWordsEnd selectByLinesEnd dragWait dragWaitEnd focusWait".split(" ").forEach(function(c){a[c]=this[c]},this);a.selectByLines=this.extendSelectionBy.bind(a,"getLineRange");a.selectByWords=this.extendSelectionBy.bind(a,"getWordRange")}function g(a,c){return 0>(a.start.row==a.end.row?2*c.column-a.start.column-a.end.column:a.start.row!=a.end.row-1||a.start.column||a.end.column?2*c.row-a.start.row-a.end.row:c.column-4)?{cursor:a.start,
anchor:a.end}:{cursor:a.end,anchor:a.start}}b("../lib/dom");b("../lib/event");var e=b("../lib/useragent");(function(){this.onMouseDown=function(a){var c=a.inSelection(),b=a.getDocumentPosition();this.mousedownEvent=a;var f=this.editor,g=a.getButton();if(0!==g)c=f.getSelectionRange().isEmpty(),f.$blockScrolling++,(c||1==g)&&f.selection.moveToPosition(b),f.$blockScrolling--,2==g&&(f.textInput.onContextMenu(a.domEvent),e.isMozilla||a.preventDefault());else{this.mousedownEvent.time=Date.now();if(c&&!f.isFocused()&&
(f.focus(),this.$focusTimout&&!this.$clickSelection&&!f.inMultiSelectMode)){this.setState("focusWait");this.captureMouse(a);return}return this.captureMouse(a),this.startSelect(b,1<a.domEvent._clicks),a.preventDefault()}};this.startSelect=function(a,c){a=a||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var b=this.editor;b.$blockScrolling++;this.mousedownEvent.getShiftKey()?b.selection.selectToPosition(a):c||b.selection.moveToPosition(a);c||this.select();b.renderer.scroller.setCapture&&
b.renderer.scroller.setCapture();b.setStyle("ace_selecting");this.setState("select");b.$blockScrolling--};this.select=function(){var a,c=this.editor,b=c.renderer.screenToTextCoordinates(this.x,this.y);c.$blockScrolling++;this.$clickSelection&&(a=this.$clickSelection.comparePoint(b),-1==a?a=this.$clickSelection.end:1==a?a=this.$clickSelection.start:(a=g(this.$clickSelection,b),b=a.cursor,a=a.anchor),c.selection.setSelectionAnchor(a.row,a.column));c.selection.selectToPosition(b);c.$blockScrolling--;
c.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(a){var c,b=this.editor,e=b.renderer.screenToTextCoordinates(this.x,this.y);a=b.selection[a](e.row,e.column);b.$blockScrolling++;if(this.$clickSelection){c=this.$clickSelection.comparePoint(a.start);var f=this.$clickSelection.comparePoint(a.end);if(-1==c&&0>=f){if(c=this.$clickSelection.end,a.end.row!=e.row||a.end.column!=e.column)e=a.start}else if(1==f&&0<=c){if(c=this.$clickSelection.start,a.start.row!=e.row||a.start.column!=e.column)e=
a.end}else-1==c&&1==f?(e=a.end,c=a.start):(a=g(this.$clickSelection,e),e=a.cursor,c=a.anchor);b.selection.setSelectionAnchor(c.row,c.column)}b.selection.selectToPosition(e);b.$blockScrolling--;b.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()};this.focusWait=function(){var a=
Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),c=Date.now();(0<a||c-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(a){a=a.getDocumentPosition();var c=this.editor,b=c.session.getBracketRange(a);b?(b.isEmpty()&&(b.start.column--,b.end.column++),this.setState("select")):(b=c.selection.getWordRange(a.row,a.column),this.setState("selectByWords"));this.$clickSelection=b;this.select()};
this.onTripleClick=function(a){a=a.getDocumentPosition();var c=this.editor;this.setState("selectByLines");var b=c.getSelectionRange();b.isMultiLine()&&b.contains(a.row,a.column)?(this.$clickSelection=c.selection.getLineRange(b.start.row),this.$clickSelection.end=c.selection.getLineRange(b.end.row).end):this.$clickSelection=c.selection.getLineRange(a.row);this.select()};this.onQuadClick=function(a){a=this.editor;a.selectAll();this.$clickSelection=a.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=
function(a){if(!a.getAccelKey()){a.getShiftKey()&&a.wheelY&&!a.wheelX&&(a.wheelX=a.wheelY,a.wheelY=0);var c=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var b=this.$lastScroll,e=a.domEvent.timeStamp,f=e-b.t,d=a.wheelX/f,g=a.wheelY/f;250>f&&(d=(d+b.vx)/2,g=(g+b.vy)/2);var f=Math.abs(d/g),q=!1;1<=f&&c.renderer.isScrollableBy(a.wheelX*a.speed,0)&&(q=!0);1>=f&&c.renderer.isScrollableBy(0,a.wheelY*a.speed)&&(q=!0);q?b.allowed=e:250>e-b.allowed&&(Math.abs(d)<=1.1*Math.abs(b.vx)&&
Math.abs(g)<=1.1*Math.abs(b.vy)?(q=!0,b.allowed=e):b.allowed=0);b.t=e;b.vx=d;b.vy=g;if(q)return c.renderer.scrollBy(a.wheelX*a.speed,a.wheelY*a.speed),a.stop()}};this.onTouchMove=function(a){this.editor._emit("mousewheel",a)}}).call(a.prototype);n.DefaultHandlers=a});
define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(b,n,t){function a(a){this.isOpen=!1;this.$element=null;this.$parentNode=a}b("./lib/oop");var g=b("./lib/dom");(function(){this.$init=function(){return this.$element=g.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(a){g.setInnerText(this.getElement(),
a)};this.setHtml=function(a){this.getElement().innerHTML=a};this.setPosition=function(a,b){this.getElement().style.left=a+"px";this.getElement().style.top=b+"px"};this.setClassName=function(a){g.addCssClass(this.getElement(),a)};this.show=function(a,b,c){null!=a&&this.setText(a);null!=b&&null!=c&&this.setPosition(b,c);this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)};this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)};this.getHeight=function(){return this.getElement().offsetHeight};
this.getWidth=function(){return this.getElement().offsetWidth};this.destroy=function(){this.isOpen=!1;this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(a.prototype);n.Tooltip=a});
define("ace/mouse/default_gutter_handler","require exports module ace/lib/dom ace/lib/oop ace/lib/event ace/tooltip".split(" "),function(b,n,t){function a(a){f.call(this,a)}var g=b("../lib/dom");t=b("../lib/oop");var e=b("../lib/event"),f=b("../tooltip").Tooltip;t.inherits(a,f);(function(){this.setPosition=function(a,b){var c=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,d=this.getWidth(),g=this.getHeight();a+=15;b+=15;a+d>c&&(a-=
a+d-c);b+g>e&&(b-=20+g);f.prototype.setPosition.call(this,a,b)}}).call(a.prototype);n.GutterHandler=function(c){function b(){l&&(l=clearTimeout(l));n&&(d.hide(),n=null,f._signal("hideGutterTooltip",d),f.removeEventListener("mousewheel",b))}var f=c.editor,m=f.renderer.$gutterLayer,d=new a(f.container);c.editor.setDefaultHandler("guttermousedown",function(a){if(f.isFocused()&&0==a.getButton()&&"foldWidgets"!=m.getRegion(a)){var b=a.getDocumentPosition().row,d=f.session.selection;if(a.getShiftKey())d.selectTo(b,
0);else{if(2==a.domEvent.detail)return f.selectAll(),a.preventDefault();c.$clickSelection=f.selection.getLineRange(b)}return c.setState("selectByLines"),c.captureMouse(a),a.preventDefault()}});var l,q,n;c.editor.setDefaultHandler("guttermousemove",function(a){if(g.hasCssClass(a.domEvent.target||a.domEvent.srcElement,"ace_fold-widget"))return b();n&&c.$tooltipFollowsMouse&&d.setPosition(a.x,a.y);q=a;l||(l=setTimeout(function(){l=null;if(q&&!c.isMousePressed)a:{var a=q.getDocumentPosition().row,e=m.$annotations[a];
if(e){var g=f.session.getLength();if(a==g&&(a=f.renderer.pixelToScreenCoordinates(0,q.y).row,g=q.$pos,a>f.session.documentToScreenRow(g.row,g.column))){b();break a}n!=e&&(n=e.text.join("<br/>"),d.setHtml(n),d.show(),f._signal("showGutterTooltip",d),f.on("mousewheel",b),c.$tooltipFollowsMouse?d.setPosition(q.x,q.y):(e=q.domEvent.target.getBoundingClientRect(),a=d.getElement().style,a.left=e.right+"px",a.top=e.bottom+"px"))}else b()}else b()},50))});e.addListener(f.renderer.$gutter,"mouseout",function(a){q=
null;n&&!l&&(l=setTimeout(function(){l=null;b()},50))});f.on("changeSession",b)}});
define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(b,n,t){var a=b("../lib/event"),g=b("../lib/useragent");b=n.MouseEvent=function(a,b){this.domEvent=a;this.editor=b;this.x=this.clientX=a.clientX;this.y=this.clientY=a.clientY;this.$inSelection=this.$pos=null;this.defaultPrevented=this.propagationStopped=!1};(function(){this.stopPropagation=function(){a.stopPropagation(this.domEvent);this.propagationStopped=!0};this.preventDefault=function(){a.preventDefault(this.domEvent);
this.defaultPrevented=!0};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)};this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var a=this.editor.getSelectionRange();if(a.isEmpty())this.$inSelection=!1;else{var b=this.getDocumentPosition();this.$inSelection=a.contains(b.row,b.column)}return this.$inSelection};
this.getButton=function(){return a.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=g.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(b.prototype)});
define("ace/mouse/dragdrop_handler","require exports module ace/lib/dom ace/lib/event ace/lib/useragent".split(" "),function(b,n,t){function a(a){var b,m;function q(){var a=M,d=M=A.renderer.screenToTextCoordinates(D,t),e=Date.now(),f=!a||d.row!=a.row,g=!a||d.column!=a.column;!I||f||g?(A.$blockScrolling+=1,A.moveCursorToPosition(d),--A.$blockScrolling,I=e,b=D,m=t):Math.sqrt(Math.pow(D-b,2)+Math.pow(t-m,2))>k?I=null:e-I>=h&&(A.renderer.scrollCursorIntoView(),I=null);var d=M,e=Date.now(),g=A.renderer.layerConfig.lineHeight,
l=A.renderer.layerConfig.characterWidth,f=A.renderer.scroller.getBoundingClientRect(),r=D-f.left,q=f.right-D,v=t-f.top,n=f.bottom-t,u=Math.min(v,n),f={row:d.row,column:d.column};2>=Math.min(r,q)/l&&(f.column+=r<q?-3:2);1>=u/g&&(f.row+=v<n?-1:1);g=d.column!=f.column;a=!a||d.row!=a.row;d.row!=f.row||g&&!a?L?e-L>=c&&A.renderer.scrollCursorIntoView(f):L=e:L=null}function n(){E=A.selection.toOrientedRange();G=A.session.addMarker(E,"ace_selection",A.getSelectionStyle());A.clearSelection();A.isFocused()&&
A.renderer.$cursorLayer.setBlinking(!1);clearInterval(F);q();F=setInterval(q,20);Q=0;e.addListener(document,"mousemove",u)}function z(){clearInterval(F);A.session.removeMarker(G);G=null;A.$blockScrolling+=1;A.selection.fromOrientedRange(E);--A.$blockScrolling;A.isFocused()&&!fa&&A.renderer.$cursorLayer.setBlinking(!A.getReadOnly());M=E=null;Q=0;I=L=null;e.removeListener(document,"mousemove",u)}function u(){null==N&&(N=setTimeout(function(){null!=N&&G&&z()},20))}function B(a){a=a.types;return!a||Array.prototype.some.call(a,
function(a){return"text/plain"==a||"Text"==a})}function r(a){var c=["copy","copymove","all","uninitialized"],b=["move","copymove","linkmove","all","uninitialized"],d=f.isMac?a.altKey:a.ctrlKey,e="uninitialized";try{e=a.dataTransfer.effectAllowed.toLowerCase()}catch(ea){}a="none";return d&&0<=c.indexOf(e)?a="copy":0<=b.indexOf(e)?a="move":0<=c.indexOf(e)&&(a="copy"),a}var A=a.editor,v=g.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";f.isOpera&&
(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(c){a[c]=this[c]},this);A.addEventListener("mousedown",this.onMouseDown.bind(a));var C=A.container,G,D,t,F,E,M,Q=0,J,fa,L,I;this.onDragStart=function(a){if(this.cancelDrag||!C.draggable){var c=this;return setTimeout(function(){c.startSelect();c.captureMouse(a)},0),a.preventDefault()}E=A.getSelectionRange();var b=a.dataTransfer;
b.effectAllowed=A.getReadOnly()?"copy":"copyMove";f.isOpera&&(A.container.appendChild(v),v.scrollTop=0);b.setDragImage&&b.setDragImage(v,0,0);f.isOpera&&A.container.removeChild(v);b.clearData();b.setData("Text",A.session.getTextRange());fa=!0;this.setState("drag")};this.onDragEnd=function(a){fa=C.draggable=!1;this.setState(null);A.getReadOnly()||(a=a.dataTransfer.dropEffect,!J&&"move"==a&&A.session.remove(A.getSelectionRange()),A.renderer.$cursorLayer.setBlinking(!0));this.editor.unsetStyle("ace_dragging");
this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(a){if(!A.getReadOnly()&&B(a.dataTransfer))return D=a.clientX,t=a.clientY,G||n(),Q++,a.dataTransfer.dropEffect=J=r(a),e.preventDefault(a)};this.onDragOver=function(a){if(!A.getReadOnly()&&B(a.dataTransfer))return D=a.clientX,t=a.clientY,G||(n(),Q++),null!==N&&(N=null),a.dataTransfer.dropEffect=J=r(a),e.preventDefault(a)};this.onDragLeave=function(a){Q--;if(0>=Q&&G)return z(),J=null,e.preventDefault(a)};this.onDrop=function(a){if(M){var c=
a.dataTransfer;if(fa)switch(J){case "move":E.contains(M.row,M.column)?E={start:M,end:M}:E=A.moveText(E,M);break;case "copy":E=A.moveText(E,M,!0)}else c=c.getData("Text"),E={start:M,end:A.session.insert(M,c)},A.focus(),J=null;return z(),e.preventDefault(a)}};e.addListener(C,"dragstart",this.onDragStart.bind(a));e.addListener(C,"dragend",this.onDragEnd.bind(a));e.addListener(C,"dragenter",this.onDragEnter.bind(a));e.addListener(C,"dragover",this.onDragOver.bind(a));e.addListener(C,"dragleave",this.onDragLeave.bind(a));
e.addListener(C,"drop",this.onDrop.bind(a));var N=null}var g=b("../lib/dom"),e=b("../lib/event"),f=b("../lib/useragent"),c=200,h=200,k=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(){this.editor.container.draggable=!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(a){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());
this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){this.cancelDrag=!1;var a=this.editor;a.container.draggable=!0;a.renderer.$cursorLayer.setBlinking(!1);a.setStyle("ace_dragging");a.renderer.setCursorStyle(f.isWin?"default":"move");this.setState("dragReady")};this.onMouseDrag=function(a){a=this.editor.container;if(f.isIE&&"dragReady"==this.state){var c=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,
2));3<c&&a.dragDrop()}"dragWait"===this.state&&(c=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),0<c&&(a.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))};this.onMouseDown=function(a){if(this.$dragEnabled){this.mousedownEvent=a;var c=this.editor,b=a.inSelection(),e=a.getButton();1!==(a.domEvent.detail||1)||0!==e||!b||a.editor.inMultiSelectMode&&(a.getAccelKey()||a.getShiftKey())||(this.mousedownEvent.time=Date.now(),b=a.domEvent.target||
a.domEvent.srcElement,"unselectable"in b&&(b.unselectable="on"),c.getDragDelay()?(f.isWebKit&&(this.cancelDrag=!0,c.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(a,this.onMouseDrag.bind(this)),a.defaultPrevented=!0)}}}).call(a.prototype);n.DragdropHandler=a});
define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(b,n,t){var a=b("./dom");n.get=function(a,b){var e=new XMLHttpRequest;e.open("GET",a,!0);e.onreadystatechange=function(){4===e.readyState&&b(e.responseText)};e.send(null)};n.loadScript=function(b,e){var f=a.getDocumentHead(),c=document.createElement("script");c.src=b;f.appendChild(c);c.onload=c.onreadystatechange=function(a,b){if(b||!c.readyState||"loaded"==c.readyState||"complete"==c.readyState)c=c.onload=c.onreadystatechange=
null,b||e()}};n.qualifyURL=function(a){var b=document.createElement("a");return b.href=a,b.href}});
define("ace/lib/event_emitter",["require","exports","module"],function(b,n,t){b={};var a=function(){this.propagationStopped=!0},g=function(){this.defaultPrevented=!0};b._emit=b._dispatchEvent=function(b,f){this._eventRegistry||(this._eventRegistry={});this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[b]||[],e=this._defaultHandlers[b];if(c.length||e){"object"==typeof f&&f||(f={});f.type||(f.type=b);f.stopPropagation||(f.stopPropagation=a);f.preventDefault||(f.preventDefault=
g);for(var c=c.slice(),k=0;k<c.length&&(c[k](f,this),!f.propagationStopped);k++);if(e&&!f.defaultPrevented)return e(f,this)}};b._signal=function(a,b){var c=(this._eventRegistry||{})[a];if(c)for(var c=c.slice(),e=0;e<c.length;e++)c[e](b,this)};b.once=function(a,b){var c=this;b&&this.addEventListener(a,function k(){c.removeEventListener(a,k);b.apply(null,arguments)})};b.setDefaultHandler=function(a,b){var c=this._defaultHandlers;c||(c=this._defaultHandlers={_disabled_:{}});if(c[a]){var e=c[a],f=c._disabled_[a];
f||(c._disabled_[a]=f=[]);f.push(e);e=f.indexOf(b);-1!=e&&f.splice(e,1)}c[a]=b};b.removeDefaultHandler=function(a,b){var c=this._defaultHandlers;if(c){var e=c._disabled_[a];c[a]==b?e&&this.setDefaultHandler(a,e.pop()):e&&(c=e.indexOf(b),-1!=c&&e.splice(c,1))}};b.on=b.addEventListener=function(a,b,c){this._eventRegistry=this._eventRegistry||{};var e=this._eventRegistry[a];return e||(e=this._eventRegistry[a]=[]),-1==e.indexOf(b)&&e[c?"unshift":"push"](b),b};b.off=b.removeListener=b.removeEventListener=
function(a,b){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];if(c){var e=c.indexOf(b);-1!==e&&c.splice(e,1)}};b.removeAllListeners=function(a){this._eventRegistry&&(this._eventRegistry[a]=[])};n.EventEmitter=b});
define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(b,n,t){function a(a){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function g(a,c){var b=Error(a);b.data=c;"object"==typeof console&&console.error&&console.error(b);setTimeout(function(){throw b;})}"no use strict";var e=b("./oop"),f=b("./event_emitter").EventEmitter,c={setOptions:function(a){Object.keys(a).forEach(function(c){this.setOption(c,a[c])},this)},getOptions:function(a){var c=
{};return a?Array.isArray(a)||(c=a,a=Object.keys(c)):a=Object.keys(this.$options),a.forEach(function(a){c[a]=this.getOption(a)},this),c},setOption:function(c,b){if(this["$"+c]!==b){var e=this.$options[c];if(!e)return a('misspelled option "'+c+'"');if(e.forwardTo)return this[e.forwardTo]&&this[e.forwardTo].setOption(c,b);e.handlesSet||(this["$"+c]=b);e&&e.set&&e.set.call(this,b)}},getOption:function(c){var b=this.$options[c];return b?b.forwardTo?this[b.forwardTo]&&this[b.forwardTo].getOption(c):b&&
b.get?b.get.call(this):this["$"+c]:a('misspelled option "'+c+'"')}};b=function(){this.$defaultOptions={}};(function(){e.implement(this,f);this.defineOptions=function(a,b,f){return a.$options||(this.$defaultOptions[b]=a.$options={}),Object.keys(f).forEach(function(c){var b=f[c];"string"==typeof b&&(b={forwardTo:b});b.name||(b.name=c);a.$options[b.name]=b;"initialValue"in b&&(a["$"+b.name]=b.initialValue)}),e.implement(a,c),this};this.resetOptions=function(a){Object.keys(a.$options).forEach(function(c){var b=
a.$options[c];"value"in b&&a.setOption(c,b.value)})};this.setDefaultValue=function(a,c,b){a=this.$defaultOptions[a]||(this.$defaultOptions[a]={});a[c]&&(a.forwardTo?this.setDefaultValue(a.forwardTo,c,b):a[c].value=b)};this.setDefaultValues=function(a,c){Object.keys(c).forEach(function(b){this.setDefaultValue(a,b,c[b])},this)};this.warn=a;this.reportError=g}).call(b.prototype);n.AppConfig=b});
define("ace/config","require exports module ace/lib/lang ace/lib/oop ace/lib/net ace/lib/app_config".split(" "),function(b,n,t){function a(a){return a.replace(/-(.)/g,function(a,c){return c.toUpperCase()})}"no use strict";var g=b("./lib/lang");b("./lib/oop");var e=b("./lib/net"),f=b("./lib/app_config").AppConfig;t.exports=n=new f;var c=function(){return this||"undefined"!=typeof window&&window}(),h={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};
n.get=function(a){if(!h.hasOwnProperty(a))throw Error("Unknown config key: "+a);return h[a]};n.set=function(a,c){if(!h.hasOwnProperty(a))throw Error("Unknown config key: "+a);h[a]=c};n.all=function(){return g.copyObject(h)};n.moduleUrl=function(a,c){if(h.$moduleUrls[a])return h.$moduleUrls[a];var b=a.split("/");c=c||b[b.length-2]||"";var e="snippets"==c?"/":"-",f=b[b.length-1];"worker"==c&&"-"==e&&(f=f.replace(new RegExp("^"+c+"[\\-_]|[\\-_]"+c+"$","g"),""));(!f||f==c)&&1<b.length&&(f=b[b.length-
2]);b=h[c+"Path"];return null==b?b=h.basePath:"/"==e&&(c=e=""),b&&"/"!=b.slice(-1)&&(b+="/"),b+c+e+f+this.get("suffix")};n.setModuleUrl=function(a,c){return h.$moduleUrls[a]=c};n.$loading={};n.loadModule=function(a,c){var d,f;Array.isArray(a)&&(f=a[0],a=a[1]);try{d=b(a)}catch(q){}if(d&&!n.$loading[a])return c&&c(d);n.$loading[a]||(n.$loading[a]=[]);n.$loading[a].push(c);if(!(1<n.$loading[a].length)){d=function(){b([a],function(c){n._emit("load.module",{name:a,module:c});var b=n.$loading[a];n.$loading[a]=
null;b.forEach(function(a){a&&a(c)})})};if(!n.get("packaged"))return d();e.loadScript(n.moduleUrl(a,f),d)}};n.init=function(e){if(c&&c.document){h.packaged=e||b.packaged||t.packaged||c.define&&define.packaged;e={};for(var f="",d=document.currentScript||document._currentScript,d=(d&&d.ownerDocument||document).getElementsByTagName("script"),g=0;g<d.length;g++){var k=d[g],w=k.src||k.getAttribute("src");if(w){for(var k=k.attributes,z=0,u=k.length;z<u;z++){var B=k[z];0===B.name.indexOf("data-ace-")&&(e[a(B.name.replace(/^data-ace-/,
""))]=B.value)}(w=w.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/))&&(f=w[1])}}f&&(e.base=e.base||f,e.packaged=!0);e.basePath=e.base;e.workerPath=e.workerPath||e.base;e.modePath=e.modePath||e.base;e.themePath=e.themePath||e.base;delete e.base;for(var r in e)"undefined"!=typeof e[r]&&n.set(r,e[r])}}});
define("ace/mouse/mouse_handler","require exports module ace/lib/event ace/lib/useragent ace/mouse/default_handlers ace/mouse/default_gutter_handler ace/mouse/mouse_event ace/mouse/dragdrop_handler ace/config".split(" "),function(b,n,t){var a=b("../lib/event"),g=b("../lib/useragent"),e=b("./default_handlers").DefaultHandlers,f=b("./default_gutter_handler").GutterHandler,c=b("./mouse_event").MouseEvent,h=b("./dragdrop_handler").DragdropHandler;b=b("../config");t=function(c){var b=this;this.editor=
c;new e(this);new f(this);new h(this);var d=function(a){document.hasFocus&&document.hasFocus()&&(c.isFocused()||document.activeElement!=(c.textInput&&c.textInput.getElement()))||window.focus();c.focus()},k=c.renderer.getMouseEventTarget();a.addListener(k,"click",this.onMouseEvent.bind(this,"click"));a.addListener(k,"mousemove",this.onMouseMove.bind(this,"mousemove"));a.addMultiMouseDownListener([k,c.renderer.scrollBarV&&c.renderer.scrollBarV.inner,c.renderer.scrollBarH&&c.renderer.scrollBarH.inner,
c.textInput&&c.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent");a.addMouseWheelListener(c.container,this.onMouseWheel.bind(this,"mousewheel"));a.addTouchMoveListener(c.container,this.onTouchMove.bind(this,"touchmove"));var q=c.renderer.$gutter;a.addListener(q,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));a.addListener(q,"click",this.onMouseEvent.bind(this,"gutterclick"));a.addListener(q,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"));a.addListener(q,
"mousemove",this.onMouseEvent.bind(this,"guttermousemove"));a.addListener(k,"mousedown",d);a.addListener(q,"mousedown",d);g.isIE&&c.renderer.scrollBarV&&(a.addListener(c.renderer.scrollBarV.element,"mousedown",d),a.addListener(c.renderer.scrollBarH.element,"mousedown",d));c.on("mousemove",function(a){if(!b.state&&!b.$dragDelay&&b.$dragEnabled){a=c.renderer.screenToTextCoordinates(a.x,a.y);var d=c.session.selection.getRange(),e=c.renderer;!d.isEmpty()&&d.insideStart(a.row,a.column)?e.setCursorStyle("default"):
e.setCursorStyle("")}})};(function(){this.onMouseEvent=function(a,b){this.editor._emit(a,new c(b,this.editor))};this.onMouseMove=function(a,b){var d=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;d&&d.length&&this.editor._emit(a,new c(b,this.editor))};this.onMouseWheel=function(a,b){var d=new c(b,this.editor);d.speed=2*this.$scrollSpeed;d.wheelX=b.wheelX;d.wheelY=b.wheelY;this.editor._emit(a,d)};this.onTouchMove=function(a,b){var d=new c(b,this.editor);d.speed=1;d.wheelX=b.wheelX;
d.wheelY=b.wheelY;this.editor._emit(a,d)};this.setState=function(a){this.state=a};this.captureMouse=function(b,e){this.x=b.x;this.y=b.y;this.isMousePressed=!0;var d=this.editor.renderer;d.$keepTextAreaAtCursor&&(d.$keepTextAreaAtCursor=null);var f=this,h=function(a){if(a){if(g.isWebKit&&!a.which&&f.releaseMouse)return f.releaseMouse();f.x=a.clientX;f.y=a.clientY;e&&e(a);f.mouseEvent=new c(a,f.editor);f.$mouseMoved=!0}},k=function(a){clearInterval(n);m();f[f.state+"End"]&&f[f.state+"End"](a);f.state=
"";null==d.$keepTextAreaAtCursor&&(d.$keepTextAreaAtCursor=!0,d.$moveTextAreaToCursor());f.isMousePressed=!1;f.$onCaptureMouseMove=f.releaseMouse=null;a&&f.onMouseEvent("mouseup",a)},m=function(){f[f.state]&&f[f.state]();f.$mouseMoved=!1};if(g.isOldIE&&"dblclick"==b.domEvent.type)return setTimeout(function(){k(b)});f.$onCaptureMouseMove=h;f.releaseMouse=a.capture(this.editor.container,h,k);var n=setInterval(m,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var c=function(b){b&&b.domEvent&&
"contextmenu"!=b.domEvent.type||(this.editor.off("nativecontextmenu",c),b&&b.domEvent&&a.stopEvent(b.domEvent))}.bind(this);setTimeout(c,10);this.editor.on("nativecontextmenu",c)}}).call(t.prototype);b.defineOptions(t.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:g.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});n.MouseHandler=t});
define("ace/mouse/fold_handler",["require","exports","module"],function(b,n,t){n.FoldHandler=function(a){a.on("click",function(b){var e=b.getDocumentPosition(),f=a.session;(e=f.getFoldAt(e.row,e.column,1))&&(b.getAccelKey()?f.removeFold(e):f.expandFold(e),b.stop())});a.on("gutterclick",function(b){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(b)){var e=b.getDocumentPosition().row,f=a.session;f.foldWidgets&&f.foldWidgets[e]&&a.session.onFoldWidgetClick(e,b);a.isFocused()||a.focus();b.stop()}});
a.on("gutterdblclick",function(b){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(b)){var e=b.getDocumentPosition().row,f=a.session,c=f.getParentFoldRangeData(e,!0);if(c=c.range||c.firstRange)e=c.start.row,(e=f.getFoldAt(e,f.getLine(e).length,1))?f.removeFold(e):(f.addFold("...",c),a.renderer.scrollCursorIntoView({row:c.start.row,column:0}));b.stop()}})}});
define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(b,n,t){var a=b("../lib/keys"),g=b("../lib/event");b=function(a){this.$editor=a;this.$data={editor:a};this.$handlers=[];this.setDefaultHandler(a.commands)};(function(){this.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=a;this.addKeyboardHandler(a,0)};this.setKeyboardHandler=function(a){var b=this.$handlers;if(b[b.length-1]!=a){for(;b[b.length-
1]&&b[b.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(b[b.length-1]);this.addKeyboardHandler(a,1)}};this.addKeyboardHandler=function(a,b){if(a){"function"==typeof a&&!a.handleKeyboard&&(a.handleKeyboard=a);var c=this.$handlers.indexOf(a);-1!=c&&this.$handlers.splice(c,1);void 0==b?this.$handlers.push(a):this.$handlers.splice(b,0,a);-1==c&&a.attach&&a.attach(this.$editor)}};this.removeKeyboardHandler=function(a){var b=this.$handlers.indexOf(a);return-1==b?!1:(this.$handlers.splice(b,
1),a.detach&&a.detach(this.$editor),!0)};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var a=this.$data,b=a.editor;return this.$handlers.map(function(c){return c.getStatusText&&c.getStatusText(b,a)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(a,b,c,h){for(var e,f=!1,d=this.$editor.commands,l=this.$handlers.length;l--&&!((e=this.$handlers[l].handleKeyboard(this.$data,a,b,c,h))&&e.command&&("null"==e.command?
f=!0:f=d.exec(e.command,this.$editor,e.args,h),f&&h&&-1!=a&&1!=e.passEvent&&1!=e.command.passEvent&&g.stopEvent(h),f)););return!f&&-1==a&&(e={command:"insertstring"},f=d.exec("insertstring",this.$editor,b)),f&&this.$editor._signal&&this.$editor._signal("keyboardActivity",e),f};this.onCommandKey=function(b,f,c){var e=a.keyCodeToString(c);this.$callKeyboardHandlers(f,e,c,b)};this.onTextInput=function(a){this.$callKeyboardHandlers(-1,a)}}).call(b.prototype);n.KeyBinding=b});
define("ace/lib/bidiutil",["require","exports","module"],function(b,n,t){function a(a,b,d){if(!(c<a))if(1!=a||f!=q||k)for(var e=d.length,g=0,h,m,l;g<e;){if(b[g]>=a){for(h=g+1;h<e&&b[h]>=a;)h++;for(m=h-1;g<m;g++,m--)l=d[g],d[g]=d[m],d[m]=l;g=h}g++}else d.reverse()}function g(a,c,b,d){var e=c[d],g,l;switch(e){case w:case z:h=!1;case r:case B:return e;case u:return h?B:u;case C:return h=!0,z;case G:return r;case D:return 1>d||d+1>=c.length||(g=b[d-1])!=u&&g!=B||(l=c[d+1])!=u&&l!=B?r:(h&&(l=B),l==g?l:
r);case O:return g=0<d?b[d-1]:A,g==u&&d+1<c.length&&c[d+1]==u?u:r;case F:if(0<d&&b[d-1]==u)return u;if(h)return r;g=d+1;for(e=c.length;g<e&&c[g]==F;)g++;return g<e&&c[g]==u?u:r;case E:e=c.length;for(g=d+1;g<e&&c[g]==E;)g++;return g<e&&(a=a[d],g=c[g],(1425<=a&&2303>=a||64286==a)&&(g==z||g==C))?z:1>d||c[d-1]==A?r:b[d-1];case A:return h=!1,k=!0,f;case v:return m=!0,r;case M:case Q:case fa:case L:case J:h=!1;case I:return r}}function e(a){var c=a.charCodeAt(0),b=c>>8;return 0==b?191<c?w:N[c]:5==b?/[\u0591-\u05f4]/.test(a)?
z:w:6==b?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(a)?E:/[\u0660-\u0669\u066b-\u066c]/.test(a)?B:1642==c?F:/[\u06f0-\u06f9]/.test(a)?u:C:32==b&&8287>=c?pa[c&255]:254==b?65136<=c?C:r:r}var f=0,c=0,h=!1,k=!1,m=!1,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],q=1,w=0,z=1,u=2,B=3,r=4,A=5,v=6,C=7,G=8,D=9,O=10,F=11,E=12,M=13,Q=14,J=15,fa=16,L=17,I=18,N=[I,I,I,
I,I,I,I,I,I,v,A,v,G,A,I,I,I,I,I,I,I,I,I,I,I,I,I,I,A,A,A,v,G,r,r,F,F,F,r,r,r,r,r,O,D,O,D,D,u,u,u,u,u,u,u,u,u,u,D,r,r,r,r,r,r,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,r,r,r,r,r,r,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,r,r,r,r,I,I,I,I,I,I,A,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,D,r,F,F,F,F,r,r,r,r,w,r,r,I,r,r,F,F,u,u,r,w,r,r,r,u,w,r,r,r,r,r],pa=[G,G,G,G,G,G,G,G,G,G,G,I,I,I,w,z,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,G,A,M,Q,J,fa,L,D,F,F,F,F,F,r,r,r,r,r,r,
r,r,r,r,r,r,r,r,r,D,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,G];n.L=w;n.R=z;n.EN=u;n.ON_R=3;n.AN=4;n.R_H=5;n.B=6;n.DOT="\u00b7";n.doBidiReorder=function(b,u,w){if(2>b.length)return{};b=b.split("");var D=Array(b.length),t=Array(b.length),F=[];f=w?q:0;w=b.length;var E=u,O=f?l:d,J,Q;Q=0;var L,N=-1,fa,T=[];if(!E)for(L=0,E=[];L<w;L++)E[L]=e(b[L]);c=f;m=k=h=!1;for(fa=0;fa<w;fa++){J=Q;T[fa]=Q=g(b,E,T,fa);Q=O[J][Q];L=Q&240;Q&=15;F[fa]=J=O[Q][5];if(0<L){if(16==L)for(L=N;L<fa;L++)F[L]=1;N=-1}if(L=
O[Q][6])-1==N&&(N=fa);else if(-1<N){for(L=N;L<fa;L++)F[L]=J;N=-1}E[fa]==A&&(F[fa]=0);c|=J}if(m)for(L=0;L<w;L++)if(E[L]==v)for(F[L]=f,O=L-1;0<=O&&E[O]==G;O--)F[O]=f;for(w=0;w<D.length;D[w]=w,w++);a(2,F,D);a(1,F,D);for(w=0;w<D.length-1;w++)u[w]===B?F[w]=n.AN:F[w]===z&&(u[w]>C&&u[w]<M||u[w]===r||u[w]===I)?F[w]=n.ON_R:0<w&&"\u0644"===b[w-1]&&/\u0622|\u0623|\u0625|\u0627/.test(b[w])&&(F[w-1]=F[w]=n.R_H,w++);b[b.length-1]===n.DOT&&(F[b.length-1]=n.B);for(w=0;w<D.length;w++)t[w]=F[D[w]];return{logicalFromVisual:D,
bidiLevels:t}};n.hasBidiCharacters=function(a,c){for(var b=!1,d=0;d<a.length;d++)c[d]=e(a.charAt(d)),b||c[d]!=z&&c[d]!=C||(b=!0);return b};n.getVisualFromLogicalIdx=function(a,c){for(var b=0;b<c.logicalFromVisual.length;b++)if(c.logicalFromVisual[b]==a)return b;return 0}});
define("ace/bidihandler","require exports module ace/lib/bidiutil ace/lib/lang ace/lib/useragent".split(" "),function(b,n,t){var a=b("./lib/bidiutil"),g=b("./lib/lang"),e=b("./lib/useragent"),f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;b=function(c){this.session=c;this.bidiMap={};this.currentRow=null;this.bidiUtil=a;this.charWidths=[];this.EOL="\u00ac";this.showInvisibles=!0;this.isRtlDir=!1;this.line="";this.wrapIndent=0;this.isLastRow=!1;this.EOF="\u00b6";this.seenBidi=!1};(function(){this.isBidiRow=
function(a,b,e){return this.seenBidi?(a!==this.currentRow&&(this.currentRow=a,this.updateRowLine(b,e),this.updateBidiMap()),this.bidiMap.bidiLevels):!1};this.onChange=function(a){this.seenBidi?this.currentRow=null:"insert"==a.action&&f.test(a.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)};this.getDocumentRow=function(){var a=0,b=this.session.$screenRowCache;b.length&&(b=this.session.$getRowCacheIndex(b,this.currentRow),0<=b&&(a=this.session.$docRowCache[b]));return a};this.getSplitIndex=
function(){var a=0,b=this.session.$screenRowCache;if(b.length)for(var e,f=this.session.$getRowCacheIndex(b,this.currentRow);0<this.currentRow-a;){e=this.session.$getRowCacheIndex(b,this.currentRow-a-1);if(e!==f)break;f=e;a++}return a};this.updateRowLine=function(c,b){void 0===c&&(c=this.getDocumentRow());this.wrapIndent=0;this.isLastRow=c===this.session.getLength()-1;this.line=this.session.getLine(c);if(this.session.$useWrapMode){var e=this.session.$wrapData[c];e&&(void 0===b&&(b=this.getSplitIndex()),
0<b&&e.length?(this.wrapIndent=e.indent,this.line=b<e.length?this.line.substring(e[b-1],e[e.length-1]):this.line.substring(e[e.length-1])):this.line=this.line.substring(0,e[b]))}var f=this.session,d=0,h;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(c,b){return"\t"===c||f.isFullWidth(c.charCodeAt(0))?(h="\t"===c?f.getScreenTabSize(b+d):2,d+=h-1,g.stringRepeat(a.DOT,h)):c})};this.updateBidiMap=function(){var c=[],b=this.isLastRow?this.EOF:this.EOL,b=this.line+(this.showInvisibles?
b:a.DOT);a.hasBidiCharacters(b,c)?this.bidiMap=a.doBidiReorder(b,c,this.isRtlDir):this.bidiMap={}};this.markAsDirty=function(){this.currentRow=null};this.updateCharacterWidths=function(c){if(this.seenBidi&&this.characterWidth!==c.$characterSize.width){var b=this.characterWidth=c.$characterSize.width;c=c.$measureCharWidth("\u05d4");this.charWidths[a.L]=this.charWidths[a.EN]=this.charWidths[a.ON_R]=b;this.charWidths[a.R]=this.charWidths[a.AN]=c;this.charWidths[a.R_H]=e.isChrome?c:.45*c;this.charWidths[a.B]=
0;this.currentRow=null}};this.getShowInvisibles=function(){return this.showInvisibles};this.setShowInvisibles=function(a){this.showInvisibles=a;this.currentRow=null};this.setEolChar=function(a){this.EOL=a};this.setTextDir=function(a){this.isRtlDir=a};this.getPosLeft=function(c){c-=this.wrapIndent;var b=a.getVisualFromLogicalIdx(0<c?c-1:0,this.bidiMap),e=this.bidiMap.bidiLevels,f=0;0===c&&0!==e[b]%2&&b++;for(var d=0;d<b;d++)f+=this.charWidths[e[d]];return 0!==c&&0===e[b]%2&&(f+=this.charWidths[e[b]]),
this.wrapIndent&&(f+=this.wrapIndent*this.charWidths[a.L]),f};this.getSelections=function(c,b){for(var e=this.bidiMap,f=e.bidiLevels,d,g=this.wrapIndent*this.charWidths[a.L],h=[],n=Math.min(c,b)-this.wrapIndent,z=Math.max(c,b)-this.wrapIndent,u=!1,B=!1,r=0,A=0;A<f.length;A++)u=e.logicalFromVisual[A],d=f[A],(u=u>=n&&u<z)&&!B?r=g:!u&&B&&h.push({left:r,width:g-r}),g+=this.charWidths[d],B=u;return u&&A===f.length&&h.push({left:r,width:g-r}),h};this.offsetToCol=function(c){var b=0;c=Math.max(c,0);var e=
0,f=0,d=this.bidiMap.bidiLevels,g=this.charWidths[d[f]];for(this.wrapIndent&&(c-=this.wrapIndent*this.charWidths[a.L]);c>e+g/2;){e+=g;if(f===d.length-1){g=0;break}g=this.charWidths[d[++f]]}return 0<f&&0!==d[f-1]%2&&0===d[f]%2?(c<e&&f--,b=this.bidiMap.logicalFromVisual[f]):0<f&&0===d[f-1]%2&&0!==d[f]%2?b=1+(c>e?this.bidiMap.logicalFromVisual[f]:this.bidiMap.logicalFromVisual[f-1]):this.isRtlDir&&f===d.length-1&&0===g&&0===d[f-1]%2||!this.isRtlDir&&0===f&&0!==d[f]%2?b=1+this.bidiMap.logicalFromVisual[f]:
(0<f&&0!==d[f-1]%2&&0!==g&&f--,b=this.bidiMap.logicalFromVisual[f]),b+this.wrapIndent}}).call(b.prototype);n.BidiHandler=b});
define("ace/range",["require","exports","module"],function(b,n,t){var a=function(a,b,f,c){this.start={row:a,column:b};this.end={row:f,column:c}};(function(){this.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(a,b){return 0==this.compare(a,b)};this.compareRange=
function(a){var b,f=a.end;a=a.start;return b=this.compare(f.row,f.column),1==b?(b=this.compare(a.row,a.column),1==b?2:0==b?1:0):-1==b?-2:(b=this.compare(a.row,a.column),-1==b?-1:1==b?42:0)};this.comparePoint=function(a){return this.compare(a.row,a.column)};this.containsRange=function(a){return 0==this.comparePoint(a.start)&&0==this.comparePoint(a.end)};this.intersects=function(a){a=this.compareRange(a);return-1==a||0==a||1==a};this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b};this.isStart=
function(a,b){return this.start.row==a&&this.start.column==b};this.setStart=function(a,b){"object"==typeof a?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=b)};this.setEnd=function(a,b){"object"==typeof a?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=b)};this.inside=function(a,b){return 0==this.compare(a,b)?this.isEnd(a,b)||this.isStart(a,b)?!1:!0:!1};this.insideStart=function(a,b){return 0==this.compare(a,b)?this.isEnd(a,b)?!1:
!0:!1};this.insideEnd=function(a,b){return 0==this.compare(a,b)?this.isStart(a,b)?!1:!0:!1};this.compare=function(a,b){return this.isMultiLine()||a!==this.start.row?a<this.start.row?-1:a>this.end.row?1:this.start.row===a?b>=this.start.column?0:-1:this.end.row===a?b<=this.end.column?0:1:0:b<this.start.column?-1:b>this.end.column?1:0};this.compareStart=function(a,b){return this.start.row==a&&this.start.column==b?-1:this.compare(a,b)};this.compareEnd=function(a,b){return this.end.row==a&&this.end.column==
b?1:this.compare(a,b)};this.compareInside=function(a,b){return this.end.row==a&&this.end.column==b?1:this.start.row==a&&this.start.column==b?-1:this.compare(a,b)};this.clipRows=function(b,e){if(this.end.row>e)var f={row:e+1,column:0};else this.end.row<b&&(f={row:b,column:0});if(this.start.row>e)var c={row:e+1,column:0};else this.start.row<b&&(c={row:b,column:0});return a.fromPoints(c||this.start,f||this.end)};this.extend=function(b,e){var f=this.compare(b,e);if(0==f)return this;if(-1==f)var c={row:b,
column:e};else var g={row:b,column:e};return a.fromPoints(c||this.start,g||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return a.fromPoints(this.start,this.end)};this.collapseRows=function(){return 0==this.end.column?new a(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new a(this.start.row,0,this.end.row,0)};this.toScreenRange=function(b){var e=
b.documentToScreenPosition(this.start);b=b.documentToScreenPosition(this.end);return new a(e.row,e.column,b.row,b.column)};this.moveBy=function(a,b){this.start.row+=a;this.start.column+=b;this.end.row+=a;this.end.column+=b}}).call(a.prototype);a.fromPoints=function(b,e){return new a(b.row,b.column,e.row,e.column)};a.comparePoints=function(a,b){return a.row-b.row||a.column-b.column};a.comparePoints=function(a,b){return a.row-b.row||a.column-b.column};n.Range=a});
define("ace/selection","require exports module ace/lib/oop ace/lib/lang ace/lib/event_emitter ace/range".split(" "),function(b,n,t){var a=b("./lib/oop"),g=b("./lib/lang"),e=b("./lib/event_emitter").EventEmitter,f=b("./range").Range;b=function(a){this.session=a;this.doc=a.getDocument();this.clearSelection();this.lead=this.selectionLead=this.doc.createAnchor(0,0);this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var b=this;this.lead.on("change",function(a){b._emit("changeCursor");b.$isEmpty||
b._emit("changeSelection");!b.$keepDesiredColumnOnChange&&a.old.column!=a.value.column&&(b.$desiredColumn=null)});this.selectionAnchor.on("change",function(){b.$isEmpty||b._emit("changeSelection")})};(function(){a.implement(this,e);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=
function(a,b){this.anchor.setPosition(a,b);this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))};this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.shiftSelection=function(a){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+a);else{var b=this.getSelectionAnchor(),c=this.getSelectionLead(),e=this.isBackwards();e&&0===b.column||this.setSelectionAnchor(b.row,
b.column+a);(e||0!==c.column)&&this.$moveSelection(function(){this.moveCursorTo(c.row,c.column+a)})}};this.isBackwards=function(){var a=this.anchor,b=this.lead;return a.row>b.row||a.row==b.row&&a.column>b.column};this.getRange=function(){var a=this.anchor,b=this.lead;return this.isEmpty()?f.fromPoints(b,b):this.isBackwards()?f.fromPoints(b,a):f.fromPoints(a,b)};this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))};this.selectAll=function(){var a=this.doc.getLength()-
1;this.setSelectionAnchor(0,0);this.moveCursorTo(a,this.doc.getLine(a).length)};this.setRange=this.setSelectionRange=function(a,b){b?(this.setSelectionAnchor(a.end.row,a.end.column),this.selectTo(a.start.row,a.start.column)):(this.setSelectionAnchor(a.start.row,a.start.column),this.selectTo(a.end.row,a.end.column));this.getRange().isEmpty()&&(this.$isEmpty=!0);this.$desiredColumn=null};this.$moveSelection=function(a){var b=this.lead;this.$isEmpty&&this.setSelectionAnchor(b.row,b.column);a.call(this)};
this.selectTo=function(a,b){this.$moveSelection(function(){this.moveCursorTo(a,b)})};this.selectToPosition=function(a){this.$moveSelection(function(){this.moveCursorToPosition(a)})};this.moveTo=function(a,b){this.clearSelection();this.moveCursorTo(a,b)};this.moveToPosition=function(a){this.clearSelection();this.moveCursorToPosition(a)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};
this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};
this.getWordRange=function(a,b){if("undefined"==typeof b){var c=a||this.lead;a=c.row;b=c.column}return this.session.getWordRange(a,b)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var a=this.getCursor(),a=this.session.getAWordRange(a.row,a.column);this.setSelectionRange(a)};this.getLineRange=function(a,b){var c="number"==typeof a?a:this.lead.row,e,d=this.session.getFoldLine(c);return d?(c=d.start.row,e=d.end.row):e=c,!0===b?new f(c,0,e,this.session.getLine(e).length):
new f(c,0,e+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.wouldMoveIntoSoftTab=function(a,b,e){var c=a.column,d=a.column+b;return 0>e&&(c=a.column-b,d=a.column),this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(c,d).split(" ").length-1==b};this.moveCursorLeft=function(){var a=this.lead.getPosition(),b;(b=this.session.getFoldAt(a.row,a.column,-1))?
this.moveCursorTo(b.start.row,b.start.column):0===a.column?0<a.row&&this.moveCursorTo(a.row-1,this.doc.getLine(a.row-1).length):(b=this.session.getTabSize(),this.wouldMoveIntoSoftTab(a,b,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-b):this.moveCursorBy(0,-1))};this.moveCursorRight=function(){var a=this.lead.getPosition();if(a=this.session.getFoldAt(a.row,a.column,1))this.moveCursorTo(a.end.row,a.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<
this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var b=this.session.getTabSize(),a=this.lead;this.wouldMoveIntoSoftTab(a,b,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,b):this.moveCursorBy(0,1)}};this.moveCursorLineStart=function(){var a=this.lead.row,b=this.lead.column,e=this.session.documentToScreenRow(a,b),e=this.session.screenToDocumentPosition(e,0),a=this.session.getDisplayLine(a,null,e.row,e.column).match(/^\s*/);a[0].length!=b&&!this.session.$useEmacsStyleLineStart&&
(e.column+=a[0].length);this.moveCursorToPosition(e)};this.moveCursorLineEnd=function(){var a=this.lead,a=this.session.getDocumentLastRowColumnPosition(a.row,a.column);if(this.lead.column==a.column){var b=this.session.getLine(a.row);a.column==b.length&&(b=b.search(/\s+$/),0<b&&(a.column=b))}this.moveCursorTo(a.row,a.column)};this.moveCursorFileEnd=function(){var a=this.doc.getLength()-1,b=this.doc.getLine(a).length;this.moveCursorTo(a,b)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};
this.moveCursorLongWordRight=function(){var a=this.lead.row,b=this.lead.column,e=this.doc.getLine(a),f=e.substring(b);this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;var d=this.session.getFoldAt(a,b,1);d?this.moveCursorTo(d.end.row,d.end.column):(this.session.nonTokenRe.exec(f)&&(b+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,f=e.substring(b)),b>=e.length?(this.moveCursorTo(a,e.length),this.moveCursorRight(),a<this.doc.getLength()-1&&this.moveCursorWordRight()):
(this.session.tokenRe.exec(f)&&(b+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(a,b)))};this.moveCursorLongWordLeft=function(){var a=this.lead.row,b=this.lead.column,e;(e=this.session.getFoldAt(a,b,-1))?this.moveCursorTo(e.start.row,e.start.column):(e=this.session.getFoldStringAt(a,b,-1),null==e&&(e=this.doc.getLine(a).substring(0,b)),e=g.stringReverse(e),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(e)&&(b-=
this.session.nonTokenRe.lastIndex,e=e.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=b?(this.moveCursorTo(a,0),this.moveCursorLeft(),0<a&&this.moveCursorWordLeft()):(this.session.tokenRe.exec(e)&&(b-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(a,b)))};this.$shortWordEndIndex=function(a){var b=0,c,e=/\s/,d=this.session.tokenRe;d.lastIndex=0;if(this.session.tokenRe.exec(a))b=this.session.tokenRe.lastIndex;else{for(;(c=a[b])&&e.test(c);)b++;
if(1>b)for(d.lastIndex=0;(c=a[b])&&!d.test(c);)if(d.lastIndex=0,b++,e.test(c)){if(2<b){b--;break}for(;(c=a[b])&&e.test(c);)b++;if(2<b)break}}return d.lastIndex=0,b};this.moveCursorShortWordRight=function(){var a=this.lead.row,b=this.lead.column,e=this.doc.getLine(a),f=e.substring(b),d=this.session.getFoldAt(a,b,1);if(d)return this.moveCursorTo(d.end.row,d.end.column);if(b==e.length){b=this.doc.getLength();do a++,f=this.doc.getLine(a);while(a<b&&/^\s*$/.test(f));/^\s+/.test(f)||(f="");b=0}f=this.$shortWordEndIndex(f);
this.moveCursorTo(a,b+f)};this.moveCursorShortWordLeft=function(){var a=this.lead.row,b=this.lead.column,e;if(e=this.session.getFoldAt(a,b,-1))return this.moveCursorTo(e.start.row,e.start.column);e=this.session.getLine(a).substring(0,b);if(0===b){do a--,e=this.doc.getLine(a);while(0<a&&/^\s*$/.test(e));b=e.length;/\s+$/.test(e)||(e="")}e=g.stringReverse(e);e=this.$shortWordEndIndex(e);return this.moveCursorTo(a,b-e)};this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():
this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()};this.moveCursorBy=function(a,b){var c=this.session.documentToScreenPosition(this.lead.row,this.lead.column),e;0===b&&(0!==a&&(this.session.$bidiHandler.isBidiRow(c.row,this.lead.row)?(e=this.session.$bidiHandler.getPosLeft(c.column),c.column=Math.round(e/this.session.$bidiHandler.charWidths[0])):e=c.column*this.session.$bidiHandler.charWidths[0]),
this.$desiredColumn?c.column=this.$desiredColumn:this.$desiredColumn=c.column);c=this.session.screenToDocumentPosition(c.row+a,c.column,e);0!==a&&0===b&&c.row===this.lead.row&&c.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[c.row]&&(0<c.row||0<a)&&c.row++;this.moveCursorTo(c.row,c.column+b,0===b)};this.moveCursorToPosition=function(a){this.moveCursorTo(a.row,a.column)};this.moveCursorTo=function(a,b,e){var c=this.session.getFoldAt(a,b,1);c&&(a=c.start.row,b=c.start.column);
this.$keepDesiredColumnOnChange=!0;c=this.session.getLine(a);/[\uDC00-\uDFFF]/.test(c.charAt(b))&&c.charAt(b-1)&&(this.lead.row==a&&this.lead.column==b+1?--b:b+=1);this.lead.setPosition(a,b);this.$keepDesiredColumnOnChange=!1;e||(this.$desiredColumn=null)};this.moveCursorToScreen=function(a,b,e){a=this.session.screenToDocumentPosition(a,b);this.moveCursorTo(a.row,a.column,e)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=function(a){this.setSelectionRange(a,
a.cursor==a.start);this.$desiredColumn=a.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(a){var b=this.getRange();return a?(a.start.column=b.start.column,a.start.row=b.start.row,a.end.column=b.end.column,a.end.row=b.end.row):a=b,a.cursor=this.isBackwards()?a.start:a.end,a.desiredColumn=this.$desiredColumn,a};this.getRangeOfMovements=function(a){var b=this.getCursor();try{a(this);var c=this.getCursor();return f.fromPoints(b,c)}catch(m){return f.fromPoints(b,b)}finally{this.moveCursorToPosition(b)}};
this.toJSON=function(){if(this.rangeCount)var a=this.ranges.map(function(a){var b=a.clone();return b.isBackwards=a.cursor==a.start,b});else a=this.getRange(),a.isBackwards=this.isBackwards();return a};this.fromJSON=function(a){if(void 0==a.start){if(this.rangeList){this.toSingleRange(a[0]);for(var b=a.length;b--;){var c=f.fromPoints(a[b].start,a[b].end);a[b].isBackwards&&(c.cursor=c.start);this.addRange(c,!0)}return}a=a[0]}this.rangeList&&this.toSingleRange(a);this.setSelectionRange(a,a.isBackwards)};
this.isEqual=function(a){if((a.length||this.rangeCount)&&a.length!=this.rangeCount)return!1;if(!a.length||!this.ranges)return this.getRange().isEqual(a);for(var b=this.ranges.length;b--;)if(!this.ranges[b].isEqual(a[b]))return!1;return!0}}).call(b.prototype);n.Selection=b});
define("ace/tokenizer",["require","exports","module","ace/config"],function(b,n,t){var a=b("./config"),g=2E3;b=function(a){this.states=a;this.regExps={};this.matchMappings={};for(var b in this.states){a=this.states[b];for(var c=[],e=0,g=this.matchMappings[b]={defaultToken:"text"},m="g",d=[],l=0;l<a.length;l++){var q=a[l];q.defaultToken&&(g.defaultToken=q.defaultToken);q.caseInsensitive&&(m="gi");if(null!=q.regex){q.regex instanceof RegExp&&(q.regex=q.regex.toString().slice(1,-1));var n=q.regex,z=
(new RegExp("(?:("+n+")|(.))")).exec("a").length-2;Array.isArray(q.token)?1==q.token.length||1==z?q.token=q.token[0]:z-1!=q.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:q,groupCount:z-1}),q.token=q.token[0]):(q.tokenArray=q.token,q.token=null,q.onMatch=this.$arrayTokens):"function"==typeof q.token&&!q.onMatch&&(1<z?q.onMatch=this.$applyToken:q.onMatch=q.token);1<z&&(/\\\d/.test(q.regex)?n=q.regex.replace(/\\([0-9]+)/g,function(a,b){return"\\"+(parseInt(b,
10)+e+1)}):(z=1,n=this.removeCapturingGroups(q.regex)),!q.splitRegex&&"string"!=typeof q.token&&d.push(q));g[e]=l;e+=z;c.push(n);q.onMatch||(q.onMatch=null)}}c.length||(g[0]=0,c.push("$"));d.forEach(function(a){a.splitRegex=this.createSplitterRegexp(a.regex,m)},this);this.regExps[b]=new RegExp("("+c.join(")|(")+")|($)",m)}};(function(){this.$setMaxTokenCount=function(a){g=a|0};this.$applyToken=function(a){var b=this.splitRegex.exec(a).slice(1),c=this.token.apply(this,b);if("string"==typeof c)return[{type:c,
value:a}];a=[];for(var e=0,g=c.length;e<g;e++)b[e]&&(a[a.length]={type:c[e],value:b[e]});return a};this.$arrayTokens=function(a){if(!a)return[];a=this.splitRegex.exec(a);if(!a)return"text";for(var b=[],c=this.tokenArray,e=0,g=c.length;e<g;e++)a[e+1]&&(b[b.length]={type:c[e],value:a[e+1]});return b};this.removeCapturingGroups=function(a){return a.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(a,b){return b?"(?:":a})};this.createSplitterRegexp=function(a,b){if(-1!=a.indexOf("(?=")){var c=
0,e=!1,f={};a.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(a,b,g,h,k,n){return e?e="]"!=k:k?e=!0:h?(c==f.stack&&(f.end=n+1,f.stack=-1),c--):g&&(c++,1!=g.length&&(f.stack=c,f.start=n)),a});null!=f.end&&/^\)*$/.test(a.substr(f.end))&&(a=a.substring(0,f.start)+a.substr(f.end))}return"^"!=a.charAt(0)&&(a="^"+a),"$"!=a.charAt(a.length-1)&&(a+="$"),new RegExp(a,(b||"").replace("g",""))};this.getLineTokens=function(a,b){if(b&&"string"!=typeof b){var c=b.slice(0);b=c[0];"#tmp"===b&&(c.shift(),
b=c.shift())}else c=[];var e=b||"start",f=this.states[e];f||(e="start",f=this.states[e]);var m=this.matchMappings[e],d=this.regExps[e];d.lastIndex=0;for(var l,q=[],n=0,z=0,u={type:null,value:""};l=d.exec(a);){var B=m.defaultToken,r=null,A=l[0],v=d.lastIndex;if(v-A.length>n){var C=a.substring(n,v-A.length);u.type==B?u.value+=C:(u.type&&q.push(u),u={type:B,value:C})}for(C=0;C<l.length-2;C++)if(void 0!==l[C+1]){r=f[m[C]];r.onMatch?B=r.onMatch(A,e,c,a):B=r.token;r.next&&("string"==typeof r.next?e=r.next:
e=r.next(e,c),f=this.states[e],f||(this.reportError("state doesn't exist",e),e="start",f=this.states[e]),m=this.matchMappings[e],n=v,d=this.regExps[e],d.lastIndex=v);r.consumeLineEnd&&(n=v);break}if(A)if("string"==typeof B)r&&!1===r.merge||u.type!==B?(u.type&&q.push(u),u={type:B,value:A}):u.value+=A;else if(B)for(u.type&&q.push(u),u={type:null,value:""},C=0;C<B.length;C++)q.push(B[C]);if(n==a.length)break;n=v;if(z++>g){for(z>2*a.length&&this.reportError("infinite loop with in ace tokenizer",{startState:b,
line:a});n<a.length;)u.type&&q.push(u),u={value:a.substring(n,n+=2E3),type:"overflow"};e="start";c=[];break}}return u.type&&q.push(u),1<c.length&&c[0]!==e&&c.unshift("#tmp",e),{tokens:q,state:c.length?c:e}};this.reportError=a.reportError}).call(b.prototype);n.Tokenizer=b});
define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(b,n,t){var a=b("../lib/lang");b=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(a,b){if(b)for(d in a){for(var c=a[d],e=0;e<c.length;e++){var f=c[e];if(f.next||f.onMatch)"string"==typeof f.next&&0!==f.next.indexOf(b)&&(f.next=b+f.next),f.nextState&&0!==f.nextState.indexOf(b)&&(f.nextState=b+f.nextState)}this.$rules[b+d]=c}else for(var d in a)this.$rules[d]=
a[d]};this.getRules=function(){return this.$rules};this.embedRules=function(b,c,e,g,m){b="function"==typeof b?(new b).getRules():b;if(g)for(var d=0;d<g.length;d++)g[d]=c+g[d];else for(d in g=[],b)g.push(c+d);this.addRules(b,c);if(e)for(m=Array.prototype[m?"push":"unshift"],d=0;d<g.length;d++)m.apply(this.$rules[g[d]],a.deepCopy(e));this.$embeds||(this.$embeds=[]);this.$embeds.push(c)};this.getEmbeds=function(){return this.$embeds};var b=function(a,b){return("start"!=a||b.length)&&b.unshift(this.nextState,
a),this.nextState},e=function(a,b){return b.shift(),b.shift()||"start"};this.normalizeRules=function(){function a(f){f=g[f];f.processed=!0;for(var h=0;h<f.length;h++){var d=f[h],k=null;Array.isArray(d)&&(k=d,d={});!d.regex&&d.start&&(d.regex=d.start,d.next||(d.next=[]),d.next.push({defaultToken:d.token},{token:d.token+".end",regex:d.end||d.start,next:"pop"}),d.token+=".start",d.push=!0);var q=d.next||d.push;if(q&&Array.isArray(q)){var n=d.stateName;n||(n=d.token,"string"!=typeof n&&(n=n[0]||""),g[n]&&
(n+=c++));g[n]=q;d.next=n;a(n)}else"pop"==q&&(d.next=e);d.push&&(d.nextState=d.next||d.push,d.next=b,delete d.push);if(d.rules)for(var z in d.rules)g[z]?g[z].push&&g[z].push.apply(g[z],d.rules[z]):g[z]=d.rules[z];(q="string"==typeof d?d:d.include)&&(Array.isArray(q)?k=q.map(function(a){return g[a]}):k=g[q]);k&&(k=[h,1].concat(k),d.noEscape&&(k=k.filter(function(a){return!a.next})),f.splice.apply(f,k),h--);d.keywordMap&&(d.token=this.createKeywordMapper(d.keywordMap,d.defaultToken||"text",d.caseInsensitive),
delete d.defaultToken)}}var c=0,g=this.$rules;Object.keys(g).forEach(a,this)};this.createKeywordMapper=function(a,b,e,g){var c=Object.create(null);return Object.keys(a).forEach(function(b){var d=a[b];e&&(d=d.toLowerCase());for(var d=d.split(g||"|"),f=d.length;f--;)c[d[f]]=b}),Object.getPrototypeOf(c)&&(c.__proto__=null),this.$keywordList=Object.keys(c),a=null,e?function(a){return c[a.toLowerCase()]||b}:function(a){return c[a]||b}};this.getKeywords=function(){return this.$keywords}}).call(b.prototype);
n.TextHighlightRules=b});
define("ace/mode/behaviour",["require","exports","module"],function(b,n,t){b=function(){this.$behaviours={}};(function(){this.add=function(a,b,e){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[a]:this.$behaviours[a]={}}this.$behaviours[a][b]=e};this.addBehaviours=function(a){for(var b in a)for(var e in a[b])this.add(b,e,a[b][e])};this.remove=function(a){this.$behaviours&&this.$behaviours[a]&&delete this.$behaviours[a]};this.inherit=function(a,b){var e="function"==typeof a?
(new a).getBehaviours(b):a.getBehaviours(b);this.addBehaviours(e)};this.getBehaviours=function(a){if(!a)return this.$behaviours;for(var b={},e=0;e<a.length;e++)this.$behaviours[a[e]]&&(b[a[e]]=this.$behaviours[a[e]]);return b}}).call(b.prototype);n.Behaviour=b});
define("ace/token_iterator",["require","exports","module","ace/range"],function(b,n,t){var a=b("./range").Range;b=function(a,b,f){this.$session=a;this.$row=b;this.$rowTokens=a.getTokens(b);this.$tokenIndex=(a=a.getTokenAt(b,f))?a.index:-1};(function(){this.stepBackward=function(){for(--this.$tokenIndex;0>this.$tokenIndex;){--this.$row;if(0>this.$row)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};
this.stepForward=function(){this.$tokenIndex+=1;for(var a;this.$tokenIndex>=this.$rowTokens.length;){this.$row+=1;a||(a=this.$session.getLength());if(this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var a=this.$rowTokens,b=this.$tokenIndex,
f=a[b].start;if(void 0!==f)return f;for(f=0;0<b;)--b,f+=a[b].value.length;return f};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var b=this.$rowTokens[this.$tokenIndex],e=this.getCurrentTokenColumn();return new a(this.$row,e,this.$row,e+b.value.length)}}).call(b.prototype);n.TokenIterator=b});
define("ace/mode/behaviour/cstyle","require exports module ace/lib/oop ace/mode/behaviour ace/token_iterator ace/lib/lang".split(" "),function(b,n,t){t=b("../../lib/oop");var a=b("../behaviour").Behaviour,g=b("../../token_iterator").TokenIterator,e=b("../../lib/lang"),f=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],h,k={},m={'"':'"',"'":"'"},d=function(a){var b=-1;a.multiSelect&&(b=a.selection.index,k.rangeCount!=a.multiSelect.rangeCount&&
(k={rangeCount:a.multiSelect.rangeCount}));if(k[b])return h=k[b];h=k[b]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},l=function(a,b,c,d){var e=a.end.row-a.start.row;return{text:c+b+d,selection:[0,a.start.column+1,e,a.end.column+(e?0:1)]}},q=function(a){this.add("braces","insertion",function(b,c,f,g,k){b=f.getCursorPosition();c=g.doc.getLine(b.row);if("{"==k){d(f);k=f.getSelectionRange();
var m=g.doc.getTextRange(k);if(""!==m&&"{"!==m&&f.getWrapBehavioursEnabled())return l(k,m,"{","}");if(q.isSaneInsertion(f,g))return/[\]\}\)]/.test(c[b.column])||f.inMultiSelectMode||a&&a.braces?(q.recordAutoInsert(f,g,"}"),{text:"{}",selection:[1,1]}):(q.recordMaybeInsert(f,g,"{"),{text:"{",selection:[1,1]})}else if("}"==k){if(d(f),m=c.substring(b.column,b.column+1),"}"==m&&null!==g.$findOpeningBracket("}",{column:b.column+1,row:b.row})&&q.isAutoInsertedClosing(b,c,k))return q.popAutoInsertedClosing(),
{text:"",selection:[1,1]}}else{if("\n"==k||"\r\n"==k){d(f);f="";q.isMaybeInsertedClosing(b,c)&&(f=e.stringRepeat("}",h.maybeInsertedBrackets),q.clearMaybeInsertedClosing());m=c.substring(b.column,b.column+1);if("}"===m){b=g.findMatchingBracket({row:b.row,column:b.column+1},"}");if(!b)return null;b=this.$getIndent(g.getLine(b.row))}else{if(!f){q.clearMaybeInsertedClosing();return}b=this.$getIndent(c)}g=b+g.getTabString();return{text:"\n"+g+"\n"+b+f,selection:[1,g.length,1,g.length]}}q.clearMaybeInsertedClosing()}});
this.add("braces","deletion",function(a,b,c,e,f){a=e.doc.getTextRange(f);if(!f.isMultiLine()&&"{"==a){d(c);if("}"==e.doc.getLine(f.start.row).substring(f.end.column,f.end.column+1))return f.end.column++,f;h.maybeInsertedBrackets--}});this.add("parens","insertion",function(a,b,c,e,f){if("("==f){d(c);f=c.getSelectionRange();a=e.doc.getTextRange(f);if(""!==a&&c.getWrapBehavioursEnabled())return l(f,a,"(",")");if(q.isSaneInsertion(c,e))return q.recordAutoInsert(c,e,")"),{text:"()",selection:[1,1]}}else if(")"==
f&&(d(c),c=c.getCursorPosition(),a=e.doc.getLine(c.row),")"==a.substring(c.column,c.column+1)&&null!==e.$findOpeningBracket(")",{column:c.column+1,row:c.row})&&q.isAutoInsertedClosing(c,a,f)))return q.popAutoInsertedClosing(),{text:"",selection:[1,1]}});this.add("parens","deletion",function(a,b,c,e,f){a=e.doc.getTextRange(f);if(!f.isMultiLine()&&"("==a&&(d(c),")"==e.doc.getLine(f.start.row).substring(f.start.column+1,f.start.column+2)))return f.end.column++,f});this.add("brackets","insertion",function(a,
b,c,e,f){if("["==f){d(c);f=c.getSelectionRange();a=e.doc.getTextRange(f);if(""!==a&&c.getWrapBehavioursEnabled())return l(f,a,"[","]");if(q.isSaneInsertion(c,e))return q.recordAutoInsert(c,e,"]"),{text:"[]",selection:[1,1]}}else if("]"==f&&(d(c),c=c.getCursorPosition(),a=e.doc.getLine(c.row),"]"==a.substring(c.column,c.column+1)&&null!==e.$findOpeningBracket("]",{column:c.column+1,row:c.row})&&q.isAutoInsertedClosing(c,a,f)))return q.popAutoInsertedClosing(),{text:"",selection:[1,1]}});this.add("brackets",
"deletion",function(a,b,c,e,f){a=e.doc.getTextRange(f);if(!f.isMultiLine()&&"["==a&&(d(c),"]"==e.doc.getLine(f.start.row).substring(f.start.column+1,f.start.column+2)))return f.end.column++,f});this.add("string_dquotes","insertion",function(a,b,c,e,f){a=e.$mode.$quotes||m;if(1==f.length&&a[f]&&(!this.lineCommentStart||-1==this.lineCommentStart.indexOf(f))){d(c);b=c.getSelectionRange();var g=e.doc.getTextRange(b);if(""!==g&&(1!=g.length||!a[g])&&c.getWrapBehavioursEnabled())return l(b,g,f,f);if(!g){b=
c.getCursorPosition();a=e.doc.getLine(b.row);c=a.substring(b.column-1,b.column);a=a.substring(b.column,b.column+1);g=e.getTokenAt(b.row,b.column);b=e.getTokenAt(b.row,b.column+1);if("\\"==c&&g&&/escape/.test(g.type))return null;var g=g&&/string|escape/.test(g.type),h=!b||/string|escape/.test(b.type);if(a==f)(e=g!==h)&&/string\.end/.test(b.type)&&(e=!1);else{if(g&&!h||g&&h)return null;b=e.$mode.tokenRe;b.lastIndex=0;e=b.test(c);b.lastIndex=0;c=b.test(c);if(e||c||a&&!/[\s;,.})\]\\]/.test(a))return null;
e=!0}return{text:e?f+f:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(a,b,c,e,f){a=e.doc.getTextRange(f);if(!f.isMultiLine()&&('"'==a||"'"==a)&&(d(c),e.doc.getLine(f.start.row).substring(f.start.column+1,f.start.column+2)==a))return f.end.column++,f})};q.isSaneInsertion=function(a,b){var d=a.getCursorPosition(),e=new g(b,d.row,d.column);if(!this.$matchTokenType(e.getCurrentToken()||"text",f)){var h=new g(b,d.row,d.column+1);if(!this.$matchTokenType(h.getCurrentToken()||"text",
f))return!1}return e.stepForward(),e.getCurrentTokenRow()!==d.row||this.$matchTokenType(e.getCurrentToken()||"text",c)};q.$matchTokenType=function(a,b){return-1<b.indexOf(a.type||a)};q.recordAutoInsert=function(a,b,c){a=a.getCursorPosition();b=b.doc.getLine(a.row);this.isAutoInsertedClosing(a,b,h.autoInsertedLineEnd[0])||(h.autoInsertedBrackets=0);h.autoInsertedRow=a.row;h.autoInsertedLineEnd=c+b.substr(a.column);h.autoInsertedBrackets++};q.recordMaybeInsert=function(a,b,c){a=a.getCursorPosition();
b=b.doc.getLine(a.row);this.isMaybeInsertedClosing(a,b)||(h.maybeInsertedBrackets=0);h.maybeInsertedRow=a.row;h.maybeInsertedLineStart=b.substr(0,a.column)+c;h.maybeInsertedLineEnd=b.substr(a.column);h.maybeInsertedBrackets++};q.isAutoInsertedClosing=function(a,b,c){return 0<h.autoInsertedBrackets&&a.row===h.autoInsertedRow&&c===h.autoInsertedLineEnd[0]&&b.substr(a.column)===h.autoInsertedLineEnd};q.isMaybeInsertedClosing=function(a,b){return 0<h.maybeInsertedBrackets&&a.row===h.maybeInsertedRow&&
b.substr(a.column)===h.maybeInsertedLineEnd&&b.substr(0,a.column)==h.maybeInsertedLineStart};q.popAutoInsertedClosing=function(){h.autoInsertedLineEnd=h.autoInsertedLineEnd.substr(1);h.autoInsertedBrackets--};q.clearMaybeInsertedClosing=function(){h&&(h.maybeInsertedBrackets=0,h.maybeInsertedRow=-1)};t.inherits(q,a);n.CstyleBehaviour=q});
define("ace/unicode",["require","exports","module"],function(b,n,t){n.packages={};b={L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"};
t=/\w{4}/g;for(var a in b)n.packages[a]=b[a].replace(t,"\\u$&")});
define("ace/mode/text","require exports module ace/tokenizer ace/mode/text_highlight_rules ace/mode/behaviour/cstyle ace/unicode ace/lib/lang ace/token_iterator ace/range".split(" "),function(b,n,t){var a=b("../tokenizer").Tokenizer,g=b("./text_highlight_rules").TextHighlightRules,e=b("./behaviour/cstyle").CstyleBehaviour,f=b("../unicode"),c=b("../lib/lang"),h=b("../token_iterator").TokenIterator,k=b("../range").Range;b=function(){this.HighlightRules=g};(function(){this.$defaultBehaviour=new e;this.tokenRe=
new RegExp("^["+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]|\\s])+","g");this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new a(this.$highlightRules.getRules())),this.$tokenizer};this.blockComment=this.lineCommentStart="";this.toggleCommentLines=
function(a,b,e,f){function d(a){for(var b=e;b<=f;b++)a(g.getLine(b),b)}var g=b.doc,h=!0,k=!0,m=Infinity,l=b.getTabSize();a=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(M=this.lineCommentStart.map(c.escapeRegExp).join("|"),F=this.lineCommentStart[0]):(M=c.escapeRegExp(this.lineCommentStart),F=this.lineCommentStart);M=new RegExp("^(\\s*)(?:"+M+") ?");a=b.getUseSoftTabs();var q=function(a,b){var c=a.match(M);if(c){var d=c[1].length,e=c[0].length;!t(a,d,e)&&" "==c[0][e-1]&&e--;g.removeInLine(b,
d,e)}},n=F+" ",G=function(a,b){if(!h||/\S/.test(a))t(a,m,m)?g.insertInLine({row:b,column:m},n):g.insertInLine({row:b,column:m},F)},D=function(a,b){return M.test(a)},t=function(a,b,c){for(var d=0;b--&&" "==a.charAt(b);)d++;if(0!=d%l)return!1;for(d=0;" "==a.charAt(c++);)d++;return 2<l?d%l!=l-1:0==d%l}}else{if(!this.blockComment)return!1;var F=this.blockComment.start,E=this.blockComment.end,M=new RegExp("^(\\s*)(?:"+c.escapeRegExp(F)+")"),Q=new RegExp("(?:"+c.escapeRegExp(E)+")\\s*$"),G=function(a,b){D(a,
b)||h&&!/\S/.test(a)||(g.insertInLine({row:b,column:a.length},E),g.insertInLine({row:b,column:m},F))},q=function(a,b){var c;(c=a.match(Q))&&g.removeInLine(b,a.length-c[0].length,a.length);(c=a.match(M))&&g.removeInLine(b,c[1].length,c[0].length)},D=function(a,c){if(M.test(a))return!0;for(var d=b.getTokens(c),e=0;e<d.length;e++)if("comment"===d[e].type)return!0}}var J=Infinity;d(function(a,b){var c=a.search(/\S/);-1!==c?(c<m&&(m=c),k&&!D(a,b)&&(k=!1)):J>a.length&&(J=a.length)});Infinity==m&&(m=J,h=
!1,k=!1);a&&0!=m%l&&(m=Math.floor(m/l)*l);d(k?q:G)};this.toggleBlockComment=function(a,b,c,e){if(a=this.blockComment){!a.start&&a[0]&&(a=a[0]);var d=new h(b,e.row,e.column),f=d.getCurrentToken(),g=b.selection.toOrientedRange(),m,l;if(f&&/comment/.test(f.type)){for(var q,v;f&&/comment/.test(f.type);){f=f.value.indexOf(a.start);if(-1!=f){c=d.getCurrentTokenRow();d=d.getCurrentTokenColumn()+f;q=new k(c,d,c,d+a.start.length);break}f=d.stepBackward()}d=new h(b,e.row,e.column);for(f=d.getCurrentToken();f&&
/comment/.test(f.type);){f=f.value.indexOf(a.end);if(-1!=f){c=d.getCurrentTokenRow();d=d.getCurrentTokenColumn()+f;v=new k(c,d,c,d+a.end.length);break}f=d.stepForward()}v&&b.remove(v);q&&(b.remove(q),m=q.start.row,l=-a.start.length)}else l=a.start.length,m=c.start.row,b.insert(c.end,a.end),b.insert(c.start,a.start);g.start.row==m&&(g.start.column+=l);g.end.row==m&&(g.end.column+=l);b.selection.fromOrientedRange(g)}};this.getNextLineIndent=function(a,b,c){return this.$getIndent(b)};this.checkOutdent=
function(a,b,c){return!1};this.autoOutdent=function(a,b,c){};this.$getIndent=function(a){return a.match(/^\s*/)[0]};this.createWorker=function(a){return null};this.createModeDelegates=function(a){this.$embeds=[];this.$modes={};for(var b in a)a[b]&&(this.$embeds.push(b),this.$modes[b]=new a[b]);var c="toggleBlockComment toggleCommentLines getNextLineIndent checkOutdent autoOutdent transformAction getCompletions".split(" ");for(b=0;b<c.length;b++)(function(a){var d=c[b],e=a[d];a[c[b]]=function(){return this.$delegator(d,
arguments,e)}})(this)};this.$delegator=function(a,b,c){var d=b[0];"string"!=typeof d&&(d=d[0]);for(var e=0;e<this.$embeds.length;e++)if(this.$modes[this.$embeds[e]]){var f=d.split(this.$embeds[e]);if(!f[0]&&f[1])return b[0]=f[1],c=this.$modes[this.$embeds[e]],c[a].apply(c,b)}a=c.apply(this,b);return c?a:void 0};this.transformAction=function(a,b,c,e,f){if(this.$behaviour){var d=this.$behaviour.getBehaviours(),g;for(g in d)if(d[g][b]){var h=d[g][b].apply(this,arguments);if(h)return h}}};this.getKeywords=
function(a){if(!this.completionKeywords){var b=this.$tokenizer.rules,c=[],e;for(e in b)for(var f=b[e],g=0,h=f.length;g<h;g++)if("string"==typeof f[g].token)/keyword|support|storage/.test(f[g].token)&&c.push(f[g].regex);else if("object"==typeof f[g].token)for(var k=0,m=f[g].token.length;k<m;k++)/keyword|support|storage/.test(f[g].token[k])&&(e=f[g].regex.match(/\(.+?\)/g)[k],c.push(e.substr(1,e.length-2)));this.completionKeywords=c}return a?c.concat(this.$keywordList||[]):this.$keywordList};this.$createKeywordList=
function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(a,b,c,e){return(this.$keywordList||this.$createKeywordList()).map(function(a){return{name:a,value:a,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(b.prototype);n.Mode=b});
define("ace/apply_delta",["require","exports","module"],function(b,n,t){n.applyDelta=function(a,b,e){e=b.start.row;var f=b.start.column,c=a[e]||"";switch(b.action){case "insert":if(1===b.lines.length)a[e]=c.substring(0,f)+b.lines[0]+c.substring(f);else{var g=[e,1].concat(b.lines);a.splice.apply(a,g);a[e]=c.substring(0,f)+a[e];a[e+b.lines.length-1]+=c.substring(f)}break;case "remove":g=b.end.column,b=b.end.row,e===b?a[e]=c.substring(0,f)+c.substring(g):a.splice(e,b-e+1,c.substring(0,f)+a[b].substring(g))}}});
define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(b,n,t){var a=b("./lib/oop"),g=b("./lib/event_emitter").EventEmitter;b=n.Anchor=function(a,b,c){this.$onChange=this.onChange.bind(this);this.attach(a);"undefined"==typeof c?this.setPosition(b.row,b.column):this.setPosition(b,c)};(function(){function b(a,b,e){e=e?a.column<=b.column:a.column<b.column;return a.row<b.row||a.row==b.row&&e}a.implement(this,g);this.getPosition=function(){return this.$clipPositionToDocument(this.row,
this.column)};this.getDocument=function(){return this.document};this.$insertRight=!1;this.onChange=function(a){if(!(a.start.row==a.end.row&&a.start.row!=this.row||a.start.row>this.row)){var c;c={row:this.row,column:this.column};var e=this.$insertRight,f="insert"==a.action,g=(f?1:-1)*(a.end.row-a.start.row),d=(f?1:-1)*(a.end.column-a.start.column),l=a.start;a=f?l:a.end;c=b(c,l,e)?{row:c.row,column:c.column}:b(a,c,!e)?{row:c.row+g,column:c.column+(c.row==a.row?d:0)}:{row:l.row,column:l.column};this.setPosition(c.row,
c.column,!0)}};this.setPosition=function(a,b,e){var c;e?c={row:a,column:b}:c=this.$clipPositionToDocument(a,b);if(this.row!=c.row||this.column!=c.column)a={row:this.row,column:this.column},this.row=c.row,this.column=c.column,this._signal("change",{old:a,value:c})};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.attach=function(a){this.document=a||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(a,b){var c={};return a>=
this.document.getLength()?(c.row=Math.max(0,this.document.getLength()-1),c.column=this.document.getLine(c.row).length):0>a?(c.row=0,c.column=0):(c.row=a,c.column=Math.min(this.document.getLine(c.row).length,Math.max(0,b))),0>b&&(c.column=0),c}}).call(b.prototype)});
define("ace/document","require exports module ace/lib/oop ace/apply_delta ace/lib/event_emitter ace/range ace/anchor".split(" "),function(b,n,t){var a=b("./lib/oop"),g=b("./apply_delta").applyDelta,e=b("./lib/event_emitter").EventEmitter,f=b("./range").Range,c=b("./anchor").Anchor;b=function(a){this.$lines=[""];0===a.length?this.$lines=[""]:Array.isArray(a)?this.insertMergedLines({row:0,column:0},a):this.insert({row:0,column:0},a)};(function(){a.implement(this,e);this.setValue=function(a){var b=this.getLength()-
1;this.remove(new f(0,0,b,this.getLine(b).length));this.insert({row:0,column:0},a)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(a,b){return new c(this,a,b)};0==="aaa".split(/a/).length?this.$split=function(a){return a.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(a){return a.split(/\r\n|\r|\n/)};this.$detectNewLine=function(a){this.$autoNewLine=(a=a.match(/^.*?(\r\n|\r|\n)/m))?a[1]:"\n";this._signal("changeNewLineMode")};
this.getNewLineCharacter=function(){switch(this.$newLineMode){case "windows":return"\r\n";case "unix":return"\n";default:return this.$autoNewLine||"\n"}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(a){this.$newLineMode!==a&&(this.$newLineMode=a,this._signal("changeNewLineMode"))};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(a){return"\r\n"==a||"\r"==a||"\n"==a};this.getLine=function(a){return this.$lines[a]||""};this.getLines=function(a,
b){return this.$lines.slice(a,b+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(a){return this.getLinesForRange(a).join(this.getNewLineCharacter())};this.getLinesForRange=function(a){var b;if(a.start.row===a.end.row)b=[this.getLine(a.start.row).substring(a.start.column,a.end.column)];else{b=this.getLines(a.start.row,a.end.row);b[0]=(b[0]||"").substring(a.start.column);var c=b.length-1;a.end.row-
a.start.row==c&&(b[c]=b[c].substring(0,a.end.column))}return b};this.insertLines=function(a,b){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(a,b)};this.removeLines=function(a,b){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(a,b)};this.insertNewLine=function(a){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),
this.insertMergedLines(a,["",""])};this.insert=function(a,b){return 1>=this.getLength()&&this.$detectNewLine(b),this.insertMergedLines(a,this.$split(b))};this.insertInLine=function(a,b){var c=this.clippedPos(a.row,a.column),d=this.pos(a.row,a.column+b.length);return this.applyDelta({start:c,end:d,action:"insert",lines:[b]},!0),this.clonePos(d)};this.clippedPos=function(a,b){var c=this.getLength();void 0===a?a=c:0>a?a=0:a>=c&&(a=c-1,b=void 0);c=this.getLine(a);return void 0==b&&(b=c.length),b=Math.min(Math.max(b,
0),c.length),{row:a,column:b}};this.clonePos=function(a){return{row:a.row,column:a.column}};this.pos=function(a,b){return{row:a,column:b}};this.$clipPosition=function(a){var b=this.getLength();return a.row>=b?(a.row=Math.max(0,b-1),a.column=this.getLine(b-1).length):(a.row=Math.max(0,a.row),a.column=Math.min(Math.max(a.column,0),this.getLine(a.row).length)),a};this.insertFullLines=function(a,b){a=Math.min(Math.max(a,0),this.getLength());var c=0;a<this.getLength()?(b=b.concat([""]),c=0):(b=[""].concat(b),
a--,c=this.$lines[a].length);this.insertMergedLines({row:a,column:c},b)};this.insertMergedLines=function(a,b){var c=this.clippedPos(a.row,a.column),d={row:c.row+b.length-1,column:(1==b.length?c.column:0)+b[b.length-1].length};return this.applyDelta({start:c,end:d,action:"insert",lines:b}),this.clonePos(d)};this.remove=function(a){var b=this.clippedPos(a.start.row,a.start.column);a=this.clippedPos(a.end.row,a.end.column);return this.applyDelta({start:b,end:a,action:"remove",lines:this.getLinesForRange({start:b,
end:a})}),this.clonePos(b)};this.removeInLine=function(a,b,c){b=this.clippedPos(a,b);a=this.clippedPos(a,c);return this.applyDelta({start:b,end:a,action:"remove",lines:this.getLinesForRange({start:b,end:a})},!0),this.clonePos(b)};this.removeFullLines=function(a,b){a=Math.min(Math.max(0,a),this.getLength()-1);b=Math.min(Math.max(0,b),this.getLength()-1);var c=b==this.getLength()-1&&0<a,d=b<this.getLength()-1,e=c?a-1:a,c=c?this.getLine(e).length:0,g=d?b+1:b,d=d?0:this.getLine(g).length,e=new f(e,c,
g,d),d=this.$lines.slice(a,b+1);return this.applyDelta({start:e.start,end:e.end,action:"remove",lines:this.getLinesForRange(e)}),d};this.removeNewLine=function(a){a<this.getLength()-1&&0<=a&&this.applyDelta({start:this.pos(a,this.getLine(a).length),end:this.pos(a+1,0),action:"remove",lines:["",""]})};this.replace=function(a,b){a instanceof f||(a=f.fromPoints(a.start,a.end));if(0===b.length&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;this.remove(a);var c;return b?c=this.insert(a.start,
b):c=a.start,c};this.applyDeltas=function(a){for(var b=0;b<a.length;b++)this.applyDelta(a[b])};this.revertDeltas=function(a){for(var b=a.length-1;0<=b;b--)this.revertDelta(a[b])};this.applyDelta=function(a,b){var c="insert"==a.action;(c?1>=a.lines.length&&!a.lines[0]:!f.comparePoints(a.start,a.end))||(c&&2E4<a.lines.length&&this.$splitAndapplyLargeDelta(a,2E4),g(this.$lines,a,b),this._signal("change",a))};this.$splitAndapplyLargeDelta=function(a,b){var c=a.lines,d=c.length,e=a.start.row,f=a.start.column,
g,h=0;do{g=h;var h=h+(b-1),k=c.slice(g,h);if(h>d){a.lines=k;a.start.row=e+g;a.start.column=f;break}k.push("");this.applyDelta({start:this.pos(e+g,f),end:this.pos(e+h,f=0),action:a.action,lines:k},!0)}while(1)};this.revertDelta=function(a){this.applyDelta({start:this.clonePos(a.start),end:this.clonePos(a.end),action:"insert"==a.action?"remove":"insert",lines:a.lines.slice()})};this.indexToPosition=function(a,b){for(var c=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,e=b||0,f=
c.length;e<f;e++)if(a-=c[e].length+d,0>a)return{row:e,column:a+c[e].length+d};return{row:f-1,column:c[f-1].length}};this.positionToIndex=function(a,b){for(var c=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,e=0,f=Math.min(a.row,c.length),g=b||0;g<f;++g)e+=c[g].length+d;return e+a.column}}).call(b.prototype);n.Document=b});
define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(b,n,t){var a=b("./lib/oop"),g=b("./lib/event_emitter").EventEmitter;b=function(a,b){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=a;var c=this;this.$worker=function(){if(c.running){for(var a=new Date,b=c.currentLine,e=-1,d=c.doc,f=b;c.lines[b];)b++;var d=d.getLength(),g=0;for(c.running=!1;b<d;){c.$tokenizeRow(b);e=b;do b++;while(c.lines[b]);g++;if(0===g%
5&&20<new Date-a){c.running=setTimeout(c.$worker,20);break}}c.currentLine=b;-1==e&&(e=b);f<=e&&c.fireUpdateEvent(f,e)}}};(function(){a.implement(this,g);this.setTokenizer=function(a){this.tokenizer=a;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(a){this.doc=a;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(a,b){this._signal("update",{data:{first:a,last:b}})};this.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength());
this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))};this.$updateOnChange=function(a){var b=a.start.row,c=a.end.row-b;0===c?this.lines[b]=null:"remove"==a.action?(this.lines.splice(b,c+1,null),this.states.splice(b,c+1,null)):(a=Array(c+1),a.unshift(b,1),this.lines.splice.apply(this.lines,a),this.states.splice.apply(this.states,
a));this.currentLine=Math.min(b,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){this.running&&clearTimeout(this.running);this.running=!1};this.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)};this.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"};this.$tokenizeRow=function(a){var b=this.doc.getLine(a),b=this.tokenizer.getLineTokens(b,this.states[a-1],a);return this.states[a]+""!=b.state+""?(this.states[a]=b.state,
this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=b.tokens}}).call(b.prototype);n.BackgroundTokenizer=b});
define("ace/search_highlight","require exports module ace/lib/lang ace/lib/oop ace/range".split(" "),function(b,n,t){var a=b("./lib/lang");b("./lib/oop");var g=b("./range").Range;b=function(a,b,c){this.setRegexp(a);this.clazz=b;this.type=c||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(a){this.regExp+""!=a+""&&(this.regExp=a,this.cache=[])};this.update=function(b,f,c,h){if(this.regExp)for(var e=h.lastRow,m=h.firstRow;m<=e;m++){var d=this.cache[m];null==d&&(d=a.getMatchOffsets(c.getLine(m),
this.regExp),d.length>this.MAX_RANGES&&(d=d.slice(0,this.MAX_RANGES)),d=d.map(function(a){return new g(m,a.offset,m,a.offset+a.length)}),this.cache[m]=d.length?d:"");for(var l=d.length;l--;)f.drawSingleLineMarker(b,d[l].toScreenRange(c),this.clazz,h)}}}).call(b.prototype);n.SearchHighlight=b});
define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(b,n,t){function a(a,b){this.foldData=a;Array.isArray(b)?this.folds=b:b=this.folds=[b];var c=b[b.length-1];this.range=new g(b[0].start.row,b[0].start.column,c.end.row,c.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(a){a.setFoldLine(this)},this)}var g=b("../range").Range;(function(){this.shiftRow=function(a){this.start.row+=a;this.end.row+=a;this.folds.forEach(function(b){b.start.row+=
a;b.end.row+=a})};this.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(a);this.folds.sort(function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)});0<this.range.compareEnd(a.start.row,a.start.column)?(this.end.row=a.end.row,this.end.column=a.end.column):0>this.range.compareStart(a.end.row,a.end.column)&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==
this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else{if(a.end.row!=this.start.row)throw Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(a);this.start.row=a.start.row;this.start.column=a.start.column}a.foldLine=this};this.containsRow=function(a){return a>=this.start.row&&a<=this.end.row};this.walk=function(a,b,c){var e=0,f=this.folds,g,d,l;l=!0;null==b&&(b=this.end.row,c=this.end.column);for(var q=0;q<f.length;q++){g=f[q];
d=g.range.compareStart(b,c);if(-1==d){a(null,b,c,e,l);return}l=a(null,g.start.row,g.start.column,e,l);if((l=!l&&a(g.placeholder,g.start.row,g.start.column,e))||0===d)return;l=!g.sameRow;e=g.end.column}a(null,b,c,e,l)};this.getNextFoldTo=function(a,b){for(var c,e,f=0;f<this.folds.length;f++){c=this.folds[f];e=c.range.compareEnd(a,b);if(-1==e)return{fold:c,kind:"after"};if(0===e)return{fold:c,kind:"inside"}}return null};this.addRemoveChars=function(a,b,c){var e=this.getNextFoldTo(a,b),f;if(e)if(f=e.fold,
"inside"==e.kind&&f.start.column!=b&&f.start.row!=a)window.console&&window.console.log(a,b,f);else if(f.start.row==a){a=this.folds;b=a.indexOf(f);0===b&&(this.start.column+=c);for(b;b<a.length;b++){f=a[b];f.start.column+=c;if(!f.sameRow)return;f.end.column+=c}this.end.column+=c}};this.split=function(b,f){var c=this.getNextFoldTo(b,f);if(!c||"inside"==c.kind)return null;var e=this.folds,g=this.foldData,c=e.indexOf(c.fold),m=e[c-1];this.end.row=m.end.row;this.end.column=m.end.column;e=e.splice(c,e.length-
c);e=new a(g,e);return g.splice(g.indexOf(this)+1,0,e),e};this.merge=function(a){for(var b=a.folds,c=0;c<b.length;c++)this.addFold(b[c]);b=this.foldData;b.splice(b.indexOf(a),1)};this.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(b){a.push("  "+b.toString())}),a.push("]"),a.join("\n")};this.idxToPosition=function(a){for(var b=0,c=0;c<this.folds.length;c++){var e=this.folds[c];a-=e.start.column-b;if(0>a)return{row:e.start.row,column:e.start.column+a};a-=
e.placeholder.length;if(0>a)return e.start;b=e.end.column}return{row:this.end.row,column:this.end.column+a}}}).call(a.prototype);n.FoldLine=a});
define("ace/range_list",["require","exports","module","ace/range"],function(b,n,t){var a=b("./range").Range.comparePoints;b=function(){this.ranges=[]};(function(){this.comparePoints=a;this.pointIndex=function(b,e,f){var c=this.ranges;for(f=f||0;f<c.length;f++){var g=c[f],k=a(b,g.end);if(!(0<k))return b=a(b,g.start),0===k?e&&0!==b?-f-2:f:0<b||0===b&&!e?f:-f-1}return-f-1};this.add=function(a){var b=!a.isEmpty(),f=this.pointIndex(a.start,b);0>f&&(f=-f-1);b=this.pointIndex(a.end,b,f);return 0>b?b=-b-
1:b++,this.ranges.splice(f,b-f,a)};this.addList=function(a){for(var b=[],f=a.length;f--;)b.push.apply(b,this.add(a[f]));return b};this.substractPoint=function(a){a=this.pointIndex(a);if(0<=a)return this.ranges.splice(a,1)};this.merge=function(){for(var b=[],e=this.ranges,e=e.sort(function(b,c){return a(b.start,c.start)}),f=e[0],c,h=1;h<e.length;h++){c=f;var f=e[h],k=a(c.end,f.start);0>k||0==k&&!c.isEmpty()&&!f.isEmpty()||(0>a(c.end,f.end)&&(c.end.row=f.end.row,c.end.column=f.end.column),e.splice(h,
1),b.push(f),f=c,h--)}return this.ranges=e,b};this.contains=function(a,b){return 0<=this.pointIndex({row:a,column:b})};this.containsPoint=function(a){return 0<=this.pointIndex(a)};this.rangeAtPoint=function(a){a=this.pointIndex(a);if(0<=a)return this.ranges[a]};this.clipRows=function(a,b){var e=this.ranges;if(e[0].start.row>b||e[e.length-1].start.row<a)return[];var c=this.pointIndex({row:a,column:0});0>c&&(c=-c-1);var g=this.pointIndex({row:b,column:0},c);0>g&&(g=-g-1);for(var k=[];c<g;c++)k.push(e[c]);
return k};this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(a){this.session&&this.detach();this.session=a;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)};this.$onChange=function(a){if("insert"==a.action)var b=a.start,f=a.end;else f=a.start,b=a.end;a=b.row;for(var c=f.row-a,f=-b.column+f.column,g=this.ranges,k=0,
m=g.length;k<m;k++){var d=g[k];if(!(d.end.row<a)){if(d.start.row>a)break;d.start.row==a&&d.start.column>=b.column&&(d.start.column!=b.column||!this.$insertRight)&&(d.start.column+=f,d.start.row+=c);d.end.row==a&&d.end.column>=b.column&&(d.end.column!=b.column||!this.$insertRight)&&(d.end.column==b.column&&0<f&&k<m-1&&d.end.column>d.start.column&&d.end.column==g[k+1].start.column&&(d.end.column-=f),d.end.column+=f,d.end.row+=c)}}if(0!=c&&k<m)for(;k<m;k++)d=g[k],d.start.row+=c,d.end.row+=c}}).call(b.prototype);
n.RangeList=b});
define("ace/edit_session/fold","require exports module ace/range ace/range_list ace/lib/oop".split(" "),function(b,n,t){function a(a,b){a.row-=b.row;0==a.row&&(a.column-=b.column)}function g(a,b){0==a.row&&(a.column+=b.column);a.row+=b.row}b("../range");t=b("../range_list").RangeList;b=b("../lib/oop");var e=n.Fold=function(a,b){this.foldLine=null;this.placeholder=b;this.range=a;this.start=a.start;this.end=a.end;this.sameRow=a.start.row==a.end.row;this.subFolds=this.ranges=[]};b.inherits(e,t);(function(){this.toString=
function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(a){this.foldLine=a;this.subFolds.forEach(function(b){b.setFoldLine(a)})};this.clone=function(){var a=this.range.clone(),b=new e(a,this.placeholder);return this.subFolds.forEach(function(a){b.subFolds.push(a.clone())}),b.collapseChildren=this.collapseChildren,b};this.addSubFold=function(b){if(!this.range.isEqual(b)){if(!this.range.containsRange(b))throw Error("A fold can't intersect already existing fold"+b.range+
this.range);var c=this.start;a(b.start,c);a(b.end,c);for(var e=b.start.row,f=b.start.column,c=0,g=-1;c<this.subFolds.length&&(g=this.subFolds[c].range.compare(e,f),1==g);c++);e=this.subFolds[c];if(0==g)return e.addSubFold(b);for(var e=b.range.end.row,f=b.range.end.column,d=c,g=-1;d<this.subFolds.length&&(g=this.subFolds[d].range.compare(e,f),1==g);d++);if(0==g)throw Error("A fold can't intersect already existing fold"+b.range+this.range);this.subFolds.splice(c,d-c,b);return b.setFoldLine(this.foldLine),
b}};this.restoreRange=function(a){var b=this.start;g(a.start,b);g(a.end,b)}}).call(e.prototype)});
define("ace/edit_session/folding","require exports module ace/range ace/edit_session/fold_line ace/edit_session/fold ace/token_iterator".split(" "),function(b,n,t){var a=b("../range").Range,g=b("./fold_line").FoldLine,e=b("./fold").Fold,f=b("../token_iterator").TokenIterator;n.Folding=function(){this.getFoldAt=function(a,b,e){var c=this.getFoldLine(a);if(!c)return null;for(var c=c.folds,d=0;d<c.length;d++){var f=c[d];if(!(!f.range.contains(a,b)||1==e&&f.range.isEnd(a,b)||-1==e&&f.range.isStart(a,
b)))return f}};this.getFoldsInRange=function(a){var b=a.start,c=a.end,e=this.$foldData,d=[];b.column+=1;--c.column;for(var f=0;f<e.length;f++){var g=e[f].range.compareRange(a);if(2!=g){if(-2==g)break;for(var n=e[f].folds,z=0;z<n.length;z++){var u=n[z],g=u.range.compareRange(a);if(-2==g)break;if(2!=g){if(42==g)break;d.push(u)}}}}return--b.column,c.column+=1,d};this.getFoldsInRangeList=function(a){if(Array.isArray(a)){var b=[];a.forEach(function(a){b=b.concat(this.getFoldsInRange(a))},this)}else b=
this.getFoldsInRange(a);return b};this.getAllFolds=function(){for(var a=[],b=this.$foldData,e=0;e<b.length;e++)for(var f=0;f<b[e].folds.length;f++)a.push(b[e].folds[f]);return a};this.getFoldStringAt=function(a,b,e,f){f=f||this.getFoldLine(a);if(!f)return null;for(var c={end:{column:0}},g,h,k=0;k<f.folds.length;k++){h=f.folds[k];var m=h.range.compareEnd(a,b);if(-1==m){g=this.getLine(h.start.row).substring(c.end.column,h.start.column);break}if(0===m)return null;c=h}return g||(g=this.getLine(h.start.row).substring(c.end.column)),
-1==e?g.substring(0,b-c.end.column):1==e?g.substring(b-c.end.column):g};this.getFoldLine=function(a,b){var c=this.$foldData,e=0;b&&(e=c.indexOf(b));-1==e&&(e=0);for(e;e<c.length;e++){var d=c[e];if(d.start.row<=a&&d.end.row>=a)return d;if(d.end.row>a)break}return null};this.getNextFoldLine=function(a,b){var c=this.$foldData,e=0;b&&(e=c.indexOf(b));-1==e&&(e=0);for(e;e<c.length;e++){var d=c[e];if(d.end.row>=a)return d}return null};this.getFoldedRowCount=function(a,b){for(var c=this.$foldData,e=b-a+
1,d=0;d<c.length;d++){var f=c[d],g=f.end.row,f=f.start.row;if(g>=b){f<b&&(f>=a?e-=b-f:e=0);break}g>=a&&(f>=a?e-=g-f:e-=g-a+1)}return e};this.$addFoldLine=function(a){return this.$foldData.push(a),this.$foldData.sort(function(a,b){return a.start.row-b.start.row}),a};this.addFold=function(a,b){var c=this.$foldData,f=!1,d;a instanceof e?d=a:(d=new e(b,a),d.collapseChildren=b.collapseChildren);this.$clipRangeToDocument(d.range);var h=d.start.row,q=d.start.column,n=d.end.row,z=d.end.column;if(h<n||h==
n&&q<=z-2){var u=this.getFoldAt(h,q,1),B=this.getFoldAt(n,z,-1);if(u&&B==u)return u.addSubFold(d);u&&!u.range.isStart(h,q)&&this.removeFold(u);B&&!B.range.isEnd(n,z)&&this.removeFold(B);q=this.getFoldsInRange(d.range);0<q.length&&(this.removeFolds(q),q.forEach(function(a){d.addSubFold(a)}));for(q=0;q<c.length;q++){var r=c[q];if(n==r.start.row){r.addFold(d);f=!0;break}if(h==r.end.row){r.addFold(d);f=!0;if(!d.sameRow&&(c=c[q+1])&&c.start.row==n){r.merge(c);break}break}if(n<=r.start.row)break}return f||
(r=this.$addFoldLine(new g(this.$foldData,d))),this.$useWrapMode?this.$updateWrapData(r.start.row,r.start.row):this.$updateRowLengthCache(r.start.row,r.start.row),this.$modified=!0,this._signal("changeFold",{data:d,action:"add"}),d}throw Error("The range has to be at least 2 characters width");};this.addFolds=function(a){a.forEach(function(a){this.addFold(a)},this)};this.removeFold=function(a){var b=a.foldLine,c=b.start.row,e=b.end.row,d=this.$foldData,f=b.folds;1==f.length?d.splice(d.indexOf(b),
1):b.range.isEnd(a.end.row,a.end.column)?(f.pop(),b.end.row=f[f.length-1].end.row,b.end.column=f[f.length-1].end.column):b.range.isStart(a.start.row,a.start.column)?(f.shift(),b.start.row=f[0].start.row,b.start.column=f[0].start.column):a.sameRow?f.splice(f.indexOf(a),1):(b=b.split(a.start.row,a.start.column),f=b.folds,f.shift(),b.start.row=f[0].start.row,b.start.column=f[0].start.column);this.$updating||(this.$useWrapMode?this.$updateWrapData(c,e):this.$updateRowLengthCache(c,e));this.$modified=
!0;this._signal("changeFold",{data:a,action:"remove"})};this.removeFolds=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);b.forEach(function(a){this.removeFold(a)},this);this.$modified=!0};this.expandFold=function(a){this.removeFold(a);a.subFolds.forEach(function(b){a.restoreRange(b);this.addFold(b)},this);0<a.collapseChildren&&this.foldAll(a.start.row+1,a.end.row,a.collapseChildren-1);a.subFolds=[]};this.expandFolds=function(a){a.forEach(function(a){this.expandFold(a)},this)};this.unfold=
function(b,e){var c,f;null==b?(c=new a(0,0,this.getLength(),0),e=!0):"number"==typeof b?c=new a(b,0,b,this.getLine(b).length):"row"in b?c=a.fromPoints(b,b):c=b;f=this.getFoldsInRangeList(c);if(e)this.removeFolds(f);else for(var d=f;d.length;)this.expandFolds(d),d=this.getFoldsInRangeList(c);if(f.length)return f};this.isRowFolded=function(a,b){return!!this.getFoldLine(a,b)};this.getRowFoldEnd=function(a,b){var c=this.getFoldLine(a,b);return c?c.end.row:a};this.getRowFoldStart=function(a,b){var c=this.getFoldLine(a,
b);return c?c.start.row:a};this.getFoldDisplayLine=function(a,b,e,f,d){null==f&&(f=a.start.row);null==d&&(d=0);null==b&&(b=a.end.row);null==e&&(e=this.getLine(b).length);var c=this.doc,g="";return a.walk(function(a,b,e,h){if(!(b<f)){if(b==f){if(e<d)return;h=Math.max(d,h)}null!=a?g+=a:g+=c.getLine(b).substring(h,e)}},b,e),g};this.getDisplayLine=function(a,b,e,f){var c=this.getFoldLine(a);if(!c){var g;return g=this.doc.getLine(a),g.substring(f||0,b||g.length)}return this.getFoldDisplayLine(c,a,b,e,
f)};this.$cloneFoldData=function(){var a=[];return a=this.$foldData.map(function(b){b=b.folds.map(function(a){return a.clone()});return new g(a,b)}),a};this.toggleFold=function(a){var b=this.selection.getRange(),c,e;if(b.isEmpty()){a=b.start;if(c=this.getFoldAt(a.row,a.column)){this.expandFold(c);return}(e=this.findMatchingBracket(a))?1==b.comparePoint(e)?b.end=e:(b.start=e,b.start.column++,b.end.column--):(e=this.findMatchingBracket({row:a.row,column:a.column+1}))?(1==b.comparePoint(e)?b.end=e:b.start=
e,b.start.column++):b=this.getCommentFoldRange(a.row,a.column)||b}else{e=this.getFoldsInRange(b);if(a&&e.length){this.expandFolds(e);return}1==e.length&&(c=e[0])}c||(c=this.getFoldAt(b.start.row,b.start.column));if(c&&c.range.toString()==b.toString())this.expandFold(c);else{c="...";if(!b.isMultiLine()){c=this.getTextRange(b);if(4>c.length)return;c=c.trim().substring(0,2)+".."}this.addFold(c,b)}};this.getCommentFoldRange=function(b,e,g){var c=new f(this,b,e),d=c.getCurrentToken(),h=d.type;if(d&&/^comment|string/.test(h)){h=
h.match(/comment|string/)[0];"comment"==h&&(h+="|doc-start");var h=new RegExp(h),k=new a;if(1!=g){do d=c.stepBackward();while(d&&h.test(d.type));c.stepForward()}k.start.row=c.getCurrentTokenRow();k.start.column=c.getCurrentTokenColumn()+2;c=new f(this,b,e);if(-1!=g){b=-1;do if(d=c.stepForward(),-1==b)e=this.getState(c.$row),h.test(e)||(b=c.$row);else if(c.$row>b)break;while(d&&h.test(d.type));d=c.stepBackward()}else d=c.getCurrentToken();return k.end.row=c.getCurrentTokenRow(),k.end.column=c.getCurrentTokenColumn()+
d.value.length-2,k}};this.foldAll=function(a,b,e){void 0==e&&(e=1E5);var c=this.foldWidgets;if(c){b=b||this.getLength();for(var d=a=a||0;d<b;d++)if(null==c[d]&&(c[d]=this.getFoldWidget(d)),"start"==c[d]){var f=this.getFoldWidgetRange(d);if(f&&f.isMultiLine()&&f.end.row<=b&&f.start.row>=a){d=f.end.row;try{var g=this.addFold("...",f);g&&(g.collapseChildren=e)}catch(w){}}}}};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(a){if(!this.$foldStyles[a])throw Error("invalid fold style: "+
a+"["+Object.keys(this.$foldStyles).join(", ")+"]");this.$foldStyle!=a&&(this.$foldStyle=a,"manual"==a&&this.unfold(),a=this.$foldMode,this.$setFolding(null),this.$setFolding(a))};this.$setFolding=function(a){this.$foldMode!=a&&(this.$foldMode=a,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),a&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=a.getFoldWidget.bind(a,this,this.$foldStyle),this.getFoldWidgetRange=
a.getFoldWidgetRange.bind(a,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)};this.getParentFoldRangeData=function(a,b){var c=this.foldWidgets;if(!c||b&&c[a])return{};for(var e=a-1,d;0<=e;){var f=c[e];null==f&&(f=c[e]=this.getFoldWidget(e));if("start"==f){var g=this.getFoldWidgetRange(e);
d||(d=g);if(g&&g.end.row>=a)break}e--}return{range:-1!==e&&g,firstRange:d}};this.onFoldWidgetClick=function(a,b){b=b.domEvent;if(!this.$toggleFoldWidget(a,{children:b.shiftKey,all:b.ctrlKey||b.metaKey,siblings:b.altKey})){var c=b.target||b.srcElement;c&&/ace_fold-widget/.test(c.className)&&(c.className+=" ace_invalid")}};this.$toggleFoldWidget=function(a,b){if(this.getFoldWidget){var c=this.getFoldWidget(a),e=this.getLine(a),c="end"===c?-1:1;if(c=this.getFoldAt(a,-1===c?0:e.length,c))return b.children||
b.all?this.removeFold(c):this.expandFold(c),c;if((e=this.getFoldWidgetRange(a,!0))&&!e.isMultiLine()&&(c=this.getFoldAt(e.start.row,e.start.column,1))&&e.isEqual(c.range))return this.removeFold(c),c;if(b.siblings){c=this.getParentFoldRangeData(a);if(c.range)var d=c.range.start.row+1,f=c.range.end.row;this.foldAll(d,f,b.all?1E4:0)}else b.children?(f=e?e.end.row:this.getLength(),this.foldAll(a+1,f,b.all?1E4:0)):e&&(b.all&&(e.collapseChildren=1E4),this.addFold("...",e));return e}};this.toggleFoldWidget=
function(a){var b=this.selection.getCursor().row,b=this.getRowFoldStart(b);a=this.$toggleFoldWidget(b,{});!a&&(a=this.getParentFoldRangeData(b,!0),a=a.range||a.firstRange)&&(b=a.start.row,(b=this.getFoldAt(b,this.getLine(b).length,1))?this.removeFold(b):this.addFold("...",a))};this.updateFoldWidgets=function(a){var b=a.start.row,c=a.end.row-b;0===c?this.foldWidgets[b]=null:"remove"==a.action?this.foldWidgets.splice(b,c+1,null):(a=Array(c+1),a.unshift(b,1),this.foldWidgets.splice.apply(this.foldWidgets,
a))};this.tokenizerUpdateFoldWidgets=function(a){a=a.data;a.first!=a.last&&this.foldWidgets.length>a.first&&this.foldWidgets.splice(a.first,this.foldWidgets.length)}}});
define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(b,n,t){var a=b("../token_iterator").TokenIterator,g=b("../range").Range;n.BracketMatch=function(){this.findMatchingBracket=function(a,b){if(0==a.column)return null;var c=b||this.getLine(a.row).charAt(a.column-1);return""==c?null:(c=c.match(/([\(\[\{])|([\)\]\}])/))?c[1]?this.$findClosingBracket(c[1],a):this.$findOpeningBracket(c[2],a):null};this.getBracketRange=function(a){var b=this.getLine(a.row),
c=!0,e=b.charAt(a.column-1),k=e&&e.match(/([\(\[\{])|([\)\]\}])/);k||(e=b.charAt(a.column),a={row:a.row,column:a.column+1},k=e&&e.match(/([\(\[\{])|([\)\]\}])/),c=!1);if(!k)return null;if(k[1]){b=this.$findClosingBracket(k[1],a);if(!b)return null;a=g.fromPoints(a,b);c||(a.end.column++,a.start.column--);a.cursor=a.end}else{b=this.$findOpeningBracket(k[2],a);if(!b)return null;a=g.fromPoints(b,a);c||(a.start.column++,a.end.column--);a.cursor=a.start}return a};this.$brackets={")":"(","(":")","]":"[",
"[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(b,f,c){var e=this.$brackets[b],g=1,m=new a(this,f.row,f.column),d=m.getCurrentToken();d||(d=m.stepForward());if(d){c||(c=new RegExp("(\\.?"+d.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));f=f.column-m.getCurrentTokenColumn()-2;for(d=d.value;;){for(;0<=f;){var l=d.charAt(f);if(l==e){if(--g,0==g)return{row:m.getCurrentTokenRow(),column:f+m.getCurrentTokenColumn()}}else l==b&&(g+=1);--f}do d=
m.stepBackward();while(d&&!c.test(d.type));if(null==d)break;d=d.value;f=d.length-1}return null}};this.$findClosingBracket=function(b,f,c){var e=this.$brackets[b],g=1,m=new a(this,f.row,f.column),d=m.getCurrentToken();d||(d=m.stepForward());if(d){c||(c=new RegExp("(\\.?"+d.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(f=f.column-m.getCurrentTokenColumn();;){for(var d=d.value,l=d.length;f<l;){var q=d.charAt(f);if(q==e){if(--g,0==g)return{row:m.getCurrentTokenRow(),
column:f+m.getCurrentTokenColumn()}}else q==b&&(g+=1);f+=1}do d=m.stepForward();while(d&&!c.test(d.type));if(null==d)break;f=0}return null}}}});
define("ace/edit_session","require exports module ace/lib/oop ace/lib/lang ace/bidihandler ace/config ace/lib/event_emitter ace/selection ace/mode/text ace/range ace/document ace/background_tokenizer ace/search_highlight ace/edit_session/folding ace/edit_session/bracket_match".split(" "),function(b,n,t){var a=b("./lib/oop"),g=b("./lib/lang"),e=b("./bidihandler").BidiHandler,f=b("./config"),c=b("./lib/event_emitter").EventEmitter,h=b("./selection").Selection,k=b("./mode/text").Mode,m=b("./range").Range,
d=b("./document").Document,l=b("./background_tokenizer").BackgroundTokenizer,q=b("./search_highlight").SearchHighlight,w=function(a,b){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++w.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);"object"==typeof a&&a.getLine||(a=new d(a));this.$bidiHandler=
new e(this);this.setDocument(a);this.selection=new h(this);f.resetOptions(this);this.setMode(b);f._signal("session",this)};w.$uid=0;(function(){function b(a){return 4352>a?!1:4352<=a&&4447>=a||4515<=a&&4519>=a||4602<=a&&4607>=a||9001<=a&&9002>=a||11904<=a&&11929>=a||11931<=a&&12019>=a||12032<=a&&12245>=a||12272<=a&&12283>=a||12288<=a&&12350>=a||12353<=a&&12438>=a||12441<=a&&12543>=a||12549<=a&&12589>=a||12593<=a&&12686>=a||12688<=a&&12730>=a||12736<=a&&12771>=a||12784<=a&&12830>=a||12832<=a&&12871>=
a||12880<=a&&13054>=a||13056<=a&&19903>=a||19968<=a&&42124>=a||42128<=a&&42182>=a||43360<=a&&43388>=a||44032<=a&&55203>=a||55216<=a&&55238>=a||55243<=a&&55291>=a||63744<=a&&64255>=a||65040<=a&&65049>=a||65072<=a&&65106>=a||65108<=a&&65126>=a||65128<=a&&65131>=a||65281<=a&&65376>=a||65504<=a&&65510>=a}a.implement(this,c);this.setDocument=function(a){this.doc&&this.doc.removeListener("change",this.$onChange);this.doc=a;a.on("change",this.$onChange);this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument());
this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(a){if(a){var b=this.$docRowCache.length;a=this.$getRowCacheIndex(this.$docRowCache,a)+1;b>a&&(this.$docRowCache.splice(a,b),this.$screenRowCache.splice(a,b))}else this.$docRowCache=[],this.$screenRowCache=[]};this.$getRowCacheIndex=function(a,b){for(var c=0,d=a.length-1;c<=d;){var e=c+d>>1,f=a[e];if(b>f)c=e+1;else{if(!(b<f))return e;d=e-1}}return c-1};this.resetCaches=function(){this.$modified=!0;this.$wrapData=
[];this.$rowLengthCache=[];this.$resetRowCache(0);this.bgTokenizer&&this.bgTokenizer.start(0)};this.onChangeFold=function(a){this.$resetRowCache(a.data.start.row)};this.onChange=function(a){this.$modified=!0;this.$bidiHandler.onChange(a);this.$resetRowCache(a.start.row);var b=this.$updateInternalDataOnChange(a);!this.$fromUndo&&this.$undoManager&&!a.ignore&&(this.$deltasDoc.push(a),b&&0!=b.length&&this.$deltasFold.push({action:"removeFolds",folds:b}),this.$informUndoManager.schedule());this.bgTokenizer&&
this.bgTokenizer.$updateOnChange(a);this._signal("change",a)};this.setValue=function(a){this.doc.setValue(a);this.selection.moveTo(0,0);this.$resetRowCache(0);this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(a){return this.bgTokenizer.getState(a)};this.getTokens=function(a){return this.bgTokenizer.getTokens(a)};
this.getTokenAt=function(a,b){var c=this.bgTokenizer.getTokens(a),d,e=0;if(null==b)var f=c.length-1,e=this.getLine(a).length;else for(f=0;f<c.length&&!(e+=c[f].value.length,e>=b);f++);return d=c[f],d?(d.index=f,d.start=e-d.value.length,d):null};this.setUndoManager=function(a){this.$undoManager=a;this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.$informUndoManager&&this.$informUndoManager.cancel();if(a){var b=this;this.$syncInformUndoManager=function(){b.$informUndoManager.cancel();b.$deltasFold.length&&
(b.$deltas.push({group:"fold",deltas:b.$deltasFold}),b.$deltasFold=[]);b.$deltasDoc.length&&(b.$deltas.push({group:"doc",deltas:b.$deltasDoc}),b.$deltasDoc=[]);0<b.$deltas.length&&a.execute({action:"aceupdate",args:[b.$deltas,b],merge:b.mergeUndoDeltas});b.mergeUndoDeltas=!1;b.$deltas=[]};this.$informUndoManager=g.delayedCall(this.$syncInformUndoManager)}};this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},
reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){return this.getUseSoftTabs()?g.stringRepeat(" ",this.getTabSize()):"\t"};this.setUseSoftTabs=function(a){this.setOption("useSoftTabs",a)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(a){this.setOption("tabSize",a)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(a){return this.$useSoftTabs&&
0===a.column%this.$tabSize};this.setNavigateWithinSoftTabs=function(a){this.setOption("navigateWithinSoftTabs",a)};this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs};this.$overwrite=!1;this.setOverwrite=function(a){this.setOption("overwrite",a)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(a,b){this.$decorations[a]||(this.$decorations[a]="");this.$decorations[a]+=
" "+b;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(a,b){this.$decorations[a]=(this.$decorations[a]||"").replace(" "+b,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(a){this.$breakpoints=[];for(var b=0;b<a.length;b++)this.$breakpoints[a[b]]="ace_breakpoint";this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=
function(a,b){void 0===b&&(b="ace_breakpoint");b?this.$breakpoints[a]=b:delete this.$breakpoints[a];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(a){delete this.$breakpoints[a];this._signal("changeBreakpoint",{})};this.addMarker=function(a,b,c,d){var e=this.$markerId++;a={range:a,type:c||"line",renderer:"function"==typeof c?c:null,clazz:b,inFront:!!d,id:e};return d?(this.$frontMarkers[e]=a,this._signal("changeFrontMarker")):(this.$backMarkers[e]=a,this._signal("changeBackMarker")),
e};this.addDynamicMarker=function(a,b){if(a.update){var c=this.$markerId++;return a.id=c,a.inFront=!!b,b?(this.$frontMarkers[c]=a,this._signal("changeFrontMarker")):(this.$backMarkers[c]=a,this._signal("changeBackMarker")),a}};this.removeMarker=function(a){var b=this.$frontMarkers[a]||this.$backMarkers[a];if(b){var c=b.inFront?this.$frontMarkers:this.$backMarkers;b&&(delete c[a],this._signal(b.inFront?"changeFrontMarker":"changeBackMarker"))}};this.getMarkers=function(a){return a?this.$frontMarkers:
this.$backMarkers};this.highlight=function(a){if(!this.$searchHighlight){var b=new q(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(b)}this.$searchHighlight.setRegexp(a)};this.highlightLines=function(a,b,c,d){"number"!=typeof b&&(c=b,b=a);c||(c="ace_step");a=new m(a,0,b,Infinity);return a.id=this.addMarker(a,c,"fullLine",d),a};this.setAnnotations=function(a){this.$annotations=a;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||
[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(a){(a=a.match(/^.*?(\r?\n)/m))?this.$autoNewLine=a[1]:this.$autoNewLine="\n"};this.getWordRange=function(a,b){var c=this.getLine(a),d=!1;0<b&&(d=!!c.charAt(b-1).match(this.tokenRe));d||(d=!!c.charAt(b).match(this.tokenRe));var d=d?this.tokenRe:/^\s+$/.test(c.slice(b-1,b+1))?/\s/:this.nonTokenRe,e=b;if(0<e){do e--;while(0<=e&&c.charAt(e).match(d));e++}for(var f=b;f<c.length&&c.charAt(f).match(d);)f++;return new m(a,
e,a,f)};this.getAWordRange=function(a,b){for(var c=this.getWordRange(a,b),d=this.getLine(c.end.row);d.charAt(c.end.column).match(/[ \t]/);)c.end.column+=1;return c};this.setNewLineMode=function(a){this.doc.setNewLineMode(a)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(a){this.setOption("useWorker",a)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(a){this.bgTokenizer.start(a.data.first);this._signal("tokenizerUpdate",
a)};this.$modes={};this.$modeId=this.$mode=null;this.setMode=function(a,b){if(a&&"object"==typeof a){if(a.getTokenizer)return this.$onChangeMode(a);var c=a,d=c.path}else d=a||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new k);this.$modes[d]&&!c?(this.$onChangeMode(this.$modes[d]),b&&b()):(this.$modeId=d,f.loadModule(["mode",d],function(a){if(this.$modeId!==d)return b&&b();this.$modes[d]&&!c?this.$onChangeMode(this.$modes[d]):a&&a.Mode&&(a=new a.Mode(c),c||(this.$modes[d]=
a,a.$id=d),this.$onChangeMode(a));b&&b()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0))};this.$onChangeMode=function(a,b){b||(this.$modeId=a.$id);if(this.$mode!==a){this.$mode=a;this.$stopWorker();this.$useWorker&&this.$startWorker();var c=a.getTokenizer();if(void 0!==c.addEventListener){var d=this.onReloadTokenizer.bind(this);c.addEventListener("update",d)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(c);else{this.bgTokenizer=new l(c);var e=this;this.bgTokenizer.addEventListener("update",
function(a){e._signal("tokenizerUpdate",a)})}this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=a.tokenRe;this.nonTokenRe=a.nonTokenRe;b||(a.attachToSession&&a.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(a.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}};this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(r){f.warn("Could not load worker",
r),this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(a){this.$scrollTop===a||isNaN(a)||(this.$scrollTop=a,this._signal("changeScrollTop",a))};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(a){this.$scrollLeft===a||isNaN(a)||(this.$scrollLeft=a,this._signal("changeScrollLeft",a))};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){return this.$computeWidth(),
this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth};this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var a=0;return this.lineWidgets.forEach(function(b){b&&b.screenWidth>a&&(a=b.screenWidth)}),this.lineWidgetWidth=a};this.$computeWidth=function(a){if(this.$modified||a){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;a=this.doc.getAllLines();for(var b=this.$rowLengthCache,c=0,d=0,
e=this.$foldData[d],f=e?e.start.row:Infinity,g=a.length,h=0;h<g;h++){if(h>f){h=e.end.row+1;if(h>=g)break;f=(e=this.$foldData[d++])?e.start.row:Infinity}null==b[h]&&(b[h]=this.$getStringScreenWidth(a[h])[0]);b[h]>c&&(c=b[h])}this.screenWidth=c}};this.getLine=function(a){return this.doc.getLine(a)};this.getLines=function(a,b){return this.doc.getLines(a,b)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(a){return this.doc.getTextRange(a||this.selection.getRange())};
this.insert=function(a,b){return this.doc.insert(a,b)};this.remove=function(a){return this.doc.remove(a)};this.removeFullLines=function(a,b){return this.doc.removeFullLines(a,b)};this.undoChanges=function(a,b){if(a.length){this.$fromUndo=!0;for(var c=null,d=a.length-1;-1!=d;d--){var e=a[d];"doc"==e.group?(this.doc.revertDeltas(e.deltas),c=this.$getUndoSelection(e.deltas,!0,c)):e.deltas.forEach(function(a){this.addFolds(a.folds)},this)}return this.$fromUndo=!1,c&&this.$undoSelect&&!b&&this.selection.setSelectionRange(c),
c}};this.redoChanges=function(a,b){if(a.length){this.$fromUndo=!0;for(var c=null,d=0;d<a.length;d++){var e=a[d];"doc"==e.group&&(this.doc.applyDeltas(e.deltas),c=this.$getUndoSelection(e.deltas,!1,c))}return this.$fromUndo=!1,c&&this.$undoSelect&&!b&&this.selection.setSelectionRange(c),c}};this.setUndoSelect=function(a){this.$undoSelect=a};this.$getUndoSelection=function(a,b,c){var d=a[0],e,f;(b?"insert"!==d.action:"insert"===d.action)?e=m.fromPoints(d.start,d.end):e=m.fromPoints(d.start,d.start);
for(var g=1;g<a.length;g++)d=a[g],(b?"insert"!==d.action:"insert"===d.action)?(f=d.start,-1==e.compare(f.row,f.column)&&e.setStart(f),f=d.end,1==e.compare(f.row,f.column)&&e.setEnd(f)):(f=d.start,-1==e.compare(f.row,f.column)&&(e=m.fromPoints(d.start,d.start)));null!=c&&(0===m.comparePoints(c.start,e.start)&&(c.start.column+=e.end.column-e.start.column,c.end.column+=e.end.column-e.start.column),a=c.compareRange(e),1==a?e.setStart(c.start):-1==a&&e.setEnd(c.end));return e};this.replace=function(a,
b){return this.doc.replace(a,b)};this.moveText=function(a,b,c){var d=this.getTextRange(a),e=this.getFoldsInRange(a);b=m.fromPoints(b,b);if(!c){this.remove(a);var f=a.start.row-a.end.row,g=f?-a.end.column:a.start.column-a.end.column;g&&(b.start.row==a.end.row&&b.start.column>a.end.column&&(b.start.column+=g),b.end.row==a.end.row&&b.end.column>a.end.column&&(b.end.column+=g));f&&b.start.row>=a.end.row&&(b.start.row+=f,b.end.row+=f)}b.end=this.insert(b.start,d);if(e.length){var h=a.start;a=b.start;f=
a.row-h.row;g=a.column-h.column;this.addFolds(e.map(function(a){return a=a.clone(),a.start.row==h.row&&(a.start.column+=g),a.end.row==h.row&&(a.end.column+=g),a.start.row+=f,a.end.row+=f,a}))}return b};this.indentRows=function(a,b,c){for(c=c.replace(/\t/g,this.getTabString());a<=b;a++)this.doc.insertInLine({row:a,column:0},c)};this.outdentRows=function(a){a=a.collapseRows();for(var b=new m(0,0,0,0),c=this.getTabSize(),d=a.start.row;d<=a.end.row;++d){var e=this.getLine(d);b.start.row=d;b.end.row=d;
for(var f=0;f<c&&" "==e.charAt(f);++f);f<c&&"\t"==e.charAt(f)?(b.start.column=f,b.end.column=f+1):(b.start.column=0,b.end.column=f);this.remove(b)}};this.$moveLines=function(a,b,c){a=this.getRowFoldStart(a);b=this.getRowFoldEnd(b);if(0>c){var d=this.getRowFoldStart(a+c);if(0>d)return 0;var e=d-a}else if(0<c){d=this.getRowFoldEnd(b+c);if(d>this.doc.getLength()-1)return 0;e=d-b}else a=this.$clipRowToDocument(a),b=this.$clipRowToDocument(b),e=b-a+1;d=new m(a,0,b,Number.MAX_VALUE);d=this.getFoldsInRange(d).map(function(a){return a=
a.clone(),a.start.row+=e,a.end.row+=e,a});b=0==c?this.doc.getLines(a,b):this.doc.removeFullLines(a,b);return this.doc.insertFullLines(a+e,b),d.length&&this.addFolds(d),e};this.moveLinesUp=function(a,b){return this.$moveLines(a,b,-1)};this.moveLinesDown=function(a,b){return this.$moveLines(a,b,1)};this.duplicateLines=function(a,b){return this.$moveLines(a,b,0)};this.$clipRowToDocument=function(a){return Math.max(0,Math.min(a,this.doc.getLength()-1))};this.$clipColumnToRow=function(a,b){return 0>b?
0:Math.min(this.doc.getLine(a).length,b)};this.$clipPositionToDocument=function(a,b){b=Math.max(0,b);if(0>a)b=a=0;else{var c=this.doc.getLength();a>=c?(a=c-1,b=this.doc.getLine(c-1).length):b=Math.min(this.doc.getLine(a).length,b)}return{row:a,column:b}};this.$clipRangeToDocument=function(a){0>a.start.row?(a.start.row=0,a.start.column=0):a.start.column=this.$clipColumnToRow(a.start.row,a.start.column);var b=this.doc.getLength()-1;return a.end.row>b?(a.end.row=b,a.end.column=this.doc.getLine(b).length):
a.end.column=this.$clipColumnToRow(a.end.row,a.end.column),a};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(a){a!=this.$useWrapMode&&(this.$useWrapMode=a,this.$modified=!0,this.$resetRowCache(0),a&&(a=this.getLength(),this.$wrapData=Array(a),this.$updateWrapData(0,a-1)),this._signal("changeWrapMode"))};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(a,b){if(this.$wrapLimitRange.min!==a||this.$wrapLimitRange.max!==
b)this.$wrapLimitRange={min:a,max:b},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode")};this.adjustWrapLimit=function(a,b){var c=this.$wrapLimitRange;0>c.max&&(c={min:b,max:b});c=this.$constrainWrapLimit(a,c.min,c.max);return c!=this.$wrapLimit&&1<c?(this.$wrapLimit=c,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1};this.$constrainWrapLimit=function(a,b,
c){return b&&(a=Math.max(b,a)),c&&(a=Math.min(c,a)),a};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(a){this.setWrapLimitRange(a,a)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(a){var b=this.$useWrapMode,c=a.action,d=a.start,e=a.end,f=d.row,g=e.row,h=g-f,k=null;this.$updating=!0;if(0!=h)if("remove"===c){this[b?"$wrapData":"$rowLengthCache"].splice(f,h);c=this.$foldData;
k=this.getFoldsInRange(a);this.removeFolds(k);a=this.getFoldLine(e.row);var m=0;a&&(a.addRemoveChars(e.row,e.column,d.column-e.column),a.shiftRow(-h),(d=this.getFoldLine(f))&&d!==a&&(d.merge(a),a=d),m=c.indexOf(a)+1);for(m;m<c.length;m++)a=c[m],a.start.row>=e.row&&a.shiftRow(-h);g=f}else for(c=Array(h),c.unshift(f,0),a=b?this.$wrapData:this.$rowLengthCache,a.splice.apply(a,c),c=this.$foldData,a=this.getFoldLine(f),m=0,a&&(m=a.range.compareInside(d.row,d.column),0==m?(a=a.split(d.row,d.column),a&&
(a.shiftRow(h),a.addRemoveChars(g,0,e.column-d.column))):-1==m&&(a.addRemoveChars(f,0,e.column-d.column),a.shiftRow(h)),m=c.indexOf(a)+1),m;m<c.length;m++)a=c[m],a.start.row>=f&&a.shiftRow(h);else h=Math.abs(a.start.column-a.end.column),"remove"===c&&(k=this.getFoldsInRange(a),this.removeFolds(k),h=-h),(a=this.getFoldLine(f))&&a.addRemoveChars(f,d.column,h);return b&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=
!1,b?this.$updateWrapData(f,g):this.$updateRowLengthCache(f,g),k};this.$updateRowLengthCache=function(a,b,c){this.$rowLengthCache[a]=null;this.$rowLengthCache[b]=null};this.$updateWrapData=function(a,b){var c=this.doc.getAllLines(),f=this.getTabSize(),g=this.$wrapData,h=this.$wrapLimit,k,m,l=a;for(b=Math.min(b,c.length-1);l<=b;)(m=this.getFoldLine(l,m))?(k=[],m.walk(function(a,b,f,g){if(null!=a)for(a=this.$getDisplayTokens(a,k.length),a[0]=d,b=1;b<a.length;b++)a[b]=e;else a=this.$getDisplayTokens(c[b].substring(g,
f),k.length);k=k.concat(a)}.bind(this),m.end.row,c[m.end.row].length+1),g[m.start.row]=this.$computeWrapSplits(k,h,f),l=m.end.row+1):(k=this.$getDisplayTokens(c[l]),g[l]=this.$computeWrapSplits(k,h,f),l++)};var d=3,e=4;this.$computeWrapSplits=function(a,b,c){function f(){var b=0;if(0===v)return b;if(r)for(var d=0;d<a.length;d++){var e=a[d];if(10==e)b+=1;else{if(11!=e){if(12==e)continue;break}b+=c}}return q&&!1!==r&&(b+=c),Math.min(b,v)}function g(b){var c=a.slice(m,b),d=c.length;c.join("").replace(/12/g,
function(){--d}).replace(/2/g,function(){--d});h.length||(n=f(),h.indent=n);l+=d;h.push(l);m=b}if(0==a.length)return[];for(var h=[],k=a.length,m=0,l=0,q=this.$wrapAsCode,r=this.$indentedSoftWrap,v=b<=Math.max(2*c,8)||!1===r?0:Math.floor(b/2),n=0;k-m>b-n;){var u=m+b-n;if(10<=a[u-1]&&10<=a[u])g(u);else if(a[u]==d||a[u]==e){for(u;u!=m-1&&a[u]!=d;u--);if(!(u>m)){u=m+b;for(u;u<a.length&&a[u]==e;u++);if(u==a.length)break}g(u)}else{for(var w=Math.max(u-(b-(b>>2)),m-1);u>w&&a[u]<d;)u--;if(q){for(;u>w&&a[u]<
d;)u--;for(;u>w&&9==a[u];)u--}else for(;u>w&&10>a[u];)u--;u>w?g(++u):(u=m+b,2==a[u]&&u--,g(u-n))}}return h};this.$getDisplayTokens=function(a,c){var d=[],e;c=c||0;for(var f=0;f<a.length;f++)if(e=a.charCodeAt(f),9==e){e=this.getScreenTabSize(d.length+c);d.push(11);for(var g=1;g<e;g++)d.push(12)}else 32==e?d.push(10):39<e&&48>e||57<e&&64>e?d.push(9):4352<=e&&b(e)?d.push(1,2):d.push(1);return d};this.$getStringScreenWidth=function(a,c,d){if(0==c)return[0,0];null==c&&(c=Infinity);d=d||0;var e,f;for(f=
0;f<a.length&&!(e=a.charCodeAt(f),9==e?d+=this.getScreenTabSize(d):4352<=e&&b(e)?d+=2:d+=1,d>c);f++);return[d,f]};this.lineWidgets=null;this.getRowLength=function(a){var b=this.lineWidgets?this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:0;return this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1+b:1+b};this.getRowLineCount=function(a){return this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1:1};this.getRowWrapIndent=function(a){if(this.$useWrapMode){a=this.screenToDocumentPosition(a,
Number.MAX_VALUE);var b=this.$wrapData[a.row];return b.length&&b[0]<a.column?b.indent:0}return 0};this.getScreenLastRowColumn=function(a){a=this.screenToDocumentPosition(a,Number.MAX_VALUE);return this.documentToScreenColumn(a.row,a.column)};this.getDocumentLastRowColumn=function(a,b){var c=this.documentToScreenRow(a,b);return this.getScreenLastRowColumn(c)};this.getDocumentLastRowColumnPosition=function(a,b){var c=this.documentToScreenRow(a,b);return this.screenToDocumentPosition(c,Number.MAX_VALUE/
10)};this.getRowSplitData=function(a){return this.$useWrapMode?this.$wrapData[a]:void 0};this.getScreenTabSize=function(a){return this.$tabSize-a%this.$tabSize};this.screenToDocumentRow=function(a,b){return this.screenToDocumentPosition(a,b).row};this.screenToDocumentColumn=function(a,b){return this.screenToDocumentPosition(a,b).column};this.screenToDocumentPosition=function(a,b,c){if(0>a)return{row:0,column:0};var d,e=0,f=0,g,h=0;d=0;var k=this.$screenRowCache,m=this.$getRowCacheIndex(k,a),l=k.length;
l&&0<=m?(h=k[m],e=this.$docRowCache[m],m=a>k[l-1]):m=!l;for(var l=this.getLength()-1,q=(k=this.getNextFoldLine(e))?k.start.row:Infinity;h<=a;){d=this.getRowLength(e);if(h+d>a||e>=l)break;h+=d;e++;e>q&&(e=k.end.row+1,k=this.getNextFoldLine(e,k),q=k?k.start.row:Infinity);m&&(this.$docRowCache.push(e),this.$screenRowCache.push(h))}if(k&&k.start.row<=e)d=this.getFoldDisplayLine(k),e=k.start.row;else{if(h+d<=a||e>l)return{row:l,column:this.getLine(l).length};d=this.getLine(e);k=null}m=0;a=Math.floor(a-
h);this.$useWrapMode&&(l=this.$wrapData[e])&&(g=l[a],0<a&&l.length&&(m=l.indent,f=l[a-1]||l[l.length-1],d=d.substring(f)));return void 0!==c&&this.$bidiHandler.isBidiRow(h+a,e,a)&&(b=this.$bidiHandler.offsetToCol(c)),f+=this.$getStringScreenWidth(d,b-m)[1],this.$useWrapMode&&f>=g&&(f=g-1),k?k.idxToPosition(f):{row:e,column:f}};this.documentToScreenPosition=function(a,b){var c="undefined"==typeof b?this.$clipPositionToDocument(a.row,a.column):this.$clipPositionToDocument(a,b);a=c.row;b=c.column;var c=
0,d=null,e;(e=this.getFoldAt(a,b,1))&&(a=e.start.row,b=e.start.column);var f;e=0;f=this.$docRowCache;var g=this.$getRowCacheIndex(f,a),h=f.length;if(h&&0<=g){e=f[g];var c=this.$screenRowCache[g],k=a>f[h-1]}else k=!h;for(h=(g=this.getNextFoldLine(e))?g.start.row:Infinity;e<a;){if(e>=h){f=g.end.row+1;if(f>a)break;h=(g=this.getNextFoldLine(f,g))?g.start.row:Infinity}else f=e+1;c+=this.getRowLength(e);e=f;k&&(this.$docRowCache.push(e),this.$screenRowCache.push(c))}f="";g&&e>=h?(f=this.getFoldDisplayLine(g,
a,b),d=g.start.row):(f=this.getLine(a).substring(0,b),d=a);e=0;if(this.$useWrapMode&&(d=this.$wrapData[d])){for(e=0;f.length>=d[e];)c++,e++;f=f.substring(d[e-1]||0,f.length);e=0<e?d.indent:0}return{row:c,column:e+this.$getStringScreenWidth(f)[0]}};this.documentToScreenColumn=function(a,b){return this.documentToScreenPosition(a,b).column};this.documentToScreenRow=function(a,b){return this.documentToScreenPosition(a,b).row};this.getScreenLength=function(){var a=0,b;if(this.$useWrapMode)for(var c=this.$wrapData.length,
d=0,e=0,f=(b=this.$foldData[e++])?b.start.row:Infinity;d<c;){var g=this.$wrapData[d],a=a+(g?g.length+1:1);d++;d>f&&(d=b.end.row+1,b=this.$foldData[e++],f=b?b.start.row:Infinity)}else for(var a=this.getLength(),c=this.$foldData,e=0;e<c.length;e++)b=c[e],a-=b.end.row-b.start.row;return this.lineWidgets&&(a+=this.$getWidgetScreenLength()),a};this.$setFontMetrics=function(a){this.$enableVarChar&&(this.$getStringScreenWidth=function(b,c,d){if(0===c)return[0,0];c||(c=Infinity);d=d||0;var e,f;for(f=0;f<
b.length&&!(e=b.charAt(f),"\t"===e?d+=this.getScreenTabSize(d):d+=a.getCharacterWidth(e),d>c);f++);return[d,f]})};this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null);this.$stopWorker()};this.isFullWidth=b}).call(w.prototype);b("./edit_session/folding").Folding.call(w.prototype);b("./edit_session/bracket_match").BracketMatch.call(w.prototype);f.defineOptions(w.prototype,"session",{wrap:{set:function(a){a&&"off"!=a?"free"==a?a=!0:"printMargin"==a?a=-1:
"string"==typeof a&&(a=parseInt(a,10)||!1):a=!1;this.$wrap!=a&&((this.$wrap=a)?(a="number"==typeof a?a:null,this.setWrapLimitRange(a,a),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(a){a="auto"==a?"text"!=this.$mode.type:"text"!=a;a!=this.$wrapAsCode&&(this.$wrapAsCode=a,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),
this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(a){this.$useWorker=a;this.$stopWorker();a&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(a){isNaN(a)||this.$tabSize===a||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=a,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},
overwrite:{set:function(a){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(a){this.doc.setNewLineMode(a)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(a){this.setMode(a)},get:function(){return this.$modeId}}});n.EditSession=w});
define("ace/search","require exports module ace/lib/lang ace/lib/oop ace/range".split(" "),function(b,n,t){var a=b("./lib/lang"),g=b("./lib/oop"),e=b("./range").Range;b=function(){this.$options={}};(function(){this.set=function(a){return g.mixin(this.$options,a),this};this.getOptions=function(){return a.copyObject(this.$options)};this.setOptions=function(a){this.$options=a};this.find=function(a){var b=this.$options;a=this.$matchIterator(a,b);if(!a)return!1;var f=null;return a.forEach(function(a,c,
d,g){return f=new e(a,c,d,g),c==g&&b.start&&b.start.start&&0!=b.skipCurrent&&f.isEqual(b.start)?(f=null,!1):!0}),f};this.findAll=function(b){var c=this.$options;if(!c.needle)return[];this.$assembleRegExp(c);var f=c.range,g=f?b.getLines(f.start.row,f.end.row):b.doc.getAllLines();b=[];var m=c.re;if(c.$isMultiLine){var d=m.length,l=g.length-d,q,n=m.offset||0;a:for(;n<=l;n++){for(c=0;c<d;c++)if(-1==g[n+c].search(m[c]))continue a;var z=g[n],c=g[n+d-1],z=z.length-z.match(m[0])[0].length,c=c.match(m[d-1])[0].length;
q&&q.end.row===n&&q.end.column>z||(b.push(q=new e(n,z,n+d-1,c)),2<d&&(n=n+d-2))}}else for(q=0;q<g.length;q++)for(d=a.getMatchOffsets(g[q],m),c=0;c<d.length;c++)l=d[c],b.push(new e(q,l.offset,q,l.offset+l.length));if(f){m=g=f.start.column;q=0;for(c=b.length-1;q<c&&b[q].start.column<g&&b[q].start.row==f.start.row;)q++;for(;q<c&&b[c].end.column>m&&b[c].end.row==f.end.row;)c--;b=b.slice(q,c+1);q=0;for(c=b.length;q<c;q++)b[q].start.row+=f.start.row,b[q].end.row+=f.start.row}return b};this.replace=function(a,
b){var c=this.$options,e=this.$assembleRegExp(c);if(c.$isMultiLine)return b;if(e){var f=e.exec(a);if(!f||f[0].length!=a.length)return null;b=a.replace(e,b);if(c.preserveCase){b=b.split("");for(c=Math.min(a.length,a.length);c--;)(e=a[c])&&e.toLowerCase()!=e?b[c]=b[c].toUpperCase():b[c]=b[c].toLowerCase();b=b.join("")}return b}};this.$assembleRegExp=function(b,c){if(b.needle instanceof RegExp)return b.re=b.needle;var e=b.needle;if(!b.needle)return b.re=!1;b.regExp||(e=a.escapeRegExp(e));b.wholeWord&&
(e=(/\w/.test(e[0])||b.regExp?"\\b":"")+e+(/\w/.test(e[e.length-1])||b.regExp?"\\b":""));var f=b.caseSensitive?"gm":"gmi";b.$isMultiLine=!c&&/[\n\r]/.test(e);if(b.$isMultiLine)return b.re=this.$assembleMultilineRegExp(e,f);try{var g=new RegExp(e,f)}catch(d){g=!1}return b.re=g};this.$assembleMultilineRegExp=function(a,b){for(var c=a.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),e=[],f=0;f<c.length;f++)try{e.push(new RegExp(c[f],b))}catch(d){return!1}return e};this.$matchIterator=function(a,b){var c=this.$assembleRegExp(b);
if(!c)return!1;var e=1==b.backwards,f=0!=b.skipCurrent,d=b.range,g=b.start;g||(g=d?d[e?"end":"start"]:a.selection.getRange());g.start&&(g=g[f!=e?"end":"start"]);var q=d?d.start.row:0,n=d?d.end.row:a.getLength()-1,f=e?function(a){var c=g.row;if(!u(c,g.column,a)){for(c--;c>=q;c--)if(u(c,Number.MAX_VALUE,a))return;if(0!=b.wrap)for(c=n,q=g.row;c>=q&&!u(c,Number.MAX_VALUE,a);c--);}}:function(a){var c=g.row;if(!u(c,g.column,a)){for(c+=1;c<=n;c++)if(u(c,0,a))return;if(0!=b.wrap)for(c=q,n=g.row;c<=n&&!u(c,
0,a);c++);}};if(b.$isMultiLine)var z=c.length,u=function(b,d,f){b=e?b-z+1:b;if(!(0>b)){var g=a.getLine(b),h=g.search(c[0]);if(!(!e&&h<d||-1===h)){for(var k=1;k<z;k++)if(g=a.getLine(b+k),-1==g.search(c[k]))return;g=g.match(c[z-1])[0].length;if(!(e&&g>d)&&f(b,h,b+z-1,g))return!0}}};else u=e?function(b,d,e){var f=a.getLine(b),g=[],h,k;for(c.lastIndex=0;h=c.exec(f);){var m=h[0].length;k=h.index;if(!m){if(k>=f.length)break;c.lastIndex=k+1}if(h.index+m>d)break;g.push(h.index,m)}for(d=g.length-1;0<=d;d-=
2)if(f=g[d-1],m=g[d],e(b,f,b,f+m))return!0}:function(b,d,e){var f=a.getLine(b),g;for(c.lastIndex=d;g=c.exec(f);){d=g[0].length;g=g.index;if(e(b,g,b,g+d))return!0;if(!d&&(c.lastIndex=g+=1,g>=f.length))return!1}};return{forEach:f}}}).call(b.prototype);n.Search=b});
define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(b,n,t){function a(a,b){this.platform=b||(f.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(a);this.$singleCommand=!0}function g(b,c){a.call(this,b,c);this.$singleCommand=!1}var e=b("../lib/keys"),f=b("../lib/useragent"),c=e.KEY_MODS;g.prototype=a.prototype;(function(){function a(a){return"object"==typeof a&&a.bindKey&&a.bindKey.position||(a.isDefault?-100:0)}
this.addCommand=function(a){this.commands[a.name]&&this.removeCommand(a);this.commands[a.name]=a;a.bindKey&&this._buildKeyHash(a)};this.removeCommand=function(a,b){var c=a&&("string"==typeof a?a:a.name);a=this.commands[c];b||delete this.commands[c];var c=this.commandKeyBinding,e;for(e in c){var f=c[e];if(f==a)delete c[e];else if(Array.isArray(f)){var g=f.indexOf(a);-1!=g&&(f.splice(g,1),1==f.length&&(c[e]=f[0]))}}};this.bindKey=function(a,b,d){"object"==typeof a&&a&&(void 0==d&&(d=a.position),a=a[this.platform]);
if(a){if("function"==typeof b)return this.addCommand({exec:b,bindKey:a,name:b.name||a});a.split("|").forEach(function(a){var e="";if(-1!=a.indexOf(" ")){var f=a.split(/\s+/);a=f.pop();f.forEach(function(a){a=this.parseKeys(a);e+=(e?" ":"")+(c[a.hashId]+a.key);this._addCommandToBinding(e,"chainKeys")},this);e+=" "}a=this.parseKeys(a);this._addCommandToBinding(e+(c[a.hashId]+a.key),b,d)},this)}};this._addCommandToBinding=function(b,c,d){var e=this.commandKeyBinding,f;if(c)if(!e[b]||this.$singleCommand)e[b]=
c;else{Array.isArray(e[b])?-1!=(f=e[b].indexOf(c))&&e[b].splice(f,1):e[b]=[e[b]];"number"!=typeof d&&(d=a(c));b=e[b];for(f=0;f<b.length&&!(a(b[f])>d);f++);b.splice(f,0,c)}else delete e[b]};this.addCommands=function(a){a&&Object.keys(a).forEach(function(b){var c=a[b];if(c){if("string"==typeof c)return this.bindKey(c,b);"function"==typeof c&&(c={exec:c});"object"==typeof c&&(c.name||(c.name=b),this.addCommand(c))}},this)};this.removeCommands=function(a){Object.keys(a).forEach(function(b){this.removeCommand(a[b])},
this)};this.bindKeys=function(a){Object.keys(a).forEach(function(b){this.bindKey(b,a[b])},this)};this._buildKeyHash=function(a){this.bindKey(a.bindKey,a)};this.parseKeys=function(a){var b=a.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(a){return a}),c=b.pop(),f=e[c];if(e.FUNCTION_KEYS[f])c=e.FUNCTION_KEYS[f].toLowerCase();else{if(!b.length)return{key:c,hashId:-1};if(1==b.length&&"shift"==b[0])return{key:c.toUpperCase(),hashId:-1}}for(var f=0,g=b.length;g--;){var h=e.KEY_MODS[b[g]];if(null==
h)return"undefined"!=typeof console&&console.error("invalid modifier "+b[g]+" in "+a),!1;f|=h}return{key:c,hashId:f}};this.findKeyCommand=function(a,b){return this.commandKeyBinding[c[a]+b]};this.handleKeyboard=function(a,b,d,e){if(!(0>e)){var f=c[b]+d,g=this.commandKeyBinding[f];a.$keyChain&&(a.$keyChain+=" "+f,g=this.commandKeyBinding[a.$keyChain]||g);if(g&&("chainKeys"==g||"chainKeys"==g[g.length-1]))return a.$keyChain=a.$keyChain||f,{command:"null"};if(a.$keyChain)if(b&&4!=b||1!=d.length){if(-1==
b||0<e)a.$keyChain=""}else a.$keyChain=a.$keyChain.slice(0,-f.length-1);return{command:g}}};this.getStatusText=function(a,b){return b.$keyChain||""}}).call(a.prototype);n.HashHandler=a;n.MultiHashHandler=g});
define("ace/commands/command_manager","require exports module ace/lib/oop ace/keyboard/hash_handler ace/lib/event_emitter".split(" "),function(b,n,t){var a=b("../lib/oop"),g=b("../keyboard/hash_handler").MultiHashHandler,e=b("../lib/event_emitter").EventEmitter;b=function(a,b){g.call(this,b,a);this.byName=this.commands;this.setDefaultHandler("exec",function(a){return a.command.exec(a.editor,a.args||{})})};a.inherits(b,g);(function(){a.implement(this,e);this.exec=function(a,b,e){if(Array.isArray(a)){for(var c=
a.length;c--;)if(this.exec(a[c],b,e))return!0;return!1}"string"==typeof a&&(a=this.commands[a]);if(!a||b&&b.$readOnly&&!a.readOnly||a.isAvailable&&!a.isAvailable(b))return!1;a={editor:b,command:a,args:e};return a.returnValue=this._emit("exec",a),this._signal("afterExec",a),!1===a.returnValue?!1:!0};this.toggleRecording=function(a){if(!this.$inReplay)return a&&a._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=
this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(a){this.macro.push([a.command,a.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)};this.replay=function(a){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(a);try{this.$inReplay=!0,this.macro.forEach(function(b){"string"==typeof b?this.exec(b,a):this.exec(b[0],a,b[1])},this)}finally{this.$inReplay=!1}}};this.trimMacro=
function(a){return a.map(function(a){return"string"!=typeof a[0]&&(a[0]=a[0].name),a[1]||(a=a[0]),a})}}).call(b.prototype);n.CommandManager=b});
define("ace/commands/default_commands","require exports module ace/lib/lang ace/config ace/range".split(" "),function(b,n,t){function a(a,b){return{win:a,mac:b}}var g=b("../lib/lang"),e=b("../config"),f=b("../range").Range;n.commands=[{name:"showSettingsMenu",bindKey:a("Ctrl-,","Command-,"),exec:function(a){e.loadModule("ace/ext/settings_menu",function(b){b.init(a);a.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:a("Alt-E","F4"),exec:function(a){e.loadModule("ace/ext/error_marker",
function(b){b.showErrorMarker(a,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(a){e.loadModule("ace/ext/error_marker",function(b){b.showErrorMarker(a,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:a("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",bindKey:a(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:a("Ctrl-L","Command-L"),
exec:function(a){var b=parseInt(prompt("Enter line number:"),10);isNaN(b)||a.gotoLine(b)},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",
bindKey:a("F2","F2"),exec:function(a){a.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:a("Alt-F2","Alt-F2"),exec:function(a){a.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:a("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll();
a.session.unfold(a.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:a("Ctrl-K","Command-G"),exec:function(a){a.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",
readOnly:!0},{name:"selectOrFindNext",bindKey:a("Alt-K","Ctrl-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findPrevious()},readOnly:!0},{name:"find",bindKey:a("Ctrl-F","Command-F"),exec:function(a){e.loadModule("ace/ext/searchbox",function(b){b.Search(a)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},
readOnly:!0},{name:"selecttostart",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),
exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:a("Up","Up|Ctrl-P"),exec:function(a,b){a.navigateUp(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",
bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:a("Down","Down|Ctrl-N"),exec:function(a,b){a.navigateDown(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",
readOnly:!0},{name:"selectwordleft",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:a("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(a){a.getSelection().selectLineStart()},
multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:a("Left","Left|Ctrl-B"),exec:function(a,b){a.navigateLeft(b.times)},
multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:a("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:a("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:a("Right",
"Right|Ctrl-F"),exec:function(a,b){a.navigateRight(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:a(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},
readOnly:!0},{name:"pageup",bindKey:a(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:a("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:a("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",
exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording(a)},readOnly:!0},{name:"replaymacro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},
readOnly:!0},{name:"jumptomatching",bindKey:a("Ctrl-P","Ctrl-P"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:a("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(a){a.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(a){a.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},
{name:"passKeysToBrowser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(a){},readOnly:!0},{name:"cut",exec:function(a){var b=a.getSelectionRange();a._emit("cut",b);a.selection.isEmpty()||(a.session.remove(b),a.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(a,b){a.$handlePaste(b)},scrollIntoView:"cursor"},{name:"removeline",bindKey:a("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},scrollIntoView:"cursor",
multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(a){a.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:a("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},
{name:"toggleBlockComment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(a){a.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(a){a.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(a){a.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",
bindKey:a("Ctrl-H","Command-Option-F"),exec:function(a){e.loadModule("ace/ext/searchbox",function(b){b.Search(a,!0)})}},{name:"undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:a("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()},
scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:a("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(a){a.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
exec:function(a){a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:a("Shift-Delete",null),exec:function(a){if(!a.selection.isEmpty())return!1;a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),
exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(a){var b=a.selection.getRange();b.start.column=0;a.session.remove(b)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(a){var b=a.selection.getRange();b.end.column=Number.MAX_VALUE;a.session.remove(b)},multiSelectAction:"forEach",scrollIntoView:"cursor"},
{name:"removewordleft",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:a("Tab",
"Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(a){a.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(a){a.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(a,b){a.insert(b)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",
exec:function(a,b){a.insert(g.stringRepeat(b.text||"",b.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:a(null,"Ctrl-O"),exec:function(a){a.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},
multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(a){var b=a.selection.getRange();b.start.column=b.end.column=0;b.end.row++;a.selection.setRange(b,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:a(null,null),exec:function(a){for(var b=
a.selection.isBackwards(),c=b?a.selection.getSelectionLead():a.selection.getSelectionAnchor(),b=b?a.selection.getSelectionAnchor():a.selection.getSelectionLead(),e=a.session.doc.getLine(c.row).length,d=a.session.doc.getTextRange(a.selection.getRange()).replace(/\n\s*/," ").length,l=a.session.doc.getLine(c.row),q=c.row+1;q<=b.row+1;q++){var n=g.stringTrimLeft(g.stringTrimRight(a.session.doc.getLine(q)));0!==n.length&&(n=" "+n);l+=n}b.row+1<a.session.doc.getLength()-1&&(l+=a.session.doc.getNewLineCharacter());
a.clearSelection();a.session.doc.replace(new f(c.row,0,b.row+2,0),l);0<d?(a.selection.moveCursorTo(c.row,c.column),a.selection.selectTo(c.row,c.column+d)):(e=a.session.doc.getLine(c.row).length>e?e+1:e,a.selection.moveCursorTo(c.row,e))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:a(null,null),exec:function(a){var b=a.session.doc.getLength()-1,c=a.session.doc.getLine(b).length,e=a.selection.rangeList.ranges,d=[];1>e.length&&(e=[a.selection.getRange()]);for(var g=0;g<e.length;g++)g!=
e.length-1||e[g].end.row===b&&e[g].end.column===c||d.push(new f(e[g].end.row,e[g].end.column,b,c)),0===g?(0!==e[g].start.row||0!==e[g].start.column)&&d.push(new f(0,0,e[g].start.row,e[g].start.column)):d.push(new f(e[g-1].end.row,e[g-1].end.column,e[g].start.row,e[g].start.column));a.exitMultiSelectMode();a.clearSelection();for(g=0;g<d.length;g++)a.selection.addRange(d[g],!1)},readOnly:!0,scrollIntoView:"none"}]});
define("ace/editor","require exports module ace/lib/fixoldbrowsers ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/keyboard/textinput ace/mouse/mouse_handler ace/mouse/fold_handler ace/keyboard/keybinding ace/edit_session ace/search ace/range ace/lib/event_emitter ace/commands/command_manager ace/commands/default_commands ace/config ace/token_iterator".split(" "),function(b,n,t){b("./lib/fixoldbrowsers");var a=b("./lib/oop"),g=b("./lib/dom"),e=b("./lib/lang"),f=b("./lib/useragent"),c=b("./keyboard/textinput").TextInput,
h=b("./mouse/mouse_handler").MouseHandler,k=b("./mouse/fold_handler").FoldHandler,m=b("./keyboard/keybinding").KeyBinding,d=b("./edit_session").EditSession,l=b("./search").Search,q=b("./range").Range,w=b("./lib/event_emitter").EventEmitter,z=b("./commands/command_manager").CommandManager,u=b("./commands/default_commands").commands,B=b("./config"),r=b("./token_iterator").TokenIterator,A=function(a,b){this.container=a.getContainerElement();this.renderer=a;this.id="editor"+ ++A.$uid;this.commands=new z(f.isMac?
"mac":"win",u);"object"==typeof document&&(this.textInput=new c(a.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new h(this),new k(this));this.keyBinding=new m(this);this.$blockScrolling=0;this.$search=(new l).set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=e.delayedCall(function(){this._signal("input",{});this.session&&this.session.bgTokenizer&&
this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(a,b){b._$emitInputEvent.schedule(31)});this.setSession(b||new d(""));B.resetOptions(this);B._signal("editor",this)};A.$uid=0;(function(){a.implement(this,w);this.$initOperationListeners=function(){this.selections=[];this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=e.delayedCall(this.endOperation.bind(this));this.on("change",function(){this.curOp||
this.startOperation();this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){this.curOp||this.startOperation();this.curOp.selectionChanged=!0}.bind(this),!0)};this.curOp=null;this.prevOp={};this.startOperation=function(a){if(this.curOp){if(!a||this.curOp.command)return;this.prevOp=this.curOp}a||(this.previousCommand=null,a={});this.$opResetTimer.schedule();this.curOp={command:a.command||{},args:a.args,scrollTop:this.renderer.scrollTop};this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&
this.$blockScrolling++};this.endOperation=function(a){if(this.curOp){if(a&&!1===a.returnValue)return this.curOp=null;this._signal("beforeEndOperation");a=this.curOp.command;a.name&&0<this.$blockScrolling&&this.$blockScrolling--;if(a=a&&a.scrollIntoView){switch(a){case "center-animate":a="animate";case "center":this.renderer.scrollCursorIntoView(null,.5);break;case "animate":case "cursor":this.renderer.scrollCursorIntoView();break;case "selectionPart":var b=this.selection.getRange(),c=this.renderer.layerConfig;
(b.start.row>=c.lastRow||b.end.row<=c.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==a&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(a){if(this.$mergeUndoDeltas){var b=this.prevOp,c=this.$mergeableCommands,d=b.command&&a.command.name==b.command.name;if("insertstring"==a.command.name){var e=a.args;void 0===
this.mergeNextCommand&&(this.mergeNextCommand=!0);d=d&&this.mergeNextCommand&&(!/\s/.test(e)||/\s/.test(b.args));this.mergeNextCommand=!0}else d=d&&-1!==c.indexOf(a.command.name);"always"!=this.$mergeUndoDeltas&&2E3<Date.now()-this.sequenceStartTime&&(d=!1);d?this.session.mergeUndoDeltas=!0:-1!==c.indexOf(a.command.name)&&(this.sequenceStartTime=Date.now())}};this.setKeyboardHandler=function(a,b){if(a&&"string"==typeof a){this.$keybindingId=a;var c=this;B.loadModule(["keybinding",a],function(d){c.$keybindingId==
a&&c.keyBinding.setKeyboardHandler(d&&d.handler);b&&b()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(a),b&&b()};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(a){if(this.session!=a){this.curOp&&this.endOperation();this.curOp={};var b=this.session;if(b){this.session.off("change",this.$onDocumentChange);this.session.off("changeMode",this.$onChangeMode);this.session.off("tokenizerUpdate",this.$onTokenizerUpdate);this.session.off("changeTabSize",
this.$onChangeTabSize);this.session.off("changeWrapLimit",this.$onChangeWrapLimit);this.session.off("changeWrapMode",this.$onChangeWrapMode);this.session.off("changeFold",this.$onChangeFold);this.session.off("changeFrontMarker",this.$onChangeFrontMarker);this.session.off("changeBackMarker",this.$onChangeBackMarker);this.session.off("changeBreakpoint",this.$onChangeBreakpoint);this.session.off("changeAnnotation",this.$onChangeAnnotation);this.session.off("changeOverwrite",this.$onCursorChange);this.session.off("changeScrollTop",
this.$onScrollTopChange);this.session.off("changeScrollLeft",this.$onScrollLeftChange);var c=this.session.getSelection();c.off("changeCursor",this.$onCursorChange);c.off("changeSelection",this.$onSelectionChange)}(this.session=a)?(this.$onDocumentChange=this.onDocumentChange.bind(this),a.on("change",this.$onDocumentChange),this.renderer.setSession(a),this.$onChangeMode=this.onChangeMode.bind(this),a.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),a.on("tokenizerUpdate",
this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),a.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),a.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),a.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),a.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",
this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=
this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=a.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),--this.$blockScrolling,
this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(a));this._signal("changeSession",{session:a,oldSession:b});this.curOp=null;b&&b._signal("changeEditor",{oldEditor:this});a&&a._signal("changeEditor",{editor:this});a&&a.bgTokenizer&&a.bgTokenizer.scheduleStart()}};
this.getSession=function(){return this.session};this.setValue=function(a,b){return this.session.doc.setValue(a),b?1==b?this.navigateFileEnd():-1==b&&this.navigateFileStart():this.selectAll(),a};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(a){this.renderer.onResize(a)};this.setTheme=function(a,b){this.renderer.setTheme(a,b)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(a){this.renderer.setStyle(a)};
this.unsetStyle=function(a){this.renderer.unsetStyle(a)};this.getFontSize=function(){return this.getOption("fontSize")||g.computedStyle(this.container,"fontSize")};this.setFontSize=function(a){this.setOption("fontSize",a)};this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(!this.$highlightPending){var a=this;this.$highlightPending=!0;setTimeout(function(){a.$highlightPending=!1;var b=
a.session;if(b&&b.bgTokenizer){var c=b.findMatchingBracket(a.getCursorPosition());if(c)var d=new q(c.row,c.column,c.row,c.column+1);else b.$mode.getMatching&&(d=b.$mode.getMatching(a.session));d&&(b.$bracketHighlight=b.addMarker(d,"ace_bracket","text"))}},50)}};this.$highlightTags=function(){if(!this.$highlightTagPending){var a=this;this.$highlightTagPending=!0;setTimeout(function(){a.$highlightTagPending=!1;var b=a.session;if(b&&b.bgTokenizer){var c=a.getCursorPosition(),d=new r(a.session,c.row,
c.column);if((c=d.getCurrentToken())&&/\b(?:tag-open|tag-name)/.test(c.type)){if(-1!=c.type.indexOf("tag-open")&&(c=d.stepForward(),!c))return;var e=c.value,f=0,g=d.stepBackward();if("<"==g.value){do g=c,(c=d.stepForward())&&c.value===e&&-1!==c.type.indexOf("tag-name")&&("<"===g.value?f++:"</"===g.value&&f--);while(c&&0<=f)}else{do c=g,g=d.stepBackward(),c&&c.value===e&&-1!==c.type.indexOf("tag-name")&&("<"===g.value?f++:"</"===g.value&&f--);while(g&&0>=f);d.stepForward()}c?(e=d.getCurrentTokenRow(),
d=d.getCurrentTokenColumn(),c=new q(e,d,e,d+c.value.length),d=b.$backMarkers[b.$tagHighlight],b.$tagHighlight&&void 0!=d&&0!==c.compareRange(d.range)&&(b.removeMarker(b.$tagHighlight),b.$tagHighlight=null),c&&!b.$tagHighlight&&(b.$tagHighlight=b.addMarker(c,"ace_bracket","text"))):(b.removeMarker(b.$tagHighlight),b.$tagHighlight=null)}else b.removeMarker(b.$tagHighlight),b.$tagHighlight=null}},50)}};this.focus=function(){var a=this;setTimeout(function(){a.textInput.focus()});this.textInput.focus()};
this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(a){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",a))};this.onBlur=function(a){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",a))};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(a){this.renderer.updateLines(a.start.row,
a.start.row==a.end.row?a.end.row:Infinity,this.session.$useWrapMode);this._signal("change",a);this.$cursorChange();this.$updateHighlightActiveLine()};this.onTokenizerUpdate=function(a){a=a.data;this.renderer.updateLines(a.first,a.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();this.$blockScrolling||(B.warn("Automatically scrolling cursor into view after selection change",
"this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView());this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var a=this.getSession(),b;this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(b=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||
1<this.renderer.$minLines||(b=!1));a.$highlightLineMarker&&!b?(a.removeMarker(a.$highlightLineMarker.id),a.$highlightLineMarker=null):!a.$highlightLineMarker&&b?(b=new q(b.row,b.column,b.row,Infinity),b.id=a.addMarker(b,"ace_active-line","screenLine"),a.$highlightLineMarker=b):b&&(a.$highlightLineMarker.start.row=b.row,a.$highlightLineMarker.end.row=b.row,a.$highlightLineMarker.start.column=b.column,a._signal("changeBackMarker"))};this.onSelectionChange=function(a){a=this.session;a.$selectionMarker&&
a.removeMarker(a.$selectionMarker);a.$selectionMarker=null;if(this.selection.isEmpty())this.$updateHighlightActiveLine();else{var b=this.selection.getRange(),c=this.getSelectionStyle();a.$selectionMarker=a.addMarker(b,"ace_selection",c)}a=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(a);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var a=this.session,b=this.getSelectionRange();if(!b.isEmpty()&&!b.isMultiLine()){var c=b.start.column-
1,d=b.end.column+1,a=a.getLine(b.start.row),e=a.length,f=a.substring(Math.max(c,0),Math.min(d,e));if(!(0<=c&&/^[\w\d]/.test(f)||d<=e&&/[\w\d]$/.test(f))&&(f=a.substring(b.start.column,b.end.column),/^[\w\d]+$/.test(f)))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:f})}};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};
this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(a){this.renderer.updateText();this._emit("changeMode",a)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=
function(){var a=this.getSelectedText();return this._signal("copy",a),a};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(a,b){this.commands.exec("paste",this,{text:a,event:b})};this.$handlePaste=function(a){"string"==typeof a&&(a={text:a});this._signal("paste",a);var b=a.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(b);else{a=b.split(/\r\n|\r|\n/);var c=this.selection.rangeList.ranges;if(a.length>
c.length||2>a.length||!a[1])return this.commands.exec("insertstring",this,b);for(b=c.length;b--;){var d=c[b];d.isEmpty()||this.session.remove(d);this.session.insert(d.start,a[b])}}};this.execCommand=function(a,b){return this.commands.exec(a,this,b)};this.insert=function(a,b){var c=this.session,d=c.getMode(),e=this.getCursorPosition();if(this.getBehavioursEnabled()&&!b){var f=d.transformAction(c.getState(e.row),"insertion",this,c,a);f&&(a!==f.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=
!1),a=f.text)}"\t"==a&&(a=this.session.getTabString());if(this.selection.isEmpty())this.session.getOverwrite()&&-1==a.indexOf("\n")&&(g=new q.fromPoints(e,e),g.end.column+=a.length,this.session.remove(g));else{var g=this.getSelectionRange(),e=this.session.remove(g);this.clearSelection()}if("\n"==a||"\r\n"==a){var h=c.getLine(e.row);e.column>h.search(/\S|$/)&&(g=h.substr(e.column).search(/\S|$/),c.doc.removeInLine(e.row,e.column,e.column+g))}this.clearSelection();var k=e.column,g=c.getState(e.row),
h=c.getLine(e.row),m=d.checkOutdent(g,h,a);c.insert(e,a);f&&f.selection&&(2==f.selection.length?this.selection.setSelectionRange(new q(e.row,k+f.selection[0],e.row,k+f.selection[1])):this.selection.setSelectionRange(new q(e.row+f.selection[0],f.selection[1],e.row+f.selection[2],f.selection[3])));c.getDocument().isNewLine(a)&&(f=d.getNextLineIndent(g,h.slice(0,e.column),c.getTabString()),c.insert({row:e.row+1,column:0},f));m&&d.autoOutdent(g,c,e.row)};this.onTextInput=function(a){this.keyBinding.onTextInput(a)};
this.onCommandKey=function(a,b,c){this.keyBinding.onCommandKey(a,b,c)};this.setOverwrite=function(a){this.session.setOverwrite(a)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(a){this.setOption("scrollSpeed",a)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(a){this.setOption("dragDelay",a)};this.getDragDelay=function(){return this.getOption("dragDelay")};
this.setSelectionStyle=function(a){this.setOption("selectionStyle",a)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(a){this.setOption("highlightActiveLine",a)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(a){this.setOption("highlightGutterLine",a)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=
function(a){this.setOption("highlightSelectedWord",a)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(a){this.renderer.setAnimatedScroll(a)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(a){this.renderer.setShowInvisibles(a)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(a){this.renderer.setDisplayIndentGuides(a)};
this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(a){this.renderer.setShowPrintMargin(a)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(a){this.renderer.setPrintMarginColumn(a)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(a){this.setOption("readOnly",a)};this.getReadOnly=function(){return this.getOption("readOnly")};
this.setBehavioursEnabled=function(a){this.setOption("behavioursEnabled",a)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(a){this.setOption("wrapBehavioursEnabled",a)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(a){this.setOption("showFoldWidgets",a)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=
function(a){this.setOption("fadeFoldWidgets",a)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(a){this.selection.isEmpty()&&("left"==a?this.selection.selectLeft():this.selection.selectRight());a=this.getSelectionRange();if(this.getBehavioursEnabled()){var b=this.session,c=b.getState(a.start.row),c=b.getMode().transformAction(c,"deletion",this,b,a);if(0===a.end.column){var d=b.getTextRange(a);"\n"==d[d.length-1]&&(b=b.getLine(a.end.row),/^\s+$/.test(b)&&
(a.end.column=b.length))}c&&(a=c)}this.session.remove(a);this.clearSelection()};this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.session.remove(this.getSelectionRange());
this.clearSelection()};this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var a=this.getSelectionRange();a.start.column==a.end.column&&a.start.row==a.end.row&&(a.end.column=0,a.end.row++);this.session.remove(a);this.clearSelection()};this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var a=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(a)};this.transposeLetters=function(){if(this.selection.isEmpty()){var a=
this.getCursorPosition(),b=a.column;if(0!==b){var c=this.session.getLine(a.row),d,e;b<c.length?(d=c.charAt(b)+c.charAt(b-1),e=new q(a.row,b-1,a.row,b+1)):(d=c.charAt(b-1)+c.charAt(b-2),e=new q(a.row,b-2,a.row,b));this.session.replace(e,d);this.session.selection.moveToPosition(e.end)}}};this.toLowerCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toLowerCase());
this.selection.setSelectionRange(a)};this.toUpperCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toUpperCase());this.selection.setSelectionRange(a)};this.indent=function(){var a=this.session,b=this.getSelectionRange();if(b.start.row<b.end.row)b=this.$getSelectedRows(),a.indentRows(b.first,b.last,"\t");else{if(b.start.column<b.end.column){var c=a.getTextRange(b);
if(!/^\s+$/.test(c)){b=this.$getSelectedRows();a.indentRows(b.first,b.last,"\t");return}}var c=a.getLine(b.start.row),d=b.start,f=a.getTabSize(),a=a.documentToScreenColumn(d.row,d.column);if(this.session.getUseSoftTabs())b=e.stringRepeat(" ",f-a%f);else{for(a%=f;" "==c[b.start.column-1]&&a;)b.start.column--,a--;this.selection.setSelectionRange(b);b="\t"}return this.insert(b)}};this.blockIndent=function(){var a=this.$getSelectedRows();this.session.indentRows(a.first,a.last,"\t")};this.blockOutdent=
function(){var a=this.session.getSelection();this.session.outdentRows(a.getRange())};this.sortLines=function(){for(var a=this.$getSelectedRows(),b=this.session,c=[],d=a.first;d<=a.last;d++)c.push(b.getLine(d));c.sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0});for(var e=new q(0,0,0,0),d=a.first;d<=a.last;d++){var f=b.getLine(d);e.start.row=d;e.end.row=d;e.end.column=f.length;b.replace(e,c[d-a.first])}};this.toggleCommentLines=function(){var a=this.session.getState(this.getCursorPosition().row),
b=this.$getSelectedRows();this.session.getMode().toggleCommentLines(a,this.session,b.first,b.last)};this.toggleBlockComment=function(){var a=this.getCursorPosition(),b=this.session.getState(a.row),c=this.getSelectionRange();this.session.getMode().toggleBlockComment(b,this.session,c,a)};this.getNumberAt=function(a,b){var c=/[\-]?[0-9]+(?:\.[0-9]+)?/g;c.lastIndex=0;for(var d=this.session.getLine(a);c.lastIndex<b;){var e=c.exec(d);if(e.index<=b&&e.index+e[0].length>=b)return{value:e[0],start:e.index,
end:e.index+e[0].length}}return null};this.modifyNumber=function(a){var b=this.selection.getCursor().row,c=this.selection.getCursor().column,d=new q(b,c-1,b,c),d=this.session.getTextRange(d);if(!isNaN(parseFloat(d))&&isFinite(d)&&(d=this.getNumberAt(b,c))){var e=0<=d.value.indexOf(".")?d.start+d.value.indexOf(".")+1:d.end,f=d.start+d.value.length-e,g=parseFloat(d.value),g=g*Math.pow(10,f);e!==d.end&&c<e?a*=Math.pow(10,d.end-c-1):a*=Math.pow(10,d.end-c);g=(g+a)/Math.pow(10,f);a=g.toFixed(f);e=new q(b,
d.start,b,d.end);this.session.replace(e,a);this.moveCursorTo(b,Math.max(d.start+1,c+a.length-d.value.length))}};this.removeLines=function(){var a=this.$getSelectedRows();this.session.removeFullLines(a.first,a.last);this.clearSelection()};this.duplicateSelection=function(){var a=this.selection,b=this.session,c=a.getRange(),d=a.isBackwards();if(c.isEmpty())a=c.start.row,b.duplicateLines(a,a);else{var e=d?c.start:c.end,b=b.insert(e,b.getTextRange(c),!1);c.start=e;c.end=b;a.setSelectionRange(c,d)}};this.moveLinesDown=
function(){this.$moveLines(1,!1)};this.moveLinesUp=function(){this.$moveLines(-1,!1)};this.moveText=function(a,b,c){return this.session.moveText(a,b,c)};this.copyLinesUp=function(){this.$moveLines(-1,!0)};this.copyLinesDown=function(){this.$moveLines(1,!0)};this.$moveLines=function(a,b){var c,d,e=this.selection;if(!e.inMultiSelectMode||this.inVirtualSelectionMode){var f=e.toOrientedRange();c=this.$getSelectedRows(f);d=this.session.$moveLines(c.first,c.last,b?0:a);b&&-1==a&&(d=0);f.moveBy(d,0);e.fromOrientedRange(f)}else{f=
e.rangeList.ranges;e.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;var g=0;d=0;for(var h=f.length,k=0;k<h;k++){var m=k;f[k].moveBy(g,0);c=this.$getSelectedRows(f[k]);g=c.first;for(c=c.last;++k<h;){d&&f[k].moveBy(d,0);var l=this.$getSelectedRows(f[k]);if(b&&l.first!=c)break;if(!b&&l.first>c+1)break;c=l.last}k--;g=this.session.$moveLines(g,c,b?0:a);for(b&&-1==a&&(m=k+1);m<=k;)f[m].moveBy(g,0),m++;b||(g=0);d+=g}e.fromOrientedRange(e.ranges[0]);e.rangeList.attach(this.session);this.inVirtualSelectionMode=
!1}};this.$getSelectedRows=function(a){return a=(a||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(a.start.row),last:this.session.getRowFoldEnd(a.end.row)}};this.onCompositionStart=function(a){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(a){this.renderer.setCompositionText(a)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=
function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(a){return a>=this.getFirstVisibleRow()&&a<=this.getLastVisibleRow()};this.isRowFullyVisible=function(a){return a>=this.renderer.getFirstFullyVisibleRow()&&a<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(a,b){var c=this.renderer,d=this.renderer.layerConfig,e=a*Math.floor(d.height/d.lineHeight);
this.$blockScrolling++;!0===b?this.selection.$moveSelection(function(){this.moveCursorBy(e,0)}):!1===b&&(this.selection.moveCursorBy(e,0),this.selection.clearSelection());this.$blockScrolling--;var f=c.scrollTop;c.scrollBy(0,e*d.lineHeight);null!=b&&c.scrollCursorIntoView(null,.5);c.animateScrolling(f)};this.selectPageDown=function(){this.$moveByPage(1,!0)};this.selectPageUp=function(){this.$moveByPage(-1,!0)};this.gotoPageDown=function(){this.$moveByPage(1,!1)};this.gotoPageUp=function(){this.$moveByPage(-1,
!1)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(a){this.renderer.scrollToRow(a)};this.scrollToLine=function(a,b,c,d){this.renderer.scrollToLine(a,b,c,d)};this.centerSelection=function(){var a=this.getSelectionRange();this.renderer.alignCursor({row:Math.floor(a.start.row+(a.end.row-a.start.row)/2),column:Math.floor(a.start.column+(a.end.column-a.start.column)/2)},.5)};this.getCursorPosition=function(){return this.selection.getCursor()};
this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();--this.$blockScrolling};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(a,b){this.selection.moveCursorTo(a,b)};this.moveCursorToPosition=function(a){this.selection.moveCursorToPosition(a)};this.jumpToMatching=
function(a,b){var c=this.getCursorPosition(),d=new r(this.session,c.row,c.column),e=d.getCurrentToken(),f=e||d.stepForward();if(f){var g,h=!1,k={},m=c.column-f.start,l,n={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(f.value.match(/[{}()\[\]]/g))for(;m<f.value.length&&!h;m++){if(n[f.value[m]])switch(l=n[f.value[m]]+"."+f.type.replace("rparen","lparen"),isNaN(k[l])&&(k[l]=0),f.value[m]){case "(":case "[":case "{":k[l]++;break;case ")":case "]":case "}":k[l]--,-1===k[l]&&(g="bracket",h=!0)}}else f&&
-1!==f.type.indexOf("tag-name")&&(isNaN(k[f.value])&&(k[f.value]=0),"<"===e.value?k[f.value]++:"</"===e.value&&k[f.value]--,-1===k[f.value]&&(g="tag",h=!0));h||(e=f,f=d.stepForward(),m=0)}while(f&&!h);if(g){var u,w;if("bracket"===g){if(u=this.session.getBracketRange(c),!u&&(u=new q(d.getCurrentTokenRow(),d.getCurrentTokenColumn()+m-1,d.getCurrentTokenRow(),d.getCurrentTokenColumn()+m-1),w=u.start,b||w.row===c.row&&2>Math.abs(w.column-c.column)))u=this.session.getBracketRange(w)}else if("tag"===g){if(!f||
-1===f.type.indexOf("tag-name"))return;g=f.value;u=new q(d.getCurrentTokenRow(),d.getCurrentTokenColumn()-2,d.getCurrentTokenRow(),d.getCurrentTokenColumn()-2);if(0===u.compare(c.row,c.column)){h=!1;do f=e,(e=d.stepBackward())&&(-1!==e.type.indexOf("tag-close")&&u.setEnd(d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1),f.value===g&&-1!==f.type.indexOf("tag-name")&&("<"===e.value?k[g]++:"</"===e.value&&k[g]--,0===k[g]&&(h=!0)));while(e&&!h)}f&&f.type.indexOf("tag-name")&&(w=u.start,w.row==c.row&&
2>Math.abs(w.column-c.column)&&(w=u.end))}(w=u&&u.cursor||w)&&(a?u&&b?this.selection.setRange(u):u&&u.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(w.row,w.column):this.selection.moveTo(w.row,w.column))}}};this.gotoLine=function(a,b,c){this.selection.clearSelection();this.session.unfold({row:a-1,column:b||0});this.$blockScrolling+=1;this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(a-1,b||0);--this.$blockScrolling;this.isRowFullyVisible(a-1)||
this.scrollToLine(a-1,!0,c)};this.navigateTo=function(a,b){this.selection.moveTo(a,b)};this.navigateUp=function(a){if(this.selection.isMultiLine()&&!this.selection.isBackwards())return a=this.selection.anchor.getPosition(),this.moveCursorToPosition(a);this.selection.clearSelection();this.selection.moveCursorBy(-a||-1,0)};this.navigateDown=function(a){if(this.selection.isMultiLine()&&this.selection.isBackwards())return a=this.selection.anchor.getPosition(),this.moveCursorToPosition(a);this.selection.clearSelection();
this.selection.moveCursorBy(a||1,0)};this.navigateLeft=function(a){if(this.selection.isEmpty())for(a=a||1;a--;)this.selection.moveCursorLeft();else a=this.getSelectionRange().start,this.moveCursorToPosition(a);this.clearSelection()};this.navigateRight=function(a){if(this.selection.isEmpty())for(a=a||1;a--;)this.selection.moveCursorRight();else a=this.getSelectionRange().end,this.moveCursorToPosition(a);this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};
this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(a,b){b&&this.$search.set(b);
var c=this.$search.find(this.session),d=0;return c?(this.$tryReplace(c,a)&&(d=1),null!==c&&(this.selection.setSelectionRange(c),this.renderer.scrollSelectionIntoView(c.start,c.end)),d):d};this.replaceAll=function(a,b){b&&this.$search.set(b);var c=this.$search.findAll(this.session),d=0;if(!c.length)return d;this.$blockScrolling+=1;var e=this.getSelectionRange();this.selection.moveTo(0,0);for(var f=c.length-1;0<=f;--f)this.$tryReplace(c[f],a)&&d++;return this.selection.setSelectionRange(e),--this.$blockScrolling,
d};this.$tryReplace=function(a,b){var c=this.session.getTextRange(a);return b=this.$search.replace(c,b),null!==b?(a.end=this.session.replace(a,b),a):null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(b,c,d){c||(c={});"string"==typeof b||b instanceof RegExp?c.needle=b:"object"==typeof b&&a.mixin(c,b);var e=this.selection.getRange();null==c.needle&&(b=this.session.getTextRange(e)||this.$search.$options.needle,b||(e=this.session.getWordRange(e.start.row,e.start.column),
b=this.session.getTextRange(e)),this.$search.set({needle:b}));this.$search.set(c);c.start||this.$search.set({start:e});b=this.$search.find(this.session);if(c.preventScroll)return b;if(b)return this.revealRange(b,d),b;c.backwards?e.start=e.end:e.end=e.start;this.selection.setRange(e)};this.findNext=function(a,b){this.find({skipCurrent:!0,backwards:!1},a,b)};this.findPrevious=function(a,b){this.find(a,{skipCurrent:!0,backwards:!0},b)};this.revealRange=function(a,b){this.$blockScrolling+=1;this.session.unfold(a);
this.selection.setSelectionRange(a);--this.$blockScrolling;var c=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(a.start,a.end,.5);!1!==b&&this.renderer.animateScrolling(c)};this.undo=function(){this.$blockScrolling++;this.session.getUndoManager().undo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.redo=function(){this.$blockScrolling++;this.session.getUndoManager().redo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.renderer.destroy();
this._signal("destroy",this);this.session&&this.session.destroy()};this.setAutoScrollEditorIntoView=function(a){if(a){var b,c=this,d=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var e=this.$scrollAnchor;e.style.cssText="position:absolute";this.container.insertBefore(e,this.container.firstChild);var f=this.on("changeSelection",function(){d=!0}),g=this.renderer.on("beforeRender",function(){d&&(b=c.renderer.container.getBoundingClientRect())}),h=this.renderer.on("afterRender",
function(){if(d&&b&&(c.isFocused()||c.searchBox&&c.searchBox.isFocused())){var a=c.renderer,f=a.$cursorLayer.$pixelPos,a=a.layerConfig,g=f.top-a.offset;0<=f.top&&0>g+b.top?d=!0:f.top<a.height&&f.top+b.top+a.lineHeight>window.innerHeight?d=!1:d=null;null!=d&&(e.style.top=g+"px",e.style.left=f.left+"px",e.style.height=a.lineHeight+"px",e.scrollIntoView(d));d=b=null}});this.setAutoScrollEditorIntoView=function(a){a||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",f),this.renderer.off("afterRender",
h),this.renderer.off("beforeRender",g))}}};this.$resetCursorStyle=function(){var a=this.$cursorStyle||"ace",b=this.renderer.$cursorLayer;b&&(b.setSmoothBlinking(/smooth/.test(a)),b.isBlinking=!this.$readOnly&&"wide"!=a,g.setCssClass(b.element,"ace_slim-cursors",/slim/.test(a)))}}).call(A.prototype);B.defineOptions(A.prototype,"editor",{selectionStyle:{set:function(a){this.onSelectionChange();this._signal("changeSelectionStyle",{data:a})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},
initialValue:!0},highlightSelectedWord:{set:function(a){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(a){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(a){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(a){this.setAutoScrollEditorIntoView(a)}},keyboardHandler:{set:function(a){this.setKeyboardHandler(a)},
get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",
scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});n.Editor=A});
define("ace/undomanager",["require","exports","module"],function(b,n,t){b=function(){this.reset()};(function(){function a(a){return{action:a.action,start:a.start,end:a.end,lines:1==a.lines.length?null:a.lines,text:1==a.lines.length?a.lines[0]:null}}function b(a){return{action:a.action,start:a.start,end:a.end,lines:a.lines||[a.text]}}function e(a,b){for(var c=Array(a.length),e=0;e<a.length;e++){for(var f=a[e],d={group:f.group,deltas:Array(f.length)},g=0;g<f.deltas.length;g++)d.deltas[g]=b(f.deltas[g]);
c[e]=d}return c}this.execute=function(a){var b=a.args[0];this.$doc=a.args[1];a.merge&&this.hasUndo()&&(this.dirtyCounter--,b=this.$undoStack.pop().concat(b));this.$undoStack.push(b);this.$redoStack=[];0>this.dirtyCounter&&(this.dirtyCounter=NaN);this.dirtyCounter++};this.undo=function(a){var b=this.$undoStack.pop(),e=null;return b&&(e=this.$doc.undoChanges(b,a),this.$redoStack.push(b),this.dirtyCounter--),e};this.redo=function(a){var b=this.$redoStack.pop(),e=null;return b&&(e=this.$doc.redoChanges(this.$deserializeDeltas(b),
a),this.$undoStack.push(b),this.dirtyCounter++),e};this.reset=function(){this.$undoStack=[];this.$redoStack=[];this.dirtyCounter=0};this.hasUndo=function(){return 0<this.$undoStack.length};this.hasRedo=function(){return 0<this.$redoStack.length};this.markClean=function(){this.dirtyCounter=0};this.isClean=function(){return 0===this.dirtyCounter};this.$serializeDeltas=function(b){return e(b,a)};this.$deserializeDeltas=function(a){return e(a,b)}}).call(b.prototype);n.UndoManager=b});
define("ace/layer/gutter","require exports module ace/lib/dom ace/lib/oop ace/lib/lang ace/lib/event_emitter".split(" "),function(b,n,t){var a=b("../lib/dom"),g=b("../lib/oop"),e=b("../lib/lang"),f=b("../lib/event_emitter").EventEmitter;b=function(b){this.element=a.createElement("div");this.element.className="ace_layer ace_gutter-layer";b.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);
this.$cells=[]};(function(){g.implement(this,f);this.setSession=function(a){this.session&&this.session.removeEventListener("change",this.$updateAnnotations);(this.session=a)&&a.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(a,b){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(a,b)};this.removeGutterDecoration=function(a,b){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration");
this.session.removeGutterDecoration(a,b)};this.setAnnotations=function(a){this.$annotations=[];for(var b=0;b<a.length;b++){var c=a[b],f=c.row,d=this.$annotations[f];d||(d=this.$annotations[f]={text:[]});f=(f=c.text)?e.escapeHTML(f):c.html||"";-1===d.text.indexOf(f)&&d.text.push(f);c=c.type;"error"==c?d.className=" ace_error":"warning"==c&&" ace_error"!=d.className?d.className=" ace_warning":"info"==c&&!d.className&&(d.className=" ace_info")}};this.$updateAnnotations=function(a){if(this.$annotations.length){var b=
a.start.row,c=a.end.row-b;0!==c&&("remove"==a.action?this.$annotations.splice(b,c+1,null):(a=Array(c+1),a.unshift(b,1),this.$annotations.splice.apply(this.$annotations,a)))}};this.update=function(b){for(var c=this.session,e=b.firstRow,f=Math.min(b.lastRow+b.gutterOffset,c.getLength()-1),d=c.getNextFoldLine(e),g=d?d.start.row:Infinity,q=this.$showFoldWidgets&&c.foldWidgets,n=c.$breakpoints,z=c.$decorations,u=c.$firstLineNumber,B=0,r=c.gutterRenderer||this.$renderer,t=-1,v=e;;){v>g&&(v=d.end.row+1,
d=c.getNextFoldLine(v,d),g=d?d.start.row:Infinity);if(v>f){for(;this.$cells.length>t+1;)e=this.$cells.pop(),this.element.removeChild(e.element);break}(e=this.$cells[++t])||(e={element:null,textNode:null,foldWidget:null},e.element=a.createElement("div"),e.textNode=document.createTextNode(""),e.element.appendChild(e.textNode),this.element.appendChild(e.element),this.$cells[t]=e);B="ace_gutter-cell ";n[v]&&(B+=n[v]);z[v]&&(B+=z[v]);this.$annotations[v]&&(B+=this.$annotations[v].className);e.element.className!=
B&&(e.element.className=B);B=c.getRowLength(v)*b.lineHeight+"px";B!=e.element.style.height&&(e.element.style.height=B);if(q){var C=q[v];null==C&&(C=q[v]=c.getFoldWidget(v))}C?(e.foldWidget||(e.foldWidget=a.createElement("span"),e.element.appendChild(e.foldWidget)),B="ace_fold-widget ace_"+C,"start"==C&&v==g&&v<d.end.row?B+=" ace_closed":B+=" ace_open",e.foldWidget.className!=B&&(e.foldWidget.className=B),B=b.lineHeight+"px",e.foldWidget.style.height!=B&&(e.foldWidget.style.height=B)):e.foldWidget&&
(e.element.removeChild(e.foldWidget),e.foldWidget=null);var G=B=r?r.getText(c,v):v+u;G!==e.textNode.data&&(e.textNode.data=G);v++}this.element.style.height=b.minHeight+"px";if(this.$fixedWidth||c.$useWrapMode)B=c.getLength()+u;b=r?r.getWidth(c,B,b):B.toString().length*b.characterWidth;c=this.$padding||this.$computePadding();b+=c.left+c.right;b!==this.gutterWidth&&!isNaN(b)&&(this.gutterWidth=b,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",b))};this.$fixedWidth=
!1;this.$showLineNumbers=!0;this.$renderer="";this.setShowLineNumbers=function(a){this.$renderer=!a&&{getWidth:function(){return""},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=!0;this.setShowFoldWidgets=function(b){b?a.addCssClass(this.element,"ace_folding-enabled"):a.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=b;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};
this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var b=a.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(b.paddingLeft)+1||0,this.$padding.right=parseInt(b.paddingRight)||0,this.$padding};this.getRegion=function(a){var b=this.$padding||this.$computePadding(),c=this.element.getBoundingClientRect();if(a.x<b.left+c.left)return"markers";if(this.$showFoldWidgets&&a.x>c.right-b.right)return"foldWidgets"}}).call(b.prototype);n.Gutter=
b});
define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(b,n,t){var a=b("../range").Range,g=b("../lib/dom");b=function(a){this.element=g.createElement("div");this.element.className="ace_layer ace_marker-layer";a.appendChild(this.element)};(function(){this.$padding=0;this.setPadding=function(a){this.$padding=a};this.setSession=function(a){this.session=a};this.setMarkers=function(a){this.markers=a};this.update=function(a){if(a){this.config=a;var b=[],c;for(c in this.markers){var e=this.markers[c];
if(e.range){var g=e.range.clipRows(a.firstRow,a.lastRow);if(!g.isEmpty())if(g=g.toScreenRange(this.session),e.renderer){var m=this.$getTop(g.start.row,a),d=this.$padding+(this.session.$bidiHandler.isBidiRow(g.start.row)?this.session.$bidiHandler.getPosLeft(g.start.column):g.start.column*a.characterWidth);e.renderer(b,g,d,m,a)}else"fullLine"==e.type?this.drawFullLineMarker(b,g,e.clazz,a):"screenLine"==e.type?this.drawScreenLineMarker(b,g,e.clazz,a):g.isMultiLine()?"text"==e.type?this.drawTextMarker(b,
g,e.clazz,a):this.drawMultiLineMarker(b,g,e.clazz,a):this.session.$bidiHandler.isBidiRow(g.start.row)?this.drawBidiSingleLineMarker(b,g,e.clazz+" ace_start ace_br15",a):this.drawSingleLineMarker(b,g,e.clazz+" ace_start ace_br15",a)}else e.update(b,this,this.session,a)}this.element.innerHTML=b.join("")}};this.$getTop=function(a,b){return(a-b.firstRowScreen)*b.lineHeight};this.drawTextMarker=function(b,f,c,g,k){for(var e=this.session,d=f.start.row,h=f.end.row,q=d,n,z=0,u=e.getScreenLastRowColumn(q),
B=new a(q,f.start.column,q,z);q<=h;q++)B.start.row=B.end.row=q,B.start.column=q==d?f.start.column:e.getRowWrapIndent(q),B.end.column=u,n=z,z=u,u=q+1<h?e.getScreenLastRowColumn(q+1):q==h?0:f.end.column,n=c+(q==d?" ace_start":"")+" ace_br"+((q==d||q==d+1&&f.start.column?1:0)|(n<z?2:0)|(z>u?4:0)|(q==h?8:0)),this.session.$bidiHandler.isBidiRow(q)?this.drawBidiSingleLineMarker(b,B,n,g,q==h?0:1,k):this.drawSingleLineMarker(b,B,n,g,q==h?0:1,k)};this.drawMultiLineMarker=function(a,b,c,g,k){var e=this.$padding,
d,f,h;k=k||"";this.session.$bidiHandler.isBidiRow(b.start.row)?(d=b.clone(),d.end.row=d.start.row,d.end.column=this.session.getLine(d.start.row).length,this.drawBidiSingleLineMarker(a,d,c+" ace_br1 ace_start",g,null,k)):(d=g.lineHeight,f=this.$getTop(b.start.row,g),h=e+b.start.column*g.characterWidth,a.push("<div class='",c," ace_br1 ace_start' style='","height:",d,"px;","right:0;","top:",f,"px;","left:",h,"px;",k,"'></div>"));this.session.$bidiHandler.isBidiRow(b.end.row)?(d=b.clone(),d.start.row=
d.end.row,d.start.column=0,this.drawBidiSingleLineMarker(a,d,c+" ace_br12",g,null,k)):(h=b.end.column*g.characterWidth,d=g.lineHeight,f=this.$getTop(b.end.row,g),a.push("<div class='",c," ace_br12' style='","height:",d,"px;","width:",h,"px;","top:",f,"px;","left:",e,"px;",k,"'></div>"));d=(b.end.row-b.start.row-1)*g.lineHeight;0>=d||(f=this.$getTop(b.start.row+1,g),b=(b.start.column?1:0)|(b.end.column?0:8),a.push("<div class='",c,b?" ace_br"+b:"","' style='","height:",d,"px;","right:0;","top:",f,
"px;","left:",e,"px;",k,"'></div>"))};this.drawSingleLineMarker=function(a,b,c,g,k,m){var d=g.lineHeight;k=(b.end.column+(k||0)-b.start.column)*g.characterWidth;var e=this.$getTop(b.start.row,g);a.push("<div class='",c,"' style='","height:",d,"px;","width:",k,"px;","top:",e,"px;","left:",this.$padding+b.start.column*g.characterWidth,"px;",m||"","'></div>")};this.drawBidiSingleLineMarker=function(a,b,c,g,k,m){var d=g.lineHeight,e=this.$getTop(b.start.row,g),f=this.$padding;this.session.$bidiHandler.getSelections(b.start.column,
b.end.column).forEach(function(b){a.push("<div class='",c,"' style='","height:",d,"px;","width:",b.width+(k||0),"px;","top:",e,"px;","left:",f+b.left,"px;",m||"","'></div>")})};this.drawFullLineMarker=function(a,b,c,g,k){var e=this.$getTop(b.start.row,g),d=g.lineHeight;b.start.row!=b.end.row&&(d+=this.$getTop(b.end.row,g)-e);a.push("<div class='",c,"' style='","height:",d,"px;","top:",e,"px;","left:0;right:0;",k||"","'></div>")};this.drawScreenLineMarker=function(a,b,c,g,k){b=this.$getTop(b.start.row,
g);a.push("<div class='",c,"' style='","height:",g.lineHeight,"px;","top:",b,"px;","left:0;right:0;",k||"","'></div>")}}).call(b.prototype);n.Marker=b});
define("ace/layer/text","require exports module ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/lib/event_emitter".split(" "),function(b,n,t){var a=b("../lib/oop"),g=b("../lib/dom"),e=b("../lib/lang");b("../lib/useragent");var f=b("../lib/event_emitter").EventEmitter;b=function(a){this.element=g.createElement("div");this.element.className="ace_layer ace_text-layer";a.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){a.implement(this,f);this.EOF_CHAR=
"\u00b6";this.EOL_CHAR_LF="\u00ac";this.EOL_CHAR_CRLF="\u00a4";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="\u2014";this.SPACE_CHAR="\u00b7";this.$padding=0;this.$updateEolChar=function(){var a="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=a)return this.EOL_CHAR=a,!0};this.setPadding=function(a){this.$padding=a;this.element.style.padding="0 "+a+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=
function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(a){this.$fontMetrics=a;this.$fontMetrics.on("changeCharacterSize",function(a){this._signal("changeCharacterSize",a)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(a){(this.session=a)&&this.$computeTabString()};this.showInvisibles=
!1;this.setShowInvisibles=function(a){return this.showInvisibles==a?!1:(this.showInvisibles=a,this.$computeTabString(),!0)};this.displayIndentGuides=!0;this.setDisplayIndentGuides=function(a){return this.displayIndentGuides==a?!1:(this.displayIndentGuides=a,this.$computeTabString(),!0)};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var a=this.session.getTabSize();this.tabSize=a;for(var b=this.$tabStrings=[0],f=1;f<a+1;f++)this.showInvisibles?b.push("<span class='ace_invisible ace_invisible_tab'>"+
e.stringRepeat(this.TAB_CHAR,f)+"</span>"):b.push(e.stringRepeat(" ",f));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;a="ace_indent-guide";f=b="";if(this.showInvisibles)var a=a+" ace_invisible",b=" ace_invisible_space",f=" ace_invisible_tab",g=e.stringRepeat(this.SPACE_CHAR,this.tabSize),d=e.stringRepeat(this.TAB_CHAR,this.tabSize);else d=g=e.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+a+b+"'>"+g+"</span>";this.$tabStrings["\t"]="<span class='"+a+f+
"'>"+d+"</span>"}};this.updateLines=function(a,b,e){this.config.lastRow==a.lastRow&&this.config.firstRow==a.firstRow||this.scrollLines(a);this.config=a;var c=Math.max(b,a.firstRow);e=Math.min(e,a.lastRow);b=this.element.childNodes;for(var d=0,f=a.firstRow;f<c;f++){var g=this.session.getFoldLine(f);if(g){if(g.containsRow(c)){c=g.start.row;break}f=g.end.row}d++}f=c;for(c=(g=this.session.getNextFoldLine(f))?g.start.row:Infinity;;){f>c&&(f=g.end.row+1,g=this.session.getNextFoldLine(f,g),c=g?g.start.row:
Infinity);if(f>e)break;var h=b[d++];if(h){var k=[];this.$renderLine(k,f,!this.$useLineGroups(),f==c?g:!1);h.style.height=a.lineHeight*this.session.getRowLength(f)+"px";h.innerHTML=k.join("")}f++}};this.scrollLines=function(a){var b=this.config;this.config=a;if(!b||b.lastRow<a.firstRow||a.lastRow<b.firstRow)return this.update(a);var c=this.element;if(b.firstRow<a.firstRow)for(var e=this.session.getFoldedRowCount(b.firstRow,a.firstRow-1);0<e;e--)c.removeChild(c.firstChild);if(b.lastRow>a.lastRow)for(e=
this.session.getFoldedRowCount(a.lastRow+1,b.lastRow);0<e;e--)c.removeChild(c.lastChild);a.firstRow<b.firstRow&&(e=this.$renderLinesFragment(a,a.firstRow,b.firstRow-1),c.firstChild?c.insertBefore(e,c.firstChild):c.appendChild(e));a.lastRow>b.lastRow&&(e=this.$renderLinesFragment(a,b.lastRow+1,a.lastRow),c.appendChild(e))};this.$renderLinesFragment=function(a,b,e){for(var c=this.element.ownerDocument.createDocumentFragment(),d=this.session.getNextFoldLine(b),f=d?d.start.row:Infinity;;){b>f&&(b=d.end.row+
1,d=this.session.getNextFoldLine(b,d),f=d?d.start.row:Infinity);if(b>e)break;var h=g.createElement("div"),k=[];this.$renderLine(k,b,!1,b==f?d:!1);h.innerHTML=k.join("");if(this.$useLineGroups())h.className="ace_line_group",c.appendChild(h),h.style.height=a.lineHeight*this.session.getRowLength(b)+"px";else for(;h.firstChild;)c.appendChild(h.firstChild);b++}return c};this.update=function(a){this.config=a;for(var b=[],c=a.lastRow,e=a.firstRow,d=this.session.getNextFoldLine(e),f=d?d.start.row:Infinity;;){e>
f&&(e=d.end.row+1,d=this.session.getNextFoldLine(e,d),f=d?d.start.row:Infinity);if(e>c)break;this.$useLineGroups()&&b.push("<div class='ace_line_group' style='height:",a.lineHeight*this.session.getRowLength(e),"px'>");this.$renderLine(b,e,!1,e==f?d:!1);this.$useLineGroups()&&b.push("</div>");e++}this.element.innerHTML=b.join("")};this.$textToken={text:!0,rparen:!0,lparen:!0};this.$renderToken=function(a,b,f,g){var c=this,h=g.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
function(a,d,f,g,h){return d?c.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+e.stringRepeat(c.SPACE_CHAR,a.length)+"</span>":a:"&"==a?"&#38;":"<"==a?"&#60;":">"==a?"&#62;":"\t"==a?(a=c.session.getScreenTabSize(b+g),b+=a-1,c.$tabStrings[a]):"\u3000"==a?(a=c.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",d=c.showInvisibles?c.SPACE_CHAR:"",b+=1,"<span class='"+a+"' style='width:"+2*c.config.characterWidth+"px'>"+d+"</span>"):f?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+
c.SPACE_CHAR+"</span>":(b+=1,"<span class='ace_cjk' style='width:"+2*c.config.characterWidth+"px'>"+a+"</span>")});if(this.$textToken[f.type])a.push(h);else{var k="ace_"+f.type.replace(/\./g," ace_"),m="";"fold"==f.type&&(m=" style='width:"+f.value.length*this.config.characterWidth+"px;' ");a.push("<span class='",k,"'",m,">",h,"</span>")}return b+g.length};this.renderIndentGuide=function(a,b,f){var c=b.search(this.$indentGuideRe);return 0>=c||c>=f?b:" "==b[0]?(c-=c%this.tabSize,a.push(e.stringRepeat(this.$tabStrings[" "],
c/this.tabSize)),b.substr(c)):"\t"==b[0]?(a.push(e.stringRepeat(this.$tabStrings["\t"],c)),b.substr(c)):b};this.$renderWrappedLine=function(a,b,f,g){for(var c=0,h=0,k=f[0],m=0,n=0;n<b.length;n++){var u=b[n],B=u.value;if(0==n&&this.displayIndentGuides){c=B.length;B=this.renderIndentGuide(a,B,k);if(!B)continue;c-=B.length}if(c+B.length<k)m=this.$renderToken(a,m,u,B),c+=B.length;else{for(;c+B.length>=k;)this.$renderToken(a,m,u,B.substring(0,k-c)),B=B.substring(k-c),c=k,g||a.push("</div>","<div class='ace_line' style='height:",
this.config.lineHeight,"px'>"),a.push(e.stringRepeat("\u00a0",f.indent)),h++,m=0,k=f[h]||Number.MAX_VALUE;0!=B.length&&(c+=B.length,m=this.$renderToken(a,m,u,B))}}};this.$renderSimpleLine=function(a,b){var c=0,e=b[0],d=e.value;this.displayIndentGuides&&(d=this.renderIndentGuide(a,d));d&&(c=this.$renderToken(a,c,e,d));for(var f=1;f<b.length;f++)e=b[f],d=e.value,c=this.$renderToken(a,c,e,d)};this.$renderLine=function(a,b,e,f){!f&&0!=f&&(f=this.session.getFoldLine(b));var c=f?this.$getFoldLineTokens(b,
f):this.session.getTokens(b);e||a.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(b)),"px'>");if(c.length){var g=this.session.getRowSplitData(b);g&&g.length?this.$renderWrappedLine(a,c,g,e):this.$renderSimpleLine(a,c)}this.showInvisibles&&(f&&(b=f.end.row),a.push("<span class='ace_invisible ace_invisible_eol'>",b==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>"));e||a.push("</div>")};this.$getFoldLineTokens=function(a,
b){var c=this.session,e=[],d=c.getTokens(a);return b.walk(function(a,b,f,g,h){if(null!=a)e.push({type:"fold",value:a});else if(h&&(d=c.getTokens(b)),d.length)a:{a=d;for(h=b=0;h+a[b].value.length<g;)if(h+=a[b].value.length,b++,b==a.length)break a;if(h!=g){var k=a[b].value.substring(g-h);k.length>f-g&&(k=k.substring(0,f-g));e.push({type:a[b].type,value:k});h=g+k.length;b+=1}for(;h<f&&b<a.length;)k=a[b].value,k.length+h>f?e.push({type:a[b].type,value:k.substring(0,f-h)}):e.push(a[b]),h+=k.length,b+=
1}},b.end.row,this.session.getLine(b.end.row).length),e};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode);delete this.$measureNode}}).call(b.prototype);n.Text=b});
define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(b,n,t){var a=b("../lib/dom"),g;b=function(b){this.element=a.createElement("div");this.element.className="ace_layer ace_cursor-layer";b.appendChild(this.element);void 0===g&&(g=!("opacity"in this.element.style));this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1E3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();a.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=(g?this.$updateVisibility:
this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(a){for(var b=this.cursors,c=b.length;c--;)b[c].style.visibility=a?"":"hidden"};this.$updateOpacity=function(a){for(var b=this.cursors,c=b.length;c--;)b[c].style.opacity=a?"":"0"};this.$padding=0;this.setPadding=function(a){this.$padding=a};this.setSession=function(a){this.session=a};this.setBlinking=function(a){a!=this.isBlinking&&(this.isBlinking=a,this.restartTimer())};this.setBlinkInterval=function(a){a!=this.blinkInterval&&
(this.blinkInterval=a,this.restartTimer())};this.setSmoothBlinking=function(b){b!=this.smoothBlinking&&!g&&(this.smoothBlinking=b,a.setCssClass(this.element,"ace_smooth-blinking",b),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())};this.addCursor=function(){var b=a.createElement("div");return b.className="ace_cursor",this.element.appendChild(b),this.cursors.push(b),b};this.removeCursor=function(){if(1<this.cursors.length){var a=this.cursors.pop();return a.parentNode.removeChild(a),
a}};this.hideCursor=function(){this.isVisible=!1;a.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=!0;a.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var b=this.$updateCursors;clearInterval(this.intervalId);clearTimeout(this.timeoutId);this.smoothBlinking&&a.removeCssClass(this.element,"ace_smooth-blinking");b(!0);if(this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&
setTimeout(function(){a.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var f=function(){this.timeoutId=setTimeout(function(){b(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){b(!0);f()},this.blinkInterval);f()}};this.getPixelPosition=function(a,b){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(a);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,
a.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),top:(c.row-(b?this.config.firstRowScreen:0))*this.config.lineHeight}};this.update=function(a){this.config=a;var b=this.session.$selectionMarkers,c,e=0;if(void 0===b||0===b.length)b=[{cursor:null}];c=0;for(var g=b.length;c<g;c++){var m=this.getPixelPosition(b[c].cursor,!0);if(!((m.top>a.height+a.offset||0>m.top)&&1<c)){var d=(this.cursors[e++]||this.addCursor()).style;this.drawCursor?this.drawCursor(d,m,a,b[c],
this.session):(d.left=m.left+"px",d.top=m.top+"px",d.width=a.characterWidth+"px",d.height=a.lineHeight+"px")}}for(;this.cursors.length>e;)this.removeCursor();a=this.session.getOverwrite();this.$setOverwrite(a);this.$pixelPos=m;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(b){b!=this.overwrite&&(this.overwrite=b,b?a.addCssClass(this.element,"ace_overwrite-cursors"):a.removeCssClass(this.element,"ace_overwrite-cursors"))};this.destroy=function(){clearInterval(this.intervalId);
clearTimeout(this.timeoutId)}}).call(b.prototype);n.Cursor=b});
define("ace/scrollbar","require exports module ace/lib/oop ace/lib/dom ace/lib/event ace/lib/event_emitter".split(" "),function(b,n,t){var a=b("./lib/oop"),g=b("./lib/dom"),e=b("./lib/event"),f=b("./lib/event_emitter").EventEmitter,c=function(a){this.element=g.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=g.createElement("div");this.inner.className="ace_scrollbar-inner";this.element.appendChild(this.inner);a.appendChild(this.element);this.setVisible(!1);
this.skipEvent=!1;e.addListener(this.element,"scroll",this.onScroll.bind(this));e.addListener(this.element,"mousedown",e.preventDefault)};(function(){a.implement(this,f);this.setVisible=function(a){this.element.style.display=a?"":"none";this.isVisible=a;this.coeff=1}}).call(c.prototype);b=function(a,b){c.call(this,a);this.scrollHeight=this.scrollTop=0;b.$scrollbarWidth=this.width=g.scrollbarWidth(a.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px";this.$minWidth=
0};a.inherits(b,c);(function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(1!=this.coeff){var a=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-a)/(this.coeff-a)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1};this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)};this.setHeight=function(a){this.element.style.height=a+"px"};this.setInnerHeight=this.setScrollHeight=
function(a){this.scrollHeight=a;32768<a?(this.coeff=32768/a,a=32768):1!=this.coeff&&(this.coeff=1);this.inner.style.height=a+"px"};this.setScrollTop=function(a){this.scrollTop!=a&&(this.skipEvent=!0,this.scrollTop=a,this.element.scrollTop=a*this.coeff)}}).call(b.prototype);t=function(a,b){c.call(this,a);this.scrollLeft=0;this.height=b.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};a.inherits(t,c);(function(){this.classSuffix="-h";this.onScroll=function(){this.skipEvent||
(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft}));this.skipEvent=!1};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(a){this.element.style.width=a+"px"};this.setInnerWidth=function(a){this.inner.style.width=a+"px"};this.setScrollWidth=function(a){this.inner.style.width=a+"px"};this.setScrollLeft=function(a){this.scrollLeft!=a&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=a)}}).call(t.prototype);n.ScrollBar=b;n.ScrollBarV=
b;n.ScrollBarH=t;n.VScrollBar=b;n.HScrollBar=t});define("ace/renderloop",["require","exports","module","ace/lib/event"],function(b,n,t){var a=b("./lib/event");b=function(a,b){this.onRender=a;this.pending=!1;this.changes=0;this.window=b||window};(function(){this.schedule=function(b){this.changes|=b;if(!this.pending&&this.changes){this.pending=!0;var e=this;a.nextFrame(function(){e.pending=!1;for(var a;a=e.changes;)e.changes=0,e.onRender(a)},this.window)}}}).call(b.prototype);n.RenderLoop=b});
define("ace/layer/font_metrics","require exports module ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/lib/event_emitter".split(" "),function(b,n,t){var a=b("../lib/oop"),g=b("../lib/dom"),e=b("../lib/lang"),f=b("../lib/useragent"),c=b("../lib/event_emitter").EventEmitter,h=0;b=n.FontMetrics=function(a){this.el=g.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=g.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=g.createElement("div");
this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);a.appendChild(this.el);h||this.$testFractionalRect();this.$measureNode.innerHTML=e.stringRepeat("X",h);this.$characterSize={width:0,height:0};this.checkForSizeChanges()};(function(){a.implement(this,c);this.$characterSize={width:0,height:0};this.$testFractionalRect=function(){var a=g.createElement("div");this.$setMeasureNodeStyles(a.style);a.style.width="0.2px";document.documentElement.appendChild(a);
var b=a.getBoundingClientRect().width;0<b&&1>b?h=50:h=100;a.parentNode.removeChild(a)};this.$setMeasureNodeStyles=function(a,b){a.width=a.height="auto";a.left=a.top="0px";a.visibility="hidden";a.position="absolute";a.whiteSpace="pre";8>f.isIE?a["font-family"]="inherit":a.font="inherit";a.overflow=b?"hidden":"visible"};this.checkForSizeChanges=function(){var a=this.$measureSizes();if(a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)){this.$measureNode.style.fontWeight=
"bold";var b=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=a;this.charSizes=Object.create(null);this.allowBoldFonts=b&&b.width===a.width&&b.height===a.height;this._emit("changeCharacterSize",{data:a})}};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var a=this;return this.$pollSizeChangesTimer=setInterval(function(){a.checkForSizeChanges()},500)};this.setPolling=function(a){a?this.$pollSizeChanges():this.$pollSizeChangesTimer&&
(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)};this.$measureSizes=function(){if(50===h){var a=null;try{a=this.$measureNode.getBoundingClientRect()}catch(m){a={width:0,height:0}}a={height:a.height,width:a.width/h}}else a={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/h};return 0===a.width||0===a.height?null:a};this.$measureCharWidth=function(a){this.$main.innerHTML=e.stringRepeat(a,h);return this.$main.getBoundingClientRect().width/h};this.getCharacterWidth=
function(a){var b=this.charSizes[a];return void 0===b&&(b=this.charSizes[a]=this.$measureCharWidth(a)/this.$characterSize.width),b};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(b.prototype)});
define("ace/virtual_renderer","require exports module ace/lib/oop ace/lib/dom ace/config ace/lib/useragent ace/layer/gutter ace/layer/marker ace/layer/text ace/layer/cursor ace/scrollbar ace/scrollbar ace/renderloop ace/layer/font_metrics ace/lib/event_emitter".split(" "),function(b,n,t){var a=b("./lib/oop"),g=b("./lib/dom"),e=b("./config"),f=b("./lib/useragent"),c=b("./layer/gutter").Gutter,h=b("./layer/marker").Marker,k=b("./layer/text").Text,m=b("./layer/cursor").Cursor,d=b("./scrollbar").HScrollBar,
l=b("./scrollbar").VScrollBar,q=b("./renderloop").RenderLoop,w=b("./layer/font_metrics").FontMetrics,z=b("./lib/event_emitter").EventEmitter;g.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',
"ace_editor.css");b=function(a,b){var n=this;this.container=a||g.createElement("div");this.$keepTextAreaAtCursor=!f.isOldIE;g.addCssClass(this.container,"ace_editor");this.setTheme(b);this.$gutter=g.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden",!0);this.scroller=g.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=g.createElement("div");this.content.className=
"ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new c(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new h(this.content);this.canvas=(this.$textLayer=new k(this.content)).element;this.$markerFront=new h(this.content);this.$cursorLayer=new m(this.content);this.$vScroll=this.$horizScroll=!1;this.scrollBar=this.scrollBarV=new l(this.container,this);this.scrollBarH=new d(this.container,this);this.scrollBarV.addEventListener("scroll",
function(a){n.$scrollAnimation||n.session.setScrollTop(a.data-n.scrollMargin.top)});this.scrollBarH.addEventListener("scroll",function(a){n.$scrollAnimation||n.session.setScrollLeft(a.data-n.scrollMargin.left)});this.scrollLeft=this.scrollTop=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new w(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.addEventListener("changeCharacterSize",function(a){n.updateCharacterSize();n.onResize(!0,n.gutterWidth,n.$size.width,
n.$size.height);n._signal("changeCharacterSize",a)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$loop=new q(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();
this.setPadding(4);e.resetOptions(this);e._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;a.implement(this,z);this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",
!this.$allowBoldFonts));this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin()};this.setSession=function(a){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode);(this.session=a)&&this.scrollMargin.top&&0>=a.getScrollTop()&&a.setScrollTop(-this.scrollMargin.top);this.$cursorLayer.setSession(a);this.$markerBack.setSession(a);this.$markerFront.setSession(a);
this.$gutterLayer.setSession(a);this.$textLayer.setSession(a);a&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))};this.updateLines=function(a,b,c){void 0===b&&(b=Infinity);this.$changedLines?(this.$changedLines.firstRow>a&&(this.$changedLines.firstRow=
a),this.$changedLines.lastRow<b&&(this.$changedLines.lastRow=b)):this.$changedLines={firstRow:a,lastRow:b};if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(!c)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)};this.onChangeTabSize=
function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(a){a?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()};this.onResize=function(a,b,c,d){if(!(2<this.resizing)){0<
this.resizing?this.resizing++:this.resizing=a?1:0;var e=this.container;d||(d=e.clientHeight||e.scrollHeight);c||(c=e.clientWidth||e.scrollWidth);b=this.$updateCachedSize(a,b,c,d);if(!this.$size.scrollerHeight||!c&&!d)return this.resizing=0;a&&(this.$gutterLayer.$padding=null);a?this.$renderChanges(b|this.$changes,!0):this.$loop.schedule(b|this.$changes);this.resizing&&(this.resizing=0);this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}};this.$updateCachedSize=function(a,b,c,d){d-=this.$extraHeight||
0;var e=0,f=this.$size,g={width:f.width,height:f.height,scrollerHeight:f.scrollerHeight,scrollerWidth:f.scrollerWidth};d&&(a||f.height!=d)&&(f.height=d,e|=this.CHANGE_SIZE,f.scrollerHeight=f.height,this.$horizScroll&&(f.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",e|=this.CHANGE_SCROLL);c&&(a||f.width!=c)&&(e|=this.CHANGE_SIZE,f.width=c,null==b&&(b=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=b,this.scrollBarH.element.style.left=
this.scroller.style.left=b+"px",f.scrollerWidth=Math.max(0,c-b-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||a)&&(e|=this.CHANGE_FULL);return f.$dirty=!c||!d,e&&this._signal("resize",g),e};this.onGutterResize=function(){var a=this.$showGutter?this.$gutter.offsetWidth:0;a!=this.gutterWidth&&(this.$changes|=
this.$updateCachedSize(!0,a,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))};this.adjustWrapLimit=function(){return this.session.adjustWrapLimit(Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth),this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(a){this.setOption("animatedScroll",
a)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(a){this.setOption("showInvisibles",a);this.session.$bidiHandler.setShowInvisibles(a)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(a){this.setOption("displayIndentGuides",a)};this.setShowPrintMargin=function(a){this.setOption("showPrintMargin",a)};this.getShowPrintMargin=
function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(a){this.setOption("printMarginColumn",a)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(a){return this.setOption("showGutter",a)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(a){this.setOption("fadeFoldWidgets",a)};this.setHighlightGutterLine=
function(a){this.setOption("highlightGutterLine",a)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updateGutterLineHighlight=function(){var a=this.$cursorLayer.$pixelPos,b=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var c=this.session.selection.getCursor();c.column=0;a=this.$cursorLayer.getPixelPosition(c,!0);b*=this.session.getRowLength(c.row)}this.$gutterLineHighlight.style.top=a.top-this.layerConfig.offset+"px";this.$gutterLineHighlight.style.height=
b+"px"};this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var a=g.createElement("div");a.className="ace_layer ace_print-margin-layer";this.$printMarginEl=g.createElement("div");this.$printMarginEl.className="ace_print-margin";a.appendChild(this.$printMarginEl);this.content.insertBefore(a,this.content.firstChild)}a=this.$printMarginEl.style;a.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px";a.visibility=this.$showPrintMargin?
"visible":"hidden";this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var a=this.layerConfig,b=this.$cursorLayer.$pixelPos.top,c=this.$cursorLayer.$pixelPos.left,b=b-a.offset,d=this.textarea.style,e=this.lineHeight;if(0>b||b>a.height-e)d.top=d.left=
"0";else{a=this.characterWidth;if(this.$composition)var f=this.textarea.value.replace(/^\x01+/,""),a=a*(this.session.$getStringScreenWidth(f)[0]+2),e=e+2;c-=this.scrollLeft;c>this.$size.scrollerWidth-a&&(c=this.$size.scrollerWidth-a);c+=this.gutterWidth;d.height=e+"px";d.width=a+"px";d.left=Math.min(c,this.$size.scrollerWidth-a)+"px";d.top=Math.min(b,this.$size.height-e)+"px"}}};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+
(0===this.layerConfig.offset?0:1)};this.getLastFullyVisibleRow=function(){var a=this.layerConfig,b=a.lastRow;return this.session.documentToScreenRow(b,0)*a.lineHeight-this.session.getScrollTop()>a.height-a.lineHeight?b-1:b};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(a){this.$padding=a;this.$textLayer.setPadding(a);this.$cursorLayer.setPadding(a);this.$markerFront.setPadding(a);this.$markerBack.setPadding(a);this.$loop.schedule(this.CHANGE_FULL);
this.$updatePrintMargin()};this.setScrollMargin=function(a,b,c,d){var e=this.scrollMargin;e.top=a|0;e.bottom=b|0;e.right=d|0;e.left=c|0;e.v=e.top+e.bottom;e.h=e.left+e.right;e.top&&0>=this.scrollTop&&this.session&&this.session.setScrollTop(-e.top);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(a){this.setOption("hScrollBarAlwaysVisible",a)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};
this.setVScrollBarAlwaysVisible=function(a){this.setOption("vScrollBarAlwaysVisible",a)};this.$updateScrollBarV=function(){var a=this.layerConfig.maxHeight,b=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(a-=(b-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>a-b&&(a=this.scrollTop+b,this.scrollBarV.scrollTop=null));this.scrollBarV.setScrollHeight(a+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+
2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=!1;this.freeze=function(){this.$frozen=!0};this.unfreeze=function(){this.$frozen=!1};this.$renderChanges=function(a,b){this.$changes&&(a|=this.$changes,this.$changes=0);if(this.session&&this.container.offsetWidth&&!this.$frozen&&(a||b)){if(this.$size.$dirty)return this.$changes|=a,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges();this._signal("beforeRender");
this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var c=this.layerConfig;if(a&this.CHANGE_FULL||a&this.CHANGE_SIZE||a&this.CHANGE_TEXT||a&this.CHANGE_LINES||a&this.CHANGE_SCROLL||a&this.CHANGE_H_SCROLL)a|=this.$computeLayerConfig(),c.firstRow!=this.layerConfig.firstRow&&c.firstRowScreen==this.layerConfig.firstRowScreen&&(c=this.scrollTop+(c.firstRow-this.layerConfig.firstRow)*this.lineHeight,0<c&&(this.scrollTop=c,a|=this.CHANGE_SCROLL,a|=
this.$computeLayerConfig())),c=this.layerConfig,this.$updateScrollBarV(),a&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-c.offset+"px",this.content.style.marginTop=-c.offset+"px",this.content.style.width=c.width+2*this.$padding+"px",this.content.style.height=c.minHeight+"px";a&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=0>=this.scrollLeft?"ace_scroller":"ace_scroller ace_scroll-left");a&this.CHANGE_FULL?
(this.$textLayer.update(c),this.$showGutter&&this.$gutterLayer.update(c),this.$markerBack.update(c),this.$markerFront.update(c),this.$cursorLayer.update(c),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()):a&this.CHANGE_SCROLL?(a&this.CHANGE_TEXT||a&this.CHANGE_LINES?this.$textLayer.update(c):this.$textLayer.scrollLines(c),this.$showGutter&&this.$gutterLayer.update(c),this.$markerBack.update(c),this.$markerFront.update(c),this.$cursorLayer.update(c),this.$highlightGutterLine&&
this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor()):(a&this.CHANGE_TEXT?(this.$textLayer.update(c),this.$showGutter&&this.$gutterLayer.update(c)):a&this.CHANGE_LINES?(this.$updateLines()||a&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(c):(a&this.CHANGE_TEXT||a&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(c),a&this.CHANGE_CURSOR&&(this.$cursorLayer.update(c),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),
a&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(c),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(c));this._signal("afterRender")}else this.$changes|=a};this.$autosize=function(){var a=this.session.getScreenLength()*this.lineHeight,b=this.$maxLines*this.lineHeight,c=Math.min(b,Math.max((this.$minLines||1)*this.lineHeight,a))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(c+=this.scrollBarH.getHeight());this.$maxPixelHeight&&c>this.$maxPixelHeight&&
(c=this.$maxPixelHeight);a=a>b;if(c!=this.desiredHeight||this.$size.height!=this.desiredHeight||a!=this.$vScroll)a!=this.$vScroll&&(this.$vScroll=a,this.scrollBarV.setVisible(a)),a=this.container.clientWidth,this.container.style.height=c+"px",this.$updateCachedSize(!0,this.$gutterWidth,a,c),this.desiredHeight=c,this._signal("autosize")};this.$computeLayerConfig=function(){var a=this.session,b=this.$size,c=b.height<=2*this.lineHeight,d=this.session.getScreenLength()*this.lineHeight,e=this.$getLongestLine(),
f=!c&&(this.$hScrollBarAlwaysVisible||0>b.scrollerWidth-e-2*this.$padding),g=this.$horizScroll!==f;g&&(this.$horizScroll=f,this.scrollBarH.setVisible(f));var h=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();var f=this.scrollTop%this.lineHeight,k=b.scrollerHeight+this.lineHeight,m=!this.$maxLines&&this.$scrollPastEnd?(b.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0,d=d+m,l=this.scrollMargin;this.session.setScrollTop(Math.max(-l.top,Math.min(this.scrollTop,d-b.scrollerHeight+
l.bottom)));this.session.setScrollLeft(Math.max(-l.left,Math.min(this.scrollLeft,e+2*this.$padding-b.scrollerWidth+l.right)));m=!c&&(this.$vScrollBarAlwaysVisible||0>b.scrollerHeight-d+m||this.scrollTop>l.top);(c=h!==m)&&(this.$vScroll=m,this.scrollBarV.setVisible(m));var h=Math.max(0,Math.round((this.scrollTop-f)/this.lineHeight)),m=h+(Math.ceil(k/this.lineHeight)-1),q,l=this.lineHeight,h=a.screenToDocumentRow(h,0);(f=a.getFoldLine(h))&&(h=f.start.row);q=a.documentToScreenRow(h,0);f=a.getRowLength(h)*
l;m=Math.min(a.screenToDocumentRow(m,0),a.getLength()-1);k=b.scrollerHeight+a.getRowLength(m)*l+f;f=this.scrollTop-q*l;a=0;this.layerConfig.width!=e&&(a=this.CHANGE_H_SCROLL);if(g||c)a=this.$updateCachedSize(!0,this.gutterWidth,b.width,b.height),this._signal("scrollbarVisibilityChanged"),c&&(e=this.$getLongestLine());return this.layerConfig={width:e,padding:this.$padding,firstRow:h,firstRowScreen:q,lastRow:m,lineHeight:l,characterWidth:this.characterWidth,minHeight:k,maxHeight:d,offset:f,gutterOffset:l?
Math.max(0,Math.ceil((f+b.height-b.scrollerHeight)/l)):0,height:this.$size.scrollerHeight},a};this.$updateLines=function(){if(this.$changedLines){var a=this.$changedLines.firstRow,b=this.$changedLines.lastRow;this.$changedLines=null;var c=this.layerConfig;if(!(a>c.lastRow+1||b<c.firstRow))if(Infinity===b)this.$showGutter&&this.$gutterLayer.update(c),this.$textLayer.update(c);else return this.$textLayer.updateLines(c,a,b),!0}};this.$getLongestLine=function(){var a=this.session.getScreenWidth();return this.showInvisibles&&
!this.session.$useWrapMode&&(a+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(a*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(a,b){this.$gutterLayer.addGutterDecoration(a,b)};this.removeGutterDecoration=
function(a,b){this.$gutterLayer.removeGutterDecoration(a,b)};this.updateBreakpoints=function(a){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(a){this.$gutterLayer.setAnnotations(a);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(a,b,c){this.scrollCursorIntoView(a,
c);this.scrollCursorIntoView(b,c)};this.scrollCursorIntoView=function(a,b,c){if(0!==this.$size.scrollerHeight){var d=this.$cursorLayer.getPixelPosition(a);a=d.left;var d=d.top,e=c&&c.top||0;c=c&&c.bottom||0;var f=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;f+e>d?(b&&f+e>d+this.lineHeight&&(d-=b*this.$size.scrollerHeight),0===d&&(d=-this.scrollMargin.top),this.session.setScrollTop(d)):f+this.$size.scrollerHeight-c<d+this.lineHeight&&(b&&f+this.$size.scrollerHeight-c<d-this.lineHeight&&
(d+=b*this.$size.scrollerHeight),this.session.setScrollTop(d+this.lineHeight-this.$size.scrollerHeight));b=this.scrollLeft;b>a?(a<this.$padding+2*this.layerConfig.characterWidth&&(a=-this.scrollMargin.left),this.session.setScrollLeft(a)):b+this.$size.scrollerWidth<a+this.characterWidth?this.session.setScrollLeft(Math.round(a+this.characterWidth-this.$size.scrollerWidth)):b<=this.$padding&&a-b<this.characterWidth&&this.session.setScrollLeft(0)}};this.getScrollTop=function(){return this.session.getScrollTop()};
this.getScrollLeft=function(){return this.session.getScrollLeft()};this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(a){this.session.setScrollTop(a*this.lineHeight)};this.alignCursor=function(a,b){"number"==typeof a&&(a={row:a,column:0});var c=this.$cursorLayer.getPixelPosition(a).top-(this.$size.scrollerHeight-this.lineHeight)*
(b||0);return this.session.setScrollTop(c),c};this.STEPS=8;this.$calcSteps=function(a,b){var c,d=this.STEPS,e=[];for(c=0;c<d;++c)e.push((b-a)*(Math.pow(c/this.STEPS-1,3)+1)+a);return e};this.scrollToLine=function(a,b,c,d){a=this.$cursorLayer.getPixelPosition({row:a,column:0}).top;b&&(a-=this.$size.scrollerHeight/2);b=this.scrollTop;this.session.setScrollTop(a);!1!==c&&this.animateScrolling(b,d)};this.animateScrolling=function(a,b){var c=this.scrollTop;if(this.$animatedScroll){var d=this;if(a!=c){if(this.$scrollAnimation){var e=
this.$scrollAnimation.steps;if(e.length&&(a=e[0],a==c))return}var f=d.$calcSteps(a,c);this.$scrollAnimation={from:a,to:c,steps:f};clearInterval(this.$timer);d.session.setScrollTop(f.shift());d.session.$scrollTop=c;this.$timer=setInterval(function(){f.length?(d.session.setScrollTop(f.shift()),d.session.$scrollTop=c):null!=c?(d.session.$scrollTop=-1,d.session.setScrollTop(c),c=null):(d.$timer=clearInterval(d.$timer),d.$scrollAnimation=null,b&&b())},10)}}};this.scrollToY=function(a){this.scrollTop!==
a&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=a)};this.scrollToX=function(a){this.scrollLeft!==a&&(this.scrollLeft=a);this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(a,b){this.session.setScrollTop(b);this.session.setScrollLeft(b)};this.scrollBy=function(a,b){b&&this.session.setScrollTop(this.session.getScrollTop()+b);a&&this.session.setScrollLeft(this.session.getScrollLeft()+a)};this.isScrollableBy=function(a,b){if(0>b&&this.session.getScrollTop()>=1-this.scrollMargin.top||
0<b&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||0>a&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<a&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0};this.pixelToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=a+this.scrollLeft-c.left-this.$padding,e=d/this.characterWidth,f=Math.round(e);return{row:Math.floor((b+this.scrollTop-
c.top)/this.lineHeight),column:f,side:0<e-f?1:-1,offsetX:d}};this.screenToTextCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=a+this.scrollLeft-c.left-this.$padding;return this.session.screenToDocumentPosition((b+this.scrollTop-c.top)/this.lineHeight,Math.max(Math.round(d/this.characterWidth),0),d)};this.textToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=this.session.documentToScreenPosition(a,b),e=this.$padding+(this.session.$bidiHandler.isBidiRow(d.row,
a)?this.session.$bidiHandler.getPosLeft(d.column):Math.round(d.column*this.characterWidth));return{pageX:c.left+e-this.scrollLeft,pageY:c.top+d.row*this.lineHeight-this.scrollTop}};this.visualizeFocus=function(){g.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){g.removeCssClass(this.container,"ace_focus")};this.showComposition=function(a){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText});this.$keepTextAreaAtCursor=
!0;g.addCssClass(this.textarea,"ace_composition");this.textarea.style.cssText="";this.$moveTextAreaToCursor()};this.setCompositionText=function(a){this.$moveTextAreaToCursor()};this.hideComposition=function(){this.$composition&&(g.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)};this.setTheme=function(a,b){function c(c){if(d.$themeId!=a)return b&&b();if(!c||
!c.cssClass)throw Error("couldn't load module "+a+" or it didn't call define");g.importCssString(c.cssText,c.cssClass,d.container.ownerDocument);d.theme&&g.removeCssClass(d.container,d.theme.cssClass);var e="padding"in c?c.padding:"padding"in(d.theme||{})?4:d.$padding;d.$padding&&e!=d.$padding&&d.setPadding(e);d.$theme=c.cssClass;d.theme=c;g.addCssClass(d.container,c.cssClass);g.setCssClass(d.container,"ace_dark",c.isDark);d.$size&&(d.$size.width=0,d.$updateSizeAsync());d._dispatchEvent("themeLoaded",
{theme:c});b&&b()}var d=this;this.$themeId=a;d._dispatchEvent("themeChange",{theme:a});a&&"string"!=typeof a?c(a):e.loadModule(["theme",a||this.$options.theme.initialValue],c)};this.getTheme=function(){return this.$themeId};this.setStyle=function(a,b){g.setCssClass(this.container,a,!1!==b)};this.unsetStyle=function(a){g.removeCssClass(this.container,a)};this.setCursorStyle=function(a){this.scroller.style.cursor!=a&&(this.scroller.style.cursor=a)};this.setMouseCursor=function(a){this.scroller.style.cursor=
a};this.destroy=function(){this.$textLayer.destroy();this.$cursorLayer.destroy()}}).call(b.prototype);e.defineOptions(b.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(a){this.$textLayer.setShowInvisibles(a)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(a){"number"==typeof a&&
(this.$printMarginColumn=a);this.$showPrintMargin=!!a;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(a){this.$gutter.style.display=a?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(a){g.setCssClass(this.$gutter,"ace_fade-fold-widgets",a)},initialValue:!1},showFoldWidgets:{set:function(a){this.$gutterLayer.setShowFoldWidgets(a)},initialValue:!0},showLineNumbers:{set:function(a){this.$gutterLayer.setShowLineNumbers(a);
this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(a){this.$textLayer.setDisplayIndentGuides(a)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(a){this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=a?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()):(this.$gutterLineHighlight=g.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight))},
initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(a){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(a){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(a){"number"==typeof a&&(a+="px");this.container.style.fontSize=a;this.updateFontSize()},initialValue:12},fontFamily:{set:function(a){this.container.style.fontFamily=
a;this.updateFontSize()}},maxLines:{set:function(a){this.updateFull()}},minLines:{set:function(a){this.updateFull()}},maxPixelHeight:{set:function(a){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(a){a=+a||0;this.$scrollPastEnd!=a&&(this.$scrollPastEnd=a,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(a){this.$gutterLayer.$fixedWidth=!!a;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(a){this.setTheme(a)},get:function(){return this.$themeId||
this.theme},initialValue:"./theme/textmate",handlesSet:!0}});n.VirtualRenderer=b});
define("ace/worker/worker_client","require exports module ace/lib/oop ace/lib/net ace/lib/event_emitter ace/config".split(" "),function(b,n,t){function a(a){var b;a="importScripts('"+e.qualifyURL(a)+"');";try{b=new Blob([a],{type:"application/javascript"})}catch(d){b=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder),b=(b.append(a),b.getBlob("application/javascript"))}b=(window.URL||window.webkitURL).createObjectURL(b);return new Worker(b)}var g=b("../lib/oop"),e=b("../lib/net"),
f=b("../lib/event_emitter").EventEmitter,c=b("../config");t=function(e,f,d,g,h){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);b.nameToUrl&&!b.toUrl&&(b.toUrl=b.nameToUrl);if(c.get("packaged")||!b.toUrl)g=g||c.moduleUrl(f,"worker");else{var k=this.$normalizePath;g=g||k(b.toUrl("ace/worker/worker.js",null,"_"));var m={};e.forEach(function(a){m[a]=k(b.toUrl(a,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=
a(g);h&&this.send("importScripts",h);this.$worker.postMessage({init:!0,tlns:m,module:f,classname:d});this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage};(function(){g.implement(this,f);this.onMessage=function(a){a=a.data;switch(a.type){case "event":this._signal(a.name,{data:a.data});break;case "call":var b=this.callbacks[a.id];b&&(b(a.data),delete this.callbacks[a.id]);break;case "error":this.reportError(a.data);break;case "log":window.console&&console.log&&console.log.apply(console,
a.data)}};this.reportError=function(a){window.console&&console.error&&console.error(a)};this.$normalizePath=function(a){return e.qualifyURL(a)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;this.$doc&&this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(a,b){this.$worker.postMessage({command:a,args:b})};this.call=function(a,b,c){if(c){var d=this.callbackId++;this.callbacks[d]=c;b.push(d)}this.send(a,
b)};this.emit=function(a,b){try{this.$worker.postMessage({event:a,data:{data:b.data}})}catch(d){console.error(d.stack)}};this.attachToDocument=function(a){this.$doc&&this.terminate();this.$doc=a;this.call("setValue",[a.getValue()]);a.on("change",this.changeListener)};this.changeListener=function(a){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0));"insert"==a.action?this.deltaQueue.push(a.start,a.lines):this.deltaQueue.push(a.start,a.end)};this.$sendDeltaQueue=function(){var a=
this.deltaQueue;a&&(this.deltaQueue=null,50<a.length&&a.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:a}))}}).call(t.prototype);var h=function(a,b,d){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.callbackId=1;this.callbacks={};this.messageBuffer=[];var e=null,g=!1,h=Object.create(f),k=this;this.$worker={};this.$worker.terminate=function(){};this.$worker.postMessage=function(a){k.messageBuffer.push(a);
e&&(g?setTimeout(m):m())};this.setEmitSync=function(a){g=a};var m=function(){var a=k.messageBuffer.shift();a.command?e[a.command].apply(e,a.args):a.event&&h._signal(a.event,a.data)};h.postMessage=function(a){k.onMessage({data:a})};h.callback=function(a,b){this.postMessage({type:"call",id:b,data:a})};h.emit=function(a,b){this.postMessage({type:"event",name:a,data:b})};c.loadModule(["worker",b],function(a){for(e=new a[d](h);k.messageBuffer.length;)m()})};h.prototype=t.prototype;n.UIWorkerClient=h;n.WorkerClient=
t;n.createWorker=a});
define("ace/placeholder","require exports module ace/range ace/lib/event_emitter ace/lib/oop".split(" "),function(b,n,t){var a=b("./range").Range,g=b("./lib/event_emitter").EventEmitter,e=b("./lib/oop");b=function(a,b,e,g,m,d){var c=this;this.length=b;this.session=a;this.doc=a.getDocument();this.mainClass=m;this.othersClass=d;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=g;this.$onCursorChange=function(){setTimeout(function(){c.onCursorChange()})};this.$pos=
e;this.$undoStackDepth=(a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1}).length;this.setup();a.selection.on("changeCursor",this.$onCursorChange)};(function(){e.implement(this,g);this.setup=function(){var b=this,c=this.doc,e=this.session;this.selectionBefore=e.selection.toJSON();e.selection.inMultiSelectMode&&e.selection.toSingleRange();var g=this.pos=c.createAnchor(this.$pos.row,this.$pos.column);g.$insertRight=!0;g.detach();g.markerId=e.addMarker(new a(g.row,g.column,g.row,
g.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(a){a=c.createAnchor(a.row,a.column);a.$insertRight=!0;a.detach();b.others.push(a)});e.setUndoSelect(!1)};this.showOtherMarkers=function(){if(!this.othersActive){var b=this.session,c=this;this.othersActive=!0;this.others.forEach(function(e){e.markerId=b.addMarker(new a(e.row,e.column,e.row,e.column+c.length),c.othersClass,null,!1)})}};this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;
for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}};this.onUpdate=function(b){if(this.$updating)return this.updateAnchors(b);if(b.start.row===b.end.row&&b.start.row===this.pos.row){this.$updating=!0;var c="insert"===b.action?b.end.column-b.start.column:b.start.column-b.end.column,e=b.start.column>=this.pos.column&&b.start.column<=this.pos.column+this.length+1,f=b.start.column-this.pos.column;this.updateAnchors(b);e&&(this.length+=c);if(e&&!this.session.$fromUndo)if("insert"===
b.action)for(e=this.others.length-1;0<=e;e--){var g=this.others[e],g={row:g.row,column:g.column+f};this.doc.insertMergedLines(g,b.lines)}else if("remove"===b.action)for(e=this.others.length-1;0<=e;e--)g=this.others[e],g={row:g.row,column:g.column+f},this.doc.remove(new a(g.row,g.column,g.row,g.column-c));this.$updating=!1;this.updateMarkers()}};this.updateAnchors=function(a){this.pos.onChange(a);for(var b=this.others.length;b--;)this.others[b].onChange(a);this.updateMarkers()};this.updateMarkers=
function(){if(!this.$updating){var b=this,c=this.session,e=function(e,d){c.removeMarker(e.markerId);e.markerId=c.addMarker(new a(e.row,e.column,e.row,e.column+b.length),d,null,!1)};e(this.pos,this.mainClass);for(var g=this.others.length;g--;)e(this.others[g],this.othersClass)}};this.onCursorChange=function(a){if(!this.$updating&&this.session){var b=this.session.selection.getCursor();b.row===this.pos.row&&b.column>=this.pos.column&&b.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",
a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null};this.cancel=function(){if(-1!==this.$undoStackDepth){for(var a=this.session.getUndoManager(),b=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,e=0;e<
b;e++)a.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(b.prototype);n.PlaceHolder=b});
define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(b,n,t){function a(a,b){return a.row==b.row&&a.column==b.column}var g=b("../lib/event"),e=b("../lib/useragent");n.onMouseDown=function(b){var c=b.domEvent,f=c.altKey,k=c.shiftKey,m=c.ctrlKey,d=b.getAccelKey(),l=b.getButton();m&&e.isMac&&(l=c.button);if(b.editor.inMultiSelectMode&&2==l)b.editor.textInput.onContextMenu(b.domEvent);else if(!m&&!f&&!d)0===l&&b.editor.inMultiSelectMode&&b.editor.exitMultiSelectMode();
else if(0===l){var q=b.editor,n=q.selection,l=q.inMultiSelectMode,z=b.getDocumentPosition(),u=n.getCursor(),u=b.inSelection()||n.isEmpty()&&a(z,u),t=b.x,r=b.y,A=function(a){t=a.clientX;r=a.clientY},v=q.session,C=q.renderer.pixelToScreenCoordinates(t,r),G=C,D;if(q.$mouseHandler.$enableJumpToDef)m&&f||d&&f?D=k?"block":"add":f&&q.$blockSelectEnabled&&(D="block");else if(d&&!f){if(D="add",!l&&k)return}else f&&q.$blockSelectEnabled&&(D="block");D&&e.isMac&&c.ctrlKey&&q.$mouseHandler.cancelContextMenu();
if("add"==D){if(l||!u){if(!l){var O=n.toOrientedRange();q.addSelectionMarker(O)}var F=n.rangeList.rangeAtPoint(z);q.$blockScrolling++;q.inVirtualSelectionMode=!0;k&&(F=null,O=n.ranges[0]||O,q.removeSelectionMarker(O));q.once("mouseup",function(){var b=n.toOrientedRange();F&&b.isEmpty()&&a(F.cursor,b.cursor)?n.substractPoint(b.cursor):(k?n.substractPoint(O.cursor):O&&(q.removeSelectionMarker(O),n.addRange(O)),n.addRange(b));q.$blockScrolling--;q.inVirtualSelectionMode=!1})}}else if("block"==D){b.stop();
q.inVirtualSelectionMode=!0;var E,M=[];q.$blockScrolling++;l&&!d?n.toSingleRange():!l&&d&&(E=n.toOrientedRange(),q.addSelectionMarker(E));k?C=v.documentToScreenPosition(n.lead):n.moveToPosition(z);q.$blockScrolling--;G={row:-1,column:-1};g.capture(q.container,A,function(a){clearInterval(Q);q.removeSelectionMarkers(M);M.length||(M=[n.toOrientedRange()]);q.$blockScrolling++;E&&(q.removeSelectionMarker(E),n.toSingleRange(E));for(a=0;a<M.length;a++)n.addRange(M[a]);q.inVirtualSelectionMode=!1;q.$mouseHandler.$clickSelection=
null;q.$blockScrolling--});var Q=setInterval(function(){var b=q.renderer.pixelToScreenCoordinates(t,r),c=v.screenToDocumentPosition(b.row,b.column,b.offsetX);a(G,b)&&a(c,n.lead)||(G=b,q.$blockScrolling++,q.selection.moveToPosition(c),q.renderer.scrollCursorIntoView(),q.removeSelectionMarkers(M),M=n.rectangularRangeBlock(G,C),q.$mouseHandler.$clickSelection&&1==M.length&&M[0].isEmpty()&&(M[0]=q.$mouseHandler.$clickSelection.clone()),M.forEach(q.addSelectionMarker,q),q.updateSelectionMarkers(),q.$blockScrolling--)},
20);return b.preventDefault()}}}});
define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(b,n,t){n.defaultCommands=[{name:"addCursorAbove",exec:function(a){a.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(a){a.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(a){a.selectMoreLines(-1,
!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(a){a.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(a){a.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(a){a.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",
mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(a){a.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(a){a.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(a){a.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},
{name:"alignCursors",exec:function(a){a.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(a){a.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];n.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(a){a.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(a){return a&&a.inMultiSelectMode}}];b=b("../keyboard/hash_handler").HashHandler;n.keyboardHandler=
new b(n.multiSelectCommands)});
define("ace/multi_select","require exports module ace/range_list ace/range ace/selection ace/mouse/multi_select_handler ace/lib/event ace/lib/lang ace/commands/multi_select_commands ace/search ace/edit_session ace/editor ace/config".split(" "),function(b,n,t){function a(a){a.$multiselectOnSessionChange||(a.$onAddRange=a.$onAddRange.bind(a),a.$onRemoveRange=a.$onRemoveRange.bind(a),a.$onMultiSelect=a.$onMultiSelect.bind(a),a.$onSingleSelect=a.$onSingleSelect.bind(a),a.$multiselectOnSessionChange=n.onSessionChange.bind(a),
a.$checkMultiselectChange=a.$checkMultiselectChange.bind(a),a.$multiselectOnSessionChange(a),a.on("changeSession",a.$multiselectOnSessionChange),a.on("mousedown",h),a.commands.addCommands(d.defaultCommands),g(a))}function g(a){function b(b){d&&(a.renderer.setMouseCursor(""),d=!1)}var c=a.textInput.getElement(),d=!1;k.addListener(c,"keydown",function(c){c=18==c.keyCode&&!(c.ctrlKey||c.shiftKey||c.metaKey);a.$blockSelectEnabled&&c?d||(a.renderer.setMouseCursor("crosshair"),d=!0):d&&b()});k.addListener(c,
"keyup",b);k.addListener(c,"blur",b)}var e=b("./range_list").RangeList,f=b("./range").Range,c=b("./selection").Selection,h=b("./mouse/multi_select_handler").onMouseDown,k=b("./lib/event"),m=b("./lib/lang"),d=b("./commands/multi_select_commands");n.commands=d.defaultCommands.concat(d.multiSelectCommands);var l=new (b("./search").Search);t=b("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(t.prototype);(function(){this.rangeList=this.ranges=
null;this.addRange=function(a,b){if(a){if(!this.inMultiSelectMode&&0===this.rangeCount){var c=this.toOrientedRange();this.rangeList.add(c);this.rangeList.add(a);if(2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),b||this.fromOrientedRange(a);this.rangeList.removeAll();this.rangeList.add(c);this.$onAddRange(c)}a.cursor||(a.cursor=a.end);c=this.rangeList.add(a);return this.$onAddRange(a),c.length&&this.$onRemoveRange(c),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),
this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),b||this.fromOrientedRange(a)}};this.toSingleRange=function(a){a=a||this.ranges[0];var b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b);a&&this.fromOrientedRange(a)};this.substractPoint=function(a){if(a=this.rangeList.substractPoint(a))return this.$onRemoveRange(a),a[0]};this.mergeOverlappingRanges=function(){var a=this.rangeList.merge();a.length?this.$onRemoveRange(a):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])};
this.$onAddRange=function(a){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(a);this._signal("addRange",{range:a})};this.$onRemoveRange=function(a){this.rangeCount=this.rangeList.ranges.length;if(1==this.rangeCount&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();a.push(b);this.rangeCount=0}for(var c=a.length;c--;){var d=this.ranges.indexOf(a[c]);this.ranges.splice(d,1)}this._signal("removeRange",{ranges:a});0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=
!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));(b=b||this.ranges[0])&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new e,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){if(1<this.rangeCount){var a=this.rangeList.ranges,b=a[a.length-1],a=f.fromPoints(a[0].start,
b.end);this.toSingleRange();this.setSelectionRange(a,b.cursor==b.start)}else{var a=this.getRange(),c=this.isBackwards(),d=a.start.row,b=a.end.row;if(d==b)c?(b=a.end,a=a.start):(b=a.start,a=a.end),this.addRange(f.fromPoints(a,a)),this.addRange(f.fromPoints(b,b));else{var c=[],e=this.getLineRange(d,!0);e.start.column=a.start.column;c.push(e);for(d+=1;d<b;d++)c.push(this.getLineRange(d,!0));e=this.getLineRange(b,!0);e.end.column=a.end.column;c.push(e);c.forEach(this.addRange,this)}}};this.toggleBlockSelection=
function(){if(1<this.rangeCount){var a=this.rangeList.ranges,b=a[a.length-1],a=f.fromPoints(a[0].start,b.end);this.toSingleRange();this.setSelectionRange(a,b.cursor==b.start)}else b=this.session.documentToScreenPosition(this.selectionLead),a=this.session.documentToScreenPosition(this.selectionAnchor),this.rectangularRangeBlock(b,a).forEach(this.addRange,this)};this.rectangularRangeBlock=function(a,b,c){var d=[],e=a.column<b.column;if(e)var g=a.column,h=b.column,k=a.offsetX,m=b.offsetX;else g=b.column,
h=a.column,k=b.offsetX,m=a.offsetX;var l=a.row<b.row;if(l){var n=a.row;a=b.row}else n=b.row,a=a.row;0>g&&(g=0);0>n&&(n=0);for(n==a&&(c=!0);n<=a;n++){b=f.fromPoints(this.session.screenToDocumentPosition(n,g,k),this.session.screenToDocumentPosition(n,h,m));if(b.isEmpty()){var q;if(q=w)q=b.end,q=q.row==w.row&&q.column==w.column;if(q)break;var w=b.end}b.cursor=e?b.start:b.end;d.push(b)}l&&d.reverse();if(!c){for(c=d.length-1;d[c].isEmpty()&&0<c;)c--;if(0<c)for(var z=0;d[z].isEmpty();)z++;for(;c>=z;c--)d[c].isEmpty()&&
d.splice(c,1)}return d}}).call(c.prototype);t=b("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(a){a.cursor||(a.cursor=a.end);var b=this.getSelectionStyle();return a.marker=this.session.addMarker(a,"ace_selection",b),this.session.$selectionMarkers.push(a),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,a};this.removeSelectionMarker=function(a){a.marker&&(this.session.removeMarker(a.marker),
a=this.session.$selectionMarkers.indexOf(a),-1!=a&&this.session.$selectionMarkers.splice(a,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)};this.removeSelectionMarkers=function(a){for(var b=this.session.$selectionMarkers,c=a.length;c--;){var d=a[c];d.marker&&(this.session.removeMarker(d.marker),d=b.indexOf(d),-1!=d&&b.splice(d,1))}this.session.selectionMarkerCount=b.length};this.$onAddRange=function(a){this.addSelectionMarker(a.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};
this.$onRemoveRange=function(a){this.removeSelectionMarkers(a.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(a){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(d.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(a){this.session.multiSelect.inVirtualMode||
(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(d.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))};this.$onMultiSelectExec=function(a){var b=a.command,c=a.editor;if(c.multiSelect){if(b.multiSelectAction)"forEach"==b.multiSelectAction?d=c.forEachSelection(b,a.args):"forEachLine"==b.multiSelectAction?d=c.forEachSelection(b,
a.args,!0):"single"==b.multiSelectAction?(c.exitMultiSelectMode(),d=b.exec(c,a.args||{})):d=b.multiSelectAction(c,a.args||{});else{var d=b.exec(c,a.args||{});c.multiSelect.addRange(c.multiSelect.toOrientedRange());c.multiSelect.mergeOverlappingRanges()}return d}};this.forEachSelection=function(a,b,d){if(!this.inVirtualSelectionMode){var e=1==d||d&&d.$byLines,f=this.session,g=this.selection,h=g.rangeList;d=(d&&d.keepOrder?g:h).ranges;var k;if(!d.length)return a.exec?a.exec(this,b||{}):a(this,b||{});
h=g._eventRegistry;g._eventRegistry={};var m=new c(f);this.inVirtualSelectionMode=!0;for(var l=d.length;l--;){if(e)for(;0<l&&d[l].start.row==d[l-1].end.row;)l--;m.fromOrientedRange(d[l]);m.index=l;this.selection=f.selection=m;var n=a.exec?a.exec(this,b||{}):a(this,b||{});!k&&void 0!==n&&(k=n);m.toOrientedRange(d[l])}m.detach();this.selection=f.selection=g;this.inVirtualSelectionMode=!1;g._eventRegistry=h;g.mergeOverlappingRanges();a=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),
a&&a.from==a.to&&this.renderer.animateScrolling(a.from),k}};this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()};this.getSelectedText=function(){var a="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var a=this.multiSelect.rangeList.ranges,b=[],c=0;c<a.length;c++)b.push(this.session.getTextRange(a[c]));c=this.session.getDocument().getNewLineCharacter();a=b.join(c);a.length==(b.length-1)*c.length&&(a="")}else this.selection.isEmpty()||
(a=this.session.getTextRange(this.getSelectionRange()));return a};this.$checkMultiselectChange=function(a,b){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var c=this.multiSelect.ranges[0];this.multiSelect.isEmpty()&&b==this.multiSelect.anchor||(c=b==this.multiSelect.anchor?c.cursor==c.start?c.end:c.start:c.cursor,c.row==b.row&&this.session.$clipPositionToDocument(c.row,c.column).column==b.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()))}};this.findAll=function(a,
b,c){b=b||{};b.needle=a||b.needle;if(void 0==b.needle){var d=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();b.needle=this.session.getTextRange(d)}this.$search.set(b);a=this.$search.findAll(this.session);if(!a.length)return 0;this.$blockScrolling+=1;b=this.multiSelect;c||b.toSingleRange(a[0]);for(c=a.length;c--;)b.addRange(a[c],!0);return d&&b.rangeList.rangeAtPoint(d.start)&&b.addRange(d,!0),--this.$blockScrolling,a.length};this.selectMoreLines=function(a,b){var c=
this.selection.toOrientedRange(),d=c.cursor==c.end,e=this.session.documentToScreenPosition(c.cursor);this.selection.$desiredColumn&&(e.column=this.selection.$desiredColumn);var g=this.session.screenToDocumentPosition(e.row+a,e.column);if(c.isEmpty())h=g;else var h=this.session.documentToScreenPosition(d?c.end:c.start),h=this.session.screenToDocumentPosition(h.row+a,h.column);d?(d=f.fromPoints(g,h),d.cursor=d.start):(d=f.fromPoints(h,g),d.cursor=d.end);d.desiredColumn=e.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(c);
else if(b)var k=c.cursor;this.selection.addRange(d);k&&this.selection.substractPoint(k)};this.transposeSelections=function(a){for(var b=this.session,c=b.multiSelect,d=c.ranges,e=d.length;e--;){var f=d[e];if(f.isEmpty()){var g=b.getWordRange(f.start.row,f.start.column);f.start.row=g.start.row;f.start.column=g.start.column;f.end.row=g.end.row;f.end.column=g.end.column}}c.mergeOverlappingRanges();c=[];for(e=d.length;e--;)f=d[e],c.unshift(b.getTextRange(f));0>a?c.unshift(c.pop()):c.push(c.shift());for(e=
d.length;e--;)f=d[e],g=f.clone(),b.replace(f,c[e]),f.start.row=g.start.row,f.start.column=g.start.column};this.selectMore=function(a,b,c){var d=this.session,e=d.multiSelect.toOrientedRange();if(e.isEmpty()&&(e=d.getWordRange(e.start.row,e.start.column),e.cursor=-1==a?e.start:e.end,this.multiSelect.addRange(e),c))return;c=d.getTextRange(e);(d=(l.$options.wrap=!0,l.$options.needle=c,l.$options.backwards=-1==a,l.find(d)))&&(d.cursor=-1==a?d.start:d.end,this.$blockScrolling+=1,this.session.unfold(d),
this.multiSelect.addRange(d),--this.$blockScrolling,this.renderer.scrollCursorIntoView(null,.5));b&&this.multiSelect.substractPoint(e.cursor)};this.alignCursors=function(){var a=this.session,b=a.multiSelect,c=b.ranges,d=-1,e=c.filter(function(a){if(a.cursor.row==d)return!0;d=a.cursor.row});if(c.length&&e.length!=c.length-1){e.forEach(function(a){b.substractPoint(a.cursor)});var g=0,h=Infinity,k=c.map(function(b){b=b.cursor;var c=a.getLine(b.row).substr(b.column).search(/\S/g);return-1==c&&(c=0),b.column>
g&&(g=b.column),c<h&&(h=c),c});c.forEach(function(b,c){var d=b.cursor,e=g-d.column,l=k[c]-h;e>l?a.insert(d,m.stringRepeat(" ",e-l)):a.remove(new f(d.row,d.column,d.row,d.column-e+l));b.start.column=b.end.column=g;b.start.row=b.end.row=d.row;b.cursor=b.end});b.fromOrientedRange(c[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),e=c.start.row,l=c.end.row,n=e==l;if(n){var t=this.session.getLength(),O;do O=this.session.getLine(l);while(/[=:]/.test(O)&&
++l<t);do O=this.session.getLine(e);while(/[=:]/.test(O)&&0<--e);0>e&&(e=0);l>=t&&(l=t-1)}l=this.session.removeFullLines(e,l);l=this.$reAlignText(l,n);this.session.insert({row:e,column:0},l.join("\n")+"\n");n||(c.start.column=0,c.end.column=l[l.length-1].length);this.selection.setRange(c)}};this.$reAlignText=function(a,b){function c(a){return m.stringRepeat(" ",a)}function d(a){return a[2]?c(k)+a[2]+c(l-a[2].length+n)+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}function e(a){return a[2]?c(k+l-a[2].length)+
a[2]+c(n," ")+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}function f(a){return a[2]?c(k)+a[2]+c(n)+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}var g=!0,h=!0,k,l,n;return a.map(function(a){var b=a.match(/(\s*)(.*?)(\s*)([=:].*)/);return b?null==k?(k=b[1].length,l=b[2].length,n=b[3].length,b):(k+l+n!=b[1].length+b[2].length+b[3].length&&(h=!1),k!=b[1].length&&(g=!1),k>b[1].length&&(k=b[1].length),l<b[2].length&&(l=b[2].length),n>b[3].length&&(n=b[3].length),b):[a]}).map(b?d:g?h?e:d:f)}}).call(t.prototype);n.onSessionChange=
function(a){var b=a.session;b&&!b.multiSelect&&(b.$selectionMarkers=[],b.selection.$initRangeList(),b.multiSelect=b.selection);this.multiSelect=b&&b.multiSelect;(a=a.oldSession)&&(a.multiSelect.off("addRange",this.$onAddRange),a.multiSelect.off("removeRange",this.$onRemoveRange),a.multiSelect.off("multiSelect",this.$onMultiSelect),a.multiSelect.off("singleSelect",this.$onSingleSelect),a.multiSelect.lead.off("change",this.$checkMultiselectChange),a.multiSelect.anchor.off("change",this.$checkMultiselectChange));
b&&(b.multiSelect.on("addRange",this.$onAddRange),b.multiSelect.on("removeRange",this.$onRemoveRange),b.multiSelect.on("multiSelect",this.$onMultiSelect),b.multiSelect.on("singleSelect",this.$onSingleSelect),b.multiSelect.lead.on("change",this.$checkMultiselectChange),b.multiSelect.anchor.on("change",this.$checkMultiselectChange));b&&this.inMultiSelectMode!=b.selection.inMultiSelectMode&&(b.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};n.MultiSelect=a;b("./config").defineOptions(t.prototype,
"editor",{enableMultiselect:{set:function(b){a(this);b?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",h)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",h))},value:!0},enableBlockSelect:{set:function(a){this.$blockSelectEnabled=a},value:!0}})});
define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(b,n,t){var a=b("../../range").Range;b=n.FoldMode=function(){};(function(){this.foldingStopMarker=this.foldingStartMarker=null;this.getFoldWidget=function(a,b,f){a=a.getLine(f);return this.foldingStartMarker.test(a)?"start":"markbeginend"==b&&this.foldingStopMarker&&this.foldingStopMarker.test(a)?"end":""};this.getFoldWidgetRange=function(a,b,f){return null};this.indentationBlock=function(b,e,f){var c=/\S/,g=b.getLine(e),
k=g.search(c);if(-1!=k){f=f||g.length;for(var m=b.getLength(),d=g=e;++e<m;){var l=b.getLine(e).search(c);if(-1!=l){if(l<=k)break;d=e}}if(d>g)return b=b.getLine(d).length,new a(g,f,d,b)}};this.openingBracketBlock=function(b,e,f,c,h){f={row:f,column:c+1};if(e=b.$findClosingBracket(e,f,h))return h=b.foldWidgets[e.row],null==h&&(h=b.getFoldWidget(e.row)),"start"==h&&e.row>f.row&&(e.row--,e.column=b.getLine(e.row).length),a.fromPoints(f,e)};this.closingBracketBlock=function(b,e,f,c,h){f={row:f,column:c};
if(b=b.$findOpeningBracket(e,f))return b.column++,f.column--,a.fromPoints(b,f)}}).call(b.prototype)});
define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(b,n,t){n.isDark=!1;n.cssClass="ace-tm";n.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';b("../lib/dom").importCssString(n.cssText,
n.cssClass)});
define("ace/line_widgets","require exports module ace/lib/oop ace/lib/dom ace/range".split(" "),function(b,n,t){function a(a){this.session=a;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",
this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}b("./lib/oop");var g=b("./lib/dom");b("./range");(function(){this.getRowLength=function(a){var b;return this.lineWidgets?b=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:b=0,this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1+b:1+b};this.$getWidgetScreenLength=function(){var a=0;return this.lineWidgets.forEach(function(b){b&&b.rowCount&&!b.hidden&&(a+=b.rowCount)}),
a};this.$onChangeEditor=function(a){this.attach(a.editor)};this.attach=function(a){a&&a.widgetManager&&a.widgetManager!=this&&a.widgetManager.detach();this.editor!=a&&(this.detach(),(this.editor=a)&&(a.widgetManager=this,a.renderer.on("beforeRender",this.measureWidgets),a.renderer.on("afterRender",this.renderWidgets)))};this.detach=function(a){if(a=this.editor)this.editor=null,a.widgetManager=null,a.renderer.off("beforeRender",this.measureWidgets),a.renderer.off("afterRender",this.renderWidgets),
(a=this.session.lineWidgets)&&a.forEach(function(a){a&&a.el&&a.el.parentNode&&(a._inDocument=!1,a.el.parentNode.removeChild(a.el))})};this.updateOnFold=function(a,b){var c=b.lineWidgets;if(c&&a.action){for(var e=a.data,f=e.start.row,e=e.end.row,g="add"==a.action,d=f+1;d<e;d++)c[d]&&(c[d].hidden=g);c[e]&&(g?c[f]?c[e].hidden=g:c[f]=c[e]:(c[f]==c[e]&&(c[f]=void 0),c[e].hidden=g))}};this.updateOnChange=function(a){var b=this.session.lineWidgets;if(b){var c=a.start.row,e=a.end.row-c;0!==e&&("remove"==
a.action?b.splice(c+1,e).forEach(function(a){a&&this.removeLineWidget(a)},this):(a=Array(e),a.unshift(c,0),b.splice.apply(b,a)),this.$updateRows())}};this.$updateRows=function(){var a=this.session.lineWidgets;if(a){var b=!0;a.forEach(function(a,e){if(a)for(b=!1,a.row=e;a.$oldWidget;)a.$oldWidget.row=e,a=a.$oldWidget});b&&(this.session.lineWidgets=null)}};this.addLineWidget=function(a){this.session.lineWidgets||(this.session.lineWidgets=Array(this.session.getLength()));var b=this.session.lineWidgets[a.row];
b&&(a.$oldWidget=b,b.el&&b.el.parentNode&&(b.el.parentNode.removeChild(b.el),b._inDocument=!1));this.session.lineWidgets[a.row]=a;a.session=this.session;b=this.editor.renderer;a.html&&!a.el&&(a.el=g.createElement("div"),a.el.innerHTML=a.html);a.el&&(g.addCssClass(a.el,"ace_lineWidgetContainer"),a.el.style.position="absolute",a.el.style.zIndex=5,b.container.appendChild(a.el),a._inDocument=!0);a.coverGutter||(a.el.style.zIndex=3);null==a.pixelHeight&&(a.pixelHeight=a.el.offsetHeight);null==a.rowCount&&
(a.rowCount=a.pixelHeight/b.layerConfig.lineHeight);var c=this.session.getFoldAt(a.row,0);if(a.$fold=c){var e=this.session.lineWidgets;a.row!=c.end.row||e[c.start.row]?a.hidden=!0:e[c.start.row]=a}return this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows(),this.renderWidgets(null,b),this.onWidgetChanged(a),a};this.removeLineWidget=function(a){a._inDocument=!1;a.session=null;a.el&&a.el.parentNode&&a.el.parentNode.removeChild(a.el);if(a.editor&&a.editor.destroy)try{a.editor.destroy()}catch(c){}if(this.session.lineWidgets){var b=
this.session.lineWidgets[a.row];if(b==a)(this.session.lineWidgets[a.row]=a.$oldWidget)&&this.onWidgetChanged(a.$oldWidget);else for(;b;){if(b.$oldWidget==a){b.$oldWidget=a.$oldWidget;break}b=b.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:a.row}}});this.$updateRows()};this.getWidgetsAtRow=function(a){var b=this.session.lineWidgets;a=b&&b[a];for(b=[];a;)b.push(a),a=a.$oldWidget;return b};this.onWidgetChanged=function(a){this.session._changedWidgets.push(a);this.editor&&this.editor.renderer.updateFull()};
this.measureWidgets=function(a,b){var c=this.session._changedWidgets,e=b.layerConfig;if(c&&c.length){for(var f=Infinity,g=0;g<c.length;g++){var d=c[g];if(d&&d.el&&d.session==this.session){if(!d._inDocument){if(this.session.lineWidgets[d.row]!=d)continue;d._inDocument=!0;b.container.appendChild(d.el)}d.h=d.el.offsetHeight;d.fixedWidth||(d.w=d.el.offsetWidth,d.screenWidth=Math.ceil(d.w/e.characterWidth));var l=d.h/e.lineHeight;d.coverLine&&(l-=this.session.getRowLineCount(d.row),0>l&&(l=0));d.rowCount!=
l&&(d.rowCount=l,d.row<f&&(f=d.row))}}Infinity!=f&&(this.session._emit("changeFold",{data:{start:{row:f}}}),this.session.lineWidgetWidth=null);this.session._changedWidgets=[]}};this.renderWidgets=function(a,b){var c=b.layerConfig,e=this.session.lineWidgets;if(e){for(var f=Math.min(this.firstRow,c.firstRow),g=Math.max(this.lastRow,c.lastRow,e.length);0<f&&!e[f];)f--;this.firstRow=c.firstRow;this.lastRow=c.lastRow;for(b.$cursorLayer.config=c;f<=g;f++){var d=e[f];if(d&&d.el)if(d.hidden)d.el.style.top=
-100-(d.pixelHeight||0)+"px";else{d._inDocument||(d._inDocument=!0,b.container.appendChild(d.el));var l=b.$cursorLayer.getPixelPosition({row:f,column:0},!0).top;d.coverLine||(l+=c.lineHeight*this.session.getRowLineCount(d.row));d.el.style.top=l-c.offset+"px";l=d.coverGutter?0:b.gutterWidth;d.fixedWidth||(l-=b.scrollLeft);d.el.style.left=l+"px";d.fullWidth&&d.screenWidth&&(d.el.style.minWidth=c.width+2*c.padding+"px");d.fixedWidth?d.el.style.right=b.scrollBar.getWidth()+"px":d.el.style.right=""}}}}}).call(a.prototype);
n.LineWidgets=a});
define("ace/ext/error_marker","require exports module ace/line_widgets ace/lib/dom ace/range".split(" "),function(b,n,t){function a(a,b,e){a=a.getAnnotations().sort(f.comparePoints);if(a.length){var c;a:{c={row:b,column:-1};for(var d=f.comparePoints,g=0,h=a.length-1;g<=h;){var k=g+h>>1,n=d(c,a[k]);if(0<n)g=k+1;else{if(!(0>n)){c=k;break a}h=k-1}}c=-(g+1)}0>c&&(c=-c-1);c>=a.length?c=0<e?0:a.length-1:0===c&&0>e&&(c=a.length-1);if((d=a[c])&&e){if(d.row===b){do d=a[c+=e];while(d&&d.row===b);if(!d)return a.slice()}g=
[];b=d.row;do g[0>e?"unshift":"push"](d),d=a[c+=e];while(d&&d.row==b);return g.length&&g}}}var g=b("../line_widgets").LineWidgets,e=b("../lib/dom"),f=b("../range").Range;n.showErrorMarker=function(b,f){var c=b.session;c.widgetManager||(c.widgetManager=new g(c),c.widgetManager.attach(b));var h=b.getCursorPosition(),d=h.row,l=c.widgetManager.getWidgetsAtRow(d).filter(function(a){return"errorMarker"==a.type})[0];l?l.destroy():d-=f;if(d=a(c,d,f))l=d[0],h.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:
l.column)||0,h.row=l.row,l=b.renderer.$gutterLayer.$annotations[h.row];else{if(l)return;l={text:["Looks good!"],className:"ace_ok"}}b.session.unfold(h.row);b.selection.moveToPosition(h);var n={row:h.row,fixedWidth:!0,coverGutter:!0,el:e.createElement("div"),type:"errorMarker"},d=n.el.appendChild(e.createElement("div")),t=n.el.appendChild(e.createElement("div"));t.className="error_widget_arrow "+l.className;h=b.renderer.$cursorLayer.getPixelPosition(h).left;t.style.left=h+b.renderer.gutterWidth-5+
"px";n.el.className="error_widget_wrapper";d.className="error_widget "+l.className;d.innerHTML=l.text.join("<br>");d.appendChild(e.createElement("div"));var z=function(a,b,c){if(0===b&&("esc"===c||"return"===c))return n.destroy(),{command:"null"}};n.destroy=function(){b.$mouseHandler.isMousePressed||(b.keyBinding.removeKeyboardHandler(z),c.widgetManager.removeLineWidget(n),b.off("changeSelection",n.destroy),b.off("changeSession",n.destroy),b.off("mouseup",n.destroy),b.off("change",n.destroy))};b.keyBinding.addKeyboardHandler(z);
b.on("changeSelection",n.destroy);b.on("changeSession",n.destroy);b.on("mouseup",n.destroy);b.on("change",n.destroy);b.session.widgetManager.addLineWidget(n);n.el.onmousedown=b.focus.bind(b);b.renderer.scrollCursorIntoView(null,.5,{bottom:n.el.offsetHeight})};e.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }",
"")});
define("ace/ace","require exports module ace/lib/fixoldbrowsers ace/lib/dom ace/lib/event ace/editor ace/edit_session ace/undomanager ace/virtual_renderer ace/worker/worker_client ace/keyboard/hash_handler ace/placeholder ace/multi_select ace/mode/folding/fold_mode ace/theme/textmate ace/ext/error_marker ace/config".split(" "),function(b,n,t){b("./lib/fixoldbrowsers");var a=b("./lib/dom"),g=b("./lib/event"),e=b("./editor").Editor,f=b("./edit_session").EditSession,c=b("./undomanager").UndoManager,h=
b("./virtual_renderer").VirtualRenderer;b("./worker/worker_client");b("./keyboard/hash_handler");b("./placeholder");b("./multi_select");b("./mode/folding/fold_mode");b("./theme/textmate");b("./ext/error_marker");n.config=b("./config");n.require=b;"function"==typeof define&&(n.define=define);n.edit=function(b){if("string"==typeof b){var c=b;b=document.getElementById(c);if(!b)throw Error("ace.edit can't find div #"+c);}if(b&&b.env&&b.env.editor instanceof e)return b.env.editor;c="";if(b&&/input|textarea/i.test(b.tagName)){var d=
b,c=d.value;b=a.createElement("pre");d.parentNode.replaceChild(b,d)}else b&&(c=a.getInnerText(b),b.innerHTML="");c=n.createEditSession(c);b=new e(new h(b));b.setSession(c);var f={document:c,editor:b,onResize:b.resize.bind(b,null)};return d&&(f.textarea=d),g.addListener(window,"resize",f.onResize),b.on("destroy",function(){g.removeListener(window,"resize",f.onResize);f.editor.container.env=null}),b.container.env=b.env=f,b};n.createEditSession=function(a,b){var d=new f(a,b);return d.setUndoManager(new c),
d};n.EditSession=f;n.UndoManager=c;n.version="1.2.9"});(function(){window.require(["ace/ace"],function(b){b&&(b.config.init(!0),b.define=window.define);window.ace||(window.ace=b);for(var n in b)b.hasOwnProperty(n)&&(window.ace[n]=b[n])})})();var wa_editor_key=!1,wa_editor;
function waEditorKeyCallback(b,n){n=n||{};n=jQuery.extend({save_button:"wa-page-button",change_callback:null},n);var t=$("#"+n.save_button);return b?function(a){t.length&&a.ctrlKey&&115==a.which&&!wa_editor_key&&(t.click(),a.preventDefault())}:function(a){wa_editor_key=!1;t.length&&(a.ctrlKey&&83==a.which&&(wa_editor_key=!0,t.click(),a.preventDefault()),a.metaKey||!((33>a.which||40<a.which)&&(27<a.which||8==a.which||13==a.which)&&(112>a.which||124<a.which))||a.ctrlKey&&67==a.which||(t.removeClass("green").addClass("yellow"),
n.change_callback&&"function"==typeof n.change_callback&&n.change_callback()))}}
function waEditorAceInit(b){b=b||{};b=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",type:"html",ace_editor_container:"wa-ace-editor-container"},b);b.save_button||(b.save_button=b.prefix+"button");$("#"+b.ace_editor_container).length||$('<div id="'+b.ace_editor_container+'"></div>').insertAfter($("#"+b.id));wa_editor=ace.edit(b.ace_editor_container);wa_editor.commands.removeCommand("find");ace.config.set("basePath",wa_url+"wa-content/js/ace/");wa_editor.setTheme("ace/theme/eclipse");var n=
wa_editor.getSession();"css"==b.type?n.setMode("ace/mode/css"):"javascript"==b.type?n.setMode("ace/mode/javascript"):(n.setMode("ace/mode/css"),n.setMode("ace/mode/javascript"),n.setMode("ace/mode/smarty"));n.setUseWrapMode(!0);wa_editor.setOption("maxLines",1E4);wa_editor.setAutoScrollEditorIntoView(!0);wa_editor.renderer.setShowGutter(!1);wa_editor.setShowPrintMargin(!1);-1!=navigator.appVersion.indexOf("Mac")?wa_editor.setFontSize(13):-1!=navigator.appVersion.indexOf("Linux")?wa_editor.setFontSize(16):
wa_editor.setFontSize(14);$(".ace_editor").css("fontFamily","");n.setValue($("#"+b.id).hide().val());wa_editor.focus();wa_editor.navigateTo(0,0);wa_editor.commands.addCommands([{name:"waSave",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(n){$("#"+b.save_button).click()}},{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(b,a){return!1},readOnly:!0}]);n.on("change",function(){b.change_callback&&"function"==typeof b.change_callback&&b.change_callback();$("#"+b.save_button).hasClass("green")&&
$("#"+b.save_button).removeClass("green").addClass("yellow")});$(window).resize(function(){wa_editor.resize()})}
function waEditorUpdateSource(b){b=b||{};b=jQuery.extend({id:"wa-page-content"},b);b=$("#"+b.id);$(".el-rte").length&&$(".el-rte").is(":visible")?($(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))}),b.val(b.elrte("val")),wa_editor&&wa_editor.setValue(b.val()),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var b=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",b);$(this).attr("src",b.replace(/\{\$wa_url\}/,
wa_url))})):wa_editor&&b.val(wa_editor.getValue())}
function waEditorInit(b){b=b||{};b=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",lang:"en",ace_editor_container:"wa-ace-editor-container",html_tab:"html",wysiwyg_tab:"wysiwyg"},b);b.save_button||(b.save_button=b.prefix+"button");var n=$("#"+b.id);if(!b.height){var t="div."+b.prefix+"editor",t=$(t).height()-$(t+" .wa-page-gray-toolbar").height()-92;$("div."+b.prefix+"save-panel").length&&(t-=25);$("#wa-app").height()<$("#wa").height()-$("#wa-header").height()&&(t+=$("#wa").height()-$("#wa-header").height()-
$("#wa-app").height());b.height=300>t?300:t}elRTE.prototype.beforeSave=function(){};elRTE.prototype.options.toolbars.waPageToolbar="wa_style alignment colors format indent lists wa_image wa_links wa_elements wa_tables direction".split(" ");!n.val()&&$.browser.msie&&n.val("<div></div>");n.elrte({height:b.height-53,cssfiles:[wa_url+"wa-content/css/wa/wa-1.3.css"],toolbar:"waPageToolbar",lang:b.lang,wa_image_upload:"?module=pages&action=uploadimage",wa_image_upload_path:b.upload_url,width:"100%"});"<div></div>"==
n.val()&&$.browser.msie&&n.elrte("val","");var a=n.elrte()[0].elrte.filter.source;n.elrte()[0].elrte.filter.source=function(b){b=a.call(n.elrte()[0].elrte.filter,b);b=b.replace(/%7B\$wa_url%7D/,"{$wa_url}");return b=b.replace(/{[a-z$][^}]*}/gi,function(a,b,c){var e=c.indexOf("\x3c/script",b+a.length);b=c.indexOf("<script",b+a.length);if(-1==e||-1!=b&&b<e)a=a.replace(/&gt;/g,">"),a=a.replace(/&lt;/g,"<"),a=a.replace(/&amp;/g,"&"),a=a.replace(/&quot;/g,'"');return a})};$(".el-rte iframe").contents().keydown(waEditorKeyCallback(!1,
b)).keypress(waEditorKeyCallback(!0,b)).keyup(function(a){27==a.keyCode&&jQuery(".dialog:visible").trigger("esc")});$(".el-rte .toolbar li").click(function(){$("#"+b.save_button).removeClass("green").addClass("yellow")});$("#wa-page-settings").keydown(waEditorKeyCallback(!1,b)).keypress(waEditorKeyCallback(!0,b));waEditorAceInit(b);$("#"+b.wysiwyg_tab).click(function(){$.storage&&$.storage.set(wa_app+"/editor","wysiwyg");$("ul#"+b.prefix+"wysiwyg-html-toggle, ul."+b.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$(this).parent().addClass("selected");$("#"+b.ace_editor_container).hide();n.elrte("val",wa_editor.getValue());$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,wa_url))});$(".el-rte").show();$(".el-rte iframe").contents().find("body").focus();return!1});$("#"+b.html_tab).click(function(){$.storage&&$.storage.set(wa_app+"/editor","html");$("ul#"+b.prefix+"wysiwyg-html-toggle, ul."+
b.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");$(this).parent().addClass("selected");$(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))});var a=wa_editor.getCursorPosition();waEditorUpdateSource(b);$(".el-rte").hide();$("#"+b.ace_editor_container).show();wa_editor.focus();wa_editor.navigateTo(a.row,a.column);return!1});$("ul#"+b.prefix+"wysiwyg-html-toggle, ul."+b.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$.storage&&"wysiwyg"!=$.storage.get(wa_app+"/editor")?($(".el-rte").hide(),$("#"+b.html_tab).parent().addClass("selected"),$("#"+b.ace_editor_container).show()):($("#"+b.wysiwyg_tab).parent().addClass("selected"),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,wa_url))}),$("#"+b.ace_editor_container).hide())};(function(b){var n=[],t=[];b.fn.doAutosize=function(a){var g=b(this).data("minwidth"),e=b(this).data("maxwidth"),f="",c=b(this),h=b("#"+b(this).data("tester_id"));f!==(f=c.val())&&(f=f.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">"),h.html(f),h=h.width(),a=h+a.comfortZone>=g?h+a.comfortZone:g,h=c.width(),(a<h&&a>=g||a>g&&a<e)&&c.width(a))};b.fn.resetAutosize=function(a){var g=b(this).data("minwidth")||a.minInputWidth||b(this).width();a=b(this).data("maxwidth")||a.maxInputWidth||
b(this).closest(".tagsinput").width()-a.inputPadding;var e=b(this),f=b("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:e.css("fontSize"),fontFamily:e.css("fontFamily"),fontWeight:e.css("fontWeight"),letterSpacing:e.css("letterSpacing"),whiteSpace:"nowrap"}),c=b(this).attr("id")+"_autosize_tester";0< !b("#"+c).length&&(f.attr("id",c),f.appendTo("body"));e.data("minwidth",g);e.data("maxwidth",a);e.data("tester_id",c);e.css("width",g)};b.fn.addTag=function(a,g){g=jQuery.extend({focus:!1,
callback:!0},g);this.each(function(){var e=b(this).attr("id"),f=b(this).val().split(n[e]);""==f[0]&&(f=[]);a=jQuery.trim(a);var c;g.unique?(c=b(f).tagExist(a),1==c&&b("#"+e+"_tag").addClass("not_valid")):c=!1;if(""!=a&&1!=c&&(b("<span>").addClass("tag").append(b("<span>").text(a).append("\u00a0\u00a0"),b("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return b("#"+e).removeTag(escape(a))})).insertBefore("#"+e+"_addTag"),f.push(a),b("#"+e+"_tag").val(""),g.focus?b("#"+e+"_tag").focus():
b("#"+e+"_tag").blur(),b.fn.tagsInput.updateTagsField(this,f),g.callback&&t[e]&&t[e].onAddTag&&(c=t[e].onAddTag,c.call(this,a)),t[e]&&t[e].onChange)){var h=f.length;c=t[e].onChange;c.call(this,b(this),f[h-1])}});return!1};b.fn.removeTag=function(a){a=unescape(a);this.each(function(){var g=b(this).attr("id"),e=b(this).val().split(n[g]);b("#"+g+"_tagsinput .tag").remove();str="";for(var f=0;f<e.length;f++)e[f]!=a&&(str=str+n[g]+e[f]);b.fn.tagsInput.importTags(this,str);t[g]&&t[g].onRemoveTag&&t[g].onRemoveTag.call(this,
a)});return!1};b.fn.tagExist=function(a){return 0<=jQuery.inArray(a,b(this))};b.fn.importTags=function(a){id=b(this).attr("id");b("#"+id+"_tagsinput .tag").remove();b.fn.tagsInput.importTags(this,a)};b.fn.tagsInput=function(a){var g=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},a);this.each(function(){g.hide&&
b(this).hide();var a=b(this).attr("id"),f=jQuery.extend({pid:a,real_input:"#"+a,holder:"#"+a+"_tagsinput",input_wrapper:"#"+a+"_addTag",fake_input:"#"+a+"_tag"},g);n[a]=f.delimiter;if(g.onAddTag||g.onRemoveTag||g.onChange)t[a]=[],t[a].onAddTag=g.onAddTag,t[a].onRemoveTag=g.onRemoveTag,t[a].onChange=g.onChange;var c='<div id="'+a+'_tagsinput" class="tagsinput"><div id="'+a+'_addTag">';g.interactive&&(c=c+'<input id="'+a+'_tag" value="" data-default="'+g.defaultText+'" />');b(c+'</div><div class="tags_clear"></div></div>').insertAfter(this);
b(f.holder).css("width",g.width);b(f.holder).css("height",g.height);""!=b(f.real_input).val()&&b.fn.tagsInput.importTags(b(f.real_input),b(f.real_input).val());if(g.interactive){b(f.fake_input).val(b(f.fake_input).attr("data-default"));b(f.fake_input).css("color",g.placeholderColor);b(f.fake_input).resetAutosize(g);b(f.holder).bind("click",f,function(a){b(a.data.fake_input).focus()});b(f.fake_input).bind("focus",f,function(a){b(a.data.fake_input).val()==b(a.data.fake_input).attr("data-default")&&
b(a.data.fake_input).val("");b(a.data.fake_input).css("color","#000000")});if(void 0!=g.autocomplete_url){autocomplete_options={source:g.autocomplete_url};for(attrname in g.autocomplete)autocomplete_options[attrname]=g.autocomplete[attrname];void 0!==jQuery.Autocompleter?(b(f.fake_input).autocomplete(g.autocomplete_url,g.autocomplete),b(f.fake_input).bind("result",f,function(c,e,f){e&&b("#"+a).addTag(e[0]+"",{focus:!0,unique:g.unique})})):void 0!==jQuery.ui.autocomplete&&(b(f.fake_input).autocomplete(autocomplete_options),
b(f.fake_input).bind("autocompleteselect",f,function(a,c){b(a.data.real_input).addTag(c.item.value,{focus:!0,unique:g.unique});return!1}))}else b(f.fake_input).bind("blur",f,function(a){var c=b(this).attr("data-default");""!=b(a.data.fake_input).val()&&b(a.data.fake_input).val()!=c?a.data.minChars<=b(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=b(a.data.fake_input).val().length)&&b(a.data.real_input).addTag(b(a.data.fake_input).val(),{focus:!0,unique:g.unique}):(b(a.data.fake_input).val(b(a.data.fake_input).attr("data-default")),
b(a.data.fake_input).css("color",g.placeholderColor));return!1});b(f.fake_input).bind("keypress",f,function(a){if(a.which==a.data.delimiter.charCodeAt(0)||13==a.which)return a.preventDefault(),a.data.minChars<=b(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=b(a.data.fake_input).val().length)&&b(a.data.real_input).addTag(b(a.data.fake_input).val(),{focus:!0,unique:g.unique}),b(a.data.fake_input).resetAutosize(g),!1;a.data.autosize&&b(a.data.fake_input).doAutosize(g)});f.removeWithBackspace&&
b(f.fake_input).bind("keydown",function(a){if(8==a.keyCode&&""==b(this).val()){a.preventDefault();a=b(this).closest(".tagsinput").find(".tag:last").text();var c=b(this).attr("id").replace(/_tag$/,"");a=a.replace(/[\s]+x$/,"");b("#"+c).removeTag(escape(a));b(this).trigger("focus")}});b(f.fake_input).blur();f.unique&&b(f.fake_input).keydown(function(a){(8==a.keyCode||String.fromCharCode(a.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,\/]+/))&&b(this).removeClass("not_valid")})}return!1});
return this};b.fn.tagsInput.updateTagsField=function(a,g){var e=b(a).attr("id");b(a).val(g.join(n[e]))};b.fn.tagsInput.importTags=function(a,g){b(a).val("");for(var e=b(a).attr("id"),f=g.split(n[e]),c=0;c<f.length;c++)b(a).addTag(f[c],{focus:!1,callback:!1});t[e]&&t[e].onChange&&t[e].onChange.call(a,a,f[c])}})(jQuery);(function(b){b.iButton={version:"1.0.03",setDefaults:function(e){b.extend(a,e)}};b.fn.iButton=function(a){var c="string"==typeof arguments[0]&&arguments[0],e=c&&Array.prototype.slice.call(arguments,1)||arguments,f=0==this.length?null:b.data(this[0],"iButton");if(f&&c&&this.length){if("object"==c.toLowerCase())return f;if(f[c]){var g;this.each(function(a){var d=b.data(this,"iButton")[c].apply(f,e);if(0==a&&d)if(d.jquery)g=b([]).add(d);else return g=d,!1;else d&&d.jquery&&(g=g.add(d))});return g||this}return this}return this.each(function(){new t(this,
a)})};var n=0;b.browser.iphone=-1<navigator.userAgent.toLowerCase().indexOf("iphone");var t=function(f,c){var h=this,k=b(f),m=++n,d=!1,l,q,t,z=!1,u=null,B=null,r=null,A=null;c=b.extend({},a,c,b.metadata?k.metadata():{});t=c.labelOn==g&&c.labelOff==e;if(!k.is(":checkbox, :radio"))return k.find(":checkbox, :radio").iButton(c);if(!b.data(k[0],"iButton")){b.data(k[0],"iButton",h);"auto"==c.resizeHandle&&(c.resizeHandle=!t);"auto"==c.resizeContainer&&(c.resizeContainer=!t);this.toggle=function(a){k.attr("checked",
0<arguments.length?a:!k[0].checked).trigger("change")};this.disable=function(a){var e=0<arguments.length?a:!d;d=e;k.attr("disabled",e);v[e?"addClass":"removeClass"](c.classDisabled);b.isFunction(c.disable)&&c.disable.apply(h,[d,k,c])};this.repaint=function(){M()};this.destroy=function(){b([k[0],v[0]]).unbind(".iButton");b(document).unbind(".iButton_"+m);v.after(k).remove();b.data(k[0],"iButton",null);b.isFunction(c.destroy)&&c.destroy.apply(h,[k,c])};k.wrap('<div class="'+b.trim(c.classContainer+
" "+c.className)+'" />').after('<div class="'+c.classHandle+'"><div class="'+c.classHandleRight+'"><div class="'+c.classHandleMiddle+'" /></div></div><div class="'+c.classLabelOff+'"><span><label>'+c.labelOff+'</label></span></div><div class="'+c.classLabelOn+'"><span><label>'+c.labelOn+'</label></span></div><div class="'+c.classPaddingLeft+'"></div><div class="'+c.classPaddingRight+'"></div>');var v=k.parent(),C=k.siblings("."+c.classHandle),G=k.siblings("."+c.classLabelOff),D=G.children("span"),
O=k.siblings("."+c.classLabelOn),F=O.children("span");if(c.resizeHandle||c.resizeContainer)l=F.outerWidth(),q=D.outerWidth();c.resizeHandle?(t=Math.min(l,q),C.css("width",t)):t=C.width();c.resizeContainer?(l=Math.max(l,q)+t+20,v.css("width",l),G.css("width",l-5)):l=v.width();var E=l-t-6,M=function(a){var b=k[0].checked?E:0;(a=0<arguments.length?arguments[0]:!0)&&c.enableFx?(C.stop().animate({left:b},c.duration,c.easing),O.stop().animate({width:b+4},c.duration,c.easing),F.stop().animate({marginLeft:b-
E},c.duration,c.easing),D.stop().animate({marginRight:-b},c.duration,c.easing)):(C.css("left",b),O.css("width",b+4),F.css("marginLeft",b-E),D.css("marginRight",-b))};M(!1);var Q=function(a){return a.pageX||(a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:0)};v.bind("mousedown.iButton touchstart.iButton",function(a){if(!(b(a.target).is(":checkbox, :radio")||d||!c.allowRadioUncheck&&k.is(":radio:checked")))return a.preventDefault(),u=C,B=Q(a),r=B-(parseInt(C.css("left"),10)||
0),A=(new Date).getTime(),!1});c.enableDrag&&b(document).bind("mousemove.iButton_"+m+" touchmove.iButton_"+m,function(a){if(u==C)return a.preventDefault(),a=Q(a),a!=r&&(z=!0,v.addClass(c.classHandleActive)),a=Math.min(1,Math.max(0,(a-r)/E)),C.css("left",a*E),O.css("width",a*E+4),D.css("marginRight",-a*E),F.css("marginLeft",-(1-a)*E),!1});b(document).bind("mouseup.iButton_"+m+" touchend.iButton_"+m,function(a){if(u==C){a.preventDefault();var d=!0;!z||(new Date).getTime()-A<c.clickOffset?(a=k[0].checked,
k.attr("checked",!a),b.isFunction(c.click)&&c.click.apply(h,[!a,k,c])):(a=.5<=(Q(a)-r)/E,k[0].checked==a&&(d=!1),k.attr("checked",a));v.removeClass(c.classHandleActive);z=u=null;d?k.trigger("change"):M();return!1}});k.bind("change.iButton",function(){M();if(k.is(":radio")){var a=k[0];b(a.form?a.form[a.name]:":radio[name="+a.name+"]").filter(":not(:checked)").iButton("repaint")}b.isFunction(c.change)&&c.change.apply(h,[k,c])}).bind("focus.iButton",function(){v.addClass(c.classFocus)}).bind("blur.iButton",
function(){v.removeClass(c.classFocus)});b.isFunction(c.click)&&k.bind("click.iButton",function(){c.click.apply(h,[k[0].checked,k,c])});k.is(":disabled")&&this.disable(!0);b.browser.msie&&(v.find("*").andSelf().attr("unselectable","on"),k.bind("click.iButton",function(){k.triggerHandler("change.iButton")}));b.isFunction(c.init)&&c.init.apply(h,[k,c])}},a={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,
clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},g=a.labelOn,e=a.labelOff})(jQuery);jQuery.fn.waEditor2=function(){function b(a,b){var c=a.closest(".wa-editor-core-wrapper");if("string"===typeof b[0])switch(b[0]){case "sync":c.find(".wysiwyg").parent().hasClass("selected")?(a.redactor("code.sync"),c=a.redactor("code.get"),c!==a.data("last_wysiwyg_code")&&(c=a.redactor("clean.onSync",a.redactor("clean.onSet",c)),a.val(c))):a.val(a.data("ace").getValue());break;case "insert":c.find(".wysiwyg").parent().hasClass("selected")?a.redactor("insert.html",b[1]):a.data("ace").insert(b[1]);
break;case "get":return c.find(".wysiwyg").parent().hasClass("selected")?a.redactor("code.get"):a.data("ace").getValue()}else a.redactor("code.set",a.val()),a.data("ace").setValue(a.val())}function n(a){a=$.extend({focus:!0,deniedTags:!1,minHeight:300,linkify:!1,source:!1,paragraphy:!1,replaceDivs:!1,toolbarFixed:!0,replaceTags:{b:"strong",i:"em",strike:"del"},removeNewlines:!1,removeComments:!1,imagePosition:!0,imageResizable:!0,imageFloatMargin:"1.5em",buttons:"format bold italic underline deleted lists image video table link alignment horizontalrule fontcolor fontsize fontfamily".split(" "),
plugins:"fontcolor fontfamily alignment fontsize table video".split(" "),imageUpload:"?module=pages&action=uploadimage&r=2",imageUploadFields:'[name="_csrf"]:first',callbacks:{}},a||{});if(a.uploadFields||a.uploadImageFields)a.imageUploadFields=a.uploadFields||a.uploadImageFields;a.callbacks=$.extend({imageUploadError:function(a){console.log("imageUploadError",a);alert(a.error)},keydown:function(b){return"115"!=b.which&&"83"!=b.which||!b.ctrlKey&&!b.metaKey?!0:(b.preventDefault(),a.saveButton&&$(a.saveButton).click(),
!1)},sync:function(b){b=b.replace(/{[a-z$][^}]*}/gi,function(a,b,c){var d=c.indexOf("\x3c/script",b+a.length);b=c.indexOf("<script",b+a.length);if(-1==d||-1!=b&&b<d)a=a.replace(/&gt;/g,">"),a=a.replace(/&lt;/g,"<"),a=a.replace(/&amp;/g,"&"),a=a.replace(/&quot;/g,'"');return a});a.callbacks.syncBefore&&(b=a.callbacks.syncBefore(b));this.$textarea.val(b)},syncClean:function(a){return a.replace(/\{[a-z\$'"_\(!+\-][^\}]*\}/gi,function(a){return a.replace(/-&gt;/g,"->")})}},a.callbacks||{});a.saveButton&&
!a.callbacks.change&&(a.callbacks.change=function(b){$(a.saveButton).removeClass("green").addClass("yellow")});return a}function t(a,b){var c=a.closest(".wa-editor-core-wrapper");if(c.find(".ace").length)e=a.closest(".wa-editor-core-wrapper").find(".ace").children("div");else{var e=$("<div></div>");a.parent().append($('<div class="ace"></div>').append(e))}var d=ace.edit(e.get(0));d.commands.removeCommand("find");ace.config.set("basePath",wa_url+"wa-content/js/ace/");d.setTheme("ace/theme/eclipse");
e=d.getSession();e.setMode("ace/mode/css");e.setMode("ace/mode/javascript");e.setMode("ace/mode/smarty");d.$blockScrolling=Infinity;e.setUseWrapMode(!0);d.renderer.setShowGutter(!1);d.setShowPrintMargin(!1);-1!=navigator.appVersion.indexOf("Mac")?d.setFontSize(13):-1!=navigator.appVersion.indexOf("Linux")?d.setFontSize(16):d.setFontSize(14);c.find(".ace_editor").css("fontFamily","");c.find(".ace_editor").css("minHeight",200);a.val().length?e.setValue(a.val()):e.setValue(" ");d.setOption("minLines",
2);d.setOption("maxLines",1E4);d.setAutoScrollEditorIntoView(!0);b.focus&&(d.focus(),d.navigateTo(0,0));d.commands.addCommands([{name:"waSave",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(a){b.saveButton&&$(b.saveButton).click()}},{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(a,b){return!1},readOnly:!0}]);if(b.callbacks.change)e.on("change",b.callbacks.change);a.data("ace",d);$(window).resize(function(){d.resize()});return d}function a(a){a=a.replace(/\{\$[a-z_][^\}]*\}/gi,
"");return!a.match(/\{[a-z\$'"_\(!+\-]/i)}function g(a,b,e,f){var c=b.find(".wa-editor-upload-img");c.removeClass("hidden").appendTo(b.find(".ace"));c.click(function(){if($.fn.fileupload)return a.waDialog(),!1;console.log("waEditor2 ERROR: jQuery fileupload plugins is required, but missing.")});c.one("click",function(){if($.fn.fileupload)return a.find("input:file").fileupload({dataType:"json",start:function(){a.find("div.loading").show();a.find("input[type=submit]").attr("disabled","disabled")},done:function(a,
b){if(b.result.error)return $('<div style="text-align: center"><p>'+b.result.error+"</p></div>").waDialog({buttons:'<input type="submit" value="'+f.locales.close+'" class="button red" />',height:"100px",width:"550px",onSubmit:function(a){a.trigger("close");return!1}}),!1;var c='\n<figure><img src="%url%"></figure>\n'.replace("%url%",b.result.url);e.insert(c);e.clearSelection();e.focus()},stop:function(){a.hide();a.find("div.loading").hide();a.find("input[type=submit]").removeAttr("disabled")}}),!1})}
var e=arguments,f;this.each(function(){function c(a){return k.data("original_code")||a}function h(a){a&&k.data("original_code",a);setTimeout(function(){k.data("last_wysiwyg_code",k.redactor("code.get"))},50)}var k=$(this);if(k.data("redactor"))f=b(k,e);else{var m=n(e[0]),d=t(k,m);h(k.val());k.redactor(m);k.redactor("core.editor").find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,wa_url))});
k.redactor("core.box")&&k.redactor("core.box").css("z-index",0);k.redactor("core.toolbar")&&k.redactor("core.toolbar").css("z-index",1);var l=k.closest(".wa-editor-core-wrapper");m.upload_img_dialog&&g($(m.upload_img_dialog),l,d,m);l.find(".html").click(function(){if($(this).parent().hasClass("selected"))return!1;window.wa_app&&localStorage.setItem(wa_app+"/editor","html");l.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected");$(this).parent().addClass("selected");k.redactor("core.box").hide();
var a=d.getCursorPosition();k.redactor("core.editor").find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"));$(this).removeAttr("data-src")});k.redactor("code.sync");var b=k.redactor("code.get");b!==k.data("last_wysiwyg_code")?(b=k.redactor("clean.onSync",k.redactor("clean.onSet",b)),d.setValue(b)):d.setValue(c(b));l.find(".ace").show();d.focus();d.navigateTo(a.row,a.column);return!1});l.find(".wysiwyg").click(function(){if($(this).parent().hasClass("selected"))return!1;
var b=d.getValue();if(m.smarty_wysiwyg_msg&&!a(b))return alert(m.smarty_wysiwyg_msg),!1;if($.trim(b)&&m.modification_wysiwyg_msg&&k.redactor("clean.onSync",k.redactor("clean.onSet",b))!==b)if("string"===typeof m.modification_wysiwyg_msg)if(confirm(m.modification_wysiwyg_msg))m.modification_wysiwyg_msg=null;else return!1;else return m.modification_wysiwyg_msg.waDialog({onSubmit:function(a){m.modification_wysiwyg_msg=null;a.trigger("close");l.find(".wysiwyg").trigger("click");return!1}}),!1;window.wa_app&&
localStorage.setItem(wa_app+"/editor","wysiwyg");k.redactor("code.set",b);k.redactor("core.editor").find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,wa_url))});k.redactor("observe.images");k.redactor("observe.links");l.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected");$(this).parent().addClass("selected");l.find(".ace").hide();k.redactor("core.box").show();h(b);
k.redactor("focus.start");return!1});window.wa_app&&m.smarty_wysiwyg_msg&&!a(k.val())||localStorage.getItem(wa_app+"/editor")&&"html"==localStorage.getItem(wa_app+"/editor")?(l.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected"),l.find(".html").parent().addClass("selected"),k.redactor("core.box").hide(),l.find(".ace").show(),setTimeout(function(){d.blur()},50),m.focus&&setTimeout(function(){d.focus();d.navigateTo(0,0)},100)):(l.find(".ace").hide(),m.focus&&(m.iframe?setTimeout(function(){k.redactor("focus.start")},
100):k.redactor("focus.start")))}});return f};jQuery.fn.waEditor||(jQuery.fn.waEditor=jQuery.fn.waEditor2);
