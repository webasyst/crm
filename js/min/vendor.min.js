/*
 jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,n,u){b instanceof String&&(b=String(b));for(var a=b.length,d=0;d<a;d++){var f=b[d];if(n.call(u,f,d,b))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,n,u){b!=Array.prototype&&b!=Object.prototype&&(b[n]=u.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,n,u,a){if(n){u=$jscomp.global;b=b.split(".");for(a=0;a<b.length-1;a++){var d=b[a];d in u||(u[d]={});u=u[d]}b=b[b.length-1];a=u[b];n=n(a);n!=a&&null!=n&&$jscomp.defineProperty(u,b,{configurable:!0,writable:!0,value:n})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,u){return $jscomp.findInternal(this,b,u).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(b){var n=0;return function(){return n<b.length?{done:!1,value:b[n++]}:{done:!0}}};
$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(b,n){this.$jscomp$symbol$id_=b;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:n})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function b(u){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(u||"")+"_"+n++,u)}var n=0;return b}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,n){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var u=0,a={next:function(){if(u<b.length){var d=u++;return{value:n(d,b[d]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
!function(b,n){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?n(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return n(b)}:n(b)}("undefined"!=typeof window?window:this,function(b,n){function u(a){var e=a.length,b=p.type(a);return"function"===b||p.isWindow(a)?!1:1===a.nodeType&&e?!0:"array"===b||0===e||"number"==typeof e&&0<e&&e-1 in a}function a(a,e,b){if(p.isFunction(e))return p.grep(a,function(a,c){return!!e.call(a,c,
a)!==b});if(e.nodeType)return p.grep(a,function(a){return a===e!==b});if("string"==typeof e){if(jb.test(e))return p.filter(e,a,b);e=p.filter(e,a)}return p.grep(a,function(a){return 0<=p.inArray(a,e)!==b})}function d(a,e){do a=a[e];while(a&&1!==a.nodeType);return a}function f(a){var e=Ma[a]={};return p.each(a.match(Oa)||[],function(a,b){e[b]=!0}),e}function g(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",c,!1),b.removeEventListener("load",c,!1)):(K.detachEvent("onreadystatechange",
c),b.detachEvent("onload",c))}function c(){(K.addEventListener||"load"===event.type||"complete"===K.readyState)&&(g(),p.ready())}function h(a,e,b){if(void 0===b&&1===a.nodeType){var c="data-"+e.replace(ea,"-$1").toLowerCase();if(b=a.getAttribute(c),"string"==typeof b){try{b="true"===b?!0:"false"===b?!1:"null"===b?null:+b+""===b?+b:Pa.test(b)?p.parseJSON(b):b}catch($c){}p.data(a,e,b)}else b=void 0}return b}function k(a){for(var e in a)if(("data"!==e||!p.isEmptyObject(a[e]))&&"toJSON"!==e)return!1;
return!0}function m(a,e,b,c){if(p.acceptData(a)){var d,f,g=p.expando,h=a.nodeType,l=h?p.cache:a,q=h?a[g]:a[g]&&g;if(q&&l[q]&&(c||l[q].data)||void 0!==b||"string"!=typeof e)return q||(q=h?a[g]=ja.pop()||p.guid++:g),l[q]||(l[q]=h?{}:{toJSON:p.noop}),("object"==typeof e||"function"==typeof e)&&(c?l[q]=p.extend(l[q],e):l[q].data=p.extend(l[q].data,e)),f=l[q],c||(f.data||(f.data={}),f=f.data),void 0!==b&&(f[p.camelCase(e)]=b),"string"==typeof e?(d=f[e],null==d&&(d=f[p.camelCase(e)])):d=f,d}}function e(a,
e,b){if(p.acceptData(a)){var c,d,f=a.nodeType,g=f?p.cache:a,h=f?a[p.expando]:p.expando;if(g[h]){if(e&&(c=b?g[h]:g[h].data)){p.isArray(e)?e=e.concat(p.map(e,p.camelCase)):e in c?e=[e]:(e=p.camelCase(e),e=e in c?[e]:e.split(" "));for(d=e.length;d--;)delete c[e[d]];if(b?!k(c):!p.isEmptyObject(c))return}(b||(delete g[h].data,k(g[h])))&&(f?p.cleanData([a],!0):N.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function l(){return!0}function q(){return!1}function x(){try{return K.activeElement}catch(cb){}}
function z(a){var e=kb.split("|");a=a.createDocumentFragment();if(a.createElement)for(;e.length;)a.createElement(e.pop());return a}function t(a,e){var b,c,d=0,f="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(e||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(e||"*"):void 0;if(!f)for(f=[],b=a.childNodes||a;null!=(c=b[d]);d++)!e||p.nodeName(c,e)?f.push(c):p.merge(f,t(c,e));return void 0===e||e&&p.nodeName(a,e)?p.merge([a],f):f}function C(a){Hb.test(a.type)&&(a.defaultChecked=
a.checked)}function r(a,e){return p.nodeName(a,"table")&&p.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function B(a){return a.type=(null!==p.find.attr(a,"type"))+"/"+a.type,a}function y(a){var e=le.exec(a.type);return e?a.type=e[1]:a.removeAttribute("type"),a}function A(a,e){for(var b,c=0;null!=(b=a[c]);c++)p._data(b,"globalEval",!e||p._data(e[c],"globalEval"))}function G(a,e){if(1===e.nodeType&&p.hasData(a)){var b,
c;var d=p._data(a);a=p._data(e,d);var f=d.events;if(f)for(b in delete a.handle,a.events={},f)for(d=0,c=f[b].length;c>d;d++)p.event.add(e,b,f[b][d]);a.data&&(a.data=p.extend({},a.data))}}function F(a,e){var c;a=p(e.createElement(a)).appendTo(e.body);e=b.getDefaultComputedStyle&&(c=b.getDefaultComputedStyle(a[0]))?c.display:p.css(a[0],"display");return a.detach(),e}function J(a){var e=K,b=cd[a];return b||(b=F(a,e),"none"!==b&&b||(Ib=(Ib||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),
e=(Ib[0].contentWindow||Ib[0].contentDocument).document,e.write(),e.close(),b=F(a,e),Ib.detach()),cd[a]=b),b}function E(a,e){return{get:function(){var b=a();if(null!=b)return b?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(a,e){if(e in a)return e;for(var b=e.charAt(0).toUpperCase()+e.slice(1),c=e,d=Vb.length;d--;)if(e=Vb[d]+b,e in a)return e;return c}function Q(a,e){for(var b,c,d,f=[],g=0,h=a.length;h>g;g++)c=a[g],c.style&&(f[g]=p._data(c,"olddisplay"),b=c.style.display,e?(f[g]||
"none"!==b||(c.style.display=""),""===c.style.display&&lb(c)&&(f[g]=p._data(c,"olddisplay",J(c.nodeName)))):(d=lb(c),(b&&"none"!==b||!d)&&p._data(c,"olddisplay",d?b:p.css(c,"display"))));for(g=0;h>g;g++)c=a[g],c.style&&(e&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=e?f[g]||"":"none"));return a}function O(a,e,b){return(a=Dc.exec(e))?Math.max(0,a[1]-(b||0))+(a[2]||"px"):e}function M(a,e,b,c,d){e=b===(c?"border":"content")?4:"width"===e?1:0;for(var f=0;4>e;e+=2)"margin"===b&&(f+=
p.css(a,b+Qa[e],!0,d)),c?("content"===b&&(f-=p.css(a,"padding"+Qa[e],!0,d)),"margin"!==b&&(f-=p.css(a,"border"+Qa[e]+"Width",!0,d))):(f+=p.css(a,"padding"+Qa[e],!0,d),"padding"!==b&&(f+=p.css(a,"border"+Qa[e]+"Width",!0,d)));return f}function ia(a,e,b){var c=!0,d="width"===e?a.offsetWidth:a.offsetHeight,f=tb(a),g=N.boxSizing&&"border-box"===p.css(a,"boxSizing",!1,f);if(0>=d||null==d){if(d=ub(a,e,f),(0>d||null==d)&&(d=a.style[e]),jc.test(d))return d;c=g&&(N.boxSizingReliable()||d===a.style[e]);d=parseFloat(d)||
0}return d+M(a,e,b||(g?"border":"content"),c,f)+"px"}function L(a,e,b,c,d){return new L.prototype.init(a,e,b,c,d)}function I(){return setTimeout(function(){Wa=void 0}),Wa=p.now()}function S(a,e){var b={height:a},c=0;for(e=e?1:0;4>c;c+=2-e){var d=Qa[c];b["margin"+d]=b["padding"+d]=a}return e&&(b.opacity=b.width=a),b}function za(a,e,b){for(var c,d=(vb[e]||[]).concat(vb["*"]),f=0,g=d.length;g>f;f++)if(c=d[f].call(b,e,a))return c}function X(a,e){var b,c,d,f,g;for(b in a)if(c=p.camelCase(b),d=e[c],f=a[b],
p.isArray(f)&&(d=f[1],f=a[b]=f[0]),b!==c&&(a[c]=f,delete a[b]),g=p.cssHooks[c],g&&"expand"in g)for(b in f=g.expand(f),delete a[c],f)b in a||(a[b]=f[b],e[b]=d);else e[c]=d}function ma(a,e,b){var c,d=0,f=wb.length,g=p.Deferred().always(function(){delete h.elem}),h=function(){if(c)return!1;var e=Wa||I();e=Math.max(0,l.startTime+l.duration-e);for(var b=1-(e/l.duration||0),d=0,f=l.tweens.length;f>d;d++)l.tweens[d].run(b);return g.notifyWith(a,[l,b,e]),1>b&&f?e:(g.resolveWith(a,[l]),!1)},l=g.promise({elem:a,
props:p.extend({},e),opts:p.extend(!0,{specialEasing:{}},b),originalProperties:e,originalOptions:b,startTime:Wa||I(),duration:b.duration,tweens:[],createTween:function(e,b){e=p.Tween(a,l.opts,e,b,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(e),e},stop:function(e){var b=0,d=e?l.tweens.length:0;if(c)return this;for(c=!0;d>b;b++)l.tweens[b].run(1);return e?g.resolveWith(a,[l,e]):g.rejectWith(a,[l,e]),this}});b=l.props;for(X(b,l.opts.specialEasing);f>d;d++)if(e=wb[d].call(l,a,b,l.opts))return e;
return p.map(b,za,l),p.isFunction(l.opts.start)&&l.opts.start.call(a,l),p.fx.timer(p.extend(h,{elem:a,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function ca(a){return function(e,b){"string"!=typeof e&&(b=e,e="*");var c=0,d=e.toLowerCase().match(Oa)||[];if(p.isFunction(b))for(;e=d[c++];)"+"===e.charAt(0)?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(b)):(a[e]=a[e]||[]).push(b)}}function T(a,e,b,c){function d(l){var h;
return f[l]=!0,p.each(a[l]||[],function(a,l){a=l(e,b,c);return"string"!=typeof a||g||f[a]?g?!(h=a):void 0:(e.dataTypes.unshift(a),d(a),!1)}),h}var f={},g=a===kc;return d(e.dataTypes[0])||!f["*"]&&d("*")}function na(a,e){var b,c,d=p.ajaxSettings.flatOptions||{};for(c in e)void 0!==e[c]&&((d[c]?a:b||(b={}))[c]=e[c]);return b&&p.extend(!0,a,b),a}function ya(a,e,b,c){var d;if(p.isArray(e))p.each(e,function(e,d){b||me.test(a)?c(a,d):ya(a+"["+("object"==typeof d?e:"")+"]",d,b,c)});else if(b||"object"!==
p.type(e))c(a,e);else for(d in e)ya(a+"["+d+"]",e[d],b,c)}function ka(){try{return new b.XMLHttpRequest}catch(cb){}}function la(a){return p.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ja=[],Y=ja.slice,sa=ja.concat,Ka=ja.push,ta=ja.indexOf,Da={},Aa=Da.toString,Ha=Da.hasOwnProperty,N={},p=function(a,e){return new p.fn.init(a,e)},Fa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ga=/^-ms-/,ua=/-([\da-z])/gi,db=function(a,e){return e.toUpperCase()};p.fn=p.prototype={jquery:"1.11.1",constructor:p,
selector:"",length:0,toArray:function(){return Y.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Y.call(this)},pushStack:function(a){a=p.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,e){return p.each(this,a,e)},map:function(a){return this.pushStack(p.map(this,function(e,b){return a.call(e,b,e)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(a){var e=this.length;a=+a+(0>a?e:0);return this.pushStack(0<=a&&e>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Ka,sort:ja.sort,splice:ja.splice};p.extend=p.fn.extend=function(){var a,e,b,c,d=arguments[0]||{},f=1,g=arguments.length,l=!1;"boolean"==typeof d&&(l=d,d=arguments[f]||{},f++);"object"==typeof d||p.isFunction(d)||(d={});for(f===g&&(d=this,f--);g>f;f++)if(null!=(b=arguments[f]))for(e in b){var h=d[e];var q=b[e];d!==q&&(l&&q&&(p.isPlainObject(q)||
(a=p.isArray(q)))?(a?(a=!1,c=h&&p.isArray(h)?h:[]):c=h&&p.isPlainObject(h)?h:{},d[e]=p.extend(l,c,q)):void 0!==q&&(d[e]=q))}return d};p.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===p.type(a)},isArray:Array.isArray||function(a){return"array"===p.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!p.isArray(a)&&0<=a-parseFloat(a)},isEmptyObject:function(a){for(var e in a)return!1;
return!0},isPlainObject:function(a){var e;if(!a||"object"!==p.type(a)||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!Ha.call(a,"constructor")&&!Ha.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(Zc){return!1}if(N.ownLast)for(e in a)return Ha.call(a,e);for(e in a);return void 0===e||Ha.call(a,e)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?Da[Aa.call(a)]||"object":typeof a},globalEval:function(a){a&&p.trim(a)&&(b.execScript||function(a){b.eval.call(b,
a)})(a)},camelCase:function(a){return a.replace(Ga,"ms-").replace(ua,db)},nodeName:function(a,e){return a.nodeName&&a.nodeName.toLowerCase()===e.toLowerCase()},each:function(a,e,b){var c,d=0,f=a.length,g=u(a);if(b)if(g)for(;f>d&&(c=e.apply(a[d],b),!1!==c);d++);else for(d in a){if(c=e.apply(a[d],b),!1===c)break}else if(g)for(;f>d&&(c=e.call(a[d],d,a[d]),!1!==c);d++);else for(d in a)if(c=e.call(a[d],d,a[d]),!1===c)break;return a},trim:function(a){return null==a?"":(a+"").replace(Fa,"")},makeArray:function(a,
e){e=e||[];return null!=a&&(u(Object(a))?p.merge(e,"string"==typeof a?[a]:a):Ka.call(e,a)),e},inArray:function(a,e,b){if(e){if(ta)return ta.call(e,a,b);var c=e.length;for(b=b?0>b?Math.max(0,c+b):b:0;c>b;b++)if(b in e&&e[b]===a)return b}return-1},merge:function(a,e){for(var b=+e.length,c=0,d=a.length;b>c;)a[d++]=e[c++];if(b!==b)for(;void 0!==e[c];)a[d++]=e[c++];return a.length=d,a},grep:function(a,e,b){for(var c=[],d=0,f=a.length,g=!b;f>d;d++)b=!e(a[d],d),b!==g&&c.push(a[d]);return c},map:function(a,
e,b){var c=0,d=a.length,f=[];if(u(a))for(;d>c;c++){var g=e(a[c],c,b);null!=g&&f.push(g)}else for(c in a)g=e(a[c],c,b),null!=g&&f.push(g);return sa.apply([],f)},guid:1,proxy:function(a,e){var b,c,d;return"string"==typeof e&&(d=a[e],e=a,a=d),p.isFunction(a)?(b=Y.call(arguments,2),c=function(){return a.apply(e||this,b.concat(Y.call(arguments)))},c.guid=a.guid=a.guid||p.guid++,c):void 0},now:function(){return+new Date},support:N});p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,e){Da["[object "+e+"]"]=e.toLowerCase()});var xa=function(a){function e(a,e,b,c){var d,f,g,l,h;if((e?e.ownerDocument||e:M)!==D&&Ha(e),e=e||D,b=b||[],!a||"string"!=typeof a)return b;if(1!==(l=e.nodeType)&&9!==l)return[];if(J&&!c){if(d=Va.exec(a))if(g=d[1])if(9===l){if(f=e.getElementById(g),!f||!f.parentNode)return b;if(f.id===g)return b.push(f),b}else{if(e.ownerDocument&&(f=e.ownerDocument.getElementById(g))&&L(e,f)&&f.id===g)return b.push(f),b}else{if(d[2])return la.apply(b,e.getElementsByTagName(a)),
b;if((g=d[3])&&wa.getElementsByClassName&&e.getElementsByClassName)return la.apply(b,e.getElementsByClassName(g)),b}if(wa.qsa&&(!u||!u.test(a))){if(f=d=I,g=e,h=9===l&&a,1===l&&"object"!==e.nodeName.toLowerCase()){l=Ea(a);(d=e.getAttribute("id"))?f=d.replace(Ga,"\\$&"):e.setAttribute("id",f);f="[id='"+f+"'] ";for(g=l.length;g--;)l[g]=f+r(l[g]);g=xa.test(a)&&k(e.parentNode)||e;h=l.join(",")}if(h)try{return la.apply(b,g.querySelectorAll(h)),b}catch(Af){}finally{d||e.removeAttribute("id")}}}return B(a.replace(U,
"$1"),e,b,c)}function b(){function a(b,c){return e.push(b+" ")>oa.cacheLength&&delete a[e.shift()],a[b+" "]=c}var e=[];return a}function c(a){return a[I]=!0,a}function d(a){var e=D.createElement("div");try{return!!a(e)}catch(uf){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function f(a,e){var b=a.split("|");for(a=a.length;a--;)oa.attrHandle[b[a]]=e}function g(a,e){var b=e&&a,c=b&&1===a.nodeType&&1===e.nodeType&&(~e.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(c)return c;
if(b)for(;b=b.nextSibling;)if(b===e)return-1;return a?1:-1}function l(a){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===a}}function h(a){return function(e){var b=e.nodeName.toLowerCase();return("input"===b||"button"===b)&&e.type===a}}function q(a){return c(function(e){return e=+e,c(function(b,c){for(var d,f=a([],b.length,e),g=f.length;g--;)b[d=f[g]]&&(b[d]=!(c[d]=b[d]))})})}function k(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function m(){}function r(a){for(var e=
0,b=a.length,c="";b>e;e++)c+=a[e].value;return c}function x(a,e,b){var c=e.dir,d=b&&"parentNode"===c,f=S++;return e.first?function(e,b,f){for(;e=e[c];)if(1===e.nodeType||d)return a(e,b,f)}:function(e,b,g){var l,h,q=[T,f];if(g)for(;e=e[c];){if((1===e.nodeType||d)&&a(e,b,g))return!0}else for(;e=e[c];)if(1===e.nodeType||d){if(h=e[I]||(e[I]={}),(l=h[c])&&l[0]===T&&l[1]===f)return q[2]=l[2];if(h[c]=q,q[2]=a(e,b,g))return!0}}}function t(a){return 1<a.length?function(e,b,c){for(var d=a.length;d--;)if(!a[d](e,
b,c))return!1;return!0}:a[0]}function cb(a,e,b,c,d){for(var f,g=[],l=0,h=a.length,q=null!=e;h>l;l++)(f=a[l])&&(!b||b(f,c,d))&&(g.push(f),q&&e.push(l));return g}function z(a,b,d,f,g,l){return f&&!f[I]&&(f=z(f)),g&&!g[I]&&(g=z(g,l)),c(function(c,l,h,q){var k,m=[],r=[],x=l.length,t;if(!(t=c)){t=b||"*";for(var z=h.nodeType?[h]:h,y=[],F=0,p=z.length;p>F;F++)e(t,z[F],y);t=y}t=!a||!c&&b?t:cb(t,m,a,h,q);z=d?g||(c?a:x||f)?[]:l:t;if(d&&d(t,z,h,q),f){var C=cb(z,r);f(C,[],h,q);for(h=C.length;h--;)(k=C[h])&&(z[r[h]]=
!(t[r[h]]=k))}if(c){if(g||a){if(g){C=[];for(h=z.length;h--;)(k=z[h])&&C.push(t[h]=k);g(null,z=[],C,q)}for(h=z.length;h--;)(k=z[h])&&-1<(C=g?ya.call(c,k):m[h])&&(c[C]=!(l[C]=k))}}else z=cb(z===l?z.splice(x,z.length):z),g?g(null,l,z,q):la.apply(l,z)})}function y(a){var e,b,c=a.length,d=oa.relative[a[0].type];var f=d||oa.relative[" "];for(var g=d?1:0,l=x(function(a){return a===e},f,!0),h=x(function(a){return-1<ya.call(e,a)},f,!0),q=[function(a,b,c){return!d&&(c||b!==A)||((e=b).nodeType?l(a,b,c):h(a,
b,c))}];c>g;g++)if(f=oa.relative[a[g].type])q=[x(t(q),f)];else{if(f=oa.filter[a[g].type].apply(null,a[g].matches),f[I]){for(b=++g;c>b&&!oa.relative[a[b].type];b++);return z(1<g&&t(q),1<g&&r(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(U,"$1"),f,b>g&&y(a.slice(g,b)),c>b&&y(a=a.slice(b)),c>b&&r(a))}q.push(f)}return t(q)}function F(a,b){var d=0<b.length,f=0<a.length,g=function(c,g,l,h,q){var k,m,r,x=0,t="0",z=c&&[],y=[],F=A,p=c||f&&oa.find.TAG("*",q),C=T+=null==F?1:Math.random()||
.1,Gb=p.length;for(q&&(A=g!==D&&g);t!==Gb&&null!=(k=p[t]);t++){if(f&&k){for(m=0;r=a[m++];)if(r(k,g,l)){h.push(k);break}q&&(T=C)}d&&((k=!r&&k)&&x--,c&&z.push(k))}if(x+=t,d&&t!==x){for(m=0;r=b[m++];)r(z,y,g,l);if(c){if(0<x)for(;t--;)z[t]||y[t]||(y[t]=K.call(h));y=cb(y)}la.apply(h,y);q&&!c&&0<y.length&&1<x+b.length&&e.uniqueSort(h)}return q&&(T=C,A=F),z};return d?c(g):g}var p,C,B,A,n,G,D,E,J,u,Q,O,L,I="sizzle"+-new Date,M=a.document,T=0,S=0,ka=b(),za=b(),X=b(),ca=function(a,e){return a===e&&(G=!0),0},
ia={}.hasOwnProperty,ma=[],K=ma.pop,na=ma.push,la=ma.push,Lb=ma.slice,ya=ma.indexOf||function(a){for(var e=0,b=this.length;b>e;e++)if(this[e]===a)return e;return-1},N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Y="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)[\\x20\\t\\r\\n\\f]*\\]",ja=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
Y+")*)|.*)\\)|)",U=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ta=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,W=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,sa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,da=new RegExp(ja),ea=new RegExp("^"+N+"$"),ha={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+Y),PSEUDO:new RegExp("^"+ja),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Mc=/^(?:input|select|textarea|button)$/i,Ka=/^h\d$/i,Da=/^[^{]+\{\s*\[native \w/,Va=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xa=/[+~]/,Ga=/'|\\/g,Aa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ua=function(a,e,b){a="0x"+e-65536;
return a!==a||b?e:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{la.apply(ma=Lb.call(M.childNodes),M.childNodes),ma[M.childNodes.length].nodeType}catch(ne){la={apply:ma.length?function(a,e){na.apply(a,Lb.call(e))}:function(a,e){for(var b=a.length,c=0;a[b++]=e[c++];);a.length=b-1}}}var wa=e.support={};var Ia=e.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var Ha=e.setDocument=function(a){var e,b=a?a.ownerDocument||a:
M;a=b.defaultView;return b!==D&&9===b.nodeType&&b.documentElement?(D=b,E=b.documentElement,J=!Ia(b),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){Ha()},!1):a.attachEvent&&a.attachEvent("onunload",function(){Ha()})),wa.attributes=d(function(a){return a.className="i",!a.getAttribute("className")}),wa.getElementsByTagName=d(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),wa.getElementsByClassName=Da.test(b.getElementsByClassName)&&
d(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),wa.getById=d(function(a){return E.appendChild(a).id=I,!b.getElementsByName||!b.getElementsByName(I).length}),wa.getById?(oa.find.ID=function(a,e){if("undefined"!==typeof e.getElementById&&J)return(a=e.getElementById(a))&&a.parentNode?[a]:[]},oa.filter.ID=function(a){var e=a.replace(Aa,ua);return function(a){return a.getAttribute("id")===e}}):(delete oa.find.ID,
oa.filter.ID=function(a){var e=a.replace(Aa,ua);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===e}}),oa.find.TAG=wa.getElementsByTagName?function(a,e){return"undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(a):void 0}:function(a,e){var b=[],c=0;e=e.getElementsByTagName(a);if("*"===a){for(;a=e[c++];)1===a.nodeType&&b.push(a);return b}return e},oa.find.CLASS=wa.getElementsByClassName&&function(a,e){return"undefined"!==typeof e.getElementsByClassName&&
J?e.getElementsByClassName(a):void 0},Q=[],u=[],(wa.qsa=Da.test(b.querySelectorAll))&&(d(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&u.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||u.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||
u.push(":checked")}),d(function(a){var e=b.createElement("input");e.setAttribute("type","hidden");a.appendChild(e).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&u.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||u.push(":enabled",":disabled");a.querySelectorAll("*,:x");u.push(",.*:")})),(wa.matchesSelector=Da.test(O=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&d(function(a){wa.disconnectedMatch=
O.call(a,"div");O.call(a,"[s!='']:x");Q.push("!=",ja)}),u=u.length&&new RegExp(u.join("|")),Q=Q.length&&new RegExp(Q.join("|")),e=Da.test(E.compareDocumentPosition),L=e||Da.test(E.contains)?function(a,e){var b=9===a.nodeType?a.documentElement:a;e=e&&e.parentNode;return a===e||!(!e||1!==e.nodeType||!(b.contains?b.contains(e):a.compareDocumentPosition&&16&a.compareDocumentPosition(e)))}:function(a,e){if(e)for(;e=e.parentNode;)if(e===a)return!0;return!1},ca=e?function(a,e){if(a===e)return G=!0,0;var c=
!a.compareDocumentPosition-!e.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(e.ownerDocument||e)?a.compareDocumentPosition(e):1,1&c||!wa.sortDetached&&e.compareDocumentPosition(a)===c?a===b||a.ownerDocument===M&&L(M,a)?-1:e===b||e.ownerDocument===M&&L(M,e)?1:n?ya.call(n,a)-ya.call(n,e):0:4&c?-1:1)}:function(a,e){if(a===e)return G=!0,0;var c=0,d=a.parentNode,f=e.parentNode,l=[a],h=[e];if(!d||!f)return a===b?-1:e===b?1:d?-1:f?1:n?ya.call(n,a)-ya.call(n,e):0;if(d===f)return g(a,e);for(;a=
a.parentNode;)l.unshift(a);for(a=e;a=a.parentNode;)h.unshift(a);for(;l[c]===h[c];)c++;return c?g(l[c],h[c]):l[c]===M?-1:h[c]===M?1:0},b):D};e.matches=function(a,b){return e(a,null,null,b)};e.matchesSelector=function(a,b){if((a.ownerDocument||a)!==D&&Ha(a),b=b.replace(sa,"='$1']"),!(!wa.matchesSelector||!J||Q&&Q.test(b)||u&&u.test(b)))try{var c=O.call(a,b);if(c||wa.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(vf){}return 0<e(b,D,null,[a]).length};e.contains=function(a,e){return(a.ownerDocument||
a)!==D&&Ha(a),L(a,e)};e.attr=function(a,e){(a.ownerDocument||a)!==D&&Ha(a);var b=oa.attrHandle[e.toLowerCase()];b=b&&ia.call(oa.attrHandle,e.toLowerCase())?b(a,e,!J):void 0;return void 0!==b?b:wa.attributes||!J?a.getAttribute(e):(b=a.getAttributeNode(e))&&b.specified?b.value:null};e.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};e.uniqueSort=function(a){var e,b=[],c=0,d=0;if(G=!wa.detectDuplicates,n=!wa.sortStable&&a.slice(0),a.sort(ca),G){for(;e=a[d++];)e===a[d]&&(c=
b.push(d));for(;c--;)a.splice(b[c],1)}return n=null,a};var Fa=e.getText=function(a){var e,b="",c=0;if(e=a.nodeType)if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=Fa(a)}else{if(3===e||4===e)return a.nodeValue}else for(;e=a[c++];)b+=Fa(e);return b};var oa=e.selectors={cacheLength:50,createPseudo:c,match:ha,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(Aa,ua),a[3]=(a[3]||a[4]||a[5]||"").replace(Aa,ua),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||e.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&e.error(a[0]),a},PSEUDO:function(a){var e,b=!a[6]&&a[2];return ha.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":b&&da.test(b)&&
(e=Ea(b,!0))&&(e=b.indexOf(")",b.length-e)-b.length)&&(a[0]=a[0].slice(0,e),a[2]=b.slice(0,e)),a.slice(0,3))}},filter:{TAG:function(a){var e=a.replace(Aa,ua).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===e}},CLASS:function(a){var e=ka[a+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),ka(a,function(a){return e.test("string"==typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||
"")}))},ATTR:function(a,b,c){return function(d){d=e.attr(d,a);return null==d?"!="===b:b?(d+="","="===b?d===c:"!="===b?d!==c:"^="===b?c&&0===d.indexOf(c):"*="===b?c&&-1<d.indexOf(c):"$="===b?c&&d.slice(-c.length)===c:"~="===b?-1<(" "+d+" ").indexOf(c):"|="===b?d===c||d.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,e,b,c,d){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),l="of-type"===e;return 1===c&&0===d?function(a){return!!a.parentNode}:function(e,b,h){var q;b=f!==g?"nextSibling":"previousSibling";
var k=e.parentNode,m=l&&e.nodeName.toLowerCase();h=!h&&!l;if(k){if(f){for(;b;){for(q=e;q=q[b];)if(l?q.nodeName.toLowerCase()===m:1===q.nodeType)return!1;var r=b="only"===a&&!r&&"nextSibling"}return!0}if(r=[g?k.firstChild:k.lastChild],g&&h){h=k[I]||(k[I]={});var x=h[a]||[];var t=x[0]===T&&x[1];var z=x[0]===T&&x[2];for(q=t&&k.childNodes[t];q=++t&&q&&q[b]||(z=t=0)||r.pop();)if(1===q.nodeType&&++z&&q===e){h[a]=[T,t,z];break}}else if(h&&(x=(e[I]||(e[I]={}))[a])&&x[0]===T)z=x[1];else for(;(q=++t&&q&&q[b]||
(z=t=0)||r.pop())&&((l?q.nodeName.toLowerCase()!==m:1!==q.nodeType)||!++z||(h&&((q[I]||(q[I]={}))[a]=[T,z]),q!==e)););return z-=d,z===c||0===z%c&&0<=z/c}}},PSEUDO:function(a,b){var d,f=oa.pseudos[a]||oa.setFilters[a.toLowerCase()]||e.error("unsupported pseudo: "+a);return f[I]?f(b):1<f.length?(d=[a,a,"",b],oa.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,e){for(var c,d=f(a,b),g=d.length;g--;)c=ya.call(a,d[g]),a[c]=!(e[c]=d[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:c(function(a){var e=
[],b=[],d=C(a.replace(U,"$1"));return d[I]?c(function(a,e,b,c){var f;b=d(a,null,c,[]);for(c=a.length;c--;)(f=b[c])&&(a[c]=!(e[c]=f))}):function(a,c,f){return e[0]=a,d(e,null,f,b),!b.pop()}}),has:c(function(a){return function(b){return 0<e(a,b).length}}),contains:c(function(a){return function(e){return-1<(e.textContent||e.innerText||Fa(e)).indexOf(a)}}),lang:c(function(a){return ea.test(a||"")||e.error("unsupported lang: "+a),a=a.replace(Aa,ua).toLowerCase(),function(e){var b;do if(b=J?e.lang:e.getAttribute("xml:lang")||
e.getAttribute("lang"))return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var b=a.location&&a.location.hash;return b&&b.slice(1)===e.id},root:function(a){return a===E},focus:function(a){return a===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var e=a.nodeName.toLowerCase();return"input"===
e&&!!a.checked||"option"===e&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!oa.pseudos.empty(a)},header:function(a){return Ka.test(a.nodeName)},input:function(a){return Mc.test(a.nodeName)},button:function(a){var e=a.nodeName.toLowerCase();return"input"===e&&"button"===a.type||"button"===e},text:function(a){var e;return"input"===
a.nodeName.toLowerCase()&&"text"===a.type&&(null==(e=a.getAttribute("type"))||"text"===e.toLowerCase())},first:q(function(){return[0]}),last:q(function(a,e){return[e-1]}),eq:q(function(a,e,b){return[0>b?b+e:b]}),even:q(function(a,e){for(var b=0;e>b;b+=2)a.push(b);return a}),odd:q(function(a,e){for(var b=1;e>b;b+=2)a.push(b);return a}),lt:q(function(a,e,b){for(e=0>b?b+e:b;0<=--e;)a.push(e);return a}),gt:q(function(a,e,b){for(b=0>b?b+e:b;++b<e;)a.push(b);return a})}};oa.pseudos.nth=oa.pseudos.eq;for(p in{radio:!0,
checkbox:!0,file:!0,password:!0,image:!0})oa.pseudos[p]=l(p);for(p in{submit:!0,reset:!0})oa.pseudos[p]=h(p);m.prototype=oa.filters=oa.pseudos;oa.setFilters=new m;var Ea=e.tokenize=function(a,b){var c,d,f,g,h;if(g=za[a+" "])return b?0:g.slice(0);g=a;var l=[];for(h=oa.preFilter;g;){q&&!(c=ta.exec(g))||(c&&(g=g.slice(c[0].length)||g),l.push(d=[]));var q=!1;(c=W.exec(g))&&(q=c.shift(),d.push({value:q,type:c[0].replace(U," ")}),g=g.slice(q.length));for(f in oa.filter)!(c=ha[f].exec(g))||h[f]&&!(c=h[f](c))||
(q=c.shift(),d.push({value:q,type:f,matches:c}),g=g.slice(q.length));if(!q)break}return b?g.length:g?e.error(a):za(a,l).slice(0)};return C=e.compile=function(a,e){var b,c=[],d=[],f=X[a+" "];if(!f){e||(e=Ea(a));for(b=e.length;b--;)f=y(e[b]),f[I]?c.push(f):d.push(f);f=X(a,F(d,c));f.selector=a}return f},B=e.select=function(a,e,b,c){var d,f,g,h,l,q="function"==typeof a&&a,m=!c&&Ea(a=q.selector||a);if(b=b||[],1===m.length){if(f=m[0]=m[0].slice(0),2<f.length&&"ID"===(g=f[0]).type&&wa.getById&&9===e.nodeType&&
J&&oa.relative[f[1].type]){if(e=(oa.find.ID(g.matches[0].replace(Aa,ua),e)||[])[0],!e)return b;q&&(e=e.parentNode);a=a.slice(f.shift().value.length)}for(d=ha.needsContext.test(a)?0:f.length;d--&&(g=f[d],!oa.relative[h=g.type]);)if((l=oa.find[h])&&(c=l(g.matches[0].replace(Aa,ua),xa.test(f[0].type)&&k(e.parentNode)||e))){if(f.splice(d,1),a=c.length&&r(f),!a)return la.apply(b,c),b;break}}return(q||C(a,m))(c,e,!J,b,xa.test(a)&&k(e.parentNode)||e),b},wa.sortStable=I.split("").sort(ca).join("")===I,wa.detectDuplicates=
!!G,Ha(),wa.sortDetached=d(function(a){return 1&a.compareDocumentPosition(D.createElement("div"))}),d(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,e,b){return b?void 0:a.getAttribute(e,"type"===e.toLowerCase()?1:2)}),wa.attributes&&d(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,e,b){return b||"input"!==a.nodeName.toLowerCase()?
void 0:a.defaultValue}),d(function(a){return null==a.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,e,b){var c;return b?void 0:!0===a[e]?e.toLowerCase():(c=a.getAttributeNode(e))&&c.specified?c.value:null}),e}(b);p.find=xa;p.expr=xa.selectors;p.expr[":"]=p.expr.pseudos;p.unique=xa.uniqueSort;p.text=xa.getText;p.isXMLDoc=xa.isXML;p.contains=xa.contains;var yb=p.expr.match.needsContext,
Ta=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,jb=/^.[^:#\[\.,]*$/;p.filter=function(a,e,b){var c=e[0];return b&&(a=":not("+a+")"),1===e.length&&1===c.nodeType?p.find.matchesSelector(c,a)?[c]:[]:p.find.matches(a,p.grep(e,function(a){return 1===a.nodeType}))};p.fn.extend({find:function(a){var e,b=[],c=this,d=c.length;if("string"!=typeof a)return this.pushStack(p(a).filter(function(){for(e=0;d>e;e++)if(p.contains(c[e],this))return!0}));for(e=0;d>e;e++)p.find(a,c[e],b);return b=this.pushStack(1<d?p.unique(b):b),b.selector=
this.selector?this.selector+" "+a:a,b},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&yb.test(e)?p(e):e||[],!1).length}});var K=b.document,da=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(a,e){var b,c;if(!a)return this;if("string"==typeof a){if(b="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:da.exec(a),!b||!b[1]&&e)return!e||e.jquery?(e||W).find(a):
this.constructor(e).find(a);if(b[1]){if(e=e instanceof p?e[0]:e,p.merge(this,p.parseHTML(b[1],e&&e.nodeType?e.ownerDocument||e:K,!0)),Ta.test(b[1])&&p.isPlainObject(e))for(b in e)p.isFunction(this[b])?this[b](e[b]):this.attr(b,e[b]);return this}if(c=K.getElementById(b[2]),c&&c.parentNode){if(c.id!==b[2])return W.find(a);this.length=1;this[0]=c}return this.context=K,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):p.isFunction(a)?"undefined"!=typeof W.ready?W.ready(a):
a(p):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))}).prototype=p.fn;var W=p(K);var ha=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};p.extend({dir:function(a,e,b){var c=[];for(a=a[e];a&&9!==a.nodeType&&(void 0===b||1!==a.nodeType||!p(a).is(b));)1===a.nodeType&&c.push(a),a=a[e];return c},sibling:function(a,e){for(var b=[];a;a=a.nextSibling)1===a.nodeType&&a!==e&&b.push(a);return b}});p.fn.extend({has:function(a){var e,b=p(a,
this),c=b.length;return this.filter(function(){for(e=0;c>e;e++)if(p.contains(this,b[e]))return!0})},closest:function(a,e){for(var b,c=0,d=this.length,f=[],g=yb.test(a)||"string"!=typeof a?p(a,e||this.context):0;d>c;c++)for(b=this[c];b&&b!==e;b=b.parentNode)if(11>b.nodeType&&(g?-1<g.index(b):1===b.nodeType&&p.find.matchesSelector(b,a))){f.push(b);break}return this.pushStack(1<f.length?p.unique(f):f)},index:function(a){return a?"string"==typeof a?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):
this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,e){return this.pushStack(p.unique(p.merge(this.get(),p(a,e))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});p.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,e,b){return p.dir(a,"parentNode",b)},next:function(a){return d(a,"nextSibling")},prev:function(a){return d(a,"previousSibling")},
nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,e,b){return p.dir(a,"nextSibling",b)},prevUntil:function(a,e,b){return p.dir(a,"previousSibling",b)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,e){p.fn[a]=function(b,
c){var d=p.map(this,e,b);return"Until"!==a.slice(-5)&&(c=b),c&&"string"==typeof c&&(d=p.filter(c,d)),1<this.length&&(U[a]||(d=p.unique(d)),ha.test(a)&&(d=d.reverse())),this.pushStack(d)}});var Oa=/\S+/g,Ma={};p.Callbacks=function(a){a="string"==typeof a?Ma[a]||f(a):p.extend({},a);var e,b,c,d,g,h,l=[],q=!a.once&&[],k=function(f){b=a.memory&&f;c=!0;g=h||0;h=0;d=l.length;for(e=!0;l&&d>g;g++)if(!1===l[g].apply(f[0],f[1])&&a.stopOnFalse){b=!1;break}e=!1;l&&(q?q.length&&k(q.shift()):b?l=[]:m.disable())},
m={add:function(){if(l){var c=l.length;!function Jb(e){p.each(e,function(e,b){e=p.type(b);"function"===e?a.unique&&m.has(b)||l.push(b):b&&b.length&&"string"!==e&&Jb(b)})}(arguments);e?d=l.length:b&&(h=c,k(b))}return this},remove:function(){return l&&p.each(arguments,function(a,b){for(var c;-1<(c=p.inArray(b,l,c));)l.splice(c,1),e&&(d>=c&&d--,g>=c&&g--)}),this},has:function(a){return a?-1<p.inArray(a,l):!(!l||!l.length)},empty:function(){return l=[],d=0,this},disable:function(){return l=q=b=void 0,
this},disabled:function(){return!l},lock:function(){return q=void 0,b||m.disable(),this},locked:function(){return!q},fireWith:function(a,b){return!l||c&&!q||(b=b||[],b=[a,b.slice?b.slice():b],e?q.push(b):k(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!c}};return m};p.extend({Deferred:function(a){var e=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],
b="pending",c={state:function(){return b},always:function(){return d.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(b){p.each(e,function(e,f){var g=p.isFunction(a[e])&&a[e];d[f[1]](function(){var a=g&&g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[f[0]+"With"](this===c?b.promise():this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?p.extend(a,c):c}},d=
{};return c.pipe=c.then,p.each(e,function(a,f){var g=f[2],l=f[3];c[f[1]]=g.add;l&&g.add(function(){b=l},e[1^a][2].disable,e[2][2].lock);d[f[0]]=function(){return d[f[0]+"With"](this===d?c:this,arguments),this};d[f[0]+"With"]=g.fireWith}),c.promise(d),a&&a.call(d,d),d},when:function(a){var e=0,b=Y.call(arguments),c=b.length,d=1!==c||a&&p.isFunction(a.promise)?c:0,f=1===d?a:p.Deferred(),g=function(a,e,b){return function(c){e[a]=this;b[a]=1<arguments.length?Y.call(arguments):c;b===h?f.notifyWith(e,b):
--d||f.resolveWith(e,b)}},l;if(1<c){var h=Array(c);var q=Array(c);for(l=Array(c);c>e;e++)b[e]&&p.isFunction(b[e].promise)?b[e].promise().done(g(e,l,b)).fail(f.reject).progress(g(e,q,h)):--d}return d||f.resolveWith(l,b),f.promise()}});var nb;p.fn.ready=function(a){return p.ready.promise().done(a),this};p.extend({isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(!0===a?!--p.readyWait:!p.isReady){if(!K.body)return setTimeout(p.ready);p.isReady=!0;!0!==a&&
0<--p.readyWait||(nb.resolveWith(K,[p]),p.fn.triggerHandler&&(p(K).triggerHandler("ready"),p(K).off("ready")))}}});p.ready.promise=function(a){if(!nb)if(nb=p.Deferred(),"complete"===K.readyState)setTimeout(p.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",c,!1),b.addEventListener("load",c,!1);else{K.attachEvent("onreadystatechange",c);b.attachEvent("onload",c);var e=!1;try{e=null==b.frameElement&&K.documentElement}catch(Zc){}e&&e.doScroll&&!function ic(){if(!p.isReady){try{e.doScroll("left")}catch($c){return setTimeout(ic,
50)}g();p.ready()}}()}return nb.promise(a)};for(var ab in p(N))break;N.ownLast="0"!==ab;N.inlineBlockNeedsLayout=!1;p(function(){var a,e,b,c;(b=K.getElementsByTagName("body")[0])&&b.style&&(e=K.createElement("div"),c=K.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(e),"undefined"!==typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",N.inlineBlockNeedsLayout=a=3===e.offsetWidth,
a&&(b.style.zoom=1)),b.removeChild(c))});(function(){var a=K.createElement("div");if(null==N.deleteExpando){N.deleteExpando=!0;try{delete a.test}catch(Gb){N.deleteExpando=!1}}})();p.acceptData=function(a){var e=p.noData[(a.nodeName+" ").toLowerCase()],b=+a.nodeType||1;return 1!==b&&9!==b?!1:!e||!0!==e&&a.getAttribute("classid")===e};var Pa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ea=/([A-Z])/g;p.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=
a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!k(a)},data:function(a,e,b){return m(a,e,b)},removeData:function(a,b){return e(a,b)},_data:function(a,e,b){return m(a,e,b,!0)},_removeData:function(a,b){return e(a,b,!0)}});p.fn.extend({data:function(a,e){var b,c,d,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(d=p.data(f),1===f.nodeType&&!p._data(f,"parsedAttrs"))){for(b=g.length;b--;)g[b]&&(c=g[b].name,0===c.indexOf("data-")&&(c=p.camelCase(c.slice(5)),h(f,c,d[c])));p._data(f,"parsedAttrs",
!0)}return d}return"object"==typeof a?this.each(function(){p.data(this,a)}):1<arguments.length?this.each(function(){p.data(this,a,e)}):f?h(f,a,p.data(f,a)):void 0},removeData:function(a){return this.each(function(){p.removeData(this,a)})}});p.extend({queue:function(a,e,b){var c;return a?(e=(e||"fx")+"queue",c=p._data(a,e),b&&(!c||p.isArray(b)?c=p._data(a,e,p.makeArray(b)):c.push(b)),c||[]):void 0},dequeue:function(a,e){e=e||"fx";var b=p.queue(a,e),c=b.length,d=b.shift(),f=p._queueHooks(a,e),g=function(){p.dequeue(a,
e)};"inprogress"===d&&(d=b.shift(),c--);d&&("fx"===e&&b.unshift("inprogress"),delete f.stop,d.call(a,g,f));!c&&f&&f.empty.fire()},_queueHooks:function(a,e){var b=e+"queueHooks";return p._data(a,b)||p._data(a,b,{empty:p.Callbacks("once memory").add(function(){p._removeData(a,e+"queue");p._removeData(a,b)})})}});p.fn.extend({queue:function(a,e){var b=2;return"string"!=typeof a&&(e=a,a="fx",b--),arguments.length<b?p.queue(this[0],a):void 0===e?this:this.each(function(){var b=p.queue(this,a,e);p._queueHooks(this,
a);"fx"===a&&"inprogress"!==b[0]&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,e){var b,c=1,d=p.Deferred(),f=this,g=this.length,l=function(){--c||d.resolveWith(f,[f])};"string"!=typeof a&&(e=a,a=void 0);for(a=a||"fx";g--;)(b=p._data(f[g],a+"queueHooks"))&&b.empty&&(c++,b.empty.add(l));return l(),d.promise(e)}});var Ra=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Qa=["Top","Right",
"Bottom","Left"],lb=function(a,e){return a=e||a,"none"===p.css(a,"display")||!p.contains(a.ownerDocument,a)},Ea=p.access=function(a,e,b,c,d,f,g){var l=0,h=a.length,q=null==b;if("object"===p.type(b))for(l in d=!0,b)p.access(a,e,l,b[l],!0,f,g);else if(void 0!==c&&(d=!0,p.isFunction(c)||(g=!0),q&&(g?(e.call(a,c),e=null):(q=e,e=function(a,e,b){return q.call(p(a),b)})),e))for(;h>l;l++)e(a[l],b,g?c:c.call(a[l],l,e(a[l],b)));return d?a:q?e.call(a):h?e(a[0],b):f},Hb=/^(?:checkbox|radio)$/i;!function(){var a=
K.createElement("input"),e=K.createElement("div"),b=K.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",N.leadingWhitespace=3===e.firstChild.nodeType,N.tbody=!e.getElementsByTagName("tbody").length,N.htmlSerialize=!!e.getElementsByTagName("link").length,N.html5Clone="<:nav></:nav>"!==K.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,b.appendChild(a),N.appendChecked=a.checked,e.innerHTML="<textarea>x</textarea>",
N.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,b.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",N.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,N.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){N.noCloneEvent=!1}),e.cloneNode(!0).click()),null==N.deleteExpando){N.deleteExpando=!0;try{delete e.test}catch(ic){N.deleteExpando=!1}}}();(function(){var a,e=K.createElement("div");for(a in{submit:!0,change:!0,focusin:!0}){var c="on"+
a;(N[a+"Bubbles"]=c in b)||(e.setAttribute(c,"t"),N[a+"Bubbles"]=!1===e.attributes[c].expando)}})();var Kb=/^(?:input|select|textarea)$/i,Lb=/^key/,Mc=/^(?:mouse|pointer|contextmenu)|click/,kd=/^(?:focusinfocus|focusoutblur)$/,Va=/^([^.]*)(?:\.(.+)|)$/;p.event={global:{},add:function(a,e,b,c,d){var f,g,l,h,q,k,m,r;if(g=p._data(a)){b.handler&&(l=b,b=l.handler,d=l.selector);b.guid||(b.guid=p.guid++);(f=g.events)||(f=g.events={});(q=g.handle)||(q=g.handle=function(a){return"undefined"===typeof p||a&&
p.event.triggered===a.type?void 0:p.event.dispatch.apply(q.elem,arguments)},q.elem=a);e=(e||"").match(Oa)||[""];for(g=e.length;g--;){var x=Va.exec(e[g])||[];var t=r=x[1];x=(x[2]||"").split(".").sort();t&&(h=p.event.special[t]||{},t=(d?h.delegateType:h.bindType)||t,h=p.event.special[t]||{},k=p.extend({type:t,origType:r,data:c,handler:b,guid:b.guid,selector:d,needsContext:d&&p.expr.match.needsContext.test(d),namespace:x.join(".")},l),(m=f[t])||(m=f[t]=[],m.delegateCount=0,h.setup&&!1!==h.setup.call(a,
c,x,q)||(a.addEventListener?a.addEventListener(t,q,!1):a.attachEvent&&a.attachEvent("on"+t,q))),h.add&&(h.add.call(a,k),k.handler.guid||(k.handler.guid=b.guid)),d?m.splice(m.delegateCount++,0,k):m.push(k),p.event.global[t]=!0)}a=null}},remove:function(a,e,b,c,d){var f,g,l,h,q,k,m,r,x=p.hasData(a)&&p._data(a);if(x&&(q=x.events)){e=(e||"").match(Oa)||[""];for(h=e.length;h--;)if(g=Va.exec(e[h])||[],k=r=g[1],m=(g[2]||"").split(".").sort(),k){var t=p.event.special[k]||{};k=(c?t.delegateType:t.bindType)||
k;var z=q[k]||[];g=g[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=f=z.length;f--;){var y=z[f];!d&&r!==y.origType||b&&b.guid!==y.guid||g&&!g.test(y.namespace)||c&&c!==y.selector&&("**"!==c||!y.selector)||(z.splice(f,1),y.selector&&z.delegateCount--,t.remove&&t.remove.call(a,y))}l&&!z.length&&(t.teardown&&!1!==t.teardown.call(a,m,x.handle)||p.removeEvent(a,k,x.handle),delete q[k])}else for(k in q)p.event.remove(a,k+e[h],b,c,!0);p.isEmptyObject(q)&&(delete x.handle,p._removeData(a,
"events"))}},trigger:function(a,e,c,d){var f,g,l,h,q=[c||K],k=Ha.call(a,"type")?a.type:a;var m=Ha.call(a,"namespace")?a.namespace.split("."):[];if(l=f=c=c||K,3!==c.nodeType&&8!==c.nodeType&&!kd.test(k+p.event.triggered)&&(0<=k.indexOf(".")&&(m=k.split("."),k=m.shift(),m.sort()),g=0>k.indexOf(":")&&"on"+k,a=a[p.expando]?a:new p.Event(k,"object"==typeof a&&a),a.isTrigger=d?2:3,a.namespace=m.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,
a.target||(a.target=c),e=null==e?[a]:p.makeArray(e,[a]),h=p.event.special[k]||{},d||!h.trigger||!1!==h.trigger.apply(c,e))){if(!d&&!h.noBubble&&!p.isWindow(c)){var r=h.delegateType||k;for(kd.test(r+k)||(l=l.parentNode);l;l=l.parentNode)q.push(l),f=l;f===(c.ownerDocument||K)&&q.push(f.defaultView||f.parentWindow||b)}for(m=0;(l=q[m++])&&!a.isPropagationStopped();)a.type=1<m?r:h.bindType||k,(f=(p._data(l,"events")||{})[a.type]&&p._data(l,"handle"))&&f.apply(l,e),(f=g&&l[g])&&f.apply&&p.acceptData(l)&&
(a.result=f.apply(l,e),!1===a.result&&a.preventDefault());if(a.type=k,!(d||a.isDefaultPrevented()||h._default&&!1!==h._default.apply(q.pop(),e))&&p.acceptData(c)&&g&&c[k]&&!p.isWindow(c)){(f=c[g])&&(c[g]=null);p.event.triggered=k;try{c[k]()}catch(ed){}p.event.triggered=void 0;f&&(c[g]=f)}return a.result}},dispatch:function(a){a=p.event.fix(a);var e,b,c,d,f=Y.call(arguments);var g=(p._data(this,"events")||{})[a.type]||[];var l=p.event.special[a.type]||{};if(f[0]=a,a.delegateTarget=this,!l.preDispatch||
!1!==l.preDispatch.call(this,a)){var h=p.event.handlers.call(this,a,g);for(g=0;(c=h[g++])&&!a.isPropagationStopped();)for(a.currentTarget=c.elem,d=0;(b=c.handlers[d++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(b.namespace)||(a.handleObj=b,a.data=b.data,e=((p.event.special[b.origType]||{}).handle||b.handler).apply(c.elem,f),void 0===e||!1!==(a.result=e)||(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(a,
e){var b,c=[],d=e.delegateCount,f=a.target;if(d&&f.nodeType&&(!a.button||"click"!==a.type))for(;f!=this;f=f.parentNode||this)if(1===f.nodeType&&(!0!==f.disabled||"click"!==a.type)){var g=[];for(b=0;d>b;b++){var l=e[b];var h=l.selector+" ";void 0===g[h]&&(g[h]=l.needsContext?0<=p(h,this).index(f):p.find(h,this,null,[f]).length);g[h]&&g.push(l)}g.length&&c.push({elem:f,handlers:g})}return d<e.length&&c.push({elem:this,handlers:e.slice(d)}),c},fix:function(a){if(a[p.expando])return a;var e=a.type;var b=
a,c=this.fixHooks[e];c||(this.fixHooks[e]=c=Mc.test(e)?this.mouseHooks:Lb.test(e)?this.keyHooks:{});var d=c.props?this.props.concat(c.props):this.props;a=new p.Event(b);for(e=d.length;e--;){var f=d[e];a[f]=b[f]}return a.target||(a.target=b.srcElement||K),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,c.filter?c.filter(a,b):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},
keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,e){return null==a.which&&(a.which=null!=e.charCode?e.charCode:e.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,e){var b,c,d,f=e.button,g=e.fromElement;return null==a.pageX&&null!=e.clientX&&(c=a.target.ownerDocument||K,d=c.documentElement,b=c.body,a.pageX=e.clientX+(d&&d.scrollLeft||b&&b.scrollLeft||0)-(d&&d.clientLeft||
b&&b.clientLeft||0),a.pageY=e.clientY+(d&&d.scrollTop||b&&b.scrollTop||0)-(d&&d.clientTop||b&&b.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?e.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)try{return this.focus(),!1}catch(cb){}},delegateType:"focusin"},blur:{trigger:function(){return this===x()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return p.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return p.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,e,b,c){a=p.extend(new p.Event,b,{type:a,isSimulated:!0,originalEvent:{}});c?p.event.trigger(a,null,e):p.event.dispatch.call(e,a);a.isDefaultPrevented()&&b.preventDefault()}};p.removeEvent=K.removeEventListener?function(a,e,b){a.removeEventListener&&
a.removeEventListener(e,b,!1)}:function(a,e,b){e="on"+e;a.detachEvent&&("undefined"===typeof a[e]&&(a[e]=null),a.detachEvent(e,b))};p.Event=function(a,e){return this instanceof p.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?l:q):this.type=a,e&&p.extend(this,e),this.timeStamp=a&&a.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(a,e)};p.Event.prototype={isDefaultPrevented:q,isPropagationStopped:q,
isImmediatePropagationStopped:q,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=l;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=l;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=l;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};p.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,e){p.event.special[a]={delegateType:e,bindType:e,handle:function(a){var b,c=a.relatedTarget,d=a.handleObj;return(!c||c!==this&&!p.contains(this,c))&&(a.type=d.origType,b=d.handler.apply(this,arguments),a.type=e),b}}});N.submitBubbles||(p.event.special.submit={setup:function(){return p.nodeName(this,"form")?!1:void p.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=p.nodeName(a,"input")||
p.nodeName(a,"button")?a.form:void 0)&&!p._data(a,"submitBubbles")&&(p.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),p._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return p.nodeName(this,"form")?!1:void p.event.remove(this,"._submit")}});N.changeBubbles||(p.event.special.change={setup:function(){return Kb.test(this.nodeName)?(("checkbox"===
this.type||"radio"===this.type)&&(p.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);p.event.simulate("change",this,a,!0)})),!1):void p.event.add(this,"beforeactivate._change",function(a){a=a.target;Kb.test(a.nodeName)&&!p._data(a,"changeBubbles")&&(p.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||
p.event.simulate("change",this.parentNode,a,!0)}),p._data(a,"changeBubbles",!0))})},handle:function(a){var e=a.target;return this!==e||a.isSimulated||a.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return p.event.remove(this,"._change"),!Kb.test(this.nodeName)}});N.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,e){var b=function(a){p.event.simulate(e,a.target,p.event.fix(a),!0)};p.event.special[e]={setup:function(){var c=
this.ownerDocument||this,d=p._data(c,e);d||c.addEventListener(a,b,!0);p._data(c,e,(d||0)+1)},teardown:function(){var c=this.ownerDocument||this,d=p._data(c,e)-1;d?p._data(c,e,d):(c.removeEventListener(a,b,!0),p._removeData(c,e))}}});p.fn.extend({on:function(a,e,b,c,d){var f,g;if("object"==typeof a){"string"!=typeof e&&(b=b||e,e=void 0);for(f in a)this.on(f,e,b,a[f],d);return this}if(null==b&&null==c?(c=e,b=e=void 0):null==c&&("string"==typeof e?(c=b,b=void 0):(c=b,b=e,e=void 0)),!1===c)c=q;else if(!c)return this;
return 1===d&&(g=c,c=function(a){return p().off(a),g.apply(this,arguments)},c.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a,c,b,e)})},one:function(a,e,b,c){return this.on(a,e,b,c,1)},off:function(a,e,b){var c,d;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,p(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"==typeof a){for(d in a)this.off(d,e,a[d]);return this}return(!1===e||"function"==typeof e)&&(b=
e,e=void 0),!1===b&&(b=q),this.each(function(){p.event.remove(this,a,b,e)})},trigger:function(a,e){return this.each(function(){p.event.trigger(a,e,this)})},triggerHandler:function(a,e){var b=this[0];return b?p.event.trigger(a,e,b,!0):void 0}});var kb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",nc=/ jQuery\d+="(?:null|\d+)"/g,ld=new RegExp("<(?:"+kb+")[\\s/>]","i"),Ia=/^\s+/,Xb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
Yb=/<([\w:]+)/,md=/<tbody/i,ye=/<|&#?\w+;/,ze=/<(?:script|style|link)/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,nd=/^$|\/(?:java|ecma)script/i,le=/^true\/(.*)/,Be=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ua={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,
"<table><tbody><tr>","</tr></tbody></table>"],_default:N.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Nc=z(K).appendChild(K.createElement("div"));Ua.optgroup=Ua.option;Ua.tbody=Ua.tfoot=Ua.colgroup=Ua.caption=Ua.thead;Ua.th=Ua.td;p.extend({clone:function(a,e,b){var c,d,f,g=p.contains(a.ownerDocument,a);if(N.html5Clone||p.isXMLDoc(a)||!ld.test("<"+a.nodeName+">")?d=a.cloneNode(!0):(Nc.innerHTML=a.outerHTML,Nc.removeChild(d=Nc.firstChild)),!(N.noCloneEvent&&N.noCloneChecked||1!==a.nodeType&&11!==
a.nodeType||p.isXMLDoc(a))){var l=t(d);var h=t(a);for(f=0;null!=(c=h[f]);++f)if(l[f]){var q=void 0,k,m=c,r=l[f];if(1===r.nodeType){if(k=r.nodeName.toLowerCase(),!N.noCloneEvent&&r[p.expando]){c=p._data(r);for(q in c.events)p.removeEvent(r,q,c.handle);r.removeAttribute(p.expando)}"script"===k&&r.text!==m.text?(B(r).text=m.text,y(r)):"object"===k?(r.parentNode&&(r.outerHTML=m.outerHTML),N.html5Clone&&m.innerHTML&&!p.trim(r.innerHTML)&&(r.innerHTML=m.innerHTML)):"input"===k&&Hb.test(m.type)?(r.defaultChecked=
r.checked=m.checked,r.value!==m.value&&(r.value=m.value)):"option"===k?r.defaultSelected=r.selected=m.defaultSelected:("input"===k||"textarea"===k)&&(r.defaultValue=m.defaultValue)}}}if(e)if(b)for(h=h||t(a),l=l||t(d),f=0;null!=(c=h[f]);f++)G(c,l[f]);else G(a,d);return l=t(d,"script"),0<l.length&&A(l,!g&&t(a,"script")),d},buildFragment:function(a,e,b,c){for(var d,f,g,l,h,q,k,m=a.length,r=z(e),x=[],y=0;m>y;y++)if(f=a[y],f||0===f)if("object"===p.type(f))p.merge(x,f.nodeType?[f]:f);else if(ye.test(f)){l=
l||r.appendChild(e.createElement("div"));h=(Yb.exec(f)||["",""])[1].toLowerCase();k=Ua[h]||Ua._default;l.innerHTML=k[1]+f.replace(Xb,"<$1></$2>")+k[2];for(d=k[0];d--;)l=l.lastChild;if(!N.leadingWhitespace&&Ia.test(f)&&x.push(e.createTextNode(Ia.exec(f)[0])),!N.tbody)for(d=(f="table"!==h||md.test(f)?"<table>"!==k[1]||md.test(f)?0:l:l.firstChild)&&f.childNodes.length;d--;)p.nodeName(q=f.childNodes[d],"tbody")&&!q.childNodes.length&&f.removeChild(q);p.merge(x,l.childNodes);for(l.textContent="";l.firstChild;)l.removeChild(l.firstChild);
l=r.lastChild}else x.push(e.createTextNode(f));l&&r.removeChild(l);N.appendChecked||p.grep(t(x,"input"),C);for(y=0;f=x[y++];)if((!c||-1===p.inArray(f,c))&&(g=p.contains(f.ownerDocument,f),l=t(r.appendChild(f),"script"),g&&A(l),b))for(d=0;f=l[d++];)nd.test(f.type||"")&&b.push(f);return r},cleanData:function(a,e){for(var b,c,d,f,g=0,l=p.expando,h=p.cache,q=N.deleteExpando,k=p.event.special;null!=(b=a[g]);g++)if((e||p.acceptData(b))&&(d=b[l],f=d&&h[d])){if(f.events)for(c in f.events)k[c]?p.event.remove(b,
c):p.removeEvent(b,c,f.handle);h[d]&&(delete h[d],q?delete b[l]:"undefined"!==typeof b.removeAttribute?b.removeAttribute(l):b[l]=null,ja.push(d))}}});p.fn.extend({text:function(a){return Ea(this,function(a){return void 0===a?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||r(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,
function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=r(this,a);e.insertBefore(a,e.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,e){for(var b=a?p.filter(a,this):this,c=0;null!=(a=b[c]);c++)e||1!==a.nodeType||p.cleanData(t(a)),a.parentNode&&(e&&
p.contains(a.ownerDocument,a)&&A(t(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var a,e=0;null!=(a=this[e]);e++){for(1===a.nodeType&&p.cleanData(t(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&p.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,e){return a=null==a?!1:a,e=null==e?a:e,this.map(function(){return p.clone(this,a,e)})},html:function(a){return Ea(this,function(a){var e=this[0]||{},b=0,c=this.length;if(void 0===a)return 1===
e.nodeType?e.innerHTML.replace(nc,""):void 0;if(!("string"!=typeof a||ze.test(a)||!N.htmlSerialize&&ld.test(a)||!N.leadingWhitespace&&Ia.test(a)||Ua[(Yb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Xb,"<$1></$2>");try{for(;c>b;b++)e=this[b]||{},1===e.nodeType&&(p.cleanData(t(e,!1)),e.innerHTML=a);e=0}catch(ad){}}e&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(e){a=this.parentNode;p.cleanData(t(this));a&&a.replaceChild(e,
this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,e){a=sa.apply([],a);var b,c,d,f=0,g=this.length,l=this,h=g-1,q=a[0],k=p.isFunction(q);if(k||1<g&&"string"==typeof q&&!N.checkClone&&Ae.test(q))return this.each(function(b){var c=l.eq(b);k&&(a[0]=q.call(this,b,c.html()));c.domManip(a,e)});if(g&&(d=p.buildFragment(a,this[0].ownerDocument,!1,this),b=d.firstChild,1===d.childNodes.length&&(d=b),b)){var m=p.map(t(d,"script"),B);for(c=m.length;g>
f;f++)b=d,f!==h&&(b=p.clone(b,!0,!0),c&&p.merge(m,t(b,"script"))),e.call(this[f],b,f);if(c)for(d=m[m.length-1].ownerDocument,p.map(m,y),f=0;c>f;f++)b=m[f],nd.test(b.type||"")&&!p._data(b,"globalEval")&&p.contains(d,b)&&(b.src?p._evalUrl&&p._evalUrl(b.src):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Be,"")));d=b=null}return this}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,e){p.fn[a]=function(a){for(var b=
0,c=[],d=p(a),f=d.length-1;f>=b;b++)a=b===f?this:this.clone(!0),p(d[b])[e](a),Ka.apply(c,a.get());return this.pushStack(c)}});var Ib,cd={};!function(){var a;N.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var e,b,c;return b=K.getElementsByTagName("body")[0],b&&b.style?(e=K.createElement("div"),c=K.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(e),"undefined"!==typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
e.appendChild(K.createElement("div")).style.width="5px",a=3!==e.offsetWidth),b.removeChild(c),a):void 0}}();var od=/^margin/,jc=new RegExp("^("+Ra+")(?!px)[a-z%]+$","i"),tb,ub,Ce=/^(top|right|bottom|left)$/;b.getComputedStyle?(tb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},ub=function(a,e,b){var c,d,f,g,l=a.style;return b=b||tb(a),g=b?b.getPropertyValue(e)||b[e]:void 0,b&&(""!==g||p.contains(a.ownerDocument,a)||(g=p.style(a,e)),jc.test(g)&&od.test(e)&&(c=l.width,d=l.minWidth,
f=l.maxWidth,l.minWidth=l.maxWidth=l.width=g,g=b.width,l.width=c,l.minWidth=d,l.maxWidth=f)),void 0===g?g:g+""}):K.documentElement.currentStyle&&(tb=function(a){return a.currentStyle},ub=function(a,e,b){var c,d,f,g,l=a.style;return b=b||tb(a),g=b?b[e]:void 0,null==g&&l&&l[e]&&(g=l[e]),jc.test(g)&&!Ce.test(e)&&(c=l.left,d=a.runtimeStyle,f=d&&d.left,f&&(d.left=a.currentStyle.left),l.left="fontSize"===e?"1em":g,g=l.pixelLeft+"px",l.left=c,f&&(d.left=f)),void 0===g?g:g+""||"auto"});!function(){var a,
e,c,d,f,g,l;if(a=K.createElement("div"),a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=a.getElementsByTagName("a")[0],e=c&&c.style){var h=function(){var a,e,c,h;(e=K.getElementsByTagName("body")[0])&&e.style&&(a=K.createElement("div"),c=K.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(c).appendChild(a),a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
d=f=!1,l=!0,b.getComputedStyle&&(d="1%"!==(b.getComputedStyle(a,null)||{}).top,f="4px"===(b.getComputedStyle(a,null)||{width:"4px"}).width,h=a.appendChild(K.createElement("div")),h.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",h.style.marginRight=h.style.width="0",a.style.width="1px",l=!parseFloat((b.getComputedStyle(h,null)||{}).marginRight)),a.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
h=a.getElementsByTagName("td"),h[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===h[0].offsetHeight,g&&(h[0].style.display="",h[1].style.display="none",g=0===h[0].offsetHeight),e.removeChild(c))};e.cssText="float:left;opacity:.5";N.opacity="0.5"===e.opacity;N.cssFloat=!!e.cssFloat;a.style.backgroundClip="content-box";a.cloneNode(!0).style.backgroundClip="";N.clearCloneStyle="content-box"===a.style.backgroundClip;N.boxSizing=""===e.boxSizing||""===e.MozBoxSizing||""===e.WebkitBoxSizing;
p.extend(N,{reliableHiddenOffsets:function(){return null==g&&h(),g},boxSizingReliable:function(){return null==f&&h(),f},pixelPosition:function(){return null==d&&h(),d},reliableMarginRight:function(){return null==l&&h(),l}})}}();p.swap=function(a,e,b,c){var d,f={};for(d in e)f[d]=a.style[d],a.style[d]=e[d];b=b.apply(a,c||[]);for(d in e)a.style[d]=f[d];return b};var Zb=/alpha\([^)]*\)/i,pd=/opacity\s*=\s*([^)]*)/,oc=/^(none|table(?!-c[ea]).+)/,Dc=new RegExp("^("+Ra+")(.*)$","i"),qd=new RegExp("^([+-])=("+
Ra+")","i"),De={position:"absolute",visibility:"hidden",display:"block"},ob={letterSpacing:"0",fontWeight:"400"},Vb=["Webkit","O","Moz","ms"];p.extend({cssHooks:{opacity:{get:function(a,e){if(e)return a=ub(a,"opacity"),""===a?"1":a}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":N.cssFloat?"cssFloat":"styleFloat"},style:function(a,e,b,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&
a.style){var d,f,g,l=p.camelCase(e),h=a.style;if(e=p.cssProps[l]||(p.cssProps[l]=D(h,l)),g=p.cssHooks[e]||p.cssHooks[l],void 0===b)return g&&"get"in g&&void 0!==(d=g.get(a,!1,c))?d:h[e];if(f=typeof b,"string"===f&&(d=qd.exec(b))&&(b=(d[1]+1)*d[2]+parseFloat(p.css(a,e)),f="number"),null!=b&&b===b&&("number"!==f||p.cssNumber[l]||(b+="px"),N.clearCloneStyle||""!==b||0!==e.indexOf("background")||(h[e]="inherit"),!(g&&"set"in g&&void 0===(b=g.set(a,b,c)))))try{h[e]=b}catch(ke){}}},css:function(a,e,b,c){var d,
f,g,l=p.camelCase(e);return e=p.cssProps[l]||(p.cssProps[l]=D(a.style,l)),g=p.cssHooks[e]||p.cssHooks[l],g&&"get"in g&&(f=g.get(a,!0,b)),void 0===f&&(f=ub(a,e,c)),"normal"===f&&e in ob&&(f=ob[e]),""===b||b?(d=parseFloat(f),!0===b||p.isNumeric(d)?d||0:f):f}});p.each(["height","width"],function(a,e){p.cssHooks[e]={get:function(a,b,c){return b?oc.test(p.css(a,"display"))&&0===a.offsetWidth?p.swap(a,De,function(){return ia(a,e,c)}):ia(a,e,c):void 0},set:function(a,b,c){var d=c&&tb(a);return O(a,b,c?M(a,
e,c,N.boxSizing&&"border-box"===p.css(a,"boxSizing",!1,d),d):0)}}});N.opacity||(p.cssHooks.opacity={get:function(a,e){return pd.test((e&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(a,e){var b=a.style;a=a.currentStyle;var c=p.isNumeric(e)?"alpha(opacity="+100*e+")":"",d=a&&a.filter||b.filter||"";b.zoom=1;(1<=e||""===e)&&""===p.trim(d.replace(Zb,""))&&b.removeAttribute&&(b.removeAttribute("filter"),""===e||a&&!a.filter)||(b.filter=Zb.test(d)?
d.replace(Zb,c):d+" "+c)}});p.cssHooks.marginRight=E(N.reliableMarginRight,function(a,e){return e?p.swap(a,{display:"inline-block"},ub,[a,"marginRight"]):void 0});p.each({margin:"",padding:"",border:"Width"},function(a,e){p.cssHooks[a+e]={expand:function(b){var c=0,d={};for(b="string"==typeof b?b.split(" "):[b];4>c;c++)d[a+Qa[c]+e]=b[c]||b[c-2]||b[0];return d}};od.test(a)||(p.cssHooks[a+e].set=O)});p.fn.extend({css:function(a,e){return Ea(this,function(a,e,b){var c,d={},f=0;if(p.isArray(e)){b=tb(a);
for(c=e.length;c>f;f++)d[e[f]]=p.css(a,e[f],!1,b);return d}return void 0!==b?p.style(a,e,b):p.css(a,e)},a,e,1<arguments.length)},show:function(){return Q(this,!0)},hide:function(){return Q(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){lb(this)?p(this).show():p(this).hide()})}});p.Tween=L;L.prototype={constructor:L,init:function(a,e,b,c,d,f){this.elem=a;this.prop=b;this.easing=d||"swing";this.options=e;this.start=this.now=this.cur();this.end=c;this.unit=
f||(p.cssNumber[b]?"":"px")},cur:function(){var a=L.propHooks[this.prop];return a&&a.get?a.get(this):L.propHooks._default.get(this)},run:function(a){var e,b=L.propHooks[this.prop];return this.pos=e=this.options.duration?p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):L.propHooks._default.set(this),this}};L.prototype.init.prototype=L.prototype;
L.propHooks={_default:{get:function(a){var e;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(e=p.css(a.elem,a.prop,""),e&&"auto"!==e?e:0):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[p.cssProps[a.prop]]||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};p.easing={linear:function(a){return a},
swing:function(a){return.5-Math.cos(a*Math.PI)/2}};p.fx=L.prototype.init;p.fx.step={};var Wa,Mb,pc=/^(?:toggle|show|hide)$/,$b=new RegExp("^(?:([+-])=|)("+Ra+")([a-z%]*)$","i"),qc=/queueHooks$/,wb=[function(a,e,b){var c,d,f,g,l,h,q,k=this,m={},r=a.style,x=a.nodeType&&lb(a),t=p._data(a,"fxshow");b.queue||(g=p._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,l=g.empty.fire,g.empty.fire=function(){g.unqueued||l()}),g.unqueued++,k.always(function(){k.always(function(){g.unqueued--;p.queue(a,"fx").length||
g.empty.fire()})}));1===a.nodeType&&("height"in e||"width"in e)&&(b.overflow=[r.overflow,r.overflowX,r.overflowY],h=p.css(a,"display"),q="none"===h?p._data(a,"olddisplay")||J(a.nodeName):h,"inline"===q&&"none"===p.css(a,"float")&&(N.inlineBlockNeedsLayout&&"inline"!==J(a.nodeName)?r.zoom=1:r.display="inline-block"));b.overflow&&(r.overflow="hidden",N.shrinkWrapBlocks()||k.always(function(){r.overflow=b.overflow[0];r.overflowX=b.overflow[1];r.overflowY=b.overflow[2]}));for(c in e)if(d=e[c],pc.exec(d)){if(delete e[c],
f=f||"toggle"===d,d===(x?"hide":"show")){if("show"!==d||!t||void 0===t[c])continue;x=!0}m[c]=t&&t[c]||p.style(a,c)}else h=void 0;if(p.isEmptyObject(m))"inline"===("none"===h?J(a.nodeName):h)&&(r.display=h);else for(c in t?"hidden"in t&&(x=t.hidden):t=p._data(a,"fxshow",{}),f&&(t.hidden=!x),x?p(a).show():k.done(function(){p(a).hide()}),k.done(function(){var e;p._removeData(a,"fxshow");for(e in m)p.style(a,e,m[e])}),m)e=za(x?t[c]:0,c,k),c in t||(t[c]=e.start,x&&(e.end=e.start,e.start="width"===c||"height"===
c?1:0))}],vb={"*":[function(a,e){var b=this.createTween(a,e),c=b.cur(),d=(e=$b.exec(e))&&e[3]||(p.cssNumber[a]?"":"px"),f=(p.cssNumber[a]||"px"!==d&&+c)&&$b.exec(p.css(b.elem,a)),g=1,l=20;if(f&&f[3]!==d){d=d||f[3];e=e||[];f=+c||1;do g=g||".5",f/=g,p.style(b.elem,a,f+d);while(g!==(g=b.cur()/c)&&1!==g&&--l)}return e&&(f=b.start=+f||+c||0,b.unit=d,b.end=e[1]?f+(e[1]+1)*e[2]:+e[2]),b}]};p.Animation=p.extend(ma,{tweener:function(a,e){p.isFunction(a)?(e=a,a=["*"]):a=a.split(" ");for(var b,c=0,d=a.length;d>
c;c++)b=a[c],vb[b]=vb[b]||[],vb[b].unshift(e)},prefilter:function(a,e){e?wb.unshift(a):wb.push(a)}});p.speed=function(a,e,b){var c=a&&"object"==typeof a?p.extend({},a):{complete:b||!b&&e||p.isFunction(a)&&a,duration:a,easing:b&&e||e&&!p.isFunction(e)&&e};return c.duration=p.fx.off?0:"number"==typeof c.duration?c.duration:c.duration in p.fx.speeds?p.fx.speeds[c.duration]:p.fx.speeds._default,(null==c.queue||!0===c.queue)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){p.isFunction(c.old)&&c.old.call(this);
c.queue&&p.dequeue(this,c.queue)},c};p.fn.extend({fadeTo:function(a,e,b,c){return this.filter(lb).css("opacity",0).show().end().animate({opacity:e},a,b,c)},animate:function(a,e,b,c){var d=p.isEmptyObject(a),f=p.speed(e,b,c);e=function(){var e=ma(this,p.extend({},a),f);(d||p._data(this,"finish"))&&e.stop(!0)};return e.finish=e,d||!1===f.queue?this.each(e):this.queue(f.queue,e)},stop:function(a,e,b){var c=function(a){var e=a.stop;delete a.stop;e(b)};return"string"!=typeof a&&(b=e,e=a,a=void 0),e&&!1!==
a&&this.queue(a||"fx",[]),this.each(function(){var e=!0,d=null!=a&&a+"queueHooks",f=p.timers,g=p._data(this);if(d)g[d]&&g[d].stop&&c(g[d]);else for(d in g)g[d]&&g[d].stop&&qc.test(d)&&c(g[d]);for(d=f.length;d--;)f[d].elem!==this||null!=a&&f[d].queue!==a||(f[d].anim.stop(b),e=!1,f.splice(d,1));!e&&b||p.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e=p._data(this),b=e[a+"queue"];var c=e[a+"queueHooks"];var d=p.timers,f=b?b.length:0;e.finish=!0;p.queue(this,
a,[]);c&&c.stop&&c.stop.call(this,!0);for(c=d.length;c--;)d[c].elem===this&&d[c].queue===a&&(d[c].anim.stop(!0),d.splice(c,1));for(c=0;f>c;c++)b[c]&&b[c].finish&&b[c].finish.call(this);delete e.finish})}});p.each(["toggle","show","hide"],function(a,e){var b=p.fn[e];p.fn[e]=function(a,c,d){return null==a||"boolean"==typeof a?b.apply(this,arguments):this.animate(S(e,!0),a,c,d)}});p.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(a,e){p.fn[a]=function(a,b,c){return this.animate(e,a,b,c)}});p.timers=[];p.fx.tick=function(){var a=p.timers,e=0;for(Wa=p.now();e<a.length;e++){var b=a[e];b()||a[e]!==b||a.splice(e--,1)}a.length||p.fx.stop();Wa=void 0};p.fx.timer=function(a){p.timers.push(a);a()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){Mb||(Mb=setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){clearInterval(Mb);Mb=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fn.delay=function(a,
e){return a=p.fx?p.fx.speeds[a]||a:a,e=e||"fx",this.queue(e,function(e,b){var c=setTimeout(e,a);b.stop=function(){clearTimeout(c)}})};(function(){var a=K.createElement("div");a.setAttribute("className","t");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";var e=a.getElementsByTagName("a")[0];var b=K.createElement("select");var c=b.appendChild(K.createElement("option"));var d=a.getElementsByTagName("input")[0];e.style.cssText="top:1px";N.getSetAttribute="t"!==a.className;
N.style=/top/.test(e.getAttribute("style"));N.hrefNormalized="/a"===e.getAttribute("href");N.checkOn=!!d.value;N.optSelected=c.selected;N.enctype=!!K.createElement("form").enctype;b.disabled=!0;N.optDisabled=!c.disabled;d=K.createElement("input");d.setAttribute("value","");N.input=""===d.getAttribute("value");d.value="t";d.setAttribute("type","radio");N.radioValue="t"===d.value})();var ac=/\r/g;p.fn.extend({val:function(a){var e,b,c,d=this[0];if(arguments.length)return c=p.isFunction(a),this.each(function(b){var d;
1===this.nodeType&&(d=c?a.call(this,b,p(this).val()):a,null==d?d="":"number"==typeof d?d+="":p.isArray(d)&&(d=p.map(d,function(a){return null==a?"":a+""})),e=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,d,"value")||(this.value=d))});if(d)return e=p.valHooks[d.type]||p.valHooks[d.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(b=e.get(d,"value"))?b:(b=d.value,"string"==typeof b?b.replace(ac,""):null==b?"":b)}});p.extend({valHooks:{option:{get:function(a){var e=
p.find.attr(a,"value");return null!=e?e:p.trim(p.text(a))}},select:{get:function(a){for(var e,b=a.options,c=a.selectedIndex,d="select-one"===a.type||0>c,f=d?null:[],g=d?c+1:b.length,l=0>c?g:d?c:0;g>l;l++)if(e=b[l],!(!e.selected&&l!==c||(N.optDisabled?e.disabled:null!==e.getAttribute("disabled"))||e.parentNode.disabled&&p.nodeName(e.parentNode,"optgroup"))){if(a=p(e).val(),d)return a;f.push(a)}return f},set:function(a,e){var b,c,d=a.options;e=p.makeArray(e);for(var f=d.length;f--;)if(c=d[f],0<=p.inArray(p.valHooks.option.get(c),
e))try{c.selected=b=!0}catch(bd){c.scrollHeight}else c.selected=!1;return b||(a.selectedIndex=-1),d}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,e){return p.isArray(e)?a.checked=0<=p.inArray(p(a).val(),e):void 0}};N.checkOn||(p.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var zb,eb=p.expr.attrHandle,Oc=/^(?:checked|selected)$/i,pb=N.getSetAttribute,fb=N.input;p.fn.extend({attr:function(a,e){return Ea(this,p.attr,a,e,1<arguments.length)},
removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}});p.extend({attr:function(a,e,b){var c,d,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return"undefined"===typeof a.getAttribute?p.prop(a,e,b):(1===f&&p.isXMLDoc(a)||(e=e.toLowerCase(),c=p.attrHooks[e]||(p.expr.match.bool.test(e)?rd:zb)),void 0===b?c&&"get"in c&&null!==(d=c.get(a,e))?d:(d=p.find.attr(a,e),null==d?void 0:d):null!==b?c&&"set"in c&&void 0!==(d=c.set(a,b,e))?d:(a.setAttribute(e,b+""),b):void p.removeAttr(a,e))},removeAttr:function(a,
e){var b=0,c=e&&e.match(Oa);if(c&&1===a.nodeType)for(;e=c[b++];){var d=p.propFix[e]||e;p.expr.match.bool.test(e)?fb&&pb||!Oc.test(e)?a[d]=!1:a[p.camelCase("default-"+e)]=a[d]=!1:p.attr(a,e,"");a.removeAttribute(pb?e:d)}},attrHooks:{type:{set:function(a,e){if(!N.radioValue&&"radio"===e&&p.nodeName(a,"input")){var b=a.value;return a.setAttribute("type",e),b&&(a.value=b),e}}}}});var rd={set:function(a,e,b){return!1===e?p.removeAttr(a,b):fb&&pb||!Oc.test(b)?a.setAttribute(!pb&&p.propFix[b]||b,b):a[p.camelCase("default-"+
b)]=a[b]=!0,b}};p.each(p.expr.match.bool.source.match(/\w+/g),function(a,e){var b=eb[e]||p.find.attr;eb[e]=fb&&pb||!Oc.test(e)?function(a,e,c){var d,f;return c||(f=eb[e],eb[e]=d,d=null!=b(a,e,c)?e.toLowerCase():null,eb[e]=f),d}:function(a,e,b){return b?void 0:a[p.camelCase("default-"+e)]?e.toLowerCase():null}});fb&&pb||(p.attrHooks.value={set:function(a,e,b){return p.nodeName(a,"input")?void(a.defaultValue=e):zb&&zb.set(a,e,b)}});pb||(zb={set:function(a,e,b){var c=a.getAttributeNode(b);return c||
a.setAttributeNode(c=a.ownerDocument.createAttribute(b)),c.value=e+="","value"===b||e===a.getAttribute(b)?e:void 0}},eb.id=eb.name=eb.coords=function(a,e,b){var c;return b?void 0:(c=a.getAttributeNode(e))&&""!==c.value?c.value:null},p.valHooks.button={get:function(a,e){return(a=a.getAttributeNode(e))&&a.specified?a.value:void 0},set:zb.set},p.attrHooks.contenteditable={set:function(a,e,b){zb.set(a,""===e?!1:e,b)}},p.each(["width","height"],function(a,e){p.attrHooks[e]={set:function(a,b){return""===
b?(a.setAttribute(e,"auto"),b):void 0}}}));N.style||(p.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,e){return a.style.cssText=e+""}});var sd=/^(?:input|select|textarea|button|object)$/i,rc=/^(?:a|area)$/i;p.fn.extend({prop:function(a,e){return Ea(this,p.prop,a,e,1<arguments.length)},removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(Gb){}})}});p.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,
e,b){var c,d,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!p.isXMLDoc(a),f&&(e=p.propFix[e]||e,d=p.propHooks[e]),void 0!==b?d&&"set"in d&&void 0!==(c=d.set(a,b,e))?c:a[e]=b:d&&"get"in d&&null!==(c=d.get(a,e))?c:a[e]},propHooks:{tabIndex:{get:function(a){var e=p.find.attr(a,"tabindex");return e?parseInt(e,10):sd.test(a.nodeName)||rc.test(a.nodeName)&&a.href?0:-1}}}});N.hrefNormalized||p.each(["href","src"],function(a,e){p.propHooks[e]={get:function(a){return a.getAttribute(e,4)}}});N.optSelected||
(p.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){p.propFix[this.toLowerCase()]=this});N.enctype||(p.propFix.enctype="encoding");var sc=/[\t\r\n\f]/g;p.fn.extend({addClass:function(a){var e,b,c,d,f=0,g=this.length;var l="string"==typeof a&&a;if(p.isFunction(a))return this.each(function(e){p(this).addClass(a.call(this,
e,this.className))});if(l)for(l=(a||"").match(Oa)||[];g>f;f++)if(e=this[f],b=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(sc," "):" ")){for(d=0;c=l[d++];)0>b.indexOf(" "+c+" ")&&(b+=c+" ");b=p.trim(b);e.className!==b&&(e.className=b)}return this},removeClass:function(a){var e,b,c,d,f=0,g=this.length;var l=0===arguments.length||"string"==typeof a&&a;if(p.isFunction(a))return this.each(function(e){p(this).removeClass(a.call(this,e,this.className))});if(l)for(l=(a||"").match(Oa)||[];g>
f;f++)if(e=this[f],b=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(sc," "):"")){for(d=0;c=l[d++];)for(;0<=b.indexOf(" "+c+" ");)b=b.replace(" "+c+" "," ");b=a?p.trim(b):"";e.className!==b&&(e.className=b)}return this},toggleClass:function(a,e){var b=typeof a;return"boolean"==typeof e&&"string"===b?e?this.addClass(a):this.removeClass(a):this.each(p.isFunction(a)?function(b){p(this).toggleClass(a.call(this,b,this.className,e),e)}:function(){if("string"===b)for(var e,c=0,d=p(this),f=a.match(Oa)||
[];e=f[c++];)d.hasClass(e)?d.removeClass(e):d.addClass(e);else("undefined"===b||"boolean"===b)&&(this.className&&p._data(this,"__className__",this.className),this.className=this.className||!1===a?"":p._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var e=0,b=this.length;b>e;e++)if(1===this[e].nodeType&&0<=(" "+this[e].className+" ").replace(sc," ").indexOf(a))return!0;return!1}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,e){p.fn[e]=function(a,b){return 0<arguments.length?this.on(e,null,a,b):this.trigger(e)}});p.fn.extend({hover:function(a,e){return this.mouseenter(a).mouseleave(e||a)},bind:function(a,e,b){return this.on(a,null,e,b)},unbind:function(a,e){return this.off(a,null,e)},delegate:function(a,e,b,c){return this.on(e,a,b,c)},undelegate:function(a,e,b){return 1===arguments.length?this.off(a,"**"):this.off(e,a||"**",b)}});var Pc=p.now(),tc=/\?/,Ee=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
p.parseJSON=function(a){if(b.JSON&&b.JSON.parse)return b.JSON.parse(a+"");var e,c=null,d=p.trim(a+"");return d&&!p.trim(d.replace(Ee,function(a,b,d,f){return e&&b&&(c=0),0===c?a:(e=d||b,c+=!f-!d,"")}))?Function("return "+d)():p.error("Invalid JSON: "+a)};p.parseXML=function(a){var e,c;if(!a||"string"!=typeof a)return null;try{b.DOMParser?(c=new DOMParser,e=c.parseFromString(a,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(a))}catch(ic){e=void 0}return e&&e.documentElement&&
!e.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+a),e};var Fe=/#.*$/,Qc=/([?&])_=[^&]*/,td=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rc=/^(?:GET|HEAD)$/,ud=/^\/\//,vd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wd={},kc={},qb="*/".concat("*");try{var rb=location.href}catch(cb){rb=K.createElement("a"),rb.href="",rb=rb.href}var Ab=vd.exec(rb.toLowerCase())||[];p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:rb,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ab[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,e){return e?na(na(a,
p.ajaxSettings),e):na(p.ajaxSettings,a)},ajaxPrefilter:ca(wd),ajaxTransport:ca(kc),ajax:function(a,e){function b(a,e,b,c){var d,q,y,F=e;if(2!==C){C=2;g&&clearTimeout(g);h=void 0;f=c||"";A.readyState=0<a?4:0;c=200<=a&&300>a||304===a;if(b){var B=k;for(var G=A,D,E,J,u,Q=B.contents,O=B.dataTypes;"*"===O[0];)O.shift(),void 0===E&&(E=B.mimeType||G.getResponseHeader("Content-Type"));if(E)for(u in Q)if(Q[u]&&Q[u].test(E)){O.unshift(u);break}if(O[0]in b)J=O[0];else{for(u in b){if(!O[0]||B.converters[u+" "+
O[0]]){J=u;break}D||(D=u)}J=J||D}B=J?(J!==O[0]&&O.unshift(J),b[J]):void 0}a:{b=k;D=B;E=A;J=c;var I,L,M;B={};G=b.dataTypes.slice();if(G[1])for(I in b.converters)B[I.toLowerCase()]=b.converters[I];for(u=G.shift();u;)if(b.responseFields[u]&&(E[b.responseFields[u]]=D),!M&&J&&b.dataFilter&&(D=b.dataFilter(D,b.dataType)),M=u,u=G.shift())if("*"===u)u=M;else if("*"!==M&&M!==u){if(I=B[M+" "+u]||B["* "+u],!I)for(T in B)if(L=T.split(" "),L[1]===u&&(I=B[M+" "+L[0]]||B["* "+L[0]])){!0===I?I=B[T]:!0!==B[T]&&(u=
L[0],G.unshift(L[1]));break}if(!0!==I)if(I&&b["throws"])D=I(D);else try{D=I(D)}catch(se){var T={state:"parsererror",error:I?se:"No conversion from "+M+" to "+u};break a}}T={state:"success",data:D}}B=T;c?(k.ifModified&&(y=A.getResponseHeader("Last-Modified"),y&&(p.lastModified[n]=y),y=A.getResponseHeader("etag"),y&&(p.etag[n]=y)),204===a||"HEAD"===k.type?F="nocontent":304===a?F="notmodified":(F=B.state,d=B.data,q=B.error,c=!q)):(q=F,(a||!F)&&(F="error",0>a&&(a=0)));A.status=a;A.statusText=(e||F)+"";
c?x.resolveWith(m,[d,F,A]):x.rejectWith(m,[A,F,q]);A.statusCode(z);z=void 0;l&&r.trigger(c?"ajaxSuccess":"ajaxError",[A,k,c?d:q]);t.fireWith(m,[A,F]);l&&(r.trigger("ajaxComplete",[A,k]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof a&&(e=a,a=void 0);e=e||{};var c,d,f,g,l,h,q,k=p.ajaxSetup({},e),m=k.context||k,r=k.context&&(m.nodeType||m.jquery)?p(m):p.event,x=p.Deferred(),t=p.Callbacks("once memory"),z=k.statusCode||{},y={},F={},C=0,B="canceled",A={readyState:0,getResponseHeader:function(a){var e;
if(2===C){if(!q)for(q={};e=td.exec(f);)q[e[1].toLowerCase()]=e[2];e=q[a.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===C?f:null},setRequestHeader:function(a,e){var b=a.toLowerCase();return C||(a=F[b]=F[b]||a,y[a]=e),this},overrideMimeType:function(a){return C||(k.mimeType=a),this},statusCode:function(a){var e;if(a)if(2>C)for(e in a)z[e]=[z[e],a[e]];else A.always(a[A.status]);return this},abort:function(a){a=a||B;return h&&h.abort(a),b(0,a),this}};if(x.promise(A).complete=
t.add,A.success=A.done,A.error=A.fail,k.url=((a||k.url||rb)+"").replace(Fe,"").replace(ud,Ab[1]+"//"),k.type=e.method||e.type||k.method||k.type,k.dataTypes=p.trim(k.dataType||"*").toLowerCase().match(Oa)||[""],null==k.crossDomain&&(c=vd.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===Ab[1]&&c[2]===Ab[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(Ab[3]||("http:"===Ab[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=p.param(k.data,k.traditional)),T(wd,k,e,A),2===C)return A;
(l=k.global)&&0===p.active++&&p.event.trigger("ajaxStart");k.type=k.type.toUpperCase();k.hasContent=!Rc.test(k.type);var n=k.url;k.hasContent||(k.data&&(n=k.url+=(tc.test(n)?"&":"?")+k.data,delete k.data),!1===k.cache&&(k.url=Qc.test(n)?n.replace(Qc,"$1_="+Pc++):n+(tc.test(n)?"&":"?")+"_="+Pc++));k.ifModified&&(p.lastModified[n]&&A.setRequestHeader("If-Modified-Since",p.lastModified[n]),p.etag[n]&&A.setRequestHeader("If-None-Match",p.etag[n]));(k.data&&k.hasContent&&!1!==k.contentType||e.contentType)&&
A.setRequestHeader("Content-Type",k.contentType);A.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+qb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)A.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(!1===k.beforeSend.call(m,A,k)||2===C))return A.abort();B="abort";for(d in{success:1,error:1,complete:1})A[d](k[d]);if(h=T(kc,k,e,A)){A.readyState=1;l&&r.trigger("ajaxSend",[A,k]);k.async&&0<k.timeout&&(g=setTimeout(function(){A.abort("timeout")},
k.timeout));try{C=1,h.send(y,b)}catch(Jc){if(!(2>C))throw Jc;b(-1,Jc)}}else b(-1,"No Transport");return A},getJSON:function(a,e,b){return p.get(a,e,b,"json")},getScript:function(a,e){return p.get(a,void 0,e,"script")}});p.each(["get","post"],function(a,e){p[e]=function(a,b,c,d){return p.isFunction(b)&&(d=d||c,c=b,b=void 0),p.ajax({url:a,type:e,dataType:d,data:b,success:c})}});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,e){p.fn[e]=function(a){return this.on(e,
a)}});p._evalUrl=function(a){return p.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(a){if(p.isFunction(a))return this.each(function(e){p(this).wrapAll(a.call(this,e))});if(this[0]){var e=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]);e.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(p.isFunction(a)?
function(e){p(this).wrapInner(a.call(this,e))}:function(){var e=p(this),b=e.contents();b.length?b.wrapAll(a):e.append(a)})},wrap:function(a){var e=p.isFunction(a);return this.each(function(b){p(this).wrapAll(e?a.call(this,b):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}});p.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!N.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||
p.css(a,"display"))};p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)};var Ge=/%20/g,me=/\[\]$/,Sc=/\r?\n/g,He=/^(?:submit|button|image|reset|file)$/i,xd=/^(?:input|select|textarea|keygen)/i;p.param=function(a,e){var b,c=[],d=function(a,e){e=p.isFunction(e)?e():null==e?"":e;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(e)};if(void 0===e&&(e=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){d(this.name,this.value)});
else for(b in a)ya(b,a[b],e,d);return c.join("&").replace(Ge,"+")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&xd.test(this.nodeName)&&!He.test(a)&&(this.checked||!Hb.test(a))}).map(function(a,e){a=p(this).val();return null==a?null:p.isArray(a)?p.map(a,function(a){return{name:e.name,
value:a.replace(Sc,"\r\n")}}):{name:e.name,value:a.replace(Sc,"\r\n")}}).get()}});p.ajaxSettings.xhr=void 0!==b.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&ka()))a:{try{a=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(Gb){}a=void 0}return a}:ka;var yd=0,Xa={},Nb=p.ajaxSettings.xhr();b.ActiveXObject&&p(b).on("unload",function(){for(var a in Xa)Xa[a](void 0,!0)});N.cors=!!Nb&&"withCredentials"in Nb;(Nb=N.ajax=!!Nb)&&p.ajaxTransport(function(a){if(!a.crossDomain||
N.cors){var e;return{send:function(b,c){var d,f=a.xhr(),g=++yd;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(d in a.xhrFields)f[d]=a.xhrFields[d];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);a.crossDomain||b["X-Requested-With"]||(b["X-Requested-With"]="XMLHttpRequest");for(d in b)void 0!==b[d]&&f.setRequestHeader(d,b[d]+"");f.send(a.hasContent&&a.data||null);e=function(b,d){if(e&&(d||4===f.readyState))if(delete Xa[g],e=void 0,f.onreadystatechange=p.noop,d)4!==
f.readyState&&f.abort();else{var l={};var h=f.status;"string"==typeof f.responseText&&(l.text=f.responseText);try{var q=f.statusText}catch(ed){q=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=l.text?200:404}l&&c(h,q,l,f.getAllResponseHeaders())};a.async?4===f.readyState?setTimeout(e):f.onreadystatechange=Xa[g]=e:e()},abort:function(){e&&e(void 0,!0)}}}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(a){return p.globalEval(a),a}}});p.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});p.ajaxTransport("script",function(a){if(a.crossDomain){var e,b=K.head||p("head")[0]||K.documentElement;return{send:function(c,d){e=K.createElement("script");e.async=!0;a.scriptCharset&&(e.charset=a.scriptCharset);e.src=a.url;e.onload=e.onreadystatechange=function(a,b){(b||!e.readyState||/loaded|complete/.test(e.readyState))&&
(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,b||d(200,"success"))};b.insertBefore(e,b.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var Tc=[],Bb=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Tc.pop()||p.expando+"_"+Pc++;return this[a]=!0,a}});p.ajaxPrefilter("json jsonp",function(a,e,c){var d,f,g,l=!1!==a.jsonp&&(Bb.test(a.url)?"url":"string"==typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&
Bb.test(a.data)&&"data");return l||"jsonp"===a.dataTypes[0]?(d=a.jsonpCallback=p.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,l?a[l]=a[l].replace(Bb,"$1"+d):!1!==a.jsonp&&(a.url+=(tc.test(a.url)?"&":"?")+a.jsonp+"="+d),a.converters["script json"]=function(){return g||p.error(d+" was not called"),g[0]},a.dataTypes[0]="json",f=b[d],b[d]=function(){g=arguments},c.always(function(){b[d]=f;a[d]&&(a.jsonpCallback=e.jsonpCallback,Tc.push(d));g&&p.isFunction(f)&&f(g[0]);g=f=void 0}),"script"):
void 0});p.parseHTML=function(a,e,b){if(!a||"string"!=typeof a)return null;"boolean"==typeof e&&(b=e,e=!1);e=e||K;var c=Ta.exec(a);b=!b&&[];return c?[e.createElement(c[1])]:(c=p.buildFragment([a],e,b),b&&b.length&&p(b).remove(),p.merge([],c.childNodes))};var Uc=p.fn.load;p.fn.load=function(a,e,b){if("string"!=typeof a&&Uc)return Uc.apply(this,arguments);var c,d,f,g=this,l=a.indexOf(" ");return 0<=l&&(c=p.trim(a.slice(l,a.length)),a=a.slice(0,l)),p.isFunction(e)?(b=e,e=void 0):e&&"object"==typeof e&&
(f="POST"),0<g.length&&p.ajax({url:a,type:f,dataType:"html",data:e}).done(function(a){d=arguments;g.html(c?p("<div>").append(p.parseHTML(a)).find(c):a)}).complete(b&&function(a,e){g.each(b,d||[a.responseText,e,a])}),this};p.expr.filters.animated=function(a){return p.grep(p.timers,function(e){return a===e.elem}).length};var uc=b.document.documentElement;p.offset={setOffset:function(a,e,b){var c,d,f,g=p.css(a,"position"),l=p(a),h={};"static"===g&&(a.style.position="relative");var q=l.offset();var k=
p.css(a,"top");var m=p.css(a,"left");("absolute"===g||"fixed"===g)&&-1<p.inArray("auto",[k,m])?(c=l.position(),f=c.top,d=c.left):(f=parseFloat(k)||0,d=parseFloat(m)||0);p.isFunction(e)&&(e=e.call(a,b,q));null!=e.top&&(h.top=e.top-q.top+f);null!=e.left&&(h.left=e.left-q.left+d);"using"in e?e.using.call(a,h):l.css(h)}};p.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(e){p.offset.setOffset(this,a,e)});var e,b,c={top:0,left:0},d=this[0],f=d&&d.ownerDocument;
if(f)return e=f.documentElement,p.contains(e,d)?("undefined"!==typeof d.getBoundingClientRect&&(c=d.getBoundingClientRect()),b=la(f),{top:c.top+(b.pageYOffset||e.scrollTop)-(e.clientTop||0),left:c.left+(b.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):c},position:function(){if(this[0]){var a,e,b={top:0,left:0},c=this[0];return"fixed"===p.css(c,"position")?e=c.getBoundingClientRect():(a=this.offsetParent(),e=this.offset(),p.nodeName(a[0],"html")||(b=a.offset()),b.top+=p.css(a[0],"borderTopWidth",!0),
b.left+=p.css(a[0],"borderLeftWidth",!0)),{top:e.top-b.top-p.css(c,"marginTop",!0),left:e.left-b.left-p.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||uc;a&&!p.nodeName(a,"html")&&"static"===p.css(a,"position");)a=a.offsetParent;return a||uc})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,e){var b=/Y/.test(e);p.fn[a]=function(c){return Ea(this,function(a,c,d){var f=la(a);return void 0===d?f?e in f?f[e]:f.document.documentElement[c]:
a[c]:void(f?f.scrollTo(b?p(f).scrollLeft():d,b?d:p(f).scrollTop()):a[c]=d)},a,c,arguments.length,null)}});p.each(["top","left"],function(a,e){p.cssHooks[e]=E(N.pixelPosition,function(a,b){return b?(b=ub(a,e),jc.test(b)?p(a).position()[e]+"px":b):void 0})});p.each({Height:"height",Width:"width"},function(a,e){p.each({padding:"inner"+a,content:e,"":"outer"+a},function(b,c){p.fn[c]=function(c,d){var f=arguments.length&&(b||"boolean"!=typeof c),g=b||(!0===c||!0===d?"margin":"border");return Ea(this,function(e,
b,c){var d;return p.isWindow(e)?e.document.documentElement["client"+a]:9===e.nodeType?(d=e.documentElement,Math.max(e.body["scroll"+a],d["scroll"+a],e.body["offset"+a],d["offset"+a],d["client"+a])):void 0===c?p.css(e,b,g):p.style(e,b,c,g)},e,f?c:void 0,f,null)}})});p.fn.size=function(){return this.length};p.fn.andSelf=p.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var zd=b.jQuery,Ad=b.$;return p.noConflict=function(a){return b.$===p&&(b.$=Ad),a&&b.jQuery===
p&&(b.jQuery=zd),p},"undefined"===typeof n&&(b.jQuery=b.$=p),p});/*
 jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0);
(function(b,n,u){function a(a){var e=n.console;f[a]||(f[a]=!0,b.migrateWarnings.push(a),e&&e.warn&&!b.migrateMute&&(e.warn("JQMIGRATE: "+a),b.migrateTrace&&e.trace&&e.trace()))}function d(e,c,d,f){if(Object.defineProperty)try{return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){return a(f),d},set:function(e){a(f);d=e}}),u}catch(X){}b._definePropertyBroken=!0;e[c]=d}var f={};b.migrateWarnings=[];!b.migrateMute&&n.console&&n.console.log&&n.console.log("JQMIGRATE: Logging is active");
b.migrateTrace===u&&(b.migrateTrace=!0);b.migrateReset=function(){f={};b.migrateWarnings.length=0};"BackCompat"===document.compatMode&&a("jQuery is not compatible with Quirks Mode");var g=b("<input/>",{size:1}).attr("size")&&b.attrFn,c=b.attr,h=b.attrHooks.value&&b.attrHooks.value.get||function(){return null},k=b.attrHooks.value&&b.attrHooks.value.set||function(){return u},m=/^(?:input|button)$/i,e=/^[238]$/,l=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
q=/^(?:checked|selected)$/i;d(b,"attrFn",g||{},"jQuery.attrFn is deprecated");b.attr=function(d,f,h,k){var r=f.toLowerCase(),x=d&&d.nodeType;return k&&(4>c.length&&a("jQuery.fn.attr( props, pass ) is deprecated"),d&&!e.test(x)&&(g?f in g:b.isFunction(b.fn[f])))?b(d)[f](h):("type"===f&&h!==u&&m.test(d.nodeName)&&d.parentNode&&a("Can't change the 'type' of an input or button in IE 6/7/8"),!b.attrHooks[r]&&l.test(r)&&(b.attrHooks[r]={get:function(a,e){var c,d=b.prop(a,e);return!0===d||"boolean"!=typeof d&&
(c=a.getAttributeNode(e))&&!1!==c.nodeValue?e.toLowerCase():u},set:function(a,e,c){var d;return!1===e?b.removeAttr(a,c):(d=b.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},q.test(r)&&a("jQuery.fn.attr('"+r+"') may use property instead of attribute")),c.call(b,d,f,h))};b.attrHooks.value={get:function(e,b){var c=(e.nodeName||"").toLowerCase();return"button"===c?h.apply(this,arguments):("input"!==c&&"option"!==c&&a("jQuery.fn.attr('value') no longer gets properties"),b in e?e.value:
null)},set:function(e,b){var c=(e.nodeName||"").toLowerCase();return"button"===c?k.apply(this,arguments):("input"!==c&&"option"!==c&&a("jQuery.fn.attr('value', val) no longer sets properties"),e.value=b,u)}};var x,z,t=b.fn.init,C=b.parseJSON,r=/^([^<]*)(<[\w\W]+>)([^>]*)$/;b.fn.init=function(e,c,d){var f;return e&&"string"==typeof e&&!b.isPlainObject(c)&&(f=r.exec(b.trim(e)))&&f[0]&&("<"!==e.charAt(0)&&a("$(html) HTML strings must start with '<' character"),f[3]&&a("$(html) HTML text after last tag is ignored"),
"#"===f[0].charAt(0)&&(a("HTML string cannot start with a '#' character"),b.error("JQMIGRATE: Invalid selector string (XSS)")),c&&c.context&&(c=c.context),b.parseHTML)?t.call(this,b.parseHTML(f[2],c,!0),c,d):t.apply(this,arguments)};b.fn.init.prototype=b.fn;b.parseJSON=function(e){return e||null===e?C.apply(this,arguments):(a("jQuery.parseJSON requires a valid JSON string"),null)};b.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||
/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};b.browser||(x=b.uaMatch(navigator.userAgent),z={},x.browser&&(z[x.browser]=!0,z.version=x.version),z.chrome?z.webkit=!0:z.webkit&&(z.safari=!0),b.browser=z);d(b,"browser",b.browser,"jQuery.browser is deprecated");b.sub=function(){function e(a,b){return new e.fn.init(a,b)}b.extend(!0,e,this);e.superclass=this;e.fn=e.prototype=this();e.fn.constructor=e;e.sub=
this.sub;e.fn.init=function(a,d){return d&&d instanceof b&&!(d instanceof e)&&(d=e(d)),b.fn.init.call(this,a,d,c)};e.fn.init.prototype=e.fn;var c=e(document);return a("jQuery.sub() is deprecated"),e};b.ajaxSetup({converters:{"text json":b.parseJSON}});var B=b.fn.data;b.fn.data=function(e){var c,d,f=this[0];return!f||"events"!==e||1!==arguments.length||(c=b.data(f,e),d=b._data(f,e),c!==u&&c!==d||d===u)?B.apply(this,arguments):(a("Use of jQuery.fn.data('events') is deprecated"),d)};var y=/\/(java|ecma)script/i,
A=b.fn.andSelf||b.fn.addBack;b.fn.andSelf=function(){return a("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),A.apply(this,arguments)};b.clean||(b.clean=function(e,c,d,f){c=c||document;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;a("jQuery.clean() is deprecated");var g,l=[];if(b.merge(l,b.buildFragment(e,c).childNodes),d){var h=function(a){return!a.type||y.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):d.appendChild(a):u};for(e=0;null!=(c=l[e]);e++)b.nodeName(c,"script")&&
h(c)||(d.appendChild(c),c.getElementsByTagName!==u&&(g=b.grep(b.merge([],c.getElementsByTagName("script")),h),l.splice.apply(l,[e+1,0].concat(g)),e+=g.length))}return l});var G=b.event.add,F=b.event.remove,J=b.event.trigger,E=b.fn.toggle,D=b.fn.live,Q=b.fn.die,O=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,M=/(?:^|\s)hover(\.\S+|)\b/,ia=function(e){return"string"!=typeof e||b.event.special.hover?e:(M.test(e)&&a("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),
e&&e.replace(M,"mouseenter$1 mouseleave$1"))};b.event.props&&"attrChange"!==b.event.props[0]&&b.event.props.unshift("attrChange","attrName","relatedNode","srcElement");b.event.dispatch&&d(b.event,"handle",b.event.dispatch,"jQuery.event.handle is undocumented and deprecated");b.event.add=function(e,b,c,d,f){e!==document&&O.test(b)&&a("AJAX events should be attached to document: "+b);G.call(this,e,ia(b||""),c,d,f)};b.event.remove=function(a,e,b,c,d){F.call(this,a,ia(e)||"",b,c,d)};b.fn.error=function(){var e=
Array.prototype.slice.call(arguments,0);return a("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)};b.fn.toggle=function(e,c){if(!b.isFunction(e)||!b.isFunction(c))return E.apply(this,arguments);a("jQuery.fn.toggle(handler, handler...) is deprecated");var d=arguments,f=e.guid||b.guid++,g=0,l=function(a){var c=(b._data(this,"lastToggle"+e.guid)||0)%g;return b._data(this,"lastToggle"+e.guid,c+1),a.preventDefault(),
d[c].apply(this,arguments)||!1};for(l.guid=f;d.length>g;)d[g++].guid=f;return this.click(l)};b.fn.live=function(e,c,d){return a("jQuery.fn.live() is deprecated"),D?D.apply(this,arguments):(b(this.context).on(e,this.selector,c,d),this)};b.fn.die=function(e,c){return a("jQuery.fn.die() is deprecated"),Q?Q.apply(this,arguments):(b(this.context).off(e,this.selector||"**",c),this)};b.event.trigger=function(e,b,c,d){return c||O.test(e)||a("Global events are undocumented and deprecated"),J.call(this,e,b,
c||document,d)};b.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(a,e){b.event.special[e]={setup:function(){var a=this;return a!==document&&(b.event.add(document,e+"."+b.guid,function(){b.event.trigger(e,null,a,!0)}),b._data(this,e,b.guid++)),!1},teardown:function(){return this!==document&&b.event.remove(document,e+"."+b._data(this,e)),!1}}})})(jQuery,window);/*
 jQuery UI - v1.12.1 - 2017-06-21
 http://jqueryui.com
 Includes: widget.js, position.js, data.js, keycode.js, scroll-parent.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/datepicker.js, widgets/menu.js, widgets/mouse.js, widgets/tooltip.js
 Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){function n(a){for(var e,b;a.length&&a[0]!==document;){if(e=a.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b))return b;a=a.parent()}return 0}function u(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass=
"ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};b.extend(this._defaults,
this.regional[""]);this.regional.en=b.extend(!0,{},this.regional[""]);this.regional["en-US"]=b.extend(!0,{},this.regional.en);this.dpDiv=a(b("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(a){return a.on("mouseout","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",function(){b(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).removeClass("ui-datepicker-prev-hover");
-1!==this.className.indexOf("ui-datepicker-next")&&b(this).removeClass("ui-datepicker-next-hover")}).on("mouseover","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",d)}function d(){b.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(b(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),b(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).addClass("ui-datepicker-prev-hover"),
-1!==this.className.indexOf("ui-datepicker-next")&&b(this).addClass("ui-datepicker-next-hover"))}function f(a,c){b.extend(a,c);for(var e in c)null==c[e]&&(a[e]=c[e]);return a}b.ui=b.ui||{};b.ui.version="1.12.1";var g=0,c=Array.prototype.slice;b.cleanData=function(a){return function(e){var c,d,f;for(f=0;null!=(d=e[f]);f++)try{(c=b._data(d,"events"))&&c.remove&&b(d).triggerHandler("remove")}catch(t){}a(e)}}(b.cleanData);b.widget=function(a,c,d){var e,f,g,l={},h=a.split(".")[0];a=a.split(".")[1];var q=
h+"-"+a;return d||(d=c,c=b.Widget),b.isArray(d)&&(d=b.extend.apply(null,[{}].concat(d))),b.expr[":"][q.toLowerCase()]=function(a){return!!b.data(a,q)},b[h]=b[h]||{},e=b[h][a],f=b[h][a]=function(a,e){return this._createWidget?(arguments.length&&this._createWidget(a,e),void 0):new f(a,e)},b.extend(f,e,{version:d.version,_proto:b.extend({},d),_childConstructors:[]}),g=new c,g.options=b.widget.extend({},g.options),b.each(d,function(a,e){return b.isFunction(e)?(l[a]=function(){function b(){return c.prototype[a].apply(this,
arguments)}function d(e){return c.prototype[a].apply(this,e)}return function(){var a,c=this._super,f=this._superApply;return this._super=b,this._superApply=d,a=e.apply(this,arguments),this._super=c,this._superApply=f,a}}(),void 0):(l[a]=e,void 0)}),f.prototype=b.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix||a:a},l,{constructor:f,namespace:h,widgetName:a,widgetFullName:q}),e?(b.each(e._childConstructors,function(a,e){a=e.prototype;b.widget(a.namespace+"."+a.widgetName,f,e._proto)}),delete e._childConstructors):
c._childConstructors.push(f),b.widget.bridge(a,f),f};b.widget.extend=function(a){for(var e,d,f=c.call(arguments,1),g=0,h=f.length;h>g;g++)for(e in f[g])d=f[g][e],f[g].hasOwnProperty(e)&&void 0!==d&&(a[e]=b.isPlainObject(d)?b.isPlainObject(a[e])?b.widget.extend({},a[e],d):b.widget.extend({},d):d);return a};b.widget.bridge=function(a,d){var e=d.prototype.widgetFullName||a;b.fn[a]=function(f){var g="string"==typeof f,l=c.call(arguments,1),h=this;return g?this.length||"instance"!==f?this.each(function(){var c,
d=b.data(this,e);return"instance"===f?(h=d,!1):d?b.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,l),c!==d&&void 0!==c?(h=c&&c.jquery?h.pushStack(c.get()):c,!1):void 0):b.error("no such method '"+f+"' for "+a+" widget instance"):b.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+f+"'")}):h=void 0:(l.length&&(f=b.widget.extend.apply(null,[f].concat(l))),this.each(function(){var a=b.data(this,e);a?(a.option(f||{}),a._init&&a._init()):b.data(this,e,new d(f,
this))})),h}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(a,c){c=b(c||this.defaultElement||this)[0];this.element=b(c);this.uuid=g++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=b();this.hoverable=b();this.focusable=b();this.classesElementLookup={};c!==this&&(b.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===
c&&this.destroy()}}),this.document=b(c.style?c.ownerDocument:c.document||c),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this.options=b.widget.extend({},this.options,this._getCreateOptions(),a);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){var a=this;
this._destroy();b.each(this.classesElementLookup,function(e,b){a._removeClass(b,e)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:b.noop,widget:function(){return this.element},option:function(a,c){var e,d,f=a;if(0===arguments.length)return b.widget.extend({},this.options);if("string"==typeof a)if(f={},e=a.split("."),a=e.shift(),e.length){var g=f[a]=b.widget.extend({},
this.options[a]);for(d=0;e.length-1>d;d++)g[e[d]]=g[e[d]]||{},g=g[e[d]];if(a=e.pop(),1===arguments.length)return void 0===g[a]?null:g[a];g[a]=c}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];f[a]=c}return this._setOptions(f),this},_setOptions:function(a){for(var e in a)this._setOption(e,a[e]);return this},_setOption:function(a,b){return"classes"===a&&this._setOptionClasses(b),this.options[a]=b,"disabled"===a&&this._setOptionDisabled(b),this},_setOptionClasses:function(a){var e,
c;for(e in a){var d=this.classesElementLookup[e];a[e]!==this.options.classes[e]&&d&&d.length&&(c=b(d.get()),this._removeClass(d,e),c.addClass(this._classes({element:c,keys:e,classes:a,add:!0})))}},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a);a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},
_classes:function(a){function e(e,f){var g;for(g=0;e.length>g;g++){var l=d.classesElementLookup[e[g]]||b();l=a.add?b(b.unique(l.get().concat(a.element.get()))):b(l.not(a.element).get());d.classesElementLookup[e[g]]=l;c.push(e[g]);f&&a.classes[e[g]]&&c.push(a.classes[e[g]])}}var c=[],d=this;return a=b.extend({element:this.element,classes:this.options.classes||{}},a),this._on(a.element,{remove:"_untrackClassesElement"}),a.keys&&e(a.keys.match(/\S+/g)||[],!0),a.extra&&e(a.extra.match(/\S+/g)||[]),c.join(" ")},
_untrackClassesElement:function(a){var e=this;b.each(e.classesElementLookup,function(c,d){-1!==b.inArray(a.target,d)&&(e.classesElementLookup[c]=b(d.not(a.target).get()))})},_removeClass:function(a,b,c){return this._toggleClass(a,b,c,!1)},_addClass:function(a,b,c){return this._toggleClass(a,b,c,!0)},_toggleClass:function(a,b,c,d){d="boolean"==typeof d?d:c;var e="string"==typeof a||null===a;a={extra:e?b:c,keys:e?a:b,element:e?this.element:a,add:d};return a.element.toggleClass(this._classes(a),d),this},
_on:function(a,c,d){var e,f=this;"boolean"!=typeof a&&(d=c,c=a,a=!1);d?(c=e=b(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget());b.each(d,function(d,g){function h(){return a||!0!==f.options.disabled&&!b(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||b.guid++);var l=d.match(/^([\w:-]*)\s*(.*)$/);d=l[1]+f.eventNamespace;(l=l[2])?e.on(d,l,h):c.on(d,h)})},_off:function(a,c){c=(c||"").split(" ").join(this.eventNamespace+
" ")+this.eventNamespace;a.off(c).off(c);this.bindings=b(this.bindings.not(a).get());this.focusable=b(this.focusable.not(a).get());this.hoverable=b(this.hoverable.not(a).get())},_delay:function(a,b){var e=this;return setTimeout(function(){return("string"==typeof a?e[a]:a).apply(e,arguments)},b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){this._addClass(b(a.currentTarget),null,"ui-state-hover")},mouseleave:function(a){this._removeClass(b(a.currentTarget),
null,"ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){this._addClass(b(a.currentTarget),null,"ui-state-focus")},focusout:function(a){this._removeClass(b(a.currentTarget),null,"ui-state-focus")}})},_trigger:function(a,c,d){var e,f=this.options[a];if(d=d||{},c=b.Event(c),c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),c.target=this.element[0],a=c.originalEvent)for(e in a)e in c||(c[e]=a[e]);return this.element.trigger(c,
d),!(b.isFunction(f)&&!1===f.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(a,c){b.Widget.prototype["_"+a]=function(e,d,f){"string"==typeof d&&(d={effect:d});var g=d?!0===d||"number"==typeof d?c:d.effect||c:a;d=d||{};"number"==typeof d&&(d={duration:d});var h=!b.isEmptyObject(d);d.complete=f;d.delay&&e.delay(d.delay);h&&b.effects&&b.effects.effect[g]?e[a](d):g!==a&&e[g]?e[g](d.duration,d.easing,f):e.queue(function(c){b(this)[a]();f&&
f.call(e[0]);c()})}});b.widget;(function(){function a(a,e,b){return[parseFloat(a[0])*(y.test(a[0])?e/100:1),parseFloat(a[1])*(y.test(a[1])?b/100:1)]}function c(a){var e=a[0];return 9===e.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:b.isWindow(e)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}var d,f=Math.max,
g=Math.abs,h=/left|center|right/,k=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,B=/^\w+/,y=/%$/,A=b.fn.position;b.position={scrollbarWidth:function(){if(void 0!==d)return d;var a,e,c=b("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=c.children()[0];return b("body").append(c),a=f.offsetWidth,c.css("overflow","scroll"),e=f.offsetWidth,a===e&&(e=c[0].clientWidth),c.remove(),d=a-e},getScrollInfo:function(a){var e=
a.isWindow||a.isDocument?"":a.element.css("overflow-x"),c=a.isWindow||a.isDocument?"":a.element.css("overflow-y");e="scroll"===e||"auto"===e&&a.width<a.element[0].scrollWidth;return{width:"scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight?b.position.scrollbarWidth():0,height:e?b.position.scrollbarWidth():0}},getWithinInfo:function(a){var e=b(a||window),c=b.isWindow(e[0]),d=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:c,isDocument:d,offset:c||d?{left:0,top:0}:b(a).offset(),scrollLeft:e.scrollLeft(),
scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}};b.fn.position=function(e){if(!e||!e.of)return A.apply(this,arguments);e=b.extend({},e);var d,l,q,r,t,x,z=b(e.of),y=b.position.getWithinInfo(e.within),C=b.position.getScrollInfo(y),n=(e.collision||"flip").split(" "),G={};return x=c(z),z[0].preventDefault&&(e.at="left top"),l=x.width,q=x.height,r=x.offset,t=b.extend({},r),b.each(["my","at"],function(){var a=(e[this]||"").split(" ");1===a.length&&(a=h.test(a[0])?a.concat(["center"]):
k.test(a[0])?["center"].concat(a):["center","center"]);a[0]=h.test(a[0])?a[0]:"center";a[1]=k.test(a[1])?a[1]:"center";var b=m.exec(a[0]);var c=m.exec(a[1]);G[this]=[b?b[0]:0,c?c[0]:0];e[this]=[B.exec(a[0])[0],B.exec(a[1])[0]]}),1===n.length&&(n[1]=n[0]),"right"===e.at[0]?t.left+=l:"center"===e.at[0]&&(t.left+=l/2),"bottom"===e.at[1]?t.top+=q:"center"===e.at[1]&&(t.top+=q/2),d=a(G.at,l,q),t.left+=d[0],t.top+=d[1],this.each(function(){var c,h=b(this),k=h.outerWidth(),m=h.outerHeight(),x=parseInt(b.css(this,
"marginLeft"),10)||0,F=parseInt(b.css(this,"marginTop"),10)||0,A=k+x+(parseInt(b.css(this,"marginRight"),10)||0)+C.width,B=m+F+(parseInt(b.css(this,"marginBottom"),10)||0)+C.height,D=b.extend({},t),E=a(G.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?D.left-=k:"center"===e.my[0]&&(D.left-=k/2);"bottom"===e.my[1]?D.top-=m:"center"===e.my[1]&&(D.top-=m/2);D.left+=E[0];D.top+=E[1];var J={marginLeft:x,marginTop:F};b.each(["left","top"],function(a,c){b.ui.position[n[a]]&&b.ui.position[n[a]][c](D,
{targetWidth:l,targetHeight:q,elemWidth:k,elemHeight:m,collisionPosition:J,collisionWidth:A,collisionHeight:B,offset:[d[0]+E[0],d[1]+E[1]],my:e.my,at:e.at,within:y,elem:h})});e.using&&(c=function(a){var b=r.left-D.left,c=b+l-k,d=r.top-D.top,t=d+q-m,x={target:{element:z,left:r.left,top:r.top,width:l,height:q},element:{element:h,left:D.left,top:D.top,width:k,height:m},horizontal:0>c?"left":0<b?"right":"center",vertical:0>t?"top":0<d?"bottom":"middle"};k>l&&l>g(b+c)&&(x.horizontal="center");m>q&&q>g(d+
t)&&(x.vertical="middle");x.important=f(g(b),g(c))>f(g(d),g(t))?"horizontal":"vertical";e.using.call(this,a,x)});h.offset(b.extend(D,{using:c}))})};b.ui.position={fit:{left:function(a,e){var b,c=e.within,d=c.isWindow?c.scrollLeft:c.offset.left;c=c.width;var g=a.left-e.collisionPosition.marginLeft,h=d-g,l=g+e.collisionWidth-c-d;e.collisionWidth>c?0<h&&0>=l?(b=a.left+h+e.collisionWidth-c-d,a.left+=h-b):a.left=0<l&&0>=h?d:h>l?d+c-e.collisionWidth:d:0<h?a.left+=h:0<l?a.left-=l:a.left=f(a.left-g,a.left)},
top:function(a,e){var b,c=e.within;c=c.isWindow?c.scrollTop:c.offset.top;var d=e.within.height,g=a.top-e.collisionPosition.marginTop,h=c-g,l=g+e.collisionHeight-d-c;e.collisionHeight>d?0<h&&0>=l?(b=a.top+h+e.collisionHeight-d-c,a.top+=h-b):a.top=0<l&&0>=h?c:h>l?c+d-e.collisionHeight:c:0<h?a.top+=h:0<l?a.top-=l:a.top=f(a.top-g,a.top)}},flip:{left:function(a,e){var b,c,d=e.within,f=d.offset.left+d.scrollLeft,h=d.width;d=d.isWindow?d.scrollLeft:d.offset.left;var l=a.left-e.collisionPosition.marginLeft,
k=l-d;l=l+e.collisionWidth-h-d;var q="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,m="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,r=-2*e.offset[0];0>k?(b=a.left+q+m+r+e.collisionWidth-h-f,(0>b||g(k)>b)&&(a.left+=q+m+r)):0<l&&(c=a.left-e.collisionPosition.marginLeft+q+m+r-d,(0<c||l>g(c))&&(a.left+=q+m+r))},top:function(a,e){var b,c,d=e.within,f=d.offset.top+d.scrollTop,h=d.height;d=d.isWindow?d.scrollTop:d.offset.top;var l=a.top-e.collisionPosition.marginTop,k=
l-d;l=l+e.collisionHeight-h-d;var q="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,m="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,r=-2*e.offset[1];0>k?(c=a.top+q+m+r+e.collisionHeight-h-f,(0>c||g(k)>c)&&(a.top+=q+m+r)):0<l&&(b=a.top-e.collisionPosition.marginTop+q+m+r-d,(0<b||l>g(b))&&(a.top+=q+m+r))}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments);b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,
arguments);b.ui.position.fit.top.apply(this,arguments)}}}})();b.ui.position;b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(a){return function(e){return!!b.data(e,a)}}):function(a,c,d){return!!b.data(a,d[3])}});b.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};b.fn.scrollParent=function(a){var e=this.css("position"),c="absolute"===e,d=a?/(auto|scroll|hidden)/:
/(auto|scroll)/;a=this.parents().filter(function(){var a=b(this);return c&&"static"===a.css("position")?!1:d.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==e&&a.length?a:b(this[0].ownerDocument||document)};b.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&b(this).removeAttr("id")})}});b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
var h=!1;b(document).on("mouseup",function(){h=!1});b.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.on("mousedown."+this.widgetName,function(e){return a._mouseDown(e)}).on("click."+this.widgetName,function(e){return!0===b.data(e.target,a.widgetName+".preventClickEvent")?(b.removeData(e.target,a.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0});this.started=!1},
_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!h){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var e=this,c=1===a.which,d="string"==typeof this.options.cancel&&a.target.nodeName?b(a.target).closest(this.options.cancel).length:!1;return c&&!d&&this._mouseCapture(a)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted)?(a.preventDefault(),!0):(!0===b.data(a.target,this.widgetName+".preventClickEvent")&&b.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return e._mouseMove(a)},this._mouseUpDelegate=function(a){return e._mouseUp(a)},
this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),h=!0,!0)):!0}},_mouseMove:function(a){if(this._mouseMoved){if(b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button)return this._mouseUp(a);if(!a.which)if(a.originalEvent.altKey||a.originalEvent.ctrlKey||a.originalEvent.metaKey||a.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(a)}return(a.which||
a.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a),this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted)},_mouseUp:function(a){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&
b.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);h=this.ignoreMissingWhich=!1;a.preventDefault()},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},
_mouseCapture:function(){return!0}});b.ui.plugin={add:function(a,c,d){var e;a=b.ui[a].prototype;for(e in d)a.plugins[e]=a.plugins[e]||[],a.plugins[e].push([c,d[e]])},call:function(a,b,c,d){if((b=a.plugins[b])&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(d=0;b.length>d;d++)a.options[b[d][0]]&&b[d][1].apply(a.element,c)}};b.ui.safeActiveElement=function(a){try{var e=a.activeElement}catch(q){e=a.body}return e||(e=a.body),e.nodeName||(e=a.body),e};b.ui.safeBlur=function(a){a&&
"body"!==a.nodeName.toLowerCase()&&b(a).trigger("blur")};b.widget("ui.draggable",b.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},
_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(a,b){this._super(a,b);"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(a){var e=
this.options;return this.helper||e.disabled||0<b(a.target).closest(".ui-resizable-handle").length?!1:(this.handle=this._getHandle(a),this.handle?(this._blurActiveElement(a),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0):!1)},_blockFrames:function(a){this.iframeBlocks=this.document.find(a).map(function(){var a=b(this);return b("<div>").css("position","absolute").appendTo(a.parent()).outerWidth(a.outerWidth()).outerHeight(a.outerHeight()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&
(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(a){var e=b.ui.safeActiveElement(this.document[0]);b(a.target).closest(e).length||b.ui.safeBlur(e)},_mouseStart:function(a){var e=this.options;return this.helper=this._createHelper(a),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),
this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===b(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(a),this.originalPosition=this.position=this._generatePosition(a,!1),this.originalPageX=a.pageX,this.originalPageY=a.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",a)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&
!e.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a),this._mouseDrag(a,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,a),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(a,c){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),
this.position=this._generatePosition(a,!0),this.positionAbs=this._convertPositionTo("absolute"),!c){c=this._uiHash();if(!1===this._trigger("drag",a,c))return this._mouseUp(new b.Event("mouseup",a)),!1;this.position=c.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",b.ui.ddmanager&&b.ui.ddmanager.drag(this,a),!1},_mouseStop:function(a){var e=this,c=!1;return b.ui.ddmanager&&!this.options.dropBehaviour&&(c=b.ui.ddmanager.drop(this,a)),
this.dropped&&(c=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!c||"valid"===this.options.revert&&c||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)?b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",a)&&e._clear()}):!1!==this._trigger("stop",a)&&this._clear(),!1},_mouseUp:function(a){return this._unblockFrames(),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,a),
this.handleElement.is(a.target)&&this.element.trigger("focus"),b.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new b.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(a){return this.options.handle?!!b(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;
this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(a){var e=this.options,c=b.isFunction(e.helper);a=c?b(e.helper.apply(this.element[0],[a])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return a.parents("body").length||a.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),c&&a[0]===this.element[0]&&this._setPositionRelative(),a[0]===
this.element[0]||/(fixed|absolute)/.test(a.css("position"))||a.css("position","absolute"),a},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&
(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var a=this.offsetParent.offset(),c=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==c&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),
this._isRootNode(this.offsetParent[0])&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||
0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,c,d,f=this.options,g=this.document[0];return this.relativeContainer=
null,f.containment?"window"===f.containment?(this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===f.containment?(this.containment=[0,0,b(g).width()-this.helperProportions.width-
this.margins.left,(b(g).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):f.containment.constructor===Array?(this.containment=f.containment,void 0):("parent"===f.containment&&(f.containment=this.helper[0].parentNode),c=b(f.containment),d=c[0],d&&(a=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),
10)||0),(a?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c),void 0):(this.containment=null,void 0)},_convertPositionTo:function(a,
b){b||(b=this.position);a="absolute"===a?1:-1;var e=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.offset.scroll.top:e?0:this.offset.scroll.top)*a,left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.offset.scroll.left:e?0:this.offset.scroll.left)*a}},_generatePosition:function(a,b){var e,c,d,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),l=a.pageX,
k=a.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(c=this.relativeContainer.offset(),e=[this.containment[0]+c.left,this.containment[1]+c.top,this.containment[2]+c.left,this.containment[3]+c.top]):e=this.containment,a.pageX-this.offset.click.left<e[0]&&(l=e[0]+this.offset.click.left),a.pageY-this.offset.click.top<e[1]&&(k=e[1]+this.offset.click.top),a.pageX-this.offset.click.left>
e[2]&&(l=e[2]+this.offset.click.left),a.pageY-this.offset.click.top>e[3]&&(k=e[3]+this.offset.click.top)),g.grid&&(d=g.grid[1]?this.originalPageY+Math.round((k-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,k=e?d-this.offset.click.top>=e[1]||d-this.offset.click.top>e[3]?d:d-this.offset.click.top>=e[1]?d-g.grid[1]:d+g.grid[1]:d,f=g.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,l=e?f-this.offset.click.left>=e[0]||f-this.offset.click.left>
e[2]?f:f-this.offset.click.left>=e[0]?f-g.grid[0]:f+g.grid[0]:f),"y"===g.axis&&(l=this.originalPageX),"x"===g.axis&&(k=this.originalPageY)),{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,
"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(a,c,d){return d=d||this._uiHash(),b.ui.plugin.call(this,a,[c,d,this],!0),/^(drag|start|stop)/.test(a)&&(this.positionAbs=this._convertPositionTo("absolute"),d.offset=this.positionAbs),b.Widget.prototype._trigger.call(this,a,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,
originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(a,c,d){var e=b.extend({},c,{item:d.element});d.sortables=[];b(d.options.connectToSortable).each(function(){var c=b(this).sortable("instance");c&&!c.options.disabled&&(d.sortables.push(c),c.refreshPositions(),c._trigger("activate",a,e))})},stop:function(a,c,d){var e=b.extend({},c,{item:d.element});d.cancelHelperRemoval=!1;b.each(d.sortables,function(){this.isOver?(this.isOver=
0,d.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(a),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",a,e))})},drag:function(a,c,d){b.each(d.sortables,function(){var e=!1,f=this;f.positionAbs=d.positionAbs;f.helperProportions=d.helperProportions;f.offset.click=d.offset.click;f._intersectsWith(f.containerCache)&&
(e=!0,b.each(d.sortables,function(){return this.positionAbs=d.positionAbs,this.helperProportions=d.helperProportions,this.offset.click=d.offset.click,this!==f&&this._intersectsWith(this.containerCache)&&b.contains(f.element[0],this.element[0])&&(e=!1),e}));e?(f.isOver||(f.isOver=1,d._parent=c.helper.parent(),f.currentItem=c.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return c.helper[0]},a.target=f.currentItem[0],f._mouseCapture(a,
!0),f._mouseStart(a,!0,!0),f.offset.click.top=d.offset.click.top,f.offset.click.left=d.offset.click.left,f.offset.parent.left-=d.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=d.offset.parent.top-f.offset.parent.top,d._trigger("toSortable",a),d.dropped=f.element,b.each(d.sortables,function(){this.refreshPositions()}),d.currentItem=d.element,f.fromOutside=d),f.currentItem&&(f._mouseDrag(a),c.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,
f.options.revert=!1,f._trigger("out",a,f._uiHash(f)),f._mouseStop(a,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),c.helper.appendTo(d._parent),d._refreshOffsets(a),c.position=d._generatePosition(a,!0),d._trigger("fromSortable",a),d.dropped=!1,b.each(d.sortables,function(){this.refreshPositions()}))})}});b.ui.plugin.add("draggable","cursor",{start:function(a,c,d){a=b("body");d=d.options;a.css("cursor")&&(d._cursor=a.css("cursor"));a.css("cursor",
d.cursor)},stop:function(a,c,d){a=d.options;a._cursor&&b("body").css("cursor",a._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(a,c,d){a=b(c.helper);d=d.options;a.css("opacity")&&(d._opacity=a.css("opacity"));a.css("opacity",d.opacity)},stop:function(a,c,d){a=d.options;a._opacity&&b(c.helper).css("opacity",a._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1));c.scrollParentNotHidden[0]!==
c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(a,c,d){c=d.options;var e=!1,f=d.scrollParentNotHidden[0],g=d.document[0];f!==g&&"HTML"!==f.tagName?(c.axis&&"x"===c.axis||(d.overflowOffset.top+f.offsetHeight-a.pageY<c.scrollSensitivity?f.scrollTop=e=f.scrollTop+c.scrollSpeed:a.pageY-d.overflowOffset.top<c.scrollSensitivity&&(f.scrollTop=e=f.scrollTop-c.scrollSpeed)),c.axis&&"y"===c.axis||(d.overflowOffset.left+f.offsetWidth-
a.pageX<c.scrollSensitivity?f.scrollLeft=e=f.scrollLeft+c.scrollSpeed:a.pageX-d.overflowOffset.left<c.scrollSensitivity&&(f.scrollLeft=e=f.scrollLeft-c.scrollSpeed))):(c.axis&&"x"===c.axis||(a.pageY-b(g).scrollTop()<c.scrollSensitivity?e=b(g).scrollTop(b(g).scrollTop()-c.scrollSpeed):b(window).height()-(a.pageY-b(g).scrollTop())<c.scrollSensitivity&&(e=b(g).scrollTop(b(g).scrollTop()+c.scrollSpeed))),c.axis&&"y"===c.axis||(a.pageX-b(g).scrollLeft()<c.scrollSensitivity?e=b(g).scrollLeft(b(g).scrollLeft()-
c.scrollSpeed):b(window).width()-(a.pageX-b(g).scrollLeft())<c.scrollSensitivity&&(e=b(g).scrollLeft(b(g).scrollLeft()+c.scrollSpeed))));!1!==e&&b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(d,a)}});b.ui.plugin.add("draggable","snap",{start:function(a,c,d){a=d.options;d.snapElements=[];b(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var a=b(this),e=a.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),
top:e.top,left:e.left})})},drag:function(a,c,d){var e,f,g,h,l,k,q=d.options,m=q.snapTolerance,n=c.offset.left,F=n+d.helperProportions.width,J=c.offset.top,E=J+d.helperProportions.height;for(l=d.snapElements.length-1;0<=l;l--){var D=d.snapElements[l].left-d.margins.left;var u=D+d.snapElements[l].width;var O=d.snapElements[l].top-d.margins.top;var M=O+d.snapElements[l].height;D-m>F||n>u+m||O-m>E||J>M+m||!b.contains(d.snapElements[l].item.ownerDocument,d.snapElements[l].item)?(d.snapElements[l].snapping&&
d.options.snap.release&&d.options.snap.release.call(d.element,a,b.extend(d._uiHash(),{snapItem:d.snapElements[l].item})),d.snapElements[l].snapping=!1):("inner"!==q.snapMode&&(e=m>=Math.abs(O-E),f=m>=Math.abs(M-J),g=m>=Math.abs(D-F),h=m>=Math.abs(u-n),e&&(c.position.top=d._convertPositionTo("relative",{top:O-d.helperProportions.height,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:M,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:D-d.helperProportions.width}).left),
h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:u}).left)),k=e||f||g||h,"outer"!==q.snapMode&&(e=m>=Math.abs(O-J),f=m>=Math.abs(M-E),g=m>=Math.abs(D-n),h=m>=Math.abs(u-F),e&&(c.position.top=d._convertPositionTo("relative",{top:O,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:M-d.helperProportions.height,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:D}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:u-d.helperProportions.width}).left)),
!d.snapElements[l].snapping&&(e||f||g||h||k)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,a,b.extend(d._uiHash(),{snapItem:d.snapElements[l].item})),d.snapElements[l].snapping=e||f||g||h||k)}}});b.ui.plugin.add("draggable","stack",{start:function(a,c,d){var e;a=b.makeArray(b(d.options.stack)).sort(function(a,e){return(parseInt(b(a).css("zIndex"),10)||0)-(parseInt(b(e).css("zIndex"),10)||0)});a.length&&(e=parseInt(b(a[0]).css("zIndex"),10)||0,b(a).each(function(a){b(this).css("zIndex",
e+a)}),this.css("zIndex",e+a.length))}});b.ui.plugin.add("draggable","zIndex",{start:function(a,c,d){a=b(c.helper);d=d.options;a.css("zIndex")&&(d._zIndex=a.css("zIndex"));a.css("zIndex",d.zIndex)},stop:function(a,c,d){a=d.options;a._zIndex&&b(c.helper).css("zIndex",a._zIndex)}});b.ui.draggable;b.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},
_create:function(){var a,c=this.options,d=c.accept;this.isover=!1;this.isout=!0;this.accept=b.isFunction(d)?d:function(a){return a.is(d)};this.proportions=function(){return arguments.length?(a=arguments[0],void 0):a?a:a={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(c.scope);c.addClasses&&this._addClass("ui-droppable")},_addToManager:function(a){b.ui.ddmanager.droppables[a]=b.ui.ddmanager.droppables[a]||[];b.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var e=
0;a.length>e;e++)a[e]===this&&a.splice(e,1)},_destroy:function(){this._splice(b.ui.ddmanager.droppables[this.options.scope])},_setOption:function(a,c){"accept"===a?this.accept=b.isFunction(c)?c:function(a){return a.is(c)}:"scope"===a&&(this._splice(b.ui.ddmanager.droppables[this.options.scope]),this._addToManager(c));this._super(a,c)},_activate:function(a){var e=b.ui.ddmanager.current;this._addActiveClass();e&&this._trigger("activate",a,this.ui(e))},_deactivate:function(a){var e=b.ui.ddmanager.current;
this._removeActiveClass();e&&this._trigger("deactivate",a,this.ui(e))},_over:function(a){var e=b.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",a,this.ui(e)))},_out:function(a){var e=b.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",a,this.ui(e)))},
_drop:function(a,c){var e=c||b.ui.ddmanager.current,d=!1;return e&&(e.currentItem||e.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var c=b(this).droppable("instance");return c.options.greedy&&!c.options.disabled&&c.options.scope===e.options.scope&&c.accept.call(c.element[0],e.currentItem||e.element)&&k(e,b.extend(c,{offset:c.element.offset()}),c.options.tolerance,a)?(d=!0,!1):void 0}),d?!1:this.accept.call(this.element[0],e.currentItem||
e.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",a,this.ui(e)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});
var k=b.ui.intersect=function(){return function(a,b,c,d){if(!b.offset)return!1;var e=(a.positionAbs||a.position.absolute).left+a.margins.left,f=(a.positionAbs||a.position.absolute).top+a.margins.top,g=e+a.helperProportions.width,h=f+a.helperProportions.height,l=b.offset.left,k=b.offset.top,q=l+b.proportions().width,m=k+b.proportions().height;switch(c){case "fit":return e>=l&&q>=g&&f>=k&&m>=h;case "intersect":return e+a.helperProportions.width/2>l&&q>g-a.helperProportions.width/2&&f+a.helperProportions.height/
2>k&&m>h-a.helperProportions.height/2;case "pointer":a=d.pageY;c=b.proportions().height;if(k=a>=k&&k+c>a)d=d.pageX,b=b.proportions().width,k=d>=l&&l+b>d;return k;case "touch":return(f>=k&&m>=f||h>=k&&m>=h||k>f&&h>m)&&(e>=l&&q>=e||g>=l&&q>=g||l>e&&g>q);default:return!1}}}();b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,c){var e,d=b.ui.ddmanager.droppables[a.options.scope]||[],f=c?c.type:null,g=(a.currentItem||a.element).find(":data(ui-droppable)").addBack();var h=
0;a:for(;d.length>h;h++)if(!(d[h].options.disabled||a&&!d[h].accept.call(d[h].element[0],a.currentItem||a.element))){for(e=0;g.length>e;e++)if(g[e]===d[h].element[0]){d[h].proportions().height=0;continue a}d[h].visible="none"!==d[h].element.css("display");d[h].visible&&("mousedown"===f&&d[h]._activate.call(d[h],c),d[h].offset=d[h].element.offset(),d[h].proportions({width:d[h].element[0].offsetWidth,height:d[h].element[0].offsetHeight}))}},drop:function(a,c){var e=!1;return b.each((b.ui.ddmanager.droppables[a.options.scope]||
[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&k(a,this,this.options.tolerance,c)&&(e=this._drop.call(this,c)||e),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),e},dragStart:function(a,c){a.element.parentsUntil("body").on("scroll.droppable",function(){a.options.refreshPositions||b.ui.ddmanager.prepareOffsets(a,c)})},drag:function(a,c){a.options.refreshPositions&&
b.ui.ddmanager.prepareOffsets(a,c);b.each(b.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e,d,f,g=k(a,this,this.options.tolerance,c);(g=!g&&this.isover?"isout":g&&!this.isover?"isover":null)&&(this.options.greedy&&(d=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return b(this).droppable("instance").options.scope===d}),f.length&&(e=b(f[0]).droppable("instance"),e.greedyChild="isover"===g)),
e&&"isover"===g&&(e.isover=!1,e.isout=!0,e._out.call(e,c)),this[g]=!0,this["isout"===g?"isover":"isout"]=!1,this["isover"===g?"_over":"_out"].call(this,c),e&&"isout"===g&&(e.isout=!1,e.isover=!0,e._over.call(e,c)))}})},dragStop:function(a,c){a.element.parentsUntil("body").off("scroll.droppable");a.options.refreshPositions||b.ui.ddmanager.prepareOffsets(a,c)}};!1!==b.uiBackCompat&&b.widget("ui.droppable",b.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super();
this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});b.ui.droppable;b.widget("ui.sortable",b.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",
ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,
b,c){return a>=b&&b+c>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(a,b){this._super(a,b);"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){var a=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");
b.each(this.items,function(){a._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(a,c){var e=null,d=!1,f=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(a),b(a.target).parents().each(function(){return b.data(this,
f.widgetName+"-item")===f?(e=b(this),!1):void 0}),b.data(a.target,f.widgetName+"-item")===f&&(e=b(a.target)),e?!this.options.handle||c||(b(this.options.handle,e).find("*").addBack().each(function(){this===a.target&&(d=!0)}),d)?(this.currentItem=e,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(a,c,d){var e;c=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),
this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),c.containment&&this._setContainment(),c.cursor&&"auto"!==c.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",c.cursor),this.storedStylesheet=b("<style>*{ cursor: "+c.cursor+" !important; }</style>").appendTo(e)),c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",c.opacity)),c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("activate",a,this._uiHash(this));return b.ui.ddmanager&&
(b.ui.ddmanager.current=this),b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){var e,c,d;var f=this.options;var g=!1;this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?
(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<f.scrollSensitivity?this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop+f.scrollSpeed:a.pageY-this.overflowOffset.top<f.scrollSensitivity&&(this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop-f.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<f.scrollSensitivity?this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft+f.scrollSpeed:a.pageX-this.overflowOffset.left<f.scrollSensitivity&&
(this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft-f.scrollSpeed)):(a.pageY-this.document.scrollTop()<f.scrollSensitivity?g=this.document.scrollTop(this.document.scrollTop()-f.scrollSpeed):this.window.height()-(a.pageY-this.document.scrollTop())<f.scrollSensitivity&&(g=this.document.scrollTop(this.document.scrollTop()+f.scrollSpeed)),a.pageX-this.document.scrollLeft()<f.scrollSensitivity?g=this.document.scrollLeft(this.document.scrollLeft()-f.scrollSpeed):this.window.width()-(a.pageX-
this.document.scrollLeft())<f.scrollSensitivity&&(g=this.document.scrollLeft(this.document.scrollLeft()+f.scrollSpeed))),!1!==g&&b.ui.ddmanager&&!f.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(f=this.items.length-1;0<=f;f--)if(e=this.items[f],c=
e.item[0],d=this._intersectsWithPointer(e),d&&e.instance===this.currentContainer&&c!==this.currentItem[0]&&this.placeholder[1===d?"next":"prev"]()[0]!==c&&!b.contains(this.placeholder[0],c)&&("semi-dynamic"===this.options.type?!b.contains(this.element[0],c):!0)){if(this.direction=1===d?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(e))break;this._rearrange(a,e);this._trigger("change",a,this._uiHash());break}return this._contactContainers(a),b.ui.ddmanager&&b.ui.ddmanager.drag(this,
a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,c){if(a){if(b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,a),this.options.revert){var e=this;c=this.placeholder.offset();var d=this.options.axis,f={};d&&"x"!==d||(f.left=c.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));d&&"y"!==d||(f.top=c.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===
this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;b(this.helper).animate(f,parseInt(this.options.revert,10)||500,function(){e._clear(a)})}else this._clear(a,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new b.Event("mouseup",{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var a=this.containers.length-1;0<=a;a--)this.containers[a]._trigger("deactivate",
null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):
b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var e=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},b(e).each(function(){var e=(b(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);e&&c.push((a.key||e[1]+"[]")+"="+(a.key&&a.expression?e[1]:e[2]))}),!c.length&&a.key&&c.push(a.key+"="),c.join("&")},toArray:function(a){var e=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},e.each(function(){c.push(b(a.item||this).attr(a.attribute||
"id")||"")}),c},_intersectsWith:function(a){var e=this.positionAbs.left,b=e+this.helperProportions.width,c=this.positionAbs.top,d=c+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,k=h+a.height,m=this.offset.click.top,A=this.offset.click.left;m="x"===this.options.axis||c+m>h&&k>c+m;A="y"===this.options.axis||e+A>f&&g>e+A;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>
a[this.floating?"width":"height"]?m&&A:e+this.helperProportions.width/2>f&&g>b-this.helperProportions.width/2&&c+this.helperProportions.height/2>h&&k>d-this.helperProportions.height/2},_intersectsWithPointer:function(a){var e,b,c="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);return c&&a?(e=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection(),
this.floating?"right"===b||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(a){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var b=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return this.floating&&c?"right"===c&&a||"left"===c&&!a:b&&("down"===b&&e||"up"===b&&!e)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-
this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function e(){f.push(this)}var c,d,f=[],g=[],h=this._connectWith();
if(h&&a)for(a=h.length-1;0<=a;a--){var k=b(h[a],this.document[0]);for(c=k.length-1;0<=c;c--)(d=b.data(k[c],this.widgetFullName))&&d!==this&&!d.options.disabled&&g.push([b.isFunction(d.options.items)?d.options.items.call(d.element):b(d.options.items,d.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),d])}g.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(a=g.length-1;0<=a;a--)g[a][0].each(e);return b(f)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(e){for(var b=0;a.length>b;b++)if(a[b]===e.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[];this.containers=[this];var e,c,d,f,g=this.items,h=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):b(this.options.items,this.element),this]];
if((f=this._connectWith())&&this.ready)for(e=f.length-1;0<=e;e--){var k=b(f[e],this.document[0]);for(c=k.length-1;0<=c;c--)(d=b.data(k[c],this.widgetFullName))&&d!==this&&!d.options.disabled&&(h.push([b.isFunction(d.options.items)?d.options.items.call(d.element[0],a,{item:this.currentItem}):b(d.options.items,d.element),d]),this.containers.push(d))}for(e=h.length-1;0<=e;e--)for(a=h[e][1],k=h[e][0],c=0,f=k.length;f>c;c++)d=b(k[c]),d.data(this.widgetName+"-item",a),g.push({item:d,instance:a,width:0,
height:0,left:0,top:0})},refreshPositions:function(a){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var e,c,d;for(e=this.items.length-1;0<=e;e--){var f=this.items[e];f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(c=this.options.toleranceElement?b(this.options.toleranceElement,f.item):f.item,a||(f.width=c.outerWidth(),f.height=
c.outerHeight()),d=c.offset(),f.left=d.left,f.top=d.top)}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)d=this.containers[e].element.offset(),this.containers[e].containerCache.left=d.left,this.containers[e].containerCache.top=d.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();
return this},_createPlaceholder:function(a){a=a||this;var e,c=a.options;c.placeholder&&c.placeholder.constructor!==String||(e=c.placeholder,c.placeholder={element:function(){var c=a.currentItem[0].nodeName.toLowerCase(),d=b("<"+c+">",a.document[0]);return a._addClass(d,"ui-sortable-placeholder",e||a.currentItem[0].className)._removeClass(d,"ui-sortable-helper"),"tbody"===c?a._createTrPlaceholder(a.currentItem.find("tr").eq(0),b("<tr>",a.document[0]).appendTo(d)):"tr"===c?a._createTrPlaceholder(a.currentItem,
d):"img"===c&&d.attr("src",a.currentItem.attr("src")),e||d.css("visibility","hidden"),d},update:function(b,d){(!e||c.forcePlaceholderSize)&&(d.height()||d.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),d.width()||d.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}});a.placeholder=b(c.placeholder.element.call(a.element,a.currentItem));
a.currentItem.after(a.placeholder);c.placeholder.update(a,a.placeholder)},_createTrPlaceholder:function(a,c){var e=this;a.children().each(function(){b("<td>&#160;</td>",e.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(c)})},_contactContainers:function(a){var e,c,d,f,g,h=d=null;for(e=this.containers.length-1;0<=e;e--)b.contains(this.currentItem[0],this.containers[e].element[0])||(this._intersectsWith(this.containers[e].containerCache)?d&&b.contains(this.containers[e].element[0],d.element[0])||
(d=this.containers[e],h=e):this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",a,this._uiHash(this)),this.containers[e].containerCache.over=0));if(d)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",a,this._uiHash(this)),this.containers[h].containerCache.over=1);else{e=1E4;var k=null;d=(c=d.floating||this._isFloating(this.currentItem))?"left":"top";var m=c?"width":"height";var y=c?"pageX":"pageY";for(c=this.items.length-
1;0<=c;c--)b.contains(this.containers[h].element[0],this.items[c].item[0])&&this.items[c].item[0]!==this.currentItem[0]&&(f=this.items[c].item.offset()[d],g=!1,a[y]-f>this.items[c][m]/2&&(g=!0),e>Math.abs(a[y]-f)&&(e=Math.abs(a[y]-f),k=this.items[c],this.direction=g?"up":"down"));if(k||this.options.dropOnEmpty){if(this.currentContainer===this.containers[h])return this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",a,this._uiHash()),this.currentContainer.containerCache.over=
1),void 0;k?this._rearrange(a,k,null,!0):this._rearrange(a,null,this.containers[h].element,!0);this._trigger("change",a,this._uiHash());this.containers[h]._trigger("change",a,this._uiHash(this));this.currentContainer=this.containers[h];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[h]._trigger("over",a,this._uiHash(this));this.containers[h].containerCache.over=1}}},_createHelper:function(a){var e=this.options;a=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],
[a,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return a.parents("body").length||b("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]),a[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!a[0].style.width||e.forceHelperSize)&&a.width(this.currentItem.width()),
(!a[0].style.height||e.forceHelperSize)&&a.height(this.currentItem.height()),a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,c,d,f=this.options;"parent"===f.containment&&(f.containment=this.helper[0].parentNode);"document"!==f.containment&&"window"!==f.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===f.containment?this.document.width():this.window.width()-this.helperProportions.width-
this.margins.left,("document"===f.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(f.containment)||(a=b(f.containment)[0],c=b(f.containment).offset(),d="hidden"!==b(a).css("overflow"),this.containment=[c.left+(parseInt(b(a).css("borderLeftWidth"),10)||0)+(parseInt(b(a).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(a).css("borderTopWidth"),
10)||0)+(parseInt(b(a).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(b(a).css("borderLeftWidth"),10)||0)-(parseInt(b(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(b(a).css("borderTopWidth"),10)||0)-(parseInt(b(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,c){c||
(c=this.position);a="absolute"===a?1:-1;var e="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():d?0:e.scrollTop())*a,left:c.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():
d?0:e.scrollLeft())*a}},_generatePosition:function(a){var e,c,d=this.options,f=a.pageX,g=a.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&
(a.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),d.grid&&(e=this.originalPageY+Math.round((g-this.originalPageY)/d.grid[1])*d.grid[1],g=this.containment?e-this.offset.click.top>=
this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-d.grid[1]:e+d.grid[1]:e,c=this.originalPageX+Math.round((f-this.originalPageX)/d.grid[0])*d.grid[0],f=this.containment?c-this.offset.click.left>=this.containment[0]&&c-this.offset.click.left<=this.containment[2]?c:c-this.offset.click.left>=this.containment[0]?c-d.grid[0]:c+d.grid[0]:c)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():k?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var e=this.counter=this.counter?++this.counter:1;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},
_clear:function(a,b){function e(a,e,b){return function(c){b._trigger(a,c,e._uiHash(e))}}this.reverting=!1;var c,d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)"auto"!==this._storedCSS[c]&&"static"!==this._storedCSS[c]||(this._storedCSS[c]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!b&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||d.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&(b||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(e){a._trigger("receive",e,this._uiHash(this))}}.call(this,
this.currentContainer)),d.push(function(a){return function(e){a._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))));for(c=this.containers.length-1;0<=c;c--)b||d.push(e("deactivate",this,this.containers[c])),this.containers[c].containerCache.over&&(d.push(e("out",this,this.containers[c])),this.containers[c].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",
this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!b){for(c=0;d.length>c;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===
b.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(a){var e=a||this;return{helper:e.helper,placeholder:e.placeholder||b([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:a?a.element:null}}});b.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,
event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=b();this._addClass("ui-accordion",
"ui-widget ui-helper-reset");this.element.attr("role","tablist");a.collapsible||!1!==a.active&&null!=a.active||(a.active=0);this._processPanels();0>a.active&&(a.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():b()}},_createIcons:function(){var a,c,d=this.options.icons;d&&(a=b("<span>"),this._addClass(a,"ui-accordion-header-icon","ui-icon "+d.header),a.prependTo(this.headers),c=this.active.children(".ui-accordion-header-icon"),
this._removeClass(c,d.header)._addClass(c,null,d.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();var a=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();
"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?(this._activate(b),void 0):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),void 0)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",a);this._toggleClass(null,"ui-state-disabled",
!!a);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!a)},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var e=b.ui.keyCode,c=this.headers.length,d=this.headers.index(a.target),f=!1;switch(a.keyCode){case e.RIGHT:case e.DOWN:f=this.headers[(d+1)%c];break;case e.LEFT:case e.UP:f=this.headers[(d-1+c)%c];break;case e.SPACE:case e.ENTER:this._eventHandler(a);break;case e.HOME:f=this.headers[0];break;case e.END:f=this.headers[c-1]}f&&(b(a.target).attr("tabIndex",-1),b(f).attr("tabIndex",
0),b(f).trigger("focus"),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===b.ui.keyCode.UP&&a.ctrlKey&&b(a.currentTarget).prev().trigger("focus")},refresh:function(){var a=this.options;this._processPanels();!1===a.active&&!0===a.collapsible||!this.headers.length?(a.active=!1,this.active=b()):!1===a.active?this._activate(0):this.active.length&&!b.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=b()):this._activate(Math.max(0,
a.active-1)):a.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");b&&(this._off(a.not(this.headers)),
this._off(b.not(this.panels)))},_refresh:function(){var a,c=this.options,d=c.heightStyle,f=this.element.parent();this.active=this._findActive(c.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var a=b(this),e=a.uniqueId().attr("id"),c=a.next(),d=c.uniqueId().attr("id");
a.attr("aria-controls",d);c.attr("aria-labelledby",e)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(c.event);"fill"===d?(a=f.height(),this.element.siblings(":visible").each(function(){var e=
b(this),c=e.css("position");"absolute"!==c&&"fixed"!==c&&(a-=e.outerHeight(!0))}),this.headers.each(function(){a-=b(this).outerHeight(!0)}),this.headers.next().each(function(){b(this).height(Math.max(0,a-b(this).innerHeight()+b(this).height()))}).css("overflow","auto")):"auto"===d&&(a=0,this.headers.next().each(function(){var e=b(this).is(":visible");e||b(this).show();a=Math.max(a,b(this).css("height","").height());e||b(this).hide()}).height(a))},_activate:function(a){a=this._findActive(a)[0];a!==
this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:b.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):b()},_setupEvents:function(a){var e={keydown:"_keydown"};a&&b.each(a.split(" "),function(a,b){e[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,e);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(a){var e,
c,d=this.options,f=this.active,g=b(a.currentTarget),h=g[0]===f[0],k=h&&d.collapsible,m=k?b():g.next(),y=f.next();m={oldHeader:f,oldPanel:y,newHeader:k?b():g,newPanel:m};a.preventDefault();h&&!d.collapsible||!1===this._trigger("beforeActivate",a,m)||(d.active=k?!1:this.headers.index(g),this.active=h?b():g,this._toggle(m),this._removeClass(f,"ui-accordion-header-active","ui-state-active"),d.icons&&(e=f.children(".ui-accordion-header-icon"),this._removeClass(e,null,d.icons.activeHeader)._addClass(e,
null,d.icons.header)),h||(this._removeClass(g,"ui-accordion-header-collapsed")._addClass(g,"ui-accordion-header-active","ui-state-active"),d.icons&&(c=g.children(".ui-accordion-header-icon"),this._removeClass(c,null,d.icons.header)._addClass(c,null,d.icons.activeHeader)),this._addClass(g.next(),"ui-accordion-content-active")))},_toggle:function(a){var e=a.newPanel,c=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=e;this.prevHide=c;this.options.animate?
this._animate(e,c,a):(c.hide(),e.show(),this._toggleComplete(a));c.attr({"aria-hidden":"true"});c.prev().attr({"aria-selected":"false","aria-expanded":"false"});e.length&&c.length?c.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt(b(this).attr("tabIndex"),10)}).attr("tabIndex",-1);e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,b,c){var e,d,f,g=this,h=0,k=a.css("box-sizing"),
l=a.length&&(!b.length||a.index()<b.index()),m=this.options.animate||{};l=l&&m.down||m;var q=function(){g._toggleComplete(c)};return"number"==typeof l&&(f=l),"string"==typeof l&&(d=l),d=d||l.easing||m.easing,f=f||l.duration||m.duration,b.length?a.length?(e=a.show().outerHeight(),b.animate(this.hideProps,{duration:f,easing:d,step:function(a,e){e.now=Math.round(a)}}),a.hide().animate(this.showProps,{duration:f,easing:d,complete:q,step:function(a,c){c.now=Math.round(a);"height"!==c.prop?"content-box"===
k&&(h+=c.now):"content"!==g.options.heightStyle&&(c.now=Math.round(e-b.outerHeight()-h),h=0)}}),void 0):b.animate(this.hideProps,f,d,q):a.animate(this.showProps,f,d,q)},_toggleComplete:function(a){var e=a.oldPanel,b=e.prev();this._removeClass(e,"ui-accordion-content-active");this._removeClass(b,"ui-accordion-header-active")._addClass(b,"ui-accordion-header-collapsed");e.length&&(e.parent()[0].className=e.parent()[0].className);this._trigger("activate",null,a)}});b.widget("ui.menu",{version:"1.12.1",
defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(a){var e=b(a.target),c=b(b.ui.safeActiveElement(this.document[0]));
!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&c.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){if(!this.previousFilter){var e=b(a.target).closest(".ui-menu-item"),c=b(a.currentTarget);e[0]===c[0]&&(this._removeClass(c.siblings().children(".ui-state-active"),
null,"ui-state-active"),this.focus(a,c))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var e=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,e)},blur:function(a){this._delay(function(){!b.contains(this.element[0],b.ui.safeActiveElement(this.document[0]))&&this.collapseAll(a)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a);this.mouseHandled=!1}})},_destroy:function(){var a=
this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();a.children().each(function(){var a=b(this);a.data("ui-menu-submenu-caret")&&a.remove()})},_keydown:function(a){var e=!0;switch(a.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(a);
break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case b.ui.keyCode.HOME:this._move("first","first",a);break;case b.ui.keyCode.END:this._move("last","last",a);break;case b.ui.keyCode.UP:this.previous(a);break;case b.ui.keyCode.DOWN:this.next(a);break;case b.ui.keyCode.LEFT:this.collapse(a);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(a);break;case b.ui.keyCode.ESCAPE:this.collapse(a);
break;default:e=!1;var c=this.previousFilter||"";var d=!1;var f=96<=a.keyCode&&105>=a.keyCode?""+(a.keyCode-96):String.fromCharCode(a.keyCode);clearTimeout(this.filterTimer);f===c?d=!0:f=c+f;c=this._filterMenuItems(f);c=d&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c;c.length||(f=String.fromCharCode(a.keyCode),c=this._filterMenuItems(f));c.length?(this.focus(a,c),this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}e&&
a.preventDefault()},_activate:function(a){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var a=this,c=this.options.icons.submenu;var d=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);var f=d.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=
b(this),d=e.prev(),f=b("<span>").data("ui-menu-submenu-caret",!0);a._addClass(f,"ui-menu-icon","ui-icon "+c);d.attr("aria-haspopup","true").prepend(f);e.attr("aria-labelledby",d.attr("id"))});this._addClass(f,"ui-menu","ui-widget ui-widget-content ui-front");f=d.add(this.element).find(this.options.items);f.not(".ui-menu-item").each(function(){var e=b(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")});d=f.not(".ui-menu-item, .ui-menu-divider");var g=d.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,
role:this._itemRole()});this._addClass(d,"ui-menu-item")._addClass(g,"ui-menu-item-wrapper");f.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){if("icons"===a){var e=this.element.find(".ui-menu-icon");this._removeClass(e,null,this.options.icons.submenu)._addClass(e,null,b.submenu)}this._super(a,b)},_setOptionDisabled:function(a){this._super(a);
this.element.attr("aria-disabled",a+"");this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,b){this.blur(a,a&&"focus"===a.type);this._scrollIntoView(b);this.active=b.first();var e=this.active.children(".ui-menu-item-wrapper");this._addClass(e,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",e.attr("id"));e=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(e,null,"ui-state-active");a&&"keydown"===a.type?
this._close():this.timer=this._delay(function(){this._close()},this.delay);e=b.children(".ui-menu");e.length&&a&&/^mouse/.test(a.type)&&this._startOpening(e);this.activeMenu=b.parent();this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){var e,c,d,f,g,h;this._hasScroll()&&(e=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,c=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,d=a.offset().top-this.activeMenu.offset().top-e-c,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),
h=a.outerHeight(),0>d?this.activeMenu.scrollTop(f+d):d+h>g&&this.activeMenu.scrollTop(f+d-g+h))},blur:function(a,b){b||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",a,{item:this.active}),this.active=null)},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(a){var e=b.extend({of:this.active},
this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true");a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(a,c){clearTimeout(this.timer);this.timer=this._delay(function(){var e=c?this.element:b(a&&a.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element);this._close(e);this.blur(a);this._removeClass(e.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=
e},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(a){return!b(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(a,e))},expand:function(a){var e=this.active&&
this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(a,e)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var e;this.active&&(e="first"===a||"last"===a?this.active["first"===
a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));e&&e.length&&this.active||(e=this.activeMenu.find(this.options.items)[b]());this.focus(c,e)},nextPage:function(a){var e,c,d;return this.active?(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return e=b(this),0>e.offset().top-c-d}),this.focus(a,e)):this.focus(a,this.activeMenu.find(this.options.items)[this.active?
"last":"first"]())),void 0):(this.next(a),void 0)},previousPage:function(a){var e,c,d;return this.active?(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return e=b(this),0<e.offset().top-c+d}),this.focus(a,e)):this.focus(a,this.activeMenu.find(this.options.items).first())),void 0):(this.next(a),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=
this.active||b(a.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0);this._trigger("select",a,e)},_filterMenuItems:function(a){a=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var e=RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return e.test(b.trim(b(this).children(".ui-menu-item-wrapper").text()))})}});b.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",
options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,c,d,f=this.element[0].nodeName.toLowerCase(),g="textarea"===f;f="input"===f;this.isMultiLine=g||!f&&this._isContentEditable(this.element);this.valueMethod=this.element[g||f?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");
this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return a=!0,d=!0,c=!0,void 0;c=d=a=!1;var f=b.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:a=!0;this._move("previousPage",e);break;case f.PAGE_DOWN:a=!0;this._move("nextPage",e);break;case f.UP:a=!0;this._keyEvent("previous",e);break;case f.DOWN:a=!0;this._keyEvent("next",e);break;case f.ENTER:this.menu.active&&(a=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&
this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(e){if(a)return a=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&e.preventDefault(),void 0;if(!c){var d=b.ui.keyCode;switch(e.keyCode){case d.PAGE_UP:this._move("previousPage",e);break;case d.PAGE_DOWN:this._move("nextPage",e);break;case d.UP:this._keyEvent("previous",e);break;case d.DOWN:this._keyEvent("next",
e)}}},input:function(a){return d?(d=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}});this._initSource();this.menu=b("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,
{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==b.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(a,e){var c,d;return this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){b(a.target).trigger(a.originalEvent)}),void 0):(d=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",a,
{item:d})&&a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(d.value),c=e.item.attr("aria-label")||d.value,c&&b.trim(c).length&&(this.liveRegion.children().hide(),b("<div>").text(c).appendTo(this.liveRegion)),void 0)},menuselect:function(a,e){var c=e.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==b.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=d,this._delay(function(){this.previous=d;this.selectedItem=c}));!1!==this._trigger("select",
a,{item:c})&&this._value(c.value);this.term=this._value();this.close(a);this.selectedItem=c}});this.liveRegion=b("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},
_setOption:function(a,b){this._super(a,b);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(a){var e=this.menu.element[0];return a.target===this.element[0]||a.target===e||b.contains(e,a.target)},_closeOnClickOutside:function(a){this._isEventTargetInWidget(a)||this.close()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?b(a):this.document.find(a).eq(0)),
a&&a[0]||(a=this.element.closest(".ui-front, dialog")),a.length||(a=this.document[0].body),a},_initSource:function(){var a,c,d=this;b.isArray(this.options.source)?(a=this.options.source,this.source=function(e,c){c(b.ui.autocomplete.filter(a,e.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(a,e){d.xhr&&d.xhr.abort();d.xhr=b.ajax({url:c,data:a,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);
this.searching=this._delay(function(){var e=this.term===this._value(),b=this.menu.element.is(":visible"),c=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;e&&(!e||b||c)||(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):!1!==this._trigger("search",b)?this._search(a):void 0},_search:function(a){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=
!1;this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return b.proxy(function(b){a===this.requestIndex&&this.__response(b);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this._off(this.document,
"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:b.map(a,function(a){return"string"==typeof a?{label:a,value:a}:b.extend({},a,{label:a.label||a.value,value:a.value||a.label})})},_suggest:function(a){var e=this.menu.element.empty();this._renderMenu(e,
a);this.isNewMenu=!0;this.menu.refresh();e.show();this._resizeMenu();e.position(b.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,c){var e=this;b.each(c,function(b,c){e._renderItemData(a,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",
b)},_renderItem:function(a,c){return b("<li>").append(b("<div>").text(c.label)).appendTo(a)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[a](b),void 0):(this.search(null,b),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){this.isMultiLine&&
!this.menu.element.is(":visible")||(this._move(a,b),b.preventDefault())},_isContentEditable:function(a){if(!a.length)return!1;var b=a.prop("contentEditable");return"inherit"===b?this._isContentEditable(a.parent()):"true"===b}});b.extend(b.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,c){var e=RegExp(b.ui.autocomplete.escapeRegex(c),"i");return b.grep(a,function(a){return e.test(a.label||a.value||a)})}});b.widget("ui.autocomplete",
b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var e;this._superApply(arguments);this.options.disabled||this.cancelSearch||(e=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.children().hide(),b("<div>").text(e).appendTo(this.liveRegion))}});b.ui.autocomplete;b.extend(b.ui,{datepicker:{version:"1.12.1"}});
var m;b.extend(u.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,a||{}),this},_attachDatepicker:function(a,c){var e=a.nodeName.toLowerCase();var d="div"===e||"span"===e;a.id||(this.uuid+=1,a.id="dp"+this.uuid);var f=this._newInst(b(a),d);f.settings=b.extend({},c||{});"input"===e?this._connectDatepicker(a,f):d&&this._inlineDatepicker(a,f)},_newInst:function(e,c){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,
"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?a(b("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(a,c){var e=b(a);c.append=b([]);c.trigger=b([]);e.hasClass(this.markerClassName)||(this._attachments(e,c),e.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(c),
b.data(a,"datepicker",c),c.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,c){var e,d;var f=this._get(c,"appendText");var g=this._get(c,"isRTL");c.append&&c.append.remove();f&&(c.append=b("<span class='"+this._appendClass+"'>"+f+"</span>"),a[g?"before":"after"](c.append));a.off("focus",this._showDatepicker);c.trigger&&c.trigger.remove();f=this._get(c,"showOn");"focus"!==f&&"both"!==f||a.on("focus",this._showDatepicker);"button"!==f&&"both"!==f||(e=this._get(c,"buttonText"),
d=this._get(c,"buttonImage"),c.trigger=b(this._get(c,"buttonImageOnly")?b("<img/>").addClass(this._triggerClass).attr({src:d,alt:e,title:e}):b("<button type='button'></button>").addClass(this._triggerClass).html(d?b("<img/>").attr({src:d,alt:e,title:e}):e)),a[g?"before":"after"](c.trigger),c.trigger.on("click",function(){return b.datepicker._datepickerShowing&&b.datepicker._lastInput===a[0]?b.datepicker._hideDatepicker():b.datepicker._datepickerShowing&&b.datepicker._lastInput!==a[0]?(b.datepicker._hideDatepicker(),
b.datepicker._showDatepicker(a[0])):b.datepicker._showDatepicker(a[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,e,c,d,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(d=c=e=0;a.length>d;d++)a[d].length>e&&(e=a[d].length,c=d);return c},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay()));a.input.attr("size",this._formatDate(a,
f).length)}},_inlineDatepicker:function(a,c){var e=b(a);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(c.dpDiv),b.data(a,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(a),c.dpDiv.css("display","block"))},_dialogDatepicker:function(a,c,d,g,h){var e,k,l,m,q;a=this._dialogInst;return a||(this.uuid+=1,e="dp"+this.uuid,this._dialogInput=b("<input type='text' id='"+e+
"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),b("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},b.data(this._dialogInput[0],"datepicker",a)),f(a.settings,g||{}),c=c&&c.constructor===Date?this._formatDate(a,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(k=document.documentElement.clientWidth,l=document.documentElement.clientHeight,m=document.documentElement.scrollLeft||
document.body.scrollLeft,q=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[k/2-100+m,l/2-150+q]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),b.blockUI&&b.blockUI(this.dpDiv),b.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(a){var c,e=b(a),d=b.data(a,"datepicker");e.hasClass(this.markerClassName)&&
(c=a.nodeName.toLowerCase(),b.removeData(a,"datepicker"),"input"===c?(d.append.remove(),d.trigger.remove(),e.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===c||"span"===c)&&e.removeClass(this.markerClassName).empty(),m===d&&(m=null))},_enableDatepicker:function(a){var c,e,d=b(a),f=b.data(a,"datepicker");d.hasClass(this.markerClassName)&&(c=a.nodeName.toLowerCase(),"input"===c?(a.disabled=
!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(e=d.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=b.map(this._disabledInputs,function(b){return b===a?null:b}))},_disableDatepicker:function(a){var c,e,d=b(a),f=b.data(a,"datepicker");d.hasClass(this.markerClassName)&&(c=
a.nodeName.toLowerCase(),"input"===c?(a.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(e=d.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=b.map(this._disabledInputs,function(b){return b===a?null:b}),this._disabledInputs[this._disabledInputs.length]=a)},_isDisabledDatepicker:function(a){if(!a)return!1;
for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return b.data(a,"datepicker")}catch(l){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,c,d){var e,g,h,k,l=this._getInst(a);return 2===arguments.length&&"string"==typeof c?"defaults"===c?b.extend({},b.datepicker._defaults):l?"all"===c?b.extend({},l.settings):this._get(l,c):null:(e=c||{},"string"==typeof c&&(e={},e[c]=d),l&&(this._curInst===l&&this._hideDatepicker(),
g=this._getDateDatepicker(a,!0),h=this._getMinMaxDate(l,"min"),k=this._getMinMaxDate(l,"max"),f(l.settings,e),null!==h&&void 0!==e.dateFormat&&void 0===e.minDate&&(l.settings.minDate=this._formatDate(l,h)),null!==k&&void 0!==e.dateFormat&&void 0===e.maxDate&&(l.settings.maxDate=this._formatDate(l,k)),"disabled"in e&&(e.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(b(a),l),this._autoSize(l),this._setDate(l,g),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},
_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){(a=this._getInst(a))&&(this._setDate(a,b),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(a,b){a=this._getInst(a);return a&&!a.inline&&this._setDateFromField(a,b),a?this._getDate(a):null},_doKeyDown:function(a){var c,e,d,f=b.datepicker._getInst(a.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");
if(f._keyEvent=!0,b.datepicker._datepickerShowing)switch(a.keyCode){case 9:b.datepicker._hideDatepicker();g=!1;break;case 13:return d=b("td."+b.datepicker._dayOverClass+":not(."+b.datepicker._currentClass+")",f.dpDiv),d[0]&&b.datepicker._selectDay(a.target,f.selectedMonth,f.selectedYear,d[0]),c=b.datepicker._get(f,"onSelect"),c?(e=b.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[e,f])):b.datepicker._hideDatepicker(),!1;case 27:b.datepicker._hideDatepicker();break;case 33:b.datepicker._adjustDate(a.target,
a.ctrlKey?-b.datepicker._get(f,"stepBigMonths"):-b.datepicker._get(f,"stepMonths"),"M");break;case 34:b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(f,"stepBigMonths"):+b.datepicker._get(f,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&b.datepicker._clearDate(a.target);g=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&b.datepicker._gotoToday(a.target);g=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,h?1:-1,"D");g=a.ctrlKey||
a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(f,"stepBigMonths"):-b.datepicker._get(f,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,-7,"D");g=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,h?-1:1,"D");g=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(f,"stepBigMonths"):+b.datepicker._get(f,"stepMonths"),
"M");break;case 40:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,7,"D");g=a.ctrlKey||a.metaKey;break;default:g=!1}else 36===a.keyCode&&a.ctrlKey?b.datepicker._showDatepicker(this):g=!1;g&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var c,e,d=b.datepicker._getInst(a.target);return b.datepicker._get(d,"constrainInput")?(c=b.datepicker._possibleChars(b.datepicker._get(d,"dateFormat")),e=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||
" ">e||!c||-1<c.indexOf(e)):void 0},_doKeyUp:function(a){var c;a=b.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{(c=b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,b.datepicker._getFormatConfig(a)))&&(b.datepicker._setDateFromField(a),b.datepicker._updateAlternate(a),b.datepicker._updateDatepicker(a))}catch(q){}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!==a.nodeName.toLowerCase()&&(a=b("input",a.parentNode)[0]),!b.datepicker._isDisabledDatepicker(a)&&
b.datepicker._lastInput!==a){var c,e,d,g;var h=b.datepicker._getInst(a);b.datepicker._curInst&&b.datepicker._curInst!==h&&(b.datepicker._curInst.dpDiv.stop(!0,!0),h&&b.datepicker._datepickerShowing&&b.datepicker._hideDatepicker(b.datepicker._curInst.input[0]));var k=(k=b.datepicker._get(h,"beforeShow"))?k.apply(a,[a,h]):{};!1!==k&&(f(h.settings,k),h.lastVal=null,b.datepicker._lastInput=a,b.datepicker._setDateFromField(h),b.datepicker._inDialog&&(a.value=""),b.datepicker._pos||(b.datepicker._pos=b.datepicker._findPos(a),
b.datepicker._pos[1]+=a.offsetHeight),c=!1,b(a).parents().each(function(){return c|="fixed"===b(this).css("position"),!c}),e={left:b.datepicker._pos[0],top:b.datepicker._pos[1]},b.datepicker._pos=null,h.dpDiv.empty(),h.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),b.datepicker._updateDatepicker(h),e=b.datepicker._checkOffset(h,e,c),h.dpDiv.css({position:b.datepicker._inDialog&&b.blockUI?"static":c?"fixed":"absolute",display:"none",left:e.left+"px",top:e.top+"px"}),h.inline||(d=b.datepicker._get(h,
"showAnim"),g=b.datepicker._get(h,"duration"),h.dpDiv.css("z-index",n(b(a))+1),b.datepicker._datepickerShowing=!0,b.effects&&b.effects.effect[d]?h.dpDiv.show(d,b.datepicker._get(h,"showOptions"),g):h.dpDiv[d||"show"](d?g:null),b.datepicker._shouldFocusInput(h)&&h.input.trigger("focus"),b.datepicker._curInst=h))}},_updateDatepicker:function(a){this.maxRows=4;m=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);var c,e=this._getNumberOfMonths(a),f=e[1],g=a.dpDiv.find("."+this._dayOverClass+
" a");0<g.length&&d.apply(g.get(0));a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");a.dpDiv[(1!==e[0]||1!==e[1]?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===b.datepicker._curInst&&b.datepicker._datepickerShowing&&b.datepicker._shouldFocusInput(a)&&a.input.trigger("focus");a.yearshtml&&(c=a.yearshtml,
setTimeout(function(){c===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);c=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,c,d){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),g=a.input?a.input.outerWidth():0,h=a.input?a.input.outerHeight():0,k=document.documentElement.clientWidth+(d?0:b(document).scrollLeft()),l=document.documentElement.clientHeight+
(d?0:b(document).scrollTop());return c.left-=this._get(a,"isRTL")?e-g:0,c.left-=d&&c.left===a.input.offset().left?b(document).scrollLeft():0,c.top-=d&&c.top===a.input.offset().top+h?b(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>k&&k>e?Math.abs(c.left+e-k):0),c.top-=Math.min(c.top,c.top+f>l&&l>f?Math.abs(f+h):0),c},_findPos:function(a){var c,e=this._getInst(a);for(e=this._get(e,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||b.expr.filters.hidden(a));)a=a[e?"previousSibling":"nextSibling"];
return c=b(a).offset(),[c.left,c.top]},_hideDatepicker:function(a){var c,e,d,f,g=this._curInst;!g||a&&g!==b.data(a,"datepicker")||this._datepickerShowing&&(c=this._get(g,"showAnim"),e=this._get(g,"duration"),d=function(){b.datepicker._tidyDialog(g)},b.effects&&(b.effects.effect[c]||b.effects[c])?g.dpDiv.hide(c,b.datepicker._get(g,"showOptions"),e,d):g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?e:null,d),c||d(),this._datepickerShowing=!1,f=this._get(g,"onClose"),f&&f.apply(g.input?
g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),b.blockUI&&(b.unblockUI(),b("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(b.datepicker._curInst){a=b(a.target);var c=b.datepicker._getInst(a[0]);(!(a[0].id===b.datepicker._mainDivId||0!==a.parents("#"+b.datepicker._mainDivId).length||
a.hasClass(b.datepicker.markerClassName)||a.closest("."+b.datepicker._triggerClass).length||!b.datepicker._datepickerShowing||b.datepicker._inDialog&&b.blockUI)||a.hasClass(b.datepicker.markerClassName)&&b.datepicker._curInst!==c)&&b.datepicker._hideDatepicker()}},_adjustDate:function(a,c,d){a=b(a);var e=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(e,c+("M"===d?this._get(e,"showCurrentAtPos"):0),d),this._updateDatepicker(e))},_gotoToday:function(a){var c;a=b(a);var e=
this._getInst(a[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear());this._notifyChange(e);this._adjustDate(a)},_selectMonthYear:function(a,c,d){a=b(a);var e=this._getInst(a[0]);e["selected"+("M"===d?"Month":"Year")]=e["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,
10);this._notifyChange(e);this._adjustDate(a)},_selectDay:function(a,c,d,f){var e,g=b(a);b(f).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(e=this._getInst(g[0]),e.selectedDay=e.currentDay=b("a",f).html(),e.selectedMonth=e.currentMonth=c,e.selectedYear=e.currentYear=d,this._selectDate(a,this._formatDate(e,e.currentDay,e.currentMonth,e.currentYear)))},_clearDate:function(a){a=b(a);this._selectDate(a,"")},_selectDate:function(a,c){a=b(a);var e=this._getInst(a[0]);c=null!=c?c:
this._formatDate(e);e.input&&e.input.val(c);this._updateAlternate(e);(a=this._get(e,"onSelect"))?a.apply(e.input?e.input[0]:null,[c,e]):e.input&&e.input.trigger("change");e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(a){var c,e,d,f=this._get(a,"altField");f&&(c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),d=this.formatDate(c,e,this._getFormatConfig(a)),
b(f).val(d))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(a,c,d){if(null==a||null==c)throw"Invalid arguments";if(c="object"==typeof c?""+c:c+"",""===c)return null;var e,f,g,h=0,k=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff;k="string"!=typeof k?k:(new Date).getFullYear()%
100+parseInt(k,10);var l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,q=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort;d=(d?d.monthNames:null)||this._defaults.monthNames;var n=-1,F=-1,J=-1,E=-1,D=!1,u=function(c){c=a.length>e+1&&a.charAt(e+1)===c;return c&&e++,c},O=function(a){var b=u(a);b="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2;a=RegExp("^\\d{"+("y"===a?b:1)+","+b+"}");a=c.substring(h).match(a);if(!a)throw"Missing number at position "+
h;return h+=a[0].length,parseInt(a[0],10)},M=function(a,e,d){var f=-1;a=b.map(u(a)?d:e,function(a,c){return[[c,a]]}).sort(function(a,c){return-(a[1].length-c[1].length)});if(b.each(a,function(a,b){a=b[1];return c.substr(h,a.length).toLowerCase()===a.toLowerCase()?(f=b[0],h+=a.length,!1):void 0}),-1!==f)return f+1;throw"Unknown name at position "+h;},ia=function(){if(c.charAt(h)!==a.charAt(e))throw"Unexpected literal at position "+h;h++};for(e=0;a.length>e;e++)if(D)"'"!==a.charAt(e)||u("'")?ia():D=
!1;else switch(a.charAt(e)){case "d":J=O("d");break;case "D":M("D",l,m);break;case "o":E=O("o");break;case "m":F=O("m");break;case "M":F=M("M",q,d);break;case "y":n=O("y");break;case "@":var L=new Date(O("@"));n=L.getFullYear();F=L.getMonth()+1;J=L.getDate();break;case "!":L=new Date((O("!")-this._ticksTo1970)/1E4);n=L.getFullYear();F=L.getMonth()+1;J=L.getDate();break;case "'":u("'")?ia():D=!0;break;default:ia()}if(c.length>h&&(g=c.substr(h),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+
g;if(-1===n?n=(new Date).getFullYear():100>n&&(n+=(new Date).getFullYear()-(new Date).getFullYear()%100+(k>=n?0:-100)),-1<E)for(F=1,J=E;!(f=this._getDaysInMonth(n,F-1),f>=J);)F++,J-=f;if(L=this._daylightSavingAdjust(new Date(n,F-1,J)),L.getFullYear()!==n||L.getMonth()+1!==F||L.getDate()!==J)throw"Invalid date";return L},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",
TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*719162,formatDate:function(a,c,b){if(!c)return"";var e,d=(b?b.dayNamesShort:null)||this._defaults.dayNamesShort,f=(b?b.dayNames:null)||this._defaults.dayNames,g=(b?b.monthNamesShort:null)||this._defaults.monthNamesShort;b=(b?b.monthNames:null)||this._defaults.monthNames;var h=function(c){c=a.length>e+1&&a.charAt(e+1)===c;return c&&e++,c},k=function(a,c,b){c=""+c;if(h(a))for(;b>c.length;)c="0"+c;return c},l=function(a,c,b,e){return h(a)?e[c]:b[c]},m=
"",q=!1;if(c)for(e=0;a.length>e;e++)if(q)"'"!==a.charAt(e)||h("'")?m+=a.charAt(e):q=!1;else switch(a.charAt(e)){case "d":m+=k("d",c.getDate(),2);break;case "D":m+=l("D",c.getDay(),d,f);break;case "o":m+=k("o",Math.round(((new Date(c.getFullYear(),c.getMonth(),c.getDate())).getTime()-(new Date(c.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":m+=k("m",c.getMonth()+1,2);break;case "M":m+=l("M",c.getMonth(),g,b);break;case "y":m+=h("y")?c.getFullYear():(10>c.getFullYear()%100?"0":"")+c.getFullYear()%
100;break;case "@":m+=c.getTime();break;case "!":m+=1E4*c.getTime()+this._ticksTo1970;break;case "'":h("'")?m+="'":q=!0;break;default:m+=a.charAt(e)}return m},_possibleChars:function(a){var c,b="",e=!1,d=function(b){b=a.length>c+1&&a.charAt(c+1)===b;return b&&c++,b};for(c=0;a.length>c;c++)if(e)"'"!==a.charAt(c)||d("'")?b+=a.charAt(c):e=!1;else switch(a.charAt(c)){case "d":case "m":case "y":case "@":b+="0123456789";break;case "D":case "M":return null;case "'":d("'")?b+="'":e=!0;break;default:b+=a.charAt(c)}return b},
_get:function(a,c){return void 0!==a.settings[c]?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,c){if(a.input.val()!==a.lastVal){var b=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,d=this._getDefaultDate(a),f=d,g=this._getFormatConfig(a);try{f=this.parseDate(b,e,g)||d}catch(r){e=c?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=
e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,c,d){var e=function(a){var c=new Date;return c.setDate(c.getDate()+a),c},f=function(c){try{return b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),c,b.datepicker._getFormatConfig(a))}catch(G){}var e=(c.toLowerCase().match(/^c/)?b.datepicker._getDate(a):null)||new Date,d=e.getFullYear(),f=e.getMonth();
e=e.getDate();for(var g=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=g.exec(c);h;){switch(h[2]||"d"){case "d":case "D":e+=parseInt(h[1],10);break;case "w":case "W":e+=7*parseInt(h[1],10);break;case "m":case "M":f+=parseInt(h[1],10);e=Math.min(e,b.datepicker._getDaysInMonth(d,f));break;case "y":case "Y":d+=parseInt(h[1],10),e=Math.min(e,b.datepicker._getDaysInMonth(d,f))}h=g.exec(c)}return new Date(d,f,e)};c=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());
return c=c&&"Invalid Date"==""+c?d:c,c&&(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0)),this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,c,b){var e=!c,d=a.selectedMonth,f=a.selectedYear;c=this._restrictMinMax(a,this._determineDate(a,c,new Date));a.selectedDay=a.currentDay=c.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=c.getMonth();a.drawYear=a.selectedYear=a.currentYear=
c.getFullYear();d===a.selectedMonth&&f===a.selectedYear||b||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(a){var c=this._get(a,"stepMonths"),e="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){b(this).on(this.getAttribute("data-event"),{prev:function(){b.datepicker._adjustDate(e,
-c,"M")},next:function(){b.datepicker._adjustDate(e,+c,"M")},hide:function(){b.datepicker._hideDatepicker()},today:function(){b.datepicker._gotoToday(e)},selectDay:function(){return b.datepicker._selectDay(e,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return b.datepicker._selectMonthYear(e,this,"M"),!1},selectYear:function(){return b.datepicker._selectMonthYear(e,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var c,
b,e,d,f,g,h,k=new Date;k=this._daylightSavingAdjust(new Date(k.getFullYear(),k.getMonth(),k.getDate()));var m=this._get(a,"isRTL");var n=this._get(a,"showButtonPanel");var G=this._get(a,"hideIfNoPrevNext");var F=this._get(a,"navigationAsDateFormat");var J=this._getNumberOfMonths(a),E=this._get(a,"showCurrentAtPos");var D=this._get(a,"stepMonths");var u=1!==J[0]||1!==J[1],O=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),M=this._getMinMaxDate(a,
"min"),ia=this._getMinMaxDate(a,"max");E=a.drawMonth-E;var L=a.drawYear;if(0>E&&(E+=12,L--),ia){var I=this._daylightSavingAdjust(new Date(ia.getFullYear(),ia.getMonth()-J[0]*J[1]+1,ia.getDate()));for(I=M&&M>I?M:I;this._daylightSavingAdjust(new Date(L,E,1))>I;)E--,0>E&&(E=11,L--)}a.drawMonth=E;a.drawYear=L;I=this._get(a,"prevText");I=F?this.formatDate(I,this._daylightSavingAdjust(new Date(L,E-D,1)),this._getFormatConfig(a)):I;I=this._canAdjustMonth(a,-1,L,E)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+
I+"'><span class='ui-icon ui-icon-circle-triangle-"+(m?"e":"w")+"'>"+I+"</span></a>":G?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+I+"'><span class='ui-icon ui-icon-circle-triangle-"+(m?"e":"w")+"'>"+I+"</span></a>";var S=this._get(a,"nextText");S=F?this.formatDate(S,this._daylightSavingAdjust(new Date(L,E+D,1)),this._getFormatConfig(a)):S;G=this._canAdjustMonth(a,1,L,E)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+S+"'><span class='ui-icon ui-icon-circle-triangle-"+
(m?"w":"e")+"'>"+S+"</span></a>":G?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+S+"'><span class='ui-icon ui-icon-circle-triangle-"+(m?"w":"e")+"'>"+S+"</span></a>";D=this._get(a,"currentText");S=this._get(a,"gotoCurrent")&&a.currentDay?O:k;D=F?this.formatDate(D,S,this._getFormatConfig(a)):D;F=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+
"</button>";n=n?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(m?F:"")+(this._isInRange(a,S)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+D+"</button>":"")+(m?"":F)+"</div>":"";F=parseInt(this._get(a,"firstDay"),10);F=isNaN(F)?0:F;D=this._get(a,"showWeek");S=this._get(a,"dayNames");var za=this._get(a,"dayNamesMin");var X=this._get(a,"monthNames");var ma=this._get(a,"monthNamesShort");
var ca=this._get(a,"beforeShowDay");var T=this._get(a,"showOtherMonths");var na=this._get(a,"selectOtherMonths");var ya=this._getDefaultDate(a);var ka="";for(b=0;J[0]>b;b++){var la="";this.maxRows=4;for(e=0;J[1]>e;e++){if(d=this._daylightSavingAdjust(new Date(L,E,a.selectedDay)),c=" ui-corner-all",f="",u){if(f+="<div class='ui-datepicker-group",1<J[1])switch(e){case 0:f+=" ui-datepicker-group-first";c=" ui-corner-"+(m?"right":"left");break;case J[1]-1:f+=" ui-datepicker-group-last";c=" ui-corner-"+
(m?"left":"right");break;default:f+=" ui-datepicker-group-middle",c=""}f+="'>"}f+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+c+"'>"+(/all|left/.test(c)&&0===b?m?G:I:"")+(/all|right/.test(c)&&0===b?m?I:G:"")+this._generateMonthYearHeader(a,E,L,M,ia,0<b||0<e,X,ma)+"</div><table class='ui-datepicker-calendar'><thead><tr>";var ja=D?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(c=0;7>c;c++){var Y=(c+F)%7;ja+="<th scope='col'"+(5<=(c+F+6)%7?" class='ui-datepicker-week-end'":
"")+"><span title='"+S[Y]+"'>"+za[Y]+"</span></th>"}f+=ja+"</tr></thead><tbody>";ja=this._getDaysInMonth(L,E);L===a.selectedYear&&E===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,ja));c=(this._getFirstDayOfMonth(L,E)-F+7)%7;ja=Math.ceil((c+ja)/7);this.maxRows=ja=u?this.maxRows>ja?this.maxRows:ja:ja;Y=this._daylightSavingAdjust(new Date(L,E,1-c));for(g=0;ja>g;g++){f+="<tr>";var sa=D?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(Y)+"</td>":"";for(c=0;7>c;c++){var Ka=ca?
ca.apply(a.input?a.input[0]:null,[Y]):[!0,""];var ta=(h=Y.getMonth()!==E)&&!na||!Ka[0]||M&&M>Y||ia&&Y>ia;sa+="<td class='"+(5<=(c+F+6)%7?" ui-datepicker-week-end":"")+(h?" ui-datepicker-other-month":"")+(Y.getTime()===d.getTime()&&E===a.selectedMonth&&a._keyEvent||ya.getTime()===Y.getTime()&&ya.getTime()===d.getTime()?" "+this._dayOverClass:"")+(ta?" "+this._unselectableClass+" ui-state-disabled":"")+(h&&!T?"":" "+Ka[1]+(Y.getTime()===O.getTime()?" "+this._currentClass:"")+(Y.getTime()===k.getTime()?
" ui-datepicker-today":""))+"'"+(h&&!T||!Ka[2]?"":" title='"+Ka[2].replace(/'/g,"&#39;")+"'")+(ta?"":" data-handler='selectDay' data-event='click' data-month='"+Y.getMonth()+"' data-year='"+Y.getFullYear()+"'")+">"+(h&&!T?"&#xa0;":ta?"<span class='ui-state-default'>"+Y.getDate()+"</span>":"<a class='ui-state-default"+(Y.getTime()===k.getTime()?" ui-state-highlight":"")+(Y.getTime()===O.getTime()?" ui-state-active":"")+(h?" ui-priority-secondary":"")+"' href='#'>"+Y.getDate()+"</a>")+"</td>";Y.setDate(Y.getDate()+
1);Y=this._daylightSavingAdjust(Y)}f+=sa+"</tr>"}E++;11<E&&(E=0,L++);f+="</tbody></table>"+(u?"</div>"+(0<J[0]&&e===J[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");la+=f}ka+=la}return ka+=n,a._keyEvent=!1,ka},_generateMonthYearHeader:function(a,c,b,d,f,g,h,k){var e,m=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),r=this._get(a,"showMonthAfterYear"),q="<div class='ui-datepicker-title'>",t="";if(g||!m)t+="<span class='ui-datepicker-month'>"+h[c]+"</span>";else{h=d&&d.getFullYear()===
b;var n=f&&f.getFullYear()===b;t+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(e=0;12>e;e++)(!h||e>=d.getMonth())&&(!n||f.getMonth()>=e)&&(t+="<option value='"+e+"'"+(e===c?" selected='selected'":"")+">"+k[e]+"</option>");t+="</select>"}if(r||(q+=t+(!g&&m&&l?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",g||!l)q+="<span class='ui-datepicker-year'>"+b+"</span>";else{k=this._get(a,"yearRange").split(":");var x=(new Date).getFullYear();h=function(a){a=a.match(/c[+\-].*/)?
b+parseInt(a.substring(1),10):a.match(/[+\-].*/)?x+parseInt(a,10):parseInt(a,10);return isNaN(a)?x:a};c=h(k[0]);k=Math.max(c,h(k[1]||""));c=d?Math.max(c,d.getFullYear()):c;k=f?Math.min(k,f.getFullYear()):k;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";k>=c;c++)a.yearshtml+="<option value='"+c+"'"+(c===b?" selected='selected'":"")+">"+c+"</option>";a.yearshtml+="</select>";q+=a.yearshtml;a.yearshtml=null}return q+=this._get(a,"yearSuffix"),r&&
(q+=(!g&&m&&l?"":"&#xa0;")+t),q+="</div>"},_adjustInstDate:function(a,c,b){var e=a.selectedYear+("Y"===b?c:0),d=a.selectedMonth+("M"===b?c:0);c=Math.min(a.selectedDay,this._getDaysInMonth(e,d))+("D"===b?c:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,d,c)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();"M"!==b&&"Y"!==b||this._notifyChange(a)},_restrictMinMax:function(a,c){var b=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,
"max");c=b&&b>c?b:c;return a&&c>a?a:c},_notifyChange:function(a){var c=this._get(a,"onChangeMonthYear");c&&c.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,c){return this._determineDate(a,this._get(a,c+"Date"),null)},_getDaysInMonth:function(a,c){return 32-this._daylightSavingAdjust(new Date(a,c,32)).getDate()},_getFirstDayOfMonth:function(a,
c){return(new Date(a,c,1)).getDay()},_canAdjustMonth:function(a,c,b,d){var e=this._getNumberOfMonths(a);b=this._daylightSavingAdjust(new Date(b,d+(0>c?c:e[0]*e[1]),1));return 0>c&&b.setDate(this._getDaysInMonth(b.getFullYear(),b.getMonth())),this._isInRange(a,b)},_isInRange:function(a,c){var b,e,d=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null;a=this._get(a,"yearRange");return a&&(b=a.split(":"),e=(new Date).getFullYear(),g=parseInt(b[0],10),h=parseInt(b[1],10),b[0].match(/[+\-].*/)&&
(g+=e),b[1].match(/[+\-].*/)&&(h+=e)),(!d||c.getTime()>=d.getTime())&&(!f||c.getTime()<=f.getTime())&&(!g||c.getFullYear()>=g)&&(!h||h>=c.getFullYear())},_getFormatConfig:function(a){var c=this._get(a,"shortYearCutoff");return c="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),{shortYearCutoff:c,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,c,b,
d){c||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);c=c?"object"==typeof c?c:this._daylightSavingAdjust(new Date(d,b,c)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),c,this._getFormatConfig(a))}});b.fn.datepicker=function(a){if(!this.length)return this;b.datepicker.initialized||(b(document).on("mousedown",b.datepicker._checkExternalClick),b.datepicker.initialized=!0);0===
b("#"+b.datepicker._mainDivId).length&&b("body").append(b.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!==a&&"getDate"!==a&&"widget"!==a?"option"===a&&2===arguments.length&&"string"==typeof arguments[1]?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof a?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this].concat(c)):b.datepicker._attachDatepicker(this,a)}):b.datepicker["_"+
a+"Datepicker"].apply(b.datepicker,[this[0]].concat(c))};b.datepicker=new u;b.datepicker.initialized=!1;b.datepicker.uuid=(new Date).getTime();b.datepicker.version="1.12.1";b.datepicker;b.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var a=b(this).attr("title")||"";return b("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,
close:null,open:null},_addDescribedBy:function(a,c){var e=(a.attr("aria-describedby")||"").split(/\s+/);e.push(c);a.data("ui-tooltip-id",c).attr("aria-describedby",b.trim(e.join(" ")))},_removeDescribedBy:function(a){var c=a.data("ui-tooltip-id"),e=(a.attr("aria-describedby")||"").split(/\s+/);c=b.inArray(c,e);-1!==c&&e.splice(c,1);a.removeData("ui-tooltip-id");(e=b.trim(e.join(" ")))?a.attr("aria-describedby",e):a.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});
this.tooltips={};this.parents={};this.liveRegion=b("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=b([])},_setOption:function(a,c){var e=this;this._super(a,c);"content"===a&&b.each(this.tooltips,function(a,c){e._updateContent(c.element)})},_setOptionDisabled:function(a){this[a?"_disable":"_enable"]()},_disable:function(){var a=this;b.each(this.tooltips,
function(c,e){c=b.Event("blur");c.target=c.currentTarget=e.element[0];a.close(c,!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var a=b(this);return a.is("[title]")?a.data("ui-tooltip-title",a.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var a=b(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))});this.disabledTitles=b([])},open:function(a){var c=this,
e=b(a?a.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),a&&"mouseover"===a.type&&e.parents().each(function(){var a,e=b(this);e.data("ui-tooltip-open")&&(a=b.Event("blur"),a.target=a.currentTarget=this,c.close(a,!0));e.attr("title")&&(e.uniqueId(),c.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(a,e),this._updateContent(e,
a))},_updateContent:function(a,c){var b,e=this.options.content,d=this,f=c?c.type:null;return"string"==typeof e||e.nodeType||e.jquery?this._open(c,a,e):(b=e.call(a[0],function(b){d._delay(function(){a.data("ui-tooltip-open")&&(c&&(c.type=f),this._open(c,a,b))})}),b&&this._open(c,a,b),void 0)},_open:function(a,c,d){function e(a){h.of=a;k.is(":hidden")||k.position(h)}var f,g,h=b.extend({},this.options.position);if(d){if(f=this._find(c))return f.tooltip.find(".ui-tooltip-content").html(d),void 0;c.is("[title]")&&
(a&&"mouseover"===a.type?c.attr("title",""):c.removeAttr("title"));f=this._tooltip(c);var k=f.tooltip;this._addDescribedBy(c,k.attr("id"));k.find(".ui-tooltip-content").html(d);this.liveRegion.children().hide();d=b("<div>").html(k.find(".ui-tooltip-content").html());d.removeAttr("name").find("[name]").removeAttr("name");d.removeAttr("id").find("[id]").removeAttr("id");d.appendTo(this.liveRegion);this.options.track&&a&&/^mouse/.test(a.type)?(this._on(this.document,{mousemove:e}),e(a)):k.position(b.extend({of:c},
this.options.position));k.hide();this._show(k,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(g=this.delayedShow=setInterval(function(){k.is(":visible")&&(e(h.of),clearInterval(g))},b.fx.interval));this._trigger("open",a,{tooltip:k})}},_registerCloseHandlers:function(a,c){var e={keyup:function(a){a.keyCode===b.ui.keyCode.ESCAPE&&(a=b.Event(a),a.currentTarget=c[0],this.close(a,!0))}};c[0]!==this.element[0]&&(e.remove=function(){this._removeTooltip(this._find(c).tooltip)});
a&&"mouseover"!==a.type||(e.mouseleave="close");a&&"focusin"!==a.type||(e.focusout="close");this._on(!0,c,e)},close:function(a){var c,e=this,d=b(a?a.currentTarget:this.element),f=this._find(d);return f?(c=f.tooltip,f.closing||(clearInterval(this.delayedShow),d.data("ui-tooltip-title")&&!d.attr("title")&&d.attr("title",d.data("ui-tooltip-title")),this._removeDescribedBy(d),f.hiding=!0,c.stop(!0),this._hide(c,this.options.hide,function(){e._removeTooltip(b(this))}),d.removeData("ui-tooltip-open"),this._off(d,
"mouseleave focusout keyup"),d[0]!==this.element[0]&&this._off(d,"remove"),this._off(this.document,"mousemove"),a&&"mouseleave"===a.type&&b.each(this.parents,function(a,c){b(c.element).attr("title",c.title);delete e.parents[a]}),f.closing=!0,this._trigger("close",a,{tooltip:c}),f.hiding||(f.closing=!1)),void 0):(d.removeData("ui-tooltip-open"),void 0)},_tooltip:function(a){var c=b("<div>").attr("role","tooltip"),e=b("<div>").appendTo(c),d=c.uniqueId().attr("id");return this._addClass(e,"ui-tooltip-content"),
this._addClass(c,"ui-tooltip","ui-widget ui-widget-content"),c.appendTo(this._appendTo(a)),this.tooltips[d]={element:a,tooltip:c}},_find:function(a){return(a=a.data("ui-tooltip-id"))?this.tooltips[a]:null},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_appendTo:function(a){a=a.closest(".ui-front, dialog");return a.length||(a=this.document[0].body),a},_destroy:function(){var a=this;b.each(this.tooltips,function(c,e){var d=b.Event("blur");e=e.element;d.target=d.currentTarget=
e[0];a.close(d,!0);b("#"+c).remove();e.data("ui-tooltip-title")&&(e.attr("title")||e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});!1!==b.uiBackCompat&&b.widget("ui.tooltip",b.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var a=this._superApply(arguments);return this.options.tooltipClass&&a.tooltip.addClass(this.options.tooltipClass),a}});b.ui.tooltip});(function(b){b.widget("ui.progressbar",{options:{value:0},_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this._valueMin(),"aria-valuemax":this._valueMax(),"aria-valuenow":this._value()});this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();b.Widget.prototype.destroy.apply(this,arguments)},value:function(b){if(void 0===b)return this._value();this._setOption("value",b);return this},_setOption:function(n,u){switch(n){case "value":this.options.value=u,this._refreshValue(),this._trigger("change")}b.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var b=this.options.value;"number"!==typeof b&&(b=0);b<this._valueMin()&&(b=this._valueMin());b>this._valueMax()&&(b=this._valueMax());return b},_valueMin:function(){return 0},
_valueMax:function(){return 100},_refreshValue:function(){var b=this.value();this.valueDiv[b===this._valueMax()?"addClass":"removeClass"]("ui-corner-right").width(b+"%");this.element.attr("aria-valuenow",b)}});b.extend(b.ui.progressbar,{version:"1.8.2"})})(jQuery);(function(b,n){b.store=function(n,a){var d=this;if("string"==typeof n)if(b.store.drivers[n])this.driver=b.store.drivers[n];else throw Error("Unknown driver "+n);else if("object"==typeof n){if(!(b.isFunction(n.init)&&b.isFunction(n.get)&&b.isFunction(n.set)&&b.isFunction(n.del)&&b.isFunction(n.flush)))throw Error("The specified driver does not fulfill the API requirements");this.driver=n}else b.each(b.store.drivers,function(){if(!b.isFunction(this.available)||!this.available())return!0;d.driver=this;
return!1===d.driver.init()?(d.driver=null,!0):!1});a||(a=b.store.serializers);this.serializers={};b.each(a,function(a,g){if(!b.isFunction(this.init))return!0;d.serializers[a]=this;d.serializers[a].init(d.encoders,d.decoders)})};b.extend(b.store.prototype,{get:function(b){b=this.driver.get(b);return this.driver.encodes?b:this.unserialize(b)},set:function(b,a){this.driver.set(b,this.driver.encodes?a:this.serialize(a))},del:function(b){this.driver.del(b)},flush:function(){this.driver.flush()},driver:n,
encoders:[],decoders:[],serialize:function(n){var a=this;b.each(this.encoders,function(){var b=a.serializers[this+""];if(!b||!b.encode)return!0;try{n=b.encode(n)}catch(f){}});return n},unserialize:function(n){var a=this;if(!n)return n;b.each(this.decoders,function(){var b=a.serializers[this+""];if(!b||!b.decode)return!0;n=b.decode(n)});return n}});b.store.drivers={localStorage:{ident:"$.store.drivers.localStorage",scope:"browser",available:function(){try{return!!window.localStorage}catch(u){return!1}},
init:b.noop,get:function(b){return window.localStorage.getItem(b)},set:function(b,a){window.localStorage.setItem(b,a)},del:function(b){window.localStorage.removeItem(b)},flush:function(){window.localStorage.clear()}},userData:{ident:"$.store.drivers.userData",element:null,nodeName:"userdatadriver",scope:"browser",initialized:!1,available:function(){try{return!(!document.documentElement||!document.documentElement.addBehavior)}catch(u){return!1}},init:function(){if(!this.initialized)try{this.element=
document.createElement(this.nodeName),document.documentElement.insertBefore(this.element,document.getElementsByTagName("title")[0]),this.element.addBehavior("#default#userData"),this.initialized=!0}catch(u){return!1}},get:function(b){this.element.load(this.nodeName);return this.element.getAttribute(b)},set:function(b,a){this.element.setAttribute(b,a);this.element.save(this.nodeName)},del:function(b){this.element.removeAttribute(b);this.element.save(this.nodeName)},flush:function(){this.element.expires=
(new Date).toUTCString();this.element.save(this.nodeName)}},windowName:{ident:"$.store.drivers.windowName",scope:"window",cache:{},encodes:!0,available:function(){return!0},init:function(){this.load()},save:function(){window.name=b.store.serializers.json.encode(this.cache)},load:function(){try{this.cache=b.store.serializers.json.decode(window.name+""),"object"!=typeof this.cache&&(this.cache={})}catch(u){this.cache={},window.name="{}"}},get:function(b){return this.cache[b]},set:function(b,a){this.cache[b]=
a;this.save()},del:function(b){try{delete this.cache[b]}catch(a){this.cache[b]=n}this.save()},flush:function(){window.name="{}"}}};b.store.serializers={json:{ident:"$.store.serializers.json",init:function(b,a){b.push("json");a.push("json")},encode:"object"==typeof JSON?JSON.stringify:b.JSON.stringify,decode:"object"==typeof JSON?JSON.parse:b.JSON.parse},xml:{ident:"$.store.serializers.xml",init:function(b,a){b.unshift("xml");a.push("xml")},isXML:function(b){return(b=(b?b.ownerDocument||b:0).documentElement)?
"html"!==b.nodeName.toLowerCase():!1},encode:function(b){if(!b||b._serialized||!this.isXML(b))return b;var a={_serialized:this.ident,value:b};try{return a.value=(new XMLSerializer).serializeToString(b),a}catch(d){try{return a.value=b.xml,a}catch(f){}}return b},decode:function(b){if(!b||!b._serialized||b._serialized!=this.ident)return b;var a="DOMParser"in window&&(new DOMParser).parseFromString;!a&&window.ActiveXObject&&(a=function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);
return b});if(!a)return n;b.value=a.call("DOMParser"in window&&new DOMParser||window,b.value,"text/xml");return this.isXML(b.value)?b.value:n}}}})(jQuery);(function(b){b.fn.farbtastic=function(n){b.farbtastic(this,n);return this};b.farbtastic=function(n,u){n=b(n).get(0);return n.farbtastic||(n.farbtastic=new b._farbtastic(n,u))};b._farbtastic=function(n,u){var a=this;b(n).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var d=b(".farbtastic",n);a.wheel=b(".wheel",n).get(0);a.radius=84;a.square=100;a.width=194;navigator.appVersion.match(/MSIE [0-6]\./)&&
b("*",d).each(function(){if("none"!=this.currentStyle.backgroundImage){var a=this.currentStyle.backgroundImage;a=this.currentStyle.backgroundImage.substring(5,a.length-2);b(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+a+"')"})}});a.linkTo=function(d){"object"==typeof a.callback&&b(a.callback).unbind("keyup",a.updateValue);a.color=null;if("function"==typeof d)a.callback=d;else if("object"==typeof d||"string"==typeof d)a.callback=
b(d),a.callback.bind("keyup",a.updateValue),a.callback.get(0).value&&a.setColor(a.callback.get(0).value);return this};a.updateValue=function(){this.value&&this.value!=a.color&&a.setColor(this.value)};a.setColor=function(b){var d=a.unpack(b);a.color!=b&&d&&(a.color=b,a.rgb=d,a.hsl=a.RGBToHSL(a.rgb),a.updateDisplay());return this};a.setHSL=function(b){a.hsl=b;a.rgb=a.HSLToRGB(b);a.color=a.pack(a.rgb);a.updateDisplay();return this};a.widgetCoords=function(d){var f=b(a.wheel).offset();return{x:d.pageX-
f.left-a.width/2,y:d.pageY-f.top-a.width/2}};a.mousedown=function(d){document.dragging||(b(document).bind("mousemove",a.mousemove).bind("mouseup",a.mouseup),document.dragging=!0);var f=a.widgetCoords(d);a.circleDrag=2*Math.max(Math.abs(f.x),Math.abs(f.y))>a.square;a.mousemove(d);return!1};a.mousemove=function(b){b=a.widgetCoords(b);a.circleDrag?(b=Math.atan2(b.x,-b.y)/6.28,0>b&&(b+=1),a.setHSL([b,a.hsl[1],a.hsl[2]])):a.setHSL([a.hsl[0],Math.max(0,Math.min(1,-(b.x/a.square)+.5)),Math.max(0,Math.min(1,
-(b.y/a.square)+.5))]);return!1};a.mouseup=function(){b(document).unbind("mousemove",a.mousemove);b(document).unbind("mouseup",a.mouseup);document.dragging=!1};a.updateDisplay=function(){var f=6.28*a.hsl[0];b(".h-marker",d).css({left:Math.round(Math.sin(f)*a.radius+a.width/2)+"px",top:Math.round(-Math.cos(f)*a.radius+a.width/2)+"px"});b(".sl-marker",d).css({left:Math.round(a.square*(.5-a.hsl[1])+a.width/2)+"px",top:Math.round(a.square*(.5-a.hsl[2])+a.width/2)+"px"});b(".color",d).css("backgroundColor",
a.pack(a.HSLToRGB([a.hsl[0],1,.5])));"object"==typeof a.callback?(b(a.callback).css({backgroundColor:a.color,color:.5<a.hsl[2]?"#000":"#fff"}),b(a.callback).each(function(){this.value&&this.value!=a.color&&(this.value=a.color)})):"function"==typeof a.callback&&a.callback.call(a,a.color)};a.pack=function(a){var b=Math.round(255*a[0]),c=Math.round(255*a[1]);a=Math.round(255*a[2]);return"#"+(16>b?"0":"")+b.toString(16)+(16>c?"0":"")+c.toString(16)+(16>a?"0":"")+a.toString(16)};a.unpack=function(a){if(7==
a.length)return[parseInt("0x"+a.substring(1,3))/255,parseInt("0x"+a.substring(3,5))/255,parseInt("0x"+a.substring(5,7))/255];if(4==a.length)return[parseInt("0x"+a.substring(1,2))/15,parseInt("0x"+a.substring(2,3))/15,parseInt("0x"+a.substring(3,4))/15]};a.HSLToRGB=function(a){var b=a[0];var c=a[1];a=a[2];c=.5>=a?a*(c+1):a+c-a*c;a=2*a-c;return[this.hueToRGB(a,c,b+.33333),this.hueToRGB(a,c,b),this.hueToRGB(a,c,b-.33333)]};a.hueToRGB=function(a,b,c){c=0>c?c+1:1<c?c-1:c;return 1>6*c?a+(b-a)*c*6:1>2*c?
b:2>3*c?a+(b-a)*(.66666-c)*6:a};a.RGBToHSL=function(a){var b=a[0],c=a[1],d=a[2];var f=Math.min(b,Math.min(c,d));a=Math.max(b,Math.max(c,d));var m=a-f;var e=(f+a)/2;var l=0;0<e&&1>e&&(l=m/(.5>e?2*e:2-2*e));f=0;0<m&&(a==b&&a!=c&&(f+=(c-d)/m),a==c&&a!=d&&(f+=2+(d-b)/m),a==d&&a!=b&&(f+=4+(b-c)/m),f/=6);return[f,l,e]};b("*",d).mousedown(a.mousedown);a.setColor("#000000");u&&a.linkTo(u)}})(jQuery);/*
 jquery-timepicker v1.11.5 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 Copyright (c) 2016 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 License: MIT
*/
!function(b){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)}(function(b){function n(a){a=a[0];return 0<a.offsetWidth&&0<a.offsetHeight}function u(a){if(a.minTime&&(a.minTime=B(a.minTime)),a.maxTime&&(a.maxTime=B(a.maxTime)),a.durationTime&&"function"!=typeof a.durationTime&&(a.durationTime=B(a.durationTime)),"now"==a.scrollDefault)a.scrollDefault=function(){return a.roundingFunction(B(new Date),
a)};else if(a.scrollDefault&&"function"!=typeof a.scrollDefault){var c=a.scrollDefault;a.scrollDefault=function(){return a.roundingFunction(B(c),a)}}else a.minTime&&(a.scrollDefault=function(){return a.roundingFunction(a.minTime,a)});if("string"===b.type(a.timeFormat)&&a.timeFormat.match(/[gh]/)&&(a._twelveHourTime=!0),!1===a.showOnFocus&&-1!=a.showOn.indexOf("focus")&&a.showOn.splice(a.showOn.indexOf("focus"),1),0<a.disableTimeRanges.length){for(var e in a.disableTimeRanges)a.disableTimeRanges[e]=
[B(a.disableTimeRanges[e][0]),B(a.disableTimeRanges[e][1])];a.disableTimeRanges=a.disableTimeRanges.sort(function(a,c){return a[0]-c[0]});for(e=a.disableTimeRanges.length-1;0<e;e--)a.disableTimeRanges[e][0]<=a.disableTimeRanges[e-1][1]&&(a.disableTimeRanges[e-1]=[Math.min(a.disableTimeRanges[e][0],a.disableTimeRanges[e-1][0]),Math.max(a.disableTimeRanges[e][1],a.disableTimeRanges[e-1][1])],a.disableTimeRanges.splice(e,1))}return a}function a(a){var e=a.data("timepicker-settings"),g=a.data("timepicker-list");
if(g&&g.length&&(g.remove(),a.data("timepicker-list",!1)),e.useSelect)var h=g=b("<select />",{"class":"ui-timepicker-select"});else g=b("<ul />",{"class":"ui-timepicker-list"}),h=b("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1}),h.css({display:"none",position:"absolute"}).append(g);if(e.noneOption)if(!0===e.noneOption&&(e.noneOption=e.useSelect?"Time...":"None"),b.isArray(e.noneOption))for(var m in e.noneOption){if(parseInt(m,10)==m){var q=d(e.noneOption[m],e.useSelect);g.append(q)}}else q=
d(e.noneOption,e.useSelect),g.append(q);(e.className&&h.addClass(e.className),null===e.minTime&&null===e.durationTime||!e.showDuration)||("function"==typeof e.step?"function":e.step,h.addClass("ui-timepicker-with-duration"),h.addClass("ui-timepicker-step-"+e.step));q=e.minTime;"function"==typeof e.durationTime?q=B(e.durationTime()):null!==e.durationTime&&(q=e.durationTime);m=null!==e.minTime?e.minTime:0;var n=null!==e.maxTime?e.maxTime:m+y-1;m>n&&(n+=y);n===y-1&&"string"===b.type(e.timeFormat)&&e.show2400&&
(n=y);var A=e.disableTimeRanges,x=0,z=A.length,F=e.step;"function"!=typeof F&&(F=function(){return e.step});for(var u=0;n>=m;u++,m+=60*F(u)){var X=m,ma=r(X,e);if(e.useSelect)var ca=b("<option />",{value:ma});else ca=b("<li />"),ca.addClass(43200>X%86400?"ui-timepicker-am":"ui-timepicker-pm"),ca.data("time",86400>=X?X:X%86400);ca.text(ma);if((null!==e.minTime||null!==e.durationTime)&&e.showDuration)if(ma=C(m-q,e.step),e.useSelect)ca.text(ca.text()+" ("+ma+")");else{var T=b("<span />",{"class":"ui-timepicker-duration"});
T.text(" ("+ma+")");ca.append(T)}z>x&&(X>=A[x][1]&&(x+=1),A[x]&&X>=A[x][0]&&X<A[x][1]&&(e.useSelect?ca.prop("disabled",!0):ca.addClass("ui-timepicker-disabled")));g.append(ca)}(h.data("timepicker-input",a),a.data("timepicker-list",h),e.useSelect)?(a.val()&&g.val(f(B(a.val()),e)),g.on("focus",function(){b(this).data("timepicker-input").trigger("showTimepicker")}),g.on("blur",function(){b(this).data("timepicker-input").trigger("hideTimepicker")}),g.on("change",function(){l(a,b(this).val(),"select")}),
l(a,g.val(),"initial"),a.hide().after(g)):(m=e.appendTo,"string"==typeof m?m=b(m):"function"==typeof m&&(m=m(a)),m.append(h),k(a,g),g.on("mousedown click","li",function(e){a.off("focus.timepicker");a.on("focus.timepicker-ie-hack",function(){a.off("focus.timepicker-ie-hack");a.on("focus.timepicker",G.show)});c(a)||a[0].focus();g.find("li").removeClass("ui-timepicker-selected");b(this).addClass("ui-timepicker-selected");t(a)&&(a.trigger("hideTimepicker"),g.on("mouseup.timepicker click.timepicker","li",
function(a){g.off("mouseup.timepicker click.timepicker");h.hide()}))}))}function d(a,c){var e,d,f;return"object"==typeof a?(e=a.label,d=a.className,f=a.value):"string"==typeof a?e=a:b.error("Invalid noneOption value"),c?b("<option />",{value:f,"class":d,text:e}):b("<li />",{"class":d,text:e}).data("time",String(f))}function f(a,c){return a=c.roundingFunction(a,c),null!==a?r(a,c):void 0}function g(a){a.target!=window&&(a=b(a.target),a.closest(".ui-timepicker-input").length||a.closest(".ui-timepicker-wrapper").length||
(G.hide(),b(document).unbind(".ui-timepicker"),b(window).unbind(".ui-timepicker")))}function c(a){a=a.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&a.disableTouchKeyboard}function h(a,c,e){if(!e&&0!==e)return!1;a=a.data("timepicker-settings");var d=!1;e=a.roundingFunction(e,a);return c.find("li").each(function(a,c){a=b(c);if("number"==typeof a.data("time"))return a.data("time")==e?(d=a,!1):void 0}),d}function k(a,c){c.find("li").removeClass("ui-timepicker-selected");
var b=B(e(a),a.data("timepicker-settings"));null!==b&&(a=h(a,c,b))&&(b=a.offset().top-c.offset().top,(b+a.outerHeight()>c.outerHeight()||0>b)&&c.scrollTop(c.scrollTop()+a.position().top-a.outerHeight()),a.addClass("ui-timepicker-selected"))}function m(a,c){if(""!==this.value&&"timepicker"!=c){var e=b(this);if(!e.is(":focus")||a&&"change"==a.type){a=e.data("timepicker-settings");var d=B(this.value,a);if(null===d)return void e.trigger("timeFormatError");var f=!1;if(null!==a.minTime&&null!==a.maxTime&&
(d<a.minTime||d>a.maxTime)&&(f=!0),b.each(a.disableTimeRanges,function(){return d>=this[0]&&d<this[1]?(f=!0,!1):void 0}),a.forceRoundTime){var g=a.roundingFunction(d,a);g!=d&&(d=g,c=null)}a=r(d,a);f?l(e,a,"error")&&e.trigger("timeRangeError"):l(e,a,c)}}}function e(a){return a.is("input")?a.val():a.data("ui-timepicker-value")}function l(a,c,b){if(a.is("input")){a.val(c);var e=a.data("timepicker-settings");e.useSelect&&"select"!=b&&"initial"!=b&&a.data("timepicker-list").val(f(B(c),e))}return a.data("ui-timepicker-value")!=
c?(a.data("ui-timepicker-value",c),"select"==b?a.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(b)&&a.trigger("changeTime"),!0):(a.trigger("selectTime"),!1)}function q(a){switch(a.keyCode){case 13:case 9:break;default:a.preventDefault()}}function x(a){var e=b(this),d=e.data("timepicker-list");if(!d||!n(d)){if(40!=a.keyCode)return!0;G.show.call(e.get(0));d=e.data("timepicker-list");c(e)||e.focus()}switch(a.keyCode){case 13:return t(e)&&(m.call(e.get(0),
{type:"change"}),G.hide.apply(this)),a.preventDefault(),!1;case 38:var f=d.find(".ui-timepicker-selected");return f.length?f.is(":first-child")||(f.removeClass("ui-timepicker-selected"),f.prev().addClass("ui-timepicker-selected"),f.prev().position().top<f.outerHeight()&&d.scrollTop(d.scrollTop()-f.outerHeight())):(d.find("li").each(function(a,c){return 0<b(c).position().top?(f=b(c),!1):void 0}),f.addClass("ui-timepicker-selected")),!1;case 40:return f=d.find(".ui-timepicker-selected"),0===f.length?
(d.find("li").each(function(a,c){return 0<b(c).position().top?(f=b(c),!1):void 0}),f.addClass("ui-timepicker-selected")):f.is(":last-child")||(f.removeClass("ui-timepicker-selected"),f.next().addClass("ui-timepicker-selected"),f.next().position().top+2*f.outerHeight()>d.outerHeight()&&d.scrollTop(d.scrollTop()+f.outerHeight())),!1;case 27:d.find("li").removeClass("ui-timepicker-selected");G.hide();break;case 9:G.hide();break;default:return!0}}function z(a){var c=b(this),e=c.data("timepicker-list"),
d=c.data("timepicker-settings");if(!e||!n(e)||d.disableTextInput)return!0;switch(a.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:d.typeaheadHighlight?k(c,e):e.hide()}}function t(a){var c=a.data("timepicker-settings"),b=null,e=a.data("timepicker-list").find(".ui-timepicker-selected");return e.hasClass("ui-timepicker-disabled")?
!1:(e.length&&(b=e.data("time")),null!==b&&("string"!=typeof b&&(b=r(b,c)),l(a,b,"select")),!0)}function C(a,c){a=Math.abs(a);var b,e;a=Math.round(a/60);var d=[];return 60>a?d=[a,A.mins]:(b=Math.floor(a/60),e=a%60,30==c&&30==e&&(b+=A.decimal+5),d.push(b),d.push(1==b?A.hr:A.hrs),30!=c&&e&&(d.push(e),d.push(A.mins))),d.join(" ")}function r(a,c){if("number"!=typeof a)return null;var e=parseInt(a%60),d=parseInt(a/60%60),f=parseInt(a/3600%24);f=new Date(1970,0,2,f,d,e,0);if(isNaN(f.getTime()))return null;
if("function"===b.type(c.timeFormat))return c.timeFormat(f);for(var g="",h=0;h<c.timeFormat.length;h++)switch(e=c.timeFormat.charAt(h)){case "a":g+=11<f.getHours()?A.pm:A.am;break;case "A":g+=11<f.getHours()?A.PM:A.AM;break;case "g":e=f.getHours()%12;g+=0===e?"12":e;break;case "G":e=f.getHours();a===y&&(e=c.show2400?24:0);g+=e;break;case "h":e=f.getHours()%12;0!==e&&10>e&&(e="0"+e);g+=0===e?"12":e;break;case "H":e=f.getHours();a===y&&(e=c.show2400?24:0);g+=9<e?e:"0"+e;break;case "i":d=f.getMinutes();
g+=9<d?d:"0"+d;break;case "s":e=f.getSeconds();g+=9<e?e:"0"+e;break;case "\\":h++;g+=c.timeFormat.charAt(h);break;default:g+=e}return g}function B(a,c){if(""===a||null===a)return null;if("object"==typeof a)return 3600*a.getHours()+60*a.getMinutes()+a.getSeconds();if("string"!=typeof a)return a;a=a.toLowerCase().replace(/[\s\.]/g,"");"a"!=a.slice(-1)&&"p"!=a.slice(-1)||(a+="m");var b="("+A.am.replace(".","")+"|"+A.pm.replace(".","")+"|"+A.AM.replace(".","")+"|"+A.PM.replace(".","")+")?",e=a.match(new RegExp("^"+
b+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+b+"$"));if(!e)return null;a=parseInt(1*e[2],10);if(24<a){if(c&&!1===c.wrapHours)return null;a%=24}b=e[1]||e[5];var d=a;12>=a&&b&&(d=b==A.pm||b==A.PM,d=12==a?d?12:0:a+(d?12:0));e=3600*d+60*(1*e[3]||0)+(1*e[4]||0);12>a&&!b&&c&&c._twelveHourTime&&c.scrollDefault&&(c=e-c.scrollDefault(),0>c&&c>=y/-2&&(e=(e+y/2)%y));return e}var y=86400,A={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},G={init:function(c){return this.each(function(){var e=
b(this),d=[],f;for(f in b.fn.timepicker.defaults)e.data(f)&&(d[f]=e.data(f));d=b.extend({},b.fn.timepicker.defaults,d,c);if(d.lang&&(A=b.extend(A,d.lang)),d=u(d),e.data("timepicker-settings",d),e.addClass("ui-timepicker-input"),d.useSelect)a(e);else{if(e.prop("autocomplete","off"),d.showOn)for(var g in d.showOn)e.on(d.showOn[g]+".timepicker",G.show);e.on("change.timepicker",m);e.on("keydown.timepicker",x);e.on("keyup.timepicker",z);d.disableTextInput&&e.on("keydown.timepicker",q);m.call(e.get(0),
null,"initial")}})},show:function(d){var f=b(this),m=f.data("timepicker-settings");if(d&&d.preventDefault(),m.useSelect)return void f.data("timepicker-list").focus();c(f)&&f.blur();d=f.data("timepicker-list");if(!f.prop("readonly")&&(d&&0!==d.length&&"function"!=typeof m.durationTime||(a(f),d=f.data("timepicker-list")),!n(d))){f.data("ui-timepicker-value",f.val());k(f,d);G.hide();d.show();var l={};m.orientation.match(/r/)?l.left=f.offset().left+f.outerWidth()-d.outerWidth()+parseInt(d.css("marginLeft").replace("px",
""),10):l.left=f.offset().left+parseInt(d.css("marginLeft").replace("px",""),10);"t"==(m.orientation.match(/t/)?"t":m.orientation.match(/b/)?"b":f.offset().top+f.outerHeight(!0)+d.outerHeight()>b(window).height()+b(window).scrollTop()?"t":"b")?(d.addClass("ui-timepicker-positioned-top"),l.top=f.offset().top-d.outerHeight()+parseInt(d.css("marginTop").replace("px",""),10)):(d.removeClass("ui-timepicker-positioned-top"),l.top=f.offset().top+f.outerHeight()+parseInt(d.css("marginTop").replace("px",""),
10));d.offset(l);l=d.find(".ui-timepicker-selected");if(!l.length){var r=B(e(f));null!==r?l=h(f,d,r):m.scrollDefault&&(l=h(f,d,m.scrollDefault()))}l&&l.length?(l=d.scrollTop()+l.position().top-l.outerHeight(),d.scrollTop(l)):d.scrollTop(0);return m.stopScrollPropagation&&b(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(a){a.preventDefault();var c=b(this).scrollTop();b(this).scrollTop(c+a.originalEvent.deltaY)}),b(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",
g),b(window).on("resize.ui-timepicker",g),m.closeOnWindowScroll&&b(document).on("scroll.ui-timepicker",g),f.trigger("showTimepicker"),this}},hide:function(a){a=b(this);var c=a.data("timepicker-settings");return c&&c.useSelect&&a.blur(),b(".ui-timepicker-wrapper").each(function(){var a=b(this);if(n(a)){var c=a.data("timepicker-input"),e=c.data("timepicker-settings");e&&e.selectOnBlur&&t(c);a.hide();c.trigger("hideTimepicker")}}),this},option:function(c,e){return"string"==typeof c&&"undefined"==typeof e?
b(this).data("timepicker-settings")[c]:this.each(function(){var d=b(this),f=d.data("timepicker-settings"),g=d.data("timepicker-list");"object"==typeof c?f=b.extend(f,c):"string"==typeof c&&(f[c]=e);f=u(f);d.data("timepicker-settings",f);g&&(g.remove(),d.data("timepicker-list",!1));f.useSelect&&a(d)})},getSecondsFromMidnight:function(){return B(e(this))},getTime:function(a){var c=e(this);if(!c)return null;c=B(c);if(null===c)return null;a||(a=new Date);a=new Date(a);return a.setHours(c/3600),a.setMinutes(c%
3600/60),a.setSeconds(c%60),a.setMilliseconds(0),a},isVisible:function(){var a=this.data("timepicker-list");return!(!a||!n(a))},setTime:function(a){var c=this.data("timepicker-settings"),b=c.forceRoundTime?f(B(a),c):r(B(a),c);return a&&null===b&&c.noneOption&&(b=a),l(this,b),this.data("timepicker-list")&&k(this,this.data("timepicker-list")),this},remove:function(){if(this.hasClass("ui-timepicker-input")){var a=this.data("timepicker-settings");return this.removeAttr("autocomplete","off"),this.removeClass("ui-timepicker-input"),
this.removeData("timepicker-settings"),this.off(".timepicker"),this.data("timepicker-list")&&this.data("timepicker-list").remove(),a.useSelect&&this.show(),this.removeData("timepicker-list"),this}}};b.fn.timepicker=function(a){return this.length?G[a]?this.hasClass("ui-timepicker-input")?G[a].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof a&&a?void b.error("Method "+a+" does not exist on jQuery.timepicker"):G.init.apply(this,arguments):this};b.fn.timepicker.defaults={appendTo:"body",
className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(a,c){if(null===a)return null;if("number"!=typeof c.step)return a;var b=a%(60*c.step);return b>=30*c.step?a+=60*c.step-b:a-=b,a==y&&c.show2400?a:a%y},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,
timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}});(function(b){function n(){return b("<div/>")}var u=Math.abs,a=Math.max,d=Math.min,f=Math.round;b.imgAreaSelect=function(g,c){function h(a){return a+ja.left-ta.left}function k(a){return a+ja.top-ta.top}function m(a){return a-ja.left+ta.left}function e(a){return a-ja.top+ta.top}function l(a){var c=a||p;a=a||Fa;return{x1:f(U.x1*c),y1:f(U.y1*a),x2:f(U.x2*c),y2:f(U.y2*a),width:f(U.x2*c)-f(U.x1*c),height:f(U.y2*a)-f(U.y1*a)}}function q(a,c,b,e,d){var g=d||p;d=d||Fa;U={x1:f(a/g||0),y1:f(c/d||0),x2:f(b/g||
0),y2:f(e/d||0)};U.width=U.x2-U.x1;U.height=U.y2-U.y1}function x(){za&&S.width()&&(ja={left:f(S.offset().left),top:f(S.offset().top)},Y=S.innerWidth(),sa=S.innerHeight(),ja.top+=S.outerHeight()-sa>>1,ja.left+=S.outerWidth()-Y>>1,ua=f(c.minWidth/p)||0,db=f(c.minHeight/Fa)||0,xa=f(d(c.maxWidth/p||16777216,Y)),yb=f(d(c.maxHeight/Fa||16777216,sa)),"1.3.2"!=b().jquery||"fixed"!=Aa||Oa.getBoundingClientRect||(ja.top+=a(document.body.scrollTop,Oa.scrollTop),ja.left+=a(document.body.scrollLeft,Oa.scrollLeft)),
ta=/absolute|relative/.test(Ka.css("position"))?{left:f(Ka.offset().left)-Ka.scrollLeft(),top:f(Ka.offset().top)-Ka.scrollTop()}:"fixed"==Aa?{left:b(document).scrollLeft(),top:b(document).scrollTop()}:{left:0,top:0},ka=h(0),la=k(0),(U.x2>Y||U.y2>sa)&&G())}function z(e){if(jb){X.css({left:h(U.x1),top:k(U.y1)}).add(ma).width(ea=U.width).height(Ra=U.height);ma.add(ca).add(na).css({left:0,top:0});ca.width(a(ea-ca.outerWidth()+ca.innerWidth(),0)).height(a(Ra-ca.outerHeight()+ca.innerHeight(),0));b(T[0]).css({left:ka,
top:la,width:U.x1,height:sa});b(T[1]).css({left:ka+U.x1,top:la,width:ea,height:U.y1});b(T[2]).css({left:ka+U.x2,top:la,width:Y-U.x2,height:sa});b(T[3]).css({left:ka+U.x1,top:la+U.y2,width:ea,height:sa-U.y2});ea-=na.outerWidth();Ra-=na.outerHeight();switch(na.length){case 8:b(na[4]).css({left:ea>>1}),b(na[5]).css({left:ea,top:Ra>>1}),b(na[6]).css({left:ea>>1,top:Ra}),b(na[7]).css({top:Ra>>1});case 4:na.slice(1,3).css({left:ea}),na.slice(2,4).css({top:Ra})}if(!1!==e&&(b.imgAreaSelect.onKeyPress!=lb&&
b(document).unbind(b.imgAreaSelect.keyPress,b.imgAreaSelect.onKeyPress),c.keys))b(document)[b.imgAreaSelect.keyPress](b.imgAreaSelect.onKeyPress=lb);Ea&&2==ca.outerWidth()-ca.innerWidth()&&(ca.css("margin",0),setTimeout(function(){ca.css("margin","auto")},0))}}function t(a){x();z(a);K=h(U.x1);da=k(U.y1);W=h(U.x2);ha=k(U.y2)}function C(a,b){c.fadeSpeed?a.fadeOut(c.fadeSpeed,b):a.hide()}function r(a){var b=m(a.pageX-ta.left)-U.x1;a=e(a.pageY-ta.top)-U.y1;Qa||(x(),Qa=!0,X.one("mouseout",function(){Qa=
!1}));Ga="";c.resizable&&(a<=c.resizeMargin?Ga="n":a>=U.height-c.resizeMargin&&(Ga="s"),b<=c.resizeMargin?Ga+="w":b>=U.width-c.resizeMargin&&(Ga+="e"));X.css("cursor",Ga?Ga+"-resize":c.movable?"move":"");ya&&ya.toggle()}function B(a){b("body").css("cursor","");(c.autoHide||0==U.width*U.height)&&C(X.add(T),function(){b(this).hide()});b(document).unbind("mousemove",F);X.mousemove(r);c.onSelectEnd(g,l())}function y(a){if(1!=a.which)return!1;x();Ga?(b("body").css("cursor",Ga+"-resize"),K=h(U[/w/.test(Ga)?
"x2":"x1"]),da=k(U[/n/.test(Ga)?"y2":"y1"]),b(document).mousemove(F).one("mouseup",B),X.unbind("mousemove",r)):c.movable?(Ha=ka+U.x1-(a.pageX-ta.left),N=la+U.y1-(a.pageY-ta.top),X.unbind("mousemove",r),b(document).mousemove(E).one("mouseup",function(){c.onSelectEnd(g,l());b(document).unbind("mousemove",E);X.mousemove(r)})):S.mousedown(a);return!1}function A(c){Ta&&(c?(W=a(ka,d(ka+Y,K+u(ha-da)*Ta*(W>K||-1))),ha=f(a(la,d(la+sa,da+u(W-K)/Ta*(ha>da||-1)))),W=f(W)):(ha=a(la,d(la+sa,da+u(W-K)/Ta*(ha>da||
-1))),W=f(a(ka,d(ka+Y,K+u(ha-da)*Ta*(W>K||-1)))),ha=f(ha)))}function G(){K=d(K,ka+Y);da=d(da,la+sa);u(W-K)<ua&&(W=K-ua*(W<K||-1),W<ka?K=ka+ua:W>ka+Y&&(K=ka+Y-ua));u(ha-da)<db&&(ha=da-db*(ha<da||-1),ha<la?da=la+db:ha>la+sa&&(da=la+sa-db));W=a(ka,d(W,ka+Y));ha=a(la,d(ha,la+sa));A(u(W-K)<u(ha-da)*Ta);u(W-K)>xa&&(W=K-xa*(W<K||-1),A());u(ha-da)>yb&&(ha=da-yb*(ha<da||-1),A(!0));U={x1:m(d(K,W)),x2:m(a(K,W)),y1:e(d(da,ha)),y2:e(a(da,ha)),width:u(W-K),height:u(ha-da)};z();c.onSelectChange(g,l())}function F(a){W=
/w|e|^$/.test(Ga)||Ta?a.pageX-ta.left:h(U.x2);ha=/n|s|^$/.test(Ga)||Ta?a.pageY-ta.top:k(U.y2);G();return!1}function J(a,d){W=(K=a)+U.width;ha=(da=d)+U.height;b.extend(U,{x1:m(K),y1:e(da),x2:m(W),y2:e(ha)});z();c.onSelectChange(g,l())}function E(c){K=a(ka,d(Ha+(c.pageX-ta.left),ka+Y-U.width));da=a(la,d(N+(c.pageY-ta.top),la+sa-U.height));J(K,da);c.preventDefault();return!1}function D(){b(document).unbind("mousemove",D);x();W=K;ha=da;G();Ga="";T.is(":visible")||X.add(T).hide().fadeIn(c.fadeSpeed||0);
jb=!0;b(document).unbind("mouseup",Q).mousemove(F).one("mouseup",B);X.unbind("mousemove",r);c.onSelectStart(g,l())}function Q(){b(document).unbind("mousemove",D).unbind("mouseup",Q);C(X.add(T));q(m(K),e(da),m(K),e(da));this instanceof b.imgAreaSelect||(c.onSelectChange(g,l()),c.onSelectEnd(g,l()))}function O(a){if(1!=a.which||T.is(":animated"))return!1;x();Ha=K=a.pageX-ta.left;N=da=a.pageY-ta.top;b(document).mousemove(D).mouseup(Q);return!1}function M(){t(!1)}function ia(){za=!0;I(c=b.extend({classPrefix:"imgareaselect",
movable:!0,parent:"body",resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},c));X.add(T).css({visibility:""});c.show&&(jb=!0,x(),z(),X.add(T).hide().fadeIn(c.fadeSpeed||0));setTimeout(function(){c.onInit(g,l())},0)}function L(a,b){for(var e in b)void 0!==c[e]&&a.css(b[e],c[e])}function I(a){a.parent&&(Ka=b(a.parent)).append(X.add(T));b.extend(c,a);x();if(null!=a.handles){na.remove();na=b([]);for(ab=a.handles?"corners"==
a.handles?4:8:0;ab--;)na=na.add(n());na.addClass(c.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:Da+1||1});0<=!parseInt(na.css("width"))&&na.width(5).height(5);(Pa=c.borderWidth)&&na.css({borderWidth:Pa,borderStyle:"solid"});L(na,{borderColor1:"border-color",borderColor2:"background-color",borderOpacity:"opacity"})}p=c.imageWidth/Y||1;Fa=c.imageHeight/sa||1;null!=a.x1&&(q(a.x1,a.y1,a.x2,a.y2),a.show=!a.hide);a.keys&&(c.keys=b.extend({shift:1,ctrl:"resize"},a.keys));T.addClass(c.classPrefix+
"-outer");ma.addClass(c.classPrefix+"-selection");for(ab=0;4>ab++;)b(ca[ab-1]).addClass(c.classPrefix+"-border"+ab);L(ma,{selectionColor:"background-color",selectionOpacity:"opacity"});L(ca,{borderOpacity:"opacity",borderWidth:"border-width"});L(T,{outerColor:"background-color",outerOpacity:"opacity"});(Pa=c.borderColor1)&&b(ca[0]).css({borderStyle:"solid",borderColor:Pa});(Pa=c.borderColor2)&&b(ca[1]).css({borderStyle:"dashed",borderColor:Pa});X.append(ma.add(ca).add(ya)).append(na);Ea&&((Pa=(T.css("filter")||
"").match(/opacity=(\d+)/))&&T.css("opacity",Pa[1]/100),(Pa=(ca.css("filter")||"").match(/opacity=(\d+)/))&&ca.css("opacity",Pa[1]/100));a.hide?C(X.add(T)):a.show&&za&&(jb=!0,X.add(T).fadeIn(c.fadeSpeed||0),t());Ta=(nb=(c.aspectRatio||"").split(/:/))[0]/nb[1];S.add(T).unbind("mousedown",O);if(c.disable||!1===c.enable)X.unbind("mousemove",r).unbind("mousedown",y),b(window).unbind("resize",M);else{if(c.enable||!1===c.disable)(c.resizable||c.movable)&&X.mousemove(r).mousedown(y),b(window).resize(M);
c.persistent||S.add(T).mousedown(O)}c.enable=c.disable=void 0}var S=b(g),za,X=n(),ma=n(),ca=n().add(n()).add(n()).add(n()),T=n().add(n()).add(n()).add(n()),na=b([]),ya,ka,la,ja={left:0,top:0},Y,sa,Ka,ta={left:0,top:0},Da=0,Aa="absolute",Ha,N,p,Fa,Ga,ua,db,xa,yb,Ta,jb,K,da,W,ha,U={x1:0,y1:0,x2:0,y2:0,width:0,height:0},Oa=document.documentElement,Ma=navigator.userAgent,nb,ab,Pa,ea,Ra,Qa,lb=function(b){var f=c.keys,g=b.keyCode;var h=isNaN(f.alt)||!b.altKey&&!b.originalEvent.altKey?!isNaN(f.ctrl)&&b.ctrlKey?
f.ctrl:!isNaN(f.shift)&&b.shiftKey?f.shift:isNaN(f.arrows)?10:f.arrows:f.alt;if("resize"==f.arrows||"resize"==f.shift&&b.shiftKey||"resize"==f.ctrl&&b.ctrlKey||"resize"==f.alt&&(b.altKey||b.originalEvent.altKey)){switch(g){case 37:h=-h;case 39:b=a(K,W);K=d(K,W);W=a(b+h,K);A();break;case 38:h=-h;case 40:b=a(da,ha);da=d(da,ha);ha=a(b+h,da);A(!0);break;default:return}G()}else switch(K=d(K,W),da=d(da,ha),g){case 37:J(a(K-h,ka),da);break;case 38:J(K,a(da-h,la));break;case 39:J(K+d(h,Y-m(W)),da);break;
case 40:J(K,da+d(h,sa-e(ha)));break;default:return}return!1};this.remove=function(){I({disable:!0});X.add(T).remove()};this.getOptions=function(){return c};this.setOptions=I;this.getSelection=l;this.setSelection=q;this.cancelSelection=Q;this.update=t;var Ea=(/msie ([\w.]+)/i.exec(Ma)||[])[1],Hb=/opera/i.test(Ma),Kb=/webkit/i.test(Ma)&&!/chrome/i.test(Ma);for(Ma=S;Ma.length;)Da=a(Da,isNaN(Ma.css("z-index"))?Da:Ma.css("z-index")),"fixed"==Ma.css("position")&&(Aa="fixed"),Ma=Ma.parent(":not(body)");
Da=c.zIndex||Da;Ea&&S.attr("unselectable","on");b.imgAreaSelect.keyPress=Ea||Kb?"keydown":"keypress";Hb&&(ya=n().css({width:"100%",height:"100%",position:"absolute",zIndex:Da+2||2}));X.add(T).css({visibility:"hidden",position:Aa,overflow:"hidden",zIndex:Da||"0"});X.css({zIndex:Da+2||2});ma.add(ca).css({position:"absolute",fontSize:0});g.complete||"complete"==g.readyState||!S.is("img")?ia():S.one("load",ia);!za&&Ea&&7<=Ea&&(g.src=g.src)};b.fn.imgAreaSelect=function(a){a=a||{};this.each(function(){b(this).data("imgAreaSelect")?
a.remove?(b(this).data("imgAreaSelect").remove(),b(this).removeData("imgAreaSelect")):b(this).data("imgAreaSelect").setOptions(a):a.remove||(void 0===a.enable&&void 0===a.disable&&(a.enable=!0),b(this).data("imgAreaSelect",new b.imgAreaSelect(this,a)))});return a.instance?b(this).data("imgAreaSelect"):this}})(jQuery);!function(){function b(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function n(a,c){return c>a?-1:a>c?1:a>=c?0:0/0}function u(a){return null===a?0/0:+a}function a(a){return!isNaN(a)}function d(a){return{left:function(c,b,e,d){3>arguments.length&&(e=0);for(4>arguments.length&&(d=c.length);d>e;){var f=e+d>>>1;0>a(c[f],b)?e=f+1:d=f}return e},right:function(c,b,e,d){3>arguments.length&&(e=0);for(4>arguments.length&&(d=c.length);d>e;){var f=e+d>>>1;0<a(c[f],
b)?d=f:e=f+1}return e}}}function f(a){return a.length}function g(a,c){for(var b in c)Object.defineProperty(a.prototype,b,{value:c[b],enumerable:!1})}function c(){this._=Object.create(null)}function h(a){return(a+="")===Ah||a[0]===Ie?Ie+a:a}function k(a){return(a+="")[0]===Ie?a.slice(1):a}function m(a){return h(a)in this._}function e(a){return(a=h(a))in this._&&delete this._[a]}function l(){var a=[],c;for(c in this._)a.push(k(c));return a}function q(){var a=0,c;for(c in this._)++a;return a}function x(){for(var a in this._)return!1;
return!0}function z(){this._=Object.create(null)}function t(a){return a}function C(a,c,b){return function(){var e=b.apply(c,arguments);return e===c?a:e}}function r(a,c){if(c in a)return c;c=c.charAt(0).toUpperCase()+c.slice(1);for(var b=0,e=Nf.length;e>b;++b){var d=Nf[b]+c;if(d in a)return d}}function B(){}function y(){}function A(a){function b(){for(var c,b=e,d=-1,f=b.length;++d<f;)(c=b[d].on)&&c.apply(this,arguments);return a}var e=[],d=new c;return b.on=function(c,b){var f,w=d.get(c);return 2>
arguments.length?w&&w.on:(w&&(w.on=null,e=e.slice(0,f=e.indexOf(w)).concat(e.slice(f+1)),d.remove(c)),b&&e.push(d.set(c,{on:b})),a)},b}function G(){v.event.preventDefault()}function F(){for(var a,c=v.event;a=c.sourceEvent;)c=a;return c}function J(a){for(var c=new y,b=0,e=arguments.length;++b<e;)c[arguments[b]]=A(c);return c.of=function(b,e){return function(d){try{var f=d.sourceEvent=v.event;d.target=a;v.event=d;c[d.type].apply(b,e)}finally{v.event=f}}},c}function E(a){return Bd(a,pa),a}function D(a){return"function"==
typeof a?a:function(){return Je(a,this)}}function Q(a){return"function"==typeof a?a:function(){return Ke(a,this)}}function O(a,c){function b(){this.removeAttribute(a)}function e(){this.removeAttributeNS(a.space,a.local)}function d(){this.setAttribute(a,c)}function f(){this.setAttributeNS(a.space,a.local,c)}function w(){var b=c.apply(this,arguments);null==b?this.removeAttribute(a):this.setAttribute(a,b)}function g(){var b=c.apply(this,arguments);null==b?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,
a.local,b)}return a=v.ns.qualify(a),null==c?a.local?e:b:"function"==typeof c?a.local?g:w:a.local?f:d}function M(a){return new RegExp("(?:^|\\s+)"+v.requote(a)+"(?:\\s+|$)","g")}function ia(a,c){function b(){for(var b=-1;++b<d;)a[b](this,c)}function e(){for(var b=-1,e=c.apply(this,arguments);++b<d;)a[b](this,e)}a=(a+"").trim().split(/^|\s+/).map(L);var d=a.length;return"function"==typeof c?e:b}function L(a){var c=M(a);return function(b,e){if(d=b.classList)return e?d.add(a):d.remove(a);var d=b.getAttribute("class")||
"";e?(c.lastIndex=0,c.test(d)||b.setAttribute("class",(d+" "+a).trim().replace(/\s+/g," "))):b.setAttribute("class",d.replace(c," ").trim().replace(/\s+/g," "))}}function I(a,c,b){function e(){this.style.removeProperty(a)}function d(){this.style.setProperty(a,c,b)}function f(){var e=c.apply(this,arguments);null==e?this.style.removeProperty(a):this.style.setProperty(a,e,b)}return null==c?e:"function"==typeof c?f:d}function S(a,c){function b(){delete this[a]}function e(){this[a]=c}function d(){var b=
c.apply(this,arguments);null==b?delete this[a]:this[a]=b}return null==c?b:"function"==typeof c?d:e}function za(a){function c(){var c=this.ownerDocument,b=this.namespaceURI;return b?c.createElementNS(b,a):c.createElement(a)}function b(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=v.ns.qualify(a)).local?b:c}function X(){var a=this.parentNode;a&&a.removeChild(this)}function ma(a){return function(){return Le(this,a)}}function ca(a){return arguments.length||
(a=n),function(c,b){return c&&b?a(c.__data__,b.__data__):!c-!b}}function T(a,c){for(var b=0,e=a.length;e>b;b++)for(var d,f=a[b],w=0,g=f.length;g>w;w++)(d=f[w])&&c(d,w,b);return a}function na(a){return Bd(a,Cb),a}function ya(a){var c,b;return function(e,d,f){e=a[f].update;var w=e.length;f!=b&&(b=f,c=0);for(d>=c&&(c=d+1);!(d=e[c])&&++c<w;);return d}}function ka(a,c,b){function e(){var c=this[w];c&&(this.removeEventListener(a,c,c.$),delete this[w])}function d(){var d=h(c,Ob(arguments));e.call(this);
this.addEventListener(a,this[w]=d,d.$=b);d._=c}function f(){var c,b=new RegExp("^__on([^.]+)"+v.requote(a)+"$"),e;for(e in this)if(c=e.match(b)){var d=this[e];this.removeEventListener(c[1],d,d.$);delete this[e]}}var w="__on"+a,g=a.indexOf("."),h=la;0<g&&(a=a.slice(0,g));var H=Me.get(a);return H&&(a=H,h=ja),g?c?d:e:c?B:f}function la(a,c){return function(b){var e=v.event;v.event=b;c[0]=this.__data__;try{a.apply(this,c)}finally{v.event=e}}}function ja(a,c){var b=la(a,c);return function(a){var c=a.relatedTarget;
c&&(c===this||8&c.compareDocumentPosition(this))||b.call(this,a)}}function Y(a){var c=".dragsuppress-"+ ++Ch,e="click"+c,d=v.select(b(a)).on("touchmove"+c,G).on("dragstart"+c,G).on("selectstart"+c,G);if(null==bc&&(bc="onselectstart"in a?!1:r(a.style,"userSelect")),bc){var f=(a&&(a.ownerDocument||a.document||a).documentElement).style,w=f[bc];f[bc]="none"}return function(a){if(d.on(c,null),bc&&(f[bc]=w),a){var b=function(){d.on(e,null)};d.on(e,function(){G();b()},!0);setTimeout(b,0)}}}function sa(a,
c){c.changedTouches&&(c=c.changedTouches[0]);var e=a.ownerSVGElement||a;if(e.createSVGPoint){var d=e.createSVGPoint();if(0>Ne&&(e=b(a),e.scrollX||e.scrollY)){e=v.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var f=e[0][0].getScreenCTM();Ne=!(f.f||f.e);e.remove()}return Ne?(d.x=c.pageX,d.y=c.pageY):(d.x=c.clientX,d.y=c.clientY),d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}d=a.getBoundingClientRect();return[c.clientX-
d.left-a.clientLeft,c.clientY-d.top-a.clientTop]}function Ka(){return v.event.changedTouches[0].identifier}function ta(a,c,b){return(c[0]-a[0])*(b[1]-a[1])-(c[1]-a[1])*(b[0]-a[0])}function Da(a){return 1<a?0:-1>a?Z:Math.acos(a)}function Aa(a){return 1<a?Ba:-1>a?-Ba:Math.asin(a)}function Ha(a){return((a=Math.exp(a))+1/a)/2}function N(a){return(a=Math.sin(a/2))*a}function p(){}function Fa(a,c,b){return this instanceof Fa?(this.h=+a,this.s=+c,void(this.l=+b)):2>arguments.length?a instanceof Fa?new Fa(a.h,
a.s,a.l):Oa(""+a,Ma,Fa):new Fa(a,c,b)}function Ga(a,c,b){function e(a){return 360<a?a-=360:0>a&&(a+=360),60>a?d+(f-d)*a/60:180>a?f:240>a?d+(f-d)*(240-a)/60:d}var d,f;return a=isNaN(a)?0:0>(a%=360)?a+360:a,c=isNaN(c)?0:0>c?0:1<c?1:c,b=0>b?0:1<b?1:b,f=.5>=b?b*(1+c):b+c-b*c,d=2*b-f,new W(Math.round(255*e(a+120)),Math.round(255*e(a)),Math.round(255*e(a-120)))}function ua(a,c,b){return this instanceof ua?(this.h=+a,this.c=+c,void(this.l=+b)):2>arguments.length?a instanceof ua?new ua(a.h,a.c,a.l):a instanceof
xa?Ta(a.l,a.a,a.b):Ta((a=nb((a=v.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ua(a,c,b)}function db(a,c,b){return isNaN(a)&&(a=0),isNaN(c)&&(c=0),new xa(b,Math.cos(a*=aa)*c,Math.sin(a)*c)}function xa(a,c,b){return this instanceof xa?(this.l=+a,this.a=+c,void(this.b=+b)):2>arguments.length?a instanceof xa?new xa(a.l,a.a,a.b):a instanceof ua?db(a.h,a.c,a.l):nb((a=W(a)).r,a.g,a.b):new xa(a,c,b)}function yb(a,c,b){a=(a+16)/116;c=a+c/500;b=a-b/200;return c=jb(c)*Of,a=jb(a)*Pf,b=jb(b)*Qf,new W(da(3.2404542*c-1.5371385*
a-.4985314*b),da(-.969266*c+1.8760108*a+.041556*b),da(.0556434*c-.2040259*a+1.0572252*b))}function Ta(a,c,b){return 0<a?new ua(Math.atan2(b,c)*va,Math.sqrt(c*c+b*b),a):new ua(0/0,0/0,a)}function jb(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function K(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function da(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function W(a,c,b){return this instanceof W?(this.r=~~a,this.g=~~c,void(this.b=~~b)):2>arguments.length?a instanceof
W?new W(a.r,a.g,a.b):Oa(""+a,W,Ga):new W(a,c,b)}function ha(a){return new W(a>>16,a>>8&255,255&a)+""}function U(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Oa(a,c,b){var e,d,f,g=0,w=0,h=0;if(e=/([a-z]+)\((.*)\)/i.exec(a))switch(d=e[2].split(","),e[1]){case "hsl":return b(parseFloat(d[0]),parseFloat(d[1])/100,parseFloat(d[2])/100);case "rgb":return c(Pa(d[0]),Pa(d[1]),Pa(d[2]))}return(f=Dd.get(a.toLowerCase()))?c(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=
parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g|=g>>4,w=240&f,w|=w>>4,h=15&f,h|=h<<4):7===a.length&&(g=(16711680&f)>>16,w=(65280&f)>>8,h=255&f)),c(g,w,h))}function Ma(a,c,b){var e,d,f=Math.min(a/=255,c/=255,b/=255),g=Math.max(a,c,b),w=g-f,h=(g+f)/2;return w?(d=.5>h?w/(g+f):w/(2-g-f),e=a==g?(c-b)/w+(b>c?6:0):c==g?(b-a)/w+2:(a-c)/w+4,e*=60):(e=0/0,d=0<h&&1>h?0:e),new Fa(e,d,h)}function nb(a,c,b){a=ab(a);c=ab(c);b=ab(b);var e=K((.4124564*a+.3575761*c+.1804375*b)/Of),d=K((.2126729*a+.7151522*
c+.072175*b)/Pf);a=K((.0193339*a+.119192*c+.9503041*b)/Qf);return xa(116*d-16,500*(e-d),200*(d-a))}function ab(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Pa(a){var c=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*c):c}function ea(a){return"function"==typeof a?a:function(){return a}}function Ra(a){return function(c,b,e){return 2===arguments.length&&"function"==typeof b&&(e=b,b=null),Qa(c,b,a,e)}}function Qa(a,c,b,e){function d(){var a=h.status,c;if(c=!a)c=
(c=h.responseType)&&"text"!==c?h.response:h.responseText;if(c||200<=a&&300>a||304===a){try{var e=b.call(f,h)}catch(Bh){return void g.error.call(f,Bh)}g.load.call(f,e)}else g.error.call(f,h)}var f={},g=v.dispatch("beforesend","progress","load","error"),w={},h=new XMLHttpRequest,k=null;return!this.XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(a)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=d:h.onreadystatechange=function(){3<h.readyState&&d()},h.onprogress=function(a){var c=
v.event;v.event=a;try{g.progress.call(f,h)}finally{v.event=c}},f.header=function(a,c){return a=(a+"").toLowerCase(),2>arguments.length?w[a]:(null==c?delete w[a]:w[a]=c+"",f)},f.mimeType=function(a){return arguments.length?(c=null==a?null:a+"",f):c},f.responseType=function(a){return arguments.length?(k=a,f):k},f.response=function(a){return b=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(Ob(arguments)))}}),f.send=function(b,e,d){if(2===arguments.length&&"function"==
typeof e&&(d=e,e=null),h.open(b,a,!0),null==c||"accept"in w||(w.accept=c+",*/*"),h.setRequestHeader)for(var H in w)h.setRequestHeader(H,w[H]);return null!=c&&h.overrideMimeType&&h.overrideMimeType(c),null!=k&&(h.responseType=k),null!=d&&f.on("error",d).on("load",function(a){d(null,a)}),g.beforesend.call(f,h),h.send(null==e?null:e),f},f.abort=function(){return h.abort(),f},v.rebind(f,g,"on"),null==e?f:f.get(lb(e))}function lb(a){return 1===a.length?function(c,b){a(null==c?b:null)}:a}function Ea(){var a=
Hb();a=Kb()-a;24<a?(isFinite(a)&&(clearTimeout(Ed),Ed=setTimeout(Ea,a)),Fd=0):(Fd=1,Rf(Ea))}function Hb(){var a=Date.now();for(Db=Gd;Db;)a>=Db.t&&(Db.f=Db.c(a-Db.t)),Db=Db.n;return a}function Kb(){for(var a,c=Gd,b=1/0;c;)c.f?c=a?a.n=c.n:Gd=c.n:(c.t<b&&(b=c.t),c=(a=c).n);return Hd=a,b}function Lb(a,c){return c-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Mc(a){var c=a.decimal,b=a.thousands,e=a.grouping,d=a.currency,f=e&&b?function(a,c){for(var d=a.length,f=[],g=0,w=e[0],h=0;0<d&&0<w&&(h+w+1>c&&
(w=Math.max(1,c-h)),f.push(a.substring(d-=w,d+w)),!((h+=w+1)>c));)w=e[g=(g+1)%e.length];return f.reverse().join(b)}:t;return function(a){a=Sf.exec(a);var b=a[1]||" ",e=a[2]||">",g=a[3]||"-",w=a[4]||"",h=a[5],k=+a[6],H=a[7],m=a[8],V=a[9],l=1,fa="",r="",q=!1,La=!0;switch(m&&(m=+m.substring(1)),(h||"0"===b&&"="===e)&&(h=b="0",e="="),V){case "n":H=!0;V="g";break;case "%":l=100;r="%";V="f";break;case "p":l=100;r="%";V="r";break;case "b":case "o":case "x":case "X":"#"===w&&(fa="0"+V.toLowerCase());case "c":La=
!1;case "d":q=!0;m=0;break;case "s":l=-1,V="r"}"$"===w&&(fa=d[0],r=d[1]);"r"!=V||m||(V="g");null!=m&&("g"==V?m=Math.max(1,Math.min(21,m)):("e"==V||"f"==V)&&(m=Math.max(0,Math.min(20,m))));V=Dh.get(V)||kd;var qa=h&&H;return function(a){var d=r;if(q&&a%1)return"";var w=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===g?"":g;0>l?(d=v.formatPrefix(a,m),a=d.scale(a),d=d.symbol+r):a*=l;a=V(a,m);var t,y,ra=a.lastIndexOf(".");0>ra?(ra=La?a.lastIndexOf("e"):-1,0>ra?(t=a,y=""):(t=a.substring(0,ra),y=a.substring(ra))):(t=
a.substring(0,ra),y=c+a.substring(ra+1));!h&&H&&(t=f(t,1/0));ra=fa.length+t.length+y.length+(qa?0:w.length);var p=k>ra?Array(ra=k-ra+1).join(b):"";return qa&&(t=f(p+t,p.length?k-y.length:1/0)),w+=fa,a=t+y,("<"===e?w+a+p:">"===e?p+w+a:"^"===e?p.substring(0,ra>>=1)+w+a+p.substring(ra):w+(qa?a:p+a))+d}}}function kd(a){return a+""}function Va(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function kb(a,c,b){function e(c){var b=a(c),e=f(b,1);return e-c>c-b?b:e}function d(b){return c(b=
a(new Na(b-1)),1),b}function f(a,b){return c(a=new Na(+a),b),a}function g(a,e,f){a=d(a);var g=[];if(1<f)for(;e>a;)b(a)%f||g.push(new Date(+a)),c(a,1);else for(;e>a;)g.push(new Date(+a)),c(a,1);return g}a.floor=a;a.round=e;a.ceil=d;a.offset=f;a.range=g;var w=a.utc=nc(a);return w.floor=w,w.round=nc(e),w.ceil=nc(d),w.offset=nc(f),w.range=function(a,c,b){try{Na=Va;var e=new Va;return e._=a,g(e,c,b)}finally{Na=Date}},a}function nc(a){return function(c,b){try{Na=Va;var e=new Va;return e._=c,a(e,b)._}finally{Na=
Date}}}function ld(a){function c(a){function c(c){for(var b,d,f,g=[],w=-1,h=0;++w<e;)37===a.charCodeAt(w)&&(g.push(a.slice(h,w)),null!=(d=Tf[b=a.charAt(++w)])&&(b=a.charAt(++w)),(f=B[b])&&(b=f(c,null==d?"e"===b?" ":"0":d)),g.push(b),h=w+1);return g.push(a.slice(h,w)),g.join("")}var e=a.length;return c.parse=function(c){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(b(e,a,c,0)!=c.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);c=null!=e.Z&&Na!==Va;var d=new (c?Va:Na);return"j"in e?d.setFullYear(e.y,
0,e.j):"w"in e&&("W"in e||"U"in e)?(d.setFullYear(e.y,0,1),d.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(d.getDay()+5)%7:e.w+7*e.U-(d.getDay()+6)%7)):d.setFullYear(e.y,e.m,e.d),d.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),c?d._:d},c.toString=function(){return a},c}function b(a,c,b,e){for(var d,f,g,w=0,h=c.length,k=b.length;h>w;){if(e>=k)return-1;if(d=c.charCodeAt(w++),37===d){if(g=c.charAt(w++),f=z[g in Tf?c.charAt(w++):g],!f||0>(e=f(a,b,e)))return-1}else if(d!=b.charCodeAt(e++))return-1}return e}
var e=a.dateTime,d=a.date,f=a.time,g=a.periods,w=a.days,h=a.shortDays,k=a.months,m=a.shortMonths;c.utc=function(a){function b(a){try{Na=Va;var c=new Na;return c._=a,e(c)}finally{Na=Date}}var e=c(a);return b.parse=function(a){try{Na=Va;var c=e.parse(a);return c&&c._}finally{Na=Date}},b.toString=e.toString,b};c.multi=c.utc.multi=Ce;var l=v.map(),r=Xb(w),q=Yb(w),t=Xb(h),y=Yb(h),p=Xb(k),n=Yb(k),A=Xb(m),x=Yb(m);g.forEach(function(a,c){l.set(a.toLowerCase(),c)});var B={a:function(a){return h[a.getDay()]},
A:function(a){return w[a.getDay()]},b:function(a){return m[a.getMonth()]},B:function(a){return k[a.getMonth()]},c:c(e),d:function(a,c){return Ia(a.getDate(),c,2)},e:function(a,c){return Ia(a.getDate(),c,2)},H:function(a,c){return Ia(a.getHours(),c,2)},I:function(a,c){return Ia(a.getHours()%12||12,c,2)},j:function(a,c){return Ia(1+R.dayOfYear(a),c,3)},L:function(a,c){return Ia(a.getMilliseconds(),c,3)},m:function(a,c){return Ia(a.getMonth()+1,c,2)},M:function(a,c){return Ia(a.getMinutes(),c,2)},p:function(a){return g[+(12<=
a.getHours())]},S:function(a,c){return Ia(a.getSeconds(),c,2)},U:function(a,c){return Ia(R.sundayOfYear(a),c,2)},w:function(a){return a.getDay()},W:function(a,c){return Ia(R.mondayOfYear(a),c,2)},x:c(d),X:c(f),y:function(a,c){return Ia(a.getFullYear()%100,c,2)},Y:function(a,c){return Ia(a.getFullYear()%1E4,c,4)},Z:tb,"%":function(){return"%"}},z={a:function(a,c,b){t.lastIndex=0;return(c=t.exec(c.slice(b)))?(a.w=y.get(c[0].toLowerCase()),b+c[0].length):-1},A:function(a,c,b){r.lastIndex=0;return(c=
r.exec(c.slice(b)))?(a.w=q.get(c[0].toLowerCase()),b+c[0].length):-1},b:function(a,c,b){A.lastIndex=0;return(c=A.exec(c.slice(b)))?(a.m=x.get(c[0].toLowerCase()),b+c[0].length):-1},B:function(a,c,b){p.lastIndex=0;return(c=p.exec(c.slice(b)))?(a.m=n.get(c[0].toLowerCase()),b+c[0].length):-1},c:function(a,c,e){return b(a,B.c.toString(),c,e)},d:Ua,e:Ua,H:Ib,I:Ib,j:Nc,L:jc,m:Be,M:cd,p:function(a,c,b){c=l.get(c.slice(b,b+=2).toLowerCase());return null==c?-1:(a.p=c,b)},S:od,U:ye,w:md,W:ze,x:function(a,
c,e){return b(a,B.x.toString(),c,e)},X:function(a,c,e){return b(a,B.X.toString(),c,e)},y:nd,Y:Ae,Z:le,"%":ub};return c}function Ia(a,c,b){var e=0>a?"-":"";a=(e?-a:a)+"";var d=a.length;return e+(b>d?Array(b-d+1).join(c)+a:a)}function Xb(a){return new RegExp("^(?:"+a.map(v.requote).join("|")+")","i")}function Yb(a){for(var b=new c,e=-1,d=a.length;++e<d;)b.set(a[e].toLowerCase(),e);return b}function md(a,c,b){Ca.lastIndex=0;return(c=Ca.exec(c.slice(b,b+1)))?(a.w=+c[0],b+c[0].length):-1}function ye(a,
c,b){Ca.lastIndex=0;return(c=Ca.exec(c.slice(b)))?(a.U=+c[0],b+c[0].length):-1}function ze(a,c,b){Ca.lastIndex=0;return(c=Ca.exec(c.slice(b)))?(a.W=+c[0],b+c[0].length):-1}function Ae(a,c,b){Ca.lastIndex=0;return(c=Ca.exec(c.slice(b,b+4)))?(a.y=+c[0],b+c[0].length):-1}function nd(a,c,b){Ca.lastIndex=0;if(c=Ca.exec(c.slice(b,b+2))){var e=+c[0];a=(a.y=e+(68<e?1900:2E3),b+c[0].length)}else a=-1;return a}function le(a,c,b){return/^[+-]\d{4}$/.test(c=c.slice(b,b+5))?(a.Z=-c,b+5):-1}function Be(a,c,b){Ca.lastIndex=
0;return(c=Ca.exec(c.slice(b,b+2)))?(a.m=c[0]-1,b+c[0].length):-1}function Ua(a,c,b){Ca.lastIndex=0;return(c=Ca.exec(c.slice(b,b+2)))?(a.d=+c[0],b+c[0].length):-1}function Nc(a,c,b){Ca.lastIndex=0;return(c=Ca.exec(c.slice(b,b+3)))?(a.j=+c[0],b+c[0].length):-1}function Ib(a,c,b){Ca.lastIndex=0;return(c=Ca.exec(c.slice(b,b+2)))?(a.H=+c[0],b+c[0].length):-1}function cd(a,c,b){Ca.lastIndex=0;return(c=Ca.exec(c.slice(b,b+2)))?(a.M=+c[0],b+c[0].length):-1}function od(a,c,b){Ca.lastIndex=0;return(c=Ca.exec(c.slice(b,
b+2)))?(a.S=+c[0],b+c[0].length):-1}function jc(a,c,b){Ca.lastIndex=0;return(c=Ca.exec(c.slice(b,b+3)))?(a.L=+c[0],b+c[0].length):-1}function tb(a){var c=a.getTimezoneOffset();a=0<c?"-":"+";var b=ba(c)/60|0;c=ba(c)%60;return a+Ia(b,"0",2)+Ia(c,"0",2)}function ub(a,c,b){Uf.lastIndex=0;return(a=Uf.exec(c.slice(b,b+1)))?b+a[0].length:-1}function Ce(a){for(var c=a.length,b=-1;++b<c;)a[b][0]=this(a[b][0]);return function(c){for(var b=0,e=a[b];!e[1](c);)e=a[++b];return e[0](c)}}function Zb(){}function pd(a,
c,b){var e=b.s=a+c,d=e-a;b.t=a-(e-d)+(c-d)}function oc(a,c){a&&Vf.hasOwnProperty(a.type)&&Vf[a.type](a,c)}function Dc(a,c,b){var e=-1,d=a.length-b;for(c.lineStart();++e<d;)b=a[e],c.point(b[0],b[1],b[2]);c.lineEnd()}function qd(a,c){var b=-1,e=a.length;for(c.polygonStart();++b<e;)Dc(a[b],c,1);c.polygonEnd()}function De(){function a(a,c){a*=aa;c=c*aa/2+Z/4;var b=a-e,g=0<=b?1:-1;b*=g;var w=Math.cos(c);c=Math.sin(c);var h=f*c;cc.add(Math.atan2(h*g*Math.sin(b),d*w+h*Math.cos(b)));e=a;d=w;f=c}var c,b,e,
d,f;Ya.point=function(g,w){Ya.point=a;e=(c=g)*aa;d=Math.cos(w=(b=w)*aa/2+Z/4);f=Math.sin(w)};Ya.lineEnd=function(){a(c,b)}}function ob(a){var c=a[0];a=a[1];var b=Math.cos(a);return[b*Math.cos(c),b*Math.sin(c),Math.sin(a)]}function Vb(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]}function Wa(a,c){return[a[1]*c[2]-a[2]*c[1],a[2]*c[0]-a[0]*c[2],a[0]*c[1]-a[1]*c[0]]}function Mb(a,c){a[0]+=c[0];a[1]+=c[1];a[2]+=c[2]}function pc(a,c){return[a[0]*c,a[1]*c,a[2]*c]}function $b(a){var c=Math.sqrt(a[0]*a[0]+a[1]*
a[1]+a[2]*a[2]);a[0]/=c;a[1]/=c;a[2]/=c}function qc(a){return[Math.atan2(a[1],a[0]),Aa(a[2])]}function wb(a,c){return ba(a[0]-c[0])<P&&ba(a[1]-c[1])<P}function vb(a,c){a*=aa;var b=Math.cos(c*=aa);ac(b*Math.cos(a),b*Math.sin(a),Math.sin(c))}function ac(a,c,b){++Wc;dc+=(a-dc)/Wc;ec+=(c-ec)/Wc;Eb+=(b-Eb)/Wc}function zb(){function a(a,d){a*=aa;var f=Math.cos(d*=aa),g=f*Math.cos(a);a=f*Math.sin(a);d=Math.sin(d);var h=Math.atan2(Math.sqrt((h=b*d-e*a)*h+(h=e*g-c*d)*h+(h=c*a-b*g)*h),c*g+b*a+e*d);Jd+=h;Pb+=
h*(c+(c=g));Qb+=h*(b+(b=a));sb+=h*(e+(e=d));ac(c,b,e)}var c,b,e;hb.point=function(d,f){d*=aa;var g=Math.cos(f*=aa);c=g*Math.cos(d);b=g*Math.sin(d);e=Math.sin(f);hb.point=a;ac(c,b,e)}}function eb(){hb.point=vb}function Oc(){function a(a,c){a*=aa;var b=Math.cos(c*=aa),g=b*Math.cos(a);a=b*Math.sin(a);c=Math.sin(c);b=d*c-f*a;var h=f*g-e*c,w=e*a-d*g,k=Math.sqrt(b*b+h*h+w*w),H=e*g+d*a+f*c,m=k&&-Da(H)/k;k=Math.atan2(k,H);wc+=m*b;xc+=m*h;Rb+=m*w;Jd+=k;Pb+=k*(e+(e=g));Qb+=k*(d+(d=a));sb+=k*(f+(f=c));ac(e,
d,f)}var c,b,e,d,f;hb.point=function(g,h){c=g;b=h;hb.point=a;g*=aa;var w=Math.cos(h*=aa);e=w*Math.cos(g);d=w*Math.sin(g);f=Math.sin(h);ac(e,d,f)};hb.lineEnd=function(){a(c,b);hb.lineEnd=eb;hb.point=vb}}function pb(a,c){function b(b,e){return b=a(b,e),c(b[0],b[1])}return a.invert&&c.invert&&(b.invert=function(b,e){return b=c.invert(b,e),b&&a.invert(b[0],b[1])}),b}function fb(){return!0}function rd(a,c,b,e,d){var f=[],g=[];if(a.forEach(function(a){if(!(0>=(c=a.length-1))){var c,b=a[0],e=a[c];if(wb(b,
e)){d.lineStart();for(e=0;c>e;++e)d.point((b=a[e])[0],b[1]);return void d.lineEnd()}c=new rc(b,a,null,!0);b=new rc(b,null,c,!1);c.o=b;f.push(c);g.push(b);c=new rc(e,a,null,!1);b=new rc(e,null,c,!0);c.o=b;f.push(c);g.push(b)}}),g.sort(c),sd(f),sd(g),f.length){a=0;c=b;for(b=g.length;b>a;++a)g[a].e=c=!c;for(var h,w=f[0];;){for(var k=w,H=!0;k.v;)if((k=k.n)===w)return;c=k.z;d.lineStart();do{if(k.v=k.o.v=!0,k.e){if(H)for(a=0,b=c.length;b>a;++a)d.point((h=c[a])[0],h[1]);else e(k.x,k.n.x,1,d);k=k.n}else{if(H)for(c=
k.p.z,a=c.length-1;0<=a;--a)d.point((h=c[a])[0],h[1]);else e(k.x,k.p.x,-1,d);k=k.p}k=k.o;c=k.z;H=!H}while(!k.v);d.lineEnd()}}}function sd(a){if(c=a.length){for(var c,b,e=0,d=a[0];++e<c;)d.n=b=a[e],b.p=d,d=b;d.n=b=a[0];b.p=d}}function rc(a,c,b,e){this.x=a;this.z=c;this.o=b;this.e=e;this.v=!1;this.n=this.p=null}function sc(a,c,b,e){return function(d,f){function g(c,b){var e=d(c,b);a(c=e[0],b=e[1])&&f.point(c,b)}function h(a,c){a=d(a,c);q.point(a[0],a[1])}function w(){qa.point=h;q.lineStart()}function k(){qa.point=
g;q.lineEnd()}function H(a,c){fa.push([a,c]);a=d(a,c);y.point(a[0],a[1])}function m(){y.lineStart();fa=[]}function l(){H(fa[0][0],fa[0][1]);y.lineEnd();var a=y.clean();var c=t.buffer(),b=c.length;if(fa.pop(),r.push(fa),fa=null,b)if(1&a){a=c[0];var e;b=a.length-1;c=-1;if(0<b){p||(f.polygonStart(),p=!0);for(f.lineStart();++c<b;)f.point((e=a[c])[0],e[1]);f.lineEnd()}}else 1<b&&2&a&&c.push(c.pop().concat(c.shift())),V.push(c.filter(Pc))}var V,r,fa,q=c(f),La=d.invert(e[0],e[1]),qa={point:g,lineStart:w,
lineEnd:k,polygonStart:function(){qa.point=H;qa.lineStart=m;qa.lineEnd=l;V=[];r=[]},polygonEnd:function(){qa.point=g;qa.lineStart=w;qa.lineEnd=k;V=v.merge(V);var a=La;var c=r;var e=a[0],d=a[1],h=[Math.sin(e),-Math.cos(e),0],H=0,m=0;cc.reset();for(var l=0,fa=c.length;fa>l;++l){var q=c[l],t=q.length;if(t){var y=q[0],ra=y[0];a=y[1]/2+Z/4;for(var n=Math.sin(a),A=Math.cos(a),gb=1;;){gb===t&&(gb=0);a=q[gb];var x=a[0],B=a[1]/2+Z/4,Vc=Math.sin(B);B=Math.cos(B);var z=x-ra,vc=0<=z?1:-1,C=vc*z,Cd=C>Z;n*=Vc;
if(cc.add(Math.atan2(n*vc*Math.sin(C),A*B+n*Math.cos(C))),H+=Cd?z+vc*Za:z,Cd^ra>=e^x>=e)y=Wa(ob(y),ob(a)),$b(y),ra=Wa(h,y),$b(ra),ra=(Cd^0<=z?-1:1)*Aa(ra[2]),(d>ra||d===ra&&(y[0]||y[1]))&&(m+=Cd^0<=z?1:-1);if(!gb++)break;ra=x;n=Vc;A=B;y=a}}}c=(-P>H||P>H&&0>cc)^1&m;V.length?(p||(f.polygonStart(),p=!0),rd(V,Ee,c,b,f)):c&&(p||(f.polygonStart(),p=!0),f.lineStart(),b(null,null,1,f),f.lineEnd());p&&(f.polygonEnd(),p=!1);V=r=null},sphere:function(){f.polygonStart();f.lineStart();b(null,null,1,f);f.lineEnd();
f.polygonEnd()}},t=tc(),y=c(t),p=!1;return qa}}function Pc(a){return 1<a.length}function tc(){var a,c=[];return{lineStart:function(){c.push(a=[])},point:function(c,b){a.push([c,b])},lineEnd:B,buffer:function(){var b=c;return c=[],a=null,b},rejoin:function(){1<c.length&&c.push(c.pop().concat(c.shift()))}}}function Ee(a,c){return(0>(a=a.x)[0]?a[1]-Ba-P:Ba-a[1])-(0>(c=c.x)[0]?c[1]-Ba-P:Ba-c[1])}function Fe(a){function c(a,c){return Math.cos(a)*Math.cos(c)>d}function b(a,c,b){var e=ob(a),f=ob(c),g=[1,
0,0];f=Wa(e,f);var h=Vb(f,f);e=f[0];var w=h-e*e;if(!w)return!b&&a;h=d*h/w;w=-d*e/w;e=Wa(g,f);g=pc(g,h);f=pc(f,w);Mb(g,f);f=Vb(g,e);h=Vb(e,e);w=f*f-h*(Vb(g,g)-1);if(!(0>w)){var k=Math.sqrt(w);w=pc(e,(-f-k)/h);if(Mb(w,g),w=qc(w),!b)return w;var H;b=a[0];var m=c[0];a=a[1];c=c[1];b>m&&(H=b,b=m,m=H);var l=m-b,V=ba(l-Z)<P,r=V||P>l;if(!V&&a>c&&(H=a,a=c,c=H),r?V?0<a+c^w[1]<(ba(w[0]-b)<P?a:c):a<=w[1]&&w[1]<=c:l>Z^(b<=w[0]&&w[0]<=m))return H=pc(e,(-f+k)/h),Mb(H,g),[w,qc(H)]}}function e(c,b){var e=f?a:Z-a,d=
0;return-e>c?d|=1:c>e&&(d|=2),-e>b?d|=4:b>e&&(d|=8),d}var d=Math.cos(a),f=0<d,g=ba(d)>P,h=Gb(a,6*aa);return sc(c,function(a){var d,h,w,k,H;return{lineStart:function(){k=w=!1;H=1},point:function(m,l){var V,r=[m,l],fa=c(m,l);m=f?fa?0:e(m,l):fa?e(m+(0>m?Z:-Z),l):0;if(!d&&(k=w=fa)&&a.lineStart(),fa!==w&&(V=b(d,r),(wb(d,V)||wb(r,V))&&(r[0]+=P,r[1]+=P,fa=c(r[0],r[1]))),fa!==w)H=0,fa?(a.lineStart(),V=b(r,d),a.point(V[0],V[1])):(V=b(d,r),a.point(V[0],V[1]),a.lineEnd()),d=V;else if(g&&d&&f^fa){var q;m&h||
!(q=b(r,d,!0))||(H=0,f?(a.lineStart(),a.point(q[0][0],q[0][1]),a.point(q[1][0],q[1][1]),a.lineEnd()):(a.point(q[1][0],q[1][1]),a.lineEnd(),a.lineStart(),a.point(q[0][0],q[0][1])))}!fa||d&&wb(d,r)||a.point(r[0],r[1]);d=r;w=fa;h=m},lineEnd:function(){w&&a.lineEnd();d=null},clean:function(){return H|(k&&w)<<1}}},h,f?[0,-a]:[-Z,a-Z])}function Qc(a,c,b,e){return function(d){var f,g=d.a,h=d.b,w=g.x;g=g.y;var k=0,H=1,m=h.x-w;h=h.y-g;if(f=a-w,m||!(0<f)){if(f/=m,0>m){if(k>f)return;H>f&&(H=f)}else if(0<m){if(f>
H)return;f>k&&(k=f)}if(f=b-w,m||!(0>f)){if(f/=m,0>m){if(f>H)return;f>k&&(k=f)}else if(0<m){if(k>f)return;H>f&&(H=f)}if(f=c-g,h||!(0<f)){if(f/=h,0>h){if(k>f)return;H>f&&(H=f)}else if(0<h){if(f>H)return;f>k&&(k=f)}if(f=e-g,h||!(0>f)){if(f/=h,0>h){if(f>H)return;f>k&&(k=f)}else if(0<h){if(k>f)return;H>f&&(H=f)}return 0<k&&(d.a={x:w+k*m,y:g+k*h}),1>H&&(d.b={x:w+H*m,y:g+H*h}),d}}}}}}function td(a,c,b,e){function d(e,d){return ba(e[0]-a)<P?0<d?0:3:ba(e[0]-b)<P?0<d?2:1:ba(e[1]-c)<P?0<d?1:0:0<d?3:2}function f(a,
c){return g(a.x,c.x)}function g(a,c){var b=d(a,1),e=d(c,1);return b!==e?b-e:0===b?c[1]-a[1]:1===b?a[0]-c[0]:2===b?a[1]-c[1]:c[0]-a[0]}return function(h){function w(f,h,w,k){var H=0,m=0;if(null==f||(H=d(f,w))!==(m=d(h,w))||0>g(f,h)^0<w){do k.point(0===H||3===H?a:b,1<H?e:c);while((H=(H+w+4)%4)!==m)}else k.point(h[0],h[1])}function k(d,f){d>=a&&b>=d&&f>=c&&e>=f&&h.point(d,f)}function H(d,f){d=Math.max(-Kd,Math.min(Kd,d));f=Math.max(-Kd,Math.min(Kd,f));var g=d>=a&&b>=d&&f>=c&&e>=f;if(l&&V.push([d,f]),
y)r=d,fa=f,q=g,y=!1,g&&(h.lineStart(),h.point(d,f));else if(g&&t)h.point(d,f);else{var w={a:{x:qa,y:La},b:{x:d,y:f}};A(w)?(t||(h.lineStart(),h.point(w.a.x,w.a.y)),h.point(w.b.x,w.b.y),g||h.lineEnd(),p=!1):g&&(h.lineStart(),h.point(d,f),p=!1)}qa=d;La=f;t=g}var m,l,V,r,fa,q,qa,La,t,y,p,n=h,ra=tc(),A=Qc(a,c,b,e),gb={point:k,lineStart:function(){gb.point=H;l&&l.push(V=[]);y=!0;t=!1;qa=La=0/0},lineEnd:function(){m&&(H(r,fa),q&&t&&ra.rejoin(),m.push(ra.buffer()));gb.point=k;t&&h.lineEnd()},polygonStart:function(){h=
ra;m=[];l=[];p=!0},polygonEnd:function(){h=n;m=v.merge(m);var c=[a,e];for(var b=0,d=l.length,g=c[1],k=0;d>k;++k)for(var H,r=1,fa=l[k],q=fa.length,qa=fa[0];q>r;++r)H=fa[r],qa[1]<=g?H[1]>g&&0<ta(qa,H,c)&&++b:H[1]<=g&&0>ta(qa,H,c)&&--b,qa=H;c=0!==b;b=p&&c;d=m.length;(b||d)&&(h.polygonStart(),b&&(h.lineStart(),w(null,null,1,h),h.lineEnd()),d&&rd(m,f,c,w,h),h.polygonEnd());m=l=V=null}};return gb}}function Rc(a){var c=0,b=Z/3,e=Nb(a);a=e(c,b);return a.parallels=function(a){return arguments.length?e(c=a[0]*
Z/180,b=a[1]*Z/180):[c/Z*180,b/Z*180]},a}function ud(a,c){function b(a,c){c=Math.sqrt(d-2*e*Math.sin(c))/e;return[c*Math.sin(a*=e),f-c*Math.cos(a)]}a=Math.sin(a);var e=(a+Math.sin(c))/2,d=1+a*(2*e-a),f=Math.sqrt(d)/e;return b.invert=function(a,c){c=f-c;return[Math.atan2(a,c)/e,Aa((d-(a*a+c*c)*e*e)/(2*e))]},b}function vd(){function a(a,c){Oe+=d*a-e*c;e=a;d=c}var c,b,e,d;Sb.point=function(f,g){Sb.point=a;c=e=f;b=d=g};Sb.lineEnd=function(){a(c,b)}}function wd(){function a(a,c){g.push("M",a,",",c,f)}
function c(a,c){g.push("M",a,",",c);h.point=b}function b(a,c){g.push("L",a,",",c)}function e(){h.point=a}function d(){g.push("Z")}var f=kc(4.5),g=[],h={point:a,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=d},polygonEnd:function(){h.lineEnd=e;h.point=a},pointRadius:function(a){return f=kc(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function kc(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function qb(a,
c){dc+=a;ec+=c;++Eb}function rb(){function a(a,e){var d=a-c,f=e-b;d=Math.sqrt(d*d+f*f);Pb+=d*(c+a)/2;Qb+=d*(b+e)/2;sb+=d;qb(c=a,b=e)}var c,b;ib.point=function(e,d){ib.point=a;qb(c=e,b=d)}}function Ab(){ib.point=qb}function Ge(){function a(a,c){var b=a-e,f=c-d;b=Math.sqrt(b*b+f*f);Pb+=b*(e+a)/2;Qb+=b*(d+c)/2;sb+=b;b=d*a-e*c;wc+=b*(e+a);xc+=b*(d+c);Rb+=3*b;qb(e=a,d=c)}var c,b,e,d;ib.point=function(f,g){ib.point=a;qb(c=e=f,b=d=g)};ib.lineEnd=function(){a(c,b)}}function me(a){function c(c,b){a.moveTo(c+
g,b);a.arc(c,b,g,0,Za)}function b(c,b){a.moveTo(c,b);h.point=e}function e(c,b){a.lineTo(c,b)}function d(){h.point=c}function f(){a.closePath()}var g=4.5,h={point:c,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=d;h.point=c},pointRadius:function(a){return g=a,h},result:B};return h}function Sc(a){function c(a){return(h?e:b)(a)}function b(c){return yd(c,function(b,e){b=a(b,e);c.point(b[0],b[1])})}function e(c){function b(b,e){b=a(b,e);c.point(b[0],
b[1])}function e(){qa=0/0;A.point=f;c.lineStart()}function f(b,e){var f=ob([b,e]);e=a(b,e);d(qa,La,t,y,p,n,qa=e[0],La=e[1],t=b,y=f[0],p=f[1],n=f[2],h,c);c.point(qa,La)}function g(){A.point=b;c.lineEnd()}function w(){e();A.point=k;A.lineEnd=H}function k(a,c){f(m=a,c);l=qa;V=La;r=y;fa=p;q=n;A.point=f}function H(){d(qa,La,t,y,p,n,l,V,m,r,fa,q,h,c);A.lineEnd=g;g()}var m,l,V,r,fa,q,t,qa,La,y,p,n,A={point:b,lineStart:e,lineEnd:g,polygonStart:function(){c.polygonStart();A.lineStart=w},polygonEnd:function(){c.polygonEnd();
A.lineStart=e}};return A}function d(c,b,e,h,w,k,H,m,l,V,r,fa,q,t){var qa=H-c,La=m-b,y=qa*qa+La*La;if(y>4*f&&q--){var p=h+V,n=w+r,A=k+fa,ra=Math.sqrt(p*p+n*n+A*A),B=Math.asin(A/=ra),x=ba(ba(A)-1)<P||ba(e-l)<P?(e+l)/2:Math.atan2(n,p),z=a(x,B);B=z[0];z=z[1];var gb=B-c,Vc=z-b,vc=La*gb-qa*Vc;(vc*vc/y>f||.3<ba((qa*gb+La*Vc)/y-.5)||g>h*V+w*r+k*fa)&&(d(c,b,e,h,w,k,B,z,x,p/=ra,n/=ra,A,q,t),t.point(B,z),d(B,z,x,p,n,A,H,m,l,V,r,fa,q,t))}}var f=.5,g=Math.cos(30*aa),h=16;return c.precision=function(a){return arguments.length?
(h=0<(f=a*a)&&16,c):Math.sqrt(f)},c}function He(a){var c=Sc(function(c,b){return a([c*va,b*va])});return function(a){return Tc(c(a))}}function xd(a){this.stream=a}function yd(a,c){return{point:c,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function Xa(a){return Nb(function(){return a})()}function Nb(a){function c(a){return a=h(a[0]*aa,a[1]*aa),[a[0]*r+w,k-a[1]*r]}function b(a){return a=
h.invert((a[0]-w)/r,(k-a[1])/r),a&&[a[0]*va,a[1]*va]}function e(){h=pb(g=uc(A,B,z),f);var a=f(p,n);return w=q-a[0]*r,k=y+a[1]*r,d()}function d(){return m&&(m.valid=!1,m=null),c}var f,g,h,w,k,m,l=Sc(function(a,c){return a=f(a,c),[a[0]*r+w,k-a[1]*r]}),r=150,q=480,y=250,p=0,n=0,A=0,B=0,z=0,x=Wf,C=t,G=null,F=null;return c.stream=function(a){return m&&(m.valid=!1),m=Tc(x(g,l(C(a)))),m.valid=!0,m},c.clipAngle=function(a){return arguments.length?(x=null==a?(G=a,Wf):Fe((G=+a)*aa),d()):G},c.clipExtent=function(a){return arguments.length?
(F=a,C=a?td(a[0][0],a[0][1],a[1][0],a[1][1]):t,d()):F},c.scale=function(a){return arguments.length?(r=+a,e()):r},c.translate=function(a){return arguments.length?(q=+a[0],y=+a[1],e()):[q,y]},c.center=function(a){return arguments.length?(p=a[0]%360*aa,n=a[1]%360*aa,e()):[p*va,n*va]},c.rotate=function(a){return arguments.length?(A=a[0]%360*aa,B=a[1]%360*aa,z=2<a.length?a[2]%360*aa:0,e()):[A*va,B*va,z*va]},v.rebind(c,l,"precision"),function(){return f=a.apply(this,arguments),c.invert=f.invert&&b,e()}}
function Tc(a){return yd(a,function(c,b){a.point(c*aa,b*aa)})}function Bb(a,c){return[a,c]}function Uc(a,c){return[a>Z?a-Za:-Z>a?a+Za:a,c]}function uc(a,c,b){return a?c||b?pb(Ad(a),cb(c,b)):Ad(a):c||b?cb(c,b):Uc}function zd(a){return function(c,b){return c+=a,[c>Z?c-Za:-Z>c?c+Za:c,b]}}function Ad(a){var c=zd(a);return c.invert=zd(-a),c}function cb(a,c){function b(a,c){var b=Math.cos(c),h=Math.cos(a)*b;a=Math.sin(a)*b;c=Math.sin(c);b=c*e+h*d;return[Math.atan2(a*f-b*g,h*e-c*d),Aa(b*f+a*g)]}var e=Math.cos(a),
d=Math.sin(a),f=Math.cos(c),g=Math.sin(c);return b.invert=function(a,c){var b=Math.cos(c),h=Math.cos(a)*b;a=Math.sin(a)*b;c=Math.sin(c);b=c*f-a*g;return[Math.atan2(a*f+c*g,h*e+b*d),Aa(b*e-h*d)]},b}function Gb(a,c){var b=Math.cos(a),e=Math.sin(a);return function(d,f,g,h){var w=g*c;null!=d?(d=Zc(b,d),f=Zc(b,f),(0<g?f>d:d>f)&&(d+=g*Za)):(d=a+g*Za,f=a-.5*w);for(var k;0<g?d>f:f>d;d-=w)h.point((k=qc([b,-e*Math.cos(d),-e*Math.sin(d)]))[0],k[1])}}function Zc(a,c){c=ob(c);c[0]-=a;$b(c);a=Da(-c[1]);return((0>
-c[2]?-a:a)+2*Math.PI-P)%(2*Math.PI)}function ic(a,c,b){var e=v.range(a,c-P,b).concat(c);return function(a){return e.map(function(c){return[a,c]})}}function $c(a,c,b){var e=v.range(a,c-P,b).concat(c);return function(a){return e.map(function(c){return[c,a]})}}function ad(a){return a.source}function bd(a){return a.target}function Xg(a,c,b,e){var d=Math.cos(c),f=Math.sin(c),g=Math.cos(e),h=Math.sin(e),w=d*Math.cos(a),k=d*Math.sin(a),H=g*Math.cos(b),m=g*Math.sin(b),l=2*Math.asin(Math.sqrt(N(e-c)+d*g*
N(b-a))),V=1/Math.sin(l);b=l?function(a){var c=Math.sin(a*=l)*V;a=Math.sin(l-a)*V;var b=a*w+c*H,e=a*k+c*m;return[Math.atan2(e,b)*va,Math.atan2(a*f+c*h,Math.sqrt(b*b+e*e))*va]}:function(){return[a*va,c*va]};return b.distance=l,b}function Cc(a,c){function b(c,b){var e=Math.cos(b),d=a(Math.cos(c)*e);return[d*e*Math.sin(c),d*Math.sin(b)]}return b.invert=function(a,b){var e=Math.sqrt(a*a+b*b),d=c(e),f=Math.sin(d);return[Math.atan2(a*f,e*Math.cos(d)),Math.asin(e&&b*f/e)]},b}function ke(a,c){function b(a,
c){0<f?-Ba+P>c&&(c=-Ba+P):c>Ba-P&&(c=Ba-P);c=f/Math.pow(Math.tan(Z/4+c/2),d);return[c*Math.sin(d*a),f-c*Math.cos(d*a)]}var e=Math.cos(a),d=a===c?Math.sin(a):Math.log(e/Math.cos(c))/Math.log(Math.tan(Z/4+c/2)/Math.tan(Z/4+a/2)),f=e*Math.pow(Math.tan(Z/4+a/2),d)/d;return d?(b.invert=function(a,c){c=f-c;return[Math.atan2(a,c)/d,2*Math.atan(Math.pow(f/((0<d?1:0>d?-1:0)*Math.sqrt(a*a+c*c)),1/d))-Ba]},b):dd}function tf(a,c){function b(a,c){c=f-c;return[c*Math.sin(d*a),f-c*Math.cos(d*a)]}var e=Math.cos(a),
d=a===c?Math.sin(a):(e-Math.cos(c))/(c-a),f=e/d+a;return ba(d)<P?Bb:(b.invert=function(a,c){c=f-c;return[Math.atan2(a,c)/d,f-(0<d?1:0>d?-1:0)*Math.sqrt(a*a+c*c)]},b)}function dd(a,c){return[a,Math.log(Math.tan(Z/4+c/2))]}function ed(a){var c,b=Xa(a),e=b.scale,d=b.translate,f=b.clipExtent;return b.scale=function(){var a=e.apply(b,arguments);return a===b?c?b.clipExtent(null):b:a},b.translate=function(){var a=d.apply(b,arguments);return a===b?c?b.clipExtent(null):b:a},b.clipExtent=function(a){var g=
f.apply(b,arguments);if(g===b){if(c=null==a){var h=Z*e(),w=d();f([[w[0]-h,w[1]-h],[w[0]+h,w[1]+h]])}}else c&&(g=null);return g},b.clipExtent(null)}function oe(a,c){return[Math.log(Math.tan(Z/4+c/2)),-a]}function Jb(a){return a[0]}function Hc(a){return a[1]}function Bf(a){for(var c=a.length,b=[0,1],e=2,d=2;c>d;d++){for(;1<e&&0>=ta(a[b[e-2]],a[b[e-1]],a[d]);)--e;b[e++]=d}return b.slice(0,e)}function ph(a,c){return a[0]-c[0]||a[1]-c[1]}function re(a,c,b){return(b[0]-c[0])*(a[1]-c[1])<(b[1]-c[1])*(a[0]-
c[0])}function te(a,c,b,e){var d=a[0],f=b[0],g=c[0]-d,h=e[0]-f;a=a[1];b=b[1];c=c[1]-a;e=e[1]-b;f=(h*(a-b)-e*(d-f))/(e*g-h*c);return[d+f*g,a+f*c]}function Cf(a){var c=a[0];a=a[a.length-1];return!(c[0]-a[0]||c[1]-a[1])}function gh(){hd(this);this.edge=this.site=this.circle=null}function Jc(a){var c=Xf.pop()||new gh;return c.site=a,c}function ue(a){mc(a);yc.remove(a);Xf.push(a);hd(a)}function Df(a,c){var b=a.site,e=b.x,d=b.y,f=d-c;if(!f)return e;a=a.P;if(!a)return-1/0;b=a.site;a=b.x;b=b.y;c=b-c;if(!c)return a;
var g=a-e,h=1/f-1/c,w=g/c;return h?(-w+Math.sqrt(w*w-2*h*(g*g/(-2*c)-b+c/2+d-f/2)))/h+e:(e+a)/2}function xf(a){this.site=a;this.edges=[]}function Ef(a,c){return c.angle-a.angle}function ah(){hd(this);this.x=this.y=this.arc=this.site=this.cy=null}function lc(a){var c=a.P,b=a.N;if(c&&b){var e=c.site;c=a.site;var d=b.site;if(e!==d){b=c.x;var f=c.y,g=e.x-b,h=e.y-f;e=d.x-b;d=d.y-f;var w=2*(g*d-h*e);if(!(w>=-Pe)){var k=g*g+h*h,m=e*e+d*d;h=(d*k-h*m)/w;g=(g*m-e*k)/w;d=g+f;f=Yf.pop()||new ah;f.arc=a;f.site=
c;f.x=h+b;f.y=d+Math.sqrt(h*h+g*g);f.cy=d;a.circle=f;a=null;for(c=Xc._;c;)if(f.y<c.y||f.y===c.y&&f.x<=c.x){if(!c.L){a=c.P;break}c=c.L}else{if(!c.R){a=c;break}c=c.R}Xc.insert(a,f);a||(Qe=f)}}}}function mc(a){var c=a.circle;c&&(c.P||(Qe=c.N),Xc.remove(c),Yf.push(c),hd(c),a.circle=null)}function rh(a,c){var b=a.b;if(b)return!0;var e,d=a.a;b=c[0][0];var f=c[1][0],g=c[0][1];c=c[1][1];var h=a.l,w=a.r,k=h.x;h=h.y;var m=w.x;w=w.y;var H=(k+m)/2;if(w===h){if(b>H||H>=f)return;if(k>m){if(d){if(d.y>=c)return}else d=
{x:H,y:g};b={x:H,y:c}}else{if(d){if(d.y<g)return}else d={x:H,y:c};b={x:H,y:g}}}else if(e=(k-m)/(w-h),H=(h+w)/2-e*H,-1>e||1<e)if(k>m){if(d){if(d.y>=c)return}else d={x:(g-H)/e,y:g};b={x:(c-H)/e,y:c}}else{if(d){if(d.y<g)return}else d={x:(c-H)/e,y:c};b={x:(g-H)/e,y:g}}else if(w>h){if(d){if(d.x>=f)return}else d={x:b,y:e*b+H};b={x:f,y:e*f+H}}else{if(d){if(d.x<b)return}else d={x:f,y:e*f+H};b={x:b,y:e*b+H}}return a.a=d,a.b=b,!0}function zf(a,c){this.l=a;this.r=c;this.a=this.b=null}function Gc(a,c,b,e){var d=
new zf(a,c);return zc.push(d),b&&gd(d,a,c,b),e&&gd(d,c,a,e),fc[a.i].edges.push(new fd(d,a,c)),fc[c.i].edges.push(new fd(d,c,a)),d}function $g(a,c,b){a=new zf(a,null);return a.a=c,a.b=b,zc.push(a),a}function gd(a,c,b,e){a.a||a.b?a.l===b?a.b=e:a.a=e:(a.a=e,a.l=c,a.r=b)}function fd(a,c,b){var e=a.a,d=a.b;this.edge=a;this.site=c;this.angle=b?Math.atan2(b.y-c.y,b.x-c.x):a.l===c?Math.atan2(d.x-e.x,e.y-d.y):Math.atan2(e.x-d.x,d.y-e.y)}function ve(){this._=null}function hd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}
function Kc(a,c){var b=c.R,e=c.U;e?e.L===c?e.L=b:e.R=b:a._=b;b.U=e;c.U=b;c.R=b.L;c.R&&(c.R.U=c);b.L=c}function Lc(a,c){var b=c.L,e=c.U;e?e.L===c?e.L=b:e.R=b:a._=b;b.U=e;c.U=b;c.L=b.R;c.L&&(c.L.U=c);b.R=c}function Ff(a){for(;a.L;)a=a.L;return a}function we(a,c){var b,e,d=a.sort(se).pop();zc=[];fc=Array(a.length);yc=new ve;for(Xc=new ve;;)if(e=Qe,d&&(!e||d.y<e.y||d.y===e.y&&d.x<e.x)){if(d.x!==b||d.y!==h){fc[d.i]=new xf(d);var f=void 0,g=void 0;var h=b=void 0;for(var w=d,k=w.x,m=w.y,H=yc._;H;)if(g=Df(H,
m)-k,g>P)H=H.L;else{var l=H;var r=m;var q=l.N;q?r=Df(q,r):(l=l.site,r=l.y===r?l.x:1/0);if(f=k-r,!(f>P)){g>-P?(h=H.P,b=H):f>-P?(h=H,b=H.N):h=b=H;break}if(!H.R){h=H;break}H=H.R}f=Jc(w);if(yc.insert(h,f),h||b)if(h===b)mc(h),b=Jc(h.site),yc.insert(f,b),f.edge=b.edge=Gc(h.site,f.site),lc(h),lc(b);else if(b){mc(h);mc(b);g=h.site;m=g.x;H=g.y;r=w.x-m;l=w.y-H;k=b.site;q=k.x-m;var t=k.y-H,y=2*(r*t-l*q),p=r*r+l*l,n=q*q+t*t;m={x:(t*p-l*n)/y+m,y:(r*n-q*p)/y+H};gd(b.edge,g,k,m);f.edge=Gc(g,w,null,m);b.edge=Gc(w,
k,null,m);lc(h);lc(b)}else f.edge=Gc(h.site,f.site);b=d.x;h=d.y}d=a.pop()}else{if(!e)break;k=e.arc;w=k.circle;g=w.x;m=w.cy;w={x:g,y:m};r=k.P;H=k.N;f=[k];ue(k);for(k=r;k.circle&&ba(g-k.circle.x)<P&&ba(m-k.circle.cy)<P;)r=k.P,f.unshift(k),ue(k),k=r;f.unshift(k);mc(k);for(r=H;r.circle&&ba(g-r.circle.x)<P&&ba(m-r.circle.cy)<P;)H=r.N,f.push(r),ue(r),r=H;f.push(r);mc(r);m=f.length;for(g=1;m>g;++g)r=f[g],k=f[g-1],gd(r.edge,k.site,r.site,w);k=f[0];r=f[m-1];r.edge=Gc(k.site,r.site,null,w);lc(k);lc(r)}if(c){e=
zc;d=Qc(c[0][0],c[0][1],c[1][0],c[1][1]);for(b=e.length;b--;)a=e[b],(!rh(a,c)||!d(a)||ba(a.a.x-a.b.x)<P&&ba(a.a.y-a.b.y)<P)&&(a.a=a.b=null,e.splice(b,1));var A;a=c[0][0];e=c[1][0];d=c[0][1];m=c[1][1];H=fc;for(r=H.length;r--;)if(A=H[r],A&&A.prepare())for(f=A.edges,g=f.length,w=0;g>w;)k=f[w].end(),b=k.x,h=k.y,l=f[++w%g].start(),c=l.x,l=l.y,(ba(b-c)>P||ba(h-l)>P)&&(f.splice(w,0,new fd($g(A.site,k,ba(b-a)<P&&m-h>P?{x:a,y:ba(c-a)<P?l:m}:ba(h-m)<P&&e-b>P?{x:ba(l-m)<P?c:e,y:m}:ba(b-e)<P&&h-d>P?{x:e,y:ba(c-
e)<P?l:d}:ba(h-d)<P&&b-a>P?{x:ba(l-d)<P?c:a,y:d}:null),A.site,null)),++g)}A={cells:fc,edges:zc};return yc=Xc=zc=fc=null,A}function se(a,c){return c.y-a.y||c.x-a.x}function sh(a){return a.x}function ch(a){return a.y}function Gf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ic(a,c,b,e,d,f){if(!a(c,b,e,d,f)){var g=.5*(b+d),h=.5*(e+f);c=c.nodes;c[0]&&Ic(a,c[0],b,e,g,h);c[1]&&Ic(a,c[1],g,e,d,h);c[2]&&Ic(a,c[2],b,h,g,f);c[3]&&Ic(a,c[3],g,h,d,f)}}function th(a,c,b,e,d,f,g){var h,w=1/0;return function Id(a,
k,m,H,l){if(!(k>f||m>g||e>H||d>l)){if(r=a.point){var r,q=c-a.x,V=b-a.y;q=q*q+V*V;w>q&&(q=Math.sqrt(w=q),e=c-q,d=b-q,f=c+q,g=b+q,h=r)}r=a.nodes;q=.5*(k+H);V=.5*(m+l);for(var fa=(b>=V)<<1|c>=q,t=fa+4;t>fa;++fa)if(a=r[3&fa])switch(3&fa){case 0:Id(a,k,m,q,V);break;case 1:Id(a,q,m,H,V);break;case 2:Id(a,k,V,q,l);break;case 3:Id(a,q,V,H,l)}}}(a,e,d,f,g),h}function xe(a,c){a=v.rgb(a);c=v.rgb(c);var b=a.r,e=a.g,d=a.b,f=c.r-b,g=c.g-e,h=c.b-d;return function(a){return"#"+U(Math.round(b+f*a))+U(Math.round(e+
g*a))+U(Math.round(d+h*a))}}function Hf(a,c){var b,e={},d={};for(b in a)b in c?e[b]=Wb(a[b],c[b]):d[b]=a[b];for(b in c)b in a||(d[b]=c[b]);return function(a){for(b in e)d[b]=e[b](a);return d}}function xb(a,c){return a=+a,c=+c,function(b){return a*(1-b)+c*b}}function If(a,c){var b,e,d,f=Re.lastIndex=Se.lastIndex=0,g=-1,h=[],w=[];a+="";for(c+="";(b=Re.exec(a))&&(e=Se.exec(c));)(d=e.index)>f&&(d=c.slice(f,d),h[g]?h[g]+=d:h[++g]=d),(b=b[0])===(e=e[0])?h[g]?h[g]+=e:h[++g]=e:(h[++g]=null,w.push({i:g,x:xb(b,
e)})),f=Se.lastIndex;return f<c.length&&(d=c.slice(f),h[g]?h[g]+=d:h[++g]=d),2>h.length?w[0]?(c=w[0].x,function(a){return c(a)+""}):function(){return c}:(c=w.length,function(a){for(var b,e=0;c>e;++e)h[(b=w[e]).i]=b.x(a);return h.join("")})}function Wb(a,c){for(var b,e=v.interpolators.length;0<=--e&&!(b=v.interpolators[e](a,c)););return b}function jd(a,c){var b,e=[],d=[],f=a.length,g=c.length,h=Math.min(a.length,c.length);for(b=0;h>b;++b)e.push(Wb(a[b],c[b]));for(;f>b;++b)d[b]=a[b];for(;g>b;++b)d[b]=
c[b];return function(a){for(b=0;h>b;++b)d[b]=e[b](a);return d}}function uh(a){return function(c){return 0>=c?0:1<=c?1:a(c)}}function Jf(a){return function(c){return 1-a(1-c)}}function Kf(a){return function(c){return.5*(.5>c?a(2*c):2-a(2-2*c))}}function vh(a){return a*a}function wh(a){return a*a*a}function xh(a){if(0>=a)return 0;if(1<=a)return 1;var c=a*a,b=c*a;return 4*(.5>a?b:3*(a-c)+b-.75)}function bh(a){return 1-Math.cos(a*Ba)}function fh(a){return Math.pow(2,10*(a-1))}function eh(a){return 1-
Math.sqrt(1-a*a)}function yh(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Lf(a,c){return c-=a,function(b){return Math.round(a+c*b)}}function wa(a){var c=[a.a,a.b],b=[a.c,a.d],e=Mf(c),d=c[0]*b[0]+c[1]*b[1];var f=-d;f=(b[0]+=f*c[0],b[1]+=f*c[1],b);f=Mf(f)||0;c[0]*b[1]<b[0]*c[1]&&(c[0]*=-1,c[1]*=-1,e*=-1,d*=-1);this.rotate=(e?Math.atan2(c[1],c[0]):Math.atan2(-b[0],b[1]))*va;this.translate=[a.e,a.f];
this.scale=[e,f];this.skew=f?Math.atan2(d,f)*va:0}function Mf(a){var c=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return c&&(a[0]/=c,a[1]/=c),c}function yf(a,c){var b,e=[],d=[],f=v.transform(a),g=v.transform(c);c=f.translate;a=g.translate;var h=f.rotate,w=g.rotate,k=f.skew,m=g.skew;f=f.scale;g=g.scale;return c[0]!=a[0]||c[1]!=a[1]?(e.push("translate(",null,",",null,")"),d.push({i:1,x:xb(c[0],a[0])},{i:3,x:xb(c[1],a[1])})):e.push(a[0]||a[1]?"translate("+a+")":""),h!=w?(180<h-w?w+=360:180<w-h&&(h+=360),d.push({i:e.push(e.pop()+
"rotate(",null,")")-2,x:xb(h,w)})):w&&e.push(e.pop()+"rotate("+w+")"),k!=m?d.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:xb(k,m)}):m&&e.push(e.pop()+"skewX("+m+")"),f[0]!=g[0]||f[1]!=g[1]?(b=e.push(e.pop()+"scale(",null,",",null,")"),d.push({i:b-4,x:xb(f[0],g[0])},{i:b-2,x:xb(f[1],g[1])})):(1!=g[0]||1!=g[1])&&e.push(e.pop()+"scale("+g+")"),b=d.length,function(a){for(var c,f=-1;++f<b;)e[(c=d[f]).i]=c.x(a);return e.join("")}}function zh(a,c){return c=(c-=a=+a)||1/c,function(b){return(b-a)/c}}function oa(a,
c){return c=(c-=a=+a)||1/c,function(b){return Math.max(0,Math.min(1,(b-a)/c))}}function dh(a){var c=a.source;a=a.target;var b=a;if(c===b)var e=c;else{e=ne(c);b=ne(b);for(var d=e.pop(),f=b.pop(),g=null;d===f;)g=d,d=e.pop(),f=b.pop();e=g}for(b=[c];c!==e;)c=c.parent,b.push(c);for(c=b.length;a!==e;)b.splice(c,0,a),a=a.parent;return b}function ne(a){for(var c=[],b=a.parent;null!=b;)c.push(a),a=b,b=b.parent;return c.push(a),c}function Yg(a){a.fixed|=2}function uf(a){a.fixed&=-7}function vf(a){a.fixed|=
4;a.px=a.x;a.py=a.y}function Zg(a){a.fixed&=-5}function wf(a,c,b){var e=0,d=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,w=-1;++w<h;)f=g[w],null!=f&&(wf(f,c,b),a.charge+=f.charge,e+=f.charge*f.cx,d+=f.charge*f.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),c*=b[a.point.index],a.charge+=a.pointCharge=c,e+=c*a.point.x,d+=c*a.point.y);a.cx=e/a.charge;a.cy=d/a.charge}function Ec(a,c){return v.rebind(a,c,"sort","children","value"),a.nodes=a,a.links=jh,a}function Fc(a,
c){for(var b=[a];null!=(a=b.pop());)if(c(a),(d=a.children)&&(e=d.length))for(var e,d;0<=--e;)b.push(d[e])}function mb(a,c){for(var b=[a],e=[];null!=(a=b.pop());)if(e.push(a),(f=a.children)&&(d=f.length)){var d,f;for(a=-1;++a<d;)b.push(f[a])}for(;null!=(a=e.pop());)c(a)}function Af(a){return a.children}function hh(a){return a.value}function ih(a,c){return c.value-a.value}function jh(a){return v.merge(a.map(function(a){return(a.children||[]).map(function(c){return{source:a,target:c}})}))}function kh(a){return a.x}
function lh(a){return a.y}function mh(a,c,b){a.y0=c;a.y=b}function pe(a){return v.range(a.length)}function qe(a){var c=-1;a=a[0].length;for(var b=[];++c<a;)b[c]=0;return b}function nh(a){for(var c,b=1,e=0,d=a[0][1],f=a.length;f>b;++b)(c=a[b][1])>d&&(e=b,d=c);return e}function oh(a){return a.reduce(qh,0)}function qh(a,c){return a+c[1]}function Eh(a,c){return Zf(a,Math.ceil(Math.log(c.length)/Math.LN2+1))}function Zf(a,c){var b=-1,e=+a[0];a=(a[1]-e)/c;for(var d=[];++b<=c;)d[b]=a*b+e;return d}function Fh(a){return[v.min(a),
v.max(a)]}function Gh(a,c){return a.value-c.value}function Te(a,c){var b=a._pack_next;a._pack_next=c;c._pack_prev=a;c._pack_next=b;b._pack_prev=c}function $f(a,c){a._pack_next=c;c._pack_prev=a}function ag(a,c){var b=c.x-a.x,e=c.y-a.y;a=a.r+c.r;return.999*a*a>b*b+e*e}function bg(a){function c(a){k=Math.min(a.x-a.r,k);m=Math.max(a.x+a.r,m);l=Math.min(a.y-a.r,l);r=Math.max(a.y+a.r,r)}if((b=a.children)&&(w=b.length)){var b,e,d,f,g,h,w,k=1/0,m=-1/0,l=1/0,r=-1/0;if(b.forEach(Hh),e=b[0],e.x=-e.r,e.y=0,c(e),
1<w&&(d=b[1],d.x=d.r,d.y=0,c(d),2<w)){var q=b[2];cg(e,d,q);c(q);Te(e,q);e._pack_prev=q;Te(q,d);d=e._pack_next;for(f=3;w>f;f++){cg(e,d,q=b[f]);var t=0,y=1,p=1;for(g=d._pack_next;g!==d;g=g._pack_next,y++)if(ag(g,q)){t=1;break}if(1==t)for(h=e._pack_prev;h!==g._pack_prev&&!ag(h,q);h=h._pack_prev,p++);t?(p>y||y==p&&d.r<e.r?$f(e,d=g):$f(e=h,d),f--):(Te(e,q),d=q,c(q))}}e=(k+m)/2;d=(l+r)/2;for(f=g=0;w>f;f++)q=b[f],q.x-=e,q.y-=d,g=Math.max(g,q.r+Math.sqrt(q.x*q.x+q.y*q.y));a.r=g;b.forEach(Ih)}}function Hh(a){a._pack_next=
a._pack_prev=a}function Ih(a){delete a._pack_next;delete a._pack_prev}function dg(a,c,b,e){var d=a.children;if(a.x=c+=e*a.x,a.y=b+=e*a.y,a.r*=e,d){a=-1;for(var f=d.length;++a<f;)dg(d[a],c,b,e)}}function cg(a,c,b){var e=a.r+b.r,d=c.x-a.x,f=c.y-a.y;if(e&&(d||f)){var g=c.r+b.r,h=d*d+f*f;g*=g;e*=e;c=.5+(e-g)/(2*h);g=Math.sqrt(Math.max(0,2*g*(e+h)-(e-=h)*e-g*g))/(2*h);b.x=a.x+c*d+g*f;b.y=a.y+c*f-g*d}else b.x=a.x+e,b.y=a.y}function eg(a,c){return a.parent==c.parent?1:2}function Ue(a){var c=a.children;return c.length?
c[0]:a.t}function Ve(a){var c,b=a.children;return(c=b.length)?b[c-1]:a.t}function Jh(a){return 1+v.max(a,function(a){return a.y})}function Kh(a){return a.reduce(function(a,c){return a+c.x},0)/a.length}function fg(a){var c=a.children;return c&&c.length?fg(c[0]):a}function gg(a){var c,b=a.children;return b&&(c=b.length)?gg(b[c-1]):a}function We(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function hg(a,c){var b=a.x+c[3],e=a.y+c[0],d=a.dx-c[1]-c[3];a=a.dy-c[0]-c[2];return 0>d&&(b+=d/2,d=0),0>a&&(e+=a/2,a=
0),{x:b,y:e,dx:d,dy:a}}function Ac(a){var c=a[0];a=a[a.length-1];return a>c?[c,a]:[a,c]}function Ld(a){return a.rangeExtent?a.rangeExtent():Ac(a.range())}function Lh(a,c,b,e){var d=b(a[0],a[1]),f=e(c[0],c[1]);return function(a){return f(d(a))}}function Md(a,c){var b,e=0,d=a.length-1,f=a[e],g=a[d];return f>g&&(b=e,e=d,d=b,b=f,f=g,g=b),a[e]=c.floor(f),a[d]=c.ceil(g),a}function ig(a){return a?{floor:function(c){return Math.floor(c/a)*a},ceil:function(c){return Math.ceil(c/a)*a}}:Mh}function Nh(a,c,b,
e){var d=[],f=[],g=0,h=Math.min(a.length,c.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());++g<=h;)d.push(b(a[g-1],a[g])),f.push(e(c[g-1],c[g]));return function(c){var b=v.bisect(a,c,1,h)-1;return f[b](d[b](c))}}function jg(a,c,b,e){function d(){var d=2<Math.min(a.length,c.length)?Nh:Lh,k=e?oa:zh;return g=d(a,c,k,b),h=d(c,a,k,Wb),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(c){return arguments.length?(a=c.map(Number),d()):a},
f.range=function(a){return arguments.length?(c=a,d()):c},f.rangeRound=function(a){return f.range(a).interpolate(Lf)},f.clamp=function(a){return arguments.length?(e=a,d()):e},f.interpolate=function(a){return arguments.length?(b=a,d()):b},f.ticks=function(c){return v.range.apply(v,Tb(a,c))},f.tickFormat=function(c,b){return Xe(a,c,b)},f.nice=function(c){return Md(a,ig(Tb(a,c)[2])),d()},f.copy=function(){return jg(a,c,b,e)},d()}function Ye(a,c){return v.rebind(a,c,"range","rangeRound","interpolate",
"clamp")}function Tb(a,c){null==c&&(c=10);a=Ac(a);var b=a[1]-a[0],e=Math.pow(10,Math.floor(Math.log(b/c)/Math.LN10));c=c/b*e;return.15>=c?e*=10:.35>=c?e*=5:.75>=c&&(e*=2),a[0]=Math.ceil(a[0]/e)*e,a[1]=Math.floor(a[1]/e)*e+.5*e,a[2]=e,a}function Xe(a,c,b){a=Tb(a,c);if(b){c=Sf.exec(b);if(c.shift(),"s"===c[8]){var e=v.formatPrefix(Math.max(ba(a[0]),ba(a[1])));return c[7]||(c[7]="."+Nd(e.scale(a[2]))),c[8]="f",b=v.format(c.join("")),function(a){return b(e.scale(a))+e.symbol}}c[7]||(c[7]="."+Oh(c[8],a));
b=c.join("")}else b=",."+Nd(a[2])+"f";return v.format(b)}function Nd(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Oh(a,c){var b=Nd(c[2]);return a in Ph?Math.abs(b-Nd(Math.max(ba(c[0]),ba(c[1]))))+ +("e"!==a):b-2*("%"===a)}function kg(a,c,b,e){function d(a){return(b?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(c)}function f(a){return b?Math.pow(c,a):-Math.pow(c,-a)}function g(c){return a(d(c))}return g.invert=function(c){return f(a.invert(c))},g.domain=function(c){return arguments.length?
(b=0<=c[0],a.domain((e=c.map(Number)).map(d)),g):e},g.base=function(b){return arguments.length?(c=+b,a.domain(e.map(d)),g):c},g.nice=function(){var c=Md(e.map(d),b?Math:Qh);return a.domain(c),e=c.map(f),g},g.ticks=function(){var a=Ac(e),g=[],h=a[0];a=a[1];var k=Math.floor(d(h)),w=Math.ceil(d(a)),m=c%1?2:c;if(isFinite(w-k)){if(b){for(;w>k;k++)for(var l=1;m>l;l++)g.push(f(k)*l);g.push(f(k))}else for(g.push(f(k));k++<w;)for(l=m-1;0<l;l--)g.push(f(k)*l);for(k=0;g[k]<h;k++);for(w=g.length;g[w-1]>a;w--);
g=g.slice(k,w)}return g},g.tickFormat=function(a,c){if(!arguments.length)return lg;2>arguments.length?c=lg:"function"!=typeof c&&(c=v.format(c));var e,h=Math.max(.1,a/g.ticks().length),k=b?(e=1E-12,Math.ceil):(e=-1E-12,Math.floor);return function(a){return a/f(k(d(a)+e))<=h?c(a):""}},g.copy=function(){return kg(a.copy(),c,b,e)},Ye(g,a)}function mg(a,c,b){function e(c){return a(d(c))}var d=Od(c),f=Od(1/c);return e.invert=function(c){return f(a.invert(c))},e.domain=function(c){return arguments.length?
(a.domain((b=c.map(Number)).map(d)),e):b},e.ticks=function(a){return v.range.apply(v,Tb(b,a))},e.tickFormat=function(a,c){return Xe(b,a,c)},e.nice=function(a){return e.domain(Md(b,ig(Tb(b,a)[2])))},e.exponent=function(g){return arguments.length?(d=Od(c=g),f=Od(1/c),a.domain(b.map(d)),e):c},e.copy=function(){return mg(a.copy(),c,b)},Ye(e,a)}function Od(a){return function(c){return 0>c?-Math.pow(-c,a):Math.pow(c,a)}}function ng(a,b){function e(c){return g[((f.get(c)||("range"===b.t?f.set(c,a.push(c)):
0/0))-1)%g.length]}function d(c,b){return v.range(a.length).map(function(a){return c+b*a})}var f,g,h;return e.domain=function(d){if(!arguments.length)return a;a=[];f=new c;for(var g,h=-1,k=d.length;++h<k;)f.has(g=d[h])||f.set(g,a.push(g));return e[b.t].apply(e,b.a)},e.range=function(a){return arguments.length?(g=a,h=0,b={t:"range",a:arguments},e):g},e.rangePoints=function(c,f){2>arguments.length&&(f=0);var k=c[0],w=c[1];w=2>a.length?(k=(k+w)/2,0):(w-k)/(a.length-1+f);return g=d(k+w*f/2,w),h=0,b={t:"rangePoints",
a:arguments},e},e.rangeRoundPoints=function(c,f){2>arguments.length&&(f=0);var k=c[0],w=c[1],m=2>a.length?(k=w=Math.round((k+w)/2),0):(w-k)/(a.length-1+f)|0;return g=d(k+Math.round(m*f/2+(w-k-(a.length-1+f)*m)/2),m),h=0,b={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(c,f,k){2>arguments.length&&(f=0);3>arguments.length&&(k=f);var w=c[1]<c[0],m=c[w-0],l=(c[1-w]-m)/(a.length-f+2*k);return g=d(m+l*k,l),w&&g.reverse(),h=l*(1-f),b={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(c,
f,k){2>arguments.length&&(f=0);3>arguments.length&&(k=f);var w=c[1]<c[0],m=c[w-0],l=c[1-w],r=Math.floor((l-m)/(a.length-f+2*k));return g=d(m+Math.round((l-m-(a.length-f)*r)/2),r),w&&g.reverse(),h=Math.round(r*(1-f)),b={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return h},e.rangeExtent=function(){return Ac(b.a[0])},e.copy=function(){return ng(a,b)},e.domain(a)}function og(c,b){function e(){var a=0,e=b.length;for(f=[];++a<e;)f[a-1]=v.quantile(c,a/e);return d}function d(a){return isNaN(a=
+a)?void 0:b[v.bisect(f,a)]}var f;return d.domain=function(b){return arguments.length?(c=b.map(u).filter(a).sort(n),e()):c},d.range=function(a){return arguments.length?(b=a,e()):b},d.quantiles=function(){return f},d.invertExtent=function(a){return a=b.indexOf(a),0>a?[0/0,0/0]:[0<a?f[a-1]:c[0],a<f.length?f[a]:c[c.length-1]]},d.copy=function(){return og(c,b)},e()}function pg(a,c,b){function e(c){return b[Math.max(0,Math.min(g,Math.floor(f*(c-a))))]}function d(){return f=b.length/(c-a),g=b.length-1,
e}var f,g;return e.domain=function(b){return arguments.length?(a=+b[0],c=+b[b.length-1],d()):[a,c]},e.range=function(a){return arguments.length?(b=a,d()):b},e.invertExtent=function(c){return c=b.indexOf(c),c=0>c?0/0:c/f+a,[c,c+1/f]},e.copy=function(){return pg(a,c,b)},d()}function qg(a,c){function b(b){return b>=b?c[v.bisect(a,b)]:void 0}return b.domain=function(c){return arguments.length?(a=c,b):a},b.range=function(a){return arguments.length?(c=a,b):c},b.invertExtent=function(b){return b=c.indexOf(b),
[a[b-1],a[b]]},b.copy=function(){return qg(a,c)},b}function rg(a){function c(a){return+a}return c.invert=c,c.domain=c.range=function(b){return arguments.length?(a=b.map(c),c):a},c.ticks=function(c){return v.range.apply(v,Tb(a,c))},c.tickFormat=function(c,b){return Xe(a,c,b)},c.copy=function(){return rg(a)},c}function Rh(){return 0}function Sh(a){return a.innerRadius}function Th(a){return a.outerRadius}function sg(a){return a.startAngle}function tg(a){return a.endAngle}function Uh(a){return a&&a.padAngle}
function Pd(a,c,b,e){return 0<(a-b)*c-(c-e)*a?0:1}function Qd(a,c,b,e,d){var f=a[0]-c[0],g=a[1]-c[1];d=(d?e:-e)/Math.sqrt(f*f+g*g);g*=d;f*=-d;var h=a[0]+g,k=a[1]+f,w=c[0]+g,m=c[1]+f;a=(h+w)/2;c=(k+m)/2;d=w-h;var l=m-k,r=d*d+l*l;e=b-e;m=h*m-w*k;var q=(0>l?-1:1)*Math.sqrt(e*e*r-m*m);h=(m*l-d*q)/r;k=(-m*d-l*q)/r;w=(m*l+d*q)/r;d=(-m*d+l*q)/r;l=h-a;r=k-c;a=w-a;c=d-c;return l*l+r*r>a*a+c*c&&(h=w,k=d),[[h-g,k-f],[h*b/e,k*b/e]]}function ug(a){function c(c){function g(){w.push("M",f(a(m),h))}for(var k,w=[],
m=[],l=-1,r=c.length,q=ea(b),H=ea(e);++l<r;)d.call(this,k=c[l],l)?m.push([+q.call(this,k,l),+H.call(this,k,l)]):m.length&&(g(),m=[]);return m.length&&g(),w.length?w.join(""):null}var b=Jb,e=Hc,d=fb,f=$a,g=f.key,h=.7;return c.x=function(a){return arguments.length?(b=a,c):b},c.y=function(a){return arguments.length?(e=a,c):e},c.defined=function(a){return arguments.length?(d=a,c):d},c.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Ze.get(a)||$a).key,c):g},c.tension=function(a){return arguments.length?
(h=a,c):h},c}function $a(a){return a.join("L")}function $e(a){for(var c=0,b=a.length,e=a[0],d=[e[0],",",e[1]];++c<b;)d.push("V",(e=a[c])[1],"H",e[0]);return d.join("")}function af(a){for(var c=0,b=a.length,e=a[0],d=[e[0],",",e[1]];++c<b;)d.push("H",(e=a[c])[0],"V",e[1]);return d.join("")}function Rd(a,c){if(1>c.length||a.length!=c.length&&a.length!=c.length+2)return $a(a);var b=a.length!=c.length,e="",d=a[0],f=a[1],g=c[0],h=g,k=1;if(b&&(e+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],
d=a[1],k=2),1<c.length)for(h=c[1],f=a[k],k++,e+="C"+(d[0]+g[0])+","+(d[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1],d=2;d<c.length;d++,k++)f=a[k],h=c[d],e+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];b&&(a=a[k],e+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+a[0]+","+a[1]);return e}function bf(a,c){for(var b=[],e=(1-c)/2,d=a[0],f=a[1],g=1,h=a.length;++g<h;)c=d,d=f,f=a[g],b.push([e*(f[0]-c[0]),e*(f[1]-c[1])]);return b}function vg(a){if(3>a.length)return $a(a);var c=1,b=a.length,
e=a[0],d=e[0],f=e[1],g=[d,d,d,(e=a[1])[0]],h=[f,f,f,e[1]];d=[d,",",f,"L",bb(Ub,g),",",bb(Ub,h)];for(a.push(a[b-1]);++c<=b;)e=a[c],g.shift(),g.push(e[0]),h.shift(),h.push(e[1]),cf(d,g,h);return a.pop(),d.push("L",e),d.join("")}function bb(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3]}function cf(a,c,b){a.push("C",bb(wg,c),",",bb(wg,b),",",bb(xg,c),",",bb(xg,b),",",bb(Ub,c),",",bb(Ub,b))}function df(a,c){return(c[1]-a[1])/(c[0]-a[0])}function yg(a){for(var c,b,e,d=-1,f=a.length;++d<f;)c=a[d],
b=c[0],e=c[1]-Ba,c[0]=b*Math.cos(e),c[1]=b*Math.sin(e);return a}function zg(a){function c(c){function k(){t.push("M",h(a(p),l),m,w(a(y.reverse()),l),"Z")}for(var r,q,H,t=[],y=[],p=[],n=-1,V=c.length,A=ea(b),B=ea(d),z=b===e?function(){return q}:ea(e),x=d===f?function(){return H}:ea(f);++n<V;)g.call(this,r=c[n],n)?(y.push([q=+A.call(this,r,n),H=+B.call(this,r,n)]),p.push([+z.call(this,r,n),+x.call(this,r,n)])):y.length&&(k(),y=[],p=[]);return y.length&&k(),t.length?t.join(""):null}var b=Jb,e=Jb,d=0,
f=Hc,g=fb,h=$a,k=h.key,w=h,m="L",l=.7;return c.x=function(a){return arguments.length?(b=e=a,c):e},c.x0=function(a){return arguments.length?(b=a,c):b},c.x1=function(a){return arguments.length?(e=a,c):e},c.y=function(a){return arguments.length?(d=f=a,c):f},c.y0=function(a){return arguments.length?(d=a,c):d},c.y1=function(a){return arguments.length?(f=a,c):f},c.defined=function(a){return arguments.length?(g=a,c):g},c.interpolate=function(a){return arguments.length?(k="function"==typeof a?h=a:(h=Ze.get(a)||
$a).key,w=h.reverse||h,m=h.closed?"M":"L",c):k},c.tension=function(a){return arguments.length?(l=a,c):l},c}function Vh(a){return a.radius}function Ag(a){return[a.x,a.y]}function Wh(a){return function(){var c=a.apply(this,arguments),b=c[0];c=c[1]-Ba;return[b*Math.cos(c),b*Math.sin(c)]}}function Xh(){return 64}function Yh(){return"circle"}function Bg(a){a=Math.sqrt(a/Z);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Cg(a){return function(){var c,b;(c=this[a])&&(b=c[c.active])&&
(--c.count?delete c[c.active]:delete this[a],c.active+=.5,b.event&&b.event.interrupt.call(this,this.__data__,b.index))}}function Yc(a,c,b){return Bd(a,Ja),a.namespace=c,a.id=b,a}function ef(a,c,b,e){var d=a.id,f=a.namespace;return T(a,"function"==typeof b?function(a,g,h){a[f][d].tween.set(c,e(b.call(a,a.__data__,g,h)))}:(b=e(b),function(a){a[f][d].tween.set(c,b)}))}function Zh(a){return null==a&&(a=""),function(){this.textContent=a}}function ff(a){return null==a?"__transition__":"__transition_"+a+
"__"}function Sd(a,b,e,d,f){var g=a[e]||(a[e]={active:0,count:0}),h=g[d];if(!h){var k=f.time;h=g[d]={tween:new c,time:k,delay:f.delay,duration:f.duration,ease:f.ease,index:b};f=null;++g.count;v.timer(function(c){function f(c){if(g.active>d)return m();var e=g[g.active];e&&(--g.count,delete g[g.active],e.event&&e.event.interrupt.call(a,a.__data__,e.index));g.active=d;h.event&&h.event.start.call(a,a.__data__,b);h.tween.forEach(function(c,e){(e=e.call(a,a.__data__,b))&&t.push(e)});r=h.ease;l=h.duration;
v.timer(function(){return H.c=w(c||1)?fb:w,1},0,k)}function w(c){if(g.active!==d)return 1;c/=l;for(var e=r(c),f=t.length;0<f;)t[--f].call(a,e);return 1<=c?(h.event&&h.event.end.call(a,a.__data__,b),m()):void 0}function m(){return--g.count?delete g[d]:delete a[e],1}var l,r,q=h.delay,H=Db,t=[];return H.t=q+k,c>=q?f(c-q):void(H.c=f)},0,k)}}function $h(a,c,b){a.attr("transform",function(a){var e=c(a);return"translate("+(isFinite(e)?e:b(a))+",0)"})}function ai(a,c,b){a.attr("transform",function(a){var e=
c(a);return"translate(0,"+(isFinite(e)?e:b(a))+")"})}function gf(a){return a.toISOString()}function hf(a,c,b){function e(c){return a(c)}function d(a,b){var e=(a[1]-a[0])/b,d=v.bisect(Td,e);return d==Td.length?[c.year,Tb(a.map(function(a){return a/31536E6}),b)[2]]:d?c[e/Td[d-1]<Td[d]/e?d-1:d]:[bi,Tb(a,b)[2]]}return e.invert=function(c){return gc(a.invert(c))},e.domain=function(c){return arguments.length?(a.domain(c),e):a.domain().map(gc)},e.nice=function(a,c){function b(b){return!isNaN(b)&&!a.range(b,
gc(+b+1),c).length}var f=e.domain(),g=Ac(f);g=null==a?d(g,10):"number"==typeof a&&d(g,a);return g&&(a=g[0],c=g[1]),e.domain(Md(f,1<c?{floor:function(c){for(;b(c=a.floor(c));)c=gc(c-1);return c},ceil:function(c){for(;b(c=a.ceil(c));)c=gc(+c+1);return c}}:a))},e.ticks=function(a,c){var b=Ac(e.domain()),f=null==a?d(b,10):"number"==typeof a?d(b,a):!a.range&&[{range:a},c];return f&&(a=f[0],c=f[1]),a.range(b[0],gc(+b[1]+1),1>c?1:c)},e.tickFormat=function(){return b},e.copy=function(){return hf(a.copy(),
c,b)},Ye(e,a)}function gc(a){return new Date(a)}function ci(a){return JSON.parse(a.responseText)}function di(a){var c=Sa.createRange();return c.selectNode(Sa.body),c.createContextualFragment(a.responseText)}var v={version:"3.5.5"},Dg=[].slice,Ob=function(a){return Dg.call(a)},Sa=this.document;if(Sa)try{Ob(Sa.documentElement.childNodes)[0].nodeType}catch(w){Ob=function(a){for(var c=a.length,b=Array(c);c--;)b[c]=a[c];return b}}if(Date.now||(Date.now=function(){return+new Date}),Sa)try{Sa.createElement("DIV").style.setProperty("opacity",
0,"")}catch(w){var Ud=this.Element.prototype,ei=Ud.setAttribute,fi=Ud.setAttributeNS,Eg=this.CSSStyleDeclaration.prototype,gi=Eg.setProperty;Ud.setAttribute=function(a,c){ei.call(this,a,c+"")};Ud.setAttributeNS=function(a,c,b){fi.call(this,a,c,b+"")};Eg.setProperty=function(a,c,b){gi.call(this,a,c+"",b)}}v.ascending=n;v.descending=function(a,c){return a>c?-1:c>a?1:c>=a?0:0/0};v.min=function(a,c){var b,e=-1,d=a.length;if(1===arguments.length){for(;++e<d;)if(null!=(b=a[e])&&b>=b){var f=b;break}for(;++e<
d;)null!=(b=a[e])&&f>b&&(f=b)}else{for(;++e<d;)if(null!=(b=c.call(a,a[e],e))&&b>=b){f=b;break}for(;++e<d;)null!=(b=c.call(a,a[e],e))&&f>b&&(f=b)}return f};v.max=function(a,c){var b,e=-1,d=a.length;if(1===arguments.length){for(;++e<d;)if(null!=(b=a[e])&&b>=b){var f=b;break}for(;++e<d;)null!=(b=a[e])&&b>f&&(f=b)}else{for(;++e<d;)if(null!=(b=c.call(a,a[e],e))&&b>=b){f=b;break}for(;++e<d;)null!=(b=c.call(a,a[e],e))&&b>f&&(f=b)}return f};v.extent=function(a,c){var b,e,d=-1,f=a.length;if(1===arguments.length){for(;++d<
f;)if(null!=(b=a[d])&&b>=b){var g=e=b;break}for(;++d<f;)null!=(b=a[d])&&(g>b&&(g=b),b>e&&(e=b))}else{for(;++d<f;)if(null!=(b=c.call(a,a[d],d))&&b>=b){g=e=b;break}for(;++d<f;)null!=(b=c.call(a,a[d],d))&&(g>b&&(g=b),b>e&&(e=b))}return[g,e]};v.sum=function(a,c){var b,e=0,d=a.length,f=-1;if(1===arguments.length)for(;++f<d;)!isNaN(b=+a[f])&&(e+=b);else for(;++f<d;)!isNaN(b=+c.call(a,a[f],f))&&(e+=b);return e};v.mean=function(a,c){var b,e=0,d=a.length,f=-1,g=d;if(1===arguments.length)for(;++f<d;)isNaN(b=
u(a[f]))?--g:e+=b;else for(;++f<d;)isNaN(b=u(c.call(a,a[f],f)))?--g:e+=b;return g?e/g:void 0};v.quantile=function(a,c){var b=(a.length-1)*c+1;c=Math.floor(b);var e=+a[c-1];return(b-=c)?e+b*(a[c]-e):e};v.median=function(a,c){var b,e=[],d=a.length,f=-1;if(1===arguments.length)for(;++f<d;)!isNaN(b=u(a[f]))&&e.push(b);else for(;++f<d;)!isNaN(b=u(c.call(a,a[f],f)))&&e.push(b);return e.length?v.quantile(e.sort(n),.5):void 0};v.variance=function(a,c){var b,e,d=a.length,f=0,g=0,h=-1,k=0;if(1===arguments.length)for(;++h<
d;)!isNaN(b=u(a[h]))&&(e=b-f,f+=e/++k,g+=e*(b-f));else for(;++h<d;)!isNaN(b=u(c.call(a,a[h],h)))&&(e=b-f,f+=e/++k,g+=e*(b-f));return 1<k?g/(k-1):void 0};v.deviation=function(){var a=v.variance.apply(this,arguments);return a?Math.sqrt(a):a};var Fg=d(n);v.bisectLeft=Fg.left;v.bisect=v.bisectRight=Fg.right;v.bisector=function(a){return d(1===a.length?function(c,b){return n(a(c),b)}:a)};v.shuffle=function(a,c,b){3>(f=arguments.length)&&(b=a.length,2>f&&(c=0));for(var e,d,f=b-c;f;)d=Math.random()*f--|
0,e=a[f+c],a[f+c]=a[d+c],a[d+c]=e;return a};v.permute=function(a,c){for(var b=c.length,e=Array(b);b--;)e[b]=a[c[b]];return e};v.pairs=function(a){for(var c=0,b=a.length-1,e=a[0],d=Array(0>b?0:b);b>c;)d[c]=[e,e=a[++c]];return d};v.zip=function(){if(!(e=arguments.length))return[];for(var a=-1,c=v.min(arguments,f),b=Array(c);++a<c;)for(var e,d=-1,g=b[a]=Array(e);++d<e;)g[d]=arguments[d][a];return b};v.transpose=function(a){return v.zip.apply(v,a)};v.keys=function(a){var c=[],b;for(b in a)c.push(b);return c};
v.values=function(a){var c=[],b;for(b in a)c.push(a[b]);return c};v.entries=function(a){var c=[],b;for(b in a)c.push({key:b,value:a[b]});return c};v.merge=function(a){var c,b=a.length;var e=-1;for(var d=0;++e<b;)d+=a[e].length;for(c=Array(d);0<=--b;){var f=a[b];for(e=f.length;0<=--e;)c[--d]=f[e]}return c};var ba=Math.abs;v.range=function(a,c,b){if(3>arguments.length&&(b=1,2>arguments.length&&(c=a,a=0)),(c-a)/b===1/0)throw Error("infinite range");var e=[],d;var f=ba(b);for(d=1;f*d%1;)d*=10;var g=-1;
if(a*=d,c*=d,b*=d,0>b)for(;(f=a+b*++g)>c;)e.push(f/d);else for(;(f=a+b*++g)<c;)e.push(f/d);return e};v.map=function(a,b){var e=new c;if(a instanceof c)a.forEach(function(a,c){e.set(a,c)});else if(Array.isArray(a)){var d,f=-1,g=a.length;if(1===arguments.length)for(;++f<g;)e.set(f,a[f]);else for(;++f<g;)e.set(b.call(a,d=a[f],f),d)}else for(f in a)e.set(f,a[f]);return e};var Ah="__proto__",Ie="\x00";g(c,{has:m,get:function(a){return this._[h(a)]},set:function(a,c){return this._[h(a)]=c},remove:e,keys:l,
values:function(){var a=[],c;for(c in this._)a.push(this._[c]);return a},entries:function(){var a=[],c;for(c in this._)a.push({key:k(c),value:this._[c]});return a},size:q,empty:x,forEach:function(a){for(var c in this._)a.call(this,k(c),this._[c])}});v.nest=function(){function a(b,h,k){if(k>=g.length)return d?d.call(f,h):e?h.sort(e):h;for(var m,w,l,r,q=-1,t=h.length,y=g[k++],H=new c;++q<t;)(r=H.get(m=y(w=h[q])))?r.push(w):H.set(m,[w]);return b?(w=b(),l=function(c,e){w.set(c,a(b,e,k))}):(w={},l=function(c,
e){w[c]=a(b,e,k)}),H.forEach(l),w}function b(a,c){if(c>=g.length)return a;var e=[],d=h[c++];return a.forEach(function(a,d){e.push({key:a,values:b(d,c)})}),d?e.sort(function(a,c){return d(a.key,c.key)}):e}var e,d,f={},g=[],h=[];return f.map=function(c,b){return a(b,c,0)},f.entries=function(c){return b(a(v.map,c,0),0)},f.key=function(a){return g.push(a),f},f.sortKeys=function(a){return h[g.length-1]=a,f},f.sortValues=function(a){return e=a,f},f.rollup=function(a){return d=a,f},f};v.set=function(a){var c=
new z;if(a)for(var b=0,e=a.length;e>b;++b)c.add(a[b]);return c};g(z,{has:m,add:function(a){return this._[h(a+="")]=!0,a},remove:e,values:l,size:q,empty:x,forEach:function(a){for(var c in this._)a.call(this,k(c))}});v.behavior={};v.rebind=function(a,c){for(var b,e=1,d=arguments.length;++e<d;)a[b=arguments[e]]=C(a,c,c[b]);return a};var Nf="webkit ms moz Moz o O".split(" ");v.dispatch=function(){for(var a=new y,c=-1,b=arguments.length;++c<b;)a[arguments[c]]=A(a);return a};y.prototype.on=function(a,c){var b=
a.indexOf("."),e="";if(0<=b&&(e=a.slice(b+1),a=a.slice(0,b)),a)return 2>arguments.length?this[a].on(e):this[a].on(e,c);if(2===arguments.length){if(null==c)for(a in this)this.hasOwnProperty(a)&&this[a].on(e,null);return this}};v.event=null;v.requote=function(a){return a.replace(hi,"\\$&")};var hi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Bd={}.__proto__?function(a,c){a.__proto__=c}:function(a,c){for(var b in c)a[b]=c[b]},Je=function(a,c){return c.querySelector(a)},Ke=function(a,c){return c.querySelectorAll(a)},
Le=function(a,c){var b=a.matches||a[r(a,"matchesSelector")];return(Le=function(a,c){return b.call(a,c)})(a,c)};"function"==typeof Sizzle&&(Je=function(a,c){return Sizzle(a,c)[0]||null},Ke=Sizzle,Le=Sizzle.matchesSelector);v.selection=function(){return v.select(Sa.documentElement)};var pa=v.selection.prototype=[];pa.select=function(a){var c,b,e,d,f=[];a=D(a);for(var g=-1,h=this.length;++g<h;){f.push(c=[]);c.parentNode=(e=this[g]).parentNode;for(var k=-1,m=e.length;++k<m;)(d=e[k])?(c.push(b=a.call(d,
d.__data__,k,g)),b&&"__data__"in d&&(b.__data__=d.__data__)):c.push(null)}return E(f)};pa.selectAll=function(a){var c,b,e=[];a=Q(a);for(var d=-1,f=this.length;++d<f;)for(var g=this[d],h=-1,k=g.length;++h<k;)(b=g[h])&&(e.push(c=Ob(a.call(b,b.__data__,h,d))),c.parentNode=b);return E(e)};var jf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};v.ns={prefix:jf,qualify:function(a){var c=
a.indexOf(":"),b=a;return 0<=c&&(b=a.slice(0,c),a=a.slice(c+1)),jf.hasOwnProperty(b)?{space:jf[b],local:a}:a}};pa.attr=function(a,c){if(2>arguments.length){if("string"==typeof a){var b=this.node();return a=v.ns.qualify(a),a.local?b.getAttributeNS(a.space,a.local):b.getAttribute(a)}for(c in a)this.each(O(c,a[c]));return this}return this.each(O(a,c))};pa.classed=function(a,c){if(2>arguments.length){if("string"==typeof a){var b=this.node(),e=(a=(a+"").trim().split(/^|\s+/)).length,d=-1;if(c=b.classList)for(;++d<
e;){if(!c.contains(a[d]))return!1}else for(c=b.getAttribute("class");++d<e;)if(!M(a[d]).test(c))return!1;return!0}for(c in a)this.each(ia(c,a[c]));return this}return this.each(ia(a,c))};pa.style=function(a,c,e){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(c="");for(e in a)this.each(I(e,a[e],c));return this}if(2>d)return d=this.node(),b(d).getComputedStyle(d,null).getPropertyValue(a);e=""}return this.each(I(a,c,e))};pa.property=function(a,c){if(2>arguments.length){if("string"==typeof a)return this.node()[a];
for(c in a)this.each(S(c,a[c]));return this}return this.each(S(a,c))};pa.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var c=a.apply(this,arguments);this.textContent=null==c?"":c}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};pa.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var c=a.apply(this,arguments);this.innerHTML=null==c?"":c}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=
a}):this.node().innerHTML};pa.append=function(a){return a=za(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};pa.insert=function(a,c){return a=za(a),c=D(c),this.select(function(){return this.insertBefore(a.apply(this,arguments),c.apply(this,arguments)||null)})};pa.remove=function(){return this.each(X)};pa.data=function(a,b){function e(a,e){var d,f,g,h=a.length,l=e.length,r=Math.min(h,l),q=Array(l),t=Array(l),y=Array(h);if(b){var p;r=new c;var n=Array(h);for(d=-1;++d<h;)r.has(p=
b.call(f=a[d],f.__data__,d))?y[d]=f:r.set(p,f),n[d]=p;for(d=-1;++d<l;)(f=r.get(p=b.call(e,g=e[d],d)))?!0!==f&&(q[d]=f,f.__data__=g):t[d]={__data__:g},r.set(p,!0);for(d=-1;++d<h;)!0!==r.get(n[d])&&(y[d]=a[d])}else{for(d=-1;++d<r;)f=a[d],g=e[d],f?(f.__data__=g,q[d]=f):t[d]={__data__:g};for(;l>d;++d)t[d]={__data__:e[d]};for(;h>d;++d)y[d]=a[d]}t.update=q;t.parentNode=q.parentNode=y.parentNode=a.parentNode;k.push(t);m.push(q);w.push(y)}var d,f,g=-1,h=this.length;if(!arguments.length){for(a=Array(h=(d=
this[0]).length);++g<h;)(f=d[g])&&(a[g]=f.__data__);return a}var k=na([]),m=E([]),w=E([]);if("function"==typeof a)for(;++g<h;)e(d=this[g],a.call(d,d.parentNode.__data__,g));else for(;++g<h;)e(d=this[g],a);return m.enter=function(){return k},m.exit=function(){return w},m};pa.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};pa.filter=function(a){var c,b,e,d=[];"function"!=typeof a&&(a=ma(a));for(var f=0,g=this.length;g>f;f++){d.push(c=[]);c.parentNode=
(b=this[f]).parentNode;for(var h=0,k=b.length;k>h;h++)(e=b[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return E(d)};pa.order=function(){for(var a=-1,c=this.length;++a<c;)for(var b,e=this[a],d=e.length-1,f=e[d];0<=--d;)(b=e[d])&&(f&&f!==b.nextSibling&&f.parentNode.insertBefore(b,f),f=b);return this};pa.sort=function(a){a=ca.apply(this,arguments);for(var c=-1,b=this.length;++c<b;)this[c].sort(a);return this.order()};pa.each=function(a){return T(this,function(c,b,e){a.call(c,c.__data__,b,e)})};pa.call=
function(a){var c=Ob(arguments);return a.apply(c[0]=this,c),this};pa.empty=function(){return!this.node()};pa.node=function(){for(var a=0,c=this.length;c>a;a++)for(var b=this[a],e=0,d=b.length;d>e;e++){var f=b[e];if(f)return f}return null};pa.size=function(){var a=0;return T(this,function(){++a}),a};var Cb=[];v.selection.enter=na;v.selection.enter.prototype=Cb;Cb.append=pa.append;Cb.empty=pa.empty;Cb.node=pa.node;Cb.call=pa.call;Cb.size=pa.size;Cb.select=function(a){for(var c,b,e,d,f,g=[],h=-1,k=this.length;++h<
k;){e=(d=this[h]).update;g.push(c=[]);c.parentNode=d.parentNode;for(var m=-1,l=d.length;++m<l;)(f=d[m])?(c.push(e[m]=b=a.call(d.parentNode,f.__data__,m,h)),b.__data__=f.__data__):c.push(null)}return E(g)};Cb.insert=function(a,c){return 2>arguments.length&&(c=ya(this)),pa.insert.call(this,a,c)};v.select=function(a){var c;return"string"==typeof a?(c=[Je(a,Sa)],c.parentNode=Sa.documentElement):(c=[a],c.parentNode=a&&(a.ownerDocument||a.document||a).documentElement),E([c])};v.selectAll=function(a){var c;
return"string"==typeof a?(c=Ob(Ke(a,Sa)),c.parentNode=Sa.documentElement):(c=a,c.parentNode=null),E([c])};pa.on=function(a,c,b){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(c=!1);for(b in a)this.each(ka(b,a[b],c));return this}if(2>e)return(e=this.node()["__on"+a])&&e._;b=!1}return this.each(ka(a,c,b))};var Me=v.map({mouseenter:"mouseover",mouseleave:"mouseout"});Sa&&Me.forEach(function(a){"on"+a in Sa&&Me.remove(a)});var bc,Ch=0;v.mouse=function(a){return sa(a,F())};var Ne=this.navigator&&
/WebKit/.test(this.navigator.userAgent)?-1:0;v.touch=function(a,c,b){if(3>arguments.length&&(b=c,c=F().changedTouches),c)for(var e,d=0,f=c.length;f>d;++d)if((e=c[d]).identifier===b)return sa(a,e)};v.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function c(a,c,b,f,g){return function(){var h,k=v.event.target,m=this.parentNode,l=e.of(this,arguments),w=0,r=a(),q=".drag"+(null==r?"":"-"+r),t=v.select(b(k)).on(f+q,function(){var a,b,e=c(m,r);e&&(a=e[0]-p[0],b=
e[1]-p[1],w|=a|b,p=e,l({type:"drag",x:e[0]+h[0],y:e[1]+h[1],dx:a,dy:b}))}).on(g+q,function(){c(m,r)&&(t.on(f+q,null).on(g+q,null),y(w&&v.event.target===k),l({type:"dragend"}))}),y=Y(k),p=c(m,r);d?(h=d.apply(this,arguments),h=[h.x-p[0],h.y-p[1]]):h=[0,0];l({type:"dragstart"})}}var e=J(a,"drag","dragstart","dragend"),d=null,f=c(B,v.mouse,b,"mousemove","mouseup"),g=c(Ka,v.touch,t,"touchmove","touchend");return a.origin=function(c){return arguments.length?(d=c,a):d},v.rebind(a,e,"on")};v.touches=function(a,
c){return 2>arguments.length&&(c=F().touches),c?Ob(c).map(function(c){var b=sa(a,c);return b.identifier=c.identifier,b}):[]};var P=1E-6,Pe=P*P,Z=Math.PI,Za=2*Z,ii=Za-P,Ba=Z/2,aa=Z/180,va=180/Z,Vd=Math.SQRT2;v.interpolateZoom=function(a,c){function b(a){var c=a*r;if(w){a=Ha(l);var b=f/(2*m),k=Vd*c+l;var q=((k=Math.exp(2*k))-1)/(k+1);var t=l;k=((t=Math.exp(t))-1/t)/2;b*=a*q-k;return[e+b*g,d+b*h,f*a/Ha(Vd*c+l)]}return[e+a*g,d+a*h,f*Math.exp(Vd*c)]}var e=a[0],d=a[1],f=a[2];a=c[2];var g=c[0]-e,h=c[1]-
d,k=g*g+h*h,m=Math.sqrt(k);c=(a*a-f*f+4*k)/(4*f*m);k=(a*a-f*f-4*k)/(4*a*m);var l=Math.log(Math.sqrt(c*c+1)-c),w=Math.log(Math.sqrt(k*k+1)-k)-l,r=(w||Math.log(a/f))/Vd;return b.duration=1E3*r,b};v.behavior.zoom=function(){function a(a){a.on(M,l).on(kf+".zoom",q).on("dblclick.zoom",t).on(L,r)}function c(a){return[(a[0]-D.x)/D.k,(a[1]-D.y)/D.k]}function e(a){D.k=Math.max(E[0],Math.min(E[1],a))}function d(a,c){c=[c[0]*D.k+D.x,c[1]*D.k+D.y];D.x+=a[0]-c[0];D.y+=a[1]-c[1]}function f(c,b,f,g){c.__chart__=
{x:D.x,y:D.y,k:D.k};e(Math.pow(2,g));d(p=b,f);c=v.select(c);0<O&&(c=c.transition().duration(O));c.call(a.event)}function g(){x&&x.domain(z.range().map(function(a){return(a-D.x)/D.k}).map(z.invert));F&&F.domain(C.range().map(function(a){return(a-D.y)/D.k}).map(C.invert))}function h(a){Q++||a({type:"zoomstart"})}function k(a){g();a({type:"zoom",scale:D.k,translate:[D.x,D.y]})}function m(a){--Q||a({type:"zoomend"});p=null}function l(){var a=this,e=v.event.target,f=ka.of(a,arguments),g=0,l=v.select(b(a)).on(I,
function(){g=1;d(v.mouse(a),w);k(f)}).on(T,function(){l.on(I,null).on(T,null);r(g&&v.event.target===e);m(f)}),w=c(v.mouse(a)),r=Y(a);Wd.call(a);h(f)}function r(){function a(){var a=v.touches(t);return q=D.k,a.forEach(function(a){a.identifier in p&&(p[a.identifier]=c(a))}),a}function b(){var c=v.event.target;v.select(c).on(H,g).on(z,w);x.push(c);c=v.event.changedTouches;for(var b=0,e=c.length;e>b;++b)p[c[b].identifier]=null;b=a();e=Date.now();1===b.length?(500>e-B&&(c=b[0],f(t,c,p[c.identifier],Math.floor(Math.log(D.k)/
Math.LN2)+1),G()),B=e):1<b.length&&(c=b[0],e=b[1],b=c[0]-e[0],c=c[1]-e[1],n=b*b+c*c)}function g(){var a,c,b=v.touches(t);Wd.call(t);for(var f=0,g=b.length;g>f;++f,c=null)if(a=b[f],c=p[a.identifier]){if(m)break;var h=a;var m=c}if(c){var l=(l=a[0]-h[0])*l+(l=a[1]-h[1])*l;b=n&&Math.sqrt(l/n);h=[(h[0]+a[0])/2,(h[1]+a[1])/2];m=[(m[0]+c[0])/2,(m[1]+c[1])/2];e(b*q)}B=null;d(h,m);k(y)}function w(){if(v.event.touches.length){for(var c=v.event.changedTouches,b=0,e=c.length;e>b;++b)delete p[c[b].identifier];
for(var d in p)return void a()}v.selectAll(x).on(A,null);C.on(M,l).on(L,r);V();m(y)}var q,t=this,y=ka.of(t,arguments),p={},n=0,A=".zoom-"+v.event.changedTouches[0].identifier,H="touchmove"+A,z="touchend"+A,x=[],C=v.select(t),V=Y(t);b();h(y);C.on(M,null).on(L,b)}function q(){var a=ka.of(this,arguments);A?clearTimeout(A):(y=c(p=n||v.mouse(this)),Wd.call(this),h(a));A=setTimeout(function(){A=null;m(a)},50);G();e(Math.pow(2,.002*Xd())*D.k);d(p,y);k(a)}function t(){var a=v.mouse(this),b=Math.log(D.k)/
Math.LN2;f(this,a,c(a),v.event.shiftKey?Math.ceil(b)-1:Math.floor(b)+1)}var y,p,n,A,B,z,x,C,F,D={x:0,y:0,k:1},u=[960,500],E=Gg,O=250,Q=0,M="mousedown.zoom",I="mousemove.zoom",T="mouseup.zoom",L="touchstart.zoom",ka=J(a,"zoomstart","zoom","zoomend");return kf||(kf="onwheel"in Sa?(Xd=function(){return-v.event.deltaY*(v.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Sa?(Xd=function(){return v.event.wheelDelta},"mousewheel"):(Xd=function(){return-v.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=
ka.of(this,arguments),c=D;hc?v.select(this).transition().each("start.zoom",function(){D=this.__chart__||{x:0,y:0,k:1};h(a)}).tween("zoom:zoom",function(){var b=u[0],e=u[1],d=p?p[0]:b/2,f=p?p[1]:e/2,g=v.interpolateZoom([(d-D.x)/D.k,(f-D.y)/D.k,b/D.k],[(d-c.x)/c.k,(f-c.y)/c.k,b/c.k]);return function(c){c=g(c);var e=b/c[2];this.__chart__=D={x:d-c[0]*e,y:f-c[1]*e,k:e};k(a)}}).each("interrupt.zoom",function(){m(a)}).each("end.zoom",function(){m(a)}):(this.__chart__=D,h(a),k(a),m(a))})},a.translate=function(c){return arguments.length?
(D={x:+c[0],y:+c[1],k:D.k},g(),a):[D.x,D.y]},a.scale=function(c){return arguments.length?(D={x:D.x,y:D.y,k:+c},g(),a):D.k},a.scaleExtent=function(c){return arguments.length?(E=null==c?Gg:[+c[0],+c[1]],a):E},a.center=function(c){return arguments.length?(n=c&&[+c[0],+c[1]],a):n},a.size=function(c){return arguments.length?(u=c&&[+c[0],+c[1]],a):u},a.duration=function(c){return arguments.length?(O=+c,a):O},a.x=function(c){return arguments.length?(x=c,z=c.copy(),D={x:0,y:0,k:1},a):x},a.y=function(c){return arguments.length?
(F=c,C=c.copy(),D={x:0,y:0,k:1},a):F},v.rebind(a,ka,"on")};var Xd,kf,Gg=[0,1/0];v.color=p;p.prototype.toString=function(){return this.rgb()+""};v.hsl=Fa;var lf=Fa.prototype=new p;lf.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new Fa(this.h,this.s,this.l/a)};lf.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Fa(this.h,this.s,a*this.l)};lf.rgb=function(){return Ga(this.h,this.s,this.l)};v.hcl=ua;var mf=ua.prototype=new p;mf.brighter=function(a){return new ua(this.h,
this.c,Math.min(100,this.l+Yd*(arguments.length?a:1)))};mf.darker=function(a){return new ua(this.h,this.c,Math.max(0,this.l-Yd*(arguments.length?a:1)))};mf.rgb=function(){return db(this.h,this.c,this.l).rgb()};v.lab=xa;var Yd=18,Of=.95047,Pf=1,Qf=1.08883,nf=xa.prototype=new p;nf.brighter=function(a){return new xa(Math.min(100,this.l+Yd*(arguments.length?a:1)),this.a,this.b)};nf.darker=function(a){return new xa(Math.max(0,this.l-Yd*(arguments.length?a:1)),this.a,this.b)};nf.rgb=function(){return yb(this.l,
this.a,this.b)};v.rgb=W;var Zd=W.prototype=new p;Zd.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var c=this.r,b=this.g,e=this.b;return c||b||e?(c&&30>c&&(c=30),b&&30>b&&(b=30),e&&30>e&&(e=30),new W(Math.min(255,c/a),Math.min(255,b/a),Math.min(255,e/a))):new W(30,30,30)};Zd.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new W(a*this.r,a*this.g,a*this.b)};Zd.hsl=function(){return Ma(this.r,this.g,this.b)};Zd.toString=function(){return"#"+U(this.r)+U(this.g)+U(this.b)};var Dd=
v.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Dd.forEach(function(a,c){Dd.set(a,new W(c>>16,c>>8&255,255&c))});v.functor=ea;v.xhr=Ra(t);v.dsv=function(a,c){function b(a,b,f){3>arguments.length&&(f=b,b=null);var g=Qa(a,c,null==b?e:d(b),f);return g.row=function(a){return arguments.length?g.response(null==(b=a)?e:d(a)):b},g}function e(a){return b.parse(a.responseText)}function d(a){return function(c){return b.parse(c.responseText,
a)}}function f(c){return c.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),k=a.charCodeAt(0);return b.parse=function(a,c){var e;return b.parseRows(a,function(a,b){if(e)return e(a,b-1);var d=new Function("d","return {"+a.map(function(a,c){return JSON.stringify(a)+": d["+c+"]"}).join(",")+"}");e=c?function(a,b){return c(d(a),b)}:d})},b.parseRows=function(a,c){function b(){if(l>=m)return g;if(d)return d=!1,f;var c=l;if(34===a.charCodeAt(c)){for(var b=
c;b++<m;)if(34===a.charCodeAt(b)){if(34!==a.charCodeAt(b+1))break;++b}l=b+2;var e=a.charCodeAt(b+1);return 13===e?(d=!0,10===a.charCodeAt(b+2)&&++l):10===e&&(d=!0),a.slice(c+1,b).replace(/""/g,'"')}for(;m>l;){e=a.charCodeAt(l++);b=1;if(10===e)d=!0;else if(13===e)d=!0,10===a.charCodeAt(l)&&(++l,++b);else if(e!==k)continue;return a.slice(c,l-b)}return a.slice(c)}for(var e,d,f={},g={},h=[],m=a.length,l=0,w=0;(e=b())!==g;){for(var r=[];e!==f&&e!==g;)r.push(e),e=b();c&&null==(r=c(r,w++))||h.push(r)}return h},
b.format=function(c){if(Array.isArray(c[0]))return b.formatRows(c);var e=new z,d=[];return c.forEach(function(a){for(var c in a)e.has(c)||d.push(e.add(c))}),[d.map(g).join(a)].concat(c.map(function(c){return d.map(function(a){return g(c[a])}).join(a)})).join("\n")},b.formatRows=function(a){return a.map(f).join("\n")},b};v.csv=v.dsv(",","text/csv");v.tsv=v.dsv("\t","text/tab-separated-values");var Gd,Hd,Fd,Ed,Db,Rf=this[r(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};v.timer=function(a,
c,b){var e=arguments.length;2>e&&(c=0);3>e&&(b=Date.now());e={c:a,t:b+c,f:!1,n:null};Hd?Hd.n=e:Gd=e;Hd=e;Fd||(Ed=clearTimeout(Ed),Fd=1,Rf(Ea))};v.timer.flush=function(){Hb();Kb()};v.round=function(a,c){return c?Math.round(a*(c=Math.pow(10,c)))/c:Math.round(a)};var ji="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,c){var b=Math.pow(10,3*ba(8-c));return{scale:8<c?function(a){return a/b}:function(a){return a*b},symbol:a}});v.formatPrefix=function(a,c){var b=0;return a&&(0>a&&(a*=-1),
c&&(a=v.round(a,Lb(a,c))),b=1+Math.floor(1E-12+Math.log(a)/Math.LN10),b=Math.max(-24,Math.min(24,3*Math.floor((b-1)/3)))),ji[8+b/3]};var Sf=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Dh=v.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,c){return a.toPrecision(c)},e:function(a,c){return a.toExponential(c)},
f:function(a,c){return a.toFixed(c)},r:function(a,c){return(a=v.round(a,Lb(a,c))).toFixed(Math.max(0,Math.min(20,Lb(a*(1+1E-15),c))))}}),R=v.time={},Na=Date;Va.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},
getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Fb.setUTCDate.apply(this._,arguments)},setDay:function(){Fb.setUTCDay.apply(this._,arguments)},setFullYear:function(){Fb.setUTCFullYear.apply(this._,arguments)},setHours:function(){Fb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Fb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Fb.setUTCMinutes.apply(this._,
arguments)},setMonth:function(){Fb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Fb.setUTCSeconds.apply(this._,arguments)},setTime:function(){Fb.setTime.apply(this._,arguments)}};var Fb=Date.prototype;R.year=kb(function(a){return a=R.day(a),a.setMonth(0,1),a},function(a,c){a.setFullYear(a.getFullYear()+c)},function(a){return a.getFullYear()});R.years=R.year.range;R.years.utc=R.year.utc.range;R.day=kb(function(a){var c=new Na(2E3,0);return c.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),
c},function(a,c){a.setDate(a.getDate()+c)},function(a){return a.getDate()-1});R.days=R.day.range;R.days.utc=R.day.utc.range;R.dayOfYear=function(a){var c=R.year(a);return Math.floor((a-c-6E4*(a.getTimezoneOffset()-c.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,c){c=7-c;var b=R[a]=kb(function(a){return(a=R.day(a)).setDate(a.getDate()-(a.getDay()+c)%7),a},function(a,c){a.setDate(a.getDate()+7*Math.floor(c))},function(a){var b=
R.year(a).getDay();return Math.floor((R.dayOfYear(a)+(b+c)%7)/7)-(b!==c)});R[a+"s"]=b.range;R[a+"s"].utc=b.utc.range;R[a+"OfYear"]=function(a){var b=R.year(a).getDay();return Math.floor((R.dayOfYear(a)+(b+c)%7)/7)}});R.week=R.sunday;R.weeks=R.sunday.range;R.weeks.utc=R.sunday.utc.range;R.weekOfYear=R.sundayOfYear;var Tf={"-":"",_:" ",0:"0"},Ca=/^\s*\d+/,Uf=/^%/;v.locale=function(a){return{numberFormat:Mc(a),timeFormat:ld(a)}};var Hg=v.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],
dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});v.format=Hg.numberFormat;v.geo={};Zb.prototype={s:0,t:0,add:function(a){pd(a,this.t,$d);pd($d.s,this.s,this);this.s?
this.t+=$d.t:this.s=$d.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var $d=new Zb;v.geo.stream=function(a,c){a&&Ig.hasOwnProperty(a.type)?Ig[a.type](a,c):oc(a,c)};var Ig={Feature:function(a,c){oc(a.geometry,c)},FeatureCollection:function(a,c){a=a.features;for(var b=-1,e=a.length;++b<e;)oc(a[b].geometry,c)}},Vf={Sphere:function(a,c){c.sphere()},Point:function(a,c){a=a.coordinates;c.point(a[0],a[1],a[2])},MultiPoint:function(a,c){for(var b=a.coordinates,e=-1,d=b.length;++e<
d;)a=b[e],c.point(a[0],a[1],a[2])},LineString:function(a,c){Dc(a.coordinates,c,0)},MultiLineString:function(a,c){a=a.coordinates;for(var b=-1,e=a.length;++b<e;)Dc(a[b],c,0)},Polygon:function(a,c){qd(a.coordinates,c)},MultiPolygon:function(a,c){a=a.coordinates;for(var b=-1,e=a.length;++b<e;)qd(a[b],c)},GeometryCollection:function(a,c){a=a.geometries;for(var b=-1,e=a.length;++b<e;)oc(a[b],c)}};v.geo.area=function(a){return ae=0,v.geo.stream(a,Ya),ae};var ae,cc=new Zb,Ya={sphere:function(){ae+=4*Z},
point:B,lineStart:B,lineEnd:B,polygonStart:function(){cc.reset();Ya.lineStart=De},polygonEnd:function(){var a=2*cc;ae+=0>a?4*Z+a:a;Ya.lineStart=Ya.lineEnd=Ya.point=B}};v.geo.bounds=function(){function a(a,c){x.push(z=[l=a,q=a]);r>c&&(r=c);c>t&&(t=c)}function c(c,b){var e=ob([c*aa,b*aa]);if(A){var d=Wa(A,e);d=Wa([d[1],-d[0],0],d);$b(d);d=qc(d);var f=c-y,g=0<f?1:-1,k=d[0]*va*g;f=180<ba(f);f^(k>g*y&&g*c>k)?(b=d[1]*va,b>t&&(t=b)):(k=(k+360)%360-180,f^(k>g*y&&g*c>k))?(b=-d[1]*va,r>b&&(r=b)):(r>b&&(r=b),
b>t&&(t=b));f?y>c?h(l,c)>h(l,q)&&(q=c):h(c,q)>h(l,q)&&(l=c):q>=l?(l>c&&(l=c),c>q&&(q=c)):c>y?h(l,c)>h(l,q)&&(q=c):h(c,q)>h(l,q)&&(l=c)}else a(c,b);A=e;y=c}function b(){C.point=c}function e(){z[0]=l;z[1]=q;C.point=a;A=null}function d(a,b){if(A){var e=a-y;B+=180<ba(e)?e+(0<e?360:-360):e}else p=a,n=b;Ya.point(a,b);c(a,b)}function f(){Ya.lineStart()}function g(){d(p,n);Ya.lineEnd();ba(B)>P&&(l=-(q=180));z[0]=l;z[1]=q;A=null}function h(a,c){return 0>(c-=a)?c+360:c}function k(a,c){return a[0]-c[0]}function m(a,
c){return c[0]<=c[1]?c[0]<=a&&a<=c[1]:a<c[0]||c[1]<a}var l,r,q,t,y,p,n,A,B,x,z,C={point:a,lineStart:b,lineEnd:e,polygonStart:function(){C.point=d;C.lineStart=f;C.lineEnd=g;B=0;Ya.polygonStart()},polygonEnd:function(){Ya.polygonEnd();C.point=a;C.lineStart=b;C.lineEnd=e;0>cc?(l=-(q=180),r=-(t=90)):B>P?t=90:-P>B&&(r=-90);z[0]=l;z[1]=q}};return function(a){t=q=-(l=r=1/0);x=[];v.geo.stream(a,C);if(a=x.length){x.sort(k);for(var c,b=1,e=x[0],d=[e];a>b;++b)c=x[b],m(c[0],e)||m(c[1],e)?(h(e[0],c[1])>h(e[0],
e[1])&&(e[1]=c[1]),h(c[0],e[1])>h(e[0],e[1])&&(e[0]=c[0])):d.push(e=c);var f,g=-1/0;a=d.length-1;b=0;for(e=d[a];a>=b;e=c,++b)c=d[b],(f=h(e[1],c[0]))>g&&(g=f,l=c[0],q=e[1])}return x=z=null,1/0===l||1/0===r?[[0/0,0/0],[0/0,0/0]]:[[l,r],[q,t]]}}();v.geo.centroid=function(a){Wc=Jd=dc=ec=Eb=Pb=Qb=sb=wc=xc=Rb=0;v.geo.stream(a,hb);a=wc;var c=xc,b=Rb,e=a*a+c*c+b*b;return Pe>e&&(a=Pb,c=Qb,b=sb,P>Jd&&(a=dc,c=ec,b=Eb),e=a*a+c*c+b*b,Pe>e)?[0/0,0/0]:[Math.atan2(c,a)*va,Aa(b/Math.sqrt(e))*va]};var Wc,Jd,dc,ec,
Eb,Pb,Qb,sb,wc,xc,Rb,hb={sphere:B,point:vb,lineStart:zb,lineEnd:eb,polygonStart:function(){hb.lineStart=Oc},polygonEnd:function(){hb.lineStart=zb}},Wf=sc(fb,function(a){var c,b=0/0,e=0/0,d=0/0;return{lineStart:function(){a.lineStart();c=1},point:function(f,g){var h=0<f?Z:-Z,k=ba(f-b);if(ba(k-Z)<P)a.point(b,e=0<(e+g)/2?Ba:-Ba),a.point(d,e),a.lineEnd(),a.lineStart(),a.point(h,e),a.point(f,e),c=0;else if(d!==h&&k>=Z){ba(b-d)<P&&(b-=d*P);ba(f-h)<P&&(f-=h*P);k=b;var m=e,l=f,r,q,w=Math.sin(k-l);e=ba(w)>
P?Math.atan((Math.sin(m)*(q=Math.cos(g))*Math.sin(l)-Math.sin(g)*(r=Math.cos(m))*Math.sin(k))/(r*q*w)):(m+g)/2;a.point(d,e);a.lineEnd();a.lineStart();a.point(h,e);c=0}a.point(b=f,e=g);d=h},lineEnd:function(){a.lineEnd();b=e=0/0},clean:function(){return 2-c}}},function(a,c,b,e){null==a?(b*=Ba,e.point(-Z,b),e.point(0,b),e.point(Z,b),e.point(Z,0),e.point(Z,-b),e.point(0,-b),e.point(-Z,-b),e.point(-Z,0),e.point(-Z,b)):ba(a[0]-c[0])>P?(a=a[0]<c[0]?Z:-Z,b=b*a/2,e.point(-a,b),e.point(0,b),e.point(a,b)):
e.point(c[0],c[1])},[-Z,-Z/2]),Kd=1E9;v.geo.clipExtent=function(){var a,c,b,e,d,f,g={stream:function(a){return d&&(d.valid=!1),d=f(a),d.valid=!0,d},extent:function(h){return arguments.length?(f=td(a=+h[0][0],c=+h[0][1],b=+h[1][0],e=+h[1][1]),d&&(d.valid=!1,d=null),g):[[a,c],[b,e]]}};return g.extent([[0,0],[960,500]])};(v.geo.conicEqualArea=function(){return Rc(ud)}).raw=ud;v.geo.albers=function(){return v.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};v.geo.albersUsa=
function(){function a(a){var f=a[0];a=a[1];return c=null,b(f,a),c||(e(f,a),c)||d(f,a),c}var c,b,e,d,f=v.geo.albers(),g=v.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=v.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),k={point:function(a,b){c=[a,b]}};return a.invert=function(a){var c=f.scale(),b=f.translate(),e=(a[0]-b[0])/c;c=(a[1]-b[1])/c;return(.12<=c&&.234>c&&-.425<=e&&-.214>e?g:.166<=c&&.234>c&&-.214<=e&&-.115>e?h:f).invert(a)},a.stream=function(a){var c=
f.stream(a),b=g.stream(a),e=h.stream(a);return{point:function(a,d){c.point(a,d);b.point(a,d);e.point(a,d)},sphere:function(){c.sphere();b.sphere();e.sphere()},lineStart:function(){c.lineStart();b.lineStart();e.lineStart()},lineEnd:function(){c.lineEnd();b.lineEnd();e.lineEnd()},polygonStart:function(){c.polygonStart();b.polygonStart();e.polygonStart()},polygonEnd:function(){c.polygonEnd();b.polygonEnd();e.polygonEnd()}}},a.precision=function(c){return arguments.length?(f.precision(c),g.precision(c),
h.precision(c),a):f.precision()},a.scale=function(c){return arguments.length?(f.scale(c),g.scale(.35*c),h.scale(c),a.translate(f.translate())):f.scale()},a.translate=function(c){if(!arguments.length)return f.translate();var m=f.scale(),l=+c[0],r=+c[1];return b=f.translate(c).clipExtent([[l-.455*m,r-.238*m],[l+.455*m,r+.238*m]]).stream(k).point,e=g.translate([l-.307*m,r+.201*m]).clipExtent([[l-.425*m+P,r+.12*m+P],[l-.214*m-P,r+.234*m-P]]).stream(k).point,d=h.translate([l-.205*m,r+.212*m]).clipExtent([[l-
.214*m+P,r+.166*m+P],[l-.115*m-P,r+.234*m-P]]).stream(k).point,a},a.scale(1070)};var of,Oe,be,ce,de,ee,Sb={point:B,lineStart:B,lineEnd:B,polygonStart:function(){Oe=0;Sb.lineStart=vd},polygonEnd:function(){Sb.lineStart=Sb.lineEnd=Sb.point=B;of+=ba(Oe/2)}},ki={point:function(a,c){be>a&&(be=a);a>de&&(de=a);ce>c&&(ce=c);c>ee&&(ee=c)},lineStart:B,lineEnd:B,polygonStart:B,polygonEnd:B},ib={point:qb,lineStart:rb,lineEnd:Ab,polygonStart:function(){ib.lineStart=Ge},polygonEnd:function(){ib.point=qb;ib.lineStart=
rb;ib.lineEnd=Ab}};v.geo.path=function(){function a(a){return a&&("function"==typeof g&&d.pointRadius(+g.apply(this,arguments)),f&&f.valid||(f=e(d)),v.geo.stream(a,f)),d.result()}var c,b,e,d,f,g=4.5;return a.area=function(a){return of=0,v.geo.stream(a,e(Sb)),of},a.centroid=function(a){return dc=ec=Eb=Pb=Qb=sb=wc=xc=Rb=0,v.geo.stream(a,e(ib)),Rb?[wc/Rb,xc/Rb]:sb?[Pb/sb,Qb/sb]:Eb?[dc/Eb,ec/Eb]:[0/0,0/0]},a.bounds=function(a){return de=ee=-(be=ce=1/0),v.geo.stream(a,e(ki)),[[be,ce],[de,ee]]},a.projection=
function(b){return arguments.length?(e=(c=b)?b.stream||He(b):t,f=null,a):c},a.context=function(c){return arguments.length?(d=null==(b=c)?new wd:new me(c),"function"!=typeof g&&d.pointRadius(g),f=null,a):b},a.pointRadius=function(c){return arguments.length?(g="function"==typeof c?c:(d.pointRadius(+c),+c),a):g},a.projection(v.geo.albersUsa()).context(null)};v.geo.transform=function(a){return{stream:function(c){c=new xd(c);for(var b in a)c[b]=a[b];return c}}};xd.prototype={point:function(a,c){this.stream.point(a,
c)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};v.geo.projection=Xa;v.geo.projectionMutator=Nb;(v.geo.equirectangular=function(){return Xa(Bb)}).raw=Bb.invert=Bb;v.geo.rotation=function(a){function c(c){return c=a(c[0]*aa,c[1]*aa),c[0]*=va,c[1]*=va,c}return a=uc(a[0]%360*aa,a[1]*aa,2<a.length?a[2]*aa:0),c.invert=function(c){return c=
a.invert(c[0]*aa,c[1]*aa),c[0]*=va,c[1]*=va,c},c};Uc.invert=Bb;v.geo.circle=function(){function a(){var a="function"==typeof e?e.apply(this,arguments):e,c=uc(-a[0]*aa,-a[1]*aa,0).invert,d=[];return b(null,null,1,{point:function(a,b){d.push(a=c(a,b));a[0]*=va;a[1]*=va}}),{type:"Polygon",coordinates:[d]}}var c,b,e=[0,0],d=6;return a.origin=function(c){return arguments.length?(e=c,a):e},a.angle=function(e){return arguments.length?(b=Gb((c=+e)*aa,d*aa),a):c},a.precision=function(e){return arguments.length?
(b=Gb(c*aa,(d=+e)*aa),a):d},a.angle(90)};v.geo.distance=function(a,c){var b,e=(c[0]-a[0])*aa,d=a[1]*aa,f=c[1]*aa;c=Math.cos(e);a=Math.sin(d);d=Math.cos(d);var g=Math.sin(f);f=Math.cos(f);return Math.atan2(Math.sqrt((b=f*Math.sin(e))*b+(b=d*g-a*f*c)*b),a*g+d*f*c)};v.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:c()}}function c(){return v.range(Math.ceil(f/n)*n,d,n).map(q).concat(v.range(Math.ceil(m/A)*A,k,A).map(t)).concat(v.range(Math.ceil(e/y)*y,b,y).filter(function(a){return ba(a%
n)>P}).map(l)).concat(v.range(Math.ceil(h/p)*p,g,p).filter(function(a){return ba(a%A)>P}).map(r))}var b,e,d,f,g,h,k,m,l,r,q,t,y=10,p=y,n=90,A=360,z=2.5;return a.lines=function(){return c().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[q(f).concat(t(k).slice(1),q(d).reverse().slice(1),t(m).reverse().slice(1))]}},a.extent=function(c){return arguments.length?a.majorExtent(c).minorExtent(c):a.minorExtent()},a.majorExtent=function(c){return arguments.length?
(f=+c[0][0],d=+c[1][0],m=+c[0][1],k=+c[1][1],f>d&&(c=f,f=d,d=c),m>k&&(c=m,m=k,k=c),a.precision(z)):[[f,m],[d,k]]},a.minorExtent=function(c){return arguments.length?(e=+c[0][0],b=+c[1][0],h=+c[0][1],g=+c[1][1],e>b&&(c=e,e=b,b=c),h>g&&(c=h,h=g,g=c),a.precision(z)):[[e,h],[b,g]]},a.step=function(c){return arguments.length?a.majorStep(c).minorStep(c):a.minorStep()},a.majorStep=function(c){return arguments.length?(n=+c[0],A=+c[1],a):[n,A]},a.minorStep=function(c){return arguments.length?(y=+c[0],p=+c[1],
a):[y,p]},a.precision=function(c){return arguments.length?(z=+c,l=ic(h,g,90),r=$c(e,b,z),q=ic(m,k,90),t=$c(f,d,z),a):z},a.majorExtent([[-180,-90+P],[180,90-P]]).minorExtent([[-180,-80-P],[180,80+P]])};v.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||e.apply(this,arguments),b||d.apply(this,arguments)]}}var c,b,e=ad,d=bd;return a.distance=function(){return v.geo.distance(c||e.apply(this,arguments),b||d.apply(this,arguments))},a.source=function(b){return arguments.length?
(e=b,c="function"==typeof b?null:b,a):e},a.target=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.precision=function(){return arguments.length?a:0},a};v.geo.interpolate=function(a,c){return Xg(a[0]*aa,a[1]*aa,c[0]*aa,c[1]*aa)};v.geo.length=function(a){return pf=0,v.geo.stream(a,Bc),pf};var pf,Bc={sphere:B,point:B,lineStart:function(){function a(a,d){var f=Math.sin(d*=aa);d=Math.cos(d);var g=ba((a*=aa)-c),h=Math.cos(g);pf+=Math.atan2(Math.sqrt((g=d*Math.sin(g))*g+(g=
e*f-b*d*h)*g),b*f+e*d*h);c=a;b=f;e=d}var c,b,e;Bc.point=function(d,f){c=d*aa;b=Math.sin(f*=aa);e=Math.cos(f);Bc.point=a};Bc.lineEnd=function(){Bc.point=Bc.lineEnd=B}},lineEnd:B,polygonStart:B,polygonEnd:B},Jg=Cc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(v.geo.azimuthalEqualArea=function(){return Xa(Jg)}).raw=Jg;var Kg=Cc(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},t);(v.geo.azimuthalEquidistant=function(){return Xa(Kg)}).raw=Kg;(v.geo.conicConformal=function(){return Rc(ke)}).raw=
ke;(v.geo.conicEquidistant=function(){return Rc(tf)}).raw=tf;var Lg=Cc(function(a){return 1/a},Math.atan);(v.geo.gnomonic=function(){return Xa(Lg)}).raw=Lg;dd.invert=function(a,c){return[a,2*Math.atan(Math.exp(c))-Ba]};(v.geo.mercator=function(){return ed(dd)}).raw=dd;var Mg=Cc(function(){return 1},Math.asin);(v.geo.orthographic=function(){return Xa(Mg)}).raw=Mg;var Ng=Cc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(v.geo.stereographic=function(){return Xa(Ng)}).raw=Ng;oe.invert=
function(a,c){return[-c,2*Math.atan(Math.exp(a))-Ba]};(v.geo.transverseMercator=function(){var a=ed(oe),c=a.center,b=a.rotate;return a.center=function(a){return a?c([-a[1],a[0]]):(a=c(),[a[1],-a[0]])},a.rotate=function(a){return a?b([a[0],a[1],2<a.length?a[2]+90:90]):(a=b(),[a[0],a[1],a[2]-90])},b([0,0,90])}).raw=oe;v.geom={};v.geom.hull=function(a){function c(a){if(3>a.length)return[];var c,d=ea(b),f=ea(e),g=a.length,h=[],k=[];for(c=0;g>c;c++)h.push([+d.call(this,a[c],c),+f.call(this,a[c],c),c]);
h.sort(ph);for(c=0;g>c;c++)k.push([h[c][0],-h[c][1]]);d=Bf(h);k=Bf(k);f=k[0]===d[0];g=k[k.length-1]===d[d.length-1];var m=[];for(c=d.length-1;0<=c;--c)m.push(a[h[d[c]][2]]);for(c=+f;c<k.length-g;++c)m.push(a[h[k[c]][2]]);return m}var b=Jb,e=Hc;return arguments.length?c(a):(c.x=function(a){return arguments.length?(b=a,c):b},c.y=function(a){return arguments.length?(e=a,c):e},c)};v.geom.polygon=function(a){return Bd(a,fe),a};var fe=v.geom.polygon.prototype=[];fe.area=function(){for(var a,c=-1,b=this.length,
e=this[b-1],d=0;++c<b;)a=e,e=this[c],d+=a[1]*e[0]-a[0]*e[1];return.5*d};fe.centroid=function(a){var c=-1,b=this.length,e=0,d=0,f=this[b-1];for(arguments.length||(a=-1/(6*this.area()));++c<b;){var g=f;f=this[c];var h=g[0]*f[1]-f[0]*g[1];e+=(g[0]+f[0])*h;d+=(g[1]+f[1])*h}return[e*a,d*a]};fe.clip=function(a){for(var c,b,e,d,f,g,h=Cf(a),k=-1,m=this.length-Cf(this),l=this[m-1];++k<m;){c=a.slice();a.length=0;d=this[k];f=c[(e=c.length-h)-1];for(b=-1;++b<e;)g=c[b],re(g,l,d)?(re(f,l,d)||a.push(te(f,g,l,d)),
a.push(g)):re(f,l,d)&&a.push(te(f,g,l,d)),f=g;h&&a.push(a[0]);l=d}return a};var zc,fc,yc,Qe,Xc,Xf=[],Yf=[];xf.prototype.prepare=function(){for(var a,c=this.edges,b=c.length;b--;)a=c[b].edge,a.b&&a.a||c.splice(b,1);return c.sort(Ef),c.length};fd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};ve.prototype={insert:function(a,c){var b;if(a){if(c.P=a,c.N=a.N,a.N&&(a.N.P=c),a.N=c,a.R){for(a=a.R;a.L;)a=
a.L;a.L=c}else a.R=c;var e=a}else this._?(a=Ff(this._),c.P=null,c.N=a,a.P=a.L=c,e=a):(c.P=c.N=null,this._=c,e=null);c.L=c.R=null;c.U=e;c.C=!0;for(a=c;e&&e.C;)c=e.U,e===c.L?(b=c.R,b&&b.C?(e.C=b.C=!1,c.C=!0,a=c):(a===e.R&&(Kc(this,e),a=e,e=a.U),e.C=!1,c.C=!0,Lc(this,c))):(b=c.L,b&&b.C?(e.C=b.C=!1,c.C=!0,a=c):(a===e.L&&(Lc(this,e),a=e,e=a.U),e.C=!1,c.C=!0,Kc(this,c))),e=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var c,b,e,d=a.U,f=a.L,g=a.R;if(b=f?g?Ff(g):f:g,d?
d.L===a?d.L=b:d.R=b:this._=b,f&&g?(e=b.C,b.C=a.C,b.L=f,f.U=b,b!==g?(d=b.U,b.U=a.U,a=b.R,d.L=a,b.R=g,g.U=b):(b.U=d,d=b,a=b.R)):(e=a.C,a=b),a&&(a.U=d),!e){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===d.L){if(c=d.R,c.C&&(c.C=!1,d.C=!0,Kc(this,d),c=d.R),c.L&&c.L.C||c.R&&c.R.C){c.R&&c.R.C||(c.L.C=!1,c.C=!0,Lc(this,c),c=d.R);c.C=d.C;d.C=c.R.C=!1;Kc(this,d);a=this._;break}}else if(c=d.L,c.C&&(c.C=!1,d.C=!0,Lc(this,d),c=d.L),c.L&&c.L.C||c.R&&c.R.C){c.L&&c.L.C||(c.R.C=!1,c.C=!0,Kc(this,c),c=
d.L);c.C=d.C;d.C=c.L.C=!1;Lc(this,d);a=this._;break}c.C=!0;a=d;d=d.U}while(!a.C);a&&(a.C=!1)}}};v.geom.voronoi=function(a){function c(a){var c=Array(a.length),e=h[0][0],d=h[0][1],f=h[1][0],g=h[1][1];return we(b(a),h).cells.forEach(function(b,h){var k=b.edges;b=b.site;(c[h]=k.length?k.map(function(a){a=a.start();return[a.x,a.y]}):b.x>=e&&b.x<=f&&b.y>=d&&b.y<=g?[[e,g],[f,g],[f,d],[e,d]]:[]).point=a[h]}),c}function b(a){return a.map(function(a,c){return{x:Math.round(f(a,c)/P)*P,y:Math.round(g(a,c)/P)*
P,i:c}})}var e=Jb,d=Hc,f=e,g=d,h=ge;return a?c(a):(c.links=function(a){return we(b(a)).edges.filter(function(a){return a.l&&a.r}).map(function(c){return{source:a[c.l.i],target:a[c.r.i]}})},c.triangles=function(a){var c=[];return we(b(a)).cells.forEach(function(b,e){var d=b.site,f=b.edges.sort(Ef),g=-1,h=f.length,k=f[h-1].edge;for(k=k.l===d?k.r:k.l;++g<h;)b=k,k=f[g].edge,k=k.l===d?k.r:k.l,e<b.i&&e<k.i&&0>(d.x-k.x)*(b.y-d.y)-(d.x-b.x)*(k.y-d.y)&&c.push([a[e],a[b.i],a[k.i]])}),c},c.x=function(a){return arguments.length?
(f=ea(e=a),c):e},c.y=function(a){return arguments.length?(g=ea(d=a),c):d},c.clipExtent=function(a){return arguments.length?(h=null==a?ge:a,c):h===ge?null:h},c.size=function(a){return arguments.length?c.clipExtent(a&&[[0,0],a]):h===ge?null:h&&h[1]},c)};var ge=[[-1E6,-1E6],[1E6,1E6]];v.geom.delaunay=function(a){return v.geom.voronoi().triangles(a)};v.geom.quadtree=function(a,c,b,e,d){function f(a){function f(a,c,b,e,d,f,g,h){if(!isNaN(b)&&!isNaN(e))if(a.leaf){var k=a.x,l=a.y;if(null!=k){if(!(.01>ba(k-
b)+ba(l-e))){var r=a.point;a.x=a.y=a.point=null;m(a,r,k,l,d,f,g,h)}m(a,c,b,e,d,f,g,h)}else a.x=b,a.y=e,a.point=c}else m(a,c,b,e,d,f,g,h)}function m(a,c,b,e,d,g,h,k){var m=.5*(d+h),l=.5*(g+k),r=b>=m,q=e>=l,t=q<<1|r;a.leaf=!1;a=a.nodes[t]||(a.nodes[t]=Gf());r?d=m:h=m;q?g=l:k=l;f(a,c,b,e,d,g,h,k)}var l,r,q,t,y=ea(h),w=ea(k);if(null!=c){var p=c;var n=b;var A=e;var z=d}else if(A=z=-(p=n=1/0),l=[],r=[],t=a.length,g)for(q=0;t>q;++q){var x=a[q];x.x<p&&(p=x.x);x.y<n&&(n=x.y);x.x>A&&(A=x.x);x.y>z&&(z=x.y);
l.push(x.x);r.push(x.y)}else for(q=0;t>q;++q){var B=+y(x=a[q],q);x=+w(x,q);p>B&&(p=B);n>x&&(n=x);B>A&&(A=B);x>z&&(z=x);l.push(B);r.push(x)}B=A-p;x=z-n;B>x?z=n+B:A=p+x;var C=Gf();if(C.add=function(a){f(C,a,+y(a,++q),+w(a,q),p,n,A,z)},C.visit=function(a){Ic(a,C,p,n,A,z)},C.find=function(a){return th(C,a[0],a[1],p,n,A,z)},q=-1,null==c){for(;++q<t;)f(C,a[q],l[q],r[q],p,n,A,z);--q}else a.forEach(C.add);return l=r=a=x=null,C}var g,h=Jb,k=Hc;return(g=arguments.length)?(h=sh,k=ch,3===g&&(d=b,e=c,b=c=0),f(a)):
(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(k=a,f):k},f.extent=function(a){return arguments.length?(null==a?c=b=e=d=null:(c=+a[0][0],b=+a[0][1],e=+a[1][0],d=+a[1][1]),f):null==c?null:[[c,b],[e,d]]},f.size=function(a){return arguments.length?(null==a?c=b=e=d=null:(c=b=0,e=+a[0],d=+a[1]),f):null==c?null:[e-c,d-b]},f)};v.interpolateRgb=xe;v.interpolateObject=Hf;v.interpolateNumber=xb;v.interpolateString=If;var Re=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
Se=new RegExp(Re.source,"g");v.interpolate=Wb;v.interpolators=[function(a,c){var b=typeof c;return("string"===b?Dd.has(c)||/^(#|rgb\(|hsl\()/.test(c)?xe:If:c instanceof p?xe:Array.isArray(c)?jd:"object"===b&&isNaN(c)?Hf:xb)(a,c)}];v.interpolateArray=jd;var Og=function(){return t},li=v.map({linear:Og,poly:function(a){return function(c){return Math.pow(c,a)}},quad:function(){return vh},cubic:function(){return wh},sin:function(){return bh},exp:function(){return fh},circle:function(){return eh},elastic:function(a,
c){var b;return 2>arguments.length&&(c=.45),arguments.length?b=c/Za*Math.asin(1/a):(a=1,b=c/4),function(e){return 1+a*Math.pow(2,-10*e)*Math.sin((e-b)*Za/c)}},back:function(a){return a||(a=1.70158),function(c){return c*c*((a+1)*c-a)}},bounce:function(){return yh}}),mi=v.map({"in":t,out:Jf,"in-out":Kf,"out-in":function(a){return Kf(Jf(a))}});v.ease=function(a){var c=a.indexOf("-"),b=0<=c?a.slice(0,c):a;c=0<=c?a.slice(c+1):"in";return b=li.get(b)||Og,c=mi.get(c)||t,uh(c(b.apply(null,Dg.call(arguments,
1))))};v.interpolateHcl=function(a,c){a=v.hcl(a);c=v.hcl(c);var b=a.h,e=a.c,d=a.l,f=c.h-b,g=c.c-e,h=c.l-d;return isNaN(g)&&(g=0,e=isNaN(e)?c.c:e),isNaN(f)?(f=0,b=isNaN(b)?c.h:b):180<f?f-=360:-180>f&&(f+=360),function(a){return db(b+f*a,e+g*a,d+h*a)+""}};v.interpolateHsl=function(a,c){a=v.hsl(a);c=v.hsl(c);var b=a.h,e=a.s,d=a.l,f=c.h-b,g=c.s-e,h=c.l-d;return isNaN(g)&&(g=0,e=isNaN(e)?c.s:e),isNaN(f)?(f=0,b=isNaN(b)?c.h:b):180<f?f-=360:-180>f&&(f+=360),function(a){return Ga(b+f*a,e+g*a,d+h*a)+""}};
v.interpolateLab=function(a,c){a=v.lab(a);c=v.lab(c);var b=a.l,e=a.a,d=a.b,f=c.l-b,g=c.a-e,h=c.b-d;return function(a){return yb(b+f*a,e+g*a,d+h*a)+""}};v.interpolateRound=Lf;v.transform=function(a){var c=Sa.createElementNS(v.ns.prefix.svg,"g");return(v.transform=function(a){if(null!=a){c.setAttribute("transform",a);var b=c.transform.baseVal.consolidate()}return new wa(b?b.matrix:ni)})(a)};wa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+
")scale("+this.scale+")"};var ni={a:1,b:0,c:0,d:1,e:0,f:0};v.interpolateTransform=yf;v.layout={};v.layout.bundle=function(){return function(a){for(var c=[],b=-1,e=a.length;++b<e;)c.push(dh(a[b]));return c}};v.layout.chord=function(){function a(){var a,m,r={},q=[],t=v.range(f),y=[];b=[];e=[];var p=0;for(a=-1;++a<f;){var w=0;for(m=-1;++m<f;)w+=d[a][m];q.push(w);y.push(v.range(f));p+=w}g&&t.sort(function(a,c){return g(q[a],q[c])});h&&y.forEach(function(a,c){a.sort(function(a,b){return h(d[c][a],d[c][b])})});
p=(Za-l*f)/p;w=0;for(a=-1;++a<f;){var n=w;for(m=-1;++m<f;){var A=t[a],x=y[A][m],z=d[A][x],B=w,C=w+=z*p;r[A+"-"+x]={index:A,subindex:x,startAngle:B,endAngle:C,value:z}}e[A]={index:A,startAngle:n,endAngle:w,value:(w-n)/p};w+=l}for(a=-1;++a<f;)for(m=a-1;++m<f;)p=r[a+"-"+m],w=r[m+"-"+a],(p.value||w.value)&&b.push(p.value<w.value?{source:w,target:p}:{source:p,target:w});k&&c()}function c(){b.sort(function(a,c){return k((a.source.value+a.target.value)/2,(c.source.value+c.target.value)/2)})}var b,e,d,f,
g,h,k,m={},l=0;return m.matrix=function(a){return arguments.length?(f=(d=a)&&d.length,b=e=null,m):d},m.padding=function(a){return arguments.length?(l=a,b=e=null,m):l},m.sortGroups=function(a){return arguments.length?(g=a,b=e=null,m):g},m.sortSubgroups=function(a){return arguments.length?(h=a,b=null,m):h},m.sortChords=function(a){return arguments.length?(k=a,b&&c(),m):k},m.chords=function(){return b||a(),b},m.groups=function(){return e||a(),e},m};v.layout.force=function(){function a(a){return function(c,
b,e,d){if(c.point!==a){e=c.cx-a.x;var f=c.cy-a.y;b=d-b;d=e*e+f*f;if(d>b*b/A)return p>d&&(b=c.charge/d,a.px-=e*b,a.py-=f*b),!0;c.point&&d&&p>d&&(b=c.pointCharge/d,a.px-=e*b,a.py-=f*b)}return!c.charge}}function c(a){a.px=v.event.x;a.py=v.event.y;h.resume()}var b,e,d,f,g,h={},k=v.dispatch("start","tick","end"),m=[1,1],l=.9,r=oi,q=pi,y=-30,p=qi,n=.1,A=.64,x=[],z=[];return h.tick=function(){if(.005>(e*=.99))return k.end({type:"end",alpha:e=0}),!0;var c,b,h,r=x.length,q=z.length;for(c=0;q>c;++c){var t=
z[c];var p=t.source;var w=t.target;var A=w.x-p.x;var B=w.y-p.y;(b=A*A+B*B)&&(b=e*f[c]*((b=Math.sqrt(b))-d[c])/b,A*=b,B*=b,w.x-=A*(h=p.weight/(w.weight+p.weight)),w.y-=B*h,p.x+=A*(h=1-h),p.y+=B*h)}if((h=e*n)&&(A=m[0]/2,B=m[1]/2,c=-1,h))for(;++c<r;)t=x[c],t.x+=(A-t.x)*h,t.y+=(B-t.y)*h;if(y)for(wf(p=v.geom.quadtree(x),e,g),c=-1;++c<r;)(t=x[c]).fixed||p.visit(a(t));for(c=-1;++c<r;)t=x[c],t.fixed?(t.x=t.px,t.y=t.py):(t.x-=(t.px-(t.px=t.x))*l,t.y-=(t.py-(t.py=t.y))*l);k.tick({type:"tick",alpha:e})},h.nodes=
function(a){return arguments.length?(x=a,h):x},h.links=function(a){return arguments.length?(z=a,h):z},h.size=function(a){return arguments.length?(m=a,h):m},h.linkDistance=function(a){return arguments.length?(r="function"==typeof a?a:+a,h):r},h.distance=h.linkDistance,h.linkStrength=function(a){return arguments.length?(q="function"==typeof a?a:+a,h):q},h.friction=function(a){return arguments.length?(l=+a,h):l},h.charge=function(a){return arguments.length?(y="function"==typeof a?a:+a,h):y},h.chargeDistance=
function(a){return arguments.length?(p=a*a,h):Math.sqrt(p)},h.gravity=function(a){return arguments.length?(n=+a,h):n},h.theta=function(a){return arguments.length?(A=a*a,h):Math.sqrt(A)},h.alpha=function(a){return arguments.length?(a=+a,e?e=0<a?a:0:0<a&&(k.start({type:"start",alpha:e=a}),v.timer(h.tick)),h):e},h.start=function(){function a(a,e){if(!b){b=Array(k);for(g=0;k>g;++g)b[g]=[];for(g=0;l>g;++g){var d=z[g];b[d.source.index].push(d.target);b[d.target.index].push(d.source)}}for(var f=b[c],g=-1,
h=f.length;++g<h;)if(!isNaN(d=f[g][a]))return d;return Math.random()*e}var c,b,e,k=x.length,l=z.length,t=m[0],p=m[1];for(c=0;k>c;++c)(e=x[c]).index=c,e.weight=0;for(c=0;l>c;++c)e=z[c],"number"==typeof e.source&&(e.source=x[e.source]),"number"==typeof e.target&&(e.target=x[e.target]),++e.source.weight,++e.target.weight;for(c=0;k>c;++c)e=x[c],isNaN(e.x)&&(e.x=a("x",t)),isNaN(e.y)&&(e.y=a("y",p)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(d=[],"function"==typeof r)for(c=0;l>c;++c)d[c]=+r.call(this,
z[c],c);else for(c=0;l>c;++c)d[c]=r;if(f=[],"function"==typeof q)for(c=0;l>c;++c)f[c]=+q.call(this,z[c],c);else for(c=0;l>c;++c)f[c]=q;if(g=[],"function"==typeof y)for(c=0;k>c;++c)g[c]=+y.call(this,x[c],c);else for(c=0;k>c;++c)g[c]=y;return h.resume()},h.resume=function(){return h.alpha(.1)},h.stop=function(){return h.alpha(0)},h.drag=function(){return b||(b=v.behavior.drag().origin(t).on("dragstart.force",Yg).on("drag.force",c).on("dragend.force",uf)),arguments.length?void this.on("mouseover.force",
vf).on("mouseout.force",Zg).call(b):b},v.rebind(h,k,"on")};var oi=20,pi=1,qi=1/0;v.layout.hierarchy=function(){function a(d){var f,g=[d],h=[];for(d.depth=0;null!=(f=g.pop());)if(h.push(f),(m=b.call(a,f,f.depth))&&(k=m.length)){for(var k,m,l;0<=--k;)g.push(l=m[k]),l.parent=f,l.depth=f.depth+1;e&&(f.value=0);f.children=m}else e&&(f.value=+e.call(a,f,f.depth)||0),delete f.children;return mb(d,function(a){var b,d;c&&(b=a.children)&&b.sort(c);e&&(d=a.parent)&&(d.value+=a.value)}),h}var c=ih,b=Af,e=hh;
return a.sort=function(b){return arguments.length?(c=b,a):c},a.children=function(c){return arguments.length?(b=c,a):b},a.value=function(c){return arguments.length?(e=c,a):e},a.revalue=function(c){return e&&(Fc(c,function(a){a.children&&(a.value=0)}),mb(c,function(c){var b;c.children||(c.value=+e.call(a,c,c.depth)||0);(b=c.parent)&&(b.value+=c.value)})),c},a};v.layout.partition=function(){function a(c,b,e,d){var f=c.children;if(c.x=b,c.y=c.depth*d,c.dx=e,c.dy=d,f&&(g=f.length)){var g,h,k=-1;for(e=
c.value?e/c.value:0;++k<g;)a(h=f[k],b,c=h.value*e,d),b+=c}}function c(a){a=a.children;var b=0;if(a&&(e=a.length))for(var e,d=-1;++d<e;)b=Math.max(b,c(a[d]));return 1+b}function b(b,f){b=e.call(this,b,f);return a(b[0],0,d[0],d[1]/c(b[0])),b}var e=v.layout.hierarchy(),d=[1,1];return b.size=function(a){return arguments.length?(d=a,b):d},Ec(b,e)};v.layout.pie=function(){function a(g){var h,k=g.length,m=g.map(function(b,e){return+c.call(a,b,e)}),l=+("function"==typeof e?e.apply(this,arguments):e),r=("function"==
typeof d?d.apply(this,arguments):d)-l,q=Math.min(Math.abs(r)/k,+("function"==typeof f?f.apply(this,arguments):f)),t=q*(0>r?-1:1),y=(r-k*t)/v.sum(m);k=v.range(k);var p=[];return null!=b&&k.sort(b===Pg?function(a,c){return m[c]-m[a]}:function(a,c){return b(g[a],g[c])}),k.forEach(function(a){p[a]={data:g[a],value:h=m[a],startAngle:l,endAngle:l+=h*y+t,padAngle:q}}),p}var c=Number,b=Pg,e=0,d=Za,f=0;return a.value=function(b){return arguments.length?(c=b,a):c},a.sort=function(c){return arguments.length?
(b=c,a):b},a.startAngle=function(c){return arguments.length?(e=c,a):e},a.endAngle=function(c){return arguments.length?(d=c,a):d},a.padAngle=function(c){return arguments.length?(f=c,a):f},a};var Pg={};v.layout.stack=function(){function a(h,k){if(!(q=h.length))return h;var m=h.map(function(b,e){return c.call(a,b,e)}),l=m.map(function(c){return c.map(function(c,b){return[f.call(a,c,b),g.call(a,c,b)]})}),r=b.call(a,l,k);m=v.permute(m,r);l=v.permute(l,r);var q,t,y=e.call(a,l,k),p=m[0].length;for(r=0;p>
r;++r)for(d.call(a,m[0][r],t=y[r],l[0][r][1]),k=1;q>k;++k)d.call(a,m[k][r],t+=l[k-1][r][1],l[k][r][1]);return h}var c=t,b=pe,e=qe,d=mh,f=kh,g=lh;return a.values=function(b){return arguments.length?(c=b,a):c},a.order=function(c){return arguments.length?(b="function"==typeof c?c:ri.get(c)||pe,a):b},a.offset=function(c){return arguments.length?(e="function"==typeof c?c:si.get(c)||qe,a):e},a.x=function(c){return arguments.length?(f=c,a):f},a.y=function(c){return arguments.length?(g=c,a):g},a.out=function(c){return arguments.length?
(d=c,a):d},a};var ri=v.map({"inside-out":function(a){var c=a.length,b=a.map(nh),e=a.map(oh),d=v.range(c).sort(function(a,c){return b[a]-b[c]}),f=0,g=0,h=[],k=[];for(a=0;c>a;++a){var m=d[a];g>f?(f+=e[m],h.push(m)):(g+=e[m],k.push(m))}return k.reverse().concat(h)},reverse:function(a){return v.range(a.length).reverse()},"default":pe}),si=v.map({silhouette:function(a){var c,b,e,d=a.length,f=a[0].length,g=[],h=0,k=[];for(b=0;f>b;++b){for(e=c=0;d>c;c++)e+=a[c][b][1];e>h&&(h=e);g.push(e)}for(b=0;f>b;++b)k[b]=
(h-g[b])/2;return k},wiggle:function(a){var c,b,e,d,f,g,h,k=a.length,m=a[0],l=m.length,r=[];r[0]=g=h=0;for(b=1;l>b;++b){for(e=c=0;k>c;++c)e+=a[c][b][1];var q=c=0;for(f=m[b][0]-m[b-1][0];k>c;++c){var t=0;for(d=(a[c][b][1]-a[c][b-1][1])/(2*f);c>t;++t)d+=(a[t][b][1]-a[t][b-1][1])/f;q+=d*a[c][b][1]}r[b]=g-=e?q/e*f:0;h>g&&(h=g)}for(b=0;l>b;++b)r[b]-=h;return r},expand:function(a){var c,b,e,d=a.length,f=a[0].length,g=1/d,h=[];for(b=0;f>b;++b){for(e=c=0;d>c;c++)e+=a[c][b][1];if(e)for(c=0;d>c;c++)a[c][b][1]/=
e;else for(c=0;d>c;c++)a[c][b][1]=g}for(b=0;f>b;++b)h[b]=0;return h},zero:qe});v.layout.histogram=function(){function a(a,f){var g=[],h=a.map(b,this),k=e.call(this,h,f),m=d.call(this,k,h,f);f=-1;for(var l=h.length,r=m.length-1,q=c?1:1/l;++f<r;){var t=g[f]=[];t.dx=m[f+1]-(t.x=m[f]);t.y=0}if(0<r)for(f=-1;++f<l;){var y=h[f];y>=k[0]&&y<=k[1]&&(t=g[v.bisect(m,y,1,r)-1],t.y+=q,t.push(a[f]))}return g}var c=!0,b=Number,e=Fh,d=Eh;return a.value=function(c){return arguments.length?(b=c,a):b},a.range=function(c){return arguments.length?
(e=ea(c),a):e},a.bins=function(c){return arguments.length?(d="number"==typeof c?function(a){return Zf(a,c)}:ea(c),a):d},a.frequency=function(b){return arguments.length?(c=!!b,a):c},a};v.layout.pack=function(){function a(a,f){a=b.call(this,a,f);f=a[0];var g=d[0],h=d[1],k=null==c?Math.sqrt:"function"==typeof c?c:function(){return c};if(f.x=f.y=0,mb(f,function(a){a.r=+k(a.value)}),mb(f,bg),e){var m=e*(c?1:Math.max(2*f.r/g,2*f.r/h))/2;mb(f,function(a){a.r+=m});mb(f,bg);mb(f,function(a){a.r-=m})}return dg(f,
g/2,h/2,c?1:1/Math.max(2*f.r/g,2*f.r/h)),a}var c,b=v.layout.hierarchy().sort(Gh),e=0,d=[1,1];return a.size=function(c){return arguments.length?(d=c,a):d},a.radius=function(b){return arguments.length?(c=null==b||"function"==typeof b?b:+b,a):c},a.padding=function(c){return arguments.length?(e=+c,a):e},Ec(a,b)};v.layout.tree=function(){function a(a,m){a=f.call(this,a,m);m=a[0];var l=c(m);if(mb(l,b),l.parent.m=-l.z,Fc(l,e),k)Fc(m,d);else{var r=m,q=m,t=m;Fc(m,function(a){a.x<r.x&&(r=a);a.x>q.x&&(q=a);
a.depth>t.depth&&(t=a)});var y=g(r,q)/2-r.x,p=h[0]/(q.x+g(q,r)/2+y),n=h[1]/(t.depth||1);Fc(m,function(a){a.x=(a.x+y)*p;a.y=a.depth*n})}return a}function c(a){for(var c={A:null,children:[a]},b=[c];null!=(a=b.pop());)for(var e,d=a.children,f=0,g=d.length;g>f;++f)b.push((d[f]=e={_:d[f],parent:a,children:(e=d[f].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:f}).a=e);return c.children[0]}function b(a){var c=a.children,b=a.parent.children,e=a.i?b[a.i-1]:null;if(c.length){for(var d,f=0,
h=0,k=a.children,m=k.length;0<=--m;)d=k[m],d.z+=f,d.m+=f,f+=d.s+(h+=d.c);c=(c[0].z+c[c.length-1].z)/2;e?(a.z=e.z+g(a._,e._),a.m=a.z-c):a.z=c}else e&&(a.z=e.z+g(a._,e._));c=a.parent;b=a.parent.A||b[0];if(e){f=d=a;h=e;k=d.parent.children[0];m=d.m;for(var l=f.m,r=h.m,q=k.m;h=Ve(h),d=Ue(d),h&&d;){k=Ue(k);f=Ve(f);f.a=a;e=h.z+r-d.z-m+g(h._,d._);if(0<e){var t=h.a.parent===a.parent?h.a:b,y=a,p=e,n=p/(y.i-t.i);y.c-=n;y.s+=p;t.c+=n;y.z+=p;y.m+=p;m+=e;l+=e}r+=h.m;m+=d.m;q+=k.m;l+=f.m}h&&!Ve(f)&&(f.t=h,f.m+=
r-l);d&&!Ue(k)&&(k.t=d,k.m+=m-q,b=a)}c.A=b}function e(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function d(a){a.x*=h[0];a.y=a.depth*h[1]}var f=v.layout.hierarchy().sort(null).value(null),g=eg,h=[1,1],k=null;return a.separation=function(c){return arguments.length?(g=c,a):g},a.size=function(c){return arguments.length?(k=null==(h=c)?d:null,a):k?null:h},a.nodeSize=function(c){return arguments.length?(k=null==(h=c)?null:d,a):k?h:null},Ec(a,f)};v.layout.cluster=function(){function a(a,f){var g;a=c.call(this,
a,f);var h=a[0],k=0;mb(h,function(a){var c=a.children;c&&c.length?(a.x=Kh(c),a.y=Jh(c)):(a.x=g?k+=b(a,g):0,a.y=0,g=a)});f=fg(h);var m=gg(h),l=f.x-b(f,m)/2,r=m.x+b(m,f)/2;return mb(h,d?function(a){a.x=(a.x-h.x)*e[0];a.y=(h.y-a.y)*e[1]}:function(a){a.x=(a.x-l)/(r-l)*e[0];a.y=(1-(h.y?a.y/h.y:1))*e[1]}),a}var c=v.layout.hierarchy().sort(null).value(null),b=eg,e=[1,1],d=!1;return a.separation=function(c){return arguments.length?(b=c,a):b},a.size=function(c){return arguments.length?(d=null==(e=c),a):d?
null:e},a.nodeSize=function(c){return arguments.length?(d=null!=(e=c),a):d?e:null},Ec(a,c)};v.layout.treemap=function(){function a(a,c){for(var b,e,d=-1,f=a.length;++d<f;)e=(b=a[d]).value*(0>c?0:c),b.area=isNaN(e)||0>=e?0:e}function c(b){var d=b.children;if(d&&d.length){var f=l(b),g=[],h=d.slice(),k=1/0,m="slice"===q?f.dx:"dice"===q?f.dy:"slice-dice"===q?1&b.depth?f.dy:f.dx:Math.min(f.dx,f.dy);a(h,f.dx*f.dy/b.value);for(g.area=0;0<(b=h.length);){g.push(b=h[b-1]);g.area+=b.area;var r;if(!(r="squarify"!==
q)){var y=void 0;b=m;var p=g.area;r=0;for(var n=1/0,A=-1,w=g.length;++A<w;)(y=g[A].area)&&(n>y&&(n=y),y>r&&(r=y));r=(y=(p*=p,b*=b,p?Math.max(b*r*t/p,p/(b*n*t)):1/0))<=k}r?(h.pop(),k=y):(g.area-=g.pop().area,e(g,m,f,!1),m=Math.min(f.dx,f.dy),g.length=g.area=0,k=1/0)}g.length&&(e(g,m,f,!0),g.length=g.area=0);d.forEach(c)}}function b(c){var d=c.children;if(d&&d.length){var f=l(c),g=d.slice(),h=[];a(g,f.dx*f.dy/c.value);for(h.area=0;c=g.pop();)h.push(c),h.area+=c.area,null!=c.z&&(e(h,c.z?f.dx:f.dy,f,
!g.length),h.length=h.area=0);d.forEach(b)}}function e(a,c,b,e){var d=-1,f=a.length,g=b.x,k=b.y,m=c?h(a.area/c):0;if(c==b.dx){for((e||m>b.dy)&&(m=b.dy);++d<f;){var l=a[d];l.x=g;l.y=k;l.dy=m;g+=l.dx=Math.min(b.x+b.dx-g,m?h(l.area/m):0)}l.z=!0;l.dx+=b.x+b.dx-g;b.y+=m;b.dy-=m}else{for((e||m>b.dx)&&(m=b.dx);++d<f;)l=a[d],l.x=g,l.y=k,l.dx=m,k+=l.dy=Math.min(b.y+b.dy-k,m?h(l.area/m):0);l.z=!1;l.dy+=b.y+b.dy-k;b.x+=m;b.dx-=m}}function d(e){e=f||g(e);var d=e[0];return d.x=0,d.y=0,d.dx=k[0],d.dy=k[1],f&&g.revalue(d),
a([d],d.dx*d.dy/d.value),(f?b:c)(d),r&&(f=e),e}var f,g=v.layout.hierarchy(),h=Math.round,k=[1,1],m=null,l=We,r=!1,q="squarify",t=.5*(1+Math.sqrt(5));return d.size=function(a){return arguments.length?(k=a,d):k},d.padding=function(a){function c(c){var b=a.call(d,c,c.depth);return null==b?We(c):hg(c,"number"==typeof b?[b,b,b,b]:b)}function b(c){return hg(c,a)}if(!arguments.length)return m;var e;return l=null==(m=a)?We:"function"==(e=typeof a)?c:"number"===e?(a=[a,a,a,a],b):b,d},d.round=function(a){return arguments.length?
(h=a?Math.round:Number,d):h!=Number},d.sticky=function(a){return arguments.length?(r=a,f=null,d):r},d.ratio=function(a){return arguments.length?(t=a,d):t},d.mode=function(a){return arguments.length?(q=a+"",d):q},Ec(d,g)};v.random={normal:function(a,c){var b=arguments.length;return 2>b&&(c=1),1>b&&(a=0),function(){do{var b=2*Math.random()-1;var e=2*Math.random()-1;e=b*b+e*e}while(!e||1<e);return a+c*b*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=v.random.normal.apply(v,arguments);return function(){return Math.exp(a())}},
bates:function(a){var c=v.random.irwinHall(a);return function(){return c()/a}},irwinHall:function(a){return function(){for(var c=0,b=0;a>b;b++)c+=Math.random();return c}}};v.scale={};var Mh={floor:t,ceil:t};v.scale.linear=function(){return jg([0,1],[0,1],Wb,!1)};var Ph={s:1,g:1,p:1,r:1,e:1};v.scale.log=function(){return kg(v.scale.linear().domain([0,1]),10,!0,[1,10])};var lg=v.format(".0e"),Qh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};v.scale.pow=function(){return mg(v.scale.linear(),
1,[0,1])};v.scale.sqrt=function(){return v.scale.pow().exponent(.5)};v.scale.ordinal=function(){return ng([],{t:"range",a:[[]]})};v.scale.category10=function(){return v.scale.ordinal().range(ti)};v.scale.category20=function(){return v.scale.ordinal().range(ui)};v.scale.category20b=function(){return v.scale.ordinal().range(vi)};v.scale.category20c=function(){return v.scale.ordinal().range(wi)};var ti=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ha),ui=[2062260,
11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ha),vi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ha),wi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,
6513507,9868950,12434877,14277081].map(ha);v.scale.quantile=function(){return og([],[])};v.scale.quantize=function(){return pg(0,1,[0,1])};v.scale.threshold=function(){return qg([.5],[0,1])};v.scale.identity=function(){return rg([0,1])};v.svg={};v.svg.arc=function(){function a(){var a=Math.max(0,+b.apply(this,arguments)),m=Math.max(0,+e.apply(this,arguments)),l=g.apply(this,arguments)-Ba,r=h.apply(this,arguments)-Ba,q=Math.abs(r-l),t=l>r?0:1;if(a>m&&(y=m,m=a,a=y),q>=ii)return c(m,t)+(a?c(a,1-t):"")+
"Z";var y,p,n;var A=y=0;q=[];if((n=(+k.apply(this,arguments)||0)/2)&&(p=f===he?Math.sqrt(a*a+m*m):+f.apply(this,arguments),t||(A*=-1),m&&(A=Aa(p/m*Math.sin(n))),a&&(y=Aa(p/a*Math.sin(n)))),m){p=m*Math.cos(l+A);n=m*Math.sin(l+A);var x=m*Math.cos(r-A);var z=m*Math.sin(r-A);var w=Math.abs(r-l-2*A)<=Z?0:1;A&&Pd(p,n,x,z)===t^w&&(x=(l+r)/2,p=m*Math.cos(x),n=m*Math.sin(x),x=z=null)}else p=n=0;if(a){A=a*Math.cos(r-y);var B=a*Math.sin(r-y);var C=a*Math.cos(l+y);var G=a*Math.sin(l+y);var D=Math.abs(l-r+2*y)<=
Z?0:1;y&&Pd(A,B,C,G)===1-t^D&&(C=(l+r)/2,A=a*Math.cos(C),B=a*Math.sin(C),C=G=null)}else A=B=0;if(.001<(y=Math.min(Math.abs(m-a)/2,+d.apply(this,arguments)))){w=m>a^t?0:1;D=null==C?[A,B]:null==x?[p,n]:te([p,n],[C,G],[x,z],[A,B]);l=p-D[0];r=n-D[1];var F=x-D[0],u=z-D[1];l=1/Math.sin(Math.acos((l*F+r*u)/(Math.sqrt(l*l+r*r)*Math.sqrt(F*F+u*u)))/2);D=Math.sqrt(D[0]*D[0]+D[1]*D[1]);null!=x?(r=Math.min(y,(m-D)/(l+1)),F=Qd(null==C?[A,B]:[C,G],[p,n],m,r,t),u=Qd([x,z],[A,B],m,r,t),y===r?q.push("M",F[0],"A",
r,",",r," 0 0,",w," ",F[1],"A",m,",",m," 0 ",1-t^Pd(F[1][0],F[1][1],u[1][0],u[1][1]),",",t," ",u[1],"A",r,",",r," 0 0,",w," ",u[0]):q.push("M",F[0],"A",r,",",r," 0 1,",w," ",u[0])):q.push("M",p,",",n);null!=C?(m=Math.min(y,(a-D)/(l-1)),C=Qd([p,n],[C,G],a,-m,t),x=Qd([A,B],null==x?[p,n]:[x,z],a,-m,t),y===m?q.push("L",x[0],"A",m,",",m," 0 0,",w," ",x[1],"A",a,",",a," 0 ",t^Pd(x[1][0],x[1][1],C[1][0],C[1][1]),",",1-t," ",C[1],"A",m,",",m," 0 0,",w," ",C[0]):q.push("L",x[0],"A",m,",",m," 0 0,",w," ",C[0])):
q.push("L",A,",",B)}else q.push("M",p,",",n),null!=x&&q.push("A",m,",",m," 0 ",w,",",t," ",x,",",z),q.push("L",A,",",B),null!=C&&q.push("A",a,",",a," 0 ",D,",",1-t," ",C,",",G);return q.push("Z"),q.join("")}function c(a,c){return"M0,"+a+"A"+a+","+a+" 0 1,"+c+" 0,"+-a+"A"+a+","+a+" 0 1,"+c+" 0,"+a}var b=Sh,e=Th,d=Rh,f=he,g=sg,h=tg,k=Uh;return a.innerRadius=function(c){return arguments.length?(b=ea(c),a):b},a.outerRadius=function(c){return arguments.length?(e=ea(c),a):e},a.cornerRadius=function(c){return arguments.length?
(d=ea(c),a):d},a.padRadius=function(c){return arguments.length?(f=c==he?he:ea(c),a):f},a.startAngle=function(c){return arguments.length?(g=ea(c),a):g},a.endAngle=function(c){return arguments.length?(h=ea(c),a):h},a.padAngle=function(c){return arguments.length?(k=ea(c),a):k},a.centroid=function(){var a=(+b.apply(this,arguments)+ +e.apply(this,arguments))/2,c=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Ba;return[Math.cos(c)*a,Math.sin(c)*a]},a};var he="auto";v.svg.line=function(){return ug(t)};
var Ze=v.map({linear:$a,"linear-closed":function(a){return $a(a)+"Z"},step:function(a){for(var c=0,b=a.length,e=a[0],d=[e[0],",",e[1]];++c<b;)d.push("H",(e[0]+(e=a[c])[0])/2,"V",e[1]);return 1<b&&d.push("H",e[0]),d.join("")},"step-before":$e,"step-after":af,basis:vg,"basis-open":function(a){if(4>a.length)return $a(a);for(var c,b=[],e=-1,d=a.length,f=[0],g=[0];3>++e;)c=a[e],f.push(c[0]),g.push(c[1]);b.push(bb(Ub,f)+","+bb(Ub,g));for(--e;++e<d;)c=a[e],f.shift(),f.push(c[0]),g.shift(),g.push(c[1]),cf(b,
f,g);return b.join("")},"basis-closed":function(a){for(var c,b,e=-1,d=a.length,f=d+4,g=[],h=[];4>++e;)b=a[e%d],g.push(b[0]),h.push(b[1]);c=[bb(Ub,g),",",bb(Ub,h)];for(--e;++e<f;)b=a[e%d],g.shift(),g.push(b[0]),h.shift(),h.push(b[1]),cf(c,g,h);return c.join("")},bundle:function(a,c){var b=a.length-1;if(b)for(var e,d,f=a[0][0],g=a[0][1],h=a[b][0]-f,k=a[b][1]-g,m=-1;++m<=b;)e=a[m],d=m/b,e[0]=c*e[0]+(1-c)*(f+d*h),e[1]=c*e[1]+(1-c)*(g+d*k);return vg(a)},cardinal:function(a,c){return 3>a.length?$a(a):a[0]+
Rd(a,bf(a,c))},"cardinal-open":function(a,c){return 4>a.length?$a(a):a[1]+Rd(a.slice(1,-1),bf(a,c))},"cardinal-closed":function(a,c){return 3>a.length?$a(a):a[0]+Rd((a.push(a[0]),a),bf([a[a.length-2]].concat(a,[a[1]]),c))},monotone:function(a){if(3>a.length)a=$a(a);else{var c=a[0],b,e,d,f=[];var g=0;var h=a.length-1;for(var k=[],m=a[1],l=k[0]=df(a[0],m);++g<h;)k[g]=(l+(l=df(m,m=a[g+1])))/2;h=(k[g]=l,k);k=-1;for(m=a.length-1;++k<m;)g=df(a[k],a[k+1]),ba(g)<P?h[k]=h[k+1]=0:(b=h[k]/g,e=h[k+1]/g,d=b*b+
e*e,9<d&&(d=3*g/Math.sqrt(d),h[k]=d*b,h[k+1]=d*e));for(k=-1;++k<=m;)d=(a[Math.min(m,k+1)][0]-a[Math.max(0,k-1)][0])/(6*(1+h[k]*h[k])),f.push([d||0,h[k]*d||0]);a=c+Rd(a,f)}return a}});Ze.forEach(function(a,c){c.key=a;c.closed=/-closed$/.test(a)});var wg=[0,2/3,1/3,0],xg=[0,1/3,2/3,0],Ub=[0,1/6,2/3,1/6];v.svg.line.radial=function(){var a=ug(yg);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};$e.reverse=af;af.reverse=$e;v.svg.area=function(){return zg(t)};v.svg.area.radial=function(){var a=
zg(yg);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};v.svg.chord=function(){function a(a,f){var g=c(this,e,a,f);a=c(this,d,a,f);return"M"+g.p0+b(g.r,g.p1,g.a1-g.a0)+(g.a0==a.a0&&g.a1==a.a1?"Q 0,0 "+g.p0:"Q 0,0 "+a.p0+b(a.r,a.p1,a.a1-a.a0)+("Q 0,0 "+g.p0))+"Z"}function c(a,c,b,e){var d=c.call(a,b,e);c=f.call(a,d,e);b=g.call(a,d,e)-Ba;a=h.call(a,d,e)-Ba;return{r:c,a0:b,
a1:a,p0:[c*Math.cos(b),c*Math.sin(b)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function b(a,c,b){return"A"+a+","+a+" 0 "+ +(b>Z)+",1 "+c}var e=ad,d=bd,f=Vh,g=sg,h=tg;return a.radius=function(c){return arguments.length?(f=ea(c),a):f},a.source=function(c){return arguments.length?(e=ea(c),a):e},a.target=function(c){return arguments.length?(d=ea(c),a):d},a.startAngle=function(c){return arguments.length?(g=ea(c),a):g},a.endAngle=function(c){return arguments.length?(h=ea(c),a):h},a};v.svg.diagonal=function(){function a(a,
d){var f=c.call(this,a,d);a=b.call(this,a,d);d=(f.y+a.y)/2;f=[f,{x:f.x,y:d},{x:a.x,y:d},a];return f=f.map(e),"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var c=ad,b=bd,e=Ag;return a.source=function(b){return arguments.length?(c=ea(b),a):c},a.target=function(c){return arguments.length?(b=ea(c),a):b},a.projection=function(c){return arguments.length?(e=c,a):e},a};v.svg.diagonal.radial=function(){var a=v.svg.diagonal(),c=Ag,b=a.projection;return a.projection=function(a){return arguments.length?b(Wh(c=a)):c},a};
v.svg.symbol=function(){function a(a,e){return(Qg.get(c.call(this,a,e))||Bg)(b.call(this,a,e))}var c=Yh,b=Xh;return a.type=function(b){return arguments.length?(c=ea(b),a):c},a.size=function(c){return arguments.length?(b=ea(c),a):b},a};var Qg=v.map({circle:Bg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*Rg));var c=a*Rg;return"M0,"+-a+"L"+c+",0 0,"+a+" "+-c+",0Z"},square:function(a){a=
Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/ie);var c=a*ie/2;return"M0,"+c+"L"+a+","+-c+" "+-a+","+-c+"Z"},"triangle-up":function(a){a=Math.sqrt(a/ie);var c=a*ie/2;return"M0,"+-c+"L"+a+","+c+" "+-a+","+c+"Z"}});v.svg.symbolTypes=Qg.keys();var ie=Math.sqrt(3),Rg=Math.tan(30*aa);pa.transition=function(a){for(var c,b=hc||++Sg,e=ff(a),d=[],f=je||{time:Date.now(),ease:xh,delay:0,duration:250},g=-1,h=this.length;++g<h;){d.push(a=
[]);for(var k=this[g],m=-1,l=k.length;++m<l;)(c=k[m])&&Sd(c,m,e,b,f),a.push(c)}return Yc(d,e,b)};pa.interrupt=function(a){return this.each(null==a?Wd:Cg(ff(a)))};var hc,je,Wd=Cg(ff()),Ja=[],Sg=0;Ja.call=pa.call;Ja.empty=pa.empty;Ja.node=pa.node;Ja.size=pa.size;v.transition=function(a,c){return a&&a.transition?hc?a.transition(c):a:v.selection().transition(a)};v.transition.prototype=Ja;Ja.select=function(a){var c,b,e,d=this.id,f=this.namespace,g=[];a=D(a);for(var h=-1,k=this.length;++h<k;){g.push(c=
[]);for(var m=this[h],l=-1,r=m.length;++l<r;)(e=m[l])&&(b=a.call(e,e.__data__,l,h))?("__data__"in e&&(b.__data__=e.__data__),Sd(b,l,f,d,e[f][d]),c.push(b)):c.push(null)}return Yc(g,f,d)};Ja.selectAll=function(a){var c,b,e=this.id,d=this.namespace,f=[];a=Q(a);for(var g=-1,h=this.length;++g<h;)for(var k=this[g],m=-1,l=k.length;++m<l;)if(c=k[m]){var r=c[d][e];var q=a.call(c,c.__data__,m,g);f.push(c=[]);for(var t=-1,y=q.length;++t<y;)(b=q[t])&&Sd(b,t,d,e,r),c.push(b)}return Yc(f,d,e)};Ja.filter=function(a){var c,
b,e=[];"function"!=typeof a&&(a=ma(a));for(var d=0,f=this.length;f>d;d++){e.push(c=[]);var g=this[d];for(var h=0,k=g.length;k>h;h++)(b=g[h])&&a.call(b,b.__data__,h,d)&&c.push(b)}return Yc(e,this.namespace,this.id)};Ja.tween=function(a,c){var b=this.id,e=this.namespace;return 2>arguments.length?this.node()[e][b].tween.get(a):T(this,null==c?function(c){c[e][b].tween.remove(a)}:function(d){d[e][b].tween.set(a,c)})};Ja.attr=function(a,c){function b(){this.removeAttribute(h)}function e(){this.removeAttributeNS(h.space,
h.local)}function d(a){return null==a?b:(a+="",function(){var c,b=this.getAttribute(h);return b!==a&&(c=g(b,a),function(a){this.setAttribute(h,c(a))})})}function f(a){return null==a?e:(a+="",function(){var c,b=this.getAttributeNS(h.space,h.local);return b!==a&&(c=g(b,a),function(a){this.setAttributeNS(h.space,h.local,c(a))})})}if(2>arguments.length){for(c in a)this.attr(c,a[c]);return this}var g="transform"==a?yf:Wb,h=v.ns.qualify(a);return ef(this,"attr."+a,c,h.local?f:d)};Ja.attrTween=function(a,
c){function b(a,b){var e=c.call(this,a,b,this.getAttribute(d));return e&&function(a){this.setAttribute(d,e(a))}}function e(a,b){var e=c.call(this,a,b,this.getAttributeNS(d.space,d.local));return e&&function(a){this.setAttributeNS(d.space,d.local,e(a))}}var d=v.ns.qualify(a);return this.tween("attr."+a,d.local?e:b)};Ja.style=function(a,c,e){function d(){this.style.removeProperty(a)}var f=arguments.length;if(3>f){if("string"!=typeof a){2>f&&(c="");for(e in a)this.style(e,a[e],c);return this}e=""}return ef(this,
"style."+a,c,function(c){return null==c?d:(c+="",function(){var d,f=b(this).getComputedStyle(this,null).getPropertyValue(a);return f!==c&&(d=Wb(f,c),function(c){this.style.setProperty(a,d(c),e)})})})};Ja.styleTween=function(a,c,e){return 3>arguments.length&&(e=""),this.tween("style."+a,function(d,f){var g=c.call(this,d,f,b(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(c){this.style.setProperty(a,g(c),e)}})};Ja.text=function(a){return ef(this,"text",a,Zh)};Ja.remove=function(){var a=
this.namespace;return this.each("end.transition",function(){var c;2>this[a].count&&(c=this.parentNode)&&c.removeChild(this)})};Ja.ease=function(a){var c=this.id,b=this.namespace;return 1>arguments.length?this.node()[b][c].ease:("function"!=typeof a&&(a=v.ease.apply(v,arguments)),T(this,function(e){e[b][c].ease=a}))};Ja.delay=function(a){var c=this.id,b=this.namespace;return 1>arguments.length?this.node()[b][c].delay:T(this,"function"==typeof a?function(e,d,f){e[b][c].delay=+a.call(e,e.__data__,d,
f)}:(a=+a,function(e){e[b][c].delay=a}))};Ja.duration=function(a){var c=this.id,b=this.namespace;return 1>arguments.length?this.node()[b][c].duration:T(this,"function"==typeof a?function(e,d,f){e[b][c].duration=Math.max(1,a.call(e,e.__data__,d,f))}:(a=Math.max(1,a),function(e){e[b][c].duration=a}))};Ja.each=function(a,c){var b=this.id,e=this.namespace;if(2>arguments.length){var d=je,f=hc;try{hc=b,T(this,function(c,d,f){je=c[e][b];a.call(c,c.__data__,d,f)})}finally{je=d,hc=f}}else T(this,function(d){d=
d[e][b];(d.event||(d.event=v.dispatch("start","end","interrupt"))).on(a,c)});return this};Ja.transition=function(){for(var a,c,b,e,d=this.id,f=++Sg,g=this.namespace,h=[],k=0,m=this.length;m>k;k++){h.push(a=[]);c=this[k];for(var l=0,r=c.length;r>l;l++)(b=c[l])&&(e=b[g][d],Sd(b,l,g,f,{time:e.time,ease:e.ease,delay:e.delay+e.duration,duration:e.duration})),a.push(b)}return Yc(h,g,f)};v.svg.axis=function(){function a(a){a.each(function(){var a,m=v.select(this),l=this.__chart__||b,r=this.__chart__=b.copy(),
q=null==k?r.ticks?r.ticks.apply(r,h):r.domain():k,y=null==c?r.tickFormat?r.tickFormat.apply(r,h):t:c,p=m.selectAll(".tick").data(q,r);q=p.enter().insert("g",".domain").attr("class","tick").style("opacity",P);var n=v.transition(p.exit()).style("opacity",P).remove(),A=v.transition(p.order()).style("opacity",1),x=Math.max(d,0)+g,z=Ld(r);m=m.selectAll(".domain").data([0]);m=(m.enter().append("path").attr("class","domain"),v.transition(m));q.append("line");q.append("text");var B,C,G,D,w=q.select("line"),
F=A.select("line");y=p.select("text").text(y);p=q.select("text");var u=A.select("text"),E="top"===e||"left"===e?-1:1;if("bottom"===e||"top"===e?(a=$h,B="x",G="y",C="x2",D="y2",y.attr("dy",0>E?"0em":".71em").style("text-anchor","middle"),m.attr("d","M"+z[0]+","+E*f+"V0H"+z[1]+"V"+E*f)):(a=ai,B="y",G="x",C="y2",D="x2",y.attr("dy",".32em").style("text-anchor",0>E?"end":"start"),m.attr("d","M"+E*f+","+z[0]+"H0V"+z[1]+"H"+E*f)),w.attr(D,E*d),p.attr(G,E*x),F.attr(C,0).attr(D,E*d),u.attr(B,0).attr(G,E*x),
r.rangeBand){var J=r,O=J.rangeBand()/2;l=r=function(a){return J(a)+O}}else l.rangeBand?l=r:n.call(a,r,l);q.call(a,l,r);A.call(a,r,r)})}var c,b=v.scale.linear(),e=Tg,d=6,f=6,g=3,h=[10],k=null;return a.scale=function(c){return arguments.length?(b=c,a):b},a.orient=function(c){return arguments.length?(e=c in xi?c+"":Tg,a):e},a.ticks=function(){return arguments.length?(h=arguments,a):h},a.tickValues=function(c){return arguments.length?(k=c,a):k},a.tickFormat=function(b){return arguments.length?(c=b,a):
c},a.tickSize=function(c){var b=arguments.length;return b?(d=+c,f=+arguments[b-1],a):d},a.innerTickSize=function(c){return arguments.length?(d=+c,a):d},a.outerTickSize=function(c){return arguments.length?(f=+c,a):f},a.tickPadding=function(c){return arguments.length?(g=+c,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Tg="bottom",xi={top:1,right:1,bottom:1,left:1};v.svg.brush=function(){function a(b){b.each(function(){var b=v.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color",
"rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),g=b.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");b.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=b.selectAll(".resize").data(n,t);h.exit().remove();h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return yi[a]}).append("rect").attr("x",
function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");h.style("display",a.empty()?"none":null);var k;b=v.transition(b);g=v.transition(g);m&&(k=Ld(m),g.attr("x",k[0]).attr("width",k[1]-k[0]),e(b));l&&(k=Ld(l),g.attr("y",k[0]).attr("height",k[1]-k[0]),d(b));c(b)})}function c(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+r[+/e$/.test(a)]+","+q[+/^s/.test(a)]+")"})}function e(a){a.select(".extent").attr("x",
r[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1]-r[0])}function d(a){a.select(".extent").attr("y",q[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",q[1]-q[0])}function f(){function f(){var a=v.mouse(x),b=!1;M&&(a[0]+=M[0],a[1]+=M[1]);u||(v.event.altKey?(A||(A=[(r[0]+r[1])/2,(q[0]+q[1])/2]),J[0]=r[+(a[0]<A[0])],J[1]=q[+(a[1]<A[1])]):A=null);F&&t(a,m,0)&&(e(C),b=!0);w&&t(a,l,1)&&(d(C),b=!0);b&&(c(C),B({type:"brush",mode:u?"move":"resize"}))}function t(a,c,b){var e,d,f=Ld(c);c=
f[0];f=f[1];var k=J[b],m=b?q:r,l=m[1]-m[0];return u&&(c-=k,f-=l+k),e=(b?p:y)?Math.max(c,Math.min(f,a[b])):a[b],u?d=(e+=k)+l:(A&&(k=Math.max(c,Math.min(f,2*A[b]-e))),e>k?(d=e,e=k):d=k),m[0]!=e||m[1]!=d?(b?h=null:g=null,m[0]=e,m[1]=d,!0):void 0}function n(){f();C.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);v.select("body").style("cursor",null);O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",
null).on("keyup.brush",null);E();B({type:"brushend"})}var A,x=this,z=v.select(v.event.target),B=k.of(x,arguments),C=v.select(x),D=z.datum(),F=!/^(n|s)$/.test(D)&&m,w=!/^(e|w)$/.test(D)&&l,u=z.classed("extent"),E=Y(x),J=v.mouse(x),O=v.select(b(x)).on("keydown.brush",function(){32==v.event.keyCode&&(u||(A=null,J[0]-=r[1],J[1]-=q[1],u=2),G())}).on("keyup.brush",function(){32==v.event.keyCode&&2==u&&(J[0]+=r[1],J[1]+=q[1],u=0,G())});if(v.event.changedTouches?O.on("touchmove.brush",f).on("touchend.brush",
n):O.on("mousemove.brush",f).on("mouseup.brush",n),C.interrupt().selectAll("*").interrupt(),u)J[0]=r[0]-J[0],J[1]=q[0]-J[1];else if(D){var Q=+/w$/.test(D);D=+/^n/.test(D);var M=[r[1-Q]-J[0],q[1-D]-J[1]];J[0]=r[Q];J[1]=q[D]}else v.event.altKey&&(A=J.slice());C.style("pointer-events","none").selectAll(".resize").style("display",null);v.select("body").style("cursor",z.style("cursor"));B({type:"brushstart"});f()}var g,h,k=J(a,"brushstart","brush","brushend"),m=null,l=null,r=[0,0],q=[0,0],y=!0,p=!0,n=
qf[0];return a.event=function(a){a.each(function(){var a=k.of(this,arguments),c={x:r,y:q,i:g,j:h},b=this.__chart__||c;this.__chart__=c;hc?v.select(this).transition().each("start.brush",function(){g=b.i;h=b.j;r=b.x;q=b.y;a({type:"brushstart"})}).tween("brush:brush",function(){var b=jd(r,c.x),e=jd(q,c.y);return g=h=null,function(d){r=c.x=b(d);q=c.y=e(d);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=c.i;h=c.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),
a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(c){return arguments.length?(m=c,n=qf[!m<<1|!l],a):m},a.y=function(c){return arguments.length?(l=c,n=qf[!m<<1|!l],a):l},a.clamp=function(c){return arguments.length?(m&&l?(y=!!c[0],p=!!c[1]):m?y=!!c:l&&(p=!!c),a):m&&l?[y,p]:m?y:l?p:null},a.extent=function(c){var b,e,d,f,k;return arguments.length?(m&&(b=c[0],e=c[1],l&&(b=b[0],e=e[0]),g=[b,e],m.invert&&(b=m(b),e=m(e)),b>e&&(k=b,b=e,e=k),(b!=r[0]||e!=r[1])&&(r=[b,e])),l&&(d=c[0],f=c[1],
m&&(d=d[1],f=f[1]),h=[d,f],l.invert&&(d=l(d),f=l(f)),d>f&&(k=d,d=f,f=k),(d!=q[0]||f!=q[1])&&(q=[d,f])),a):(m&&(g?(b=g[0],e=g[1]):(b=r[0],e=r[1],m.invert&&(b=m.invert(b),e=m.invert(e)),b>e&&(k=b,b=e,e=k))),l&&(h?(d=h[0],f=h[1]):(d=q[0],f=q[1],l.invert&&(d=l.invert(d),f=l.invert(f)),d>f&&(k=d,d=f,f=k))),m&&l?[[b,d],[e,f]]:m?[b,e]:l&&[d,f])},a.clear=function(){return a.empty()||(r=[0,0],q=[0,0],g=h=null),a},a.empty=function(){return!!m&&r[0]==r[1]||!!l&&q[0]==q[1]},v.rebind(a,k,"on")};var yi={n:"ns-resize",
e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},qf=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],rf=R.format=Hg.timeFormat,Ug=rf.utc,Vg=Ug("%Y-%m-%dT%H:%M:%S.%LZ");rf.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?gf:Vg;gf.parse=function(a){a=new Date(a);return isNaN(a)?null:a};gf.toString=Vg.toString;R.second=kb(function(a){return new Na(1E3*Math.floor(a/1E3))},function(a,c){a.setTime(a.getTime()+1E3*
Math.floor(c))},function(a){return a.getSeconds()});R.seconds=R.second.range;R.seconds.utc=R.second.utc.range;R.minute=kb(function(a){return new Na(6E4*Math.floor(a/6E4))},function(a,c){a.setTime(a.getTime()+6E4*Math.floor(c))},function(a){return a.getMinutes()});R.minutes=R.minute.range;R.minutes.utc=R.minute.utc.range;R.hour=kb(function(a){var c=a.getTimezoneOffset()/60;return new Na(36E5*(Math.floor(a/36E5-c)+c))},function(a,c){a.setTime(a.getTime()+36E5*Math.floor(c))},function(a){return a.getHours()});
R.hours=R.hour.range;R.hours.utc=R.hour.utc.range;R.month=kb(function(a){return a=R.day(a),a.setDate(1),a},function(a,c){a.setMonth(a.getMonth()+c)},function(a){return a.getMonth()});R.months=R.month.range;R.months.utc=R.month.utc.range;var Td=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],sf=[[R.second,1],[R.second,5],[R.second,15],[R.second,30],[R.minute,1],[R.minute,5],[R.minute,15],[R.minute,30],[R.hour,1],[R.hour,3],[R.hour,6],[R.hour,12],
[R.day,1],[R.day,2],[R.week,1],[R.month,1],[R.month,3],[R.year,1]],zi=rf.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",fb]]),bi={range:function(a,c,b){return v.range(Math.ceil(a/b)*b,+c,b).map(gc)},floor:t,ceil:t};
sf.year=R.year;R.scale=function(){return hf(v.scale.linear(),sf,zi)};var Wg=sf.map(function(a){return[a[0].utc,a[1]]}),Ai=Ug.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",fb]]);Wg.year=R.year.utc;
R.scale.utc=function(){return hf(v.scale.linear(),Wg,Ai)};v.text=Ra(function(a){return a.responseText});v.json=function(a,c){return Qa(a,"application/json",ci,c)};v.html=function(a,c){return Qa(a,"text/html",di,c)};v.xml=Ra(function(a){return a.responseXML});"function"==typeof define&&define.amd?define(v):"object"==typeof module&&module.exports&&(module.exports=v);this.d3=v}();if(function(b){function n(a,b){return new n.prototype.init(a,b)}Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;return function(){return b.apply(a)}});var u=0;b.fn.redactor=function(a){var d=[],f=Array.prototype.slice.call(arguments,1);return"string"==typeof a?this.each(function(){var g,c=b.data(this,"redactor");("-1"!==a.search(/\./)?(g=a.split("."),void 0!==c[g[0]]&&(g=c[g[0]][g[1]])):g=c[a],void 0!==c&&b.isFunction(g))?(g=g.apply(c,f),void 0!==g&&g!==c&&d.push(g)):b.error('No such method "'+
a+'" for Redactor')}):this.each(function(){b.data(this,"redactor",{});b.data(this,"redactor",n(this,a))}),0===d.length?this:1===d.length?d[0]:d};b.Redactor=n;b.Redactor.VERSION="2.10";b.Redactor.modules="air autosave block buffer build button caret clean code core detect dropdown events file focus image indent inline insert keydown keyup lang line link linkify list marker modal observe offset paragraphize paste placeholder progress selection shortcuts storage toolbar upload uploads3 utils browser".split(" ");
b.Redactor.settings={};b.Redactor.opts={animation:!1,lang:"en",direction:"ltr",spellcheck:!0,overrideStyles:!0,stylesClass:!1,scrollTarget:document,focus:!1,focusEnd:!1,clickToEdit:!1,structure:!1,tabindex:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:!1,callbacks:{},placeholder:!1,linkify:!0,enterKey:!0,pastePlainText:!1,pasteImages:!0,pasteLinks:!0,pasteBlockTags:"pre h1 h2 h3 h4 h5 h6 table tbody thead tfoot th tr td ul ol li blockquote p figure figcaption".split(" "),pasteInlineTags:"br strong ins code del span samp kbd sup sub mark var cite small b u em i".split(" "),
preClass:!1,preSpaces:4,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveFields:!1,imageUpload:null,imageUploadParam:"file",imageUploadFields:!1,imageUploadForms:!1,imageTag:"figure",imageEditable:!0,imageCaption:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",dragImageUpload:!0,multipleImageUpload:!0,clipboardImageUpload:!0,fileUpload:null,fileUploadParam:"file",fileUploadFields:!1,fileUploadForms:!1,dragFileUpload:!0,s3:!1,linkNewTab:!1,linkTooltip:!0,linkNofollow:!1,linkSize:30,
linkValidation:!0,pasteLinkTarget:!1,videoContainerClass:"video-container",toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarOverflow:!1,air:!1,airWidth:!1,formatting:"p blockquote pre h1 h2 h3 h4 h5 h6".split(" "),formattingAdd:!1,buttons:"format bold italic deleted lists image file link horizontalrule".split(" "),buttonsTextLabeled:!1,buttonsHide:[],buttonsHideOnMobile:[],script:!0,removeNewlines:!1,removeComments:!0,replaceTags:{b:"strong",
i:"em",strike:"del"},keepStyleAttr:[],keepInlineOnEnter:!1,shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},
shortcutsAdd:!1,activeButtons:["deleted","italic","bold"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",u:"underline",strike:"deleted"},langs:{en:{format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U",lists:"Lists","link-insert":"Insert link","link-edit":"Edit link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",
cancel:"Cancel",close:"Close",insert:"Insert",save:"Save",delete:"Delete",text:"Text",edit:"Edit",title:"Title",general:"General",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line","upload-label":"Drop file here or ",caption:"Caption",
upload:"Upload",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center","accessibility-help-label":"Rich text editor"}},type:"textarea",inline:!1,inlineTags:"a span strong strike b u em i code del ins samp kbd sup sub mark var cite small".split(" "),blockTags:"pre ul ol li p h1 h2 h3 h4 h5 h6 dl dt dd div td blockquote output figcaption figure address section header footer aside article iframe".split(" "),paragraphize:!0,paragraphizeBlocks:"table div pre form ul ol h1 h2 h3 h4 h5 h6 dl blockquote figcaption address section header footer aside article object style script iframe select input textarea button option map area math hr fieldset legend hgroup nav figure details menu summary p".split(" "),
emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",emptyHtmlRendered:b("").html("\u200b").html(),imageTypes:["image/png","image/jpeg","image/gif"],userAgent:navigator.userAgent.toLowerCase(),observe:{dropdowns:[]},regexps:{linkyoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,linkvimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,linkvimeochannel:/https?:\/\/(www\.)?vimeo.com\/channels\/[^\/]+\/(\d+)($|\/)/,
linkimage:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi}};n.fn=b.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(a,d){if(this.$element=b(a),this.uuid=u++,this.sBuffer=[],this.sRebuffer=[],this.loadOptions(d),this.loadModules(),this.opts.clickToEdit&&!this.$element.hasClass("redactor-click-to-edit"))return this.loadToEdit(d);
this.$element.hasClass("redactor-click-to-edit")&&this.$element.removeClass("redactor-click-to-edit");this.reIsBlock=new RegExp("^("+this.opts.blockTags.join("|").toUpperCase()+")$","i");this.reIsInline=new RegExp("^("+this.opts.inlineTags.join("|").toUpperCase()+")$","i");this.opts.dragImageUpload=null!==this.opts.imageUpload&&this.opts.dragImageUpload;this.opts.dragFileUpload=null!==this.opts.fileUpload&&this.opts.dragFileUpload;this.formatting={};this.lang.load();b.extend(this.opts.shortcuts,this.opts.shortcutsAdd);
this.$editor=this.$element;this.detectType();this.core.callback("start");this.core.callback("startToEdit");this.start=!0;this.build.start()},detectType:function(){this.build.isInline()||this.opts.inline?this.opts.type="inline":this.build.isTag("DIV")?this.opts.type="div":this.build.isTag("PRE")&&(this.opts.type="pre")},loadToEdit:function(a){this.$element.on("click.redactor-click-to-edit",b.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},initToEdit:function(a){b.extend(a.callbacks,
{startToEdit:function(){this.insert.node(this.marker.get(),!1)},initToEdit:function(){this.selection.restore();this.clickToCancelStorage=this.code.get();b(this.opts.clickToCancel).off(".redactor-click-to-edit");b(this.opts.clickToCancel).show().on("click.redactor-click-to-edit",b.proxy(function(d){d.preventDefault();this.core.destroy();this.events.syncFire=!1;this.$element.html(this.clickToCancelStorage);this.core.callback("cancel",this.clickToCancelStorage);this.events.syncFire=!0;this.clickToCancelStorage=
"";b(this.opts.clickToCancel).hide();b(this.opts.clickToSave).hide();this.$element.on("click.redactor-click-to-edit",b.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},this));b(this.opts.clickToSave).off(".redactor-click-to-edit");b(this.opts.clickToSave).show().on("click.redactor-click-to-edit",b.proxy(function(d){d.preventDefault();this.core.destroy();this.core.callback("save",this.code.get());b(this.opts.clickToCancel).hide();b(this.opts.clickToSave).hide();
this.$element.on("click.redactor-click-to-edit",b.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},this))}});this.$element.redactor(a);this.$element.off(".redactor-click-to-edit")},loadOptions:function(a){var d={};void 0!==b.Redactor.settings.namespace?this.$element.hasClass(b.Redactor.settings.namespace)&&(d=b.Redactor.settings):d=b.Redactor.settings;this.opts=b.extend({},b.Redactor.opts,this.$element.data(),a);this.opts=b.extend({},this.opts,d)},getModuleMethods:function(a){return Object.getOwnPropertyNames(a).filter(function(b){return"function"==
typeof a[b]})},loadModules:function(){for(var a=b.Redactor.modules.length,d=0;d<a;d++)this.bindModuleMethods(b.Redactor.modules[d])},bindModuleMethods:function(a){if(void 0!==this[a]){this[a]=this[a]();for(var b=this.getModuleMethods(this[a]),f=b.length,g=0;g<f;g++)this[a][b[g]]=this[a][b[g]].bind(this)}},air:function(){return{enabled:!1,collapsed:function(){this.opts.air&&this.selection.get().collapseToStart()},collapsedEnd:function(){this.opts.air&&this.selection.get().collapseToEnd()},build:function(){this.detect.isMobile()||
(this.button.hideButtons(),this.button.hideButtonsOnMobile(),0!==this.opts.buttons.length&&(this.$air=this.air.createContainer(),!1!==this.opts.airWidth&&this.$air.css("width",this.opts.airWidth),this.air.append(),this.button.$toolbar=this.$air,this.button.setFormatting(),this.button.load(this.$air),this.core.editor().on("mouseup.redactor",this,b.proxy(function(a){""!==this.selection.text()&&this.air.show(a)},this))))},append:function(){this.$air.appendTo("body")},createContainer:function(){return b("<ul>").addClass("redactor-air").attr({id:"redactor-air-"+
this.uuid,role:"toolbar"}).hide()},show:function(a){this.selection.saveInstant();b(".redactor-air").hide();var d=0,f=this.$air.innerWidth();b(window).width()<a.clientX+f&&(d=200);this.$air.css({left:a.clientX-d+"px",top:a.clientY+10+b(document).scrollTop()+"px"}).show();this.air.enabled=!0;this.air.bindHide()},bindHide:function(){b(document).on("mousedown.redactor-air."+this.uuid,b.proxy(function(a){var d=b(a.target).closest(".redactor-dropdown").length;0===b(a.target).closest(this.$air).length&&
0===d&&!1!==this.air.hide(a)&&this.marker.remove()},this)).on("keydown.redactor-air."+this.uuid,b.proxy(function(a){var d=a.which;(this.utils.isRedactorParent(a.target)||b(a.target).hasClass("redactor-in"))&&0===b(a.target).closest("#redactor-modal").length&&(d===this.keyCode.ESC?this.selection.get().collapseToStart():d===this.keyCode.BACKSPACE||d===this.keyCode.DELETE?(d=this.selection.get(),this.selection.range(d).deleteContents()):d===this.keyCode.ENTER&&this.selection.get().collapseToEnd(),this.air.enabled?
this.air.hide(a):this.selection.get().collapseToStart())},this))},hide:function(a){if(a.ctrlKey||a.metaKey||a.shiftKey&&a.altKey)return!1;this.button.setInactiveAll();this.$air.fadeOut(100);this.air.enabled=!1;b(document).off("mousedown.redactor-air."+this.uuid);b(document).off("keydown.redactor-air."+this.uuid)}}},autosave:function(){return{enabled:!1,html:!1,init:function(){this.opts.autosave&&(this.autosave.enabled=!0,this.autosave.name=this.opts.autosaveName?this.opts.autosaveName:this.$textarea.attr("name"))},
is:function(){return this.autosave.enabled},send:function(){if(this.opts.autosave&&(this.autosave.source=this.code.get(),this.autosave.html!==this.autosave.source)){var a={};a.name=this.autosave.name;a[this.autosave.name]=this.autosave.source;a=this.autosave.getHiddenFields(a);b.ajax({url:this.opts.autosave,type:"post",data:a}).done(this.autosave.success)}},getHiddenFields:function(a){return!1===this.opts.autosaveFields||"object"!=typeof this.opts.autosaveFields?a:(b.each(this.opts.autosaveFields,
b.proxy(function(d,f){null!==f&&0===f.toString().indexOf("#")&&(f=b(f).val());a[d]=f},this)),a)},success:function(a){try{var b=JSON.parse(a)}catch(f){b=a}this.core.callback(void 0===b.error?"autosave":"autosaveError",this.autosave.name,b);this.autosave.html=this.autosave.source},disable:function(){this.autosave.enabled=!1;clearInterval(this.autosaveTimeout)}}},block:function(){return{format:function(a,d,f,g){if(a="quote"===a?"blockquote":a,this.block.tags="p blockquote pre h1 h2 h3 h4 h5 h6 div figure".split(" "),
-1!==b.inArray(a,this.block.tags))return"p"===a&&void 0===d&&(d="class"),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.block.formatCollapsed(a,d,f,g):this.block.formatUncollapsed(a,d,f,g)},formatCollapsed:function(a,d,f,g){this.selection.save();var c=this.selection.block(),h=c.tagName.toLowerCase();if(-1===b.inArray(h,this.block.tags))return void this.selection.restore();var k=!1;h===a&&void 0===d&&(a="p",k=!0);k&&(this.block.removeAllClass(),this.block.removeAllAttr());
"blockquote"===h&&this.utils.isEndOfElement(c)?(this.marker.remove(),h=document.createElement("p"),h.innerHTML=this.opts.invisibleSpace,b(c).after(h),this.caret.start(h),c=b(c).children().last(),0!==c.length&&"BR"===c[0].tagName&&c.remove()):h=this.utils.replaceToTag(c,a);if("object"==typeof d){g=f;for(var m in d)h=this.block.setAttr(h,m,d[m],g)}else h=this.block.setAttr(h,d,f,g);return"pre"===a&&1===h.length&&b(h).html(b.trim(b(h).html())),this.selection.restore(),this.block.removeInlineTags(h),
h},formatUncollapsed:function(a,d,f,g){this.selection.save();var c=[],h=this.selection.blocks();h[0]&&(b(h[0]).hasClass("redactor-in")||b(h[0]).hasClass("redactor-box"))&&(h=this.core.editor().find(this.opts.blockTags.join(", ")));for(var k=h.length,m=0;m<k;m++){var e=h[m].tagName.toLowerCase();if(-1!==b.inArray(e,this.block.tags)&&"figure"!==e){e=this.utils.replaceToTag(h[m],a);if("object"==typeof d){g=f;for(var l in d)e=this.block.setAttr(e,l,d[l],g)}else e=this.block.setAttr(e,d,f,g);c.push(e);
this.block.removeInlineTags(e)}}if(this.selection.restore(),"pre"===a&&0!==c.length){var q=c[0];b.each(c,function(a,c){0!==a&&(b(q).append("\n"+b.trim(c.html())),b(c).remove())});c=[];c.push(q)}return c},removeInlineTags:function(a){a=a[0]||a;var d=this.opts.inlineTags;if(-1!==b.inArray(a.tagName,"PRE H1 H2 H3 H4 H5 H6".split(" "))){if("PRE"!==a.tagName){var f=d.indexOf("a");d.splice(f,1)}b(a).find(d.join(",")).not(".redactor-selection-marker").contents().unwrap()}},setAttr:function(a,b,f,g){if(void 0===
b)return a;g=void 0===g?"replace":g;return"class"===b?this.block[g+"Class"](f,a):"remove"===g?this.block[g+"Attr"](b,a):"removeAll"===g?this.block[g+"Attr"](b,a):this.block[g+"Attr"](b,f,a)},getBlocks:function(a){if(a=void 0===a?this.selection.blocks():a,b(a).hasClass("redactor-box")){var d=[];a=this.core.editor().children();return b.each(a,b.proxy(function(a,b){this.utils.isBlock(b)&&d.push(b)},this)),d}return a},replaceClass:function(a,d){return b(this.block.getBlocks(d)).removeAttr("class").addClass(a)[0]},
toggleClass:function(a,d){return b(this.block.getBlocks(d)).toggleClass(a)[0]},addClass:function(a,d){return b(this.block.getBlocks(d)).addClass(a)[0]},removeClass:function(a,d){return b(this.block.getBlocks(d)).removeClass(a)[0]},removeAllClass:function(a){return b(this.block.getBlocks(a)).removeAttr("class")[0]},replaceAttr:function(a,d,f){return f=this.block.removeAttr(a,f),b(f).attr(a,d)[0]},toggleAttr:function(a,d,f){f=this.block.getBlocks(f);var g=this,c=[];return b.each(f,function(f,k){b(k).attr(a)?
c.push(g.block.removeAttr(a,k)):c.push(g.block.addAttr(a,d,k))}),c},addAttr:function(a,d,f){return b(this.block.getBlocks(f)).attr(a,d)[0]},removeAttr:function(a,d){return b(this.block.getBlocks(d)).removeAttr(a)[0]},removeAllAttr:function(a){a=this.block.getBlocks(a);var d=[];return b.each(a,function(a,b){if(void 0!==b.attributes)for(;b.attributes.length;)b.removeAttribute(b.attributes[0].name);d.push(b)}),d}}},buffer:function(){return{set:function(a){void 0===a&&this.buffer.clear();void 0===a||
"undo"===a?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){var a=this.selection.saveInstant(),b=this.sBuffer[this.sBuffer.length-1],f=this.core.editor().html();void 0!==b&&b[0]===f||this.sBuffer.push([f,a])},setRedo:function(){var a=this.selection.saveInstant();this.sRebuffer.push([this.core.editor().html(),a])},add:function(){this.sBuffer.push([this.core.editor().html(),0])},undo:function(){if(0!==this.sBuffer.length){var a=this.sBuffer.pop();this.buffer.set("redo");this.core.editor().html(a[0]);
this.selection.restoreInstant(a[1]);this.selection.restore();this.observe.load();this.code.sync()}},redo:function(){if(0!==this.sRebuffer.length){var a=this.sRebuffer.pop();this.buffer.set("undo");this.core.editor().html(a[0]);this.selection.restoreInstant(a[1]);this.selection.restore();this.observe.load();this.code.sync()}},clear:function(){this.sRebuffer=[]}}},build:function(){return{start:function(){"inline"===this.opts.type?this.opts.type="inline":"div"===this.opts.type?(""===b.trim(this.$editor.html())&&
this.$editor.html(this.opts.emptyHtml),this.build.buildTextarea()):"textarea"===this.opts.type&&this.build.startTextarea();this.build.setIn();this.build.setId();this.build.enableEditor();this.build.setOptions();this.build.callEditor()},createContainerBox:function(){this.$box=b('<div class="redactor-box" role="application" />')},setIn:function(){this.core.editor().addClass("redactor-in")},setId:function(){var a="textarea"===this.opts.type?"redactor-uuid-"+this.uuid:this.$element.attr("id");this.core.editor().attr("id",
void 0===a?"redactor-uuid-"+this.uuid:a)},getName:function(){var a=this.$element.attr("name");return void 0===a?"content-"+this.uuid:a},buildTextarea:function(){this.$textarea=b("<textarea>");this.$textarea.attr("name",this.build.getName());this.$textarea.hide();this.$element.after(this.$textarea);this.build.setStartAttrs()},loadFromTextarea:function(){this.$editor=b("<div />");this.$textarea=this.$element;this.$element.attr("name",this.build.getName());this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element);
this.build.setStartAttrs();this.$editor.addClass("redactor-layer");this.opts.overrideStyles&&this.$editor.addClass("redactor-styles");this.$element.hide();this.$box.prepend('<span class="redactor-voice-label" id="redactor-voice-'+this.uuid+'" aria-hidden="false">'+this.lang.get("accessibility-help-label")+"</span>")},setStartAttrs:function(){this.$editor.attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},startTextarea:function(){this.build.createContainerBox();this.build.loadFromTextarea();
this.code.start(this.core.textarea().val());this.core.textarea().val(this.clean.onSync(this.$editor.html()))},isTag:function(a){return this.$element[0].tagName===a},isInline:function(){return!this.build.isTag("TEXTAREA")&&!this.build.isTag("DIV")&&!this.build.isTag("PRE")},enableEditor:function(){this.core.editor().attr({contenteditable:!0})},setOptions:function(){"inline"===this.opts.type&&(this.opts.enterKey=!1);"inline"!==this.opts.type&&"pre"!==this.opts.type||(this.opts.toolbarMobile=!1,this.opts.toolbar=
!1,this.opts.air=!1,this.opts.linkify=!1);this.core.editor().attr("spellcheck",this.opts.spellcheck);this.opts.structure&&this.core.editor().addClass("redactor-structure");this.opts.stylesClass&&this.core.editor().addClass(this.opts.stylesClass);"textarea"===this.opts.type&&(this.core.box().attr("dir",this.opts.direction),this.core.editor().attr("dir",this.opts.direction),this.opts.tabindex&&this.core.editor().attr("tabindex",this.opts.tabindex),this.opts.minHeight?this.core.editor().css("min-height",
this.opts.minHeight):this.core.editor().css("min-height","40px"),this.opts.maxHeight&&this.core.editor().css("max-height",this.opts.maxHeight),this.opts.maxWidth&&this.core.editor().css({"max-width":this.opts.maxWidth,margin:"auto"}))},callEditor:function(){this.build.disableBrowsersEditing();this.events.init();this.build.setHelpers();(this.opts.toolbar||this.opts.air)&&(this.toolbarsButtons=this.button.init());this.opts.air?this.air.build():this.opts.toolbar&&this.toolbar.build();this.detect.isMobile()&&
this.opts.toolbarMobile&&this.opts.air&&(this.opts.toolbar=!0,this.toolbar.build());(this.opts.air||this.opts.toolbar)&&(this.core.editor().on("mouseup.redactor-observe."+this.uuid+" keyup.redactor-observe."+this.uuid+" focus.redactor-observe."+this.uuid+" touchstart.redactor-observe."+this.uuid,b.proxy(this.observe.toolbar,this)),this.core.element().on("blur.callback.redactor",b.proxy(function(){this.button.setInactiveAll()},this)));this.modal.templates();this.build.plugins();this.autosave.init();
this.code.html=this.code.cleaned(this.core.editor().html());this.core.callback("init");this.core.callback("initToEdit");this.storage.observe();this.start=!1},setHelpers:function(){this.opts.linkify&&this.linkify.format();this.placeholder.init();this.opts.focus?setTimeout(this.focus.start,100):this.opts.focusEnd&&setTimeout(this.focus.end,100)},disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",
!1,!1)}catch(a){}},plugins:function(){this.opts.plugins&&b.each(this.opts.plugins,b.proxy(function(a,d){a=void 0!==RedactorPlugins&&void 0!==RedactorPlugins[d]?RedactorPlugins:n.fn;if(b.isFunction(a[d])){this[d]=a[d]();a=this.getModuleMethods(this[d]);for(var f=a.length,g=0;g<f;g++)this[d][a[g]]=this[d][a[g]].bind(this);if(void 0!==this[d].langs){a={};void 0!==this[d].langs[this.opts.lang]?a=this[d].langs[this.opts.lang]:void 0===this[d].langs[this.opts.lang]&&void 0!==this[d].langs.en&&(a=this[d].langs.en);
var c=this;b.each(a,function(a,b){void 0===c.opts.curLang[a]&&(c.opts.curLang[a]=b)})}b.isFunction(this[d].init)&&this[d].init()}},this))}}},button:function(){return{toolbar:function(){return void 0!==this.button.$toolbar&&this.button.$toolbar?this.button.$toolbar:this.$toolbar},init:function(){return{format:{title:this.lang.get("format"),icon:!0,dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{title:this.lang.get("code"),
func:"block.format"},h1:{title:this.lang.get("heading1"),func:"block.format"},h2:{title:this.lang.get("heading2"),func:"block.format"},h3:{title:this.lang.get("heading3"),func:"block.format"},h4:{title:this.lang.get("heading4"),func:"block.format"},h5:{title:this.lang.get("heading5"),func:"block.format"},h6:{title:this.lang.get("heading6"),func:"block.format"}}},bold:{title:this.lang.get("bold-abbr"),icon:!0,label:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic-abbr"),
icon:!0,label:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted-abbr"),icon:!0,label:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline-abbr"),icon:!0,label:this.lang.get("underline"),func:"inline.format"},lists:{title:this.lang.get("lists"),icon:!0,dropdown:{unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+
this.lang.get("outdent"),func:"indent.decrease",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},ul:{title:"&bull; "+this.lang.get("bulletslist"),icon:!0,func:"list.toggle"},ol:{title:"1. "+this.lang.get("numberslist"),icon:!0,func:"list.toggle"},outdent:{title:this.lang.get("outdent"),icon:!0,
func:"indent.decrease"},indent:{title:this.lang.get("indent"),icon:!0,func:"indent.increase"},image:{title:this.lang.get("image"),icon:!0,func:"image.show"},file:{title:this.lang.get("file"),icon:!0,func:"file.show"},link:{title:this.lang.get("link"),icon:!0,dropdown:{link:{title:this.lang.get("link-insert"),func:"link.show",observe:{element:"a",in:{title:this.lang.get("link-edit")},out:{title:this.lang.get("link-insert")}}},unlink:{title:this.lang.get("unlink"),func:"link.unlink",observe:{element:"a",
out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},horizontalrule:{title:this.lang.get("horizontalrule"),icon:!0,func:"line.insert"}}},setFormatting:function(){b.each(this.toolbarsButtons.format.dropdown,b.proxy(function(a,d){-1===b.inArray(a,this.opts.formatting)&&delete this.toolbarsButtons.format.dropdown[a]},this))},hideButtons:function(){0!==this.opts.buttonsHide.length&&this.button.hideButtonsSlicer(this.opts.buttonsHide)},hideButtonsOnMobile:function(){this.detect.isMobile()&&
0!==this.opts.buttonsHideOnMobile.length&&this.button.hideButtonsSlicer(this.opts.buttonsHideOnMobile)},hideButtonsSlicer:function(a){b.each(a,b.proxy(function(a,b){a=this.opts.buttons.indexOf(b);-1!==a&&this.opts.buttons.splice(a,1)},this))},load:function(a){this.button.buttons=[];b.each(this.opts.buttons,b.proxy(function(d,f){!this.toolbarsButtons[f]||"file"===f&&!this.file.is()||"image"===f&&!this.image.is()||a.append(b("<li>").append(this.button.build(f,this.toolbarsButtons[f])))},this))},buildButtonTooltip:function(a,
d){if(!this.opts.air&&!this.detect.isMobile()){var f=b("<span>");f.addClass("re-button-tooltip");f.html(d);var g=this,c=this.button.toolbar();d=c.closest(".redactor-toolbar-box");d=0===d.length?c:d;d.prepend(f);a.on("mouseover",function(){if(!b(this).hasClass("redactor-button-disabled")){var d=c.hasClass("toolbar-fixed-box")?a.offset():a.position();d=g.opts.toolbarFixedTarget!==document?a.position():d;var k=c.hasClass("toolbar-fixed-box")?a.position().top+g.opts.toolbarFixedTopOffset:d.top,m=a.innerHeight(),
e=a.innerWidth(),l=c.hasClass("toolbar-fixed-box")?"fixed":"absolute";l=g.opts.toolbarFixedTarget!==document?"absolute":l;var q=g.opts.toolbarFixedTarget!==document?c.position().top:0;f.show();f.css({top:k+m+q+"px",left:d.left+e/2-f.innerWidth()/2+"px",position:l})}}).on("mouseout",function(){f.hide()})}},build:function(a,d){if(!1!==this.opts.toolbar){var f=void 0!==d.label?d.label:d.title,g=b('<a href="javascript:void(null);" alt="'+f+'" rel="'+a+'" />');if(g.addClass("re-button re-"+a),g.attr({role:"button",
"aria-label":f,tabindex:"-1"}),void 0===d.icon||this.opts.buttonsTextLabeled)g.html(d.title);else{var c=b("<i>");c.addClass("re-icon-"+a);g.append(c);g.addClass("re-button-icon");this.button.buildButtonTooltip(g,f)}if((d.func||d.command||d.dropdown)&&this.button.setEvent(g,a,d),d.dropdown)g.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0),f=b('<ul class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+a+'" style="display: none;">'),g.data("dropdown",f),
this.dropdown.build(a,f,d.dropdown);return this.button.buttons.push(g),g}},getButtons:function(){return this.button.toolbar().find("a.re-button")},getButtonsKeys:function(){return this.button.buttons},setEvent:function(a,d,f){a.on("mousedown",b.proxy(function(b){if(b.preventDefault(),a.hasClass("redactor-button-disabled"))return!1;var c="func",g=f.func;return f.command?(c="command",g=f.command):f.dropdown&&(c="dropdown",g=!1),this.button.toggle(b,d,c,g),!1},this))},toggle:function(a,b,f,g,c){!this.detect.isIe()&&
this.detect.isDesktop()||(this.utils.freezeScroll(),a.returnValue=!1);"command"===f?this.inline.format(g):"dropdown"===f?this.dropdown.show(a,b):this.button.clickCallback(a,g,b,c);"dropdown"!==f&&this.dropdown.hideAll(!1);this.opts.air&&"dropdown"!==f&&this.air.hide(a);!this.detect.isIe()&&this.detect.isDesktop()||this.utils.unfreezeScroll()},clickCallback:function(a,d,f,g){var c;if(g=void 0===g?f:g,b.isFunction(d))d.call(this,f);else if("-1"!==d.search(/\./)){if(c=d.split("."),void 0===this[c[0]])return;
"object"==typeof g?this[c[0]][c[1]].apply(this,g):this[c[0]][c[1]].call(this,g)}else"object"==typeof g?this[d].apply(this,g):this[d].call(this,g);this.observe.buttons(a,f)},all:function(){return this.button.buttons},get:function(a){if(!1!==this.opts.toolbar)return this.button.toolbar().find("a.re-"+a)},set:function(a,b){if(!1!==this.opts.toolbar)return a=this.button.toolbar().find("a.re-"+a),a.html(b).attr("aria-label",b),a},add:function(a,d){if(!0!==this.button.isAdded(a))return b();a=this.button.build(a,
{title:d});return this.button.toolbar().append(b("<li>").append(a)),a},addFirst:function(a,d){if(!0!==this.button.isAdded(a))return b();a=this.button.build(a,{title:d});return this.button.toolbar().prepend(b("<li>").append(a)),a},addAfter:function(a,d,f){if(!0!==this.button.isAdded(d))return b();d=this.button.build(d,{title:f});a=this.button.get(a);return 0!==a.length?a.parent().after(b("<li>").append(d)):this.button.toolbar().append(b("<li>").append(d)),d},addBefore:function(a,d,f){if(!0!==this.button.isAdded(d))return b();
d=this.button.build(d,{title:f});a=this.button.get(a);return 0!==a.length?a.parent().before(b("<li>").append(d)):this.button.toolbar().append(b("<li>").append(d)),d},isAdded:function(a){a=this.opts.buttonsHideOnMobile.indexOf(a);return!(!1===this.opts.toolbar||-1!==a&&this.detect.isMobile())},setIcon:function(a,b){this.opts.buttonsTextLabeled||(a.html(b).addClass("re-button-icon"),this.button.buildButtonTooltip(a,a.attr("alt")))},changeIcon:function(a,b){a=this.button.get(a);0!==a.length&&a.find("i").removeAttr("class").addClass("re-icon-"+
b)},addCallback:function(a,d){if(void 0!==a&&!1!==this.opts.toolbar){var f="dropdown"===d?"dropdown":"func",g=a.attr("rel");a.on("mousedown",b.proxy(function(c){if(a.hasClass("redactor-button-disabled"))return!1;this.button.toggle(c,g,f,d)},this))}},addDropdown:function(a,d){if(!1!==this.opts.toolbar){a.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var f=a.attr("rel");this.button.addCallback(a,"dropdown");var g=b('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+
f+'" style="display: none;">');return a.data("dropdown",g),d&&this.dropdown.build(f,g,d),g}},setActive:function(a){this.button.get(a).addClass("redactor-act")},setInactive:function(a){this.button.get(a).removeClass("redactor-act")},setInactiveAll:function(a){var b=this.button.toolbar().find("a.re-button");void 0!==a&&(b=b.not(".re-"+a));b.removeClass("redactor-act")},disable:function(a){this.button.get(a).addClass("redactor-button-disabled")},enable:function(a){this.button.get(a).removeClass("redactor-button-disabled")},
disableAll:function(a){var b=this.button.toolbar().find("a.re-button");void 0!==a&&(b=b.not(".re-"+a));b.addClass("redactor-button-disabled")},enableAll:function(){this.button.toolbar().find("a.re-button").removeClass("redactor-button-disabled")},remove:function(a){this.button.get(a).remove()}}},caret:function(){return{set:function(a,b,f){var d=this.core.editor().scrollTop();this.core.editor().focus();this.core.editor().scrollTop(d);f=void 0===f?0:1;a=a[0]||a;b=b[0]||b;d=this.selection.get();var c=
this.selection.range(d);try{c.setStart(a,0),c.setEnd(b,f)}catch(h){}this.selection.update(d,c)},prepare:function(a){return this.detect.isFirefox()&&void 0!==this.start&&this.core.editor().focus(),a[0]||a},start:function(a){var d,f;if(a=this.caret.prepare(a)){if("BR"===a.tagName)return this.caret.before(a);var g=b(a).children().first(),c=this.utils.isInlineTag(a.tagName);""===a.innerHTML||c?this.caret.setStartEmptyOrInline(a,c):g&&0!==g.length&&this.utils.isInlineTag(g[0].tagName)&&""===g.text()?this.caret.setStartEmptyOrInline(g[0],
!0):(d=window.getSelection(),d.removeAllRanges(),f=document.createRange(),f.selectNodeContents(a),f.collapse(!0),d.addRange(f))}},setStartEmptyOrInline:function(a,d){var f=window.getSelection(),g=document.createRange(),c=document.createTextNode("\u200b");g.setStart(a,0);g.insertNode(c);g.setStartAfter(c);g.collapse(!0);f.removeAllRanges();f.addRange(g);d||this.core.editor().on("keydown.redactor-remove-textnode",function(){b(c).remove();b(this).off("keydown.redactor-remove-textnode")})},end:function(a){var d,
f;if(a=this.caret.prepare(a)){if("BR"!==a.tagName&&""===a.innerHTML)return this.caret.start(a);if("BR"===a.tagName){var g=document.createElement("span");return g.className="redactor-invisible-space",g.innerHTML="&#x200b;",b(a).after(g),d=window.getSelection(),d.removeAllRanges(),f=document.createRange(),f.setStartBefore(g),f.setEndBefore(g),d.addRange(f),void b(g).replaceWith(function(){return b(this).contents()})}if(a.lastChild&&1===a.lastChild.nodeType)return this.caret.after(a.lastChild);d=window.getSelection();
if(d.getRangeAt||d.rangeCount)try{f=d.getRangeAt(0),f.selectNodeContents(a),f.collapse(!1),d.removeAllRanges(),d.addRange(f)}catch(c){}}},after:function(a){if(a=this.caret.prepare(a)){if("BR"===a.tagName)return this.caret.end(a);if(this.utils.isBlockTag(a.tagName)){var d=this.caret.next(a);return void(void 0===d?this.caret.end(a):("TABLE"===d.tagName?d=b(d).find("th, td").first()[0]:"UL"!==d.tagName&&"OL"!==d.tagName||(d=b(d).find("li").first()[0]),this.caret.start(d)))}var f=document.createTextNode("\u200b");
d=window.getSelection();d.removeAllRanges();var g=document.createRange();g.setStartAfter(a);g.insertNode(f);g.setStartAfter(f);g.collapse(!0);d.addRange(g)}},before:function(a){if(a=this.caret.prepare(a)){if(this.utils.isBlockTag(a.tagName)){var d=this.caret.prev(a);return void(void 0===d?this.caret.start(a):("TABLE"===d.tagName?d=b(d).find("th, td").last()[0]:"UL"!==d.tagName&&"OL"!==d.tagName||(d=b(d).find("li").last()[0]),this.caret.end(d)))}d=window.getSelection();d.removeAllRanges();var f=document.createRange();
f.setStartBefore(a);f.collapse(!0);d.addRange(f)}},next:function(a){a=b(a).next();return a.hasClass("redactor-script-tag, redactor-selection-marker")?a.next()[0]:a[0]},prev:function(a){a=b(a).prev();return a.hasClass("redactor-script-tag, redactor-selection-marker")?a.prev()[0]:a[0]},offset:function(a){return this.offset.get(a)}}},clean:function(){return{onSet:function(a){a=this.clean.savePreCode(a);a=this.clean.saveFormTags(a);this.opts.script&&(a=a.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,
'<pre class="redactor-script-tag" $1>$2</pre>'));a=a.replace(/\$/g,"&#36;");a=a.replace(/<a href="(.*?[^>]?)\u00ae(.*?[^>]?)">/gi,'<a href="$1&reg$2">');a=a.replace(/<span id="selection-marker-1"(.*?[^>]?)>\u200b<\/span>/gi,"###marker1###");a=a.replace(/<span id="selection-marker-2"(.*?[^>]?)>\u200b<\/span>/gi,"###marker2###");var d=this;a=b("<div/>").html(b.parseHTML(a,document,!0));var f=this.opts.replaceTags;if(f){var g=Object.keys(this.opts.replaceTags);a.find(g.join(",")).each(function(a,b){d.utils.replaceToTag(b,
f[b.tagName.toLowerCase()])})}a.find("span, a").attr("data-redactor-span",!0);a.find(this.opts.inlineTags.join(",")).each(function(){var a=b(this);a.attr("style")&&a.attr("data-redactor-style-cache",a.attr("style"))});a=a.html();g="font html head link body meta applet".split(" ");return this.opts.script||g.push("script"),a=this.clean.stripTags(a,g),this.opts.removeComments&&(a=a.replace(/\x3c!--[\s\S]*?--\x3e/gi,"")),a=this.paragraphize.load(a),a=a.replace("###marker1###",'<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>'),
a=a.replace("###marker2###",'<span id="selection-marker-2" class="redactor-selection-marker">\u200b</span>'),-1!==a.search(/^(||\s||<br\s?\/?>||&nbsp;)$/i)?this.opts.emptyHtml:a},onGet:function(a){return this.clean.onSync(a)},onSync:function(a){if(a=a.replace(/\u200B/g,""),a=a.replace(/&#x200b;/gi,""),-1!==a.search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";a=a.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>");a=a.replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,
"");a=a.replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,"");a=a.replace(/<img(.*?)style="(.*?)opacity: 0\.5;(.*?)"(.*?)>/gi,'<img$1style="$2$3"$4>');var d=b("<div/>").html(b.parseHTML(a,document,!0));d.find('*[style=""]').removeAttr("style");d.find('*[class=""]').removeAttr("class");d.find('*[rel=""]').removeAttr("rel");d.find('*[data-image=""]').removeAttr("data-image");d.find('*[alt=""]').removeAttr("alt");d.find('*[title=""]').removeAttr("title");d.find("*[data-redactor-style-cache]").removeAttr("data-redactor-style-cache");
d.find(".redactor-invisible-space, .redactor-unlink").each(function(){b(this).contents().unwrap()});d.find("span, a").removeAttr("data-redactor-span data-redactor-style-cache").each(function(){0===this.attributes.length&&b(this).contents().unwrap()});d.find("img").removeAttr("rel");d.find(".redactor-selection-marker, #redactor-insert-marker").remove();a=d.html();this.opts.script&&(a=a.replace(/<pre class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2\x3c/script>"));a=this.clean.restoreFormTags(a);
a=a.replace(/<br\s?\/?><\/h/gi,"</h");a=a.replace(/<br\s?\/?><\/li>/gi,"</li>");a=a.replace(/<\/li><br\s?\/?>/gi,"</li>");a=a.replace(/<pre>/gi,"<pre>\n");this.opts.preClass&&(a=a.replace(/<pre>/gi,'<pre class="'+this.opts.preClass+'">'));this.opts.linkNofollow&&(a=a.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,"<a$1$2>"),a=a.replace(/<a(.*?[^>])>/gi,'<a$1 rel="nofollow">'));return b.each({"\u2122":"&trade;","\u00a9":"&copy;","\u2026":"&hellip;","\u2014":"&mdash;","\u2010":"&dash;"},function(b,d){a=
a.replace(new RegExp(b,"g"),d)}),a=a.replace(/\n{2,}/g,"\n\n"),this.opts.removeNewlines&&(a=a.replace(/\r?\n/g,"")),a=this.core.callback("syncClean",a)},onPaste:function(a,d,f){!0!==f&&(a=a.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),a=a.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3"),a=a.replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>"),a=a.replace(/<span[^>]*(font-style: italic; font-weight: 700|font-weight: 700; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,
"<b><i>$2</i></b>"),a=a.replace(/<span[^>]*font-style: italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>"),a=a.replace(/<span[^>]*font-weight: bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>"),a=a.replace(/<span[^>]*font-weight: 700[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>"),a=a.replace(/<o:p[^>]*>/gi,""),a=a.replace(/<\/o:p>/gi,""),this.clean.isHtmlMsWord(a)&&(a=this.clean.cleanMsWord(a)));if(a=b.trim(a),d.pre)this.opts.preSpaces&&(a=a.replace(/\t/g,Array(this.opts.preSpaces+1).join(" ")));else{if(0<=a.indexOf("<p")&&
0<=a.indexOf("<br")){a=b("<div>").html(a);var g=this;a.find("p").each(function(){var a=b(this),d=b.trim(a.html().replace(/\n/g," "));0<=d.indexOf("<br")&&b.trim(g.clean.replaceBrToNl(d))&&a.html(d.replace(/\s*<br\s?\/?>\s*/gi,'<br data-keepbr="1">\n'))});a=a.html()}a=this.clean.replaceBrToNl(a);a=this.clean.replaceNbspToSpaces(a);a=this.clean.removeTagsInsidePre(a)}return!0!==f&&(a=this.clean.removeEmptyInlineTags(a),!1===d.encode&&(a=a.replace(/&/g,"&amp;"),a=this.clean.convertTags(a,d),a=this.clean.getPlainText(a),
a=this.clean.reconvertTags(a,d))),d.text&&(a=this.clean.replaceNbspToSpaces(a),a=this.clean.getPlainText(a)),d.lists&&(a=a.replace("\n","<br>")),d.encode&&(a=this.clean.encodeHtml(a)),d.paragraphize&&(a=a.replace(/ \n/g," "),a=a.replace(/\n /g," "),a=this.paragraphize.load(a),a=a.replace(/<p>\s*<\/p>/g,"")),a=a.replace(/<li>\s*<p>/g,"<li>"),a=a.replace(/<\/p>\s*<\/li>/g,"</li>"),d.pre||(a=a.replace(/\n|\r/g," ")),a},getCurrentType:function(a,b){var d=this.selection.blocks();a={text:!1,encode:!1,paragraphize:!0,
line:this.clean.isHtmlLine(a),blocks:this.clean.isHtmlBlocked(a),pre:!1,lists:!1,block:!0,inline:!0,links:!0,images:!0};return 1===d.length&&this.utils.isCurrentOrParent("h1 h2 h3 h4 h5 h6 a figcaption".split(" "))?(a.text=!0,a.paragraphize=!1,a.inline=!1,a.images=!1,a.links=!1,a.line=!0):"inline"===this.opts.type||!1===this.opts.enterKey?(a.paragraphize=!1,a.block=!1,a.line=!0):1===d.length&&this.utils.isCurrentOrParent(["li"])?(a.lists=!0,a.block=!1,a.paragraphize=!1,a.images=!0):1===d.length&&
this.utils.isCurrentOrParent(["th","td","blockquote"])?(a.block=!1,a.paragraphize=!1):("pre"===this.opts.type||1===d.length&&this.utils.isCurrentOrParent("pre"))&&(a.inline=!1,a.block=!1,a.encode=!0,a.pre=!0,a.paragraphize=!1,a.images=!1,a.links=!1),!0===a.line&&(a.paragraphize=!1),!0===b&&(a.text=!1),a},isHtmlBlocked:function(a){var b=a.match(new RegExp("</("+this.opts.blockTags.join("|").toUpperCase()+")>","gi"));a=a.match(/<hr(.*?[^>])>/gi);return null!==b||null!==a},isHtmlLine:function(a){if(this.clean.isHtmlBlocked(a))return!1;
var b=a.match(/<br\s?\/?>/gi);a=a.match(/\n/gi);return!b&&!a},isHtmlMsWord:function(a){return a.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},removeEmptyInlineTags:function(a){var d=this.opts.inlineTags,f=b("<div/>").html(b.parseHTML(a,document,!0)),g=this,c=f.find("span");d=f.find(d.join(","));return d.removeAttr("style"),d.each(function(){var a=b(this).html();0===this.attributes.length&&g.utils.isEmpty(a)&&b(this).replaceWith(function(){return b(this).contents()})}),
c.each(function(){b(this).html();0===this.attributes.length&&b(this).replaceWith(function(){return b(this).contents()})}),a=f.html(),a=a.replace("\x3c!--?php","<?php"),a=a.replace("\x3c!--?","<?"),a=a.replace("?--\x3e","?>"),f.remove(),a},cleanMsWord:function(a){a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,"");a=a.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"");a=a.replace(/\n/g," ");a=a.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n\n");var d=b("<div/>").html(a),f=!1,g=1,c=[];return d.find("p[style]").each(function(){var a=
b(this).attr("style").match(/mso\-list:l([0-9]+)\slevel([0-9]+)/);if(a){var k=parseInt(a[1]);a=parseInt(a[2]);var m=b(this).html().match(/^[\w]+\./)?"ol":"ul",e=b("<li/>").html(b(this).html());if(e.html(e.html().replace(/^([\w\.]+)</,"<")),e.find("span:first").remove(),1==a&&-1==b.inArray(k,c)){var l=b("<"+m+"/>").attr({"data-level":a,"data-list":k}).html(e);b(this).replaceWith(l);f=k;c.push(k)}else{if(a>g){for(var q=l=d.find('[data-level="'+g+'"][data-list="'+f+'"]'),n=g;n<a;n++)l=b("<"+m+"/>"),
l.appendTo(q.find("li").last()),q=l;q.attr({"data-level":a,"data-list":k}).html(e)}else l=d.find('[data-level="'+a+'"][data-list="'+k+'"]').last(),l.append(e);g=a;f=k;b(this).remove()}}}),d.find("[data-level][data-list]").removeAttr("data-level data-list"),a=d.html()},replaceNbspToSpaces:function(a){return a.replace(/&nbsp;/gi," ")},replaceBrToNl:function(a){return a.replace(/<br\s?\/?>/gi,"\n")},replaceNlToBr:function(a){return a.replace(/\n/g,"<br />")},convertTags:function(a,d){var f=b("<div>").html(a);
f.find("iframe").remove();var g=f.find("a");if(g.removeAttr("style"),!1!==this.opts.pasteLinkTarget&&g.attr("target",this.opts.pasteLinkTarget),d.links&&this.opts.pasteLinks&&f.find("a").each(function(a,b){if(b.href){for(var c='##%%a href="'+b.href+'"',d=0,e=b.attributes.length;d<e;d++)a=b.attributes.item(d),"href"!==a.name&&(c+=" "+a.name+'="'+a.value+'"');b.outerHTML=c+"%%##"+b.innerHTML+"##%%/a%%##"}}),a=f.html(),d.images&&this.opts.pasteImages&&(a=a.replace(/<img(.*?)src="(.*?)"(.*?[^>])>/gi,
'##%%img$1src="$2"$3%%##')),this.opts.pastePlainText)return a;f=d.lists?["ul","ol","li"]:this.opts.pasteBlockTags;d=d.block||d.lists?d.inline?f.concat(this.opts.pasteInlineTags):f:d.inline?this.opts.pasteInlineTags:[];f=d.length;for(g=0;g<f;g++)a=a.replace(new RegExp("</"+d[g]+">","gi"),"###/"+d[g]+"###"),"td"===d[g]||"th"===d[g]?a=a.replace(new RegExp("<"+d[g]+'(.*?[^>])((colspan|rowspan)="(.*?[^>])")?(.*?[^>])>',"gi"),"###"+d[g]+" $2###"):this.utils.isInlineTag(d[g])?(a=a.replace(new RegExp("<"+
d[g]+'([^>]*)class="([^>]*)"[^>]*>',"gi"),"###"+d[g]+' class="$2"###'),a=a.replace(new RegExp("<"+d[g]+'([^>]*)data-redactor-style-cache="([^>]*)"[^>]*>',"gi"),"###"+d[g]+' cache="$2"###'),a=a.replace(new RegExp("<"+d[g]+"[^>]*>","gi"),"###"+d[g]+"###")):a=a.replace(new RegExp("<"+d[g]+"[^>]*>","gi"),"###"+d[g]+"###");return a},reconvertTags:function(a,b){if((b.links&&this.opts.pasteLinks||b.images&&this.opts.pasteImages)&&(a=a.replace(/##%%/gi,"<"),a=a.replace(/%%##/gi,">")),this.opts.pastePlainText)return a;
var d=b.lists?["ul","ol","li"]:this.opts.pasteBlockTags;b=b.block||b.lists?b.inline?d.concat(this.opts.pasteInlineTags):d:b.inline?this.opts.pasteInlineTags:[];d=b.length;for(var g=0;g<d;g++)a=a.replace(new RegExp("###/"+b[g]+"###","gi"),"</"+b[g]+">");for(g=0;g<d;g++)a=a.replace(new RegExp("###"+b[g]+"###","gi"),"<"+b[g]+">");for(g=0;g<d;g++)"td"===b[g]||"th"===b[g]?a=a.replace(new RegExp("###"+b[g]+"s?(.*?[^#])###","gi"),"<"+b[g]+"$1>"):this.utils.isInlineTag(b[g])&&(a=a.replace(new RegExp("###"+
b[g]+' cache="(.*?[^#])"###',"gi"),"<"+b[g]+' style="$1"'+("span"===b[g]?' data-redactor-span="true"':"")+' data-redactor-style-cache="$1">'),a=a.replace(new RegExp("###"+b[g]+"s?(.*?[^#])###","gi"),"<"+b[g]+"$1>"));return a},cleanPre:function(a){a=void 0===a?b(this.selection.block()).closest("pre",this.core.editor()[0]):a;b(a).find("br").replaceWith(function(){return document.createTextNode("\n")});b(a).find("p").replaceWith(function(){return b(this).contents()})},removeTagsInsidePre:function(a){var d=
b("<div />").append(a);return d.find("pre").replaceWith(function(){var a=b(this).html();return a=a.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n"),a=a.replace(/(<([^>]+)>)/gi,""),b("<pre />").append(a)}),a=d.html(),d.remove(),a},getPlainText:function(a){a=a.replace(/\x3c!--[\s\S]*?--\x3e/gi,"");a=a.replace(/<style[\s\S]*?style>/gi,"");a=a.replace(/<p><\/p>/g,"");a=a.replace(/<\/div>|<\/li>|<\/td>/gi,"\n");a=a.replace(/<\/p>/gi,"\n\n");a=a.replace(/<\/H[1-6]>/gi,"\n\n");var d=document.createElement("div");
return d.innerHTML=a,a=d.textContent||d.innerText,b.trim(a)},savePreCode:function(a){return a=this.clean.savePreFormatting(a),a=this.clean.saveCodeFormatting(a),this.clean.restoreSelectionMarkers(a)},savePreFormatting:function(a){var d=a.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return null===d?a:(b.each(d,b.proxy(function(b,d){var c,f,g;b=[];var m=!1;d.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>/i)?(b=d.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>([\w\W]*?)<\/code>(([\n\r\s]+)?)<\/pre>/i),m=!0,c=b[5],
f=b[1],g=b[4]):(b=d.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i),c=b[2],f=b[1]);c=c.replace(/<br\s?\/?>/g,"\n");c=c.replace(/&nbsp;/g," ");this.opts.preSpaces&&(c=c.replace(/\t/g,Array(this.opts.preSpaces+1).join(" ")));c=this.clean.encodeEntities(c);c=c.replace(/\$/g,"&#36;");a=m?a.replace(d,"<pre"+f+"><code"+g+">"+c+"</code></pre>"):a.replace(d,"<pre"+f+">"+c+"</pre>")},this)),a)},saveCodeFormatting:function(a){var d=a.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);return null===d?a:(b.each(d,b.proxy(function(b,
d){b=d.match(/<code(.*?)>([\w\W]*?)<\/code>/i);b[2]=b[2].replace(/&nbsp;/g," ");b[2]=this.clean.encodeEntities(b[2]);b[2]=b[2].replace(/\$/g,"&#36;");a=a.replace(d,"<code"+b[1]+">"+b[2]+"</code>")},this)),a)},restoreSelectionMarkers:function(a){return a.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot;&gt;\u200b&lt;\/span&gt;/g,'<span id="selection-marker-$1" class="redactor-selection-marker">\u200b</span>')},saveFormTags:function(a){return a.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,
'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(a){return a.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")},encodeHtml:function(a){return a=a.replace(/\u201d/g,'"'),a=a.replace(/\u201c/g,'"'),a=a.replace(/\u2018/g,"'"),a=a.replace(/\u2019/g,"'"),this.clean.encodeEntities(a)},encodeEntities:function(a){return a=String(a).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),a.replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},stripTags:function(a,b){return void 0===b?a.replace(/(<([^>]+)>)/gi,""):a.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(a,d){return-1===b.indexOf(d.toLowerCase())?a:""})},removeMarkers:function(a){return a.replace(/<span(.*?[^>]?)class="redactor-selection-marker"(.*?[^>]?)>([\w\W]*?)<\/span>/gi,"")},removeSpaces:function(a){return a=b.trim(a),a=a.replace(/\n/g,""),a=a.replace(/[\t]*/g,""),a=a.replace(/\n\s*\n/g,"\n"),a=
a.replace(/^[\s\n]*/g," "),a=a.replace(/[\s\n]*$/g," "),a=a.replace(/>\s{2,}</g,"> <"),a=a.replace(/\n\n/g,"\n"),a.replace(/\u200B/g,"")},removeSpacesHard:function(a){return a=b.trim(a),a=a.replace(/\n/g,""),a=a.replace(/[\t]*/g,""),a=a.replace(/\n\s*\n/g,"\n"),a=a.replace(/^[\s\n]*/g,""),a=a.replace(/[\s\n]*$/g,""),a=a.replace(/>\s{2,}</g,"><"),a=a.replace(/\n\n/g,"\n"),a.replace(/\u200B/g,"")},normalizeCurrentHeading:function(){var a=this.selection.block();this.utils.isCurrentOrParentHeader()&&
a&&a.normalize()}}},code:function(){return{syncFire:!0,html:!1,start:function(a){a=b.trim(a);a=a.replace(/^(<span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span>)/,"");"textarea"===this.opts.type?a=this.clean.onSet(a):"div"===this.opts.type&&""===a&&(a=this.opts.emptyHtml);a=a.replace(/<p><span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span><\/p>/,"");this.events.stopDetectChanges();this.core.editor().html(a);this.observe.load();this.events.startDetectChanges()},
set:function(a,d){a=b.trim(a);d=d||{};d.start&&(this.start=d.start);"textarea"===this.opts.type?a=this.clean.onSet(a):"div"===this.opts.type&&""===a&&(a=this.opts.emptyHtml);this.core.editor().html(a);"textarea"===this.opts.type&&this.code.sync();this.placeholder.enable()},get:function(){if("textarea"===this.opts.type)return this.core.textarea().val();var a=this.core.editor().html();return this.clean.onGet(a)},sync:function(){if(this.code.syncFire){var a=this.core.editor().html(),d=this.code.cleaned(a);
if(!this.code.isSync(d)){if(this.code.html=d,"textarea"!==this.opts.type)return this.core.callback("sync",a),void this.core.callback("change",a);"textarea"===this.opts.type&&setTimeout(b.proxy(function(){this.code.startSync(a)},this),10)}}},startSync:function(a){a=this.core.callback("syncBefore",a);a=this.clean.onSync(a);this.core.textarea().val(a);this.core.callback("sync",a);!1===this.start&&this.core.callback("change",a);this.start=!1},isSync:function(a){var b=!1!==this.code.html&&this.code.html;
return!1!==b&&b===a},cleaned:function(a){return a=a.replace(/\u200B/g,""),this.clean.removeMarkers(a)}}},core:function(){return{id:function(){return this.$editor.attr("id")},element:function(){return this.$element},editor:function(){return void 0===this.$editor?b():this.$editor},textarea:function(){return this.$textarea},box:function(){return"textarea"===this.opts.type?this.$box:this.$element},toolbar:function(){return!!this.$toolbar&&this.$toolbar},air:function(){return!!this.$air&&this.$air},object:function(){return b.extend({},
this)},structure:function(){this.core.editor().toggleClass("redactor-structure")},addEvent:function(a){this.core.event=a},getEvent:function(){return this.core.event},callback:function(a,d,f){var g=!1,c=b._data(this.core.element()[0],"events");if(void 0!==c&&void 0!==c[a])for(var h=c[a].length,k=0;k<h;k++)if("callback.redactor"===c[a][k].namespace){g=c[a][k].handler;var m=void 0===f?[d]:[d,f];g=void 0===m?g.call(this,d):g.call(this,d,m)}if(g)return g;if(void 0===this.opts.callbacks[a])return void 0===
f?d:f;a=this.opts.callbacks[a];return b.isFunction(a)?void 0===f?a.call(this,d):a.call(this,d,f):void 0===f?d:f},destroy:function(){this.opts.destroyed=!0;this.core.callback("destroy");this.placeholder.destroy();this.progress.destroy();b("#redactor-voice-"+this.uuid).remove();this.core.editor().removeClass("redactor-in redactor-styles redactor-structure redactor-layer-img-edit");this.core.editor().off("keydown.redactor-remove-textnode");this.core.editor().off(".redactor-observe."+this.uuid);this.$element.off(".redactor").removeData("redactor");
this.core.editor().off(".redactor");b(document).off(".redactor-dropdown");b(document).off(".redactor-air."+this.uuid);b(document).off("mousedown.redactor-blur."+this.uuid);b(document).off("mousedown.redactor."+this.uuid);b(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid);b(window).off(".redactor-toolbar."+this.uuid);b(window).off("touchmove.redactor."+this.uuid);b("body").off("scroll.redactor."+this.uuid);b(this.opts.toolbarFixedTarget).off("scroll.redactor."+this.uuid);
var a=this;!1!==this.opts.plugins&&b.each(this.opts.plugins,function(d,g){b(window).off(".redactor-plugin-"+g);b(document).off(".redactor-plugin-"+g);b("body").off(".redactor-plugin-"+g);a.core.editor().off(".redactor-plugin-"+g)});this.$element.off("click.redactor-click-to-edit");this.$element.removeClass("redactor-click-to-edit");this.core.editor().removeClass("redactor-layer");this.core.editor().removeAttr("contenteditable");var d=this.code.get();this.opts.toolbar&&this.$toolbar&&this.$toolbar.find("a").each(function(){var a=
b(this);a.data("dropdown")&&(a.data("dropdown").remove(),a.data("dropdown",{}))});"textarea"===this.opts.type&&(this.$box.after(this.$element),this.$box.remove(),this.$element.val(d).show());this.opts.air&&this.$air.remove();this.opts.toolbar&&this.$toolbar&&this.$toolbar.remove();this.$modalBox&&this.$modalBox.remove();this.$modalOverlay&&this.$modalOverlay.remove();b(".redactor-link-tooltip").remove();clearInterval(this.autosaveTimeout)}}},detect:function(){return{isWebkit:function(){return/webkit/.test(this.opts.userAgent)},
isFirefox:function(){return-1<this.opts.userAgent.indexOf("firefox")},isIe:function(a){if(document.documentMode||/Edge/.test(navigator.userAgent))return"edge";var b;return b=RegExp("msie"+(isNaN(a)?"":"\\s"+a),"i").test(navigator.userAgent),b||(b=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),b},isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isIpad:function(){return/iPad/.test(navigator.userAgent)}}},
dropdown:function(){return{active:!1,button:!1,key:!1,position:[],getDropdown:function(){return this.dropdown.active},build:function(a,d,f){f=this.dropdown.buildFormatting(a,f);b.each(f,b.proxy(function(b,c){var f=this.dropdown.buildItem(b,c);this.observe.addDropdown(f,b,c);d.attr("rel",a).append(f)},this))},buildFormatting:function(a,d){return"format"!==a||!1===this.opts.formattingAdd?d:(b.each(this.opts.formattingAdd,b.proxy(function(a,b){var c=this.utils.isBlockTag(b.args[0])?"block":"inline";
d[a]={func:"block"===c?"block.format":"inline.format",args:b.args,title:b.title}},this)),d)},buildItem:function(a,d){var f=b("<li />");if(void 0!==d.classname&&f.addClass(d.classname),-1!==a.search(/^divider/i))return f.addClass("redactor-dropdown-divider"),f;var g=b('<a href="#" class="redactor-dropdown-'+a+'" role="button" />'),c=b("<span />").html(d.title);return g.append(c),g.on("mousedown",b.proxy(function(c){c.preventDefault();this.dropdown.buildClick(c,a,d)},this)),f.append(g),f},buildClick:function(a,
d,f){if(!b(a.target).hasClass("redactor-dropdown-link-inactive")){var g=this.dropdown.buildCommand(f);void 0!==f.args?this.button.toggle(a,d,g.type,g.callback,f.args):this.button.toggle(a,d,g.type,g.callback)}},buildCommand:function(a){var b={};return b.type="func",b.callback=a.func,a.command?(b.type="command",b.callback=a.command):a.dropdown&&(b.type="dropdown",b.callback=a.dropdown),b},show:function(a,d){if(this.detect.isDesktop()&&this.core.editor().focus(),this.dropdown.hideAll(!1,d),this.dropdown.key=
d,this.dropdown.button=this.button.get(this.dropdown.key),this.dropdown.button.hasClass("dropact"))return void this.dropdown.hide();this.dropdown.active=this.dropdown.button.data("dropdown").appendTo(document.body);this.core.callback("dropdownShow",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button});this.button.setActive(this.dropdown.key);this.dropdown.button.addClass("dropact");this.dropdown.getButtonPosition();this.button.toolbar().hasClass("toolbar-fixed-box")&&
this.detect.isDesktop()?this.dropdown.showIsFixedToolbar():this.dropdown.showIsUnFixedToolbar();this.detect.isDesktop()&&!this.detect.isFirefox()&&(this.dropdown.active.on("mouseover.redactor-dropdown",b.proxy(this.utils.disableBodyScroll,this)),this.dropdown.active.on("mouseout.redactor-dropdown mousedown.redactor-dropdown",b.proxy(this.utils.enableBodyScroll,this)));a.stopPropagation()},showIsFixedToolbar:function(){var a=this.dropdown.button.position().top+this.dropdown.button.innerHeight()+this.opts.toolbarFixedTopOffset,
d="fixed";this.opts.toolbarFixedTarget!==document&&(a=this.dropdown.button.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,d="absolute");this.dropdown.active.css({position:d,left:this.dropdown.position.left+"px",top:a+"px"}).show();this.dropdown.active.redactorAnimation("slideDown",{duration:.2},b.proxy(function(){this.dropdown.enableCallback();this.dropdown.enableEvents()},this))},showIsUnFixedToolbar:function(){this.dropdown.active.css({position:"absolute",left:this.dropdown.position.left+
"px",top:this.dropdown.button.innerHeight()+this.dropdown.position.top+"px"}).show();this.dropdown.active.redactorAnimation(this.opts.animation?"slideDown":"show",{duration:.2},b.proxy(function(){this.dropdown.enableCallback();this.dropdown.enableEvents()},this))},enableEvents:function(){b(document).on("mousedown.redactor-dropdown",b.proxy(this.dropdown.hideAll,this));this.core.editor().on("touchstart.redactor-dropdown",b.proxy(this.dropdown.hideAll,this));b(document).on("keyup.redactor-dropdown",
b.proxy(this.dropdown.closeHandler,this))},enableCallback:function(){this.core.callback("dropdownShown",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button})},getButtonPosition:function(){this.dropdown.position=this.dropdown.button.offset();var a=this.dropdown.active.width();this.dropdown.position.left+a>b(document).width()&&(this.dropdown.position.left=Math.max(0,this.dropdown.position.left-a+parseInt(this.dropdown.button.innerWidth())))},closeHandler:function(a){a.which===
this.keyCode.ESC&&(this.dropdown.hideAll(a),this.core.editor().focus())},hideAll:function(a,d){if(this.detect.isDesktop()&&this.utils.enableBodyScroll(),!1===a||0===b(a.target).closest(".redactor-dropdown").length)a=void 0===d?this.button.toolbar().find("a.dropact"):this.button.toolbar().find("a.dropact").not(".re-"+d),d=void 0===d?b(".redactor-dropdown-"+this.uuid):b(".redactor-dropdown-"+this.uuid).not(".redactor-dropdown-box-"+d),0!==d.length&&(b(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),
b.each(d,b.proxy(function(a,d){a=b(d);this.core.callback("dropdownHide",a);a.hide();a.off("mouseover mouseout").off(".redactor-dropdown")},this)),a.removeClass("redactor-act dropact"))},hide:function(){!1!==this.dropdown.active&&(this.detect.isDesktop()&&this.utils.enableBodyScroll(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideUp":"hide",{duration:.2},b.proxy(function(){b(document).off(".redactor-dropdown");this.core.editor().off(".redactor-dropdown");this.dropdown.hideOut()},
this)))},hideOut:function(){this.core.callback("dropdownHide",this.dropdown.active);this.dropdown.button.removeClass("redactor-act dropact");this.dropdown.active.off("mouseover mouseout").off(".redactor-dropdown");this.dropdown.button=!1;this.dropdown.key=!1;this.dropdown.active=!1}}},events:function(){return{focused:!1,blured:!0,dropImage:!1,stopChanges:!1,stopDetectChanges:function(){this.events.stopChanges=!0},startDetectChanges:function(){var a=this;setTimeout(function(){a.events.stopChanges=
!1},1)},dragover:function(a){a.preventDefault();a.stopPropagation();"IMG"===a.target.tagName&&b(a.target).addClass("redactor-image-dragover")},dragleave:function(a){this.core.editor().find("img").removeClass("redactor-image-dragover")},drop:function(a){return a=a.originalEvent||a,this.core.editor().find("img").removeClass("redactor-image-dragover"),"inline"===this.opts.type||"pre"===this.opts.type?(a.preventDefault(),!1):void 0===window.FormData||!a.dataTransfer||(0===a.dataTransfer.files.length?
this.events.onDrop(a):(this.events.onDropUpload(a),void this.core.callback("drop",a)))},click:function(a){var b=this.core.getEvent();this.core.addEvent("click"!==b&&"arrow"!==b&&"click");this.utils.disableSelectAll();this.core.callback("click",a)},focus:function(a){if(!this.rtePaste&&(this.events.isCallback("focus")&&this.core.callback("focus",a),this.events.focused=!0,this.events.blured=!1,!1===this.selection.current())){a=this.selection.get();var b=this.selection.range(a);b.setStart(this.core.editor()[0],
0);b.setEnd(this.core.editor()[0],0);this.selection.update(a,b)}},blur:function(a){this.start||this.rtePaste||0===b(a.target).closest("#"+this.core.id()+", .redactor-toolbar, .redactor-dropdown, #redactor-modal-box").length&&(!this.events.blured&&this.events.isCallback("blur")&&this.core.callback("blur",a),this.events.focused=!1,this.events.blured=!0)},touchImageEditing:function(){var a=-1;this.events.imageEditing=!1;b(window).on("touchmove.redactor."+this.uuid,b.proxy(function(){this.events.imageEditing=
!0;-1!==a&&clearTimeout(a);a=setTimeout(b.proxy(function(){this.events.imageEditing=!1},this),500)},this))},init:function(){this.core.editor().on("dragover.redactor dragenter.redactor",b.proxy(this.events.dragover,this));this.core.editor().on("dragleave.redactor",b.proxy(this.events.dragleave,this));this.core.editor().on("drop.redactor",b.proxy(this.events.drop,this));this.core.editor().on("click.redactor",b.proxy(this.events.click,this));this.core.editor().on("paste.redactor",b.proxy(this.paste.init,
this));this.core.editor().on("keydown.redactor",b.proxy(this.keydown.init,this));this.core.editor().on("keyup.redactor",b.proxy(this.keyup.init,this));this.core.editor().on("focus.redactor",b.proxy(this.events.focus,this));b(document).on("mousedown.redactor-blur."+this.uuid,b.proxy(this.events.blur,this));this.events.touchImageEditing();this.events.createObserver();this.events.setupObserver()},createObserver:function(){var a=this;this.events.observer=new MutationObserver(function(d){d.forEach(b.proxy(a.events.iterateObserver,
a))})},iterateObserver:function(a){var b=!1;(("textarea"===this.opts.type||"div"===this.opts.type)&&!this.detect.isFirefox()&&a.target===this.core.editor()[0]||"class"===a.attributeName&&a.target===this.core.editor()[0]||"data-vivaldi-spatnav-clickable"==a.attributeName)&&(b=!0);b||(this.observe.load(),this.events.changeHandler())},setupObserver:function(){this.events.observer.observe(this.core.editor()[0],{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})},changeHandler:function(){this.events.stopChanges||
(this.code.sync(),this.autosave.is()&&(clearTimeout(this.autosaveTimeout),this.autosaveTimeout=setTimeout(b.proxy(this.autosave.send,this),300)))},onDropUpload:function(a){if(a.preventDefault(),a.stopPropagation(),(this.opts.dragImageUpload||this.opts.dragFileUpload)&&(null!==this.opts.imageUpload||null!==this.opts.fileUpload)){"IMG"===a.target.tagName&&(this.events.dropImage=a.target);for(var b=a.dataTransfer.files,f=b.length,g=0;g<f;g++)this.upload.directUpload(b[g],a)}},onDrop:function(a){this.core.callback("drop",
a)},isCallback:function(a){return void 0!==this.opts.callbacks[a]&&b.isFunction(this.opts.callbacks[a])},stopDetect:function(){this.events.stopDetectChanges()},startDetect:function(){this.events.startDetectChanges()}}},file:function(){return{is:function(){return!(!this.opts.fileUpload||!this.opts.fileUpload&&!this.opts.s3)},show:function(){this.modal.load("file",this.lang.get("file"),700);this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert);b("#redactor-filename").val(this.selection.get().toString());
this.modal.show()},insert:function(a,d,f){if(void 0!==a.error)return this.modal.close(),void this.core.callback("fileUploadError",a);this.file.release(f,d);this.buffer.set();this.air.collapsed();f=this.file.text(a);f=b("<a />").attr("href",a.url).text(f);var g=void 0===a.id?"":a.id,c=void 0===a.s3?"file":"s3";f.attr("data-"+c,g);f=b(this.insert.node(f));this.caret.after(f);this.storage.add({type:c,node:f[0],url:a.url,id:g});null!==d&&this.core.callback("fileUpload",f,a)},release:function(a,b){b?(this.marker.remove(),
this.insert.nodeToPoint(a,this.marker.get()),this.selection.restore()):this.modal.close()},text:function(a){var d=b("#redactor-filename").val();return void 0===d||""===d?a.name:d}}},focus:function(){return{start:function(){if(this.core.editor().focus(),"inline"!==this.opts.type){var a=this.focus.first();!1!==a&&this.caret.start(a)}},end:function(){this.core.editor().focus();var a=this.opts.inline?this.core.editor():this.focus.last();if(0!==a.length){var b=this.focus.lastChild(a);if(this.detect.isWebkit()||
!1===b){b=this.selection.get();var f=this.selection.range(b);null!==f?(f.selectNodeContents(a[0]),f.collapse(!1),this.selection.update(b,f)):this.caret.end(a)}else this.caret.end(b)}},first:function(){var a=this.core.editor().children().first();return!a.length||"UL"!==a[0].tagName&&"OL"!==a[0].tagName||(a=a.find("li").first()),0!==a.length&&0!==a[0].length&&"BR"!==a[0].tagName&&"HR"!==a[0].tagName&&3!==a[0].nodeType&&a},last:function(){return this.core.editor().children().last()},lastChild:function(a){a=
a[0].lastChild;return!(null===a||!this.utils.isInlineTag(a.tagName))&&a},is:function(){return this.core.editor()[0]===document.activeElement}}},image:function(){return{is:function(){return!(!this.opts.imageUpload||!this.opts.imageUpload&&!this.opts.s3)},show:function(){var a=this.selection.current();if(a)if(this.utils.isTag(a,"img"))this.events.dropImage=a;else if(a=b(a).find("img:first"),a.length)return this.image.showEdit(a);this.modal.load("image",this.lang.get("image"),700);this.upload.init("#redactor-modal-image-droparea",
this.opts.imageUpload,this.image.insert);this.modal.show()},insert:function(a,d,f){var g;if(void 0!==a.error)return this.modal.close(),this.events.dropImage=!1,void this.core.callback("imageUploadError",a,f);if(!1!==this.events.dropImage)return g=b(this.events.dropImage),this.core.callback("imageDelete",g[0].src,g),g.attr("src",a.url),this.events.dropImage=!1,this.core.callback("imageUpload",g,a),void this.modal.close();this.placeholder.hide();var c=b("<"+this.opts.imageTag+">");g=b("<img>");g.attr("src",
a.url);var h=void 0===a.id?"":a.id,k=void 0===a.s3?"image":"s3";g.attr("data-"+k,h);c.append(g);var m=this.utils.isTag(this.selection.current(),"pre");d?(this.air.collapsed(),this.marker.remove(),f=this.insert.nodeToPoint(f,this.marker.get()),f=b(f).next(),this.selection.restore(),this.buffer.set(),void 0!==f&&0!==f.length&&"IMG"===f[0].tagName?(this.core.callback("imageDelete",f[0].src,f),f.closest("figure, p",this.core.editor()[0]).replaceWith(c),this.caret.after(c)):(m?b(m).after(c):this.insert.node(c),
this.caret.after(c))):(this.modal.close(),this.buffer.set(),this.air.collapsed(),m?b(m).after(c):this.insert.node(c),this.caret.after(c));this.events.dropImage=!1;this.storage.add({type:k,node:g[0],url:a.url,id:h});h=g[0].nextSibling;c=c.next();k=b(h).text().replace(/\u200B/g,"");m=c.text().replace(/\u200B/g,"");""===k&&b(h).remove();1===c.length&&"FIGURE"===c[0].tagName&&""===m&&c.remove();null!==d?this.core.callback("imageUpload",g,a):this.core.callback("imageInserted",g,a)},setEditable:function(a){if(a.on("dragstart",
function(a){a.preventDefault()}),this.opts.imageResizable){var d=b.proxy(function(d){this.observe.image=a;this.image.resizer=this.image.loadEditableControls(a);b(document).on("mousedown.redactor-image-resize-hide."+this.uuid,b.proxy(this.image.hideResize,this));this.image.resizer&&this.image.resizer.on("mousedown.redactor touchstart.redactor",b.proxy(function(b){this.image.setResizable(b,a)},this))},this);a.off("mousedown.redactor").on("mousedown.redactor",b.proxy(this.image.hideResize,this));a.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",
d)}else a.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",b.proxy(function(d){setTimeout(b.proxy(function(){this.image.showEdit(a)},this),200)},this))},setResizable:function(a,b){a.preventDefault();this.image.resizeHandle={x:a.pageX,y:a.pageY,el:b,ratio:b.width()/b.height(),h:b.height()};a=a.originalEvent||a;a.targetTouches&&(this.image.resizeHandle.x=a.targetTouches[0].pageX,this.image.resizeHandle.y=a.targetTouches[0].pageY);this.image.startResize()},startResize:function(){b(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",
b.proxy(this.image.moveResize,this));b(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",b.proxy(this.image.stopResize,this))},moveResize:function(a){a.preventDefault();a=a.originalEvent||a;var b=this.image.resizeHandle.h;a.targetTouches?b+=a.targetTouches[0].pageY-this.image.resizeHandle.y:b+=a.pageY-this.image.resizeHandle.y;a=Math.round(b*this.image.resizeHandle.ratio);50>b||100>a||(this.image.resizeHandle.el.attr({width:a,height:b}),this.image.resizeHandle.el.width(a),
this.image.resizeHandle.el.height(b),this.code.sync())},stopResize:function(){this.handle=!1;b(document).off(".redactor-image-resize");this.image.hideResize()},hideResize:function(a){a&&0!==b(a.target).closest("#redactor-image-box",this.$editor[0]).length||(a&&"IMG"==a.target.tagName&&b(a.target),a=this.$editor.find("#redactor-image-box"),0!==a.length&&(b("#redactor-image-editter").remove(),b("#redactor-image-resizer").remove(),a.find("img").css({marginTop:a[0].style.marginTop,marginBottom:a[0].style.marginBottom,
marginLeft:a[0].style.marginLeft,marginRight:a[0].style.marginRight}),a.css("margin",""),a.find("img").css("opacity",""),a.replaceWith(function(){return b(this).contents()}),b(document).off("mousedown.redactor-image-resize-hide."+this.uuid),void 0!==this.image.resizeHandle&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style"))))},loadResizableControls:function(a,d){if(this.opts.imageResizable&&!this.detect.isMobile()){var f=b('<span id="redactor-image-resizer" data-redactor="verified"></span>');
return this.detect.isDesktop()||f.css({width:"15px",height:"15px"}),f.attr("contenteditable",!1),d.append(f),d.append(a),f}return d.append(a),!1},loadEditableControls:function(a){if(0===b("#redactor-image-box").length){var d=b('<span id="redactor-image-box" data-redactor="verified">');if(d.css("float",a.css("float")).attr("contenteditable",!1),"auto"!=a[0].style.margin?(d.css({marginTop:a[0].style.marginTop,marginBottom:a[0].style.marginBottom,marginLeft:a[0].style.marginLeft,marginRight:a[0].style.marginRight}),
a.css("margin","")):d.css({display:"block",margin:"auto"}),a.css("opacity",".5").after(d),this.opts.imageEditable){this.image.editter=b('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>");this.image.editter.attr("contenteditable",!1);this.image.editter.on("click",b.proxy(function(){this.image.showEdit(a)},this));d.append(this.image.editter);var f=this.image.editter.innerWidth();this.image.editter.css("margin-left","-"+f/2+"px")}return this.image.loadResizableControls(a,
d)}},showEdit:function(a){if(!this.events.imageEditing){this.observe.image=a;var d=a.closest("a",this.$editor[0]),f=a.closest("figure",this.$editor[0]),g=0!==f.length?f:a;if(this.modal.load("image-edit",this.lang.get("edit"),705),this.image.buttonDelete=this.modal.getDeleteButton().text(this.lang.get("delete")),this.image.buttonSave=this.modal.getActionButton().text(this.lang.get("save")),this.image.buttonDelete.on("click",b.proxy(this.image.remove,this)),this.image.buttonSave.on("click",b.proxy(this.image.update,
this)),!1===this.opts.imageCaption)b("#redactor-image-caption").val("").hide().prev().hide();else{var c=a.closest(this.opts.imageTag,this.$editor[0]).find("figcaption");0!==c&&b("#redactor-image-caption").val(c.text()).show()}this.opts.imagePosition?(f=(0!==f.length?"center"===g.css("text-align"):"block"==g.css("display")&&"none"==g.css("float"))?"center":g.css("float"),b("#redactor-image-align").val(f)):b(".redactor-image-position-option").hide();b("#redactor-image-preview").html(b('<img src="'+
a.attr("src")+'" style="max-width: 100%;">'));b("#redactor-image-title").val(a.attr("alt"));0!==d.length&&(b("#redactor-image-link").val(d.attr("href")),"_blank"===d.attr("target")&&b("#redactor-image-link-blank").prop("checked",!0));b(".redactor-link-tooltip").remove();this.modal.show();this.detect.isDesktop()&&b("#redactor-image-title").focus()}},update:function(){var a=this.observe.image,d=a.closest("a",this.core.editor()[0]),f=b("#redactor-image-title").val().replace(/(<([^>]+)>)/gi,"");a.attr("alt",
f).attr("title",f);this.image.setFloating(a);f=b.trim(b("#redactor-image-link").val()).replace(/(<([^>]+)>)/gi,"");if(""!==f){var g=/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}/i;-1===f.search(/^(http|ftp|https):\/\/((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}/i)&&0===f.search(g)&&this.opts.linkProtocol&&(f=this.opts.linkProtocol+"://"+f);g=!!b("#redactor-image-link-blank").prop("checked");0===d.length?(d=b('<a href="'+f+'" id="redactor-img-tmp">'+this.utils.getOuterHtml(a)+"</a>"),g&&d.attr("target",
"_blank"),a=a.replaceWith(d),d=this.core.editor().find("#redactor-img-tmp"),d.removeAttr("id")):(d.attr("href",f),g?d.attr("target","_blank"):d.removeAttr("target"))}else 0!==d.length&&d.replaceWith(this.utils.getOuterHtml(a));this.image.addCaption(a,d);this.modal.close();this.buffer.set()},setFloating:function(a){var d=a.closest("figure",this.$editor[0]),f=0!==d.length?d:a,g="",c="",h="",k="";switch(b("#redactor-image-align").val()){case "left":g="left";h="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+
" 0";break;case "right":g="right";h="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;break;case "center":0!==d.length?k="center":(c="block",h="auto")}f.css({float:g,display:c,margin:h,"text-align":k});f.attr("rel",a.attr("style"))},addCaption:function(a,d){var f=b("#redactor-image-caption").val();a=0!==d.length?d:a;d=a.next();0!==d.length&&"FIGCAPTION"===d[0].tagName||(d=!1);""!==f?!1===d?(d=b("<figcaption />").text(f),a.after(d)):d.text(f):!1!==d&&d.remove()},remove:function(a,d,
f){d=void 0===d?b(this.observe.image):d;"boolean"!=typeof a&&this.buffer.set();this.events.stopDetectChanges();f=d.closest("a",this.core.editor()[0]);var g=d.closest(this.opts.imageTag,this.core.editor()[0]);d.parent();if(!1===this.core.callback("imageDelete",a,d[0]))return a&&a.preventDefault(),!1;0!==b("#redactor-image-box").length&&b("#redactor-image-box").parent();var c,h;0!==g.length?(h=g.prev(),c=g.next(),g.remove()):0!==f.length?(f.parent(),f.remove()):d.remove();b("#redactor-image-box").remove();
!1!==a&&(c&&0!==c.length?this.caret.start(c):h&&0!==h.length&&this.caret.end(h));"boolean"!=typeof a&&this.modal.close();this.utils.restoreScroll();this.observe.image=!1;this.events.startDetectChanges();this.placeholder.enable();this.code.sync()}}},indent:function(){return{increase:function(){if(this.list.get()){var a=b(this.selection.current()).closest("li"),d=a.closest("ul, ol",this.core.editor()[0]),f=a.closest("li").prev();if(0!==f.length&&"LI"===f[0].tagName){if(this.buffer.set(),this.utils.isCollapsed()){var g=
d[0].tagName;b("<"+g+" />");this.selection.save();g=f.find("ol").first();1===g.length?g.append(a):(g=d[0].tagName,d=b("<"+g+" />"),d.append(a),f.append(d))}else document.execCommand("indent"),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize();this.selection.restore()}}},decrease:function(){if(this.list.get()){b(this.selection.current()).closest("li").closest("ul, ol",this.core.editor()[0]);this.buffer.set();document.execCommand("outdent");var a=b(this.selection.current()).closest("li",
this.core.editor()[0]);if(this.utils.isCollapsed()&&this.indent.repositionItem(a),0===a.length)document.execCommand("formatblock",!1,"p"),a=b(this.selection.current()),a=a.next(),0!==a.length&&"BR"===a[0].tagName&&a.remove();this.selection.save();this.indent.removeEmpty();this.indent.normalize();this.selection.restore()}},repositionItem:function(a){var b=a.next();0===b.length||"UL"===b[0].tagName&&"OL"===b[0].tagName||a.append(b);b=a.prev();0!==b.length&&"LI"!==b[0].tagName&&(this.selection.save(),
a.parents("li",this.core.editor()[0]).after(a),this.selection.restore())},normalize:function(){this.core.editor().find("li").each(b.proxy(function(a,d){a=b(d);d="";0!==this.opts.keepStyleAttr.length&&(d=","+this.opts.keepStyleAttr.join(","));a.find(this.opts.inlineTags.join(",")).not("img"+d).removeAttr("style");d=a.parent();if(0!==d.length&&"LI"===d[0].tagName)return void d.after(a);d=a.next();0===d.length||"UL"!==d[0].tagName&&"OL"!==d[0].tagName||a.append(d)},this))},removeEmpty:function(a){a=
this.core.editor().find("ul, ol");var d=this.core.editor().find("li");d.each(b.proxy(function(a,b){this.indent.removeItemEmpty(b)},this));a.each(b.proxy(function(a,b){this.indent.removeItemEmpty(b)},this));d.each(b.proxy(function(a,b){this.indent.removeItemEmpty(b)},this))},removeItemEmpty:function(a){""===a.innerHTML.replace(/[\t\s\n]/g,"").replace(/<span><\/span>/g,"")&&b(a).remove()}}},inline:function(){return{format:function(a,b,f,g){this.utils.isCurrentOrParent(["PRE","CODE"])||(b=this.inline.getParams(b,
f,g),a=this.inline.arrangeTag(a),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.inline.formatCollapsed(a,b):this.inline.formatUncollapsed(a,b))},formatCollapsed:function(a,d){var f=this.selection.inline();if(f){var g=f.tagName.toLowerCase();g===a?this.utils.isEmpty(f.innerHTML)?(this.caret.after(f),b(f).remove()):(d=this.inline.insertBreakpoint(f,g),this.caret.after(d)):0===b(f).closest(a).length?(a=this.inline.insertInline(a),this.inline.setParams(a,d)):(d=this.inline.insertBreakpoint(f,
g),this.caret.after(d))}else a=this.inline.insertInline(a),this.inline.setParams(a,d)},formatUncollapsed:function(a,d){this.selection.save();var f=this.inline.getClearedNodes();this.inline.setNodesStriked(f,a,d);this.selection.restore();document.execCommand("strikethrough");this.selection.saveInstant();var g=this;this.core.editor().find("strike").each(function(){var c=g.utils.replaceToTag(this,a);g.inline.setParams(c[0],d);var f=c.find(a),k=c.parent(),m=k.parent();if(0!==m.length&&m[0].tagName.toLowerCase()===
a&&m.html()==k[0].outerHTML)return c.replaceWith(function(){return b(this).contents()}),void m.replaceWith(function(){return b(this).contents()});0!==f.length&&g.inline.cleanInsideOrParent(f,d);k.html()==c[0].outerHTML&&g.inline.cleanInsideOrParent(k,d);g.detect.isFirefox()&&g.core.editor().find(a+":empty").remove()});this.selection.restoreInstant()},cleanInsideOrParent:function(a,b){if(b)for(var d in b.data)this.inline.removeSpecificAttr(a,d,b.data[d])},getClearedNodes:function(){for(var a=this.selection.nodes(),
d=[],f=a.length,g=0,c=0;c<f;c++)if(b(a[c]).hasClass("redactor-selection-marker")){g=c+2;break}for(c=0;c<f;c++)c>=g&&!this.utils.isBlockTag(a[c].tagName)&&d.push(a[c]);return d},isConvertableAttr:function(a,d,f){var g=b(a).attr(d);if(g)if("style"===d){f=b.trim(f).replace(/;$/,"");d=f.split(";");for(g=f=0;g<d.length;g++){var c=d[g].split(":"),h=b.trim(c[0]);c=b.trim(c[1]);-1!==h.search(/color/)?(h=b(a).css(h),!h||h!==c&&this.utils.rgb2hex(h)!==c||f++):b(a).css(h)===c&&f++}if(f===d.length)return 1}else if(g===
f)return 1;return 0},isConvertable:function(a,b,f,g){if(b===f){if(!g)return!0;b=0;for(var c in g.data)b+=this.inline.isConvertableAttr(a,c,g.data[c]);if(b===Object.keys(g.data).length)return!0}return!1},setNodesStriked:function(a,d,f){for(var g=0;g<a.length;g++){var c=a[g].tagName?a[g].tagName.toLowerCase():void 0,h=a[g].parentNode,k=h&&h.tagName?h.tagName.toLowerCase():void 0;(k=this.inline.isConvertable(h,k,d,f))&&b(h).replaceWith(function(){return b("<strike>").append(b(this).contents())}).attr("data-redactor-inline-converted");
(k=this.inline.isConvertable(a[g],c,d,f))&&b(a[g]).replaceWith(function(){return b("<strike>").append(b(this).contents())})}},insertBreakpoint:function(a,d){var f=document.createElement("span");f.id="redactor-inline-breakpoint";this.insert.node(f);var g=this.utils.isEndOfElement(a);f=this.utils.getOuterHtml(a);g=g?"":"<"+d+">";f=f.replace(/<span id="redactor-inline-breakpoint"><\/span>/i,"</"+d+">"+g);d=b(f);return b(a).replaceWith(d),""!==g&&this.utils.cloneAttributes(a,d.last()),d.first()},insertInline:function(a){a=
document.createElement(a);return this.insert.node(a),this.caret.start(a),a},arrangeTag:function(a){var b="b bold i italic underline strikethrough deleted superscript subscript".split(" "),f="strong strong em em u del del sup sub".split(" ");a=a.toLowerCase();for(var g=0;g<b.length;g++)a===b[g]&&(a=f[g]);return a},getStyleParams:function(a){var b={};a=a.trim().replace(/;$/,"").split(";");for(var f=0;f<a.length;f++){var g=a[f].split(":");g&&(b[g[0].trim()]=g[1].trim())}return b},getParams:function(a,
b,f){var d=!1,c="toggle";return"object"==typeof a?(d=a,c=void 0!==b?b:c):void 0!==a&&void 0!==b&&(d={},d[a]=b,c=void 0!==f?f:c),!!d&&{func:c,data:d}},setParams:function(a,d){if(d)for(var f in d.data){var g=b(a);"style"===f?(a=this.inline[d.func+"Style"](d.data[f],a),g.attr("data-redactor-style-cache",g.attr("style"))):a="class"===f?this.inline[d.func+"Class"](d.data[f],a):"remove"===d.func?this.inline[d.func+"Attr"](f,a):this.inline[d.func+"Attr"](f,d.data[f],a);"style"===f&&"SPAN"===a.tagName&&g.attr("data-redactor-span",
!0)}return a},eachInline:function(a,b){if(a=void 0===a?this.selection.inlines():[a])for(var d=0;d<a.length;d++)var g=b(a[d])[0];return g},replaceClass:function(a,d){return this.inline.eachInline(d,function(d){return b(d).removeAttr("class").addClass(a)})},toggleClass:function(a,d){return this.inline.eachInline(d,function(d){return b(d).toggleClass(a)})},addClass:function(a,d){return this.inline.eachInline(d,function(d){return b(d).addClass(a)})},removeClass:function(a,d){return this.inline.eachInline(d,
function(d){return b(d).removeClass(a)})},removeAllClass:function(a){return this.inline.eachInline(a,function(a){return b(a).removeAttr("class")})},replaceAttr:function(a,d,f){return this.inline.eachInline(f,function(d){return b(d).removeAttr(a).attr(a.value)})},toggleAttr:function(a,d,f){return this.inline.eachInline(f,function(d){return b(d).attr(a)?b(d).removeAttr(a):b(d).attr(a.value)})},addAttr:function(a,d,f){return this.inline.eachInline(f,function(f){return b(f).attr(a,d)})},removeAttr:function(a,
d){return this.inline.eachInline(d,function(d){d=b(d);return d.removeAttr(a),"style"===a&&d.removeAttr("data-redactor-style-cache"),d})},removeAllAttr:function(a){return this.inline.eachInline(a,function(a){for(var d=b(a),g=a.attributes.length,c=0;c<g;c++)d.removeAttr(a.attributes[c].name);return d})},removeSpecificAttr:function(a,d,f){var g=b(a);"style"===d?(d=f.split(":")[0].trim(),g.css(d,""),this.utils.removeEmptyAttr(a,"style")&&g.removeAttr("data-redactor-style-cache")):g.removeAttr(d)[0]},
hasParentStyle:function(a){var b=a.parent();return 1===b.length&&b[0].tagName===a[0].tagName&&b.html()===a[0].outerHTML&&b},addParentStyle:function(a){var d=this.inline.hasParentStyle(a);if(d){var f=this.inline.getStyleParams(a.attr("style"));d.css(f);d.attr("data-redactor-style-cache",d.attr("style"));a.replaceWith(function(){return b(this).contents()})}else a.attr("data-redactor-style-cache",a.attr("style"));return a},replaceStyle:function(a,d){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(d,
function(d){d=b(d);d.removeAttr("style").css(a);var c=d.attr("style");return c&&d.attr("style",c.replace(/"/g,"'")),f.inline.addParentStyle(d)})},toggleStyle:function(a,d){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(d,function(d){var c=b(d);for(m in a){var g=a[m],k=c.css(m);k=f.utils.isRgb(k)?f.utils.rgb2hex(k):k.replace(/"/g,"");g=f.utils.isRgb(g)?f.utils.rgb2hex(g):g.replace(/"/g,"");k===g?c.css(m,""):c.css(m,g)}var m=c.attr("style");return m&&c.attr("style",m.replace(/"/g,
"'")),f.utils.removeEmptyAttr(d,"style")?c.removeAttr("data-redactor-style-cache"):c=f.inline.addParentStyle(c),c})},addStyle:function(a,d){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(d,function(d){d=b(d);d.css(a);var c=d.attr("style");return c&&d.attr("style",c.replace(/"/g,"'")),f.inline.addParentStyle(d)})},removeStyle:function(a,d){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(d,function(d){var c=b(d),g;for(g in a)c.css(g,"");return f.utils.removeEmptyAttr(d,
"style")?c.removeAttr("data-redactor-style-cache"):c.attr("data-redactor-style-cache",c.attr("style")),c})},removeAllStyle:function(a){return this.inline.eachInline(a,function(a){return b(a).removeAttr("style").removeAttr("data-redactor-style-cache")})},removeStyleRule:function(a){var d=this.selection.parent(),f=this.selection.inlines();this.buffer.set();d&&"SPAN"===d.tagName&&this.inline.removeStyleRuleAttr(b(d),a);for(d=0;d<f.length;d++){var g=f[d],c=b(g);-1==b.inArray(g.tagName.toLowerCase(),this.opts.inlineTags)||
c.hasClass("redactor-selection-marker")||this.inline.removeStyleRuleAttr(c,a)}},removeStyleRuleAttr:function(a,b){a.css(b,"");this.utils.removeEmptyAttr(a,"style")?a.removeAttr("data-redactor-style-cache"):a.attr("data-redactor-style-cache",a.attr("style"))},update:function(a,b,f,g){a=this.inline.arrangeTag(a);b=this.inline.getParams(b,f,g);f=this.selection.inlines();g=[];if(f)for(var c=0;c<f.length;c++){var d=f[c];"*"!==a&&d.tagName.toLowerCase()!==a||g.push(this.inline.setParams(d,b))}return g},
removeFormat:function(){this.selection.save();for(var a=this.inline.getClearedNodes(),d=0;d<a.length;d++)1===a[d].nodeType&&b(a[d]).replaceWith(function(){return b(this).contents()});this.selection.restore()}}},insert:function(){return{set:function(a){this.placeholder.hide();this.code.set(a);this.focus.end();this.placeholder.enable()},html:function(a,d){this.placeholder.hide();this.core.editor().focus();var f=this.selection.block(),g=this.selection.inline();void 0===d&&(d=this.clean.getCurrentType(a,
!0),a=this.clean.onPaste(a,d,!0));a=b.parseHTML(a);var c=b(a).last(),h=this.selection.get(),k=this.selection.range(h);if(k.deleteContents(),this.selection.update(h,k),d.lists)if(h=b(a),0!==h.length&&("UL"===h[0].tagName||"OL"===h[0].tagName))return void this.insert.appendLists(f,h);d.blocks&&f?this.utils.isSelectAll()?(this.core.editor().html(a),this.focus.end()):(g=this.utils.breakBlockTag(),!1===g?this.insert.placeHtml(a):(b(a).children().last().append(this.marker.get()),"start"===g.type?g.$block.before(a):
g.$block.after(a),this.selection.restore(),this.core.editor().find("p").each(function(){""===b.trim(this.innerHTML)&&b(this).remove()}))):(g&&(a=b("<div/>").html(a),a.find(g.tagName.toLowerCase()).each(function(){b(this).contents().unwrap()}),a=a.html(),a=b.parseHTML(a),c=b(a).last()),this.utils.isSelectAll()?(g=b(this.opts.emptyHtml),this.core.editor().html("").append(g),g.html(a),this.caret.end(g)):this.insert.placeHtml(a));this.utils.disableSelectAll();d.pre&&this.clean.cleanPre();this.caret.end(c);
this.linkify.format()},text:function(a){a=a.toString();a=b.trim(a);var d=document.createElement("div");if(d.innerHTML=a,void 0!==(a=d.textContent||d.innerText)){this.placeholder.hide();this.core.editor().focus();d=this.selection.blocks();if(a=a.replace(/\n/g," "),this.utils.isSelectAll())d=b(this.opts.emptyHtml),this.core.editor().html("").append(d),d.html(a),this.caret.end(d);else{var f=this.selection.get();a=document.createTextNode(a);if(f.getRangeAt&&f.rangeCount){var g=f.getRangeAt(0);g.deleteContents();
g.insertNode(a);g.setStartAfter(a);g.collapse(!0);this.selection.update(f,g)}1<d.length&&(b(a).wrap("<p>"),this.caret.after(a))}this.utils.disableSelectAll();this.linkify.format();this.clean.normalizeCurrentHeading()}},raw:function(a){this.placeholder.hide();this.core.editor().focus();var b=this.selection.get(),f=this.selection.range(b);f.deleteContents();var g=document.createElement("div");g.innerHTML=a;for(var c,h=document.createDocumentFragment();a=g.firstChild;)c=h.appendChild(a);f.insertNode(h);
c&&(f=f.cloneRange(),f.setStartAfter(c),f.collapse(!0),b.removeAllRanges(),b.addRange(f))},rawAfter:function(a){this.placeholder.hide();this.core.editor().focus();var d=this.selection.get(),f=this.selection.range(d),g=this.selection.current(),c=document.createElement("div");c.innerHTML=a;a=c.firstChild;b(g).after(b(a));f.setStartAfter(a);f.collapse(!0);d.addRange(f)},node:function(a,d){this.placeholder.hide();void 0!==this.start&&this.core.editor().focus();a=a[0]||a;var f=this.selection.block(),g=
this.utils.isBlockTag(a.tagName),c=!0;this.utils.isSelectAll()?(g?this.core.editor().html(a):this.core.editor().html(b("<p>").html(a)),this.code.sync()):g&&f?(f=this.utils.breakBlockTag(),!1===f?this.insert.placeNode(a,d):("start"===f.type?f.$block.before(a):f.$block.after(a),this.core.editor().find("p:empty").remove())):c=this.insert.placeNode(a,d);return this.utils.disableSelectAll(),c&&this.caret.end(a),a},appendLists:function(a,d){var f=b(a),g=this.utils.isEmpty(a.innerHTML);if(g||this.utils.isEndOfElement(a)){var c=
f;d.find("li").each(function(){c.after(this);c=b(this)});g&&f.remove()}else this.utils.isStartOfElement(a)?d.find("li").each(function(){f.before(this);c=b(this)}):(a=this.selection.extractEndOfNode(a),f.after(b("<li>").append(a)),f.append(d),c=d);this.marker.remove();c&&this.caret.end(c);this.linkify.format()},placeHtml:function(a){var d=document.createElement("span");d.id="redactor-insert-marker";d=this.insert.node(d);b(d).before(a);this.selection.restore();this.caret.after(d);b(d).remove()},placeNode:function(a,
b){var d=this.selection.get(),g=this.selection.range(d);if(null==g)return!1;!1!==b&&g.deleteContents();g.insertNode(a);g.collapse(!1);this.selection.update(d,g)},nodeToPoint:function(a,d){if(this.placeholder.hide(),d=d[0]||d,this.utils.isEmpty())return d=this.utils.isBlock(d)?d:b("<p />").append(d),this.core.editor().html(d),d;var f=a.clientX,g=a.clientY;if(document.caretPositionFromPoint)f=document.caretPositionFromPoint(f,g),a=document.getSelection().getRangeAt(0),a.setStart(f.offsetNode,f.offset),
a.collapse(!0),a.insertNode(d);else if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(f,g),a.insertNode(d);else if(void 0!==document.body.createTextRange){a=document.body.createTextRange();a.moveToPoint(f,g);var c=a.duplicate();c.moveToPoint(f,g);a.setEndPoint("EndToEnd",c);a.select()}return d},nodeToCaretPositionFromPoint:function(a,b){this.insert.nodeToPoint(a,b)},marker:function(){this.marker.insert()}}},keydown:function(){return{init:function(a){if(!this.rtePaste){var d=a.which,f=
37<=d&&40>=d;this.keydown.ctrl=a.ctrlKey||a.metaKey;this.keydown.parent=this.selection.parent();this.keydown.current=this.selection.current();this.keydown.block=this.selection.block();this.keydown.pre=this.utils.isTag(this.keydown.current,"pre");this.keydown.blockquote=this.utils.isTag(this.keydown.current,"blockquote");this.keydown.figcaption=this.utils.isTag(this.keydown.current,"figcaption");this.keydown.figure=this.utils.isTag(this.keydown.current,"figure");if(!1===this.core.callback("keydown",
a))return a.preventDefault(),!1;if(this.shortcuts.init(a,d),this.keydown.checkEvents(f,d),this.keydown.setupBuffer(a,d),this.utils.isSelectAll()&&(d===this.keyCode.ENTER||d===this.keyCode.BACKSPACE||d===this.keyCode.DELETE))return a.preventDefault(),this.code.set(this.opts.emptyHtml),void this.events.changeHandler();if(this.keydown.addArrowsEvent(f),this.keydown.setupSelectAll(a,d),!this.opts.enterKey&&d===this.keyCode.ENTER)return a.preventDefault(),a=this.selection.get(),a=this.selection.range(a),
void(a.collapsed||a.deleteContents());if(this.opts.enterKey&&d===this.keyCode.DOWN&&this.keydown.onArrowDown(),this.opts.enterKey&&d===this.keyCode.UP&&this.keydown.onArrowUp(),("textarea"===this.opts.type||"div"===this.opts.type)&&this.keydown.current&&3===this.keydown.current.nodeType&&b(this.keydown.parent).hasClass("redactor-in")&&this.keydown.wrapToParagraph(),!this.keyup.lastShiftKey&&d===this.keyCode.SPACE&&(a.ctrlKey||a.shiftKey))return a.preventDefault(),this.keydown.onShiftSpace();if(d===
this.keyCode.ENTER&&(a.ctrlKey||a.shiftKey))return a.preventDefault(),this.keydown.onShiftEnter(a);if(d===this.keyCode.ENTER&&!a.shiftKey&&!a.ctrlKey&&!a.metaKey)return this.keydown.onEnter(a);if(d===this.keyCode.TAB||a.metaKey&&221===d||a.metaKey&&219===d)return this.keydown.onTab(a,d);if(this.detect.isFirefox()&&d===this.keyCode.BACKSPACE&&this.keydown.block&&"P"===this.keydown.block.tagName&&this.utils.isStartOfElement(this.keydown.block)&&(f=b(this.keydown.block).prev(),0!==f.length))return a.preventDefault(),
f.append(this.marker.get()),f.append(b(this.keydown.block).html()),b(this.keydown.block).remove(),void this.selection.restore();if(d===this.keyCode.BACKSPACE||d===this.keyCode.DELETE){if(this.observe.image&&void 0!==this.observe.image&&0!==b("#redactor-image-box").length)return a.preventDefault(),f=this.observe.image.closest("figure, p").prev(),this.image.remove(!1),this.observe.image=!1,void(f&&0!==f.length?this.caret.end(f):this.core.editor().focus());this.keydown.onBackspaceAndDeleteBefore()}if(d===
this.keyCode.DELETE){f=b(this.keydown.block).next();if(this.utils.isEndOfElement(this.keydown.block)&&0!==f.length&&"FIGURE"===f[0].tagName)return f.remove(),!1;if(this.keydown.block&&"LI"===this.keydown.block.tagName&&this.keydown.block){var g=b(this.keydown.block).parents("ul, ol").last(),c=g.next();if(this.utils.isRedactorParent(g)&&this.utils.isEndOfElement(g)&&0!==c.length&&("UL"===c[0].tagName||"OL"===c[0].tagName))return a.preventDefault(),g.append(c.contents()),c.remove(),!1}if(this.utils.isEndOfElement(this.keydown.block)&&
0!==f.length&&"PRE"===f[0].tagName)return b(this.keydown.block).append(f.text()),f.remove(),!1}if(d===this.keyCode.DELETE&&0!==b("#redactor-image-box").length&&this.image.remove(),d===this.keyCode.BACKSPACE){if(this.detect.isFirefox()&&this.line.removeOnBackspace(a),this.list.combineAfterAndBefore(this.keydown.block))return void a.preventDefault();if((f=this.selection.block())&&"LI"===f.tagName&&this.utils.isCollapsed()&&this.utils.isStartOfElement())return this.indent.decrease(),void a.preventDefault();
this.keydown.removeInvisibleSpace();this.keydown.removeEmptyListInTable(a)}d!==this.keyCode.BACKSPACE&&d!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteAfter(a)}},onShiftSpace:function(){return this.buffer.set(),this.insert.raw("&nbsp;"),!1},onShiftEnter:function(a){return this.buffer.set(),this.keydown.figure?this.insert.rawAfter("<br>"):this.keydown.pre?this.keydown.insertNewLine(a):this.insert.raw("<br>")},onBackspaceAndDeleteBefore:function(){this.utils.saveScroll()},onBackspaceAndDeleteAfter:function(a){setTimeout(b.proxy(function(){this.code.syncFire=
!1;this.keydown.removeEmptyLists();var b="";0!==this.opts.keepStyleAttr.length&&(b=","+this.opts.keepStyleAttr.join(","));this.core.editor().find("*[style]").not("p, h1, h2, h3, h4, h5, h6, div, ul, li, img, figure, iframe, #redactor-image-box, #redactor-image-editter, [data-redactor-style-cache], [data-redactor-span]"+b).removeAttr("style");this.keydown.formatEmpty(a);this.code.syncFire=!0},this),1)},onEnter:function(a){if(!1===this.core.callback("enter",a))return a.preventDefault(),!1;if(this.keydown.blockquote&&
!0===this.keydown.exitFromBlockquote(a))return!1;if(this.keydown.pre)return this.keydown.insertNewLine(a);if(this.keydown.blockquote||this.keydown.figcaption)return this.keydown.insertBreakLine(a);if(this.keydown.figure)setTimeout(b.proxy(function(){this.keydown.replaceToParagraph("FIGURE")},this),1);else if(this.keydown.block){if(setTimeout(b.proxy(function(){this.keydown.replaceToParagraph("DIV")},this),1),"LI"===this.keydown.block.tagName){var d=this.selection.current(),f=b(d).closest("li",this.$editor[0]);
d=f.parents("ul,ol",this.$editor[0]).last();if(0!==f.length&&this.utils.isEmpty(f.html())&&0===d.next().length&&this.utils.isEmpty(d.find("li").last().html()))return d.find("li").last().remove(),a=b(this.opts.emptyHtml),d.after(a),this.caret.start(a),!1}}else if(!this.keydown.block)return this.keydown.insertParagraph(a);if(this.detect.isFirefox()&&this.utils.isInline(this.keydown.parent))return void this.keydown.insertBreakLine(a);this.opts.keepInlineOnEnter||setTimeout(b.proxy(function(){var a=this.selection.inline();
if(a&&this.utils.isEmpty(a.innerHTML)){var c=this.selection.block();b(a).remove();a=document.createRange();a.setStart(c,0);c=document.createTextNode("\u200b");a.insertNode(c);a.setStartAfter(c);a.collapse(!0);c=window.getSelection();c.removeAllRanges();c.addRange(a)}},this),1);setTimeout(b.proxy(function(){var a=this.selection.block().childNodes;(a=a[a.length-1])&&3!==a.nodeType&&"BR"===a.tagName&&b(a).remove()},this),1)},checkEvents:function(a,b){a||"click"!==this.core.getEvent()&&"arrow"!==this.core.getEvent()||
(this.core.addEvent(!1),this.keydown.checkKeyEvents(b)&&this.buffer.set())},checkKeyEvents:function(a){var d=this.keyCode;return-1===b.inArray(a,[d.BACKSPACE,d.DELETE,d.ENTER,d.ESC,d.TAB,d.CTRL,d.META,d.ALT,d.SHIFT])},addArrowsEvent:function(a){if(a)return"click"===this.core.getEvent()||"arrow"===this.core.getEvent()?void this.core.addEvent(!1):void this.core.addEvent("arrow")},setupBuffer:function(a,b){return this.keydown.ctrl&&90===b&&!a.shiftKey&&!a.altKey&&this.sBuffer.length?(a.preventDefault(),
void this.buffer.undo()):this.keydown.ctrl&&90===b&&a.shiftKey&&!a.altKey&&0!==this.sRebuffer.length?(a.preventDefault(),void this.buffer.redo()):void(this.keydown.ctrl||b!==this.keyCode.SPACE&&b!==this.keyCode.BACKSPACE&&b!==this.keyCode.DELETE&&(b!==this.keyCode.ENTER||a.ctrlKey||a.shiftKey)||this.buffer.set())},exitFromBlockquote:function(a){if(this.utils.isEndOfElement(this.keydown.blockquote)&&-1!==this.clean.removeSpacesHard(b(this.keydown.blockquote).html()).search(/(<br\s?\/?>){1}$/i))return a.preventDefault(),
b(this.keydown.blockquote).children().last().filter("br").remove(),b(this.keydown.blockquote).children().last().filter("span").remove(),a=b(this.opts.emptyHtml),b(this.keydown.blockquote).after(a),this.caret.start(a),!0},onArrowDown:function(){for(var a=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],b=0;b<a.length;b++)if(a[b])return this.keydown.insertAfterLastElement(a[b]),!1},onArrowUp:function(){for(var a=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],b=
0;b<a.length;b++)if(a[b])return this.keydown.insertBeforeFirstElement(a[b]),!1},insertAfterLastElement:function(a){if(this.utils.isEndOfElement(a)){var d=this.core.editor().contents().last();if(0===("FIGCAPTION"===a.tagName?b(this.keydown.block).parent().next():b(this.keydown.block).next()).length){if(0===d.length&&d[0]!==a)return void this.caret.start(d);d=b(this.opts.emptyHtml);"FIGCAPTION"===a.tagName?b(a).parent().after(d):b(a).after(d);this.caret.start(d)}}},insertBeforeFirstElement:function(a){if(this.utils.isStartOfElement()&&
!(1<this.core.editor().contents().length&&this.core.editor().contents().first()[0]!==a)){var d=b(this.opts.emptyHtml);b(a).before(d);this.caret.start(d)}},onTab:function(a,b){if(!this.opts.tabKey)return!0;var d=this.keydown.block&&"LI"===this.keydown.block.tagName;if(this.utils.isEmpty(this.code.get())||!d&&!this.keydown.pre&&!1===this.opts.tabAsSpaces)return!0;a.preventDefault();this.buffer.set();var g;d=d&&this.utils.isStartOfElement(this.keydown.block);return this.keydown.pre&&!a.shiftKey?(g=this.opts.preSpaces?
document.createTextNode(Array(this.opts.preSpaces+1).join("\u00a0")):document.createTextNode("\t"),this.insert.node(g)):!1===this.opts.tabAsSpaces||d?a.metaKey&&219===b?this.indent.decrease():a.metaKey&&221===b?this.indent.increase():a.shiftKey?this.indent.decrease():this.indent.increase():(g=document.createTextNode(Array(this.opts.tabAsSpaces+1).join("\u00a0")),this.insert.node(g)),!1},setupSelectAll:function(a,b){this.keydown.ctrl&&65===b?this.utils.enableSelectAll():!this.keydown.ctrl||35!=b&&
36!=b&&38!=b&&40!=b?b===this.keyCode.LEFT_WIN||this.keydown.ctrl||this.utils.disableSelectAll():this.utils.disableSelectAll()},insertNewLine:function(a){a.preventDefault();a=document.createTextNode("\n");var b=this.selection.get();b=this.selection.range(b);return b.deleteContents(),b.insertNode(a),this.caret.after(a),!1},insertParagraph:function(a){a.preventDefault();a=document.createElement("p");a.innerHTML="<br>";var b=this.selection.get();b=this.selection.range(b);return b.deleteContents(),b.insertNode(a),
this.caret.start(a),!1},insertBreakLine:function(a){return this.keydown.insertBreakLineProcessing(a)},insertDblBreakLine:function(a){return this.keydown.insertBreakLineProcessing(a,!0)},insertBreakLineProcessing:function(a,b){a.stopPropagation();a=document.createElement("br");(this.insert.node(a),!0===b)?(b=document.createElement("br"),this.insert.node(b),this.caret.after(b)):this.caret.after(a);return!1},wrapToParagraph:function(){var a=b(this.keydown.current),d=b("<p>").append(a.clone());a.replaceWith(d);
a=b(d).next();void 0!==a[0]&&"BR"===a[0].tagName&&a.remove();this.caret.end(d)},replaceToParagraph:function(a){var d=this.selection.block(),f=b(d).prev(),g=d.innerHTML.replace(/<br\s?\/?>/gi,"");if(d.tagName===a&&this.utils.isEmpty(g)&&!b(d).hasClass("redactor-in"))return a=document.createElement("p"),b(d).replaceWith(a),this.keydown.setCaretToParagraph(a),!1;if("P"===d.tagName)return b(d).removeAttr("class").removeAttr("style"),this.detect.isIe()&&this.utils.isEmpty(g)&&this.utils.isInline(this.keydown.parent)&&
b(d).on("input",b.proxy(function(){var a=this.selection.parent();this.utils.isInline(a)&&(a=b(a).html(),b(d).html(a),this.caret.end(d));b(d).off("keyup")},this)),!1;if(f.hasClass(this.opts.videoContainerClass))return f.removeAttr("class"),a=document.createElement("p"),f.replaceWith(a),this.keydown.setCaretToParagraph(a),!1},setCaretToParagraph:function(a){var b=document.createRange();b.setStart(a,0);a=document.createTextNode("\u200b");b.insertNode(a);b.setStartAfter(a);b.collapse(!0);a=window.getSelection();
a.removeAllRanges();a.addRange(b)},removeInvisibleSpace:function(){var a=b(this.keydown.current);0===a.text().search(/^\u200B$/g)&&a.remove()},removeEmptyListInTable:function(a){var d=b(this.keydown.current),f=b(this.keydown.parent),g=d.closest("td",this.$editor[0]);0!==g.length&&d.closest("li",this.$editor[0])&&1===f.children("li").length&&this.utils.isEmpty(d.text())&&(a.preventDefault(),d.remove(),f.remove(),this.caret.start(g))},removeEmptyLists:function(){var a=function(){""===b.trim(this.innerHTML).replace(/\/t\/n/g,
"")&&b(this).remove()};this.core.editor().find("li").each(a);this.core.editor().find("ul, ol").each(a)},formatEmpty:function(a){var d=b.trim(this.core.editor().html());if(this.utils.isEmpty(d))return a.preventDefault(),"inline"===this.opts.type||"pre"===this.opts.type?(this.core.editor().html(this.marker.html()),this.selection.restore()):(this.core.editor().html(this.opts.emptyHtml),this.focus.start()),!1}}},keyup:function(){return{init:function(a){if(!this.rtePaste){var d=a.which;this.keyup.block=
this.selection.block();this.keyup.current=this.selection.current();this.keyup.parent=this.selection.parent();this.keyup.lastShiftKey=a.shiftKey;if(!1===this.core.callback("keyup",a))return a.preventDefault(),!1;if(d===this.keyCode.ENTER&&this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&(a=b(this.keyup.block).prev(),0!==a.length&&"FIGURE"===a[0].tagName))return d=this.utils.replaceToTag(a,"p"),void this.caret.start(d);if(d===this.keyCode.BACKSPACE||d===this.keyCode.DELETE){if(this.utils.isSelectAll())return this.focus.start(),
void this.toolbar.setUnfixed();this.keyup.block&&"P"===this.keyup.block.tagName&&(a=b(this.keyup.block).find("img").length,""===b(this.keyup.block).text().replace(/\u200B/g,"")&&0!==a&&this.utils.replaceToTag(this.keyup.block,"figure"));this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&0===b(this.keyup.block).find("img").length&&(this.selection.save(),this.utils.replaceToTag(this.keyup.block,"p"),this.selection.restore())}this.linkify.isKey(d)&&(this.selection.save(),this.linkify.format(),this.selection.restore())}}}},
lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(a){return void 0!==this.opts.curLang[a]?this.opts.curLang[a]:""}}},line:function(){return{insert:function(){this.buffer.set();this.insert.html(this.line.getLineHtml());var a=this.core.editor().find("#redactor-hr-tmp-id");return a.removeAttr("id"),this.core.callback("insertedLine",a),a},getLineHtml:function(){var a='<hr id="redactor-hr-tmp-id" />';return!this.detect.isFirefox()&&this.utils.isEmpty()&&
(a+="<p>"+this.opts.emptyHtml+"</p>"),a},removeOnBackspace:function(a){if(this.utils.isCollapsed()){var d=b(this.selection.block());0!==d.length&&this.utils.isStartOfElement(d)&&(d=d.prev())&&0!==d.length&&"HR"===d[0].tagName&&(a.preventDefault(),d.remove())}}}},link:function(){return{get:function(){return b(this.selection.inlines("a"))},is:function(){var a=this.selection.nodes(),d=b(this.selection.current()).closest("a",this.core.editor()[0]);return!(0===d.length||1<a.length)&&d},unlink:function(a){void 0!==
a&&a.preventDefault&&a.preventDefault();this.buffer.set();a=this.selection.inlines("a");0!==a.length&&(a=this.link.replaceLinksToText(a),this.observe.closeAllTooltip(),this.core.callback("deletedLink",a))},insert:function(a,d){var f=this.link.is();if(!0!==d&&!1===(a=this.link.buildLinkFromObject(f,a)))return!1;(this.buffer.set(),a=this.core.callback("beforeInsertingLink",a),!1===f)?(f=b("<a />"),f=this.link.update(f,a),f=b(this.insert.node(f)),a=f.parent(),!1===this.utils.isRedactorParent(a)&&f.wrap("<p>"),
a.hasClass("redactor-unlink")&&a.replaceWith(function(){return b(this).contents()}),this.caret.after(f),this.core.callback("insertedLink",f)):(f=this.link.update(f,a),this.caret.after(f));return f},update:function(a,b){return a.text(b.text),a.attr("href",b.url),this.link.target(a,b.target),a},target:function(a,b){return b?a.attr("target","_blank"):a.removeAttr("target")},show:function(a){void 0!==a&&a.preventDefault&&a.preventDefault();this.observe.closeAllTooltip();a=this.link.linkEl();this.link.buildModal(a);
var d=this.link.buildLinkFromElement(a);d.url=this.link.removeSelfHostFromUrl(d.url);this.opts.linkNewTab&&!a&&(d.target=!0);this.link.setModalValues(d);this.modal.show();this.detect.isDesktop()&&b("#redactor-link-url").focus()},linkEl:function(){var a=b(this.selection.current()).closest("a",this.core.editor()[0]);return 0===a.length&&(a=b(b.parseHTML(this.selection.html())).closest("a",this.core.editor()[0])),0!==a.length&&a},setModalValues:function(a){b("#redactor-link-blank").prop("checked",a.target);
b("#redactor-link-url").val(a.url);b("#redactor-link-url-text").val(a.text)},buildModal:function(a){this.modal.load("link",this.lang.get(!1===a?"link-insert":"link-edit"),600);this.modal.getActionButton().text(this.lang.get(!1===a?"insert":"save")).on("click",b.proxy(this.link.callback,this))},callback:function(){var a=this.link.buildLinkFromModal();if(!1===a)return!1;this.modal.close();this.link.insert(a,!0)},cleanUrl:function(a){return void 0===a?"":b.trim(a.replace(/[^\W\w\D\d+&'@#\/%?=~_|!:,.;\(\)]/gi,
""))},cleanText:function(a){return void 0===a?"":b.trim(a)},getText:function(a){return""===a.text&&""!==a.url?this.link.truncateUrl(a.url.replace(/<|>/g,"")):a.text},isUrl:function(a){var b=/^(http|ftp|https):\/\/((xn--)?[\W\w\D\d]+(-[\W\w\D\d]+)*\.)+[\W\w]{2,}/i,f=/^((xn--)?[\W\w\D\d]+(-[\W\w\D\d]+)*\.)+[\W\w]{2,}/i,g=/.(html|php)$/i,c=/^\//i,h=/^tel:(.*?)/i;return-1===a.search(b)&&-1!==a.search(f)&&-1===a.search(g)&&"/"!==a.substring(0,1)&&(a="http://"+a),(-1!==a.search(b)||-1!==a.search(g)||-1!==
a.search(c)||-1!==a.search(h))&&a},isMailto:function(a){return-1!==a.search("@")&&!1===/(http|ftp|https):\/\//i.test(a)},isEmpty:function(a){return""===a.url||""===a.text&&""===a.url},truncateUrl:function(a){return a.length>this.opts.linkSize?a.substring(0,this.opts.linkSize)+"...":a},parse:function(a){return this.link.isMailto(a.url)?a.url="mailto:"+a.url.replace("mailto:",""):0!==a.url.search("#")&&this.opts.linkValidation&&(a.url=this.link.isUrl(a.url)),!this.link.isEmpty(a)&&!1!==a.url&&a},buildLinkFromModal:function(){var a=
{};return a.url=this.link.cleanUrl(b("#redactor-link-url").val()),a.text=this.link.cleanText(b("#redactor-link-url-text").val()),a.text=this.link.getText(a),a.target=!!b("#redactor-link-blank").prop("checked"),this.link.parse(a)},buildLinkFromObject:function(a,b){return b.url=this.link.cleanUrl(b.url),b.text=void 0===b.text&&this.selection.is()?this.selection.text():this.link.cleanText(b.text),b.text=this.link.getText(b),b.target=!1===a?b.target:this.link.buildTarget(a),this.link.parse(b)},buildLinkFromElement:function(a){var b=
{url:"",text:this.selection.is()?this.selection.text():"",target:!1};return!1!==a&&(b.url=a.attr("href"),b.text=b.text?b.text:a.text(),b.target=this.link.buildTarget(a)),b},buildTarget:function(a){return void 0!==a.attr("target")&&"_blank"===a.attr("target")},removeSelfHostFromUrl:function(a){var b=self.location.href.replace("#","").replace(/\/$/i,"");return a.replace(/^\/#/,"#").replace(b,"").replace("mailto:","")},replaceLinksToText:function(a){var d,f=b.each(a,function(a,c){c=b(c);var f=b('<span class="redactor-unlink" />').append(c.contents());
return c.replaceWith(f),0===a&&(d=f),c});return 1===a.length&&this.selection.isCollapsed()&&this.caret.after(d),f}}},linkify:function(){return{isKey:function(a){return a===this.keyCode.ENTER||a===this.keyCode.SPACE},isLink:function(a){return a.nodeValue.match(this.opts.regexps.linkyoutube)||a.nodeValue.match(this.opts.regexps.linkvimeo)||a.nodeValue.match(this.opts.regexps.linkvimeochannel)||a.nodeValue.match(this.opts.regexps.linkimage)||a.nodeValue.match(this.opts.regexps.url)},isFiltered:function(a,
d){return 3===d.nodeType&&""!==b.trim(d.nodeValue)&&!b(d).parent().is("pre")&&this.linkify.isLink(d)},handler:function(a,d){a=b(d);var f=d=a.text();f=f.match(this.opts.regexps.linkyoutube)||f.match(this.opts.regexps.linkvimeo)||f.match(this.opts.regexps.linkvimeochannel)?this.linkify.convertVideoLinks(f):f.match(this.opts.regexps.linkimage)?this.linkify.convertImages(f):this.linkify.convertLinks(f);a.before(d.replace(d,f)).remove()},format:function(){if(this.opts.linkify&&!this.utils.isCurrentOrParent("pre")){this.core.editor().find(":not(iframe,img,a,pre,code,.redactor-unlink)").addBack().contents().filter(b.proxy(this.linkify.isFiltered,
this)).each(b.proxy(this.linkify.handler,this));var a,d=this.core.editor().find(".redactor-linkify-object").each(b.proxy(function(d,g){return a=b(g),a.removeClass("redactor-linkify-object"),""===a.attr("class")&&a.removeAttr("class"),"DIV"===g.tagName?this.linkify.breakBlockTag(a,"video"):"IMG"===g.tagName?this.linkify.breakBlockTag(a,"image"):"A"===g.tagName&&this.core.callback("insertedLink",a),a},this));setTimeout(b.proxy(function(){this.code.sync();this.core.callback("linkify",d)},this),100)}},
breakBlockTag:function(a,d){var f=this.utils.breakBlockTag();if(!1!==f){var g=a;"image"===d&&(g=b("<figure />").append(a));"start"===f.type?f.$block.before(g):f.$block.after(g);"image"===d&&this.caret.after(g)}},convertVideoLinks:function(a){var b='<div class="'+this.opts.videoContainerClass+' redactor-linkify-object"><iframe class="redactor-linkify-object" width="500" height="281" src="';return a.match(this.opts.regexps.linkyoutube)&&(a=a.replace(this.opts.regexps.linkyoutube,b+'//www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe></div>')),
a.match(this.opts.regexps.linkvimeo)&&(a=a.replace(this.opts.regexps.linkvimeo,b+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>')),a.match(this.opts.regexps.linkvimeochannel)&&(a=a.replace(this.opts.regexps.linkvimeochannel,b+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>')),a},convertImages:function(a){var b=a.match(this.opts.regexps.linkimage);return b?a.replace(a,'<img src="'+b+'" class="redactor-linkify-object" />'):a},convertLinks:function(a){var d=
a.match(this.opts.regexps.url);if(!d)return a;d=b.grep(d,function(a,c){return b.inArray(a,d)===c});for(var f=d.length,g=0;g<f;g++){var c=d[g],h=c,k=null!==c.match(/(https?|ftp):\/\//i)?"":"http://";h.length>this.opts.linkSize&&(h=h.substring(0,this.opts.linkSize)+"...");-1===h.search("%")&&(h=decodeURIComponent(h));var m="\\b";-1!==b.inArray(c.slice(-1),["/","&","="])&&(m="");m=new RegExp("("+c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+m+")","g");var e="";!1!==this.opts.pasteLinkTarget&&
(e=' target="'+this.opts.pasteLinkTarget+'"');a=a.replace(m,'<a href="'+k+b.trim(c)+'"'+e+' class="redactor-linkify-object">'+b.trim(h)+"</a>")}return a}}},list:function(){return{toggle:function(a){if(!this.utils.inBlocks(["table","td","th","tr"])){var d="orderedlist"===a||"ol"===a?"OL":"UL";a="OL"===d?"orderedlist":"unorderedlist";var f=b(this.selection.current()).parentsUntil(".redactor-in","ul, ol").first(),g=b(this.selection.current()).parentsUntil(".redactor-in","li").first();this.placeholder.hide();
this.buffer.set();if(""===this.selection.html()&&0!==g.length&&g[0].parentNode.tagName===d&&this.utils.isRedactorParent(g)){a=b(g[0]).prev();f=b(g[0]).next();var c=g.html(),h=b(g[0].parentNode);if(this.selection.save(),!a.length&&f.length)return g.remove(),void h.before(b("<p />").append(c));if(a.length&&f.length){g.replaceWith(function(){return"-~=REMOVED+ITEM=~-"});g=this.selection.current();var k=b(g)[0].outerHTML.replace(/-~=REMOVED\+ITEM=~-/g,"</"+d+">\n\n<p>"+c+"</p>\n\n<"+d+">");return b(g).replaceWith(function(){return k})}return a.length&&
!f.length?(g.remove(),void h.after(b("<p />").append(c))):void(a.length||f.length||h.replaceWith(function(){return b("<p />").append(c)}))}if(0!==f.length&&f[0].tagName===d&&this.utils.isRedactorParent(f))return this.selection.save(),f.find("ul, ol").each(function(){var a=b(this).closest("li");b(this).find("li").each(function(){b(a).after(this)})}),f.find("ul, ol").remove(),f.find("li").each(function(){return b(this).replaceWith(function(){return b("<p />").append(b(this).contents())})}),f.replaceWith(function(){return b(this).contents()}),
void this.selection.restore();this.selection.save();0!==f.length&&f[0].tagName!==d?f.each(b.proxy(function(a,c){this.utils.replaceToTag(c,d)},this)):document.execCommand("insert"+a);this.selection.restore();g=this.list.get();if(!g)return void(this.selection.block()||document.execCommand("formatblock",!1,"p"));g.find("span").replaceWith(function(){return b(this).contents()});g.find(this.opts.inlineTags.join(",")).each(function(){b(this).removeAttr("style")});g=g.parent();this.utils.isRedactorParent(g)&&
"LI"!==g[0].tagName&&this.utils.isBlock(g)&&(this.selection.save(),g.replaceWith(g.contents()),this.selection.restore())}},get:function(){var a=this.selection.current();a=b(a).closest("ul, ol",this.core.editor()[0]);return 0!==a.length&&a},combineAfterAndBefore:function(a){var d=b(a).prev(),f=b(a).next();a=a&&"P"===a.tagName&&("<br>"===a.innerHTML||""===a.innerHTML);var g=1===d.closest("ol, ul",this.core.editor()[0]).length&&1===f.closest("ol, ul",this.core.editor()[0]).length;return!(!a||!g)&&(d.children("li").last().append(this.marker.get()),
d.append(f.contents()),this.selection.restore(),!0)}}},marker:function(){return{get:function(a){a=void 0===a?1:a;var b=document.createElement("span");return b.id="selection-marker-"+a,b.className="redactor-selection-marker",b.innerHTML=this.opts.invisibleSpace,b},html:function(a){return this.utils.getOuterHtml(this.marker.get(a))},find:function(a){return a=void 0===a?1:a,this.core.editor().find("span#selection-marker-"+a)},insert:function(){var a=this.selection.get();a=this.selection.range(a);this.marker.insertNode(a,
this.marker.get(1),!0);a&&!1===a.collapsed&&this.marker.insertNode(a,this.marker.get(2),!1)},remove:function(){this.core.editor().find(".redactor-selection-marker").each(this.marker.iterateRemove)},insertNode:function(a,d,f){var g=this.selection.parent();if(null!==a&&0!==b(g).closest(".redactor-in").length){a=a.cloneRange();try{a.collapse(f),a.insertNode(d)}catch(c){this.focus.start()}}},iterateRemove:function(a,d){a=b(d);d=a.text().replace(/\u200B/g,"");a.parent()[0];""===d?a.remove():a.replaceWith(function(){return b(this).contents()})}}},
modal:function(){return{callbacks:{},templates:function(){this.opts.modal={"image-edit":String()+'<div class="redactor-modal-tab redactor-group" data-title="'+this.lang.get("general")+'"><div id="redactor-image-preview" class="redactor-modal-tab-side"></div><div class="redactor-modal-tab-area"><section><label>'+this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /></section><section><label>'+this.lang.get("caption")+'</label><input type="text" id="redactor-image-caption" aria-label="'+
this.lang.get("caption")+'" /></section><section><label>'+this.lang.get("link")+'</label><input type="text" id="redactor-image-link" aria-label="'+this.lang.get("link")+'" /></section><section><label class="redactor-image-position-option">'+this.lang.get("image-position")+'</label><select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+this.lang.get("image-position")+'"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+
'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+this.lang.get("right")+'</option></select></section><section><label class="checkbox"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get("link-in-new-tab")+'"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+'</button><button id="redactor-modal-button-delete" class="redactor-modal-button-offset">'+
this.lang.get("delete")+"</button></section></div></div>",image:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("upload")+'"><section><div id="redactor-modal-image-droparea"></div></section></div>',file:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("upload")+'"><section><label>'+this.lang.get("filename")+' <span class="desc">('+this.lang.get("optional")+')</span></label><input type="text" id="redactor-filename" aria-label="'+this.lang.get("filename")+
'" /><br><br></section><section><div id="redactor-modal-file-upload"></div></section></div>',link:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("general")+'"><section><label>URL</label><input type="url" id="redactor-link-url" aria-label="URL" /></section><section><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" aria-label="'+this.lang.get("text")+'" /></section><section><label class="checkbox"><input type="checkbox" id="redactor-link-blank"> '+
this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"};b.extend(this.opts,this.opts.modal)},addCallback:function(a,b){this.modal.callbacks[a]=b},addTemplate:function(a,b){this.opts.modal[a]=b},getTemplate:function(a){return this.opts.modal[a]},getModal:function(){return this.$modalBody},getActionButton:function(){return this.$modalBody.find("#redactor-modal-button-action")},
getCancelButton:function(){return this.$modalBody.find("#redactor-modal-button-cancel")},getDeleteButton:function(){return this.$modalBody.find("#redactor-modal-button-delete")},load:function(a,b,f){void 0!==this.$modalBox&&this.$modalBox.hasClass("open")||(this.modal.templateName=a,this.modal.width=f,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(b),this.modal.setDraggable(),this.modal.setContent(),void 0!==this.modal.callbacks[a]&&this.modal.callbacks[a].call(this))},show:function(){this.detect.isDesktop()||
document.activeElement.blur();this.selection.save();this.modal.buildTabber();this.detect.isMobile()&&(this.modal.width="96%");setTimeout(b.proxy(this.modal.buildWidth,this),0);b(window).on("resize.redactor-modal",b.proxy(this.modal.buildWidth,this));this.$modalOverlay.redactorAnimation("fadeIn",{duration:.25});this.$modalBox.addClass("open").show();this.$modal.redactorAnimation("fadeIn",{timing:"cubic-bezier(0.175, 0.885, 0.320, 1.105)"},b.proxy(function(){this.utils.saveScroll();this.utils.disableBodyScroll();
this.core.callback("modalOpened",this.modal.templateName,this.$modal);b(document).off("focusin.modal");this.$modal.find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor-modal",b.proxy(this.modal.setEnter,this))},this))},buildWidth:function(){var a=b(window).height(),d=b(window).width(),f="number"==typeof this.modal.width;!f&&this.modal.width.match(/%$/)?this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}):parseInt(this.modal.width)>d?this.$modal.css({width:"96%",
"margin-bottom":"2%"}):(f&&(this.modal.width+="px"),this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}));d=this.$modal.outerHeight();f=a/2-d/2+"px";this.detect.isMobile()?f="2%":d>a&&(f="16px");this.$modal.css("margin-top",f)},buildTabber:function(){this.modal.tabs=this.$modal.find(".redactor-modal-tab");2>this.modal.tabs.length||(this.modal.$tabsBox=b('<div id="redactor-modal-tabber" />'),b.each(this.modal.tabs,b.proxy(function(a,d){d=b('<a href="#" rel="'+a+'" />').text(b(d).attr("data-title"));
d.on("click",b.proxy(this.modal.showTab,this));0===a&&d.addClass("active");this.modal.$tabsBox.append(d)},this)),this.$modalBody.prepend(this.modal.$tabsBox))},showTab:function(a){a.preventDefault();a=b(a.target);var d=a.attr("rel");return this.modal.tabs.hide(),this.modal.tabs.eq(d).show(),b("#redactor-modal-tabber").find("a").removeClass("active"),a.addClass("active"),!1},setTitle:function(a){this.$modalHeader.html(a)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName));
this.modal.getCancelButton().on("mousedown",b.proxy(this.modal.close,this))},setDraggable:function(){void 0!==b.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(a){13===a.which&&(a.preventDefault(),this.modal.getActionButton().click())},build:function(){this.modal.buildOverlay();this.$modalBox=b('<div id="redactor-modal-box"/>').hide();this.$modal=b('<div id="redactor-modal" role="dialog" />');this.$modalHeader=b('<div id="redactor-modal-header" />');
this.$modalClose=b('<button type="button" id="redactor-modal-close" aria-label="'+this.lang.get("close")+'" />').html("&times;");this.$modalBody=b('<div id="redactor-modal-body" />');this.$modal.append(this.$modalHeader);this.$modal.append(this.$modalBody);this.$modal.append(this.$modalClose);this.$modalBox.append(this.$modal);this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=b('<div id="redactor-modal-overlay">').hide();b("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("mousedown.redactor-modal",
b.proxy(this.modal.close,this));b(document).on("keyup.redactor-modal",b.proxy(this.modal.closeHandler,this));this.core.editor().on("keyup.redactor-modal",b.proxy(this.modal.closeHandler,this));this.$modalBox.on("click.redactor-modal",b.proxy(this.modal.close,this))},disableEvents:function(){this.$modalClose.off("mousedown.redactor-modal");b(document).off("keyup.redactor-modal");this.core.editor().off("keyup.redactor-modal");this.$modalBox.off("click\u00a7.redactor-modal");b(window).off("resize.redactor-modal")},
closeHandler:function(a){a.which===this.keyCode.ESC&&this.modal.close(!1)},close:function(a){if(a){if("redactor-modal-button-cancel"!==b(a.target).attr("id")&&a.target!==this.$modalClose[0]&&a.target!==this.$modalBox[0])return;a.preventDefault()}this.$modalBox&&(this.selection.restore(),this.modal.disableEvents(),this.utils.enableBodyScroll(),this.utils.restoreScroll(),this.$modalOverlay.redactorAnimation("fadeOut",{duration:.4},b.proxy(function(){this.$modalOverlay.remove()},this)),this.$modal.redactorAnimation("fadeOut",
{duration:.3,timing:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},b.proxy(function(){void 0!==this.$modalBox&&(this.$modalBox.remove(),this.$modalBox=void 0);this.core.callback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){void 0===this.opts.destroyed&&(this.observe.links(),this.observe.images())},isCurrent:function(a,d){return void 0===d&&(d=b(this.selection.current())),d.is(a)||0<d.parents(a).length},toolbar:function(){this.observe.buttons();this.observe.dropdowns()},
buttons:function(a,d){var f=this.selection.current(),g=this.selection.parent();if(!1!==a?this.button.setInactiveAll():this.button.setInactiveAll(d),!1===a&&"html"!==d)return void(-1!==b.inArray(d,this.opts.activeButtons)&&this.button.toggleActive(d));this.utils.isRedactorParent(f)&&("none"!==this.core.editor().css("display")&&(this.utils.isCurrentOrParentHeader()||this.utils.isCurrentOrParent(["table","pre","blockquote","li"])?this.button.disable("horizontalrule"):this.button.enable("horizontalrule")),
b.each(this.opts.activeButtonsStates,b.proxy(function(a,d){var c=b(g).closest(a,this.$editor[0]),h=b(f).closest(a,this.$editor[0]);(0===c.length||this.utils.isRedactorParent(c))&&this.utils.isRedactorParent(h)&&(0===c.length&&0===h.closest(a,this.$editor[0]).length||this.button.setActive(d))},this)))},dropdowns:function(){var a=b("<div />").html(this.selection.html()).find("a").length,d=b(this.selection.current()),f=this.utils.isRedactorParent(d);b.each(this.opts.observe.dropdowns,b.proxy(function(b,
c){var g=c.observe;b=g.element;c=c.item;var k=void 0!==g.in&&g.in;g=void 0!==g.out&&g.out;0<d.closest(b).length&&f||"a"===b&&0!==a?this.observe.setDropdownProperties(c,k,g):this.observe.setDropdownProperties(c,g,k)},this))},setDropdownProperties:function(a,b,f){f&&void 0!==f.attr&&this.observe.setDropdownAttr(a,f.attr,!0);void 0!==b.attr&&this.observe.setDropdownAttr(a,b.attr);void 0!==b.title&&a.find("span").text(b.title)},setDropdownAttr:function(a,d,f){b.each(d,function(b,c){"class"===b?f?a.removeClass(c):
a.addClass(c):f?a.removeAttr(b):a.attr(b,c)})},addDropdown:function(a,b,f){void 0!==f.observe&&(f.item=a,this.opts.observe.dropdowns.push(f))},images:function(){this.opts.imageEditable&&(this.core.editor().addClass("redactor-layer-img-edit"),this.core.editor().find("img").each(b.proxy(function(a,d){a=b(d);a.closest("a",this.$editor[0]).on("click",function(a){a.preventDefault()});this.image.setEditable(a)},this)))},links:function(){this.opts.linkTooltip&&this.core.editor().find("a").each(b.proxy(function(a,
d){a=b(d);!0!==a.data("cached")&&(a.data("cached",!0),a.on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,b.proxy(this.observe.showTooltip,this)))},this))},getTooltipPosition:function(a){return a.offset()},showTooltip:function(a){var d=b(a.target);if("IMG"!==d[0].tagName&&("A"!==d[0].tagName&&(d=d.closest("a",this.$editor[0])),"A"===d[0].tagName)){var f=d;d=this.observe.getTooltipPosition(f);var g=b('<span class="redactor-link-tooltip"></span>'),c=f.attr("href");void 0===c&&(c="");
24<c.length&&(c=c.substring(0,24)+"...");c=b('<a href="'+f.attr("href")+'" target="_blank" />').html(c).addClass("redactor-link-tooltip-action");var h=b('<a href="#" />').html(this.lang.get("edit")).on("click",b.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),k=b('<a href="#" />').html(this.lang.get("unlink")).on("click",b.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action");g.append(c).append(" | ").append(h).append(" | ").append(k);f=parseInt(f.css("line-height"),
10);g.css({top:d.top+Math.ceil((a.pageY-d.top)/f)*f+"px",left:d.left+"px"});b(".redactor-link-tooltip").remove();b("body").append(g);this.core.editor().on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,b.proxy(this.observe.closeTooltip,this));b(document).on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,b.proxy(this.observe.closeTooltip,this))}},closeAllTooltip:function(){b(".redactor-link-tooltip").remove()},closeTooltip:function(a){a=a.originalEvent||a;a=a.target;var d=
b(a).closest("a",this.$editor[0]);0!==d.length&&"A"===d[0].tagName&&"A"!==a.tagName||"A"===a.tagName&&this.utils.isRedactorParent(a)||b(a).hasClass("redactor-link-tooltip-action")||(this.observe.closeAllTooltip(),this.core.editor().off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,b.proxy(this.observe.closeTooltip,this)),b(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,b.proxy(this.observe.closeTooltip,this)))}}},offset:function(){return{get:function(a){a=
this.offset.clone(a);if(!1===a)return 0;var d=document.createElement("div");return d.appendChild(a.cloneContents()),d.innerHTML=d.innerHTML.replace(/<img(.*?[^>])>$/gi,"i"),b.trim(b(d).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"").length},clone:function(a){var b=this.selection.get();b=this.selection.range(b);if(null===b&&void 0===a||!1===(a=void 0===a?this.$editor:a))return!1;a=a[0]||a;var f=b.cloneRange();return f.selectNodeContents(a),f.setEnd(b.endContainer,b.endOffset),f},set:function(a,
b){b=void 0===b?a:b;this.focus.is()||this.focus.start();for(var d,g=this.selection.get(),c=this.selection.range(g),h=0,k=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);null!==(d=k.nextNode());)if(h+=d.nodeValue.length,h>a&&(c.setStart(d,d.nodeValue.length+a-h),a=1/0),h>=b){c.setEnd(d,d.nodeValue.length+b-h);break}c.collapse(!1);this.selection.update(g,c)}}},paragraphize:function(){return{load:function(a){return!1===this.opts.paragraphize||"inline"===this.opts.type||"pre"===
this.opts.type?a:""===a||"<p></p>"===a?this.opts.emptyHtml:(a+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,a=a.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>"),a=a.replace(/<\/pre>/gi,"</pre>\n\n"),a=a.replace(/<p>\s<br><\/p>/gi,"<p></p>"),a=this.paragraphize.getSafes(a),a=a.replace("<br>","\n"),a=this.paragraphize.convert(a),a=this.paragraphize.clear(a),a=this.paragraphize.restoreSafes(a),a=a.replace(new RegExp("<br\\s?/?>\n?<("+this.opts.paragraphizeBlocks.join("|")+")(.*?[^>])>",
"gi"),"<p><br /></p>\n<$1$2>"),b.trim(a))},getSafes:function(a){a=b("<div />").append(a);return a.find("blockquote p").replaceWith(function(){return b(this).append("<br />").contents()}),a.find(this.opts.paragraphizeBlocks.join(", ")).each(b.proxy(function(a,f){f&&f.tagName&&"iframe"==f.tagName.toLowerCase()&&(f.innerHTML="");a=f.outerHTML;if(f&&f.tagName)switch(f.tagName.toLowerCase()){case "ul":case "ol":a=a.replace(/(<brs*?>s*)*<li>(s*<brs*?>)*/gi,"\n<li>");a=a.replace(/(<brs*?>s*)*<\/ul>/gi,"\n</ul>\n");
a=a.replace(/(<brs*?>s*)*<\/ol>/gi,"\n</ol>\n");break;case "table":a=a.replace(/(<brs*?>s*)*<(tr|td|tbody)>(s*<brs*?>)*/gi,"\n<$2>"),a=a.replace(/(<brs*?>s*)*<\/table>/gi,"\n</table>\n"),a=a.replace(/(<brs*?>s*)*<\/tbody>/gi,"\n</tbody>"),a=a.replace(/(<brs*?>s*)*<\/tr>/gi,"\n</tr>")}return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=a,b(f).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),a.find("span.redactor-selection-marker").each(b.proxy(function(a,
f){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=f.outerHTML,b(f).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),a.html()},restoreSafes:function(a){return b.each(this.paragraphize.safes,function(b,f){f=void 0!==f?f.replace(/\$/g,"&#36;"):f;a=a.replace("#####replace"+b+"#####",f)}),a},convert:function(a){a=a.replace(/\r\n/g,"xparagraphmarkerz");a=a.replace(/\n/g,"xparagraphmarkerz");a=a.replace(/\r/g,"xparagraphmarkerz");a=a.replace(/\s+/g," ");a=
b.trim(a);a=a.replace(/xparagraphmarkerzxparagraphmarkerz/gi,"</p><p>");return a=a.replace(/xparagraphmarkerz/gi,"<br>"),a="<p>"+a+"</p>",a=a.replace("<p></p>",""),a=a.replace("\r\n\r\n",""),a=a.replace(/<\/p><p>/g,"</p>\r\n\r\n<p>"),a=a.replace(/<br\s?\/?><\/p>/g,"</p>"),a=a.replace(/<p><br\s?\/?>/g,"<p>"),a=a.replace(/<p><br\s?\/?>/g,"<p>"),a=a.replace(/<br\s?\/?><\/p>/g,"</p>"),a=a.replace(/<p>&nbsp;<\/p>/gi,""),a=a.replace(/<p>\s?<br>&nbsp;<\/p>/gi,""),a.replace(/<p>\s?<br>/gi,"<p>")},clear:function(a){return a=
a.replace(/<p>(.*?)#####replace(.*?)#####\s?<\/p>/gi,"<p>$1</p>#####replace$2#####"),a=a.replace(/(<br\s?\/?>){2,}<\/p>/gi,"</p>"),a=a.replace(/<\/blockquote><\/p>/gi,"</blockquote>"),a=a.replace(/<p><\/blockquote>/gi,"</blockquote>"),a=a.replace(/<p><blockquote>/gi,"<blockquote>"),a=a.replace(/<blockquote><\/p>/gi,"<blockquote>"),a=a.replace(/<p><p /gi,"<p "),a=a.replace(/<p><p>/gi,"<p>"),a=a.replace(/<\/p><\/p>/gi,"</p>"),a=a.replace(/<p>\s?<\/p>/gi,""),a=a.replace(/\n<\/p>/gi,"</p>"),a=a.replace(/<p>\t?\t?\n?<p>/gi,
"<p>"),a.replace(/<p>\t*<\/p>/gi,"")}}},paste:function(){return{init:function(a){this.rtePaste=!0;var d=!("pre"!==this.opts.type&&!this.utils.isCurrentOrParent("pre"));if(this.detect.isDesktop()&&!this.paste.pre&&this.opts.clipboardImageUpload&&this.opts.imageUpload&&this.paste.detectClipboardUpload(a))return void(this.detect.isIe()&&setTimeout(b.proxy(this.paste.clipboardUpload,this),100));this.utils.saveScroll();this.selection.save();this.paste.createPasteBox(d);b(window).on("scroll.redactor-freeze",
b.proxy(function(){b(window).scrollTop(this.saveBodyScroll)},this));setTimeout(b.proxy(function(){var a=this.paste.getPasteBoxCode(d);this.buffer.set();this.selection.restore();this.utils.restoreScroll();var g=this.clean.getCurrentType(a);a=this.clean.onPaste(a,g);var c=this.core.callback("paste",a);this.paste.insert(void 0===c?a:c,g);this.rtePaste=!1;d&&this.clean.cleanPre();b(window).off("scroll.redactor-freeze")},this),1)},getPasteBoxCode:function(a){a=a?this.$pasteBox.val():this.$pasteBox.html();
return this.$pasteBox.remove(),a},createPasteBox:function(a){var d={position:"fixed",width:"1px",top:0,left:"-9999px"};this.$pasteBox=a?b("<textarea>").css(d):b("<div>").attr("contenteditable","true").css(d);this.paste.appendPasteBox();this.$pasteBox.focus()},appendPasteBox:function(){if(this.detect.isIe())this.core.box().append(this.$pasteBox);else{var a=b(".modal-body:visible");0<a.length?a.append(this.$pasteBox):b("body").prepend(this.$pasteBox)}},detectClipboardUpload:function(a){a=a.originalEvent||
a;var d=a.clipboardData;if(this.detect.isIe()||this.detect.isFirefox())return!1;if(-1!==d.types.indexOf("public.tiff"))return a.preventDefault(),!1;if(d.items&&d.items.length){a=d.items[0].getAsFile();if(null===a)return!1;d=new FileReader;return d.readAsDataURL(a),d.onload=b.proxy(this.paste.insertFromClipboard,this),!0}},clipboardUpload:function(){var a=this.$editor.find("img");b.each(a,b.proxy(function(a,f){if(-1!==f.src.search(/^data:image/i)&&(a=window.FormData?new FormData:null,window.FormData)){this.upload.direct=
!0;this.upload.type="image";this.upload.url=this.opts.imageUpload;this.upload.callback=b.proxy(function(a){if(this.detect.isIe())b(f).wrap(b("<figure />"));else{var c=b(f).parent();this.utils.replaceToTag(c,"figure")}f.src=a.url;this.core.callback("imageUpload",b(f),a)},this);var d=this.utils.dataURItoBlob(f.src);a.append("clipboard",1);a.append(this.opts.imageUploadParam,d);this.progress.show();this.upload.send(a,!1);this.code.sync();this.rtePaste=!1}},this))},insertFromClipboard:function(a){var b=
window.FormData?new FormData:null;if(window.FormData){this.upload.direct=!0;this.upload.type="image";this.upload.url=this.opts.imageUpload;this.upload.callback=this.image.insert;var f=this.utils.dataURItoBlob(a.target.result);b.append("clipboard",1);b.append(this.opts.imageUploadParam,f);this.progress.show();this.upload.send(b,a);this.rtePaste=!1}},insert:function(a,d){d.pre?this.insert.raw(a):d.text?this.insert.text(a):this.insert.html(a,d);this.detect.isFirefox()&&this.opts.imageUpload&&this.opts.clipboardImageUpload&&
setTimeout(b.proxy(this.paste.clipboardUpload,this),100)}}},placeholder:function(){return{enable:function(){setTimeout(b.proxy(function(){return this.placeholder.isEditorEmpty()?this.placeholder.show():this.placeholder.hide()},this),5)},show:function(){this.core.editor().addClass("redactor-placeholder")},update:function(a){this.opts.placeholder=a;this.core.editor().attr("placeholder",a)},hide:function(){this.core.editor().removeClass("redactor-placeholder")},is:function(){return this.core.editor().hasClass("redactor-placeholder")},
init:function(){this.placeholder.enabled()&&(this.utils.isEditorRelative()||this.utils.setEditorRelative(),this.placeholder.build(),this.placeholder.buildPosition(),this.placeholder.enable(),this.placeholder.enableEvents())},enabled:function(){return this.opts.placeholder?this.core.element().attr("placeholder",this.opts.placeholder):this.placeholder.isAttr()},enableEvents:function(){this.core.editor().on("keydown.redactor-placeholder."+this.uuid,b.proxy(this.placeholder.enable,this))},disableEvents:function(){this.core.editor().off(".redactor-placeholder."+
this.uuid)},build:function(){this.core.editor().attr("placeholder",this.core.element().attr("placeholder"))},buildPosition:function(){var a=b("<style />");a.addClass("redactor-placeholder-style-tag");a.html("#"+this.core.id()+".redactor-placeholder::after "+this.placeholder.getPosition());b("head").append(a)},getPosition:function(){return"{ top: "+this.core.editor().css("padding-top")+"; left: "+this.core.editor().css("padding-left")+"; }"},isEditorEmpty:function(){var a=b.trim(this.core.editor().html()).replace(/[\t\n]/g,
"");return-1!==b.inArray(a,["","<p>\u200b</p>","<p>\u200b<br></p>",this.opts.emptyHtmlRendered])},isAttr:function(){return void 0!==this.core.element().attr("placeholder")&&""!==this.core.element().attr("placeholder")},destroy:function(){this.core.editor().removeAttr("placeholder");this.placeholder.hide();this.placeholder.disableEvents();b(".redactor-placeholder-style-tag").remove()}}},progress:function(){return{$box:null,$bar:null,target:document.body,show:function(){this.progress.is()?this.progress.$box.show():
(this.progress.build(),this.progress.$box.redactorAnimation("fadeIn"))},hide:function(){this.progress.is()&&this.progress.$box.redactorAnimation("fadeOut",{duration:.35},b.proxy(this.progress.destroy,this))},update:function(a){this.progress.show();this.progress.$bar.css("width",a+"%")},is:function(){return null!==this.progress.$box},build:function(){this.progress.$bar=b("<span />");this.progress.$box=b('<div id="redactor-progress" />');this.progress.$box.append(this.progress.$bar);b(this.progress.target).append(this.progress.$box)},
destroy:function(){this.progress.is()&&this.progress.$box.remove();this.progress.$box=null;this.progress.$bar=null}}},selection:function(){return{get:function(){return window.getSelection?window.getSelection():document.selection&&"Control"!==document.selection.type?document.selection:null},range:function(a){return void 0===a&&(a=this.selection.get()),a.getRangeAt&&a.rangeCount?a.getRangeAt(0):null},is:function(){return!this.selection.isCollapsed()},isRedactor:function(){var a=this.selection.range();
return null!==a&&(a=a.startContainer.parentNode,b(a).hasClass("redactor-in")||0!==b(a).parents(".redactor-in").length)?!0:!1},isCollapsed:function(){var a=this.selection.get();return null!==a&&a.isCollapsed},update:function(a,b){null!==b&&(a.removeAllRanges(),a.addRange(b))},current:function(){var a=this.selection.get();return null!==a&&a.anchorNode},parent:function(){var a=this.selection.current();return null!==a&&a.parentNode},block:function(a){for(a=a||this.selection.current();a;){if(this.utils.isBlockTag(a.tagName))return!b(a).hasClass("redactor-in")&&
a;a=a.parentNode}return!1},inline:function(a){for(a=a||this.selection.current();a;){if(this.utils.isInlineTag(a.tagName))return!b(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},element:function(a){for(a||(a=this.selection.current());a;){if(1===a.nodeType)return!b(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},prev:function(){return null!==this.selection.current()&&this.selection.current().previousSibling},next:function(){return null!==this.selection.current()&&this.selection.current().nextSibling},
blocks:function(a){var d=[];a=this.selection.nodes(a);b.each(a,b.proxy(function(a,b){this.utils.isBlock(b)&&d.push(b)},this));a=this.selection.block();return 0===d.length&&!1===a?[]:0===d.length&&!1!==a?[a]:d},inlines:function(a){var d=[];a=this.selection.nodes(a);b.each(a,b.proxy(function(a,b){this.utils.isInline(b)&&d.push(b)},this));a=this.selection.inline();return 0===d.length&&!1===a?[]:0===d.length&&!1!==a?[a]:d},nodes:function(a){var d=void 0===a?[]:b.isArray(a)?a:[a];a=this.selection.get();
a=this.selection.range(a);var f=[],g=[];if(this.utils.isCollapsed())f=[this.selection.current()];else{var c=a.startContainer,h=a.endContainer;if(c===h)return[this.selection.parent()];for(;c&&c!==h;)((c=this.selection.nextNode(c))!==h||0<a.endOffset)&&f.push(c);for(c=a.startContainer;c&&c!==a.commonAncestorContainer;)f.unshift(c),c=c.parentNode}return b.each(f,function(a,c){c&&(a=1===c.nodeType&&c.tagName.toLowerCase(),b(c).hasClass("redactor-script-tag")||b(c).hasClass("redactor-selection-marker")||
a&&0!==d.length&&-1===b.inArray(a,d)||g.push(c))}),0===g.length?[]:g},nextNode:function(a){if(a.hasChildNodes())return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null},save:function(){this.marker.insert();this.savedSel=this.core.editor().html()},restore:function(a){var b=this.marker.find(1),f=this.marker.find(2);this.detect.isFirefox()&&this.core.editor().focus();0!==b.length&&0!==f.length?this.caret.set(b,f):0!==b.length?this.caret.start(b):this.core.editor().focus();
!1!==a&&(this.marker.remove(),this.savedSel=!1)},saveInstant:function(){var a=this.core.editor()[0],b=a.ownerDocument.defaultView.getSelection();if(b.getRangeAt&&b.rangeCount){b=b.getRangeAt(0);var f=b.cloneRange();f.selectNodeContents(a);f.setEnd(b.startContainer,b.startOffset);a=f.toString().length;return this.saved={start:a,end:a+b.toString().length,node:b.startContainer},this.saved}},restoreInstant:function(a){if(void 0!==a||this.saved)if(this.saved=void 0!==a?a:this.saved,a=this.core.editor().find(this.saved.node),
0===a.length||0!==a.text().trim().replace(/\u200B/g,"").length){var b=this.core.editor()[0],f=b.ownerDocument,g=f.defaultView;a=0;f=f.createRange();f.setStart(b,0);f.collapse(!0);var c;b=[b];for(var h=!1,k=!1;!k&&(c=b.pop());)if(3==c.nodeType){var m=a+c.length;!h&&this.saved.start>=a&&this.saved.start<=m&&(f.setStart(c,this.saved.start-a),h=!0);h&&this.saved.end>=a&&this.saved.end<=m&&(f.setEnd(c,this.saved.end-a),k=!0);a=m}else for(m=c.childNodes.length;m--;)b.push(c.childNodes[m]);g=g.getSelection();
g.removeAllRanges();g.addRange(f)}else try{f=document.createRange(),f.setStart(a[0],0),g=window.getSelection(),g.removeAllRanges(),g.addRange(f)}catch(e){}},node:function(a){b(a).prepend(this.marker.get(1));b(a).append(this.marker.get(2));this.selection.restore()},all:function(){this.core.editor().focus();var a=this.selection.get(),b=this.selection.range(a);b.selectNodeContents(this.core.editor()[0]);this.selection.update(a,b)},remove:function(){this.selection.get().removeAllRanges()},replace:function(a){this.insert.html(a)},
text:function(){return this.selection.get().toString()},html:function(){var a="",b=this.selection.get();if(b.rangeCount){a=document.createElement("div");for(var f=b.rangeCount,g=0;g<f;++g)a.appendChild(b.getRangeAt(g).cloneContents());a=this.clean.onGet(a.innerHTML)}return a},extractEndOfNode:function(a){var b=this.selection.get();b=this.selection.range(b);var f=b.cloneRange();return f.selectNodeContents(a),f.setStart(b.endContainer,b.endOffset),f.extractContents()},removeMarkers:function(){this.marker.remove()},
marker:function(a){return this.marker.get(a)},markerHtml:function(a){return this.marker.html(a)}}},shortcuts:function(){return{hotkeysSpecialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",
112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hotkeysShiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},init:function(a,d){if(!1===this.opts.shortcuts)return!a.ctrlKey&&!a.metaKey||66!==d&&73!==d||a.preventDefault(),
!1;b.each(this.opts.shortcuts,b.proxy(function(b,d){this.shortcuts.build(a,b,d)},this))},build:function(a,d,f){var g=b.proxy(function(){this.shortcuts.buildHandler(f)},this);d=d.split(",");for(var c=d.length,h=0;h<c;h++)"string"==typeof d[h]&&this.shortcuts.handler(a,b.trim(d[h]),g)},buildHandler:function(a){var b;"-1"!==a.func.search(/\./)?(b=a.func.split("."),void 0!==this[b[0]]&&this[b[0]][b[1]].apply(this,a.params)):this[a.func].apply(this,a.params)},handler:function(a,d,f){d=d.toLowerCase().split(" ");
var g=this.shortcuts.hotkeysSpecialKeys[a.keyCode],c=String.fromCharCode(a.which).toLowerCase(),h="",k={};b.each(["alt","ctrl","meta","shift"],function(c,b){a[b+"Key"]&&g!==b&&(h+=b+"+")});g&&(k[h+g]=!0);c&&(k[h+c]=!0,k[h+this.shortcuts.hotkeysShiftNums[c]]=!0,"shift+"===h&&(k[this.shortcuts.hotkeysShiftNums[c]]=!0));c=d.length;for(var m=0;m<c;m++)if(k[d[m]])return a.preventDefault(),f.apply(this,arguments)}}},storage:function(){return{data:[],add:function(a){a.status=!0;a.url=decodeURI(a.url);this.storage.data[a.url]=
a},status:function(a,b){this.storage.data[decodeURI(a)].status=b},observe:function(){var a=this;this.core.editor().find("[data-image]").each(function(d,f){a.storage.add({type:"image",node:f,url:f.src,id:b(f).attr("data-image")})});this.core.editor().find("[data-file]").each(function(d,f){a.storage.add({type:"file",node:f,url:f.href,id:b(f).attr("data-file")})});this.core.editor().find("[data-s3]").each(function(d,f){a.storage.add({type:"s3",node:f,url:"IMG"===f.tagName?f.src:f.href,id:b(f).attr("data-s3")})})},
changes:function(){for(var a in this.storage.data){var b=this.storage.data[a],f="IMG"===b.node.tagName?"src":"href";0===this.core.editor().find("[data-"+b.type+"]["+f+'="'+b.url+'"]').length?this.storage.status(b.url,!1):this.storage.status(b.url,!0)}return this.storage.data}}},toolbar:function(){return{build:function(){this.button.hideButtons();this.button.hideButtonsOnMobile();this.$toolbarBox=b("<div />").addClass("redactor-toolbar-box");this.$toolbar=this.toolbar.createContainer();this.$toolbarBox.append(this.$toolbar);
this.toolbar.append();this.button.$toolbar=this.$toolbar;this.button.setFormatting();this.button.load(this.$toolbar);this.toolbar.setOverflow();this.toolbar.setFixed()},createContainer:function(){return b("<ul>").addClass("redactor-toolbar").attr({id:"redactor-toolbar-"+this.uuid,role:"toolbar"})},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),b(this.opts.toolbarExternal).html(this.$toolbarBox)):"textarea"===this.opts.type?this.$box.prepend(this.$toolbarBox):
this.$element.before(this.$toolbarBox)},setOverflow:function(){this.opts.toolbarOverflow&&this.$toolbar.addClass("redactor-toolbar-overflow")},setFixed:function(){if(this.opts.toolbarFixed&&!this.opts.toolbarExternal){if(this.opts.toolbarFixedTarget!==document){var a=b(this.opts.toolbarFixedTarget);this.toolbar.toolbarOffsetTop=0===a.length?0:this.core.box().offset().top-a.offset().top}a=0!==this.core.box().closest(".modal-body").length?1E3:0;setTimeout(b.proxy(function(){var a=this;this.toolbar.observeScroll(!1);
this.detect.isDesktop()?b(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){100>a.core.editor().height()||a.placeholder.isEditorEmpty()||a.toolbar.observeScroll()}):b(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){100>a.core.editor().height()||a.placeholder.isEditorEmpty()||(a.core.toolbar().hide(),clearTimeout(b.data(this,"scrollCheck")),b.data(this,"scrollCheck",setTimeout(function(){a.core.toolbar().show();a.toolbar.observeScroll()},250)))})},this),
a)}},setUnfixed:function(){this.toolbar.observeScrollDisable()},getBoxTop:function(){return this.opts.toolbarFixedTarget===document?this.core.box().offset().top:this.toolbar.toolbarOffsetTop},observeScroll:function(a){var d=0;!1!==a&&(d=this.opts.toolbarFixedTarget===document?20:0);a=b(this.opts.toolbarFixedTarget).scrollTop();var f=this.toolbar.getBoxTop();a!==f&&(a+this.opts.toolbarFixedTopOffset+d>f?this.toolbar.observeScrollEnable(a,f):this.toolbar.observeScrollDisable())},observeScrollResize:function(){this.$toolbar.css({width:this.core.box().innerWidth(),
left:this.core.box().offset().left})},observeScrollEnable:function(a,d){if(void 0!==this.fullscreen&&!1===this.fullscreen.isOpened)return void this.toolbar.observeScrollDisable();var f=d+this.core.box().outerHeight()-32,g=this.core.box().innerWidth(),c=this.detect.isDesktop()?"fixed":"absolute",h=this.detect.isDesktop()?this.opts.toolbarFixedTopOffset:b(this.opts.toolbarFixedTarget).scrollTop()-d+this.opts.toolbarFixedTopOffset,k=this.detect.isDesktop()?this.core.box().offset().left:0;this.opts.toolbarFixedTarget!==
document&&(c="absolute",h=this.opts.toolbarFixedTopOffset+b(this.opts.toolbarFixedTarget).scrollTop()-d,k=0);this.$toolbar.addClass("toolbar-fixed-box");this.$toolbar.css({position:c,width:g,top:h,left:k});a>f&&b(".redactor-dropdown-"+this.uuid+":visible").hide();this.toolbar.setDropdownsFixed();this.$toolbar.css("visibility",a<f?"visible":"hidden");b(window).on("resize.redactor-toolbar."+this.uuid,b.proxy(this.toolbar.observeScrollResize,this))},observeScrollDisable:function(){this.$toolbar.css({position:"relative",
width:"auto",top:0,left:0,visibility:"visible"});this.toolbar.unsetDropdownsFixed();this.$toolbar.removeClass("toolbar-fixed-box");b(window).off("resize.redactor-toolbar."+this.uuid)},setDropdownsFixed:function(){var a=this.opts.toolbarFixedTarget===document&&this.detect.isDesktop()?"fixed":"absolute";this.toolbar.setDropdownPosition(a)},unsetDropdownsFixed:function(){this.toolbar.setDropdownPosition("absolute")},setDropdownPosition:function(a){var d=this;b(".redactor-dropdown-"+this.uuid).each(function(){var f=
b(this),g=d.button.get(f.attr("rel")),c="fixed"===a?d.opts.toolbarFixedTopOffset:g.offset().top;f.css({position:a,top:g.innerHeight()+c+"px"})})}}},upload:function(){return{init:function(a,d,f){this.upload.direct=!1;this.upload.callback=f;this.upload.url=d;this.upload.$el=b(a);this.upload.$droparea=b('<div id="redactor-droparea" />');this.upload.$placeholdler=b('<div id="redactor-droparea-placeholder" />').text(this.lang.get("upload-label"));this.upload.$input=b('<input type="file" name="file" multiple />');
this.upload.$placeholdler.append(this.upload.$input);this.upload.$droparea.append(this.upload.$placeholdler);this.upload.$el.append(this.upload.$droparea);this.upload.$droparea.off("redactor.upload");this.upload.$input.off("redactor.upload");this.upload.$droparea.on("dragover.redactor.upload",b.proxy(this.upload.onDrag,this));this.upload.$droparea.on("dragleave.redactor.upload",b.proxy(this.upload.onDragLeave,this));this.upload.$input.on("change.redactor.upload",b.proxy(function(a){a=a.originalEvent||
a;for(var c=this.upload.$input[0].files.length,b=0;b<c;b++)this.upload.traverseFile(this.upload.$input[0].files[c-1-b],a)},this));this.upload.$droparea.on("drop.redactor.upload",b.proxy(function(a){a.preventDefault();this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop");this.upload.onDrop(a)},this))},directUpload:function(a,b){this.upload.direct=!0;this.upload.traverseFile(a,b)},onDrop:function(a){a=a.originalEvent||a;var b=a.dataTransfer.files;if(this.opts.multipleImageUpload)for(var f=
b.length,g=0;g<f;g++)this.upload.traverseFile(b[g],a);else this.upload.traverseFile(b[0],a)},traverseFile:function(a,b){if(this.opts.s3)return this.upload.setConfig(a),void this.uploads3.send(a,b);var d=window.FormData?new FormData:null;window.FormData&&(this.upload.setConfig(a),d.append("image"===this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam,a));this.progress.show();!1!==this.core.callback("uploadStart",b,d)&&this.upload.send(d,b)},setConfig:function(a){this.upload.getType(a);
this.upload.direct&&(this.upload.url="image"===this.upload.type?this.opts.imageUpload:this.opts.fileUpload,this.upload.callback="image"===this.upload.type?this.image.insert:this.file.insert)},getType:function(a){this.upload.type=-1===this.opts.imageTypes.indexOf(a.type)?"file":"image";null===this.opts.imageUpload&&null!==this.opts.fileUpload&&(this.upload.type="file")},getHiddenFields:function(a,d){return!1===a||"object"!=typeof a?d:(b.each(a,b.proxy(function(a,g){null!==g&&0===g.toString().indexOf("#")&&
(g=b(g).val());d.append(a,g)},this)),d)},send:function(a,d){"image"===this.upload.type?(a=this.utils.appendFields(this.opts.imageUploadFields,a),a=this.utils.appendForms(this.opts.imageUploadForms,a),a=this.upload.getHiddenFields(this.upload.imageFields,a)):(a=this.utils.appendFields(this.opts.fileUploadFields,a),a=this.utils.appendForms(this.opts.fileUploadForms,a),a=this.upload.getHiddenFields(this.upload.fileFields,a));var f=new XMLHttpRequest;f.open("POST",this.upload.url);f.setRequestHeader("X-Requested-With",
"XMLHttpRequest");f.onreadystatechange=b.proxy(function(){if(4===f.readyState){var a=f.responseText;a=a.replace(/^\[/,"");a=a.replace(/\]$/,"");try{var c="string"==typeof a?JSON.parse(a):a}catch(h){c={error:!0}}this.progress.hide();this.upload.direct||this.upload.$droparea.removeClass("drag-drop");this.upload.callback(c,this.upload.direct,d)}},this);!1!==this.core.callback("uploadBeforeSend",f)&&f.send(a)},onDrag:function(a){a.preventDefault();this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(a){a.preventDefault();
this.upload.$droparea.removeClass("drag-hover")},clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(a,b){this.upload.imageFields[a]=b},removeImageFields:function(a){delete this.upload.imageFields[a]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(a,b){this.upload.fileFields[a]=b},removeFileFields:function(a){delete this.upload.fileFields[a]}}},uploads3:function(){return{send:function(a,d){this.uploads3.executeOnSignedUrl(a,b.proxy(function(b){this.uploads3.sendToS3(a,
b,d)},this))},executeOnSignedUrl:function(a,b){var d=new XMLHttpRequest,g=-1===this.opts.s3.search(/\?/)?"?":"&";d.open("GET",this.opts.s3+g+"name="+a.name+"&type="+a.type,!0);d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined");var c=this;d.onreadystatechange=function(a){4===this.readyState&&200===this.status&&(c.progress.show(),b(decodeURIComponent(this.responseText)))};d.send()},createCORSRequest:function(a,b){var d=new XMLHttpRequest;return"withCredentials"in d?d.open(a,
b,!0):"undefined"!=typeof XDomainRequest?(d=new XDomainRequest,d.open(a,b)):d=null,d},sendToS3:function(a,d,f){var g=this.uploads3.createCORSRequest("PUT",d);g&&(g.onload=b.proxy(function(){var a;if(this.progress.hide(),200!==g.status)return a={error:!0},void this.upload.callback(a,this.upload.direct,g);var b=d.split("?");if(!b[0])return!1;if(this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),a={url:b[0],id:b[0],s3:!0},"file"===this.upload.type)b=b[0].split("/"),a.name=b[b.length-
1];this.upload.callback(a,this.upload.direct,f)},this),g.onerror=function(){},g.upload.onprogress=function(a){},g.setRequestHeader("Content-Type",a.type),g.setRequestHeader("x-amz-acl","public-read"),g.send(a))}}},utils:function(){return{isEmpty:function(a){return a=void 0===a?this.core.editor().html():a,a=a.replace(/[\u200B-\u200D\uFEFF]/g,""),a=a.replace(/&nbsp;/gi,""),a=a.replace(/<\/?br\s?\/?>/g,""),a=a.replace(/\s/g,""),a=a.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,""),a=a.replace(/<iframe(.*?[^>])>$/i,
"iframe"),a=a.replace(/<source(.*?[^>])>$/i,"source"),a=a.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),a=a.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),""===b.trim(a)},isElement:function(a){try{return a instanceof HTMLElement}catch(d){return"object"==typeof a&&1===a.nodeType&&"object"==typeof a.style&&"object"==typeof a.ownerDocument}},strpos:function(a,b,f){a=a.indexOf(b,f);return 0<=a&&a},dataURItoBlob:function(a){var b=0<=a.split(",")[0].indexOf("base64")?atob(a.split(",")[1]):unescape(a.split(",")[1]);a=
a.split(",")[0].split(":")[1].split(";")[0];for(var f=new Uint8Array(b.length),g=0;g<b.length;g++)f[g]=b.charCodeAt(g);return new Blob([f],{type:a})},getOuterHtml:function(a){return b("<div>").append(b(a).eq(0).clone()).html()},cloneAttributes:function(a,d){a=a[0]||a;d=b(d);a=a.attributes;for(var f=a.length;f--;){var g=a[f];d.attr(g.name,g.value)}return d},breakBlockTag:function(){var a=this.selection.block();if(!a)return!1;var d=this.utils.isEmpty(a.innerHTML),f=a.tagName.toLowerCase();if("pre"===
f||"li"===f||"td"===f||"th"===f)return!1;if(!d&&this.utils.isStartOfElement(a))return{$block:b(a),$next:b(a).next(),type:"start"};if(!d&&this.utils.isEndOfElement(a))return{$block:b(a),$next:b(a).next(),type:"end"};d=this.selection.extractEndOfNode(a);f=b("<"+f+" />").append(d);return f=this.utils.cloneAttributes(a,f),b(a).after(f),{$block:b(a),$next:f,type:"break"}},inBlocks:function(a){a=b.isArray(a)?a:[a];for(var d=this.selection.blocks(),f=d.length,g=!1,c=0;c<f;c++)if(!1!==d[c]){var h=d[c].tagName.toLowerCase();
-1!==b.inArray(h,a)&&(g=!0)}return g},inInlines:function(a){a=b.isArray(a)?a:[a];for(var d=this.selection.inlines(),f=d.length,g=!1,c=0;c<f;c++){var h=d[c].tagName.toLowerCase();-1!==b.inArray(h,a)&&(g=!0)}return g},isTag:function(a,d){a=b(a).closest(d,this.core.editor()[0]);return 1===a.length&&a[0]},isBlock:function(a){return null!==a&&(a=a[0]||a)&&this.utils.isBlockTag(a.tagName)},isBlockTag:function(a){return void 0!==a&&this.reIsBlock.test(a)},isInline:function(a){return(a=a[0]||a)&&this.utils.isInlineTag(a.tagName)},
isInlineTag:function(a){return void 0!==a&&this.reIsInline.test(a)},isRedactorParent:function(a){return!!a&&0!==b(a).parents(".redactor-in").length&&!b(a).hasClass("redactor-in")&&a},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent("H1 H2 H3 H4 H5 H6".split(" "))},isCurrentOrParent:function(a){var d=this.selection.parent(),f=this.selection.current();if(b.isArray(a)){var g=0;return b.each(a,b.proxy(function(a,b){this.utils.isCurrentOrParentOne(f,d,b)&&g++},this)),0!==g}return this.utils.isCurrentOrParentOne(f,
d,a)},isCurrentOrParentOne:function(a,b,f){return f=f.toUpperCase(),b&&b.tagName===f?b:!(!a||a.tagName!==f)&&a},isEditorRelative:function(){var a=this.core.editor().css("position");return-1!==b.inArray(["absolute","fixed","relative"],a)},setEditorRelative:function(){this.core.editor().addClass("redactor-relative")},getScrollTarget:function(){var a=b(this.opts.scrollTarget);return 0!==a.length?a:b(document)},freezeScroll:function(){this.freezeScrollTop=this.utils.getScrollTarget().scrollTop();this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},
unfreezeScroll:function(){void 0!==this.freezeScrollTop&&this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},saveScroll:function(){this.tmpScrollTop=this.utils.getScrollTarget().scrollTop()},restoreScroll:function(){void 0!==this.tmpScrollTop&&this.utils.getScrollTarget().scrollTop(this.tmpScrollTop)},isStartOfElement:function(a){return!(void 0===a&&!(a=this.selection.block()))&&0===this.offset.get(a)},isEndOfElement:function(a){if(void 0===a&&!(a=this.selection.block()))return!1;var d=
b.trim(b(a).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"");return this.offset.get(a)===d.length},removeEmptyAttr:function(a,d){a=b(a);return void 0===a.attr(d)||""===a.attr(d)&&(a.removeAttr(d),!0)},replaceToTag:function(a,d){var f;return b(a).replaceWith(function(){f=b("<"+d+" />").append(b(this).contents());for(var a=0;a<this.attributes.length;a++)f.attr(this.attributes[a].name,this.attributes[a].value);return f}),f},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=
!0},disableSelectAll:function(){this.selectAll=!1},disableBodyScroll:function(){var a=b("html"),d=window.innerWidth;d||(d=document.documentElement.getBoundingClientRect(),d=d.right-Math.abs(d.left));d=document.body.clientWidth<d;var f=this.utils.measureScrollbar();a.css("overflow","hidden");d&&a.css("padding-right",f)},measureScrollbar:function(){var a=b("body"),d=document.createElement("div");d.className="redactor-scrollbar-measure";a.append(d);var f=d.offsetWidth-d.clientWidth;return a[0].removeChild(d),
f},enableBodyScroll:function(){b("html").css({overflow:"","padding-right":""});b("body").remove("redactor-scrollbar-measure")},appendFields:function(a,d){if(!a)return d;if("object"==typeof a)return b.each(a,function(a,g){null!==g&&0===g.toString().indexOf("#")&&(g=b(g).val());d.append(a,g)}),d;a=b(a);return 0===a.length?d:(a.each(function(){d.append(b(this).attr("name"),b(this).val())}),d)},appendForms:function(a,d){if(!a)return d;a=b(a);if(0===a.length)return d;a=a.serializeArray();return b.each(a,
function(a,b){d.append(b.name,b.value)}),d},isRgb:function(a){return 0===a.search(/^rgb/i)},rgb2hex:function(a){return a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),a&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""},isCollapsed:function(){return this.selection.isCollapsed()},isMobile:function(){return this.detect.isMobile()},isDesktop:function(){return this.detect.isDesktop()},
isPad:function(){return this.detect.isIpad()}}},browser:function(){return{webkit:function(){return this.detect.isWebkit()},ff:function(){return this.detect.isFirefox()},ie:function(){return this.detect.isIe()}}}};b(window).on("load.tools.redactor",function(){b('[data-tools="redactor"]').redactor()});n.prototype.init.prototype=n.prototype}(jQuery),function(b){function n(n,a,d,f){var g={duration:.5,iterate:1,delay:0,prefix:"redactor-",timing:"linear"};this.animation=a;this.slide="slideDown"===this.animation||
"slideUp"===this.animation;this.$element=b(n);this.prefixes=["","-moz-","-o-animation-","-webkit-"];this.queue=[];"function"==typeof d?(f=d,this.opts=g):this.opts=b.extend(g,d);this.slide&&this.$element.height(this.$element.height());this.init(f)}b.fn.redactorAnimation=function(b,a,d){return this.each(function(){new n(this,b,a,d)})};n.prototype={init:function(b){this.queue.push(this.animation);this.clean();"show"===this.animation?(this.opts.timing="linear",this.$element.removeClass("hide").show(),
"function"==typeof b&&b(this)):"hide"===this.animation?(this.opts.timing="linear",this.$element.hide(),"function"==typeof b&&b(this)):this.animate(b)},animate:function(n){this.$element.addClass("redactor-animated").css("display","").removeClass("hide");this.$element.addClass(this.opts.prefix+this.queue[0]);this.set(this.opts.duration+"s",this.opts.delay+"s",this.opts.iterate,this.opts.timing);var a=1<this.queue.length?null:n;this.complete("AnimationEnd",b.proxy(function(){this.$element.hasClass(this.opts.prefix+
this.queue[0])&&(this.clean(),this.queue.shift(),this.queue.length&&this.animate(n))},this),a)},set:function(b,a,d,f){for(var g=this.prefixes.length;g--;)this.$element.css(this.prefixes[g]+"animation-duration",b),this.$element.css(this.prefixes[g]+"animation-delay",a),this.$element.css(this.prefixes[g]+"animation-iteration-count",d),this.$element.css(this.prefixes[g]+"animation-timing-function",f)},clean:function(){this.$element.removeClass("redactor-animated");this.$element.removeClass(this.opts.prefix+
this.queue[0]);this.set("","","","")},complete:function(n,a,d){this.$element.one(n.toLowerCase()+" webkit"+n+" o"+n+" MS"+n,b.proxy(function(){"function"==typeof a&&a();"function"==typeof d&&d(this);-1!==b.inArray(this.animation,"fadeOut slideUp zoomOut slideOutUp slideOutRight slideOutLeft".split(" "))&&this.$element.css("display","none");this.slide&&this.$element.css("height","")},this))}}}(jQuery),function(b){b.Redactor.prototype.alignment=function(){return{langs:{en:{align:"Align","align-left":"Align Left",
"align-center":"Align Center","align-right":"Align Right","align-justify":"Align Justify"}},init:function(){var b={};b.left={title:this.lang.get("align-left"),func:this.alignment.setLeft};b.center={title:this.lang.get("align-center"),func:this.alignment.setCenter};b.right={title:this.lang.get("align-right"),func:this.alignment.setRight};b.justify={title:this.lang.get("align-justify"),func:this.alignment.setJustify};var u=this.button.add("alignment",this.lang.get("align"));this.button.setIcon(u,'<i class="re-icon-alignment"></i>');
this.button.addDropdown(u,b)},removeAlign:function(){this.block.removeAttr("style")},setLeft:function(){this.buffer.set();this.alignment.removeAlign()},setCenter:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: center"});this.core.editor().focus()},setRight:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: right"});this.core.editor().focus()},setJustify:function(){this.buffer.set();this.alignment.removeAlign();
this.block.addAttr({style:"text-align: justify"});this.core.editor().focus()}}}}(jQuery),!RedactorPlugins)var RedactorPlugins={};
!function(){function b(b,u,a,d,f){return function(){var g;return{locfn:window.$_||function(a){return a},langs:{en:{"code-to-insert":"Code to insert","blockquote-to-insert":"Blockquote to insert"}},init:function(){g=this[b];d=g.locfn(d);g.initToolbar();g.initEvents();g.initModal()},initToolbar:function(){var c=this.button.add(b,d);this.button.addCallback(c,g.show);this.button.setIcon(c,'<i class="'+a+'"></i>')},initEvents:function(){var a=null;this.$editor.on("keydown.redactor-"+b,$.proxy(function(c){c.which!=
this.keyCode.DOWN&&c.which!=this.keyCode.UP||(a=this.caret.getOffset())},this));this.$editor.on("keyup.redactor-"+b,$.proxy(function(c){if((c.which==this.keyCode.DOWN||c.which==this.keyCode.UP)&&a==this.caret.getOffset()){var b=$(this.selection.getBlock());if(b.length&&b.is(u)){var d;if(d=c.which==this.keyCode.DOWN?b.next():b.prev(),d.length){if(""!=$.trim(d.text()))return;d.html("&#8203;")}else d=g.insertNewline(b),c.which==this.keyCode.UP&&d.insertBefore(b);this.caret.setStart(d)}}},this))},initModal:function(){this.modal.addTemplate(b,
g.getTemplate());this.modal.addCallback(b,function(){this.modal.getCancelButton();this.modal.getActionButton(g.locfn("Insert")).on("click",function(){g.insertSnippet($("#h-"+b+"-textarea").val())})})},getTemplate:function(){return'<div class="modal-section" id="redactor-modal-'+b+'-insert"><section><label>'+this.lang.get(f)+'</label><textarea id="h-'+b+'-textarea" style="height: 200px"></textarea></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+
this.lang.get("cancel")+"</button></section></div>"},show:function(){this.buffer.set();this.selection.save();this.modal.load(b,d,800);this.modal.show();this.detect.isDesktop()&&setTimeout(function(){$("#h-"+b+"-textarea").focus()},1)},insertSnippet:function(a){this.modal.close();this.selection.restore();g.insertNewline($("<"+u+">").text(a).insertAfter(this.selection.current()));this.code.sync()},insertNewline:function(a){return $("<p>&#8203;</p>").insertAfter(a)}}}}RedactorPlugins.codeblock=b("codeblock",
"pre","re-icon-html","Insert code block","code-to-insert");RedactorPlugins.blockquote=b("blockquote","blockquote","re-icon-clips","Insert quote","blockquote-to-insert");$.wa&&($.wa.RedactorCodeblockPluginFactory=b)}();
(function(b){b.Redactor.prototype.fontcolor=function(){return{langs:{en:{fontcolor:"Text Color","fontcolor-highlight":"Highlight","fontcolor-text":"Text","fontcolor-none":"None"}},init:function(){var n="#ffffff #000000 #ff0000 #cc0000 #4f81bd #c0504d #9bbb59 #8064a2 #4bacc6 #f79646 #ffff00 #f2f2f2 #7f7f7f #0000ff #0000cc #dbe5f1 #f2dcdb #ebf1dd #e5e0ec #dbeef3 #fdeada #fff2ca #d8d8d8 #595959 #00ff00 #00cc00 #b8cce4 #e5b9b7 #d7e3bc #ccc1d9 #b7dde8 #fbd5b5 #ffe694 #bfbfbf #3f3f3f #7bed0c #59a60d #95b3d7 #d99694 #c3d69b #b2a2c7 #b7dde8 #fac08f #f2c314 #a5a5a5 #262626 #00ffff #00cccc #366092 #953734 #76923c #5f497a #92cddc #e36c09 #c09100 #7f7f7f #0c0c0c #ff00ff #cc00cc #244061 #632423 #4f6128 #3f3151 #31859b #974806 #7f6000".split(" "),u=
this.button.add("fontcolor",this.lang.get("fontcolor"));this.button.setIcon(u,'<i class="re-icon-fontcolor"></i>');var a=this.button.addDropdown(u);a.attr("rel","fontcolor");a.width(242);u=b('<div style="overflow: hidden; text-align: center;">');var d=b('<span rel="text" class="re-dropdown-box-selector-font" style="background: #eee; float: left; padding: 8px 0; cursor: pointer; font-size: 12px; width: 50%;">'+this.lang.get("fontcolor-text")+"</span>"),f=b('<span rel="back" class="re-dropdown-box-selector-font" style="float: left; padding: 8px 0; cursor: pointer; font-size: 12px; width: 50%;">'+
this.lang.get("fontcolor-highlight")+"</span>");u.append(d);u.append(f);a.append(u);this.fontcolor.buildPicker(a,"textcolor",n);this.fontcolor.buildPicker(a,"backcolor",n);d.on("mousedown",function(d){d.preventDefault();a.find(".re-dropdown-box-selector-font").css("background","none");a.find(".re-dropdown-box-backcolor").hide();a.find(".re-dropdown-box-textcolor").show();b(this).css("background","#eee")});f.on("mousedown",function(d){d.preventDefault();a.find(".re-dropdown-box-selector-font").css("background",
"none");a.find(".re-dropdown-box-textcolor").hide();a.find(".re-dropdown-box-backcolor").show();b(this).css("background","#eee")})},buildPicker:function(n,u,a){for(var d=b('<div class="re-dropdown-box-'+u+'">'),f="backcolor"==u?"background-color":"color",g=a.length,c=this,h=function(a){a.preventDefault();c.fontcolor.set(b(this).data("rule"),b(this).attr("rel"))},k=0;k<g;k++){var m=a[k],e=b('<a rel="'+m+'" data-rule="'+f+'" href="#" style="float: left; box-sizing: border-box; font-size: 0; border: 2px solid #fff; padding: 0; margin: 0; width: 22px; height: 22px;"></a>');
e.css("background-color",m);e.on("mousedown",h);d.append(e)}a=b('<a href="#" style="display: block; clear: both; padding: 8px 5px; box-sizing: border-box; font-size: 12px; line-height: 1;"></a>').html(this.lang.get("fontcolor-none"));a.on("mousedown",b.proxy(function(a){a.preventDefault();this.fontcolor.remove(f)},this));d.append(a);n.append(d);"backcolor"==u&&d.hide()},set:function(b,u){this.inline.format("span","style",b+": "+u+";");this.dropdown.hide()},remove:function(b){this.inline.removeStyleRule(b);
this.dropdown.hide()}}}})(jQuery);
(function(b){b.Redactor.prototype.fontfamily=function(){return{langs:{en:{fontfamily:"Font","fontfamily-remove":"Remove Font Family"}},init:function(){var n=this,u={};b.each("Arial;Helvetica;Georgia;Times New Roman;Verdana;Monospace".split(";"),function(a,b){u["s"+a]={title:b,func:function(){n.fontfamily.set(b)}}});u.remove={title:this.lang.get("fontfamily-remove"),func:n.fontfamily.reset};var a=this.button.add("fontfamily",this.lang.get("fontfamily"));this.button.setIcon(a,'<i class="re-icon-fontfamily"></i>');
this.button.addDropdown(a,u)},set:function(b){this.inline.format("span","style","font-family:"+b+";")},reset:function(){this.inline.removeStyleRule("font-family")}}}})(jQuery);
(function(b){b.Redactor.prototype.fontsize=function(){return{langs:{en:{fontsize:"Size","fontsize-remove":"Remove Font Size"}},init:function(){var n=this,u={};b.each([10,11,12,14,16,18,20,24,28,30],function(a,b){u["s"+a]={title:b+"px",func:function(){n.fontsize.set(b)}}});u.remove={title:this.lang.get("fontsize-remove"),func:n.fontsize.reset};var a=this.button.add("fontsize",this.lang.get("fontsize"));this.button.setIcon(a,'<i class="re-icon-fontsize"></i>');this.button.addDropdown(a,u)},set:function(b){this.inline.format("span",
"style","font-size: "+b+"px;")},reset:function(){this.inline.removeStyleRule("font-size")}}}})(jQuery);
(function(b){b.Redactor.prototype.inlinestyle=function(){return{langs:{en:{style:"Style","style-marked":"Marked","style-code":"Code","style-sample":"Sample","style-variable":"Variable","style-shortcut":"Shortcut","style-cite":"Cite","style-sup":"Superscript","style-sub":"Subscript"}},init:function(){var n=this,u={};b.each({marked:{title:"style-marked",args:["mark"]},code:{title:"style-code",args:["code"]},sample:{title:"style-sample",args:["samp"]},variable:{title:"style-variable",args:["var"]},shortcut:{title:"style-shortcut",
args:["kbd"]},cite:{title:"style-cite",args:["cite"]},sup:{title:"style-sup",args:["sup"]},sub:{title:"style-sub",args:["sub"]}},function(a,b){u[a]={title:n.lang.get(b.title),func:"inline.format",args:b.args}});var a=this.button.addAfter("format","inline",this.lang.get("style"));this.button.setIcon(a,'<i class="re-icon-inline"></i>');this.button.addDropdown(a,u)}}}})(jQuery);
(function(b){b.Redactor.prototype.properties=function(){return{langs:{en:{properties:"Properties"}},block:!1,labelStyle:{position:"absolute",padding:"2px 5px","line-height":1,"border-radius":"5px","font-size":"10px",color:"rgba(255, 255, 255, .9)","z-index":99},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-properties"><section><label id="modal-properties-id-label">Id</label><input type="text" id="modal-properties-id" /></section><section><label id="modal-properties-class-label">Class</label><input type="text" id="modal-properties-class" /></section><section><button id="redactor-modal-button-action">Save</button><button id="redactor-modal-button-cancel">Cancel</button></section></div>'},
setup:function(){this.opts.properties=void 0===this.opts.properties?{}:this.opts.properties;this.opts.properties.id=void 0===this.opts.properties.id||this.opts.properties.id;this.opts.properties.classname=void 0===this.opts.properties.classname||this.opts.properties.classname;this.opts.properties.show=void 0!==this.opts.properties.show&&this.opts.properties.show},init:function(){if("pre"!==this.opts.type&&"inline"!==this.opts.type){this.properties.setup();this.properties.createLabelId(this.properties.labelStyle);
this.properties.createLabelClass(this.properties.labelStyle);this.properties.setEvents();var b=this.button.add("properties",this.lang.get("properties"));this.button.setIcon(b,'<i class="re-icon-properties"></i>');this.button.addCallback(b,this.properties.show)}},show:function(){this.modal.addTemplate("properties",this.properties.getTemplate());this.modal.load("properties","Properties",600);this.modal.getActionButton().text("Save").on("click",this.properties.save);this.properties.showId();this.properties.showClass();
this.modal.show()},createLabelId:function(n){(this.opts.properties.show||this.opts.properties.id)&&(this.properties.labelId=b("<span />").attr("id","redactor-properties-label-id-"+this.uuid).attr("title","ID").hide(),this.properties.labelId.css(n).css("background","rgba(229, 57, 143, .7)"),b("body").append(this.properties.labelId))},createLabelClass:function(n){(this.opts.properties.show||this.opts.properties.classname)&&(this.properties.labelClass=b("<span />").attr("id","redactor-properties-label-class-"+
this.uuid).attr("title","class").hide(),this.properties.labelClass.css(n).css("background","rgba(61, 121, 242, .7)"),b("body").append(this.properties.labelClass))},setEvents:function(){this.core.element().on("click.callback.redactor",this.properties.showOnClick);b(document).on("mousedown.redactor-properties",b.proxy(this.properties.hideOnBlur,this));this.core.element().on("destroy.callback.redactor",b.proxy(function(){b(document).off(".redactor-properties")},this))},showId:function(){this.opts.properties.id?
(b("#modal-properties-id-label").show(),b("#modal-properties-id").show().val(b(this.properties.block).attr("id"))):b("#modal-properties-id, #modal-properties-id-label").hide()},showClass:function(){this.opts.properties.classname?(b("#modal-properties-class-label").show(),b("#modal-properties-class").show().val(b(this.properties.block).attr("class"))):b("#modal-properties-class, #modal-properties-class-label").hide()},save:function(){if(this.opts.properties.id){var n=b("#modal-properties-id").val();
void 0===n||""===n?this.block.removeAttr("id",this.properties.block):this.block.replaceAttr("id",n,this.properties.block)}this.opts.properties.classname&&(n=b("#modal-properties-class").val(),void 0===n||""===n?this.block.removeAttr("class",this.properties.block):this.block.replaceClass(n,this.properties.block));this.modal.close();this.properties.showOnClick(!1)},showOnClick:function(n){!1!==n&&n.preventDefault();n=void 0!==this.fullscreen&&this.fullscreen.isOpen?1052:99;if(this.properties.block=
this.selection.block(),this.properties.block&&this.utils.isRedactorParent(this.properties.block)&&!this.utils.isCurrentOrParent(["figure","li"])){var u=b(this.properties.block).offset(),a=this.properties.showOnClickClass(u,n);this.properties.showOnClickId(u,n,a)}},showOnClickId:function(n,u,a){var d=b(this.properties.block).attr("id");this.opts.properties.show&&this.opts.properties.id&&void 0!==d&&""!==d&&setTimeout(b.proxy(function(){var b=this.opts.properties.classname&&void 0!==a&&""!==a?this.properties.labelClass.innerWidth():
-3;this.properties.labelId.css({zIndex:u,top:n.top-13,left:n.left+b}).show().text("#"+d)},this),10)},showOnClickClass:function(n,u){var a=b(this.properties.block).attr("class");return this.opts.properties.show&&this.opts.properties.classname&&void 0!==a&&""!==a&&this.properties.labelClass.css({zIndex:u,top:n.top-13,left:n.left-3}).show().text(a),a},hideOnBlur:function(b){b.target!==this.properties.block&&(this.properties.hideOnBlurId(),this.properties.hideOnBlurClass())},hideOnBlurId:function(){this.opts.properties.show&&
this.opts.properties.id&&this.properties.labelId.css("z-index",99).hide()},hideOnBlurClass:function(){this.opts.properties.show&&this.opts.properties.classname&&this.properties.labelClass.css("z-index",99).hide()}}}})(jQuery);
(function(b){b.Redactor.prototype.source=function(){return{init:function(){var n=this.button.addFirst("html","HTML");this.button.setIcon(n,'<i class="re-icon-html"></i>');this.button.addCallback(n,this.source.toggle);this.source.$textarea=b("<textarea />");this.source.$textarea.css({width:"100%",margin:"0",background:"#1d1d1d","box-sizing":"border-box",color:"#ccc","font-size":"15px",outline:"none",padding:"20px","line-height":"24px","font-family":'Consolas, Menlo, Monaco, "Courier New", monospace'}).hide();
"textarea"===this.opts.type?this.core.box().append(this.source.$textarea):this.core.box().after(this.source.$textarea);this.core.element().on("destroy.callback.redactor",b.proxy(function(){this.source.$textarea.remove()},this))},toggle:function(){this.source.$textarea.hasClass("open")?this.source.hide():(this.source.show(),this.source.$textarea.on("keyup.redactor-source",b.proxy(function(){var b=this.source.$textarea.val();this.core.callback("change",b)},this)))},setCaretOnShow:function(){this.source.offset=
this.offset.get();b(window).scrollTop();this.core.editor().innerWidth();this.core.editor().innerHeight();this.source.start=0;this.source.end=0;var n=b("<div/>").append(b.parseHTML(this.core.editor().html(),document,!0)),u=n.find("span.redactor-selection-marker");if(0<u.length){var a=n.html().replace(/&amp;/g,"&");1===u.length?(this.source.start=this.utils.strpos(a,n.find("#selection-marker-1").prop("outerHTML")),this.source.end=this.source.start):2===u.length&&(this.source.start=this.utils.strpos(a,
n.find("#selection-marker-1").prop("outerHTML")),this.source.end=this.utils.strpos(a,n.find("#selection-marker-2").prop("outerHTML"))-n.find("#selection-marker-1").prop("outerHTML").toString().length)}},setCaretOnHide:function(b){if(this.source.start=this.source.$textarea.get(0).selectionStart,this.source.end=this.source.$textarea.get(0).selectionEnd,this.source.start>this.source.end&&0<this.source.end){var n=this.source.start;this.source.start=this.source.end;this.source.end=n}if(this.source.start=
this.source.enlargeOffset(b,this.source.start),this.source.end=this.source.enlargeOffset(b,this.source.end),b=b.substr(0,this.source.start)+this.marker.html(1)+b.substr(this.source.start),this.source.end>this.source.start)n=this.marker.html(1).toString().length,b=b.substr(0,this.source.end+n)+this.marker.html(2)+b.substr(this.source.end+n);return b},hide:function(){this.source.$textarea.removeClass("open").hide();this.source.$textarea.off(".redactor-source");var b=this.source.$textarea.val();b=this.paragraphize.load(b);
b=this.source.setCaretOnHide(b);b=b.replace('&amp;<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>','<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>&amp;');this.code.start(b);this.button.enableAll();this.core.editor().show().focus();this.selection.restore();this.placeholder.enable();this.core.callback("visual")},show:function(){this.selection.save();this.source.setCaretOnShow();var n=this.core.editor().height(),u=this.code.get();u=this.core.callback("source",
u);this.core.editor().hide();this.button.disableAll("html");this.source.$textarea.val(u).height(n).addClass("open").show();this.source.$textarea.on("keyup.redactor-source",b.proxy(function(){"textarea"===this.opts.type&&this.core.textarea().val(this.source.$textarea.val())},this));this.marker.remove();b(window).scrollTop(scroll);this.source.$textarea[0].setSelectionRange&&this.source.$textarea[0].setSelectionRange(this.source.start,this.source.end);this.source.$textarea[0].scrollTop=0;setTimeout(b.proxy(function(){this.source.$textarea.focus()},
this),0)},enlargeOffset:function(b,u){var a=b.length,d=0;if(">"===b[u])d++;else for(var f=u;f<=a&&(d++,">"!==b[f]);f++)if("<"===b[f]||f===a){d=0;break}return u+d}}}})(jQuery);
(function(b){b.Redactor.prototype.table=function(){return{langs:{en:{table:"Table","insert-table":"Insert table","insert-row-above":"Insert row above","insert-row-below":"Insert row below","insert-column-left":"Insert column left","insert-column-right":"Insert column right","add-head":"Add head","delete-head":"Delete head","delete-column":"Delete column","delete-row":"Delete row","delete-table":"Delete table"}},init:function(){var b={};b.insert_table={title:this.lang.get("insert-table"),func:this.table.insert,
observe:{element:"table",in:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.insert_row_above={title:this.lang.get("insert-row-above"),func:this.table.addRowAbove,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.insert_row_below={title:this.lang.get("insert-row-below"),func:this.table.addRowBelow,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.insert_column_left={title:this.lang.get("insert-column-left"),
func:this.table.addColumnLeft,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.insert_column_right={title:this.lang.get("insert-column-right"),func:this.table.addColumnRight,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.add_head={title:this.lang.get("add-head"),func:this.table.addHead,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.delete_head=
{title:this.lang.get("delete-head"),func:this.table.deleteHead,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.delete_column={title:this.lang.get("delete-column"),func:this.table.deleteColumn,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};b.delete_row={title:this.lang.get("delete-row"),func:this.table.deleteRow,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};
b.delete_table={title:this.lang.get("delete-table"),func:this.table.deleteTable,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};var u=this.button.addBefore("link","table",this.lang.get("table"));this.button.setIcon(u,'<i class="re-icon-table"></i>');this.button.addDropdown(u,b)},insert:function(){if(!this.table.getTable()){this.placeholder.hide();for(var n=b("<div>"),u=b("<table />"),a=0;2>a;a++){for(var d=b("<tr>"),f=0;3>f;f++){var g=b("<td>"+this.opts.invisibleSpace+
"</td>");0===a&&0===f&&g.append(this.marker.get());b(d).append(g)}u.append(d)}n.append(u);n=n.html();this.buffer.set();a=this.selection.current();0!==b(a).closest("li",this.core.editor()[0]).length?b(a).closest("ul, ol").first().after(n):(this.air.collapsed(),this.insert.html(n));this.selection.restore();this.core.callback("insertedTable",u)}},getTable:function(){var n=b(this.selection.current()).closest("table");return!!this.utils.isRedactorParent(n)&&0!==n.length&&n},restoreAfterDelete:function(b){this.selection.restore();
b.find("span.redactor-selection-marker").remove()},deleteTable:function(){var b=this.table.getTable();if(b){this.buffer.set();var u=b.next();this.opts.linebreaks||0===u.length?this.caret.after(b):this.caret.start(u);b.remove()}},deleteRow:function(){var n=this.table.getTable();if(n){var u=b(this.selection.current());this.buffer.set();u=u.closest("tr");var a=u.prev().length?u.prev():u.next();a.length&&(a=a.children("td, th").first(),a.length&&a.prepend(this.marker.get()));u.remove();this.table.restoreAfterDelete(n)}},
deleteColumn:function(){var n=this.table.getTable();if(n){this.buffer.set();var u=b(this.selection.current()).closest("td, th")[0].cellIndex;n.find("tr").each(b.proxy(function(a,d){d=b(d);var f=0>u-1?u+1:u-1;0===a&&d.find("td, th").eq(f).prepend(this.marker.get());d.find("td, th").eq(u).remove()},this));this.table.restoreAfterDelete(n)}},addHead:function(){var n=this.table.getTable();if(n){if(this.buffer.set(),0!==n.find("thead").length)return void this.table.deleteHead();var u=n.find("tr").first().clone();
u.find("td").replaceWith(b.proxy(function(){return b("<th>").html(this.opts.invisibleSpace)},this));$thead=b("<thead></thead>").append(u);n.prepend($thead)}},deleteHead:function(){var b=this.table.getTable();b&&(b=b.find("thead"),0!==b.length&&(this.buffer.set(),b.remove()))},addRowAbove:function(){this.table.addRow("before")},addRowBelow:function(){this.table.addRow("after")},addColumnLeft:function(){this.table.addColumn("before")},addColumnRight:function(){this.table.addColumn("after")},addRow:function(n){if(this.table.getTable()){this.buffer.set();
var u=b(this.selection.current()).closest("tr"),a=u.clone();a.find("th").replaceWith(function(){var a=b("<td>");return a[0].attributes=this.attributes,a.append(b(this).contents())});a.find("td").html(this.opts.invisibleSpace);"after"===n?u.after(a):u.before(a)}},addColumn:function(n){var u=this.table.getTable();if(u){var a=0,d=b(this.selection.current());this.buffer.set();var f=d.closest("tr"),g=d.closest("td, th");f.find("td, th").each(b.proxy(function(c,d){b(d)[0]===g[0]&&(a=c)},this));u.find("tr").each(b.proxy(function(c,
d){c=b(d).find("td, th").eq(a);d=c.clone();d.html(this.opts.invisibleSpace);"after"===n?c.after(d):c.before(d)},this))}}}}})(jQuery);
(function(b){b.Redactor.prototype.video=function(){return{reUrlYoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,reIframeYoutube:/.*src="https?:\/\/(www\.)?youtube.com\/embed\/(\w+).*/,reUrlVimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,reUrlVimeoChannel:/https?:\/\/(www\.)?vimeo.com\/channels\/.*\/(\d+)($|\/)/,reIframeVimeo:/.*src="https?:\/\/(www\.)?player.vimeo.com\/video\/(\d+).*/,langs:{en:{video:"Video",
"video-html-code":"Video Embed Code or Youtube/Vimeo Link"}},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-video-insert"><section><label>'+this.lang.get("video-html-code")+'</label><textarea id="redactor-insert-video-area" style="height: 160px;"></textarea></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"},init:function(){var b=
this.button.addAfter("image","video",this.lang.get("video"));this.button.setIcon(b,'<i class="re-icon-video"></i>');this.button.addCallback(b,this.video.show)},show:function(){this.modal.addTemplate("video",this.video.getTemplate());this.modal.load("video",this.lang.get("video"),700);this.modal.getActionButton().text(this.lang.get("insert")).on("click",this.video.insert);this.modal.show();this.detect.isDesktop()&&setTimeout(function(){b("#redactor-insert-video-area").focus()},1)},insert:function(){var n=
b("#redactor-insert-video-area").val(),u=n.match(/<iframe|<video|http/gi);if(u&&0!==u.length){var a=["iframe","video"];n=n.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(b,f){return-1===a.indexOf(f.toLowerCase())?"":b});this.opts.videoContainerClass=void 0===this.opts.videoContainerClass?"video-container":this.opts.videoContainerClass;u='<div class="'+this.opts.videoContainerClass+'"><iframe style="width: 500px; height: 281px;" src="';n=n.match(this.video.reUrlYoutube)?n.replace(this.video.reUrlYoutube,
u+'//www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe></div>'):n.match(this.video.reIframeYoutube)?n.replace(this.video.reIframeYoutube,u+'//www.youtube.com/embed/$2" frameborder="0" allowfullscreen></iframe></div>'):n.match(this.video.reUrlVimeo)?n.replace(this.video.reUrlVimeo,u+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):n.match(this.video.reUrlVimeoChannel)?n.replace(this.video.reUrlVimeoChannel,u+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):
n.match(this.video.reIframeVimeo)?n.replace(this.video.reIframeVimeo,u+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):'<div class="'+this.opts.videoContainerClass+'">'+n+"</div>"}this.modal.close();this.placeholder.hide();this.buffer.set();this.air.collapsed();this.insert.html(n)}}}})(jQuery);(function(){var b=function(){return this}();!b&&"undefined"!=typeof window&&(b=window);if("undefined"==typeof requirejs){var n=function(a,c,b){"string"!=typeof a?n.original?n.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()):(2==arguments.length&&(b=c),n.modules[a]||(n.payloads[a]=b,n.modules[a]=null))};n.modules={};n.payloads={};var u=function(b,c,d){if("string"==typeof c){if(b=f(b,c),void 0!=b)return d&&d(),b}else if("[object Array]"===
Object.prototype.toString.call(c)){for(var g=[],h=0,e=c.length;h<e;++h){var l=f(b,c[h]);if(void 0==l&&a.original)return;g.push(l)}return d&&d.apply(null,g)||!0}},a=function(b,c){var d=u("",b,c);return void 0==d&&a.original?a.original.apply(this,arguments):d},d=function(a,c){if(-1!==c.indexOf("!"))return c=c.split("!"),d(a,c[0])+"!"+d(a,c[1]);if("."==c.charAt(0))for(c=a.split("/").slice(0,-1).join("/")+"/"+c;-1!==c.indexOf(".")&&b!=c;){var b=c;c=c.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return c},
f=function(a,c){c=d(a,c);a=n.modules[c];if(!a){a=n.payloads[c];if("function"==typeof a){var b={},f={id:c,uri:"",exports:b,packaged:!0};b=a(function(a,b){return u(c,a,b)},b,f)||f.exports;n.modules[c]=b;delete n.payloads[c]}a=n.modules[c]=b||a}return a};(function(d){var c=b;d&&(b[d]||(b[d]={}),c=b[d]);c.define&&c.define.packaged||(n.original=c.define,c.define=n,c.define.packaged=!0);c.require&&c.require.packaged||(a.original=c.require,c.require=a,c.require.packaged=!0)})("")}})();
define("ace/lib/regexp",["require","exports","module"],function(b,n,u){function a(a,c,b){if(Array.prototype.indexOf)return a.indexOf(c,b);for(b=b||0;b<a.length;b++)if(a[b]===c)return b;return-1}var d=RegExp.prototype.exec,f=RegExp.prototype.test,g=String.prototype.replace,c=void 0===d.call(/()??/,"")[1],h=function(){var a=/^/g;return f.call(a,""),!a.lastIndex}();h&&c||(RegExp.prototype.exec=function(b){var f=d.apply(this,arguments),e;if("string"==typeof b&&f){!c&&1<f.length&&-1<a(f,"")&&(e=RegExp(this.source,
g.call((this.global?"g":"")+(this.ignoreCase?"i":"")+(this.multiline?"m":"")+(this.extended?"x":"")+(this.sticky?"y":""),"g","")),g.call(b.slice(f.index),e,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(f[a]=void 0)}));if(this._xregexp&&this._xregexp.captureNames)for(var k=1;k<f.length;k++)(e=this._xregexp.captureNames[k-1])&&(f[e]=f[k]);!h&&this.global&&!f[0].length&&this.lastIndex>f.index&&this.lastIndex--}return f},h||(RegExp.prototype.test=function(a){a=d.call(this,a);
return a&&this.global&&!a[0].length&&this.lastIndex>a.index&&this.lastIndex--,!!a}))});
define("ace/lib/es5-shim",["require","exports","module"],function(b,n,u){function a(){}function d(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(Q){}}function f(a){return a=+a,a!==a?a=0:0!==a&&a!==1/0&&a!==-1/0&&(a=(0<a||-1)*Math.floor(Math.abs(a))),a}Function.prototype.bind||(Function.prototype.bind=function(b){var e=this;if("function"!=typeof e)throw new TypeError("Function.prototype.bind called on incompatible "+e);var d=c.call(arguments,1),f=function(){if(this instanceof
f){var a=e.apply(this,d.concat(c.call(arguments)));return Object(a)===a?a:this}return e.apply(b,d.concat(c.call(arguments)))};return e.prototype&&(a.prototype=e.prototype,f.prototype=new a,a.prototype=null),f});b=Function.prototype.call;var g=Object.prototype,c=Array.prototype.slice,h=b.bind(g.toString),k=b.bind(g.hasOwnProperty),m;if(m=k(g,"__defineGetter__")){var e=b.bind(g.__defineGetter__);var l=b.bind(g.__defineSetter__);var q=b.bind(g.__lookupGetter__);var x=b.bind(g.__lookupSetter__)}if(2!=
[1,2].splice(0).length)if(function(){function a(a){a=Array(a+2);return a[0]=a[1]=0,a}var c=[];c.splice.apply(c,a(20));c.splice.apply(c,a(26));var b=c.length;c.splice(5,0,"XXX");b+1==c.length;if(b+1==c.length)return!0}()){var z=Array.prototype.splice;Array.prototype.splice=function(a,b){return arguments.length?z.apply(this,[void 0===a?0:a,void 0===b?this.length-a:b].concat(c.call(arguments,2))):[]}}else Array.prototype.splice=function(a,b){var e=this.length;0<a?a>e&&(a=e):void 0==a?a=0:0>a&&(a=Math.max(e+
a,0));a+b<e||(b=e-a);var d=this.slice(a,a+b),f=c.call(arguments,2),g=f.length;if(a===e)g&&this.push.apply(this,f);else{var h=Math.min(b,e-a),k=a+h,m=k+g-h,l=e-k;e-=h;if(m<k)for(h=0;h<l;++h)this[m+h]=this[k+h];else if(m>k)for(h=l;h--;)this[m+h]=this[k+h];if(g&&a===e)this.length=e,this.push.apply(this,f);else for(this.length=e+g,h=0;h<g;++h)this[a+h]=f[h]}return d};Array.isArray||(Array.isArray=function(a){return"[object Array]"==h(a)});b=Object("a");var t="a"!=b[0]||!(0 in b);Array.prototype.forEach||
(Array.prototype.forEach=function(a,c){var b=E(this),e=t&&"[object String]"==h(this)?this.split(""):b,d=-1,f=e.length>>>0;if("[object Function]"!=h(a))throw new TypeError;for(;++d<f;)d in e&&a.call(c,e[d],d,b)});Array.prototype.map||(Array.prototype.map=function(a,c){var b=E(this),e=t&&"[object String]"==h(this)?this.split(""):b,d=e.length>>>0,f=Array(d);if("[object Function]"!=h(a))throw new TypeError(a+" is not a function");for(var g=0;g<d;g++)g in e&&(f[g]=a.call(c,e[g],g,b));return f});Array.prototype.filter||
(Array.prototype.filter=function(a,c){var b=E(this),e=t&&"[object String]"==h(this)?this.split(""):b,d=e.length>>>0,f=[],g;if("[object Function]"!=h(a))throw new TypeError(a+" is not a function");for(var k=0;k<d;k++)k in e&&(g=e[k],a.call(c,g,k,b)&&f.push(g));return f});Array.prototype.every||(Array.prototype.every=function(a,c){var b=E(this),e=t&&"[object String]"==h(this)?this.split(""):b,d=e.length>>>0;if("[object Function]"!=h(a))throw new TypeError(a+" is not a function");for(var f=0;f<d;f++)if(f in
e&&!a.call(c,e[f],f,b))return!1;return!0});Array.prototype.some||(Array.prototype.some=function(a,c){var b=E(this),e=t&&"[object String]"==h(this)?this.split(""):b,d=e.length>>>0;if("[object Function]"!=h(a))throw new TypeError(a+" is not a function");for(var f=0;f<d;f++)if(f in e&&a.call(c,e[f],f,b))return!0;return!1});Array.prototype.reduce||(Array.prototype.reduce=function(a){var c=E(this),b=t&&"[object String]"==h(this)?this.split(""):c,e=b.length>>>0;if("[object Function]"!=h(a))throw new TypeError(a+
" is not a function");if(!e&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var d=0;if(2<=arguments.length)var f=arguments[1];else{do{if(d in b){f=b[d++];break}if(++d>=e)throw new TypeError("reduce of empty array with no initial value");}while(1)}for(;d<e;d++)d in b&&(f=a.call(void 0,f,b[d],d,c));return f});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var c=E(this),b=t&&"[object String]"==h(this)?this.split(""):c,e=b.length>>>0;if("[object Function]"!=
h(a))throw new TypeError(a+" is not a function");if(!e&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");--e;if(2<=arguments.length)var d=arguments[1];else{do{if(e in b){d=b[e--];break}if(0>--e)throw new TypeError("reduceRight of empty array with no initial value");}while(1)}do e in this&&(d=a.call(void 0,d,b[e],e,c));while(e--);return d});Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(a){var c=t&&"[object String]"==h(this)?
this.split(""):E(this),b=c.length>>>0;if(!b)return-1;var e=0;1<arguments.length&&(e=f(arguments[1]));for(e=0<=e?e:Math.max(0,b+e);e<b;e++)if(e in c&&c[e]===a)return e;return-1});Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(a){var c=t&&"[object String]"==h(this)?this.split(""):E(this),b=c.length>>>0;if(!b)return-1;var e=b-1;1<arguments.length&&(e=Math.min(e,f(arguments[1])));for(e=0<=e?e:b-Math.abs(e);0<=e;e--)if(e in c&&a===c[e])return e;return-1});
Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||(a.constructor?a.constructor.prototype:g)});Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(a,c){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+a);if(k(a,c)){var b={enumerable:!0,configurable:!0};if(m){var e=a.__proto__;a.__proto__=g;var d=q(a,c);var f=x(a,c);a.__proto__=e;if(d||f)return d&&(b.get=d),f&&(b.set=
f),b}return b.value=a[c],b}});Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)});if(!Object.create){var C;null===Object.prototype.__proto__?C=function(){return{__proto__:null}}:C=function(){var a={},c;for(c in a)a[c]=null;return a.constructor=a.hasOwnProperty=a.propertyIsEnumerable=a.isPrototypeOf=a.toLocaleString=a.toString=a.valueOf=a.__proto__=null,a};Object.create=function(a,c){if(null===a)var b=C();else{if("object"!=typeof a)throw new TypeError("typeof prototype["+
typeof a+"] != 'object'");b=function(){};b.prototype=a;b=new b;b.__proto__=a}return void 0!==c&&Object.defineProperties(b,c),b}}if(Object.defineProperty&&(b=d({}),n="undefined"==typeof document||d(document.createElement("div")),!b||!n))var r=Object.defineProperty;if(!Object.defineProperty||r)Object.defineProperty=function(a,c,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.defineProperty called on non-object: "+a);if("object"!=typeof b&&"function"!=typeof b||null===
b)throw new TypeError("Property description must be an object: "+b);if(r)try{return r.call(Object,a,c,b)}catch(ia){}if(k(b,"value"))if(m&&(q(a,c)||x(a,c))){var d=a.__proto__;a.__proto__=g;delete a[c];a[c]=b.value;a.__proto__=d}else a[c]=b.value;else{if(!m)throw new TypeError("getters & setters can not be defined on this javascript engine");k(b,"get")&&e(a,c,b.get);k(b,"set")&&l(a,c,b.set)}return a};Object.defineProperties||(Object.defineProperties=function(a,c){for(var b in c)k(c,b)&&Object.defineProperty(a,
b,c[b]);return a});Object.seal||(Object.seal=function(a){return a});Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(D){Object.freeze=function(a){return function(c){return"function"==typeof c?c:a(c)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(a){return a});Object.isSealed||(Object.isSealed=function(a){return!1});Object.isFrozen||(Object.isFrozen=function(a){return!1});Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)===
a)throw new TypeError;for(var c="";k(a,c);)c+="?";a[c]=!0;var b=k(a,c);return delete a[c],b});if(!Object.keys){var B=!0,y="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),A=y.length;for(G in{toString:null})B=!1;Object.keys=function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var c=[],b;for(b in a)k(a,b)&&c.push(b);if(B)for(b=0;b<A;b++){var e=y[b];k(a,e)&&c.push(e)}return c}}Date.now||
(Date.now=function(){return(new Date).getTime()});var G="\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||G.trim()){G="["+G+"]";var F=new RegExp("^"+G+G+"*"),J=new RegExp(G+G+"*$");String.prototype.trim=function(){return String(this).replace(F,"").replace(J,"")}}var E=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)}});
define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(b,n,u){b("./regexp");b("./es5-shim")});
define("ace/lib/dom",["require","exports","module"],function(b,n,u){n.getDocumentHead=function(a){return a||(a=document),a.head||a.getElementsByTagName("head")[0]||a.documentElement};n.createElement=function(a,b){return document.createElementNS?document.createElementNS(b||"http://www.w3.org/1999/xhtml",a):document.createElement(a)};n.hasCssClass=function(a,b){return-1!==(a.className+"").split(/\s+/g).indexOf(b)};n.addCssClass=function(a,b){n.hasCssClass(a,b)||(a.className+=" "+b)};n.removeCssClass=
function(a,b){for(var d=a.className.split(/\s+/g);;){var g=d.indexOf(b);if(-1==g)break;d.splice(g,1)}a.className=d.join(" ")};n.toggleCssClass=function(a,b){for(var d=a.className.split(/\s+/g),g=!0;;){var c=d.indexOf(b);if(-1==c)break;g=!1;d.splice(c,1)}return g&&d.push(b),a.className=d.join(" "),g};n.setCssClass=function(a,b,f){f?n.addCssClass(a,b):n.removeCssClass(a,b)};n.hasCssString=function(a,b){var d=0,g;b=b||document;if(b.createStyleSheet&&(g=b.styleSheets))for(;d<g.length;){if(g[d++].owningElement.id===
a)return!0}else if(g=b.getElementsByTagName("style"))for(;d<g.length;)if(g[d++].id===a)return!0;return!1};n.importCssString=function(a,b,f){f=f||document;if(b&&n.hasCssString(b,f))return null;var d;b&&(a+="\n/*# sourceURL=ace/css/"+b+" */");f.createStyleSheet?(d=f.createStyleSheet(),d.cssText=a,b&&(d.owningElement.id=b)):(d=n.createElement("style"),d.appendChild(f.createTextNode(a)),b&&(d.id=b),n.getDocumentHead(f).appendChild(d))};n.importCssStylsheet=function(a,b){if(b.createStyleSheet)b.createStyleSheet(a);
else{var d=n.createElement("link");d.rel="stylesheet";d.href=a;n.getDocumentHead(b).appendChild(d)}};n.getInnerWidth=function(a){return parseInt(n.computedStyle(a,"paddingLeft"),10)+parseInt(n.computedStyle(a,"paddingRight"),10)+a.clientWidth};n.getInnerHeight=function(a){return parseInt(n.computedStyle(a,"paddingTop"),10)+parseInt(n.computedStyle(a,"paddingBottom"),10)+a.clientHeight};n.scrollbarWidth=function(a){var b=n.createElement("ace_inner");b.style.width="100%";b.style.minWidth="0px";b.style.height=
"200px";b.style.display="block";var f=n.createElement("ace_outer"),g=f.style;g.position="absolute";g.left="-10000px";g.overflow="hidden";g.width="200px";g.minWidth="0px";g.height="150px";g.display="block";f.appendChild(b);a=a.documentElement;a.appendChild(f);var c=b.offsetWidth;g.overflow="scroll";b=b.offsetWidth;return c==b&&(b=f.clientWidth),a.removeChild(f),c-b};"undefined"==typeof document?n.importCssString=function(){}:(void 0!==window.pageYOffset?(n.getPageScrollTop=function(){return window.pageYOffset},
n.getPageScrollLeft=function(){return window.pageXOffset}):(n.getPageScrollTop=function(){return document.body.scrollTop},n.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?n.computedStyle=function(a,b){return b?(window.getComputedStyle(a,"")||{})[b]||"":window.getComputedStyle(a,"")||{}}:n.computedStyle=function(a,b){return b?a.currentStyle[b]:a.currentStyle},n.setInnerHtml=function(a,b){var d=a.cloneNode(!1);return d.innerHTML=b,a.parentNode.replaceChild(d,
a),d},"textContent"in document.documentElement?(n.setInnerText=function(a,b){a.textContent=b},n.getInnerText=function(a){return a.textContent}):(n.setInnerText=function(a,b){a.innerText=b},n.getInnerText=function(a){return a.innerText}),n.getParentWindow=function(a){return a.defaultView||a.parentWindow})});
define("ace/lib/oop",["require","exports","module"],function(b,n,u){n.inherits=function(a,b){a.super_=b;a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};n.mixin=function(a,b){for(var d in b)a[d]=b[d];return a};n.implement=function(a,b){n.mixin(a,b)}});
define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(b,n,u){b("./fixoldbrowsers");var a=b("./oop"),d=function(){var b={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",
97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",
81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},d;for(d in b.FUNCTION_KEYS){var c=b.FUNCTION_KEYS[d].toLowerCase();b[c]=parseInt(d,10)}for(d in b.PRINTABLE_KEYS)c=b.PRINTABLE_KEYS[d].toLowerCase(),b[c]=parseInt(d,10);return a.mixin(b,b.MODIFIER_KEYS),a.mixin(b,b.PRINTABLE_KEYS),a.mixin(b,b.FUNCTION_KEYS),b.enter=b["return"],b.escape=b.esc,b.del=b["delete"],
b[173]="-",function(){for(var a=["cmd","ctrl","alt","shift"],c=Math.pow(2,a.length);c--;)b.KEY_MODS[c]=a.filter(function(a){return c&b.KEY_MODS[a]}).join("-")+"-"}(),b.KEY_MODS[0]="",b.KEY_MODS[-1]="input-",b}();a.mixin(n,d);n.keyCodeToString=function(a){var b=d[a];return"string"!=typeof b&&(b=String.fromCharCode(a)),b.toLowerCase()}});
define("ace/lib/useragent",["require","exports","module"],function(b,n,u){n.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};n.getOS=function(){return n.isMac?n.OS.MAC:n.isLinux?n.OS.LINUX:n.OS.WINDOWS};"object"==typeof navigator&&(b=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),u=navigator.userAgent,n.isWin="win"==b,n.isMac="mac"==b,n.isLinux="linux"==b,n.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((u.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||
[])[1]):parseFloat((u.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),n.isOldIE=n.isIE&&9>n.isIE,n.isGecko=n.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,n.isOldGecko=n.isGecko&&4>parseInt((u.match(/rv:(\d+)/)||[])[1],10),n.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),n.isWebKit=parseFloat(u.split("WebKit/")[1])||void 0,n.isChrome=parseFloat(u.split(" Chrome/")[1])||void 0,n.isAIR=0<=u.indexOf("AdobeAIR"),
n.isIPad=0<=u.indexOf("iPad"),n.isChromeOS=0<=u.indexOf(" CrOS "),n.isIOS=/iPad|iPhone|iPod/.test(u)&&!window.MSStream,n.isIOS&&(n.isMac=!0))});
define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(b,n,u){function a(a,b,d){var e=k(b);if(!g.isMac&&c){b.getModifierState&&(b.getModifierState("OS")||b.getModifierState("Win"))&&(e|=8);if(c.altGr){if(3==(3&e))return;c.altGr=0}if(18===d||17===d){var m="location"in b?b.location:b.keyLocation;17===d&&1===m?1==c[d]&&(h=b.timeStamp):18===d&&3===e&&2===m&&50>b.timeStamp-h&&(c.altGr=!0)}}d in f.MODIFIER_KEYS&&(d=-1);e&8&&91<=d&&93>=d&&(d=-1);if(!e&&13===d&&
(m="location"in b?b.location:b.keyLocation,3===m&&(a(b,e,-d),b.defaultPrevented)))return;if(g.isChromeOS&&e&8){a(b,e,d);if(b.defaultPrevented)return;e&=-9}return e||d in f.FUNCTION_KEYS||d in f.PRINTABLE_KEYS?a(b,e,d):!1}function d(){c=Object.create(null)}var f=b("./keys"),g=b("./useragent"),c=null,h=0;n.addListener=function(a,c,b){if(a.addEventListener)return a.addEventListener(c,b,!1);if(a.attachEvent){var e=function(){b.call(a,window.event)};b._wrapper=e;a.attachEvent("on"+c,e)}};n.removeListener=
function(a,c,b){if(a.removeEventListener)return a.removeEventListener(c,b,!1);a.detachEvent&&a.detachEvent("on"+c,b._wrapper||b)};n.stopEvent=function(a){return n.stopPropagation(a),n.preventDefault(a),!1};n.stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};n.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};n.getButton=function(a){return"dblclick"==a.type?0:"contextmenu"==a.type||g.isMac&&a.ctrlKey&&!a.altKey&&!a.shiftKey?2:a.preventDefault?
a.button:{1:0,2:2,4:1}[a.button]};n.capture=function(a,c,b){function e(a){c&&c(a);b&&b(a);n.removeListener(document,"mousemove",c,!0);n.removeListener(document,"mouseup",e,!0);n.removeListener(document,"dragstart",e,!0)}return n.addListener(document,"mousemove",c,!0),n.addListener(document,"mouseup",e,!0),n.addListener(document,"dragstart",e,!0),e};n.addTouchMoveListener=function(a,c){var b,e;n.addListener(a,"touchstart",function(a){a=a.touches[0];b=a.clientX;e=a.clientY});n.addListener(a,"touchmove",
function(a){var d=a.touches;1<d.length||(d=d[0],a.wheelX=b-d.clientX,a.wheelY=e-d.clientY,b=d.clientX,e=d.clientY,c(a))})};n.addMouseWheelListener=function(a,c){"onmousewheel"in a?n.addListener(a,"mousewheel",function(a){void 0!==a.wheelDeltaX?(a.wheelX=-a.wheelDeltaX/8,a.wheelY=-a.wheelDeltaY/8):(a.wheelX=0,a.wheelY=-a.wheelDelta/8);c(a)}):"onwheel"in a?n.addListener(a,"wheel",function(a){switch(a.deltaMode){case a.DOM_DELTA_PIXEL:a.wheelX=.35*a.deltaX||0;a.wheelY=.35*a.deltaY||0;break;case a.DOM_DELTA_LINE:case a.DOM_DELTA_PAGE:a.wheelX=
5*(a.deltaX||0),a.wheelY=5*(a.deltaY||0)}c(a)}):n.addListener(a,"DOMMouseScroll",function(a){a.axis&&a.axis==a.HORIZONTAL_AXIS?(a.wheelX=5*(a.detail||0),a.wheelY=0):(a.wheelX=0,a.wheelY=5*(a.detail||0));c(a)})};n.addMultiMouseDownListener=function(a,c,b,d){function e(a){0!==n.getButton(a)?h=0:1<a.detail?(h++,4<h&&(h=1)):h=1;if(g.isIE){var e=5<Math.abs(a.clientX-k)||5<Math.abs(a.clientY-m);if(!l||e)h=1;l&&clearTimeout(l);l=setTimeout(function(){l=null},c[h-1]||600);1==h&&(k=a.clientX,m=a.clientY)}a._clicks=
h;b[d]("mousedown",a);if(4<h)h=0;else if(1<h)return b[d](q[h],a)}function f(a){h=2;l&&clearTimeout(l);l=setTimeout(function(){l=null},c[h-1]||600);b[d]("mousedown",a);b[d](q[h],a)}var h=0,k,m,l,q={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(a)||(a=[a]);a.forEach(function(a){n.addListener(a,"mousedown",e);g.isOldIE&&n.addListener(a,"dblclick",f)})};var k=!g.isMac||!g.isOpera||"KeyboardEvent"in window?function(a){return 0|(a.ctrlKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.metaKey?8:0)}:
function(a){return 0|(a.metaKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.ctrlKey?8:0)};n.getModifierString=function(a){return f.KEY_MODS[k(a)]};n.addCommandKeyListener=function(b,e){var f=n.addListener;if(g.isOldGecko||g.isOpera&&!("KeyboardEvent"in window)){var h=null;f(b,"keydown",function(a){h=a.keyCode});f(b,"keypress",function(c){return a(e,c,h)})}else{var k=null;f(b,"keydown",function(b){c[b.keyCode]=(c[b.keyCode]||0)+1;var d=a(e,b,b.keyCode);return k=b.defaultPrevented,d});f(b,"keypress",function(a){k&&
(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)&&(n.stopEvent(a),k=null)});f(b,"keyup",function(a){c[a.keyCode]=null});c||(d(),f(window,"focus",d))}};"object"==typeof window&&window.postMessage&&!g.isOldIE&&(n.nextTick=function(a,c){c=c||window;n.addListener(c,"message",function x(b){"zero-timeout-message-1"==b.data&&(n.stopPropagation(b),n.removeListener(c,"message",x),a())});c.postMessage("zero-timeout-message-1","*")});n.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);n.nextFrame?n.nextFrame=n.nextFrame.bind(window):n.nextFrame=function(a){setTimeout(a,17)}});
define("ace/lib/lang",["require","exports","module"],function(b,n,u){n.last=function(a){return a[a.length-1]};n.stringReverse=function(a){return a.split("").reverse().join("")};n.stringRepeat=function(a,b){for(var c="";0<b;)if(b&1&&(c+=a),b>>=1)a+=a;return c};var a=/^\s\s*/,d=/\s\s*$/;n.stringTrimLeft=function(b){return b.replace(a,"")};n.stringTrimRight=function(a){return a.replace(d,"")};n.copyObject=function(a){var b={},c;for(c in a)b[c]=a[c];return b};n.copyArray=function(a){for(var b=[],c=0,
d=a.length;c<d;c++)a[c]&&"object"==typeof a[c]?b[c]=this.copyObject(a[c]):b[c]=a[c];return b};n.deepCopy=function c(a){if("object"!=typeof a||!a)return a;if(Array.isArray(a)){var b=[];for(var d=0;d<a.length;d++)b[d]=c(a[d]);return b}if("[object Object]"!==Object.prototype.toString.call(a))return a;b={};for(d in a)b[d]=c(a[d]);return b};n.arrayToMap=function(a){for(var c={},b=0;b<a.length;b++)c[a[b]]=1;return c};n.createMap=function(a){var c=Object.create(null),b;for(b in a)c[b]=a[b];return c};n.arrayRemove=
function(a,c){for(var b=0;b<=a.length;b++)c===a[b]&&a.splice(b,1)};n.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};n.escapeHTML=function(a){return a.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};n.getMatchOffsets=function(a,c){var b=[];return a.replace(c,function(a){b.push({offset:arguments[arguments.length-2],length:a.length})}),b};n.deferredCall=function(a){var c=null,b=function(){c=null;a()},d=function(a){return d.cancel(),
c=setTimeout(b,a||0),d};return d.schedule=d,d.call=function(){return this.cancel(),a(),d},d.cancel=function(){return clearTimeout(c),c=null,d},d.isPending=function(){return c},d};n.delayedCall=function(a,c){var b=null,d=function(){b=null;a()},g=function(a){null==b&&(b=setTimeout(d,a||c))};return g.delay=function(a){b&&clearTimeout(b);b=setTimeout(d,a||c)},g.schedule=g,g.call=function(){this.cancel();a()},g.cancel=function(){b&&clearTimeout(b);b=null},g.isPending=function(){return b},g}});
define("ace/keyboard/textinput_ios","require exports module ace/lib/event ace/lib/useragent ace/lib/dom ace/lib/lang ace/lib/keys".split(" "),function(b,n,u){var a=b("../lib/event"),d=b("../lib/useragent"),f=b("../lib/dom"),g=b("../lib/lang"),c=b("../lib/keys"),h=c.KEY_MODS,k=18>d.isChrome,m=d.isIE;n.TextInput=function(b,l){function e(a){if(!A){A=!0;if(Q)c=0,a=a?0:t.value.length-1;else{var c=4;a=5}try{t.setSelectionRange(c,a)}catch(ja){}A=!1}}function n(){A||(t.value=C,d.isWebKit&&D.schedule())}function z(){clearTimeout(ma);
ma=setTimeout(function(){G&&(t.style.cssText=G,G="");null==l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=!0,l.renderer.$moveTextAreaToCursor())},0)}var t=f.createElement("textarea");t.className=d.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input";d.isTouchPad&&t.setAttribute("x-palm-disable-auto-cap",!0);t.setAttribute("wrap","off");t.setAttribute("autocorrect","off");t.setAttribute("autocapitalize","off");t.setAttribute("spellcheck",!1);t.style.opacity="0";b.insertBefore(t,
b.firstChild);var C="\n aaaa a\n",r=!1,B=!1,y=!1,A=!1,G="",F=!0;try{var u=document.activeElement===t}catch(ka){}a.addListener(t,"blur",function(a){l.onBlur(a);u=!1});a.addListener(t,"focus",function(a){u=!0;l.onFocus(a);e()});this.focus=function(){if(G)return t.focus();t.style.position="fixed";t.focus()};this.blur=function(){t.blur()};this.isFocused=function(){return u};var E=g.delayedCall(function(){u&&e(F)}),D=g.delayedCall(function(){A||(t.value=C,u&&e())});d.isWebKit||l.addEventListener("changeSelection",
function(){l.selection.isEmpty()!=F&&(F=!F,E.schedule())});n();u&&l.onFocus();var Q=null;this.setInputHandler=function(a){Q=a};this.getInputHandler=function(){return Q};var O=!1,M=function(a){if(4!==t.selectionStart||5!==t.selectionEnd)Q&&(a=Q(a),Q=null),y?(e(),a&&l.onPaste(a),y=!1):a==C.substr(0)&&4===t.selectionStart?O?l.execCommand("del",{source:"ace"}):l.execCommand("backspace",{source:"ace"}):r||(a.substring(0,9)==C&&a.length>C.length?a=a.substr(9):a.substr(0,4)==C.substr(0,4)?a=a.substr(4,a.length-
C.length+1):a.charAt(a.length-1)==C.charAt(0)&&(a=a.slice(0,-1)),a!=C.charAt(0)&&a.charAt(a.length-1)==C.charAt(0)&&(a=a.slice(0,-1)),a&&l.onTextInput(a)),r&&(r=!1),O&&(O=!1)},ia=function(a){A||(M(t.value),n())},L=function(a,c,b){if((a=a.clipboardData||window.clipboardData)&&!k){var e=m||b?"Text":"text/plain";try{return c?!1!==a.setData(e,c):a.getData(e)}catch(sa){if(!b)return L(sa,c,!0)}}},I=function(c,b){var f=l.getCopyText();if(!f)return a.preventDefault(c);L(c,f)?(d.isIOS&&(B=b,t.value="\n aa"+
f+"a a\n",t.setSelectionRange(4,4+f.length),r={value:f}),b?l.onCut():l.onCopy(),d.isIOS||a.preventDefault(c)):(r=!0,t.value=f,t.select(),setTimeout(function(){r=!1;n();e();b?l.onCut():l.onCopy()}))};a.addCommandKeyListener(t,l.onCommandKey.bind(l));a.addListener(t,"select",function(a){0===t.selectionStart&&t.selectionEnd===t.value.length?(l.selectAll(),e()):Q&&e(l.selection.isEmpty())});a.addListener(t,"input",ia);a.addListener(t,"cut",function(a){I(a,!0)});a.addListener(t,"copy",function(a){I(a,
!1)});a.addListener(t,"paste",function(c){var b=L(c);"string"==typeof b?(b&&l.onPaste(b,c),d.isIE&&setTimeout(e),a.preventDefault(c)):(t.value="",y=!0)});var S=function(){if(A&&l.onCompositionUpdate&&!l.$readOnly){var a=t.value.replace(/\x01/g,"");A.lastValue!==a&&(l.onCompositionUpdate(a),A.lastValue&&l.undo(),A.canUndo&&(A.lastValue=a),A.lastValue&&(a=l.selection.getRange(),l.insert(A.lastValue),l.session.markUndoGroup(),A.range=l.selection.getRange(),l.selection.setRange(a),l.selection.clearSelection()))}},
za=function(a){if(l.onCompositionEnd&&!l.$readOnly){var c=A;A=!1;var b=setTimeout(function(){b=null;var a=t.value.replace(/\x01/g,"");A||(a==c.lastValue?n():!c.lastValue&&a&&(n(),M(a)))});Q=function(a){return b&&clearTimeout(b),a=a.replace(/\x01/g,""),a==c.lastValue?"":(c.lastValue&&b&&l.undo(),a)};l.onCompositionEnd();l.removeListener("mousedown",za);"compositionend"==a.type&&c.range&&l.selection.setRange(c.range);(d.isChrome&&53<=d.isChrome||d.isWebKit&&603<=d.isWebKit)&&ia()}},X=g.delayedCall(S,
50);a.addListener(t,"compositionstart",function(a){A||!l.onCompositionStart||l.$readOnly||(A={},A.canUndo=l.session.$undoManager,l.onCompositionStart(),setTimeout(S,0),l.on("mousedown",za),A.canUndo&&!l.selection.isEmpty()&&(l.insert(""),l.session.markUndoGroup(),l.selection.clearSelection()),l.session.markUndoGroup())});d.isGecko?a.addListener(t,"text",function(){X.schedule()}):(a.addListener(t,"keyup",function(){X.schedule()}),a.addListener(t,"keydown",function(){X.schedule()}));a.addListener(t,
"compositionend",za);this.getElement=function(){return t};this.setReadOnly=function(a){t.readOnly=a};this.onContextMenu=function(a){O=!0;e(l.selection.isEmpty());l._emit("nativecontextmenu",{target:l,domEvent:a});this.moveToMouse(a,!0)};this.moveToMouse=function(c,b){G||(G=t.style.cssText);t.style.cssText=(b?"z-index:100000;":"")+"height:"+t.style.height+";"+(d.isIE?"opacity:0.1;":"");b=l.container.getBoundingClientRect();var e=f.computedStyle(l.container),g=b.top+(parseInt(e.borderTopWidth)||0),
h=b.left+(parseInt(b.borderLeftWidth)||0),k=b.bottom-g-t.clientHeight-2;b=function(a){t.style.left=a.clientX-h-2+"px";t.style.top=Math.min(a.clientY-g-2,k)+"px"};b(c);"mousedown"==c.type&&(l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=null),clearTimeout(ma),d.isWin&&a.capture(l.container,b,z))};this.onContextMenuClose=z;var ma,ca=function(a){l.textInput.onContextMenu(a);z()};a.addListener(t,"mouseup",ca);a.addListener(t,"mousedown",function(a){a.preventDefault();z()});a.addListener(l.renderer.scroller,
"contextmenu",ca);a.addListener(t,"contextmenu",ca);if(d.isIOS){var T=null,na=!1;b.addEventListener("keydown",function(a){T&&clearTimeout(T);na=!0});b.addEventListener("keyup",function(a){T=setTimeout(function(){na=!1},100)});var ya=function(a){if(document.activeElement===t&&!na){if(B)return setTimeout(function(){B=!1},100);a=t.selectionStart;var b=t.selectionEnd;t.setSelectionRange(4,5);if(a==b)switch(a){case 0:l.onCommandKey(null,0,c.up);break;case 1:l.onCommandKey(null,0,c.home);break;case 2:l.onCommandKey(null,
h.option,c.left);break;case 4:l.onCommandKey(null,0,c.left);break;case 5:l.onCommandKey(null,0,c.right);break;case 7:l.onCommandKey(null,h.option,c.right);break;case 8:l.onCommandKey(null,0,c.end);break;case 9:l.onCommandKey(null,0,c.down)}else{switch(b){case 6:l.onCommandKey(null,h.shift,c.right);break;case 7:l.onCommandKey(null,h.shift|h.option,c.right);break;case 8:l.onCommandKey(null,h.shift,c.end);break;case 9:l.onCommandKey(null,h.shift,c.down)}switch(a){case 0:l.onCommandKey(null,h.shift,c.up);
break;case 1:l.onCommandKey(null,h.shift,c.home);break;case 2:l.onCommandKey(null,h.shift|h.option,c.left);break;case 3:l.onCommandKey(null,h.shift,c.left)}}}};document.addEventListener("selectionchange",ya);l.on("destroy",function(){document.removeEventListener("selectionchange",ya)})}}});
define("ace/keyboard/textinput","require exports module ace/lib/event ace/lib/useragent ace/lib/dom ace/lib/lang ace/keyboard/textinput_ios".split(" "),function(b,n,u){var a=b("../lib/event"),d=b("../lib/useragent"),f=b("../lib/dom"),g=b("../lib/lang"),c=18>d.isChrome,h=d.isIE,k=b("./textinput_ios").TextInput;n.TextInput=function(b,e){function m(a){if(!B){B=!0;if(E){var c=0;a=a?0:z.value.length-1}else c=a?2:1,a=2;try{z.setSelectionRange(c,a)}catch(ya){}B=!1}}function q(){B||(z.value=t,d.isWebKit&&
u.schedule())}function n(){clearTimeout(ca);ca=setTimeout(function(){y&&(z.style.cssText=y,y="");null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())},0)}if(d.isIOS)return k.call(this,b,e);var z=f.createElement("textarea");z.className="ace_text-input";z.setAttribute("wrap","off");z.setAttribute("autocorrect","off");z.setAttribute("autocapitalize","off");z.setAttribute("spellcheck",!1);z.style.opacity="0";b.insertBefore(z,b.firstChild);var t=
"\u2028\u2028",C=!1,r=!1,B=!1,y="",A=!0;try{var G=document.activeElement===z}catch(T){}a.addListener(z,"blur",function(a){e.onBlur(a);G=!1});a.addListener(z,"focus",function(a){G=!0;e.onFocus(a);m()});this.focus=function(){if(y)return z.focus();var a=z.style.top;z.style.position="fixed";z.style.top="0px";z.focus();setTimeout(function(){z.style.position="";"0px"==z.style.top&&(z.style.top=a)},0)};this.blur=function(){z.blur()};this.isFocused=function(){return G};var F=g.delayedCall(function(){G&&m(A)}),
u=g.delayedCall(function(){B||(z.value=t,G&&m())});d.isWebKit||e.addEventListener("changeSelection",function(){e.selection.isEmpty()!=A&&(A=!A,F.schedule())});q();G&&e.onFocus();var E=null;this.setInputHandler=function(a){E=a};this.getInputHandler=function(){return E};var D=!1,Q=function(a){E&&(a=E(a),E=null);r?(m(),a&&e.onPaste(a),r=!1):a==t.charAt(0)?D?e.execCommand("del",{source:"ace"}):e.execCommand("backspace",{source:"ace"}):(a.substring(0,2)==t?a=a.substr(2):a.charAt(0)==t.charAt(0)?a=a.substr(1):
a.charAt(a.length-1)==t.charAt(0)&&(a=a.slice(0,-1)),a.charAt(a.length-1)==t.charAt(0)&&(a=a.slice(0,-1)),a&&e.onTextInput(a));D&&(D=!1)},O=function(a){B||(Q(z.value),q())},M=function(a,b,e){if((a=a.clipboardData||window.clipboardData)&&!c){var d=h||e?"Text":"text/plain";try{return b?!1!==a.setData(d,b):a.getData(d)}catch(la){if(!e)return M(la,b,!0)}}},ia=function(c,b){var d=e.getCopyText();if(!d)return a.preventDefault(c);M(c,d)?(b?e.onCut():e.onCopy(),a.preventDefault(c)):(C=!0,z.value=d,z.select(),
setTimeout(function(){C=!1;q();m();b?e.onCut():e.onCopy()}))},L=function(a){ia(a,!0)},I=function(a){ia(a,!1)},S=function(c){var b=M(c);"string"==typeof b?(b&&e.onPaste(b,c),d.isIE&&setTimeout(m),a.preventDefault(c)):(z.value="",r=!0)};a.addCommandKeyListener(z,e.onCommandKey.bind(e));a.addListener(z,"select",function(a){C?C=!1:0===z.selectionStart&&z.selectionEnd===z.value.length?(e.selectAll(),m()):E&&m(e.selection.isEmpty())});a.addListener(z,"input",O);a.addListener(z,"cut",L);a.addListener(z,
"copy",I);a.addListener(z,"paste",S);"oncut"in z&&"oncopy"in z&&"onpaste"in z||a.addListener(b,"keydown",function(a){if((!d.isMac||a.metaKey)&&a.ctrlKey)switch(a.keyCode){case 67:I(a);break;case 86:S(a);break;case 88:L(a)}});var za=function(){if(B&&e.onCompositionUpdate&&!e.$readOnly){var a=z.value.replace(/\u2028/g,"");B.lastValue!==a&&(e.onCompositionUpdate(a),B.lastValue&&e.undo(),B.canUndo&&(B.lastValue=a),B.lastValue&&(a=e.selection.getRange(),e.insert(B.lastValue),e.session.markUndoGroup(),
B.range=e.selection.getRange(),e.selection.setRange(a),e.selection.clearSelection()))}},X=function(a){if(e.onCompositionEnd&&!e.$readOnly){var c=B;B=!1;var b=setTimeout(function(){b=null;var a=z.value.replace(/\u2028/g,"");B||(a==c.lastValue?q():!c.lastValue&&a&&(q(),Q(a)))});E=function(a){return b&&clearTimeout(b),a=a.replace(/\u2028/g,""),a==c.lastValue?"":(c.lastValue&&b&&e.undo(),a)};e.onCompositionEnd();e.removeListener("mousedown",X);"compositionend"==a.type&&c.range&&e.selection.setRange(c.range);
(d.isChrome&&53<=d.isChrome||d.isWebKit&&603<=d.isWebKit)&&O()}},ma=g.delayedCall(za,50);a.addListener(z,"compositionstart",function(a){B||!e.onCompositionStart||e.$readOnly||(B={},B.canUndo=e.session.$undoManager,e.onCompositionStart(),setTimeout(za,0),e.on("mousedown",X),B.canUndo&&!e.selection.isEmpty()&&(e.insert(""),e.session.markUndoGroup(),e.selection.clearSelection()),e.session.markUndoGroup())});d.isGecko?a.addListener(z,"text",function(){ma.schedule()}):(a.addListener(z,"keyup",function(){ma.schedule()}),
a.addListener(z,"keydown",function(){ma.schedule()}));a.addListener(z,"compositionend",X);this.getElement=function(){return z};this.setReadOnly=function(a){z.readOnly=a};this.onContextMenu=function(a){D=!0;m(e.selection.isEmpty());e._emit("nativecontextmenu",{target:e,domEvent:a});this.moveToMouse(a,!0)};this.moveToMouse=function(c,b){y||(y=z.style.cssText);z.style.cssText=(b?"z-index:100000;":"")+"height:"+z.style.height+";"+(d.isIE?"opacity:0.1;":"");b=e.container.getBoundingClientRect();var g=
f.computedStyle(e.container),h=b.top+(parseInt(g.borderTopWidth)||0),k=b.left+(parseInt(b.borderLeftWidth)||0),m=b.bottom-h-z.clientHeight-2;b=function(a){z.style.left=a.clientX-k-2+"px";z.style.top=Math.min(a.clientY-h-2,m)+"px"};b(c);"mousedown"==c.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),clearTimeout(ca),d.isWin&&a.capture(e.container,b,n))};this.onContextMenuClose=n;var ca;b=function(a){e.textInput.onContextMenu(a);n()};a.addListener(z,"mouseup",b);a.addListener(z,
"mousedown",function(a){a.preventDefault();n()});a.addListener(e.renderer.scroller,"contextmenu",b);a.addListener(z,"contextmenu",b)}});
define("ace/mouse/default_handlers","require exports module ace/lib/dom ace/lib/event ace/lib/useragent".split(" "),function(b,n,u){function a(a){a.$clickSelection=null;var c=a.editor;c.setDefaultHandler("mousedown",this.onMouseDown.bind(a));c.setDefaultHandler("dblclick",this.onDoubleClick.bind(a));c.setDefaultHandler("tripleclick",this.onTripleClick.bind(a));c.setDefaultHandler("quadclick",this.onQuadClick.bind(a));c.setDefaultHandler("mousewheel",this.onMouseWheel.bind(a));c.setDefaultHandler("touchmove",
this.onTouchMove.bind(a));"select startSelect selectEnd selectAllEnd selectByWordsEnd selectByLinesEnd dragWait dragWaitEnd focusWait".split(" ").forEach(function(c){a[c]=this[c]},this);a.selectByLines=this.extendSelectionBy.bind(a,"getLineRange");a.selectByWords=this.extendSelectionBy.bind(a,"getWordRange")}function d(a,c){return 0>(a.start.row==a.end.row?2*c.column-a.start.column-a.end.column:a.start.row!=a.end.row-1||a.start.column||a.end.column?2*c.row-a.start.row-a.end.row:c.column-4)?{cursor:a.start,
anchor:a.end}:{cursor:a.end,anchor:a.start}}b("../lib/dom");b("../lib/event");var f=b("../lib/useragent");(function(){this.onMouseDown=function(a){var c=a.inSelection(),b=a.getDocumentPosition();this.mousedownEvent=a;var d=this.editor,g=a.getButton();if(0!==g)c=d.getSelectionRange().isEmpty(),d.$blockScrolling++,(c||1==g)&&d.selection.moveToPosition(b),d.$blockScrolling--,2==g&&(d.textInput.onContextMenu(a.domEvent),f.isMozilla||a.preventDefault());else{this.mousedownEvent.time=Date.now();if(c&&!d.isFocused()&&
(d.focus(),this.$focusTimout&&!this.$clickSelection&&!d.inMultiSelectMode)){this.setState("focusWait");this.captureMouse(a);return}return this.captureMouse(a),this.startSelect(b,1<a.domEvent._clicks),a.preventDefault()}};this.startSelect=function(a,c){a=a||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var b=this.editor;b.$blockScrolling++;this.mousedownEvent.getShiftKey()?b.selection.selectToPosition(a):c||b.selection.moveToPosition(a);c||this.select();b.renderer.scroller.setCapture&&
b.renderer.scroller.setCapture();b.setStyle("ace_selecting");this.setState("select");b.$blockScrolling--};this.select=function(){var a=this.editor,c=a.renderer.screenToTextCoordinates(this.x,this.y);a.$blockScrolling++;if(this.$clickSelection){var b=this.$clickSelection.comparePoint(c);-1==b?b=this.$clickSelection.end:1==b?b=this.$clickSelection.start:(b=d(this.$clickSelection,c),c=b.cursor,b=b.anchor);a.selection.setSelectionAnchor(b.row,b.column)}a.selection.selectToPosition(c);a.$blockScrolling--;
a.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(a){var c=this.editor,b=c.renderer.screenToTextCoordinates(this.x,this.y);a=c.selection[a](b.row,b.column);c.$blockScrolling++;if(this.$clickSelection){var f=this.$clickSelection.comparePoint(a.start);var g=this.$clickSelection.comparePoint(a.end);if(-1==f&&0>=g){if(f=this.$clickSelection.end,a.end.row!=b.row||a.end.column!=b.column)b=a.start}else if(1==g&&0<=f){if(f=this.$clickSelection.start,a.start.row!=b.row||a.start.column!=b.column)b=
a.end}else-1==f&&1==g?(b=a.end,f=a.start):(a=d(this.$clickSelection,b),b=a.cursor,f=a.anchor);c.selection.setSelectionAnchor(f.row,f.column)}c.selection.selectToPosition(b);c.$blockScrolling--;c.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()};this.focusWait=function(){var a=
Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),c=Date.now();(0<a||c-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(a){a=a.getDocumentPosition();var c=this.editor,b=c.session.getBracketRange(a);b?(b.isEmpty()&&(b.start.column--,b.end.column++),this.setState("select")):(b=c.selection.getWordRange(a.row,a.column),this.setState("selectByWords"));this.$clickSelection=b;this.select()};
this.onTripleClick=function(a){a=a.getDocumentPosition();var c=this.editor;this.setState("selectByLines");var b=c.getSelectionRange();b.isMultiLine()&&b.contains(a.row,a.column)?(this.$clickSelection=c.selection.getLineRange(b.start.row),this.$clickSelection.end=c.selection.getLineRange(b.end.row).end):this.$clickSelection=c.selection.getLineRange(a.row);this.select()};this.onQuadClick=function(a){a=this.editor;a.selectAll();this.$clickSelection=a.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=
function(a){if(!a.getAccelKey()){a.getShiftKey()&&a.wheelY&&!a.wheelX&&(a.wheelX=a.wheelY,a.wheelY=0);var c=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var b=this.$lastScroll,d=a.domEvent.timeStamp,f=d-b.t,e=a.wheelX/f,g=a.wheelY/f;250>f&&(e=(e+b.vx)/2,g=(g+b.vy)/2);f=Math.abs(e/g);var q=!1;1<=f&&c.renderer.isScrollableBy(a.wheelX*a.speed,0)&&(q=!0);1>=f&&c.renderer.isScrollableBy(0,a.wheelY*a.speed)&&(q=!0);q?b.allowed=d:250>d-b.allowed&&(Math.abs(e)<=1.1*Math.abs(b.vx)&&
Math.abs(g)<=1.1*Math.abs(b.vy)?(q=!0,b.allowed=d):b.allowed=0);b.t=d;b.vx=e;b.vy=g;if(q)return c.renderer.scrollBy(a.wheelX*a.speed,a.wheelY*a.speed),a.stop()}};this.onTouchMove=function(a){this.editor._emit("mousewheel",a)}}).call(a.prototype);n.DefaultHandlers=a});
define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(b,n,u){function a(a){this.isOpen=!1;this.$element=null;this.$parentNode=a}b("./lib/oop");var d=b("./lib/dom");(function(){this.$init=function(){return this.$element=d.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(a){d.setInnerText(this.getElement(),
a)};this.setHtml=function(a){this.getElement().innerHTML=a};this.setPosition=function(a,b){this.getElement().style.left=a+"px";this.getElement().style.top=b+"px"};this.setClassName=function(a){d.addCssClass(this.getElement(),a)};this.show=function(a,b,c){null!=a&&this.setText(a);null!=b&&null!=c&&this.setPosition(b,c);this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)};this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)};this.getHeight=function(){return this.getElement().offsetHeight};
this.getWidth=function(){return this.getElement().offsetWidth};this.destroy=function(){this.isOpen=!1;this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(a.prototype);n.Tooltip=a});
define("ace/mouse/default_gutter_handler","require exports module ace/lib/dom ace/lib/oop ace/lib/event ace/tooltip".split(" "),function(b,n,u){function a(a){g.call(this,a)}var d=b("../lib/dom");u=b("../lib/oop");var f=b("../lib/event"),g=b("../tooltip").Tooltip;u.inherits(a,g);(function(){this.setPosition=function(a,b){var c=window.innerWidth||document.documentElement.clientWidth,d=window.innerHeight||document.documentElement.clientHeight,e=this.getWidth(),f=this.getHeight();a+=15;b+=15;a+e>c&&(a-=
a+e-c);b+f>d&&(b-=20+f);g.prototype.setPosition.call(this,a,b)}}).call(a.prototype);n.GutterHandler=function(c){function b(){l&&(l=clearTimeout(l));n&&(e.hide(),n=null,g._signal("hideGutterTooltip",e),g.removeEventListener("mousewheel",b))}var g=c.editor,m=g.renderer.$gutterLayer,e=new a(g.container);c.editor.setDefaultHandler("guttermousedown",function(a){if(g.isFocused()&&0==a.getButton()&&"foldWidgets"!=m.getRegion(a)){var b=a.getDocumentPosition().row,e=g.session.selection;if(a.getShiftKey())e.selectTo(b,
0);else{if(2==a.domEvent.detail)return g.selectAll(),a.preventDefault();c.$clickSelection=g.selection.getLineRange(b)}return c.setState("selectByLines"),c.captureMouse(a),a.preventDefault()}});var l,q,n;c.editor.setDefaultHandler("guttermousemove",function(a){if(d.hasCssClass(a.domEvent.target||a.domEvent.srcElement,"ace_fold-widget"))return b();n&&c.$tooltipFollowsMouse&&e.setPosition(a.x,a.y);q=a;l||(l=setTimeout(function(){l=null;if(q&&!c.isMousePressed)a:{var a=q.getDocumentPosition().row,d=m.$annotations[a];
if(d){var f=g.session.getLength();if(a==f&&(a=g.renderer.pixelToScreenCoordinates(0,q.y).row,f=q.$pos,a>g.session.documentToScreenRow(f.row,f.column))){b();break a}n!=d&&(n=d.text.join("<br/>"),e.setHtml(n),e.show(),g._signal("showGutterTooltip",e),g.on("mousewheel",b),c.$tooltipFollowsMouse?e.setPosition(q.x,q.y):(d=q.domEvent.target.getBoundingClientRect(),a=e.getElement().style,a.left=d.right+"px",a.top=d.bottom+"px"))}else b()}else b()},50))});f.addListener(g.renderer.$gutter,"mouseout",function(a){q=
null;n&&!l&&(l=setTimeout(function(){l=null;b()},50))});g.on("changeSession",b)}});
define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(b,n,u){var a=b("../lib/event"),d=b("../lib/useragent");b=n.MouseEvent=function(a,b){this.domEvent=a;this.editor=b;this.x=this.clientX=a.clientX;this.y=this.clientY=a.clientY;this.$inSelection=this.$pos=null;this.defaultPrevented=this.propagationStopped=!1};(function(){this.stopPropagation=function(){a.stopPropagation(this.domEvent);this.propagationStopped=!0};this.preventDefault=function(){a.preventDefault(this.domEvent);
this.defaultPrevented=!0};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)};this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var a=this.editor.getSelectionRange();if(a.isEmpty())this.$inSelection=!1;else{var b=this.getDocumentPosition();this.$inSelection=a.contains(b.row,b.column)}return this.$inSelection};
this.getButton=function(){return a.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=d.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(b.prototype)});
define("ace/mouse/dragdrop_handler","require exports module ace/lib/dom ace/lib/event ace/lib/useragent".split(" "),function(b,n,u){function a(a){var b,m;function q(){var a=Q,e=Q=B.renderer.screenToTextCoordinates(F,u),d=Date.now(),f=!a||e.row!=a.row,g=!a||e.column!=a.column;!I||f||g?(B.$blockScrolling+=1,B.moveCursorToPosition(e),--B.$blockScrolling,I=d,b=F,m=u):Math.sqrt(Math.pow(F-b,2)+Math.pow(u-m,2))>k?I=null:d-I>=h&&(B.renderer.scrollCursorIntoView(),I=null);e=Q;d=Date.now();g=B.renderer.layerConfig.lineHeight;
var l=B.renderer.layerConfig.characterWidth;f=B.renderer.scroller.getBoundingClientRect();var r=F-f.left,q=f.right-F,t=u-f.top,y=f.bottom-u,A=Math.min(t,y);f={row:e.row,column:e.column};2>=Math.min(r,q)/l&&(f.column+=r<q?-3:2);1>=A/g&&(f.row+=t<y?-1:1);g=e.column!=f.column;a=!a||e.row!=a.row;e.row!=f.row||g&&!a?L?d-L>=c&&B.renderer.scrollCursorIntoView(f):L=d:L=null}function n(){D=B.selection.toOrientedRange();G=B.session.addMarker(D,"ace_selection",B.getSelectionStyle());B.clearSelection();B.isFocused()&&
B.renderer.$cursorLayer.setBlinking(!1);clearInterval(E);q();E=setInterval(q,20);O=0;f.addListener(document,"mousemove",t)}function z(){clearInterval(E);B.session.removeMarker(G);G=null;B.$blockScrolling+=1;B.selection.fromOrientedRange(D);--B.$blockScrolling;B.isFocused()&&!ia&&B.renderer.$cursorLayer.setBlinking(!B.getReadOnly());Q=D=null;O=0;I=L=null;f.removeListener(document,"mousemove",t)}function t(){null==S&&(S=setTimeout(function(){null!=S&&G&&z()},20))}function C(a){a=a.types;return!a||Array.prototype.some.call(a,
function(a){return"text/plain"==a||"Text"==a})}function r(a){var c=["copy","copymove","all","uninitialized"],b=["move","copymove","linkmove","all","uninitialized"],e=g.isMac?a.altKey:a.ctrlKey,d="uninitialized";try{d=a.dataTransfer.effectAllowed.toLowerCase()}catch(na){}a="none";return e&&0<=c.indexOf(d)?a="copy":0<=b.indexOf(d)?a="move":0<=c.indexOf(d)&&(a="copy"),a}var B=a.editor,y=d.createElement("img");y.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";g.isOpera&&
(y.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(c){a[c]=this[c]},this);B.addEventListener("mousedown",this.onMouseDown.bind(a));var A=B.container,G,F,u,E,D,Q,O=0,M,ia,L,I;this.onDragStart=function(a){if(this.cancelDrag||!A.draggable){var c=this;return setTimeout(function(){c.startSelect();c.captureMouse(a)},0),a.preventDefault()}D=B.getSelectionRange();var b=a.dataTransfer;
b.effectAllowed=B.getReadOnly()?"copy":"copyMove";g.isOpera&&(B.container.appendChild(y),y.scrollTop=0);b.setDragImage&&b.setDragImage(y,0,0);g.isOpera&&B.container.removeChild(y);b.clearData();b.setData("Text",B.session.getTextRange());ia=!0;this.setState("drag")};this.onDragEnd=function(a){ia=A.draggable=!1;this.setState(null);B.getReadOnly()||(a=a.dataTransfer.dropEffect,!M&&"move"==a&&B.session.remove(B.getSelectionRange()),B.renderer.$cursorLayer.setBlinking(!0));this.editor.unsetStyle("ace_dragging");
this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(a){if(!B.getReadOnly()&&C(a.dataTransfer))return F=a.clientX,u=a.clientY,G||n(),O++,a.dataTransfer.dropEffect=M=r(a),f.preventDefault(a)};this.onDragOver=function(a){if(!B.getReadOnly()&&C(a.dataTransfer))return F=a.clientX,u=a.clientY,G||(n(),O++),null!==S&&(S=null),a.dataTransfer.dropEffect=M=r(a),f.preventDefault(a)};this.onDragLeave=function(a){O--;if(0>=O&&G)return z(),M=null,f.preventDefault(a)};this.onDrop=function(a){if(Q){var c=
a.dataTransfer;if(ia)switch(M){case "move":D.contains(Q.row,Q.column)?D={start:Q,end:Q}:D=B.moveText(D,Q);break;case "copy":D=B.moveText(D,Q,!0)}else c=c.getData("Text"),D={start:Q,end:B.session.insert(Q,c)},B.focus(),M=null;return z(),f.preventDefault(a)}};f.addListener(A,"dragstart",this.onDragStart.bind(a));f.addListener(A,"dragend",this.onDragEnd.bind(a));f.addListener(A,"dragenter",this.onDragEnter.bind(a));f.addListener(A,"dragover",this.onDragOver.bind(a));f.addListener(A,"dragleave",this.onDragLeave.bind(a));
f.addListener(A,"drop",this.onDrop.bind(a));var S=null}var d=b("../lib/dom"),f=b("../lib/event"),g=b("../lib/useragent"),c=200,h=200,k=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(){this.editor.container.draggable=!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(a){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());
this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){this.cancelDrag=!1;var a=this.editor;a.container.draggable=!0;a.renderer.$cursorLayer.setBlinking(!1);a.setStyle("ace_dragging");a.renderer.setCursorStyle(g.isWin?"default":"move");this.setState("dragReady")};this.onMouseDrag=function(a){a=this.editor.container;if(g.isIE&&"dragReady"==this.state){var c=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,
2));3<c&&a.dragDrop()}"dragWait"===this.state&&(c=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),0<c&&(a.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))};this.onMouseDown=function(a){if(this.$dragEnabled){this.mousedownEvent=a;var c=this.editor,b=a.inSelection(),d=a.getButton();1!==(a.domEvent.detail||1)||0!==d||!b||a.editor.inMultiSelectMode&&(a.getAccelKey()||a.getShiftKey())||(this.mousedownEvent.time=Date.now(),b=a.domEvent.target||
a.domEvent.srcElement,"unselectable"in b&&(b.unselectable="on"),c.getDragDelay()?(g.isWebKit&&(this.cancelDrag=!0,c.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(a,this.onMouseDrag.bind(this)),a.defaultPrevented=!0)}}}).call(a.prototype);n.DragdropHandler=a});
define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(b,n,u){var a=b("./dom");n.get=function(a,b){var d=new XMLHttpRequest;d.open("GET",a,!0);d.onreadystatechange=function(){4===d.readyState&&b(d.responseText)};d.send(null)};n.loadScript=function(b,f){var d=a.getDocumentHead(),c=document.createElement("script");c.src=b;d.appendChild(c);c.onload=c.onreadystatechange=function(a,b){if(b||!c.readyState||"loaded"==c.readyState||"complete"==c.readyState)c=c.onload=c.onreadystatechange=
null,b||f()}};n.qualifyURL=function(a){var b=document.createElement("a");return b.href=a,b.href}});
define("ace/lib/event_emitter",["require","exports","module"],function(b,n,u){b={};var a=function(){this.propagationStopped=!0},d=function(){this.defaultPrevented=!0};b._emit=b._dispatchEvent=function(b,g){this._eventRegistry||(this._eventRegistry={});this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[b]||[],f=this._defaultHandlers[b];if(c.length||f){"object"==typeof g&&g||(g={});g.type||(g.type=b);g.stopPropagation||(g.stopPropagation=a);g.preventDefault||(g.preventDefault=
d);c=c.slice();for(b=0;b<c.length&&(c[b](g,this),!g.propagationStopped);b++);if(f&&!g.defaultPrevented)return f(g,this)}};b._signal=function(a,b){if(a=(this._eventRegistry||{})[a]){a=a.slice();for(var c=0;c<a.length;c++)a[c](b,this)}};b.once=function(a,b){var c=this;b&&this.addEventListener(a,function k(){c.removeEventListener(a,k);b.apply(null,arguments)})};b.setDefaultHandler=function(a,b){var c=this._defaultHandlers;c||(c=this._defaultHandlers={_disabled_:{}});if(c[a]){var d=c[a],f=c._disabled_[a];
f||(c._disabled_[a]=f=[]);f.push(d);d=f.indexOf(b);-1!=d&&f.splice(d,1)}c[a]=b};b.removeDefaultHandler=function(a,b){var c=this._defaultHandlers;if(c){var d=c._disabled_[a];c[a]==b?d&&this.setDefaultHandler(a,d.pop()):d&&(a=d.indexOf(b),-1!=a&&d.splice(a,1))}};b.on=b.addEventListener=function(a,b,c){this._eventRegistry=this._eventRegistry||{};var d=this._eventRegistry[a];return d||(d=this._eventRegistry[a]=[]),-1==d.indexOf(b)&&d[c?"unshift":"push"](b),b};b.off=b.removeListener=b.removeEventListener=
function(a,b){this._eventRegistry=this._eventRegistry||{};if(a=this._eventRegistry[a])b=a.indexOf(b),-1!==b&&a.splice(b,1)};b.removeAllListeners=function(a){this._eventRegistry&&(this._eventRegistry[a]=[])};n.EventEmitter=b});
define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(b,n,u){function a(a){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function d(a,c){var b=Error(a);b.data=c;"object"==typeof console&&console.error&&console.error(b);setTimeout(function(){throw b;})}"no use strict";var f=b("./oop"),g=b("./event_emitter").EventEmitter,c={setOptions:function(a){Object.keys(a).forEach(function(c){this.setOption(c,a[c])},this)},getOptions:function(a){var c=
{};return a?Array.isArray(a)||(c=a,a=Object.keys(c)):a=Object.keys(this.$options),a.forEach(function(a){c[a]=this.getOption(a)},this),c},setOption:function(c,b){if(this["$"+c]!==b){var d=this.$options[c];if(!d)return a('misspelled option "'+c+'"');if(d.forwardTo)return this[d.forwardTo]&&this[d.forwardTo].setOption(c,b);d.handlesSet||(this["$"+c]=b);d&&d.set&&d.set.call(this,b)}},getOption:function(c){var b=this.$options[c];return b?b.forwardTo?this[b.forwardTo]&&this[b.forwardTo].getOption(c):b&&
b.get?b.get.call(this):this["$"+c]:a('misspelled option "'+c+'"')}};b=function(){this.$defaultOptions={}};(function(){f.implement(this,g);this.defineOptions=function(a,b,d){return a.$options||(this.$defaultOptions[b]=a.$options={}),Object.keys(d).forEach(function(c){var b=d[c];"string"==typeof b&&(b={forwardTo:b});b.name||(b.name=c);a.$options[b.name]=b;"initialValue"in b&&(a["$"+b.name]=b.initialValue)}),f.implement(a,c),this};this.resetOptions=function(a){Object.keys(a.$options).forEach(function(c){var b=
a.$options[c];"value"in b&&a.setOption(c,b.value)})};this.setDefaultValue=function(a,c,b){a=this.$defaultOptions[a]||(this.$defaultOptions[a]={});a[c]&&(a.forwardTo?this.setDefaultValue(a.forwardTo,c,b):a[c].value=b)};this.setDefaultValues=function(a,c){Object.keys(c).forEach(function(b){this.setDefaultValue(a,b,c[b])},this)};this.warn=a;this.reportError=d}).call(b.prototype);n.AppConfig=b});
define("ace/config","require exports module ace/lib/lang ace/lib/oop ace/lib/net ace/lib/app_config".split(" "),function(b,n,u){function a(a){return a.replace(/-(.)/g,function(a,c){return c.toUpperCase()})}"no use strict";var d=b("./lib/lang");b("./lib/oop");var f=b("./lib/net"),g=b("./lib/app_config").AppConfig;u.exports=n=new g;var c=function(){return this||"undefined"!=typeof window&&window}(),h={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};
n.get=function(a){if(!h.hasOwnProperty(a))throw Error("Unknown config key: "+a);return h[a]};n.set=function(a,c){if(!h.hasOwnProperty(a))throw Error("Unknown config key: "+a);h[a]=c};n.all=function(){return d.copyObject(h)};n.moduleUrl=function(a,c){if(h.$moduleUrls[a])return h.$moduleUrls[a];var b=a.split("/");c=c||b[b.length-2]||"";a="snippets"==c?"/":"-";var d=b[b.length-1];"worker"==c&&"-"==a&&(d=d.replace(new RegExp("^"+c+"[\\-_]|[\\-_]"+c+"$","g"),""));(!d||d==c)&&1<b.length&&(d=b[b.length-
2]);b=h[c+"Path"];return null==b?b=h.basePath:"/"==a&&(c=a=""),b&&"/"!=b.slice(-1)&&(b+="/"),b+c+a+d+this.get("suffix")};n.setModuleUrl=function(a,c){return h.$moduleUrls[a]=c};n.$loading={};n.loadModule=function(a,c){var e;Array.isArray(a)&&(e=a[0],a=a[1]);try{var d=b(a)}catch(q){}if(d&&!n.$loading[a])return c&&c(d);n.$loading[a]||(n.$loading[a]=[]);n.$loading[a].push(c);if(!(1<n.$loading[a].length)){c=function(){b([a],function(c){n._emit("load.module",{name:a,module:c});var b=n.$loading[a];n.$loading[a]=
null;b.forEach(function(a){a&&a(c)})})};if(!n.get("packaged"))return c();f.loadScript(n.moduleUrl(a,e),c)}};n.init=function(d){if(c&&c.document){h.packaged=d||b.packaged||u.packaged||c.define&&define.packaged;d={};var f="",e=document.currentScript||document._currentScript;e=(e&&e.ownerDocument||document).getElementsByTagName("script");for(var g=0;g<e.length;g++){var k=e[g],x=k.src||k.getAttribute("src");if(x){k=k.attributes;for(var z=0,t=k.length;z<t;z++){var C=k[z];0===C.name.indexOf("data-ace-")&&
(d[a(C.name.replace(/^data-ace-/,""))]=C.value)}(x=x.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/))&&(f=x[1])}}f&&(d.base=d.base||f,d.packaged=!0);d.basePath=d.base;d.workerPath=d.workerPath||d.base;d.modePath=d.modePath||d.base;d.themePath=d.themePath||d.base;delete d.base;for(var r in d)"undefined"!=typeof d[r]&&n.set(r,d[r])}}});
define("ace/mouse/mouse_handler","require exports module ace/lib/event ace/lib/useragent ace/mouse/default_handlers ace/mouse/default_gutter_handler ace/mouse/mouse_event ace/mouse/dragdrop_handler ace/config".split(" "),function(b,n,u){var a=b("../lib/event"),d=b("../lib/useragent"),f=b("./default_handlers").DefaultHandlers,g=b("./default_gutter_handler").GutterHandler,c=b("./mouse_event").MouseEvent,h=b("./dragdrop_handler").DragdropHandler;b=b("../config");u=function(c){var b=this;this.editor=
c;new f(this);new g(this);new h(this);var e=function(a){document.hasFocus&&document.hasFocus()&&(c.isFocused()||document.activeElement!=(c.textInput&&c.textInput.getElement()))||window.focus();c.focus()},k=c.renderer.getMouseEventTarget();a.addListener(k,"click",this.onMouseEvent.bind(this,"click"));a.addListener(k,"mousemove",this.onMouseMove.bind(this,"mousemove"));a.addMultiMouseDownListener([k,c.renderer.scrollBarV&&c.renderer.scrollBarV.inner,c.renderer.scrollBarH&&c.renderer.scrollBarH.inner,
c.textInput&&c.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent");a.addMouseWheelListener(c.container,this.onMouseWheel.bind(this,"mousewheel"));a.addTouchMoveListener(c.container,this.onTouchMove.bind(this,"touchmove"));var q=c.renderer.$gutter;a.addListener(q,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));a.addListener(q,"click",this.onMouseEvent.bind(this,"gutterclick"));a.addListener(q,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"));a.addListener(q,
"mousemove",this.onMouseEvent.bind(this,"guttermousemove"));a.addListener(k,"mousedown",e);a.addListener(q,"mousedown",e);d.isIE&&c.renderer.scrollBarV&&(a.addListener(c.renderer.scrollBarV.element,"mousedown",e),a.addListener(c.renderer.scrollBarH.element,"mousedown",e));c.on("mousemove",function(a){if(!b.state&&!b.$dragDelay&&b.$dragEnabled){a=c.renderer.screenToTextCoordinates(a.x,a.y);var e=c.session.selection.getRange(),d=c.renderer;!e.isEmpty()&&e.insideStart(a.row,a.column)?d.setCursorStyle("default"):
d.setCursorStyle("")}})};(function(){this.onMouseEvent=function(a,b){this.editor._emit(a,new c(b,this.editor))};this.onMouseMove=function(a,b){var e=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;e&&e.length&&this.editor._emit(a,new c(b,this.editor))};this.onMouseWheel=function(a,b){var e=new c(b,this.editor);e.speed=2*this.$scrollSpeed;e.wheelX=b.wheelX;e.wheelY=b.wheelY;this.editor._emit(a,e)};this.onTouchMove=function(a,b){var e=new c(b,this.editor);e.speed=1;e.wheelX=b.wheelX;
e.wheelY=b.wheelY;this.editor._emit(a,e)};this.setState=function(a){this.state=a};this.captureMouse=function(b,f){this.x=b.x;this.y=b.y;this.isMousePressed=!0;var e=this.editor.renderer;e.$keepTextAreaAtCursor&&(e.$keepTextAreaAtCursor=null);var g=this,h=function(a){if(a){if(d.isWebKit&&!a.which&&g.releaseMouse)return g.releaseMouse();g.x=a.clientX;g.y=a.clientY;f&&f(a);g.mouseEvent=new c(a,g.editor);g.$mouseMoved=!0}},k=function(a){clearInterval(t);m();g[g.state+"End"]&&g[g.state+"End"](a);g.state=
"";null==e.$keepTextAreaAtCursor&&(e.$keepTextAreaAtCursor=!0,e.$moveTextAreaToCursor());g.isMousePressed=!1;g.$onCaptureMouseMove=g.releaseMouse=null;a&&g.onMouseEvent("mouseup",a)},m=function(){g[g.state]&&g[g.state]();g.$mouseMoved=!1};if(d.isOldIE&&"dblclick"==b.domEvent.type)return setTimeout(function(){k(b)});g.$onCaptureMouseMove=h;g.releaseMouse=a.capture(this.editor.container,h,k);var t=setInterval(m,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var c=function(b){b&&b.domEvent&&
"contextmenu"!=b.domEvent.type||(this.editor.off("nativecontextmenu",c),b&&b.domEvent&&a.stopEvent(b.domEvent))}.bind(this);setTimeout(c,10);this.editor.on("nativecontextmenu",c)}}).call(u.prototype);b.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:d.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});n.MouseHandler=u});
define("ace/mouse/fold_handler",["require","exports","module"],function(b,n,u){n.FoldHandler=function(a){a.on("click",function(b){var d=b.getDocumentPosition(),g=a.session;(d=g.getFoldAt(d.row,d.column,1))&&(b.getAccelKey()?g.removeFold(d):g.expandFold(d),b.stop())});a.on("gutterclick",function(b){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(b)){var d=b.getDocumentPosition().row,g=a.session;g.foldWidgets&&g.foldWidgets[d]&&a.session.onFoldWidgetClick(d,b);a.isFocused()||a.focus();b.stop()}});
a.on("gutterdblclick",function(b){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(b)){var d=b.getDocumentPosition().row,g=a.session,c=g.getParentFoldRangeData(d,!0);if(c=c.range||c.firstRange)d=c.start.row,(d=g.getFoldAt(d,g.getLine(d).length,1))?g.removeFold(d):(g.addFold("...",c),a.renderer.scrollCursorIntoView({row:c.start.row,column:0}));b.stop()}})}});
define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(b,n,u){var a=b("../lib/keys"),d=b("../lib/event");b=function(a){this.$editor=a;this.$data={editor:a};this.$handlers=[];this.setDefaultHandler(a.commands)};(function(){this.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=a;this.addKeyboardHandler(a,0)};this.setKeyboardHandler=function(a){var b=this.$handlers;if(b[b.length-1]!=a){for(;b[b.length-
1]&&b[b.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(b[b.length-1]);this.addKeyboardHandler(a,1)}};this.addKeyboardHandler=function(a,b){if(a){"function"==typeof a&&!a.handleKeyboard&&(a.handleKeyboard=a);var c=this.$handlers.indexOf(a);-1!=c&&this.$handlers.splice(c,1);void 0==b?this.$handlers.push(a):this.$handlers.splice(b,0,a);-1==c&&a.attach&&a.attach(this.$editor)}};this.removeKeyboardHandler=function(a){var b=this.$handlers.indexOf(a);return-1==b?!1:(this.$handlers.splice(b,
1),a.detach&&a.detach(this.$editor),!0)};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var a=this.$data,b=a.editor;return this.$handlers.map(function(c){return c.getStatusText&&c.getStatusText(b,a)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(a,b,c,h){for(var f,g=!1,e=this.$editor.commands,l=this.$handlers.length;l--&&!((f=this.$handlers[l].handleKeyboard(this.$data,a,b,c,h))&&f.command&&("null"==f.command?
g=!0:g=e.exec(f.command,this.$editor,f.args,h),g&&h&&-1!=a&&1!=f.passEvent&&1!=f.command.passEvent&&d.stopEvent(h),g)););return!g&&-1==a&&(f={command:"insertstring"},g=e.exec("insertstring",this.$editor,b)),g&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),g};this.onCommandKey=function(b,d,c){var f=a.keyCodeToString(c);this.$callKeyboardHandlers(d,f,c,b)};this.onTextInput=function(a){this.$callKeyboardHandlers(-1,a)}}).call(b.prototype);n.KeyBinding=b});
define("ace/lib/bidiutil",["require","exports","module"],function(b,n,u){function a(a,b,e){if(!(c<a))if(1!=a||g!=q||k)for(var d=e.length,f=0,h,m,l;f<d;){if(b[f]>=a){for(h=f+1;h<d&&b[h]>=a;)h++;for(m=h-1;f<m;f++,m--)l=e[f],e[f]=e[m],e[m]=l;f=h}f++}else e.reverse()}function d(a,b,c,e){var d=b[e],f,l;switch(d){case x:case z:h=!1;case r:case C:return d;case t:return h?C:t;case A:return h=!0,z;case G:return r;case F:return 1>e||e+1>=b.length||(f=c[e-1])!=t&&f!=C||(l=b[e+1])!=t&&l!=C?r:(h&&(l=C),l==f?l:
r);case J:return f=0<e?c[e-1]:B,f==t&&e+1<b.length&&b[e+1]==t?t:r;case E:if(0<e&&c[e-1]==t)return t;if(h)return r;f=e+1;for(d=b.length;f<d&&b[f]==E;)f++;return f<d&&b[f]==t?t:r;case D:d=b.length;for(f=e+1;f<d&&b[f]==D;)f++;return f<d&&(a=a[e],f=b[f],(1425<=a&&2303>=a||64286==a)&&(f==z||f==A))?z:1>e||b[e-1]==B?r:c[e-1];case B:return h=!1,k=!0,g;case y:return m=!0,r;case Q:case O:case ia:case L:case M:h=!1;case I:return r}}function f(a){var b=a.charCodeAt(0),c=b>>8;return 0==c?191<b?x:S[b]:5==c?/[\u0591-\u05f4]/.test(a)?
z:x:6==c?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(a)?D:/[\u0660-\u0669\u066b-\u066c]/.test(a)?C:1642==b?E:/[\u06f0-\u06f9]/.test(a)?t:A:32==c&&8287>=b?za[b&255]:254==c?65136<=b?A:r:r}var g=0,c=0,h=!1,k=!1,m=!1,e=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],q=1,x=0,z=1,t=2,C=3,r=4,B=5,y=6,A=7,G=8,F=9,J=10,E=11,D=12,Q=13,O=14,M=15,ia=16,L=17,I=18,S=[I,I,I,
I,I,I,I,I,I,y,B,y,G,B,I,I,I,I,I,I,I,I,I,I,I,I,I,I,B,B,B,y,G,r,r,E,E,E,r,r,r,r,r,J,F,J,F,F,t,t,t,t,t,t,t,t,t,t,F,r,r,r,r,r,r,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,r,r,r,r,r,r,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,r,r,r,r,I,I,I,I,I,I,B,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,F,r,E,E,E,E,r,r,r,r,x,r,r,I,r,r,E,E,t,t,r,x,r,r,r,t,x,r,r,r,r,r],za=[G,G,G,G,G,G,G,G,G,G,G,I,I,I,x,z,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,G,B,Q,O,M,ia,L,F,E,E,E,E,E,r,r,r,r,r,r,
r,r,r,r,r,r,r,r,r,F,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,G];n.L=x;n.R=z;n.EN=t;n.ON_R=3;n.AN=4;n.R_H=5;n.B=6;n.DOT="\u00b7";n.doBidiReorder=function(b,t,x){if(2>b.length)return{};b=b.split("");var F=Array(b.length),u=Array(b.length),E=[];g=x?q:0;x=b.length;var D=t,J=g?l:e;var O=0;var L=-1,M,ia=[];if(!D){var S=0;for(D=[];S<x;S++)D[S]=f(b[S])}c=g;m=k=h=!1;for(M=0;M<x;M++){var X=O;ia[M]=O=d(b,D,ia,M);O=J[X][O];S=O&240;O&=15;E[M]=X=J[O][5];if(0<S){if(16==S)for(S=L;S<M;S++)E[S]=1;L=-1}if(S=
J[O][6])-1==L&&(L=M);else if(-1<L){for(S=L;S<M;S++)E[S]=X;L=-1}D[M]==B&&(E[M]=0);c|=X}if(m)for(S=0;S<x;S++)if(D[S]==y)for(E[S]=g,J=S-1;0<=J&&D[J]==G;J--)E[J]=g;for(x=0;x<F.length;F[x]=x,x++);a(2,E,F);a(1,E,F);for(x=0;x<F.length-1;x++)t[x]===C?E[x]=n.AN:E[x]===z&&(t[x]>A&&t[x]<Q||t[x]===r||t[x]===I)?E[x]=n.ON_R:0<x&&"\u0644"===b[x-1]&&/\u0622|\u0623|\u0625|\u0627/.test(b[x])&&(E[x-1]=E[x]=n.R_H,x++);b[b.length-1]===n.DOT&&(E[b.length-1]=n.B);for(x=0;x<F.length;x++)u[x]=E[F[x]];return{logicalFromVisual:F,
bidiLevels:u}};n.hasBidiCharacters=function(a,b){for(var c=!1,e=0;e<a.length;e++)b[e]=f(a.charAt(e)),c||b[e]!=z&&b[e]!=A||(c=!0);return c};n.getVisualFromLogicalIdx=function(a,b){for(var c=0;c<b.logicalFromVisual.length;c++)if(b.logicalFromVisual[c]==a)return c;return 0}});
define("ace/bidihandler","require exports module ace/lib/bidiutil ace/lib/lang ace/lib/useragent".split(" "),function(b,n,u){var a=b("./lib/bidiutil"),d=b("./lib/lang"),f=b("./lib/useragent"),g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;b=function(b){this.session=b;this.bidiMap={};this.currentRow=null;this.bidiUtil=a;this.charWidths=[];this.EOL="\u00ac";this.showInvisibles=!0;this.isRtlDir=!1;this.line="";this.wrapIndent=0;this.isLastRow=!1;this.EOF="\u00b6";this.seenBidi=!1};(function(){this.isBidiRow=
function(a,b,d){return this.seenBidi?(a!==this.currentRow&&(this.currentRow=a,this.updateRowLine(b,d),this.updateBidiMap()),this.bidiMap.bidiLevels):!1};this.onChange=function(a){this.seenBidi?this.currentRow=null:"insert"==a.action&&g.test(a.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)};this.getDocumentRow=function(){var a=0,b=this.session.$screenRowCache;b.length&&(b=this.session.$getRowCacheIndex(b,this.currentRow),0<=b&&(a=this.session.$docRowCache[b]));return a};this.getSplitIndex=
function(){var a=0,b=this.session.$screenRowCache;if(b.length)for(var d,f=this.session.$getRowCacheIndex(b,this.currentRow);0<this.currentRow-a;){d=this.session.$getRowCacheIndex(b,this.currentRow-a-1);if(d!==f)break;f=d;a++}return a};this.updateRowLine=function(b,f){void 0===b&&(b=this.getDocumentRow());this.wrapIndent=0;this.isLastRow=b===this.session.getLength()-1;this.line=this.session.getLine(b);this.session.$useWrapMode&&(b=this.session.$wrapData[b])&&(void 0===f&&(f=this.getSplitIndex()),0<
f&&b.length?(this.wrapIndent=b.indent,this.line=f<b.length?this.line.substring(b[f-1],b[b.length-1]):this.line.substring(b[b.length-1])):this.line=this.line.substring(0,b[f]));var c=this.session,g=0,e;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(b,f){return"\t"===b||c.isFullWidth(b.charCodeAt(0))?(e="\t"===b?c.getScreenTabSize(f+g):2,g+=e-1,d.stringRepeat(a.DOT,e)):b})};this.updateBidiMap=function(){var b=[],d=this.isLastRow?this.EOF:this.EOL;d=this.line+(this.showInvisibles?
d:a.DOT);a.hasBidiCharacters(d,b)?this.bidiMap=a.doBidiReorder(d,b,this.isRtlDir):this.bidiMap={}};this.markAsDirty=function(){this.currentRow=null};this.updateCharacterWidths=function(b){if(this.seenBidi&&this.characterWidth!==b.$characterSize.width){var c=this.characterWidth=b.$characterSize.width;b=b.$measureCharWidth("\u05d4");this.charWidths[a.L]=this.charWidths[a.EN]=this.charWidths[a.ON_R]=c;this.charWidths[a.R]=this.charWidths[a.AN]=b;this.charWidths[a.R_H]=f.isChrome?b:.45*b;this.charWidths[a.B]=
0;this.currentRow=null}};this.getShowInvisibles=function(){return this.showInvisibles};this.setShowInvisibles=function(a){this.showInvisibles=a;this.currentRow=null};this.setEolChar=function(a){this.EOL=a};this.setTextDir=function(a){this.isRtlDir=a};this.getPosLeft=function(b){b-=this.wrapIndent;var c=a.getVisualFromLogicalIdx(0<b?b-1:0,this.bidiMap),d=this.bidiMap.bidiLevels,f=0;0===b&&0!==d[c]%2&&c++;for(var e=0;e<c;e++)f+=this.charWidths[d[e]];return 0!==b&&0===d[c]%2&&(f+=this.charWidths[d[c]]),
this.wrapIndent&&(f+=this.wrapIndent*this.charWidths[a.L]),f};this.getSelections=function(b,d){var c=this.bidiMap,f=c.bidiLevels,e=this.wrapIndent*this.charWidths[a.L],g=[],h=Math.min(b,d)-this.wrapIndent;d=Math.max(b,d)-this.wrapIndent;for(var n=!1,z=!1,t=0,C=0;C<f.length;C++)n=c.logicalFromVisual[C],b=f[C],(n=n>=h&&n<d)&&!z?t=e:!n&&z&&g.push({left:t,width:e-t}),e+=this.charWidths[b],z=n;return n&&C===f.length&&g.push({left:t,width:e-t}),g};this.offsetToCol=function(b){var c=0;b=Math.max(b,0);var d=
0,f=0,e=this.bidiMap.bidiLevels,g=this.charWidths[e[f]];for(this.wrapIndent&&(b-=this.wrapIndent*this.charWidths[a.L]);b>d+g/2;){d+=g;if(f===e.length-1){g=0;break}g=this.charWidths[e[++f]]}return 0<f&&0!==e[f-1]%2&&0===e[f]%2?(b<d&&f--,c=this.bidiMap.logicalFromVisual[f]):0<f&&0===e[f-1]%2&&0!==e[f]%2?c=1+(b>d?this.bidiMap.logicalFromVisual[f]:this.bidiMap.logicalFromVisual[f-1]):this.isRtlDir&&f===e.length-1&&0===g&&0===e[f-1]%2||!this.isRtlDir&&0===f&&0!==e[f]%2?c=1+this.bidiMap.logicalFromVisual[f]:
(0<f&&0!==e[f-1]%2&&0!==g&&f--,c=this.bidiMap.logicalFromVisual[f]),c+this.wrapIndent}}).call(b.prototype);n.BidiHandler=b});
define("ace/range",["require","exports","module"],function(b,n,u){var a=function(a,b,g,c){this.start={row:a,column:b};this.end={row:g,column:c}};(function(){this.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(a,b){return 0==this.compare(a,b)};this.compareRange=
function(a){var b,d=a.end;a=a.start;return b=this.compare(d.row,d.column),1==b?(b=this.compare(a.row,a.column),1==b?2:0==b?1:0):-1==b?-2:(b=this.compare(a.row,a.column),-1==b?-1:1==b?42:0)};this.comparePoint=function(a){return this.compare(a.row,a.column)};this.containsRange=function(a){return 0==this.comparePoint(a.start)&&0==this.comparePoint(a.end)};this.intersects=function(a){a=this.compareRange(a);return-1==a||0==a||1==a};this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b};this.isStart=
function(a,b){return this.start.row==a&&this.start.column==b};this.setStart=function(a,b){"object"==typeof a?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=b)};this.setEnd=function(a,b){"object"==typeof a?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=b)};this.inside=function(a,b){return 0==this.compare(a,b)?this.isEnd(a,b)||this.isStart(a,b)?!1:!0:!1};this.insideStart=function(a,b){return 0==this.compare(a,b)?this.isEnd(a,b)?!1:
!0:!1};this.insideEnd=function(a,b){return 0==this.compare(a,b)?this.isStart(a,b)?!1:!0:!1};this.compare=function(a,b){return this.isMultiLine()||a!==this.start.row?a<this.start.row?-1:a>this.end.row?1:this.start.row===a?b>=this.start.column?0:-1:this.end.row===a?b<=this.end.column?0:1:0:b<this.start.column?-1:b>this.end.column?1:0};this.compareStart=function(a,b){return this.start.row==a&&this.start.column==b?-1:this.compare(a,b)};this.compareEnd=function(a,b){return this.end.row==a&&this.end.column==
b?1:this.compare(a,b)};this.compareInside=function(a,b){return this.end.row==a&&this.end.column==b?1:this.start.row==a&&this.start.column==b?-1:this.compare(a,b)};this.clipRows=function(b,f){if(this.end.row>f)var d={row:f+1,column:0};else this.end.row<b&&(d={row:b,column:0});if(this.start.row>f)var c={row:f+1,column:0};else this.start.row<b&&(c={row:b,column:0});return a.fromPoints(c||this.start,d||this.end)};this.extend=function(b,f){var d=this.compare(b,f);if(0==d)return this;if(-1==d)var c={row:b,
column:f};else var h={row:b,column:f};return a.fromPoints(c||this.start,h||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return a.fromPoints(this.start,this.end)};this.collapseRows=function(){return 0==this.end.column?new a(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new a(this.start.row,0,this.end.row,0)};this.toScreenRange=function(b){var d=
b.documentToScreenPosition(this.start);b=b.documentToScreenPosition(this.end);return new a(d.row,d.column,b.row,b.column)};this.moveBy=function(a,b){this.start.row+=a;this.start.column+=b;this.end.row+=a;this.end.column+=b}}).call(a.prototype);a.fromPoints=function(b,f){return new a(b.row,b.column,f.row,f.column)};a.comparePoints=function(a,b){return a.row-b.row||a.column-b.column};a.comparePoints=function(a,b){return a.row-b.row||a.column-b.column};n.Range=a});
define("ace/selection","require exports module ace/lib/oop ace/lib/lang ace/lib/event_emitter ace/range".split(" "),function(b,n,u){var a=b("./lib/oop"),d=b("./lib/lang"),f=b("./lib/event_emitter").EventEmitter,g=b("./range").Range;b=function(a){this.session=a;this.doc=a.getDocument();this.clearSelection();this.lead=this.selectionLead=this.doc.createAnchor(0,0);this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var b=this;this.lead.on("change",function(a){b._emit("changeCursor");b.$isEmpty||
b._emit("changeSelection");!b.$keepDesiredColumnOnChange&&a.old.column!=a.value.column&&(b.$desiredColumn=null)});this.selectionAnchor.on("change",function(){b.$isEmpty||b._emit("changeSelection")})};(function(){a.implement(this,f);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=
function(a,b){this.anchor.setPosition(a,b);this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))};this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.shiftSelection=function(a){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+a);else{var b=this.getSelectionAnchor(),c=this.getSelectionLead(),d=this.isBackwards();d&&0===b.column||this.setSelectionAnchor(b.row,
b.column+a);(d||0!==c.column)&&this.$moveSelection(function(){this.moveCursorTo(c.row,c.column+a)})}};this.isBackwards=function(){var a=this.anchor,b=this.lead;return a.row>b.row||a.row==b.row&&a.column>b.column};this.getRange=function(){var a=this.anchor,b=this.lead;return this.isEmpty()?g.fromPoints(b,b):this.isBackwards()?g.fromPoints(b,a):g.fromPoints(a,b)};this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))};this.selectAll=function(){var a=this.doc.getLength()-
1;this.setSelectionAnchor(0,0);this.moveCursorTo(a,this.doc.getLine(a).length)};this.setRange=this.setSelectionRange=function(a,b){b?(this.setSelectionAnchor(a.end.row,a.end.column),this.selectTo(a.start.row,a.start.column)):(this.setSelectionAnchor(a.start.row,a.start.column),this.selectTo(a.end.row,a.end.column));this.getRange().isEmpty()&&(this.$isEmpty=!0);this.$desiredColumn=null};this.$moveSelection=function(a){var b=this.lead;this.$isEmpty&&this.setSelectionAnchor(b.row,b.column);a.call(this)};
this.selectTo=function(a,b){this.$moveSelection(function(){this.moveCursorTo(a,b)})};this.selectToPosition=function(a){this.$moveSelection(function(){this.moveCursorToPosition(a)})};this.moveTo=function(a,b){this.clearSelection();this.moveCursorTo(a,b)};this.moveToPosition=function(a){this.clearSelection();this.moveCursorToPosition(a)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};
this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};
this.getWordRange=function(a,b){"undefined"==typeof b&&(b=a||this.lead,a=b.row,b=b.column);return this.session.getWordRange(a,b)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var a=this.getCursor();a=this.session.getAWordRange(a.row,a.column);this.setSelectionRange(a)};this.getLineRange=function(a,b){a="number"==typeof a?a:this.lead.row;var c,d=this.session.getFoldLine(a);return d?(a=d.start.row,c=d.end.row):c=a,!0===b?new g(a,0,c,this.session.getLine(c).length):
new g(a,0,c+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.wouldMoveIntoSoftTab=function(a,b,d){var c=a.column,e=a.column+b;return 0>d&&(c=a.column-b,e=a.column),this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(c,e).split(" ").length-1==b};this.moveCursorLeft=function(){var a=this.lead.getPosition(),b;(b=this.session.getFoldAt(a.row,a.column,-1))?
this.moveCursorTo(b.start.row,b.start.column):0===a.column?0<a.row&&this.moveCursorTo(a.row-1,this.doc.getLine(a.row-1).length):(b=this.session.getTabSize(),this.wouldMoveIntoSoftTab(a,b,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-b):this.moveCursorBy(0,-1))};this.moveCursorRight=function(){var a=this.lead.getPosition();if(a=this.session.getFoldAt(a.row,a.column,1))this.moveCursorTo(a.end.row,a.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<
this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var b=this.session.getTabSize();a=this.lead;this.wouldMoveIntoSoftTab(a,b,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,b):this.moveCursorBy(0,1)}};this.moveCursorLineStart=function(){var a=this.lead.row,b=this.lead.column,d=this.session.documentToScreenRow(a,b);d=this.session.screenToDocumentPosition(d,0);a=this.session.getDisplayLine(a,null,d.row,d.column).match(/^\s*/);a[0].length!=b&&!this.session.$useEmacsStyleLineStart&&
(d.column+=a[0].length);this.moveCursorToPosition(d)};this.moveCursorLineEnd=function(){var a=this.lead;a=this.session.getDocumentLastRowColumnPosition(a.row,a.column);if(this.lead.column==a.column){var b=this.session.getLine(a.row);a.column==b.length&&(b=b.search(/\s+$/),0<b&&(a.column=b))}this.moveCursorTo(a.row,a.column)};this.moveCursorFileEnd=function(){var a=this.doc.getLength()-1,b=this.doc.getLine(a).length;this.moveCursorTo(a,b)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};
this.moveCursorLongWordRight=function(){var a=this.lead.row,b=this.lead.column,d=this.doc.getLine(a),f=d.substring(b);this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;var e=this.session.getFoldAt(a,b,1);e?this.moveCursorTo(e.end.row,e.end.column):(this.session.nonTokenRe.exec(f)&&(b+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,f=d.substring(b)),b>=d.length?(this.moveCursorTo(a,d.length),this.moveCursorRight(),a<this.doc.getLength()-1&&this.moveCursorWordRight()):
(this.session.tokenRe.exec(f)&&(b+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(a,b)))};this.moveCursorLongWordLeft=function(){var a=this.lead.row,b=this.lead.column,f;(f=this.session.getFoldAt(a,b,-1))?this.moveCursorTo(f.start.row,f.start.column):(f=this.session.getFoldStringAt(a,b,-1),null==f&&(f=this.doc.getLine(a).substring(0,b)),f=d.stringReverse(f),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(f)&&(b-=
this.session.nonTokenRe.lastIndex,f=f.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=b?(this.moveCursorTo(a,0),this.moveCursorLeft(),0<a&&this.moveCursorWordLeft()):(this.session.tokenRe.exec(f)&&(b-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(a,b)))};this.$shortWordEndIndex=function(a){var b=0,c,d=/\s/,e=this.session.tokenRe;e.lastIndex=0;if(this.session.tokenRe.exec(a))b=this.session.tokenRe.lastIndex;else{for(;(c=a[b])&&d.test(c);)b++;
if(1>b)for(e.lastIndex=0;(c=a[b])&&!e.test(c);)if(e.lastIndex=0,b++,d.test(c)){if(2<b){b--;break}for(;(c=a[b])&&d.test(c);)b++;if(2<b)break}}return e.lastIndex=0,b};this.moveCursorShortWordRight=function(){var a=this.lead.row,b=this.lead.column,d=this.doc.getLine(a),f=d.substring(b),e=this.session.getFoldAt(a,b,1);if(e)return this.moveCursorTo(e.end.row,e.end.column);if(b==d.length){b=this.doc.getLength();do a++,f=this.doc.getLine(a);while(a<b&&/^\s*$/.test(f));/^\s+/.test(f)||(f="");b=0}f=this.$shortWordEndIndex(f);
this.moveCursorTo(a,b+f)};this.moveCursorShortWordLeft=function(){var a=this.lead.row,b=this.lead.column,f;if(f=this.session.getFoldAt(a,b,-1))return this.moveCursorTo(f.start.row,f.start.column);f=this.session.getLine(a).substring(0,b);if(0===b){do a--,f=this.doc.getLine(a);while(0<a&&/^\s*$/.test(f));b=f.length;/\s+$/.test(f)||(f="")}f=d.stringReverse(f);f=this.$shortWordEndIndex(f);return this.moveCursorTo(a,b-f)};this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():
this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()};this.moveCursorBy=function(a,b){var c=this.session.documentToScreenPosition(this.lead.row,this.lead.column),d;0===b&&(0!==a&&(this.session.$bidiHandler.isBidiRow(c.row,this.lead.row)?(d=this.session.$bidiHandler.getPosLeft(c.column),c.column=Math.round(d/this.session.$bidiHandler.charWidths[0])):d=c.column*this.session.$bidiHandler.charWidths[0]),
this.$desiredColumn?c.column=this.$desiredColumn:this.$desiredColumn=c.column);c=this.session.screenToDocumentPosition(c.row+a,c.column,d);0!==a&&0===b&&c.row===this.lead.row&&c.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[c.row]&&(0<c.row||0<a)&&c.row++;this.moveCursorTo(c.row,c.column+b,0===b)};this.moveCursorToPosition=function(a){this.moveCursorTo(a.row,a.column)};this.moveCursorTo=function(a,b,d){var c=this.session.getFoldAt(a,b,1);c&&(a=c.start.row,b=c.start.column);
this.$keepDesiredColumnOnChange=!0;c=this.session.getLine(a);/[\uDC00-\uDFFF]/.test(c.charAt(b))&&c.charAt(b-1)&&(this.lead.row==a&&this.lead.column==b+1?--b:b+=1);this.lead.setPosition(a,b);this.$keepDesiredColumnOnChange=!1;d||(this.$desiredColumn=null)};this.moveCursorToScreen=function(a,b,d){a=this.session.screenToDocumentPosition(a,b);this.moveCursorTo(a.row,a.column,d)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=function(a){this.setSelectionRange(a,
a.cursor==a.start);this.$desiredColumn=a.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(a){var b=this.getRange();return a?(a.start.column=b.start.column,a.start.row=b.start.row,a.end.column=b.end.column,a.end.row=b.end.row):a=b,a.cursor=this.isBackwards()?a.start:a.end,a.desiredColumn=this.$desiredColumn,a};this.getRangeOfMovements=function(a){var b=this.getCursor();try{a(this);var c=this.getCursor();return g.fromPoints(b,c)}catch(m){return g.fromPoints(b,b)}finally{this.moveCursorToPosition(b)}};
this.toJSON=function(){if(this.rangeCount)var a=this.ranges.map(function(a){var b=a.clone();return b.isBackwards=a.cursor==a.start,b});else a=this.getRange(),a.isBackwards=this.isBackwards();return a};this.fromJSON=function(a){if(void 0==a.start){if(this.rangeList){this.toSingleRange(a[0]);for(var b=a.length;b--;){var c=g.fromPoints(a[b].start,a[b].end);a[b].isBackwards&&(c.cursor=c.start);this.addRange(c,!0)}return}a=a[0]}this.rangeList&&this.toSingleRange(a);this.setSelectionRange(a,a.isBackwards)};
this.isEqual=function(a){if((a.length||this.rangeCount)&&a.length!=this.rangeCount)return!1;if(!a.length||!this.ranges)return this.getRange().isEqual(a);for(var b=this.ranges.length;b--;)if(!this.ranges[b].isEqual(a[b]))return!1;return!0}}).call(b.prototype);n.Selection=b});
define("ace/tokenizer",["require","exports","module","ace/config"],function(b,n,u){var a=b("./config"),d=2E3;b=function(a){this.states=a;this.regExps={};this.matchMappings={};for(var b in this.states){a=this.states[b];for(var c=[],d=0,f=this.matchMappings[b]={defaultToken:"text"},m="g",e=[],l=0;l<a.length;l++){var q=a[l];q.defaultToken&&(f.defaultToken=q.defaultToken);q.caseInsensitive&&(m="gi");if(null!=q.regex){q.regex instanceof RegExp&&(q.regex=q.regex.toString().slice(1,-1));var n=q.regex,z=
(new RegExp("(?:("+n+")|(.))")).exec("a").length-2;Array.isArray(q.token)?1==q.token.length||1==z?q.token=q.token[0]:z-1!=q.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:q,groupCount:z-1}),q.token=q.token[0]):(q.tokenArray=q.token,q.token=null,q.onMatch=this.$arrayTokens):"function"==typeof q.token&&!q.onMatch&&(1<z?q.onMatch=this.$applyToken:q.onMatch=q.token);1<z&&(/\\\d/.test(q.regex)?n=q.regex.replace(/\\([0-9]+)/g,function(a,b){return"\\"+(parseInt(b,
10)+d+1)}):(z=1,n=this.removeCapturingGroups(q.regex)),!q.splitRegex&&"string"!=typeof q.token&&e.push(q));f[d]=l;d+=z;c.push(n);q.onMatch||(q.onMatch=null)}}c.length||(f[0]=0,c.push("$"));e.forEach(function(a){a.splitRegex=this.createSplitterRegexp(a.regex,m)},this);this.regExps[b]=new RegExp("("+c.join(")|(")+")|($)",m)}};(function(){this.$setMaxTokenCount=function(a){d=a|0};this.$applyToken=function(a){var b=this.splitRegex.exec(a).slice(1),c=this.token.apply(this,b);if("string"==typeof c)return[{type:c,
value:a}];a=[];for(var d=0,f=c.length;d<f;d++)b[d]&&(a[a.length]={type:c[d],value:b[d]});return a};this.$arrayTokens=function(a){if(!a)return[];a=this.splitRegex.exec(a);if(!a)return"text";for(var b=[],c=this.tokenArray,d=0,f=c.length;d<f;d++)a[d+1]&&(b[b.length]={type:c[d],value:a[d+1]});return b};this.removeCapturingGroups=function(a){return a.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(a,b){return b?"(?:":a})};this.createSplitterRegexp=function(a,b){if(-1!=a.indexOf("(?=")){var c=
0,d=!1,f={};a.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(a,b,g,h,k,n){return d?d="]"!=k:k?d=!0:h?(c==f.stack&&(f.end=n+1,f.stack=-1),c--):g&&(c++,1!=g.length&&(f.stack=c,f.start=n)),a});null!=f.end&&/^\)*$/.test(a.substr(f.end))&&(a=a.substring(0,f.start)+a.substr(f.end))}return"^"!=a.charAt(0)&&(a="^"+a),"$"!=a.charAt(a.length-1)&&(a+="$"),new RegExp(a,(b||"").replace("g",""))};this.getLineTokens=function(a,b){if(b&&"string"!=typeof b){var c=b.slice(0);b=c[0];"#tmp"===b&&(c.shift(),
b=c.shift())}else c=[];var f=b||"start",g=this.states[f];g||(f="start",g=this.states[f]);var m=this.matchMappings[f],e=this.regExps[f];e.lastIndex=0;for(var l,q=[],n=0,z=0,t={type:null,value:""};l=e.exec(a);){var C=m.defaultToken,r=null,B=l[0],y=e.lastIndex;if(y-B.length>n){var A=a.substring(n,y-B.length);t.type==C?t.value+=A:(t.type&&q.push(t),t={type:C,value:A})}for(A=0;A<l.length-2;A++)if(void 0!==l[A+1]){r=g[m[A]];r.onMatch?C=r.onMatch(B,f,c,a):C=r.token;r.next&&("string"==typeof r.next?f=r.next:
f=r.next(f,c),g=this.states[f],g||(this.reportError("state doesn't exist",f),f="start",g=this.states[f]),m=this.matchMappings[f],n=y,e=this.regExps[f],e.lastIndex=y);r.consumeLineEnd&&(n=y);break}if(B)if("string"==typeof C)r&&!1===r.merge||t.type!==C?(t.type&&q.push(t),t={type:C,value:B}):t.value+=B;else if(C)for(t.type&&q.push(t),t={type:null,value:""},A=0;A<C.length;A++)q.push(C[A]);if(n==a.length)break;n=y;if(z++>d){for(z>2*a.length&&this.reportError("infinite loop with in ace tokenizer",{startState:b,
line:a});n<a.length;)t.type&&q.push(t),t={value:a.substring(n,n+=2E3),type:"overflow"};f="start";c=[];break}}return t.type&&q.push(t),1<c.length&&c[0]!==f&&c.unshift("#tmp",f),{tokens:q,state:c.length?c:f}};this.reportError=a.reportError}).call(b.prototype);n.Tokenizer=b});
define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(b,n,u){var a=b("../lib/lang");b=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(a,b){if(b)for(e in a){for(var c=a[e],d=0;d<c.length;d++){var f=c[d];if(f.next||f.onMatch)"string"==typeof f.next&&0!==f.next.indexOf(b)&&(f.next=b+f.next),f.nextState&&0!==f.nextState.indexOf(b)&&(f.nextState=b+f.nextState)}this.$rules[b+e]=c}else for(var e in a)this.$rules[e]=
a[e]};this.getRules=function(){return this.$rules};this.embedRules=function(b,c,d,f,m){b="function"==typeof b?(new b).getRules():b;if(f)for(var e=0;e<f.length;e++)f[e]=c+f[e];else for(e in f=[],b)f.push(c+e);this.addRules(b,c);if(d)for(m=Array.prototype[m?"push":"unshift"],e=0;e<f.length;e++)m.apply(this.$rules[f[e]],a.deepCopy(d));this.$embeds||(this.$embeds=[]);this.$embeds.push(c)};this.getEmbeds=function(){return this.$embeds};var b=function(a,b){return("start"!=a||b.length)&&b.unshift(this.nextState,
a),this.nextState},f=function(a,b){return b.shift(),b.shift()||"start"};this.normalizeRules=function(){function a(g){g=d[g];g.processed=!0;for(var h=0;h<g.length;h++){var e=g[h],k=null;Array.isArray(e)&&(k=e,e={});!e.regex&&e.start&&(e.regex=e.start,e.next||(e.next=[]),e.next.push({defaultToken:e.token},{token:e.token+".end",regex:e.end||e.start,next:"pop"}),e.token+=".start",e.push=!0);var q=e.next||e.push;if(q&&Array.isArray(q)){var n=e.stateName;n||(n=e.token,"string"!=typeof n&&(n=n[0]||""),d[n]&&
(n+=c++));d[n]=q;e.next=n;a(n)}else"pop"==q&&(e.next=f);e.push&&(e.nextState=e.next||e.push,e.next=b,delete e.push);if(e.rules)for(var z in e.rules)d[z]?d[z].push&&d[z].push.apply(d[z],e.rules[z]):d[z]=e.rules[z];(q="string"==typeof e?e:e.include)&&(Array.isArray(q)?k=q.map(function(a){return d[a]}):k=d[q]);k&&(k=[h,1].concat(k),e.noEscape&&(k=k.filter(function(a){return!a.next})),g.splice.apply(g,k),h--);e.keywordMap&&(e.token=this.createKeywordMapper(e.keywordMap,e.defaultToken||"text",e.caseInsensitive),
delete e.defaultToken)}}var c=0,d=this.$rules;Object.keys(d).forEach(a,this)};this.createKeywordMapper=function(a,b,d,f){var c=Object.create(null);return Object.keys(a).forEach(function(b){var e=a[b];d&&(e=e.toLowerCase());e=e.split(f||"|");for(var g=e.length;g--;)c[e[g]]=b}),Object.getPrototypeOf(c)&&(c.__proto__=null),this.$keywordList=Object.keys(c),a=null,d?function(a){return c[a.toLowerCase()]||b}:function(a){return c[a]||b}};this.getKeywords=function(){return this.$keywords}}).call(b.prototype);
n.TextHighlightRules=b});
define("ace/mode/behaviour",["require","exports","module"],function(b,n,u){b=function(){this.$behaviours={}};(function(){this.add=function(a,b,f){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[a]:this.$behaviours[a]={}}this.$behaviours[a][b]=f};this.addBehaviours=function(a){for(var b in a)for(var f in a[b])this.add(b,f,a[b][f])};this.remove=function(a){this.$behaviours&&this.$behaviours[a]&&delete this.$behaviours[a]};this.inherit=function(a,b){a="function"==typeof a?
(new a).getBehaviours(b):a.getBehaviours(b);this.addBehaviours(a)};this.getBehaviours=function(a){if(!a)return this.$behaviours;for(var b={},f=0;f<a.length;f++)this.$behaviours[a[f]]&&(b[a[f]]=this.$behaviours[a[f]]);return b}}).call(b.prototype);n.Behaviour=b});
define("ace/token_iterator",["require","exports","module","ace/range"],function(b,n,u){var a=b("./range").Range;b=function(a,b,g){this.$session=a;this.$row=b;this.$rowTokens=a.getTokens(b);this.$tokenIndex=(a=a.getTokenAt(b,g))?a.index:-1};(function(){this.stepBackward=function(){for(--this.$tokenIndex;0>this.$tokenIndex;){--this.$row;if(0>this.$row)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};
this.stepForward=function(){this.$tokenIndex+=1;for(var a;this.$tokenIndex>=this.$rowTokens.length;){this.$row+=1;a||(a=this.$session.getLength());if(this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var a=this.$rowTokens,b=this.$tokenIndex,
g=a[b].start;if(void 0!==g)return g;for(g=0;0<b;)--b,g+=a[b].value.length;return g};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var b=this.$rowTokens[this.$tokenIndex],f=this.getCurrentTokenColumn();return new a(this.$row,f,this.$row,f+b.value.length)}}).call(b.prototype);n.TokenIterator=b});
define("ace/mode/behaviour/cstyle","require exports module ace/lib/oop ace/mode/behaviour ace/token_iterator ace/lib/lang".split(" "),function(b,n,u){u=b("../../lib/oop");var a=b("../behaviour").Behaviour,d=b("../../token_iterator").TokenIterator,f=b("../../lib/lang"),g=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],h,k={},m={'"':'"',"'":"'"},e=function(a){var b=-1;a.multiSelect&&(b=a.selection.index,k.rangeCount!=a.multiSelect.rangeCount&&
(k={rangeCount:a.multiSelect.rangeCount}));if(k[b])return h=k[b];h=k[b]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},l=function(a,b,c,e){var d=a.end.row-a.start.row;return{text:c+b+e,selection:[0,a.start.column+1,d,a.end.column+(d?0:1)]}},q=function(a){this.add("braces","insertion",function(b,c,d,g,k){b=d.getCursorPosition();c=g.doc.getLine(b.row);if("{"==k){e(d);k=d.getSelectionRange();
var m=g.doc.getTextRange(k);if(""!==m&&"{"!==m&&d.getWrapBehavioursEnabled())return l(k,m,"{","}");if(q.isSaneInsertion(d,g))return/[\]\}\)]/.test(c[b.column])||d.inMultiSelectMode||a&&a.braces?(q.recordAutoInsert(d,g,"}"),{text:"{}",selection:[1,1]}):(q.recordMaybeInsert(d,g,"{"),{text:"{",selection:[1,1]})}else if("}"==k){if(e(d),m=c.substring(b.column,b.column+1),"}"==m&&null!==g.$findOpeningBracket("}",{column:b.column+1,row:b.row})&&q.isAutoInsertedClosing(b,c,k))return q.popAutoInsertedClosing(),
{text:"",selection:[1,1]}}else{if("\n"==k||"\r\n"==k){e(d);d="";q.isMaybeInsertedClosing(b,c)&&(d=f.stringRepeat("}",h.maybeInsertedBrackets),q.clearMaybeInsertedClosing());m=c.substring(b.column,b.column+1);if("}"===m){b=g.findMatchingBracket({row:b.row,column:b.column+1},"}");if(!b)return null;b=this.$getIndent(g.getLine(b.row))}else{if(!d){q.clearMaybeInsertedClosing();return}b=this.$getIndent(c)}g=b+g.getTabString();return{text:"\n"+g+"\n"+b+d,selection:[1,g.length,1,g.length]}}q.clearMaybeInsertedClosing()}});
this.add("braces","deletion",function(a,b,c,d,f){a=d.doc.getTextRange(f);if(!f.isMultiLine()&&"{"==a){e(c);if("}"==d.doc.getLine(f.start.row).substring(f.end.column,f.end.column+1))return f.end.column++,f;h.maybeInsertedBrackets--}});this.add("parens","insertion",function(a,b,c,d,f){if("("==f){e(c);f=c.getSelectionRange();a=d.doc.getTextRange(f);if(""!==a&&c.getWrapBehavioursEnabled())return l(f,a,"(",")");if(q.isSaneInsertion(c,d))return q.recordAutoInsert(c,d,")"),{text:"()",selection:[1,1]}}else if(")"==
f&&(e(c),c=c.getCursorPosition(),a=d.doc.getLine(c.row),")"==a.substring(c.column,c.column+1)&&null!==d.$findOpeningBracket(")",{column:c.column+1,row:c.row})&&q.isAutoInsertedClosing(c,a,f)))return q.popAutoInsertedClosing(),{text:"",selection:[1,1]}});this.add("parens","deletion",function(a,b,c,d,f){a=d.doc.getTextRange(f);if(!f.isMultiLine()&&"("==a&&(e(c),")"==d.doc.getLine(f.start.row).substring(f.start.column+1,f.start.column+2)))return f.end.column++,f});this.add("brackets","insertion",function(a,
b,c,d,f){if("["==f){e(c);f=c.getSelectionRange();a=d.doc.getTextRange(f);if(""!==a&&c.getWrapBehavioursEnabled())return l(f,a,"[","]");if(q.isSaneInsertion(c,d))return q.recordAutoInsert(c,d,"]"),{text:"[]",selection:[1,1]}}else if("]"==f&&(e(c),c=c.getCursorPosition(),a=d.doc.getLine(c.row),"]"==a.substring(c.column,c.column+1)&&null!==d.$findOpeningBracket("]",{column:c.column+1,row:c.row})&&q.isAutoInsertedClosing(c,a,f)))return q.popAutoInsertedClosing(),{text:"",selection:[1,1]}});this.add("brackets",
"deletion",function(a,b,c,d,f){a=d.doc.getTextRange(f);if(!f.isMultiLine()&&"["==a&&(e(c),"]"==d.doc.getLine(f.start.row).substring(f.start.column+1,f.start.column+2)))return f.end.column++,f});this.add("string_dquotes","insertion",function(a,b,c,d,f){a=d.$mode.$quotes||m;if(1==f.length&&a[f]&&(!this.lineCommentStart||-1==this.lineCommentStart.indexOf(f))){e(c);b=c.getSelectionRange();var g=d.doc.getTextRange(b);if(""!==g&&(1!=g.length||!a[g])&&c.getWrapBehavioursEnabled())return l(b,g,f,f);if(!g){b=
c.getCursorPosition();a=d.doc.getLine(b.row);c=a.substring(b.column-1,b.column);a=a.substring(b.column,b.column+1);g=d.getTokenAt(b.row,b.column);b=d.getTokenAt(b.row,b.column+1);if("\\"==c&&g&&/escape/.test(g.type))return null;g=g&&/string|escape/.test(g.type);var h=!b||/string|escape/.test(b.type);if(a==f)(d=g!==h)&&/string\.end/.test(b.type)&&(d=!1);else{if(g&&!h||g&&h)return null;b=d.$mode.tokenRe;b.lastIndex=0;d=b.test(c);b.lastIndex=0;c=b.test(c);if(d||c||a&&!/[\s;,.})\]\\]/.test(a))return null;
d=!0}return{text:d?f+f:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(a,b,c,d,f){a=d.doc.getTextRange(f);if(!f.isMultiLine()&&('"'==a||"'"==a)&&(e(c),d.doc.getLine(f.start.row).substring(f.start.column+1,f.start.column+2)==a))return f.end.column++,f})};q.isSaneInsertion=function(a,b){a=a.getCursorPosition();var e=new d(b,a.row,a.column);return this.$matchTokenType(e.getCurrentToken()||"text",g)||(b=new d(b,a.row,a.column+1),this.$matchTokenType(b.getCurrentToken()||"text",g))?
(e.stepForward(),e.getCurrentTokenRow()!==a.row||this.$matchTokenType(e.getCurrentToken()||"text",c)):!1};q.$matchTokenType=function(a,b){return-1<b.indexOf(a.type||a)};q.recordAutoInsert=function(a,b,c){a=a.getCursorPosition();b=b.doc.getLine(a.row);this.isAutoInsertedClosing(a,b,h.autoInsertedLineEnd[0])||(h.autoInsertedBrackets=0);h.autoInsertedRow=a.row;h.autoInsertedLineEnd=c+b.substr(a.column);h.autoInsertedBrackets++};q.recordMaybeInsert=function(a,b,c){a=a.getCursorPosition();b=b.doc.getLine(a.row);
this.isMaybeInsertedClosing(a,b)||(h.maybeInsertedBrackets=0);h.maybeInsertedRow=a.row;h.maybeInsertedLineStart=b.substr(0,a.column)+c;h.maybeInsertedLineEnd=b.substr(a.column);h.maybeInsertedBrackets++};q.isAutoInsertedClosing=function(a,b,c){return 0<h.autoInsertedBrackets&&a.row===h.autoInsertedRow&&c===h.autoInsertedLineEnd[0]&&b.substr(a.column)===h.autoInsertedLineEnd};q.isMaybeInsertedClosing=function(a,b){return 0<h.maybeInsertedBrackets&&a.row===h.maybeInsertedRow&&b.substr(a.column)===h.maybeInsertedLineEnd&&
b.substr(0,a.column)==h.maybeInsertedLineStart};q.popAutoInsertedClosing=function(){h.autoInsertedLineEnd=h.autoInsertedLineEnd.substr(1);h.autoInsertedBrackets--};q.clearMaybeInsertedClosing=function(){h&&(h.maybeInsertedBrackets=0,h.maybeInsertedRow=-1)};u.inherits(q,a);n.CstyleBehaviour=q});
define("ace/unicode",["require","exports","module"],function(b,n,u){n.packages={};b={L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"};
u=/\w{4}/g;for(var a in b)n.packages[a]=b[a].replace(u,"\\u$&")});
define("ace/mode/text","require exports module ace/tokenizer ace/mode/text_highlight_rules ace/mode/behaviour/cstyle ace/unicode ace/lib/lang ace/token_iterator ace/range".split(" "),function(b,n,u){var a=b("../tokenizer").Tokenizer,d=b("./text_highlight_rules").TextHighlightRules,f=b("./behaviour/cstyle").CstyleBehaviour,g=b("../unicode"),c=b("../lib/lang"),h=b("../token_iterator").TokenIterator,k=b("../range").Range;b=function(){this.HighlightRules=d};(function(){this.$defaultBehaviour=new f;this.tokenRe=
new RegExp("^["+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"\\$_]|\\s])+","g");this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new a(this.$highlightRules.getRules())),this.$tokenizer};this.blockComment=this.lineCommentStart="";this.toggleCommentLines=
function(a,b,d,f){function e(a){for(var b=d;b<=f;b++)a(g.getLine(b),b)}var g=b.doc,h=!0,k=!0,m=Infinity,l=b.getTabSize();a=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(u=this.lineCommentStart.map(c.escapeRegExp).join("|"),G=this.lineCommentStart[0]):(u=c.escapeRegExp(this.lineCommentStart),G=this.lineCommentStart);u=new RegExp("^(\\s*)(?:"+u+") ?");a=b.getUseSoftTabs();Q=function(a,b){var c=a.match(u);if(c){var e=c[1].length,d=c[0].length;!n(a,e,d)&&" "==c[0][d-1]&&d--;g.removeInLine(b,
e,d)}};var q=G+" ";D=function(a,b){if(!h||/\S/.test(a))n(a,m,m)?g.insertInLine({row:b,column:m},q):g.insertInLine({row:b,column:m},G)};O=function(a,b){return u.test(a)};var n=function(a,b,c){for(var e=0;b--&&" "==a.charAt(b);)e++;if(0!=e%l)return!1;for(e=0;" "==a.charAt(c++);)e++;return 2<l?e%l!=l-1:0==e%l}}else{if(!this.blockComment)return!1;var G=this.blockComment.start,F=this.blockComment.end,u=new RegExp("^(\\s*)(?:"+c.escapeRegExp(G)+")"),E=new RegExp("(?:"+c.escapeRegExp(F)+")\\s*$"),D=function(a,
b){O(a,b)||h&&!/\S/.test(a)||(g.insertInLine({row:b,column:a.length},F),g.insertInLine({row:b,column:m},G))},Q=function(a,b){var c;(c=a.match(E))&&g.removeInLine(b,a.length-c[0].length,a.length);(c=a.match(u))&&g.removeInLine(b,c[1].length,c[0].length)},O=function(a,c){if(u.test(a))return!0;a=b.getTokens(c);for(c=0;c<a.length;c++)if("comment"===a[c].type)return!0}}var M=Infinity;e(function(a,b){var c=a.search(/\S/);-1!==c?(c<m&&(m=c),k&&!O(a,b)&&(k=!1)):M>a.length&&(M=a.length)});Infinity==m&&(m=
M,h=!1,k=!1);a&&0!=m%l&&(m=Math.floor(m/l)*l);e(k?Q:D)};this.toggleBlockComment=function(a,b,c,d){if(a=this.blockComment){!a.start&&a[0]&&(a=a[0]);var e=new h(b,d.row,d.column),f=e.getCurrentToken(),g=b.selection.toOrientedRange(),m,l;if(f&&/comment/.test(f.type)){for(var q,y;f&&/comment/.test(f.type);){f=f.value.indexOf(a.start);if(-1!=f){c=e.getCurrentTokenRow();e=e.getCurrentTokenColumn()+f;q=new k(c,e,c,e+a.start.length);break}f=e.stepBackward()}e=new h(b,d.row,d.column);for(f=e.getCurrentToken();f&&
/comment/.test(f.type);){f=f.value.indexOf(a.end);if(-1!=f){c=e.getCurrentTokenRow();e=e.getCurrentTokenColumn()+f;y=new k(c,e,c,e+a.end.length);break}f=e.stepForward()}y&&b.remove(y);q&&(b.remove(q),m=q.start.row,l=-a.start.length)}else l=a.start.length,m=c.start.row,b.insert(c.end,a.end),b.insert(c.start,a.start);g.start.row==m&&(g.start.column+=l);g.end.row==m&&(g.end.column+=l);b.selection.fromOrientedRange(g)}};this.getNextLineIndent=function(a,b,c){return this.$getIndent(b)};this.checkOutdent=
function(a,b,c){return!1};this.autoOutdent=function(a,b,c){};this.$getIndent=function(a){return a.match(/^\s*/)[0]};this.createWorker=function(a){return null};this.createModeDelegates=function(a){this.$embeds=[];this.$modes={};for(var b in a)a[b]&&(this.$embeds.push(b),this.$modes[b]=new a[b]);var c="toggleBlockComment toggleCommentLines getNextLineIndent checkOutdent autoOutdent transformAction getCompletions".split(" ");for(b=0;b<c.length;b++)(function(a){var e=c[b],d=a[e];a[c[b]]=function(){return this.$delegator(e,
arguments,d)}})(this)};this.$delegator=function(a,b,c){var e=b[0];"string"!=typeof e&&(e=e[0]);for(var d=0;d<this.$embeds.length;d++)if(this.$modes[this.$embeds[d]]){var f=e.split(this.$embeds[d]);if(!f[0]&&f[1])return b[0]=f[1],c=this.$modes[this.$embeds[d]],c[a].apply(c,b)}a=c.apply(this,b);return c?a:void 0};this.transformAction=function(a,b,c,d,f){if(this.$behaviour){var e=this.$behaviour.getBehaviours(),g;for(g in e)if(e[g][b]){var h=e[g][b].apply(this,arguments);if(h)return h}}};this.getKeywords=
function(a){if(!this.completionKeywords){var b=this.$tokenizer.rules,c=[];for(m in b)for(var d=b[m],f=0,g=d.length;f<g;f++)if("string"==typeof d[f].token)/keyword|support|storage/.test(d[f].token)&&c.push(d[f].regex);else if("object"==typeof d[f].token)for(var h=0,k=d[f].token.length;h<k;h++)if(/keyword|support|storage/.test(d[f].token[h])){var m=d[f].regex.match(/\(.+?\)/g)[h];c.push(m.substr(1,m.length-2))}this.completionKeywords=c}return a?c.concat(this.$keywordList||[]):this.$keywordList};this.$createKeywordList=
function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(a,b,c,d){return(this.$keywordList||this.$createKeywordList()).map(function(a){return{name:a,value:a,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(b.prototype);n.Mode=b});
define("ace/apply_delta",["require","exports","module"],function(b,n,u){n.applyDelta=function(a,b,f){f=b.start.row;var d=b.start.column,c=a[f]||"";switch(b.action){case "insert":if(1===b.lines.length)a[f]=c.substring(0,d)+b.lines[0]+c.substring(d);else{var h=[f,1].concat(b.lines);a.splice.apply(a,h);a[f]=c.substring(0,d)+a[f];a[f+b.lines.length-1]+=c.substring(d)}break;case "remove":h=b.end.column,b=b.end.row,f===b?a[f]=c.substring(0,d)+c.substring(h):a.splice(f,b-f+1,c.substring(0,d)+a[b].substring(h))}}});
define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(b,n,u){var a=b("./lib/oop"),d=b("./lib/event_emitter").EventEmitter;b=n.Anchor=function(a,b,c){this.$onChange=this.onChange.bind(this);this.attach(a);"undefined"==typeof c?this.setPosition(b.row,b.column):this.setPosition(b,c)};(function(){function b(a,b,d){d=d?a.column<=b.column:a.column<b.column;return a.row<b.row||a.row==b.row&&d}a.implement(this,d);this.getPosition=function(){return this.$clipPositionToDocument(this.row,
this.column)};this.getDocument=function(){return this.document};this.$insertRight=!1;this.onChange=function(a){if(!(a.start.row==a.end.row&&a.start.row!=this.row||a.start.row>this.row)){var c={row:this.row,column:this.column};var d=this.$insertRight,f="insert"==a.action,g=(f?1:-1)*(a.end.row-a.start.row),e=(f?1:-1)*(a.end.column-a.start.column),l=a.start;a=f?l:a.end;c=b(c,l,d)?{row:c.row,column:c.column}:b(a,c,!d)?{row:c.row+g,column:c.column+(c.row==a.row?e:0)}:{row:l.row,column:l.column};this.setPosition(c.row,
c.column,!0)}};this.setPosition=function(a,b,d){var c;d?c={row:a,column:b}:c=this.$clipPositionToDocument(a,b);if(this.row!=c.row||this.column!=c.column)a={row:this.row,column:this.column},this.row=c.row,this.column=c.column,this._signal("change",{old:a,value:c})};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.attach=function(a){this.document=a||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(a,b){var c={};return a>=
this.document.getLength()?(c.row=Math.max(0,this.document.getLength()-1),c.column=this.document.getLine(c.row).length):0>a?(c.row=0,c.column=0):(c.row=a,c.column=Math.min(this.document.getLine(c.row).length,Math.max(0,b))),0>b&&(c.column=0),c}}).call(b.prototype)});
define("ace/document","require exports module ace/lib/oop ace/apply_delta ace/lib/event_emitter ace/range ace/anchor".split(" "),function(b,n,u){var a=b("./lib/oop"),d=b("./apply_delta").applyDelta,f=b("./lib/event_emitter").EventEmitter,g=b("./range").Range,c=b("./anchor").Anchor;b=function(a){this.$lines=[""];0===a.length?this.$lines=[""]:Array.isArray(a)?this.insertMergedLines({row:0,column:0},a):this.insert({row:0,column:0},a)};(function(){a.implement(this,f);this.setValue=function(a){var b=this.getLength()-
1;this.remove(new g(0,0,b,this.getLine(b).length));this.insert({row:0,column:0},a)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(a,b){return new c(this,a,b)};0==="aaa".split(/a/).length?this.$split=function(a){return a.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(a){return a.split(/\r\n|\r|\n/)};this.$detectNewLine=function(a){this.$autoNewLine=(a=a.match(/^.*?(\r\n|\r|\n)/m))?a[1]:"\n";this._signal("changeNewLineMode")};
this.getNewLineCharacter=function(){switch(this.$newLineMode){case "windows":return"\r\n";case "unix":return"\n";default:return this.$autoNewLine||"\n"}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(a){this.$newLineMode!==a&&(this.$newLineMode=a,this._signal("changeNewLineMode"))};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(a){return"\r\n"==a||"\r"==a||"\n"==a};this.getLine=function(a){return this.$lines[a]||""};this.getLines=function(a,
b){return this.$lines.slice(a,b+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(a){return this.getLinesForRange(a).join(this.getNewLineCharacter())};this.getLinesForRange=function(a){if(a.start.row===a.end.row)var b=[this.getLine(a.start.row).substring(a.start.column,a.end.column)];else{b=this.getLines(a.start.row,a.end.row);b[0]=(b[0]||"").substring(a.start.column);var c=b.length-1;a.end.row-
a.start.row==c&&(b[c]=b[c].substring(0,a.end.column))}return b};this.insertLines=function(a,b){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(a,b)};this.removeLines=function(a,b){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(a,b)};this.insertNewLine=function(a){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),
this.insertMergedLines(a,["",""])};this.insert=function(a,b){return 1>=this.getLength()&&this.$detectNewLine(b),this.insertMergedLines(a,this.$split(b))};this.insertInLine=function(a,b){var c=this.clippedPos(a.row,a.column);a=this.pos(a.row,a.column+b.length);return this.applyDelta({start:c,end:a,action:"insert",lines:[b]},!0),this.clonePos(a)};this.clippedPos=function(a,b){var c=this.getLength();void 0===a?a=c:0>a?a=0:a>=c&&(a=c-1,b=void 0);c=this.getLine(a);return void 0==b&&(b=c.length),b=Math.min(Math.max(b,
0),c.length),{row:a,column:b}};this.clonePos=function(a){return{row:a.row,column:a.column}};this.pos=function(a,b){return{row:a,column:b}};this.$clipPosition=function(a){var b=this.getLength();return a.row>=b?(a.row=Math.max(0,b-1),a.column=this.getLine(b-1).length):(a.row=Math.max(0,a.row),a.column=Math.min(Math.max(a.column,0),this.getLine(a.row).length)),a};this.insertFullLines=function(a,b){a=Math.min(Math.max(a,0),this.getLength());var c=0;a<this.getLength()?(b=b.concat([""]),c=0):(b=[""].concat(b),
a--,c=this.$lines[a].length);this.insertMergedLines({row:a,column:c},b)};this.insertMergedLines=function(a,b){a=this.clippedPos(a.row,a.column);var c={row:a.row+b.length-1,column:(1==b.length?a.column:0)+b[b.length-1].length};return this.applyDelta({start:a,end:c,action:"insert",lines:b}),this.clonePos(c)};this.remove=function(a){var b=this.clippedPos(a.start.row,a.start.column);a=this.clippedPos(a.end.row,a.end.column);return this.applyDelta({start:b,end:a,action:"remove",lines:this.getLinesForRange({start:b,
end:a})}),this.clonePos(b)};this.removeInLine=function(a,b,c){b=this.clippedPos(a,b);a=this.clippedPos(a,c);return this.applyDelta({start:b,end:a,action:"remove",lines:this.getLinesForRange({start:b,end:a})},!0),this.clonePos(b)};this.removeFullLines=function(a,b){a=Math.min(Math.max(0,a),this.getLength()-1);b=Math.min(Math.max(0,b),this.getLength()-1);var c=b==this.getLength()-1&&0<a,e=b<this.getLength()-1,d=c?a-1:a;c=c?this.getLine(d).length:0;var f=e?b+1:b;e=e?0:this.getLine(f).length;d=new g(d,
c,f,e);a=this.$lines.slice(a,b+1);return this.applyDelta({start:d.start,end:d.end,action:"remove",lines:this.getLinesForRange(d)}),a};this.removeNewLine=function(a){a<this.getLength()-1&&0<=a&&this.applyDelta({start:this.pos(a,this.getLine(a).length),end:this.pos(a+1,0),action:"remove",lines:["",""]})};this.replace=function(a,b){a instanceof g||(a=g.fromPoints(a.start,a.end));if(0===b.length&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;this.remove(a);var c;return b?c=this.insert(a.start,
b):c=a.start,c};this.applyDeltas=function(a){for(var b=0;b<a.length;b++)this.applyDelta(a[b])};this.revertDeltas=function(a){for(var b=a.length-1;0<=b;b--)this.revertDelta(a[b])};this.applyDelta=function(a,b){var c="insert"==a.action;(c?1>=a.lines.length&&!a.lines[0]:!g.comparePoints(a.start,a.end))||(c&&2E4<a.lines.length&&this.$splitAndapplyLargeDelta(a,2E4),d(this.$lines,a,b),this._signal("change",a))};this.$splitAndapplyLargeDelta=function(a,b){var c=a.lines,e=c.length,d=a.start.row,f=a.start.column,
g=0;do{var h=g;g+=b-1;var k=c.slice(h,g);if(g>e){a.lines=k;a.start.row=d+h;a.start.column=f;break}k.push("");this.applyDelta({start:this.pos(d+h,f),end:this.pos(d+g,f=0),action:a.action,lines:k},!0)}while(1)};this.revertDelta=function(a){this.applyDelta({start:this.clonePos(a.start),end:this.clonePos(a.end),action:"insert"==a.action?"remove":"insert",lines:a.lines.slice()})};this.indexToPosition=function(a,b){var c=this.$lines||this.getAllLines(),e=this.getNewLineCharacter().length;b=b||0;for(var d=
c.length;b<d;b++)if(a-=c[b].length+e,0>a)return{row:b,column:a+c[b].length+e};return{row:d-1,column:c[d-1].length}};this.positionToIndex=function(a,b){var c=this.$lines||this.getAllLines(),e=this.getNewLineCharacter().length,d=0,f=Math.min(a.row,c.length);for(b=b||0;b<f;++b)d+=c[b].length+e;return d+a.column}}).call(b.prototype);n.Document=b});
define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(b,n,u){var a=b("./lib/oop"),d=b("./lib/event_emitter").EventEmitter;b=function(a,b){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=a;var c=this;this.$worker=function(){if(c.running){for(var a=new Date,b=c.currentLine,d=-1,e=c.doc,f=b;c.lines[b];)b++;e=e.getLength();var g=0;for(c.running=!1;b<e;){c.$tokenizeRow(b);d=b;do b++;while(c.lines[b]);g++;if(0===g%
5&&20<new Date-a){c.running=setTimeout(c.$worker,20);break}}c.currentLine=b;-1==d&&(d=b);f<=d&&c.fireUpdateEvent(f,d)}}};(function(){a.implement(this,d);this.setTokenizer=function(a){this.tokenizer=a;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(a){this.doc=a;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(a,b){this._signal("update",{data:{first:a,last:b}})};this.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength());
this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))};this.$updateOnChange=function(a){var b=a.start.row,c=a.end.row-b;0===c?this.lines[b]=null:"remove"==a.action?(this.lines.splice(b,c+1,null),this.states.splice(b,c+1,null)):(a=Array(c+1),a.unshift(b,1),this.lines.splice.apply(this.lines,a),this.states.splice.apply(this.states,
a));this.currentLine=Math.min(b,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){this.running&&clearTimeout(this.running);this.running=!1};this.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)};this.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"};this.$tokenizeRow=function(a){var b=this.doc.getLine(a);b=this.tokenizer.getLineTokens(b,this.states[a-1],a);return this.states[a]+""!=b.state+""?(this.states[a]=b.state,
this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=b.tokens}}).call(b.prototype);n.BackgroundTokenizer=b});
define("ace/search_highlight","require exports module ace/lib/lang ace/lib/oop ace/range".split(" "),function(b,n,u){var a=b("./lib/lang");b("./lib/oop");var d=b("./range").Range;b=function(a,b,c){this.setRegexp(a);this.clazz=b;this.type=c||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(a){this.regExp+""!=a+""&&(this.regExp=a,this.cache=[])};this.update=function(b,g,c,h){if(this.regExp)for(var f=h.lastRow,m=h.firstRow;m<=f;m++){var e=this.cache[m];null==e&&(e=a.getMatchOffsets(c.getLine(m),
this.regExp),e.length>this.MAX_RANGES&&(e=e.slice(0,this.MAX_RANGES)),e=e.map(function(a){return new d(m,a.offset,m,a.offset+a.length)}),this.cache[m]=e.length?e:"");for(var l=e.length;l--;)g.drawSingleLineMarker(b,e[l].toScreenRange(c),this.clazz,h)}}}).call(b.prototype);n.SearchHighlight=b});
define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(b,n,u){function a(a,b){this.foldData=a;Array.isArray(b)?this.folds=b:b=this.folds=[b];a=b[b.length-1];this.range=new d(b[0].start.row,b[0].start.column,a.end.row,a.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(a){a.setFoldLine(this)},this)}var d=b("../range").Range;(function(){this.shiftRow=function(a){this.start.row+=a;this.end.row+=a;this.folds.forEach(function(b){b.start.row+=
a;b.end.row+=a})};this.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(a);this.folds.sort(function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)});0<this.range.compareEnd(a.start.row,a.start.column)?(this.end.row=a.end.row,this.end.column=a.end.column):0>this.range.compareStart(a.end.row,a.end.column)&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==
this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else{if(a.end.row!=this.start.row)throw Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(a);this.start.row=a.start.row;this.start.column=a.start.column}a.foldLine=this};this.containsRow=function(a){return a>=this.start.row&&a<=this.end.row};this.walk=function(a,b,c){var d=0,f=this.folds;var g=!0;null==b&&(b=this.end.row,c=this.end.column);for(var e=0;e<f.length;e++){var l=
f[e];var q=l.range.compareStart(b,c);if(-1==q){a(null,b,c,d,g);return}g=a(null,l.start.row,l.start.column,d,g);if((g=!g&&a(l.placeholder,l.start.row,l.start.column,d))||0===q)return;g=!l.sameRow;d=l.end.column}a(null,b,c,d,g)};this.getNextFoldTo=function(a,b){for(var c,d,f=0;f<this.folds.length;f++){c=this.folds[f];d=c.range.compareEnd(a,b);if(-1==d)return{fold:c,kind:"after"};if(0===d)return{fold:c,kind:"inside"}}return null};this.addRemoveChars=function(a,b,c){var d=this.getNextFoldTo(a,b);if(d){var f=
d.fold;if("inside"==d.kind&&f.start.column!=b&&f.start.row!=a)window.console&&window.console.log(a,b,f);else if(f.start.row==a){a=this.folds;b=a.indexOf(f);0===b&&(this.start.column+=c);for(b;b<a.length;b++){f=a[b];f.start.column+=c;if(!f.sameRow)return;f.end.column+=c}this.end.column+=c}}};this.split=function(b,d){var c=this.getNextFoldTo(b,d);if(!c||"inside"==c.kind)return null;d=this.folds;b=this.foldData;c=d.indexOf(c.fold);var f=d[c-1];this.end.row=f.end.row;this.end.column=f.end.column;d=d.splice(c,
d.length-c);d=new a(b,d);return b.splice(b.indexOf(this)+1,0,d),d};this.merge=function(a){for(var b=a.folds,c=0;c<b.length;c++)this.addFold(b[c]);b=this.foldData;b.splice(b.indexOf(a),1)};this.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(b){a.push("  "+b.toString())}),a.push("]"),a.join("\n")};this.idxToPosition=function(a){for(var b=0,c=0;c<this.folds.length;c++){var d=this.folds[c];a-=d.start.column-b;if(0>a)return{row:d.start.row,column:d.start.column+
a};a-=d.placeholder.length;if(0>a)return d.start;b=d.end.column}return{row:this.end.row,column:this.end.column+a}}}).call(a.prototype);n.FoldLine=a});
define("ace/range_list",["require","exports","module","ace/range"],function(b,n,u){var a=b("./range").Range.comparePoints;b=function(){this.ranges=[]};(function(){this.comparePoints=a;this.pointIndex=function(b,f,g){var c=this.ranges;for(g=g||0;g<c.length;g++){var d=c[g],k=a(b,d.end);if(!(0<k))return b=a(b,d.start),0===k?f&&0!==b?-g-2:g:0<b||0===b&&!f?g:-g-1}return-g-1};this.add=function(a){var b=!a.isEmpty(),d=this.pointIndex(a.start,b);0>d&&(d=-d-1);b=this.pointIndex(a.end,b,d);return 0>b?b=-b-
1:b++,this.ranges.splice(d,b-d,a)};this.addList=function(a){for(var b=[],d=a.length;d--;)b.push.apply(b,this.add(a[d]));return b};this.substractPoint=function(a){a=this.pointIndex(a);if(0<=a)return this.ranges.splice(a,1)};this.merge=function(){var b=[],f=this.ranges;f=f.sort(function(b,c){return a(b.start,c.start)});for(var g=f[0],c,h=1;h<f.length;h++){c=g;g=f[h];var k=a(c.end,g.start);0>k||0==k&&!c.isEmpty()&&!g.isEmpty()||(0>a(c.end,g.end)&&(c.end.row=g.end.row,c.end.column=g.end.column),f.splice(h,
1),b.push(g),g=c,h--)}return this.ranges=f,b};this.contains=function(a,b){return 0<=this.pointIndex({row:a,column:b})};this.containsPoint=function(a){return 0<=this.pointIndex(a)};this.rangeAtPoint=function(a){a=this.pointIndex(a);if(0<=a)return this.ranges[a]};this.clipRows=function(a,b){var d=this.ranges;if(d[0].start.row>b||d[d.length-1].start.row<a)return[];a=this.pointIndex({row:a,column:0});0>a&&(a=-a-1);b=this.pointIndex({row:b,column:0},a);0>b&&(b=-b-1);for(var c=[];a<b;a++)c.push(d[a]);return c};
this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(a){this.session&&this.detach();this.session=a;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)};this.$onChange=function(a){if("insert"==a.action)var b=a.start,d=a.end;else d=a.start,b=a.end;a=b.row;var c=d.row-a;d=-b.column+d.column;for(var h=this.ranges,k=0,m=h.length;k<
m;k++){var e=h[k];if(!(e.end.row<a)){if(e.start.row>a)break;e.start.row==a&&e.start.column>=b.column&&(e.start.column!=b.column||!this.$insertRight)&&(e.start.column+=d,e.start.row+=c);e.end.row==a&&e.end.column>=b.column&&(e.end.column!=b.column||!this.$insertRight)&&(e.end.column==b.column&&0<d&&k<m-1&&e.end.column>e.start.column&&e.end.column==h[k+1].start.column&&(e.end.column-=d),e.end.column+=d,e.end.row+=c)}}if(0!=c&&k<m)for(;k<m;k++)e=h[k],e.start.row+=c,e.end.row+=c}}).call(b.prototype);
n.RangeList=b});
define("ace/edit_session/fold","require exports module ace/range ace/range_list ace/lib/oop".split(" "),function(b,n,u){function a(a,b){a.row-=b.row;0==a.row&&(a.column-=b.column)}function d(a,b){0==a.row&&(a.column+=b.column);a.row+=b.row}b("../range");u=b("../range_list").RangeList;b=b("../lib/oop");var f=n.Fold=function(a,b){this.foldLine=null;this.placeholder=b;this.range=a;this.start=a.start;this.end=a.end;this.sameRow=a.start.row==a.end.row;this.subFolds=this.ranges=[]};b.inherits(f,u);(function(){this.toString=
function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(a){this.foldLine=a;this.subFolds.forEach(function(b){b.setFoldLine(a)})};this.clone=function(){var a=this.range.clone(),b=new f(a,this.placeholder);return this.subFolds.forEach(function(a){b.subFolds.push(a.clone())}),b.collapseChildren=this.collapseChildren,b};this.addSubFold=function(b){if(!this.range.isEqual(b)){if(!this.range.containsRange(b))throw Error("A fold can't intersect already existing fold"+b.range+
this.range);var c=this.start;a(b.start,c);a(b.end,c);var d=b.start.row,f=b.start.column;c=0;for(var g=-1;c<this.subFolds.length&&(g=this.subFolds[c].range.compare(d,f),1==g);c++);d=this.subFolds[c];if(0==g)return d.addSubFold(b);d=b.range.end.row;f=b.range.end.column;var e=c;for(g=-1;e<this.subFolds.length&&(g=this.subFolds[e].range.compare(d,f),1==g);e++);if(0==g)throw Error("A fold can't intersect already existing fold"+b.range+this.range);this.subFolds.splice(c,e-c,b);return b.setFoldLine(this.foldLine),
b}};this.restoreRange=function(a){var b=this.start;d(a.start,b);d(a.end,b)}}).call(f.prototype)});
define("ace/edit_session/folding","require exports module ace/range ace/edit_session/fold_line ace/edit_session/fold ace/token_iterator".split(" "),function(b,n,u){var a=b("../range").Range,d=b("./fold_line").FoldLine,f=b("./fold").Fold,g=b("../token_iterator").TokenIterator;n.Folding=function(){this.getFoldAt=function(a,b,d){var c=this.getFoldLine(a);if(!c)return null;c=c.folds;for(var e=0;e<c.length;e++){var f=c[e];if(!(!f.range.contains(a,b)||1==d&&f.range.isEnd(a,b)||-1==d&&f.range.isStart(a,
b)))return f}};this.getFoldsInRange=function(a){var b=a.start,c=a.end,d=this.$foldData,e=[];b.column+=1;--c.column;for(var f=0;f<d.length;f++){var g=d[f].range.compareRange(a);if(2!=g){if(-2==g)break;for(var n=d[f].folds,z=0;z<n.length;z++){var t=n[z];g=t.range.compareRange(a);if(-2==g)break;if(2!=g){if(42==g)break;e.push(t)}}}}return--b.column,c.column+=1,e};this.getFoldsInRangeList=function(a){if(Array.isArray(a)){var b=[];a.forEach(function(a){b=b.concat(this.getFoldsInRange(a))},this)}else b=
this.getFoldsInRange(a);return b};this.getAllFolds=function(){for(var a=[],b=this.$foldData,d=0;d<b.length;d++)for(var f=0;f<b[d].folds.length;f++)a.push(b[d].folds[f]);return a};this.getFoldStringAt=function(a,b,d,f){f=f||this.getFoldLine(a);if(!f)return null;for(var c={end:{column:0}},g,h,k=0;k<f.folds.length;k++){h=f.folds[k];var m=h.range.compareEnd(a,b);if(-1==m){g=this.getLine(h.start.row).substring(c.end.column,h.start.column);break}if(0===m)return null;c=h}return g||(g=this.getLine(h.start.row).substring(c.end.column)),
-1==d?g.substring(0,b-c.end.column):1==d?g.substring(b-c.end.column):g};this.getFoldLine=function(a,b){var c=this.$foldData,d=0;b&&(d=c.indexOf(b));-1==d&&(d=0);for(d;d<c.length;d++){b=c[d];if(b.start.row<=a&&b.end.row>=a)return b;if(b.end.row>a)break}return null};this.getNextFoldLine=function(a,b){var c=this.$foldData,d=0;b&&(d=c.indexOf(b));-1==d&&(d=0);for(d;d<c.length;d++)if(b=c[d],b.end.row>=a)return b;return null};this.getFoldedRowCount=function(a,b){for(var c=this.$foldData,d=b-a+1,e=0;e<c.length;e++){var f=
c[e],g=f.end.row;f=f.start.row;if(g>=b){f<b&&(f>=a?d-=b-f:d=0);break}g>=a&&(f>=a?d-=g-f:d-=g-a+1)}return d};this.$addFoldLine=function(a){return this.$foldData.push(a),this.$foldData.sort(function(a,b){return a.start.row-b.start.row}),a};this.addFold=function(a,b){var c=this.$foldData,g=!1,e;a instanceof f?e=a:(e=new f(b,a),e.collapseChildren=b.collapseChildren);this.$clipRangeToDocument(e.range);b=e.start.row;var h=e.start.column;a=e.end.row;var q=e.end.column;if(b<a||b==a&&h<=q-2){var n=this.getFoldAt(b,
h,1),z=this.getFoldAt(a,q,-1);if(n&&z==n)return n.addSubFold(e);n&&!n.range.isStart(b,h)&&this.removeFold(n);z&&!z.range.isEnd(a,q)&&this.removeFold(z);h=this.getFoldsInRange(e.range);0<h.length&&(this.removeFolds(h),h.forEach(function(a){e.addSubFold(a)}));for(h=0;h<c.length;h++){var t=c[h];if(a==t.start.row){t.addFold(e);g=!0;break}if(b==t.end.row){t.addFold(e);g=!0;if(!e.sameRow&&(c=c[h+1])&&c.start.row==a){t.merge(c);break}break}if(a<=t.start.row)break}return g||(t=this.$addFoldLine(new d(this.$foldData,
e))),this.$useWrapMode?this.$updateWrapData(t.start.row,t.start.row):this.$updateRowLengthCache(t.start.row,t.start.row),this.$modified=!0,this._signal("changeFold",{data:e,action:"add"}),e}throw Error("The range has to be at least 2 characters width");};this.addFolds=function(a){a.forEach(function(a){this.addFold(a)},this)};this.removeFold=function(a){var b=a.foldLine,c=b.start.row,d=b.end.row,e=this.$foldData,f=b.folds;1==f.length?e.splice(e.indexOf(b),1):b.range.isEnd(a.end.row,a.end.column)?(f.pop(),
b.end.row=f[f.length-1].end.row,b.end.column=f[f.length-1].end.column):b.range.isStart(a.start.row,a.start.column)?(f.shift(),b.start.row=f[0].start.row,b.start.column=f[0].start.column):a.sameRow?f.splice(f.indexOf(a),1):(b=b.split(a.start.row,a.start.column),f=b.folds,f.shift(),b.start.row=f[0].start.row,b.start.column=f[0].start.column);this.$updating||(this.$useWrapMode?this.$updateWrapData(c,d):this.$updateRowLengthCache(c,d));this.$modified=!0;this._signal("changeFold",{data:a,action:"remove"})};
this.removeFolds=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);b.forEach(function(a){this.removeFold(a)},this);this.$modified=!0};this.expandFold=function(a){this.removeFold(a);a.subFolds.forEach(function(b){a.restoreRange(b);this.addFold(b)},this);0<a.collapseChildren&&this.foldAll(a.start.row+1,a.end.row,a.collapseChildren-1);a.subFolds=[]};this.expandFolds=function(a){a.forEach(function(a){this.expandFold(a)},this)};this.unfold=function(b,d){var c;null==b?(c=new a(0,0,this.getLength(),
0),d=!0):"number"==typeof b?c=new a(b,0,b,this.getLine(b).length):"row"in b?c=a.fromPoints(b,b):c=b;b=this.getFoldsInRangeList(c);if(d)this.removeFolds(b);else for(d=b;d.length;)this.expandFolds(d),d=this.getFoldsInRangeList(c);if(b.length)return b};this.isRowFolded=function(a,b){return!!this.getFoldLine(a,b)};this.getRowFoldEnd=function(a,b){return(b=this.getFoldLine(a,b))?b.end.row:a};this.getRowFoldStart=function(a,b){return(b=this.getFoldLine(a,b))?b.start.row:a};this.getFoldDisplayLine=function(a,
b,d,f,e){null==f&&(f=a.start.row);null==e&&(e=0);null==b&&(b=a.end.row);null==d&&(d=this.getLine(b).length);var c=this.doc,g="";return a.walk(function(a,b,d,h){if(!(b<f)){if(b==f){if(d<e)return;h=Math.max(e,h)}null!=a?g+=a:g+=c.getLine(b).substring(h,d)}},b,d),g};this.getDisplayLine=function(a,b,d,f){var c=this.getFoldLine(a);if(!c){var g;return g=this.doc.getLine(a),g.substring(f||0,b||g.length)}return this.getFoldDisplayLine(c,a,b,d,f)};this.$cloneFoldData=function(){var a=[];return a=this.$foldData.map(function(b){b=
b.folds.map(function(a){return a.clone()});return new d(a,b)}),a};this.toggleFold=function(a){var b=this.selection.getRange(),c,d;if(b.isEmpty()){a=b.start;if(c=this.getFoldAt(a.row,a.column)){this.expandFold(c);return}(d=this.findMatchingBracket(a))?1==b.comparePoint(d)?b.end=d:(b.start=d,b.start.column++,b.end.column--):(d=this.findMatchingBracket({row:a.row,column:a.column+1}))?(1==b.comparePoint(d)?b.end=d:b.start=d,b.start.column++):b=this.getCommentFoldRange(a.row,a.column)||b}else{d=this.getFoldsInRange(b);
if(a&&d.length){this.expandFolds(d);return}1==d.length&&(c=d[0])}c||(c=this.getFoldAt(b.start.row,b.start.column));if(c&&c.range.toString()==b.toString())this.expandFold(c);else{c="...";if(!b.isMultiLine()){c=this.getTextRange(b);if(4>c.length)return;c=c.trim().substring(0,2)+".."}this.addFold(c,b)}};this.getCommentFoldRange=function(b,d,f){var c=new g(this,b,d),e=c.getCurrentToken(),h=e.type;if(e&&/^comment|string/.test(h)){h=h.match(/comment|string/)[0];"comment"==h&&(h+="|doc-start");h=new RegExp(h);
var k=new a;if(1!=f){do e=c.stepBackward();while(e&&h.test(e.type));c.stepForward()}k.start.row=c.getCurrentTokenRow();k.start.column=c.getCurrentTokenColumn()+2;c=new g(this,b,d);if(-1!=f){b=-1;do if(e=c.stepForward(),-1==b)d=this.getState(c.$row),h.test(d)||(b=c.$row);else if(c.$row>b)break;while(e&&h.test(e.type));e=c.stepBackward()}else e=c.getCurrentToken();return k.end.row=c.getCurrentTokenRow(),k.end.column=c.getCurrentTokenColumn()+e.value.length-2,k}};this.foldAll=function(a,b,d){void 0==
d&&(d=1E5);var c=this.foldWidgets;if(c){b=b||this.getLength();for(var e=a=a||0;e<b;e++)if(null==c[e]&&(c[e]=this.getFoldWidget(e)),"start"==c[e]){var f=this.getFoldWidgetRange(e);if(f&&f.isMultiLine()&&f.end.row<=b&&f.start.row>=a){e=f.end.row;try{var g=this.addFold("...",f);g&&(g.collapseChildren=d)}catch(x){}}}}};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(a){if(!this.$foldStyles[a])throw Error("invalid fold style: "+a+"["+Object.keys(this.$foldStyles).join(", ")+
"]");this.$foldStyle!=a&&(this.$foldStyle=a,"manual"==a&&this.unfold(),a=this.$foldMode,this.$setFolding(null),this.$setFolding(a))};this.$setFolding=function(a){this.$foldMode!=a&&(this.$foldMode=a,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),a&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=a.getFoldWidget.bind(a,this,this.$foldStyle),this.getFoldWidgetRange=a.getFoldWidgetRange.bind(a,
this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)};this.getParentFoldRangeData=function(a,b){var c=this.foldWidgets;if(!c||b&&c[a])return{};b=a-1;for(var d;0<=b;){var e=c[b];null==e&&(e=c[b]=this.getFoldWidget(b));if("start"==e){var f=this.getFoldWidgetRange(b);d||(d=f);
if(f&&f.end.row>=a)break}b--}return{range:-1!==b&&f,firstRange:d}};this.onFoldWidgetClick=function(a,b){b=b.domEvent;this.$toggleFoldWidget(a,{children:b.shiftKey,all:b.ctrlKey||b.metaKey,siblings:b.altKey})||(a=b.target||b.srcElement)&&/ace_fold-widget/.test(a.className)&&(a.className+=" ace_invalid")};this.$toggleFoldWidget=function(a,b){if(this.getFoldWidget){var c=this.getFoldWidget(a),d=this.getLine(a);c="end"===c?-1:1;if(c=this.getFoldAt(a,-1===c?0:d.length,c))return b.children||b.all?this.removeFold(c):
this.expandFold(c),c;if((d=this.getFoldWidgetRange(a,!0))&&!d.isMultiLine()&&(c=this.getFoldAt(d.start.row,d.start.column,1))&&d.isEqual(c.range))return this.removeFold(c),c;if(b.siblings){a=this.getParentFoldRangeData(a);if(a.range)var e=a.range.start.row+1,f=a.range.end.row;this.foldAll(e,f,b.all?1E4:0)}else b.children?(f=d?d.end.row:this.getLength(),this.foldAll(a+1,f,b.all?1E4:0)):d&&(b.all&&(d.collapseChildren=1E4),this.addFold("...",d));return d}};this.toggleFoldWidget=function(a){var b=this.selection.getCursor().row;
b=this.getRowFoldStart(b);a=this.$toggleFoldWidget(b,{});!a&&(a=this.getParentFoldRangeData(b,!0),a=a.range||a.firstRange)&&(b=a.start.row,(b=this.getFoldAt(b,this.getLine(b).length,1))?this.removeFold(b):this.addFold("...",a))};this.updateFoldWidgets=function(a){var b=a.start.row,c=a.end.row-b;0===c?this.foldWidgets[b]=null:"remove"==a.action?this.foldWidgets.splice(b,c+1,null):(a=Array(c+1),a.unshift(b,1),this.foldWidgets.splice.apply(this.foldWidgets,a))};this.tokenizerUpdateFoldWidgets=function(a){a=
a.data;a.first!=a.last&&this.foldWidgets.length>a.first&&this.foldWidgets.splice(a.first,this.foldWidgets.length)}}});
define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(b,n,u){var a=b("../token_iterator").TokenIterator,d=b("../range").Range;n.BracketMatch=function(){this.findMatchingBracket=function(a,b){if(0==a.column)return null;b=b||this.getLine(a.row).charAt(a.column-1);return""==b?null:(b=b.match(/([\(\[\{])|([\)\]\}])/))?b[1]?this.$findClosingBracket(b[1],a):this.$findOpeningBracket(b[2],a):null};this.getBracketRange=function(a){var b=this.getLine(a.row),
c=!0,f=b.charAt(a.column-1),k=f&&f.match(/([\(\[\{])|([\)\]\}])/);k||(f=b.charAt(a.column),a={row:a.row,column:a.column+1},k=f&&f.match(/([\(\[\{])|([\)\]\}])/),c=!1);if(!k)return null;if(k[1]){b=this.$findClosingBracket(k[1],a);if(!b)return null;a=d.fromPoints(a,b);c||(a.end.column++,a.start.column--);a.cursor=a.end}else{b=this.$findOpeningBracket(k[2],a);if(!b)return null;a=d.fromPoints(b,a);c||(a.start.column++,a.end.column--);a.cursor=a.start}return a};this.$brackets={")":"(","(":")","]":"[",
"[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(b,d,c){var f=this.$brackets[b],g=1,m=new a(this,d.row,d.column),e=m.getCurrentToken();e||(e=m.stepForward());if(e){c||(c=new RegExp("(\\.?"+e.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));d=d.column-m.getCurrentTokenColumn()-2;for(e=e.value;;){for(;0<=d;){var l=e.charAt(d);if(l==f){if(--g,0==g)return{row:m.getCurrentTokenRow(),column:d+m.getCurrentTokenColumn()}}else l==b&&(g+=1);--d}do e=
m.stepBackward();while(e&&!c.test(e.type));if(null==e)break;e=e.value;d=e.length-1}return null}};this.$findClosingBracket=function(b,d,c){var f=this.$brackets[b],g=1,m=new a(this,d.row,d.column),e=m.getCurrentToken();e||(e=m.stepForward());if(e){c||(c=new RegExp("(\\.?"+e.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(d=d.column-m.getCurrentTokenColumn();;){e=e.value;for(var l=e.length;d<l;){var q=e.charAt(d);if(q==f){if(--g,0==g)return{row:m.getCurrentTokenRow(),
column:d+m.getCurrentTokenColumn()}}else q==b&&(g+=1);d+=1}do e=m.stepForward();while(e&&!c.test(e.type));if(null==e)break;d=0}return null}}}});
define("ace/edit_session","require exports module ace/lib/oop ace/lib/lang ace/bidihandler ace/config ace/lib/event_emitter ace/selection ace/mode/text ace/range ace/document ace/background_tokenizer ace/search_highlight ace/edit_session/folding ace/edit_session/bracket_match".split(" "),function(b,n,u){var a=b("./lib/oop"),d=b("./lib/lang"),f=b("./bidihandler").BidiHandler,g=b("./config"),c=b("./lib/event_emitter").EventEmitter,h=b("./selection").Selection,k=b("./mode/text").Mode,m=b("./range").Range,
e=b("./document").Document,l=b("./background_tokenizer").BackgroundTokenizer,q=b("./search_highlight").SearchHighlight,x=function(a,b){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++x.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);"object"==typeof a&&a.getLine||(a=new e(a));this.$bidiHandler=
new f(this);this.setDocument(a);this.selection=new h(this);g.resetOptions(this);this.setMode(b);g._signal("session",this)};x.$uid=0;(function(){function b(a){return 4352>a?!1:4352<=a&&4447>=a||4515<=a&&4519>=a||4602<=a&&4607>=a||9001<=a&&9002>=a||11904<=a&&11929>=a||11931<=a&&12019>=a||12032<=a&&12245>=a||12272<=a&&12283>=a||12288<=a&&12350>=a||12353<=a&&12438>=a||12441<=a&&12543>=a||12549<=a&&12589>=a||12593<=a&&12686>=a||12688<=a&&12730>=a||12736<=a&&12771>=a||12784<=a&&12830>=a||12832<=a&&12871>=
a||12880<=a&&13054>=a||13056<=a&&19903>=a||19968<=a&&42124>=a||42128<=a&&42182>=a||43360<=a&&43388>=a||44032<=a&&55203>=a||55216<=a&&55238>=a||55243<=a&&55291>=a||63744<=a&&64255>=a||65040<=a&&65049>=a||65072<=a&&65106>=a||65108<=a&&65126>=a||65128<=a&&65131>=a||65281<=a&&65376>=a||65504<=a&&65510>=a}a.implement(this,c);this.setDocument=function(a){this.doc&&this.doc.removeListener("change",this.$onChange);this.doc=a;a.on("change",this.$onChange);this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument());
this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(a){if(a){var b=this.$docRowCache.length;a=this.$getRowCacheIndex(this.$docRowCache,a)+1;b>a&&(this.$docRowCache.splice(a,b),this.$screenRowCache.splice(a,b))}else this.$docRowCache=[],this.$screenRowCache=[]};this.$getRowCacheIndex=function(a,b){for(var c=0,e=a.length-1;c<=e;){var d=c+e>>1,f=a[d];if(b>f)c=d+1;else{if(!(b<f))return d;e=d-1}}return c-1};this.resetCaches=function(){this.$modified=!0;this.$wrapData=
[];this.$rowLengthCache=[];this.$resetRowCache(0);this.bgTokenizer&&this.bgTokenizer.start(0)};this.onChangeFold=function(a){this.$resetRowCache(a.data.start.row)};this.onChange=function(a){this.$modified=!0;this.$bidiHandler.onChange(a);this.$resetRowCache(a.start.row);var b=this.$updateInternalDataOnChange(a);!this.$fromUndo&&this.$undoManager&&!a.ignore&&(this.$deltasDoc.push(a),b&&0!=b.length&&this.$deltasFold.push({action:"removeFolds",folds:b}),this.$informUndoManager.schedule());this.bgTokenizer&&
this.bgTokenizer.$updateOnChange(a);this._signal("change",a)};this.setValue=function(a){this.doc.setValue(a);this.selection.moveTo(0,0);this.$resetRowCache(0);this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(a){return this.bgTokenizer.getState(a)};this.getTokens=function(a){return this.bgTokenizer.getTokens(a)};
this.getTokenAt=function(a,b){var c=this.bgTokenizer.getTokens(a),e,d=0;if(null==b){var f=c.length-1;d=this.getLine(a).length}else for(f=0;f<c.length&&!(d+=c[f].value.length,d>=b);f++);return e=c[f],e?(e.index=f,e.start=d-e.value.length,e):null};this.setUndoManager=function(a){this.$undoManager=a;this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.$informUndoManager&&this.$informUndoManager.cancel();if(a){var b=this;this.$syncInformUndoManager=function(){b.$informUndoManager.cancel();b.$deltasFold.length&&
(b.$deltas.push({group:"fold",deltas:b.$deltasFold}),b.$deltasFold=[]);b.$deltasDoc.length&&(b.$deltas.push({group:"doc",deltas:b.$deltasDoc}),b.$deltasDoc=[]);0<b.$deltas.length&&a.execute({action:"aceupdate",args:[b.$deltas,b],merge:b.mergeUndoDeltas});b.mergeUndoDeltas=!1;b.$deltas=[]};this.$informUndoManager=d.delayedCall(this.$syncInformUndoManager)}};this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},
reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){return this.getUseSoftTabs()?d.stringRepeat(" ",this.getTabSize()):"\t"};this.setUseSoftTabs=function(a){this.setOption("useSoftTabs",a)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(a){this.setOption("tabSize",a)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(a){return this.$useSoftTabs&&
0===a.column%this.$tabSize};this.setNavigateWithinSoftTabs=function(a){this.setOption("navigateWithinSoftTabs",a)};this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs};this.$overwrite=!1;this.setOverwrite=function(a){this.setOption("overwrite",a)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(a,b){this.$decorations[a]||(this.$decorations[a]="");this.$decorations[a]+=
" "+b;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(a,b){this.$decorations[a]=(this.$decorations[a]||"").replace(" "+b,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(a){this.$breakpoints=[];for(var b=0;b<a.length;b++)this.$breakpoints[a[b]]="ace_breakpoint";this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=
function(a,b){void 0===b&&(b="ace_breakpoint");b?this.$breakpoints[a]=b:delete this.$breakpoints[a];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(a){delete this.$breakpoints[a];this._signal("changeBreakpoint",{})};this.addMarker=function(a,b,c,e){var d=this.$markerId++;a={range:a,type:c||"line",renderer:"function"==typeof c?c:null,clazz:b,inFront:!!e,id:d};return e?(this.$frontMarkers[d]=a,this._signal("changeFrontMarker")):(this.$backMarkers[d]=a,this._signal("changeBackMarker")),
d};this.addDynamicMarker=function(a,b){if(a.update){var c=this.$markerId++;return a.id=c,a.inFront=!!b,b?(this.$frontMarkers[c]=a,this._signal("changeFrontMarker")):(this.$backMarkers[c]=a,this._signal("changeBackMarker")),a}};this.removeMarker=function(a){var b=this.$frontMarkers[a]||this.$backMarkers[a];if(b){var c=b.inFront?this.$frontMarkers:this.$backMarkers;b&&(delete c[a],this._signal(b.inFront?"changeFrontMarker":"changeBackMarker"))}};this.getMarkers=function(a){return a?this.$frontMarkers:
this.$backMarkers};this.highlight=function(a){if(!this.$searchHighlight){var b=new q(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(b)}this.$searchHighlight.setRegexp(a)};this.highlightLines=function(a,b,c,e){"number"!=typeof b&&(c=b,b=a);c||(c="ace_step");a=new m(a,0,b,Infinity);return a.id=this.addMarker(a,c,"fullLine",e),a};this.setAnnotations=function(a){this.$annotations=a;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||
[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(a){(a=a.match(/^.*?(\r?\n)/m))?this.$autoNewLine=a[1]:this.$autoNewLine="\n"};this.getWordRange=function(a,b){var c=this.getLine(a),e=!1;0<b&&(e=!!c.charAt(b-1).match(this.tokenRe));e||(e=!!c.charAt(b).match(this.tokenRe));e=e?this.tokenRe:/^\s+$/.test(c.slice(b-1,b+1))?/\s/:this.nonTokenRe;var d=b;if(0<d){do d--;while(0<=d&&c.charAt(d).match(e));d++}for(;b<c.length&&c.charAt(b).match(e);)b++;return new m(a,
d,a,b)};this.getAWordRange=function(a,b){a=this.getWordRange(a,b);for(b=this.getLine(a.end.row);b.charAt(a.end.column).match(/[ \t]/);)a.end.column+=1;return a};this.setNewLineMode=function(a){this.doc.setNewLineMode(a)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(a){this.setOption("useWorker",a)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(a){this.bgTokenizer.start(a.data.first);this._signal("tokenizerUpdate",
a)};this.$modes={};this.$modeId=this.$mode=null;this.setMode=function(a,b){if(a&&"object"==typeof a){if(a.getTokenizer)return this.$onChangeMode(a);var c=a,e=c.path}else e=a||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new k);this.$modes[e]&&!c?(this.$onChangeMode(this.$modes[e]),b&&b()):(this.$modeId=e,g.loadModule(["mode",e],function(a){if(this.$modeId!==e)return b&&b();this.$modes[e]&&!c?this.$onChangeMode(this.$modes[e]):a&&a.Mode&&(a=new a.Mode(c),c||(this.$modes[e]=
a,a.$id=e),this.$onChangeMode(a));b&&b()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0))};this.$onChangeMode=function(a,b){b||(this.$modeId=a.$id);if(this.$mode!==a){this.$mode=a;this.$stopWorker();this.$useWorker&&this.$startWorker();var c=a.getTokenizer();if(void 0!==c.addEventListener){var e=this.onReloadTokenizer.bind(this);c.addEventListener("update",e)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(c);else{this.bgTokenizer=new l(c);var d=this;this.bgTokenizer.addEventListener("update",
function(a){d._signal("tokenizerUpdate",a)})}this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=a.tokenRe;this.nonTokenRe=a.nonTokenRe;b||(a.attachToSession&&a.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(a.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}};this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(r){g.warn("Could not load worker",
r),this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(a){this.$scrollTop===a||isNaN(a)||(this.$scrollTop=a,this._signal("changeScrollTop",a))};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(a){this.$scrollLeft===a||isNaN(a)||(this.$scrollLeft=a,this._signal("changeScrollLeft",a))};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){return this.$computeWidth(),
this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth};this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var a=0;return this.lineWidgets.forEach(function(b){b&&b.screenWidth>a&&(a=b.screenWidth)}),this.lineWidgetWidth=a};this.$computeWidth=function(a){if(this.$modified||a){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;a=this.doc.getAllLines();for(var b=this.$rowLengthCache,c=0,e=0,
d=this.$foldData[e],f=d?d.start.row:Infinity,g=a.length,h=0;h<g;h++){if(h>f){h=d.end.row+1;if(h>=g)break;f=(d=this.$foldData[e++])?d.start.row:Infinity}null==b[h]&&(b[h]=this.$getStringScreenWidth(a[h])[0]);b[h]>c&&(c=b[h])}this.screenWidth=c}};this.getLine=function(a){return this.doc.getLine(a)};this.getLines=function(a,b){return this.doc.getLines(a,b)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(a){return this.doc.getTextRange(a||this.selection.getRange())};
this.insert=function(a,b){return this.doc.insert(a,b)};this.remove=function(a){return this.doc.remove(a)};this.removeFullLines=function(a,b){return this.doc.removeFullLines(a,b)};this.undoChanges=function(a,b){if(a.length){this.$fromUndo=!0;for(var c=null,e=a.length-1;-1!=e;e--){var d=a[e];"doc"==d.group?(this.doc.revertDeltas(d.deltas),c=this.$getUndoSelection(d.deltas,!0,c)):d.deltas.forEach(function(a){this.addFolds(a.folds)},this)}return this.$fromUndo=!1,c&&this.$undoSelect&&!b&&this.selection.setSelectionRange(c),
c}};this.redoChanges=function(a,b){if(a.length){this.$fromUndo=!0;for(var c=null,e=0;e<a.length;e++){var d=a[e];"doc"==d.group&&(this.doc.applyDeltas(d.deltas),c=this.$getUndoSelection(d.deltas,!1,c))}return this.$fromUndo=!1,c&&this.$undoSelect&&!b&&this.selection.setSelectionRange(c),c}};this.setUndoSelect=function(a){this.$undoSelect=a};this.$getUndoSelection=function(a,b,c){var e=a[0],d,f;(b?"insert"!==e.action:"insert"===e.action)?d=m.fromPoints(e.start,e.end):d=m.fromPoints(e.start,e.start);
for(var g=1;g<a.length;g++)e=a[g],(b?"insert"!==e.action:"insert"===e.action)?(f=e.start,-1==d.compare(f.row,f.column)&&d.setStart(f),f=e.end,1==d.compare(f.row,f.column)&&d.setEnd(f)):(f=e.start,-1==d.compare(f.row,f.column)&&(d=m.fromPoints(e.start,e.start)));null!=c&&(0===m.comparePoints(c.start,d.start)&&(c.start.column+=d.end.column-d.start.column,c.end.column+=d.end.column-d.start.column),a=c.compareRange(d),1==a?d.setStart(c.start):-1==a&&d.setEnd(c.end));return d};this.replace=function(a,
b){return this.doc.replace(a,b)};this.moveText=function(a,b,c){var e=this.getTextRange(a),d=this.getFoldsInRange(a);b=m.fromPoints(b,b);if(!c){this.remove(a);var f=a.start.row-a.end.row,g=f?-a.end.column:a.start.column-a.end.column;g&&(b.start.row==a.end.row&&b.start.column>a.end.column&&(b.start.column+=g),b.end.row==a.end.row&&b.end.column>a.end.column&&(b.end.column+=g));f&&b.start.row>=a.end.row&&(b.start.row+=f,b.end.row+=f)}b.end=this.insert(b.start,e);if(d.length){var h=a.start;a=b.start;f=
a.row-h.row;g=a.column-h.column;this.addFolds(d.map(function(a){return a=a.clone(),a.start.row==h.row&&(a.start.column+=g),a.end.row==h.row&&(a.end.column+=g),a.start.row+=f,a.end.row+=f,a}))}return b};this.indentRows=function(a,b,c){for(c=c.replace(/\t/g,this.getTabString());a<=b;a++)this.doc.insertInLine({row:a,column:0},c)};this.outdentRows=function(a){a=a.collapseRows();for(var b=new m(0,0,0,0),c=this.getTabSize(),e=a.start.row;e<=a.end.row;++e){var d=this.getLine(e);b.start.row=e;b.end.row=e;
for(var f=0;f<c&&" "==d.charAt(f);++f);f<c&&"\t"==d.charAt(f)?(b.start.column=f,b.end.column=f+1):(b.start.column=0,b.end.column=f);this.remove(b)}};this.$moveLines=function(a,b,c){a=this.getRowFoldStart(a);b=this.getRowFoldEnd(b);if(0>c){var e=this.getRowFoldStart(a+c);if(0>e)return 0;var d=e-a}else if(0<c){e=this.getRowFoldEnd(b+c);if(e>this.doc.getLength()-1)return 0;d=e-b}else a=this.$clipRowToDocument(a),b=this.$clipRowToDocument(b),d=b-a+1;e=new m(a,0,b,Number.MAX_VALUE);e=this.getFoldsInRange(e).map(function(a){return a=
a.clone(),a.start.row+=d,a.end.row+=d,a});b=0==c?this.doc.getLines(a,b):this.doc.removeFullLines(a,b);return this.doc.insertFullLines(a+d,b),e.length&&this.addFolds(e),d};this.moveLinesUp=function(a,b){return this.$moveLines(a,b,-1)};this.moveLinesDown=function(a,b){return this.$moveLines(a,b,1)};this.duplicateLines=function(a,b){return this.$moveLines(a,b,0)};this.$clipRowToDocument=function(a){return Math.max(0,Math.min(a,this.doc.getLength()-1))};this.$clipColumnToRow=function(a,b){return 0>b?
0:Math.min(this.doc.getLine(a).length,b)};this.$clipPositionToDocument=function(a,b){b=Math.max(0,b);if(0>a)b=a=0;else{var c=this.doc.getLength();a>=c?(a=c-1,b=this.doc.getLine(c-1).length):b=Math.min(this.doc.getLine(a).length,b)}return{row:a,column:b}};this.$clipRangeToDocument=function(a){0>a.start.row?(a.start.row=0,a.start.column=0):a.start.column=this.$clipColumnToRow(a.start.row,a.start.column);var b=this.doc.getLength()-1;return a.end.row>b?(a.end.row=b,a.end.column=this.doc.getLine(b).length):
a.end.column=this.$clipColumnToRow(a.end.row,a.end.column),a};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(a){a!=this.$useWrapMode&&(this.$useWrapMode=a,this.$modified=!0,this.$resetRowCache(0),a&&(a=this.getLength(),this.$wrapData=Array(a),this.$updateWrapData(0,a-1)),this._signal("changeWrapMode"))};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(a,b){if(this.$wrapLimitRange.min!==a||this.$wrapLimitRange.max!==
b)this.$wrapLimitRange={min:a,max:b},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode")};this.adjustWrapLimit=function(a,b){var c=this.$wrapLimitRange;0>c.max&&(c={min:b,max:b});a=this.$constrainWrapLimit(a,c.min,c.max);return a!=this.$wrapLimit&&1<a?(this.$wrapLimit=a,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1};this.$constrainWrapLimit=function(a,b,
c){return b&&(a=Math.max(b,a)),c&&(a=Math.min(c,a)),a};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(a){this.setWrapLimitRange(a,a)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(a){var b=this.$useWrapMode,c=a.action,e=a.start,d=a.end,f=e.row,g=d.row,h=g-f,k=null;this.$updating=!0;if(0!=h)if("remove"===c){this[b?"$wrapData":"$rowLengthCache"].splice(f,h);c=this.$foldData;
k=this.getFoldsInRange(a);this.removeFolds(k);a=this.getFoldLine(d.row);var m=0;a&&(a.addRemoveChars(d.row,d.column,e.column-d.column),a.shiftRow(-h),(e=this.getFoldLine(f))&&e!==a&&(e.merge(a),a=e),m=c.indexOf(a)+1);for(m;m<c.length;m++)a=c[m],a.start.row>=d.row&&a.shiftRow(-h);g=f}else for(c=Array(h),c.unshift(f,0),a=b?this.$wrapData:this.$rowLengthCache,a.splice.apply(a,c),c=this.$foldData,a=this.getFoldLine(f),m=0,a&&(m=a.range.compareInside(e.row,e.column),0==m?(a=a.split(e.row,e.column),a&&
(a.shiftRow(h),a.addRemoveChars(g,0,d.column-e.column))):-1==m&&(a.addRemoveChars(f,0,d.column-e.column),a.shiftRow(h)),m=c.indexOf(a)+1),m;m<c.length;m++)a=c[m],a.start.row>=f&&a.shiftRow(h);else h=Math.abs(a.start.column-a.end.column),"remove"===c&&(k=this.getFoldsInRange(a),this.removeFolds(k),h=-h),(a=this.getFoldLine(f))&&a.addRemoveChars(f,e.column,h);return b&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=
!1,b?this.$updateWrapData(f,g):this.$updateRowLengthCache(f,g),k};this.$updateRowLengthCache=function(a,b,c){this.$rowLengthCache[a]=null;this.$rowLengthCache[b]=null};this.$updateWrapData=function(a,b){var c=this.doc.getAllLines(),d=this.getTabSize(),g=this.$wrapData,h=this.$wrapLimit,k,m;for(b=Math.min(b,c.length-1);a<=b;)(m=this.getFoldLine(a,m))?(k=[],m.walk(function(a,b,d,g){if(null!=a)for(a=this.$getDisplayTokens(a,k.length),a[0]=e,b=1;b<a.length;b++)a[b]=f;else a=this.$getDisplayTokens(c[b].substring(g,
d),k.length);k=k.concat(a)}.bind(this),m.end.row,c[m.end.row].length+1),g[m.start.row]=this.$computeWrapSplits(k,h,d),a=m.end.row+1):(k=this.$getDisplayTokens(c[a]),g[a]=this.$computeWrapSplits(k,h,d),a++)};var e=3,f=4;this.$computeWrapSplits=function(a,b,c){function d(){var b=0;if(0===r)return b;if(t)for(var e=0;e<a.length;e++){var d=a[e];if(10==d)b+=1;else{if(11!=d){if(12==d)continue;break}b+=c}}return q&&!1!==t&&(b+=c),Math.min(b,r)}function g(b){var c=a.slice(m,b),e=c.length;c.join("").replace(/12/g,
function(){--e}).replace(/2/g,function(){--e});h.length||(n=d(),h.indent=n);l+=e;h.push(l);m=b}if(0==a.length)return[];for(var h=[],k=a.length,m=0,l=0,q=this.$wrapAsCode,t=this.$indentedSoftWrap,r=b<=Math.max(2*c,8)||!1===t?0:Math.floor(b/2),n=0;k-m>b-n;){var y=m+b-n;if(10<=a[y-1]&&10<=a[y])g(y);else if(a[y]==e||a[y]==f){for(y;y!=m-1&&a[y]!=e;y--);if(!(y>m)){y=m+b;for(y;y<a.length&&a[y]==f;y++);if(y==a.length)break}g(y)}else{for(var x=Math.max(y-(b-(b>>2)),m-1);y>x&&a[y]<e;)y--;if(q){for(;y>x&&a[y]<
e;)y--;for(;y>x&&9==a[y];)y--}else for(;y>x&&10>a[y];)y--;y>x?g(++y):(y=m+b,2==a[y]&&y--,g(y-n))}}return h};this.$getDisplayTokens=function(a,c){var e=[];c=c||0;for(var d=0;d<a.length;d++){var f=a.charCodeAt(d);if(9==f){f=this.getScreenTabSize(e.length+c);e.push(11);for(var g=1;g<f;g++)e.push(12)}else 32==f?e.push(10):39<f&&48>f||57<f&&64>f?e.push(9):4352<=f&&b(f)?e.push(1,2):e.push(1)}return e};this.$getStringScreenWidth=function(a,c,e){if(0==c)return[0,0];null==c&&(c=Infinity);e=e||0;var d;for(d=
0;d<a.length;d++){var f=a.charCodeAt(d);9==f?e+=this.getScreenTabSize(e):4352<=f&&b(f)?e+=2:e+=1;if(e>c)break}return[e,d]};this.lineWidgets=null;this.getRowLength=function(a){var b=this.lineWidgets?this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:0;return this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1+b:1+b};this.getRowLineCount=function(a){return this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1:1};this.getRowWrapIndent=function(a){if(this.$useWrapMode){a=this.screenToDocumentPosition(a,
Number.MAX_VALUE);var b=this.$wrapData[a.row];return b.length&&b[0]<a.column?b.indent:0}return 0};this.getScreenLastRowColumn=function(a){a=this.screenToDocumentPosition(a,Number.MAX_VALUE);return this.documentToScreenColumn(a.row,a.column)};this.getDocumentLastRowColumn=function(a,b){a=this.documentToScreenRow(a,b);return this.getScreenLastRowColumn(a)};this.getDocumentLastRowColumnPosition=function(a,b){a=this.documentToScreenRow(a,b);return this.screenToDocumentPosition(a,Number.MAX_VALUE/10)};
this.getRowSplitData=function(a){return this.$useWrapMode?this.$wrapData[a]:void 0};this.getScreenTabSize=function(a){return this.$tabSize-a%this.$tabSize};this.screenToDocumentRow=function(a,b){return this.screenToDocumentPosition(a,b).row};this.screenToDocumentColumn=function(a,b){return this.screenToDocumentPosition(a,b).column};this.screenToDocumentPosition=function(a,b,c){if(0>a)return{row:0,column:0};var e=0,d=0,f,g=0;var h=0;var k=this.$screenRowCache,m=this.$getRowCacheIndex(k,a),l=k.length;
l&&0<=m?(g=k[m],e=this.$docRowCache[m],m=a>k[l-1]):m=!l;l=this.getLength()-1;for(var q=(k=this.getNextFoldLine(e))?k.start.row:Infinity;g<=a;){h=this.getRowLength(e);if(g+h>a||e>=l)break;g+=h;e++;e>q&&(e=k.end.row+1,k=this.getNextFoldLine(e,k),q=k?k.start.row:Infinity);m&&(this.$docRowCache.push(e),this.$screenRowCache.push(g))}if(k&&k.start.row<=e)h=this.getFoldDisplayLine(k),e=k.start.row;else{if(g+h<=a||e>l)return{row:l,column:this.getLine(l).length};h=this.getLine(e);k=null}m=0;a=Math.floor(a-
g);this.$useWrapMode&&(l=this.$wrapData[e])&&(f=l[a],0<a&&l.length&&(m=l.indent,d=l[a-1]||l[l.length-1],h=h.substring(d)));return void 0!==c&&this.$bidiHandler.isBidiRow(g+a,e,a)&&(b=this.$bidiHandler.offsetToCol(c)),d+=this.$getStringScreenWidth(h,b-m)[1],this.$useWrapMode&&d>=f&&(d=f-1),k?k.idxToPosition(d):{row:e,column:d}};this.documentToScreenPosition=function(a,b){var c="undefined"==typeof b?this.$clipPositionToDocument(a.row,a.column):this.$clipPositionToDocument(a,b);a=c.row;b=c.column;c=
0;var e=null,d;(d=this.getFoldAt(a,b,1))&&(a=d.start.row,b=d.start.column);d=0;var f=this.$docRowCache;var g=this.$getRowCacheIndex(f,a),h=f.length;if(h&&0<=g){d=f[g];c=this.$screenRowCache[g];var k=a>f[h-1]}else k=!h;for(h=(g=this.getNextFoldLine(d))?g.start.row:Infinity;d<a;){if(d>=h){f=g.end.row+1;if(f>a)break;h=(g=this.getNextFoldLine(f,g))?g.start.row:Infinity}else f=d+1;c+=this.getRowLength(d);d=f;k&&(this.$docRowCache.push(d),this.$screenRowCache.push(c))}f="";g&&d>=h?(f=this.getFoldDisplayLine(g,
a,b),e=g.start.row):(f=this.getLine(a).substring(0,b),e=a);a=0;if(this.$useWrapMode&&(e=this.$wrapData[e])){for(a=0;f.length>=e[a];)c++,a++;f=f.substring(e[a-1]||0,f.length);a=0<a?e.indent:0}return{row:c,column:a+this.$getStringScreenWidth(f)[0]}};this.documentToScreenColumn=function(a,b){return this.documentToScreenPosition(a,b).column};this.documentToScreenRow=function(a,b){return this.documentToScreenPosition(a,b).row};this.getScreenLength=function(){var a=0,b;if(this.$useWrapMode){var c=this.$wrapData.length,
e=0;g=0;for(var d=(b=this.$foldData[g++])?b.start.row:Infinity;e<c;){var f=this.$wrapData[e];a+=f?f.length+1:1;e++;e>d&&(e=b.end.row+1,b=this.$foldData[g++],d=b?b.start.row:Infinity)}}else{a=this.getLength();c=this.$foldData;for(var g=0;g<c.length;g++)b=c[g],a-=b.end.row-b.start.row}return this.lineWidgets&&(a+=this.$getWidgetScreenLength()),a};this.$setFontMetrics=function(a){this.$enableVarChar&&(this.$getStringScreenWidth=function(b,c,e){if(0===c)return[0,0];c||(c=Infinity);e=e||0;var d;for(d=
0;d<b.length;d++){var f=b.charAt(d);"\t"===f?e+=this.getScreenTabSize(e):e+=a.getCharacterWidth(f);if(e>c)break}return[e,d]})};this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null);this.$stopWorker()};this.isFullWidth=b}).call(x.prototype);b("./edit_session/folding").Folding.call(x.prototype);b("./edit_session/bracket_match").BracketMatch.call(x.prototype);g.defineOptions(x.prototype,"session",{wrap:{set:function(a){a&&"off"!=a?"free"==a?a=!0:"printMargin"==
a?a=-1:"string"==typeof a&&(a=parseInt(a,10)||!1):a=!1;this.$wrap!=a&&((this.$wrap=a)?(a="number"==typeof a?a:null,this.setWrapLimitRange(a,a),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(a){a="auto"==a?"text"!=this.$mode.type:"text"!=a;a!=this.$wrapAsCode&&(this.$wrapAsCode=a,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),
this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(a){this.$useWorker=a;this.$stopWorker();a&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(a){isNaN(a)||this.$tabSize===a||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=a,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},
overwrite:{set:function(a){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(a){this.doc.setNewLineMode(a)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(a){this.setMode(a)},get:function(){return this.$modeId}}});n.EditSession=x});
define("ace/search","require exports module ace/lib/lang ace/lib/oop ace/range".split(" "),function(b,n,u){var a=b("./lib/lang"),d=b("./lib/oop"),f=b("./range").Range;b=function(){this.$options={}};(function(){this.set=function(a){return d.mixin(this.$options,a),this};this.getOptions=function(){return a.copyObject(this.$options)};this.setOptions=function(a){this.$options=a};this.find=function(a){var b=this.$options;a=this.$matchIterator(a,b);if(!a)return!1;var d=null;return a.forEach(function(a,c,
e,g){return d=new f(a,c,e,g),c==g&&b.start&&b.start.start&&0!=b.skipCurrent&&d.isEqual(b.start)?(d=null,!1):!0}),d};this.findAll=function(b){var c=this.$options;if(!c.needle)return[];this.$assembleRegExp(c);var d=c.range,g=d?b.getLines(d.start.row,d.end.row):b.doc.getAllLines();b=[];var m=c.re;if(c.$isMultiLine){var e=m.length,l=g.length-e,q,n=m.offset||0;a:for(;n<=l;n++){for(c=0;c<e;c++)if(-1==g[n+c].search(m[c]))continue a;var z=g[n];c=g[n+e-1];z=z.length-z.match(m[0])[0].length;c=c.match(m[e-1])[0].length;
q&&q.end.row===n&&q.end.column>z||(b.push(q=new f(n,z,n+e-1,c)),2<e&&(n=n+e-2))}}else for(q=0;q<g.length;q++)for(e=a.getMatchOffsets(g[q],m),c=0;c<e.length;c++)l=e[c],b.push(new f(q,l.offset,q,l.offset+l.length));if(d){m=g=d.start.column;q=0;for(c=b.length-1;q<c&&b[q].start.column<g&&b[q].start.row==d.start.row;)q++;for(;q<c&&b[c].end.column>m&&b[c].end.row==d.end.row;)c--;b=b.slice(q,c+1);q=0;for(c=b.length;q<c;q++)b[q].start.row+=d.start.row,b[q].end.row+=d.start.row}return b};this.replace=function(a,
b){var c=this.$options,d=this.$assembleRegExp(c);if(c.$isMultiLine)return b;if(d){var f=d.exec(a);if(!f||f[0].length!=a.length)return null;b=a.replace(d,b);if(c.preserveCase){b=b.split("");for(c=Math.min(a.length,a.length);c--;)(d=a[c])&&d.toLowerCase()!=d?b[c]=b[c].toUpperCase():b[c]=b[c].toLowerCase();b=b.join("")}return b}};this.$assembleRegExp=function(b,c){if(b.needle instanceof RegExp)return b.re=b.needle;var d=b.needle;if(!b.needle)return b.re=!1;b.regExp||(d=a.escapeRegExp(d));b.wholeWord&&
(d=(/\w/.test(d[0])||b.regExp?"\\b":"")+d+(/\w/.test(d[d.length-1])||b.regExp?"\\b":""));var f=b.caseSensitive?"gm":"gmi";b.$isMultiLine=!c&&/[\n\r]/.test(d);if(b.$isMultiLine)return b.re=this.$assembleMultilineRegExp(d,f);try{var g=new RegExp(d,f)}catch(e){g=!1}return b.re=g};this.$assembleMultilineRegExp=function(a,b){a=a.replace(/\r\n|\r|\n/g,"$\n^").split("\n");for(var c=[],d=0;d<a.length;d++)try{c.push(new RegExp(a[d],b))}catch(m){return!1}return c};this.$matchIterator=function(a,b){var c=this.$assembleRegExp(b);
if(!c)return!1;var d=1==b.backwards,f=0!=b.skipCurrent,e=b.range,g=b.start;g||(g=e?e[d?"end":"start"]:a.selection.getRange());g.start&&(g=g[f!=d?"end":"start"]);var q=e?e.start.row:0,n=e?e.end.row:a.getLength()-1;f=d?function(a){var c=g.row;if(!t(c,g.column,a)){for(c--;c>=q;c--)if(t(c,Number.MAX_VALUE,a))return;if(0!=b.wrap)for(c=n,q=g.row;c>=q&&!t(c,Number.MAX_VALUE,a);c--);}}:function(a){var c=g.row;if(!t(c,g.column,a)){for(c+=1;c<=n;c++)if(t(c,0,a))return;if(0!=b.wrap)for(c=q,n=g.row;c<=n&&!t(c,
0,a);c++);}};if(b.$isMultiLine)var z=c.length,t=function(b,e,f){b=d?b-z+1:b;if(!(0>b)){var g=a.getLine(b),h=g.search(c[0]);if(!(!d&&h<e||-1===h)){for(var k=1;k<z;k++)if(g=a.getLine(b+k),-1==g.search(c[k]))return;g=g.match(c[z-1])[0].length;if(!(d&&g>e)&&f(b,h,b+z-1,g))return!0}}};else t=d?function(b,e,d){var f=a.getLine(b),g=[],h;for(c.lastIndex=0;h=c.exec(f);){var k=h[0].length;var m=h.index;if(!k){if(m>=f.length)break;c.lastIndex=m+1}if(h.index+k>e)break;g.push(h.index,k)}for(e=g.length-1;0<=e;e-=
2)if(f=g[e-1],k=g[e],d(b,f,b,f+k))return!0}:function(b,e,d){var f=a.getLine(b),g;for(c.lastIndex=e;g=c.exec(f);){e=g[0].length;g=g.index;if(d(b,g,b,g+e))return!0;if(!e&&(c.lastIndex=g+=1,g>=f.length))return!1}};return{forEach:f}}}).call(b.prototype);n.Search=b});
define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(b,n,u){function a(a,b){this.platform=b||(g.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(a);this.$singleCommand=!0}function d(b,c){a.call(this,b,c);this.$singleCommand=!1}var f=b("../lib/keys"),g=b("../lib/useragent"),c=f.KEY_MODS;d.prototype=a.prototype;(function(){function a(a){return"object"==typeof a&&a.bindKey&&a.bindKey.position||(a.isDefault?-100:0)}
this.addCommand=function(a){this.commands[a.name]&&this.removeCommand(a);this.commands[a.name]=a;a.bindKey&&this._buildKeyHash(a)};this.removeCommand=function(a,b){var c=a&&("string"==typeof a?a:a.name);a=this.commands[c];b||delete this.commands[c];b=this.commandKeyBinding;for(var d in b)if(c=b[d],c==a)delete b[d];else if(Array.isArray(c)){var f=c.indexOf(a);-1!=f&&(c.splice(f,1),1==c.length&&(b[d]=c[0]))}};this.bindKey=function(a,b,e){"object"==typeof a&&a&&(void 0==e&&(e=a.position),a=a[this.platform]);
if(a){if("function"==typeof b)return this.addCommand({exec:b,bindKey:a,name:b.name||a});a.split("|").forEach(function(a){var d="";if(-1!=a.indexOf(" ")){var f=a.split(/\s+/);a=f.pop();f.forEach(function(a){a=this.parseKeys(a);d+=(d?" ":"")+(c[a.hashId]+a.key);this._addCommandToBinding(d,"chainKeys")},this);d+=" "}a=this.parseKeys(a);this._addCommandToBinding(d+(c[a.hashId]+a.key),b,e)},this)}};this._addCommandToBinding=function(b,c,e){var d=this.commandKeyBinding,f;if(c)if(!d[b]||this.$singleCommand)d[b]=
c;else{Array.isArray(d[b])?-1!=(f=d[b].indexOf(c))&&d[b].splice(f,1):d[b]=[d[b]];"number"!=typeof e&&(e=a(c));b=d[b];for(f=0;f<b.length&&!(a(b[f])>e);f++);b.splice(f,0,c)}else delete d[b]};this.addCommands=function(a){a&&Object.keys(a).forEach(function(b){var c=a[b];if(c){if("string"==typeof c)return this.bindKey(c,b);"function"==typeof c&&(c={exec:c});"object"==typeof c&&(c.name||(c.name=b),this.addCommand(c))}},this)};this.removeCommands=function(a){Object.keys(a).forEach(function(b){this.removeCommand(a[b])},
this)};this.bindKeys=function(a){Object.keys(a).forEach(function(b){this.bindKey(b,a[b])},this)};this._buildKeyHash=function(a){this.bindKey(a.bindKey,a)};this.parseKeys=function(a){var b=a.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(a){return a}),c=b.pop(),d=f[c];if(f.FUNCTION_KEYS[d])c=f.FUNCTION_KEYS[d].toLowerCase();else{if(!b.length)return{key:c,hashId:-1};if(1==b.length&&"shift"==b[0])return{key:c.toUpperCase(),hashId:-1}}d=0;for(var g=b.length;g--;){var h=f.KEY_MODS[b[g]];if(null==
h)return"undefined"!=typeof console&&console.error("invalid modifier "+b[g]+" in "+a),!1;d|=h}return{key:c,hashId:d}};this.findKeyCommand=function(a,b){return this.commandKeyBinding[c[a]+b]};this.handleKeyboard=function(a,b,e,d){if(!(0>d)){var f=c[b]+e,g=this.commandKeyBinding[f];a.$keyChain&&(a.$keyChain+=" "+f,g=this.commandKeyBinding[a.$keyChain]||g);if(g&&("chainKeys"==g||"chainKeys"==g[g.length-1]))return a.$keyChain=a.$keyChain||f,{command:"null"};if(a.$keyChain)if(b&&4!=b||1!=e.length){if(-1==
b||0<d)a.$keyChain=""}else a.$keyChain=a.$keyChain.slice(0,-f.length-1);return{command:g}}};this.getStatusText=function(a,b){return b.$keyChain||""}}).call(a.prototype);n.HashHandler=a;n.MultiHashHandler=d});
define("ace/commands/command_manager","require exports module ace/lib/oop ace/keyboard/hash_handler ace/lib/event_emitter".split(" "),function(b,n,u){var a=b("../lib/oop"),d=b("../keyboard/hash_handler").MultiHashHandler,f=b("../lib/event_emitter").EventEmitter;b=function(a,b){d.call(this,b,a);this.byName=this.commands;this.setDefaultHandler("exec",function(a){return a.command.exec(a.editor,a.args||{})})};a.inherits(b,d);(function(){a.implement(this,f);this.exec=function(a,b,d){if(Array.isArray(a)){for(var c=
a.length;c--;)if(this.exec(a[c],b,d))return!0;return!1}"string"==typeof a&&(a=this.commands[a]);if(!a||b&&b.$readOnly&&!a.readOnly||a.isAvailable&&!a.isAvailable(b))return!1;a={editor:b,command:a,args:d};return a.returnValue=this._emit("exec",a),this._signal("afterExec",a),!1===a.returnValue?!1:!0};this.toggleRecording=function(a){if(!this.$inReplay)return a&&a._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=
this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(a){this.macro.push([a.command,a.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)};this.replay=function(a){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(a);try{this.$inReplay=!0,this.macro.forEach(function(b){"string"==typeof b?this.exec(b,a):this.exec(b[0],a,b[1])},this)}finally{this.$inReplay=!1}}};this.trimMacro=
function(a){return a.map(function(a){return"string"!=typeof a[0]&&(a[0]=a[0].name),a[1]||(a=a[0]),a})}}).call(b.prototype);n.CommandManager=b});
define("ace/commands/default_commands","require exports module ace/lib/lang ace/config ace/range".split(" "),function(b,n,u){function a(a,b){return{win:a,mac:b}}var d=b("../lib/lang"),f=b("../config"),g=b("../range").Range;n.commands=[{name:"showSettingsMenu",bindKey:a("Ctrl-,","Command-,"),exec:function(a){f.loadModule("ace/ext/settings_menu",function(b){b.init(a);a.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:a("Alt-E","F4"),exec:function(a){f.loadModule("ace/ext/error_marker",
function(b){b.showErrorMarker(a,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(a){f.loadModule("ace/ext/error_marker",function(b){b.showErrorMarker(a,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:a("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",bindKey:a(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:a("Ctrl-L","Command-L"),
exec:function(a){var b=parseInt(prompt("Enter line number:"),10);isNaN(b)||a.gotoLine(b)},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",
bindKey:a("F2","F2"),exec:function(a){a.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:a("Alt-F2","Alt-F2"),exec:function(a){a.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:a("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll();
a.session.unfold(a.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:a("Ctrl-K","Command-G"),exec:function(a){a.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",
readOnly:!0},{name:"selectOrFindNext",bindKey:a("Alt-K","Ctrl-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findPrevious()},readOnly:!0},{name:"find",bindKey:a("Ctrl-F","Command-F"),exec:function(a){f.loadModule("ace/ext/searchbox",function(b){b.Search(a)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},
readOnly:!0},{name:"selecttostart",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),
exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:a("Up","Up|Ctrl-P"),exec:function(a,b){a.navigateUp(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",
bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:a("Down","Down|Ctrl-N"),exec:function(a,b){a.navigateDown(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",
readOnly:!0},{name:"selectwordleft",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:a("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(a){a.getSelection().selectLineStart()},
multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:a("Left","Left|Ctrl-B"),exec:function(a,b){a.navigateLeft(b.times)},
multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:a("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:a("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:a("Right",
"Right|Ctrl-F"),exec:function(a,b){a.navigateRight(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:a(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},
readOnly:!0},{name:"pageup",bindKey:a(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:a("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:a("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",
exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording(a)},readOnly:!0},{name:"replaymacro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},
readOnly:!0},{name:"jumptomatching",bindKey:a("Ctrl-P","Ctrl-P"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:a("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(a){a.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(a){a.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},
{name:"passKeysToBrowser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(a){},readOnly:!0},{name:"cut",exec:function(a){var b=a.getSelectionRange();a._emit("cut",b);a.selection.isEmpty()||(a.session.remove(b),a.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(a,b){a.$handlePaste(b)},scrollIntoView:"cursor"},{name:"removeline",bindKey:a("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},scrollIntoView:"cursor",
multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(a){a.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:a("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},
{name:"toggleBlockComment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(a){a.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(a){a.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(a){a.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",
bindKey:a("Ctrl-H","Command-Option-F"),exec:function(a){f.loadModule("ace/ext/searchbox",function(b){b.Search(a,!0)})}},{name:"undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:a("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()},
scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:a("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(a){a.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
exec:function(a){a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:a("Shift-Delete",null),exec:function(a){if(!a.selection.isEmpty())return!1;a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),
exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(a){var b=a.selection.getRange();b.start.column=0;a.session.remove(b)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(a){var b=a.selection.getRange();b.end.column=Number.MAX_VALUE;a.session.remove(b)},multiSelectAction:"forEach",scrollIntoView:"cursor"},
{name:"removewordleft",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:a("Tab",
"Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(a){a.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(a){a.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(a,b){a.insert(b)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",
exec:function(a,b){a.insert(d.stringRepeat(b.text||"",b.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:a(null,"Ctrl-O"),exec:function(a){a.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},
multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(a){var b=a.selection.getRange();b.start.column=b.end.column=0;b.end.row++;a.selection.setRange(b,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:a(null,null),exec:function(a){var b=
a.selection.isBackwards(),c=b?a.selection.getSelectionLead():a.selection.getSelectionAnchor();b=b?a.selection.getSelectionAnchor():a.selection.getSelectionLead();for(var f=a.session.doc.getLine(c.row).length,e=a.session.doc.getTextRange(a.selection.getRange()).replace(/\n\s*/," ").length,l=a.session.doc.getLine(c.row),q=c.row+1;q<=b.row+1;q++){var n=d.stringTrimLeft(d.stringTrimRight(a.session.doc.getLine(q)));0!==n.length&&(n=" "+n);l+=n}b.row+1<a.session.doc.getLength()-1&&(l+=a.session.doc.getNewLineCharacter());
a.clearSelection();a.session.doc.replace(new g(c.row,0,b.row+2,0),l);0<e?(a.selection.moveCursorTo(c.row,c.column),a.selection.selectTo(c.row,c.column+e)):(f=a.session.doc.getLine(c.row).length>f?f+1:f,a.selection.moveCursorTo(c.row,f))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:a(null,null),exec:function(a){var b=a.session.doc.getLength()-1,c=a.session.doc.getLine(b).length,d=a.selection.rangeList.ranges,e=[];1>d.length&&(d=[a.selection.getRange()]);for(var f=0;f<d.length;f++)f!=
d.length-1||d[f].end.row===b&&d[f].end.column===c||e.push(new g(d[f].end.row,d[f].end.column,b,c)),0===f?(0!==d[f].start.row||0!==d[f].start.column)&&e.push(new g(0,0,d[f].start.row,d[f].start.column)):e.push(new g(d[f-1].end.row,d[f-1].end.column,d[f].start.row,d[f].start.column));a.exitMultiSelectMode();a.clearSelection();for(f=0;f<e.length;f++)a.selection.addRange(e[f],!1)},readOnly:!0,scrollIntoView:"none"}]});
define("ace/editor","require exports module ace/lib/fixoldbrowsers ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/keyboard/textinput ace/mouse/mouse_handler ace/mouse/fold_handler ace/keyboard/keybinding ace/edit_session ace/search ace/range ace/lib/event_emitter ace/commands/command_manager ace/commands/default_commands ace/config ace/token_iterator".split(" "),function(b,n,u){b("./lib/fixoldbrowsers");var a=b("./lib/oop"),d=b("./lib/dom"),f=b("./lib/lang"),g=b("./lib/useragent"),c=b("./keyboard/textinput").TextInput,
h=b("./mouse/mouse_handler").MouseHandler,k=b("./mouse/fold_handler").FoldHandler,m=b("./keyboard/keybinding").KeyBinding,e=b("./edit_session").EditSession,l=b("./search").Search,q=b("./range").Range,x=b("./lib/event_emitter").EventEmitter,z=b("./commands/command_manager").CommandManager,t=b("./commands/default_commands").commands,C=b("./config"),r=b("./token_iterator").TokenIterator,B=function(a,b){this.container=a.getContainerElement();this.renderer=a;this.id="editor"+ ++B.$uid;this.commands=new z(g.isMac?
"mac":"win",t);"object"==typeof document&&(this.textInput=new c(a.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new h(this),new k(this));this.keyBinding=new m(this);this.$blockScrolling=0;this.$search=(new l).set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=f.delayedCall(function(){this._signal("input",{});this.session&&this.session.bgTokenizer&&
this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(a,b){b._$emitInputEvent.schedule(31)});this.setSession(b||new e(""));C.resetOptions(this);C._signal("editor",this)};B.$uid=0;(function(){a.implement(this,x);this.$initOperationListeners=function(){this.selections=[];this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=f.delayedCall(this.endOperation.bind(this));this.on("change",function(){this.curOp||
this.startOperation();this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){this.curOp||this.startOperation();this.curOp.selectionChanged=!0}.bind(this),!0)};this.curOp=null;this.prevOp={};this.startOperation=function(a){if(this.curOp){if(!a||this.curOp.command)return;this.prevOp=this.curOp}a||(this.previousCommand=null,a={});this.$opResetTimer.schedule();this.curOp={command:a.command||{},args:a.args,scrollTop:this.renderer.scrollTop};this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&
this.$blockScrolling++};this.endOperation=function(a){if(this.curOp){if(a&&!1===a.returnValue)return this.curOp=null;this._signal("beforeEndOperation");a=this.curOp.command;a.name&&0<this.$blockScrolling&&this.$blockScrolling--;if(a=a&&a.scrollIntoView){switch(a){case "center-animate":a="animate";case "center":this.renderer.scrollCursorIntoView(null,.5);break;case "animate":case "cursor":this.renderer.scrollCursorIntoView();break;case "selectionPart":var b=this.selection.getRange(),c=this.renderer.layerConfig;
(b.start.row>=c.lastRow||b.end.row<=c.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==a&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(a){if(this.$mergeUndoDeltas){var b=this.prevOp,c=this.$mergeableCommands,e=b.command&&a.command.name==b.command.name;if("insertstring"==a.command.name){var d=a.args;void 0===
this.mergeNextCommand&&(this.mergeNextCommand=!0);e=e&&this.mergeNextCommand&&(!/\s/.test(d)||/\s/.test(b.args));this.mergeNextCommand=!0}else e=e&&-1!==c.indexOf(a.command.name);"always"!=this.$mergeUndoDeltas&&2E3<Date.now()-this.sequenceStartTime&&(e=!1);e?this.session.mergeUndoDeltas=!0:-1!==c.indexOf(a.command.name)&&(this.sequenceStartTime=Date.now())}};this.setKeyboardHandler=function(a,b){if(a&&"string"==typeof a){this.$keybindingId=a;var c=this;C.loadModule(["keybinding",a],function(e){c.$keybindingId==
a&&c.keyBinding.setKeyboardHandler(e&&e.handler);b&&b()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(a),b&&b()};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(a){if(this.session!=a){this.curOp&&this.endOperation();this.curOp={};var b=this.session;if(b){this.session.off("change",this.$onDocumentChange);this.session.off("changeMode",this.$onChangeMode);this.session.off("tokenizerUpdate",this.$onTokenizerUpdate);this.session.off("changeTabSize",
this.$onChangeTabSize);this.session.off("changeWrapLimit",this.$onChangeWrapLimit);this.session.off("changeWrapMode",this.$onChangeWrapMode);this.session.off("changeFold",this.$onChangeFold);this.session.off("changeFrontMarker",this.$onChangeFrontMarker);this.session.off("changeBackMarker",this.$onChangeBackMarker);this.session.off("changeBreakpoint",this.$onChangeBreakpoint);this.session.off("changeAnnotation",this.$onChangeAnnotation);this.session.off("changeOverwrite",this.$onCursorChange);this.session.off("changeScrollTop",
this.$onScrollTopChange);this.session.off("changeScrollLeft",this.$onScrollLeftChange);var c=this.session.getSelection();c.off("changeCursor",this.$onCursorChange);c.off("changeSelection",this.$onSelectionChange)}(this.session=a)?(this.$onDocumentChange=this.onDocumentChange.bind(this),a.on("change",this.$onDocumentChange),this.renderer.setSession(a),this.$onChangeMode=this.onChangeMode.bind(this),a.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),a.on("tokenizerUpdate",
this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),a.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),a.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),a.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),a.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",
this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=
this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=a.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),--this.$blockScrolling,
this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(a));this._signal("changeSession",{session:a,oldSession:b});this.curOp=null;b&&b._signal("changeEditor",{oldEditor:this});a&&a._signal("changeEditor",{editor:this});a&&a.bgTokenizer&&a.bgTokenizer.scheduleStart()}};
this.getSession=function(){return this.session};this.setValue=function(a,b){return this.session.doc.setValue(a),b?1==b?this.navigateFileEnd():-1==b&&this.navigateFileStart():this.selectAll(),a};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(a){this.renderer.onResize(a)};this.setTheme=function(a,b){this.renderer.setTheme(a,b)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(a){this.renderer.setStyle(a)};
this.unsetStyle=function(a){this.renderer.unsetStyle(a)};this.getFontSize=function(){return this.getOption("fontSize")||d.computedStyle(this.container,"fontSize")};this.setFontSize=function(a){this.setOption("fontSize",a)};this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(!this.$highlightPending){var a=this;this.$highlightPending=!0;setTimeout(function(){a.$highlightPending=!1;var b=
a.session;if(b&&b.bgTokenizer){var c=b.findMatchingBracket(a.getCursorPosition());if(c)var e=new q(c.row,c.column,c.row,c.column+1);else b.$mode.getMatching&&(e=b.$mode.getMatching(a.session));e&&(b.$bracketHighlight=b.addMarker(e,"ace_bracket","text"))}},50)}};this.$highlightTags=function(){if(!this.$highlightTagPending){var a=this;this.$highlightTagPending=!0;setTimeout(function(){a.$highlightTagPending=!1;var b=a.session;if(b&&b.bgTokenizer){var c=a.getCursorPosition(),e=new r(a.session,c.row,
c.column);if((c=e.getCurrentToken())&&/\b(?:tag-open|tag-name)/.test(c.type)){if(-1!=c.type.indexOf("tag-open")&&(c=e.stepForward(),!c))return;var d=c.value,f=0,g=e.stepBackward();if("<"==g.value){do g=c,(c=e.stepForward())&&c.value===d&&-1!==c.type.indexOf("tag-name")&&("<"===g.value?f++:"</"===g.value&&f--);while(c&&0<=f)}else{do c=g,g=e.stepBackward(),c&&c.value===d&&-1!==c.type.indexOf("tag-name")&&("<"===g.value?f++:"</"===g.value&&f--);while(g&&0>=f);e.stepForward()}c?(d=e.getCurrentTokenRow(),
e=e.getCurrentTokenColumn(),c=new q(d,e,d,e+c.value.length),e=b.$backMarkers[b.$tagHighlight],b.$tagHighlight&&void 0!=e&&0!==c.compareRange(e.range)&&(b.removeMarker(b.$tagHighlight),b.$tagHighlight=null),c&&!b.$tagHighlight&&(b.$tagHighlight=b.addMarker(c,"ace_bracket","text"))):(b.removeMarker(b.$tagHighlight),b.$tagHighlight=null)}else b.removeMarker(b.$tagHighlight),b.$tagHighlight=null}},50)}};this.focus=function(){var a=this;setTimeout(function(){a.textInput.focus()});this.textInput.focus()};
this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(a){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",a))};this.onBlur=function(a){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",a))};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(a){this.renderer.updateLines(a.start.row,
a.start.row==a.end.row?a.end.row:Infinity,this.session.$useWrapMode);this._signal("change",a);this.$cursorChange();this.$updateHighlightActiveLine()};this.onTokenizerUpdate=function(a){a=a.data;this.renderer.updateLines(a.first,a.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();this.$blockScrolling||(C.warn("Automatically scrolling cursor into view after selection change",
"this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView());this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var a=this.getSession(),b;this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(b=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||
1<this.renderer.$minLines||(b=!1));a.$highlightLineMarker&&!b?(a.removeMarker(a.$highlightLineMarker.id),a.$highlightLineMarker=null):!a.$highlightLineMarker&&b?(b=new q(b.row,b.column,b.row,Infinity),b.id=a.addMarker(b,"ace_active-line","screenLine"),a.$highlightLineMarker=b):b&&(a.$highlightLineMarker.start.row=b.row,a.$highlightLineMarker.end.row=b.row,a.$highlightLineMarker.start.column=b.column,a._signal("changeBackMarker"))};this.onSelectionChange=function(a){a=this.session;a.$selectionMarker&&
a.removeMarker(a.$selectionMarker);a.$selectionMarker=null;if(this.selection.isEmpty())this.$updateHighlightActiveLine();else{var b=this.selection.getRange(),c=this.getSelectionStyle();a.$selectionMarker=a.addMarker(b,"ace_selection",c)}a=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(a);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var a=this.session,b=this.getSelectionRange();if(!b.isEmpty()&&!b.isMultiLine()){var c=b.start.column-
1,e=b.end.column+1;a=a.getLine(b.start.row);var d=a.length,f=a.substring(Math.max(c,0),Math.min(e,d));if(!(0<=c&&/^[\w\d]/.test(f)||e<=d&&/[\w\d]$/.test(f))&&(f=a.substring(b.start.column,b.end.column),/^[\w\d]+$/.test(f)))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:f})}};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};
this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(a){this.renderer.updateText();this._emit("changeMode",a)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=
function(){var a=this.getSelectedText();return this._signal("copy",a),a};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(a,b){this.commands.exec("paste",this,{text:a,event:b})};this.$handlePaste=function(a){"string"==typeof a&&(a={text:a});this._signal("paste",a);var b=a.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(b);else{a=b.split(/\r\n|\r|\n/);var c=this.selection.rangeList.ranges;if(a.length>
c.length||2>a.length||!a[1])return this.commands.exec("insertstring",this,b);for(b=c.length;b--;){var e=c[b];e.isEmpty()||this.session.remove(e);this.session.insert(e.start,a[b])}}};this.execCommand=function(a,b){return this.commands.exec(a,this,b)};this.insert=function(a,b){var c=this.session,e=c.getMode(),d=this.getCursorPosition();if(this.getBehavioursEnabled()&&!b){var f=e.transformAction(c.getState(d.row),"insertion",this,c,a);f&&(a!==f.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=
!1),a=f.text)}"\t"==a&&(a=this.session.getTabString());this.selection.isEmpty()?this.session.getOverwrite()&&-1==a.indexOf("\n")&&(b=new q.fromPoints(d,d),b.end.column+=a.length,this.session.remove(b)):(b=this.getSelectionRange(),d=this.session.remove(b),this.clearSelection());if("\n"==a||"\r\n"==a){var g=c.getLine(d.row);d.column>g.search(/\S|$/)&&(b=g.substr(d.column).search(/\S|$/),c.doc.removeInLine(d.row,d.column,d.column+b))}this.clearSelection();var h=d.column;b=c.getState(d.row);g=c.getLine(d.row);
var k=e.checkOutdent(b,g,a);c.insert(d,a);f&&f.selection&&(2==f.selection.length?this.selection.setSelectionRange(new q(d.row,h+f.selection[0],d.row,h+f.selection[1])):this.selection.setSelectionRange(new q(d.row+f.selection[0],f.selection[1],d.row+f.selection[2],f.selection[3])));c.getDocument().isNewLine(a)&&(a=e.getNextLineIndent(b,g.slice(0,d.column),c.getTabString()),c.insert({row:d.row+1,column:0},a));k&&e.autoOutdent(b,c,d.row)};this.onTextInput=function(a){this.keyBinding.onTextInput(a)};
this.onCommandKey=function(a,b,c){this.keyBinding.onCommandKey(a,b,c)};this.setOverwrite=function(a){this.session.setOverwrite(a)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(a){this.setOption("scrollSpeed",a)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(a){this.setOption("dragDelay",a)};this.getDragDelay=function(){return this.getOption("dragDelay")};
this.setSelectionStyle=function(a){this.setOption("selectionStyle",a)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(a){this.setOption("highlightActiveLine",a)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(a){this.setOption("highlightGutterLine",a)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=
function(a){this.setOption("highlightSelectedWord",a)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(a){this.renderer.setAnimatedScroll(a)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(a){this.renderer.setShowInvisibles(a)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(a){this.renderer.setDisplayIndentGuides(a)};
this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(a){this.renderer.setShowPrintMargin(a)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(a){this.renderer.setPrintMarginColumn(a)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(a){this.setOption("readOnly",a)};this.getReadOnly=function(){return this.getOption("readOnly")};
this.setBehavioursEnabled=function(a){this.setOption("behavioursEnabled",a)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(a){this.setOption("wrapBehavioursEnabled",a)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(a){this.setOption("showFoldWidgets",a)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=
function(a){this.setOption("fadeFoldWidgets",a)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(a){this.selection.isEmpty()&&("left"==a?this.selection.selectLeft():this.selection.selectRight());a=this.getSelectionRange();if(this.getBehavioursEnabled()){var b=this.session,c=b.getState(a.start.row);c=b.getMode().transformAction(c,"deletion",this,b,a);if(0===a.end.column){var e=b.getTextRange(a);"\n"==e[e.length-1]&&(b=b.getLine(a.end.row),/^\s+$/.test(b)&&
(a.end.column=b.length))}c&&(a=c)}this.session.remove(a);this.clearSelection()};this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.session.remove(this.getSelectionRange());
this.clearSelection()};this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var a=this.getSelectionRange();a.start.column==a.end.column&&a.start.row==a.end.row&&(a.end.column=0,a.end.row++);this.session.remove(a);this.clearSelection()};this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var a=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(a)};this.transposeLetters=function(){if(this.selection.isEmpty()){var a=
this.getCursorPosition(),b=a.column;if(0!==b){var c=this.session.getLine(a.row),e,d;b<c.length?(e=c.charAt(b)+c.charAt(b-1),d=new q(a.row,b-1,a.row,b+1)):(e=c.charAt(b-1)+c.charAt(b-2),d=new q(a.row,b-2,a.row,b));this.session.replace(d,e);this.session.selection.moveToPosition(d.end)}}};this.toLowerCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toLowerCase());
this.selection.setSelectionRange(a)};this.toUpperCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toUpperCase());this.selection.setSelectionRange(a)};this.indent=function(){var a=this.session,b=this.getSelectionRange();if(b.start.row<b.end.row)b=this.$getSelectedRows(),a.indentRows(b.first,b.last,"\t");else{if(b.start.column<b.end.column){var c=a.getTextRange(b);
if(!/^\s+$/.test(c)){b=this.$getSelectedRows();a.indentRows(b.first,b.last,"\t");return}}c=a.getLine(b.start.row);var e=b.start,d=a.getTabSize();a=a.documentToScreenColumn(e.row,e.column);if(this.session.getUseSoftTabs())b=f.stringRepeat(" ",d-a%d);else{for(a%=d;" "==c[b.start.column-1]&&a;)b.start.column--,a--;this.selection.setSelectionRange(b);b="\t"}return this.insert(b)}};this.blockIndent=function(){var a=this.$getSelectedRows();this.session.indentRows(a.first,a.last,"\t")};this.blockOutdent=
function(){var a=this.session.getSelection();this.session.outdentRows(a.getRange())};this.sortLines=function(){for(var a=this.$getSelectedRows(),b=this.session,c=[],e=a.first;e<=a.last;e++)c.push(b.getLine(e));c.sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0});var d=new q(0,0,0,0);for(e=a.first;e<=a.last;e++){var f=b.getLine(e);d.start.row=e;d.end.row=e;d.end.column=f.length;b.replace(d,c[e-a.first])}};this.toggleCommentLines=function(){var a=this.session.getState(this.getCursorPosition().row),
b=this.$getSelectedRows();this.session.getMode().toggleCommentLines(a,this.session,b.first,b.last)};this.toggleBlockComment=function(){var a=this.getCursorPosition(),b=this.session.getState(a.row),c=this.getSelectionRange();this.session.getMode().toggleBlockComment(b,this.session,c,a)};this.getNumberAt=function(a,b){var c=/[\-]?[0-9]+(?:\.[0-9]+)?/g;c.lastIndex=0;for(a=this.session.getLine(a);c.lastIndex<b;){var e=c.exec(a);if(e.index<=b&&e.index+e[0].length>=b)return{value:e[0],start:e.index,end:e.index+
e[0].length}}return null};this.modifyNumber=function(a){var b=this.selection.getCursor().row,c=this.selection.getCursor().column,e=new q(b,c-1,b,c);e=this.session.getTextRange(e);if(!isNaN(parseFloat(e))&&isFinite(e)&&(e=this.getNumberAt(b,c))){var d=0<=e.value.indexOf(".")?e.start+e.value.indexOf(".")+1:e.end,f=e.start+e.value.length-d,g=parseFloat(e.value);g*=Math.pow(10,f);d!==e.end&&c<d?a*=Math.pow(10,e.end-c-1):a*=Math.pow(10,e.end-c);g=(g+a)/Math.pow(10,f);a=g.toFixed(f);d=new q(b,e.start,b,
e.end);this.session.replace(d,a);this.moveCursorTo(b,Math.max(e.start+1,c+a.length-e.value.length))}};this.removeLines=function(){var a=this.$getSelectedRows();this.session.removeFullLines(a.first,a.last);this.clearSelection()};this.duplicateSelection=function(){var a=this.selection,b=this.session,c=a.getRange(),e=a.isBackwards();if(c.isEmpty())a=c.start.row,b.duplicateLines(a,a);else{var d=e?c.start:c.end;b=b.insert(d,b.getTextRange(c),!1);c.start=d;c.end=b;a.setSelectionRange(c,e)}};this.moveLinesDown=
function(){this.$moveLines(1,!1)};this.moveLinesUp=function(){this.$moveLines(-1,!1)};this.moveText=function(a,b,c){return this.session.moveText(a,b,c)};this.copyLinesUp=function(){this.$moveLines(-1,!0)};this.copyLinesDown=function(){this.$moveLines(1,!0)};this.$moveLines=function(a,b){var c=this.selection;if(!c.inMultiSelectMode||this.inVirtualSelectionMode){var e=c.toOrientedRange();var d=this.$getSelectedRows(e);var f=this.session.$moveLines(d.first,d.last,b?0:a);b&&-1==a&&(f=0);e.moveBy(f,0);
c.fromOrientedRange(e)}else{e=c.rangeList.ranges;c.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;var g=0;f=0;for(var h=e.length,k=0;k<h;k++){var m=k;e[k].moveBy(g,0);d=this.$getSelectedRows(e[k]);g=d.first;for(d=d.last;++k<h;){f&&e[k].moveBy(f,0);var l=this.$getSelectedRows(e[k]);if(b&&l.first!=d)break;if(!b&&l.first>d+1)break;d=l.last}k--;g=this.session.$moveLines(g,d,b?0:a);for(b&&-1==a&&(m=k+1);m<=k;)e[m].moveBy(g,0),m++;b||(g=0);f+=g}c.fromOrientedRange(c.ranges[0]);c.rangeList.attach(this.session);
this.inVirtualSelectionMode=!1}};this.$getSelectedRows=function(a){return a=(a||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(a.start.row),last:this.session.getRowFoldEnd(a.end.row)}};this.onCompositionStart=function(a){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(a){this.renderer.setCompositionText(a)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()};
this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(a){return a>=this.getFirstVisibleRow()&&a<=this.getLastVisibleRow()};this.isRowFullyVisible=function(a){return a>=this.renderer.getFirstFullyVisibleRow()&&a<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(a,b){var c=this.renderer,e=this.renderer.layerConfig,d=a*Math.floor(e.height/
e.lineHeight);this.$blockScrolling++;!0===b?this.selection.$moveSelection(function(){this.moveCursorBy(d,0)}):!1===b&&(this.selection.moveCursorBy(d,0),this.selection.clearSelection());this.$blockScrolling--;a=c.scrollTop;c.scrollBy(0,d*e.lineHeight);null!=b&&c.scrollCursorIntoView(null,.5);c.animateScrolling(a)};this.selectPageDown=function(){this.$moveByPage(1,!0)};this.selectPageUp=function(){this.$moveByPage(-1,!0)};this.gotoPageDown=function(){this.$moveByPage(1,!1)};this.gotoPageUp=function(){this.$moveByPage(-1,
!1)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(a){this.renderer.scrollToRow(a)};this.scrollToLine=function(a,b,c,e){this.renderer.scrollToLine(a,b,c,e)};this.centerSelection=function(){var a=this.getSelectionRange();this.renderer.alignCursor({row:Math.floor(a.start.row+(a.end.row-a.start.row)/2),column:Math.floor(a.start.column+(a.end.column-a.start.column)/2)},.5)};this.getCursorPosition=function(){return this.selection.getCursor()};
this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();--this.$blockScrolling};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(a,b){this.selection.moveCursorTo(a,b)};this.moveCursorToPosition=function(a){this.selection.moveCursorToPosition(a)};this.jumpToMatching=
function(a,b){var c=this.getCursorPosition(),e=new r(this.session,c.row,c.column),d=e.getCurrentToken(),f=d||e.stepForward();if(f){var g,h=!1,k={},m=c.column-f.start,l={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(f.value.match(/[{}()\[\]]/g))for(;m<f.value.length&&!h;m++){if(l[f.value[m]]){var t=l[f.value[m]]+"."+f.type.replace("rparen","lparen");isNaN(k[t])&&(k[t]=0);switch(f.value[m]){case "(":case "[":case "{":k[t]++;break;case ")":case "]":case "}":k[t]--,-1===k[t]&&(g="bracket",h=
!0)}}}else f&&-1!==f.type.indexOf("tag-name")&&(isNaN(k[f.value])&&(k[f.value]=0),"<"===d.value?k[f.value]++:"</"===d.value&&k[f.value]--,-1===k[f.value]&&(g="tag",h=!0));h||(d=f,f=e.stepForward(),m=0)}while(f&&!h);if(g){if("bracket"===g){var n=this.session.getBracketRange(c);if(!n){n=new q(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+m-1,e.getCurrentTokenRow(),e.getCurrentTokenColumn()+m-1);var x=n.start;if(b||x.row===c.row&&2>Math.abs(x.column-c.column))n=this.session.getBracketRange(x)}}else if("tag"===
g){if(!f||-1===f.type.indexOf("tag-name"))return;g=f.value;n=new q(e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2,e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2);if(0===n.compare(c.row,c.column)){h=!1;do f=d,(d=e.stepBackward())&&(-1!==d.type.indexOf("tag-close")&&n.setEnd(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1),f.value===g&&-1!==f.type.indexOf("tag-name")&&("<"===d.value?k[g]++:"</"===d.value&&k[g]--,0===k[g]&&(h=!0)));while(d&&!h)}f&&f.type.indexOf("tag-name")&&(x=n.start,x.row==
c.row&&2>Math.abs(x.column-c.column)&&(x=n.end))}(x=n&&n.cursor||x)&&(a?n&&b?this.selection.setRange(n):n&&n.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(x.row,x.column):this.selection.moveTo(x.row,x.column))}}};this.gotoLine=function(a,b,c){this.selection.clearSelection();this.session.unfold({row:a-1,column:b||0});this.$blockScrolling+=1;this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(a-1,b||0);--this.$blockScrolling;this.isRowFullyVisible(a-
1)||this.scrollToLine(a-1,!0,c)};this.navigateTo=function(a,b){this.selection.moveTo(a,b)};this.navigateUp=function(a){if(this.selection.isMultiLine()&&!this.selection.isBackwards())return a=this.selection.anchor.getPosition(),this.moveCursorToPosition(a);this.selection.clearSelection();this.selection.moveCursorBy(-a||-1,0)};this.navigateDown=function(a){if(this.selection.isMultiLine()&&this.selection.isBackwards())return a=this.selection.anchor.getPosition(),this.moveCursorToPosition(a);this.selection.clearSelection();
this.selection.moveCursorBy(a||1,0)};this.navigateLeft=function(a){if(this.selection.isEmpty())for(a=a||1;a--;)this.selection.moveCursorLeft();else a=this.getSelectionRange().start,this.moveCursorToPosition(a);this.clearSelection()};this.navigateRight=function(a){if(this.selection.isEmpty())for(a=a||1;a--;)this.selection.moveCursorRight();else a=this.getSelectionRange().end,this.moveCursorToPosition(a);this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};
this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(a,b){b&&this.$search.set(b);
b=this.$search.find(this.session);var c=0;return b?(this.$tryReplace(b,a)&&(c=1),null!==b&&(this.selection.setSelectionRange(b),this.renderer.scrollSelectionIntoView(b.start,b.end)),c):c};this.replaceAll=function(a,b){b&&this.$search.set(b);b=this.$search.findAll(this.session);var c=0;if(!b.length)return c;this.$blockScrolling+=1;var e=this.getSelectionRange();this.selection.moveTo(0,0);for(var d=b.length-1;0<=d;--d)this.$tryReplace(b[d],a)&&c++;return this.selection.setSelectionRange(e),--this.$blockScrolling,
c};this.$tryReplace=function(a,b){var c=this.session.getTextRange(a);return b=this.$search.replace(c,b),null!==b?(a.end=this.session.replace(a,b),a):null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(b,c,e){c||(c={});"string"==typeof b||b instanceof RegExp?c.needle=b:"object"==typeof b&&a.mixin(c,b);var d=this.selection.getRange();null==c.needle&&(b=this.session.getTextRange(d)||this.$search.$options.needle,b||(d=this.session.getWordRange(d.start.row,d.start.column),
b=this.session.getTextRange(d)),this.$search.set({needle:b}));this.$search.set(c);c.start||this.$search.set({start:d});b=this.$search.find(this.session);if(c.preventScroll)return b;if(b)return this.revealRange(b,e),b;c.backwards?d.start=d.end:d.end=d.start;this.selection.setRange(d)};this.findNext=function(a,b){this.find({skipCurrent:!0,backwards:!1},a,b)};this.findPrevious=function(a,b){this.find(a,{skipCurrent:!0,backwards:!0},b)};this.revealRange=function(a,b){this.$blockScrolling+=1;this.session.unfold(a);
this.selection.setSelectionRange(a);--this.$blockScrolling;var c=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(a.start,a.end,.5);!1!==b&&this.renderer.animateScrolling(c)};this.undo=function(){this.$blockScrolling++;this.session.getUndoManager().undo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.redo=function(){this.$blockScrolling++;this.session.getUndoManager().redo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.renderer.destroy();
this._signal("destroy",this);this.session&&this.session.destroy()};this.setAutoScrollEditorIntoView=function(a){if(a){var b,c=this,e=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var d=this.$scrollAnchor;d.style.cssText="position:absolute";this.container.insertBefore(d,this.container.firstChild);var f=this.on("changeSelection",function(){e=!0}),g=this.renderer.on("beforeRender",function(){e&&(b=c.renderer.container.getBoundingClientRect())}),h=this.renderer.on("afterRender",
function(){if(e&&b&&(c.isFocused()||c.searchBox&&c.searchBox.isFocused())){var a=c.renderer,f=a.$cursorLayer.$pixelPos;a=a.layerConfig;var g=f.top-a.offset;0<=f.top&&0>g+b.top?e=!0:f.top<a.height&&f.top+b.top+a.lineHeight>window.innerHeight?e=!1:e=null;null!=e&&(d.style.top=g+"px",d.style.left=f.left+"px",d.style.height=a.lineHeight+"px",d.scrollIntoView(e));e=b=null}});this.setAutoScrollEditorIntoView=function(a){a||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",f),this.renderer.off("afterRender",
h),this.renderer.off("beforeRender",g))}}};this.$resetCursorStyle=function(){var a=this.$cursorStyle||"ace",b=this.renderer.$cursorLayer;b&&(b.setSmoothBlinking(/smooth/.test(a)),b.isBlinking=!this.$readOnly&&"wide"!=a,d.setCssClass(b.element,"ace_slim-cursors",/slim/.test(a)))}}).call(B.prototype);C.defineOptions(B.prototype,"editor",{selectionStyle:{set:function(a){this.onSelectionChange();this._signal("changeSelectionStyle",{data:a})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},
initialValue:!0},highlightSelectedWord:{set:function(a){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(a){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(a){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(a){this.setAutoScrollEditorIntoView(a)}},keyboardHandler:{set:function(a){this.setKeyboardHandler(a)},
get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",
scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});n.Editor=B});
define("ace/undomanager",["require","exports","module"],function(b,n,u){b=function(){this.reset()};(function(){function a(a){return{action:a.action,start:a.start,end:a.end,lines:1==a.lines.length?null:a.lines,text:1==a.lines.length?a.lines[0]:null}}function b(a){return{action:a.action,start:a.start,end:a.end,lines:a.lines||[a.text]}}function f(a,b){for(var c=Array(a.length),d=0;d<a.length;d++){for(var f=a[d],e={group:f.group,deltas:Array(f.length)},g=0;g<f.deltas.length;g++)e.deltas[g]=b(f.deltas[g]);
c[d]=e}return c}this.execute=function(a){var b=a.args[0];this.$doc=a.args[1];a.merge&&this.hasUndo()&&(this.dirtyCounter--,b=this.$undoStack.pop().concat(b));this.$undoStack.push(b);this.$redoStack=[];0>this.dirtyCounter&&(this.dirtyCounter=NaN);this.dirtyCounter++};this.undo=function(a){var b=this.$undoStack.pop(),d=null;return b&&(d=this.$doc.undoChanges(b,a),this.$redoStack.push(b),this.dirtyCounter--),d};this.redo=function(a){var b=this.$redoStack.pop(),d=null;return b&&(d=this.$doc.redoChanges(this.$deserializeDeltas(b),
a),this.$undoStack.push(b),this.dirtyCounter++),d};this.reset=function(){this.$undoStack=[];this.$redoStack=[];this.dirtyCounter=0};this.hasUndo=function(){return 0<this.$undoStack.length};this.hasRedo=function(){return 0<this.$redoStack.length};this.markClean=function(){this.dirtyCounter=0};this.isClean=function(){return 0===this.dirtyCounter};this.$serializeDeltas=function(b){return f(b,a)};this.$deserializeDeltas=function(a){return f(a,b)}}).call(b.prototype);n.UndoManager=b});
define("ace/layer/gutter","require exports module ace/lib/dom ace/lib/oop ace/lib/lang ace/lib/event_emitter".split(" "),function(b,n,u){var a=b("../lib/dom"),d=b("../lib/oop"),f=b("../lib/lang"),g=b("../lib/event_emitter").EventEmitter;b=function(b){this.element=a.createElement("div");this.element.className="ace_layer ace_gutter-layer";b.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);
this.$cells=[]};(function(){d.implement(this,g);this.setSession=function(a){this.session&&this.session.removeEventListener("change",this.$updateAnnotations);(this.session=a)&&a.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(a,b){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(a,b)};this.removeGutterDecoration=function(a,b){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration");
this.session.removeGutterDecoration(a,b)};this.setAnnotations=function(a){this.$annotations=[];for(var b=0;b<a.length;b++){var c=a[b],d=c.row,e=this.$annotations[d];e||(e=this.$annotations[d]={text:[]});d=(d=c.text)?f.escapeHTML(d):c.html||"";-1===e.text.indexOf(d)&&e.text.push(d);c=c.type;"error"==c?e.className=" ace_error":"warning"==c&&" ace_error"!=e.className?e.className=" ace_warning":"info"==c&&!e.className&&(e.className=" ace_info")}};this.$updateAnnotations=function(a){if(this.$annotations.length){var b=
a.start.row,c=a.end.row-b;0!==c&&("remove"==a.action?this.$annotations.splice(b,c+1,null):(a=Array(c+1),a.unshift(b,1),this.$annotations.splice.apply(this.$annotations,a)))}};this.update=function(b){for(var c=this.session,d=b.firstRow,f=Math.min(b.lastRow+b.gutterOffset,c.getLength()-1),e=c.getNextFoldLine(d),g=e?e.start.row:Infinity,q=this.$showFoldWidgets&&c.foldWidgets,n=c.$breakpoints,z=c.$decorations,t=c.$firstLineNumber,C=0,r=c.gutterRenderer||this.$renderer,u=-1,y=d;;){y>g&&(y=e.end.row+1,
e=c.getNextFoldLine(y,e),g=e?e.start.row:Infinity);if(y>f){for(;this.$cells.length>u+1;)d=this.$cells.pop(),this.element.removeChild(d.element);break}(d=this.$cells[++u])||(d={element:null,textNode:null,foldWidget:null},d.element=a.createElement("div"),d.textNode=document.createTextNode(""),d.element.appendChild(d.textNode),this.element.appendChild(d.element),this.$cells[u]=d);C="ace_gutter-cell ";n[y]&&(C+=n[y]);z[y]&&(C+=z[y]);this.$annotations[y]&&(C+=this.$annotations[y].className);d.element.className!=
C&&(d.element.className=C);C=c.getRowLength(y)*b.lineHeight+"px";C!=d.element.style.height&&(d.element.style.height=C);if(q){var A=q[y];null==A&&(A=q[y]=c.getFoldWidget(y))}A?(d.foldWidget||(d.foldWidget=a.createElement("span"),d.element.appendChild(d.foldWidget)),C="ace_fold-widget ace_"+A,"start"==A&&y==g&&y<e.end.row?C+=" ace_closed":C+=" ace_open",d.foldWidget.className!=C&&(d.foldWidget.className=C),C=b.lineHeight+"px",d.foldWidget.style.height!=C&&(d.foldWidget.style.height=C)):d.foldWidget&&
(d.element.removeChild(d.foldWidget),d.foldWidget=null);var G=C=r?r.getText(c,y):y+t;G!==d.textNode.data&&(d.textNode.data=G);y++}this.element.style.height=b.minHeight+"px";if(this.$fixedWidth||c.$useWrapMode)C=c.getLength()+t;b=r?r.getWidth(c,C,b):C.toString().length*b.characterWidth;c=this.$padding||this.$computePadding();b+=c.left+c.right;b!==this.gutterWidth&&!isNaN(b)&&(this.gutterWidth=b,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",b))};this.$fixedWidth=
!1;this.$showLineNumbers=!0;this.$renderer="";this.setShowLineNumbers=function(a){this.$renderer=!a&&{getWidth:function(){return""},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=!0;this.setShowFoldWidgets=function(b){b?a.addCssClass(this.element,"ace_folding-enabled"):a.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=b;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};
this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var b=a.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(b.paddingLeft)+1||0,this.$padding.right=parseInt(b.paddingRight)||0,this.$padding};this.getRegion=function(a){var b=this.$padding||this.$computePadding(),c=this.element.getBoundingClientRect();if(a.x<b.left+c.left)return"markers";if(this.$showFoldWidgets&&a.x>c.right-b.right)return"foldWidgets"}}).call(b.prototype);n.Gutter=
b});
define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(b,n,u){var a=b("../range").Range,d=b("../lib/dom");b=function(a){this.element=d.createElement("div");this.element.className="ace_layer ace_marker-layer";a.appendChild(this.element)};(function(){this.$padding=0;this.setPadding=function(a){this.$padding=a};this.setSession=function(a){this.session=a};this.setMarkers=function(a){this.markers=a};this.update=function(a){if(a){this.config=a;var b=[],c;for(c in this.markers){var d=this.markers[c];
if(d.range){var f=d.range.clipRows(a.firstRow,a.lastRow);if(!f.isEmpty())if(f=f.toScreenRange(this.session),d.renderer){var m=this.$getTop(f.start.row,a),e=this.$padding+(this.session.$bidiHandler.isBidiRow(f.start.row)?this.session.$bidiHandler.getPosLeft(f.start.column):f.start.column*a.characterWidth);d.renderer(b,f,e,m,a)}else"fullLine"==d.type?this.drawFullLineMarker(b,f,d.clazz,a):"screenLine"==d.type?this.drawScreenLineMarker(b,f,d.clazz,a):f.isMultiLine()?"text"==d.type?this.drawTextMarker(b,
f,d.clazz,a):this.drawMultiLineMarker(b,f,d.clazz,a):this.session.$bidiHandler.isBidiRow(f.start.row)?this.drawBidiSingleLineMarker(b,f,d.clazz+" ace_start ace_br15",a):this.drawSingleLineMarker(b,f,d.clazz+" ace_start ace_br15",a)}else d.update(b,this,this.session,a)}this.element.innerHTML=b.join("")}};this.$getTop=function(a,b){return(a-b.firstRowScreen)*b.lineHeight};this.drawTextMarker=function(b,d,c,h,k){for(var f=this.session,e=d.start.row,g=d.end.row,q=e,n,z=0,t=f.getScreenLastRowColumn(q),
C=new a(q,d.start.column,q,z);q<=g;q++)C.start.row=C.end.row=q,C.start.column=q==e?d.start.column:f.getRowWrapIndent(q),C.end.column=t,n=z,z=t,t=q+1<g?f.getScreenLastRowColumn(q+1):q==g?0:d.end.column,n=c+(q==e?" ace_start":"")+" ace_br"+((q==e||q==e+1&&d.start.column?1:0)|(n<z?2:0)|(z>t?4:0)|(q==g?8:0)),this.session.$bidiHandler.isBidiRow(q)?this.drawBidiSingleLineMarker(b,C,n,h,q==g?0:1,k):this.drawSingleLineMarker(b,C,n,h,q==g?0:1,k)};this.drawMultiLineMarker=function(a,b,c,d,k){var f=this.$padding;
k=k||"";if(this.session.$bidiHandler.isBidiRow(b.start.row)){var e=b.clone();e.end.row=e.start.row;e.end.column=this.session.getLine(e.start.row).length;this.drawBidiSingleLineMarker(a,e,c+" ace_br1 ace_start",d,null,k)}else{e=d.lineHeight;var g=this.$getTop(b.start.row,d);var h=f+b.start.column*d.characterWidth;a.push("<div class='",c," ace_br1 ace_start' style='","height:",e,"px;","right:0;","top:",g,"px;","left:",h,"px;",k,"'></div>")}this.session.$bidiHandler.isBidiRow(b.end.row)?(e=b.clone(),
e.start.row=e.end.row,e.start.column=0,this.drawBidiSingleLineMarker(a,e,c+" ace_br12",d,null,k)):(h=b.end.column*d.characterWidth,e=d.lineHeight,g=this.$getTop(b.end.row,d),a.push("<div class='",c," ace_br12' style='","height:",e,"px;","width:",h,"px;","top:",g,"px;","left:",f,"px;",k,"'></div>"));e=(b.end.row-b.start.row-1)*d.lineHeight;0>=e||(g=this.$getTop(b.start.row+1,d),b=(b.start.column?1:0)|(b.end.column?0:8),a.push("<div class='",c,b?" ace_br"+b:"","' style='","height:",e,"px;","right:0;",
"top:",g,"px;","left:",f,"px;",k,"'></div>"))};this.drawSingleLineMarker=function(a,b,c,d,k,m){var e=d.lineHeight;k=(b.end.column+(k||0)-b.start.column)*d.characterWidth;var f=this.$getTop(b.start.row,d);a.push("<div class='",c,"' style='","height:",e,"px;","width:",k,"px;","top:",f,"px;","left:",this.$padding+b.start.column*d.characterWidth,"px;",m||"","'></div>")};this.drawBidiSingleLineMarker=function(a,b,c,d,k,m){var e=d.lineHeight,f=this.$getTop(b.start.row,d),g=this.$padding;this.session.$bidiHandler.getSelections(b.start.column,
b.end.column).forEach(function(b){a.push("<div class='",c,"' style='","height:",e,"px;","width:",b.width+(k||0),"px;","top:",f,"px;","left:",g+b.left,"px;",m||"","'></div>")})};this.drawFullLineMarker=function(a,b,c,d,k){var f=this.$getTop(b.start.row,d),e=d.lineHeight;b.start.row!=b.end.row&&(e+=this.$getTop(b.end.row,d)-f);a.push("<div class='",c,"' style='","height:",e,"px;","top:",f,"px;","left:0;right:0;",k||"","'></div>")};this.drawScreenLineMarker=function(a,b,c,d,k){b=this.$getTop(b.start.row,
d);a.push("<div class='",c,"' style='","height:",d.lineHeight,"px;","top:",b,"px;","left:0;right:0;",k||"","'></div>")}}).call(b.prototype);n.Marker=b});
define("ace/layer/text","require exports module ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/lib/event_emitter".split(" "),function(b,n,u){var a=b("../lib/oop"),d=b("../lib/dom"),f=b("../lib/lang");b("../lib/useragent");var g=b("../lib/event_emitter").EventEmitter;b=function(a){this.element=d.createElement("div");this.element.className="ace_layer ace_text-layer";a.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){a.implement(this,g);this.EOF_CHAR=
"\u00b6";this.EOL_CHAR_LF="\u00ac";this.EOL_CHAR_CRLF="\u00a4";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="\u2014";this.SPACE_CHAR="\u00b7";this.$padding=0;this.$updateEolChar=function(){var a="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=a)return this.EOL_CHAR=a,!0};this.setPadding=function(a){this.$padding=a;this.element.style.padding="0 "+a+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=
function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(a){this.$fontMetrics=a;this.$fontMetrics.on("changeCharacterSize",function(a){this._signal("changeCharacterSize",a)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(a){(this.session=a)&&this.$computeTabString()};this.showInvisibles=
!1;this.setShowInvisibles=function(a){return this.showInvisibles==a?!1:(this.showInvisibles=a,this.$computeTabString(),!0)};this.displayIndentGuides=!0;this.setDisplayIndentGuides=function(a){return this.displayIndentGuides==a?!1:(this.displayIndentGuides=a,this.$computeTabString(),!0)};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var a=this.session.getTabSize();this.tabSize=a;for(var b=this.$tabStrings=[0],d=1;d<a+1;d++)this.showInvisibles?b.push("<span class='ace_invisible ace_invisible_tab'>"+
f.stringRepeat(this.TAB_CHAR,d)+"</span>"):b.push(f.stringRepeat(" ",d));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;a="ace_indent-guide";d=b="";if(this.showInvisibles){a+=" ace_invisible";b=" ace_invisible_space";d=" ace_invisible_tab";var g=f.stringRepeat(this.SPACE_CHAR,this.tabSize),e=f.stringRepeat(this.TAB_CHAR,this.tabSize)}else e=g=f.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+a+b+"'>"+g+"</span>";this.$tabStrings["\t"]="<span class='"+a+d+
"'>"+e+"</span>"}};this.updateLines=function(a,b,d){this.config.lastRow==a.lastRow&&this.config.firstRow==a.firstRow||this.scrollLines(a);this.config=a;var c=Math.max(b,a.firstRow);d=Math.min(d,a.lastRow);b=this.element.childNodes;for(var e=0,f=a.firstRow;f<c;f++){var g=this.session.getFoldLine(f);if(g){if(g.containsRow(c)){c=g.start.row;break}f=g.end.row}e++}f=c;for(c=(g=this.session.getNextFoldLine(f))?g.start.row:Infinity;;){f>c&&(f=g.end.row+1,g=this.session.getNextFoldLine(f,g),c=g?g.start.row:
Infinity);if(f>d)break;var h=b[e++];if(h){var k=[];this.$renderLine(k,f,!this.$useLineGroups(),f==c?g:!1);h.style.height=a.lineHeight*this.session.getRowLength(f)+"px";h.innerHTML=k.join("")}f++}};this.scrollLines=function(a){var b=this.config;this.config=a;if(!b||b.lastRow<a.firstRow||a.lastRow<b.firstRow)return this.update(a);var c=this.element;if(b.firstRow<a.firstRow)for(var d=this.session.getFoldedRowCount(b.firstRow,a.firstRow-1);0<d;d--)c.removeChild(c.firstChild);if(b.lastRow>a.lastRow)for(d=
this.session.getFoldedRowCount(a.lastRow+1,b.lastRow);0<d;d--)c.removeChild(c.lastChild);a.firstRow<b.firstRow&&(d=this.$renderLinesFragment(a,a.firstRow,b.firstRow-1),c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d));a.lastRow>b.lastRow&&(d=this.$renderLinesFragment(a,b.lastRow+1,a.lastRow),c.appendChild(d))};this.$renderLinesFragment=function(a,b,f){for(var c=this.element.ownerDocument.createDocumentFragment(),e=this.session.getNextFoldLine(b),g=e?e.start.row:Infinity;;){b>g&&(b=e.end.row+
1,e=this.session.getNextFoldLine(b,e),g=e?e.start.row:Infinity);if(b>f)break;var h=d.createElement("div"),k=[];this.$renderLine(k,b,!1,b==g?e:!1);h.innerHTML=k.join("");if(this.$useLineGroups())h.className="ace_line_group",c.appendChild(h),h.style.height=a.lineHeight*this.session.getRowLength(b)+"px";else for(;h.firstChild;)c.appendChild(h.firstChild);b++}return c};this.update=function(a){this.config=a;for(var b=[],c=a.lastRow,d=a.firstRow,e=this.session.getNextFoldLine(d),f=e?e.start.row:Infinity;;){d>
f&&(d=e.end.row+1,e=this.session.getNextFoldLine(d,e),f=e?e.start.row:Infinity);if(d>c)break;this.$useLineGroups()&&b.push("<div class='ace_line_group' style='height:",a.lineHeight*this.session.getRowLength(d),"px'>");this.$renderLine(b,d,!1,d==f?e:!1);this.$useLineGroups()&&b.push("</div>");d++}this.element.innerHTML=b.join("")};this.$textToken={text:!0,rparen:!0,lparen:!0};this.$renderToken=function(a,b,d,g){var c=this,h=g.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
function(a,e,d,g,h){return e?c.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+f.stringRepeat(c.SPACE_CHAR,a.length)+"</span>":a:"&"==a?"&#38;":"<"==a?"&#60;":">"==a?"&#62;":"\t"==a?(a=c.session.getScreenTabSize(b+g),b+=a-1,c.$tabStrings[a]):"\u3000"==a?(a=c.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",e=c.showInvisibles?c.SPACE_CHAR:"",b+=1,"<span class='"+a+"' style='width:"+2*c.config.characterWidth+"px'>"+e+"</span>"):d?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+
c.SPACE_CHAR+"</span>":(b+=1,"<span class='ace_cjk' style='width:"+2*c.config.characterWidth+"px'>"+a+"</span>")});if(this.$textToken[d.type])a.push(h);else{var k="ace_"+d.type.replace(/\./g," ace_"),m="";"fold"==d.type&&(m=" style='width:"+d.value.length*this.config.characterWidth+"px;' ");a.push("<span class='",k,"'",m,">",h,"</span>")}return b+g.length};this.renderIndentGuide=function(a,b,d){var c=b.search(this.$indentGuideRe);return 0>=c||c>=d?b:" "==b[0]?(c-=c%this.tabSize,a.push(f.stringRepeat(this.$tabStrings[" "],
c/this.tabSize)),b.substr(c)):"\t"==b[0]?(a.push(f.stringRepeat(this.$tabStrings["\t"],c)),b.substr(c)):b};this.$renderWrappedLine=function(a,b,d,g){for(var c=0,h=0,k=d[0],m=0,n=0;n<b.length;n++){var t=b[n],C=t.value;if(0==n&&this.displayIndentGuides){c=C.length;C=this.renderIndentGuide(a,C,k);if(!C)continue;c-=C.length}if(c+C.length<k)m=this.$renderToken(a,m,t,C),c+=C.length;else{for(;c+C.length>=k;)this.$renderToken(a,m,t,C.substring(0,k-c)),C=C.substring(k-c),c=k,g||a.push("</div>","<div class='ace_line' style='height:",
this.config.lineHeight,"px'>"),a.push(f.stringRepeat("\u00a0",d.indent)),h++,m=0,k=d[h]||Number.MAX_VALUE;0!=C.length&&(c+=C.length,m=this.$renderToken(a,m,t,C))}}};this.$renderSimpleLine=function(a,b){var c=0,d=b[0],e=d.value;this.displayIndentGuides&&(e=this.renderIndentGuide(a,e));e&&(c=this.$renderToken(a,c,d,e));for(var f=1;f<b.length;f++)d=b[f],e=d.value,c=this.$renderToken(a,c,d,e)};this.$renderLine=function(a,b,d,f){!f&&0!=f&&(f=this.session.getFoldLine(b));var c=f?this.$getFoldLineTokens(b,
f):this.session.getTokens(b);d||a.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(b)),"px'>");if(c.length){var g=this.session.getRowSplitData(b);g&&g.length?this.$renderWrappedLine(a,c,g,d):this.$renderSimpleLine(a,c)}this.showInvisibles&&(f&&(b=f.end.row),a.push("<span class='ace_invisible ace_invisible_eol'>",b==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>"));d||a.push("</div>")};this.$getFoldLineTokens=function(a,
b){var c=this.session,d=[],e=c.getTokens(a);return b.walk(function(a,b,f,g,h){if(null!=a)d.push({type:"fold",value:a});else if(h&&(e=c.getTokens(b)),e.length)a:{a=e;for(h=b=0;h+a[b].value.length<g;)if(h+=a[b].value.length,b++,b==a.length)break a;if(h!=g){var k=a[b].value.substring(g-h);k.length>f-g&&(k=k.substring(0,f-g));d.push({type:a[b].type,value:k});h=g+k.length;b+=1}for(;h<f&&b<a.length;)k=a[b].value,k.length+h>f?d.push({type:a[b].type,value:k.substring(0,f-h)}):d.push(a[b]),h+=k.length,b+=
1}},b.end.row,this.session.getLine(b.end.row).length),d};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode);delete this.$measureNode}}).call(b.prototype);n.Text=b});
define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(b,n,u){var a=b("../lib/dom"),d;b=function(b){this.element=a.createElement("div");this.element.className="ace_layer ace_cursor-layer";b.appendChild(this.element);void 0===d&&(d=!("opacity"in this.element.style));this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1E3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();a.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=(d?this.$updateVisibility:
this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(a){for(var b=this.cursors,c=b.length;c--;)b[c].style.visibility=a?"":"hidden"};this.$updateOpacity=function(a){for(var b=this.cursors,c=b.length;c--;)b[c].style.opacity=a?"":"0"};this.$padding=0;this.setPadding=function(a){this.$padding=a};this.setSession=function(a){this.session=a};this.setBlinking=function(a){a!=this.isBlinking&&(this.isBlinking=a,this.restartTimer())};this.setBlinkInterval=function(a){a!=this.blinkInterval&&
(this.blinkInterval=a,this.restartTimer())};this.setSmoothBlinking=function(b){b!=this.smoothBlinking&&!d&&(this.smoothBlinking=b,a.setCssClass(this.element,"ace_smooth-blinking",b),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())};this.addCursor=function(){var b=a.createElement("div");return b.className="ace_cursor",this.element.appendChild(b),this.cursors.push(b),b};this.removeCursor=function(){if(1<this.cursors.length){var a=this.cursors.pop();return a.parentNode.removeChild(a),
a}};this.hideCursor=function(){this.isVisible=!1;a.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=!0;a.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var b=this.$updateCursors;clearInterval(this.intervalId);clearTimeout(this.timeoutId);this.smoothBlinking&&a.removeCssClass(this.element,"ace_smooth-blinking");b(!0);if(this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&
setTimeout(function(){a.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var d=function(){this.timeoutId=setTimeout(function(){b(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){b(!0);d()},this.blinkInterval);d()}};this.getPixelPosition=function(a,b){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(a);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,
a.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),top:(c.row-(b?this.config.firstRowScreen:0))*this.config.lineHeight}};this.update=function(a){this.config=a;var b=this.session.$selectionMarkers,c=0;if(void 0===b||0===b.length)b=[{cursor:null}];var d=0;for(var f=b.length;d<f;d++){var m=this.getPixelPosition(b[d].cursor,!0);if(!((m.top>a.height+a.offset||0>m.top)&&1<d)){var e=(this.cursors[c++]||this.addCursor()).style;this.drawCursor?this.drawCursor(e,m,a,
b[d],this.session):(e.left=m.left+"px",e.top=m.top+"px",e.width=a.characterWidth+"px",e.height=a.lineHeight+"px")}}for(;this.cursors.length>c;)this.removeCursor();a=this.session.getOverwrite();this.$setOverwrite(a);this.$pixelPos=m;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(b){b!=this.overwrite&&(this.overwrite=b,b?a.addCssClass(this.element,"ace_overwrite-cursors"):a.removeCssClass(this.element,"ace_overwrite-cursors"))};this.destroy=function(){clearInterval(this.intervalId);
clearTimeout(this.timeoutId)}}).call(b.prototype);n.Cursor=b});
define("ace/scrollbar","require exports module ace/lib/oop ace/lib/dom ace/lib/event ace/lib/event_emitter".split(" "),function(b,n,u){var a=b("./lib/oop"),d=b("./lib/dom"),f=b("./lib/event"),g=b("./lib/event_emitter").EventEmitter,c=function(a){this.element=d.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=d.createElement("div");this.inner.className="ace_scrollbar-inner";this.element.appendChild(this.inner);a.appendChild(this.element);this.setVisible(!1);
this.skipEvent=!1;f.addListener(this.element,"scroll",this.onScroll.bind(this));f.addListener(this.element,"mousedown",f.preventDefault)};(function(){a.implement(this,g);this.setVisible=function(a){this.element.style.display=a?"":"none";this.isVisible=a;this.coeff=1}}).call(c.prototype);b=function(a,b){c.call(this,a);this.scrollHeight=this.scrollTop=0;b.$scrollbarWidth=this.width=d.scrollbarWidth(a.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px";this.$minWidth=
0};a.inherits(b,c);(function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(1!=this.coeff){var a=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-a)/(this.coeff-a)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1};this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)};this.setHeight=function(a){this.element.style.height=a+"px"};this.setInnerHeight=this.setScrollHeight=
function(a){this.scrollHeight=a;32768<a?(this.coeff=32768/a,a=32768):1!=this.coeff&&(this.coeff=1);this.inner.style.height=a+"px"};this.setScrollTop=function(a){this.scrollTop!=a&&(this.skipEvent=!0,this.scrollTop=a,this.element.scrollTop=a*this.coeff)}}).call(b.prototype);u=function(a,b){c.call(this,a);this.scrollLeft=0;this.height=b.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};a.inherits(u,c);(function(){this.classSuffix="-h";this.onScroll=function(){this.skipEvent||
(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft}));this.skipEvent=!1};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(a){this.element.style.width=a+"px"};this.setInnerWidth=function(a){this.inner.style.width=a+"px"};this.setScrollWidth=function(a){this.inner.style.width=a+"px"};this.setScrollLeft=function(a){this.scrollLeft!=a&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=a)}}).call(u.prototype);n.ScrollBar=b;n.ScrollBarV=
b;n.ScrollBarH=u;n.VScrollBar=b;n.HScrollBar=u});define("ace/renderloop",["require","exports","module","ace/lib/event"],function(b,n,u){var a=b("./lib/event");b=function(a,b){this.onRender=a;this.pending=!1;this.changes=0;this.window=b||window};(function(){this.schedule=function(b){this.changes|=b;if(!this.pending&&this.changes){this.pending=!0;var d=this;a.nextFrame(function(){d.pending=!1;for(var a;a=d.changes;)d.changes=0,d.onRender(a)},this.window)}}}).call(b.prototype);n.RenderLoop=b});
define("ace/layer/font_metrics","require exports module ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/lib/event_emitter".split(" "),function(b,n,u){var a=b("../lib/oop"),d=b("../lib/dom"),f=b("../lib/lang"),g=b("../lib/useragent"),c=b("../lib/event_emitter").EventEmitter,h=0;b=n.FontMetrics=function(a){this.el=d.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=d.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=d.createElement("div");
this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);a.appendChild(this.el);h||this.$testFractionalRect();this.$measureNode.innerHTML=f.stringRepeat("X",h);this.$characterSize={width:0,height:0};this.checkForSizeChanges()};(function(){a.implement(this,c);this.$characterSize={width:0,height:0};this.$testFractionalRect=function(){var a=d.createElement("div");this.$setMeasureNodeStyles(a.style);a.style.width="0.2px";document.documentElement.appendChild(a);
var b=a.getBoundingClientRect().width;0<b&&1>b?h=50:h=100;a.parentNode.removeChild(a)};this.$setMeasureNodeStyles=function(a,b){a.width=a.height="auto";a.left=a.top="0px";a.visibility="hidden";a.position="absolute";a.whiteSpace="pre";8>g.isIE?a["font-family"]="inherit":a.font="inherit";a.overflow=b?"hidden":"visible"};this.checkForSizeChanges=function(){var a=this.$measureSizes();if(a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)){this.$measureNode.style.fontWeight=
"bold";var b=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=a;this.charSizes=Object.create(null);this.allowBoldFonts=b&&b.width===a.width&&b.height===a.height;this._emit("changeCharacterSize",{data:a})}};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var a=this;return this.$pollSizeChangesTimer=setInterval(function(){a.checkForSizeChanges()},500)};this.setPolling=function(a){a?this.$pollSizeChanges():this.$pollSizeChangesTimer&&
(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)};this.$measureSizes=function(){if(50===h){var a=null;try{a=this.$measureNode.getBoundingClientRect()}catch(m){a={width:0,height:0}}a={height:a.height,width:a.width/h}}else a={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/h};return 0===a.width||0===a.height?null:a};this.$measureCharWidth=function(a){this.$main.innerHTML=f.stringRepeat(a,h);return this.$main.getBoundingClientRect().width/h};this.getCharacterWidth=
function(a){var b=this.charSizes[a];return void 0===b&&(b=this.charSizes[a]=this.$measureCharWidth(a)/this.$characterSize.width),b};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(b.prototype)});
define("ace/virtual_renderer","require exports module ace/lib/oop ace/lib/dom ace/config ace/lib/useragent ace/layer/gutter ace/layer/marker ace/layer/text ace/layer/cursor ace/scrollbar ace/scrollbar ace/renderloop ace/layer/font_metrics ace/lib/event_emitter".split(" "),function(b,n,u){var a=b("./lib/oop"),d=b("./lib/dom"),f=b("./config"),g=b("./lib/useragent"),c=b("./layer/gutter").Gutter,h=b("./layer/marker").Marker,k=b("./layer/text").Text,m=b("./layer/cursor").Cursor,e=b("./scrollbar").HScrollBar,
l=b("./scrollbar").VScrollBar,q=b("./renderloop").RenderLoop,x=b("./layer/font_metrics").FontMetrics,z=b("./lib/event_emitter").EventEmitter;d.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',
"ace_editor.css");b=function(a,b){var t=this;this.container=a||d.createElement("div");this.$keepTextAreaAtCursor=!g.isOldIE;d.addCssClass(this.container,"ace_editor");this.setTheme(b);this.$gutter=d.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden",!0);this.scroller=d.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=d.createElement("div");this.content.className=
"ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new c(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new h(this.content);this.canvas=(this.$textLayer=new k(this.content)).element;this.$markerFront=new h(this.content);this.$cursorLayer=new m(this.content);this.$vScroll=this.$horizScroll=!1;this.scrollBar=this.scrollBarV=new l(this.container,this);this.scrollBarH=new e(this.container,this);this.scrollBarV.addEventListener("scroll",
function(a){t.$scrollAnimation||t.session.setScrollTop(a.data-t.scrollMargin.top)});this.scrollBarH.addEventListener("scroll",function(a){t.$scrollAnimation||t.session.setScrollLeft(a.data-t.scrollMargin.left)});this.scrollLeft=this.scrollTop=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new x(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.addEventListener("changeCharacterSize",function(a){t.updateCharacterSize();t.onResize(!0,t.gutterWidth,t.$size.width,
t.$size.height);t._signal("changeCharacterSize",a)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$loop=new q(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();
this.setPadding(4);f.resetOptions(this);f._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;a.implement(this,z);this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",
!this.$allowBoldFonts));this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin()};this.setSession=function(a){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode);(this.session=a)&&this.scrollMargin.top&&0>=a.getScrollTop()&&a.setScrollTop(-this.scrollMargin.top);this.$cursorLayer.setSession(a);this.$markerBack.setSession(a);this.$markerFront.setSession(a);
this.$gutterLayer.setSession(a);this.$textLayer.setSession(a);a&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))};this.updateLines=function(a,b,c){void 0===b&&(b=Infinity);this.$changedLines?(this.$changedLines.firstRow>a&&(this.$changedLines.firstRow=
a),this.$changedLines.lastRow<b&&(this.$changedLines.lastRow=b)):this.$changedLines={firstRow:a,lastRow:b};if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(!c)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)};this.onChangeTabSize=
function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(a){a?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()};this.onResize=function(a,b,c,d){if(!(2<this.resizing)){0<
this.resizing?this.resizing++:this.resizing=a?1:0;var e=this.container;d||(d=e.clientHeight||e.scrollHeight);c||(c=e.clientWidth||e.scrollWidth);b=this.$updateCachedSize(a,b,c,d);if(!this.$size.scrollerHeight||!c&&!d)return this.resizing=0;a&&(this.$gutterLayer.$padding=null);a?this.$renderChanges(b|this.$changes,!0):this.$loop.schedule(b|this.$changes);this.resizing&&(this.resizing=0);this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}};this.$updateCachedSize=function(a,b,c,d){d-=this.$extraHeight||
0;var e=0,f=this.$size,g={width:f.width,height:f.height,scrollerHeight:f.scrollerHeight,scrollerWidth:f.scrollerWidth};d&&(a||f.height!=d)&&(f.height=d,e|=this.CHANGE_SIZE,f.scrollerHeight=f.height,this.$horizScroll&&(f.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",e|=this.CHANGE_SCROLL);c&&(a||f.width!=c)&&(e|=this.CHANGE_SIZE,f.width=c,null==b&&(b=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=b,this.scrollBarH.element.style.left=
this.scroller.style.left=b+"px",f.scrollerWidth=Math.max(0,c-b-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||a)&&(e|=this.CHANGE_FULL);return f.$dirty=!c||!d,e&&this._signal("resize",g),e};this.onGutterResize=function(){var a=this.$showGutter?this.$gutter.offsetWidth:0;a!=this.gutterWidth&&(this.$changes|=
this.$updateCachedSize(!0,a,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))};this.adjustWrapLimit=function(){return this.session.adjustWrapLimit(Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth),this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(a){this.setOption("animatedScroll",
a)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(a){this.setOption("showInvisibles",a);this.session.$bidiHandler.setShowInvisibles(a)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(a){this.setOption("displayIndentGuides",a)};this.setShowPrintMargin=function(a){this.setOption("showPrintMargin",a)};this.getShowPrintMargin=
function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(a){this.setOption("printMarginColumn",a)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(a){return this.setOption("showGutter",a)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(a){this.setOption("fadeFoldWidgets",a)};this.setHighlightGutterLine=
function(a){this.setOption("highlightGutterLine",a)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updateGutterLineHighlight=function(){var a=this.$cursorLayer.$pixelPos,b=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var c=this.session.selection.getCursor();c.column=0;a=this.$cursorLayer.getPixelPosition(c,!0);b*=this.session.getRowLength(c.row)}this.$gutterLineHighlight.style.top=a.top-this.layerConfig.offset+"px";this.$gutterLineHighlight.style.height=
b+"px"};this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var a=d.createElement("div");a.className="ace_layer ace_print-margin-layer";this.$printMarginEl=d.createElement("div");this.$printMarginEl.className="ace_print-margin";a.appendChild(this.$printMarginEl);this.content.insertBefore(a,this.content.firstChild)}a=this.$printMarginEl.style;a.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px";a.visibility=this.$showPrintMargin?
"visible":"hidden";this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var a=this.layerConfig,b=this.$cursorLayer.$pixelPos.top,c=this.$cursorLayer.$pixelPos.left;b-=a.offset;var d=this.textarea.style,e=this.lineHeight;if(0>b||b>a.height-e)d.top=
d.left="0";else{a=this.characterWidth;if(this.$composition){var f=this.textarea.value.replace(/^\x01+/,"");a*=this.session.$getStringScreenWidth(f)[0]+2;e+=2}c-=this.scrollLeft;c>this.$size.scrollerWidth-a&&(c=this.$size.scrollerWidth-a);c+=this.gutterWidth;d.height=e+"px";d.width=a+"px";d.left=Math.min(c,this.$size.scrollerWidth-a)+"px";d.top=Math.min(b,this.$size.height-e)+"px"}}};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+
(0===this.layerConfig.offset?0:1)};this.getLastFullyVisibleRow=function(){var a=this.layerConfig,b=a.lastRow;return this.session.documentToScreenRow(b,0)*a.lineHeight-this.session.getScrollTop()>a.height-a.lineHeight?b-1:b};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(a){this.$padding=a;this.$textLayer.setPadding(a);this.$cursorLayer.setPadding(a);this.$markerFront.setPadding(a);this.$markerBack.setPadding(a);this.$loop.schedule(this.CHANGE_FULL);
this.$updatePrintMargin()};this.setScrollMargin=function(a,b,c,d){var e=this.scrollMargin;e.top=a|0;e.bottom=b|0;e.right=d|0;e.left=c|0;e.v=e.top+e.bottom;e.h=e.left+e.right;e.top&&0>=this.scrollTop&&this.session&&this.session.setScrollTop(-e.top);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(a){this.setOption("hScrollBarAlwaysVisible",a)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};
this.setVScrollBarAlwaysVisible=function(a){this.setOption("vScrollBarAlwaysVisible",a)};this.$updateScrollBarV=function(){var a=this.layerConfig.maxHeight,b=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(a-=(b-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>a-b&&(a=this.scrollTop+b,this.scrollBarV.scrollTop=null));this.scrollBarV.setScrollHeight(a+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+
2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=!1;this.freeze=function(){this.$frozen=!0};this.unfreeze=function(){this.$frozen=!1};this.$renderChanges=function(a,b){this.$changes&&(a|=this.$changes,this.$changes=0);if(this.session&&this.container.offsetWidth&&!this.$frozen&&(a||b)){if(this.$size.$dirty)return this.$changes|=a,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges();this._signal("beforeRender");
this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);b=this.layerConfig;if(a&this.CHANGE_FULL||a&this.CHANGE_SIZE||a&this.CHANGE_TEXT||a&this.CHANGE_LINES||a&this.CHANGE_SCROLL||a&this.CHANGE_H_SCROLL)a|=this.$computeLayerConfig(),b.firstRow!=this.layerConfig.firstRow&&b.firstRowScreen==this.layerConfig.firstRowScreen&&(b=this.scrollTop+(b.firstRow-this.layerConfig.firstRow)*this.lineHeight,0<b&&(this.scrollTop=b,a|=this.CHANGE_SCROLL,a|=this.$computeLayerConfig())),
b=this.layerConfig,this.$updateScrollBarV(),a&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-b.offset+"px",this.content.style.marginTop=-b.offset+"px",this.content.style.width=b.width+2*this.$padding+"px",this.content.style.height=b.minHeight+"px";a&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=0>=this.scrollLeft?"ace_scroller":"ace_scroller ace_scroll-left");a&this.CHANGE_FULL?(this.$textLayer.update(b),
this.$showGutter&&this.$gutterLayer.update(b),this.$markerBack.update(b),this.$markerFront.update(b),this.$cursorLayer.update(b),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()):a&this.CHANGE_SCROLL?(a&this.CHANGE_TEXT||a&this.CHANGE_LINES?this.$textLayer.update(b):this.$textLayer.scrollLines(b),this.$showGutter&&this.$gutterLayer.update(b),this.$markerBack.update(b),this.$markerFront.update(b),this.$cursorLayer.update(b),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),
this.$moveTextAreaToCursor()):(a&this.CHANGE_TEXT?(this.$textLayer.update(b),this.$showGutter&&this.$gutterLayer.update(b)):a&this.CHANGE_LINES?(this.$updateLines()||a&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(b):(a&this.CHANGE_TEXT||a&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(b),a&this.CHANGE_CURSOR&&(this.$cursorLayer.update(b),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&
this.$markerFront.update(b),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(b));this._signal("afterRender")}else this.$changes|=a};this.$autosize=function(){var a=this.session.getScreenLength()*this.lineHeight,b=this.$maxLines*this.lineHeight,c=Math.min(b,Math.max((this.$minLines||1)*this.lineHeight,a))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(c+=this.scrollBarH.getHeight());this.$maxPixelHeight&&c>this.$maxPixelHeight&&(c=this.$maxPixelHeight);a=a>b;
if(c!=this.desiredHeight||this.$size.height!=this.desiredHeight||a!=this.$vScroll)a!=this.$vScroll&&(this.$vScroll=a,this.scrollBarV.setVisible(a)),a=this.container.clientWidth,this.container.style.height=c+"px",this.$updateCachedSize(!0,this.$gutterWidth,a,c),this.desiredHeight=c,this._signal("autosize")};this.$computeLayerConfig=function(){var a=this.session,b=this.$size,c=b.height<=2*this.lineHeight,d=this.session.getScreenLength()*this.lineHeight,e=this.$getLongestLine(),f=!c&&(this.$hScrollBarAlwaysVisible||
0>b.scrollerWidth-e-2*this.$padding),g=this.$horizScroll!==f;g&&(this.$horizScroll=f,this.scrollBarH.setVisible(f));var h=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();f=this.scrollTop%this.lineHeight;var k=b.scrollerHeight+this.lineHeight,m=!this.$maxLines&&this.$scrollPastEnd?(b.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;d+=m;var l=this.scrollMargin;this.session.setScrollTop(Math.max(-l.top,Math.min(this.scrollTop,d-b.scrollerHeight+l.bottom)));this.session.setScrollLeft(Math.max(-l.left,
Math.min(this.scrollLeft,e+2*this.$padding-b.scrollerWidth+l.right)));m=!c&&(this.$vScrollBarAlwaysVisible||0>b.scrollerHeight-d+m||this.scrollTop>l.top);(c=h!==m)&&(this.$vScroll=m,this.scrollBarV.setVisible(m));h=Math.max(0,Math.round((this.scrollTop-f)/this.lineHeight));m=h+(Math.ceil(k/this.lineHeight)-1);l=this.lineHeight;h=a.screenToDocumentRow(h,0);(f=a.getFoldLine(h))&&(h=f.start.row);var q=a.documentToScreenRow(h,0);f=a.getRowLength(h)*l;m=Math.min(a.screenToDocumentRow(m,0),a.getLength()-
1);k=b.scrollerHeight+a.getRowLength(m)*l+f;f=this.scrollTop-q*l;a=0;this.layerConfig.width!=e&&(a=this.CHANGE_H_SCROLL);if(g||c)a=this.$updateCachedSize(!0,this.gutterWidth,b.width,b.height),this._signal("scrollbarVisibilityChanged"),c&&(e=this.$getLongestLine());return this.layerConfig={width:e,padding:this.$padding,firstRow:h,firstRowScreen:q,lastRow:m,lineHeight:l,characterWidth:this.characterWidth,minHeight:k,maxHeight:d,offset:f,gutterOffset:l?Math.max(0,Math.ceil((f+b.height-b.scrollerHeight)/
l)):0,height:this.$size.scrollerHeight},a};this.$updateLines=function(){if(this.$changedLines){var a=this.$changedLines.firstRow,b=this.$changedLines.lastRow;this.$changedLines=null;var c=this.layerConfig;if(!(a>c.lastRow+1||b<c.firstRow))if(Infinity===b)this.$showGutter&&this.$gutterLayer.update(c),this.$textLayer.update(c);else return this.$textLayer.updateLines(c,a,b),!0}};this.$getLongestLine=function(){var a=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&
(a+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(a*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(a,b){this.$gutterLayer.addGutterDecoration(a,b)};this.removeGutterDecoration=function(a,b){this.$gutterLayer.removeGutterDecoration(a,
b)};this.updateBreakpoints=function(a){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(a){this.$gutterLayer.setAnnotations(a);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(a,b,c){this.scrollCursorIntoView(a,c);this.scrollCursorIntoView(b,c)};this.scrollCursorIntoView=
function(a,b,c){if(0!==this.$size.scrollerHeight){var d=this.$cursorLayer.getPixelPosition(a);a=d.left;d=d.top;var e=c&&c.top||0;c=c&&c.bottom||0;var f=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;f+e>d?(b&&f+e>d+this.lineHeight&&(d-=b*this.$size.scrollerHeight),0===d&&(d=-this.scrollMargin.top),this.session.setScrollTop(d)):f+this.$size.scrollerHeight-c<d+this.lineHeight&&(b&&f+this.$size.scrollerHeight-c<d-this.lineHeight&&(d+=b*this.$size.scrollerHeight),this.session.setScrollTop(d+
this.lineHeight-this.$size.scrollerHeight));b=this.scrollLeft;b>a?(a<this.$padding+2*this.layerConfig.characterWidth&&(a=-this.scrollMargin.left),this.session.setScrollLeft(a)):b+this.$size.scrollerWidth<a+this.characterWidth?this.session.setScrollLeft(Math.round(a+this.characterWidth-this.$size.scrollerWidth)):b<=this.$padding&&a-b<this.characterWidth&&this.session.setScrollLeft(0)}};this.getScrollTop=function(){return this.session.getScrollTop()};this.getScrollLeft=function(){return this.session.getScrollLeft()};
this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(a){this.session.setScrollTop(a*this.lineHeight)};this.alignCursor=function(a,b){"number"==typeof a&&(a={row:a,column:0});a=this.$cursorLayer.getPixelPosition(a).top-(this.$size.scrollerHeight-this.lineHeight)*(b||0);return this.session.setScrollTop(a),a};this.STEPS=8;this.$calcSteps=
function(a,b){var c,d=this.STEPS,e=[];for(c=0;c<d;++c)e.push((b-a)*(Math.pow(c/this.STEPS-1,3)+1)+a);return e};this.scrollToLine=function(a,b,c,d){a=this.$cursorLayer.getPixelPosition({row:a,column:0}).top;b&&(a-=this.$size.scrollerHeight/2);b=this.scrollTop;this.session.setScrollTop(a);!1!==c&&this.animateScrolling(b,d)};this.animateScrolling=function(a,b){var c=this.scrollTop;if(this.$animatedScroll){var d=this;if(a!=c){if(this.$scrollAnimation){var e=this.$scrollAnimation.steps;if(e.length&&(a=
e[0],a==c))return}var f=d.$calcSteps(a,c);this.$scrollAnimation={from:a,to:c,steps:f};clearInterval(this.$timer);d.session.setScrollTop(f.shift());d.session.$scrollTop=c;this.$timer=setInterval(function(){f.length?(d.session.setScrollTop(f.shift()),d.session.$scrollTop=c):null!=c?(d.session.$scrollTop=-1,d.session.setScrollTop(c),c=null):(d.$timer=clearInterval(d.$timer),d.$scrollAnimation=null,b&&b())},10)}}};this.scrollToY=function(a){this.scrollTop!==a&&(this.$loop.schedule(this.CHANGE_SCROLL),
this.scrollTop=a)};this.scrollToX=function(a){this.scrollLeft!==a&&(this.scrollLeft=a);this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(a,b){this.session.setScrollTop(b);this.session.setScrollLeft(b)};this.scrollBy=function(a,b){b&&this.session.setScrollTop(this.session.getScrollTop()+b);a&&this.session.setScrollLeft(this.session.getScrollLeft()+a)};this.isScrollableBy=function(a,b){if(0>b&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<b&&this.session.getScrollTop()+this.$size.scrollerHeight-
this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||0>a&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<a&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0};this.pixelToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect();a=a+this.scrollLeft-c.left-this.$padding;var d=a/this.characterWidth,e=Math.round(d);return{row:Math.floor((b+this.scrollTop-c.top)/this.lineHeight),column:e,side:0<d-e?1:-1,offsetX:a}};
this.screenToTextCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect();a=a+this.scrollLeft-c.left-this.$padding;return this.session.screenToDocumentPosition((b+this.scrollTop-c.top)/this.lineHeight,Math.max(Math.round(a/this.characterWidth),0),a)};this.textToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect();b=this.session.documentToScreenPosition(a,b);a=this.$padding+(this.session.$bidiHandler.isBidiRow(b.row,a)?this.session.$bidiHandler.getPosLeft(b.column):
Math.round(b.column*this.characterWidth));return{pageX:c.left+a-this.scrollLeft,pageY:c.top+b.row*this.lineHeight-this.scrollTop}};this.visualizeFocus=function(){d.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){d.removeCssClass(this.container,"ace_focus")};this.showComposition=function(a){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText});this.$keepTextAreaAtCursor=!0;d.addCssClass(this.textarea,"ace_composition");
this.textarea.style.cssText="";this.$moveTextAreaToCursor()};this.setCompositionText=function(a){this.$moveTextAreaToCursor()};this.hideComposition=function(){this.$composition&&(d.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)};this.setTheme=function(a,b){function c(c){if(e.$themeId!=a)return b&&b();if(!c||!c.cssClass)throw Error("couldn't load module "+
a+" or it didn't call define");d.importCssString(c.cssText,c.cssClass,e.container.ownerDocument);e.theme&&d.removeCssClass(e.container,e.theme.cssClass);var f="padding"in c?c.padding:"padding"in(e.theme||{})?4:e.$padding;e.$padding&&f!=e.$padding&&e.setPadding(f);e.$theme=c.cssClass;e.theme=c;d.addCssClass(e.container,c.cssClass);d.setCssClass(e.container,"ace_dark",c.isDark);e.$size&&(e.$size.width=0,e.$updateSizeAsync());e._dispatchEvent("themeLoaded",{theme:c});b&&b()}var e=this;this.$themeId=
a;e._dispatchEvent("themeChange",{theme:a});a&&"string"!=typeof a?c(a):f.loadModule(["theme",a||this.$options.theme.initialValue],c)};this.getTheme=function(){return this.$themeId};this.setStyle=function(a,b){d.setCssClass(this.container,a,!1!==b)};this.unsetStyle=function(a){d.removeCssClass(this.container,a)};this.setCursorStyle=function(a){this.scroller.style.cursor!=a&&(this.scroller.style.cursor=a)};this.setMouseCursor=function(a){this.scroller.style.cursor=a};this.destroy=function(){this.$textLayer.destroy();
this.$cursorLayer.destroy()}}).call(b.prototype);f.defineOptions(b.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(a){this.$textLayer.setShowInvisibles(a)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(a){"number"==typeof a&&(this.$printMarginColumn=a);this.$showPrintMargin=
!!a;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(a){this.$gutter.style.display=a?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(a){d.setCssClass(this.$gutter,"ace_fade-fold-widgets",a)},initialValue:!1},showFoldWidgets:{set:function(a){this.$gutterLayer.setShowFoldWidgets(a)},initialValue:!0},showLineNumbers:{set:function(a){this.$gutterLayer.setShowLineNumbers(a);
this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(a){this.$textLayer.setDisplayIndentGuides(a)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(a){this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=a?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()):(this.$gutterLineHighlight=d.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight))},
initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(a){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(a){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(a){"number"==typeof a&&(a+="px");this.container.style.fontSize=a;this.updateFontSize()},initialValue:12},fontFamily:{set:function(a){this.container.style.fontFamily=
a;this.updateFontSize()}},maxLines:{set:function(a){this.updateFull()}},minLines:{set:function(a){this.updateFull()}},maxPixelHeight:{set:function(a){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(a){a=+a||0;this.$scrollPastEnd!=a&&(this.$scrollPastEnd=a,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(a){this.$gutterLayer.$fixedWidth=!!a;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(a){this.setTheme(a)},get:function(){return this.$themeId||
this.theme},initialValue:"./theme/textmate",handlesSet:!0}});n.VirtualRenderer=b});
define("ace/worker/worker_client","require exports module ace/lib/oop ace/lib/net ace/lib/event_emitter ace/config".split(" "),function(b,n,u){function a(a){a="importScripts('"+f.qualifyURL(a)+"');";try{var b=new Blob([a],{type:"application/javascript"})}catch(e){b=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder),b=(b.append(a),b.getBlob("application/javascript"))}b=(window.URL||window.webkitURL).createObjectURL(b);return new Worker(b)}var d=b("../lib/oop"),f=b("../lib/net"),
g=b("../lib/event_emitter").EventEmitter,c=b("../config");u=function(d,f,e,g,h){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);b.nameToUrl&&!b.toUrl&&(b.toUrl=b.nameToUrl);if(c.get("packaged")||!b.toUrl)g=g||c.moduleUrl(f,"worker");else{var k=this.$normalizePath;g=g||k(b.toUrl("ace/worker/worker.js",null,"_"));var m={};d.forEach(function(a){m[a]=k(b.toUrl(a,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=
a(g);h&&this.send("importScripts",h);this.$worker.postMessage({init:!0,tlns:m,module:f,classname:e});this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage};(function(){d.implement(this,g);this.onMessage=function(a){a=a.data;switch(a.type){case "event":this._signal(a.name,{data:a.data});break;case "call":var b=this.callbacks[a.id];b&&(b(a.data),delete this.callbacks[a.id]);break;case "error":this.reportError(a.data);break;case "log":window.console&&console.log&&console.log.apply(console,
a.data)}};this.reportError=function(a){window.console&&console.error&&console.error(a)};this.$normalizePath=function(a){return f.qualifyURL(a)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;this.$doc&&this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(a,b){this.$worker.postMessage({command:a,args:b})};this.call=function(a,b,c){if(c){var d=this.callbackId++;this.callbacks[d]=c;b.push(d)}this.send(a,
b)};this.emit=function(a,b){try{this.$worker.postMessage({event:a,data:{data:b.data}})}catch(e){console.error(e.stack)}};this.attachToDocument=function(a){this.$doc&&this.terminate();this.$doc=a;this.call("setValue",[a.getValue()]);a.on("change",this.changeListener)};this.changeListener=function(a){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0));"insert"==a.action?this.deltaQueue.push(a.start,a.lines):this.deltaQueue.push(a.start,a.end)};this.$sendDeltaQueue=function(){var a=
this.deltaQueue;a&&(this.deltaQueue=null,50<a.length&&a.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:a}))}}).call(u.prototype);var h=function(a,b,d){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.callbackId=1;this.callbacks={};this.messageBuffer=[];var e=null,f=!1,h=Object.create(g),k=this;this.$worker={};this.$worker.terminate=function(){};this.$worker.postMessage=function(a){k.messageBuffer.push(a);
e&&(f?setTimeout(m):m())};this.setEmitSync=function(a){f=a};var m=function(){var a=k.messageBuffer.shift();a.command?e[a.command].apply(e,a.args):a.event&&h._signal(a.event,a.data)};h.postMessage=function(a){k.onMessage({data:a})};h.callback=function(a,b){this.postMessage({type:"call",id:b,data:a})};h.emit=function(a,b){this.postMessage({type:"event",name:a,data:b})};c.loadModule(["worker",b],function(a){for(e=new a[d](h);k.messageBuffer.length;)m()})};h.prototype=u.prototype;n.UIWorkerClient=h;n.WorkerClient=
u;n.createWorker=a});
define("ace/placeholder","require exports module ace/range ace/lib/event_emitter ace/lib/oop".split(" "),function(b,n,u){var a=b("./range").Range,d=b("./lib/event_emitter").EventEmitter,f=b("./lib/oop");b=function(a,b,d,f,m,e){var c=this;this.length=b;this.session=a;this.doc=a.getDocument();this.mainClass=m;this.othersClass=e;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=f;this.$onCursorChange=function(){setTimeout(function(){c.onCursorChange()})};this.$pos=
d;this.$undoStackDepth=(a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1}).length;this.setup();a.selection.on("changeCursor",this.$onCursorChange)};(function(){f.implement(this,d);this.setup=function(){var b=this,c=this.doc,d=this.session;this.selectionBefore=d.selection.toJSON();d.selection.inMultiSelectMode&&d.selection.toSingleRange();var f=this.pos=c.createAnchor(this.$pos.row,this.$pos.column);f.$insertRight=!0;f.detach();f.markerId=d.addMarker(new a(f.row,f.column,f.row,
f.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(a){a=c.createAnchor(a.row,a.column);a.$insertRight=!0;a.detach();b.others.push(a)});d.setUndoSelect(!1)};this.showOtherMarkers=function(){if(!this.othersActive){var b=this.session,c=this;this.othersActive=!0;this.others.forEach(function(d){d.markerId=b.addMarker(new a(d.row,d.column,d.row,d.column+c.length),c.othersClass,null,!1)})}};this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;
for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}};this.onUpdate=function(b){if(this.$updating)return this.updateAnchors(b);if(b.start.row===b.end.row&&b.start.row===this.pos.row){this.$updating=!0;var c="insert"===b.action?b.end.column-b.start.column:b.start.column-b.end.column,d=b.start.column>=this.pos.column&&b.start.column<=this.pos.column+this.length+1,f=b.start.column-this.pos.column;this.updateAnchors(b);d&&(this.length+=c);if(d&&!this.session.$fromUndo)if("insert"===
b.action)for(d=this.others.length-1;0<=d;d--){var g=this.others[d];g={row:g.row,column:g.column+f};this.doc.insertMergedLines(g,b.lines)}else if("remove"===b.action)for(d=this.others.length-1;0<=d;d--)g=this.others[d],g={row:g.row,column:g.column+f},this.doc.remove(new a(g.row,g.column,g.row,g.column-c));this.$updating=!1;this.updateMarkers()}};this.updateAnchors=function(a){this.pos.onChange(a);for(var b=this.others.length;b--;)this.others[b].onChange(a);this.updateMarkers()};this.updateMarkers=
function(){if(!this.$updating){var b=this,c=this.session,d=function(d,e){c.removeMarker(d.markerId);d.markerId=c.addMarker(new a(d.row,d.column,d.row,d.column+b.length),e,null,!1)};d(this.pos,this.mainClass);for(var f=this.others.length;f--;)d(this.others[f],this.othersClass)}};this.onCursorChange=function(a){if(!this.$updating&&this.session){var b=this.session.selection.getCursor();b.row===this.pos.row&&b.column>=this.pos.column&&b.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",
a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null};this.cancel=function(){if(-1!==this.$undoStackDepth){for(var a=this.session.getUndoManager(),b=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,d=0;d<
b;d++)a.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(b.prototype);n.PlaceHolder=b});
define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(b,n,u){function a(a,b){return a.row==b.row&&a.column==b.column}var d=b("../lib/event"),f=b("../lib/useragent");n.onMouseDown=function(b){var c=b.domEvent,g=c.altKey,k=c.shiftKey,m=c.ctrlKey,e=b.getAccelKey(),l=b.getButton();m&&f.isMac&&(l=c.button);if(b.editor.inMultiSelectMode&&2==l)b.editor.textInput.onContextMenu(b.domEvent);else if(!m&&!g&&!e)0===l&&b.editor.inMultiSelectMode&&b.editor.exitMultiSelectMode();
else if(0===l){var q=b.editor,n=q.selection;l=q.inMultiSelectMode;var z=b.getDocumentPosition(),t=n.getCursor();t=b.inSelection()||n.isEmpty()&&a(z,t);var u=b.x,r=b.y,B=function(a){u=a.clientX;r=a.clientY},y=q.session,A=q.renderer.pixelToScreenCoordinates(u,r),G=A,F;if(q.$mouseHandler.$enableJumpToDef)m&&g||e&&g?F=k?"block":"add":g&&q.$blockSelectEnabled&&(F="block");else if(e&&!g){if(F="add",!l&&k)return}else g&&q.$blockSelectEnabled&&(F="block");F&&f.isMac&&c.ctrlKey&&q.$mouseHandler.cancelContextMenu();
if("add"==F){if(l||!t){if(!l){var J=n.toOrientedRange();q.addSelectionMarker(J)}var E=n.rangeList.rangeAtPoint(z);q.$blockScrolling++;q.inVirtualSelectionMode=!0;k&&(E=null,J=n.ranges[0]||J,q.removeSelectionMarker(J));q.once("mouseup",function(){var b=n.toOrientedRange();E&&b.isEmpty()&&a(E.cursor,b.cursor)?n.substractPoint(b.cursor):(k?n.substractPoint(J.cursor):J&&(q.removeSelectionMarker(J),n.addRange(J)),n.addRange(b));q.$blockScrolling--;q.inVirtualSelectionMode=!1})}}else if("block"==F){b.stop();
q.inVirtualSelectionMode=!0;var D,Q=[];q.$blockScrolling++;l&&!e?n.toSingleRange():!l&&e&&(D=n.toOrientedRange(),q.addSelectionMarker(D));k?A=y.documentToScreenPosition(n.lead):n.moveToPosition(z);q.$blockScrolling--;G={row:-1,column:-1};d.capture(q.container,B,function(a){clearInterval(O);q.removeSelectionMarkers(Q);Q.length||(Q=[n.toOrientedRange()]);q.$blockScrolling++;D&&(q.removeSelectionMarker(D),n.toSingleRange(D));for(a=0;a<Q.length;a++)n.addRange(Q[a]);q.inVirtualSelectionMode=!1;q.$mouseHandler.$clickSelection=
null;q.$blockScrolling--});var O=setInterval(function(){var b=q.renderer.pixelToScreenCoordinates(u,r),c=y.screenToDocumentPosition(b.row,b.column,b.offsetX);a(G,b)&&a(c,n.lead)||(G=b,q.$blockScrolling++,q.selection.moveToPosition(c),q.renderer.scrollCursorIntoView(),q.removeSelectionMarkers(Q),Q=n.rectangularRangeBlock(G,A),q.$mouseHandler.$clickSelection&&1==Q.length&&Q[0].isEmpty()&&(Q[0]=q.$mouseHandler.$clickSelection.clone()),Q.forEach(q.addSelectionMarker,q),q.updateSelectionMarkers(),q.$blockScrolling--)},
20);return b.preventDefault()}}}});
define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(b,n,u){n.defaultCommands=[{name:"addCursorAbove",exec:function(a){a.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(a){a.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(a){a.selectMoreLines(-1,
!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(a){a.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(a){a.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(a){a.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",
mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(a){a.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(a){a.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(a){a.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},
{name:"alignCursors",exec:function(a){a.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(a){a.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];n.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(a){a.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(a){return a&&a.inMultiSelectMode}}];b=b("../keyboard/hash_handler").HashHandler;n.keyboardHandler=
new b(n.multiSelectCommands)});
define("ace/multi_select","require exports module ace/range_list ace/range ace/selection ace/mouse/multi_select_handler ace/lib/event ace/lib/lang ace/commands/multi_select_commands ace/search ace/edit_session ace/editor ace/config".split(" "),function(b,n,u){function a(a){a.$multiselectOnSessionChange||(a.$onAddRange=a.$onAddRange.bind(a),a.$onRemoveRange=a.$onRemoveRange.bind(a),a.$onMultiSelect=a.$onMultiSelect.bind(a),a.$onSingleSelect=a.$onSingleSelect.bind(a),a.$multiselectOnSessionChange=n.onSessionChange.bind(a),
a.$checkMultiselectChange=a.$checkMultiselectChange.bind(a),a.$multiselectOnSessionChange(a),a.on("changeSession",a.$multiselectOnSessionChange),a.on("mousedown",h),a.commands.addCommands(e.defaultCommands),d(a))}function d(a){function b(b){d&&(a.renderer.setMouseCursor(""),d=!1)}var c=a.textInput.getElement(),d=!1;k.addListener(c,"keydown",function(c){c=18==c.keyCode&&!(c.ctrlKey||c.shiftKey||c.metaKey);a.$blockSelectEnabled&&c?d||(a.renderer.setMouseCursor("crosshair"),d=!0):d&&b()});k.addListener(c,
"keyup",b);k.addListener(c,"blur",b)}var f=b("./range_list").RangeList,g=b("./range").Range,c=b("./selection").Selection,h=b("./mouse/multi_select_handler").onMouseDown,k=b("./lib/event"),m=b("./lib/lang"),e=b("./commands/multi_select_commands");n.commands=e.defaultCommands.concat(e.multiSelectCommands);var l=new (b("./search").Search);u=b("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype);(function(){this.rangeList=this.ranges=
null;this.addRange=function(a,b){if(a){if(!this.inMultiSelectMode&&0===this.rangeCount){var c=this.toOrientedRange();this.rangeList.add(c);this.rangeList.add(a);if(2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),b||this.fromOrientedRange(a);this.rangeList.removeAll();this.rangeList.add(c);this.$onAddRange(c)}a.cursor||(a.cursor=a.end);c=this.rangeList.add(a);return this.$onAddRange(a),c.length&&this.$onRemoveRange(c),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),
this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),b||this.fromOrientedRange(a)}};this.toSingleRange=function(a){a=a||this.ranges[0];var b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b);a&&this.fromOrientedRange(a)};this.substractPoint=function(a){if(a=this.rangeList.substractPoint(a))return this.$onRemoveRange(a),a[0]};this.mergeOverlappingRanges=function(){var a=this.rangeList.merge();a.length?this.$onRemoveRange(a):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])};
this.$onAddRange=function(a){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(a);this._signal("addRange",{range:a})};this.$onRemoveRange=function(a){this.rangeCount=this.rangeList.ranges.length;if(1==this.rangeCount&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();a.push(b);this.rangeCount=0}for(var c=a.length;c--;){var d=this.ranges.indexOf(a[c]);this.ranges.splice(d,1)}this._signal("removeRange",{ranges:a});0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=
!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));(b=b||this.ranges[0])&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new f,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){if(1<this.rangeCount){var a=this.rangeList.ranges,b=a[a.length-1];a=g.fromPoints(a[0].start,
b.end);this.toSingleRange();this.setSelectionRange(a,b.cursor==b.start)}else{a=this.getRange();var c=this.isBackwards(),d=a.start.row;b=a.end.row;if(d==b)c?(b=a.end,a=a.start):(b=a.start,a=a.end),this.addRange(g.fromPoints(a,a)),this.addRange(g.fromPoints(b,b));else{c=[];var e=this.getLineRange(d,!0);e.start.column=a.start.column;c.push(e);for(d+=1;d<b;d++)c.push(this.getLineRange(d,!0));e=this.getLineRange(b,!0);e.end.column=a.end.column;c.push(e);c.forEach(this.addRange,this)}}};this.toggleBlockSelection=
function(){if(1<this.rangeCount){var a=this.rangeList.ranges,b=a[a.length-1];a=g.fromPoints(a[0].start,b.end);this.toSingleRange();this.setSelectionRange(a,b.cursor==b.start)}else b=this.session.documentToScreenPosition(this.selectionLead),a=this.session.documentToScreenPosition(this.selectionAnchor),this.rectangularRangeBlock(b,a).forEach(this.addRange,this)};this.rectangularRangeBlock=function(a,b,c){var d=[],e=a.column<b.column;if(e)var f=a.column,h=b.column,k=a.offsetX,m=b.offsetX;else f=b.column,
h=a.column,k=b.offsetX,m=a.offsetX;var l=a.row<b.row;if(l){var q=a.row;a=b.row}else q=b.row,a=a.row;0>f&&(f=0);0>q&&(q=0);for(q==a&&(c=!0);q<=a;q++){b=g.fromPoints(this.session.screenToDocumentPosition(q,f,k),this.session.screenToDocumentPosition(q,h,m));if(b.isEmpty()){var n;if(n=x)n=b.end,n=n.row==x.row&&n.column==x.column;if(n)break;var x=b.end}b.cursor=e?b.start:b.end;d.push(b)}l&&d.reverse();if(!c){for(c=d.length-1;d[c].isEmpty()&&0<c;)c--;if(0<c)for(var u=0;d[u].isEmpty();)u++;for(;c>=u;c--)d[c].isEmpty()&&
d.splice(c,1)}return d}}).call(c.prototype);u=b("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(a){a.cursor||(a.cursor=a.end);var b=this.getSelectionStyle();return a.marker=this.session.addMarker(a,"ace_selection",b),this.session.$selectionMarkers.push(a),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,a};this.removeSelectionMarker=function(a){a.marker&&(this.session.removeMarker(a.marker),
a=this.session.$selectionMarkers.indexOf(a),-1!=a&&this.session.$selectionMarkers.splice(a,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)};this.removeSelectionMarkers=function(a){for(var b=this.session.$selectionMarkers,c=a.length;c--;){var d=a[c];d.marker&&(this.session.removeMarker(d.marker),d=b.indexOf(d),-1!=d&&b.splice(d,1))}this.session.selectionMarkerCount=b.length};this.$onAddRange=function(a){this.addSelectionMarker(a.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};
this.$onRemoveRange=function(a){this.removeSelectionMarkers(a.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(a){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(e.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(a){this.session.multiSelect.inVirtualMode||
(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(e.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))};this.$onMultiSelectExec=function(a){var b=a.command,c=a.editor;if(c.multiSelect){if(b.multiSelectAction)"forEach"==b.multiSelectAction?d=c.forEachSelection(b,a.args):"forEachLine"==b.multiSelectAction?d=c.forEachSelection(b,
a.args,!0):"single"==b.multiSelectAction?(c.exitMultiSelectMode(),d=b.exec(c,a.args||{})):d=b.multiSelectAction(c,a.args||{});else{var d=b.exec(c,a.args||{});c.multiSelect.addRange(c.multiSelect.toOrientedRange());c.multiSelect.mergeOverlappingRanges()}return d}};this.forEachSelection=function(a,b,d){if(!this.inVirtualSelectionMode){var e=1==d||d&&d.$byLines,f=this.session,g=this.selection,h=g.rangeList;d=(d&&d.keepOrder?g:h).ranges;var k;if(!d.length)return a.exec?a.exec(this,b||{}):a(this,b||{});
h=g._eventRegistry;g._eventRegistry={};var m=new c(f);this.inVirtualSelectionMode=!0;for(var l=d.length;l--;){if(e)for(;0<l&&d[l].start.row==d[l-1].end.row;)l--;m.fromOrientedRange(d[l]);m.index=l;this.selection=f.selection=m;var n=a.exec?a.exec(this,b||{}):a(this,b||{});!k&&void 0!==n&&(k=n);m.toOrientedRange(d[l])}m.detach();this.selection=f.selection=g;this.inVirtualSelectionMode=!1;g._eventRegistry=h;g.mergeOverlappingRanges();a=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),
a&&a.from==a.to&&this.renderer.animateScrolling(a.from),k}};this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()};this.getSelectedText=function(){var a="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){a=this.multiSelect.rangeList.ranges;for(var b=[],c=0;c<a.length;c++)b.push(this.session.getTextRange(a[c]));c=this.session.getDocument().getNewLineCharacter();a=b.join(c);a.length==(b.length-1)*c.length&&(a="")}else this.selection.isEmpty()||
(a=this.session.getTextRange(this.getSelectionRange()));return a};this.$checkMultiselectChange=function(a,b){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&(a=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&b==this.multiSelect.anchor||(a=b==this.multiSelect.anchor?a.cursor==a.start?a.end:a.start:a.cursor,a.row==b.row&&this.session.$clipPositionToDocument(a.row,a.column).column==b.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())))};this.findAll=function(a,b,
c){b=b||{};b.needle=a||b.needle;if(void 0==b.needle){var d=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();b.needle=this.session.getTextRange(d)}this.$search.set(b);a=this.$search.findAll(this.session);if(!a.length)return 0;this.$blockScrolling+=1;b=this.multiSelect;c||b.toSingleRange(a[0]);for(c=a.length;c--;)b.addRange(a[c],!0);return d&&b.rangeList.rangeAtPoint(d.start)&&b.addRange(d,!0),--this.$blockScrolling,a.length};this.selectMoreLines=function(a,b){var c=
this.selection.toOrientedRange(),d=c.cursor==c.end,e=this.session.documentToScreenPosition(c.cursor);this.selection.$desiredColumn&&(e.column=this.selection.$desiredColumn);var f=this.session.screenToDocumentPosition(e.row+a,e.column);if(c.isEmpty())a=f;else{var h=this.session.documentToScreenPosition(d?c.end:c.start);a=this.session.screenToDocumentPosition(h.row+a,h.column)}d?(d=g.fromPoints(f,a),d.cursor=d.start):(d=g.fromPoints(a,f),d.cursor=d.end);d.desiredColumn=e.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(c);
else if(b)var k=c.cursor;this.selection.addRange(d);k&&this.selection.substractPoint(k)};this.transposeSelections=function(a){for(var b=this.session,c=b.multiSelect,d=c.ranges,e=d.length;e--;){var f=d[e];if(f.isEmpty()){var g=b.getWordRange(f.start.row,f.start.column);f.start.row=g.start.row;f.start.column=g.start.column;f.end.row=g.end.row;f.end.column=g.end.column}}c.mergeOverlappingRanges();c=[];for(e=d.length;e--;)f=d[e],c.unshift(b.getTextRange(f));0>a?c.unshift(c.pop()):c.push(c.shift());for(e=
d.length;e--;)f=d[e],g=f.clone(),b.replace(f,c[e]),f.start.row=g.start.row,f.start.column=g.start.column};this.selectMore=function(a,b,c){var d=this.session,e=d.multiSelect.toOrientedRange();if(e.isEmpty()&&(e=d.getWordRange(e.start.row,e.start.column),e.cursor=-1==a?e.start:e.end,this.multiSelect.addRange(e),c))return;c=d.getTextRange(e);(d=(l.$options.wrap=!0,l.$options.needle=c,l.$options.backwards=-1==a,l.find(d)))&&(d.cursor=-1==a?d.start:d.end,this.$blockScrolling+=1,this.session.unfold(d),
this.multiSelect.addRange(d),--this.$blockScrolling,this.renderer.scrollCursorIntoView(null,.5));b&&this.multiSelect.substractPoint(e.cursor)};this.alignCursors=function(){var a=this.session,b=a.multiSelect,c=b.ranges,d=-1,e=c.filter(function(a){if(a.cursor.row==d)return!0;d=a.cursor.row});if(c.length&&e.length!=c.length-1){e.forEach(function(a){b.substractPoint(a.cursor)});var f=0,h=Infinity,k=c.map(function(b){b=b.cursor;var c=a.getLine(b.row).substr(b.column).search(/\S/g);return-1==c&&(c=0),b.column>
f&&(f=b.column),c<h&&(h=c),c});c.forEach(function(b,c){var d=b.cursor,e=f-d.column;c=k[c]-h;e>c?a.insert(d,m.stringRepeat(" ",e-c)):a.remove(new g(d.row,d.column,d.row,d.column-e+c));b.start.column=b.end.column=f;b.start.row=b.end.row=d.row;b.cursor=b.end});b.fromOrientedRange(c[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}else{c=this.selection.getRange();e=c.start.row;var l=c.end.row,n=e==l;if(n){var u=this.session.getLength();do var J=this.session.getLine(l);while(/[=:]/.test(J)&&
++l<u);do J=this.session.getLine(e);while(/[=:]/.test(J)&&0<--e);0>e&&(e=0);l>=u&&(l=u-1)}l=this.session.removeFullLines(e,l);l=this.$reAlignText(l,n);this.session.insert({row:e,column:0},l.join("\n")+"\n");n||(c.start.column=0,c.end.column=l[l.length-1].length);this.selection.setRange(c)}};this.$reAlignText=function(a,b){function c(a){return m.stringRepeat(" ",a)}function d(a){return a[2]?c(k)+a[2]+c(l-a[2].length+n)+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}function e(a){return a[2]?c(k+l-a[2].length)+
a[2]+c(n," ")+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}function f(a){return a[2]?c(k)+a[2]+c(n)+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}var g=!0,h=!0,k,l,n;return a.map(function(a){var b=a.match(/(\s*)(.*?)(\s*)([=:].*)/);return b?null==k?(k=b[1].length,l=b[2].length,n=b[3].length,b):(k+l+n!=b[1].length+b[2].length+b[3].length&&(h=!1),k!=b[1].length&&(g=!1),k>b[1].length&&(k=b[1].length),l<b[2].length&&(l=b[2].length),n>b[3].length&&(n=b[3].length),b):[a]}).map(b?d:g?h?e:d:f)}}).call(u.prototype);n.onSessionChange=
function(a){var b=a.session;b&&!b.multiSelect&&(b.$selectionMarkers=[],b.selection.$initRangeList(),b.multiSelect=b.selection);this.multiSelect=b&&b.multiSelect;(a=a.oldSession)&&(a.multiSelect.off("addRange",this.$onAddRange),a.multiSelect.off("removeRange",this.$onRemoveRange),a.multiSelect.off("multiSelect",this.$onMultiSelect),a.multiSelect.off("singleSelect",this.$onSingleSelect),a.multiSelect.lead.off("change",this.$checkMultiselectChange),a.multiSelect.anchor.off("change",this.$checkMultiselectChange));
b&&(b.multiSelect.on("addRange",this.$onAddRange),b.multiSelect.on("removeRange",this.$onRemoveRange),b.multiSelect.on("multiSelect",this.$onMultiSelect),b.multiSelect.on("singleSelect",this.$onSingleSelect),b.multiSelect.lead.on("change",this.$checkMultiselectChange),b.multiSelect.anchor.on("change",this.$checkMultiselectChange));b&&this.inMultiSelectMode!=b.selection.inMultiSelectMode&&(b.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};n.MultiSelect=a;b("./config").defineOptions(u.prototype,
"editor",{enableMultiselect:{set:function(b){a(this);b?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",h)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",h))},value:!0},enableBlockSelect:{set:function(a){this.$blockSelectEnabled=a},value:!0}})});
define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(b,n,u){var a=b("../../range").Range;b=n.FoldMode=function(){};(function(){this.foldingStopMarker=this.foldingStartMarker=null;this.getFoldWidget=function(a,b,g){a=a.getLine(g);return this.foldingStartMarker.test(a)?"start":"markbeginend"==b&&this.foldingStopMarker&&this.foldingStopMarker.test(a)?"end":""};this.getFoldWidgetRange=function(a,b,g){return null};this.indentationBlock=function(b,f,g){var c=/\S/,d=b.getLine(f),
k=d.search(c);if(-1!=k){g=g||d.length;for(var m=b.getLength(),e=d=f;++f<m;){var l=b.getLine(f).search(c);if(-1!=l){if(l<=k)break;e=f}}if(e>d)return b=b.getLine(e).length,new a(d,g,e,b)}};this.openingBracketBlock=function(b,f,g,c,h){g={row:g,column:c+1};if(f=b.$findClosingBracket(f,g,h))return h=b.foldWidgets[f.row],null==h&&(h=b.getFoldWidget(f.row)),"start"==h&&f.row>g.row&&(f.row--,f.column=b.getLine(f.row).length),a.fromPoints(g,f)};this.closingBracketBlock=function(b,f,g,c,h){g={row:g,column:c};
if(b=b.$findOpeningBracket(f,g))return b.column++,g.column--,a.fromPoints(b,g)}}).call(b.prototype)});
define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(b,n,u){n.isDark=!1;n.cssClass="ace-tm";n.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';b("../lib/dom").importCssString(n.cssText,
n.cssClass)});
define("ace/line_widgets","require exports module ace/lib/oop ace/lib/dom ace/range".split(" "),function(b,n,u){function a(a){this.session=a;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",
this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}b("./lib/oop");var d=b("./lib/dom");b("./range");(function(){this.getRowLength=function(a){var b;return this.lineWidgets?b=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:b=0,this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1+b:1+b};this.$getWidgetScreenLength=function(){var a=0;return this.lineWidgets.forEach(function(b){b&&b.rowCount&&!b.hidden&&(a+=b.rowCount)}),
a};this.$onChangeEditor=function(a){this.attach(a.editor)};this.attach=function(a){a&&a.widgetManager&&a.widgetManager!=this&&a.widgetManager.detach();this.editor!=a&&(this.detach(),(this.editor=a)&&(a.widgetManager=this,a.renderer.on("beforeRender",this.measureWidgets),a.renderer.on("afterRender",this.renderWidgets)))};this.detach=function(a){if(a=this.editor)this.editor=null,a.widgetManager=null,a.renderer.off("beforeRender",this.measureWidgets),a.renderer.off("afterRender",this.renderWidgets),
(a=this.session.lineWidgets)&&a.forEach(function(a){a&&a.el&&a.el.parentNode&&(a._inDocument=!1,a.el.parentNode.removeChild(a.el))})};this.updateOnFold=function(a,b){if((b=b.lineWidgets)&&a.action){var c=a.data,d=c.start.row;c=c.end.row;a="add"==a.action;for(var f=d+1;f<c;f++)b[f]&&(b[f].hidden=a);b[c]&&(a?b[d]?b[c].hidden=a:b[d]=b[c]:(b[d]==b[c]&&(b[d]=void 0),b[c].hidden=a))}};this.updateOnChange=function(a){var b=this.session.lineWidgets;if(b){var c=a.start.row,d=a.end.row-c;0!==d&&("remove"==
a.action?b.splice(c+1,d).forEach(function(a){a&&this.removeLineWidget(a)},this):(a=Array(d),a.unshift(c,0),b.splice.apply(b,a)),this.$updateRows())}};this.$updateRows=function(){var a=this.session.lineWidgets;if(a){var b=!0;a.forEach(function(a,d){if(a)for(b=!1,a.row=d;a.$oldWidget;)a.$oldWidget.row=d,a=a.$oldWidget});b&&(this.session.lineWidgets=null)}};this.addLineWidget=function(a){this.session.lineWidgets||(this.session.lineWidgets=Array(this.session.getLength()));var b=this.session.lineWidgets[a.row];
b&&(a.$oldWidget=b,b.el&&b.el.parentNode&&(b.el.parentNode.removeChild(b.el),b._inDocument=!1));this.session.lineWidgets[a.row]=a;a.session=this.session;b=this.editor.renderer;a.html&&!a.el&&(a.el=d.createElement("div"),a.el.innerHTML=a.html);a.el&&(d.addCssClass(a.el,"ace_lineWidgetContainer"),a.el.style.position="absolute",a.el.style.zIndex=5,b.container.appendChild(a.el),a._inDocument=!0);a.coverGutter||(a.el.style.zIndex=3);null==a.pixelHeight&&(a.pixelHeight=a.el.offsetHeight);null==a.rowCount&&
(a.rowCount=a.pixelHeight/b.layerConfig.lineHeight);var c=this.session.getFoldAt(a.row,0);if(a.$fold=c){var f=this.session.lineWidgets;a.row!=c.end.row||f[c.start.row]?a.hidden=!0:f[c.start.row]=a}return this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows(),this.renderWidgets(null,b),this.onWidgetChanged(a),a};this.removeLineWidget=function(a){a._inDocument=!1;a.session=null;a.el&&a.el.parentNode&&a.el.parentNode.removeChild(a.el);if(a.editor&&a.editor.destroy)try{a.editor.destroy()}catch(c){}if(this.session.lineWidgets){var b=
this.session.lineWidgets[a.row];if(b==a)(this.session.lineWidgets[a.row]=a.$oldWidget)&&this.onWidgetChanged(a.$oldWidget);else for(;b;){if(b.$oldWidget==a){b.$oldWidget=a.$oldWidget;break}b=b.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:a.row}}});this.$updateRows()};this.getWidgetsAtRow=function(a){var b=this.session.lineWidgets;a=b&&b[a];for(b=[];a;)b.push(a),a=a.$oldWidget;return b};this.onWidgetChanged=function(a){this.session._changedWidgets.push(a);this.editor&&this.editor.renderer.updateFull()};
this.measureWidgets=function(a,b){a=this.session._changedWidgets;var c=b.layerConfig;if(a&&a.length){for(var d=Infinity,f=0;f<a.length;f++){var g=a[f];if(g&&g.el&&g.session==this.session){if(!g._inDocument){if(this.session.lineWidgets[g.row]!=g)continue;g._inDocument=!0;b.container.appendChild(g.el)}g.h=g.el.offsetHeight;g.fixedWidth||(g.w=g.el.offsetWidth,g.screenWidth=Math.ceil(g.w/c.characterWidth));var e=g.h/c.lineHeight;g.coverLine&&(e-=this.session.getRowLineCount(g.row),0>e&&(e=0));g.rowCount!=
e&&(g.rowCount=e,g.row<d&&(d=g.row))}}Infinity!=d&&(this.session._emit("changeFold",{data:{start:{row:d}}}),this.session.lineWidgetWidth=null);this.session._changedWidgets=[]}};this.renderWidgets=function(a,b){a=b.layerConfig;var c=this.session.lineWidgets;if(c){for(var d=Math.min(this.firstRow,a.firstRow),f=Math.max(this.lastRow,a.lastRow,c.length);0<d&&!c[d];)d--;this.firstRow=a.firstRow;this.lastRow=a.lastRow;for(b.$cursorLayer.config=a;d<=f;d++){var g=c[d];if(g&&g.el)if(g.hidden)g.el.style.top=
-100-(g.pixelHeight||0)+"px";else{g._inDocument||(g._inDocument=!0,b.container.appendChild(g.el));var e=b.$cursorLayer.getPixelPosition({row:d,column:0},!0).top;g.coverLine||(e+=a.lineHeight*this.session.getRowLineCount(g.row));g.el.style.top=e-a.offset+"px";e=g.coverGutter?0:b.gutterWidth;g.fixedWidth||(e-=b.scrollLeft);g.el.style.left=e+"px";g.fullWidth&&g.screenWidth&&(g.el.style.minWidth=a.width+2*a.padding+"px");g.fixedWidth?g.el.style.right=b.scrollBar.getWidth()+"px":g.el.style.right=""}}}}}).call(a.prototype);
n.LineWidgets=a});
define("ace/ext/error_marker","require exports module ace/line_widgets ace/lib/dom ace/range".split(" "),function(b,n,u){function a(a,b,d){a=a.getAnnotations().sort(g.comparePoints);if(a.length){a:{var c={row:b,column:-1};for(var e=g.comparePoints,f=0,h=a.length-1;f<=h;){var k=f+h>>1,n=e(c,a[k]);if(0<n)f=k+1;else{if(!(0>n)){c=k;break a}h=k-1}}c=-(f+1)}0>c&&(c=-c-1);c>=a.length?c=0<d?0:a.length-1:0===c&&0>d&&(c=a.length-1);if((e=a[c])&&d){if(e.row===b){do e=a[c+=d];while(e&&e.row===b);if(!e)return a.slice()}f=
[];b=e.row;do f[0>d?"unshift":"push"](e),e=a[c+=d];while(e&&e.row==b);return f.length&&f}}}var d=b("../line_widgets").LineWidgets,f=b("../lib/dom"),g=b("../range").Range;n.showErrorMarker=function(b,g){var c=b.session;c.widgetManager||(c.widgetManager=new d(c),c.widgetManager.attach(b));var h=b.getCursorPosition(),e=h.row,l=c.widgetManager.getWidgetsAtRow(e).filter(function(a){return"errorMarker"==a.type})[0];l?l.destroy():e-=g;if(g=a(c,e,g))l=g[0],h.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:
l.column)||0,h.row=l.row,l=b.renderer.$gutterLayer.$annotations[h.row];else{if(l)return;l={text:["Looks good!"],className:"ace_ok"}}b.session.unfold(h.row);b.selection.moveToPosition(h);var n={row:h.row,fixedWidth:!0,coverGutter:!0,el:f.createElement("div"),type:"errorMarker"};g=n.el.appendChild(f.createElement("div"));e=n.el.appendChild(f.createElement("div"));e.className="error_widget_arrow "+l.className;h=b.renderer.$cursorLayer.getPixelPosition(h).left;e.style.left=h+b.renderer.gutterWidth-5+
"px";n.el.className="error_widget_wrapper";g.className="error_widget "+l.className;g.innerHTML=l.text.join("<br>");g.appendChild(f.createElement("div"));var u=function(a,b,c){if(0===b&&("esc"===c||"return"===c))return n.destroy(),{command:"null"}};n.destroy=function(){b.$mouseHandler.isMousePressed||(b.keyBinding.removeKeyboardHandler(u),c.widgetManager.removeLineWidget(n),b.off("changeSelection",n.destroy),b.off("changeSession",n.destroy),b.off("mouseup",n.destroy),b.off("change",n.destroy))};b.keyBinding.addKeyboardHandler(u);
b.on("changeSelection",n.destroy);b.on("changeSession",n.destroy);b.on("mouseup",n.destroy);b.on("change",n.destroy);b.session.widgetManager.addLineWidget(n);n.el.onmousedown=b.focus.bind(b);b.renderer.scrollCursorIntoView(null,.5,{bottom:n.el.offsetHeight})};f.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }",
"")});
define("ace/ace","require exports module ace/lib/fixoldbrowsers ace/lib/dom ace/lib/event ace/editor ace/edit_session ace/undomanager ace/virtual_renderer ace/worker/worker_client ace/keyboard/hash_handler ace/placeholder ace/multi_select ace/mode/folding/fold_mode ace/theme/textmate ace/ext/error_marker ace/config".split(" "),function(b,n,u){b("./lib/fixoldbrowsers");var a=b("./lib/dom"),d=b("./lib/event"),f=b("./editor").Editor,g=b("./edit_session").EditSession,c=b("./undomanager").UndoManager,h=
b("./virtual_renderer").VirtualRenderer;b("./worker/worker_client");b("./keyboard/hash_handler");b("./placeholder");b("./multi_select");b("./mode/folding/fold_mode");b("./theme/textmate");b("./ext/error_marker");n.config=b("./config");n.require=b;"function"==typeof define&&(n.define=define);n.edit=function(b){if("string"==typeof b){var c=b;b=document.getElementById(c);if(!b)throw Error("ace.edit can't find div #"+c);}if(b&&b.env&&b.env.editor instanceof f)return b.env.editor;c="";if(b&&/input|textarea/i.test(b.tagName)){var e=
b;c=e.value;b=a.createElement("pre");e.parentNode.replaceChild(b,e)}else b&&(c=a.getInnerText(b),b.innerHTML="");c=n.createEditSession(c);b=new f(new h(b));b.setSession(c);var g={document:c,editor:b,onResize:b.resize.bind(b,null)};return e&&(g.textarea=e),d.addListener(window,"resize",g.onResize),b.on("destroy",function(){d.removeListener(window,"resize",g.onResize);g.editor.container.env=null}),b.container.env=b.env=g,b};n.createEditSession=function(a,b){a=new g(a,b);return a.setUndoManager(new c),
a};n.EditSession=g;n.UndoManager=c;n.version="1.2.9"});(function(){window.require(["ace/ace"],function(b){b&&(b.config.init(!0),b.define=window.define);window.ace||(window.ace=b);for(var n in b)b.hasOwnProperty(n)&&(window.ace[n]=b[n])})})();var wa_editor_key=!1,wa_editor;
function waEditorKeyCallback(b,n){n=n||{};n=jQuery.extend({save_button:"wa-page-button",change_callback:null},n);var u=$("#"+n.save_button);return b?function(a){u.length&&a.ctrlKey&&115==a.which&&!wa_editor_key&&(u.click(),a.preventDefault())}:function(a){wa_editor_key=!1;u.length&&(a.ctrlKey&&83==a.which&&(wa_editor_key=!0,u.click(),a.preventDefault()),a.metaKey||!((33>a.which||40<a.which)&&(27<a.which||8==a.which||13==a.which)&&(112>a.which||124<a.which))||a.ctrlKey&&67==a.which||(u.removeClass("green").addClass("yellow"),
n.change_callback&&"function"==typeof n.change_callback&&n.change_callback()))}}
function waEditorAceInit(b){b=b||{};b=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",type:"html",ace_editor_container:"wa-ace-editor-container"},b);b.save_button||(b.save_button=b.prefix+"button");$("#"+b.ace_editor_container).length||$('<div id="'+b.ace_editor_container+'"></div>').insertAfter($("#"+b.id));wa_editor=ace.edit(b.ace_editor_container);wa_editor.commands.removeCommand("find");ace.config.set("basePath",wa_url+"wa-content/js/ace/");wa_editor.setTheme("ace/theme/eclipse");var n=
wa_editor.getSession();"css"==b.type?n.setMode("ace/mode/css"):"javascript"==b.type?n.setMode("ace/mode/javascript"):(n.setMode("ace/mode/css"),n.setMode("ace/mode/javascript"),n.setMode("ace/mode/smarty"));n.setUseWrapMode(!0);wa_editor.setOption("maxLines",1E4);wa_editor.setAutoScrollEditorIntoView(!0);wa_editor.renderer.setShowGutter(!1);wa_editor.setShowPrintMargin(!1);-1!=navigator.appVersion.indexOf("Mac")?wa_editor.setFontSize(13):-1!=navigator.appVersion.indexOf("Linux")?wa_editor.setFontSize(16):
wa_editor.setFontSize(14);$(".ace_editor").css("fontFamily","");n.setValue($("#"+b.id).hide().val());wa_editor.focus();wa_editor.navigateTo(0,0);wa_editor.commands.addCommands([{name:"waSave",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(n){$("#"+b.save_button).click()}},{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(b,a){return!1},readOnly:!0}]);n.on("change",function(){b.change_callback&&"function"==typeof b.change_callback&&b.change_callback();$("#"+b.save_button).hasClass("green")&&
$("#"+b.save_button).removeClass("green").addClass("yellow")});$(window).resize(function(){wa_editor.resize()})}
function waEditorUpdateSource(b){b=b||{};b=jQuery.extend({id:"wa-page-content"},b);b=$("#"+b.id);$(".el-rte").length&&$(".el-rte").is(":visible")?($(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))}),b.val(b.elrte("val")),wa_editor&&wa_editor.setValue(b.val()),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var b=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",b);$(this).attr("src",b.replace(/\{\$wa_url\}/,
wa_url))})):wa_editor&&b.val(wa_editor.getValue())}
function waEditorInit(b){b=b||{};b=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",lang:"en",ace_editor_container:"wa-ace-editor-container",html_tab:"html",wysiwyg_tab:"wysiwyg"},b);b.save_button||(b.save_button=b.prefix+"button");var n=$("#"+b.id);if(!b.height){var u="div."+b.prefix+"editor";u=$(u).height()-$(u+" .wa-page-gray-toolbar").height()-92;$("div."+b.prefix+"save-panel").length&&(u-=25);$("#wa-app").height()<$("#wa").height()-$("#wa-header").height()&&(u+=$("#wa").height()-$("#wa-header").height()-
$("#wa-app").height());b.height=300>u?300:u}elRTE.prototype.beforeSave=function(){};elRTE.prototype.options.toolbars.waPageToolbar="wa_style alignment colors format indent lists wa_image wa_links wa_elements wa_tables direction".split(" ");!n.val()&&$.browser.msie&&n.val("<div></div>");n.elrte({height:b.height-53,cssfiles:[wa_url+"wa-content/css/wa/wa-1.3.css"],toolbar:"waPageToolbar",lang:b.lang,wa_image_upload:"?module=pages&action=uploadimage",wa_image_upload_path:b.upload_url,width:"100%"});"<div></div>"==
n.val()&&$.browser.msie&&n.elrte("val","");var a=n.elrte()[0].elrte.filter.source;n.elrte()[0].elrte.filter.source=function(b){b=a.call(n.elrte()[0].elrte.filter,b);b=b.replace(/%7B\$wa_url%7D/,"{$wa_url}");return b=b.replace(/{[a-z$][^}]*}/gi,function(a,b,c){var d=c.indexOf("\x3c/script",b+a.length);b=c.indexOf("<script",b+a.length);if(-1==d||-1!=b&&b<d)a=a.replace(/&gt;/g,">"),a=a.replace(/&lt;/g,"<"),a=a.replace(/&amp;/g,"&"),a=a.replace(/&quot;/g,'"');return a})};$(".el-rte iframe").contents().keydown(waEditorKeyCallback(!1,
b)).keypress(waEditorKeyCallback(!0,b)).keyup(function(a){27==a.keyCode&&jQuery(".dialog:visible").trigger("esc")});$(".el-rte .toolbar li").click(function(){$("#"+b.save_button).removeClass("green").addClass("yellow")});$("#wa-page-settings").keydown(waEditorKeyCallback(!1,b)).keypress(waEditorKeyCallback(!0,b));waEditorAceInit(b);$("#"+b.wysiwyg_tab).click(function(){$.storage&&$.storage.set(wa_app+"/editor","wysiwyg");$("ul#"+b.prefix+"wysiwyg-html-toggle, ul."+b.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$(this).parent().addClass("selected");$("#"+b.ace_editor_container).hide();n.elrte("val",wa_editor.getValue());$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,wa_url))});$(".el-rte").show();$(".el-rte iframe").contents().find("body").focus();return!1});$("#"+b.html_tab).click(function(){$.storage&&$.storage.set(wa_app+"/editor","html");$("ul#"+b.prefix+"wysiwyg-html-toggle, ul."+
b.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");$(this).parent().addClass("selected");$(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))});var a=wa_editor.getCursorPosition();waEditorUpdateSource(b);$(".el-rte").hide();$("#"+b.ace_editor_container).show();wa_editor.focus();wa_editor.navigateTo(a.row,a.column);return!1});$("ul#"+b.prefix+"wysiwyg-html-toggle, ul."+b.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$.storage&&"wysiwyg"!=$.storage.get(wa_app+"/editor")?($(".el-rte").hide(),$("#"+b.html_tab).parent().addClass("selected"),$("#"+b.ace_editor_container).show()):($("#"+b.wysiwyg_tab).parent().addClass("selected"),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,wa_url))}),$("#"+b.ace_editor_container).hide())};(function(b){var n=[],u=[];b.fn.doAutosize=function(a){var d=b(this).data("minwidth"),f=b(this).data("maxwidth"),g="",c=b(this),h=b("#"+b(this).data("tester_id"));g!==(g=c.val())&&(g=g.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">"),h.html(g),h=h.width(),a=h+a.comfortZone>=d?h+a.comfortZone:d,h=c.width(),(a<h&&a>=d||a>d&&a<f)&&c.width(a))};b.fn.resetAutosize=function(a){var d=b(this).data("minwidth")||a.minInputWidth||b(this).width();a=b(this).data("maxwidth")||a.maxInputWidth||
b(this).closest(".tagsinput").width()-a.inputPadding;var f=b(this),g=b("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:f.css("fontSize"),fontFamily:f.css("fontFamily"),fontWeight:f.css("fontWeight"),letterSpacing:f.css("letterSpacing"),whiteSpace:"nowrap"}),c=b(this).attr("id")+"_autosize_tester";0< !b("#"+c).length&&(g.attr("id",c),g.appendTo("body"));f.data("minwidth",d);f.data("maxwidth",a);f.data("tester_id",c);f.css("width",d)};b.fn.addTag=function(a,d){d=jQuery.extend({focus:!1,
callback:!0},d);this.each(function(){var f=b(this).attr("id"),g=b(this).val().split(n[f]);""==g[0]&&(g=[]);a=jQuery.trim(a);if(d.unique){var c=b(g).tagExist(a);1==c&&b("#"+f+"_tag").addClass("not_valid")}else c=!1;if(""!=a&&1!=c&&(b("<span>").addClass("tag").append(b("<span>").text(a).append("\u00a0\u00a0"),b("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return b("#"+f).removeTag(escape(a))})).insertBefore("#"+f+"_addTag"),g.push(a),b("#"+f+"_tag").val(""),d.focus?b("#"+f+"_tag").focus():
b("#"+f+"_tag").blur(),b.fn.tagsInput.updateTagsField(this,g),d.callback&&u[f]&&u[f].onAddTag&&(c=u[f].onAddTag,c.call(this,a)),u[f]&&u[f].onChange)){var h=g.length;c=u[f].onChange;c.call(this,b(this),g[h-1])}});return!1};b.fn.removeTag=function(a){a=unescape(a);this.each(function(){var d=b(this).attr("id"),f=b(this).val().split(n[d]);b("#"+d+"_tagsinput .tag").remove();str="";for(var g=0;g<f.length;g++)f[g]!=a&&(str=str+n[d]+f[g]);b.fn.tagsInput.importTags(this,str);u[d]&&u[d].onRemoveTag&&u[d].onRemoveTag.call(this,
a)});return!1};b.fn.tagExist=function(a){return 0<=jQuery.inArray(a,b(this))};b.fn.importTags=function(a){id=b(this).attr("id");b("#"+id+"_tagsinput .tag").remove();b.fn.tagsInput.importTags(this,a)};b.fn.tagsInput=function(a){var d=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},a);this.each(function(){d.hide&&
b(this).hide();var a=b(this).attr("id"),g=jQuery.extend({pid:a,real_input:"#"+a,holder:"#"+a+"_tagsinput",input_wrapper:"#"+a+"_addTag",fake_input:"#"+a+"_tag"},d);n[a]=g.delimiter;if(d.onAddTag||d.onRemoveTag||d.onChange)u[a]=[],u[a].onAddTag=d.onAddTag,u[a].onRemoveTag=d.onRemoveTag,u[a].onChange=d.onChange;var c='<div id="'+a+'_tagsinput" class="tagsinput"><div id="'+a+'_addTag">';d.interactive&&(c=c+'<input id="'+a+'_tag" value="" data-default="'+d.defaultText+'" />');b(c+'</div><div class="tags_clear"></div></div>').insertAfter(this);
b(g.holder).css("width",d.width);b(g.holder).css("height",d.height);""!=b(g.real_input).val()&&b.fn.tagsInput.importTags(b(g.real_input),b(g.real_input).val());if(d.interactive){b(g.fake_input).val(b(g.fake_input).attr("data-default"));b(g.fake_input).css("color",d.placeholderColor);b(g.fake_input).resetAutosize(d);b(g.holder).bind("click",g,function(a){b(a.data.fake_input).focus()});b(g.fake_input).bind("focus",g,function(a){b(a.data.fake_input).val()==b(a.data.fake_input).attr("data-default")&&
b(a.data.fake_input).val("");b(a.data.fake_input).css("color","#000000")});if(void 0!=d.autocomplete_url){autocomplete_options={source:d.autocomplete_url};for(attrname in d.autocomplete)autocomplete_options[attrname]=d.autocomplete[attrname];void 0!==jQuery.Autocompleter?(b(g.fake_input).autocomplete(d.autocomplete_url,d.autocomplete),b(g.fake_input).bind("result",g,function(c,f,g){f&&b("#"+a).addTag(f[0]+"",{focus:!0,unique:d.unique})})):void 0!==jQuery.ui.autocomplete&&(b(g.fake_input).autocomplete(autocomplete_options),
b(g.fake_input).bind("autocompleteselect",g,function(a,c){b(a.data.real_input).addTag(c.item.value,{focus:!0,unique:d.unique});return!1}))}else b(g.fake_input).bind("blur",g,function(a){var c=b(this).attr("data-default");""!=b(a.data.fake_input).val()&&b(a.data.fake_input).val()!=c?a.data.minChars<=b(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=b(a.data.fake_input).val().length)&&b(a.data.real_input).addTag(b(a.data.fake_input).val(),{focus:!0,unique:d.unique}):(b(a.data.fake_input).val(b(a.data.fake_input).attr("data-default")),
b(a.data.fake_input).css("color",d.placeholderColor));return!1});b(g.fake_input).bind("keypress",g,function(a){if(a.which==a.data.delimiter.charCodeAt(0)||13==a.which)return a.preventDefault(),a.data.minChars<=b(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=b(a.data.fake_input).val().length)&&b(a.data.real_input).addTag(b(a.data.fake_input).val(),{focus:!0,unique:d.unique}),b(a.data.fake_input).resetAutosize(d),!1;a.data.autosize&&b(a.data.fake_input).doAutosize(d)});g.removeWithBackspace&&
b(g.fake_input).bind("keydown",function(a){if(8==a.keyCode&&""==b(this).val()){a.preventDefault();a=b(this).closest(".tagsinput").find(".tag:last").text();var c=b(this).attr("id").replace(/_tag$/,"");a=a.replace(/[\s]+x$/,"");b("#"+c).removeTag(escape(a));b(this).trigger("focus")}});b(g.fake_input).blur();g.unique&&b(g.fake_input).keydown(function(a){(8==a.keyCode||String.fromCharCode(a.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,\/]+/))&&b(this).removeClass("not_valid")})}return!1});
return this};b.fn.tagsInput.updateTagsField=function(a,d){var f=b(a).attr("id");b(a).val(d.join(n[f]))};b.fn.tagsInput.importTags=function(a,d){b(a).val("");var f=b(a).attr("id");d=d.split(n[f]);for(var g=0;g<d.length;g++)b(a).addTag(d[g],{focus:!1,callback:!1});u[f]&&u[f].onChange&&u[f].onChange.call(a,a,d[g])}})(jQuery);(function(b){b.iButton={version:"1.0.03",setDefaults:function(d){b.extend(a,d)}};b.fn.iButton=function(a){var c="string"==typeof arguments[0]&&arguments[0],d=c&&Array.prototype.slice.call(arguments,1)||arguments,f=0==this.length?null:b.data(this[0],"iButton");if(f&&c&&this.length){if("object"==c.toLowerCase())return f;if(f[c]){var g;this.each(function(a){var e=b.data(this,"iButton")[c].apply(f,d);if(0==a&&e)if(e.jquery)g=b([]).add(e);else return g=e,!1;else e&&e.jquery&&(g=g.add(e))});return g||this}return this}return this.each(function(){new u(this,
a)})};var n=0;b.browser.iphone=-1<navigator.userAgent.toLowerCase().indexOf("iphone");var u=function(g,c){var h=this,k=b(g),m=++n,e=!1,l=!1,q=null,u=null,z=null,t=null;c=b.extend({},a,c,b.metadata?k.metadata():{});g=c.labelOn==d&&c.labelOff==f;if(!k.is(":checkbox, :radio"))return k.find(":checkbox, :radio").iButton(c);if(!b.data(k[0],"iButton")){b.data(k[0],"iButton",h);"auto"==c.resizeHandle&&(c.resizeHandle=!g);"auto"==c.resizeContainer&&(c.resizeContainer=!g);this.toggle=function(a){k.attr("checked",
0<arguments.length?a:!k[0].checked).trigger("change")};this.disable=function(a){var d=0<arguments.length?a:!e;e=d;k.attr("disabled",d);C[d?"addClass":"removeClass"](c.classDisabled);b.isFunction(c.disable)&&c.disable.apply(h,[e,k,c])};this.repaint=function(){D()};this.destroy=function(){b([k[0],C[0]]).unbind(".iButton");b(document).unbind(".iButton_"+m);C.after(k).remove();b.data(k[0],"iButton",null);b.isFunction(c.destroy)&&c.destroy.apply(h,[k,c])};k.wrap('<div class="'+b.trim(c.classContainer+
" "+c.className)+'" />').after('<div class="'+c.classHandle+'"><div class="'+c.classHandleRight+'"><div class="'+c.classHandleMiddle+'" /></div></div><div class="'+c.classLabelOff+'"><span><label>'+c.labelOff+'</label></span></div><div class="'+c.classLabelOn+'"><span><label>'+c.labelOn+'</label></span></div><div class="'+c.classPaddingLeft+'"></div><div class="'+c.classPaddingRight+'"></div>');var C=k.parent(),r=k.siblings("."+c.classHandle),B=k.siblings("."+c.classLabelOff),y=B.children("span"),
A=k.siblings("."+c.classLabelOn),G=A.children("span");if(c.resizeHandle||c.resizeContainer){var F=G.outerWidth();var J=y.outerWidth()}c.resizeHandle?(g=Math.min(F,J),r.css("width",g)):g=r.width();c.resizeContainer?(F=Math.max(F,J)+g+20,C.css("width",F),B.css("width",F-5)):F=C.width();var E=F-g-6,D=function(a){var b=k[0].checked?E:0;(a=0<arguments.length?arguments[0]:!0)&&c.enableFx?(r.stop().animate({left:b},c.duration,c.easing),A.stop().animate({width:b+4},c.duration,c.easing),G.stop().animate({marginLeft:b-
E},c.duration,c.easing),y.stop().animate({marginRight:-b},c.duration,c.easing)):(r.css("left",b),A.css("width",b+4),G.css("marginLeft",b-E),y.css("marginRight",-b))};D(!1);var Q=function(a){return a.pageX||(a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:0)};C.bind("mousedown.iButton touchstart.iButton",function(a){if(!(b(a.target).is(":checkbox, :radio")||e||!c.allowRadioUncheck&&k.is(":radio:checked")))return a.preventDefault(),q=r,u=Q(a),z=u-(parseInt(r.css("left"),10)||
0),t=(new Date).getTime(),!1});c.enableDrag&&b(document).bind("mousemove.iButton_"+m+" touchmove.iButton_"+m,function(a){if(q==r)return a.preventDefault(),a=Q(a),a!=z&&(l=!0,C.addClass(c.classHandleActive)),a=Math.min(1,Math.max(0,(a-z)/E)),r.css("left",a*E),A.css("width",a*E+4),y.css("marginRight",-a*E),G.css("marginLeft",-(1-a)*E),!1});b(document).bind("mouseup.iButton_"+m+" touchend.iButton_"+m,function(a){if(q==r){a.preventDefault();var d=!0;!l||(new Date).getTime()-t<c.clickOffset?(a=k[0].checked,
k.attr("checked",!a),b.isFunction(c.click)&&c.click.apply(h,[!a,k,c])):(a=.5<=(Q(a)-z)/E,k[0].checked==a&&(d=!1),k.attr("checked",a));C.removeClass(c.classHandleActive);l=q=null;d?k.trigger("change"):D();return!1}});k.bind("change.iButton",function(){D();if(k.is(":radio")){var a=k[0];b(a.form?a.form[a.name]:":radio[name="+a.name+"]").filter(":not(:checked)").iButton("repaint")}b.isFunction(c.change)&&c.change.apply(h,[k,c])}).bind("focus.iButton",function(){C.addClass(c.classFocus)}).bind("blur.iButton",
function(){C.removeClass(c.classFocus)});b.isFunction(c.click)&&k.bind("click.iButton",function(){c.click.apply(h,[k[0].checked,k,c])});k.is(":disabled")&&this.disable(!0);b.browser.msie&&(C.find("*").andSelf().attr("unselectable","on"),k.bind("click.iButton",function(){k.triggerHandler("change.iButton")}));b.isFunction(c.init)&&c.init.apply(h,[k,c])}},a={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,
clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},d=a.labelOn,f=a.labelOff})(jQuery);jQuery.fn.waEditor2=function(){function b(a,b){var c=a.closest(".wa-editor-core-wrapper");if("string"===typeof b[0])switch(b[0]){case "sync":c.find(".wysiwyg").parent().hasClass("selected")?(a.redactor("code.sync"),b=a.redactor("code.get"),b!==a.data("last_wysiwyg_code")&&(b=a.redactor("clean.onSync",a.redactor("clean.onSet",b)),a.val(b))):a.val(a.data("ace").getValue());break;case "insert":c.find(".wysiwyg").parent().hasClass("selected")?a.redactor("insert.html",b[1]):a.data("ace").insert(b[1]);
break;case "get":return c.find(".wysiwyg").parent().hasClass("selected")?a.redactor("code.get"):a.data("ace").getValue()}else a.redactor("code.set",a.val()),a.data("ace").setValue(a.val())}function n(a){a=$.extend({focus:!0,deniedTags:!1,minHeight:300,linkify:!1,source:!1,paragraphy:!1,replaceDivs:!1,toolbarFixed:!0,replaceTags:{b:"strong",i:"em",strike:"del"},removeNewlines:!1,removeComments:!1,imagePosition:!0,imageResizable:!0,imageFloatMargin:"1.5em",buttons:"format bold italic underline deleted lists image video table link alignment horizontalrule fontcolor fontsize fontfamily".split(" "),
plugins:"fontcolor fontfamily alignment fontsize table video".split(" "),imageUpload:"?module=pages&action=uploadimage&r=2",imageUploadFields:'[name="_csrf"]:first',callbacks:{}},a||{});if(a.uploadFields||a.uploadImageFields)a.imageUploadFields=a.uploadFields||a.uploadImageFields;a.callbacks=$.extend({imageUploadError:function(a){console.log("imageUploadError",a);alert(a.error)},keydown:function(b){return"115"!=b.which&&"83"!=b.which||!b.ctrlKey&&!b.metaKey?!0:(b.preventDefault(),a.saveButton&&$(a.saveButton).click(),
!1)},sync:function(b){b=b.replace(/{[a-z$][^}]*}/gi,function(a,b,c){var d=c.indexOf("\x3c/script",b+a.length);b=c.indexOf("<script",b+a.length);if(-1==d||-1!=b&&b<d)a=a.replace(/&gt;/g,">"),a=a.replace(/&lt;/g,"<"),a=a.replace(/&amp;/g,"&"),a=a.replace(/&quot;/g,'"');return a});a.callbacks.syncBefore&&(b=a.callbacks.syncBefore(b));this.$textarea.val(b)},syncClean:function(a){return a.replace(/\{[a-z\$'"_\(!+\-][^\}]*\}/gi,function(a){return a.replace(/-&gt;/g,"->")})}},a.callbacks||{});a.saveButton&&
!a.callbacks.change&&(a.callbacks.change=function(b){$(a.saveButton).removeClass("green").addClass("yellow")});return a}function u(a,b){var c=a.closest(".wa-editor-core-wrapper");if(c.find(".ace").length)d=a.closest(".wa-editor-core-wrapper").find(".ace").children("div");else{var d=$("<div></div>");a.parent().append($('<div class="ace"></div>').append(d))}var e=ace.edit(d.get(0));e.commands.removeCommand("find");ace.config.set("basePath",wa_url+"wa-content/js/ace/");e.setTheme("ace/theme/eclipse");
d=e.getSession();d.setMode("ace/mode/css");d.setMode("ace/mode/javascript");d.setMode("ace/mode/smarty");e.$blockScrolling=Infinity;d.setUseWrapMode(!0);e.renderer.setShowGutter(!1);e.setShowPrintMargin(!1);-1!=navigator.appVersion.indexOf("Mac")?e.setFontSize(13):-1!=navigator.appVersion.indexOf("Linux")?e.setFontSize(16):e.setFontSize(14);c.find(".ace_editor").css("fontFamily","");c.find(".ace_editor").css("minHeight",200);a.val().length?d.setValue(a.val()):d.setValue(" ");e.setOption("minLines",
2);e.setOption("maxLines",1E4);e.setAutoScrollEditorIntoView(!0);b.focus&&(e.focus(),e.navigateTo(0,0));e.commands.addCommands([{name:"waSave",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(a){b.saveButton&&$(b.saveButton).click()}},{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(a,b){return!1},readOnly:!0}]);if(b.callbacks.change)d.on("change",b.callbacks.change);a.data("ace",e);$(window).resize(function(){e.resize()});return e}function a(a){a=a.replace(/\{\$[a-z_][^\}]*\}/gi,
"");return!a.match(/\{[a-z\$'"_\(!+\-]/i)}function d(a,b,d,f){var c=b.find(".wa-editor-upload-img");c.removeClass("hidden").appendTo(b.find(".ace"));c.click(function(){if($.fn.fileupload)return c.find("svg").length?$.waDialog({$wrapper:a}):a.waDialog(),!1;console.log("waEditor2 ERROR: jQuery fileupload plugins is required, but missing.")});c.one("click",function(){if($.fn.fileupload)return a.find("input:file").fileupload({dataType:"json",start:function(){a.find("div.loading").show();a.find("input[type=submit]").attr("disabled",
"disabled")},done:function(a,b){if(b.result.error)return $('<div style="text-align: center"><p>'+b.result.error+"</p></div>").waDialog({buttons:'<input type="submit" value="'+f.locales.close+'" class="button red" />',height:"100px",width:"550px",onSubmit:function(a){a.trigger("close");return!1}}),!1;a='\n<figure><img src="%url%"></figure>\n'.replace("%url%",b.result.url);d.insert(a);d.clearSelection();d.focus()},stop:function(){a.hide();a.find("div.loading").hide();a.find("input[type=submit]").removeAttr("disabled")}}),
!1})}var f=arguments,g;this.each(function(){function c(a){return k.data("original_code")||a}function h(a){a&&k.data("original_code",a);setTimeout(function(){k.data("last_wysiwyg_code",k.redactor("code.get"))},50)}var k=$(this);if(k.data("redactor"))g=b(k,f);else{var m=n(f[0]),e=u(k,m);h(k.val());k.redactor(m);k.redactor("core.editor").find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,wa_url))});
k.redactor("core.box")&&k.redactor("core.box").css("z-index",0);k.redactor("core.toolbar")&&k.redactor("core.toolbar").css("z-index",1);var l=k.closest(".wa-editor-core-wrapper");m.upload_img_dialog&&d($(m.upload_img_dialog),l,e,m);l.find(".html").click(function(){if($(this).parent().hasClass("selected"))return!1;window.wa_app&&localStorage.setItem(wa_app+"/editor","html");l.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected");$(this).parent().addClass("selected");k.redactor("core.box").hide();
var a=e.getCursorPosition();k.redactor("core.editor").find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"));$(this).removeAttr("data-src")});k.redactor("code.sync");var b=k.redactor("code.get");b!==k.data("last_wysiwyg_code")?(b=k.redactor("clean.onSync",k.redactor("clean.onSet",b)),e.setValue(b)):e.setValue(c(b));l.find(".ace").show();e.focus();e.navigateTo(a.row,a.column);return!1});l.find(".wysiwyg").click(function(){if($(this).parent().hasClass("selected"))return!1;
var b=e.getValue();if(m.smarty_wysiwyg_msg&&!a(b))return alert(m.smarty_wysiwyg_msg),!1;if($.trim(b)&&m.modification_wysiwyg_msg&&k.redactor("clean.onSync",k.redactor("clean.onSet",b))!==b)if("string"===typeof m.modification_wysiwyg_msg)if(confirm(m.modification_wysiwyg_msg))m.modification_wysiwyg_msg=null;else return!1;else return $(this).hasClass("js-is-wa2")?$.waDialog({$wrapper:m.modification_wysiwyg_msg,onOpen:function(a,b){a.find("form").on("submit",function(a){a.preventDefault();m.modification_wysiwyg_msg=
null;l.find(".wysiwyg").trigger("click");b.close()})},onSubmit:function(a){return!1}}):m.modification_wysiwyg_msg.waDialog({onSubmit:function(a){m.modification_wysiwyg_msg=null;a.trigger("close");l.find(".wysiwyg").trigger("click");return!1}}),!1;window.wa_app&&localStorage.setItem(wa_app+"/editor","wysiwyg");k.redactor("code.set",b);k.redactor("core.editor").find('img[src*="$wa_url"]').each(function(){var a=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",a);$(this).attr("src",a.replace(/\{\$wa_url\}/,
wa_url))});k.redactor("observe.images");k.redactor("observe.links");l.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected");$(this).parent().addClass("selected");l.find(".ace").hide();k.redactor("core.box").show();h(b);k.redactor("focus.start");return!1});window.wa_app&&m.smarty_wysiwyg_msg&&!a(k.val())||localStorage.getItem(wa_app+"/editor")&&"html"==localStorage.getItem(wa_app+"/editor")?(l.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected"),l.find(".html").parent().addClass("selected"),
k.redactor("core.box").hide(),l.find(".ace").show(),setTimeout(function(){e.blur()},50),m.focus&&setTimeout(function(){e.focus();e.navigateTo(0,0)},100)):(l.find(".ace").hide(),m.focus&&(m.iframe?setTimeout(function(){k.redactor("focus.start")},100):k.redactor("focus.start")))}});return g};jQuery.fn.waEditor||(jQuery.fn.waEditor=jQuery.fn.waEditor2);
//# sourceMappingURL=vendor.min.js.map