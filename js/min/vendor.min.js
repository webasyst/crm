/*
 jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(d,L){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?L(d,!0):function(X){if(!X.document)throw Error("jQuery requires a window with a document");return L(X)}:L(d)}("undefined"!=typeof window?window:this,function(d,L){function X(r,B,M){var Q,V,ea=(M=M||Xa).createElement("script");if(ea.text=r,B)for(Q in Cd)(V=B[Q]||B.getAttribute&&B.getAttribute(Q))&&ea.setAttribute(Q,V);M.head.appendChild(ea).parentNode.removeChild(ea)}function a(r){return null==r?r+"":
"object"==typeof r||"function"==typeof r?mb[pb.call(r)]||"object":typeof r}function h(r){var B=!!r&&"length"in r&&r.length,M=a(r);return!Wa(r)&&!Gb(r)&&("array"===M||0===B||"number"==typeof B&&0<B&&B-1 in r)}function f(r,B){return r.nodeName&&r.nodeName.toLowerCase()===B.toLowerCase()}function g(r,B,M){return Wa(B)?P.grep(r,function(Q,V){return!!B.call(Q,V,Q)!==M}):B.nodeType?P.grep(r,function(Q){return Q===B!==M}):"string"!=typeof B?P.grep(r,function(Q){return-1<jb.call(B,Q)!==M}):P.filter(B,r,M)}
function e(r,B){for(;(r=r[B])&&1!==r.nodeType;);return r}function k(r){return r}function p(r){throw r;}function u(r,B,M,Q){var V;try{r&&Wa(V=r.promise)?V.call(r).done(B).fail(M):r&&Wa(V=r.then)?V.call(r,B,M):B.apply(void 0,[r].slice(Q))}catch(ea){M.apply(void 0,[ea])}}function c(){Xa.removeEventListener("DOMContentLoaded",c);d.removeEventListener("load",c);P.ready()}function m(r,B){return B.toUpperCase()}function n(r){return r.replace(jc,"ms-").replace(Gc,m)}function w(){this.expando=P.expando+w.uid++}
function z(r,B,M){var Q,V;if(void 0===M&&1===r.nodeType)if(Q="data-"+B.replace(ge,"-$&").toLowerCase(),"string"==typeof(M=r.getAttribute(Q))){try{M="true"===(V=M)||"false"!==V&&("null"===V?null:V===+V+""?+V:he.test(V)?JSON.parse(V):V)}catch(ea){}$b.set(r,B,M)}else M=void 0;return M}function x(r,B,M,Q){var V,ea,da=20,sa=Q?function(){return Q.cur()}:function(){return P.css(r,B,"")},ta=sa(),Ba=M&&M[3]||(P.cssNumber[B]?"":"px"),Na=r.nodeType&&(P.cssNumber[B]||"px"!==Ba&&+ta)&&Pd.exec(P.css(r,B));if(Na&&
Na[3]!==Ba){ta/=2;Ba=Ba||Na[3];for(Na=+ta||1;da--;)P.style(r,B,Na+Ba),0>=(1-ea)*(1-(ea=sa()/ta||.5))&&(da=0),Na/=ea;Na*=2;P.style(r,B,Na+Ba);M=M||[]}return M&&(Na=+Na||+ta||0,V=M[1]?Na+(M[1]+1)*M[2]:+M[2],Q&&(Q.unit=Ba,Q.start=Na,Q.end=V)),V}function H(r,B){for(var M,Q,V,ea,da,sa,ta,Ba=[],Na=0,Aa=r.length;Na<Aa;Na++)(Q=r[Na]).style&&(M=Q.style.display,B?("none"===M&&(Ba[Na]=Cb.get(Q,"display")||null,Ba[Na]||(Q.style.display="")),""===Q.style.display&&ie(Q)&&(Ba[Na]=(ta=da=ea=void 0,da=(V=Q).ownerDocument,
sa=V.nodeName,(ta=Ie[sa])||(ea=da.body.appendChild(da.createElement(sa)),ta=P.css(ea,"display"),ea.parentNode.removeChild(ea),"none"===ta&&(ta="block"),Ie[sa]=ta)))):"none"!==M&&(Ba[Na]="none",Cb.set(Q,"display",M)));for(Na=0;Na<Aa;Na++)null!=Ba[Na]&&(r[Na].style.display=Ba[Na]);return r}function v(r,B){var M;return M="undefined"!=typeof r.getElementsByTagName?r.getElementsByTagName(B||"*"):"undefined"!=typeof r.querySelectorAll?r.querySelectorAll(B||"*"):[],void 0===B||B&&f(r,B)?P.merge([r],M):M}
function I(r,B){for(var M=0,Q=r.length;M<Q;M++)Cb.set(r[M],"globalEval",!B||Cb.get(B[M],"globalEval"))}function D(r,B,M,Q,V){for(var ea,da,sa,ta,Ba=B.createDocumentFragment(),Na=[],Aa=0,fb=r.length;Aa<fb;Aa++)if((ea=r[Aa])||0===ea)if("object"===a(ea))P.merge(Na,ea.nodeType?[ea]:ea);else if(mg.test(ea)){da=da||Ba.appendChild(B.createElement("div"));sa=(We.exec(ea)||["",""])[1].toLowerCase();sa=Kc[sa]||Kc._default;da.innerHTML=sa[1]+P.htmlPrefilter(ea)+sa[2];for(sa=sa[0];sa--;)da=da.lastChild;P.merge(Na,
da.childNodes);(da=Ba.firstChild).textContent=""}else Na.push(B.createTextNode(ea));Ba.textContent="";for(Aa=0;ea=Na[Aa++];)if(Q&&-1<P.inArray(ea,Q))V&&V.push(ea);else if(ta=Dd(ea),da=v(Ba.appendChild(ea),"script"),ta&&I(da),M)for(sa=0;ea=da[sa++];)Xe.test(ea.type||"")&&M.push(ea);return Ba}function J(){return!0}function O(){return!1}function G(r,B){a:{try{var M=Xa.activeElement;break a}catch(Q){}M=void 0}return r===M==("focus"===B)}function T(r,B,M,Q,V,ea){var da,sa;if("object"==typeof B){for(sa in"string"!=
typeof M&&(Q=Q||M,M=void 0),B)T(r,sa,M,Q,B[sa],ea);return r}if(null==Q&&null==V?(V=M,Q=M=void 0):null==V&&("string"==typeof M?(V=Q,Q=void 0):(V=Q,Q=M,M=void 0)),!1===V)V=O;else if(!V)return r;return 1===ea&&(da=V,(V=function(ta){return P().off(ta),da.apply(this,arguments)}).guid=da.guid||(da.guid=P.guid++)),r.each(function(){P.event.add(this,B,V,Q,M)})}function S(r,B,M){M?(Cb.set(r,B,!1),P.event.add(r,B,{namespace:!1,handler:function(Q){var V,ea,da=Cb.get(this,B);if(1&Q.isTrigger&&this[B])if(da.length)(P.event.special[B]||
{}).delegateType&&Q.stopPropagation();else{if(da=bb.call(arguments),Cb.set(this,B,da),V=M(this,B),this[B](),da!==(ea=Cb.get(this,B))||V?Cb.set(this,B,!1):ea={},da!==ea)return Q.stopImmediatePropagation(),Q.preventDefault(),ea&&ea.value}else da.length&&(Cb.set(this,B,{value:P.event.trigger(P.extend(da[0],P.Event.prototype),da.slice(1),this)}),Q.stopImmediatePropagation())}})):void 0===Cb.get(r,B)&&P.event.add(r,B,J)}function R(r,B){return f(r,"table")&&f(11!==B.nodeType?B:B.firstChild,"tr")&&P(r).children("tbody")[0]||
r}function ba(r){return r.type=(null!==r.getAttribute("type"))+"/"+r.type,r}function ha(r){return"true/"===(r.type||"").slice(0,5)?r.type=r.type.slice(5):r.removeAttribute("type"),r}function ra(r,B){var M,Q,V,ea,da;if(1===B.nodeType){if(Cb.hasData(r)&&(da=Cb.get(r).events))for(Q in Cb.remove(B,"handle events"),da){var sa=0;for(M=da[Q].length;sa<M;sa++)P.event.add(B,Q,da[Q][sa])}$b.hasData(r)&&(V=$b.access(r),ea=P.extend({},V),$b.set(B,ea))}}function Ka(r,B,M,Q){B=ab(B);var V,ea,da,sa=0,ta=r.length,
Ba=ta-1,Na=B[0],Aa=Wa(Na);if(Aa||1<ta&&"string"==typeof Na&&!gb.checkClone&&Ye.test(Na))return r.each(function(nb){var ob=r.eq(nb);Aa&&(B[0]=Na.call(this,nb,ob.html()));Ka(ob,B,M,Q)});if(ta&&(ea=(V=D(B,r[0].ownerDocument,!1,r,Q)).firstChild,1===V.childNodes.length&&(V=ea),ea||Q)){for(da=(ea=P.map(v(V,"script"),ba)).length;sa<ta;sa++){var fb=V;sa!==Ba&&(fb=P.clone(fb,!0,!0),da&&P.merge(ea,v(fb,"script")));M.call(r[sa],fb,sa)}if(da)for(V=ea[ea.length-1].ownerDocument,P.map(ea,ha),sa=0;sa<da;sa++)fb=
ea[sa],Xe.test(fb.type||"")&&!Cb.access(fb,"globalEval")&&P.contains(V,fb)&&(fb.src&&"module"!==(fb.type||"").toLowerCase()?P._evalUrl&&!fb.noModule&&P._evalUrl(fb.src,{nonce:fb.nonce||fb.getAttribute("nonce")},V):X(fb.textContent.replace(je,""),fb,V))}return r}function ma(r,B,M){for(var Q=B?P.filter(B,r):r,V=0;null!=(B=Q[V]);V++)M||1!==B.nodeType||P.cleanData(v(B)),B.parentNode&&(M&&Dd(B)&&I(v(B,"script")),B.parentNode.removeChild(B));return r}function ja(r,B,M){var Q,V,ea,da,sa=r.style;return(M=
M||Qd(r))&&(""!==(da=M.getPropertyValue(B)||M[B])||Dd(r)||(da=P.style(r,B)),!gb.pixelBoxStyles()&&Rd.test(da)&&rd.test(B)&&(Q=sa.width,V=sa.minWidth,ea=sa.maxWidth,sa.minWidth=sa.maxWidth=sa.width=da,da=M.width,sa.width=Q,sa.minWidth=V,sa.maxWidth=ea)),void 0!==da?da+"":da}function Ca(r,B){return{get:function(){if(!r())return(this.get=B).apply(this,arguments);delete this.get}}}function Fa(r){var B;if(!(B=P.cssProps[r]||ke[r])){if(!(r in sd)){a:{B=r;for(var M=B[0].toUpperCase()+B.slice(1),Q=Sd.length;Q--;)if((B=
Sd[Q]+M)in sd)break a;B=void 0}r=ke[r]=B||r}B=r}return B}function Ga(r,B,M){return(r=Pd.exec(B))?Math.max(0,r[2]-(M||0))+(r[3]||"px"):B}function Ra(r,B,M,Q,V,ea){var da="width"===B?1:0,sa=0,ta=0;if(M===(Q?"border":"content"))return 0;for(;4>da;da+=2)"margin"===M&&(ta+=P.css(r,M+cd[da],!0,V)),Q?("content"===M&&(ta-=P.css(r,"padding"+cd[da],!0,V)),"margin"!==M&&(ta-=P.css(r,"border"+cd[da]+"Width",!0,V))):(ta+=P.css(r,"padding"+cd[da],!0,V),"padding"!==M?ta+=P.css(r,"border"+cd[da]+"Width",!0,V):sa+=
P.css(r,"border"+cd[da]+"Width",!0,V));return!Q&&0<=ea&&(ta+=Math.max(0,Math.ceil(r["offset"+B[0].toUpperCase()+B.slice(1)]-ea-ta-sa-.5))||0),ta}function Ia(r,B,M){var Q=Qd(r),V=(!gb.boxSizingReliable()||M)&&"border-box"===P.css(r,"boxSizing",!1,Q),ea=V,da=ja(r,B,Q),sa="offset"+B[0].toUpperCase()+B.slice(1);if(Rd.test(da)){if(!M)return da;da="auto"}return(!gb.boxSizingReliable()&&V||!gb.reliableTrDimensions()&&f(r,"tr")||"auto"===da||!parseFloat(da)&&"inline"===P.css(r,"display",!1,Q))&&r.getClientRects().length&&
(V="border-box"===P.css(r,"boxSizing",!1,Q),(ea=sa in r)&&(da=r[sa])),(da=parseFloat(da)||0)+Ra(r,B,M||(V?"border":"content"),ea,Q,da)+"px"}function va(r,B,M,Q,V){return new va.prototype.init(r,B,M,Q,V)}function Ta(){md&&(!1===Xa.hidden&&d.requestAnimationFrame?d.requestAnimationFrame(Ta):d.setTimeout(Ta,P.fx.interval),P.fx.tick())}function Da(){return d.setTimeout(function(){nd=void 0}),nd=Date.now()}function ua(r,B){var M,Q=0,V={height:r};for(B=B?1:0;4>Q;Q+=2-B)V["margin"+(M=cd[Q])]=V["padding"+
M]=r;return B&&(V.opacity=V.width=r),V}function La(r,B,M){for(var Q,V=(Qa.tweeners[B]||[]).concat(Qa.tweeners["*"]),ea=0,da=V.length;ea<da;ea++)if(Q=V[ea].call(M,B,r))return Q}function Qa(r,B,M){var Q,V=0,ea=Qa.prefilters.length,da=P.Deferred().always(function(){delete sa.elem}),sa=function(){if(Q)return!1;var Ba=nd||Da();Ba=Math.max(0,ta.startTime+ta.duration-Ba);for(var Na=1-(Ba/ta.duration||0),Aa=0,fb=ta.tweens.length;Aa<fb;Aa++)ta.tweens[Aa].run(Na);return da.notifyWith(r,[ta,Na,Ba]),1>Na&&fb?
Ba:(fb||da.notifyWith(r,[ta,1,0]),da.resolveWith(r,[ta]),!1)},ta=da.promise({elem:r,props:P.extend({},B),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},M),originalProperties:B,originalOptions:M,startTime:nd||Da(),duration:M.duration,tweens:[],createTween:function(Ba,Na){Ba=P.Tween(r,ta.opts,Ba,Na,ta.opts.specialEasing[Ba]||ta.opts.easing);return ta.tweens.push(Ba),Ba},stop:function(Ba){var Na=0,Aa=Ba?ta.tweens.length:0;if(Q)return this;for(Q=!0;Na<Aa;Na++)ta.tweens[Na].run(1);return Ba?
(da.notifyWith(r,[ta,1,0]),da.resolveWith(r,[ta,Ba])):da.rejectWith(r,[ta,Ba]),this}});M=ta.props;!function(Ba,Na){var Aa,fb,nb,ob,Hb;for(Aa in Ba)if(nb=Na[fb=n(Aa)],ob=Ba[Aa],Array.isArray(ob)&&(nb=ob[1],ob=Ba[Aa]=ob[0]),Aa!==fb&&(Ba[fb]=ob,delete Ba[Aa]),(Hb=P.cssHooks[fb])&&"expand"in Hb)for(Aa in ob=Hb.expand(ob),delete Ba[fb],ob)Aa in Ba||(Ba[Aa]=ob[Aa],Na[Aa]=nb);else Na[fb]=nb}(M,ta.opts.specialEasing);for(;V<ea;V++)if(B=Qa.prefilters[V].call(ta,r,M,ta.opts))return Wa(B.stop)&&(P._queueHooks(ta.elem,
ta.opts.queue).stop=B.stop.bind(B)),B;return P.map(M,La,ta),Wa(ta.opts.start)&&ta.opts.start.call(r,ta),ta.progress(ta.opts.progress).done(ta.opts.done,ta.opts.complete).fail(ta.opts.fail).always(ta.opts.always),P.fx.timer(P.extend(sa,{elem:r,anim:ta,queue:ta.opts.queue})),ta}function Pa(r){return(r.match(Hc)||[]).join(" ")}function cb(r){return r.getAttribute&&r.getAttribute("class")||""}function rb(r){return Array.isArray(r)?r:"string"==typeof r&&r.match(Hc)||[]}function Va(r,B,M,Q){var V;if(Array.isArray(B))P.each(B,
function(ea,da){M||Ze.test(r)?Q(r,da):Va(r+"["+("object"==typeof da&&null!=da?ea:"")+"]",da,M,Q)});else if(M||"object"!==a(B))Q(r,B);else for(V in B)Va(r+"["+V+"]",B[V],M,Q)}function kb(r){return function(B,M){"string"!=typeof B&&(M=B,B="*");var Q=0,V=B.toLowerCase().match(Hc)||[];if(Wa(M))for(;B=V[Q++];)"+"===B[0]?(B=B.slice(1)||"*",(r[B]=r[B]||[]).unshift(M)):(r[B]=r[B]||[]).push(M)}}function Ib(r,B,M,Q){function V(sa){var ta;return ea[sa]=!0,P.each(r[sa]||[],function(Ba,Na){Ba=Na(B,M,Q);return"string"!=
typeof Ba||da||ea[Ba]?da?!(ta=Ba):void 0:(B.dataTypes.unshift(Ba),V(Ba),!1)}),ta}var ea={},da=r===le;return V(B.dataTypes[0])||!ea["*"]&&V("*")}function Db(r,B){var M,Q,V=P.ajaxSettings.flatOptions||{};for(M in B)void 0!==B[M]&&((V[M]?r:Q||={})[M]=B[M]);return Q&&P.extend(!0,r,Q),r}var Eb=[],hb=Object.getPrototypeOf,bb=Eb.slice,ab=Eb.flat?function(r){return Eb.flat.call(r)}:function(r){return Eb.concat.apply([],r)},tb=Eb.push,jb=Eb.indexOf,mb={},pb=mb.toString,Ob=mb.hasOwnProperty,bc=Ob.toString,
xb=bc.call(Object),gb={},Wa=function(r){return"function"==typeof r&&"number"!=typeof r.nodeType&&"function"!=typeof r.item},Gb=function(r){return null!=r&&r===r.window},Xa=d.document,Cd={type:!0,src:!0,nonce:!0,noModule:!0},P=function(r,B){return new P.fn.init(r,B)};P.fn=P.prototype={jquery:"3.6.0",constructor:P,length:0,toArray:function(){return bb.call(this)},get:function(r){return null==r?bb.call(this):0>r?this[r+this.length]:this[r]},pushStack:function(r){r=P.merge(this.constructor(),r);return r.prevObject=
this,r},each:function(r){return P.each(this,r)},map:function(r){return this.pushStack(P.map(this,function(B,M){return r.call(B,M,B)}))},slice:function(){return this.pushStack(bb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(r,B){return(B+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(r,B){return B%2}))},eq:function(r){var B=this.length;r=+r+(0>r?B:0);return this.pushStack(0<=
r&&r<B?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:tb,sort:Eb.sort,splice:Eb.splice};P.extend=P.fn.extend=function(){var r,B,M,Q,V,ea=arguments[0]||{},da=1,sa=arguments.length,ta=!1;"boolean"==typeof ea&&(ta=ea,ea=arguments[da]||{},da++);"object"==typeof ea||Wa(ea)||(ea={});for(da===sa&&(ea=this,da--);da<sa;da++)if(null!=(r=arguments[da]))for(B in r){var Ba=r[B];"__proto__"!==B&&ea!==Ba&&(ta&&Ba&&(P.isPlainObject(Ba)||(Q=Array.isArray(Ba)))?(M=ea[B],V=Q&&!Array.isArray(M)?
[]:Q||P.isPlainObject(M)?M:{},Q=!1,ea[B]=P.extend(ta,V,Ba)):void 0!==Ba&&(ea[B]=Ba))}return ea};P.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw Error(r);},noop:function(){},isPlainObject:function(r){var B,M;return!(!r||"[object Object]"!==pb.call(r))&&(!(B=hb(r))||"function"==typeof(M=Ob.call(B,"constructor")&&B.constructor)&&bc.call(M)===xb)},isEmptyObject:function(r){for(var B in r)return!1;return!0},globalEval:function(r,B,M){X(r,{nonce:B&&
B.nonce},M)},each:function(r,B){var M,Q=0;if(h(r))for(M=r.length;Q<M&&!1!==B.call(r[Q],Q,r[Q]);Q++);else for(Q in r)if(!1===B.call(r[Q],Q,r[Q]))break;return r},makeArray:function(r,B){B=B||[];return null!=r&&(h(Object(r))?P.merge(B,"string"==typeof r?[r]:r):tb.call(B,r)),B},inArray:function(r,B,M){return null==B?-1:jb.call(B,r,M)},merge:function(r,B){for(var M=+B.length,Q=0,V=r.length;Q<M;Q++)r[V++]=B[Q];return r.length=V,r},grep:function(r,B,M){var Q=[],V=0,ea=r.length;for(M=!M;V<ea;V++)!B(r[V],
V)!==M&&Q.push(r[V]);return Q},map:function(r,B,M){var Q,V,ea=0,da=[];if(h(r))for(Q=r.length;ea<Q;ea++)null!=(V=B(r[ea],ea,M))&&da.push(V);else for(ea in r)null!=(V=B(r[ea],ea,M))&&da.push(V);return ab(da)},guid:1,support:gb});"function"==typeof Symbol&&(P.fn[Symbol.iterator]=Eb[Symbol.iterator]);P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,B){mb["[object "+B+"]"]=B.toLowerCase()});var Tc=function(r){function B(ca,qa,za,ya){var Ea,$a,Ya,vb,db=
qa&&qa.ownerDocument;var yb=qa?qa.nodeType:9;if(za=za||[],"string"!=typeof ca||!ca||1!==yb&&9!==yb&&11!==yb)return za;if(!ya&&(uc(qa),qa=qa||Mb,cc)){if(11!==yb&&(vb=$e.exec(ca)))if(Ea=vb[1])if(9===yb){if(!($a=qa.getElementById(Ea)))return za;if($a.id===Ea)return za.push($a),za}else{if(db&&($a=db.getElementById(Ea))&&Vb(qa,$a)&&$a.id===Ea)return za.push($a),za}else{if(vb[2])return dd.apply(za,qa.getElementsByTagName(ca)),za;if((Ea=vb[3])&&qb.getElementsByClassName&&qa.getElementsByClassName)return dd.apply(za,
qa.getElementsByClassName(Ea)),za}if(!(!qb.qsa||Td[ca+" "]||ac&&ac.test(ca)||1===yb&&"object"===qa.nodeName.toLowerCase())){if(Ea=ca,db=qa,1===yb&&(ng.test(ca)||af.test(ca))){(db=me.test(ca)&&Aa(qa.parentNode)||qa)===qa&&qb.scope||((Ya=qa.getAttribute("id"))?Ya=Ya.replace(Je,bf):qa.setAttribute("id",Ya=Jb));for(yb=(Ea=Yc(ca)).length;yb--;)Ea[yb]=(Ya?"#"+Ya:":scope")+" "+nb(Ea[yb]);Ea=Ea.join(",")}try{return dd.apply(za,db.querySelectorAll(Ea)),za}catch(Pb){Td(ca,!0)}finally{Ya===Jb&&qa.removeAttribute("id")}}}return Lc(ca.replace(Ud,
"$1"),qa,za,ya)}function M(){var ca=[];return function Ea(za,ya){return ca.push(za+" ")>Fb.cacheLength&&delete Ea[ca.shift()],Ea[za+" "]=ya}}function Q(ca){return ca[Jb]=!0,ca}function V(ca){var qa=Mb.createElement("fieldset");try{return!!ca(qa)}catch(za){return!1}finally{qa.parentNode&&qa.parentNode.removeChild(qa)}}function ea(ca,qa){ca=ca.split("|");for(var za=ca.length;za--;)Fb.attrHandle[ca[za]]=qa}function da(ca,qa){var za=qa&&ca,ya=za&&1===ca.nodeType&&1===qa.nodeType&&ca.sourceIndex-qa.sourceIndex;
if(ya)return ya;if(za)for(;za=za.nextSibling;)if(za===qa)return-1;return ca?1:-1}function sa(ca){return function(qa){return"input"===qa.nodeName.toLowerCase()&&qa.type===ca}}function ta(ca){return function(qa){var za=qa.nodeName.toLowerCase();return("input"===za||"button"===za)&&qa.type===ca}}function Ba(ca){return function(qa){return"form"in qa?qa.parentNode&&!1===qa.disabled?"label"in qa?"label"in qa.parentNode?qa.parentNode.disabled===ca:qa.disabled===ca:qa.isDisabled===ca||qa.isDisabled!==!ca&&
og(qa)===ca:qa.disabled===ca:"label"in qa&&qa.disabled===ca}}function Na(ca){return Q(function(qa){return qa=+qa,Q(function(za,ya){for(var Ea,$a=ca([],za.length,qa),Ya=$a.length;Ya--;)za[Ea=$a[Ya]]&&(za[Ea]=!(ya[Ea]=za[Ea]))})})}function Aa(ca){return ca&&"undefined"!=typeof ca.getElementsByTagName&&ca}function fb(){}function nb(ca){for(var qa=0,za=ca.length,ya="";qa<za;qa++)ya+=ca[qa].value;return ya}function ob(ca,qa,za){var ya=qa.dir,Ea=qa.next,$a=Ea||ya,Ya=za&&"parentNode"===$a,vb=Mc++;return qa.first?
function(db,yb,Pb){for(;db=db[ya];)if(1===db.nodeType||Ya)return ca(db,yb,Pb);return!1}:function(db,yb,Pb){var kc,fc,Kb,Rb=[Yb,vb];if(Pb)for(;db=db[ya];){if((1===db.nodeType||Ya)&&ca(db,yb,Pb))return!0}else for(;db=db[ya];)if(1===db.nodeType||Ya)if(fc=(Kb=db[Jb]||(db[Jb]={}))[db.uniqueID]||(Kb[db.uniqueID]={}),Ea&&Ea===db.nodeName.toLowerCase())db=db[ya]||db;else{if((kc=fc[$a])&&kc[0]===Yb&&kc[1]===vb)return Rb[2]=kc[2];if((fc[$a]=Rb)[2]=ca(db,yb,Pb))return!0}return!1}}function Hb(ca){return 1<ca.length?
function(qa,za,ya){for(var Ea=ca.length;Ea--;)if(!ca[Ea](qa,za,ya))return!1;return!0}:ca[0]}function Wb(ca,qa,za,ya,Ea){for(var $a,Ya=[],vb=0,db=ca.length,yb=null!=qa;vb<db;vb++)($a=ca[vb])&&(za&&!za($a,ya,Ea)||(Ya.push($a),yb&&qa.push(vb)));return Ya}function Nc(ca,qa,za,ya,Ea,$a){return ya&&!ya[Jb]&&(ya=Nc(ya)),Ea&&!Ea[Jb]&&(Ea=Nc(Ea,$a)),Q(function(Ya,vb,db,yb){var Pb,kc=[],fc=[],Kb=vb.length,Rb;if(!(Rb=Ya)){Rb=qa||"*";for(var Xb=db.nodeType?[db]:db,Sc=[],yc=0,pc=Xb.length;yc<pc;yc++)B(Rb,Xb[yc],
Sc);Rb=Sc}Rb=!ca||!Ya&&qa?Rb:Wb(Rb,kc,ca,db,yb);Xb=za?Ea||(Ya?ca:Kb||ya)?[]:vb:Rb;if(za&&za(Rb,Xb,db,yb),ya){var lc=Wb(Xb,fc);ya(lc,[],db,yb);for(db=lc.length;db--;)(Pb=lc[db])&&(Xb[fc[db]]=!(Rb[fc[db]]=Pb))}if(Ya){if(Ea||ca){if(Ea){lc=[];for(db=Xb.length;db--;)(Pb=Xb[db])&&lc.push(Rb[db]=Pb);Ea(null,Xb=[],lc,yb)}for(db=Xb.length;db--;)(Pb=Xb[db])&&-1<(lc=Ea?Zc(Ya,Pb):kc[db])&&(Ya[lc]=!(vb[lc]=Pb))}}else Xb=Wb(Xb===vb?Xb.splice(Kb,Xb.length):Xb),Ea?Ea(null,vb,Xb,yb):dd.apply(vb,Xb)})}function vc(ca){var qa,
za,ya=ca.length,Ea=Fb.relative[ca[0].type];var $a=Ea||Fb.relative[" "];for(var Ya=Ea?1:0,vb=ob(function(Pb){return Pb===qa},$a,!0),db=ob(function(Pb){return-1<Zc(qa,Pb)},$a,!0),yb=[function(Pb,kc,fc){Pb=!Ea&&(fc||kc!==ed)||((qa=kc).nodeType?vb(Pb,kc,fc):db(Pb,kc,fc));return qa=null,Pb}];Ya<ya;Ya++)if($a=Fb.relative[ca[Ya].type])yb=[ob(Hb(yb),$a)];else{if(($a=Fb.filter[ca[Ya].type].apply(null,ca[Ya].matches))[Jb]){for(za=++Ya;za<ya&&!Fb.relative[ca[za].type];za++);return Nc(1<Ya&&Hb(yb),1<Ya&&nb(ca.slice(0,
Ya-1).concat({value:" "===ca[Ya-2].type?"*":""})).replace(Ud,"$1"),$a,Ya<za&&vc(ca.slice(Ya,za)),za<ya&&vc(ca=ca.slice(za)),za<ya&&nb(ca))}yb.push($a)}return Hb(yb)}var Bc,qb,Fb,Qb,oc,Yc,Ed,Lc,ed,Ic,wc,uc,Mb,Zb,cc,ac,zc,qc,Vb,Jb="sizzle"+1*new Date,gc=r.document,Yb=0,Mc=0,td=M(),ne=M(),cf=M(),Td=M(),ud=function(ca,qa){return ca===qa&&(wc=!0),0},pg={}.hasOwnProperty,fd=[],df=fd.pop,gd=fd.push,dd=fd.push,od=fd.slice,Zc=function(ca,qa){for(var za=0,ya=ca.length;za<ya;za++)if(ca[za]===qa)return za;return-1},
qg=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Ud=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ef=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),af=RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),ng=RegExp("[\\x20\\t\\r\\n\\f]|>"),rg=RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
sg=RegExp("^(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+$"),oe={ID:RegExp("^#((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),CLASS:RegExp("^\\.((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),TAG:RegExp("^((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+|[*])"),ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\]"),
PSEUDO:RegExp("^:((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},tg=/HTML$/i,ug=/^(?:input|select|textarea|button)$/i,ff=/^h\d$/i,Fd=/^[^{]+\{\s*\[native \w/,$e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,hd=RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),jd=function(ca,qa){ca="0x"+ca.slice(1)-65536;return qa||(0>ca?String.fromCharCode(ca+65536):String.fromCharCode(ca>>10|55296,1023&ca|56320))},Je=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,bf=function(ca,qa){return qa?"\x00"===ca?"\ufffd":ca.slice(0,-1)+"\\"+ca.charCodeAt(ca.length-
1).toString(16)+" ":"\\"+ca},gf=function(){uc()},og=ob(function(ca){return!0===ca.disabled&&"fieldset"===ca.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{dd.apply(fd=od.call(gc.childNodes),gc.childNodes),fd[gc.childNodes.length].nodeType}catch(ca){dd={apply:fd.length?function(qa,za){gd.apply(qa,od.call(za))}:function(qa,za){for(var ya=qa.length,Ea=0;qa[ya++]=za[Ea++];);qa.length=ya-1}}}for(Bc in qb=B.support={},oc=B.isXML=function(ca){var qa=ca&&(ca.ownerDocument||ca).documentElement;
return!tg.test(ca&&ca.namespaceURI||qa&&qa.nodeName||"HTML")},uc=B.setDocument=function(ca){var qa,za;ca=ca?ca.ownerDocument||ca:gc;return ca!=Mb&&9===ca.nodeType&&ca.documentElement&&(Zb=(Mb=ca).documentElement,cc=!oc(Mb),gc!=Mb&&(za=Mb.defaultView)&&za.top!==za&&(za.addEventListener?za.addEventListener("unload",gf,!1):za.attachEvent&&za.attachEvent("onunload",gf)),qb.scope=V(function(ya){return Zb.appendChild(ya).appendChild(Mb.createElement("div")),"undefined"!=typeof ya.querySelectorAll&&!ya.querySelectorAll(":scope fieldset div").length}),
qb.attributes=V(function(ya){return ya.className="i",!ya.getAttribute("className")}),qb.getElementsByTagName=V(function(ya){return ya.appendChild(Mb.createComment("")),!ya.getElementsByTagName("*").length}),qb.getElementsByClassName=Fd.test(Mb.getElementsByClassName),qb.getById=V(function(ya){return Zb.appendChild(ya).id=Jb,!Mb.getElementsByName||!Mb.getElementsByName(Jb).length}),qb.getById?(Fb.filter.ID=function(ya){var Ea=ya.replace(hd,jd);return function($a){return $a.getAttribute("id")===Ea}},
Fb.find.ID=function(ya,Ea){if("undefined"!=typeof Ea.getElementById&&cc)return(ya=Ea.getElementById(ya))?[ya]:[]}):(Fb.filter.ID=function(ya){var Ea=ya.replace(hd,jd);return function($a){return($a="undefined"!=typeof $a.getAttributeNode&&$a.getAttributeNode("id"))&&$a.value===Ea}},Fb.find.ID=function(ya,Ea){if("undefined"!=typeof Ea.getElementById&&cc){var $a,Ya=Ea.getElementById(ya);if(Ya){if(($a=Ya.getAttributeNode("id"))&&$a.value===ya)return[Ya];var vb=Ea.getElementsByName(ya);for(Ea=0;Ya=vb[Ea++];)if(($a=
Ya.getAttributeNode("id"))&&$a.value===ya)return[Ya]}return[]}}),Fb.find.TAG=qb.getElementsByTagName?function(ya,Ea){return"undefined"!=typeof Ea.getElementsByTagName?Ea.getElementsByTagName(ya):qb.qsa?Ea.querySelectorAll(ya):void 0}:function(ya,Ea){var $a=[],Ya=0;Ea=Ea.getElementsByTagName(ya);if("*"===ya){for(;ya=Ea[Ya++];)1===ya.nodeType&&$a.push(ya);return $a}return Ea},Fb.find.CLASS=qb.getElementsByClassName&&function(ya,Ea){if("undefined"!=typeof Ea.getElementsByClassName&&cc)return Ea.getElementsByClassName(ya)},
zc=[],ac=[],(qb.qsa=Fd.test(Mb.querySelectorAll))&&(V(function(ya){var Ea;Zb.appendChild(ya).innerHTML="<a id='"+Jb+"'></a><select id='"+Jb+"-\r\\' msallowcapture=''><option selected=''></option></select>";ya.querySelectorAll("[msallowcapture^='']").length&&ac.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");ya.querySelectorAll("[selected]").length||ac.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
ya.querySelectorAll("[id~="+Jb+"-]").length||ac.push("~=");(Ea=Mb.createElement("input")).setAttribute("name","");ya.appendChild(Ea);ya.querySelectorAll("[name='']").length||ac.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");ya.querySelectorAll(":checked").length||ac.push(":checked");ya.querySelectorAll("a#"+Jb+"+*").length||ac.push(".#.+[+~]");ya.querySelectorAll("\\\f");ac.push("[\\r\\n\\f]")}),V(function(ya){ya.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
var Ea=Mb.createElement("input");Ea.setAttribute("type","hidden");ya.appendChild(Ea).setAttribute("name","D");ya.querySelectorAll("[name=d]").length&&ac.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==ya.querySelectorAll(":enabled").length&&ac.push(":enabled",":disabled");Zb.appendChild(ya).disabled=!0;2!==ya.querySelectorAll(":disabled").length&&ac.push(":enabled",":disabled");ya.querySelectorAll("*,:x");ac.push(",.*:")})),(qb.matchesSelector=Fd.test(qc=Zb.matches||Zb.webkitMatchesSelector||Zb.mozMatchesSelector||
Zb.oMatchesSelector||Zb.msMatchesSelector))&&V(function(ya){qb.disconnectedMatch=qc.call(ya,"*");qc.call(ya,"[s!='']:x");zc.push("!=",":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
ac=ac.length&&new RegExp(ac.join("|")),zc=zc.length&&new RegExp(zc.join("|")),qa=Fd.test(Zb.compareDocumentPosition),Vb=qa||Fd.test(Zb.contains)?function(ya,Ea){var $a=9===ya.nodeType?ya.documentElement:ya;Ea=Ea&&Ea.parentNode;return ya===Ea||!(!Ea||1!==Ea.nodeType||!($a.contains?$a.contains(Ea):ya.compareDocumentPosition&&16&ya.compareDocumentPosition(Ea)))}:function(ya,Ea){if(Ea)for(;Ea=Ea.parentNode;)if(Ea===ya)return!0;return!1},ud=qa?function(ya,Ea){if(ya===Ea)return wc=!0,0;var $a=!ya.compareDocumentPosition-
!Ea.compareDocumentPosition;return $a||(1&($a=(ya.ownerDocument||ya)==(Ea.ownerDocument||Ea)?ya.compareDocumentPosition(Ea):1)||!qb.sortDetached&&Ea.compareDocumentPosition(ya)===$a?ya==Mb||ya.ownerDocument==gc&&Vb(gc,ya)?-1:Ea==Mb||Ea.ownerDocument==gc&&Vb(gc,Ea)?1:Ic?Zc(Ic,ya)-Zc(Ic,Ea):0:4&$a?-1:1)}:function(ya,Ea){if(ya===Ea)return wc=!0,0;var $a=0,Ya=ya.parentNode,vb=Ea.parentNode,db=[ya],yb=[Ea];if(!Ya||!vb)return ya==Mb?-1:Ea==Mb?1:Ya?-1:vb?1:Ic?Zc(Ic,ya)-Zc(Ic,Ea):0;if(Ya===vb)return da(ya,
Ea);for(;ya=ya.parentNode;)db.unshift(ya);for(ya=Ea;ya=ya.parentNode;)yb.unshift(ya);for(;db[$a]===yb[$a];)$a++;return $a?da(db[$a],yb[$a]):db[$a]==gc?-1:yb[$a]==gc?1:0}),Mb},B.matches=function(ca,qa){return B(ca,null,null,qa)},B.matchesSelector=function(ca,qa){if(uc(ca),!(!qb.matchesSelector||!cc||Td[qa+" "]||zc&&zc.test(qa)||ac&&ac.test(qa)))try{var za=qc.call(ca,qa);if(za||qb.disconnectedMatch||ca.document&&11!==ca.document.nodeType)return za}catch(ya){Td(qa,!0)}return 0<B(qa,Mb,null,[ca]).length},
B.contains=function(ca,qa){return(ca.ownerDocument||ca)!=Mb&&uc(ca),Vb(ca,qa)},B.attr=function(ca,qa){(ca.ownerDocument||ca)!=Mb&&uc(ca);var za=Fb.attrHandle[qa.toLowerCase()];za=za&&pg.call(Fb.attrHandle,qa.toLowerCase())?za(ca,qa,!cc):void 0;return void 0!==za?za:qb.attributes||!cc?ca.getAttribute(qa):(za=ca.getAttributeNode(qa))&&za.specified?za.value:null},B.escape=function(ca){return(ca+"").replace(Je,bf)},B.error=function(ca){throw Error("Syntax error, unrecognized expression: "+ca);},B.uniqueSort=
function(ca){var qa,za=[],ya=0,Ea=0;if(wc=!qb.detectDuplicates,Ic=!qb.sortStable&&ca.slice(0),ca.sort(ud),wc){for(;qa=ca[Ea++];)qa===ca[Ea]&&(ya=za.push(Ea));for(;ya--;)ca.splice(za[ya],1)}return Ic=null,ca},Qb=B.getText=function(ca){var qa,za="",ya=0;if(qa=ca.nodeType)if(1===qa||9===qa||11===qa){if("string"==typeof ca.textContent)return ca.textContent;for(ca=ca.firstChild;ca;ca=ca.nextSibling)za+=Qb(ca)}else{if(3===qa||4===qa)return ca.nodeValue}else for(;qa=ca[ya++];)za+=Qb(qa);return za},(Fb=B.selectors=
{cacheLength:50,createPseudo:Q,match:oe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ca){return ca[1]=ca[1].replace(hd,jd),ca[3]=(ca[3]||ca[4]||ca[5]||"").replace(hd,jd),"~="===ca[2]&&(ca[3]=" "+ca[3]+" "),ca.slice(0,4)},CHILD:function(ca){return ca[1]=ca[1].toLowerCase(),"nth"===ca[1].slice(0,3)?(ca[3]||B.error(ca[0]),ca[4]=+(ca[4]?ca[5]+(ca[6]||1):2*("even"===ca[3]||
"odd"===ca[3])),ca[5]=+(ca[7]+ca[8]||"odd"===ca[3])):ca[3]&&B.error(ca[0]),ca},PSEUDO:function(ca){var qa,za=!ca[6]&&ca[2];return oe.CHILD.test(ca[0])?null:(ca[3]?ca[2]=ca[4]||ca[5]||"":za&&rg.test(za)&&(qa=Yc(za,!0))&&(qa=za.indexOf(")",za.length-qa)-za.length)&&(ca[0]=ca[0].slice(0,qa),ca[2]=za.slice(0,qa)),ca.slice(0,3))}},filter:{TAG:function(ca){var qa=ca.replace(hd,jd).toLowerCase();return"*"===ca?function(){return!0}:function(za){return za.nodeName&&za.nodeName.toLowerCase()===qa}},CLASS:function(ca){var qa=
td[ca+" "];return qa||(qa=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+ca+"([\\x20\\t\\r\\n\\f]|$)"),td(ca,function(za){return qa.test("string"==typeof za.className&&za.className||"undefined"!=typeof za.getAttribute&&za.getAttribute("class")||"")}))},ATTR:function(ca,qa,za){return function(ya){ya=B.attr(ya,ca);return null==ya?"!="===qa:!qa||(ya+="","="===qa?ya===za:"!="===qa?ya!==za:"^="===qa?za&&0===ya.indexOf(za):"*="===qa?za&&-1<ya.indexOf(za):"$="===qa?za&&ya.slice(-za.length)===za:"~="===qa?-1<(" "+
ya.replace(qg," ")+" ").indexOf(za):"|="===qa&&(ya===za||ya.slice(0,za.length+1)===za+"-"))}},CHILD:function(ca,qa,za,ya,Ea){var $a="nth"!==ca.slice(0,3),Ya="last"!==ca.slice(-4),vb="of-type"===qa;return 1===ya&&0===Ea?function(db){return!!db.parentNode}:function(db,yb,Pb){var kc,fc,Kb,Rb;yb=$a!==Ya?"nextSibling":"previousSibling";var Xb=db.parentNode,Sc=vb&&db.nodeName.toLowerCase(),yc=!Pb&&!vb,pc=!1;if(Xb){if($a){for(;yb;){for(Kb=db;Kb=Kb[yb];)if(vb?Kb.nodeName.toLowerCase()===Sc:1===Kb.nodeType)return!1;
var lc=yb="only"===ca&&!lc&&"nextSibling"}return!0}if(lc=[Ya?Xb.firstChild:Xb.lastChild],Ya&&yc)for(pc=(Rb=(kc=(Pb=(fc=(Kb=Xb)[Jb]||(Kb[Jb]={}))[Kb.uniqueID]||(fc[Kb.uniqueID]={}))[ca]||[])[0]===Yb&&kc[1])&&kc[2],Kb=Rb&&Xb.childNodes[Rb];Kb=++Rb&&Kb&&Kb[yb]||(pc=Rb=0)||lc.pop();){if(1===Kb.nodeType&&++pc&&Kb===db){Pb[ca]=[Yb,Rb,pc];break}}else if(yc&&(pc=Rb=(kc=((fc=(Kb=db)[Jb]||(Kb[Jb]={}))[Kb.uniqueID]||(fc[Kb.uniqueID]={}))[ca]||[])[0]===Yb&&kc[1]),!1===pc)for(;(Kb=++Rb&&Kb&&Kb[yb]||(pc=Rb=0)||
lc.pop())&&((vb?Kb.nodeName.toLowerCase()!==Sc:1!==Kb.nodeType)||!++pc||(yc&&((Pb=(fc=Kb[Jb]||(Kb[Jb]={}))[Kb.uniqueID]||(fc[Kb.uniqueID]={}))[ca]=[Yb,pc]),Kb!==db)););return(pc-=Ea)===ya||0==pc%ya&&0<=pc/ya}}},PSEUDO:function(ca,qa){var za,ya=Fb.pseudos[ca]||Fb.setFilters[ca.toLowerCase()]||B.error("unsupported pseudo: "+ca);return ya[Jb]?ya(qa):1<ya.length?(za=[ca,ca,"",qa],Fb.setFilters.hasOwnProperty(ca.toLowerCase())?Q(function(Ea,$a){for(var Ya,vb=ya(Ea,qa),db=vb.length;db--;)Ea[Ya=Zc(Ea,vb[db])]=
!($a[Ya]=vb[db])}):function(Ea){return ya(Ea,0,za)}):ya}},pseudos:{not:Q(function(ca){var qa=[],za=[],ya=Ed(ca.replace(Ud,"$1"));return ya[Jb]?Q(function(Ea,$a,Ya,vb){var db;Ya=ya(Ea,null,vb,[]);for(vb=Ea.length;vb--;)(db=Ya[vb])&&(Ea[vb]=!($a[vb]=db))}):function(Ea,$a,Ya){return qa[0]=Ea,ya(qa,null,Ya,za),qa[0]=null,!za.pop()}}),has:Q(function(ca){return function(qa){return 0<B(ca,qa).length}}),contains:Q(function(ca){return ca=ca.replace(hd,jd),function(qa){return-1<(qa.textContent||Qb(qa)).indexOf(ca)}}),
lang:Q(function(ca){return sg.test(ca||"")||B.error("unsupported lang: "+ca),ca=ca.replace(hd,jd).toLowerCase(),function(qa){var za;do if(za=cc?qa.lang:qa.getAttribute("xml:lang")||qa.getAttribute("lang"))return(za=za.toLowerCase())===ca||0===za.indexOf(ca+"-");while((qa=qa.parentNode)&&1===qa.nodeType);return!1}}),target:function(ca){var qa=r.location&&r.location.hash;return qa&&qa.slice(1)===ca.id},root:function(ca){return ca===Zb},focus:function(ca){return ca===Mb.activeElement&&(!Mb.hasFocus||
Mb.hasFocus())&&!!(ca.type||ca.href||~ca.tabIndex)},enabled:Ba(!1),disabled:Ba(!0),checked:function(ca){var qa=ca.nodeName.toLowerCase();return"input"===qa&&!!ca.checked||"option"===qa&&!!ca.selected},selected:function(ca){return ca.parentNode&&ca.parentNode.selectedIndex,!0===ca.selected},empty:function(ca){for(ca=ca.firstChild;ca;ca=ca.nextSibling)if(6>ca.nodeType)return!1;return!0},parent:function(ca){return!Fb.pseudos.empty(ca)},header:function(ca){return ff.test(ca.nodeName)},input:function(ca){return ug.test(ca.nodeName)},
button:function(ca){var qa=ca.nodeName.toLowerCase();return"input"===qa&&"button"===ca.type||"button"===qa},text:function(ca){var qa;return"input"===ca.nodeName.toLowerCase()&&"text"===ca.type&&(null==(qa=ca.getAttribute("type"))||"text"===qa.toLowerCase())},first:Na(function(){return[0]}),last:Na(function(ca,qa){return[qa-1]}),eq:Na(function(ca,qa,za){return[0>za?za+qa:za]}),even:Na(function(ca,qa){for(var za=0;za<qa;za+=2)ca.push(za);return ca}),odd:Na(function(ca,qa){for(var za=1;za<qa;za+=2)ca.push(za);
return ca}),lt:Na(function(ca,qa,za){for(qa=0>za?za+qa:qa<za?qa:za;0<=--qa;)ca.push(qa);return ca}),gt:Na(function(ca,qa,za){for(za=0>za?za+qa:za;++za<qa;)ca.push(za);return ca})}}).pseudos.nth=Fb.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Fb.pseudos[Bc]=sa(Bc);for(Bc in{submit:!0,reset:!0})Fb.pseudos[Bc]=ta(Bc);return fb.prototype=Fb.filters=Fb.pseudos,Fb.setFilters=new fb,Yc=B.tokenize=function(ca,qa){var za,ya,Ea,$a,Ya,vb;if(Ya=ne[ca+" "])return qa?0:Ya.slice(0);Ya=ca;var db=
[];for(vb=Fb.preFilter;Ya;){for($a in za&&!(ya=ef.exec(Ya))||(ya&&(Ya=Ya.slice(ya[0].length)||Ya),db.push(Ea=[])),za=!1,(ya=af.exec(Ya))&&(za=ya.shift(),Ea.push({value:za,type:ya[0].replace(Ud," ")}),Ya=Ya.slice(za.length)),Fb.filter)!(ya=oe[$a].exec(Ya))||vb[$a]&&!(ya=vb[$a](ya))||(za=ya.shift(),Ea.push({value:za,type:$a,matches:ya}),Ya=Ya.slice(za.length));if(!za)break}return qa?Ya.length:Ya?B.error(ca):ne(ca,db).slice(0)},Ed=B.compile=function(ca,qa){var za,ya,Ea,$a,Ya=[],vb=[],db=cf[ca+" "];if(!db){qa||=
Yc(ca);for(za=qa.length;za--;)(db=vc(qa[za]))[Jb]?Ya.push(db):vb.push(db);(db=cf(ca,(ya=0<Ya.length,Ea=0<vb.length,$a=function(yb,Pb,kc,fc,Kb){var Rb,Xb,Sc=0,yc="0",pc=yb&&[],lc=[],hf=ed,pe=yb||Ea&&Fb.find.TAG("*",Kb),Ke=Yb+=null==hf?1:Math.random()||.1,jf=pe.length;for(Kb&&(ed=Pb==Mb||Pb||Kb);yc!==jf&&null!=(Rb=pe[yc]);yc++){if(Ea&&Rb){var qe=0;for(Pb||Rb.ownerDocument==Mb||(uc(Rb),kc=!cc);Xb=vb[qe++];)if(Xb(Rb,Pb||Mb,kc)){fc.push(Rb);break}Kb&&(Yb=Ke)}ya&&((Rb=!Xb&&Rb)&&Sc--,yb&&pc.push(Rb))}if(Sc+=
yc,ya&&yc!==Sc){for(qe=0;Xb=Ya[qe++];)Xb(pc,lc,Pb,kc);if(yb){if(0<Sc)for(;yc--;)pc[yc]||lc[yc]||(lc[yc]=df.call(fc));lc=Wb(lc)}dd.apply(fc,lc);Kb&&!yb&&0<lc.length&&1<Sc+Ya.length&&B.uniqueSort(fc)}return Kb&&(Yb=Ke,ed=hf),pc},ya?Q($a):$a))).selector=ca}return db},Lc=B.select=function(ca,qa,za,ya){var Ea,$a,Ya,vb,db,yb="function"==typeof ca&&ca,Pb=!ya&&Yc(ca=yb.selector||ca);if(za=za||[],1===Pb.length){if(2<($a=Pb[0]=Pb[0].slice(0)).length&&"ID"===(Ya=$a[0]).type&&9===qa.nodeType&&cc&&Fb.relative[$a[1].type]){if(!(qa=
(Fb.find.ID(Ya.matches[0].replace(hd,jd),qa)||[])[0]))return za;yb&&(qa=qa.parentNode);ca=ca.slice($a.shift().value.length)}for(Ea=oe.needsContext.test(ca)?0:$a.length;Ea--&&(Ya=$a[Ea],!Fb.relative[vb=Ya.type]);)if((db=Fb.find[vb])&&(ya=db(Ya.matches[0].replace(hd,jd),me.test($a[0].type)&&Aa(qa.parentNode)||qa))){if($a.splice(Ea,1),!(ca=ya.length&&nb($a)))return dd.apply(za,ya),za;break}}return(yb||Ed(ca,Pb))(ya,qa,!cc,za,!qa||me.test(ca)&&Aa(qa.parentNode)||qa),za},qb.sortStable=Jb.split("").sort(ud).join("")===
Jb,qb.detectDuplicates=!!wc,uc(),qb.sortDetached=V(function(ca){return 1&ca.compareDocumentPosition(Mb.createElement("fieldset"))}),V(function(ca){return ca.innerHTML="<a href='#'></a>","#"===ca.firstChild.getAttribute("href")})||ea("type|href|height|width",function(ca,qa,za){if(!za)return ca.getAttribute(qa,"type"===qa.toLowerCase()?1:2)}),qb.attributes&&V(function(ca){return ca.innerHTML="<input/>",ca.firstChild.setAttribute("value",""),""===ca.firstChild.getAttribute("value")})||ea("value",function(ca,
qa,za){if(!za&&"input"===ca.nodeName.toLowerCase())return ca.defaultValue}),V(function(ca){return null==ca.getAttribute("disabled")})||ea("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(ca,qa,za){var ya;if(!za)return!0===ca[qa]?qa.toLowerCase():(ya=ca.getAttributeNode(qa))&&ya.specified?ya.value:null}),B}(d);P.find=Tc;P.expr=Tc.selectors;P.expr[":"]=P.expr.pseudos;P.uniqueSort=P.unique=Tc.uniqueSort;P.text=Tc.getText;
P.isXMLDoc=Tc.isXML;P.contains=Tc.contains;P.escapeSelector=Tc.escape;var Cc=function(r,B,M){for(var Q=[],V=void 0!==M;(r=r[B])&&9!==r.nodeType;)if(1===r.nodeType){if(V&&P(r).is(M))break;Q.push(r)}return Q},Dc=function(r,B){for(var M=[];r;r=r.nextSibling)1===r.nodeType&&r!==B&&M.push(r);return M},Lb=P.expr.match.needsContext,Oc=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;P.filter=function(r,B,M){var Q=B[0];return M&&(r=":not("+r+")"),1===B.length&&1===Q.nodeType?P.find.matchesSelector(Q,
r)?[Q]:[]:P.find.matches(r,P.grep(B,function(V){return 1===V.nodeType}))};P.fn.extend({find:function(r){var B,M=this.length,Q=this;if("string"!=typeof r)return this.pushStack(P(r).filter(function(){for(B=0;B<M;B++)if(P.contains(Q[B],this))return!0}));var V=this.pushStack([]);for(B=0;B<M;B++)P.find(r,Q[B],V);return 1<M?P.uniqueSort(V):V},filter:function(r){return this.pushStack(g(this,r||[],!1))},not:function(r){return this.pushStack(g(this,r||[],!0))},is:function(r){return!!g(this,"string"==typeof r&&
Lb.test(r)?P(r):r||[],!1).length}});var pd=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(r,B,M){var Q,V;if(!r)return this;if(M=M||re,"string"==typeof r){if(!(Q="<"===r[0]&&">"===r[r.length-1]&&3<=r.length?[null,r,null]:pd.exec(r))||!Q[1]&&B)return!B||B.jquery?(B||M).find(r):this.constructor(B).find(r);if(Q[1]){if(B=B instanceof P?B[0]:B,P.merge(this,P.parseHTML(Q[1],B&&B.nodeType?B.ownerDocument||B:Xa,!0)),Oc.test(Q[1])&&P.isPlainObject(B))for(Q in B)Wa(this[Q])?this[Q](B[Q]):this.attr(Q,
B[Q]);return this}return(V=Xa.getElementById(Q[2]))&&(this[0]=V,this.length=1),this}return r.nodeType?(this[0]=r,this.length=1,this):Wa(r)?void 0!==M.ready?M.ready(r):r(P):P.makeArray(r,this)}).prototype=P.fn;var re=P(Xa);var $c=/^(?:parents|prev(?:Until|All))/,se={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(r){var B=P(r,this),M=B.length;return this.filter(function(){for(var Q=0;Q<M;Q++)if(P.contains(this,B[Q]))return!0})},closest:function(r,B){var M,Q=0,V=this.length,ea=[],
da="string"!=typeof r&&P(r);if(!Lb.test(r))for(;Q<V;Q++)for(M=this[Q];M&&M!==B;M=M.parentNode)if(11>M.nodeType&&(da?-1<da.index(M):1===M.nodeType&&P.find.matchesSelector(M,r))){ea.push(M);break}return this.pushStack(1<ea.length?P.uniqueSort(ea):ea)},index:function(r){return r?"string"==typeof r?jb.call(P(r),this[0]):jb.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,B){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(r,B))))},addBack:function(r){return this.add(null==
r?this.prevObject:this.prevObject.filter(r))}});P.each({parent:function(r){return(r=r.parentNode)&&11!==r.nodeType?r:null},parents:function(r){return Cc(r,"parentNode")},parentsUntil:function(r,B,M){return Cc(r,"parentNode",M)},next:function(r){return e(r,"nextSibling")},prev:function(r){return e(r,"previousSibling")},nextAll:function(r){return Cc(r,"nextSibling")},prevAll:function(r){return Cc(r,"previousSibling")},nextUntil:function(r,B,M){return Cc(r,"nextSibling",M)},prevUntil:function(r,B,M){return Cc(r,
"previousSibling",M)},siblings:function(r){return Dc((r.parentNode||{}).firstChild,r)},children:function(r){return Dc(r.firstChild)},contents:function(r){return null!=r.contentDocument&&hb(r.contentDocument)?r.contentDocument:(f(r,"template")&&(r=r.content||r),P.merge([],r.childNodes))}},function(r,B){P.fn[r]=function(M,Q){var V=P.map(this,B,M);return"Until"!==r.slice(-5)&&(Q=M),Q&&"string"==typeof Q&&(V=P.filter(Q,V)),1<this.length&&(se[r]||P.uniqueSort(V),$c.test(r)&&V.reverse()),this.pushStack(V)}});
var Hc=/[^\x20\t\r\n\f]+/g;P.Callbacks=function(r){var B,M;r="string"==typeof r?(B=r,M={},P.each(B.match(Hc)||[],function(fb,nb){M[nb]=!0}),M):P.extend({},r);var Q,V,ea,da,sa=[],ta=[],Ba=-1,Na=function(){da=da||r.once;for(ea=Q=!0;ta.length;Ba=-1)for(V=ta.shift();++Ba<sa.length;)!1===sa[Ba].apply(V[0],V[1])&&r.stopOnFalse&&(Ba=sa.length,V=!1);r.memory||(V=!1);Q=!1;da&&(sa=V?[]:"")},Aa={add:function(){return sa&&(V&&!Q&&(Ba=sa.length-1,ta.push(V)),function ob(nb){P.each(nb,function(Hb,Wb){Wa(Wb)?r.unique&&
Aa.has(Wb)||sa.push(Wb):Wb&&Wb.length&&"string"!==a(Wb)&&ob(Wb)})}(arguments),V&&!Q&&Na()),this},remove:function(){return P.each(arguments,function(fb,nb){for(var ob;-1<(ob=P.inArray(nb,sa,ob));)sa.splice(ob,1),ob<=Ba&&Ba--}),this},has:function(fb){return fb?-1<P.inArray(fb,sa):0<sa.length},empty:function(){return sa&&=[],this},disable:function(){return da=ta=[],sa=V="",this},disabled:function(){return!sa},lock:function(){return da=ta=[],V||Q||(sa=V=""),this},locked:function(){return!!da},fireWith:function(fb,
nb){return da||(nb=[fb,(nb=nb||[]).slice?nb.slice():nb],ta.push(nb),Q||Na()),this},fire:function(){return Aa.fireWith(this,arguments),this},fired:function(){return!!ea}};return Aa};P.extend({Deferred:function(r){var B=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],M="pending",Q={state:function(){return M},
always:function(){return V.done(arguments).fail(arguments),this},"catch":function(ea){return Q.then(null,ea)},pipe:function(){var ea=arguments;return P.Deferred(function(da){P.each(B,function(sa,ta){var Ba=Wa(ea[ta[4]])&&ea[ta[4]];V[ta[1]](function(){var Na=Ba&&Ba.apply(this,arguments);Na&&Wa(Na.promise)?Na.promise().progress(da.notify).done(da.resolve).fail(da.reject):da[ta[0]+"With"](this,Ba?[Na]:arguments)})});ea=null}).promise()},then:function(ea,da,sa){function ta(Na,Aa,fb,nb){return function(){var ob=
this,Hb=arguments,Wb=function(){var vc;if(!(Na<Ba)){if((vc=fb.apply(ob,Hb))===Aa.promise())throw new TypeError("Thenable self-resolution");var Bc=vc&&("object"==typeof vc||"function"==typeof vc)&&vc.then;Wa(Bc)?nb?Bc.call(vc,ta(Ba,Aa,k,nb),ta(Ba,Aa,p,nb)):(Ba++,Bc.call(vc,ta(Ba,Aa,k,nb),ta(Ba,Aa,p,nb),ta(Ba,Aa,k,Aa.notifyWith))):(fb!==k&&(ob=void 0,Hb=[vc]),(nb||Aa.resolveWith)(ob,Hb))}},Nc=nb?Wb:function(){try{Wb()}catch(vc){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(vc,Nc.stackTrace),Ba<=
Na+1&&(fb!==p&&(ob=void 0,Hb=[vc]),Aa.rejectWith(ob,Hb))}};Na?Nc():(P.Deferred.getStackHook&&(Nc.stackTrace=P.Deferred.getStackHook()),d.setTimeout(Nc))}}var Ba=0;return P.Deferred(function(Na){B[0][3].add(ta(0,Na,Wa(sa)?sa:k,Na.notifyWith));B[1][3].add(ta(0,Na,Wa(ea)?ea:k));B[2][3].add(ta(0,Na,Wa(da)?da:p))}).promise()},promise:function(ea){return null!=ea?P.extend(ea,Q):Q}},V={};return P.each(B,function(ea,da){var sa=da[2],ta=da[5];Q[da[1]]=sa.add;ta&&sa.add(function(){M=ta},B[3-ea][2].disable,
B[3-ea][3].disable,B[0][2].lock,B[0][3].lock);sa.add(da[3].fire);V[da[0]]=function(){return V[da[0]+"With"](this===V?void 0:this,arguments),this};V[da[0]+"With"]=sa.fireWith}),Q.promise(V),r&&r.call(V,V),V},when:function(r){var B=arguments.length,M=B,Q=Array(M),V=bb.call(arguments),ea=P.Deferred(),da=function(sa){return function(ta){Q[sa]=this;V[sa]=1<arguments.length?bb.call(arguments):ta;--B||ea.resolveWith(Q,V)}};if(1>=B&&(u(r,ea.done(da(M)).resolve,ea.reject,!B),"pending"===ea.state()||Wa(V[M]&&
V[M].then)))return ea.then();for(;M--;)u(V[M],da(M),ea.reject);return ea.promise()}});var Za=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(r,B){d.console&&d.console.warn&&r&&Za.test(r.name)&&d.console.warn("jQuery.Deferred exception: "+r.message,r.stack,B)};P.readyException=function(r){d.setTimeout(function(){throw r;})};var Sb=P.Deferred();P.fn.ready=function(r){return Sb.then(r)["catch"](function(B){P.readyException(B)}),this};P.extend({isReady:!1,readyWait:1,
ready:function(r){(!0===r?--P.readyWait:P.isReady)||(P.isReady=!0)!==r&&0<--P.readyWait||Sb.resolveWith(Xa,[P])}});P.ready.then=Sb.then;"complete"===Xa.readyState||"loading"!==Xa.readyState&&!Xa.documentElement.doScroll?d.setTimeout(P.ready):(Xa.addEventListener("DOMContentLoaded",c),d.addEventListener("load",c));var xc=function(r,B,M,Q,V,ea,da){var sa=0,ta=r.length,Ba=null==M;if("object"===a(M))for(sa in V=!0,M)xc(r,B,sa,M[sa],!0,ea,da);else if(void 0!==Q&&(V=!0,Wa(Q)||(da=!0),Ba&&(da?(B.call(r,
Q),B=null):(Ba=B,B=function(Na,Aa,fb){return Ba.call(P(Na),fb)})),B))for(;sa<ta;sa++)B(r[sa],M,da?Q:Q.call(r[sa],sa,B(r[sa],M)));return V?r:Ba?B.call(r):ta?B(r[0],M):ea},jc=/^-ms-/,Gc=/-([a-z])/g,Uc=function(r){return 1===r.nodeType||9===r.nodeType||!+r.nodeType};w.uid=1;w.prototype={cache:function(r){var B=r[this.expando];return B||(B={},Uc(r)&&(r.nodeType?r[this.expando]=B:Object.defineProperty(r,this.expando,{value:B,configurable:!0}))),B},set:function(r,B,M){var Q;r=this.cache(r);if("string"==
typeof B)r[n(B)]=M;else for(Q in B)r[n(Q)]=B[Q];return r},get:function(r,B){return void 0===B?this.cache(r):r[this.expando]&&r[this.expando][n(B)]},access:function(r,B,M){return void 0===B||B&&"string"==typeof B&&void 0===M?this.get(r,B):(this.set(r,B,M),void 0!==M?M:B)},remove:function(r,B){var M=r[this.expando];if(void 0!==M){if(void 0!==B){var Q=(B=Array.isArray(B)?B.map(n):(B=n(B))in M?[B]:B.match(Hc)||[]).length;for(;Q--;)delete M[B[Q]]}(void 0===B||P.isEmptyObject(M))&&(r.nodeType?r[this.expando]=
void 0:delete r[this.expando])}},hasData:function(r){r=r[this.expando];return void 0!==r&&!P.isEmptyObject(r)}};var Cb=new w,$b=new w,he=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ge=/[A-Z]/g;P.extend({hasData:function(r){return $b.hasData(r)||Cb.hasData(r)},data:function(r,B,M){return $b.access(r,B,M)},removeData:function(r,B){$b.remove(r,B)},_data:function(r,B,M){return Cb.access(r,B,M)},_removeData:function(r,B){Cb.remove(r,B)}});P.fn.extend({data:function(r,B){var M,Q,V,ea=this[0],da=ea&&ea.attributes;if(void 0===
r){if(this.length&&(V=$b.get(ea),1===ea.nodeType&&!Cb.get(ea,"hasDataAttrs"))){for(M=da.length;M--;)da[M]&&0===(Q=da[M].name).indexOf("data-")&&(Q=n(Q.slice(5)),z(ea,Q,V[Q]));Cb.set(ea,"hasDataAttrs",!0)}return V}return"object"==typeof r?this.each(function(){$b.set(this,r)}):xc(this,function(sa){var ta;if(ea&&void 0===sa)return void 0!==(ta=$b.get(ea,r))?ta:void 0!==(ta=z(ea,r))?ta:void 0;this.each(function(){$b.set(this,r,sa)})},null,B,1<arguments.length,null,!0)},removeData:function(r){return this.each(function(){$b.remove(this,
r)})}});P.extend({queue:function(r,B,M){var Q;if(r)return B=(B||"fx")+"queue",Q=Cb.get(r,B),M&&(!Q||Array.isArray(M)?Q=Cb.access(r,B,P.makeArray(M)):Q.push(M)),Q||[]},dequeue:function(r,B){B=B||"fx";var M=P.queue(r,B),Q=M.length,V=M.shift(),ea=P._queueHooks(r,B);"inprogress"===V&&(V=M.shift(),Q--);V&&("fx"===B&&M.unshift("inprogress"),delete ea.stop,V.call(r,function(){P.dequeue(r,B)},ea));!Q&&ea&&ea.empty.fire()},_queueHooks:function(r,B){var M=B+"queueHooks";return Cb.get(r,M)||Cb.access(r,M,{empty:P.Callbacks("once memory").add(function(){Cb.remove(r,
[B+"queue",M])})})}});P.fn.extend({queue:function(r,B){var M=2;return"string"!=typeof r&&(B=r,r="fx",M--),arguments.length<M?P.queue(this[0],r):void 0===B?this:this.each(function(){var Q=P.queue(this,r,B);P._queueHooks(this,r);"fx"===r&&"inprogress"!==Q[0]&&P.dequeue(this,r)})},dequeue:function(r){return this.each(function(){P.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,B){var M,Q=1,V=P.Deferred(),ea=this,da=this.length,sa=function(){--Q||V.resolveWith(ea,
[ea])};"string"!=typeof r&&(B=r,r=void 0);for(r=r||"fx";da--;)(M=Cb.get(ea[da],r+"queueHooks"))&&M.empty&&(Q++,M.empty.add(sa));return sa(),V.promise(B)}});var kf=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pd=new RegExp("^(?:([+-])=|)("+kf+")([a-z%]*)$","i"),cd=["Top","Right","Bottom","Left"],vd=Xa.documentElement,Dd=function(r){return P.contains(r.ownerDocument,r)},vg={composed:!0};vd.getRootNode&&(Dd=function(r){return P.contains(r.ownerDocument,r)||r.getRootNode(vg)===r.ownerDocument});var ie=
function(r,B){return"none"===(r=B||r).style.display||""===r.style.display&&Dd(r)&&"none"===P.css(r,"display")},Ie={};P.fn.extend({show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(r){return"boolean"==typeof r?r?this.show():this.hide():this.each(function(){ie(this)?P(this).show():P(this).hide()})}});var te,Gd=/^(?:checkbox|radio)$/i,We=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Xe=/^$|^module$|\/(?:java|ecma)script/i;var Hd=Xa.createDocumentFragment().appendChild(Xa.createElement("div"));
(te=Xa.createElement("input")).setAttribute("type","radio");te.setAttribute("checked","checked");te.setAttribute("name","t");Hd.appendChild(te);gb.checkClone=Hd.cloneNode(!0).cloneNode(!0).lastChild.checked;Hd.innerHTML="<textarea>x</textarea>";gb.noCloneChecked=!!Hd.cloneNode(!0).lastChild.defaultValue;Hd.innerHTML="<option></option>";gb.option=!!Hd.lastChild;var Kc={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,
"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kc.tbody=Kc.tfoot=Kc.colgroup=Kc.caption=Kc.thead;Kc.th=Kc.td;gb.option||(Kc.optgroup=Kc.option=[1,"<select multiple='multiple'>","</select>"]);var mg=/<|&#?\w+;/,lf=/^([^.]*)(?:\.(.+)|)/;P.event={global:{},add:function(r,B,M,Q,V){var ea,da,sa,ta,Ba,Na,Aa,fb;var nb=Cb.get(r);if(Uc(r))for(M.handler&&(M=(ea=M).handler,V=ea.selector),V&&P.find.matchesSelector(vd,V),M.guid||(M.guid=P.guid++),(ta=nb.events)||(ta=nb.events=Object.create(null)),
(da=nb.handle)||(da=nb.handle=function(Hb){return"undefined"!=typeof P&&P.event.triggered!==Hb.type?P.event.dispatch.apply(r,arguments):void 0}),nb=(B=(B||"").match(Hc)||[""]).length;nb--;){var ob=fb=(sa=lf.exec(B[nb])||[])[1];sa=(sa[2]||"").split(".").sort();ob&&(Na=P.event.special[ob]||{},ob=(V?Na.delegateType:Na.bindType)||ob,Na=P.event.special[ob]||{},Ba=P.extend({type:ob,origType:fb,data:Q,handler:M,guid:M.guid,selector:V,needsContext:V&&P.expr.match.needsContext.test(V),namespace:sa.join(".")},
ea),(Aa=ta[ob])||((Aa=ta[ob]=[]).delegateCount=0,Na.setup&&!1!==Na.setup.call(r,Q,sa,da)||r.addEventListener&&r.addEventListener(ob,da)),Na.add&&(Na.add.call(r,Ba),Ba.handler.guid||(Ba.handler.guid=M.guid)),V?Aa.splice(Aa.delegateCount++,0,Ba):Aa.push(Ba),P.event.global[ob]=!0)}},remove:function(r,B,M,Q,V){var ea,da,sa,ta,Ba,Na,Aa,fb,nb=Cb.hasData(r)&&Cb.get(r);if(nb&&(ta=nb.events)){for(Ba=(B=(B||"").match(Hc)||[""]).length;Ba--;)if(Na=fb=(sa=lf.exec(B[Ba])||[])[1],Aa=(sa[2]||"").split(".").sort(),
Na){var ob=P.event.special[Na]||{};var Hb=ta[Na=(Q?ob.delegateType:ob.bindType)||Na]||[];sa=sa[2]&&new RegExp("(^|\\.)"+Aa.join("\\.(?:.*\\.|)")+"(\\.|$)");for(da=ea=Hb.length;ea--;){var Wb=Hb[ea];!V&&fb!==Wb.origType||M&&M.guid!==Wb.guid||sa&&!sa.test(Wb.namespace)||Q&&Q!==Wb.selector&&("**"!==Q||!Wb.selector)||(Hb.splice(ea,1),Wb.selector&&Hb.delegateCount--,ob.remove&&ob.remove.call(r,Wb))}da&&!Hb.length&&(ob.teardown&&!1!==ob.teardown.call(r,Aa,nb.handle)||P.removeEvent(r,Na,nb.handle),delete ta[Na])}else for(Na in ta)P.event.remove(r,
Na+B[Ba],M,Q,!0);P.isEmptyObject(ta)&&Cb.remove(r,"handle events")}},dispatch:function(r){var B,M,Q,V,ea=Array(arguments.length),da=P.event.fix(r);var sa=(Cb.get(this,"events")||Object.create(null))[da.type]||[];var ta=P.event.special[da.type]||{};ea[0]=da;for(B=1;B<arguments.length;B++)ea[B]=arguments[B];if(da.delegateTarget=this,!ta.preDispatch||!1!==ta.preDispatch.call(this,da)){var Ba=P.event.handlers.call(this,da,sa);for(B=0;(Q=Ba[B++])&&!da.isPropagationStopped();)for(da.currentTarget=Q.elem,
sa=0;(V=Q.handlers[sa++])&&!da.isImmediatePropagationStopped();)da.rnamespace&&!1!==V.namespace&&!da.rnamespace.test(V.namespace)||(da.handleObj=V,da.data=V.data,void 0!==(M=((P.event.special[V.origType]||{}).handle||V.handler).apply(Q.elem,ea))&&!1===(da.result=M)&&(da.preventDefault(),da.stopPropagation()));return ta.postDispatch&&ta.postDispatch.call(this,da),da.result}},handlers:function(r,B){var M,Q,V,ea=[],da=B.delegateCount,sa=r.target;if(da&&sa.nodeType&&!("click"===r.type&&1<=r.button))for(;sa!==
this;sa=sa.parentNode||this)if(1===sa.nodeType&&("click"!==r.type||!0!==sa.disabled)){var ta=[];var Ba={};for(M=0;M<da;M++)void 0===Ba[V=(Q=B[M]).selector+" "]&&(Ba[V]=Q.needsContext?-1<P(V,this).index(sa):P.find(V,this,null,[sa]).length),Ba[V]&&ta.push(Q);ta.length&&ea.push({elem:sa,handlers:ta})}return sa=this,da<B.length&&ea.push({elem:sa,handlers:B.slice(da)}),ea},addProp:function(r,B){Object.defineProperty(P.Event.prototype,r,{enumerable:!0,configurable:!0,get:Wa(B)?function(){if(this.originalEvent)return B(this.originalEvent)}:
function(){if(this.originalEvent)return this.originalEvent[r]},set:function(M){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:M})}})},fix:function(r){return r[P.expando]?r:new P.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){r=this||r;return Gd.test(r.type)&&r.click&&f(r,"input")&&S(r,"click",J),!1},trigger:function(r){r=this||r;return Gd.test(r.type)&&r.click&&f(r,"input")&&S(r,"click"),!0},_default:function(r){r=r.target;return Gd.test(r.type)&&r.click&&
f(r,"input")&&Cb.get(r,"click")||f(r,"a")}},beforeunload:{postDispatch:function(r){void 0!==r.result&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}};P.removeEvent=function(r,B,M){r.removeEventListener&&r.removeEventListener(B,M)};P.Event=function(r,B){if(!(this instanceof P.Event))return new P.Event(r,B);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||void 0===r.defaultPrevented&&!1===r.returnValue?J:O,this.target=r.target&&3===r.target.nodeType?
r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r;B&&P.extend(this,B);this.timeStamp=r&&r.timeStamp||Date.now();this[P.expando]=!0};P.Event.prototype={constructor:P.Event,isDefaultPrevented:O,isPropagationStopped:O,isImmediatePropagationStopped:O,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=J;r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=
J;r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=J;r&&!this.isSimulated&&r.stopImmediatePropagation();this.stopPropagation()}};P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,
screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp);P.each({focus:"focusin",blur:"focusout"},function(r,B){P.event.special[r]={setup:function(){return S(this,r,G),!1},trigger:function(){return S(this,r),!0},_default:function(){return!0},delegateType:B}});P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,B){P.event.special[r]={delegateType:B,bindType:B,handle:function(M){var Q,V=M.relatedTarget,
ea=M.handleObj;return V&&(V===this||P.contains(this,V))||(M.type=ea.origType,Q=ea.handler.apply(this,arguments),M.type=B),Q}}});P.fn.extend({on:function(r,B,M,Q){return T(this,r,B,M,Q)},one:function(r,B,M,Q){return T(this,r,B,M,Q,1)},off:function(r,B,M){var Q,V;if(r&&r.preventDefault&&r.handleObj)return Q=r.handleObj,P(r.delegateTarget).off(Q.namespace?Q.origType+"."+Q.namespace:Q.origType,Q.selector,Q.handler),this;if("object"==typeof r){for(V in r)this.off(V,B,r[V]);return this}return!1!==B&&"function"!=
typeof B||(M=B,B=void 0),!1===M&&(M=O),this.each(function(){P.event.remove(this,r,M,B)})}});var Le=/<script|<style|<link/i,Ye=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;P.extend({htmlPrefilter:function(r){return r},clone:function(r,B,M){var Q,V,ea,da=r.cloneNode(!0),sa=Dd(r);if(!(gb.noCloneChecked||1!==r.nodeType&&11!==r.nodeType||P.isXMLDoc(r))){var ta=v(da);var Ba=0;for(Q=(V=v(r)).length;Ba<Q;Ba++){var Na=V[Ba];var Aa=ta[Ba];void 0;"input"===(ea=Aa.nodeName.toLowerCase())&&
Gd.test(Na.type)?Aa.checked=Na.checked:"input"!==ea&&"textarea"!==ea||(Aa.defaultValue=Na.defaultValue)}}if(B)if(M)for(V=V||v(r),ta=ta||v(da),Ba=0,Q=V.length;Ba<Q;Ba++)ra(V[Ba],ta[Ba]);else ra(r,da);return 0<(ta=v(da,"script")).length&&I(ta,!sa&&v(r,"script")),da},cleanData:function(r){for(var B,M,Q,V=P.event.special,ea=0;void 0!==(M=r[ea]);ea++)if(Uc(M)){if(B=M[Cb.expando]){if(B.events)for(Q in B.events)V[Q]?P.event.remove(M,Q):P.removeEvent(M,Q,B.handle);M[Cb.expando]=void 0}M[$b.expando]&&(M[$b.expando]=
void 0)}}});P.fn.extend({detach:function(r){return ma(this,r,!0)},remove:function(r){return ma(this,r)},text:function(r){return xc(this,function(B){return void 0===B?P.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=B)})},null,r,arguments.length)},append:function(){return Ka(this,arguments,function(r){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||R(this,r).appendChild(r)})},prepend:function(){return Ka(this,arguments,
function(r){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var B=R(this,r);B.insertBefore(r,B.firstChild)}})},before:function(){return Ka(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return Ka(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},empty:function(){for(var r,B=0;null!=(r=this[B]);B++)1===r.nodeType&&(P.cleanData(v(r,!1)),r.textContent="");return this},clone:function(r,B){return r=
null!=r&&r,B=null==B?r:B,this.map(function(){return P.clone(this,r,B)})},html:function(r){return xc(this,function(B){var M=this[0]||{},Q=0,V=this.length;if(void 0===B&&1===M.nodeType)return M.innerHTML;if("string"==typeof B&&!Le.test(B)&&!Kc[(We.exec(B)||["",""])[1].toLowerCase()]){B=P.htmlPrefilter(B);try{for(;Q<V;Q++)1===(M=this[Q]||{}).nodeType&&(P.cleanData(v(M,!1)),M.innerHTML=B);M=0}catch(ea){}}M&&this.empty().append(B)},null,r,arguments.length)},replaceWith:function(){var r=[];return Ka(this,
arguments,function(B){var M=this.parentNode;0>P.inArray(this,r)&&(P.cleanData(v(this)),M&&M.replaceChild(B,this))},r)}});P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,B){P.fn[r]=function(M){for(var Q=[],V=P(M),ea=V.length-1,da=0;da<=ea;da++)M=da===ea?this:this.clone(!0),P(V[da])[B](M),tb.apply(Q,M.get());return this.pushStack(Q)}});var Rd=new RegExp("^("+kf+")(?!px)[a-z%]+$","i"),Qd=function(r){var B=r.ownerDocument.defaultView;
return B&&B.opener||(B=d),B.getComputedStyle(r)},mf=function(r,B,M){var Q,V={};for(Q in B)V[Q]=r.style[Q],r.style[Q]=B[Q];for(Q in M=M.call(r),B)r.style[Q]=V[Q];return M},rd=new RegExp(cd.join("|"),"i");!function(){function r(){if(ta){sa.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";ta.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";vd.appendChild(sa).appendChild(ta);
var Ba=d.getComputedStyle(ta);B="1%"!==Ba.top;da=12===Math.round(parseFloat(Ba.marginLeft));ta.style.right="60%";V=36===Math.round(parseFloat(Ba.right));M=36===Math.round(parseFloat(Ba.width));ta.style.position="absolute";Q=12===Math.round(parseFloat(ta.offsetWidth/3));vd.removeChild(sa);ta=null}}var B,M,Q,V,ea,da,sa=Xa.createElement("div"),ta=Xa.createElement("div");ta.style&&(ta.style.backgroundClip="content-box",ta.cloneNode(!0).style.backgroundClip="",gb.clearCloneStyle="content-box"===ta.style.backgroundClip,
P.extend(gb,{boxSizingReliable:function(){return r(),M},pixelBoxStyles:function(){return r(),V},pixelPosition:function(){return r(),B},reliableMarginLeft:function(){return r(),da},scrollboxSize:function(){return r(),Q},reliableTrDimensions:function(){var Ba,Na,Aa,fb;return null==ea&&(Ba=Xa.createElement("table"),Na=Xa.createElement("tr"),Aa=Xa.createElement("div"),Ba.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Na.style.cssText="border:1px solid",Na.style.height="1px",
Aa.style.height="9px",Aa.style.display="block",vd.appendChild(Ba).appendChild(Na).appendChild(Aa),fb=d.getComputedStyle(Na),ea=parseInt(fb.height,10)+parseInt(fb.borderTopWidth,10)+parseInt(fb.borderBottomWidth,10)===Na.offsetHeight,vd.removeChild(Ba)),ea}}))}();var Sd=["Webkit","Moz","ms"],sd=Xa.createElement("div").style,ke={},ue=/^(none|table(?!-c[ea]).+)/,Vd=/^--/,ve={position:"absolute",visibility:"hidden",display:"block"},Wd={letterSpacing:"0",fontWeight:"400"};P.extend({cssHooks:{opacity:{get:function(r,
B){if(B)return r=ja(r,"opacity"),""===r?"1":r}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(r,B,M,Q){if(r&&3!==r.nodeType&&8!==r.nodeType&&r.style){var V,ea,da,sa=n(B),ta=Vd.test(B),Ba=r.style;if(ta||(B=Fa(sa)),da=P.cssHooks[B]||P.cssHooks[sa],
void 0===M)return da&&"get"in da&&void 0!==(V=da.get(r,!1,Q))?V:Ba[B];"string"===(ea=typeof M)&&(V=Pd.exec(M))&&V[1]&&(M=x(r,B,V),ea="number");null!=M&&M==M&&("number"!==ea||ta||(M+=V&&V[3]||(P.cssNumber[sa]?"":"px")),gb.clearCloneStyle||""!==M||0!==B.indexOf("background")||(Ba[B]="inherit"),da&&"set"in da&&void 0===(M=da.set(r,M,Q))||(ta?Ba.setProperty(B,M):Ba[B]=M))}},css:function(r,B,M,Q){var V,ea,da,sa=n(B);return Vd.test(B)||(B=Fa(sa)),(da=P.cssHooks[B]||P.cssHooks[sa])&&"get"in da&&(V=da.get(r,
!0,M)),void 0===V&&(V=ja(r,B,Q)),"normal"===V&&B in Wd&&(V=Wd[B]),""===M||M?(ea=parseFloat(V),!0===M||isFinite(ea)?ea||0:V):V}});P.each(["height","width"],function(r,B){P.cssHooks[B]={get:function(M,Q,V){if(Q)return!ue.test(P.css(M,"display"))||M.getClientRects().length&&M.getBoundingClientRect().width?Ia(M,B,V):mf(M,ve,function(){return Ia(M,B,V)})},set:function(M,Q,V){var ea,da=Qd(M),sa=!gb.scrollboxSize()&&"absolute"===da.position,ta=(sa||V)&&"border-box"===P.css(M,"boxSizing",!1,da);V=V?Ra(M,
B,V,ta,da):0;return ta&&sa&&(V-=Math.ceil(M["offset"+B[0].toUpperCase()+B.slice(1)]-parseFloat(da[B])-Ra(M,B,"border",!1,da)-.5)),V&&(ea=Pd.exec(Q))&&"px"!==(ea[3]||"px")&&(M.style[B]=Q,Q=P.css(M,B)),Ga(0,Q,V)}}});P.cssHooks.marginLeft=Ca(gb.reliableMarginLeft,function(r,B){if(B)return(parseFloat(ja(r,"marginLeft"))||r.getBoundingClientRect().left-mf(r,{marginLeft:0},function(){return r.getBoundingClientRect().left}))+"px"});P.each({margin:"",padding:"",border:"Width"},function(r,B){P.cssHooks[r+
B]={expand:function(M){var Q=0,V={};for(M="string"==typeof M?M.split(" "):[M];4>Q;Q++)V[r+cd[Q]+B]=M[Q]||M[Q-2]||M[0];return V}};"margin"!==r&&(P.cssHooks[r+B].set=Ga)});P.fn.extend({css:function(r,B){return xc(this,function(M,Q,V){var ea,da={},sa=0;if(Array.isArray(Q)){V=Qd(M);for(ea=Q.length;sa<ea;sa++)da[Q[sa]]=P.css(M,Q[sa],!1,V);return da}return void 0!==V?P.style(M,Q,V):P.css(M,Q)},r,B,1<arguments.length)}});((P.Tween=va).prototype={constructor:va,init:function(r,B,M,Q,V,ea){this.elem=r;this.prop=
M;this.easing=V||P.easing._default;this.options=B;this.start=this.now=this.cur();this.end=Q;this.unit=ea||(P.cssNumber[M]?"":"px")},cur:function(){var r=va.propHooks[this.prop];return r&&r.get?r.get(this):va.propHooks._default.get(this)},run:function(r){var B,M=va.propHooks[this.prop];return this.options.duration?this.pos=B=P.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):this.pos=B=r,this.now=(this.end-this.start)*B+this.start,this.options.step&&this.options.step.call(this.elem,
this.now,this),M&&M.set?M.set(this):va.propHooks._default.set(this),this}}).init.prototype=va.prototype;(va.propHooks={_default:{get:function(r){var B;return 1!==r.elem.nodeType||null!=r.elem[r.prop]&&null==r.elem.style[r.prop]?r.elem[r.prop]:(B=P.css(r.elem,r.prop,""))&&"auto"!==B?B:0},set:function(r){P.fx.step[r.prop]?P.fx.step[r.prop](r):1!==r.elem.nodeType||!P.cssHooks[r.prop]&&null==r.elem.style[Fa(r.prop)]?r.elem[r.prop]=r.now:P.style(r.elem,r.prop,r.now+r.unit)}}}).scrollTop=va.propHooks.scrollLeft=
{set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}};P.easing={linear:function(r){return r},swing:function(r){return.5-Math.cos(r*Math.PI)/2},_default:"swing"};P.fx=va.prototype.init;P.fx.step={};var nd,md,nf=/^(?:toggle|show|hide)$/,of=/queueHooks$/;P.Animation=P.extend(Qa,{tweeners:{"*":[function(r,B){var M=this.createTween(r,B);return x(M.elem,r,Pd.exec(B),M),M}]},tweener:function(r,B){Wa(r)?(B=r,r=["*"]):r=r.match(Hc);for(var M,Q=0,V=r.length;Q<V;Q++)M=r[Q],Qa.tweeners[M]=
Qa.tweeners[M]||[],Qa.tweeners[M].unshift(B)},prefilters:[function(r,B,M){var Q,V,ea,da,sa,ta,Ba,Na="width"in B||"height"in B,Aa=this,fb={},nb=r.style,ob=r.nodeType&&ie(r),Hb=Cb.get(r,"fxshow");for(Q in M.queue||(null==(da=P._queueHooks(r,"fx")).unqueued&&(da.unqueued=0,sa=da.empty.fire,da.empty.fire=function(){da.unqueued||sa()}),da.unqueued++,Aa.always(function(){Aa.always(function(){da.unqueued--;P.queue(r,"fx").length||da.empty.fire()})})),B)if(V=B[Q],nf.test(V)){if(delete B[Q],ea=ea||"toggle"===
V,V===(ob?"hide":"show")){if("show"!==V||!Hb||void 0===Hb[Q])continue;ob=!0}fb[Q]=Hb&&Hb[Q]||P.style(r,Q)}if((B=!P.isEmptyObject(B))||!P.isEmptyObject(fb))for(Q in Na&&1===r.nodeType&&(M.overflow=[nb.overflow,nb.overflowX,nb.overflowY],null==(ta=Hb&&Hb.display)&&(ta=Cb.get(r,"display")),"none"===(Ba=P.css(r,"display"))&&(ta?Ba=ta:(H([r],!0),ta=r.style.display||ta,Ba=P.css(r,"display"),H([r]))),("inline"===Ba||"inline-block"===Ba&&null!=ta)&&"none"===P.css(r,"float")&&(B||(Aa.done(function(){nb.display=
ta}),null==ta&&(Ba=nb.display,ta="none"===Ba?"":Ba)),nb.display="inline-block")),M.overflow&&(nb.overflow="hidden",Aa.always(function(){nb.overflow=M.overflow[0];nb.overflowX=M.overflow[1];nb.overflowY=M.overflow[2]})),B=!1,fb)B||(Hb?"hidden"in Hb&&(ob=Hb.hidden):Hb=Cb.access(r,"fxshow",{display:ta}),ea&&(Hb.hidden=!ob),ob&&H([r],!0),Aa.done(function(){for(Q in ob||H([r]),Cb.remove(r,"fxshow"),fb)P.style(r,Q,fb[Q])})),B=La(ob?Hb[Q]:0,Q,Aa),Q in Hb||(Hb[Q]=B.start,ob&&(B.end=B.start,B.start=0))}],
prefilter:function(r,B){B?Qa.prefilters.unshift(r):Qa.prefilters.push(r)}});P.speed=function(r,B,M){var Q=r&&"object"==typeof r?P.extend({},r):{complete:M||!M&&B||Wa(r)&&r,duration:r,easing:M&&B||B&&!Wa(B)&&B};return P.fx.off?Q.duration=0:"number"!=typeof Q.duration&&(Q.duration in P.fx.speeds?Q.duration=P.fx.speeds[Q.duration]:Q.duration=P.fx.speeds._default),null!=Q.queue&&!0!==Q.queue||(Q.queue="fx"),Q.old=Q.complete,Q.complete=function(){Wa(Q.old)&&Q.old.call(this);Q.queue&&P.dequeue(this,Q.queue)},
Q};P.fn.extend({fadeTo:function(r,B,M,Q){return this.filter(ie).css("opacity",0).show().end().animate({opacity:B},r,M,Q)},animate:function(r,B,M,Q){var V=P.isEmptyObject(r),ea=P.speed(B,M,Q);B=function(){var da=Qa(this,P.extend({},r),ea);(V||Cb.get(this,"finish"))&&da.stop(!0)};return B.finish=B,V||!1===ea.queue?this.each(B):this.queue(ea.queue,B)},stop:function(r,B,M){var Q=function(V){var ea=V.stop;delete V.stop;ea(M)};return"string"!=typeof r&&(M=B,B=r,r=void 0),B&&this.queue(r||"fx",[]),this.each(function(){var V=
!0,ea=null!=r&&r+"queueHooks",da=P.timers,sa=Cb.get(this);if(ea)sa[ea]&&sa[ea].stop&&Q(sa[ea]);else for(ea in sa)sa[ea]&&sa[ea].stop&&of.test(ea)&&Q(sa[ea]);for(ea=da.length;ea--;)da[ea].elem!==this||null!=r&&da[ea].queue!==r||(da[ea].anim.stop(M),V=!1,da.splice(ea,1));!V&&M||P.dequeue(this,r)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var B=Cb.get(this),M=B[r+"queue"];var Q=B[r+"queueHooks"];var V=P.timers,ea=M?M.length:0;B.finish=!0;P.queue(this,r,[]);Q&&Q.stop&&Q.stop.call(this,
!0);for(Q=V.length;Q--;)V[Q].elem===this&&V[Q].queue===r&&(V[Q].anim.stop(!0),V.splice(Q,1));for(Q=0;Q<ea;Q++)M[Q]&&M[Q].finish&&M[Q].finish.call(this);delete B.finish})}});P.each(["toggle","show","hide"],function(r,B){var M=P.fn[B];P.fn[B]=function(Q,V,ea){return null==Q||"boolean"==typeof Q?M.apply(this,arguments):this.animate(ua(B,!0),Q,V,ea)}});P.each({slideDown:ua("show"),slideUp:ua("hide"),slideToggle:ua("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(r,B){P.fn[r]=function(M,Q,V){return this.animate(B,M,Q,V)}});P.timers=[];P.fx.tick=function(){var r,B=0,M=P.timers;for(nd=Date.now();B<M.length;B++)(r=M[B])()||M[B]!==r||M.splice(B--,1);M.length||P.fx.stop();nd=void 0};P.fx.timer=function(r){P.timers.push(r);P.fx.start()};P.fx.interval=13;P.fx.start=function(){md||(md=!0,Ta())};P.fx.stop=function(){md=null};P.fx.speeds={slow:600,fast:200,_default:400};P.fn.delay=function(r,B){return r=P.fx&&P.fx.speeds[r]||r,B=B||"fx",this.queue(B,function(M,
Q){var V=d.setTimeout(M,r);Q.stop=function(){d.clearTimeout(V)}})};var Xd=Xa.createElement("input");var pf=Xa.createElement("select").appendChild(Xa.createElement("option"));Xd.type="checkbox";gb.checkOn=""!==Xd.value;gb.optSelected=pf.selected;(Xd=Xa.createElement("input")).value="t";Xd.type="radio";gb.radioValue="t"===Xd.value;var ad=P.expr.attrHandle;P.fn.extend({attr:function(r,B){return xc(this,P.attr,r,B,1<arguments.length)},removeAttr:function(r){return this.each(function(){P.removeAttr(this,
r)})}});P.extend({attr:function(r,B,M){var Q,V,ea=r.nodeType;if(3!==ea&&8!==ea&&2!==ea)return"undefined"==typeof r.getAttribute?P.prop(r,B,M):(1===ea&&P.isXMLDoc(r)||(V=P.attrHooks[B.toLowerCase()]||(P.expr.match.bool.test(B)?qf:void 0)),void 0!==M?null===M?void P.removeAttr(r,B):V&&"set"in V&&void 0!==(Q=V.set(r,M,B))?Q:(r.setAttribute(B,M+""),M):V&&"get"in V&&null!==(Q=V.get(r,B))?Q:null==(Q=P.find.attr(r,B))?void 0:Q)},attrHooks:{type:{set:function(r,B){if(!gb.radioValue&&"radio"===B&&f(r,"input")){var M=
r.value;return r.setAttribute("type",B),M&&(r.value=M),B}}}},removeAttr:function(r,B){var M=0,Q=B&&B.match(Hc);if(Q&&1===r.nodeType)for(;B=Q[M++];)r.removeAttribute(B)}});var qf={set:function(r,B,M){return!1===B?P.removeAttr(r,M):r.setAttribute(M,M),M}};P.each(P.expr.match.bool.source.match(/\w+/g),function(r,B){var M=ad[B]||P.find.attr;ad[B]=function(Q,V,ea){var da,sa,ta=V.toLowerCase();return ea||(sa=ad[ta],ad[ta]=da,da=null!=M(Q,V,ea)?ta:null,ad[ta]=sa),da}});var rf=/^(?:input|select|textarea|button)$/i,
we=/^(?:a|area)$/i;P.fn.extend({prop:function(r,B){return xc(this,P.prop,r,B,1<arguments.length)},removeProp:function(r){return this.each(function(){delete this[P.propFix[r]||r]})}});P.extend({prop:function(r,B,M){var Q,V,ea=r.nodeType;if(3!==ea&&8!==ea&&2!==ea)return 1===ea&&P.isXMLDoc(r)||(B=P.propFix[B]||B,V=P.propHooks[B]),void 0!==M?V&&"set"in V&&void 0!==(Q=V.set(r,M,B))?Q:r[B]=M:V&&"get"in V&&null!==(Q=V.get(r,B))?Q:r[B]},propHooks:{tabIndex:{get:function(r){var B=P.find.attr(r,"tabindex");
return B?parseInt(B,10):rf.test(r.nodeName)||we.test(r.nodeName)&&r.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});gb.optSelected||(P.propHooks.selected={get:function(r){r=r.parentNode;return r&&r.parentNode&&r.parentNode.selectedIndex,null},set:function(r){r=r.parentNode;r&&(r.selectedIndex,r.parentNode&&r.parentNode.selectedIndex)}});P.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){P.propFix[this.toLowerCase()]=
this});P.fn.extend({addClass:function(r){var B,M,Q,V,ea,da,sa,ta=0;if(Wa(r))return this.each(function(Ba){P(this).addClass(r.call(this,Ba,cb(this)))});if((B=rb(r)).length)for(;M=this[ta++];)if(V=cb(M),Q=1===M.nodeType&&" "+Pa(V)+" "){for(da=0;ea=B[da++];)0>Q.indexOf(" "+ea+" ")&&(Q+=ea+" ");V!==(sa=Pa(Q))&&M.setAttribute("class",sa)}return this},removeClass:function(r){var B,M,Q,V,ea,da,sa,ta=0;if(Wa(r))return this.each(function(Ba){P(this).removeClass(r.call(this,Ba,cb(this)))});if(!arguments.length)return this.attr("class",
"");if((B=rb(r)).length)for(;M=this[ta++];)if(V=cb(M),Q=1===M.nodeType&&" "+Pa(V)+" "){for(da=0;ea=B[da++];)for(;-1<Q.indexOf(" "+ea+" ");)Q=Q.replace(" "+ea+" "," ");V!==(sa=Pa(Q))&&M.setAttribute("class",sa)}return this},toggleClass:function(r,B){var M=typeof r,Q="string"===M||Array.isArray(r);return"boolean"==typeof B&&Q?B?this.addClass(r):this.removeClass(r):Wa(r)?this.each(function(V){P(this).toggleClass(r.call(this,V,cb(this),B),B)}):this.each(function(){var V,ea;if(Q){var da=0;var sa=P(this);
for(ea=rb(r);V=ea[da++];)sa.hasClass(V)?sa.removeClass(V):sa.addClass(V)}else void 0!==r&&"boolean"!==M||((V=cb(this))&&Cb.set(this,"__className__",V),this.setAttribute&&this.setAttribute("class",V||!1===r?"":Cb.get(this,"__className__")||""))})},hasClass:function(r){var B,M=0;for(r=" "+r+" ";B=this[M++];)if(1===B.nodeType&&-1<(" "+Pa(cb(B))+" ").indexOf(r))return!0;return!1}});var sf=/\r/g;P.fn.extend({val:function(r){var B,M,Q,V=this[0];return arguments.length?(Q=Wa(r),this.each(function(ea){var da;
1===this.nodeType&&(null==(da=Q?r.call(this,ea,P(this).val()):r)?da="":"number"==typeof da?da+="":Array.isArray(da)&&(da=P.map(da,function(sa){return null==sa?"":sa+""})),(B=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in B&&void 0!==B.set(this,da,"value")||(this.value=da))})):V?(B=P.valHooks[V.type]||P.valHooks[V.nodeName.toLowerCase()])&&"get"in B&&void 0!==(M=B.get(V,"value"))?M:"string"==typeof(M=V.value)?M.replace(sf,""):null==M?"":M:void 0}});P.extend({valHooks:{option:{get:function(r){var B=
P.find.attr(r,"value");return null!=B?B:Pa(P.text(r))}},select:{get:function(r){var B,M,Q=r.options,V=r.selectedIndex,ea="select-one"===r.type,da=ea?null:[],sa=ea?V+1:Q.length;for(M=0>V?sa:ea?V:0;M<sa;M++)if(!(!(B=Q[M]).selected&&M!==V||B.disabled||B.parentNode.disabled&&f(B.parentNode,"optgroup"))){if(r=P(B).val(),ea)return r;da.push(r)}return da},set:function(r,B){var M,Q,V=r.options;B=P.makeArray(B);for(var ea=V.length;ea--;)((Q=V[ea]).selected=-1<P.inArray(P.valHooks.option.get(Q),B))&&(M=!0);
return M||(r.selectedIndex=-1),B}}}});P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(r,B){if(Array.isArray(B))return r.checked=-1<P.inArray(P(r).val(),B)}};gb.checkOn||(P.valHooks[this].get=function(r){return null===r.getAttribute("value")?"on":r.value})});gb.focusin="onfocusin"in d;var tf=/^(?:focusinfocus|focusoutblur)$/,Me=function(r){r.stopPropagation()};P.extend(P.event,{trigger:function(r,B,M,Q){var V,ea,da,sa,ta,Ba,Na=[M||Xa],Aa=Ob.call(r,"type")?r.type:r;var fb=Ob.call(r,
"namespace")?r.namespace.split("."):[];if(V=Ba=ea=M=M||Xa,3!==M.nodeType&&8!==M.nodeType&&!tf.test(Aa+P.event.triggered)&&(-1<Aa.indexOf(".")&&(Aa=(fb=Aa.split(".")).shift(),fb.sort()),da=0>Aa.indexOf(":")&&"on"+Aa,(r=r[P.expando]?r:new P.Event(Aa,"object"==typeof r&&r)).isTrigger=Q?2:3,r.namespace=fb.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+fb.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=M),B=null==B?[r]:P.makeArray(B,[r]),ta=P.event.special[Aa]||{},Q||
!ta.trigger||!1!==ta.trigger.apply(M,B))){if(!Q&&!ta.noBubble&&!Gb(M)){var nb=ta.delegateType||Aa;for(tf.test(nb+Aa)||(V=V.parentNode);V;V=V.parentNode)Na.push(V),ea=V;ea===(M.ownerDocument||Xa)&&Na.push(ea.defaultView||ea.parentWindow||d)}for(fb=0;(V=Na[fb++])&&!r.isPropagationStopped();)Ba=V,r.type=1<fb?nb:ta.bindType||Aa,(sa=(Cb.get(V,"events")||Object.create(null))[r.type]&&Cb.get(V,"handle"))&&sa.apply(V,B),(sa=da&&V[da])&&sa.apply&&Uc(V)&&(r.result=sa.apply(V,B),!1===r.result&&r.preventDefault());
return r.type=Aa,Q||r.isDefaultPrevented()||ta._default&&!1!==ta._default.apply(Na.pop(),B)||!Uc(M)||da&&Wa(M[Aa])&&!Gb(M)&&((ea=M[da])&&(M[da]=null),P.event.triggered=Aa,r.isPropagationStopped()&&Ba.addEventListener(Aa,Me),M[Aa](),r.isPropagationStopped()&&Ba.removeEventListener(Aa,Me),P.event.triggered=void 0,ea&&(M[da]=ea)),r.result}},simulate:function(r,B,M){r=P.extend(new P.Event,M,{type:r,isSimulated:!0});P.event.trigger(r,null,B)}});P.fn.extend({trigger:function(r,B){return this.each(function(){P.event.trigger(r,
B,this)})},triggerHandler:function(r,B){var M=this[0];if(M)return P.event.trigger(r,B,M,!0)}});gb.focusin||P.each({focus:"focusin",blur:"focusout"},function(r,B){var M=function(Q){P.event.simulate(B,Q.target,P.event.fix(Q))};P.event.special[B]={setup:function(){var Q=this.ownerDocument||this.document||this,V=Cb.access(Q,B);V||Q.addEventListener(r,M,!0);Cb.access(Q,B,(V||0)+1)},teardown:function(){var Q=this.ownerDocument||this.document||this,V=Cb.access(Q,B)-1;V?Cb.access(Q,B,V):(Q.removeEventListener(r,
M,!0),Cb.remove(Q,B))}}});var Yd=d.location,uf=Date.now(),xe=/\?/;P.parseXML=function(r){var B;if(!r||"string"!=typeof r)return null;try{var M=(new d.DOMParser).parseFromString(r,"text/xml")}catch(Q){}return B=M&&M.getElementsByTagName("parsererror")[0],M&&!B||P.error("Invalid XML: "+(B?P.map(B.childNodes,function(Q){return Q.textContent}).join("\n"):r)),M};var Ze=/\[\]$/,ye=/\r?\n/g,vf=/^(?:submit|button|image|reset|file)$/i,wg=/^(?:input|select|textarea|keygen)/i;P.param=function(r,B){var M,Q=[],
V=function(ea,da){da=Wa(da)?da():da;Q[Q.length]=encodeURIComponent(ea)+"="+encodeURIComponent(null==da?"":da)};if(null==r)return"";if(Array.isArray(r)||r.jquery&&!P.isPlainObject(r))P.each(r,function(){V(this.name,this.value)});else for(M in r)Va(M,r[M],B,V);return Q.join("&")};P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=P.prop(this,"elements");return r?P.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&
!P(this).is(":disabled")&&wg.test(this.nodeName)&&!vf.test(r)&&(this.checked||!Gd.test(r))}).map(function(r,B){r=P(this).val();return null==r?null:Array.isArray(r)?P.map(r,function(M){return{name:B.name,value:M.replace(ye,"\r\n")}}):{name:B.name,value:r.replace(ye,"\r\n")}}).get()}});var xg=/%20/g,wf=/#.*$/,wd=/([?&])_=[^&]*/,xf=/^(.*?):[ \t]*([^\r\n]*)$/gm,yf=/^(?:GET|HEAD)$/,yg=/^\/\//,zf={},le={},Af="*/".concat("*"),ze=Xa.createElement("a");ze.href=Yd.href;P.extend({active:0,lastModified:{},etag:{},
ajaxSettings:{url:Yd.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Yd.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Af,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,B){return B?Db(Db(r,P.ajaxSettings),B):Db(P.ajaxSettings,r)},ajaxPrefilter:kb(zf),ajaxTransport:kb(le),ajax:function(r,B){function M(Qb,oc,Yc,Ed){var Lc,ed,Ic,wc,uc,Mb=oc;Fb||(Fb=!0,sa&&d.clearTimeout(sa),Q=void 0,ea=Ed||"",qb.readyState=0<Qb?4:0,Lc=200<=Qb&&300>Qb||304===Qb,Yc&&(wc=function(Zb,cc,ac){for(var zc,qc,Vb,Jb,gc=Zb.contents,Yb=Zb.dataTypes;"*"===Yb[0];)Yb.shift(),void 0===
zc&&(zc=Zb.mimeType||cc.getResponseHeader("Content-Type"));if(zc)for(qc in gc)if(gc[qc]&&gc[qc].test(zc)){Yb.unshift(qc);break}if(Yb[0]in ac)Vb=Yb[0];else{for(qc in ac){if(!Yb[0]||Zb.converters[qc+" "+Yb[0]]){Vb=qc;break}Jb||=qc}Vb=Vb||Jb}if(Vb)return Vb!==Yb[0]&&Yb.unshift(Vb),ac[Vb]}(Aa,qb,Yc)),!Lc&&-1<P.inArray("script",Aa.dataTypes)&&0>P.inArray("json",Aa.dataTypes)&&(Aa.converters["text script"]=function(){}),wc=function(Zb,cc,ac,zc){var qc,Vb,Jb,gc,Yb,Mc={},td=Zb.dataTypes.slice();if(td[1])for(Jb in Zb.converters)Mc[Jb.toLowerCase()]=
Zb.converters[Jb];for(Vb=td.shift();Vb;)if(Zb.responseFields[Vb]&&(ac[Zb.responseFields[Vb]]=cc),!Yb&&zc&&Zb.dataFilter&&(cc=Zb.dataFilter(cc,Zb.dataType)),Yb=Vb,Vb=td.shift())if("*"===Vb)Vb=Yb;else if("*"!==Yb&&Yb!==Vb){if(!(Jb=Mc[Yb+" "+Vb]||Mc["* "+Vb]))for(qc in Mc)if((gc=qc.split(" "))[1]===Vb&&(Jb=Mc[Yb+" "+gc[0]]||Mc["* "+gc[0]])){!0===Jb?Jb=Mc[qc]:!0!==Mc[qc]&&(Vb=gc[0],td.unshift(gc[1]));break}if(!0!==Jb)if(Jb&&Zb["throws"])cc=Jb(cc);else try{cc=Jb(cc)}catch(ne){return{state:"parsererror",
error:Jb?ne:"No conversion from "+Yb+" to "+Vb}}}return{state:"success",data:cc}}(Aa,wc,qb,Lc),Lc?(Aa.ifModified&&((uc=qb.getResponseHeader("Last-Modified"))&&(P.lastModified[V]=uc),(uc=qb.getResponseHeader("etag"))&&(P.etag[V]=uc)),204===Qb||"HEAD"===Aa.type?Mb="nocontent":304===Qb?Mb="notmodified":(Mb=wc.state,ed=wc.data,Lc=!(Ic=wc.error))):(Ic=Mb,!Qb&&Mb||(Mb="error",0>Qb&&(Qb=0))),qb.status=Qb,qb.statusText=(oc||Mb)+"",Lc?ob.resolveWith(fb,[ed,Mb,qb]):ob.rejectWith(fb,[qb,Mb,Ic]),qb.statusCode(Wb),
Wb=void 0,ta&&nb.trigger(Lc?"ajaxSuccess":"ajaxError",[qb,Aa,Lc?ed:Ic]),Hb.fireWith(fb,[qb,Mb]),ta&&(nb.trigger("ajaxComplete",[qb,Aa]),--P.active||P.event.trigger("ajaxStop")))}"object"==typeof r&&(B=r,r=void 0);B=B||{};var Q,V,ea,da,sa,ta,Ba,Na,Aa=P.ajaxSetup({},B),fb=Aa.context||Aa,nb=Aa.context&&(fb.nodeType||fb.jquery)?P(fb):P.event,ob=P.Deferred(),Hb=P.Callbacks("once memory"),Wb=Aa.statusCode||{},Nc={},vc={},Bc="canceled",qb={readyState:0,getResponseHeader:function(Qb){var oc;if(Fb){if(!da)for(da=
{};oc=xf.exec(ea);)da[oc[1].toLowerCase()+" "]=(da[oc[1].toLowerCase()+" "]||[]).concat(oc[2]);oc=da[Qb.toLowerCase()+" "]}return null==oc?null:oc.join(", ")},getAllResponseHeaders:function(){return Fb?ea:null},setRequestHeader:function(Qb,oc){return null==Fb&&(Qb=vc[Qb.toLowerCase()]=vc[Qb.toLowerCase()]||Qb,Nc[Qb]=oc),this},overrideMimeType:function(Qb){return null==Fb&&(Aa.mimeType=Qb),this},statusCode:function(Qb){var oc;if(Qb)if(Fb)qb.always(Qb[qb.status]);else for(oc in Qb)Wb[oc]=[Wb[oc],Qb[oc]];
return this},abort:function(Qb){Qb=Qb||Bc;return Q&&Q.abort(Qb),M(0,Qb),this}};if(ob.promise(qb),Aa.url=((r||Aa.url||Yd.href)+"").replace(yg,Yd.protocol+"//"),Aa.type=B.method||B.type||Aa.method||Aa.type,Aa.dataTypes=(Aa.dataType||"*").toLowerCase().match(Hc)||[""],null==Aa.crossDomain){r=Xa.createElement("a");try{r.href=Aa.url,r.href=r.href,Aa.crossDomain=ze.protocol+"//"+ze.host!=r.protocol+"//"+r.host}catch(Qb){Aa.crossDomain=!0}}if(Aa.data&&Aa.processData&&"string"!=typeof Aa.data&&(Aa.data=P.param(Aa.data,
Aa.traditional)),Ib(zf,Aa,B,qb),Fb)return qb;for(Ba in(ta=P.event&&Aa.global)&&0==P.active++&&P.event.trigger("ajaxStart"),Aa.type=Aa.type.toUpperCase(),Aa.hasContent=!yf.test(Aa.type),V=Aa.url.replace(wf,""),Aa.hasContent?Aa.data&&Aa.processData&&0===(Aa.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Aa.data=Aa.data.replace(xg,"+")):(Na=Aa.url.slice(V.length),Aa.data&&(Aa.processData||"string"==typeof Aa.data)&&(V+=(xe.test(V)?"&":"?")+Aa.data,delete Aa.data),!1===Aa.cache&&(V=V.replace(wd,
"$1"),Na=(xe.test(V)?"&":"?")+"_="+uf++ +Na),Aa.url=V+Na),Aa.ifModified&&(P.lastModified[V]&&qb.setRequestHeader("If-Modified-Since",P.lastModified[V]),P.etag[V]&&qb.setRequestHeader("If-None-Match",P.etag[V])),(Aa.data&&Aa.hasContent&&!1!==Aa.contentType||B.contentType)&&qb.setRequestHeader("Content-Type",Aa.contentType),qb.setRequestHeader("Accept",Aa.dataTypes[0]&&Aa.accepts[Aa.dataTypes[0]]?Aa.accepts[Aa.dataTypes[0]]+("*"!==Aa.dataTypes[0]?", "+Af+"; q=0.01":""):Aa.accepts["*"]),Aa.headers)qb.setRequestHeader(Ba,
Aa.headers[Ba]);if(Aa.beforeSend&&(!1===Aa.beforeSend.call(fb,qb,Aa)||Fb))return qb.abort();if(Bc="abort",Hb.add(Aa.complete),qb.done(Aa.success),qb.fail(Aa.error),Q=Ib(le,Aa,B,qb)){if(qb.readyState=1,ta&&nb.trigger("ajaxSend",[qb,Aa]),Fb)return qb;Aa.async&&0<Aa.timeout&&(sa=d.setTimeout(function(){qb.abort("timeout")},Aa.timeout));try{var Fb=!1;Q.send(Nc,M)}catch(Qb){if(Fb)throw Qb;M(-1,Qb)}}else M(-1,"No Transport");return qb},getJSON:function(r,B,M){return P.get(r,B,M,"json")},getScript:function(r,
B){return P.get(r,void 0,B,"script")}});P.each(["get","post"],function(r,B){P[B]=function(M,Q,V,ea){return Wa(Q)&&(ea=ea||V,V=Q,Q=void 0),P.ajax(P.extend({url:M,type:B,dataType:ea,data:Q,success:V},P.isPlainObject(M)&&M))}});P.ajaxPrefilter(function(r){for(var B in r.headers)"content-type"===B.toLowerCase()&&(r.contentType=r.headers[B]||"")});P._evalUrl=function(r,B,M){return P.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Q){P.globalEval(Q,
B,M)}})};P.fn.extend({wrapAll:function(r){var B;return this[0]&&(Wa(r)&&(r=r.call(this[0])),B=P(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&B.insertBefore(this[0]),B.map(function(){for(var M=this;M.firstElementChild;)M=M.firstElementChild;return M}).append(this)),this},wrapInner:function(r){return Wa(r)?this.each(function(B){P(this).wrapInner(r.call(this,B))}):this.each(function(){var B=P(this),M=B.contents();M.length?M.wrapAll(r):B.append(r)})},wrap:function(r){var B=Wa(r);return this.each(function(M){P(this).wrapAll(B?
r.call(this,M):r)})},unwrap:function(r){return this.parent(r).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}});P.expr.pseudos.hidden=function(r){return!P.expr.pseudos.visible(r)};P.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)};P.ajaxSettings.xhr=function(){try{return new d.XMLHttpRequest}catch(r){}};var Bf={0:200,1223:204},Pc=P.ajaxSettings.xhr();gb.cors=!!Pc&&"withCredentials"in Pc;gb.ajax=Pc=!!Pc;P.ajaxTransport(function(r){var B,
M;if(gb.cors||Pc&&!r.crossDomain)return{send:function(Q,V){var ea,da=r.xhr();if(da.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(ea in r.xhrFields)da[ea]=r.xhrFields[ea];for(ea in r.mimeType&&da.overrideMimeType&&da.overrideMimeType(r.mimeType),r.crossDomain||Q["X-Requested-With"]||(Q["X-Requested-With"]="XMLHttpRequest"),Q)da.setRequestHeader(ea,Q[ea]);B=function(sa){return function(){B&&(B=M=da.onload=da.onerror=da.onabort=da.ontimeout=da.onreadystatechange=null,"abort"===sa?
da.abort():"error"===sa?"number"!=typeof da.status?V(0,"error"):V(da.status,da.statusText):V(Bf[da.status]||da.status,da.statusText,"text"!==(da.responseType||"text")||"string"!=typeof da.responseText?{binary:da.response}:{text:da.responseText},da.getAllResponseHeaders()))}};da.onload=B();M=da.onerror=da.ontimeout=B("error");void 0!==da.onabort?da.onabort=M:da.onreadystatechange=function(){4===da.readyState&&d.setTimeout(function(){B&&M()})};B=B("abort");try{da.send(r.hasContent&&r.data||null)}catch(sa){if(B)throw sa;
}},abort:function(){B&&B()}}});P.ajaxPrefilter(function(r){r.crossDomain&&(r.contents.script=!1)});P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return P.globalEval(r),r}}});P.ajaxPrefilter("script",function(r){void 0===r.cache&&(r.cache=!1);r.crossDomain&&(r.type="GET")});P.ajaxTransport("script",function(r){var B,M;if(r.crossDomain||r.scriptAttrs)return{send:function(Q,
V){B=P("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",M=function(ea){B.remove();M=null;ea&&V("error"===ea.type?404:200,ea.type)});Xa.head.appendChild(B[0])},abort:function(){M&&M()}}});var Ae,Ne=[],xd=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=Ne.pop()||P.expando+"_"+uf++;return this[r]=!0,r}});P.ajaxPrefilter("json jsonp",function(r,B,M){var Q,V,ea,da=!1!==r.jsonp&&(xd.test(r.url)?"url":"string"==typeof r.data&&
0===(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&xd.test(r.data)&&"data");if(da||"jsonp"===r.dataTypes[0])return Q=r.jsonpCallback=Wa(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,da?r[da]=r[da].replace(xd,"$1"+Q):!1!==r.jsonp&&(r.url+=(xe.test(r.url)?"&":"?")+r.jsonp+"="+Q),r.converters["script json"]=function(){return ea||P.error(Q+" was not called"),ea[0]},r.dataTypes[0]="json",V=d[Q],d[Q]=function(){ea=arguments},M.always(function(){void 0===V?P(d).removeProp(Q):d[Q]=
V;r[Q]&&(r.jsonpCallback=B.jsonpCallback,Ne.push(Q));ea&&Wa(V)&&V(ea[0]);ea=V=void 0}),"script"});gb.createHTMLDocument=((Ae=Xa.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ae.childNodes.length);P.parseHTML=function(r,B,M){var Q,V,ea;return"string"!=typeof r?[]:("boolean"==typeof B&&(M=B,B=!1),B||(gb.createHTMLDocument?((ea=(B=Xa.implementation.createHTMLDocument("")).createElement("base")).href=Xa.location.href,B.head.appendChild(ea)):B=Xa),Q=!M&&[],(V=Oc.exec(r))?
[B.createElement(V[1])]:(V=D([r],B,Q),Q&&Q.length&&P(Q).remove(),P.merge([],V.childNodes)))};P.fn.load=function(r,B,M){var Q,V,ea,da=this,sa=r.indexOf(" ");return-1<sa&&(Q=Pa(r.slice(sa)),r=r.slice(0,sa)),Wa(B)?(M=B,B=void 0):B&&"object"==typeof B&&(V="POST"),0<da.length&&P.ajax({url:r,type:V||"GET",dataType:"html",data:B}).done(function(ta){ea=arguments;da.html(Q?P("<div>").append(P.parseHTML(ta)).find(Q):ta)}).always(M&&function(ta,Ba){da.each(function(){M.apply(this,ea||[ta.responseText,Ba,ta])})}),
this};P.expr.pseudos.animated=function(r){return P.grep(P.timers,function(B){return r===B.elem}).length};P.offset={setOffset:function(r,B,M){var Q,V,ea,da=P.css(r,"position"),sa=P(r),ta={};"static"===da&&(r.style.position="relative");var Ba=sa.offset();var Na=P.css(r,"top");var Aa=P.css(r,"left");("absolute"===da||"fixed"===da)&&-1<(Na+Aa).indexOf("auto")?(ea=(Q=sa.position()).top,V=Q.left):(ea=parseFloat(Na)||0,V=parseFloat(Aa)||0);Wa(B)&&(B=B.call(r,M,P.extend({},Ba)));null!=B.top&&(ta.top=B.top-
Ba.top+ea);null!=B.left&&(ta.left=B.left-Ba.left+V);"using"in B?B.using.call(r,ta):sa.css(ta)}};P.fn.extend({offset:function(r){if(arguments.length)return void 0===r?this:this.each(function(V){P.offset.setOffset(this,r,V)});var B,M,Q=this[0];return Q?Q.getClientRects().length?(B=Q.getBoundingClientRect(),M=Q.ownerDocument.defaultView,{top:B.top+M.pageYOffset,left:B.left+M.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var r,B=this[0],M={top:0,left:0};if("fixed"===P.css(B,"position"))var Q=
B.getBoundingClientRect();else{Q=this.offset();var V=B.ownerDocument;for(r=B.offsetParent||V.documentElement;r&&(r===V.body||r===V.documentElement)&&"static"===P.css(r,"position");)r=r.parentNode;r&&r!==B&&1===r.nodeType&&((M=P(r).offset()).top+=P.css(r,"borderTopWidth",!0),M.left+=P.css(r,"borderLeftWidth",!0))}return{top:Q.top-M.top-P.css(B,"marginTop",!0),left:Q.left-M.left-P.css(B,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent;r&&"static"===
P.css(r,"position");)r=r.offsetParent;return r||vd})}});P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,B){var M="pageYOffset"===B;P.fn[r]=function(Q){return xc(this,function(V,ea,da){var sa;if(Gb(V)?sa=V:9===V.nodeType&&(sa=V.defaultView),void 0===da)return sa?sa[B]:V[ea];sa?sa.scrollTo(M?sa.pageXOffset:da,M?da:sa.pageYOffset):V[ea]=da},r,Q,arguments.length)}});P.each(["top","left"],function(r,B){P.cssHooks[B]=Ca(gb.pixelPosition,function(M,Q){if(Q)return Q=ja(M,B),Rd.test(Q)?
P(M).position()[B]+"px":Q})});P.each({Height:"height",Width:"width"},function(r,B){P.each({padding:"inner"+r,content:B,"":"outer"+r},function(M,Q){P.fn[Q]=function(V,ea){var da=arguments.length&&(M||"boolean"!=typeof V),sa=M||(!0===V||!0===ea?"margin":"border");return xc(this,function(ta,Ba,Na){var Aa;return Gb(ta)?0===Q.indexOf("outer")?ta["inner"+r]:ta.document.documentElement["client"+r]:9===ta.nodeType?(Aa=ta.documentElement,Math.max(ta.body["scroll"+r],Aa["scroll"+r],ta.body["offset"+r],Aa["offset"+
r],Aa["client"+r])):void 0===Na?P.css(ta,Ba,sa):P.style(ta,Ba,Na,sa)},B,da?V:void 0,da)}})});P.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(r,B){P.fn[B]=function(M){return this.on(B,M)}});P.fn.extend({bind:function(r,B,M){return this.on(r,null,B,M)},unbind:function(r,B){return this.off(r,null,B)},delegate:function(r,B,M,Q){return this.on(B,r,M,Q)},undelegate:function(r,B,M){return 1===arguments.length?this.off(r,"**"):this.off(B,r||"**",M)},hover:function(r,
B){return this.mouseenter(r).mouseleave(B||r)}});P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(r,B){P.fn[B]=function(M,Q){return 0<arguments.length?this.on(B,null,M,Q):this.trigger(B)}});var Cf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;P.proxy=function(r,B){var M,Q,V;if("string"==typeof B&&(M=r[B],B=r,r=M),Wa(r))return Q=bb.call(arguments,
2),(V=function(){return r.apply(B||this,Q.concat(bb.call(arguments)))}).guid=r.guid=r.guid||P.guid++,V};P.holdReady=function(r){r?P.readyWait++:P.ready(!0)};P.isArray=Array.isArray;P.parseJSON=JSON.parse;P.nodeName=f;P.isFunction=Wa;P.isWindow=Gb;P.camelCase=n;P.type=a;P.now=Date.now;P.isNumeric=function(r){var B=P.type(r);return("number"===B||"string"===B)&&!isNaN(r-parseFloat(r))};P.trim=function(r){return null==r?"":(r+"").replace(Cf,"")};"function"==typeof define&&define.amd&&define("jquery",
[],function(){return P});var Oe=d.jQuery,Df=d.$;return P.noConflict=function(r){return d.$===P&&(d.$=Df),r&&d.jQuery===P&&(d.jQuery=Oe),P},"undefined"==typeof L&&(d.jQuery=d.$=P),P});/*
 jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0);
(function(d,L,X){function a(ma){var ja=L.console;f[ma]||(f[ma]=!0,d.migrateWarnings.push(ma),ja&&ja.warn&&!d.migrateMute&&(ja.warn("JQMIGRATE: "+ma),d.migrateTrace&&ja.trace&&ja.trace()))}function h(ma,ja,Ca,Fa){if(Object.defineProperty)try{return Object.defineProperty(ma,ja,{configurable:!0,enumerable:!0,get:function(){return a(Fa),Ca},set:function(Ga){a(Fa);Ca=Ga}}),X}catch(Ga){}d._definePropertyBroken=!0;ma[ja]=Ca}var f={};d.migrateWarnings=[];!d.migrateMute&&L.console&&L.console.log&&L.console.log("JQMIGRATE: Logging is active");
d.migrateTrace===X&&(d.migrateTrace=!0);d.migrateReset=function(){f={};d.migrateWarnings.length=0};"BackCompat"===document.compatMode&&a("jQuery is not compatible with Quirks Mode");var g=d("<input/>",{size:1}).attr("size")&&d.attrFn,e=d.attr,k=d.attrHooks.value&&d.attrHooks.value.get||function(){return null},p=d.attrHooks.value&&d.attrHooks.value.set||function(){return X},u=/^(?:input|button)$/i,c=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
n=/^(?:checked|selected)$/i;h(d,"attrFn",g||{},"jQuery.attrFn is deprecated");d.attr=function(ma,ja,Ca,Fa){var Ga=ja.toLowerCase(),Ra=ma&&ma.nodeType;return Fa&&(4>e.length&&a("jQuery.fn.attr( props, pass ) is deprecated"),ma&&!c.test(Ra)&&(g?ja in g:d.isFunction(d.fn[ja])))?d(ma)[ja](Ca):("type"===ja&&Ca!==X&&u.test(ma.nodeName)&&ma.parentNode&&a("Can't change the 'type' of an input or button in IE 6/7/8"),!d.attrHooks[Ga]&&m.test(Ga)&&(d.attrHooks[Ga]={get:function(Ia,va){var Ta,Da=d.prop(Ia,va);
return!0===Da||"boolean"!=typeof Da&&(Ta=Ia.getAttributeNode(va))&&!1!==Ta.nodeValue?va.toLowerCase():X},set:function(Ia,va,Ta){var Da;return!1===va?d.removeAttr(Ia,Ta):(Da=d.propFix[Ta]||Ta,Da in Ia&&(Ia[Da]=!0),Ia.setAttribute(Ta,Ta.toLowerCase())),Ta}},n.test(Ga)&&a("jQuery.fn.attr('"+Ga+"') may use property instead of attribute")),e.call(d,ma,ja,Ca))};d.attrHooks.value={get:function(ma,ja){var Ca=(ma.nodeName||"").toLowerCase();return"button"===Ca?k.apply(this,arguments):("input"!==Ca&&"option"!==
Ca&&a("jQuery.fn.attr('value') no longer gets properties"),ja in ma?ma.value:null)},set:function(ma,ja){var Ca=(ma.nodeName||"").toLowerCase();return"button"===Ca?p.apply(this,arguments):("input"!==Ca&&"option"!==Ca&&a("jQuery.fn.attr('value', val) no longer sets properties"),ma.value=ja,X)}};var w,z,x=d.fn.init,H=d.parseJSON,v=/^([^<]*)(<[\w\W]+>)([^>]*)$/;d.fn.init=function(ma,ja,Ca){var Fa;return ma&&"string"==typeof ma&&!d.isPlainObject(ja)&&(Fa=v.exec(d.trim(ma)))&&Fa[0]&&("<"!==ma.charAt(0)&&
a("$(html) HTML strings must start with '<' character"),Fa[3]&&a("$(html) HTML text after last tag is ignored"),"#"===Fa[0].charAt(0)&&(a("HTML string cannot start with a '#' character"),d.error("JQMIGRATE: Invalid selector string (XSS)")),ja&&ja.context&&(ja=ja.context),d.parseHTML)?x.call(this,d.parseHTML(Fa[2],ja,!0),ja,Ca):x.apply(this,arguments)};d.fn.init.prototype=d.fn;d.parseJSON=function(ma){return ma||null===ma?H.apply(this,arguments):(a("jQuery.parseJSON requires a valid JSON string"),
null)};d.uaMatch=function(ma){ma=ma.toLowerCase();ma=/(chrome)[ \/]([\w.]+)/.exec(ma)||/(webkit)[ \/]([\w.]+)/.exec(ma)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ma)||/(msie) ([\w.]+)/.exec(ma)||0>ma.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ma)||[];return{browser:ma[1]||"",version:ma[2]||"0"}};d.browser||(w=d.uaMatch(navigator.userAgent),z={},w.browser&&(z[w.browser]=!0,z.version=w.version),z.chrome?z.webkit=!0:z.webkit&&(z.safari=!0),d.browser=z);h(d,"browser",d.browser,"jQuery.browser is deprecated");
d.sub=function(){function ma(Ca,Fa){return new ma.fn.init(Ca,Fa)}d.extend(!0,ma,this);ma.superclass=this;ma.fn=ma.prototype=this();ma.fn.constructor=ma;ma.sub=this.sub;ma.fn.init=function(Ca,Fa){return Fa&&Fa instanceof d&&!(Fa instanceof ma)&&(Fa=ma(Fa)),d.fn.init.call(this,Ca,Fa,ja)};ma.fn.init.prototype=ma.fn;var ja=ma(document);return a("jQuery.sub() is deprecated"),ma};d.ajaxSetup({converters:{"text json":d.parseJSON}});var I=d.fn.data;d.fn.data=function(ma){var ja,Ca,Fa=this[0];return!Fa||"events"!==
ma||1!==arguments.length||(ja=d.data(Fa,ma),Ca=d._data(Fa,ma),ja!==X&&ja!==Ca||Ca===X)?I.apply(this,arguments):(a("Use of jQuery.fn.data('events') is deprecated"),Ca)};var D=/\/(java|ecma)script/i,J=d.fn.andSelf||d.fn.addBack;d.fn.andSelf=function(){return a("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),J.apply(this,arguments)};d.clean||(d.clean=function(ma,ja,Ca,Fa){ja=ja||document;ja=!ja.nodeType&&ja[0]||ja;ja=ja.ownerDocument||ja;a("jQuery.clean() is deprecated");var Ga,Ra=[];if(d.merge(Ra,
d.buildFragment(ma,ja).childNodes),Ca){var Ia=function(va){return!va.type||D.test(va.type)?Fa?Fa.push(va.parentNode?va.parentNode.removeChild(va):va):Ca.appendChild(va):X};for(ma=0;null!=(ja=Ra[ma]);ma++)d.nodeName(ja,"script")&&Ia(ja)||(Ca.appendChild(ja),ja.getElementsByTagName!==X&&(Ga=d.grep(d.merge([],ja.getElementsByTagName("script")),Ia),Ra.splice.apply(Ra,[ma+1,0].concat(Ga)),ma+=Ga.length))}return Ra});var O=d.event.add,G=d.event.remove,T=d.event.trigger,S=d.fn.toggle,R=d.fn.live,ba=d.fn.die,
ha=RegExp("\\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\\b"),ra=/(?:^|\s)hover(\.\S+|)\b/,Ka=function(ma){return"string"!=typeof ma||d.event.special.hover?ma:(ra.test(ma)&&a("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),ma&&ma.replace(ra,"mouseenter$1 mouseleave$1"))};d.event.props&&"attrChange"!==d.event.props[0]&&d.event.props.unshift("attrChange","attrName","relatedNode","srcElement");d.event.dispatch&&h(d.event,"handle",d.event.dispatch,"jQuery.event.handle is undocumented and deprecated");
d.event.add=function(ma,ja,Ca,Fa,Ga){ma!==document&&ha.test(ja)&&a("AJAX events should be attached to document: "+ja);O.call(this,ma,Ka(ja||""),Ca,Fa,Ga)};d.event.remove=function(ma,ja,Ca,Fa,Ga){G.call(this,ma,Ka(ja)||"",Ca,Fa,Ga)};d.fn.error=function(){var ma=Array.prototype.slice.call(arguments,0);return a("jQuery.fn.error() is deprecated"),ma.splice(0,0,"error"),arguments.length?this.bind.apply(this,ma):(this.triggerHandler.apply(this,ma),this)};d.fn.toggle=function(ma,ja){if(!d.isFunction(ma)||
!d.isFunction(ja))return S.apply(this,arguments);a("jQuery.fn.toggle(handler, handler...) is deprecated");var Ca=arguments,Fa=ma.guid||d.guid++,Ga=0,Ra=function(Ia){var va=(d._data(this,"lastToggle"+ma.guid)||0)%Ga;return d._data(this,"lastToggle"+ma.guid,va+1),Ia.preventDefault(),Ca[va].apply(this,arguments)||!1};for(Ra.guid=Fa;Ca.length>Ga;)Ca[Ga++].guid=Fa;return this.click(Ra)};d.fn.live=function(ma,ja,Ca){return a("jQuery.fn.live() is deprecated"),R?R.apply(this,arguments):(d(this.context).on(ma,
this.selector,ja,Ca),this)};d.fn.die=function(ma,ja){return a("jQuery.fn.die() is deprecated"),ba?ba.apply(this,arguments):(d(this.context).off(ma,this.selector||"**",ja),this)};d.event.trigger=function(ma,ja,Ca,Fa){return Ca||ha.test(ma)||a("Global events are undocumented and deprecated"),T.call(this,ma,ja,Ca||document,Fa)};d.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(ma,ja){d.event.special[ja]={setup:function(){var Ca=this;return Ca!==document&&(d.event.add(document,
ja+"."+d.guid,function(){d.event.trigger(ja,null,Ca,!0)}),d._data(this,ja,d.guid++)),!1},teardown:function(){return this!==document&&d.event.remove(document,ja+"."+d._data(this,ja)),!1}}})})(jQuery,window);/*
 jQuery UI - v1.12.1 - 2017-06-21
 http://jqueryui.com
 Includes: widget.js, position.js, data.js, keycode.js, scroll-parent.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/datepicker.js, widgets/menu.js, widgets/mouse.js, widgets/tooltip.js
 Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(d){"function"==typeof define&&define.amd?define(["jquery"],d):d(jQuery)})(function(d){function L(c){for(var m,n;c.length&&c[0]!==document;){if(m=c.css("position"),("absolute"===m||"relative"===m||"fixed"===m)&&(n=parseInt(c.css("zIndex"),10),!isNaN(n)&&0!==n))return n;c=c.parent()}return 0}function X(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass=
"ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};d.extend(this._defaults,
this.regional[""]);this.regional.en=d.extend(!0,{},this.regional[""]);this.regional["en-US"]=d.extend(!0,{},this.regional.en);this.dpDiv=a(d("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(c){return c.on("mouseout","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",function(){d(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).removeClass("ui-datepicker-prev-hover");
-1!==this.className.indexOf("ui-datepicker-next")&&d(this).removeClass("ui-datepicker-next-hover")}).on("mouseover","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",h)}function h(){d.datepicker._isDisabledDatepicker(u.inline?u.dpDiv.parent()[0]:u.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).addClass("ui-datepicker-prev-hover"),
-1!==this.className.indexOf("ui-datepicker-next")&&d(this).addClass("ui-datepicker-next-hover"))}function f(c,m){d.extend(c,m);for(var n in m)null==m[n]&&(c[n]=m[n]);return c}d.ui=d.ui||{};d.ui.version="1.12.1";var g=0,e=Array.prototype.slice;d.cleanData=function(c){return function(m){var n,w,z;for(z=0;null!=(w=m[z]);z++)try{(n=d._data(w,"events"))&&n.remove&&d(w).triggerHandler("remove")}catch(x){}c(m)}}(d.cleanData);d.widget=function(c,m,n){var w,z,x,H={},v=c.split(".")[0];c=c.split(".")[1];var I=
v+"-"+c;return n||(n=m,m=d.Widget),d.isArray(n)&&(n=d.extend.apply(null,[{}].concat(n))),d.expr[":"][I.toLowerCase()]=function(D){return!!d.data(D,I)},d[v]=d[v]||{},w=d[v][c],z=d[v][c]=function(D,J){return this._createWidget?(arguments.length&&this._createWidget(D,J),void 0):new z(D,J)},d.extend(z,w,{version:n.version,_proto:d.extend({},n),_childConstructors:[]}),x=new m,x.options=d.widget.extend({},x.options),d.each(n,function(D,J){return d.isFunction(J)?(H[D]=function(){function O(){return m.prototype[D].apply(this,
arguments)}function G(T){return m.prototype[D].apply(this,T)}return function(){var T,S=this._super,R=this._superApply;return this._super=O,this._superApply=G,T=J.apply(this,arguments),this._super=S,this._superApply=R,T}}(),void 0):(H[D]=J,void 0)}),z.prototype=d.widget.extend(x,{widgetEventPrefix:w?x.widgetEventPrefix||c:c},H,{constructor:z,namespace:v,widgetName:c,widgetFullName:I}),w?(d.each(w._childConstructors,function(D,J){D=J.prototype;d.widget(D.namespace+"."+D.widgetName,z,J._proto)}),delete w._childConstructors):
m._childConstructors.push(z),d.widget.bridge(c,z),z};d.widget.extend=function(c){for(var m,n,w=e.call(arguments,1),z=0,x=w.length;x>z;z++)for(m in w[z])n=w[z][m],w[z].hasOwnProperty(m)&&void 0!==n&&(c[m]=d.isPlainObject(n)?d.isPlainObject(c[m])?d.widget.extend({},c[m],n):d.widget.extend({},n):n);return c};d.widget.bridge=function(c,m){var n=m.prototype.widgetFullName||c;d.fn[c]=function(w){var z="string"==typeof w,x=e.call(arguments,1),H=this;return z?this.length||"instance"!==w?this.each(function(){var v,
I=d.data(this,n);return"instance"===w?(H=I,!1):I?d.isFunction(I[w])&&"_"!==w.charAt(0)?(v=I[w].apply(I,x),v!==I&&void 0!==v?(H=v&&v.jquery?H.pushStack(v.get()):v,!1):void 0):d.error("no such method '"+w+"' for "+c+" widget instance"):d.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+w+"'")}):H=void 0:(x.length&&(w=d.widget.extend.apply(null,[w].concat(x))),this.each(function(){var v=d.data(this,n);v?(v.option(w||{}),v._init&&v._init()):d.data(this,n,new m(w,
this))})),H}};d.Widget=function(){};d.Widget._childConstructors=[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(c,m){m=d(m||this.defaultElement||this)[0];this.element=d(m);this.uuid=g++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=d();this.hoverable=d();this.focusable=d();this.classesElementLookup={};m!==this&&(d.data(m,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===
m&&this.destroy()}}),this.document=d(m.style?m.ownerDocument:m.document||m),this.window=d(this.document[0].defaultView||this.document[0].parentWindow));this.options=d.widget.extend({},this.options,this._getCreateOptions(),c);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){var c=this;
this._destroy();d.each(this.classesElementLookup,function(m,n){c._removeClass(n,m)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:d.noop,widget:function(){return this.element},option:function(c,m){var n,w,z=c;if(0===arguments.length)return d.widget.extend({},this.options);if("string"==typeof c)if(z={},n=c.split("."),c=n.shift(),n.length){var x=z[c]=d.widget.extend({},
this.options[c]);for(w=0;n.length-1>w;w++)x[n[w]]=x[n[w]]||{},x=x[n[w]];if(c=n.pop(),1===arguments.length)return void 0===x[c]?null:x[c];x[c]=m}else{if(1===arguments.length)return void 0===this.options[c]?null:this.options[c];z[c]=m}return this._setOptions(z),this},_setOptions:function(c){for(var m in c)this._setOption(m,c[m]);return this},_setOption:function(c,m){return"classes"===c&&this._setOptionClasses(m),this.options[c]=m,"disabled"===c&&this._setOptionDisabled(m),this},_setOptionClasses:function(c){var m,
n;for(m in c){var w=this.classesElementLookup[m];c[m]!==this.options.classes[m]&&w&&w.length&&(n=d(w.get()),this._removeClass(w,m),n.addClass(this._classes({element:n,keys:m,classes:c,add:!0})))}},_setOptionDisabled:function(c){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!c);c&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},
_classes:function(c){function m(z,x){var H;for(H=0;z.length>H;H++){var v=w.classesElementLookup[z[H]]||d();v=c.add?d(d.unique(v.get().concat(c.element.get()))):d(v.not(c.element).get());w.classesElementLookup[z[H]]=v;n.push(z[H]);x&&c.classes[z[H]]&&n.push(c.classes[z[H]])}}var n=[],w=this;return c=d.extend({element:this.element,classes:this.options.classes||{}},c),this._on(c.element,{remove:"_untrackClassesElement"}),c.keys&&m(c.keys.match(/\S+/g)||[],!0),c.extra&&m(c.extra.match(/\S+/g)||[]),n.join(" ")},
_untrackClassesElement:function(c){var m=this;d.each(m.classesElementLookup,function(n,w){-1!==d.inArray(c.target,w)&&(m.classesElementLookup[n]=d(w.not(c.target).get()))})},_removeClass:function(c,m,n){return this._toggleClass(c,m,n,!1)},_addClass:function(c,m,n){return this._toggleClass(c,m,n,!0)},_toggleClass:function(c,m,n,w){w="boolean"==typeof w?w:n;var z="string"==typeof c||null===c;c={extra:z?m:n,keys:z?c:m,element:z?this.element:c,add:w};return c.element.toggleClass(this._classes(c),w),this},
_on:function(c,m,n){var w,z=this;"boolean"!=typeof c&&(n=m,m=c,c=!1);n?(m=w=d(m),this.bindings=this.bindings.add(m)):(n=m,m=this.element,w=this.widget());d.each(n,function(x,H){function v(){return c||!0!==z.options.disabled&&!d(this).hasClass("ui-state-disabled")?("string"==typeof H?z[H]:H).apply(z,arguments):void 0}"string"!=typeof H&&(v.guid=H.guid=H.guid||v.guid||d.guid++);var I=x.match(/^([\w:-]*)\s*(.*)$/);x=I[1]+z.eventNamespace;(I=I[2])?w.on(x,I,v):m.on(x,v)})},_off:function(c,m){m=(m||"").split(" ").join(this.eventNamespace+
" ")+this.eventNamespace;c.off(m).off(m);this.bindings=d(this.bindings.not(c).get());this.focusable=d(this.focusable.not(c).get());this.hoverable=d(this.hoverable.not(c).get())},_delay:function(c,m){var n=this;return setTimeout(function(){return("string"==typeof c?n[c]:c).apply(n,arguments)},m||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(m){this._addClass(d(m.currentTarget),null,"ui-state-hover")},mouseleave:function(m){this._removeClass(d(m.currentTarget),
null,"ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(m){this._addClass(d(m.currentTarget),null,"ui-state-focus")},focusout:function(m){this._removeClass(d(m.currentTarget),null,"ui-state-focus")}})},_trigger:function(c,m,n){var w,z,x=this.options[c];if(n=n||{},m=d.Event(m),m.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase(),m.target=this.element[0],z=m.originalEvent)for(w in z)w in m||(m[w]=z[w]);return this.element.trigger(m,
n),!(d.isFunction(x)&&!1===x.apply(this.element[0],[m].concat(n))||m.isDefaultPrevented())}};d.each({show:"fadeIn",hide:"fadeOut"},function(c,m){d.Widget.prototype["_"+c]=function(n,w,z){"string"==typeof w&&(w={effect:w});var x=w?!0===w||"number"==typeof w?m:w.effect||m:c;w=w||{};"number"==typeof w&&(w={duration:w});var H=!d.isEmptyObject(w);w.complete=z;w.delay&&n.delay(w.delay);H&&d.effects&&d.effects.effect[x]?n[c](w):x!==c&&n[x]?n[x](w.duration,w.easing,z):n.queue(function(v){d(this)[c]();z&&
z.call(n[0]);v()})}});d.widget;(function(){function c(O,G,T){return[parseFloat(O[0])*(D.test(O[0])?G/100:1),parseFloat(O[1])*(D.test(O[1])?T/100:1)]}function m(O){var G=O[0];return 9===G.nodeType?{width:O.width(),height:O.height(),offset:{top:0,left:0}}:d.isWindow(G)?{width:O.width(),height:O.height(),offset:{top:O.scrollTop(),left:O.scrollLeft()}}:G.preventDefault?{width:0,height:0,offset:{top:G.pageY,left:G.pageX}}:{width:O.outerWidth(),height:O.outerHeight(),offset:O.offset()}}var n,w=Math.max,
z=Math.abs,x=/left|center|right/,H=/top|center|bottom/,v=/[\+\-]\d+(\.[\d]+)?%?/,I=/^\w+/,D=/%$/,J=d.fn.position;d.position={scrollbarWidth:function(){if(void 0!==n)return n;var O,G,T=d("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),S=T.children()[0];return d("body").append(T),O=S.offsetWidth,T.css("overflow","scroll"),G=S.offsetWidth,O===G&&(G=T[0].clientWidth),T.remove(),n=O-G},getScrollInfo:function(O){var G=
O.isWindow||O.isDocument?"":O.element.css("overflow-x"),T=O.isWindow||O.isDocument?"":O.element.css("overflow-y");G="scroll"===G||"auto"===G&&O.width<O.element[0].scrollWidth;return{width:"scroll"===T||"auto"===T&&O.height<O.element[0].scrollHeight?d.position.scrollbarWidth():0,height:G?d.position.scrollbarWidth():0}},getWithinInfo:function(O){var G=d(O||window),T=d.isWindow(G[0]),S=!!G[0]&&9===G[0].nodeType;return{element:G,isWindow:T,isDocument:S,offset:T||S?{left:0,top:0}:d(O).offset(),scrollLeft:G.scrollLeft(),
scrollTop:G.scrollTop(),width:G.outerWidth(),height:G.outerHeight()}}};d.fn.position=function(O){if(!O||!O.of)return J.apply(this,arguments);O=d.extend({},O);var G,T,S,R,ba,ha,ra=d(O.of),Ka=d.position.getWithinInfo(O.within),ma=d.position.getScrollInfo(Ka),ja=(O.collision||"flip").split(" "),Ca={};return ha=m(ra),ra[0].preventDefault&&(O.at="left top"),T=ha.width,S=ha.height,R=ha.offset,ba=d.extend({},R),d.each(["my","at"],function(){var Fa=(O[this]||"").split(" ");1===Fa.length&&(Fa=x.test(Fa[0])?
Fa.concat(["center"]):H.test(Fa[0])?["center"].concat(Fa):["center","center"]);Fa[0]=x.test(Fa[0])?Fa[0]:"center";Fa[1]=H.test(Fa[1])?Fa[1]:"center";var Ga=v.exec(Fa[0]);var Ra=v.exec(Fa[1]);Ca[this]=[Ga?Ga[0]:0,Ra?Ra[0]:0];O[this]=[I.exec(Fa[0])[0],I.exec(Fa[1])[0]]}),1===ja.length&&(ja[1]=ja[0]),"right"===O.at[0]?ba.left+=T:"center"===O.at[0]&&(ba.left+=T/2),"bottom"===O.at[1]?ba.top+=S:"center"===O.at[1]&&(ba.top+=S/2),G=c(Ca.at,T,S),ba.left+=G[0],ba.top+=G[1],this.each(function(){var Fa,Ga=d(this),
Ra=Ga.outerWidth(),Ia=Ga.outerHeight(),va=parseInt(d.css(this,"marginLeft"),10)||0,Ta=parseInt(d.css(this,"marginTop"),10)||0,Da=Ra+va+(parseInt(d.css(this,"marginRight"),10)||0)+ma.width,ua=Ia+Ta+(parseInt(d.css(this,"marginBottom"),10)||0)+ma.height,La=d.extend({},ba),Qa=c(Ca.my,Ga.outerWidth(),Ga.outerHeight());"right"===O.my[0]?La.left-=Ra:"center"===O.my[0]&&(La.left-=Ra/2);"bottom"===O.my[1]?La.top-=Ia:"center"===O.my[1]&&(La.top-=Ia/2);La.left+=Qa[0];La.top+=Qa[1];var Pa={marginLeft:va,marginTop:Ta};
d.each(["left","top"],function(cb,rb){d.ui.position[ja[cb]]&&d.ui.position[ja[cb]][rb](La,{targetWidth:T,targetHeight:S,elemWidth:Ra,elemHeight:Ia,collisionPosition:Pa,collisionWidth:Da,collisionHeight:ua,offset:[G[0]+Qa[0],G[1]+Qa[1]],my:O.my,at:O.at,within:Ka,elem:Ga})});O.using&&(Fa=function(cb){var rb=R.left-La.left,Va=rb+T-Ra,kb=R.top-La.top,Ib=kb+S-Ia,Db={target:{element:ra,left:R.left,top:R.top,width:T,height:S},element:{element:Ga,left:La.left,top:La.top,width:Ra,height:Ia},horizontal:0>Va?
"left":0<rb?"right":"center",vertical:0>Ib?"top":0<kb?"bottom":"middle"};Ra>T&&T>z(rb+Va)&&(Db.horizontal="center");Ia>S&&S>z(kb+Ib)&&(Db.vertical="middle");Db.important=w(z(rb),z(Va))>w(z(kb),z(Ib))?"horizontal":"vertical";O.using.call(this,cb,Db)});Ga.offset(d.extend(La,{using:Fa}))})};d.ui.position={fit:{left:function(O,G){var T,S=G.within,R=S.isWindow?S.scrollLeft:S.offset.left;S=S.width;var ba=O.left-G.collisionPosition.marginLeft,ha=R-ba,ra=ba+G.collisionWidth-S-R;G.collisionWidth>S?0<ha&&0>=
ra?(T=O.left+ha+G.collisionWidth-S-R,O.left+=ha-T):O.left=0<ra&&0>=ha?R:ha>ra?R+S-G.collisionWidth:R:0<ha?O.left+=ha:0<ra?O.left-=ra:O.left=w(O.left-ba,O.left)},top:function(O,G){var T,S=G.within;S=S.isWindow?S.scrollTop:S.offset.top;var R=G.within.height,ba=O.top-G.collisionPosition.marginTop,ha=S-ba,ra=ba+G.collisionHeight-R-S;G.collisionHeight>R?0<ha&&0>=ra?(T=O.top+ha+G.collisionHeight-R-S,O.top+=ha-T):O.top=0<ra&&0>=ha?S:ha>ra?S+R-G.collisionHeight:S:0<ha?O.top+=ha:0<ra?O.top-=ra:O.top=w(O.top-
ba,O.top)}},flip:{left:function(O,G){var T,S,R=G.within,ba=R.offset.left+R.scrollLeft,ha=R.width;R=R.isWindow?R.scrollLeft:R.offset.left;var ra=O.left-G.collisionPosition.marginLeft,Ka=ra-R;ra=ra+G.collisionWidth-ha-R;var ma="left"===G.my[0]?-G.elemWidth:"right"===G.my[0]?G.elemWidth:0,ja="left"===G.at[0]?G.targetWidth:"right"===G.at[0]?-G.targetWidth:0,Ca=-2*G.offset[0];0>Ka?(T=O.left+ma+ja+Ca+G.collisionWidth-ha-ba,(0>T||z(Ka)>T)&&(O.left+=ma+ja+Ca)):0<ra&&(S=O.left-G.collisionPosition.marginLeft+
ma+ja+Ca-R,(0<S||ra>z(S))&&(O.left+=ma+ja+Ca))},top:function(O,G){var T,S,R=G.within,ba=R.offset.top+R.scrollTop,ha=R.height;R=R.isWindow?R.scrollTop:R.offset.top;var ra=O.top-G.collisionPosition.marginTop,Ka=ra-R;ra=ra+G.collisionHeight-ha-R;var ma="top"===G.my[1]?-G.elemHeight:"bottom"===G.my[1]?G.elemHeight:0,ja="top"===G.at[1]?G.targetHeight:"bottom"===G.at[1]?-G.targetHeight:0,Ca=-2*G.offset[1];0>Ka?(S=O.top+ma+ja+Ca+G.collisionHeight-ha-ba,(0>S||z(Ka)>S)&&(O.top+=ma+ja+Ca)):0<ra&&(T=O.top-G.collisionPosition.marginTop+
ma+ja+Ca-R,(0<T||ra>z(T))&&(O.top+=ma+ja+Ca))}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this,arguments);d.ui.position.fit.top.apply(this,arguments)}}}})();d.ui.position;d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(c){return function(m){return!!d.data(m,c)}}):function(c,m,n){return!!d.data(c,n[3])}});d.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,
END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};d.fn.scrollParent=function(c){var m=this.css("position"),n="absolute"===m,w=c?/(auto|scroll|hidden)/:/(auto|scroll)/;c=this.parents().filter(function(){var z=d(this);return n&&"static"===z.css("position")?!1:w.test(z.css("overflow")+z.css("overflow-y")+z.css("overflow-x"))}).eq(0);return"fixed"!==m&&c.length?c:d(this[0].ownerDocument||document)};d.fn.extend({uniqueId:function(){var c=0;return function(){return this.each(function(){this.id||
(this.id="ui-id-"+ ++c)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&d(this).removeAttr("id")})}});d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var k=!1;d(document).on("mouseup",function(){k=!1});d.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.on("mousedown."+this.widgetName,function(m){return c._mouseDown(m)}).on("click."+
this.widgetName,function(m){return!0===d.data(m.target,c.widgetName+".preventClickEvent")?(d.removeData(m.target,c.widgetName+".preventClickEvent"),m.stopImmediatePropagation(),!1):void 0});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!k){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(c);
this._mouseDownEvent=c;var m=this,n=1===c.which,w="string"==typeof this.options.cancel&&c.target.nodeName?d(c.target).closest(this.options.cancel).length:!1;return n&&!w&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){m.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted)?(c.preventDefault(),!0):(!0===d.data(c.target,
this.widgetName+".preventClickEvent")&&d.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(z){return m._mouseMove(z)},this._mouseUpDelegate=function(z){return m._mouseUp(z)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),k=!0,!0)):!0}},_mouseMove:function(c){if(this._mouseMoved){if(d.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button)return this._mouseUp(c);
if(!c.which)if(c.originalEvent.altKey||c.originalEvent.ctrlKey||c.originalEvent.metaKey||c.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(c)}return(c.which||c.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c),this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},
_mouseUp:function(c){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&d.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);k=this.ignoreMissingWhich=!1;c.preventDefault()},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-
c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});d.ui.plugin={add:function(c,m,n){var w;c=d.ui[c].prototype;for(w in n)c.plugins[w]=c.plugins[w]||[],c.plugins[w].push([m,n[w]])},call:function(c,m,n,w){if((m=c.plugins[m])&&(w||c.element[0].parentNode&&11!==c.element[0].parentNode.nodeType))for(w=0;m.length>w;w++)c.options[m[w][0]]&&
m[w][1].apply(c.element,n)}};d.ui.safeActiveElement=function(c){try{var m=c.activeElement}catch(n){m=c.body}return m||=c.body,m.nodeName||(m=c.body),m};d.ui.safeBlur=function(c){c&&"body"!==c.nodeName.toLowerCase()&&d(c).trigger("blur")};d.widget("ui.draggable",d.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,
revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(c,m){this._super(c,m);"handle"===c&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||
this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(c){var m=this.options;return this.helper||m.disabled||0<d(c.target).closest(".ui-resizable-handle").length?!1:(this.handle=this._getHandle(c),this.handle?(this._blurActiveElement(c),this._blockFrames(!0===m.iframeFix?"iframe":m.iframeFix),!0):!1)},_blockFrames:function(c){this.iframeBlocks=this.document.find(c).map(function(){var m=d(this);
return d("<div>").css("position","absolute").appendTo(m.parent()).outerWidth(m.outerWidth()).outerHeight(m.outerHeight()).offset(m.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(c){var m=d.ui.safeActiveElement(this.document[0]);d(c.target).closest(m).length||d.ui.safeBlur(m)},_mouseStart:function(c){var m=this.options;return this.helper=this._createHelper(c),this._addClass(this.helper,"ui-draggable-dragging"),
this._cacheHelperProportions(),d.ui.ddmanager&&(d.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===d(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(c),this.originalPosition=this.position=this._generatePosition(c,!1),this.originalPageX=c.pageX,
this.originalPageY=c.pageY,m.cursorAt&&this._adjustOffsetFromHelper(m.cursorAt),this._setContainment(),!1===this._trigger("start",c)?(this._clear(),!1):(this._cacheHelperProportions(),d.ui.ddmanager&&!m.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,c),!0)},_refreshOffsets:function(c){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),
relative:this._getRelativeOffset()};this.offset.click={left:c.pageX-this.offset.left,top:c.pageY-this.offset.top}},_mouseDrag:function(c,m){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(c,!0),this.positionAbs=this._convertPositionTo("absolute"),!m){m=this._uiHash();if(!1===this._trigger("drag",c,m))return this._mouseUp(new d.Event("mouseup",c)),!1;this.position=m.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=
this.position.top+"px",d.ui.ddmanager&&d.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var m=this,n=!1;return d.ui.ddmanager&&!this.options.dropBehaviour&&(n=d.ui.ddmanager.drop(this,c)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==
m._trigger("stop",c)&&m._clear()}):!1!==this._trigger("stop",c)&&this._clear(),!1},_mouseUp:function(c){return this._unblockFrames(),d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,c),this.handleElement.is(c.target)&&this.element.trigger("focus"),d.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new d.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(c){return this.options.handle?!!d(c.target).closest(this.element.find(this.options.handle)).length:
!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(c){var m=this.options,n=d.isFunction(m.helper);c=n?d(m.helper.apply(this.element[0],[c])):"clone"===m.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"===
m.appendTo?this.element[0].parentNode:m.appendTo),n&&c[0]===this.element[0]&&this._setPositionRelative(),c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));d.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);
"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_isRootNode:function(c){return/(html|body)/i.test(c.tagName)||c===this.document[0]},_getParentOffset:function(){var c=this.offsetParent.offset(),m=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==m&&d.contains(this.scrollParent[0],
this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var c=this.element.position(),m=this._isRootNode(this.scrollParent[0]);return{top:c.top-(parseInt(this.helper.css("top"),
10)||0)+(m?0:this.scrollParent.scrollTop()),left:c.left-(parseInt(this.helper.css("left"),10)||0)+(m?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var c,m,n,w=this.options,z=this.document[0];return this.relativeContainer=null,w.containment?"window"===w.containment?(this.containment=[d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,d(window).scrollLeft()+d(window).width()-this.helperProportions.width-this.margins.left,d(window).scrollTop()+(d(window).height()||z.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],
void 0):"document"===w.containment?(this.containment=[0,0,d(z).width()-this.helperProportions.width-this.margins.left,(d(z).height()||z.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):w.containment.constructor===Array?(this.containment=w.containment,void 0):("parent"===w.containment&&(w.containment=this.helper[0].parentNode),m=d(w.containment),n=m[0],n&&(c=/(scroll|auto)/.test(m.css("overflow")),this.containment=[(parseInt(m.css("borderLeftWidth"),10)||0)+(parseInt(m.css("paddingLeft"),
10)||0),(parseInt(m.css("borderTopWidth"),10)||0)+(parseInt(m.css("paddingTop"),10)||0),(c?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(m.css("borderRightWidth"),10)||0)-(parseInt(m.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(m.css("borderBottomWidth"),10)||0)-(parseInt(m.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],
this.relativeContainer=m),void 0):(this.containment=null,void 0)},_convertPositionTo:function(c,m){m||=this.position;c="absolute"===c?1:-1;var n=this._isRootNode(this.scrollParent[0]);return{top:m.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*c,left:m.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*c}},_generatePosition:function(c,
m){var n,w,z,x,H=this.options,v=this._isRootNode(this.scrollParent[0]),I=c.pageX,D=c.pageY;return v&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),m&&(this.containment&&(this.relativeContainer?(w=this.relativeContainer.offset(),n=[this.containment[0]+w.left,this.containment[1]+w.top,this.containment[2]+w.left,this.containment[3]+w.top]):n=this.containment,c.pageX-this.offset.click.left<n[0]&&(I=n[0]+this.offset.click.left),c.pageY-
this.offset.click.top<n[1]&&(D=n[1]+this.offset.click.top),c.pageX-this.offset.click.left>n[2]&&(I=n[2]+this.offset.click.left),c.pageY-this.offset.click.top>n[3]&&(D=n[3]+this.offset.click.top)),H.grid&&(z=H.grid[1]?this.originalPageY+Math.round((D-this.originalPageY)/H.grid[1])*H.grid[1]:this.originalPageY,D=n?z-this.offset.click.top>=n[1]||z-this.offset.click.top>n[3]?z:z-this.offset.click.top>=n[1]?z-H.grid[1]:z+H.grid[1]:z,x=H.grid[0]?this.originalPageX+Math.round((I-this.originalPageX)/H.grid[0])*
H.grid[0]:this.originalPageX,I=n?x-this.offset.click.left>=n[0]||x-this.offset.click.left>n[2]?x:x-this.offset.click.left>=n[0]?x-H.grid[0]:x+H.grid[0]:x),"y"===H.axis&&(I=this.originalPageX),"x"===H.axis&&(D=this.originalPageY)),{top:D-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:v?0:this.offset.scroll.top),left:I-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:
v?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(c,m,n){return n=n||this._uiHash(),d.ui.plugin.call(this,c,[m,n,this],!0),/^(drag|start|stop)/.test(c)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),d.Widget.prototype._trigger.call(this,
c,m,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.ui.plugin.add("draggable","connectToSortable",{start:function(c,m,n){var w=d.extend({},m,{item:n.element});n.sortables=[];d(n.options.connectToSortable).each(function(){var z=d(this).sortable("instance");z&&!z.options.disabled&&(n.sortables.push(z),z.refreshPositions(),z._trigger("activate",c,w))})},stop:function(c,m,n){var w=d.extend({},m,{item:n.element});
n.cancelHelperRemoval=!1;d.each(n.sortables,function(){this.isOver?(this.isOver=0,n.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(c),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",c,w))})},drag:function(c,m,n){d.each(n.sortables,function(){var w=!1,z=this;z.positionAbs=n.positionAbs;z.helperProportions=
n.helperProportions;z.offset.click=n.offset.click;z._intersectsWith(z.containerCache)&&(w=!0,d.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==z&&this._intersectsWith(this.containerCache)&&d.contains(z.element[0],this.element[0])&&(w=!1),w}));w?(z.isOver||(z.isOver=1,n._parent=m.helper.parent(),z.currentItem=m.helper.appendTo(z.element).data("ui-sortable-item",!0),z.options._helper=z.options.helper,
z.options.helper=function(){return m.helper[0]},c.target=z.currentItem[0],z._mouseCapture(c,!0),z._mouseStart(c,!0,!0),z.offset.click.top=n.offset.click.top,z.offset.click.left=n.offset.click.left,z.offset.parent.left-=n.offset.parent.left-z.offset.parent.left,z.offset.parent.top-=n.offset.parent.top-z.offset.parent.top,n._trigger("toSortable",c),n.dropped=z.element,d.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,z.fromOutside=n),z.currentItem&&(z._mouseDrag(c),m.position=
z.position)):z.isOver&&(z.isOver=0,z.cancelHelperRemoval=!0,z.options._revert=z.options.revert,z.options.revert=!1,z._trigger("out",c,z._uiHash(z)),z._mouseStop(c,!0),z.options.revert=z.options._revert,z.options.helper=z.options._helper,z.placeholder&&z.placeholder.remove(),m.helper.appendTo(n._parent),n._refreshOffsets(c),m.position=n._generatePosition(c,!0),n._trigger("fromSortable",c),n.dropped=!1,d.each(n.sortables,function(){this.refreshPositions()}))})}});d.ui.plugin.add("draggable","cursor",
{start:function(c,m,n){c=d("body");n=n.options;c.css("cursor")&&(n._cursor=c.css("cursor"));c.css("cursor",n.cursor)},stop:function(c,m,n){c=n.options;c._cursor&&d("body").css("cursor",c._cursor)}});d.ui.plugin.add("draggable","opacity",{start:function(c,m,n){c=d(m.helper);n=n.options;c.css("opacity")&&(n._opacity=c.css("opacity"));c.css("opacity",n.opacity)},stop:function(c,m,n){c=n.options;c._opacity&&d(m.helper).css("opacity",c._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(c,
m,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1));n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(c,m,n){m=n.options;var w=!1,z=n.scrollParentNotHidden[0],x=n.document[0];z!==x&&"HTML"!==z.tagName?(m.axis&&"x"===m.axis||(n.overflowOffset.top+z.offsetHeight-c.pageY<m.scrollSensitivity?z.scrollTop=w=z.scrollTop+m.scrollSpeed:c.pageY-n.overflowOffset.top<m.scrollSensitivity&&
(z.scrollTop=w=z.scrollTop-m.scrollSpeed)),m.axis&&"y"===m.axis||(n.overflowOffset.left+z.offsetWidth-c.pageX<m.scrollSensitivity?z.scrollLeft=w=z.scrollLeft+m.scrollSpeed:c.pageX-n.overflowOffset.left<m.scrollSensitivity&&(z.scrollLeft=w=z.scrollLeft-m.scrollSpeed))):(m.axis&&"x"===m.axis||(c.pageY-d(x).scrollTop()<m.scrollSensitivity?w=d(x).scrollTop(d(x).scrollTop()-m.scrollSpeed):d(window).height()-(c.pageY-d(x).scrollTop())<m.scrollSensitivity&&(w=d(x).scrollTop(d(x).scrollTop()+m.scrollSpeed))),
m.axis&&"y"===m.axis||(c.pageX-d(x).scrollLeft()<m.scrollSensitivity?w=d(x).scrollLeft(d(x).scrollLeft()-m.scrollSpeed):d(window).width()-(c.pageX-d(x).scrollLeft())<m.scrollSensitivity&&(w=d(x).scrollLeft(d(x).scrollLeft()+m.scrollSpeed))));!1!==w&&d.ui.ddmanager&&!m.dropBehaviour&&d.ui.ddmanager.prepareOffsets(n,c)}});d.ui.plugin.add("draggable","snap",{start:function(c,m,n){c=n.options;n.snapElements=[];d(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var w=
d(this),z=w.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:w.outerWidth(),height:w.outerHeight(),top:z.top,left:z.left})})},drag:function(c,m,n){var w,z,x,H,v,I,D=n.options,J=D.snapTolerance,O=m.offset.left,G=O+n.helperProportions.width,T=m.offset.top,S=T+n.helperProportions.height;for(v=n.snapElements.length-1;0<=v;v--){var R=n.snapElements[v].left-n.margins.left;var ba=R+n.snapElements[v].width;var ha=n.snapElements[v].top-n.margins.top;var ra=ha+n.snapElements[v].height;R-J>
G||O>ba+J||ha-J>S||T>ra+J||!d.contains(n.snapElements[v].item.ownerDocument,n.snapElements[v].item)?(n.snapElements[v].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,c,d.extend(n._uiHash(),{snapItem:n.snapElements[v].item})),n.snapElements[v].snapping=!1):("inner"!==D.snapMode&&(w=J>=Math.abs(ha-S),z=J>=Math.abs(ra-T),x=J>=Math.abs(R-G),H=J>=Math.abs(ba-O),w&&(m.position.top=n._convertPositionTo("relative",{top:ha-n.helperProportions.height,left:0}).top),z&&(m.position.top=
n._convertPositionTo("relative",{top:ra,left:0}).top),x&&(m.position.left=n._convertPositionTo("relative",{top:0,left:R-n.helperProportions.width}).left),H&&(m.position.left=n._convertPositionTo("relative",{top:0,left:ba}).left)),I=w||z||x||H,"outer"!==D.snapMode&&(w=J>=Math.abs(ha-T),z=J>=Math.abs(ra-S),x=J>=Math.abs(R-O),H=J>=Math.abs(ba-G),w&&(m.position.top=n._convertPositionTo("relative",{top:ha,left:0}).top),z&&(m.position.top=n._convertPositionTo("relative",{top:ra-n.helperProportions.height,
left:0}).top),x&&(m.position.left=n._convertPositionTo("relative",{top:0,left:R}).left),H&&(m.position.left=n._convertPositionTo("relative",{top:0,left:ba-n.helperProportions.width}).left)),!n.snapElements[v].snapping&&(w||z||x||H||I)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,c,d.extend(n._uiHash(),{snapItem:n.snapElements[v].item})),n.snapElements[v].snapping=w||z||x||H||I)}}});d.ui.plugin.add("draggable","stack",{start:function(c,m,n){var w;c=d.makeArray(d(n.options.stack)).sort(function(z,
x){return(parseInt(d(z).css("zIndex"),10)||0)-(parseInt(d(x).css("zIndex"),10)||0)});c.length&&(w=parseInt(d(c[0]).css("zIndex"),10)||0,d(c).each(function(z){d(this).css("zIndex",w+z)}),this.css("zIndex",w+c.length))}});d.ui.plugin.add("draggable","zIndex",{start:function(c,m,n){c=d(m.helper);n=n.options;c.css("zIndex")&&(n._zIndex=c.css("zIndex"));c.css("zIndex",n.zIndex)},stop:function(c,m,n){c=n.options;c._zIndex&&d(m.helper).css("zIndex",c._zIndex)}});d.ui.draggable;d.widget("ui.droppable",{version:"1.12.1",
widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,m=this.options,n=m.accept;this.isover=!1;this.isout=!0;this.accept=d.isFunction(n)?n:function(w){return w.is(n)};this.proportions=function(){return arguments.length?(c=arguments[0],void 0):c?c:c={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(m.scope);m.addClasses&&
this._addClass("ui-droppable")},_addToManager:function(c){d.ui.ddmanager.droppables[c]=d.ui.ddmanager.droppables[c]||[];d.ui.ddmanager.droppables[c].push(this)},_splice:function(c){for(var m=0;c.length>m;m++)c[m]===this&&c.splice(m,1)},_destroy:function(){this._splice(d.ui.ddmanager.droppables[this.options.scope])},_setOption:function(c,m){"accept"===c?this.accept=d.isFunction(m)?m:function(n){return n.is(m)}:"scope"===c&&(this._splice(d.ui.ddmanager.droppables[this.options.scope]),this._addToManager(m));
this._super(c,m)},_activate:function(c){var m=d.ui.ddmanager.current;this._addActiveClass();m&&this._trigger("activate",c,this.ui(m))},_deactivate:function(c){var m=d.ui.ddmanager.current;this._removeActiveClass();m&&this._trigger("deactivate",c,this.ui(m))},_over:function(c){var m=d.ui.ddmanager.current;m&&(m.currentItem||m.element)[0]!==this.element[0]&&this.accept.call(this.element[0],m.currentItem||m.element)&&(this._addHoverClass(),this._trigger("over",c,this.ui(m)))},_out:function(c){var m=
d.ui.ddmanager.current;m&&(m.currentItem||m.element)[0]!==this.element[0]&&this.accept.call(this.element[0],m.currentItem||m.element)&&(this._removeHoverClass(),this._trigger("out",c,this.ui(m)))},_drop:function(c,m){var n=m||d.ui.ddmanager.current,w=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var z=d(this).droppable("instance");return z.options.greedy&&!z.options.disabled&&z.options.scope===n.options.scope&&
z.accept.call(z.element[0],n.currentItem||n.element)&&p(n,d.extend(z,{offset:z.element.offset()}),z.options.tolerance,c)?(w=!0,!1):void 0}),w?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",c,this.ui(n)),this.element):!1):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},
_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var p=d.ui.intersect=function(){return function(c,m,n,w){if(!m.offset)return!1;var z=(c.positionAbs||c.position.absolute).left+c.margins.left,x=(c.positionAbs||c.position.absolute).top+c.margins.top,H=z+c.helperProportions.width,v=x+c.helperProportions.height,I=m.offset.left,D=m.offset.top,J=I+m.proportions().width,O=D+m.proportions().height;switch(n){case "fit":return z>=
I&&J>=H&&x>=D&&O>=v;case "intersect":return z+c.helperProportions.width/2>I&&J>H-c.helperProportions.width/2&&x+c.helperProportions.height/2>D&&O>v-c.helperProportions.height/2;case "pointer":c=w.pageY;n=m.proportions().height;if(D=c>=D&&D+n>c)w=w.pageX,m=m.proportions().width,D=w>=I&&I+m>w;return D;case "touch":return(x>=D&&O>=x||v>=D&&O>=v||D>x&&v>O)&&(z>=I&&J>=z||H>=I&&J>=H||I>z&&H>J);default:return!1}}}();d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,m){var n,
w=d.ui.ddmanager.droppables[c.options.scope]||[],z=m?m.type:null,x=(c.currentItem||c.element).find(":data(ui-droppable)").addBack();var H=0;a:for(;w.length>H;H++)if(!(w[H].options.disabled||c&&!w[H].accept.call(w[H].element[0],c.currentItem||c.element))){for(n=0;x.length>n;n++)if(x[n]===w[H].element[0]){w[H].proportions().height=0;continue a}w[H].visible="none"!==w[H].element.css("display");w[H].visible&&("mousedown"===z&&w[H]._activate.call(w[H],m),w[H].offset=w[H].element.offset(),w[H].proportions({width:w[H].element[0].offsetWidth,
height:w[H].element[0].offsetHeight}))}},drop:function(c,m){var n=!1;return d.each((d.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&p(c,this,this.options.tolerance,m)&&(n=this._drop.call(this,m)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,m)))}),n},dragStart:function(c,m){c.element.parentsUntil("body").on("scroll.droppable",
function(){c.options.refreshPositions||d.ui.ddmanager.prepareOffsets(c,m)})},drag:function(c,m){c.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(c,m);d.each(d.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,w,z,x=p(c,this,this.options.tolerance,m);(x=!x&&this.isover?"isout":x&&!this.isover?"isover":null)&&(this.options.greedy&&(w=this.options.scope,z=this.element.parents(":data(ui-droppable)").filter(function(){return d(this).droppable("instance").options.scope===
w}),z.length&&(n=d(z[0]).droppable("instance"),n.greedyChild="isover"===x)),n&&"isover"===x&&(n.isover=!1,n.isout=!0,n._out.call(n,m)),this[x]=!0,this["isout"===x?"isover":"isout"]=!1,this["isover"===x?"_over":"_out"].call(this,m),n&&"isout"===x&&(n.isout=!1,n.isover=!0,n._over.call(n,m)))}})},dragStop:function(c,m){c.element.parentsUntil("body").off("scroll.droppable");c.options.refreshPositions||d.ui.ddmanager.prepareOffsets(c,m)}};!1!==d.uiBackCompat&&d.widget("ui.droppable",d.ui.droppable,{options:{hoverClass:!1,
activeClass:!1},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});d.ui.droppable;
d.widget("ui.sortable",d.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,
remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(c,m,n){return c>=m&&m+n>c},_isFloating:function(c){return/left|right/.test(c.css("float"))||/inline|table-cell/.test(c.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(c,m){this._super(c,m);"handle"===c&&this._setHandleClassName()},_setHandleClassName:function(){var c=
this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");d.each(this.items,function(){c._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var c=this.items.length-1;0<=c;c--)this.items[c].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(c,m){var n=null,w=!1,z=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?
!1:(this._refreshItems(c),d(c.target).parents().each(function(){return d.data(this,z.widgetName+"-item")===z?(n=d(this),!1):void 0}),d.data(c.target,z.widgetName+"-item")===z&&(n=d(c.target)),n?!this.options.handle||m||(d(this.options.handle,n).find("*").addBack().each(function(){this===c.target&&(w=!0)}),w)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(c,m,n){var w;m=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(c),
this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(c),
this.originalPageX=c.pageX,this.originalPageY=c.pageY,m.cursorAt&&this._adjustOffsetFromHelper(m.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),m.containment&&this._setContainment(),m.cursor&&"auto"!==m.cursor&&(w=this.document.find("body"),this.storedCursor=w.css("cursor"),w.css("cursor",m.cursor),this.storedStylesheet=d("<style>*{ cursor: "+m.cursor+" !important; }</style>").appendTo(w)),
m.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",m.opacity)),m.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",m.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",c,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(n=this.containers.length-
1;0<=n;n--)this.containers[n]._trigger("activate",c,this._uiHash(this));return d.ui.ddmanager&&(d.ui.ddmanager.current=this),d.ui.ddmanager&&!m.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(c),!0},_mouseDrag:function(c){var m,n,w;var z=this.options;var x=!1;this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);
this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<z.scrollSensitivity?this.scrollParent[0].scrollTop=x=this.scrollParent[0].scrollTop+z.scrollSpeed:c.pageY-this.overflowOffset.top<z.scrollSensitivity&&(this.scrollParent[0].scrollTop=x=this.scrollParent[0].scrollTop-z.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-c.pageX<z.scrollSensitivity?this.scrollParent[0].scrollLeft=
x=this.scrollParent[0].scrollLeft+z.scrollSpeed:c.pageX-this.overflowOffset.left<z.scrollSensitivity&&(this.scrollParent[0].scrollLeft=x=this.scrollParent[0].scrollLeft-z.scrollSpeed)):(c.pageY-this.document.scrollTop()<z.scrollSensitivity?x=this.document.scrollTop(this.document.scrollTop()-z.scrollSpeed):this.window.height()-(c.pageY-this.document.scrollTop())<z.scrollSensitivity&&(x=this.document.scrollTop(this.document.scrollTop()+z.scrollSpeed)),c.pageX-this.document.scrollLeft()<z.scrollSensitivity?
x=this.document.scrollLeft(this.document.scrollLeft()-z.scrollSpeed):this.window.width()-(c.pageX-this.document.scrollLeft())<z.scrollSensitivity&&(x=this.document.scrollLeft(this.document.scrollLeft()+z.scrollSpeed))),!1!==x&&d.ui.ddmanager&&!z.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=
this.position.top+"px");for(z=this.items.length-1;0<=z;z--)if(m=this.items[z],n=m.item[0],w=this._intersectsWithPointer(m),w&&m.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===w?"next":"prev"]()[0]!==n&&!d.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!d.contains(this.element[0],n):!0)){if(this.direction=1===w?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(m))break;this._rearrange(c,m);this._trigger("change",c,this._uiHash());
break}return this._contactContainers(c),d.ui.ddmanager&&d.ui.ddmanager.drag(this,c),this._trigger("sort",c,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(c,m){if(c){if(d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,c),this.options.revert){var n=this;m=this.placeholder.offset();var w=this.options.axis,z={};w&&"x"!==w||(z.left=m.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));
w&&"y"!==w||(z.top=m.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;d(this.helper).animate(z,parseInt(this.options.revert,10)||500,function(){n._clear(c)})}else this._clear(c,m);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new d.Event("mouseup",{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):
this.currentItem.show();for(var c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,
{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var m=this._getItemsAsjQuery(c&&c.connected),n=[];return c=c||{},d(m).each(function(){var w=(d(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[\-=_](.+)/);w&&n.push((c.key||w[1]+"[]")+"="+(c.key&&c.expression?w[1]:w[2]))}),!n.length&&c.key&&n.push(c.key+"="),n.join("&")},
toArray:function(c){var m=this._getItemsAsjQuery(c&&c.connected),n=[];return c=c||{},m.each(function(){n.push(d(c.item||this).attr(c.attribute||"id")||"")}),n},_intersectsWith:function(c){var m=this.positionAbs.left,n=m+this.helperProportions.width,w=this.positionAbs.top,z=w+this.helperProportions.height,x=c.left,H=x+c.width,v=c.top,I=v+c.height,D=this.offset.click.top,J=this.offset.click.left;D="x"===this.options.axis||w+D>v&&I>w+D;J="y"===this.options.axis||m+J>x&&H>m+J;return"pointer"===this.options.tolerance||
this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?D&&J:m+this.helperProportions.width/2>x&&H>n-this.helperProportions.width/2&&w+this.helperProportions.height/2>v&&I>z-this.helperProportions.height/2},_intersectsWithPointer:function(c){var m,n,w="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height);c="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+
this.offset.click.left,c.left,c.width);return w&&c?(m=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===m?2:1:m&&("down"===m?2:1)):!1},_intersectsWithSides:function(c){var m=this._isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var n=this._getDragVerticalDirection(),w=this._getDragHorizontalDirection();return this.floating&&
w?"right"===w&&c||"left"===w&&!c:n&&("down"===n&&m||"up"===n&&!m)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return 0!==c&&(0<c?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return 0!==c&&(0<c?"right":"left")},refresh:function(c){return this._refreshItems(c),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var c=this.options;return c.connectWith.constructor===
String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){function m(){z.push(this)}var n,w,z=[],x=[],H=this._connectWith();if(H&&c)for(c=H.length-1;0<=c;c--){var v=d(H[c],this.document[0]);for(n=v.length-1;0<=n;n--)(w=d.data(v[n],this.widgetFullName))&&w!==this&&!w.options.disabled&&x.push([d.isFunction(w.options.items)?w.options.items.call(w.element):d(w.options.items,w.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),w])}x.push([d.isFunction(this.options.items)?this.options.items.call(this.element,
null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(c=x.length-1;0<=c;c--)x[c][0].each(m);return d(z)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(m){for(var n=0;c.length>n;n++)if(c[n]===m.item[0])return!1;return!0})},_refreshItems:function(c){this.items=[];this.containers=[this];var m,n,w,z,x=this.items,
H=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):d(this.options.items,this.element),this]];if((z=this._connectWith())&&this.ready)for(m=z.length-1;0<=m;m--){var v=d(z[m],this.document[0]);for(n=v.length-1;0<=n;n--)(w=d.data(v[n],this.widgetFullName))&&w!==this&&!w.options.disabled&&(H.push([d.isFunction(w.options.items)?w.options.items.call(w.element[0],c,{item:this.currentItem}):d(w.options.items,w.element),w]),this.containers.push(w))}for(m=
H.length-1;0<=m;m--)for(c=H[m][1],v=H[m][0],n=0,z=v.length;z>n;n++)w=d(v[n]),w.data(this.widgetName+"-item",c),x.push({item:w,instance:c,width:0,height:0,left:0,top:0})},refreshPositions:function(c){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var m,n,w;for(m=this.items.length-1;0<=m;m--){var z=this.items[m];z.instance!==this.currentContainer&&this.currentContainer&&z.item[0]!==
this.currentItem[0]||(n=this.options.toleranceElement?d(this.options.toleranceElement,z.item):z.item,c||(z.width=n.outerWidth(),z.height=n.outerHeight()),w=n.offset(),z.left=w.left,z.top=w.top)}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(m=this.containers.length-1;0<=m;m--)w=this.containers[m].element.offset(),this.containers[m].containerCache.left=w.left,this.containers[m].containerCache.top=w.top,this.containers[m].containerCache.width=
this.containers[m].element.outerWidth(),this.containers[m].containerCache.height=this.containers[m].element.outerHeight();return this},_createPlaceholder:function(c){c=c||this;var m,n=c.options;n.placeholder&&n.placeholder.constructor!==String||(m=n.placeholder,n.placeholder={element:function(){var w=c.currentItem[0].nodeName.toLowerCase(),z=d("<"+w+">",c.document[0]);return c._addClass(z,"ui-sortable-placeholder",m||c.currentItem[0].className)._removeClass(z,"ui-sortable-helper"),"tbody"===w?c._createTrPlaceholder(c.currentItem.find("tr").eq(0),
d("<tr>",c.document[0]).appendTo(z)):"tr"===w?c._createTrPlaceholder(c.currentItem,z):"img"===w&&z.attr("src",c.currentItem.attr("src")),m||z.css("visibility","hidden"),z},update:function(w,z){(!m||n.forcePlaceholderSize)&&(z.height()||z.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),z.width()||z.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||
0,10)))}});c.placeholder=d(n.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);n.placeholder.update(c,c.placeholder)},_createTrPlaceholder:function(c,m){var n=this;c.children().each(function(){d("<td>&#160;</td>",n.document[0]).attr("colspan",d(this).attr("colspan")||1).appendTo(m)})},_contactContainers:function(c){var m,n,w,z,x,H=w=null;for(m=this.containers.length-1;0<=m;m--)d.contains(this.currentItem[0],this.containers[m].element[0])||(this._intersectsWith(this.containers[m].containerCache)?
w&&d.contains(this.containers[m].element[0],w.element[0])||(w=this.containers[m],H=m):this.containers[m].containerCache.over&&(this.containers[m]._trigger("out",c,this._uiHash(this)),this.containers[m].containerCache.over=0));if(w)if(1===this.containers.length)this.containers[H].containerCache.over||(this.containers[H]._trigger("over",c,this._uiHash(this)),this.containers[H].containerCache.over=1);else{m=1E4;var v=null;w=(n=w.floating||this._isFloating(this.currentItem))?"left":"top";var I=n?"width":
"height";var D=n?"pageX":"pageY";for(n=this.items.length-1;0<=n;n--)d.contains(this.containers[H].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(z=this.items[n].item.offset()[w],x=!1,c[D]-z>this.items[n][I]/2&&(x=!0),m>Math.abs(c[D]-z)&&(m=Math.abs(c[D]-z),v=this.items[n],this.direction=x?"up":"down"));if(v||this.options.dropOnEmpty){if(this.currentContainer===this.containers[H])return this.currentContainer.containerCache.over||(this.containers[H]._trigger("over",
c,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;v?this._rearrange(c,v,null,!0):this._rearrange(c,null,this.containers[H].element,!0);this._trigger("change",c,this._uiHash());this.containers[H]._trigger("change",c,this._uiHash(this));this.currentContainer=this.containers[H];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[H]._trigger("over",c,this._uiHash(this));this.containers[H].containerCache.over=1}}},_createHelper:function(c){var m=
this.options;c=d.isFunction(m.helper)?d(m.helper.apply(this.element[0],[c,this.currentItem])):"clone"===m.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||d("parent"!==m.appendTo?m.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),
(!c[0].style.width||m.forceHelperSize)&&c.width(this.currentItem.width()),(!c[0].style.height||m.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));d.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=
this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&
d.ui.ie)&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins=
{left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,m,n,w=this.options;"parent"===w.containment&&(w.containment=this.helper[0].parentNode);"document"!==w.containment&&"window"!==w.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-
this.offset.parent.top,"document"===w.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===w.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(w.containment)||(c=d(w.containment)[0],m=d(w.containment).offset(),n="hidden"!==d(c).css("overflow"),this.containment=[m.left+
(parseInt(d(c).css("borderLeftWidth"),10)||0)+(parseInt(d(c).css("paddingLeft"),10)||0)-this.margins.left,m.top+(parseInt(d(c).css("borderTopWidth"),10)||0)+(parseInt(d(c).css("paddingTop"),10)||0)-this.margins.top,m.left+(n?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(d(c).css("borderLeftWidth"),10)||0)-(parseInt(d(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,m.top+(n?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(d(c).css("borderTopWidth"),
10)||0)-(parseInt(d(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(c,m){m||=this.position;c="absolute"===c?1:-1;var n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,w=/(html|body)/i.test(n[0].tagName);return{top:m.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():
w?0:n.scrollTop())*c,left:m.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():w?0:n.scrollLeft())*c}},_generatePosition:function(c){var m,n,w=this.options,z=c.pageX,x=c.pageY,H="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,v=/(html|body)/i.test(H[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==
this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(z=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(x=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(z=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&
(x=this.containment[3]+this.offset.click.top)),w.grid&&(m=this.originalPageY+Math.round((x-this.originalPageY)/w.grid[1])*w.grid[1],x=this.containment?m-this.offset.click.top>=this.containment[1]&&m-this.offset.click.top<=this.containment[3]?m:m-this.offset.click.top>=this.containment[1]?m-w.grid[1]:m+w.grid[1]:m,n=this.originalPageX+Math.round((z-this.originalPageX)/w.grid[0])*w.grid[0],z=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?
n:n-this.offset.click.left>=this.containment[0]?n-w.grid[0]:n+w.grid[0]:n)),{top:x-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():v?0:H.scrollTop()),left:z-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():v?0:H.scrollLeft())}},_rearrange:function(c,m,n,w){n?n[0].appendChild(this.placeholder[0]):m.item[0].parentNode.insertBefore(this.placeholder[0],
"down"===this.direction?m.item[0]:m.item[0].nextSibling);var z=this.counter=this.counter?++this.counter:1;this._delay(function(){z===this.counter&&this.refreshPositions(!w)})},_clear:function(c,m){function n(x,H,v){return function(I){v._trigger(x,I,H._uiHash(H))}}this.reverting=!1;var w,z=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(w in this._storedCSS)"auto"!==this._storedCSS[w]&&
"static"!==this._storedCSS[w]||(this._storedCSS[w]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!m&&z.push(function(x){this._trigger("receive",x,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||m||z.push(function(x){this._trigger("update",x,this._uiHash())});this!==
this.currentContainer&&(m||(z.push(function(x){this._trigger("remove",x,this._uiHash())}),z.push(function(x){return function(H){x._trigger("receive",H,this._uiHash(this))}}.call(this,this.currentContainer)),z.push(function(x){return function(H){x._trigger("update",H,this._uiHash(this))}}.call(this,this.currentContainer))));for(w=this.containers.length-1;0<=w;w--)m||z.push(n("deactivate",this,this.containers[w])),this.containers[w].containerCache.over&&(z.push(n("out",this,this.containers[w])),this.containers[w].containerCache.over=
0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,m||this._trigger("beforeStop",c,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=
null),!m){for(w=0;z.length>w;w++)z[w].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(c){var m=c||this;return{helper:m.helper,placeholder:m.placeholder||d([]),position:m.position,originalPosition:m.originalPosition,offset:m.positionAbs,item:m.currentItem,sender:c?c.element:null}}});d.widget("ui.accordion",{version:"1.12.1",options:{active:0,
animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",
paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var c=this.options;this.prevShow=this.prevHide=d();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");c.collapsible||!1!==c.active&&null!=c.active||(c.active=0);this._processPanels();0>c.active&&(c.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():d()}},_createIcons:function(){var c,m,n=
this.options.icons;n&&(c=d("<span>"),this._addClass(c,"ui-accordion-header-icon","ui-icon "+n.header),c.prependTo(this.headers),m=this.active.children(".ui-accordion-header-icon"),this._removeClass(m,n.header)._addClass(m,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();
this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&c.css("height","")},_setOption:function(c,m){return"active"===c?(this._activate(m),void 0):("event"===c&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(m)),this._super(c,m),"collapsible"!==c||m||!1!==this.options.active||this._activate(0),"icons"===c&&(this._destroyIcons(),m&&this._createIcons()),void 0)},
_setOptionDisabled:function(c){this._super(c);this.element.attr("aria-disabled",c);this._toggleClass(null,"ui-state-disabled",!!c);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!c)},_keydown:function(c){if(!c.altKey&&!c.ctrlKey){var m=d.ui.keyCode,n=this.headers.length,w=this.headers.index(c.target),z=!1;switch(c.keyCode){case m.RIGHT:case m.DOWN:z=this.headers[(w+1)%n];break;case m.LEFT:case m.UP:z=this.headers[(w-1+n)%n];break;case m.SPACE:case m.ENTER:this._eventHandler(c);
break;case m.HOME:z=this.headers[0];break;case m.END:z=this.headers[n-1]}z&&(d(c.target).attr("tabIndex",-1),d(z).attr("tabIndex",0),d(z).trigger("focus"),c.preventDefault())}},_panelKeyDown:function(c){c.keyCode===d.ui.keyCode.UP&&c.ctrlKey&&d(c.currentTarget).prev().trigger("focus")},refresh:function(){var c=this.options;this._processPanels();!1===c.active&&!0===c.collapsible||!this.headers.length?(c.active=!1,this.active=d()):!1===c.active?this._activate(0):this.active.length&&!d.contains(this.element[0],
this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(c.active=!1,this.active=d()):this._activate(Math.max(0,c.active-1)):c.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var c=this.headers,m=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();
this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");m&&(this._off(c.not(this.headers)),this._off(m.not(this.panels)))},_refresh:function(){var c,m=this.options,n=m.heightStyle,w=this.element.parent();this.active=this._findActive(m.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role",
"tab").each(function(){var z=d(this),x=z.uniqueId().attr("id"),H=z.next(),v=H.uniqueId().attr("id");z.attr("aria-controls",v);H.attr("aria-labelledby",x)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();
this._setupEvents(m.event);"fill"===n?(c=w.height(),this.element.siblings(":visible").each(function(){var z=d(this),x=z.css("position");"absolute"!==x&&"fixed"!==x&&(c-=z.outerHeight(!0))}),this.headers.each(function(){c-=d(this).outerHeight(!0)}),this.headers.next().each(function(){d(this).height(Math.max(0,c-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===n&&(c=0,this.headers.next().each(function(){var z=d(this).is(":visible");z||d(this).show();c=Math.max(c,d(this).css("height",
"").height());z||d(this).hide()}).height(c))},_activate:function(c){c=this._findActive(c)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:d.noop}))},_findActive:function(c){return"number"==typeof c?this.headers.eq(c):d()},_setupEvents:function(c){var m={keydown:"_keydown"};c&&d.each(c.split(" "),function(n,w){m[w]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,m);this._on(this.headers.next(),{keydown:"_panelKeyDown"});
this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(c){var m,n,w=this.options,z=this.active,x=d(c.currentTarget),H=x[0]===z[0],v=H&&w.collapsible,I=v?d():x.next(),D=z.next();I={oldHeader:z,oldPanel:D,newHeader:v?d():x,newPanel:I};c.preventDefault();H&&!w.collapsible||!1===this._trigger("beforeActivate",c,I)||(w.active=v?!1:this.headers.index(x),this.active=H?d():x,this._toggle(I),this._removeClass(z,"ui-accordion-header-active","ui-state-active"),w.icons&&(m=z.children(".ui-accordion-header-icon"),
this._removeClass(m,null,w.icons.activeHeader)._addClass(m,null,w.icons.header)),H||(this._removeClass(x,"ui-accordion-header-collapsed")._addClass(x,"ui-accordion-header-active","ui-state-active"),w.icons&&(n=x.children(".ui-accordion-header-icon"),this._removeClass(n,null,w.icons.header)._addClass(n,null,w.icons.activeHeader)),this._addClass(x.next(),"ui-accordion-content-active")))},_toggle:function(c){var m=c.newPanel,n=this.prevShow.length?this.prevShow:c.oldPanel;this.prevShow.add(this.prevHide).stop(!0,
!0);this.prevShow=m;this.prevHide=n;this.options.animate?this._animate(m,n,c):(n.hide(),m.show(),this._toggleComplete(c));n.attr({"aria-hidden":"true"});n.prev().attr({"aria-selected":"false","aria-expanded":"false"});m.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):m.length&&this.headers.filter(function(){return 0===parseInt(d(this).attr("tabIndex"),10)}).attr("tabIndex",-1);m.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},
_animate:function(c,m,n){var w,z,x,H=this,v=0,I=c.css("box-sizing"),D=c.length&&(!m.length||c.index()<m.index()),J=this.options.animate||{};D=D&&J.down||J;var O=function(){H._toggleComplete(n)};return"number"==typeof D&&(x=D),"string"==typeof D&&(z=D),z=z||D.easing||J.easing,x=x||D.duration||J.duration,m.length?c.length?(w=c.show().outerHeight(),m.animate(this.hideProps,{duration:x,easing:z,step:function(G,T){T.now=Math.round(G)}}),c.hide().animate(this.showProps,{duration:x,easing:z,complete:O,step:function(G,
T){T.now=Math.round(G);"height"!==T.prop?"content-box"===I&&(v+=T.now):"content"!==H.options.heightStyle&&(T.now=Math.round(w-m.outerHeight()-v),v=0)}}),void 0):m.animate(this.hideProps,x,z,O):c.animate(this.showProps,x,z,O)},_toggleComplete:function(c){var m=c.oldPanel,n=m.prev();this._removeClass(m,"ui-accordion-content-active");this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed");m.length&&(m.parent()[0].className=m.parent()[0].className);this._trigger("activate",
null,c)}});d.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(c){c.preventDefault()},"click .ui-menu-item":function(c){var m=
d(c.target),n=d(d.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&m.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||(this.mouseHandled=!0),m.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){if(!this.previousFilter){var m=d(c.target).closest(".ui-menu-item"),
n=d(c.currentTarget);m[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(c,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,m){var n=this.active||this.element.find(this.options.items).eq(0);m||this.focus(c,n)},blur:function(c){this._delay(function(){!d.contains(this.element[0],d.ui.safeActiveElement(this.document[0]))&&this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){this._closeOnDocumentClick(c)&&
this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){var c=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();c.children().each(function(){var m=d(this);m.data("ui-menu-submenu-caret")&&m.remove()})},
_keydown:function(c){var m=!0;switch(c.keyCode){case d.ui.keyCode.PAGE_UP:this.previousPage(c);break;case d.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case d.ui.keyCode.HOME:this._move("first","first",c);break;case d.ui.keyCode.END:this._move("last","last",c);break;case d.ui.keyCode.UP:this.previous(c);break;case d.ui.keyCode.DOWN:this.next(c);break;case d.ui.keyCode.LEFT:this.collapse(c);break;case d.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case d.ui.keyCode.ENTER:case d.ui.keyCode.SPACE:this._activate(c);
break;case d.ui.keyCode.ESCAPE:this.collapse(c);break;default:m=!1;var n=this.previousFilter||"";var w=!1;var z=96<=c.keyCode&&105>=c.keyCode?""+(c.keyCode-96):String.fromCharCode(c.keyCode);clearTimeout(this.filterTimer);z===n?w=!0:z=n+z;n=this._filterMenuItems(z);n=w&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n;n.length||(z=String.fromCharCode(c.keyCode),n=this._filterMenuItems(z));n.length?(this.focus(c,n),this.previousFilter=z,this.filterTimer=this._delay(function(){delete this.previousFilter},
1E3)):delete this.previousFilter}m&&c.preventDefault()},_activate:function(c){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(c):this.select(c))},refresh:function(){var c=this,m=this.options.icons.submenu;var n=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);var w=n.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var x=
d(this),H=x.prev(),v=d("<span>").data("ui-menu-submenu-caret",!0);c._addClass(v,"ui-menu-icon","ui-icon "+m);H.attr("aria-haspopup","true").prepend(v);x.attr("aria-labelledby",H.attr("id"))});this._addClass(w,"ui-menu","ui-widget ui-widget-content ui-front");w=n.add(this.element).find(this.options.items);w.not(".ui-menu-item").each(function(){var x=d(this);c._isDivider(x)&&c._addClass(x,"ui-menu-divider","ui-widget-content")});n=w.not(".ui-menu-item, .ui-menu-divider");var z=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,
role:this._itemRole()});this._addClass(n,"ui-menu-item")._addClass(z,"ui-menu-item-wrapper");w.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!d.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,m){if("icons"===c){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,m.submenu)}this._super(c,m)},_setOptionDisabled:function(c){this._super(c);
this.element.attr("aria-disabled",c+"");this._toggleClass(null,"ui-state-disabled",!!c)},focus:function(c,m){this.blur(c,c&&"focus"===c.type);this._scrollIntoView(m);this.active=m.first();var n=this.active.children(".ui-menu-item-wrapper");this._addClass(n,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",n.attr("id"));n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(n,null,"ui-state-active");c&&"keydown"===c.type?
this._close():this.timer=this._delay(function(){this._close()},this.delay);n=m.children(".ui-menu");n.length&&c&&/^mouse/.test(c.type)&&this._startOpening(n);this.activeMenu=m.parent();this._trigger("focus",c,{item:m})},_scrollIntoView:function(c){var m,n,w,z,x,H;this._hasScroll()&&(m=parseFloat(d.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(d.css(this.activeMenu[0],"paddingTop"))||0,w=c.offset().top-this.activeMenu.offset().top-m-n,z=this.activeMenu.scrollTop(),x=this.activeMenu.height(),
H=c.outerHeight(),0>w?this.activeMenu.scrollTop(z+w):w+H>x&&this.activeMenu.scrollTop(z+w-x+H))},blur:function(c,m){m||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",c,{item:this.active}),this.active=null)},_startOpening:function(c){clearTimeout(this.timer);"true"===c.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(c)},this.delay))},_open:function(c){var m=d.extend({of:this.active},
this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(m)},collapseAll:function(c,m){clearTimeout(this.timer);this.timer=this._delay(function(){var n=m?this.element:d(c&&c.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element);this._close(n);this.blur(c);this._removeClass(n.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=
n},this.delay)},_close:function(c){c||=this.active?this.active.parent():this.element;c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(c){return!d(c.target).closest(".ui-menu").length},_isDivider:function(c){return!/[^\-\u2014\u2013\s]/.test(c.text())},collapse:function(c){var m=this.active&&this.active.parent().closest(".ui-menu-item",this.element);m&&m.length&&(this._close(),this.focus(c,m))},expand:function(c){var m=this.active&&
this.active.children(".ui-menu ").find(this.options.items).first();m&&m.length&&(this._open(m.parent()),this._delay(function(){this.focus(c,m)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(c,m,n){var w;this.active&&(w="first"===c||"last"===c?this.active["first"===
c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0));w&&w.length&&this.active||(w=this.activeMenu.find(this.options.items)[m]());this.focus(n,w)},nextPage:function(c){var m,n,w;return this.active?(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,w=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return m=d(this),0>m.offset().top-n-w}),this.focus(c,m)):this.focus(c,this.activeMenu.find(this.options.items)[this.active?
"last":"first"]())),void 0):(this.next(c),void 0)},previousPage:function(c){var m,n,w;return this.active?(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,w=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return m=d(this),0<m.offset().top-n+w}),this.focus(c,m)):this.focus(c,this.activeMenu.find(this.options.items).first())),void 0):(this.next(c),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=
this.active||d(c.target).closest(".ui-menu-item");var m={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,m)},_filterMenuItems:function(c){c=c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var m=RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return m.test(d.trim(d(this).children(".ui-menu-item-wrapper").text()))})}});d.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",
options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var c,m,n,w=this.element[0].nodeName.toLowerCase(),z="textarea"===w;w="input"===w;this.isMultiLine=z||!w&&this._isContentEditable(this.element);this.valueMethod=this.element[z||w?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");
this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(x){if(this.element.prop("readOnly"))return c=!0,n=!0,m=!0,void 0;m=n=c=!1;var H=d.ui.keyCode;switch(x.keyCode){case H.PAGE_UP:c=!0;this._move("previousPage",x);break;case H.PAGE_DOWN:c=!0;this._move("nextPage",x);break;case H.UP:c=!0;this._keyEvent("previous",x);break;case H.DOWN:c=!0;this._keyEvent("next",x);break;case H.ENTER:this.menu.active&&(c=!0,x.preventDefault(),this.menu.select(x));break;case H.TAB:this.menu.active&&
this.menu.select(x);break;case H.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(x),x.preventDefault());break;default:m=!0,this._searchTimeout(x)}},keypress:function(x){if(c)return c=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&x.preventDefault(),void 0;if(!m){var H=d.ui.keyCode;switch(x.keyCode){case H.PAGE_UP:this._move("previousPage",x);break;case H.PAGE_DOWN:this._move("nextPage",x);break;case H.UP:this._keyEvent("previous",x);break;case H.DOWN:this._keyEvent("next",
x)}}},input:function(x){return n?(n=!1,x.preventDefault(),void 0):(this._searchTimeout(x),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(x){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(x),this._change(x),void 0)}});this._initSource();this.menu=d("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,
{mousedown:function(x){x.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==d.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(x,H){var v,I;return this.isNewMenu&&(this.isNewMenu=!1,x.originalEvent&&/^mouse/.test(x.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){d(x.target).trigger(x.originalEvent)}),void 0):(I=H.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",x,
{item:I})&&x.originalEvent&&/^key/.test(x.originalEvent.type)&&this._value(I.value),v=H.item.attr("aria-label")||I.value,v&&d.trim(v).length&&(this.liveRegion.children().hide(),d("<div>").text(v).appendTo(this.liveRegion)),void 0)},menuselect:function(x,H){var v=H.item.data("ui-autocomplete-item"),I=this.previous;this.element[0]!==d.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=I,this._delay(function(){this.previous=I;this.selectedItem=v}));!1!==this._trigger("select",
x,{item:v})&&this._value(v.value);this.term=this._value();this.close(x);this.selectedItem=v}});this.liveRegion=d("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},
_setOption:function(c,m){this._super(c,m);"source"===c&&this._initSource();"appendTo"===c&&this.menu.element.appendTo(this._appendTo());"disabled"===c&&m&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(c){var m=this.menu.element[0];return c.target===this.element[0]||c.target===m||d.contains(m,c.target)},_closeOnClickOutside:function(c){this._isEventTargetInWidget(c)||this.close()},_appendTo:function(){var c=this.options.appendTo;return c&&=c.jquery||c.nodeType?d(c):this.document.find(c).eq(0),
c&&c[0]||(c=this.element.closest(".ui-front, dialog")),c.length||(c=this.document[0].body),c},_initSource:function(){var c,m,n=this;d.isArray(this.options.source)?(c=this.options.source,this.source=function(w,z){z(d.ui.autocomplete.filter(c,w.term))}):"string"==typeof this.options.source?(m=this.options.source,this.source=function(w,z){n.xhr&&n.xhr.abort();n.xhr=d.ajax({url:m,data:w,dataType:"json",success:function(x){z(x)},error:function(){z([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching);
this.searching=this._delay(function(){var m=this.term===this._value(),n=this.menu.element.is(":visible"),w=c.altKey||c.ctrlKey||c.metaKey||c.shiftKey;m&&(!m||n||w)||(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,m){return c=null!=c?c:this._value(),this.term=this._value(),c.length<this.options.minLength?this.close(m):!1!==this._trigger("search",m)?this._search(c):void 0},_search:function(c){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=
!1;this.source({term:c},this._response())},_response:function(){var c=++this.requestIndex;return d.proxy(function(m){c===this.requestIndex&&this.__response(m);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(c){c&&=this._normalize(c);this._trigger("response",null,{content:c});!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0;this._close(c)},_close:function(c){this._off(this.document,
"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:d.map(c,function(m){return"string"==typeof m?{label:m,value:m}:d.extend({},m,{label:m.label||m.value,value:m.value||m.label})})},_suggest:function(c){var m=this.menu.element.empty();this._renderMenu(m,
c);this.isNewMenu=!0;this.menu.refresh();m.show();this._resizeMenu();m.position(d.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,m){var n=this;d.each(m,function(w,z){n._renderItemData(c,z)})},_renderItemData:function(c,m){return this._renderItem(c,m).data("ui-autocomplete-item",
m)},_renderItem:function(c,m){return d("<li>").append(d("<div>").text(m.label)).appendTo(c)},_move:function(c,m){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[c](m),void 0):(this.search(null,m),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(c,m){this.isMultiLine&&
!this.menu.element.is(":visible")||(this._move(c,m),m.preventDefault())},_isContentEditable:function(c){if(!c.length)return!1;var m=c.prop("contentEditable");return"inherit"===m?this._isContentEditable(c.parent()):"true"===m}});d.extend(d.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,m){var n=RegExp(d.ui.autocomplete.escapeRegex(m),"i");return d.grep(c,function(w){return n.test(w.label||w.value||w)})}});d.widget("ui.autocomplete",
d.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(1<c?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var m;this._superApply(arguments);this.options.disabled||this.cancelSearch||(m=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults,this.liveRegion.children().hide(),d("<div>").text(m).appendTo(this.liveRegion))}});d.ui.autocomplete;d.extend(d.ui,{datepicker:{version:"1.12.1"}});
var u;d.extend(X.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(c){return f(this._defaults,c||{}),this},_attachDatepicker:function(c,m){var n=c.nodeName.toLowerCase();var w="div"===n||"span"===n;c.id||(this.uuid+=1,c.id="dp"+this.uuid);var z=this._newInst(d(c),w);z.settings=d.extend({},m||{});"input"===n?this._connectDatepicker(c,z):w&&this._inlineDatepicker(c,z)},_newInst:function(c,m){return{id:c[0].id.replace(/([^A-Za-z0-9_\-])/g,
"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:m,dpDiv:m?a(d("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(c,m){var n=d(c);m.append=d([]);m.trigger=d([]);n.hasClass(this.markerClassName)||(this._attachments(n,m),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(m),
d.data(c,"datepicker",m),m.settings.disabled&&this._disableDatepicker(c))},_attachments:function(c,m){var n,w;var z=this._get(m,"appendText");var x=this._get(m,"isRTL");m.append&&m.append.remove();z&&(m.append=d("<span class='"+this._appendClass+"'>"+z+"</span>"),c[x?"before":"after"](m.append));c.off("focus",this._showDatepicker);m.trigger&&m.trigger.remove();z=this._get(m,"showOn");"focus"!==z&&"both"!==z||c.on("focus",this._showDatepicker);"button"!==z&&"both"!==z||(n=this._get(m,"buttonText"),
w=this._get(m,"buttonImage"),m.trigger=d(this._get(m,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:w,alt:n,title:n}):d("<button type='button'></button>").addClass(this._triggerClass).html(w?d("<img/>").attr({src:w,alt:n,title:n}):n)),c[x?"before":"after"](m.trigger),m.trigger.on("click",function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput===c[0]?d.datepicker._hideDatepicker():d.datepicker._datepickerShowing&&d.datepicker._lastInput!==c[0]?(d.datepicker._hideDatepicker(),
d.datepicker._showDatepicker(c[0])):d.datepicker._showDatepicker(c[0]),!1}))},_autoSize:function(c){if(this._get(c,"autoSize")&&!c.inline){var m,n,w,z,x=new Date(2009,11,20),H=this._get(c,"dateFormat");H.match(/[DM]/)&&(m=function(v){for(z=w=n=0;v.length>z;z++)v[z].length>n&&(n=v[z].length,w=z);return w},x.setMonth(m(this._get(c,H.match(/MM/)?"monthNames":"monthNamesShort"))),x.setDate(m(this._get(c,H.match(/DD/)?"dayNames":"dayNamesShort"))+20-x.getDay()));c.input.attr("size",this._formatDate(c,
x).length)}},_inlineDatepicker:function(c,m){var n=d(c);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(m.dpDiv),d.data(c,"datepicker",m),this._setDate(m,this._getDefaultDate(m),!0),this._updateDatepicker(m),this._updateAlternate(m),m.settings.disabled&&this._disableDatepicker(c),m.dpDiv.css("display","block"))},_dialogDatepicker:function(c,m,n,w,z){var x,H,v,I,D;c=this._dialogInst;return c||(this.uuid+=1,x="dp"+this.uuid,this._dialogInput=d("<input type='text' id='"+x+
"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),d("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},d.data(this._dialogInput[0],"datepicker",c)),f(c.settings,w||{}),m=m&&m.constructor===Date?this._formatDate(c,m):m,this._dialogInput.val(m),this._pos=z?z.length?z:[z.pageX,z.pageY]:null,this._pos||(H=document.documentElement.clientWidth,v=document.documentElement.clientHeight,I=document.documentElement.scrollLeft||
document.body.scrollLeft,D=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[H/2-100+I,v/2-150+D]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(c){var m,n=d(c),w=d.data(c,"datepicker");n.hasClass(this.markerClassName)&&
(m=c.nodeName.toLowerCase(),d.removeData(c,"datepicker"),"input"===m?(w.append.remove(),w.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===m||"span"===m)&&n.removeClass(this.markerClassName).empty(),u===w&&(u=null))},_enableDatepicker:function(c){var m,n,w=d(c),z=d.data(c,"datepicker");w.hasClass(this.markerClassName)&&(m=c.nodeName.toLowerCase(),"input"===m?(c.disabled=
!1,z.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===m||"span"===m)&&(n=w.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=d.map(this._disabledInputs,function(x){return x===c?null:x}))},_disableDatepicker:function(c){var m,n,w=d(c),z=d.data(c,"datepicker");w.hasClass(this.markerClassName)&&(m=
c.nodeName.toLowerCase(),"input"===m?(c.disabled=!0,z.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===m||"span"===m)&&(n=w.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=d.map(this._disabledInputs,function(x){return x===c?null:x}),this._disabledInputs[this._disabledInputs.length]=c)},_isDisabledDatepicker:function(c){if(!c)return!1;
for(var m=0;this._disabledInputs.length>m;m++)if(this._disabledInputs[m]===c)return!0;return!1},_getInst:function(c){try{return d.data(c,"datepicker")}catch(m){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,m,n){var w,z,x,H,v=this._getInst(c);return 2===arguments.length&&"string"==typeof m?"defaults"===m?d.extend({},d.datepicker._defaults):v?"all"===m?d.extend({},v.settings):this._get(v,m):null:(w=m||{},"string"==typeof m&&(w={},w[m]=n),v&&(this._curInst===v&&this._hideDatepicker(),
z=this._getDateDatepicker(c,!0),x=this._getMinMaxDate(v,"min"),H=this._getMinMaxDate(v,"max"),f(v.settings,w),null!==x&&void 0!==w.dateFormat&&void 0===w.minDate&&(v.settings.minDate=this._formatDate(v,x)),null!==H&&void 0!==w.dateFormat&&void 0===w.maxDate&&(v.settings.maxDate=this._formatDate(v,H)),"disabled"in w&&(w.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(d(c),v),this._autoSize(v),this._setDate(v,z),this._updateAlternate(v),this._updateDatepicker(v)),void 0)},
_changeDatepicker:function(c,m,n){this._optionDatepicker(c,m,n)},_refreshDatepicker:function(c){(c=this._getInst(c))&&this._updateDatepicker(c)},_setDateDatepicker:function(c,m){(c=this._getInst(c))&&(this._setDate(c,m),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(c,m){c=this._getInst(c);return c&&!c.inline&&this._setDateFromField(c,m),c?this._getDate(c):null},_doKeyDown:function(c){var m,n,w,z=d.datepicker._getInst(c.target),x=!0,H=z.dpDiv.is(".ui-datepicker-rtl");
if(z._keyEvent=!0,d.datepicker._datepickerShowing)switch(c.keyCode){case 9:d.datepicker._hideDatepicker();x=!1;break;case 13:return w=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",z.dpDiv),w[0]&&d.datepicker._selectDay(c.target,z.selectedMonth,z.selectedYear,w[0]),m=d.datepicker._get(z,"onSelect"),m?(n=d.datepicker._formatDate(z),m.apply(z.input?z.input[0]:null,[n,z])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(c.target,
c.ctrlKey?-d.datepicker._get(z,"stepBigMonths"):-d.datepicker._get(z,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(c.target,c.ctrlKey?+d.datepicker._get(z,"stepBigMonths"):+d.datepicker._get(z,"stepMonths"),"M");break;case 35:(c.ctrlKey||c.metaKey)&&d.datepicker._clearDate(c.target);x=c.ctrlKey||c.metaKey;break;case 36:(c.ctrlKey||c.metaKey)&&d.datepicker._gotoToday(c.target);x=c.ctrlKey||c.metaKey;break;case 37:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,H?1:-1,"D");x=c.ctrlKey||
c.metaKey;c.originalEvent.altKey&&d.datepicker._adjustDate(c.target,c.ctrlKey?-d.datepicker._get(z,"stepBigMonths"):-d.datepicker._get(z,"stepMonths"),"M");break;case 38:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,-7,"D");x=c.ctrlKey||c.metaKey;break;case 39:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,H?-1:1,"D");x=c.ctrlKey||c.metaKey;c.originalEvent.altKey&&d.datepicker._adjustDate(c.target,c.ctrlKey?+d.datepicker._get(z,"stepBigMonths"):+d.datepicker._get(z,"stepMonths"),
"M");break;case 40:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,7,"D");x=c.ctrlKey||c.metaKey;break;default:x=!1}else 36===c.keyCode&&c.ctrlKey?d.datepicker._showDatepicker(this):x=!1;x&&(c.preventDefault(),c.stopPropagation())},_doKeyPress:function(c){var m,n,w=d.datepicker._getInst(c.target);return d.datepicker._get(w,"constrainInput")?(m=d.datepicker._possibleChars(d.datepicker._get(w,"dateFormat")),n=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||
" ">n||!m||-1<m.indexOf(n)):void 0},_doKeyUp:function(c){var m;c=d.datepicker._getInst(c.target);if(c.input.val()!==c.lastVal)try{(m=d.datepicker.parseDate(d.datepicker._get(c,"dateFormat"),c.input?c.input.val():null,d.datepicker._getFormatConfig(c)))&&(d.datepicker._setDateFromField(c),d.datepicker._updateAlternate(c),d.datepicker._updateDatepicker(c))}catch(n){}return!0},_showDatepicker:function(c){if(c=c.target||c,"input"!==c.nodeName.toLowerCase()&&(c=d("input",c.parentNode)[0]),!d.datepicker._isDisabledDatepicker(c)&&
d.datepicker._lastInput!==c){var m,n,w,z;var x=d.datepicker._getInst(c);d.datepicker._curInst&&d.datepicker._curInst!==x&&(d.datepicker._curInst.dpDiv.stop(!0,!0),x&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0]));var H=(H=d.datepicker._get(x,"beforeShow"))?H.apply(c,[c,x]):{};!1!==H&&(f(x.settings,H),x.lastVal=null,d.datepicker._lastInput=c,d.datepicker._setDateFromField(x),d.datepicker._inDialog&&(c.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(c),
d.datepicker._pos[1]+=c.offsetHeight),m=!1,d(c).parents().each(function(){return m|="fixed"===d(this).css("position"),!m}),n={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,x.dpDiv.empty(),x.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(x),n=d.datepicker._checkOffset(x,n,m),x.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":m?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),x.inline||(w=d.datepicker._get(x,
"showAnim"),z=d.datepicker._get(x,"duration"),x.dpDiv.css("z-index",L(d(c))+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects.effect[w]?x.dpDiv.show(w,d.datepicker._get(x,"showOptions"),z):x.dpDiv[w||"show"](w?z:null),d.datepicker._shouldFocusInput(x)&&x.input.trigger("focus"),d.datepicker._curInst=x))}},_updateDatepicker:function(c){this.maxRows=4;u=c;c.dpDiv.empty().append(this._generateHTML(c));this._attachHandlers(c);var m,n=this._getNumberOfMonths(c),w=n[1],z=c.dpDiv.find("."+this._dayOverClass+
" a");0<z.length&&h.apply(z.get(0));c.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<w&&c.dpDiv.addClass("ui-datepicker-multi-"+w).css("width",17*w+"em");c.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi");c.dpDiv[(this._get(c,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");c===d.datepicker._curInst&&d.datepicker._datepickerShowing&&d.datepicker._shouldFocusInput(c)&&c.input.trigger("focus");c.yearshtml&&(m=c.yearshtml,
setTimeout(function(){m===c.yearshtml&&c.yearshtml&&c.dpDiv.find("select.ui-datepicker-year:first").replaceWith(c.yearshtml);m=c.yearshtml=null},0))},_shouldFocusInput:function(c){return c.input&&c.input.is(":visible")&&!c.input.is(":disabled")&&!c.input.is(":focus")},_checkOffset:function(c,m,n){var w=c.dpDiv.outerWidth(),z=c.dpDiv.outerHeight(),x=c.input?c.input.outerWidth():0,H=c.input?c.input.outerHeight():0,v=document.documentElement.clientWidth+(n?0:d(document).scrollLeft()),I=document.documentElement.clientHeight+
(n?0:d(document).scrollTop());return m.left-=this._get(c,"isRTL")?w-x:0,m.left-=n&&m.left===c.input.offset().left?d(document).scrollLeft():0,m.top-=n&&m.top===c.input.offset().top+H?d(document).scrollTop():0,m.left-=Math.min(m.left,m.left+w>v&&v>w?Math.abs(m.left+w-v):0),m.top-=Math.min(m.top,m.top+z>I&&I>z?Math.abs(z+H):0),m},_findPos:function(c){var m,n=this._getInst(c);for(n=this._get(n,"isRTL");c&&("hidden"===c.type||1!==c.nodeType||d.expr.filters.hidden(c));)c=c[n?"previousSibling":"nextSibling"];
return m=d(c).offset(),[m.left,m.top]},_hideDatepicker:function(c){var m,n,w,z,x=this._curInst;!x||c&&x!==d.data(c,"datepicker")||this._datepickerShowing&&(m=this._get(x,"showAnim"),n=this._get(x,"duration"),w=function(){d.datepicker._tidyDialog(x)},d.effects&&(d.effects.effect[m]||d.effects[m])?x.dpDiv.hide(m,d.datepicker._get(x,"showOptions"),n,w):x.dpDiv["slideDown"===m?"slideUp":"fadeIn"===m?"fadeOut":"hide"](m?n:null,w),m||w(),this._datepickerShowing=!1,z=this._get(x,"onClose"),z&&z.apply(x.input?
x.input[0]:null,[x.input?x.input.val():"",x]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(c){c.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(c){if(d.datepicker._curInst){c=d(c.target);var m=d.datepicker._getInst(c[0]);(!(c[0].id===d.datepicker._mainDivId||0!==c.parents("#"+d.datepicker._mainDivId).length||
c.hasClass(d.datepicker.markerClassName)||c.closest("."+d.datepicker._triggerClass).length||!d.datepicker._datepickerShowing||d.datepicker._inDialog&&d.blockUI)||c.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!==m)&&d.datepicker._hideDatepicker()}},_adjustDate:function(c,m,n){c=d(c);var w=this._getInst(c[0]);this._isDisabledDatepicker(c[0])||(this._adjustInstDate(w,m+("M"===n?this._get(w,"showCurrentAtPos"):0),n),this._updateDatepicker(w))},_gotoToday:function(c){var m;c=d(c);var n=
this._getInst(c[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(m=new Date,n.selectedDay=m.getDate(),n.drawMonth=n.selectedMonth=m.getMonth(),n.drawYear=n.selectedYear=m.getFullYear());this._notifyChange(n);this._adjustDate(c)},_selectMonthYear:function(c,m,n){c=d(c);var w=this._getInst(c[0]);w["selected"+("M"===n?"Month":"Year")]=w["draw"+("M"===n?"Month":"Year")]=parseInt(m.options[m.selectedIndex].value,
10);this._notifyChange(w);this._adjustDate(c)},_selectDay:function(c,m,n,w){var z,x=d(c);d(w).hasClass(this._unselectableClass)||this._isDisabledDatepicker(x[0])||(z=this._getInst(x[0]),z.selectedDay=z.currentDay=d("a",w).html(),z.selectedMonth=z.currentMonth=m,z.selectedYear=z.currentYear=n,this._selectDate(c,this._formatDate(z,z.currentDay,z.currentMonth,z.currentYear)))},_clearDate:function(c){c=d(c);this._selectDate(c,"")},_selectDate:function(c,m){c=d(c);var n=this._getInst(c[0]);m=null!=m?m:
this._formatDate(n);n.input&&n.input.val(m);this._updateAlternate(n);(c=this._get(n,"onSelect"))?c.apply(n.input?n.input[0]:null,[m,n]):n.input&&n.input.trigger("change");n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(c){var m,n,w,z=this._get(c,"altField");z&&(m=this._get(c,"altFormat")||this._get(c,"dateFormat"),n=this._getDate(c),w=this.formatDate(m,n,this._getFormatConfig(c)),
d(z).val(w))},noWeekends:function(c){c=c.getDay();return[0<c&&6>c,""]},iso8601Week:function(c){var m;c=new Date(c.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),m=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((m-c)/864E5)/7)+1},parseDate:function(c,m,n){if(null==c||null==m)throw"Invalid arguments";if(m="object"==typeof m?""+m:m+"",""===m)return null;var w,z,x,H=0,v=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;v="string"!=typeof v?v:(new Date).getFullYear()%
100+parseInt(v,10);var I=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,D=(n?n.dayNames:null)||this._defaults.dayNames,J=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort;n=(n?n.monthNames:null)||this._defaults.monthNames;var O=-1,G=-1,T=-1,S=-1,R=!1,ba=function(ja){ja=c.length>w+1&&c.charAt(w+1)===ja;return ja&&w++,ja},ha=function(ja){var Ca=ba(ja);Ca="@"===ja?14:"!"===ja?20:"y"===ja&&Ca?4:"o"===ja?3:2;ja=RegExp("^\\d{"+("y"===ja?Ca:1)+","+Ca+"}");ja=m.substring(H).match(ja);if(!ja)throw"Missing number at position "+
H;return H+=ja[0].length,parseInt(ja[0],10)},ra=function(ja,Ca,Fa){var Ga=-1;ja=d.map(ba(ja)?Fa:Ca,function(Ra,Ia){return[[Ia,Ra]]}).sort(function(Ra,Ia){return-(Ra[1].length-Ia[1].length)});if(d.each(ja,function(Ra,Ia){Ra=Ia[1];return m.substr(H,Ra.length).toLowerCase()===Ra.toLowerCase()?(Ga=Ia[0],H+=Ra.length,!1):void 0}),-1!==Ga)return Ga+1;throw"Unknown name at position "+H;},Ka=function(){if(m.charAt(H)!==c.charAt(w))throw"Unexpected literal at position "+H;H++};for(w=0;c.length>w;w++)if(R)"'"!==
c.charAt(w)||ba("'")?Ka():R=!1;else switch(c.charAt(w)){case "d":T=ha("d");break;case "D":ra("D",I,D);break;case "o":S=ha("o");break;case "m":G=ha("m");break;case "M":G=ra("M",J,n);break;case "y":O=ha("y");break;case "@":var ma=new Date(ha("@"));O=ma.getFullYear();G=ma.getMonth()+1;T=ma.getDate();break;case "!":ma=new Date((ha("!")-this._ticksTo1970)/1E4);O=ma.getFullYear();G=ma.getMonth()+1;T=ma.getDate();break;case "'":ba("'")?Ka():R=!0;break;default:Ka()}if(m.length>H&&(x=m.substr(H),!/^\s+/.test(x)))throw"Extra/unparsed characters found in date: "+
x;if(-1===O?O=(new Date).getFullYear():100>O&&(O+=(new Date).getFullYear()-(new Date).getFullYear()%100+(v>=O?0:-100)),-1<S)for(G=1,T=S;!(z=this._getDaysInMonth(O,G-1),z>=T);)G++,T-=z;if(ma=this._daylightSavingAdjust(new Date(O,G-1,T)),ma.getFullYear()!==O||ma.getMonth()+1!==G||ma.getDate()!==T)throw"Invalid date";return ma},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",
TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*719162,formatDate:function(c,m,n){if(!m)return"";var w,z=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,x=(n?n.dayNames:null)||this._defaults.dayNames,H=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort;n=(n?n.monthNames:null)||this._defaults.monthNames;var v=function(G){G=c.length>w+1&&c.charAt(w+1)===G;return G&&w++,G},I=function(G,T,S){T=""+T;if(v(G))for(;S>T.length;)T="0"+T;return T},D=function(G,T,S,R){return v(G)?R[T]:S[T]},J=
"",O=!1;if(m)for(w=0;c.length>w;w++)if(O)"'"!==c.charAt(w)||v("'")?J+=c.charAt(w):O=!1;else switch(c.charAt(w)){case "d":J+=I("d",m.getDate(),2);break;case "D":J+=D("D",m.getDay(),z,x);break;case "o":J+=I("o",Math.round(((new Date(m.getFullYear(),m.getMonth(),m.getDate())).getTime()-(new Date(m.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":J+=I("m",m.getMonth()+1,2);break;case "M":J+=D("M",m.getMonth(),H,n);break;case "y":J+=v("y")?m.getFullYear():(10>m.getFullYear()%100?"0":"")+m.getFullYear()%
100;break;case "@":J+=m.getTime();break;case "!":J+=1E4*m.getTime()+this._ticksTo1970;break;case "'":v("'")?J+="'":O=!0;break;default:J+=c.charAt(w)}return J},_possibleChars:function(c){var m,n="",w=!1,z=function(x){x=c.length>m+1&&c.charAt(m+1)===x;return x&&m++,x};for(m=0;c.length>m;m++)if(w)"'"!==c.charAt(m)||z("'")?n+=c.charAt(m):w=!1;else switch(c.charAt(m)){case "d":case "m":case "y":case "@":n+="0123456789";break;case "D":case "M":return null;case "'":z("'")?n+="'":w=!0;break;default:n+=c.charAt(m)}return n},
_get:function(c,m){return void 0!==c.settings[m]?c.settings[m]:this._defaults[m]},_setDateFromField:function(c,m){if(c.input.val()!==c.lastVal){var n=this._get(c,"dateFormat"),w=c.lastVal=c.input?c.input.val():null,z=this._getDefaultDate(c),x=z,H=this._getFormatConfig(c);try{x=this.parseDate(n,w,H)||z}catch(v){w=m?"":w}c.selectedDay=x.getDate();c.drawMonth=c.selectedMonth=x.getMonth();c.drawYear=c.selectedYear=x.getFullYear();c.currentDay=w?x.getDate():0;c.currentMonth=w?x.getMonth():0;c.currentYear=
w?x.getFullYear():0;this._adjustInstDate(c)}},_getDefaultDate:function(c){return this._restrictMinMax(c,this._determineDate(c,this._get(c,"defaultDate"),new Date))},_determineDate:function(c,m,n){var w=function(x){var H=new Date;return H.setDate(H.getDate()+x),H},z=function(x){try{return d.datepicker.parseDate(d.datepicker._get(c,"dateFormat"),x,d.datepicker._getFormatConfig(c))}catch(O){}var H=(x.toLowerCase().match(/^c/)?d.datepicker._getDate(c):null)||new Date,v=H.getFullYear(),I=H.getMonth();
H=H.getDate();for(var D=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,J=D.exec(x);J;){switch(J[2]||"d"){case "d":case "D":H+=parseInt(J[1],10);break;case "w":case "W":H+=7*parseInt(J[1],10);break;case "m":case "M":I+=parseInt(J[1],10);H=Math.min(H,d.datepicker._getDaysInMonth(v,I));break;case "y":case "Y":v+=parseInt(J[1],10),H=Math.min(H,d.datepicker._getDaysInMonth(v,I))}J=D.exec(x)}return new Date(v,I,H)};m=null==m||""===m?n:"string"==typeof m?z(m):"number"==typeof m?isNaN(m)?n:w(m):new Date(m.getTime());
return m=m&&"Invalid Date"==""+m?n:m,m&&(m.setHours(0),m.setMinutes(0),m.setSeconds(0),m.setMilliseconds(0)),this._daylightSavingAdjust(m)},_daylightSavingAdjust:function(c){return c?(c.setHours(12<c.getHours()?c.getHours()+2:0),c):null},_setDate:function(c,m,n){var w=!m,z=c.selectedMonth,x=c.selectedYear;m=this._restrictMinMax(c,this._determineDate(c,m,new Date));c.selectedDay=c.currentDay=m.getDate();c.drawMonth=c.selectedMonth=c.currentMonth=m.getMonth();c.drawYear=c.selectedYear=c.currentYear=
m.getFullYear();z===c.selectedMonth&&x===c.selectedYear||n||this._notifyChange(c);this._adjustInstDate(c);c.input&&c.input.val(w?"":this._formatDate(c))},_getDate:function(c){return!c.currentYear||c.input&&""===c.input.val()?null:this._daylightSavingAdjust(new Date(c.currentYear,c.currentMonth,c.currentDay))},_attachHandlers:function(c){var m=this._get(c,"stepMonths"),n="#"+c.id.replace(/\\\\/g,"\\");c.dpDiv.find("[data-handler]").map(function(){d(this).on(this.getAttribute("data-event"),{prev:function(){d.datepicker._adjustDate(n,
-m,"M")},next:function(){d.datepicker._adjustDate(n,+m,"M")},hide:function(){d.datepicker._hideDatepicker()},today:function(){d.datepicker._gotoToday(n)},selectDay:function(){return d.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return d.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return d.datepicker._selectMonthYear(n,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(c){var m,
n,w,z,x,H,v,I=new Date;I=this._daylightSavingAdjust(new Date(I.getFullYear(),I.getMonth(),I.getDate()));var D=this._get(c,"isRTL");var J=this._get(c,"showButtonPanel");var O=this._get(c,"hideIfNoPrevNext");var G=this._get(c,"navigationAsDateFormat");var T=this._getNumberOfMonths(c),S=this._get(c,"showCurrentAtPos");var R=this._get(c,"stepMonths");var ba=1!==T[0]||1!==T[1],ha=this._daylightSavingAdjust(c.currentDay?new Date(c.currentYear,c.currentMonth,c.currentDay):new Date(9999,9,9)),ra=this._getMinMaxDate(c,
"min"),Ka=this._getMinMaxDate(c,"max");S=c.drawMonth-S;var ma=c.drawYear;if(0>S&&(S+=12,ma--),Ka){var ja=this._daylightSavingAdjust(new Date(Ka.getFullYear(),Ka.getMonth()-T[0]*T[1]+1,Ka.getDate()));for(ja=ra&&ra>ja?ra:ja;this._daylightSavingAdjust(new Date(ma,S,1))>ja;)S--,0>S&&(S=11,ma--)}c.drawMonth=S;c.drawYear=ma;ja=this._get(c,"prevText");ja=G?this.formatDate(ja,this._daylightSavingAdjust(new Date(ma,S-R,1)),this._getFormatConfig(c)):ja;ja=this._canAdjustMonth(c,-1,ma,S)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+
ja+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"e":"w")+"'>"+ja+"</span></a>":O?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+ja+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"e":"w")+"'>"+ja+"</span></a>";var Ca=this._get(c,"nextText");Ca=G?this.formatDate(Ca,this._daylightSavingAdjust(new Date(ma,S+R,1)),this._getFormatConfig(c)):Ca;O=this._canAdjustMonth(c,1,ma,S)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+
Ca+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"w":"e")+"'>"+Ca+"</span></a>":O?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+Ca+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"w":"e")+"'>"+Ca+"</span></a>";R=this._get(c,"currentText");Ca=this._get(c,"gotoCurrent")&&c.currentDay?ha:I;R=G?this.formatDate(R,Ca,this._getFormatConfig(c)):R;G=c.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(c,"closeText")+"</button>";J=J?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(D?G:"")+(this._isInRange(c,Ca)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+R+"</button>":"")+(D?"":G)+"</div>":"";G=parseInt(this._get(c,"firstDay"),10);G=isNaN(G)?0:G;R=this._get(c,"showWeek");Ca=this._get(c,"dayNames");var Fa=this._get(c,"dayNamesMin");var Ga=this._get(c,"monthNames");var Ra=this._get(c,
"monthNamesShort");var Ia=this._get(c,"beforeShowDay");var va=this._get(c,"showOtherMonths");var Ta=this._get(c,"selectOtherMonths");var Da=this._getDefaultDate(c);var ua="";for(n=0;T[0]>n;n++){var La="";this.maxRows=4;for(w=0;T[1]>w;w++){if(z=this._daylightSavingAdjust(new Date(ma,S,c.selectedDay)),m=" ui-corner-all",x="",ba){if(x+="<div class='ui-datepicker-group",1<T[1])switch(w){case 0:x+=" ui-datepicker-group-first";m=" ui-corner-"+(D?"right":"left");break;case T[1]-1:x+=" ui-datepicker-group-last";
m=" ui-corner-"+(D?"left":"right");break;default:x+=" ui-datepicker-group-middle",m=""}x+="'>"}x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+m+"'>"+(/all|left/.test(m)&&0===n?D?O:ja:"")+(/all|right/.test(m)&&0===n?D?ja:O:"")+this._generateMonthYearHeader(c,S,ma,ra,Ka,0<n||0<w,Ga,Ra)+"</div><table class='ui-datepicker-calendar'><thead><tr>";var Qa=R?"<th class='ui-datepicker-week-col'>"+this._get(c,"weekHeader")+"</th>":"";for(m=0;7>m;m++){var Pa=(m+G)%7;Qa+="<th scope='col'"+
(5<=(m+G+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+Ca[Pa]+"'>"+Fa[Pa]+"</span></th>"}x+=Qa+"</tr></thead><tbody>";Qa=this._getDaysInMonth(ma,S);ma===c.selectedYear&&S===c.selectedMonth&&(c.selectedDay=Math.min(c.selectedDay,Qa));m=(this._getFirstDayOfMonth(ma,S)-G+7)%7;Qa=Math.ceil((m+Qa)/7);this.maxRows=Qa=ba?this.maxRows>Qa?this.maxRows:Qa:Qa;Pa=this._daylightSavingAdjust(new Date(ma,S,1-m));for(H=0;Qa>H;H++){x+="<tr>";var cb=R?"<td class='ui-datepicker-week-col'>"+this._get(c,
"calculateWeek")(Pa)+"</td>":"";for(m=0;7>m;m++){var rb=Ia?Ia.apply(c.input?c.input[0]:null,[Pa]):[!0,""];var Va=(v=Pa.getMonth()!==S)&&!Ta||!rb[0]||ra&&ra>Pa||Ka&&Pa>Ka;cb+="<td class='"+(5<=(m+G+6)%7?" ui-datepicker-week-end":"")+(v?" ui-datepicker-other-month":"")+(Pa.getTime()===z.getTime()&&S===c.selectedMonth&&c._keyEvent||Da.getTime()===Pa.getTime()&&Da.getTime()===z.getTime()?" "+this._dayOverClass:"")+(Va?" "+this._unselectableClass+" ui-state-disabled":"")+(v&&!va?"":" "+rb[1]+(Pa.getTime()===
ha.getTime()?" "+this._currentClass:"")+(Pa.getTime()===I.getTime()?" ui-datepicker-today":""))+"'"+(v&&!va||!rb[2]?"":" title='"+rb[2].replace(/'/g,"&#39;")+"'")+(Va?"":" data-handler='selectDay' data-event='click' data-month='"+Pa.getMonth()+"' data-year='"+Pa.getFullYear()+"'")+">"+(v&&!va?"&#xa0;":Va?"<span class='ui-state-default'>"+Pa.getDate()+"</span>":"<a class='ui-state-default"+(Pa.getTime()===I.getTime()?" ui-state-highlight":"")+(Pa.getTime()===ha.getTime()?" ui-state-active":"")+(v?
" ui-priority-secondary":"")+"' href='#'>"+Pa.getDate()+"</a>")+"</td>";Pa.setDate(Pa.getDate()+1);Pa=this._daylightSavingAdjust(Pa)}x+=cb+"</tr>"}S++;11<S&&(S=0,ma++);x+="</tbody></table>"+(ba?"</div>"+(0<T[0]&&w===T[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");La+=x}ua+=La}return ua+=J,c._keyEvent=!1,ua},_generateMonthYearHeader:function(c,m,n,w,z,x,H,v){var I,D=this._get(c,"changeMonth"),J=this._get(c,"changeYear"),O=this._get(c,"showMonthAfterYear"),G="<div class='ui-datepicker-title'>",
T="";if(x||!D)T+="<span class='ui-datepicker-month'>"+H[m]+"</span>";else{H=w&&w.getFullYear()===n;var S=z&&z.getFullYear()===n;T+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(I=0;12>I;I++)(!H||I>=w.getMonth())&&(!S||z.getMonth()>=I)&&(T+="<option value='"+I+"'"+(I===m?" selected='selected'":"")+">"+v[I]+"</option>");T+="</select>"}if(O||(G+=T+(!x&&D&&J?"":"&#xa0;")),!c.yearshtml)if(c.yearshtml="",x||!J)G+="<span class='ui-datepicker-year'>"+n+"</span>";
else{v=this._get(c,"yearRange").split(":");var R=(new Date).getFullYear();H=function(ba){ba=ba.match(/c[+\-].*/)?n+parseInt(ba.substring(1),10):ba.match(/[+\-].*/)?R+parseInt(ba,10):parseInt(ba,10);return isNaN(ba)?R:ba};m=H(v[0]);v=Math.max(m,H(v[1]||""));m=w?Math.max(m,w.getFullYear()):m;v=z?Math.min(v,z.getFullYear()):v;for(c.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";v>=m;m++)c.yearshtml+="<option value='"+m+"'"+(m===n?" selected='selected'":
"")+">"+m+"</option>";c.yearshtml+="</select>";G+=c.yearshtml;c.yearshtml=null}return G+=this._get(c,"yearSuffix"),O&&(G+=(!x&&D&&J?"":"&#xa0;")+T),G+="</div>"},_adjustInstDate:function(c,m,n){var w=c.selectedYear+("Y"===n?m:0),z=c.selectedMonth+("M"===n?m:0);m=Math.min(c.selectedDay,this._getDaysInMonth(w,z))+("D"===n?m:0);w=this._restrictMinMax(c,this._daylightSavingAdjust(new Date(w,z,m)));c.selectedDay=w.getDate();c.drawMonth=c.selectedMonth=w.getMonth();c.drawYear=c.selectedYear=w.getFullYear();
"M"!==n&&"Y"!==n||this._notifyChange(c)},_restrictMinMax:function(c,m){var n=this._getMinMaxDate(c,"min");c=this._getMinMaxDate(c,"max");m=n&&n>m?n:m;return c&&m>c?c:m},_notifyChange:function(c){var m=this._get(c,"onChangeMonthYear");m&&m.apply(c.input?c.input[0]:null,[c.selectedYear,c.selectedMonth+1,c])},_getNumberOfMonths:function(c){c=this._get(c,"numberOfMonths");return null==c?[1,1]:"number"==typeof c?[1,c]:c},_getMinMaxDate:function(c,m){return this._determineDate(c,this._get(c,m+"Date"),null)},
_getDaysInMonth:function(c,m){return 32-this._daylightSavingAdjust(new Date(c,m,32)).getDate()},_getFirstDayOfMonth:function(c,m){return(new Date(c,m,1)).getDay()},_canAdjustMonth:function(c,m,n,w){var z=this._getNumberOfMonths(c);n=this._daylightSavingAdjust(new Date(n,w+(0>m?m:z[0]*z[1]),1));return 0>m&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(c,n)},_isInRange:function(c,m){var n,w,z=this._getMinMaxDate(c,"min"),x=this._getMinMaxDate(c,"max"),H=null,v=null;c=
this._get(c,"yearRange");return c&&(n=c.split(":"),w=(new Date).getFullYear(),H=parseInt(n[0],10),v=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(H+=w),n[1].match(/[+\-].*/)&&(v+=w)),(!z||m.getTime()>=z.getTime())&&(!x||m.getTime()<=x.getTime())&&(!H||m.getFullYear()>=H)&&(!v||v>=m.getFullYear())},_getFormatConfig:function(c){var m=this._get(c,"shortYearCutoff");return m="string"!=typeof m?m:(new Date).getFullYear()%100+parseInt(m,10),{shortYearCutoff:m,dayNamesShort:this._get(c,"dayNamesShort"),dayNames:this._get(c,
"dayNames"),monthNamesShort:this._get(c,"monthNamesShort"),monthNames:this._get(c,"monthNames")}},_formatDate:function(c,m,n,w){m||(c.currentDay=c.selectedDay,c.currentMonth=c.selectedMonth,c.currentYear=c.selectedYear);m=m?"object"==typeof m?m:this._daylightSavingAdjust(new Date(w,n,m)):this._daylightSavingAdjust(new Date(c.currentYear,c.currentMonth,c.currentDay));return this.formatDate(this._get(c,"dateFormat"),m,this._getFormatConfig(c))}});d.fn.datepicker=function(c){if(!this.length)return this;
d.datepicker.initialized||(d(document).on("mousedown",d.datepicker._checkExternalClick),d.datepicker.initialized=!0);0===d("#"+d.datepicker._mainDivId).length&&d("body").append(d.datepicker.dpDiv);var m=Array.prototype.slice.call(arguments,1);return"string"!=typeof c||"isDisabled"!==c&&"getDate"!==c&&"widget"!==c?"option"===c&&2===arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+c+"Datepicker"].apply(d.datepicker,[this[0]].concat(m)):this.each(function(){"string"==typeof c?d.datepicker["_"+
c+"Datepicker"].apply(d.datepicker,[this].concat(m)):d.datepicker._attachDatepicker(this,c)}):d.datepicker["_"+c+"Datepicker"].apply(d.datepicker,[this[0]].concat(m))};d.datepicker=new X;d.datepicker.initialized=!1;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.12.1";d.datepicker;d.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var c=d(this).attr("title")||"";return d("<a>").text(c).html()},hide:!0,items:"[title]:not([disabled])",
position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(c,m){var n=(c.attr("aria-describedby")||"").split(/\s+/);n.push(m);c.data("ui-tooltip-id",m).attr("aria-describedby",d.trim(n.join(" ")))},_removeDescribedBy:function(c){var m=c.data("ui-tooltip-id"),n=(c.attr("aria-describedby")||"").split(/\s+/);m=d.inArray(m,n);-1!==m&&n.splice(m,1);c.removeData("ui-tooltip-id");(n=d.trim(n.join(" ")))?c.attr("aria-describedby",
n):c.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=d("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=d([])},_setOption:function(c,m){var n=this;this._super(c,m);"content"===c&&d.each(this.tooltips,function(w,z){n._updateContent(z.element)})},_setOptionDisabled:function(c){this[c?
"_disable":"_enable"]()},_disable:function(){var c=this;d.each(this.tooltips,function(m,n){m=d.Event("blur");m.target=m.currentTarget=n.element[0];c.close(m,!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var m=d(this);return m.is("[title]")?m.data("ui-tooltip-title",m.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var c=d(this);c.data("ui-tooltip-title")&&c.attr("title",c.data("ui-tooltip-title"))});
this.disabledTitles=d([])},open:function(c){var m=this,n=d(c?c.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),c&&"mouseover"===c.type&&n.parents().each(function(){var w,z=d(this);z.data("ui-tooltip-open")&&(w=d.Event("blur"),w.target=w.currentTarget=this,m.close(w,!0));z.attr("title")&&(z.uniqueId(),m.parents[this.id]={element:this,title:z.attr("title")},z.attr("title",""))}),
this._registerCloseHandlers(c,n),this._updateContent(n,c))},_updateContent:function(c,m){var n,w=this.options.content,z=this,x=m?m.type:null;return"string"==typeof w||w.nodeType||w.jquery?this._open(m,c,w):(n=w.call(c[0],function(H){z._delay(function(){c.data("ui-tooltip-open")&&(m&&(m.type=x),this._open(m,c,H))})}),n&&this._open(m,c,n),void 0)},_open:function(c,m,n){function w(I){H.of=I;v.is(":hidden")||v.position(H)}var z,x,H=d.extend({},this.options.position);if(n){if(z=this._find(m))return z.tooltip.find(".ui-tooltip-content").html(n),
void 0;m.is("[title]")&&(c&&"mouseover"===c.type?m.attr("title",""):m.removeAttr("title"));z=this._tooltip(m);var v=z.tooltip;this._addDescribedBy(m,v.attr("id"));v.find(".ui-tooltip-content").html(n);this.liveRegion.children().hide();n=d("<div>").html(v.find(".ui-tooltip-content").html());n.removeAttr("name").find("[name]").removeAttr("name");n.removeAttr("id").find("[id]").removeAttr("id");n.appendTo(this.liveRegion);this.options.track&&c&&/^mouse/.test(c.type)?(this._on(this.document,{mousemove:w}),
w(c)):v.position(d.extend({of:m},this.options.position));v.hide();this._show(v,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(x=this.delayedShow=setInterval(function(){v.is(":visible")&&(w(H.of),clearInterval(x))},d.fx.interval));this._trigger("open",c,{tooltip:v})}},_registerCloseHandlers:function(c,m){var n={keyup:function(w){w.keyCode===d.ui.keyCode.ESCAPE&&(w=d.Event(w),w.currentTarget=m[0],this.close(w,!0))}};m[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(m).tooltip)});
c&&"mouseover"!==c.type||(n.mouseleave="close");c&&"focusin"!==c.type||(n.focusout="close");this._on(!0,m,n)},close:function(c){var m,n=this,w=d(c?c.currentTarget:this.element),z=this._find(w);return z?(m=z.tooltip,z.closing||(clearInterval(this.delayedShow),w.data("ui-tooltip-title")&&!w.attr("title")&&w.attr("title",w.data("ui-tooltip-title")),this._removeDescribedBy(w),z.hiding=!0,m.stop(!0),this._hide(m,this.options.hide,function(){n._removeTooltip(d(this))}),w.removeData("ui-tooltip-open"),this._off(w,
"mouseleave focusout keyup"),w[0]!==this.element[0]&&this._off(w,"remove"),this._off(this.document,"mousemove"),c&&"mouseleave"===c.type&&d.each(this.parents,function(x,H){d(H.element).attr("title",H.title);delete n.parents[x]}),z.closing=!0,this._trigger("close",c,{tooltip:m}),z.hiding||(z.closing=!1)),void 0):(w.removeData("ui-tooltip-open"),void 0)},_tooltip:function(c){var m=d("<div>").attr("role","tooltip"),n=d("<div>").appendTo(m),w=m.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),
this._addClass(m,"ui-tooltip","ui-widget ui-widget-content"),m.appendTo(this._appendTo(c)),this.tooltips[w]={element:c,tooltip:m}},_find:function(c){return(c=c.data("ui-tooltip-id"))?this.tooltips[c]:null},_removeTooltip:function(c){c.remove();delete this.tooltips[c.attr("id")]},_appendTo:function(c){c=c.closest(".ui-front, dialog");return c.length||(c=this.document[0].body),c},_destroy:function(){var c=this;d.each(this.tooltips,function(m,n){var w=d.Event("blur");n=n.element;w.target=w.currentTarget=
n[0];c.close(w,!0);d("#"+m).remove();n.data("ui-tooltip-title")&&(n.attr("title")||n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});!1!==d.uiBackCompat&&d.widget("ui.tooltip",d.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var c=this._superApply(arguments);return this.options.tooltipClass&&c.tooltip.addClass(this.options.tooltipClass),c}});d.ui.tooltip});(function(d){d.widget("ui.progressbar",{options:{value:0},_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this._valueMin(),"aria-valuemax":this._valueMax(),"aria-valuenow":this._value()});this.valueDiv=d("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();d.Widget.prototype.destroy.apply(this,arguments)},value:function(L){if(void 0===L)return this._value();this._setOption("value",L);return this},_setOption:function(L,X){switch(L){case "value":this.options.value=X,this._refreshValue(),this._trigger("change")}d.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var L=this.options.value;"number"!==typeof L&&(L=0);L<this._valueMin()&&(L=this._valueMin());L>this._valueMax()&&(L=this._valueMax());return L},_valueMin:function(){return 0},
_valueMax:function(){return 100},_refreshValue:function(){var L=this.value();this.valueDiv[L===this._valueMax()?"addClass":"removeClass"]("ui-corner-right").width(L+"%");this.element.attr("aria-valuenow",L)}});d.extend(d.ui.progressbar,{version:"1.8.2"})})(jQuery);(function(d,L){d.store=function(X,a){var h=this;if("string"==typeof X)if(d.store.drivers[X])this.driver=d.store.drivers[X];else throw Error("Unknown driver "+X);else if("object"==typeof X){if(!(d.isFunction(X.init)&&d.isFunction(X.get)&&d.isFunction(X.set)&&d.isFunction(X.del)&&d.isFunction(X.flush)))throw Error("The specified driver does not fulfill the API requirements");this.driver=X}else d.each(d.store.drivers,function(){if(!d.isFunction(this.available)||!this.available())return!0;h.driver=this;
return!1===h.driver.init()?(h.driver=null,!0):!1});a||(a=d.store.serializers);this.serializers={};d.each(a,function(f,g){if(!d.isFunction(this.init))return!0;h.serializers[f]=this;h.serializers[f].init(h.encoders,h.decoders)})};d.extend(d.store.prototype,{get:function(X){X=this.driver.get(X);return this.driver.encodes?X:this.unserialize(X)},set:function(X,a){this.driver.set(X,this.driver.encodes?a:this.serialize(a))},del:function(X){this.driver.del(X)},flush:function(){this.driver.flush()},driver:L,
encoders:[],decoders:[],serialize:function(X){var a=this;d.each(this.encoders,function(){var h=a.serializers[this+""];if(!h||!h.encode)return!0;try{X=h.encode(X)}catch(f){}});return X},unserialize:function(X){var a=this;if(!X)return X;d.each(this.decoders,function(){var h=a.serializers[this+""];if(!h||!h.decode)return!0;X=h.decode(X)});return X}});d.store.drivers={localStorage:{ident:"$.store.drivers.localStorage",scope:"browser",available:function(){try{return!!window.localStorage}catch(X){return!1}},
init:d.noop,get:function(X){return window.localStorage.getItem(X)},set:function(X,a){window.localStorage.setItem(X,a)},del:function(X){window.localStorage.removeItem(X)},flush:function(){window.localStorage.clear()}},userData:{ident:"$.store.drivers.userData",element:null,nodeName:"userdatadriver",scope:"browser",initialized:!1,available:function(){try{return!(!document.documentElement||!document.documentElement.addBehavior)}catch(X){return!1}},init:function(){if(!this.initialized)try{this.element=
document.createElement(this.nodeName),document.documentElement.insertBefore(this.element,document.getElementsByTagName("title")[0]),this.element.addBehavior("#default#userData"),this.initialized=!0}catch(X){return!1}},get:function(X){this.element.load(this.nodeName);return this.element.getAttribute(X)},set:function(X,a){this.element.setAttribute(X,a);this.element.save(this.nodeName)},del:function(X){this.element.removeAttribute(X);this.element.save(this.nodeName)},flush:function(){this.element.expires=
(new Date).toUTCString();this.element.save(this.nodeName)}},windowName:{ident:"$.store.drivers.windowName",scope:"window",cache:{},encodes:!0,available:function(){return!0},init:function(){this.load()},save:function(){window.name=d.store.serializers.json.encode(this.cache)},load:function(){try{this.cache=d.store.serializers.json.decode(window.name+""),"object"!=typeof this.cache&&(this.cache={})}catch(X){this.cache={},window.name="{}"}},get:function(X){return this.cache[X]},set:function(X,a){this.cache[X]=
a;this.save()},del:function(X){try{delete this.cache[X]}catch(a){this.cache[X]=L}this.save()},flush:function(){window.name="{}"}}};d.store.serializers={json:{ident:"$.store.serializers.json",init:function(X,a){X.push("json");a.push("json")},encode:"object"==typeof JSON?JSON.stringify:d.JSON.stringify,decode:"object"==typeof JSON?JSON.parse:d.JSON.parse},xml:{ident:"$.store.serializers.xml",init:function(X,a){X.unshift("xml");a.push("xml")},isXML:function(X){return(X=(X?X.ownerDocument||X:0).documentElement)?
"html"!==X.nodeName.toLowerCase():!1},encode:function(X){if(!X||X._serialized||!this.isXML(X))return X;var a={_serialized:this.ident,value:X};try{return a.value=(new XMLSerializer).serializeToString(X),a}catch(h){try{return a.value=X.xml,a}catch(f){}}return X},decode:function(X){if(!X||!X._serialized||X._serialized!=this.ident)return X;var a="DOMParser"in window&&(new DOMParser).parseFromString;!a&&window.ActiveXObject&&(a=function(h){var f=new ActiveXObject("Microsoft.XMLDOM");f.async="false";f.loadXML(h);
return f});if(!a)return L;X.value=a.call("DOMParser"in window&&new DOMParser||window,X.value,"text/xml");return this.isXML(X.value)?X.value:L}}}})(jQuery);(function(d){d.fn.farbtastic=function(L){d.farbtastic(this,L);return this};d.farbtastic=function(L,X){L=d(L).get(0);return L.farbtastic||(L.farbtastic=new d._farbtastic(L,X))};d._farbtastic=function(L,X){var a=this;d(L).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var h=d(".farbtastic",L);a.wheel=d(".wheel",L).get(0);a.radius=84;a.square=100;a.width=194;navigator.appVersion.match(/MSIE [0-6]\./)&&
d("*",h).each(function(){if("none"!=this.currentStyle.backgroundImage){var f=this.currentStyle.backgroundImage;f=this.currentStyle.backgroundImage.substring(5,f.length-2);d(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+f+"')"})}});a.linkTo=function(f){"object"==typeof a.callback&&d(a.callback).unbind("keyup",a.updateValue);a.color=null;if("function"==typeof f)a.callback=f;else if("object"==typeof f||"string"==typeof f)a.callback=
d(f),a.callback.bind("keyup",a.updateValue),a.callback.get(0).value&&a.setColor(a.callback.get(0).value);return this};a.updateValue=function(){this.value&&this.value!=a.color&&a.setColor(this.value)};a.setColor=function(f){var g=a.unpack(f);a.color!=f&&g&&(a.color=f,a.rgb=g,a.hsl=a.RGBToHSL(a.rgb),a.updateDisplay());return this};a.setHSL=function(f){a.hsl=f;a.rgb=a.HSLToRGB(f);a.color=a.pack(a.rgb);a.updateDisplay();return this};a.widgetCoords=function(f){var g=d(a.wheel).offset();return{x:f.pageX-
g.left-a.width/2,y:f.pageY-g.top-a.width/2}};a.mousedown=function(f){document.dragging||(d(document).bind("mousemove",a.mousemove).bind("mouseup",a.mouseup),document.dragging=!0);var g=a.widgetCoords(f);a.circleDrag=2*Math.max(Math.abs(g.x),Math.abs(g.y))>a.square;a.mousemove(f);return!1};a.mousemove=function(f){f=a.widgetCoords(f);a.circleDrag?(f=Math.atan2(f.x,-f.y)/6.28,0>f&&(f+=1),a.setHSL([f,a.hsl[1],a.hsl[2]])):a.setHSL([a.hsl[0],Math.max(0,Math.min(1,-(f.x/a.square)+.5)),Math.max(0,Math.min(1,
-(f.y/a.square)+.5))]);return!1};a.mouseup=function(){d(document).unbind("mousemove",a.mousemove);d(document).unbind("mouseup",a.mouseup);document.dragging=!1};a.updateDisplay=function(){var f=6.28*a.hsl[0];d(".h-marker",h).css({left:Math.round(Math.sin(f)*a.radius+a.width/2)+"px",top:Math.round(-Math.cos(f)*a.radius+a.width/2)+"px"});d(".sl-marker",h).css({left:Math.round(a.square*(.5-a.hsl[1])+a.width/2)+"px",top:Math.round(a.square*(.5-a.hsl[2])+a.width/2)+"px"});d(".color",h).css("backgroundColor",
a.pack(a.HSLToRGB([a.hsl[0],1,.5])));"object"==typeof a.callback?(d(a.callback).css({backgroundColor:a.color,color:.5<a.hsl[2]?"#000":"#fff"}),d(a.callback).each(function(){this.value&&this.value!=a.color&&(this.value=a.color)})):"function"==typeof a.callback&&a.callback.call(a,a.color)};a.pack=function(f){var g=Math.round(255*f[0]),e=Math.round(255*f[1]);f=Math.round(255*f[2]);return"#"+(16>g?"0":"")+g.toString(16)+(16>e?"0":"")+e.toString(16)+(16>f?"0":"")+f.toString(16)};a.unpack=function(f){if(7==
f.length)return[parseInt("0x"+f.substring(1,3))/255,parseInt("0x"+f.substring(3,5))/255,parseInt("0x"+f.substring(5,7))/255];if(4==f.length)return[parseInt("0x"+f.substring(1,2))/15,parseInt("0x"+f.substring(2,3))/15,parseInt("0x"+f.substring(3,4))/15]};a.HSLToRGB=function(f){var g=f[0];var e=f[1];f=f[2];e=.5>=f?f*(e+1):f+e-f*e;f=2*f-e;return[this.hueToRGB(f,e,g+.33333),this.hueToRGB(f,e,g),this.hueToRGB(f,e,g-.33333)]};a.hueToRGB=function(f,g,e){e=0>e?e+1:1<e?e-1:e;return 1>6*e?f+(g-f)*e*6:1>2*e?
g:2>3*e?f+(g-f)*(.66666-e)*6:f};a.RGBToHSL=function(f){var g=f[0],e=f[1],k=f[2];var p=Math.min(g,Math.min(e,k));f=Math.max(g,Math.max(e,k));var u=f-p;var c=(p+f)/2;var m=0;0<c&&1>c&&(m=u/(.5>c?2*c:2-2*c));p=0;0<u&&(f==g&&f!=e&&(p+=(e-k)/u),f==e&&f!=k&&(p+=2+(k-g)/u),f==k&&f!=g&&(p+=4+(g-e)/u),p/=6);return[p,m,c]};d("*",h).mousedown(a.mousedown);a.setColor("#000000");X&&a.linkTo(X)}})(jQuery);/*
 jquery-timepicker v1.11.5 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 Copyright (c) 2016 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 License: MIT
*/
!function(d){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?d(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],d):d(jQuery)}(function(d){function L(G){G=G[0];return 0<G.offsetWidth&&0<G.offsetHeight}function X(G){if(G.minTime&&(G.minTime=I(G.minTime)),G.maxTime&&(G.maxTime=I(G.maxTime)),G.durationTime&&"function"!=typeof G.durationTime&&(G.durationTime=I(G.durationTime)),"now"==G.scrollDefault)G.scrollDefault=function(){return G.roundingFunction(I(new Date),
G)};else if(G.scrollDefault&&"function"!=typeof G.scrollDefault){var T=G.scrollDefault;G.scrollDefault=function(){return G.roundingFunction(I(T),G)}}else G.minTime&&(G.scrollDefault=function(){return G.roundingFunction(G.minTime,G)});if("string"===d.type(G.timeFormat)&&G.timeFormat.match(/[gh]/)&&(G._twelveHourTime=!0),!1===G.showOnFocus&&-1!=G.showOn.indexOf("focus")&&G.showOn.splice(G.showOn.indexOf("focus"),1),0<G.disableTimeRanges.length){for(var S in G.disableTimeRanges)G.disableTimeRanges[S]=
[I(G.disableTimeRanges[S][0]),I(G.disableTimeRanges[S][1])];G.disableTimeRanges=G.disableTimeRanges.sort(function(R,ba){return R[0]-ba[0]});for(S=G.disableTimeRanges.length-1;0<S;S--)G.disableTimeRanges[S][0]<=G.disableTimeRanges[S-1][1]&&(G.disableTimeRanges[S-1]=[Math.min(G.disableTimeRanges[S][0],G.disableTimeRanges[S-1][0]),Math.max(G.disableTimeRanges[S][1],G.disableTimeRanges[S-1][1])],G.disableTimeRanges.splice(S,1))}return G}function a(G){var T=G.data("timepicker-settings"),S=G.data("timepicker-list");
if(S&&S.length&&(S.remove(),G.data("timepicker-list",!1)),T.useSelect)var R=S=d("<select />",{"class":"ui-timepicker-select"});else S=d("<ul />",{"class":"ui-timepicker-list"}),R=d("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1}),R.css({display:"none",position:"absolute"}).append(S);if(T.noneOption)if(!0===T.noneOption&&(T.noneOption=T.useSelect?"Time...":"None"),d.isArray(T.noneOption))for(var ba in T.noneOption){if(parseInt(ba,10)==ba){var ha=h(T.noneOption[ba],T.useSelect);S.append(ha)}}else ha=
h(T.noneOption,T.useSelect),S.append(ha);(T.className&&R.addClass(T.className),null===T.minTime&&null===T.durationTime||!T.showDuration)||("function"==typeof T.step?"function":T.step,R.addClass("ui-timepicker-with-duration"),R.addClass("ui-timepicker-step-"+T.step));ha=T.minTime;"function"==typeof T.durationTime?ha=I(T.durationTime()):null!==T.durationTime&&(ha=T.durationTime);ba=null!==T.minTime?T.minTime:0;var ra=null!==T.maxTime?T.maxTime:ba+D-1;ba>ra&&(ra+=D);ra===D-1&&"string"===d.type(T.timeFormat)&&
T.show2400&&(ra=D);var Ka=T.disableTimeRanges,ma=0,ja=Ka.length,Ca=T.step;"function"!=typeof Ca&&(Ca=function(){return T.step});for(var Fa=0;ra>=ba;Fa++,ba+=60*Ca(Fa)){var Ga=ba,Ra=v(Ga,T);if(T.useSelect)var Ia=d("<option />",{value:Ra});else Ia=d("<li />"),Ia.addClass(43200>Ga%86400?"ui-timepicker-am":"ui-timepicker-pm"),Ia.data("time",86400>=Ga?Ga:Ga%86400);Ia.text(Ra);if((null!==T.minTime||null!==T.durationTime)&&T.showDuration)if(Ra=H(ba-ha,T.step),T.useSelect)Ia.text(Ia.text()+" ("+Ra+")");else{var va=
d("<span />",{"class":"ui-timepicker-duration"});va.text(" ("+Ra+")");Ia.append(va)}ja>ma&&(Ga>=Ka[ma][1]&&(ma+=1),Ka[ma]&&Ga>=Ka[ma][0]&&Ga<Ka[ma][1]&&(T.useSelect?Ia.prop("disabled",!0):Ia.addClass("ui-timepicker-disabled")));S.append(Ia)}(R.data("timepicker-input",G),G.data("timepicker-list",R),T.useSelect)?(G.val()&&S.val(f(I(G.val()),T)),S.on("focus",function(){d(this).data("timepicker-input").trigger("showTimepicker")}),S.on("blur",function(){d(this).data("timepicker-input").trigger("hideTimepicker")}),
S.on("change",function(){m(G,d(this).val(),"select")}),m(G,S.val(),"initial"),G.hide().after(S)):(ba=T.appendTo,"string"==typeof ba?ba=d(ba):"function"==typeof ba&&(ba=ba(G)),ba.append(R),p(G,S),S.on("mousedown click","li",function(Ta){G.off("focus.timepicker");G.on("focus.timepicker-ie-hack",function(){G.off("focus.timepicker-ie-hack");G.on("focus.timepicker",O.show)});e(G)||G[0].focus();S.find("li").removeClass("ui-timepicker-selected");d(this).addClass("ui-timepicker-selected");x(G)&&(G.trigger("hideTimepicker"),
S.on("mouseup.timepicker click.timepicker","li",function(Da){S.off("mouseup.timepicker click.timepicker");R.hide()}))}))}function h(G,T){var S,R,ba;return"object"==typeof G?(S=G.label,R=G.className,ba=G.value):"string"==typeof G?S=G:d.error("Invalid noneOption value"),T?d("<option />",{value:ba,"class":R,text:S}):d("<li />",{"class":R,text:S}).data("time",String(ba))}function f(G,T){return G=T.roundingFunction(G,T),null!==G?v(G,T):void 0}function g(G){G.target!=window&&(G=d(G.target),G.closest(".ui-timepicker-input").length||
G.closest(".ui-timepicker-wrapper").length||(O.hide(),d(document).unbind(".ui-timepicker"),d(window).unbind(".ui-timepicker")))}function e(G){G=G.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&G.disableTouchKeyboard}function k(G,T,S){if(!S&&0!==S)return!1;G=G.data("timepicker-settings");var R=!1;S=G.roundingFunction(S,G);return T.find("li").each(function(ba,ha){ba=d(ha);if("number"==typeof ba.data("time"))return ba.data("time")==S?(R=ba,!1):void 0}),
R}function p(G,T){T.find("li").removeClass("ui-timepicker-selected");var S=I(c(G),G.data("timepicker-settings"));null!==S&&(G=k(G,T,S))&&(S=G.offset().top-T.offset().top,(S+G.outerHeight()>T.outerHeight()||0>S)&&T.scrollTop(T.scrollTop()+G.position().top-G.outerHeight()),G.addClass("ui-timepicker-selected"))}function u(G,T){if(""!==this.value&&"timepicker"!=T){var S=d(this);if(!S.is(":focus")||G&&"change"==G.type){G=S.data("timepicker-settings");var R=I(this.value,G);if(null===R)return void S.trigger("timeFormatError");
var ba=!1;if(null!==G.minTime&&null!==G.maxTime&&(R<G.minTime||R>G.maxTime)&&(ba=!0),d.each(G.disableTimeRanges,function(){return R>=this[0]&&R<this[1]?(ba=!0,!1):void 0}),G.forceRoundTime){var ha=G.roundingFunction(R,G);ha!=R&&(R=ha,T=null)}G=v(R,G);ba?m(S,G,"error")&&S.trigger("timeRangeError"):m(S,G,T)}}}function c(G){return G.is("input")?G.val():G.data("ui-timepicker-value")}function m(G,T,S){if(G.is("input")){G.val(T);var R=G.data("timepicker-settings");R.useSelect&&"select"!=S&&"initial"!=S&&
G.data("timepicker-list").val(f(I(T),R))}return G.data("ui-timepicker-value")!=T?(G.data("ui-timepicker-value",T),"select"==S?G.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(S)&&G.trigger("changeTime"),!0):(G.trigger("selectTime"),!1)}function n(G){switch(G.keyCode){case 13:case 9:break;default:G.preventDefault()}}function w(G){var T=d(this),S=T.data("timepicker-list");if(!S||!L(S)){if(40!=G.keyCode)return!0;O.show.call(T.get(0));S=T.data("timepicker-list");
e(T)||T.focus()}switch(G.keyCode){case 13:return x(T)&&(u.call(T.get(0),{type:"change"}),O.hide.apply(this)),G.preventDefault(),!1;case 38:var R=S.find(".ui-timepicker-selected");return R.length?R.is(":first-child")||(R.removeClass("ui-timepicker-selected"),R.prev().addClass("ui-timepicker-selected"),R.prev().position().top<R.outerHeight()&&S.scrollTop(S.scrollTop()-R.outerHeight())):(S.find("li").each(function(ba,ha){return 0<d(ha).position().top?(R=d(ha),!1):void 0}),R.addClass("ui-timepicker-selected")),
!1;case 40:return R=S.find(".ui-timepicker-selected"),0===R.length?(S.find("li").each(function(ba,ha){return 0<d(ha).position().top?(R=d(ha),!1):void 0}),R.addClass("ui-timepicker-selected")):R.is(":last-child")||(R.removeClass("ui-timepicker-selected"),R.next().addClass("ui-timepicker-selected"),R.next().position().top+2*R.outerHeight()>S.outerHeight()&&S.scrollTop(S.scrollTop()+R.outerHeight())),!1;case 27:S.find("li").removeClass("ui-timepicker-selected");O.hide();break;case 9:O.hide();break;default:return!0}}
function z(G){var T=d(this),S=T.data("timepicker-list"),R=T.data("timepicker-settings");if(!S||!L(S)||R.disableTextInput)return!0;switch(G.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:R.typeaheadHighlight?p(T,S):S.hide()}}function x(G){var T=G.data("timepicker-settings"),S=null,R=G.data("timepicker-list").find(".ui-timepicker-selected");
return R.hasClass("ui-timepicker-disabled")?!1:(R.length&&(S=R.data("time")),null!==S&&("string"!=typeof S&&(S=v(S,T)),m(G,S,"select")),!0)}function H(G,T){G=Math.abs(G);var S,R;G=Math.round(G/60);var ba=[];return 60>G?ba=[G,J.mins]:(S=Math.floor(G/60),R=G%60,30==T&&30==R&&(S+=J.decimal+5),ba.push(S),ba.push(1==S?J.hr:J.hrs),30!=T&&R&&(ba.push(R),ba.push(J.mins))),ba.join(" ")}function v(G,T){if("number"!=typeof G)return null;var S=parseInt(G%60),R=parseInt(G/60%60),ba=parseInt(G/3600%24);ba=new Date(1970,
0,2,ba,R,S,0);if(isNaN(ba.getTime()))return null;if("function"===d.type(T.timeFormat))return T.timeFormat(ba);for(var ha="",ra=0;ra<T.timeFormat.length;ra++)switch(S=T.timeFormat.charAt(ra)){case "a":ha+=11<ba.getHours()?J.pm:J.am;break;case "A":ha+=11<ba.getHours()?J.PM:J.AM;break;case "g":S=ba.getHours()%12;ha+=0===S?"12":S;break;case "G":S=ba.getHours();G===D&&(S=T.show2400?24:0);ha+=S;break;case "h":S=ba.getHours()%12;0!==S&&10>S&&(S="0"+S);ha+=0===S?"12":S;break;case "H":S=ba.getHours();G===
D&&(S=T.show2400?24:0);ha+=9<S?S:"0"+S;break;case "i":R=ba.getMinutes();ha+=9<R?R:"0"+R;break;case "s":S=ba.getSeconds();ha+=9<S?S:"0"+S;break;case "\\":ra++;ha+=T.timeFormat.charAt(ra);break;default:ha+=S}return ha}function I(G,T){if(""===G||null===G)return null;if("object"==typeof G)return 3600*G.getHours()+60*G.getMinutes()+G.getSeconds();if("string"!=typeof G)return G;G=G.toLowerCase().replace(/[\s\.]/g,"");"a"!=G.slice(-1)&&"p"!=G.slice(-1)||(G+="m");var S="("+J.am.replace(".","")+"|"+J.pm.replace(".",
"")+"|"+J.AM.replace(".","")+"|"+J.PM.replace(".","")+")?",R=G.match(new RegExp("^"+S+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+S+"$"));if(!R)return null;G=parseInt(1*R[2],10);if(24<G){if(T&&!1===T.wrapHours)return null;G%=24}S=R[1]||R[5];var ba=G;12>=G&&S&&(ba=S==J.pm||S==J.PM,ba=12==G?ba?12:0:G+(ba?12:0));R=3600*ba+60*(1*R[3]||0)+(1*R[4]||0);12>G&&!S&&T&&T._twelveHourTime&&T.scrollDefault&&(T=R-T.scrollDefault(),0>T&&T>=D/-2&&(R=(R+D/2)%D));return R}var D=86400,J={am:"am",pm:"pm",AM:"AM",
PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},O={init:function(G){return this.each(function(){var T=d(this),S=[],R;for(R in d.fn.timepicker.defaults)T.data(R)&&(S[R]=T.data(R));S=d.extend({},d.fn.timepicker.defaults,S,G);if(S.lang&&(J=d.extend(J,S.lang)),S=X(S),T.data("timepicker-settings",S),T.addClass("ui-timepicker-input"),S.useSelect)a(T);else{if(T.prop("autocomplete","off"),S.showOn)for(var ba in S.showOn)T.on(S.showOn[ba]+".timepicker",O.show);T.on("change.timepicker",u);T.on("keydown.timepicker",
w);T.on("keyup.timepicker",z);S.disableTextInput&&T.on("keydown.timepicker",n);u.call(T.get(0),null,"initial")}})},show:function(G){var T=d(this),S=T.data("timepicker-settings");if(G&&G.preventDefault(),S.useSelect)return void T.data("timepicker-list").focus();e(T)&&T.blur();G=T.data("timepicker-list");if(!T.prop("readonly")&&(G&&0!==G.length&&"function"!=typeof S.durationTime||(a(T),G=T.data("timepicker-list")),!L(G))){T.data("ui-timepicker-value",T.val());p(T,G);O.hide();G.show();var R={};S.orientation.match(/r/)?
R.left=T.offset().left+T.outerWidth()-G.outerWidth()+parseInt(G.css("marginLeft").replace("px",""),10):R.left=T.offset().left+parseInt(G.css("marginLeft").replace("px",""),10);"t"==(S.orientation.match(/t/)?"t":S.orientation.match(/b/)?"b":T.offset().top+T.outerHeight(!0)+G.outerHeight()>d(window).height()+d(window).scrollTop()?"t":"b")?(G.addClass("ui-timepicker-positioned-top"),R.top=T.offset().top-G.outerHeight()+parseInt(G.css("marginTop").replace("px",""),10)):(G.removeClass("ui-timepicker-positioned-top"),
R.top=T.offset().top+T.outerHeight()+parseInt(G.css("marginTop").replace("px",""),10));G.offset(R);R=G.find(".ui-timepicker-selected");if(!R.length){var ba=I(c(T));null!==ba?R=k(T,G,ba):S.scrollDefault&&(R=k(T,G,S.scrollDefault()))}R&&R.length?(R=G.scrollTop()+R.position().top-R.outerHeight(),G.scrollTop(R)):G.scrollTop(0);return S.stopScrollPropagation&&d(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(ha){ha.preventDefault();var ra=d(this).scrollTop();d(this).scrollTop(ra+ha.originalEvent.deltaY)}),
d(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",g),d(window).on("resize.ui-timepicker",g),S.closeOnWindowScroll&&d(document).on("scroll.ui-timepicker",g),T.trigger("showTimepicker"),this}},hide:function(G){G=d(this);var T=G.data("timepicker-settings");return T&&T.useSelect&&G.blur(),d(".ui-timepicker-wrapper").each(function(){var S=d(this);if(L(S)){var R=S.data("timepicker-input"),ba=R.data("timepicker-settings");ba&&ba.selectOnBlur&&x(R);S.hide();R.trigger("hideTimepicker")}}),
this},option:function(G,T){return"string"==typeof G&&"undefined"==typeof T?d(this).data("timepicker-settings")[G]:this.each(function(){var S=d(this),R=S.data("timepicker-settings"),ba=S.data("timepicker-list");"object"==typeof G?R=d.extend(R,G):"string"==typeof G&&(R[G]=T);R=X(R);S.data("timepicker-settings",R);ba&&(ba.remove(),S.data("timepicker-list",!1));R.useSelect&&a(S)})},getSecondsFromMidnight:function(){return I(c(this))},getTime:function(G){var T=c(this);if(!T)return null;T=I(T);if(null===
T)return null;G||=new Date;G=new Date(G);return G.setHours(T/3600),G.setMinutes(T%3600/60),G.setSeconds(T%60),G.setMilliseconds(0),G},isVisible:function(){var G=this.data("timepicker-list");return!(!G||!L(G))},setTime:function(G){var T=this.data("timepicker-settings"),S=T.forceRoundTime?f(I(G),T):v(I(G),T);return G&&null===S&&T.noneOption&&(S=G),m(this,S),this.data("timepicker-list")&&p(this,this.data("timepicker-list")),this},remove:function(){if(this.hasClass("ui-timepicker-input")){var G=this.data("timepicker-settings");
return this.removeAttr("autocomplete","off"),this.removeClass("ui-timepicker-input"),this.removeData("timepicker-settings"),this.off(".timepicker"),this.data("timepicker-list")&&this.data("timepicker-list").remove(),G.useSelect&&this.show(),this.removeData("timepicker-list"),this}}};d.fn.timepicker=function(G){return this.length?O[G]?this.hasClass("ui-timepicker-input")?O[G].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof G&&G?void d.error("Method "+G+" does not exist on jQuery.timepicker"):
O.init.apply(this,arguments):this};d.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(G,T){if(null===G)return null;if("number"!=typeof T.step)return G;var S=G%(60*T.step);return S>=30*T.step?G+=60*T.step-S:G-=S,G==D&&T.show2400?G:G%D},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,
showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}});(function(d){function L(){return d("<div/>")}var X=Math.abs,a=Math.max,h=Math.min,f=Math.round;d.imgAreaSelect=function(g,e){function k(Za){return Za+Qa.left-Va.left}function p(Za){return Za+Qa.top-Va.top}function u(Za){return Za-Qa.left+Va.left}function c(Za){return Za-Qa.top+Va.top}function m(Za){var Sb=Za||hb;Za=Za||bb;return{x1:f(Xa.x1*Sb),y1:f(Xa.y1*Za),x2:f(Xa.x2*Sb),y2:f(Xa.y2*Za),width:f(Xa.x2*Sb)-f(Xa.x1*Sb),height:f(Xa.y2*Za)-f(Xa.y1*Za)}}function n(Za,Sb,xc,jc,Gc){var Uc=Gc||hb;Gc=Gc||
bb;Xa={x1:f(Za/Uc||0),y1:f(Sb/Gc||0),x2:f(xc/Uc||0),y2:f(jc/Gc||0)};Xa.width=Xa.x2-Xa.x1;Xa.height=Xa.y2-Xa.y1}function w(){Fa&&Ca.width()&&(Qa={left:f(Ca.offset().left),top:f(Ca.offset().top)},Pa=Ca.innerWidth(),cb=Ca.innerHeight(),Qa.top+=Ca.outerHeight()-cb>>1,Qa.left+=Ca.outerWidth()-Pa>>1,tb=f(e.minWidth/hb)||0,jb=f(e.minHeight/bb)||0,mb=f(h(e.maxWidth/hb||16777216,Pa)),pb=f(h(e.maxHeight/bb||16777216,cb)),"1.3.2"!=d().jquery||"fixed"!=Ib||Cd.getBoundingClientRect||(Qa.top+=a(document.body.scrollTop,
Cd.scrollTop),Qa.left+=a(document.body.scrollLeft,Cd.scrollLeft)),Va=/absolute|relative/.test(rb.css("position"))?{left:f(rb.offset().left)-rb.scrollLeft(),top:f(rb.offset().top)-rb.scrollTop()}:"fixed"==Ib?{left:d(document).scrollLeft(),top:d(document).scrollTop()}:{left:0,top:0},ua=k(0),La=p(0),(Xa.x2>Pa||Xa.y2>cb)&&O())}function z(Za){if(bc){Ga.css({left:k(Xa.x1),top:p(Xa.y1)}).add(Ra).width(Lb=Xa.width).height(Oc=Xa.height);Ra.add(Ia).add(Ta).css({left:0,top:0});Ia.width(a(Lb-Ia.outerWidth()+
Ia.innerWidth(),0)).height(a(Oc-Ia.outerHeight()+Ia.innerHeight(),0));d(va[0]).css({left:ua,top:La,width:Xa.x1,height:cb});d(va[1]).css({left:ua+Xa.x1,top:La,width:Lb,height:Xa.y1});d(va[2]).css({left:ua+Xa.x2,top:La,width:Pa-Xa.x2,height:cb});d(va[3]).css({left:ua+Xa.x1,top:La+Xa.y2,width:Lb,height:cb-Xa.y2});Lb-=Ta.outerWidth();Oc-=Ta.outerHeight();switch(Ta.length){case 8:d(Ta[4]).css({left:Lb>>1}),d(Ta[5]).css({left:Lb,top:Oc>>1}),d(Ta[6]).css({left:Lb>>1,top:Oc}),d(Ta[7]).css({top:Oc>>1});case 4:Ta.slice(1,
3).css({left:Lb}),Ta.slice(2,4).css({top:Oc})}if(!1!==Za&&(d.imgAreaSelect.onKeyPress!=re&&d(document).unbind(d.imgAreaSelect.keyPress,d.imgAreaSelect.onKeyPress),e.keys))d(document)[d.imgAreaSelect.keyPress](d.imgAreaSelect.onKeyPress=re);$c&&2==Ia.outerWidth()-Ia.innerWidth()&&(Ia.css("margin",0),setTimeout(function(){Ia.css("margin","auto")},0))}}function x(Za){w();z(Za);xb=k(Xa.x1);gb=p(Xa.y1);Wa=k(Xa.x2);Gb=p(Xa.y2)}function H(Za,Sb){e.fadeSpeed?Za.fadeOut(e.fadeSpeed,Sb):Za.hide()}function v(Za){var Sb=
u(Za.pageX-Va.left)-Xa.x1;Za=c(Za.pageY-Va.top)-Xa.y1;pd||(w(),pd=!0,Ga.one("mouseout",function(){pd=!1}));ab="";e.resizable&&(Za<=e.resizeMargin?ab="n":Za>=Xa.height-e.resizeMargin&&(ab="s"),Sb<=e.resizeMargin?ab+="w":Sb>=Xa.width-e.resizeMargin&&(ab+="e"));Ga.css("cursor",ab?ab+"-resize":e.movable?"move":"");Da&&Da.toggle()}function I(Za){d("body").css("cursor","");(e.autoHide||0==Xa.width*Xa.height)&&H(Ga.add(va),function(){d(this).hide()});d(document).unbind("mousemove",G);Ga.mousemove(v);e.onSelectEnd(g,
m())}function D(Za){if(1!=Za.which)return!1;w();ab?(d("body").css("cursor",ab+"-resize"),xb=k(Xa[/w/.test(ab)?"x2":"x1"]),gb=p(Xa[/n/.test(ab)?"y2":"y1"]),d(document).mousemove(G).one("mouseup",I),Ga.unbind("mousemove",v)):e.movable?(Db=ua+Xa.x1-(Za.pageX-Va.left),Eb=La+Xa.y1-(Za.pageY-Va.top),Ga.unbind("mousemove",v),d(document).mousemove(S).one("mouseup",function(){e.onSelectEnd(g,m());d(document).unbind("mousemove",S);Ga.mousemove(v)})):Ca.mousedown(Za);return!1}function J(Za){Ob&&(Za?(Wa=a(ua,
h(ua+Pa,xb+X(Gb-gb)*Ob*(Wa>xb||-1))),Gb=f(a(La,h(La+cb,gb+X(Wa-xb)/Ob*(Gb>gb||-1)))),Wa=f(Wa)):(Gb=a(La,h(La+cb,gb+X(Wa-xb)/Ob*(Gb>gb||-1))),Wa=f(a(ua,h(ua+Pa,xb+X(Gb-gb)*Ob*(Wa>xb||-1)))),Gb=f(Gb)))}function O(){xb=h(xb,ua+Pa);gb=h(gb,La+cb);X(Wa-xb)<tb&&(Wa=xb-tb*(Wa<xb||-1),Wa<ua?xb=ua+tb:Wa>ua+Pa&&(xb=ua+Pa-tb));X(Gb-gb)<jb&&(Gb=gb-jb*(Gb<gb||-1),Gb<La?gb=La+jb:Gb>La+cb&&(gb=La+cb-jb));Wa=a(ua,h(Wa,ua+Pa));Gb=a(La,h(Gb,La+cb));J(X(Wa-xb)<X(Gb-gb)*Ob);X(Wa-xb)>mb&&(Wa=xb-mb*(Wa<xb||-1),J());X(Gb-
gb)>pb&&(Gb=gb-pb*(Gb<gb||-1),J(!0));Xa={x1:u(h(xb,Wa)),x2:u(a(xb,Wa)),y1:c(h(gb,Gb)),y2:c(a(gb,Gb)),width:X(Wa-xb),height:X(Gb-gb)};z();e.onSelectChange(g,m())}function G(Za){Wa=/w|e|^$/.test(ab)||Ob?Za.pageX-Va.left:k(Xa.x2);Gb=/n|s|^$/.test(ab)||Ob?Za.pageY-Va.top:p(Xa.y2);O();return!1}function T(Za,Sb){Wa=(xb=Za)+Xa.width;Gb=(gb=Sb)+Xa.height;d.extend(Xa,{x1:u(xb),y1:c(gb),x2:u(Wa),y2:c(Gb)});z();e.onSelectChange(g,m())}function S(Za){xb=a(ua,h(Db+(Za.pageX-Va.left),ua+Pa-Xa.width));gb=a(La,h(Eb+
(Za.pageY-Va.top),La+cb-Xa.height));T(xb,gb);Za.preventDefault();return!1}function R(){d(document).unbind("mousemove",R);w();Wa=xb;Gb=gb;O();ab="";va.is(":visible")||Ga.add(va).hide().fadeIn(e.fadeSpeed||0);bc=!0;d(document).unbind("mouseup",ba).mousemove(G).one("mouseup",I);Ga.unbind("mousemove",v);e.onSelectStart(g,m())}function ba(){d(document).unbind("mousemove",R).unbind("mouseup",ba);H(Ga.add(va));n(u(xb),c(gb),u(xb),c(gb));this instanceof d.imgAreaSelect||(e.onSelectChange(g,m()),e.onSelectEnd(g,
m()))}function ha(Za){if(1!=Za.which||va.is(":animated"))return!1;w();Db=xb=Za.pageX-Va.left;Eb=gb=Za.pageY-Va.top;d(document).mousemove(R).mouseup(ba);return!1}function ra(){x(!1)}function Ka(){Fa=!0;ja(e=d.extend({classPrefix:"imgareaselect",movable:!0,parent:"body",resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},e));Ga.add(va).css({visibility:""});e.show&&(bc=!0,w(),z(),Ga.add(va).hide().fadeIn(e.fadeSpeed||0));setTimeout(function(){e.onInit(g,
m())},0)}function ma(Za,Sb){for(var xc in Sb)void 0!==e[xc]&&Za.css(Sb[xc],e[xc])}function ja(Za){Za.parent&&(rb=d(Za.parent)).append(Ga.add(va));d.extend(e,Za);w();if(null!=Za.handles){Ta.remove();Ta=d([]);for(Cc=Za.handles?"corners"==Za.handles?4:8:0;Cc--;)Ta=Ta.add(L());Ta.addClass(e.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:kb+1||1});0<=!parseInt(Ta.css("width"))&&Ta.width(5).height(5);(Dc=e.borderWidth)&&Ta.css({borderWidth:Dc,borderStyle:"solid"});ma(Ta,{borderColor1:"border-color",
borderColor2:"background-color",borderOpacity:"opacity"})}hb=e.imageWidth/Pa||1;bb=e.imageHeight/cb||1;null!=Za.x1&&(n(Za.x1,Za.y1,Za.x2,Za.y2),Za.show=!Za.hide);Za.keys&&(e.keys=d.extend({shift:1,ctrl:"resize"},Za.keys));va.addClass(e.classPrefix+"-outer");Ra.addClass(e.classPrefix+"-selection");for(Cc=0;4>Cc++;)d(Ia[Cc-1]).addClass(e.classPrefix+"-border"+Cc);ma(Ra,{selectionColor:"background-color",selectionOpacity:"opacity"});ma(Ia,{borderOpacity:"opacity",borderWidth:"border-width"});ma(va,{outerColor:"background-color",
outerOpacity:"opacity"});(Dc=e.borderColor1)&&d(Ia[0]).css({borderStyle:"solid",borderColor:Dc});(Dc=e.borderColor2)&&d(Ia[1]).css({borderStyle:"dashed",borderColor:Dc});Ga.append(Ra.add(Ia).add(Da)).append(Ta);$c&&((Dc=(va.css("filter")||"").match(/opacity=(\d+)/))&&va.css("opacity",Dc[1]/100),(Dc=(Ia.css("filter")||"").match(/opacity=(\d+)/))&&Ia.css("opacity",Dc[1]/100));Za.hide?H(Ga.add(va)):Za.show&&Fa&&(bc=!0,Ga.add(va).fadeIn(e.fadeSpeed||0),x());Ob=(Tc=(e.aspectRatio||"").split(/:/))[0]/Tc[1];
Ca.add(va).unbind("mousedown",ha);if(e.disable||!1===e.enable)Ga.unbind("mousemove",v).unbind("mousedown",D),d(window).unbind("resize",ra);else{if(e.enable||!1===e.disable)(e.resizable||e.movable)&&Ga.mousemove(v).mousedown(D),d(window).resize(ra);e.persistent||Ca.add(va).mousedown(ha)}e.enable=e.disable=void 0}var Ca=d(g),Fa,Ga=L(),Ra=L(),Ia=L().add(L()).add(L()).add(L()),va=L().add(L()).add(L()).add(L()),Ta=d([]),Da,ua,La,Qa={left:0,top:0},Pa,cb,rb,Va={left:0,top:0},kb=0,Ib="absolute",Db,Eb,hb,
bb,ab,tb,jb,mb,pb,Ob,bc,xb,gb,Wa,Gb,Xa={x1:0,y1:0,x2:0,y2:0,width:0,height:0},Cd=document.documentElement,P=navigator.userAgent,Tc,Cc,Dc,Lb,Oc,pd,re=function(Za){var Sb=e.keys,xc=Za.keyCode;var jc=isNaN(Sb.alt)||!Za.altKey&&!Za.originalEvent.altKey?!isNaN(Sb.ctrl)&&Za.ctrlKey?Sb.ctrl:!isNaN(Sb.shift)&&Za.shiftKey?Sb.shift:isNaN(Sb.arrows)?10:Sb.arrows:Sb.alt;if("resize"==Sb.arrows||"resize"==Sb.shift&&Za.shiftKey||"resize"==Sb.ctrl&&Za.ctrlKey||"resize"==Sb.alt&&(Za.altKey||Za.originalEvent.altKey)){switch(xc){case 37:jc=
-jc;case 39:Za=a(xb,Wa);xb=h(xb,Wa);Wa=a(Za+jc,xb);J();break;case 38:jc=-jc;case 40:Za=a(gb,Gb);gb=h(gb,Gb);Gb=a(Za+jc,gb);J(!0);break;default:return}O()}else switch(xb=h(xb,Wa),gb=h(gb,Gb),xc){case 37:T(a(xb-jc,ua),gb);break;case 38:T(xb,a(gb-jc,La));break;case 39:T(xb+h(jc,Pa-u(Wa)),gb);break;case 40:T(xb,gb+h(jc,cb-c(Gb)));break;default:return}return!1};this.remove=function(){ja({disable:!0});Ga.add(va).remove()};this.getOptions=function(){return e};this.setOptions=ja;this.getSelection=m;this.setSelection=
n;this.cancelSelection=ba;this.update=x;var $c=(/msie ([\w.]+)/i.exec(P)||[])[1],se=/opera/i.test(P),Hc=/webkit/i.test(P)&&!/chrome/i.test(P);for(P=Ca;P.length;)kb=a(kb,isNaN(P.css("z-index"))?kb:P.css("z-index")),"fixed"==P.css("position")&&(Ib="fixed"),P=P.parent(":not(body)");kb=e.zIndex||kb;$c&&Ca.attr("unselectable","on");d.imgAreaSelect.keyPress=$c||Hc?"keydown":"keypress";se&&(Da=L().css({width:"100%",height:"100%",position:"absolute",zIndex:kb+2||2}));Ga.add(va).css({visibility:"hidden",position:Ib,
overflow:"hidden",zIndex:kb||"0"});Ga.css({zIndex:kb+2||2});Ra.add(Ia).css({position:"absolute",fontSize:0});g.complete||"complete"==g.readyState||!Ca.is("img")?Ka():Ca.one("load",Ka);!Fa&&$c&&7<=$c&&(g.src=g.src)};d.fn.imgAreaSelect=function(g){g=g||{};this.each(function(){d(this).data("imgAreaSelect")?g.remove?(d(this).data("imgAreaSelect").remove(),d(this).removeData("imgAreaSelect")):d(this).data("imgAreaSelect").setOptions(g):g.remove||(void 0===g.enable&&void 0===g.disable&&(g.enable=!0),d(this).data("imgAreaSelect",
new d.imgAreaSelect(this,g)))});return g.instance?d(this).data("imgAreaSelect"):this}})(jQuery);!function(){function d(b){return b&&(b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView)}function L(b,l){return l>b?-1:b>l?1:b>=l?0:0/0}function X(b){return null===b?0/0:+b}function a(b){return!isNaN(b)}function h(b){return{left:function(l,q,t,A){3>arguments.length&&(t=0);for(4>arguments.length&&(A=l.length);A>t;){var y=t+A>>>1;0>b(l[y],q)?t=y+1:A=y}return t},right:function(l,q,t,A){3>arguments.length&&(t=0);for(4>arguments.length&&(A=l.length);A>t;){var y=t+A>>>1;0<b(l[y],
q)?A=y:t=y+1}return t}}}function f(b){return b.length}function g(b,l){for(var q in l)Object.defineProperty(b.prototype,q,{value:l[q],enumerable:!1})}function e(){this._=Object.create(null)}function k(b){return(b+="")===pi||b[0]===zg?zg+b:b}function p(b){return(b+="")[0]===zg?b.slice(1):b}function u(b){return k(b)in this._}function c(b){return(b=k(b))in this._&&delete this._[b]}function m(){var b=[],l;for(l in this._)b.push(p(l));return b}function n(){var b=0,l;for(l in this._)++b;return b}function w(){for(var b in this._)return!1;
return!0}function z(){this._=Object.create(null)}function x(b){return b}function H(b,l,q){return function(){var t=q.apply(l,arguments);return t===l?b:t}}function v(b,l){if(l in b)return l;l=l.charAt(0).toUpperCase()+l.slice(1);for(var q=0,t=hh.length;t>q;++q){var A=hh[q]+l;if(A in b)return A}}function I(){}function D(){}function J(b){function l(){for(var A,y=q,E=-1,C=y.length;++E<C;)(A=y[E].on)&&A.apply(this,arguments);return b}var q=[],t=new e;return l.on=function(A,y){var E,C=t.get(A);return 2>
arguments.length?C&&C.on:(C&&(C.on=null,q=q.slice(0,E=q.indexOf(C)).concat(q.slice(E+1)),t.remove(A)),y&&q.push(t.set(A,{on:y})),b)},l}function O(){Z.event.preventDefault()}function G(){for(var b,l=Z.event;b=l.sourceEvent;)l=b;return l}function T(b){for(var l=new D,q=0,t=arguments.length;++q<t;)l[arguments[q]]=J(l);return l.of=function(A,y){return function(E){try{var C=E.sourceEvent=Z.event;E.target=b;Z.event=E;l[E.type].apply(A,y)}finally{Z.event=C}}},l}function S(b){return Ef(b,Tb),b}function R(b){return"function"==
typeof b?b:function(){return Ag(b,this)}}function ba(b){return"function"==typeof b?b:function(){return Bg(b,this)}}function ha(b,l){function q(){this.removeAttribute(b)}function t(){this.removeAttributeNS(b.space,b.local)}function A(){this.setAttribute(b,l)}function y(){this.setAttributeNS(b.space,b.local,l)}function E(){var F=l.apply(this,arguments);null==F?this.removeAttribute(b):this.setAttribute(b,F)}function C(){var F=l.apply(this,arguments);null==F?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,
b.local,F)}return b=Z.ns.qualify(b),null==l?b.local?t:q:"function"==typeof l?b.local?C:E:b.local?y:A}function ra(b){return new RegExp("(?:^|\\s+)"+Z.requote(b)+"(?:\\s+|$)","g")}function Ka(b,l){function q(){for(var y=-1;++y<A;)b[y](this,l)}function t(){for(var y=-1,E=l.apply(this,arguments);++y<A;)b[y](this,E)}b=(b+"").trim().split(/^|\s+/).map(ma);var A=b.length;return"function"==typeof l?t:q}function ma(b){var l=ra(b);return function(q,t){if(A=q.classList)return t?A.add(b):A.remove(b);var A=q.getAttribute("class")||
"";t?(l.lastIndex=0,l.test(A)||q.setAttribute("class",(A+" "+b).trim().replace(/\s+/g," "))):q.setAttribute("class",A.replace(l," ").trim().replace(/\s+/g," "))}}function ja(b,l,q){function t(){this.style.removeProperty(b)}function A(){this.style.setProperty(b,l,q)}function y(){var E=l.apply(this,arguments);null==E?this.style.removeProperty(b):this.style.setProperty(b,E,q)}return null==l?t:"function"==typeof l?y:A}function Ca(b,l){function q(){delete this[b]}function t(){this[b]=l}function A(){var y=
l.apply(this,arguments);null==y?delete this[b]:this[b]=y}return null==l?q:"function"==typeof l?A:t}function Fa(b){function l(){var t=this.ownerDocument,A=this.namespaceURI;return A?t.createElementNS(A,b):t.createElement(b)}function q(){return this.ownerDocument.createElementNS(b.space,b.local)}return"function"==typeof b?b:(b=Z.ns.qualify(b)).local?q:l}function Ga(){var b=this.parentNode;b&&b.removeChild(this)}function Ra(b){return function(){return Cg(this,b)}}function Ia(b){return arguments.length||
(b=L),function(l,q){return l&&q?b(l.__data__,q.__data__):!l-!q}}function va(b,l){for(var q=0,t=b.length;t>q;q++)for(var A,y=b[q],E=0,C=y.length;C>E;E++)(A=y[E])&&l(A,E,q);return b}function Ta(b){return Ef(b,yd),b}function Da(b){var l,q;return function(t,A,y){t=b[y].update;var E=t.length;y!=q&&(q=y,l=0);for(A>=l&&(l=A+1);!(A=t[l])&&++l<E;);return A}}function ua(b,l,q){function t(){var N=this[E];N&&(this.removeEventListener(b,N,N.$),delete this[E])}function A(){var N=F(l,Id(arguments));t.call(this);
this.addEventListener(b,this[E]=N,N.$=q);N._=l}function y(){var N,U=new RegExp("^__on([^.]+)"+Z.requote(b)+"$"),W;for(W in this)if(N=W.match(U)){var Y=this[W];this.removeEventListener(N[1],Y,Y.$);delete this[W]}}var E="__on"+b,C=b.indexOf("."),F=La;0<C&&(b=b.slice(0,C));var K=Dg.get(b);return K&&(b=K,F=Qa),C?l?A:t:l?I:y}function La(b,l){return function(q){var t=Z.event;Z.event=q;l[0]=this.__data__;try{b.apply(this,l)}finally{Z.event=t}}}function Qa(b,l){var q=La(b,l);return function(t){var A=t.relatedTarget;
A&&(A===this||8&A.compareDocumentPosition(this))||q.call(this,t)}}function Pa(b){var l=".dragsuppress-"+ ++qi,q="click"+l,t=Z.select(d(b)).on("touchmove"+l,O).on("dragstart"+l,O).on("selectstart"+l,O);if(null==Zd&&(Zd="onselectstart"in b?!1:v(b.style,"userSelect")),Zd){var A=(b&&(b.ownerDocument||b.document||b).documentElement).style,y=A[Zd];A[Zd]="none"}return function(E){if(t.on(l,null),Zd&&(A[Zd]=y),E){var C=function(){t.on(q,null)};t.on(q,function(){O();C()},!0);setTimeout(C,0)}}}function cb(b,
l){l.changedTouches&&(l=l.changedTouches[0]);var q=b.ownerSVGElement||b;if(q.createSVGPoint){var t=q.createSVGPoint();if(0>Eg&&(q=d(b),q.scrollX||q.scrollY)){q=Z.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var A=q[0][0].getScreenCTM();Eg=!(A.f||A.e);q.remove()}return Eg?(t.x=l.pageX,t.y=l.pageY):(t.x=l.clientX,t.y=l.clientY),t=t.matrixTransform(b.getScreenCTM().inverse()),[t.x,t.y]}t=b.getBoundingClientRect();return[l.clientX-
t.left-b.clientLeft,l.clientY-t.top-b.clientTop]}function rb(){return Z.event.changedTouches[0].identifier}function Va(b,l,q){return(l[0]-b[0])*(q[1]-b[1])-(l[1]-b[1])*(q[0]-b[0])}function kb(b){return 1<b?0:-1>b?zb:Math.acos(b)}function Ib(b){return 1<b?mc:-1>b?-mc:Math.asin(b)}function Db(b){return((b=Math.exp(b))+1/b)/2}function Eb(b){return(b=Math.sin(b/2))*b}function hb(){}function bb(b,l,q){return this instanceof bb?(this.h=+b,this.s=+l,void(this.l=+q)):2>arguments.length?b instanceof bb?new bb(b.h,
b.s,b.l):Cd(""+b,P,bb):new bb(b,l,q)}function ab(b,l,q){function t(E){return 360<E?E-=360:0>E&&(E+=360),60>E?A+(y-A)*E/60:180>E?y:240>E?A+(y-A)*(240-E)/60:A}var A,y;return b=isNaN(b)?0:0>(b%=360)?b+360:b,l=isNaN(l)?0:0>l?0:1<l?1:l,q=0>q?0:1<q?1:q,y=.5>=q?q*(1+l):q+l-q*l,A=2*q-y,new Wa(Math.round(255*t(b+120)),Math.round(255*t(b)),Math.round(255*t(b-120)))}function tb(b,l,q){return this instanceof tb?(this.h=+b,this.c=+l,void(this.l=+q)):2>arguments.length?b instanceof tb?new tb(b.h,b.c,b.l):b instanceof
mb?Ob(b.l,b.a,b.b):Ob((b=Tc((b=Z.rgb(b)).r,b.g,b.b)).l,b.a,b.b):new tb(b,l,q)}function jb(b,l,q){return isNaN(b)&&(b=0),isNaN(l)&&(l=0),new mb(q,Math.cos(b*=Ab)*l,Math.sin(b)*l)}function mb(b,l,q){return this instanceof mb?(this.l=+b,this.a=+l,void(this.b=+q)):2>arguments.length?b instanceof mb?new mb(b.l,b.a,b.b):b instanceof tb?jb(b.h,b.c,b.l):Tc((b=Wa(b)).r,b.g,b.b):new mb(b,l,q)}function pb(b,l,q){b=(b+16)/116;l=b+l/500;q=b-q/200;return l=bc(l)*ih,b=bc(b)*jh,q=bc(q)*kh,new Wa(gb(3.2404542*l-1.5371385*
b-.4985314*q),gb(-.969266*l+1.8760108*b+.041556*q),gb(.0556434*l-.2040259*b+1.0572252*q))}function Ob(b,l,q){return 0<b?new tb(Math.atan2(q,l)*hc,Math.sqrt(l*l+q*q),b):new tb(0/0,0/0,b)}function bc(b){return.206893034<b?b*b*b:(b-4/29)/7.787037}function xb(b){return.008856<b?Math.pow(b,1/3):7.787037*b+4/29}function gb(b){return Math.round(255*(.00304>=b?12.92*b:1.055*Math.pow(b,1/2.4)-.055))}function Wa(b,l,q){return this instanceof Wa?(this.r=~~b,this.g=~~l,void(this.b=~~q)):2>arguments.length?b instanceof
Wa?new Wa(b.r,b.g,b.b):Cd(""+b,Wa,ab):new Wa(b,l,q)}function Gb(b){return new Wa(b>>16,b>>8&255,255&b)+""}function Xa(b){return 16>b?"0"+Math.max(0,b).toString(16):Math.min(255,b).toString(16)}function Cd(b,l,q){var t,A,y,E=0,C=0,F=0;if(t=/([a-z]+)\((.*)\)/i.exec(b))switch(A=t[2].split(","),t[1]){case "hsl":return q(parseFloat(A[0]),parseFloat(A[1])/100,parseFloat(A[2])/100);case "rgb":return l(Dc(A[0]),Dc(A[1]),Dc(A[2]))}return(y=Ff.get(b.toLowerCase()))?l(y.r,y.g,y.b):(null==b||"#"!==b.charAt(0)||
isNaN(y=parseInt(b.slice(1),16))||(4===b.length?(E=(3840&y)>>4,E|=E>>4,C=240&y,C|=C>>4,F=15&y,F|=F<<4):7===b.length&&(E=(16711680&y)>>16,C=(65280&y)>>8,F=255&y)),l(E,C,F))}function P(b,l,q){var t,A,y=Math.min(b/=255,l/=255,q/=255),E=Math.max(b,l,q),C=E-y,F=(E+y)/2;return C?(A=.5>F?C/(E+y):C/(2-E-y),t=b==E?(l-q)/C+(q>l?6:0):l==E?(q-b)/C+2:(b-l)/C+4,t*=60):(t=0/0,A=0<F&&1>F?0:t),new bb(t,A,F)}function Tc(b,l,q){b=Cc(b);l=Cc(l);q=Cc(q);var t=xb((.4124564*b+.3575761*l+.1804375*q)/ih),A=xb((.2126729*b+
.7151522*l+.072175*q)/jh);b=xb((.0193339*b+.119192*l+.9503041*q)/kh);return mb(116*A-16,500*(t-A),200*(A-b))}function Cc(b){return.04045>=(b/=255)?b/12.92:Math.pow((b+.055)/1.055,2.4)}function Dc(b){var l=parseFloat(b);return"%"===b.charAt(b.length-1)?Math.round(2.55*l):l}function Lb(b){return"function"==typeof b?b:function(){return b}}function Oc(b){return function(l,q,t){return 2===arguments.length&&"function"==typeof q&&(t=q,q=null),pd(l,q,b,t)}}function pd(b,l,q,t){function A(){var N=F.status,
U;if(U=!N)U=(U=F.responseType)&&"text"!==U?F.response:F.responseText;if(U||200<=N&&300>N||304===N){try{var W=q.call(y,F)}catch(Y){return void E.error.call(y,Y)}E.load.call(y,W)}else E.error.call(y,F)}var y={},E=Z.dispatch("beforesend","progress","load","error"),C={},F=new XMLHttpRequest,K=null;return!this.XDomainRequest||"withCredentials"in F||!/^(http(s)?:)?\/\//.test(b)||(F=new XDomainRequest),"onload"in F?F.onload=F.onerror=A:F.onreadystatechange=function(){3<F.readyState&&A()},F.onprogress=function(N){var U=
Z.event;Z.event=N;try{E.progress.call(y,F)}finally{Z.event=U}},y.header=function(N,U){return N=(N+"").toLowerCase(),2>arguments.length?C[N]:(null==U?delete C[N]:C[N]=U+"",y)},y.mimeType=function(N){return arguments.length?(l=null==N?null:N+"",y):l},y.responseType=function(N){return arguments.length?(K=N,y):K},y.response=function(N){return q=N,y},["get","post"].forEach(function(N){y[N]=function(){return y.send.apply(y,[N].concat(Id(arguments)))}}),y.send=function(N,U,W){if(2===arguments.length&&"function"==
typeof U&&(W=U,U=null),F.open(N,b,!0),null==l||"accept"in C||(C.accept=l+",*/*"),F.setRequestHeader)for(var Y in C)F.setRequestHeader(Y,C[Y]);return null!=l&&F.overrideMimeType&&F.overrideMimeType(l),null!=K&&(F.responseType=K),null!=W&&y.on("error",W).on("load",function(fa){W(null,fa)}),E.beforesend.call(y,F),F.send(null==U?null:U),y},y.abort=function(){return F.abort(),y},Z.rebind(y,E,"on"),null==t?y:y.get(re(t))}function re(b){return 1===b.length?function(l,q){b(null==l?q:null)}:b}function $c(){var b=
se();b=Hc()-b;24<b?(isFinite(b)&&(clearTimeout(Gf),Gf=setTimeout($c,b)),Hf=0):(Hf=1,lh($c))}function se(){var b=Date.now();for(zd=If;zd;)b>=zd.t&&(zd.f=zd.c(b-zd.t)),zd=zd.n;return b}function Hc(){for(var b,l=If,q=1/0;l;)l.f?l=b?b.n=l.n:If=l.n:(l.t<q&&(q=l.t),l=(b=l).n);return Jf=b,q}function Za(b,l){return l-(b?Math.ceil(Math.log(b)/Math.LN10):1)}function Sb(b){var l=b.decimal,q=b.thousands,t=b.grouping,A=b.currency,y=t&&q?function(E,C){for(var F=E.length,K=[],N=0,U=t[0],W=0;0<F&&0<U&&(W+U+1>C&&
(U=Math.max(1,C-W)),K.push(E.substring(F-=U,F+U)),!((W+=U+1)>C));)U=t[N=(N+1)%t.length];return K.reverse().join(q)}:x;return function(E){E=mh.exec(E);var C=E[1]||" ",F=E[2]||">",K=E[3]||"-",N=E[4]||"",U=E[5],W=+E[6],Y=E[7],fa=E[8],pa=E[9],ka=1,na="",oa="",ia=!1,xa=!0;switch(fa&&=+fa.substring(1),(U||"0"===C&&"="===F)&&(U=C="0",F="="),pa){case "n":Y=!0;pa="g";break;case "%":ka=100;oa="%";pa="f";break;case "p":ka=100;oa="%";pa="r";break;case "b":case "o":case "x":case "X":"#"===N&&(na="0"+pa.toLowerCase());
case "c":xa=!1;case "d":ia=!0;fa=0;break;case "s":ka=-1,pa="r"}"$"===N&&(na=A[0],oa=A[1]);"r"!=pa||fa||(pa="g");null!=fa&&("g"==pa?fa=Math.max(1,Math.min(21,fa)):("e"==pa||"f"==pa)&&(fa=Math.max(0,Math.min(20,fa))));pa=ri.get(pa)||xc;var Ma=U&&Y;return function(aa){var la=oa;if(ia&&aa%1)return"";var wa=0>aa||0===aa&&0>1/aa?(aa=-aa,"-"):"-"===K?"":K;0>ka?(la=Z.formatPrefix(aa,fa),aa=la.scale(aa),la=la.symbol+oa):aa*=ka;aa=pa(aa,fa);var Ha,Ja,Oa=aa.lastIndexOf(".");0>Oa?(Oa=xa?aa.lastIndexOf("e"):-1,
0>Oa?(Ha=aa,Ja=""):(Ha=aa.substring(0,Oa),Ja=aa.substring(Oa))):(Ha=aa.substring(0,Oa),Ja=l+aa.substring(Oa+1));!U&&Y&&(Ha=y(Ha,1/0));Oa=na.length+Ha.length+Ja.length+(Ma?0:wa.length);var Sa=W>Oa?Array(Oa=W-Oa+1).join(C):"";return Ma&&(Ha=y(Sa+Ha,Sa.length?W-Ja.length:1/0)),wa+=na,aa=Ha+Ja,("<"===F?wa+aa+Sa:">"===F?Sa+wa+aa:"^"===F?Sa.substring(0,Oa>>=1)+wa+aa+Sa.substring(Oa):wa+(Ma?aa:Sa+aa))+la}}}function xc(b){return b+""}function jc(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):
arguments[0])}function Gc(b,l,q){function t(F){var K=b(F),N=y(K,1);return N-F>F-K?K:N}function A(F){return l(F=b(new Ec(F-1)),1),F}function y(F,K){return l(F=new Ec(+F),K),F}function E(F,K,N){F=A(F);var U=[];if(1<N)for(;K>F;)q(F)%N||U.push(new Date(+F)),l(F,1);else for(;K>F;)U.push(new Date(+F)),l(F,1);return U}b.floor=b;b.round=t;b.ceil=A;b.offset=y;b.range=E;var C=b.utc=Uc(b);return C.floor=C,C.round=Uc(t),C.ceil=Uc(A),C.offset=Uc(y),C.range=function(F,K,N){try{Ec=jc;var U=new jc;return U._=F,E(U,
K,N)}finally{Ec=Date}},b}function Uc(b){return function(l,q){try{Ec=jc;var t=new jc;return t._=l,b(t,q)._}finally{Ec=Date}}}function Cb(b){function l(aa){function la(Ha){for(var Ja,Oa,Sa,lb=[],wb=-1,sb=0;++wb<wa;)37===aa.charCodeAt(wb)&&(lb.push(aa.slice(sb,wb)),null!=(Oa=nh[Ja=aa.charAt(++wb)])&&(Ja=aa.charAt(++wb)),(Sa=xa[Ja])&&(Ja=Sa(Ha,null==Oa?"e"===Ja?" ":"0":Oa)),lb.push(Ja),sb=wb+1);return lb.push(aa.slice(sb,wb)),lb.join("")}var wa=aa.length;return la.parse=function(Ha){var Ja={y:1900,m:0,
d:1,H:0,M:0,S:0,L:0,Z:null};if(q(Ja,aa,Ha,0)!=Ha.length)return null;"p"in Ja&&(Ja.H=Ja.H%12+12*Ja.p);Ha=null!=Ja.Z&&Ec!==jc;var Oa=new (Ha?jc:Ec);return"j"in Ja?Oa.setFullYear(Ja.y,0,Ja.j):"w"in Ja&&("W"in Ja||"U"in Ja)?(Oa.setFullYear(Ja.y,0,1),Oa.setFullYear(Ja.y,0,"W"in Ja?(Ja.w+6)%7+7*Ja.W-(Oa.getDay()+5)%7:Ja.w+7*Ja.U-(Oa.getDay()+6)%7)):Oa.setFullYear(Ja.y,Ja.m,Ja.d),Oa.setHours(Ja.H+(Ja.Z/100|0),Ja.M+Ja.Z%100,Ja.S,Ja.L),Ha?Oa._:Oa},la.toString=function(){return aa},la}function q(aa,la,wa,Ha){for(var Ja,
Oa,Sa,lb=0,wb=la.length,sb=wa.length;wb>lb;){if(Ha>=sb)return-1;if(Ja=la.charCodeAt(lb++),37===Ja){if(Sa=la.charAt(lb++),Oa=Ma[Sa in nh?la.charAt(lb++):Sa],!Oa||0>(Ha=Oa(aa,wa,Ha)))return-1}else if(Ja!=wa.charCodeAt(Ha++))return-1}return Ha}var t=b.dateTime,A=b.date,y=b.time,E=b.periods,C=b.days,F=b.shortDays,K=b.months,N=b.shortMonths;l.utc=function(aa){function la(Ha){try{Ec=jc;var Ja=new Ec;return Ja._=Ha,wa(Ja)}finally{Ec=Date}}var wa=l(aa);return la.parse=function(Ha){try{Ec=jc;var Ja=wa.parse(Ha);
return Ja&&Ja._}finally{Ec=Date}},la.toString=wa.toString,la};l.multi=l.utc.multi=lf;var U=Z.map(),W=he(C),Y=ge(C),fa=he(F),pa=ge(F),ka=he(K),na=ge(K),oa=he(N),ia=ge(N);E.forEach(function(aa,la){U.set(aa.toLowerCase(),la)});var xa={a:function(aa){return F[aa.getDay()]},A:function(aa){return C[aa.getDay()]},b:function(aa){return N[aa.getMonth()]},B:function(aa){return K[aa.getMonth()]},c:l(t),d:function(aa,la){return $b(aa.getDate(),la,2)},e:function(aa,la){return $b(aa.getDate(),la,2)},H:function(aa,
la){return $b(aa.getHours(),la,2)},I:function(aa,la){return $b(aa.getHours()%12||12,la,2)},j:function(aa,la){return $b(1+ib.dayOfYear(aa),la,3)},L:function(aa,la){return $b(aa.getMilliseconds(),la,3)},m:function(aa,la){return $b(aa.getMonth()+1,la,2)},M:function(aa,la){return $b(aa.getMinutes(),la,2)},p:function(aa){return E[+(12<=aa.getHours())]},S:function(aa,la){return $b(aa.getSeconds(),la,2)},U:function(aa,la){return $b(ib.sundayOfYear(aa),la,2)},w:function(aa){return aa.getDay()},W:function(aa,
la){return $b(ib.mondayOfYear(aa),la,2)},x:l(A),X:l(y),y:function(aa,la){return $b(aa.getFullYear()%100,la,2)},Y:function(aa,la){return $b(aa.getFullYear()%1E4,la,4)},Z:Kc,"%":function(){return"%"}},Ma={a:function(aa,la,wa){fa.lastIndex=0;return(la=fa.exec(la.slice(wa)))?(aa.w=pa.get(la[0].toLowerCase()),wa+la[0].length):-1},A:function(aa,la,wa){W.lastIndex=0;return(la=W.exec(la.slice(wa)))?(aa.w=Y.get(la[0].toLowerCase()),wa+la[0].length):-1},b:function(aa,la,wa){oa.lastIndex=0;return(la=oa.exec(la.slice(wa)))?
(aa.m=ia.get(la[0].toLowerCase()),wa+la[0].length):-1},B:function(aa,la,wa){ka.lastIndex=0;return(la=ka.exec(la.slice(wa)))?(aa.m=na.get(la[0].toLowerCase()),wa+la[0].length):-1},c:function(aa,la,wa){return q(aa,xa.c.toString(),la,wa)},d:Ie,e:Ie,H:Gd,I:Gd,j:te,L:Hd,m:ie,M:We,p:function(aa,la,wa){la=U.get(la.slice(wa,wa+=2).toLowerCase());return null==la?-1:(aa.p=la,wa)},S:Xe,U:Pd,w:kf,W:cd,x:function(aa,la,wa){return q(aa,xa.x.toString(),la,wa)},X:function(aa,la,wa){return q(aa,xa.X.toString(),la,
wa)},y:Dd,Y:vd,Z:vg,"%":mg};return l}function $b(b,l,q){var t=0>b?"-":"";b=(t?-b:b)+"";var A=b.length;return t+(q>A?Array(q-A+1).join(l)+b:b)}function he(b){return new RegExp("^(?:"+b.map(Z.requote).join("|")+")","i")}function ge(b){for(var l=new e,q=-1,t=b.length;++q<t;)l.set(b[q].toLowerCase(),q);return l}function kf(b,l,q){nc.lastIndex=0;return(l=nc.exec(l.slice(q,q+1)))?(b.w=+l[0],q+l[0].length):-1}function Pd(b,l,q){nc.lastIndex=0;return(l=nc.exec(l.slice(q)))?(b.U=+l[0],q+l[0].length):-1}function cd(b,
l,q){nc.lastIndex=0;return(l=nc.exec(l.slice(q)))?(b.W=+l[0],q+l[0].length):-1}function vd(b,l,q){nc.lastIndex=0;return(l=nc.exec(l.slice(q,q+4)))?(b.y=+l[0],q+l[0].length):-1}function Dd(b,l,q){nc.lastIndex=0;if(l=nc.exec(l.slice(q,q+2))){var t=+l[0];b=(b.y=t+(68<t?1900:2E3),q+l[0].length)}else b=-1;return b}function vg(b,l,q){return/^[+-]\d{4}$/.test(l=l.slice(q,q+5))?(b.Z=-l,q+5):-1}function ie(b,l,q){nc.lastIndex=0;return(l=nc.exec(l.slice(q,q+2)))?(b.m=l[0]-1,q+l[0].length):-1}function Ie(b,
l,q){nc.lastIndex=0;return(l=nc.exec(l.slice(q,q+2)))?(b.d=+l[0],q+l[0].length):-1}function te(b,l,q){nc.lastIndex=0;return(l=nc.exec(l.slice(q,q+3)))?(b.j=+l[0],q+l[0].length):-1}function Gd(b,l,q){nc.lastIndex=0;return(l=nc.exec(l.slice(q,q+2)))?(b.H=+l[0],q+l[0].length):-1}function We(b,l,q){nc.lastIndex=0;return(l=nc.exec(l.slice(q,q+2)))?(b.M=+l[0],q+l[0].length):-1}function Xe(b,l,q){nc.lastIndex=0;return(l=nc.exec(l.slice(q,q+2)))?(b.S=+l[0],q+l[0].length):-1}function Hd(b,l,q){nc.lastIndex=
0;return(l=nc.exec(l.slice(q,q+3)))?(b.L=+l[0],q+l[0].length):-1}function Kc(b){var l=b.getTimezoneOffset();b=0<l?"-":"+";var q=Bb(l)/60|0;l=Bb(l)%60;return b+$b(q,"0",2)+$b(l,"0",2)}function mg(b,l,q){oh.lastIndex=0;return(b=oh.exec(l.slice(q,q+1)))?q+b[0].length:-1}function lf(b){for(var l=b.length,q=-1;++q<l;)b[q][0]=this(b[q][0]);return function(t){for(var A=0,y=b[A];!y[1](t);)y=b[++A];return y[0](t)}}function Le(){}function Ye(b,l,q){var t=q.s=b+l,A=t-b;q.t=b-(t-A)+(l-A)}function je(b,l){b&&
ph.hasOwnProperty(b.type)&&ph[b.type](b,l)}function Rd(b,l,q){var t=-1,A=b.length-q;for(l.lineStart();++t<A;)q=b[t],l.point(q[0],q[1],q[2]);l.lineEnd()}function Qd(b,l){var q=-1,t=b.length;for(l.polygonStart();++q<t;)Rd(b[q],l,1);l.polygonEnd()}function mf(){function b(E,C){E*=Ab;C=C*Ab/2+zb/4;var F=E-t,K=0<=F?1:-1;F*=K;var N=Math.cos(C);C=Math.sin(C);var U=y*C;$d.add(Math.atan2(U*K*Math.sin(F),A*N+U*Math.cos(F)));t=E;A=N;y=C}var l,q,t,A,y;Vc.point=function(E,C){Vc.point=b;t=(l=E)*Ab;A=Math.cos(C=
(q=C)*Ab/2+zb/4);y=Math.sin(C)};Vc.lineEnd=function(){b(l,q)}}function rd(b){var l=b[0];b=b[1];var q=Math.cos(b);return[q*Math.cos(l),q*Math.sin(l),Math.sin(b)]}function Sd(b,l){return b[0]*l[0]+b[1]*l[1]+b[2]*l[2]}function sd(b,l){return[b[1]*l[2]-b[2]*l[1],b[2]*l[0]-b[0]*l[2],b[0]*l[1]-b[1]*l[0]]}function ke(b,l){b[0]+=l[0];b[1]+=l[1];b[2]+=l[2]}function ue(b,l){return[b[0]*l,b[1]*l,b[2]*l]}function Vd(b){var l=Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]);b[0]/=l;b[1]/=l;b[2]/=l}function ve(b){return[Math.atan2(b[1],
b[0]),Ib(b[2])]}function Wd(b,l){return Bb(b[0]-l[0])<eb&&Bb(b[1]-l[1])<eb}function nd(b,l){b*=Ab;var q=Math.cos(l*=Ab);md(q*Math.cos(b),q*Math.sin(b),Math.sin(l))}function md(b,l,q){++Pe;ae+=(b-ae)/Pe;be+=(l-be)/Pe;Ad+=(q-Ad)/Pe}function nf(){function b(A,y){A*=Ab;var E=Math.cos(y*=Ab),C=E*Math.cos(A);A=E*Math.sin(A);y=Math.sin(y);var F=Math.atan2(Math.sqrt((F=q*y-t*A)*F+(F=t*C-l*y)*F+(F=l*A-q*C)*F),l*C+q*A+t*y);Kf+=F;Jd+=F*(l+(l=C));Kd+=F*(q+(q=A));qd+=F*(t+(t=y));md(l,q,t)}var l,q,t;kd.point=function(A,
y){A*=Ab;var E=Math.cos(y*=Ab);l=E*Math.cos(A);q=E*Math.sin(A);t=Math.sin(y);kd.point=b;md(l,q,t)}}function of(){kd.point=nd}function Xd(){function b(E,C){E*=Ab;var F=Math.cos(C*=Ab),K=F*Math.cos(E);E=F*Math.sin(E);C=Math.sin(C);F=A*C-y*E;var N=y*K-t*C,U=t*E-A*K,W=Math.sqrt(F*F+N*N+U*U),Y=t*K+A*E+y*C,fa=W&&-kb(Y)/W;W=Math.atan2(W,Y);Be+=fa*F;Ce+=fa*N;Ld+=fa*U;Kf+=W;Jd+=W*(t+(t=K));Kd+=W*(A+(A=E));qd+=W*(y+(y=C));md(t,A,y)}var l,q,t,A,y;kd.point=function(E,C){l=E;q=C;kd.point=b;E*=Ab;var F=Math.cos(C*=
Ab);t=F*Math.cos(E);A=F*Math.sin(E);y=Math.sin(C);md(t,A,y)};kd.lineEnd=function(){b(l,q);kd.lineEnd=of;kd.point=nd}}function pf(b,l){function q(t,A){return t=b(t,A),l(t[0],t[1])}return b.invert&&l.invert&&(q.invert=function(t,A){return t=l.invert(t,A),t&&b.invert(t[0],t[1])}),q}function ad(){return!0}function qf(b,l,q,t,A){var y=[],E=[];if(b.forEach(function(U){if(!(0>=(W=U.length-1))){var W,Y=U[0],fa=U[W];if(Wd(Y,fa)){A.lineStart();for(fa=0;W>fa;++fa)A.point((Y=U[fa])[0],Y[1]);return void A.lineEnd()}W=
new we(Y,U,null,!0);Y=new we(Y,null,W,!1);W.o=Y;y.push(W);E.push(Y);W=new we(fa,U,null,!1);Y=new we(fa,null,W,!0);W.o=Y;y.push(W);E.push(Y)}}),E.sort(l),rf(y),rf(E),y.length){b=0;l=q;for(q=E.length;q>b;++b)E[b].e=l=!l;for(var C,F=y[0];;){for(var K=F,N=!0;K.v;)if((K=K.n)===F)return;l=K.z;A.lineStart();do{if(K.v=K.o.v=!0,K.e){if(N)for(b=0,q=l.length;q>b;++b)A.point((C=l[b])[0],C[1]);else t(K.x,K.n.x,1,A);K=K.n}else{if(N)for(l=K.p.z,b=l.length-1;0<=b;--b)A.point((C=l[b])[0],C[1]);else t(K.x,K.p.x,-1,
A);K=K.p}K=K.o;l=K.z;N=!N}while(!K.v);A.lineEnd()}}}function rf(b){if(l=b.length){for(var l,q,t=0,A=b[0];++t<l;)A.n=q=b[t],q.p=A,A=q;A.n=q=b[0];q.p=A}}function we(b,l,q,t){this.x=b;this.z=l;this.o=q;this.e=t;this.v=!1;this.n=this.p=null}function sf(b,l,q,t){return function(A,y){function E(aa,la){var wa=A(aa,la);b(aa=wa[0],la=wa[1])&&y.point(aa,la)}function C(aa,la){aa=A(aa,la);ka.point(aa[0],aa[1])}function F(){oa.point=C;ka.lineStart()}function K(){oa.point=E;ka.lineEnd()}function N(aa,la){pa.push([aa,
la]);aa=A(aa,la);xa.point(aa[0],aa[1])}function U(){xa.lineStart();pa=[]}function W(){N(pa[0][0],pa[0][1]);xa.lineEnd();var aa=xa.clean();var la=ia.buffer(),wa=la.length;if(pa.pop(),fa.push(pa),pa=null,wa)if(1&aa){aa=la[0];var Ha;wa=aa.length-1;la=-1;if(0<wa){Ma||(y.polygonStart(),Ma=!0);for(y.lineStart();++la<wa;)y.point((Ha=aa[la])[0],Ha[1]);y.lineEnd()}}else 1<wa&&2&aa&&la.push(la.pop().concat(la.shift())),Y.push(la.filter(tf))}var Y,fa,pa,ka=l(y),na=A.invert(t[0],t[1]),oa={point:E,lineStart:F,
lineEnd:K,polygonStart:function(){oa.point=N;oa.lineStart=U;oa.lineEnd=W;Y=[];fa=[]},polygonEnd:function(){oa.point=E;oa.lineStart=F;oa.lineEnd=K;Y=Z.merge(Y);var aa=na;var la=fa;var wa=aa[0],Ha=aa[1],Ja=[Math.sin(wa),-Math.cos(wa),0],Oa=0,Sa=0;$d.reset();for(var lb=0,wb=la.length;wb>lb;++lb){var sb=la[lb],Ua=sb.length;if(Ua){var ub=sb[0],Nb=ub[0];aa=ub[1]/2+zb/4;for(var Ub=Math.sin(aa),Ac=Math.cos(aa),dc=1;;){dc===Ua&&(dc=0);aa=sb[dc];var sc=aa[0],rc=aa[1]/2+zb/4,Jc=Math.sin(rc);rc=Math.cos(rc);
var Qc=sc-Nb,Qe=0<=Qc?1:-1,Re=Qe*Qc,ce=Re>zb;Ub*=Jc;if($d.add(Math.atan2(Ub*Qe*Math.sin(Re),Ac*rc+Ub*Math.cos(Re))),Oa+=ce?Qc+Qe*Wc:Qc,ce^Nb>=wa^sc>=wa)ub=sd(rd(ub),rd(aa)),Vd(ub),Nb=sd(Ja,ub),Vd(Nb),Nb=(ce^0<=Qc?-1:1)*Ib(Nb[2]),(Ha>Nb||Ha===Nb&&(ub[0]||ub[1]))&&(Sa+=ce^0<=Qc?1:-1);if(!dc++)break;Nb=sc;Ub=Jc;Ac=rc;ub=aa}}}la=(-eb>Oa||eb>Oa&&0>$d)^1&Sa;Y.length?(Ma||(y.polygonStart(),Ma=!0),qf(Y,Yd,la,q,y)):la&&(Ma||(y.polygonStart(),Ma=!0),y.lineStart(),q(null,null,1,y),y.lineEnd());Ma&&(y.polygonEnd(),
Ma=!1);Y=fa=null},sphere:function(){y.polygonStart();y.lineStart();q(null,null,1,y);y.lineEnd();y.polygonEnd()}},ia=Me(),xa=l(ia),Ma=!1;return oa}}function tf(b){return 1<b.length}function Me(){var b,l=[];return{lineStart:function(){l.push(b=[])},point:function(q,t){b.push([q,t])},lineEnd:I,buffer:function(){var q=l;return l=[],b=null,q},rejoin:function(){1<l.length&&l.push(l.pop().concat(l.shift()))}}}function Yd(b,l){return(0>(b=b.x)[0]?b[1]-mc-eb:mc-b[1])-(0>(l=l.x)[0]?l[1]-mc-eb:mc-l[1])}function uf(b){function l(F,
K){return Math.cos(F)*Math.cos(K)>A}function q(F,K,N){var U=rd(F),W=rd(K),Y=[1,0,0];W=sd(U,W);var fa=Sd(W,W);U=W[0];var pa=fa-U*U;if(!pa)return!N&&F;fa=A*fa/pa;pa=-A*U/pa;U=sd(Y,W);Y=ue(Y,fa);W=ue(W,pa);ke(Y,W);W=Sd(Y,U);fa=Sd(U,U);pa=W*W-fa*(Sd(Y,Y)-1);if(!(0>pa)){var ka=Math.sqrt(pa);pa=ue(U,(-W-ka)/fa);if(ke(pa,Y),pa=ve(pa),!N)return pa;var na;N=F[0];var oa=K[0];F=F[1];K=K[1];N>oa&&(na=N,N=oa,oa=na);var ia=oa-N,xa=Bb(ia-zb)<eb,Ma=xa||eb>ia;if(!xa&&F>K&&(na=F,F=K,K=na),Ma?xa?0<F+K^pa[1]<(Bb(pa[0]-
N)<eb?F:K):F<=pa[1]&&pa[1]<=K:ia>zb^(N<=pa[0]&&pa[0]<=oa))return na=ue(U,(-W+ka)/fa),ke(na,Y),[pa,ve(na)]}}function t(F,K){var N=y?b:zb-b,U=0;return-N>F?U|=1:F>N&&(U|=2),-N>K?U|=4:K>N&&(U|=8),U}var A=Math.cos(b),y=0<A,E=Bb(A)>eb,C=M(b,6*Ab);return sf(l,function(F){var K,N,U,W,Y;return{lineStart:function(){W=U=!1;Y=1},point:function(fa,pa){var ka,na=[fa,pa],oa=l(fa,pa);fa=y?oa?0:t(fa,pa):oa?t(fa+(0>fa?zb:-zb),pa):0;if(!K&&(W=U=oa)&&F.lineStart(),oa!==U&&(ka=q(K,na),(Wd(K,ka)||Wd(na,ka))&&(na[0]+=eb,
na[1]+=eb,oa=l(na[0],na[1]))),oa!==U)Y=0,oa?(F.lineStart(),ka=q(na,K),F.point(ka[0],ka[1])):(ka=q(K,na),F.point(ka[0],ka[1]),F.lineEnd()),K=ka;else if(E&&K&&y^oa){var ia;fa&N||!(ia=q(na,K,!0))||(Y=0,y?(F.lineStart(),F.point(ia[0][0],ia[0][1]),F.point(ia[1][0],ia[1][1]),F.lineEnd()):(F.point(ia[1][0],ia[1][1]),F.lineEnd(),F.lineStart(),F.point(ia[0][0],ia[0][1])))}!oa||K&&Wd(K,na)||F.point(na[0],na[1]);K=na;U=oa;N=fa},lineEnd:function(){U&&F.lineEnd();K=null},clean:function(){return Y|(W&&U)<<1}}},
C,y?[0,-b]:[-zb,b-zb])}function xe(b,l,q,t){return function(A){var y,E=A.a,C=A.b,F=E.x;E=E.y;var K=0,N=1,U=C.x-F;C=C.y-E;if(y=b-F,U||!(0<y)){if(y/=U,0>U){if(K>y)return;N>y&&(N=y)}else if(0<U){if(y>N)return;y>K&&(K=y)}if(y=q-F,U||!(0>y)){if(y/=U,0>U){if(y>N)return;y>K&&(K=y)}else if(0<U){if(K>y)return;N>y&&(N=y)}if(y=l-E,C||!(0<y)){if(y/=C,0>C){if(K>y)return;N>y&&(N=y)}else if(0<C){if(y>N)return;y>K&&(K=y)}if(y=t-E,C||!(0>y)){if(y/=C,0>C){if(y>N)return;y>K&&(K=y)}else if(0<C){if(K>y)return;N>y&&(N=
y)}return 0<K&&(A.a={x:F+K*U,y:E+K*C}),1>N&&(A.b={x:F+N*U,y:E+N*C}),A}}}}}}function Ze(b,l,q,t){function A(C,F){return Bb(C[0]-b)<eb?0<F?0:3:Bb(C[0]-q)<eb?0<F?2:1:Bb(C[1]-l)<eb?0<F?1:0:0<F?3:2}function y(C,F){return E(C.x,F.x)}function E(C,F){var K=A(C,1),N=A(F,1);return K!==N?K-N:0===K?F[1]-C[1]:1===K?C[0]-F[0]:2===K?C[1]-F[1]:F[0]-C[0]}return function(C){function F(Ja,Oa,Sa,lb){var wb=0,sb=0;if(null==Ja||(wb=A(Ja,Sa))!==(sb=A(Oa,Sa))||0>E(Ja,Oa)^0<Sa){do lb.point(0===wb||3===wb?b:q,1<wb?t:l);while((wb=
(wb+Sa+4)%4)!==sb)}else lb.point(Oa[0],Oa[1])}function K(Ja,Oa){Ja>=b&&q>=Ja&&Oa>=l&&t>=Oa&&C.point(Ja,Oa)}function N(Ja,Oa){Ja=Math.max(-Lf,Math.min(Lf,Ja));Oa=Math.max(-Lf,Math.min(Lf,Oa));var Sa=Ja>=b&&q>=Ja&&Oa>=l&&t>=Oa;if(W&&Y.push([Ja,Oa]),xa)fa=Ja,pa=Oa,ka=Sa,xa=!1,Sa&&(C.lineStart(),C.point(Ja,Oa));else if(Sa&&ia)C.point(Ja,Oa);else{var lb={a:{x:na,y:oa},b:{x:Ja,y:Oa}};wa(lb)?(ia||(C.lineStart(),C.point(lb.a.x,lb.a.y)),C.point(lb.b.x,lb.b.y),Sa||C.lineEnd(),Ma=!1):Sa&&(C.lineStart(),C.point(Ja,
Oa),Ma=!1)}na=Ja;oa=Oa;ia=Sa}var U,W,Y,fa,pa,ka,na,oa,ia,xa,Ma,aa=C,la=Me(),wa=xe(b,l,q,t),Ha={point:K,lineStart:function(){Ha.point=N;W&&W.push(Y=[]);xa=!0;ia=!1;na=oa=0/0},lineEnd:function(){U&&(N(fa,pa),ka&&ia&&la.rejoin(),U.push(la.buffer()));Ha.point=K;ia&&C.lineEnd()},polygonStart:function(){C=la;U=[];W=[];Ma=!0},polygonEnd:function(){C=aa;U=Z.merge(U);var Ja=[b,t];for(var Oa=0,Sa=W.length,lb=Ja[1],wb=0;Sa>wb;++wb)for(var sb,Ua=1,ub=W[wb],Nb=ub.length,Ub=ub[0];Nb>Ua;++Ua)sb=ub[Ua],Ub[1]<=lb?
sb[1]>lb&&0<Va(Ub,sb,Ja)&&++Oa:sb[1]<=lb&&0>Va(Ub,sb,Ja)&&--Oa,Ub=sb;Ja=0!==Oa;Oa=Ma&&Ja;Sa=U.length;(Oa||Sa)&&(C.polygonStart(),Oa&&(C.lineStart(),F(null,null,1,C),C.lineEnd()),Sa&&qf(U,y,Ja,F,C),C.polygonEnd());U=W=Y=null}};return Ha}}function ye(b){var l=0,q=zb/3,t=Ae(b);b=t(l,q);return b.parallels=function(A){return arguments.length?t(l=A[0]*zb/180,q=A[1]*zb/180):[l/zb*180,q/zb*180]},b}function vf(b,l){function q(E,C){C=Math.sqrt(A-2*t*Math.sin(C))/t;return[C*Math.sin(E*=t),y-C*Math.cos(E)]}b=
Math.sin(b);var t=(b+Math.sin(l))/2,A=1+b*(2*t-b),y=Math.sqrt(A)/t;return q.invert=function(E,C){C=y-C;return[Math.atan2(E,C)/t,Ib((A-(E*E+C*C)*t*t)/(2*t))]},q}function wg(){function b(y,E){Fg+=A*y-t*E;t=y;A=E}var l,q,t,A;Md.point=function(y,E){Md.point=b;l=t=y;q=A=E};Md.lineEnd=function(){b(l,q)}}function xg(){function b(F,K){E.push("M",F,",",K,y)}function l(F,K){E.push("M",F,",",K);C.point=q}function q(F,K){E.push("L",F,",",K)}function t(){C.point=b}function A(){E.push("Z")}var y=wf(4.5),E=[],C=
{point:b,lineStart:function(){C.point=l},lineEnd:t,polygonStart:function(){C.lineEnd=A},polygonEnd:function(){C.lineEnd=t;C.point=b},pointRadius:function(F){return y=wf(F),C},result:function(){if(E.length){var F=E.join("");return E=[],F}}};return C}function wf(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function wd(b,l){ae+=b;be+=l;++Ad}function xf(){function b(t,A){var y=t-l,E=A-q;y=Math.sqrt(y*y+E*E);Jd+=y*(l+t)/2;Kd+=y*(q+A)/2;qd+=y;wd(l=t,q=A)}var l,q;ld.point=
function(t,A){ld.point=b;wd(l=t,q=A)}}function yf(){ld.point=wd}function yg(){function b(y,E){var C=y-t,F=E-A;C=Math.sqrt(C*C+F*F);Jd+=C*(t+y)/2;Kd+=C*(A+E)/2;qd+=C;C=A*y-t*E;Be+=C*(t+y);Ce+=C*(A+E);Ld+=3*C;wd(t=y,A=E)}var l,q,t,A;ld.point=function(y,E){ld.point=b;wd(l=t=y,q=A=E)};ld.lineEnd=function(){b(l,q)}}function zf(b){function l(F,K){b.moveTo(F+E,K);b.arc(F,K,E,0,Wc)}function q(F,K){b.moveTo(F,K);C.point=t}function t(F,K){b.lineTo(F,K)}function A(){C.point=l}function y(){b.closePath()}var E=
4.5,C={point:l,lineStart:function(){C.point=q},lineEnd:A,polygonStart:function(){C.lineEnd=y},polygonEnd:function(){C.lineEnd=A;C.point=l},pointRadius:function(F){return E=F,C},result:I};return C}function le(b){function l(F){return(C?t:q)(F)}function q(F){return Bf(F,function(K,N){K=b(K,N);F.point(K[0],K[1])})}function t(F){function K(lb,wb){lb=b(lb,wb);F.point(lb[0],lb[1])}function N(){la=0/0;Sa.point=U;F.lineStart()}function U(lb,wb){var sb=rd([lb,wb]);wb=b(lb,wb);A(la,wa,aa,Ha,Ja,Oa,la=wb[0],wa=
wb[1],aa=lb,Ha=sb[0],Ja=sb[1],Oa=sb[2],C,F);F.point(la,wa)}function W(){Sa.point=K;F.lineEnd()}function Y(){N();Sa.point=fa;Sa.lineEnd=pa}function fa(lb,wb){U(ka=lb,wb);na=la;oa=wa;ia=Ha;xa=Ja;Ma=Oa;Sa.point=U}function pa(){A(la,wa,aa,Ha,Ja,Oa,na,oa,ka,ia,xa,Ma,C,F);Sa.lineEnd=W;W()}var ka,na,oa,ia,xa,Ma,aa,la,wa,Ha,Ja,Oa,Sa={point:K,lineStart:N,lineEnd:W,polygonStart:function(){F.polygonStart();Sa.lineStart=Y},polygonEnd:function(){F.polygonEnd();Sa.lineStart=N}};return Sa}function A(F,K,N,U,W,Y,
fa,pa,ka,na,oa,ia,xa,Ma){var aa=fa-F,la=pa-K,wa=aa*aa+la*la;if(wa>4*y&&xa--){var Ha=U+na,Ja=W+oa,Oa=Y+ia,Sa=Math.sqrt(Ha*Ha+Ja*Ja+Oa*Oa),lb=Math.asin(Oa/=Sa),wb=Bb(Bb(Oa)-1)<eb||Bb(N-ka)<eb?(N+ka)/2:Math.atan2(Ja,Ha),sb=b(wb,lb);lb=sb[0];sb=sb[1];var Ua=lb-F,ub=sb-K,Nb=la*Ua-aa*ub;(Nb*Nb/wa>y||.3<Bb((aa*Ua+la*ub)/wa-.5)||E>U*na+W*oa+Y*ia)&&(A(F,K,N,U,W,Y,lb,sb,wb,Ha/=Sa,Ja/=Sa,Oa,xa,Ma),Ma.point(lb,sb),A(lb,sb,wb,Ha,Ja,Oa,fa,pa,ka,na,oa,ia,xa,Ma))}}var y=.5,E=Math.cos(30*Ab),C=16;return l.precision=
function(F){return arguments.length?(C=0<(y=F*F)&&16,l):Math.sqrt(y)},l}function Af(b){var l=le(function(q,t){return b([q*hc,t*hc])});return function(q){return Ne(l(q))}}function ze(b){this.stream=b}function Bf(b,l){return{point:l,sphere:function(){b.sphere()},lineStart:function(){b.lineStart()},lineEnd:function(){b.lineEnd()},polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}}}function Pc(b){return Ae(function(){return b})()}function Ae(b){function l(wa){return wa=C(wa[0]*
Ab,wa[1]*Ab),[wa[0]*W+F,K-wa[1]*W]}function q(wa){return wa=C.invert((wa[0]-F)/W,(K-wa[1])/W),wa&&[wa[0]*hc,wa[1]*hc]}function t(){C=pf(E=Oe(na,oa,ia),y);var wa=y(pa,ka);return F=Y-wa[0]*W,K=fa+wa[1]*W,A()}function A(){return N&&(N.valid=!1,N=null),l}var y,E,C,F,K,N,U=le(function(wa,Ha){return wa=y(wa,Ha),[wa[0]*W+F,K-wa[1]*W]}),W=150,Y=480,fa=250,pa=0,ka=0,na=0,oa=0,ia=0,xa=qh,Ma=x,aa=null,la=null;return l.stream=function(wa){return N&&(N.valid=!1),N=Ne(xa(E,U(Ma(wa)))),N.valid=!0,N},l.clipAngle=
function(wa){return arguments.length?(xa=null==wa?(aa=wa,qh):uf((aa=+wa)*Ab),A()):aa},l.clipExtent=function(wa){return arguments.length?(la=wa,Ma=wa?Ze(wa[0][0],wa[0][1],wa[1][0],wa[1][1]):x,A()):la},l.scale=function(wa){return arguments.length?(W=+wa,t()):W},l.translate=function(wa){return arguments.length?(Y=+wa[0],fa=+wa[1],t()):[Y,fa]},l.center=function(wa){return arguments.length?(pa=wa[0]%360*Ab,ka=wa[1]%360*Ab,t()):[pa*hc,ka*hc]},l.rotate=function(wa){return arguments.length?(na=wa[0]%360*
Ab,oa=wa[1]%360*Ab,ia=2<wa.length?wa[2]%360*Ab:0,t()):[na*hc,oa*hc,ia*hc]},Z.rebind(l,U,"precision"),function(){return y=b.apply(this,arguments),l.invert=y.invert&&q,t()}}function Ne(b){return Bf(b,function(l,q){b.point(l*Ab,q*Ab)})}function xd(b,l){return[b,l]}function Cf(b,l){return[b>zb?b-Wc:-zb>b?b+Wc:b,l]}function Oe(b,l,q){return b?l||q?pf(r(b),B(l,q)):r(b):l||q?B(l,q):Cf}function Df(b){return function(l,q){return l+=b,[l>zb?l-Wc:-zb>l?l+Wc:l,q]}}function r(b){var l=Df(b);return l.invert=Df(-b),
l}function B(b,l){function q(C,F){var K=Math.cos(F),N=Math.cos(C)*K;C=Math.sin(C)*K;F=Math.sin(F);K=F*t+N*A;return[Math.atan2(C*y-K*E,N*t-F*A),Ib(K*y+C*E)]}var t=Math.cos(b),A=Math.sin(b),y=Math.cos(l),E=Math.sin(l);return q.invert=function(C,F){var K=Math.cos(F),N=Math.cos(C)*K;C=Math.sin(C)*K;F=Math.sin(F);K=F*y-C*E;return[Math.atan2(C*y+F*E,N*t+K*A),Ib(K*t-N*A)]},q}function M(b,l){var q=Math.cos(b),t=Math.sin(b);return function(A,y,E,C){var F=E*l;null!=A?(A=Q(q,A),y=Q(q,y),(0<E?y>A:A>y)&&(A+=E*
Wc)):(A=b+E*Wc,y=b-.5*F);for(var K;0<E?A>y:y>A;A-=F)C.point((K=ve([q,-t*Math.cos(A),-t*Math.sin(A)]))[0],K[1])}}function Q(b,l){l=rd(l);l[0]-=b;Vd(l);b=kb(-l[1]);return((0>-l[2]?-b:b)+2*Math.PI-eb)%(2*Math.PI)}function V(b,l,q){var t=Z.range(b,l-eb,q).concat(l);return function(A){return t.map(function(y){return[A,y]})}}function ea(b,l,q){var t=Z.range(b,l-eb,q).concat(l);return function(A){return t.map(function(y){return[y,A]})}}function da(b){return b.source}function sa(b){return b.target}function ta(b,
l,q,t){var A=Math.cos(l),y=Math.sin(l),E=Math.cos(t),C=Math.sin(t),F=A*Math.cos(b),K=A*Math.sin(b),N=E*Math.cos(q),U=E*Math.sin(q),W=2*Math.asin(Math.sqrt(Eb(t-l)+A*E*Eb(q-b))),Y=1/Math.sin(W);q=W?function(fa){var pa=Math.sin(fa*=W)*Y;fa=Math.sin(W-fa)*Y;var ka=fa*F+pa*N,na=fa*K+pa*U;return[Math.atan2(na,ka)*hc,Math.atan2(fa*y+pa*C,Math.sqrt(ka*ka+na*na))*hc]}:function(){return[b*hc,l*hc]};return q.distance=W,q}function Ba(b,l){function q(t,A){var y=Math.cos(A),E=b(Math.cos(t)*y);return[E*y*Math.sin(t),
E*Math.sin(A)]}return q.invert=function(t,A){var y=Math.sqrt(t*t+A*A),E=l(y),C=Math.sin(E);return[Math.atan2(t*C,y*Math.cos(E)),Math.asin(y&&A*C/y)]},q}function Na(b,l){function q(E,C){0<y?-mc+eb>C&&(C=-mc+eb):C>mc-eb&&(C=mc-eb);C=y/Math.pow(Math.tan(zb/4+C/2),A);return[C*Math.sin(A*E),y-C*Math.cos(A*E)]}var t=Math.cos(b),A=b===l?Math.sin(b):Math.log(t/Math.cos(l))/Math.log(Math.tan(zb/4+l/2)/Math.tan(zb/4+b/2)),y=t*Math.pow(Math.tan(zb/4+b/2),A)/A;return A?(q.invert=function(E,C){C=y-C;return[Math.atan2(E,
C)/A,2*Math.atan(Math.pow(y/((0<A?1:0>A?-1:0)*Math.sqrt(E*E+C*C)),1/A))-mc]},q):fb}function Aa(b,l){function q(E,C){C=y-C;return[C*Math.sin(A*E),y-C*Math.cos(A*E)]}var t=Math.cos(b),A=b===l?Math.sin(b):(t-Math.cos(l))/(l-b),y=t/A+b;return Bb(A)<eb?xd:(q.invert=function(E,C){C=y-C;return[Math.atan2(E,C)/A,y-(0<A?1:0>A?-1:0)*Math.sqrt(E*E+C*C)]},q)}function fb(b,l){return[b,Math.log(Math.tan(zb/4+l/2))]}function nb(b){var l,q=Pc(b),t=q.scale,A=q.translate,y=q.clipExtent;return q.scale=function(){var E=
t.apply(q,arguments);return E===q?l?q.clipExtent(null):q:E},q.translate=function(){var E=A.apply(q,arguments);return E===q?l?q.clipExtent(null):q:E},q.clipExtent=function(E){var C=y.apply(q,arguments);if(C===q){if(l=null==E){var F=zb*t(),K=A();y([[K[0]-F,K[1]-F],[K[0]+F,K[1]+F]])}}else l&&(C=null);return C},q.clipExtent(null)}function ob(b,l){return[Math.log(Math.tan(zb/4+l/2)),-b]}function Hb(b){return b[0]}function Wb(b){return b[1]}function Nc(b){for(var l=b.length,q=[0,1],t=2,A=2;l>A;A++){for(;1<
t&&0>=Va(b[q[t-2]],b[q[t-1]],b[A]);)--t;q[t++]=A}return q.slice(0,t)}function vc(b,l){return b[0]-l[0]||b[1]-l[1]}function Bc(b,l,q){return(q[0]-l[0])*(b[1]-l[1])<(q[1]-l[1])*(b[0]-l[0])}function qb(b,l,q,t){var A=b[0],y=q[0],E=l[0]-A,C=t[0]-y;b=b[1];q=q[1];l=l[1]-b;t=t[1]-q;y=(C*(b-q)-t*(A-y))/(t*E-C*l);return[A+y*E,b+y*l]}function Fb(b){var l=b[0];b=b[b.length-1];return!(l[0]-b[0]||l[1]-b[1])}function Qb(){Vb(this);this.edge=this.site=this.circle=null}function oc(b){var l=rh.pop()||new Qb;return l.site=
b,l}function Yc(b){uc(b);De.remove(b);rh.push(b);Vb(b)}function Ed(b,l){var q=b.site,t=q.x,A=q.y,y=A-l;if(!y)return t;b=b.P;if(!b)return-1/0;q=b.site;b=q.x;q=q.y;l=q-l;if(!l)return b;var E=b-t,C=1/y-1/l,F=E/l;return C?(-F+Math.sqrt(F*F-2*C*(E*E/(-2*l)-q+l/2+A-y/2)))/C+t:(t+b)/2}function Lc(b){this.site=b;this.edges=[]}function ed(b,l){return l.angle-b.angle}function Ic(){Vb(this);this.x=this.y=this.arc=this.site=this.cy=null}function wc(b){var l=b.P,q=b.N;if(l&&q){var t=l.site;l=b.site;var A=q.site;
if(t!==A){q=l.x;var y=l.y,E=t.x-q,C=t.y-y;t=A.x-q;A=A.y-y;var F=2*(E*A-C*t);if(!(F>=-Gg)){var K=E*E+C*C,N=t*t+A*A;C=(A*K-C*N)/F;E=(E*N-t*K)/F;A=E+y;y=sh.pop()||new Ic;y.arc=b;y.site=l;y.x=C+q;y.y=A+Math.sqrt(C*C+E*E);y.cy=A;b.circle=y;b=null;for(l=Se._;l;)if(y.y<l.y||y.y===l.y&&y.x<=l.x){if(!l.L){b=l.P;break}l=l.L}else{if(!l.R){b=l;break}l=l.R}Se.insert(b,y);b||(Hg=y)}}}}function uc(b){var l=b.circle;l&&(l.P||(Hg=l.N),Se.remove(l),sh.push(l),Vb(l),b.circle=null)}function Mb(b,l){var q=b.b;if(q)return!0;
var t,A=b.a;q=l[0][0];var y=l[1][0],E=l[0][1];l=l[1][1];var C=b.l;var F=b.r;var K=C.x;C=C.y;var N=F.x,U=F.y,W=(K+N)/2;if(U===C){if(q>W||W>=y)return;if(K>N){if(A){if(A.y>=l)return}else A={x:W,y:E};q={x:W,y:l}}else{if(A){if(A.y<E)return}else A={x:W,y:l};q={x:W,y:E}}}else if(t=(K-N)/(U-C),F=(C+U)/2-t*W,-1>t||1<t)if(K>N){if(A){if(A.y>=l)return}else A={x:(E-F)/t,y:E};q={x:(l-F)/t,y:l}}else{if(A){if(A.y<E)return}else A={x:(l-F)/t,y:l};q={x:(E-F)/t,y:E}}else if(U>C){if(A){if(A.x>=y)return}else A={x:q,y:t*
q+F};q={x:y,y:t*y+F}}else{if(A){if(A.x<q)return}else A={x:y,y:t*y+F};q={x:q,y:t*q+F}}return b.a=A,b.b=q,!0}function Zb(b,l){this.l=b;this.r=l;this.a=this.b=null}function cc(b,l,q,t){var A=new Zb(b,l);return Ee.push(A),q&&ac(A,b,l,q),t&&ac(A,l,b,t),de[b.i].edges.push(new zc(A,b,l)),de[l.i].edges.push(new zc(A,l,b)),A}function ac(b,l,q,t){b.a||b.b?b.l===q?b.b=t:b.a=t:(b.a=t,b.l=l,b.r=q)}function zc(b,l,q){var t=b.a,A=b.b;this.edge=b;this.site=l;this.angle=q?Math.atan2(q.y-l.y,q.x-l.x):b.l===l?Math.atan2(A.x-
t.x,t.y-A.y):Math.atan2(t.x-A.x,A.y-t.y)}function qc(){this._=null}function Vb(b){b.U=b.C=b.L=b.R=b.P=b.N=null}function Jb(b,l){var q=l.R,t=l.U;t?t.L===l?t.L=q:t.R=q:b._=q;q.U=t;l.U=q;l.R=q.L;l.R&&(l.R.U=l);q.L=l}function gc(b,l){var q=l.L,t=l.U;t?t.L===l?t.L=q:t.R=q:b._=q;q.U=t;l.U=q;l.L=q.R;l.L&&(l.L.U=l);q.R=l}function Yb(b){for(;b.L;)b=b.L;return b}function Mc(b,l){var q,t,A=b.sort(td).pop();Ee=[];de=Array(b.length);De=new qc;for(Se=new qc;;)if(t=Hg,A&&(!t||A.y<t.y||A.y===t.y&&A.x<t.x)){if(A.x!==
q||A.y!==C){de[A.i]=new Lc(A);var y=void 0,E=void 0;var C=q=void 0;for(var F=A,K=F.x,N=F.y,U=De._;U;)if(E=Ed(U,N)-K,E>eb)U=U.L;else{var W=U;var Y=N;var fa=W.N;fa?Y=Ed(fa,Y):(W=W.site,Y=W.y===Y?W.x:1/0);if(y=K-Y,!(y>eb)){E>-eb?(C=U.P,q=U):y>-eb?(C=U,q=U.N):C=q=U;break}if(!U.R){C=U;break}U=U.R}y=oc(F);if(De.insert(C,y),C||q)if(C===q)uc(C),q=oc(C.site),De.insert(y,q),y.edge=q.edge=cc(C.site,y.site),wc(C),wc(q);else if(q){uc(C);uc(q);E=C.site;N=E.x;U=E.y;Y=F.x-N;W=F.y-U;K=q.site;fa=K.x-N;var pa=K.y-U,
ka=2*(Y*pa-W*fa),na=Y*Y+W*W,oa=fa*fa+pa*pa;N={x:(pa*na-W*oa)/ka+N,y:(Y*oa-fa*na)/ka+U};ac(q.edge,E,K,N);y.edge=cc(E,F,null,N);q.edge=cc(F,K,null,N);wc(C);wc(q)}else y.edge=cc(C.site,y.site);q=A.x;C=A.y}A=b.pop()}else{if(!t)break;K=t.arc;F=K.circle;E=F.x;N=F.cy;F={x:E,y:N};Y=K.P;U=K.N;y=[K];Yc(K);for(K=Y;K.circle&&Bb(E-K.circle.x)<eb&&Bb(N-K.circle.cy)<eb;)Y=K.P,y.unshift(K),Yc(K),K=Y;y.unshift(K);uc(K);for(Y=U;Y.circle&&Bb(E-Y.circle.x)<eb&&Bb(N-Y.circle.cy)<eb;)U=Y.N,y.push(Y),Yc(Y),Y=U;y.push(Y);
uc(Y);N=y.length;for(E=1;N>E;++E)Y=y[E],K=y[E-1],ac(Y.edge,K.site,Y.site,F);K=y[0];Y=y[N-1];Y.edge=cc(K.site,Y.site,null,F);wc(K);wc(Y)}if(l){t=Ee;A=xe(l[0][0],l[0][1],l[1][0],l[1][1]);for(q=t.length;q--;)b=t[q],(!Mb(b,l)||!A(b)||Bb(b.a.x-b.b.x)<eb&&Bb(b.a.y-b.b.y)<eb)&&(b.a=b.b=null,t.splice(q,1));var ia;b=l[0][0];t=l[1][0];A=l[0][1];F=l[1][1];y=de;for(E=y.length;E--;)if(ia=y[E],ia&&ia.prepare())for(q=ia.edges,C=q.length,l=0;C>l;)if(pa=q[l].end(),W=pa.x,fa=pa.y,K=q[++l%C].start(),Y=K.x,ka=K.y,Bb(W-
Y)>eb||Bb(fa-ka)>eb)K=q,N=K.splice,U=l,Y=Bb(W-b)<eb&&F-fa>eb?{x:b,y:Bb(Y-b)<eb?ka:F}:Bb(fa-F)<eb&&t-W>eb?{x:Bb(ka-F)<eb?Y:t,y:F}:Bb(W-t)<eb&&fa-A>eb?{x:t,y:Bb(Y-t)<eb?ka:A}:Bb(fa-A)<eb&&W-b>eb?{x:Bb(ka-A)<eb?Y:b,y:A}:null,W=new Zb(ia.site,null),Y=(W.a=pa,W.b=Y,Ee.push(W),W),N.call(K,U,0,new zc(Y,ia.site,null)),++C}ia={cells:de,edges:Ee};return De=Se=Ee=de=null,ia}function td(b,l){return l.y-b.y||l.x-b.x}function ne(b){return b.x}function cf(b){return b.y}function Td(){return{leaf:!0,nodes:[],point:null,
x:null,y:null}}function ud(b,l,q,t,A,y){if(!b(l,q,t,A,y)){var E=.5*(q+A),C=.5*(t+y);l=l.nodes;l[0]&&ud(b,l[0],q,t,E,C);l[1]&&ud(b,l[1],E,t,A,C);l[2]&&ud(b,l[2],q,C,E,y);l[3]&&ud(b,l[3],E,C,A,y)}}function pg(b,l,q,t,A,y,E){var C,F=1/0;return function pa(N,U,W,Y,fa){if(!(U>y||W>E||t>Y||A>fa)){if(ka=N.point){var ka,na=l-N.x,oa=q-N.y;na=na*na+oa*oa;F>na&&(na=Math.sqrt(F=na),t=l-na,A=q-na,y=l+na,E=q+na,C=ka)}ka=N.nodes;na=.5*(U+Y);oa=.5*(W+fa);for(var ia=(q>=oa)<<1|l>=na,xa=ia+4;xa>ia;++ia)if(N=ka[3&ia])switch(3&
ia){case 0:pa(N,U,W,na,oa);break;case 1:pa(N,na,W,Y,oa);break;case 2:pa(N,U,oa,na,fa);break;case 3:pa(N,na,oa,Y,fa)}}}(b,t,A,y,E),C}function fd(b,l){b=Z.rgb(b);l=Z.rgb(l);var q=b.r,t=b.g,A=b.b,y=l.r-q,E=l.g-t,C=l.b-A;return function(F){return"#"+Xa(Math.round(q+y*F))+Xa(Math.round(t+E*F))+Xa(Math.round(A+C*F))}}function df(b,l){var q,t={},A={};for(q in b)q in l?t[q]=od(b[q],l[q]):A[q]=b[q];for(q in l)q in b||(A[q]=l[q]);return function(y){for(q in t)A[q]=t[q](y);return A}}function gd(b,l){return b=
+b,l=+l,function(q){return b*(1-q)+l*q}}function dd(b,l){var q,t,A,y=Ig.lastIndex=Jg.lastIndex=0,E=-1,C=[],F=[];b+="";for(l+="";(q=Ig.exec(b))&&(t=Jg.exec(l));)(A=t.index)>y&&(A=l.slice(y,A),C[E]?C[E]+=A:C[++E]=A),(q=q[0])===(t=t[0])?C[E]?C[E]+=t:C[++E]=t:(C[++E]=null,F.push({i:E,x:gd(q,t)})),y=Jg.lastIndex;return y<l.length&&(A=l.slice(y),C[E]?C[E]+=A:C[++E]=A),2>C.length?F[0]?(l=F[0].x,function(K){return l(K)+""}):function(){return l}:(l=F.length,function(K){for(var N,U=0;l>U;++U)C[(N=F[U]).i]=
N.x(K);return C.join("")})}function od(b,l){for(var q,t=Z.interpolators.length;0<=--t&&!(q=Z.interpolators[t](b,l)););return q}function Zc(b,l){var q,t=[],A=[],y=b.length,E=l.length,C=Math.min(b.length,l.length);for(q=0;C>q;++q)t.push(od(b[q],l[q]));for(;y>q;++q)A[q]=b[q];for(;E>q;++q)A[q]=l[q];return function(F){for(q=0;C>q;++q)A[q]=t[q](F);return A}}function qg(b){return function(l){return 0>=l?0:1<=l?1:b(l)}}function Ud(b){return function(l){return 1-b(1-l)}}function ef(b){return function(l){return.5*
(.5>l?b(2*l):2-b(2-2*l))}}function af(b){return b*b}function ng(b){return b*b*b}function rg(b){if(0>=b)return 0;if(1<=b)return 1;var l=b*b,q=l*b;return 4*(.5>b?q:3*(b-l)+q-.75)}function sg(b){return 1-Math.cos(b*mc)}function oe(b){return Math.pow(2,10*(b-1))}function tg(b){return 1-Math.sqrt(1-b*b)}function ug(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375}function ff(b,l){return l-=b,function(q){return Math.round(b+
l*q)}}function Fd(b){var l=[b.a,b.b],q=[b.c,b.d],t=$e(l),A=l[0]*q[0]+l[1]*q[1];var y=-A;y=(q[0]+=y*l[0],q[1]+=y*l[1],q);y=$e(y)||0;l[0]*q[1]<q[0]*l[1]&&(l[0]*=-1,l[1]*=-1,t*=-1,A*=-1);this.rotate=(t?Math.atan2(l[1],l[0]):Math.atan2(-q[0],q[1]))*hc;this.translate=[b.e,b.f];this.scale=[t,y];this.skew=y?Math.atan2(A,y)*hc:0}function $e(b){var l=Math.sqrt(b[0]*b[0]+b[1]*b[1]);return l&&(b[0]/=l,b[1]/=l),l}function me(b,l){var q,t=[],A=[],y=Z.transform(b),E=Z.transform(l);l=y.translate;b=E.translate;var C=
y.rotate,F=E.rotate,K=y.skew,N=E.skew;y=y.scale;E=E.scale;return l[0]!=b[0]||l[1]!=b[1]?(t.push("translate(",null,",",null,")"),A.push({i:1,x:gd(l[0],b[0])},{i:3,x:gd(l[1],b[1])})):t.push(b[0]||b[1]?"translate("+b+")":""),C!=F?(180<C-F?F+=360:180<F-C&&(C+=360),A.push({i:t.push(t.pop()+"rotate(",null,")")-2,x:gd(C,F)})):F&&t.push(t.pop()+"rotate("+F+")"),K!=N?A.push({i:t.push(t.pop()+"skewX(",null,")")-2,x:gd(K,N)}):N&&t.push(t.pop()+"skewX("+N+")"),y[0]!=E[0]||y[1]!=E[1]?(q=t.push(t.pop()+"scale(",
null,",",null,")"),A.push({i:q-4,x:gd(y[0],E[0])},{i:q-2,x:gd(y[1],E[1])})):(1!=E[0]||1!=E[1])&&t.push(t.pop()+"scale("+E+")"),q=A.length,function(U){for(var W,Y=-1;++Y<q;)t[(W=A[Y]).i]=W.x(U);return t.join("")}}function hd(b,l){return l=(l-=b=+b)||1/l,function(q){return(q-b)/l}}function jd(b,l){return l=(l-=b=+b)||1/l,function(q){return Math.max(0,Math.min(1,(q-b)/l))}}function Je(b){for(var l=[],q=b.parent;null!=q;)l.push(b),b=q,q=q.parent;return l.push(b),l}function bf(b){b.fixed|=2}function gf(b){b.fixed&=
-7}function og(b){b.fixed|=4;b.px=b.x;b.py=b.y}function ca(b){b.fixed&=-5}function qa(b,l,q){var t=0,A=0;if(b.charge=0,!b.leaf)for(var y,E=b.nodes,C=E.length,F=-1;++F<C;)y=E[F],null!=y&&(qa(y,l,q),b.charge+=y.charge,t+=y.charge*y.cx,A+=y.charge*y.cy);b.point&&(b.leaf||(b.point.x+=Math.random()-.5,b.point.y+=Math.random()-.5),l*=q[b.point.index],b.charge+=b.pointCharge=l,t+=l*b.point.x,A+=l*b.point.y);b.cx=t/b.charge;b.cy=A/b.charge}function za(b,l){return Z.rebind(b,l,"sort","children","value"),b.nodes=
b,b.links=db,b}function ya(b,l){for(var q=[b];null!=(b=q.pop());)if(l(b),(A=b.children)&&(t=A.length))for(var t,A;0<=--t;)q.push(A[t])}function Ea(b,l){for(var q=[b],t=[];null!=(b=q.pop());)if(t.push(b),(y=b.children)&&(A=y.length)){var A,y;for(b=-1;++b<A;)q.push(y[b])}for(;null!=(b=t.pop());)l(b)}function $a(b){return b.children}function Ya(b){return b.value}function vb(b,l){return l.value-b.value}function db(b){return Z.merge(b.map(function(l){return(l.children||[]).map(function(q){return{source:l,
target:q}})}))}function yb(b){return b.x}function Pb(b){return b.y}function kc(b,l,q){b.y0=l;b.y=q}function fc(b){return Z.range(b.length)}function Kb(b){var l=-1;b=b[0].length;for(var q=[];++l<b;)q[l]=0;return q}function Rb(b){for(var l,q=1,t=0,A=b[0][1],y=b.length;y>q;++q)(l=b[q][1])>A&&(t=q,A=l);return t}function Xb(b){return b.reduce(Sc,0)}function Sc(b,l){return b+l[1]}function yc(b,l){return pc(b,Math.ceil(Math.log(l.length)/Math.LN2+1))}function pc(b,l){var q=-1,t=+b[0];b=(b[1]-t)/l;for(var A=
[];++q<=l;)A[q]=b*q+t;return A}function lc(b){return[Z.min(b),Z.max(b)]}function hf(b,l){return b.value-l.value}function pe(b,l){var q=b._pack_next;b._pack_next=l;l._pack_prev=b;l._pack_next=q;q._pack_prev=l}function Ke(b,l){b._pack_next=l;l._pack_prev=b}function jf(b,l){var q=l.x-b.x,t=l.y-b.y;b=b.r+l.r;return.999*b*b>q*q+t*t}function qe(b){function l(na){K=Math.min(na.x-na.r,K);N=Math.max(na.x+na.r,N);U=Math.min(na.y-na.r,U);W=Math.max(na.y+na.r,W)}if((q=b.children)&&(F=q.length)){var q,t,A,y,E,
C,F,K=1/0,N=-1/0,U=1/0,W=-1/0;if(q.forEach(si),t=q[0],t.x=-t.r,t.y=0,l(t),1<F&&(A=q[1],A.x=A.r,A.y=0,l(A),2<F)){var Y=q[2];th(t,A,Y);l(Y);pe(t,Y);t._pack_prev=Y;pe(Y,A);A=t._pack_next;for(y=3;F>y;y++){th(t,A,Y=q[y]);var fa=0,pa=1,ka=1;for(E=A._pack_next;E!==A;E=E._pack_next,pa++)if(jf(E,Y)){fa=1;break}if(1==fa)for(C=t._pack_prev;C!==E._pack_prev&&!jf(C,Y);C=C._pack_prev,ka++);fa?(ka>pa||pa==ka&&A.r<t.r?Ke(t,A=E):Ke(t=C,A),y--):(pe(t,Y),A=Y,l(Y))}}t=(K+N)/2;A=(U+W)/2;for(y=E=0;F>y;y++)Y=q[y],Y.x-=
t,Y.y-=A,E=Math.max(E,Y.r+Math.sqrt(Y.x*Y.x+Y.y*Y.y));b.r=E;q.forEach(ti)}}function si(b){b._pack_next=b._pack_prev=b}function ti(b){delete b._pack_next;delete b._pack_prev}function uh(b,l,q,t){var A=b.children;if(b.x=l+=t*b.x,b.y=q+=t*b.y,b.r*=t,A){b=-1;for(var y=A.length;++b<y;)uh(A[b],l,q,t)}}function th(b,l,q){var t=b.r+q.r,A=l.x-b.x,y=l.y-b.y;if(t&&(A||y)){l=l.r+q.r;var E=A*A+y*y;l*=l;t*=t;var C=.5+(t-l)/(2*E),F=Math.sqrt(Math.max(0,2*l*(t+E)-(t-=E)*t-l*l))/(2*E);q.x=b.x+C*A+F*y;q.y=b.y+C*y-
F*A}else q.x=b.x+t,q.y=b.y}function vh(b,l){return b.parent==l.parent?1:2}function Kg(b){var l=b.children;return l.length?l[0]:b.t}function Lg(b){var l,q=b.children;return(l=q.length)?q[l-1]:b.t}function ui(b){return 1+Z.max(b,function(l){return l.y})}function vi(b){return b.reduce(function(l,q){return l+q.x},0)/b.length}function wh(b){var l=b.children;return l&&l.length?wh(l[0]):b}function xh(b){var l,q=b.children;return q&&(l=q.length)?xh(q[l-1]):b}function Mg(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy}}
function yh(b,l){var q=b.x+l[3],t=b.y+l[0],A=b.dx-l[1]-l[3];b=b.dy-l[0]-l[2];return 0>A&&(q+=A/2,A=0),0>b&&(t+=b/2,b=0),{x:q,y:t,dx:A,dy:b}}function Fe(b){var l=b[0];b=b[b.length-1];return b>l?[l,b]:[b,l]}function Mf(b){return b.rangeExtent?b.rangeExtent():Fe(b.range())}function wi(b,l,q,t){var A=q(b[0],b[1]),y=t(l[0],l[1]);return function(E){return y(A(E))}}function Nf(b,l){var q,t=0,A=b.length-1,y=b[t],E=b[A];return y>E&&(q=t,t=A,A=q,q=y,y=E,E=q),b[t]=l.floor(y),b[A]=l.ceil(E),b}function zh(b){return b?
{floor:function(l){return Math.floor(l/b)*b},ceil:function(l){return Math.ceil(l/b)*b}}:xi}function yi(b,l,q,t){var A=[],y=[],E=0,C=Math.min(b.length,l.length)-1;for(b[C]<b[0]&&(b=b.slice().reverse(),l=l.slice().reverse());++E<=C;)A.push(q(b[E-1],b[E])),y.push(t(l[E-1],l[E]));return function(F){var K=Z.bisect(b,F,1,C)-1;return y[K](A[K](F))}}function Ah(b,l,q,t){function A(){var F=2<Math.min(b.length,l.length)?yi:wi,K=t?jd:hd;return E=F(b,l,K,q),C=F(l,b,K,od),y}function y(F){return E(F)}var E,C;return y.invert=
function(F){return C(F)},y.domain=function(F){return arguments.length?(b=F.map(Number),A()):b},y.range=function(F){return arguments.length?(l=F,A()):l},y.rangeRound=function(F){return y.range(F).interpolate(ff)},y.clamp=function(F){return arguments.length?(t=F,A()):t},y.interpolate=function(F){return arguments.length?(q=F,A()):q},y.ticks=function(F){return Z.range.apply(Z,Nd(b,F))},y.tickFormat=function(F,K){return Ng(b,F,K)},y.nice=function(F){return Nf(b,zh(Nd(b,F)[2])),A()},y.copy=function(){return Ah(b,
l,q,t)},A()}function Og(b,l){return Z.rebind(b,l,"range","rangeRound","interpolate","clamp")}function Nd(b,l){null==l&&(l=10);b=Fe(b);var q=b[1]-b[0],t=Math.pow(10,Math.floor(Math.log(q/l)/Math.LN10));l=l/q*t;return.15>=l?t*=10:.35>=l?t*=5:.75>=l&&(t*=2),b[0]=Math.ceil(b[0]/t)*t,b[1]=Math.floor(b[1]/t)*t+.5*t,b[2]=t,b}function Ng(b,l,q){b=Nd(b,l);if(q){l=mh.exec(q);if(l.shift(),"s"===l[8]){var t=Z.formatPrefix(Math.max(Bb(b[0]),Bb(b[1])));return l[7]||(l[7]="."+Of(t.scale(b[2]))),l[8]="f",q=Z.format(l.join("")),
function(A){return q(t.scale(A))+t.symbol}}l[7]||(l[7]="."+zi(l[8],b));q=l.join("")}else q=",."+Of(b[2])+"f";return Z.format(q)}function Of(b){return-Math.floor(Math.log(b)/Math.LN10+.01)}function zi(b,l){var q=Of(l[2]);return b in Ai?Math.abs(q-Of(Math.max(Bb(l[0]),Bb(l[1]))))+ +("e"!==b):q-2*("%"===b)}function Bh(b,l,q,t){function A(C){return(q?Math.log(0>C?0:C):-Math.log(0<C?0:-C))/Math.log(l)}function y(C){return q?Math.pow(l,C):-Math.pow(l,-C)}function E(C){return b(A(C))}return E.invert=function(C){return y(b.invert(C))},
E.domain=function(C){return arguments.length?(q=0<=C[0],b.domain((t=C.map(Number)).map(A)),E):t},E.base=function(C){return arguments.length?(l=+C,b.domain(t.map(A)),E):l},E.nice=function(){var C=Nf(t.map(A),q?Math:Bi);return b.domain(C),t=C.map(y),E},E.ticks=function(){var C=Fe(t),F=[],K=C[0];C=C[1];var N=Math.floor(A(K)),U=Math.ceil(A(C)),W=l%1?2:l;if(isFinite(U-N)){if(q){for(;U>N;N++)for(var Y=1;W>Y;Y++)F.push(y(N)*Y);F.push(y(N))}else for(F.push(y(N));N++<U;)for(Y=W-1;0<Y;Y--)F.push(y(N)*Y);for(N=
0;F[N]<K;N++);for(U=F.length;F[U-1]>C;U--);F=F.slice(N,U)}return F},E.tickFormat=function(C,F){if(!arguments.length)return Ch;2>arguments.length?F=Ch:"function"!=typeof F&&(F=Z.format(F));var K,N=Math.max(.1,C/E.ticks().length),U=q?(K=1E-12,Math.ceil):(K=-1E-12,Math.floor);return function(W){return W/y(U(A(W)+K))<=N?F(W):""}},E.copy=function(){return Bh(b.copy(),l,q,t)},Og(E,b)}function Dh(b,l,q){function t(E){return b(A(E))}var A=Pf(l),y=Pf(1/l);return t.invert=function(E){return y(b.invert(E))},
t.domain=function(E){return arguments.length?(b.domain((q=E.map(Number)).map(A)),t):q},t.ticks=function(E){return Z.range.apply(Z,Nd(q,E))},t.tickFormat=function(E,C){return Ng(q,E,C)},t.nice=function(E){return t.domain(Nf(q,zh(Nd(q,E)[2])))},t.exponent=function(E){return arguments.length?(A=Pf(l=E),y=Pf(1/l),b.domain(q.map(A)),t):l},t.copy=function(){return Dh(b.copy(),l,q)},Og(t,b)}function Pf(b){return function(l){return 0>l?-Math.pow(-l,b):Math.pow(l,b)}}function Eh(b,l){function q(C){return y[((A.get(C)||
("range"===l.t?A.set(C,b.push(C)):0/0))-1)%y.length]}function t(C,F){return Z.range(b.length).map(function(K){return C+F*K})}var A,y,E;return q.domain=function(C){if(!arguments.length)return b;b=[];A=new e;for(var F,K=-1,N=C.length;++K<N;)A.has(F=C[K])||A.set(F,b.push(F));return q[l.t].apply(q,l.a)},q.range=function(C){return arguments.length?(y=C,E=0,l={t:"range",a:arguments},q):y},q.rangePoints=function(C,F){2>arguments.length&&(F=0);var K=C[0],N=C[1],U=2>b.length?(K=(K+N)/2,0):(N-K)/(b.length-
1+F);return y=t(K+U*F/2,U),E=0,l={t:"rangePoints",a:arguments},q},q.rangeRoundPoints=function(C,F){2>arguments.length&&(F=0);var K=C[0],N=C[1],U=2>b.length?(K=N=Math.round((K+N)/2),0):(N-K)/(b.length-1+F)|0;return y=t(K+Math.round(U*F/2+(N-K-(b.length-1+F)*U)/2),U),E=0,l={t:"rangeRoundPoints",a:arguments},q},q.rangeBands=function(C,F,K){2>arguments.length&&(F=0);3>arguments.length&&(K=F);var N=C[1]<C[0],U=C[N-0],W=(C[1-N]-U)/(b.length-F+2*K);return y=t(U+W*K,W),N&&y.reverse(),E=W*(1-F),l={t:"rangeBands",
a:arguments},q},q.rangeRoundBands=function(C,F,K){2>arguments.length&&(F=0);3>arguments.length&&(K=F);var N=C[1]<C[0],U=C[N-0],W=C[1-N],Y=Math.floor((W-U)/(b.length-F+2*K));return y=t(U+Math.round((W-U-(b.length-F)*Y)/2),Y),N&&y.reverse(),E=Math.round(Y*(1-F)),l={t:"rangeRoundBands",a:arguments},q},q.rangeBand=function(){return E},q.rangeExtent=function(){return Fe(l.a[0])},q.copy=function(){return Eh(b,l)},q.domain(b)}function Fh(b,l){function q(){var y=0,E=l.length;for(A=[];++y<E;)A[y-1]=Z.quantile(b,
y/E);return t}function t(y){return isNaN(y=+y)?void 0:l[Z.bisect(A,y)]}var A;return t.domain=function(y){return arguments.length?(b=y.map(X).filter(a).sort(L),q()):b},t.range=function(y){return arguments.length?(l=y,q()):l},t.quantiles=function(){return A},t.invertExtent=function(y){return y=l.indexOf(y),0>y?[0/0,0/0]:[0<y?A[y-1]:b[0],y<A.length?A[y]:b[b.length-1]]},t.copy=function(){return Fh(b,l)},q()}function Gh(b,l,q){function t(C){return q[Math.max(0,Math.min(E,Math.floor(y*(C-b))))]}function A(){return y=
q.length/(l-b),E=q.length-1,t}var y,E;return t.domain=function(C){return arguments.length?(b=+C[0],l=+C[C.length-1],A()):[b,l]},t.range=function(C){return arguments.length?(q=C,A()):q},t.invertExtent=function(C){return C=q.indexOf(C),C=0>C?0/0:C/y+b,[C,C+1/y]},t.copy=function(){return Gh(b,l,q)},A()}function Hh(b,l){function q(t){return t>=t?l[Z.bisect(b,t)]:void 0}return q.domain=function(t){return arguments.length?(b=t,q):b},q.range=function(t){return arguments.length?(l=t,q):l},q.invertExtent=
function(t){return t=l.indexOf(t),[b[t-1],b[t]]},q.copy=function(){return Hh(b,l)},q}function Ih(b){function l(q){return+q}return l.invert=l,l.domain=l.range=function(q){return arguments.length?(b=q.map(l),l):b},l.ticks=function(q){return Z.range.apply(Z,Nd(b,q))},l.tickFormat=function(q,t){return Ng(b,q,t)},l.copy=function(){return Ih(b)},l}function Ci(){return 0}function Di(b){return b.innerRadius}function Ei(b){return b.outerRadius}function Jh(b){return b.startAngle}function Kh(b){return b.endAngle}
function Fi(b){return b&&b.padAngle}function Qf(b,l,q,t){return 0<(b-q)*l-(l-t)*b?0:1}function Rf(b,l,q,t,A){var y=b[0]-l[0],E=b[1]-l[1];A=(A?t:-t)/Math.sqrt(y*y+E*E);E*=A;y*=-A;var C=b[0]+E,F=b[1]+y,K=l[0]+E,N=l[1]+y;b=(C+K)/2;l=(F+N)/2;A=K-C;var U=N-F,W=A*A+U*U;t=q-t;N=C*N-K*F;var Y=(0>U?-1:1)*Math.sqrt(t*t*W-N*N);C=(N*U-A*Y)/W;F=(-N*A-U*Y)/W;K=(N*U+A*Y)/W;A=(-N*A+U*Y)/W;U=C-b;W=F-l;b=K-b;l=A-l;return U*U+W*W>b*b+l*l&&(C=K,F=A),[[C-E,F-y],[C*q/t,F*q/t]]}function Lh(b){function l(F){function K(){U.push("M",
y(b(W),C))}for(var N,U=[],W=[],Y=-1,fa=F.length,pa=Lb(q),ka=Lb(t);++Y<fa;)A.call(this,N=F[Y],Y)?W.push([+pa.call(this,N,Y),+ka.call(this,N,Y)]):W.length&&(K(),W=[]);return W.length&&K(),U.length?U.join(""):null}var q=Hb,t=Wb,A=ad,y=Xc,E=y.key,C=.7;return l.x=function(F){return arguments.length?(q=F,l):q},l.y=function(F){return arguments.length?(t=F,l):t},l.defined=function(F){return arguments.length?(A=F,l):A},l.interpolate=function(F){return arguments.length?(E="function"==typeof F?y=F:(y=Pg.get(F)||
Xc).key,l):E},l.tension=function(F){return arguments.length?(C=F,l):C},l}function Xc(b){return b.join("L")}function Qg(b){for(var l=0,q=b.length,t=b[0],A=[t[0],",",t[1]];++l<q;)A.push("V",(t=b[l])[1],"H",t[0]);return A.join("")}function Rg(b){for(var l=0,q=b.length,t=b[0],A=[t[0],",",t[1]];++l<q;)A.push("H",(t=b[l])[0],"V",t[1]);return A.join("")}function Sf(b,l){if(1>l.length||b.length!=l.length&&b.length!=l.length+2)return Xc(b);var q=b.length!=l.length,t="",A=b[0],y=b[1],E=l[0],C=E,F=1;if(q&&(t+=
"Q"+(y[0]-2*E[0]/3)+","+(y[1]-2*E[1]/3)+","+y[0]+","+y[1],A=b[1],F=2),1<l.length)for(C=l[1],y=b[F],F++,t+="C"+(A[0]+E[0])+","+(A[1]+E[1])+","+(y[0]-C[0])+","+(y[1]-C[1])+","+y[0]+","+y[1],A=2;A<l.length;A++,F++)y=b[F],C=l[A],t+="S"+(y[0]-C[0])+","+(y[1]-C[1])+","+y[0]+","+y[1];q&&(b=b[F],t+="Q"+(y[0]+2*C[0]/3)+","+(y[1]+2*C[1]/3)+","+b[0]+","+b[1]);return t}function Sg(b,l){for(var q=[],t=(1-l)/2,A=b[0],y=b[1],E=1,C=b.length;++E<C;)l=A,A=y,y=b[E],q.push([t*(y[0]-l[0]),t*(y[1]-l[1])]);return q}function Mh(b){if(3>
b.length)return Xc(b);var l=1,q=b.length,t=b[0],A=t[0],y=t[1],E=[A,A,A,(t=b[1])[0]],C=[y,y,y,t[1]];A=[A,",",y,"L",bd(Od,E),",",bd(Od,C)];for(b.push(b[q-1]);++l<=q;)t=b[l],E.shift(),E.push(t[0]),C.shift(),C.push(t[1]),Tg(A,E,C);return b.pop(),A.push("L",t),A.join("")}function bd(b,l){return b[0]*l[0]+b[1]*l[1]+b[2]*l[2]+b[3]*l[3]}function Tg(b,l,q){b.push("C",bd(Nh,l),",",bd(Nh,q),",",bd(Oh,l),",",bd(Oh,q),",",bd(Od,l),",",bd(Od,q))}function Ug(b,l){return(l[1]-b[1])/(l[0]-b[0])}function Ph(b){for(var l,
q,t,A=-1,y=b.length;++A<y;)l=b[A],q=l[0],t=l[1]-mc,l[0]=q*Math.cos(t),l[1]=q*Math.sin(t);return b}function Qh(b){function l(W){function Y(){na.push("M",C(b(ia),U),N,K(b(oa.reverse()),U),"Z")}for(var fa,pa,ka,na=[],oa=[],ia=[],xa=-1,Ma=W.length,aa=Lb(q),la=Lb(A),wa=q===t?function(){return pa}:Lb(t),Ha=A===y?function(){return ka}:Lb(y);++xa<Ma;)E.call(this,fa=W[xa],xa)?(oa.push([pa=+aa.call(this,fa,xa),ka=+la.call(this,fa,xa)]),ia.push([+wa.call(this,fa,xa),+Ha.call(this,fa,xa)])):oa.length&&(Y(),oa=
[],ia=[]);return oa.length&&Y(),na.length?na.join(""):null}var q=Hb,t=Hb,A=0,y=Wb,E=ad,C=Xc,F=C.key,K=C,N="L",U=.7;return l.x=function(W){return arguments.length?(q=t=W,l):t},l.x0=function(W){return arguments.length?(q=W,l):q},l.x1=function(W){return arguments.length?(t=W,l):t},l.y=function(W){return arguments.length?(A=y=W,l):y},l.y0=function(W){return arguments.length?(A=W,l):A},l.y1=function(W){return arguments.length?(y=W,l):y},l.defined=function(W){return arguments.length?(E=W,l):E},l.interpolate=
function(W){return arguments.length?(F="function"==typeof W?C=W:(C=Pg.get(W)||Xc).key,K=C.reverse||C,N=C.closed?"M":"L",l):F},l.tension=function(W){return arguments.length?(U=W,l):U},l}function Gi(b){return b.radius}function Rh(b){return[b.x,b.y]}function Hi(b){return function(){var l=b.apply(this,arguments),q=l[0];l=l[1]-mc;return[q*Math.cos(l),q*Math.sin(l)]}}function Ii(){return 64}function Ji(){return"circle"}function Sh(b){b=Math.sqrt(b/zb);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+
b+" 0 1,1 0,"+b+"Z"}function Th(b){return function(){var l,q;(l=this[b])&&(q=l[l.active])&&(--l.count?delete l[l.active]:delete this[b],l.active+=.5,q.event&&q.event.interrupt.call(this,this.__data__,q.index))}}function Te(b,l,q){return Ef(b,tc),b.namespace=l,b.id=q,b}function Vg(b,l,q,t){var A=b.id,y=b.namespace;return va(b,"function"==typeof q?function(E,C,F){E[y][A].tween.set(l,t(q.call(E,E.__data__,C,F)))}:(q=t(q),function(E){E[y][A].tween.set(l,q)}))}function Ki(b){return null==b&&(b=""),function(){this.textContent=
b}}function Wg(b){return null==b?"__transition__":"__transition_"+b+"__"}function Tf(b,l,q,t,A){var y=b[q]||(b[q]={active:0,count:0}),E=y[t];if(!E){var C=A.time;E=y[t]={tween:new e,time:C,delay:A.delay,duration:A.duration,ease:A.ease,index:l};A=null;++y.count;Z.timer(function(F){function K(na){if(y.active>t)return U();var oa=y[y.active];oa&&(--y.count,delete y[y.active],oa.event&&oa.event.interrupt.call(b,b.__data__,oa.index));y.active=t;E.event&&E.event.start.call(b,b.__data__,l);E.tween.forEach(function(ia,
xa){(xa=xa.call(b,b.__data__,l))&&ka.push(xa)});Y=E.ease;W=E.duration;Z.timer(function(){return pa.c=N(na||1)?ad:N,1},0,C)}function N(na){if(y.active!==t)return 1;na/=W;for(var oa=Y(na),ia=ka.length;0<ia;)ka[--ia].call(b,oa);return 1<=na?(E.event&&E.event.end.call(b,b.__data__,l),U()):void 0}function U(){return--y.count?delete y[t]:delete b[q],1}var W,Y,fa=E.delay,pa=zd,ka=[];return pa.t=fa+C,F>=fa?K(F-fa):void(pa.c=K)},0,C)}}function Li(b,l,q){b.attr("transform",function(t){var A=l(t);return"translate("+
(isFinite(A)?A:q(t))+",0)"})}function Mi(b,l,q){b.attr("transform",function(t){var A=l(t);return"translate(0,"+(isFinite(A)?A:q(t))+")"})}function Xg(b){return b.toISOString()}function Yg(b,l,q){function t(y){return b(y)}function A(y,E){var C=(y[1]-y[0])/E,F=Z.bisect(Uf,C);return F==Uf.length?[l.year,Nd(y.map(function(K){return K/31536E6}),E)[2]]:F?l[C/Uf[F-1]<Uf[F]/C?F-1:F]:[Ni,Nd(y,E)[2]]}return t.invert=function(y){return ee(b.invert(y))},t.domain=function(y){return arguments.length?(b.domain(y),
t):b.domain().map(ee)},t.nice=function(y,E){function C(N){return!isNaN(N)&&!y.range(N,ee(+N+1),E).length}var F=t.domain(),K=Fe(F);K=null==y?A(K,10):"number"==typeof y&&A(K,y);return K&&(y=K[0],E=K[1]),t.domain(Nf(F,1<E?{floor:function(N){for(;C(N=y.floor(N));)N=ee(N-1);return N},ceil:function(N){for(;C(N=y.ceil(N));)N=ee(+N+1);return N}}:y))},t.ticks=function(y,E){var C=Fe(t.domain()),F=null==y?A(C,10):"number"==typeof y?A(C,y):!y.range&&[{range:y},E];return F&&(y=F[0],E=F[1]),y.range(C[0],ee(+C[1]+
1),1>E?1:E)},t.tickFormat=function(){return q},t.copy=function(){return Yg(b.copy(),l,q)},Og(t,b)}function ee(b){return new Date(b)}function Oi(b){return JSON.parse(b.responseText)}function Pi(b){var l=Fc.createRange();return l.selectNode(Fc.body),l.createContextualFragment(b.responseText)}var Z={version:"3.5.5"},Uh=[].slice,Id=function(b){return Uh.call(b)},Fc=this.document;if(Fc)try{Id(Fc.documentElement.childNodes)[0].nodeType}catch(b){Id=function(l){for(var q=l.length,t=Array(q);q--;)t[q]=l[q];
return t}}if(Date.now||(Date.now=function(){return+new Date}),Fc)try{Fc.createElement("DIV").style.setProperty("opacity",0,"")}catch(b){var Vf=this.Element.prototype,Qi=Vf.setAttribute,Ri=Vf.setAttributeNS,Vh=this.CSSStyleDeclaration.prototype,Si=Vh.setProperty;Vf.setAttribute=function(l,q){Qi.call(this,l,q+"")};Vf.setAttributeNS=function(l,q,t){Ri.call(this,l,q,t+"")};Vh.setProperty=function(l,q,t){Si.call(this,l,q+"",t)}}Z.ascending=L;Z.descending=function(b,l){return b>l?-1:l>b?1:l>=b?0:0/0};Z.min=
function(b,l){var q,t=-1,A=b.length;if(1===arguments.length){for(;++t<A;)if(null!=(q=b[t])&&q>=q){var y=q;break}for(;++t<A;)null!=(q=b[t])&&y>q&&(y=q)}else{for(;++t<A;)if(null!=(q=l.call(b,b[t],t))&&q>=q){y=q;break}for(;++t<A;)null!=(q=l.call(b,b[t],t))&&y>q&&(y=q)}return y};Z.max=function(b,l){var q,t=-1,A=b.length;if(1===arguments.length){for(;++t<A;)if(null!=(q=b[t])&&q>=q){var y=q;break}for(;++t<A;)null!=(q=b[t])&&q>y&&(y=q)}else{for(;++t<A;)if(null!=(q=l.call(b,b[t],t))&&q>=q){y=q;break}for(;++t<
A;)null!=(q=l.call(b,b[t],t))&&q>y&&(y=q)}return y};Z.extent=function(b,l){var q,t,A=-1,y=b.length;if(1===arguments.length){for(;++A<y;)if(null!=(q=b[A])&&q>=q){var E=t=q;break}for(;++A<y;)null!=(q=b[A])&&(E>q&&(E=q),q>t&&(t=q))}else{for(;++A<y;)if(null!=(q=l.call(b,b[A],A))&&q>=q){E=t=q;break}for(;++A<y;)null!=(q=l.call(b,b[A],A))&&(E>q&&(E=q),q>t&&(t=q))}return[E,t]};Z.sum=function(b,l){var q,t=0,A=b.length,y=-1;if(1===arguments.length)for(;++y<A;)!isNaN(q=+b[y])&&(t+=q);else for(;++y<A;)!isNaN(q=
+l.call(b,b[y],y))&&(t+=q);return t};Z.mean=function(b,l){var q,t=0,A=b.length,y=-1,E=A;if(1===arguments.length)for(;++y<A;)isNaN(q=X(b[y]))?--E:t+=q;else for(;++y<A;)isNaN(q=X(l.call(b,b[y],y)))?--E:t+=q;return E?t/E:void 0};Z.quantile=function(b,l){var q=(b.length-1)*l+1;l=Math.floor(q);var t=+b[l-1];return(q-=l)?t+q*(b[l]-t):t};Z.median=function(b,l){var q,t=[],A=b.length,y=-1;if(1===arguments.length)for(;++y<A;)!isNaN(q=X(b[y]))&&t.push(q);else for(;++y<A;)!isNaN(q=X(l.call(b,b[y],y)))&&t.push(q);
return t.length?Z.quantile(t.sort(L),.5):void 0};Z.variance=function(b,l){var q,t,A=b.length,y=0,E=0,C=-1,F=0;if(1===arguments.length)for(;++C<A;)!isNaN(q=X(b[C]))&&(t=q-y,y+=t/++F,E+=t*(q-y));else for(;++C<A;)!isNaN(q=X(l.call(b,b[C],C)))&&(t=q-y,y+=t/++F,E+=t*(q-y));return 1<F?E/(F-1):void 0};Z.deviation=function(){var b=Z.variance.apply(this,arguments);return b?Math.sqrt(b):b};var Wh=h(L);Z.bisectLeft=Wh.left;Z.bisect=Z.bisectRight=Wh.right;Z.bisector=function(b){return h(1===b.length?function(l,
q){return L(b(l),q)}:b)};Z.shuffle=function(b,l,q){3>(y=arguments.length)&&(q=b.length,2>y&&(l=0));for(var t,A,y=q-l;y;)A=Math.random()*y--|0,t=b[y+l],b[y+l]=b[A+l],b[A+l]=t;return b};Z.permute=function(b,l){for(var q=l.length,t=Array(q);q--;)t[q]=b[l[q]];return t};Z.pairs=function(b){for(var l=0,q=b.length-1,t=b[0],A=Array(0>q?0:q);q>l;)A[l]=[t,t=b[++l]];return A};Z.zip=function(){if(!(t=arguments.length))return[];for(var b=-1,l=Z.min(arguments,f),q=Array(l);++b<l;)for(var t,A=-1,y=q[b]=Array(t);++A<
t;)y[A]=arguments[A][b];return q};Z.transpose=function(b){return Z.zip.apply(Z,b)};Z.keys=function(b){var l=[],q;for(q in b)l.push(q);return l};Z.values=function(b){var l=[],q;for(q in b)l.push(b[q]);return l};Z.entries=function(b){var l=[],q;for(q in b)l.push({key:q,value:b[q]});return l};Z.merge=function(b){var l,q=b.length;var t=-1;for(var A=0;++t<q;)A+=b[t].length;for(l=Array(A);0<=--q;){var y=b[q];for(t=y.length;0<=--t;)l[--A]=y[t]}return l};var Bb=Math.abs;Z.range=function(b,l,q){if(3>arguments.length&&
(q=1,2>arguments.length&&(l=b,b=0)),(l-b)/q===1/0)throw Error("infinite range");var t=[],A;var y=Bb(q);for(A=1;y*A%1;)A*=10;var E=-1;if(b*=A,l*=A,q*=A,0>q)for(;(y=b+q*++E)>l;)t.push(y/A);else for(;(y=b+q*++E)<l;)t.push(y/A);return t};Z.map=function(b,l){var q=new e;if(b instanceof e)b.forEach(function(E,C){q.set(E,C)});else if(Array.isArray(b)){var t,A=-1,y=b.length;if(1===arguments.length)for(;++A<y;)q.set(A,b[A]);else for(;++A<y;)q.set(l.call(b,t=b[A],A),t)}else for(A in b)q.set(A,b[A]);return q};
var pi="__proto__",zg="\x00";g(e,{has:u,get:function(b){return this._[k(b)]},set:function(b,l){return this._[k(b)]=l},remove:c,keys:m,values:function(){var b=[],l;for(l in this._)b.push(this._[l]);return b},entries:function(){var b=[],l;for(l in this._)b.push({key:p(l),value:this._[l]});return b},size:n,empty:w,forEach:function(b){for(var l in this._)b.call(this,p(l),this._[l])}});Z.nest=function(){function b(C,F,K){if(K>=y.length)return t?t.call(A,F):q?F.sort(q):F;for(var N,U,W,Y,fa=-1,pa=F.length,
ka=y[K++],na=new e;++fa<pa;)(Y=na.get(N=ka(U=F[fa])))?Y.push(U):na.set(N,[U]);return C?(U=C(),W=function(oa,ia){U.set(oa,b(C,ia,K))}):(U={},W=function(oa,ia){U[oa]=b(C,ia,K)}),na.forEach(W),U}function l(C,F){if(F>=y.length)return C;var K=[],N=E[F++];return C.forEach(function(U,W){K.push({key:U,values:l(W,F)})}),N?K.sort(function(U,W){return N(U.key,W.key)}):K}var q,t,A={},y=[],E=[];return A.map=function(C,F){return b(F,C,0)},A.entries=function(C){return l(b(Z.map,C,0),0)},A.key=function(C){return y.push(C),
A},A.sortKeys=function(C){return E[y.length-1]=C,A},A.sortValues=function(C){return q=C,A},A.rollup=function(C){return t=C,A},A};Z.set=function(b){var l=new z;if(b)for(var q=0,t=b.length;t>q;++q)l.add(b[q]);return l};g(z,{has:u,add:function(b){return this._[k(b+="")]=!0,b},remove:c,values:m,size:n,empty:w,forEach:function(b){for(var l in this._)b.call(this,p(l))}});Z.behavior={};Z.rebind=function(b,l){for(var q,t=1,A=arguments.length;++t<A;)b[q=arguments[t]]=H(b,l,l[q]);return b};var hh="webkit ms moz Moz o O".split(" ");
Z.dispatch=function(){for(var b=new D,l=-1,q=arguments.length;++l<q;)b[arguments[l]]=J(b);return b};D.prototype.on=function(b,l){var q=b.indexOf("."),t="";if(0<=q&&(t=b.slice(q+1),b=b.slice(0,q)),b)return 2>arguments.length?this[b].on(t):this[b].on(t,l);if(2===arguments.length){if(null==l)for(b in this)this.hasOwnProperty(b)&&this[b].on(t,null);return this}};Z.event=null;Z.requote=function(b){return b.replace(Ti,"\\$&")};var Ti=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ef={}.__proto__?function(b,l){b.__proto__=
l}:function(b,l){for(var q in l)b[q]=l[q]},Ag=function(b,l){return l.querySelector(b)},Bg=function(b,l){return l.querySelectorAll(b)},Cg=function(b,l){var q=b.matches||b[v(b,"matchesSelector")];return(Cg=function(t,A){return q.call(t,A)})(b,l)};"function"==typeof Sizzle&&(Ag=function(b,l){return Sizzle(b,l)[0]||null},Bg=Sizzle,Cg=Sizzle.matchesSelector);Z.selection=function(){return Z.select(Fc.documentElement)};var Tb=Z.selection.prototype=[];Tb.select=function(b){var l,q,t,A,y=[];b=R(b);for(var E=
-1,C=this.length;++E<C;){y.push(l=[]);l.parentNode=(t=this[E]).parentNode;for(var F=-1,K=t.length;++F<K;)(A=t[F])?(l.push(q=b.call(A,A.__data__,F,E)),q&&"__data__"in A&&(q.__data__=A.__data__)):l.push(null)}return S(y)};Tb.selectAll=function(b){var l,q,t=[];b=ba(b);for(var A=-1,y=this.length;++A<y;)for(var E=this[A],C=-1,F=E.length;++C<F;)(q=E[C])&&(t.push(l=Id(b.call(q,q.__data__,C,A))),l.parentNode=q);return S(t)};var Zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",
xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Z.ns={prefix:Zg,qualify:function(b){var l=b.indexOf(":"),q=b;return 0<=l&&(q=b.slice(0,l),b=b.slice(l+1)),Zg.hasOwnProperty(q)?{space:Zg[q],local:b}:b}};Tb.attr=function(b,l){if(2>arguments.length){if("string"==typeof b){var q=this.node();return b=Z.ns.qualify(b),b.local?q.getAttributeNS(b.space,b.local):q.getAttribute(b)}for(l in b)this.each(ha(l,b[l]));return this}return this.each(ha(b,l))};Tb.classed=function(b,l){if(2>
arguments.length){if("string"==typeof b){var q=this.node(),t=(b=(b+"").trim().split(/^|\s+/)).length,A=-1;if(l=q.classList)for(;++A<t;){if(!l.contains(b[A]))return!1}else for(l=q.getAttribute("class");++A<t;)if(!ra(b[A]).test(l))return!1;return!0}for(l in b)this.each(Ka(l,b[l]));return this}return this.each(Ka(b,l))};Tb.style=function(b,l,q){var t=arguments.length;if(3>t){if("string"!=typeof b){2>t&&(l="");for(q in b)this.each(ja(q,b[q],l));return this}if(2>t)return t=this.node(),d(t).getComputedStyle(t,
null).getPropertyValue(b);q=""}return this.each(ja(b,l,q))};Tb.property=function(b,l){if(2>arguments.length){if("string"==typeof b)return this.node()[b];for(l in b)this.each(Ca(l,b[l]));return this}return this.each(Ca(b,l))};Tb.text=function(b){return arguments.length?this.each("function"==typeof b?function(){var l=b.apply(this,arguments);this.textContent=null==l?"":l}:null==b?function(){this.textContent=""}:function(){this.textContent=b}):this.node().textContent};Tb.html=function(b){return arguments.length?
this.each("function"==typeof b?function(){var l=b.apply(this,arguments);this.innerHTML=null==l?"":l}:null==b?function(){this.innerHTML=""}:function(){this.innerHTML=b}):this.node().innerHTML};Tb.append=function(b){return b=Fa(b),this.select(function(){return this.appendChild(b.apply(this,arguments))})};Tb.insert=function(b,l){return b=Fa(b),l=R(l),this.select(function(){return this.insertBefore(b.apply(this,arguments),l.apply(this,arguments)||null)})};Tb.remove=function(){return this.each(Ga)};Tb.data=
function(b,l){function q(N,U){var W,Y,fa,pa=N.length,ka=U.length,na=Math.min(pa,ka),oa=Array(ka),ia=Array(ka),xa=Array(pa);if(l){var Ma;na=new e;var aa=Array(pa);for(W=-1;++W<pa;)na.has(Ma=l.call(Y=N[W],Y.__data__,W))?xa[W]=Y:na.set(Ma,Y),aa[W]=Ma;for(W=-1;++W<ka;)(Y=na.get(Ma=l.call(U,fa=U[W],W)))?!0!==Y&&(oa[W]=Y,Y.__data__=fa):ia[W]={__data__:fa},na.set(Ma,!0);for(W=-1;++W<pa;)!0!==na.get(aa[W])&&(xa[W]=N[W])}else{for(W=-1;++W<na;)Y=N[W],fa=U[W],Y?(Y.__data__=fa,oa[W]=Y):ia[W]={__data__:fa};for(;ka>
W;++W)ia[W]={__data__:U[W]};for(;pa>W;++W)xa[W]=N[W]}ia.update=oa;ia.parentNode=oa.parentNode=xa.parentNode=N.parentNode;C.push(ia);F.push(oa);K.push(xa)}var t,A,y=-1,E=this.length;if(!arguments.length){for(b=Array(E=(t=this[0]).length);++y<E;)(A=t[y])&&(b[y]=A.__data__);return b}var C=Ta([]),F=S([]),K=S([]);if("function"==typeof b)for(;++y<E;)q(t=this[y],b.call(t,t.parentNode.__data__,y));else for(;++y<E;)q(t=this[y],b);return F.enter=function(){return C},F.exit=function(){return K},F};Tb.datum=
function(b){return arguments.length?this.property("__data__",b):this.property("__data__")};Tb.filter=function(b){var l,q,t,A=[];"function"!=typeof b&&(b=Ra(b));for(var y=0,E=this.length;E>y;y++){A.push(l=[]);l.parentNode=(q=this[y]).parentNode;for(var C=0,F=q.length;F>C;C++)(t=q[C])&&b.call(t,t.__data__,C,y)&&l.push(t)}return S(A)};Tb.order=function(){for(var b=-1,l=this.length;++b<l;)for(var q,t=this[b],A=t.length-1,y=t[A];0<=--A;)(q=t[A])&&(y&&y!==q.nextSibling&&y.parentNode.insertBefore(q,y),y=
q);return this};Tb.sort=function(b){b=Ia.apply(this,arguments);for(var l=-1,q=this.length;++l<q;)this[l].sort(b);return this.order()};Tb.each=function(b){return va(this,function(l,q,t){b.call(l,l.__data__,q,t)})};Tb.call=function(b){var l=Id(arguments);return b.apply(l[0]=this,l),this};Tb.empty=function(){return!this.node()};Tb.node=function(){for(var b=0,l=this.length;l>b;b++)for(var q=this[b],t=0,A=q.length;A>t;t++){var y=q[t];if(y)return y}return null};Tb.size=function(){var b=0;return va(this,
function(){++b}),b};var yd=[];Z.selection.enter=Ta;Z.selection.enter.prototype=yd;yd.append=Tb.append;yd.empty=Tb.empty;yd.node=Tb.node;yd.call=Tb.call;yd.size=Tb.size;yd.select=function(b){for(var l,q,t,A,y,E=[],C=-1,F=this.length;++C<F;){t=(A=this[C]).update;E.push(l=[]);l.parentNode=A.parentNode;for(var K=-1,N=A.length;++K<N;)(y=A[K])?(l.push(t[K]=q=b.call(A.parentNode,y.__data__,K,C)),q.__data__=y.__data__):l.push(null)}return S(E)};yd.insert=function(b,l){return 2>arguments.length&&(l=Da(this)),
Tb.insert.call(this,b,l)};Z.select=function(b){var l;return"string"==typeof b?(l=[Ag(b,Fc)],l.parentNode=Fc.documentElement):(l=[b],l.parentNode=b&&(b.ownerDocument||b.document||b).documentElement),S([l])};Z.selectAll=function(b){var l;return"string"==typeof b?(l=Id(Bg(b,Fc)),l.parentNode=Fc.documentElement):(l=b,l.parentNode=null),S([l])};Tb.on=function(b,l,q){var t=arguments.length;if(3>t){if("string"!=typeof b){2>t&&(l=!1);for(q in b)this.each(ua(q,b[q],l));return this}if(2>t)return(t=this.node()["__on"+
b])&&t._;q=!1}return this.each(ua(b,l,q))};var Dg=Z.map({mouseenter:"mouseover",mouseleave:"mouseout"});Fc&&Dg.forEach(function(b){"on"+b in Fc&&Dg.remove(b)});var Zd,qi=0;Z.mouse=function(b){return cb(b,G())};var Eg=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;Z.touch=function(b,l,q){if(3>arguments.length&&(q=l,l=G().changedTouches),l)for(var t,A=0,y=l.length;y>A;++A)if((t=l[A]).identifier===q)return cb(b,t)};Z.behavior.drag=function(){function b(){this.on("mousedown.drag",A).on("touchstart.drag",
y)}function l(E,C,F,K,N){return function(){var U,W=Z.event.target,Y=this.parentNode,fa=q.of(this,arguments),pa=0,ka=E(),na=".drag"+(null==ka?"":"-"+ka),oa=Z.select(F(W)).on(K+na,function(){var Ma,aa,la=C(Y,ka);la&&(Ma=la[0]-xa[0],aa=la[1]-xa[1],pa|=Ma|aa,xa=la,fa({type:"drag",x:la[0]+U[0],y:la[1]+U[1],dx:Ma,dy:aa}))}).on(N+na,function(){C(Y,ka)&&(oa.on(K+na,null).on(N+na,null),ia(pa&&Z.event.target===W),fa({type:"dragend"}))}),ia=Pa(W),xa=C(Y,ka);t?(U=t.apply(this,arguments),U=[U.x-xa[0],U.y-xa[1]]):
U=[0,0];fa({type:"dragstart"})}}var q=T(b,"drag","dragstart","dragend"),t=null,A=l(I,Z.mouse,d,"mousemove","mouseup"),y=l(rb,Z.touch,x,"touchmove","touchend");return b.origin=function(E){return arguments.length?(t=E,b):t},Z.rebind(b,q,"on")};Z.touches=function(b,l){return 2>arguments.length&&(l=G().touches),l?Id(l).map(function(q){var t=cb(b,q);return t.identifier=q.identifier,t}):[]};var eb=1E-6,Gg=eb*eb,zb=Math.PI,Wc=2*zb,Ui=Wc-eb,mc=zb/2,Ab=zb/180,hc=180/zb,Wf=Math.SQRT2;Z.interpolateZoom=function(b,
l){function q(Y){var fa=Y*W;if(U){Y=Db(N);var pa=y/(2*K),ka=Wf*fa+N;var na=((ka=Math.exp(2*ka))-1)/(ka+1);var oa=N;ka=((oa=Math.exp(oa))-1/oa)/2;pa*=Y*na-ka;return[t+pa*E,A+pa*C,y*Y/Db(Wf*fa+N)]}return[t+Y*E,A+Y*C,y*Math.exp(Wf*fa)]}var t=b[0],A=b[1],y=b[2];b=l[2];var E=l[0]-t,C=l[1]-A,F=E*E+C*C,K=Math.sqrt(F);l=(b*b-y*y+4*F)/(4*y*K);F=(b*b-y*y-4*F)/(4*b*K);var N=Math.log(Math.sqrt(l*l+1)-l),U=Math.log(Math.sqrt(F*F+1)-F)-N,W=(U||Math.log(b/y))/Wf;return q.duration=1E3*W,q};Z.behavior.zoom=function(){function b(Ua){Ua.on(Oa,
K).on(Xh+".zoom",U).on("dblclick.zoom",W).on(wb,N)}function l(Ua){return[(Ua[0]-aa.x)/aa.k,(Ua[1]-aa.y)/aa.k]}function q(Ua){aa.k=Math.max(wa[0],Math.min(wa[1],Ua))}function t(Ua,ub){ub=[ub[0]*aa.k+aa.x,ub[1]*aa.k+aa.y];aa.x+=Ua[0]-ub[0];aa.y+=Ua[1]-ub[1]}function A(Ua,ub,Nb,Ub){Ua.__chart__={x:aa.x,y:aa.y,k:aa.k};q(Math.pow(2,Ub));t(fa=ub,Nb);Ua=Z.select(Ua);0<Ha&&(Ua=Ua.transition().duration(Ha));Ua.call(b.event)}function y(){ia&&ia.domain(oa.range().map(function(Ua){return(Ua-aa.x)/aa.k}).map(oa.invert));
Ma&&Ma.domain(xa.range().map(function(Ua){return(Ua-aa.y)/aa.k}).map(xa.invert))}function E(Ua){Ja++||Ua({type:"zoomstart"})}function C(Ua){y();Ua({type:"zoom",scale:aa.k,translate:[aa.x,aa.y]})}function F(Ua){--Ja||Ua({type:"zoomend"});fa=null}function K(){var Ua=this,ub=Z.event.target,Nb=sb.of(Ua,arguments),Ub=0,Ac=Z.select(d(Ua)).on(Sa,function(){Ub=1;t(Z.mouse(Ua),dc);C(Nb)}).on(lb,function(){Ac.on(Sa,null).on(lb,null);sc(Ub&&Z.event.target===ub);F(Nb)}),dc=l(Z.mouse(Ua)),sc=Pa(Ua);Xf.call(Ua);
E(Nb)}function N(){function Ua(){var ec=Z.touches(dc);return Ac=aa.k,ec.forEach(function(ic){ic.identifier in rc&&(rc[ic.identifier]=l(ic))}),ec}function ub(){var ec=Z.event.target;Z.select(ec).on(Qe,Nb).on(Re,Ub);ce.push(ec);ec=Z.event.changedTouches;for(var ic=0,Rc=ec.length;Rc>ic;++ic)rc[ec[ic].identifier]=null;ic=Ua();Rc=Date.now();1===ic.length?(500>Rc-na&&(ec=ic[0],A(dc,ec,rc[ec.identifier],Math.floor(Math.log(aa.k)/Math.LN2)+1),O()),na=Rc):1<ic.length&&(ec=ic[0],Rc=ic[1],ic=ec[0]-Rc[0],ec=
ec[1]-Rc[1],Jc=ic*ic+ec*ec)}function Nb(){var ec,ic,Rc=Z.touches(dc);Xf.call(dc);for(var Yf=0,Vi=Rc.length;Vi>Yf;++Yf,ic=null)if(ec=Rc[Yf],ic=rc[ec.identifier]){if(Ue)break;var Ge=ec;var Ue=ic}if(ic){var Ve=(Ve=ec[0]-Ge[0])*Ve+(Ve=ec[1]-Ge[1])*Ve;Rc=Jc&&Math.sqrt(Ve/Jc);Ge=[(Ge[0]+ec[0])/2,(Ge[1]+ec[1])/2];Ue=[(Ue[0]+ic[0])/2,(Ue[1]+ic[1])/2];q(Rc*Ac)}na=null;t(Ge,Ue);C(sc)}function Ub(){if(Z.event.touches.length){for(var ec=Z.event.changedTouches,ic=0,Rc=ec.length;Rc>ic;++ic)delete rc[ec[ic].identifier];
for(var Yf in rc)return void Ua()}Z.selectAll(ce).on(Qc,null);Yh.on(Oa,K).on(wb,N);Wi();F(sc)}var Ac,dc=this,sc=sb.of(dc,arguments),rc={},Jc=0,Qc=".zoom-"+Z.event.changedTouches[0].identifier,Qe="touchmove"+Qc,Re="touchend"+Qc,ce=[],Yh=Z.select(dc),Wi=Pa(dc);ub();E(sc);Yh.on(Oa,null).on(wb,ub)}function U(){var Ua=sb.of(this,arguments);ka?clearTimeout(ka):(Y=l(fa=pa||Z.mouse(this)),Xf.call(this),E(Ua));ka=setTimeout(function(){ka=null;F(Ua)},50);O();q(Math.pow(2,.002*Zf())*aa.k);t(fa,Y);C(Ua)}function W(){var Ua=
Z.mouse(this),ub=Math.log(aa.k)/Math.LN2;A(this,Ua,l(Ua),Z.event.shiftKey?Math.ceil(ub)-1:Math.floor(ub)+1)}var Y,fa,pa,ka,na,oa,ia,xa,Ma,aa={x:0,y:0,k:1},la=[960,500],wa=Zh,Ha=250,Ja=0,Oa="mousedown.zoom",Sa="mousemove.zoom",lb="mouseup.zoom",wb="touchstart.zoom",sb=T(b,"zoomstart","zoom","zoomend");return Xh||="onwheel"in Fc?(Zf=function(){return-Z.event.deltaY*(Z.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Fc?(Zf=function(){return Z.event.wheelDelta},"mousewheel"):(Zf=function(){return-Z.event.detail},
"MozMousePixelScroll"),b.event=function(Ua){Ua.each(function(){var ub=sb.of(this,arguments),Nb=aa;fe?Z.select(this).transition().each("start.zoom",function(){aa=this.__chart__||{x:0,y:0,k:1};E(ub)}).tween("zoom:zoom",function(){var Ub=la[0],Ac=la[1],dc=fa?fa[0]:Ub/2,sc=fa?fa[1]:Ac/2,rc=Z.interpolateZoom([(dc-aa.x)/aa.k,(sc-aa.y)/aa.k,Ub/aa.k],[(dc-Nb.x)/Nb.k,(sc-Nb.y)/Nb.k,Ub/Nb.k]);return function(Jc){Jc=rc(Jc);var Qc=Ub/Jc[2];this.__chart__=aa={x:dc-Jc[0]*Qc,y:sc-Jc[1]*Qc,k:Qc};C(ub)}}).each("interrupt.zoom",
function(){F(ub)}).each("end.zoom",function(){F(ub)}):(this.__chart__=aa,E(ub),C(ub),F(ub))})},b.translate=function(Ua){return arguments.length?(aa={x:+Ua[0],y:+Ua[1],k:aa.k},y(),b):[aa.x,aa.y]},b.scale=function(Ua){return arguments.length?(aa={x:aa.x,y:aa.y,k:+Ua},y(),b):aa.k},b.scaleExtent=function(Ua){return arguments.length?(wa=null==Ua?Zh:[+Ua[0],+Ua[1]],b):wa},b.center=function(Ua){return arguments.length?(pa=Ua&&[+Ua[0],+Ua[1]],b):pa},b.size=function(Ua){return arguments.length?(la=Ua&&[+Ua[0],
+Ua[1]],b):la},b.duration=function(Ua){return arguments.length?(Ha=+Ua,b):Ha},b.x=function(Ua){return arguments.length?(ia=Ua,oa=Ua.copy(),aa={x:0,y:0,k:1},b):ia},b.y=function(Ua){return arguments.length?(Ma=Ua,xa=Ua.copy(),aa={x:0,y:0,k:1},b):Ma},Z.rebind(b,sb,"on")};var Zf,Xh,Zh=[0,1/0];Z.color=hb;hb.prototype.toString=function(){return this.rgb()+""};Z.hsl=bb;var $g=bb.prototype=new hb;$g.brighter=function(b){return b=Math.pow(.7,arguments.length?b:1),new bb(this.h,this.s,this.l/b)};$g.darker=
function(b){return b=Math.pow(.7,arguments.length?b:1),new bb(this.h,this.s,b*this.l)};$g.rgb=function(){return ab(this.h,this.s,this.l)};Z.hcl=tb;var ah=tb.prototype=new hb;ah.brighter=function(b){return new tb(this.h,this.c,Math.min(100,this.l+$f*(arguments.length?b:1)))};ah.darker=function(b){return new tb(this.h,this.c,Math.max(0,this.l-$f*(arguments.length?b:1)))};ah.rgb=function(){return jb(this.h,this.c,this.l).rgb()};Z.lab=mb;var $f=18,ih=.95047,jh=1,kh=1.08883,bh=mb.prototype=new hb;bh.brighter=
function(b){return new mb(Math.min(100,this.l+$f*(arguments.length?b:1)),this.a,this.b)};bh.darker=function(b){return new mb(Math.max(0,this.l-$f*(arguments.length?b:1)),this.a,this.b)};bh.rgb=function(){return pb(this.l,this.a,this.b)};Z.rgb=Wa;var ag=Wa.prototype=new hb;ag.brighter=function(b){b=Math.pow(.7,arguments.length?b:1);var l=this.r,q=this.g,t=this.b;return l||q||t?(l&&30>l&&(l=30),q&&30>q&&(q=30),t&&30>t&&(t=30),new Wa(Math.min(255,l/b),Math.min(255,q/b),Math.min(255,t/b))):new Wa(30,
30,30)};ag.darker=function(b){return b=Math.pow(.7,arguments.length?b:1),new Wa(b*this.r,b*this.g,b*this.b)};ag.hsl=function(){return P(this.r,this.g,this.b)};ag.toString=function(){return"#"+Xa(this.r)+Xa(this.g)+Xa(this.b)};var Ff=Z.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,
coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,
dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,
lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,
midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,
salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ff.forEach(function(b,l){Ff.set(b,new Wa(l>>16,l>>8&255,255&l))});Z.functor=Lb;Z.xhr=Oc(x);Z.dsv=function(b,
l){function q(K,N,U){3>arguments.length&&(U=N,N=null);var W=pd(K,l,null==N?t:A(N),U);return W.row=function(Y){return arguments.length?W.response(null==(N=Y)?t:A(Y)):N},W}function t(K){return q.parse(K.responseText)}function A(K){return function(N){return q.parse(N.responseText,K)}}function y(K){return K.map(E).join(b)}function E(K){return C.test(K)?'"'+K.replace(/"/g,'""')+'"':K}var C=new RegExp('["'+b+"\n]"),F=b.charCodeAt(0);return q.parse=function(K,N){var U;return q.parseRows(K,function(W,Y){if(U)return U(W,
Y-1);var fa=new Function("d","return {"+W.map(function(pa,ka){return JSON.stringify(pa)+": d["+ka+"]"}).join(",")+"}");U=N?function(pa,ka){return N(fa(pa),ka)}:fa})},q.parseRows=function(K,N){function U(){if(oa>=na)return pa;if(Y)return Y=!1,fa;var Ma=oa;if(34===K.charCodeAt(Ma)){for(var aa=Ma;aa++<na;)if(34===K.charCodeAt(aa)){if(34!==K.charCodeAt(aa+1))break;++aa}oa=aa+2;var la=K.charCodeAt(aa+1);return 13===la?(Y=!0,10===K.charCodeAt(aa+2)&&++oa):10===la&&(Y=!0),K.slice(Ma+1,aa).replace(/""/g,
'"')}for(;na>oa;){la=K.charCodeAt(oa++);aa=1;if(10===la)Y=!0;else if(13===la)Y=!0,10===K.charCodeAt(oa)&&(++oa,++aa);else if(la!==F)continue;return K.slice(Ma,oa-aa)}return K.slice(Ma)}for(var W,Y,fa={},pa={},ka=[],na=K.length,oa=0,ia=0;(W=U())!==pa;){for(var xa=[];W!==fa&&W!==pa;)xa.push(W),W=U();N&&null==(xa=N(xa,ia++))||ka.push(xa)}return ka},q.format=function(K){if(Array.isArray(K[0]))return q.formatRows(K);var N=new z,U=[];return K.forEach(function(W){for(var Y in W)N.has(Y)||U.push(N.add(Y))}),
[U.map(E).join(b)].concat(K.map(function(W){return U.map(function(Y){return E(W[Y])}).join(b)})).join("\n")},q.formatRows=function(K){return K.map(y).join("\n")},q};Z.csv=Z.dsv(",","text/csv");Z.tsv=Z.dsv("\t","text/tab-separated-values");var If,Jf,Hf,Gf,zd,lh=this[v(this,"requestAnimationFrame")]||function(b){setTimeout(b,17)};Z.timer=function(b,l,q){var t=arguments.length;2>t&&(l=0);3>t&&(q=Date.now());t={c:b,t:q+l,f:!1,n:null};Jf?Jf.n=t:If=t;Jf=t;Hf||(Gf=clearTimeout(Gf),Hf=1,lh($c))};Z.timer.flush=
function(){se();Hc()};Z.round=function(b,l){return l?Math.round(b*(l=Math.pow(10,l)))/l:Math.round(b)};var Xi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(b,l){var q=Math.pow(10,3*Bb(8-l));return{scale:8<l?function(t){return t/q}:function(t){return t*q},symbol:b}});Z.formatPrefix=function(b,l){var q=0;return b&&(0>b&&(b*=-1),l&&(b=Z.round(b,Za(b,l))),q=1+Math.floor(1E-12+Math.log(b)/Math.LN10),q=Math.max(-24,Math.min(24,3*Math.floor((q-1)/3)))),Xi[8+q/3]};var mh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,
ri=Z.map({b:function(b){return b.toString(2)},c:function(b){return String.fromCharCode(b)},o:function(b){return b.toString(8)},x:function(b){return b.toString(16)},X:function(b){return b.toString(16).toUpperCase()},g:function(b,l){return b.toPrecision(l)},e:function(b,l){return b.toExponential(l)},f:function(b,l){return b.toFixed(l)},r:function(b,l){return(b=Z.round(b,Za(b,l))).toFixed(Math.max(0,Math.min(20,Za(b*(1+1E-15),l))))}}),ib=Z.time={},Ec=Date;jc.prototype={getDate:function(){return this._.getUTCDate()},
getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Bd.setUTCDate.apply(this._,
arguments)},setDay:function(){Bd.setUTCDay.apply(this._,arguments)},setFullYear:function(){Bd.setUTCFullYear.apply(this._,arguments)},setHours:function(){Bd.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Bd.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Bd.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Bd.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Bd.setUTCSeconds.apply(this._,arguments)},setTime:function(){Bd.setTime.apply(this._,arguments)}};
var Bd=Date.prototype;ib.year=Gc(function(b){return b=ib.day(b),b.setMonth(0,1),b},function(b,l){b.setFullYear(b.getFullYear()+l)},function(b){return b.getFullYear()});ib.years=ib.year.range;ib.years.utc=ib.year.utc.range;ib.day=Gc(function(b){var l=new Ec(2E3,0);return l.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),l},function(b,l){b.setDate(b.getDate()+l)},function(b){return b.getDate()-1});ib.days=ib.day.range;ib.days.utc=ib.day.utc.range;ib.dayOfYear=function(b){var l=ib.year(b);return Math.floor((b-
l-6E4*(b.getTimezoneOffset()-l.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(b,l){l=7-l;var q=ib[b]=Gc(function(t){return(t=ib.day(t)).setDate(t.getDate()-(t.getDay()+l)%7),t},function(t,A){t.setDate(t.getDate()+7*Math.floor(A))},function(t){var A=ib.year(t).getDay();return Math.floor((ib.dayOfYear(t)+(A+l)%7)/7)-(A!==l)});ib[b+"s"]=q.range;ib[b+"s"].utc=q.utc.range;ib[b+"OfYear"]=function(t){var A=ib.year(t).getDay();return Math.floor((ib.dayOfYear(t)+
(A+l)%7)/7)}});ib.week=ib.sunday;ib.weeks=ib.sunday.range;ib.weeks.utc=ib.sunday.utc.range;ib.weekOfYear=ib.sundayOfYear;var nh={"-":"",_:" ",0:"0"},nc=/^\s*\d+/,oh=/^%/;Z.locale=function(b){return{numberFormat:Sb(b),timeFormat:Cb(b)}};var $h=Z.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});Z.format=$h.numberFormat;Z.geo={};Le.prototype={s:0,t:0,add:function(b){Ye(b,this.t,bg);Ye(bg.s,this.s,this);this.s?this.t+=bg.t:this.s=bg.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bg=new Le;Z.geo.stream=function(b,l){b&&ai.hasOwnProperty(b.type)?ai[b.type](b,l):je(b,l)};var ai={Feature:function(b,
l){je(b.geometry,l)},FeatureCollection:function(b,l){b=b.features;for(var q=-1,t=b.length;++q<t;)je(b[q].geometry,l)}},ph={Sphere:function(b,l){l.sphere()},Point:function(b,l){b=b.coordinates;l.point(b[0],b[1],b[2])},MultiPoint:function(b,l){for(var q=b.coordinates,t=-1,A=q.length;++t<A;)b=q[t],l.point(b[0],b[1],b[2])},LineString:function(b,l){Rd(b.coordinates,l,0)},MultiLineString:function(b,l){b=b.coordinates;for(var q=-1,t=b.length;++q<t;)Rd(b[q],l,0)},Polygon:function(b,l){Qd(b.coordinates,l)},
MultiPolygon:function(b,l){b=b.coordinates;for(var q=-1,t=b.length;++q<t;)Qd(b[q],l)},GeometryCollection:function(b,l){b=b.geometries;for(var q=-1,t=b.length;++q<t;)je(b[q],l)}};Z.geo.area=function(b){return cg=0,Z.geo.stream(b,Vc),cg};var cg,$d=new Le,Vc={sphere:function(){cg+=4*zb},point:I,lineStart:I,lineEnd:I,polygonStart:function(){$d.reset();Vc.lineStart=mf},polygonEnd:function(){var b=2*$d;cg+=0>b?4*zb+b:b;Vc.lineStart=Vc.lineEnd=Vc.point=I}};Z.geo.bounds=function(){function b(aa,la){ia.push(xa=
[N=aa,W=aa]);U>la&&(U=la);la>Y&&(Y=la)}function l(aa,la){var wa=rd([aa*Ab,la*Ab]);if(na){var Ha=sd(na,wa);Ha=sd([Ha[1],-Ha[0],0],Ha);Vd(Ha);Ha=ve(Ha);var Ja=aa-fa,Oa=0<Ja?1:-1,Sa=Ha[0]*hc*Oa;Ja=180<Bb(Ja);Ja^(Sa>Oa*fa&&Oa*aa>Sa)?(la=Ha[1]*hc,la>Y&&(Y=la)):(Sa=(Sa+360)%360-180,Ja^(Sa>Oa*fa&&Oa*aa>Sa))?(la=-Ha[1]*hc,U>la&&(U=la)):(U>la&&(U=la),la>Y&&(Y=la));Ja?fa>aa?C(N,aa)>C(N,W)&&(W=aa):C(aa,W)>C(N,W)&&(N=aa):W>=N?(N>aa&&(N=aa),aa>W&&(W=aa)):aa>fa?C(N,aa)>C(N,W)&&(W=aa):C(aa,W)>C(N,W)&&(N=aa)}else b(aa,
la);na=wa;fa=aa}function q(){Ma.point=l}function t(){xa[0]=N;xa[1]=W;Ma.point=b;na=null}function A(aa,la){if(na){var wa=aa-fa;oa+=180<Bb(wa)?wa+(0<wa?360:-360):wa}else pa=aa,ka=la;Vc.point(aa,la);l(aa,la)}function y(){Vc.lineStart()}function E(){A(pa,ka);Vc.lineEnd();Bb(oa)>eb&&(N=-(W=180));xa[0]=N;xa[1]=W;na=null}function C(aa,la){return 0>(la-=aa)?la+360:la}function F(aa,la){return aa[0]-la[0]}function K(aa,la){return la[0]<=la[1]?la[0]<=aa&&aa<=la[1]:aa<la[0]||la[1]<aa}var N,U,W,Y,fa,pa,ka,na,
oa,ia,xa,Ma={point:b,lineStart:q,lineEnd:t,polygonStart:function(){Ma.point=A;Ma.lineStart=y;Ma.lineEnd=E;oa=0;Vc.polygonStart()},polygonEnd:function(){Vc.polygonEnd();Ma.point=b;Ma.lineStart=q;Ma.lineEnd=t;0>$d?(N=-(W=180),U=-(Y=90)):oa>eb?Y=90:-eb>oa&&(U=-90);xa[0]=N;xa[1]=W}};return function(aa){Y=W=-(N=U=1/0);ia=[];Z.geo.stream(aa,Ma);if(aa=ia.length){ia.sort(F);for(var la,wa=1,Ha=ia[0],Ja=[Ha];aa>wa;++wa)la=ia[wa],K(la[0],Ha)||K(la[1],Ha)?(C(Ha[0],la[1])>C(Ha[0],Ha[1])&&(Ha[1]=la[1]),C(la[0],
Ha[1])>C(Ha[0],Ha[1])&&(Ha[0]=la[0])):Ja.push(Ha=la);var Oa,Sa=-1/0;aa=Ja.length-1;wa=0;for(Ha=Ja[aa];aa>=wa;Ha=la,++wa)la=Ja[wa],(Oa=C(Ha[1],la[0]))>Sa&&(Sa=Oa,N=la[0],W=Ha[1])}return ia=xa=null,1/0===N||1/0===U?[[0/0,0/0],[0/0,0/0]]:[[N,U],[W,Y]]}}();Z.geo.centroid=function(b){Pe=Kf=ae=be=Ad=Jd=Kd=qd=Be=Ce=Ld=0;Z.geo.stream(b,kd);b=Be;var l=Ce,q=Ld,t=b*b+l*l+q*q;return Gg>t&&(b=Jd,l=Kd,q=qd,eb>Kf&&(b=ae,l=be,q=Ad),t=b*b+l*l+q*q,Gg>t)?[0/0,0/0]:[Math.atan2(l,b)*hc,Ib(q/Math.sqrt(t))*hc]};var Pe,
Kf,ae,be,Ad,Jd,Kd,qd,Be,Ce,Ld,kd={sphere:I,point:nd,lineStart:nf,lineEnd:of,polygonStart:function(){kd.lineStart=Xd},polygonEnd:function(){kd.lineStart=nf}},qh=sf(ad,function(b){var l,q=0/0,t=0/0,A=0/0;return{lineStart:function(){b.lineStart();l=1},point:function(y,E){var C=0<y?zb:-zb,F=Bb(y-q);if(Bb(F-zb)<eb)b.point(q,t=0<(t+E)/2?mc:-mc),b.point(A,t),b.lineEnd(),b.lineStart(),b.point(C,t),b.point(y,t),l=0;else if(A!==C&&F>=zb){Bb(q-A)<eb&&(q-=A*eb);Bb(y-C)<eb&&(y-=C*eb);F=q;var K=t,N=y,U,W,Y=Math.sin(F-
N);t=Bb(Y)>eb?Math.atan((Math.sin(K)*(W=Math.cos(E))*Math.sin(N)-Math.sin(E)*(U=Math.cos(K))*Math.sin(F))/(U*W*Y)):(K+E)/2;b.point(A,t);b.lineEnd();b.lineStart();b.point(C,t);l=0}b.point(q=y,t=E);A=C},lineEnd:function(){b.lineEnd();q=t=0/0},clean:function(){return 2-l}}},function(b,l,q,t){null==b?(q*=mc,t.point(-zb,q),t.point(0,q),t.point(zb,q),t.point(zb,0),t.point(zb,-q),t.point(0,-q),t.point(-zb,-q),t.point(-zb,0),t.point(-zb,q)):Bb(b[0]-l[0])>eb?(b=b[0]<l[0]?zb:-zb,q=q*b/2,t.point(-b,q),t.point(0,
q),t.point(b,q)):t.point(l[0],l[1])},[-zb,-zb/2]),Lf=1E9;Z.geo.clipExtent=function(){var b,l,q,t,A,y,E={stream:function(C){return A&&(A.valid=!1),A=y(C),A.valid=!0,A},extent:function(C){return arguments.length?(y=Ze(b=+C[0][0],l=+C[0][1],q=+C[1][0],t=+C[1][1]),A&&(A.valid=!1,A=null),E):[[b,l],[q,t]]}};return E.extent([[0,0],[960,500]])};(Z.geo.conicEqualArea=function(){return ye(vf)}).raw=vf;Z.geo.albers=function(){return Z.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};
Z.geo.albersUsa=function(){function b(K){var N=K[0];K=K[1];return l=null,q(N,K),l||(t(N,K),l)||A(N,K),l}var l,q,t,A,y=Z.geo.albers(),E=Z.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),C=Z.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),F={point:function(K,N){l=[K,N]}};return b.invert=function(K){var N=y.scale(),U=y.translate(),W=(K[0]-U[0])/N;N=(K[1]-U[1])/N;return(.12<=N&&.234>N&&-.425<=W&&-.214>W?E:.166<=N&&.234>N&&-.214<=W&&-.115>W?C:y).invert(K)},
b.stream=function(K){var N=y.stream(K),U=E.stream(K),W=C.stream(K);return{point:function(Y,fa){N.point(Y,fa);U.point(Y,fa);W.point(Y,fa)},sphere:function(){N.sphere();U.sphere();W.sphere()},lineStart:function(){N.lineStart();U.lineStart();W.lineStart()},lineEnd:function(){N.lineEnd();U.lineEnd();W.lineEnd()},polygonStart:function(){N.polygonStart();U.polygonStart();W.polygonStart()},polygonEnd:function(){N.polygonEnd();U.polygonEnd();W.polygonEnd()}}},b.precision=function(K){return arguments.length?
(y.precision(K),E.precision(K),C.precision(K),b):y.precision()},b.scale=function(K){return arguments.length?(y.scale(K),E.scale(.35*K),C.scale(K),b.translate(y.translate())):y.scale()},b.translate=function(K){if(!arguments.length)return y.translate();var N=y.scale(),U=+K[0],W=+K[1];return q=y.translate(K).clipExtent([[U-.455*N,W-.238*N],[U+.455*N,W+.238*N]]).stream(F).point,t=E.translate([U-.307*N,W+.201*N]).clipExtent([[U-.425*N+eb,W+.12*N+eb],[U-.214*N-eb,W+.234*N-eb]]).stream(F).point,A=C.translate([U-
.205*N,W+.212*N]).clipExtent([[U-.214*N+eb,W+.166*N+eb],[U-.115*N-eb,W+.234*N-eb]]).stream(F).point,b},b.scale(1070)};var ch,Fg,dg,eg,fg,gg,Md={point:I,lineStart:I,lineEnd:I,polygonStart:function(){Fg=0;Md.lineStart=wg},polygonEnd:function(){Md.lineStart=Md.lineEnd=Md.point=I;ch+=Bb(Fg/2)}},Yi={point:function(b,l){dg>b&&(dg=b);b>fg&&(fg=b);eg>l&&(eg=l);l>gg&&(gg=l)},lineStart:I,lineEnd:I,polygonStart:I,polygonEnd:I},ld={point:wd,lineStart:xf,lineEnd:yf,polygonStart:function(){ld.lineStart=yg},polygonEnd:function(){ld.point=
wd;ld.lineStart=xf;ld.lineEnd=yf}};Z.geo.path=function(){function b(C){return C&&("function"==typeof E&&A.pointRadius(+E.apply(this,arguments)),y&&y.valid||(y=t(A)),Z.geo.stream(C,y)),A.result()}var l,q,t,A,y,E=4.5;return b.area=function(C){return ch=0,Z.geo.stream(C,t(Md)),ch},b.centroid=function(C){return ae=be=Ad=Jd=Kd=qd=Be=Ce=Ld=0,Z.geo.stream(C,t(ld)),Ld?[Be/Ld,Ce/Ld]:qd?[Jd/qd,Kd/qd]:Ad?[ae/Ad,be/Ad]:[0/0,0/0]},b.bounds=function(C){return fg=gg=-(dg=eg=1/0),Z.geo.stream(C,t(Yi)),[[dg,eg],[fg,
gg]]},b.projection=function(C){return arguments.length?(t=(l=C)?C.stream||Af(C):x,y=null,b):l},b.context=function(C){return arguments.length?(A=null==(q=C)?new xg:new zf(C),"function"!=typeof E&&A.pointRadius(E),y=null,b):q},b.pointRadius=function(C){return arguments.length?(E="function"==typeof C?C:(A.pointRadius(+C),+C),b):E},b.projection(Z.geo.albersUsa()).context(null)};Z.geo.transform=function(b){return{stream:function(l){l=new ze(l);for(var q in b)l[q]=b[q];return l}}};ze.prototype={point:function(b,
l){this.stream.point(b,l)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};Z.geo.projection=Pc;Z.geo.projectionMutator=Ae;(Z.geo.equirectangular=function(){return Pc(xd)}).raw=xd.invert=xd;Z.geo.rotation=function(b){function l(q){return q=b(q[0]*Ab,q[1]*Ab),q[0]*=hc,q[1]*=hc,q}return b=Oe(b[0]%360*Ab,b[1]*Ab,2<b.length?
b[2]*Ab:0),l.invert=function(q){return q=b.invert(q[0]*Ab,q[1]*Ab),q[0]*=hc,q[1]*=hc,q},l};Cf.invert=xd;Z.geo.circle=function(){function b(){var y="function"==typeof t?t.apply(this,arguments):t,E=Oe(-y[0]*Ab,-y[1]*Ab,0).invert,C=[];return q(null,null,1,{point:function(F,K){C.push(F=E(F,K));F[0]*=hc;F[1]*=hc}}),{type:"Polygon",coordinates:[C]}}var l,q,t=[0,0],A=6;return b.origin=function(y){return arguments.length?(t=y,b):t},b.angle=function(y){return arguments.length?(q=M((l=+y)*Ab,A*Ab),b):l},b.precision=
function(y){return arguments.length?(q=M(l*Ab,(A=+y)*Ab),b):A},b.angle(90)};Z.geo.distance=function(b,l){var q,t=(l[0]-b[0])*Ab,A=b[1]*Ab,y=l[1]*Ab;l=Math.cos(t);b=Math.sin(A);A=Math.cos(A);var E=Math.sin(y);y=Math.cos(y);return Math.atan2(Math.sqrt((q=y*Math.sin(t))*q+(q=A*E-b*y*l)*q),b*E+A*y*l)};Z.geo.graticule=function(){function b(){return{type:"MultiLineString",coordinates:l()}}function l(){return Z.range(Math.ceil(y/ka)*ka,A,ka).map(W).concat(Z.range(Math.ceil(K/na)*na,F,na).map(Y)).concat(Z.range(Math.ceil(t/
fa)*fa,q,fa).filter(function(ia){return Bb(ia%ka)>eb}).map(N)).concat(Z.range(Math.ceil(C/pa)*pa,E,pa).filter(function(ia){return Bb(ia%na)>eb}).map(U))}var q,t,A,y,E,C,F,K,N,U,W,Y,fa=10,pa=fa,ka=90,na=360,oa=2.5;return b.lines=function(){return l().map(function(ia){return{type:"LineString",coordinates:ia}})},b.outline=function(){return{type:"Polygon",coordinates:[W(y).concat(Y(F).slice(1),W(A).reverse().slice(1),Y(K).reverse().slice(1))]}},b.extent=function(ia){return arguments.length?b.majorExtent(ia).minorExtent(ia):
b.minorExtent()},b.majorExtent=function(ia){return arguments.length?(y=+ia[0][0],A=+ia[1][0],K=+ia[0][1],F=+ia[1][1],y>A&&(ia=y,y=A,A=ia),K>F&&(ia=K,K=F,F=ia),b.precision(oa)):[[y,K],[A,F]]},b.minorExtent=function(ia){return arguments.length?(t=+ia[0][0],q=+ia[1][0],C=+ia[0][1],E=+ia[1][1],t>q&&(ia=t,t=q,q=ia),C>E&&(ia=C,C=E,E=ia),b.precision(oa)):[[t,C],[q,E]]},b.step=function(ia){return arguments.length?b.majorStep(ia).minorStep(ia):b.minorStep()},b.majorStep=function(ia){return arguments.length?
(ka=+ia[0],na=+ia[1],b):[ka,na]},b.minorStep=function(ia){return arguments.length?(fa=+ia[0],pa=+ia[1],b):[fa,pa]},b.precision=function(ia){return arguments.length?(oa=+ia,N=V(C,E,90),U=ea(t,q,oa),W=V(K,F,90),Y=ea(y,A,oa),b):oa},b.majorExtent([[-180,-90+eb],[180,90-eb]]).minorExtent([[-180,-80-eb],[180,80+eb]])};Z.geo.greatArc=function(){function b(){return{type:"LineString",coordinates:[l||t.apply(this,arguments),q||A.apply(this,arguments)]}}var l,q,t=da,A=sa;return b.distance=function(){return Z.geo.distance(l||
t.apply(this,arguments),q||A.apply(this,arguments))},b.source=function(y){return arguments.length?(t=y,l="function"==typeof y?null:y,b):t},b.target=function(y){return arguments.length?(A=y,q="function"==typeof y?null:y,b):A},b.precision=function(){return arguments.length?b:0},b};Z.geo.interpolate=function(b,l){return ta(b[0]*Ab,b[1]*Ab,l[0]*Ab,l[1]*Ab)};Z.geo.length=function(b){return dh=0,Z.geo.stream(b,He),dh};var dh,He={sphere:I,point:I,lineStart:function(){function b(A,y){var E=Math.sin(y*=Ab);
y=Math.cos(y);var C=Bb((A*=Ab)-l),F=Math.cos(C);dh+=Math.atan2(Math.sqrt((C=y*Math.sin(C))*C+(C=t*E-q*y*F)*C),q*E+t*y*F);l=A;q=E;t=y}var l,q,t;He.point=function(A,y){l=A*Ab;q=Math.sin(y*=Ab);t=Math.cos(y);He.point=b};He.lineEnd=function(){He.point=He.lineEnd=I}},lineEnd:I,polygonStart:I,polygonEnd:I},bi=Ba(function(b){return Math.sqrt(2/(1+b))},function(b){return 2*Math.asin(b/2)});(Z.geo.azimuthalEqualArea=function(){return Pc(bi)}).raw=bi;var ci=Ba(function(b){return(b=Math.acos(b))&&b/Math.sin(b)},
x);(Z.geo.azimuthalEquidistant=function(){return Pc(ci)}).raw=ci;(Z.geo.conicConformal=function(){return ye(Na)}).raw=Na;(Z.geo.conicEquidistant=function(){return ye(Aa)}).raw=Aa;var di=Ba(function(b){return 1/b},Math.atan);(Z.geo.gnomonic=function(){return Pc(di)}).raw=di;fb.invert=function(b,l){return[b,2*Math.atan(Math.exp(l))-mc]};(Z.geo.mercator=function(){return nb(fb)}).raw=fb;var ei=Ba(function(){return 1},Math.asin);(Z.geo.orthographic=function(){return Pc(ei)}).raw=ei;var fi=Ba(function(b){return 1/
(1+b)},function(b){return 2*Math.atan(b)});(Z.geo.stereographic=function(){return Pc(fi)}).raw=fi;ob.invert=function(b,l){return[-l,2*Math.atan(Math.exp(b))-mc]};(Z.geo.transverseMercator=function(){var b=nb(ob),l=b.center,q=b.rotate;return b.center=function(t){return t?l([-t[1],t[0]]):(t=l(),[t[1],-t[0]])},b.rotate=function(t){return t?q([t[0],t[1],2<t.length?t[2]+90:90]):(t=q(),[t[0],t[1],t[2]-90])},q([0,0,90])}).raw=ob;Z.geom={};Z.geom.hull=function(b){function l(A){if(3>A.length)return[];var y,
E=Lb(q),C=Lb(t),F=A.length,K=[],N=[];for(y=0;F>y;y++)K.push([+E.call(this,A[y],y),+C.call(this,A[y],y),y]);K.sort(vc);for(y=0;F>y;y++)N.push([K[y][0],-K[y][1]]);E=Nc(K);N=Nc(N);C=N[0]===E[0];F=N[N.length-1]===E[E.length-1];var U=[];for(y=E.length-1;0<=y;--y)U.push(A[K[E[y]][2]]);for(y=+C;y<N.length-F;++y)U.push(A[K[N[y]][2]]);return U}var q=Hb,t=Wb;return arguments.length?l(b):(l.x=function(A){return arguments.length?(q=A,l):q},l.y=function(A){return arguments.length?(t=A,l):t},l)};Z.geom.polygon=
function(b){return Ef(b,hg),b};var hg=Z.geom.polygon.prototype=[];hg.area=function(){for(var b,l=-1,q=this.length,t=this[q-1],A=0;++l<q;)b=t,t=this[l],A+=b[1]*t[0]-b[0]*t[1];return.5*A};hg.centroid=function(b){var l=-1,q=this.length,t=0,A=0,y=this[q-1];for(arguments.length||(b=-1/(6*this.area()));++l<q;){var E=y;y=this[l];var C=E[0]*y[1]-y[0]*E[1];t+=(E[0]+y[0])*C;A+=(E[1]+y[1])*C}return[t*b,A*b]};hg.clip=function(b){for(var l,q,t,A,y,E,C=Fb(b),F=-1,K=this.length-Fb(this),N=this[K-1];++F<K;){l=b.slice();
b.length=0;A=this[F];y=l[(t=l.length-C)-1];for(q=-1;++q<t;)E=l[q],Bc(E,N,A)?(Bc(y,N,A)||b.push(qb(y,E,N,A)),b.push(E)):Bc(y,N,A)&&b.push(qb(y,E,N,A)),y=E;C&&b.push(b[0]);N=A}return b};var Ee,de,De,Hg,Se,rh=[],sh=[];Lc.prototype.prepare=function(){for(var b,l=this.edges,q=l.length;q--;)b=l[q].edge,b.b&&b.a||l.splice(q,1);return l.sort(ed),l.length};zc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};
qc.prototype={insert:function(b,l){var q;if(b){if(l.P=b,l.N=b.N,b.N&&(b.N.P=l),b.N=l,b.R){for(b=b.R;b.L;)b=b.L;b.L=l}else b.R=l;var t=b}else this._?(b=Yb(this._),l.P=null,l.N=b,b.P=b.L=l,t=b):(l.P=l.N=null,this._=l,t=null);l.L=l.R=null;l.U=t;l.C=!0;for(b=l;t&&t.C;)l=t.U,t===l.L?(q=l.R,q&&q.C?(t.C=q.C=!1,l.C=!0,b=l):(b===t.R&&(Jb(this,t),b=t,t=b.U),t.C=!1,l.C=!0,gc(this,l))):(q=l.L,q&&q.C?(t.C=q.C=!1,l.C=!0,b=l):(b===t.L&&(gc(this,t),b=t,t=b.U),t.C=!1,l.C=!0,Jb(this,l))),t=b.U;this._.C=!1},remove:function(b){b.N&&
(b.N.P=b.P);b.P&&(b.P.N=b.N);b.N=b.P=null;var l,q,t,A=b.U,y=b.L,E=b.R;if(q=y?E?Yb(E):y:E,A?A.L===b?A.L=q:A.R=q:this._=q,y&&E?(t=q.C,q.C=b.C,q.L=y,y.U=q,q!==E?(A=q.U,q.U=b.U,b=q.R,A.L=b,q.R=E,E.U=q):(q.U=A,A=q,b=q.R)):(t=b.C,b=q),b&&(b.U=A),!t){if(b&&b.C)return void(b.C=!1);do{if(b===this._)break;if(b===A.L){if(l=A.R,l.C&&(l.C=!1,A.C=!0,Jb(this,A),l=A.R),l.L&&l.L.C||l.R&&l.R.C){l.R&&l.R.C||(l.L.C=!1,l.C=!0,gc(this,l),l=A.R);l.C=A.C;A.C=l.R.C=!1;Jb(this,A);b=this._;break}}else if(l=A.L,l.C&&(l.C=!1,
A.C=!0,gc(this,A),l=A.L),l.L&&l.L.C||l.R&&l.R.C){l.L&&l.L.C||(l.R.C=!1,l.C=!0,Jb(this,l),l=A.L);l.C=A.C;A.C=l.L.C=!1;gc(this,A);b=this._;break}l.C=!0;b=A;A=A.U}while(!b.C);b&&(b.C=!1)}}};Z.geom.voronoi=function(b){function l(F){var K=Array(F.length),N=C[0][0],U=C[0][1],W=C[1][0],Y=C[1][1];return Mc(q(F),C).cells.forEach(function(fa,pa){var ka=fa.edges;fa=fa.site;(K[pa]=ka.length?ka.map(function(na){na=na.start();return[na.x,na.y]}):fa.x>=N&&fa.x<=W&&fa.y>=U&&fa.y<=Y?[[N,Y],[W,Y],[W,U],[N,U]]:[]).point=
F[pa]}),K}function q(F){return F.map(function(K,N){return{x:Math.round(y(K,N)/eb)*eb,y:Math.round(E(K,N)/eb)*eb,i:N}})}var t=Hb,A=Wb,y=t,E=A,C=ig;return b?l(b):(l.links=function(F){return Mc(q(F)).edges.filter(function(K){return K.l&&K.r}).map(function(K){return{source:F[K.l.i],target:F[K.r.i]}})},l.triangles=function(F){var K=[];return Mc(q(F)).cells.forEach(function(N,U){var W=N.site,Y=N.edges.sort(ed),fa=-1,pa=Y.length,ka=Y[pa-1].edge;for(ka=ka.l===W?ka.r:ka.l;++fa<pa;)N=ka,ka=Y[fa].edge,ka=ka.l===
W?ka.r:ka.l,U<N.i&&U<ka.i&&0>(W.x-ka.x)*(N.y-W.y)-(W.x-N.x)*(ka.y-W.y)&&K.push([F[U],F[N.i],F[ka.i]])}),K},l.x=function(F){return arguments.length?(y=Lb(t=F),l):t},l.y=function(F){return arguments.length?(E=Lb(A=F),l):A},l.clipExtent=function(F){return arguments.length?(C=null==F?ig:F,l):C===ig?null:C},l.size=function(F){return arguments.length?l.clipExtent(F&&[[0,0],F]):C===ig?null:C&&C[1]},l)};var ig=[[-1E6,-1E6],[1E6,1E6]];Z.geom.delaunay=function(b){return Z.geom.voronoi().triangles(b)};Z.geom.quadtree=
function(b,l,q,t,A){function y(K){function N(Ha,Ja,Oa,Sa,lb,wb,sb,Ua){if(!isNaN(Oa)&&!isNaN(Sa))if(Ha.leaf){var ub=Ha.x,Nb=Ha.y;if(null!=ub){if(!(.01>Bb(ub-Oa)+Bb(Nb-Sa))){var Ub=Ha.point;Ha.x=Ha.y=Ha.point=null;U(Ha,Ub,ub,Nb,lb,wb,sb,Ua)}U(Ha,Ja,Oa,Sa,lb,wb,sb,Ua)}else Ha.x=Oa,Ha.y=Sa,Ha.point=Ja}else U(Ha,Ja,Oa,Sa,lb,wb,sb,Ua)}function U(Ha,Ja,Oa,Sa,lb,wb,sb,Ua){var ub=.5*(lb+sb),Nb=.5*(wb+Ua),Ub=Oa>=ub,Ac=Sa>=Nb,dc=Ac<<1|Ub;Ha.leaf=!1;Ha=Ha.nodes[dc]||(Ha.nodes[dc]=Td());Ub?lb=ub:sb=ub;Ac?wb=Nb:
Ua=Nb;N(Ha,Ja,Oa,Sa,lb,wb,sb,Ua)}var W,Y,fa,pa,ka=Lb(C),na=Lb(F);if(null!=l){var oa=l;var ia=q;var xa=t;var Ma=A}else if(xa=Ma=-(oa=ia=1/0),W=[],Y=[],pa=K.length,E)for(fa=0;pa>fa;++fa){var aa=K[fa];aa.x<oa&&(oa=aa.x);aa.y<ia&&(ia=aa.y);aa.x>xa&&(xa=aa.x);aa.y>Ma&&(Ma=aa.y);W.push(aa.x);Y.push(aa.y)}else for(fa=0;pa>fa;++fa){var la=+ka(aa=K[fa],fa);aa=+na(aa,fa);oa>la&&(oa=la);ia>aa&&(ia=aa);la>xa&&(xa=la);aa>Ma&&(Ma=aa);W.push(la);Y.push(aa)}la=xa-oa;aa=Ma-ia;la>aa?Ma=ia+la:xa=oa+aa;var wa=Td();if(wa.add=
function(Ha){N(wa,Ha,+ka(Ha,++fa),+na(Ha,fa),oa,ia,xa,Ma)},wa.visit=function(Ha){ud(Ha,wa,oa,ia,xa,Ma)},wa.find=function(Ha){return pg(wa,Ha[0],Ha[1],oa,ia,xa,Ma)},fa=-1,null==l){for(;++fa<pa;)N(wa,K[fa],W[fa],Y[fa],oa,ia,xa,Ma);--fa}else K.forEach(wa.add);return W=Y=K=aa=null,wa}var E,C=Hb,F=Wb;return(E=arguments.length)?(C=ne,F=cf,3===E&&(A=q,t=l,q=l=0),y(b)):(y.x=function(K){return arguments.length?(C=K,y):C},y.y=function(K){return arguments.length?(F=K,y):F},y.extent=function(K){return arguments.length?
(null==K?l=q=t=A=null:(l=+K[0][0],q=+K[0][1],t=+K[1][0],A=+K[1][1]),y):null==l?null:[[l,q],[t,A]]},y.size=function(K){return arguments.length?(null==K?l=q=t=A=null:(l=q=0,t=+K[0],A=+K[1]),y):null==l?null:[t-l,A-q]},y)};Z.interpolateRgb=fd;Z.interpolateObject=df;Z.interpolateNumber=gd;Z.interpolateString=dd;var Ig=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jg=new RegExp(Ig.source,"g");Z.interpolate=od;Z.interpolators=[function(b,l){var q=typeof l;return("string"===q?Ff.has(l)||/^(#|rgb\(|hsl\()/.test(l)?
fd:dd:l instanceof hb?fd:Array.isArray(l)?Zc:"object"===q&&isNaN(l)?df:gd)(b,l)}];Z.interpolateArray=Zc;var gi=function(){return x},Zi=Z.map({linear:gi,poly:function(b){return function(l){return Math.pow(l,b)}},quad:function(){return af},cubic:function(){return ng},sin:function(){return sg},exp:function(){return oe},circle:function(){return tg},elastic:function(b,l){var q;return 2>arguments.length&&(l=.45),arguments.length?q=l/Wc*Math.asin(1/b):(b=1,q=l/4),function(t){return 1+b*Math.pow(2,-10*t)*
Math.sin((t-q)*Wc/l)}},back:function(b){return b||=1.70158,function(l){return l*l*((b+1)*l-b)}},bounce:function(){return ug}}),$i=Z.map({"in":x,out:Ud,"in-out":ef,"out-in":function(b){return ef(Ud(b))}});Z.ease=function(b){var l=b.indexOf("-"),q=0<=l?b.slice(0,l):b;l=0<=l?b.slice(l+1):"in";return q=Zi.get(q)||gi,l=$i.get(l)||x,qg(l(q.apply(null,Uh.call(arguments,1))))};Z.interpolateHcl=function(b,l){b=Z.hcl(b);l=Z.hcl(l);var q=b.h,t=b.c,A=b.l,y=l.h-q,E=l.c-t,C=l.l-A;return isNaN(E)&&(E=0,t=isNaN(t)?
l.c:t),isNaN(y)?(y=0,q=isNaN(q)?l.h:q):180<y?y-=360:-180>y&&(y+=360),function(F){return jb(q+y*F,t+E*F,A+C*F)+""}};Z.interpolateHsl=function(b,l){b=Z.hsl(b);l=Z.hsl(l);var q=b.h,t=b.s,A=b.l,y=l.h-q,E=l.s-t,C=l.l-A;return isNaN(E)&&(E=0,t=isNaN(t)?l.s:t),isNaN(y)?(y=0,q=isNaN(q)?l.h:q):180<y?y-=360:-180>y&&(y+=360),function(F){return ab(q+y*F,t+E*F,A+C*F)+""}};Z.interpolateLab=function(b,l){b=Z.lab(b);l=Z.lab(l);var q=b.l,t=b.a,A=b.b,y=l.l-q,E=l.a-t,C=l.b-A;return function(F){return pb(q+y*F,t+E*F,
A+C*F)+""}};Z.interpolateRound=ff;Z.transform=function(b){var l=Fc.createElementNS(Z.ns.prefix.svg,"g");return(Z.transform=function(q){if(null!=q){l.setAttribute("transform",q);var t=l.transform.baseVal.consolidate()}return new Fd(t?t.matrix:aj)})(b)};Fd.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var aj={a:1,b:0,c:0,d:1,e:0,f:0};Z.interpolateTransform=me;Z.layout={};Z.layout.bundle=function(){return function(b){for(var l=
[],q=-1,t=b.length;++q<t;){var A=l,y=A.push,E=b[q],C=E.source;E=E.target;var F=E;if(C===F)var K=C;else{K=Je(C);F=Je(F);for(var N=K.pop(),U=F.pop(),W=null;N===U;)W=N,N=K.pop(),U=F.pop();K=W}for(F=[C];C!==K;)C=C.parent,F.push(C);for(C=F.length;E!==K;)F.splice(C,0,E),E=E.parent;y.call(A,F)}return l}};Z.layout.chord=function(){function b(){var U,W,Y={},fa=[],pa=Z.range(y),ka=[];q=[];t=[];var na=0;for(U=-1;++U<y;){var oa=0;for(W=-1;++W<y;)oa+=A[U][W];fa.push(oa);ka.push(Z.range(y));na+=oa}E&&pa.sort(function(Ha,
Ja){return E(fa[Ha],fa[Ja])});C&&ka.forEach(function(Ha,Ja){Ha.sort(function(Oa,Sa){return C(A[Ja][Oa],A[Ja][Sa])})});na=(Wc-N*y)/na;oa=0;for(U=-1;++U<y;){var ia=oa;for(W=-1;++W<y;){var xa=pa[U],Ma=ka[xa][W],aa=A[xa][Ma],la=oa,wa=oa+=aa*na;Y[xa+"-"+Ma]={index:xa,subindex:Ma,startAngle:la,endAngle:wa,value:aa}}t[xa]={index:xa,startAngle:ia,endAngle:oa,value:(oa-ia)/na};oa+=N}for(U=-1;++U<y;)for(W=U-1;++W<y;)na=Y[U+"-"+W],oa=Y[W+"-"+U],(na.value||oa.value)&&q.push(na.value<oa.value?{source:oa,target:na}:
{source:na,target:oa});F&&l()}function l(){q.sort(function(U,W){return F((U.source.value+U.target.value)/2,(W.source.value+W.target.value)/2)})}var q,t,A,y,E,C,F,K={},N=0;return K.matrix=function(U){return arguments.length?(y=(A=U)&&A.length,q=t=null,K):A},K.padding=function(U){return arguments.length?(N=U,q=t=null,K):N},K.sortGroups=function(U){return arguments.length?(E=U,q=t=null,K):E},K.sortSubgroups=function(U){return arguments.length?(C=U,q=null,K):C},K.sortChords=function(U){return arguments.length?
(F=U,q&&l(),K):F},K.chords=function(){return q||b(),q},K.groups=function(){return t||b(),t},K};Z.layout.force=function(){function b(ia){return function(xa,Ma,aa,la){if(xa.point!==ia){aa=xa.cx-ia.x;var wa=xa.cy-ia.y;Ma=la-Ma;la=aa*aa+wa*wa;if(la>Ma*Ma/ka)return fa>la&&(Ma=xa.charge/la,ia.px-=aa*Ma,ia.py-=wa*Ma),!0;xa.point&&la&&fa>la&&(Ma=xa.pointCharge/la,ia.px-=aa*Ma,ia.py-=wa*Ma)}return!xa.charge}}function l(ia){ia.px=Z.event.x;ia.py=Z.event.y;C.resume()}var q,t,A,y,E,C={},F=Z.dispatch("start",
"tick","end"),K=[1,1],N=.9,U=bj,W=cj,Y=-30,fa=dj,pa=.1,ka=.64,na=[],oa=[];return C.tick=function(){if(.005>(t*=.99))return F.end({type:"end",alpha:t=0}),!0;var ia,xa,Ma,aa=na.length,la=oa.length;for(ia=0;la>ia;++ia){var wa=oa[ia];var Ha=wa.source;var Ja=wa.target;var Oa=Ja.x-Ha.x;var Sa=Ja.y-Ha.y;(xa=Oa*Oa+Sa*Sa)&&(xa=t*y[ia]*((xa=Math.sqrt(xa))-A[ia])/xa,Oa*=xa,Sa*=xa,Ja.x-=Oa*(Ma=Ha.weight/(Ja.weight+Ha.weight)),Ja.y-=Sa*Ma,Ha.x+=Oa*(Ma=1-Ma),Ha.y+=Sa*Ma)}if((Ma=t*pa)&&(Oa=K[0]/2,Sa=K[1]/2,ia=-1,
Ma))for(;++ia<aa;)wa=na[ia],wa.x+=(Oa-wa.x)*Ma,wa.y+=(Sa-wa.y)*Ma;if(Y)for(qa(Ha=Z.geom.quadtree(na),t,E),ia=-1;++ia<aa;)(wa=na[ia]).fixed||Ha.visit(b(wa));for(ia=-1;++ia<aa;)wa=na[ia],wa.fixed?(wa.x=wa.px,wa.y=wa.py):(wa.x-=(wa.px-(wa.px=wa.x))*N,wa.y-=(wa.py-(wa.py=wa.y))*N);F.tick({type:"tick",alpha:t})},C.nodes=function(ia){return arguments.length?(na=ia,C):na},C.links=function(ia){return arguments.length?(oa=ia,C):oa},C.size=function(ia){return arguments.length?(K=ia,C):K},C.linkDistance=function(ia){return arguments.length?
(U="function"==typeof ia?ia:+ia,C):U},C.distance=C.linkDistance,C.linkStrength=function(ia){return arguments.length?(W="function"==typeof ia?ia:+ia,C):W},C.friction=function(ia){return arguments.length?(N=+ia,C):N},C.charge=function(ia){return arguments.length?(Y="function"==typeof ia?ia:+ia,C):Y},C.chargeDistance=function(ia){return arguments.length?(fa=ia*ia,C):Math.sqrt(fa)},C.gravity=function(ia){return arguments.length?(pa=+ia,C):pa},C.theta=function(ia){return arguments.length?(ka=ia*ia,C):
Math.sqrt(ka)},C.alpha=function(ia){return arguments.length?(ia=+ia,t?t=0<ia?ia:0:0<ia&&(F.start({type:"start",alpha:t=ia}),Z.timer(C.tick)),C):t},C.start=function(){function ia(Oa,Sa){if(!Ma){Ma=Array(la);for(sb=0;la>sb;++sb)Ma[sb]=[];for(sb=0;wa>sb;++sb){var lb=oa[sb];Ma[lb.source.index].push(lb.target);Ma[lb.target.index].push(lb.source)}}for(var wb=Ma[xa],sb=-1,Ua=wb.length;++sb<Ua;)if(!isNaN(lb=wb[sb][Oa]))return lb;return Math.random()*Sa}var xa,Ma,aa,la=na.length,wa=oa.length,Ha=K[0],Ja=K[1];
for(xa=0;la>xa;++xa)(aa=na[xa]).index=xa,aa.weight=0;for(xa=0;wa>xa;++xa)aa=oa[xa],"number"==typeof aa.source&&(aa.source=na[aa.source]),"number"==typeof aa.target&&(aa.target=na[aa.target]),++aa.source.weight,++aa.target.weight;for(xa=0;la>xa;++xa)aa=na[xa],isNaN(aa.x)&&(aa.x=ia("x",Ha)),isNaN(aa.y)&&(aa.y=ia("y",Ja)),isNaN(aa.px)&&(aa.px=aa.x),isNaN(aa.py)&&(aa.py=aa.y);if(A=[],"function"==typeof U)for(xa=0;wa>xa;++xa)A[xa]=+U.call(this,oa[xa],xa);else for(xa=0;wa>xa;++xa)A[xa]=U;if(y=[],"function"==
typeof W)for(xa=0;wa>xa;++xa)y[xa]=+W.call(this,oa[xa],xa);else for(xa=0;wa>xa;++xa)y[xa]=W;if(E=[],"function"==typeof Y)for(xa=0;la>xa;++xa)E[xa]=+Y.call(this,na[xa],xa);else for(xa=0;la>xa;++xa)E[xa]=Y;return C.resume()},C.resume=function(){return C.alpha(.1)},C.stop=function(){return C.alpha(0)},C.drag=function(){return q||=Z.behavior.drag().origin(x).on("dragstart.force",bf).on("drag.force",l).on("dragend.force",gf),arguments.length?void this.on("mouseover.force",og).on("mouseout.force",ca).call(q):
q},Z.rebind(C,F,"on")};var bj=20,cj=1,dj=1/0;Z.layout.hierarchy=function(){function b(A){var y,E=[A],C=[];for(A.depth=0;null!=(y=E.pop());)if(C.push(y),(K=q.call(b,y,y.depth))&&(F=K.length)){for(var F,K,N;0<=--F;)E.push(N=K[F]),N.parent=y,N.depth=y.depth+1;t&&(y.value=0);y.children=K}else t&&(y.value=+t.call(b,y,y.depth)||0),delete y.children;return Ea(A,function(U){var W,Y;l&&(W=U.children)&&W.sort(l);t&&(Y=U.parent)&&(Y.value+=U.value)}),C}var l=vb,q=$a,t=Ya;return b.sort=function(A){return arguments.length?
(l=A,b):l},b.children=function(A){return arguments.length?(q=A,b):q},b.value=function(A){return arguments.length?(t=A,b):t},b.revalue=function(A){return t&&(ya(A,function(y){y.children&&(y.value=0)}),Ea(A,function(y){var E;y.children||(y.value=+t.call(b,y,y.depth)||0);(E=y.parent)&&(E.value+=y.value)})),A},b};Z.layout.partition=function(){function b(y,E,C,F){var K=y.children;if(y.x=E,y.y=y.depth*F,y.dx=C,y.dy=F,K&&(N=K.length)){var N,U,W=-1;for(C=y.value?C/y.value:0;++W<N;)b(U=K[W],E,y=U.value*C,
F),E+=y}}function l(y){y=y.children;var E=0;if(y&&(C=y.length))for(var C,F=-1;++F<C;)E=Math.max(E,l(y[F]));return 1+E}function q(y,E){y=t.call(this,y,E);return b(y[0],0,A[0],A[1]/l(y[0])),y}var t=Z.layout.hierarchy(),A=[1,1];return q.size=function(y){return arguments.length?(A=y,q):A},za(q,t)};Z.layout.pie=function(){function b(E){var C,F=E.length,K=E.map(function(ka,na){return+l.call(b,ka,na)}),N=+("function"==typeof t?t.apply(this,arguments):t),U=("function"==typeof A?A.apply(this,arguments):A)-
N,W=Math.min(Math.abs(U)/F,+("function"==typeof y?y.apply(this,arguments):y)),Y=W*(0>U?-1:1),fa=(U-F*Y)/Z.sum(K);F=Z.range(F);var pa=[];return null!=q&&F.sort(q===hi?function(ka,na){return K[na]-K[ka]}:function(ka,na){return q(E[ka],E[na])}),F.forEach(function(ka){pa[ka]={data:E[ka],value:C=K[ka],startAngle:N,endAngle:N+=C*fa+Y,padAngle:W}}),pa}var l=Number,q=hi,t=0,A=Wc,y=0;return b.value=function(E){return arguments.length?(l=E,b):l},b.sort=function(E){return arguments.length?(q=E,b):q},b.startAngle=
function(E){return arguments.length?(t=E,b):t},b.endAngle=function(E){return arguments.length?(A=E,b):A},b.padAngle=function(E){return arguments.length?(y=E,b):y},b};var hi={};Z.layout.stack=function(){function b(C,F){if(!(W=C.length))return C;var K=C.map(function(ka,na){return l.call(b,ka,na)}),N=K.map(function(ka){return ka.map(function(na,oa){return[y.call(b,na,oa),E.call(b,na,oa)]})}),U=q.call(b,N,F);K=Z.permute(K,U);N=Z.permute(N,U);var W,Y,fa=t.call(b,N,F),pa=K[0].length;for(U=0;pa>U;++U)for(A.call(b,
K[0][U],Y=fa[U],N[0][U][1]),F=1;W>F;++F)A.call(b,K[F][U],Y+=N[F-1][U][1],N[F][U][1]);return C}var l=x,q=fc,t=Kb,A=kc,y=yb,E=Pb;return b.values=function(C){return arguments.length?(l=C,b):l},b.order=function(C){return arguments.length?(q="function"==typeof C?C:ej.get(C)||fc,b):q},b.offset=function(C){return arguments.length?(t="function"==typeof C?C:fj.get(C)||Kb,b):t},b.x=function(C){return arguments.length?(y=C,b):y},b.y=function(C){return arguments.length?(E=C,b):E},b.out=function(C){return arguments.length?
(A=C,b):A},b};var ej=Z.map({"inside-out":function(b){var l=b.length,q=b.map(Rb),t=b.map(Xb),A=Z.range(l).sort(function(N,U){return q[N]-q[U]}),y=0,E=0,C=[],F=[];for(b=0;l>b;++b){var K=A[b];E>y?(y+=t[K],C.push(K)):(E+=t[K],F.push(K))}return F.reverse().concat(C)},reverse:function(b){return Z.range(b.length).reverse()},"default":fc}),fj=Z.map({silhouette:function(b){var l,q,t,A=b.length,y=b[0].length,E=[],C=0,F=[];for(q=0;y>q;++q){for(t=l=0;A>l;l++)t+=b[l][q][1];t>C&&(C=t);E.push(t)}for(q=0;y>q;++q)F[q]=
(C-E[q])/2;return F},wiggle:function(b){var l,q,t,A,y,E,C,F=b.length,K=b[0],N=K.length,U=[];U[0]=E=C=0;for(q=1;N>q;++q){for(t=l=0;F>l;++l)t+=b[l][q][1];var W=l=0;for(y=K[q][0]-K[q-1][0];F>l;++l){var Y=0;for(A=(b[l][q][1]-b[l][q-1][1])/(2*y);l>Y;++Y)A+=(b[Y][q][1]-b[Y][q-1][1])/y;W+=A*b[l][q][1]}U[q]=E-=t?W/t*y:0;C>E&&(C=E)}for(q=0;N>q;++q)U[q]-=C;return U},expand:function(b){var l,q,t,A=b.length,y=b[0].length,E=1/A,C=[];for(q=0;y>q;++q){for(t=l=0;A>l;l++)t+=b[l][q][1];if(t)for(l=0;A>l;l++)b[l][q][1]/=
t;else for(l=0;A>l;l++)b[l][q][1]=E}for(q=0;y>q;++q)C[q]=0;return C},zero:Kb});Z.layout.histogram=function(){function b(y,E){var C=[],F=y.map(q,this),K=t.call(this,F,E),N=A.call(this,K,F,E);E=-1;for(var U=F.length,W=N.length-1,Y=l?1:1/U;++E<W;){var fa=C[E]=[];fa.dx=N[E+1]-(fa.x=N[E]);fa.y=0}if(0<W)for(E=-1;++E<U;){var pa=F[E];pa>=K[0]&&pa<=K[1]&&(fa=C[Z.bisect(N,pa,1,W)-1],fa.y+=Y,fa.push(y[E]))}return C}var l=!0,q=Number,t=lc,A=yc;return b.value=function(y){return arguments.length?(q=y,b):q},b.range=
function(y){return arguments.length?(t=Lb(y),b):t},b.bins=function(y){return arguments.length?(A="number"==typeof y?function(E){return pc(E,y)}:Lb(y),b):A},b.frequency=function(y){return arguments.length?(l=!!y,b):l},b};Z.layout.pack=function(){function b(y,E){y=q.call(this,y,E);E=y[0];var C=A[0],F=A[1],K=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(E.x=E.y=0,Ea(E,function(U){U.r=+K(U.value)}),Ea(E,qe),t){var N=t*(l?1:Math.max(2*E.r/C,2*E.r/F))/2;Ea(E,function(U){U.r+=N});Ea(E,
qe);Ea(E,function(U){U.r-=N})}return uh(E,C/2,F/2,l?1:1/Math.max(2*E.r/C,2*E.r/F)),y}var l,q=Z.layout.hierarchy().sort(hf),t=0,A=[1,1];return b.size=function(y){return arguments.length?(A=y,b):A},b.radius=function(y){return arguments.length?(l=null==y||"function"==typeof y?y:+y,b):l},b.padding=function(y){return arguments.length?(t=+y,b):t},za(b,q)};Z.layout.tree=function(){function b(K,N){K=y.call(this,K,N);N=K[0];var U=l(N);if(Ea(U,q),U.parent.m=-U.z,ya(U,t),F)ya(N,A);else{var W=N,Y=N,fa=N;ya(N,
function(oa){oa.x<W.x&&(W=oa);oa.x>Y.x&&(Y=oa);oa.depth>fa.depth&&(fa=oa)});var pa=E(W,Y)/2-W.x,ka=C[0]/(Y.x+E(Y,W)/2+pa),na=C[1]/(fa.depth||1);ya(N,function(oa){oa.x=(oa.x+pa)*ka;oa.y=oa.depth*na})}return K}function l(K){for(var N={A:null,children:[K]},U=[N];null!=(K=U.pop());)for(var W,Y=K.children,fa=0,pa=Y.length;pa>fa;++fa)U.push((Y[fa]=W={_:Y[fa],parent:K,children:(W=Y[fa].children)&&W.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:fa}).a=W);return N.children[0]}function q(K){var N=K.children,
U=K.parent.children,W=K.i?U[K.i-1]:null;if(N.length){for(var Y,fa=0,pa=0,ka=K.children,na=ka.length;0<=--na;)Y=ka[na],Y.z+=fa,Y.m+=fa,fa+=Y.s+(pa+=Y.c);N=(N[0].z+N[N.length-1].z)/2;W?(K.z=W.z+E(K._,W._),K.m=K.z-N):K.z=N}else W&&(K.z=W.z+E(K._,W._));N=K.parent;U=K.parent.A||U[0];if(W){fa=Y=K;pa=W;ka=Y.parent.children[0];na=Y.m;for(var oa=fa.m,ia=pa.m,xa=ka.m;pa=Lg(pa),Y=Kg(Y),pa&&Y;){ka=Kg(ka);fa=Lg(fa);fa.a=K;W=pa.z+ia-Y.z-na+E(pa._,Y._);if(0<W){var Ma=pa.a.parent===K.parent?pa.a:U,aa=K,la=W,wa=la/
(aa.i-Ma.i);aa.c-=wa;aa.s+=la;Ma.c+=wa;aa.z+=la;aa.m+=la;na+=W;oa+=W}ia+=pa.m;na+=Y.m;xa+=ka.m;oa+=fa.m}pa&&!Lg(fa)&&(fa.t=pa,fa.m+=ia-oa);Y&&!Kg(ka)&&(ka.t=Y,ka.m+=na-xa,U=K)}N.A=U}function t(K){K._.x=K.z+K.parent.m;K.m+=K.parent.m}function A(K){K.x*=C[0];K.y=K.depth*C[1]}var y=Z.layout.hierarchy().sort(null).value(null),E=vh,C=[1,1],F=null;return b.separation=function(K){return arguments.length?(E=K,b):E},b.size=function(K){return arguments.length?(F=null==(C=K)?A:null,b):F?null:C},b.nodeSize=function(K){return arguments.length?
(F=null==(C=K)?null:A,b):F?C:null},za(b,y)};Z.layout.cluster=function(){function b(y,E){var C;y=l.call(this,y,E);var F=y[0],K=0;Ea(F,function(Y){var fa=Y.children;fa&&fa.length?(Y.x=vi(fa),Y.y=ui(fa)):(Y.x=C?K+=q(Y,C):0,Y.y=0,C=Y)});E=wh(F);var N=xh(F),U=E.x-q(E,N)/2,W=N.x+q(N,E)/2;return Ea(F,A?function(Y){Y.x=(Y.x-F.x)*t[0];Y.y=(F.y-Y.y)*t[1]}:function(Y){Y.x=(Y.x-U)/(W-U)*t[0];Y.y=(1-(F.y?Y.y/F.y:1))*t[1]}),y}var l=Z.layout.hierarchy().sort(null).value(null),q=vh,t=[1,1],A=!1;return b.separation=
function(y){return arguments.length?(q=y,b):q},b.size=function(y){return arguments.length?(A=null==(t=y),b):A?null:t},b.nodeSize=function(y){return arguments.length?(A=null!=(t=y),b):A?t:null},za(b,l)};Z.layout.treemap=function(){function b(fa,pa){for(var ka,na,oa=-1,ia=fa.length;++oa<ia;)na=(ka=fa[oa]).value*(0>pa?0:pa),ka.area=isNaN(na)||0>=na?0:na}function l(fa){var pa=fa.children;if(pa&&pa.length){var ka=N(fa),na=[],oa=pa.slice(),ia=1/0,xa="slice"===W?ka.dx:"dice"===W?ka.dy:"slice-dice"===W?1&
fa.depth?ka.dy:ka.dx:Math.min(ka.dx,ka.dy);b(oa,ka.dx*ka.dy/fa.value);for(na.area=0;0<(fa=oa.length);){na.push(fa=oa[fa-1]);na.area+=fa.area;var Ma;if(!(Ma="squarify"!==W)){var aa=void 0;fa=xa;var la=na.area,wa=0,Ha=1/0;Ma=-1;for(var Ja=na.length;++Ma<Ja;)(aa=na[Ma].area)&&(Ha>aa&&(Ha=aa),aa>wa&&(wa=aa));Ma=(aa=(la*=la,fa*=fa,la?Math.max(fa*wa*Y/la,la/(fa*Ha*Y)):1/0))<=ia}Ma?(oa.pop(),ia=aa):(na.area-=na.pop().area,t(na,xa,ka,!1),xa=Math.min(ka.dx,ka.dy),na.length=na.area=0,ia=1/0)}na.length&&(t(na,
xa,ka,!0),na.length=na.area=0);pa.forEach(l)}}function q(fa){var pa=fa.children;if(pa&&pa.length){var ka=N(fa),na=pa.slice(),oa=[];b(na,ka.dx*ka.dy/fa.value);for(oa.area=0;fa=na.pop();)oa.push(fa),oa.area+=fa.area,null!=fa.z&&(t(oa,fa.z?ka.dx:ka.dy,ka,!na.length),oa.length=oa.area=0);pa.forEach(q)}}function t(fa,pa,ka,na){var oa=-1,ia=fa.length,xa=ka.x,Ma=ka.y,aa=pa?C(fa.area/pa):0;if(pa==ka.dx){for((na||aa>ka.dy)&&(aa=ka.dy);++oa<ia;){var la=fa[oa];la.x=xa;la.y=Ma;la.dy=aa;xa+=la.dx=Math.min(ka.x+
ka.dx-xa,aa?C(la.area/aa):0)}la.z=!0;la.dx+=ka.x+ka.dx-xa;ka.y+=aa;ka.dy-=aa}else{for((na||aa>ka.dx)&&(aa=ka.dx);++oa<ia;)la=fa[oa],la.x=xa,la.y=Ma,la.dx=aa,Ma+=la.dy=Math.min(ka.y+ka.dy-Ma,aa?C(la.area/aa):0);la.z=!1;la.dy+=ka.y+ka.dy-Ma;ka.x+=aa;ka.dx-=aa}}function A(fa){fa=y||E(fa);var pa=fa[0];return pa.x=0,pa.y=0,pa.dx=F[0],pa.dy=F[1],y&&E.revalue(pa),b([pa],pa.dx*pa.dy/pa.value),(y?q:l)(pa),U&&(y=fa),fa}var y,E=Z.layout.hierarchy(),C=Math.round,F=[1,1],K=null,N=Mg,U=!1,W="squarify",Y=.5*(1+
Math.sqrt(5));return A.size=function(fa){return arguments.length?(F=fa,A):F},A.padding=function(fa){function pa(oa){var ia=fa.call(A,oa,oa.depth);return null==ia?Mg(oa):yh(oa,"number"==typeof ia?[ia,ia,ia,ia]:ia)}function ka(oa){return yh(oa,fa)}if(!arguments.length)return K;var na;return N=null==(K=fa)?Mg:"function"==(na=typeof fa)?pa:"number"===na?(fa=[fa,fa,fa,fa],ka):ka,A},A.round=function(fa){return arguments.length?(C=fa?Math.round:Number,A):C!=Number},A.sticky=function(fa){return arguments.length?
(U=fa,y=null,A):U},A.ratio=function(fa){return arguments.length?(Y=fa,A):Y},A.mode=function(fa){return arguments.length?(W=fa+"",A):W},za(A,E)};Z.random={normal:function(b,l){var q=arguments.length;return 2>q&&(l=1),1>q&&(b=0),function(){do{var t=2*Math.random()-1;var A=2*Math.random()-1;A=t*t+A*A}while(!A||1<A);return b+l*t*Math.sqrt(-2*Math.log(A)/A)}},logNormal:function(){var b=Z.random.normal.apply(Z,arguments);return function(){return Math.exp(b())}},bates:function(b){var l=Z.random.irwinHall(b);
return function(){return l()/b}},irwinHall:function(b){return function(){for(var l=0,q=0;b>q;q++)l+=Math.random();return l}}};Z.scale={};var xi={floor:x,ceil:x};Z.scale.linear=function(){return Ah([0,1],[0,1],od,!1)};var Ai={s:1,g:1,p:1,r:1,e:1};Z.scale.log=function(){return Bh(Z.scale.linear().domain([0,1]),10,!0,[1,10])};var Ch=Z.format(".0e"),Bi={floor:function(b){return-Math.ceil(-b)},ceil:function(b){return-Math.floor(-b)}};Z.scale.pow=function(){return Dh(Z.scale.linear(),1,[0,1])};Z.scale.sqrt=
function(){return Z.scale.pow().exponent(.5)};Z.scale.ordinal=function(){return Eh([],{t:"range",a:[[]]})};Z.scale.category10=function(){return Z.scale.ordinal().range(gj)};Z.scale.category20=function(){return Z.scale.ordinal().range(hj)};Z.scale.category20b=function(){return Z.scale.ordinal().range(ij)};Z.scale.category20c=function(){return Z.scale.ordinal().range(jj)};var gj=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Gb),hj=[2062260,11454440,16744206,
16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Gb),ij=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Gb),jj=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,
12434877,14277081].map(Gb);Z.scale.quantile=function(){return Fh([],[])};Z.scale.quantize=function(){return Gh(0,1,[0,1])};Z.scale.threshold=function(){return Hh([.5],[0,1])};Z.scale.identity=function(){return Ih([0,1])};Z.svg={};Z.svg.arc=function(){function b(){var K=Math.max(0,+q.apply(this,arguments)),N=Math.max(0,+t.apply(this,arguments)),U=E.apply(this,arguments)-mc,W=C.apply(this,arguments)-mc,Y=Math.abs(W-U),fa=U>W?0:1;if(K>N&&(pa=N,N=K,K=pa),Y>=Ui)return l(N,fa)+(K?l(K,1-fa):"")+"Z";var pa,
ka,na;var oa=pa=0;Y=[];if((na=(+F.apply(this,arguments)||0)/2)&&(ka=y===jg?Math.sqrt(K*K+N*N):+y.apply(this,arguments),fa||(oa*=-1),N&&(oa=Ib(ka/N*Math.sin(na))),K&&(pa=Ib(ka/K*Math.sin(na)))),N){ka=N*Math.cos(U+oa);na=N*Math.sin(U+oa);var ia=N*Math.cos(W-oa);var xa=N*Math.sin(W-oa);var Ma=Math.abs(W-U-2*oa)<=zb?0:1;oa&&Qf(ka,na,ia,xa)===fa^Ma&&(ia=(U+W)/2,ka=N*Math.cos(ia),na=N*Math.sin(ia),ia=xa=null)}else ka=na=0;if(K){oa=K*Math.cos(W-pa);var aa=K*Math.sin(W-pa);var la=K*Math.cos(U+pa);var wa=
K*Math.sin(U+pa);var Ha=Math.abs(U-W+2*pa)<=zb?0:1;pa&&Qf(oa,aa,la,wa)===1-fa^Ha&&(la=(U+W)/2,oa=K*Math.cos(la),aa=K*Math.sin(la),la=wa=null)}else oa=aa=0;if(.001<(pa=Math.min(Math.abs(N-K)/2,+A.apply(this,arguments)))){Ma=N>K^fa?0:1;Ha=null==la?[oa,aa]:null==ia?[ka,na]:qb([ka,na],[la,wa],[ia,xa],[oa,aa]);U=ka-Ha[0];W=na-Ha[1];var Ja=ia-Ha[0],Oa=xa-Ha[1];U=1/Math.sin(Math.acos((U*Ja+W*Oa)/(Math.sqrt(U*U+W*W)*Math.sqrt(Ja*Ja+Oa*Oa)))/2);Ha=Math.sqrt(Ha[0]*Ha[0]+Ha[1]*Ha[1]);null!=ia?(W=Math.min(pa,
(N-Ha)/(U+1)),Ja=Rf(null==la?[oa,aa]:[la,wa],[ka,na],N,W,fa),Oa=Rf([ia,xa],[oa,aa],N,W,fa),pa===W?Y.push("M",Ja[0],"A",W,",",W," 0 0,",Ma," ",Ja[1],"A",N,",",N," 0 ",1-fa^Qf(Ja[1][0],Ja[1][1],Oa[1][0],Oa[1][1]),",",fa," ",Oa[1],"A",W,",",W," 0 0,",Ma," ",Oa[0]):Y.push("M",Ja[0],"A",W,",",W," 0 1,",Ma," ",Oa[0])):Y.push("M",ka,",",na);null!=la?(N=Math.min(pa,(K-Ha)/(U-1)),la=Rf([ka,na],[la,wa],K,-N,fa),ia=Rf([oa,aa],null==ia?[ka,na]:[ia,xa],K,-N,fa),pa===N?Y.push("L",ia[0],"A",N,",",N," 0 0,",Ma," ",
ia[1],"A",K,",",K," 0 ",fa^Qf(ia[1][0],ia[1][1],la[1][0],la[1][1]),",",1-fa," ",la[1],"A",N,",",N," 0 0,",Ma," ",la[0]):Y.push("L",ia[0],"A",N,",",N," 0 0,",Ma," ",la[0])):Y.push("L",oa,",",aa)}else Y.push("M",ka,",",na),null!=ia&&Y.push("A",N,",",N," 0 ",Ma,",",fa," ",ia,",",xa),Y.push("L",oa,",",aa),null!=la&&Y.push("A",K,",",K," 0 ",Ha,",",1-fa," ",la,",",wa);return Y.push("Z"),Y.join("")}function l(K,N){return"M0,"+K+"A"+K+","+K+" 0 1,"+N+" 0,"+-K+"A"+K+","+K+" 0 1,"+N+" 0,"+K}var q=Di,t=Ei,A=
Ci,y=jg,E=Jh,C=Kh,F=Fi;return b.innerRadius=function(K){return arguments.length?(q=Lb(K),b):q},b.outerRadius=function(K){return arguments.length?(t=Lb(K),b):t},b.cornerRadius=function(K){return arguments.length?(A=Lb(K),b):A},b.padRadius=function(K){return arguments.length?(y=K==jg?jg:Lb(K),b):y},b.startAngle=function(K){return arguments.length?(E=Lb(K),b):E},b.endAngle=function(K){return arguments.length?(C=Lb(K),b):C},b.padAngle=function(K){return arguments.length?(F=Lb(K),b):F},b.centroid=function(){var K=
(+q.apply(this,arguments)+ +t.apply(this,arguments))/2,N=(+E.apply(this,arguments)+ +C.apply(this,arguments))/2-mc;return[Math.cos(N)*K,Math.sin(N)*K]},b};var jg="auto";Z.svg.line=function(){return Lh(x)};var Pg=Z.map({linear:Xc,"linear-closed":function(b){return Xc(b)+"Z"},step:function(b){for(var l=0,q=b.length,t=b[0],A=[t[0],",",t[1]];++l<q;)A.push("H",(t[0]+(t=b[l])[0])/2,"V",t[1]);return 1<q&&A.push("H",t[0]),A.join("")},"step-before":Qg,"step-after":Rg,basis:Mh,"basis-open":function(b){if(4>
b.length)return Xc(b);for(var l,q=[],t=-1,A=b.length,y=[0],E=[0];3>++t;)l=b[t],y.push(l[0]),E.push(l[1]);q.push(bd(Od,y)+","+bd(Od,E));for(--t;++t<A;)l=b[t],y.shift(),y.push(l[0]),E.shift(),E.push(l[1]),Tg(q,y,E);return q.join("")},"basis-closed":function(b){for(var l,q,t=-1,A=b.length,y=A+4,E=[],C=[];4>++t;)q=b[t%A],E.push(q[0]),C.push(q[1]);l=[bd(Od,E),",",bd(Od,C)];for(--t;++t<y;)q=b[t%A],E.shift(),E.push(q[0]),C.shift(),C.push(q[1]),Tg(l,E,C);return l.join("")},bundle:function(b,l){var q=b.length-
1;if(q)for(var t,A,y=b[0][0],E=b[0][1],C=b[q][0]-y,F=b[q][1]-E,K=-1;++K<=q;)t=b[K],A=K/q,t[0]=l*t[0]+(1-l)*(y+A*C),t[1]=l*t[1]+(1-l)*(E+A*F);return Mh(b)},cardinal:function(b,l){return 3>b.length?Xc(b):b[0]+Sf(b,Sg(b,l))},"cardinal-open":function(b,l){return 4>b.length?Xc(b):b[1]+Sf(b.slice(1,-1),Sg(b,l))},"cardinal-closed":function(b,l){return 3>b.length?Xc(b):b[0]+Sf((b.push(b[0]),b),Sg([b[b.length-2]].concat(b,[b[1]]),l))},monotone:function(b){if(3>b.length)b=Xc(b);else{var l=b[0],q,t,A,y=[];var E=
0;var C=b.length-1;for(var F=[],K=b[1],N=F[0]=Ug(b[0],K);++E<C;)F[E]=(N+(N=Ug(K,K=b[E+1])))/2;C=(F[E]=N,F);F=-1;for(K=b.length-1;++F<K;)E=Ug(b[F],b[F+1]),Bb(E)<eb?C[F]=C[F+1]=0:(q=C[F]/E,t=C[F+1]/E,A=q*q+t*t,9<A&&(A=3*E/Math.sqrt(A),C[F]=A*q,C[F+1]=A*t));for(F=-1;++F<=K;)A=(b[Math.min(K,F+1)][0]-b[Math.max(0,F-1)][0])/(6*(1+C[F]*C[F])),y.push([A||0,C[F]*A||0]);b=l+Sf(b,y)}return b}});Pg.forEach(function(b,l){l.key=b;l.closed=/-closed$/.test(b)});var Nh=[0,2/3,1/3,0],Oh=[0,1/3,2/3,0],Od=[0,1/6,2/3,
1/6];Z.svg.line.radial=function(){var b=Lh(Ph);return b.radius=b.x,delete b.x,b.angle=b.y,delete b.y,b};Qg.reverse=Rg;Rg.reverse=Qg;Z.svg.area=function(){return Qh(x)};Z.svg.area.radial=function(){var b=Qh(Ph);return b.radius=b.x,delete b.x,b.innerRadius=b.x0,delete b.x0,b.outerRadius=b.x1,delete b.x1,b.angle=b.y,delete b.y,b.startAngle=b.y0,delete b.y0,b.endAngle=b.y1,delete b.y1,b};Z.svg.chord=function(){function b(F,K){var N=l(this,t,F,K);F=l(this,A,F,K);return"M"+N.p0+q(N.r,N.p1,N.a1-N.a0)+(N.a0==
F.a0&&N.a1==F.a1?"Q 0,0 "+N.p0:"Q 0,0 "+F.p0+q(F.r,F.p1,F.a1-F.a0)+("Q 0,0 "+N.p0))+"Z"}function l(F,K,N,U){var W=K.call(F,N,U);K=y.call(F,W,U);N=E.call(F,W,U)-mc;F=C.call(F,W,U)-mc;return{r:K,a0:N,a1:F,p0:[K*Math.cos(N),K*Math.sin(N)],p1:[K*Math.cos(F),K*Math.sin(F)]}}function q(F,K,N){return"A"+F+","+F+" 0 "+ +(N>zb)+",1 "+K}var t=da,A=sa,y=Gi,E=Jh,C=Kh;return b.radius=function(F){return arguments.length?(y=Lb(F),b):y},b.source=function(F){return arguments.length?(t=Lb(F),b):t},b.target=function(F){return arguments.length?
(A=Lb(F),b):A},b.startAngle=function(F){return arguments.length?(E=Lb(F),b):E},b.endAngle=function(F){return arguments.length?(C=Lb(F),b):C},b};Z.svg.diagonal=function(){function b(A,y){var E=l.call(this,A,y);A=q.call(this,A,y);y=(E.y+A.y)/2;E=[E,{x:E.x,y},{x:A.x,y},A];return E=E.map(t),"M"+E[0]+"C"+E[1]+" "+E[2]+" "+E[3]}var l=da,q=sa,t=Rh;return b.source=function(A){return arguments.length?(l=Lb(A),b):l},b.target=function(A){return arguments.length?(q=Lb(A),b):q},b.projection=function(A){return arguments.length?
(t=A,b):t},b};Z.svg.diagonal.radial=function(){var b=Z.svg.diagonal(),l=Rh,q=b.projection;return b.projection=function(t){return arguments.length?q(Hi(l=t)):l},b};Z.svg.symbol=function(){function b(t,A){return(ii.get(l.call(this,t,A))||Sh)(q.call(this,t,A))}var l=Ji,q=Ii;return b.type=function(t){return arguments.length?(l=Lb(t),b):l},b.size=function(t){return arguments.length?(q=Lb(t),b):q},b};var ii=Z.map({circle:Sh,cross:function(b){b=Math.sqrt(b/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+
b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(b){b=Math.sqrt(b/(2*ji));var l=b*ji;return"M0,"+-b+"L"+l+",0 0,"+b+" "+-l+",0Z"},square:function(b){b=Math.sqrt(b)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(b){b=Math.sqrt(b/kg);var l=b*kg/2;return"M0,"+l+"L"+b+","+-l+" "+-b+","+-l+"Z"},"triangle-up":function(b){b=Math.sqrt(b/kg);var l=b*kg/2;return"M0,"+-l+"L"+b+","+l+" "+-b+","+l+"Z"}});Z.svg.symbolTypes=ii.keys();var kg=
Math.sqrt(3),ji=Math.tan(30*Ab);Tb.transition=function(b){for(var l,q=fe||++ki,t=Wg(b),A=[],y=lg||{time:Date.now(),ease:rg,delay:0,duration:250},E=-1,C=this.length;++E<C;){A.push(b=[]);for(var F=this[E],K=-1,N=F.length;++K<N;)(l=F[K])&&Tf(l,K,t,q,y),b.push(l)}return Te(A,t,q)};Tb.interrupt=function(b){return this.each(null==b?Xf:Th(Wg(b)))};var fe,lg,Xf=Th(Wg()),tc=[],ki=0;tc.call=Tb.call;tc.empty=Tb.empty;tc.node=Tb.node;tc.size=Tb.size;Z.transition=function(b,l){return b&&b.transition?fe?b.transition(l):
b:Z.selection().transition(b)};Z.transition.prototype=tc;tc.select=function(b){var l,q,t,A=this.id,y=this.namespace,E=[];b=R(b);for(var C=-1,F=this.length;++C<F;){E.push(l=[]);for(var K=this[C],N=-1,U=K.length;++N<U;)(t=K[N])&&(q=b.call(t,t.__data__,N,C))?("__data__"in t&&(q.__data__=t.__data__),Tf(q,N,y,A,t[y][A]),l.push(q)):l.push(null)}return Te(E,y,A)};tc.selectAll=function(b){var l,q,t=this.id,A=this.namespace,y=[];b=ba(b);for(var E=-1,C=this.length;++E<C;)for(var F=this[E],K=-1,N=F.length;++K<
N;)if(l=F[K]){var U=l[A][t];var W=b.call(l,l.__data__,K,E);y.push(l=[]);for(var Y=-1,fa=W.length;++Y<fa;)(q=W[Y])&&Tf(q,Y,A,t,U),l.push(q)}return Te(y,A,t)};tc.filter=function(b){var l,q,t=[];"function"!=typeof b&&(b=Ra(b));for(var A=0,y=this.length;y>A;A++){t.push(l=[]);var E=this[A];for(var C=0,F=E.length;F>C;C++)(q=E[C])&&b.call(q,q.__data__,C,A)&&l.push(q)}return Te(t,this.namespace,this.id)};tc.tween=function(b,l){var q=this.id,t=this.namespace;return 2>arguments.length?this.node()[t][q].tween.get(b):
va(this,null==l?function(A){A[t][q].tween.remove(b)}:function(A){A[t][q].tween.set(b,l)})};tc.attr=function(b,l){function q(){this.removeAttribute(C)}function t(){this.removeAttributeNS(C.space,C.local)}function A(F){return null==F?q:(F+="",function(){var K,N=this.getAttribute(C);return N!==F&&(K=E(N,F),function(U){this.setAttribute(C,K(U))})})}function y(F){return null==F?t:(F+="",function(){var K,N=this.getAttributeNS(C.space,C.local);return N!==F&&(K=E(N,F),function(U){this.setAttributeNS(C.space,
C.local,K(U))})})}if(2>arguments.length){for(l in b)this.attr(l,b[l]);return this}var E="transform"==b?me:od,C=Z.ns.qualify(b);return Vg(this,"attr."+b,l,C.local?y:A)};tc.attrTween=function(b,l){function q(y,E){var C=l.call(this,y,E,this.getAttribute(A));return C&&function(F){this.setAttribute(A,C(F))}}function t(y,E){var C=l.call(this,y,E,this.getAttributeNS(A.space,A.local));return C&&function(F){this.setAttributeNS(A.space,A.local,C(F))}}var A=Z.ns.qualify(b);return this.tween("attr."+b,A.local?
t:q)};tc.style=function(b,l,q){function t(){this.style.removeProperty(b)}var A=arguments.length;if(3>A){if("string"!=typeof b){2>A&&(l="");for(q in b)this.style(q,b[q],l);return this}q=""}return Vg(this,"style."+b,l,function(y){return null==y?t:(y+="",function(){var E,C=d(this).getComputedStyle(this,null).getPropertyValue(b);return C!==y&&(E=od(C,y),function(F){this.style.setProperty(b,E(F),q)})})})};tc.styleTween=function(b,l,q){return 3>arguments.length&&(q=""),this.tween("style."+b,function(t,
A){var y=l.call(this,t,A,d(this).getComputedStyle(this,null).getPropertyValue(b));return y&&function(E){this.style.setProperty(b,y(E),q)}})};tc.text=function(b){return Vg(this,"text",b,Ki)};tc.remove=function(){var b=this.namespace;return this.each("end.transition",function(){var l;2>this[b].count&&(l=this.parentNode)&&l.removeChild(this)})};tc.ease=function(b){var l=this.id,q=this.namespace;return 1>arguments.length?this.node()[q][l].ease:("function"!=typeof b&&(b=Z.ease.apply(Z,arguments)),va(this,
function(t){t[q][l].ease=b}))};tc.delay=function(b){var l=this.id,q=this.namespace;return 1>arguments.length?this.node()[q][l].delay:va(this,"function"==typeof b?function(t,A,y){t[q][l].delay=+b.call(t,t.__data__,A,y)}:(b=+b,function(t){t[q][l].delay=b}))};tc.duration=function(b){var l=this.id,q=this.namespace;return 1>arguments.length?this.node()[q][l].duration:va(this,"function"==typeof b?function(t,A,y){t[q][l].duration=Math.max(1,b.call(t,t.__data__,A,y))}:(b=Math.max(1,b),function(t){t[q][l].duration=
b}))};tc.each=function(b,l){var q=this.id,t=this.namespace;if(2>arguments.length){var A=lg,y=fe;try{fe=q,va(this,function(E,C,F){lg=E[t][q];b.call(E,E.__data__,C,F)})}finally{lg=A,fe=y}}else va(this,function(E){E=E[t][q];(E.event||(E.event=Z.dispatch("start","end","interrupt"))).on(b,l)});return this};tc.transition=function(){for(var b,l,q,t,A=this.id,y=++ki,E=this.namespace,C=[],F=0,K=this.length;K>F;F++){C.push(b=[]);l=this[F];for(var N=0,U=l.length;U>N;N++)(q=l[N])&&(t=q[E][A],Tf(q,N,E,y,{time:t.time,
ease:t.ease,delay:t.delay+t.duration,duration:t.duration})),b.push(q)}return Te(C,E,y)};Z.svg.axis=function(){function b(K){K.each(function(){var N,U=Z.select(this),W=this.__chart__||q,Y=this.__chart__=q.copy(),fa=null==F?Y.ticks?Y.ticks.apply(Y,C):Y.domain():F,pa=null==l?Y.tickFormat?Y.tickFormat.apply(Y,C):x:l,ka=U.selectAll(".tick").data(fa,Y);fa=ka.enter().insert("g",".domain").attr("class","tick").style("opacity",eb);var na=Z.transition(ka.exit()).style("opacity",eb).remove(),oa=Z.transition(ka.order()).style("opacity",
1),ia=Math.max(A,0)+E,xa=Mf(Y);U=U.selectAll(".domain").data([0]);U=(U.enter().append("path").attr("class","domain"),Z.transition(U));fa.append("line");fa.append("text");var Ma,aa,la,wa,Ha=fa.select("line"),Ja=oa.select("line");pa=ka.select("text").text(pa);ka=fa.select("text");var Oa=oa.select("text"),Sa="top"===t||"left"===t?-1:1;if("bottom"===t||"top"===t?(N=Li,Ma="x",la="y",aa="x2",wa="y2",pa.attr("dy",0>Sa?"0em":".71em").style("text-anchor","middle"),U.attr("d","M"+xa[0]+","+Sa*y+"V0H"+xa[1]+
"V"+Sa*y)):(N=Mi,Ma="y",la="x",aa="y2",wa="x2",pa.attr("dy",".32em").style("text-anchor",0>Sa?"end":"start"),U.attr("d","M"+Sa*y+","+xa[0]+"H0V"+xa[1]+"H"+Sa*y)),Ha.attr(wa,Sa*A),ka.attr(la,Sa*ia),Ja.attr(aa,0).attr(wa,Sa*A),Oa.attr(Ma,0).attr(la,Sa*ia),Y.rangeBand){var lb=Y,wb=lb.rangeBand()/2;W=Y=function(sb){return lb(sb)+wb}}else W.rangeBand?W=Y:na.call(N,Y,W);fa.call(N,W,Y);oa.call(N,Y,Y)})}var l,q=Z.scale.linear(),t=li,A=6,y=6,E=3,C=[10],F=null;return b.scale=function(K){return arguments.length?
(q=K,b):q},b.orient=function(K){return arguments.length?(t=K in kj?K+"":li,b):t},b.ticks=function(){return arguments.length?(C=arguments,b):C},b.tickValues=function(K){return arguments.length?(F=K,b):F},b.tickFormat=function(K){return arguments.length?(l=K,b):l},b.tickSize=function(K){var N=arguments.length;return N?(A=+K,y=+arguments[N-1],b):A},b.innerTickSize=function(K){return arguments.length?(A=+K,b):A},b.outerTickSize=function(K){return arguments.length?(y=+K,b):y},b.tickPadding=function(K){return arguments.length?
(E=+K,b):E},b.tickSubdivide=function(){return arguments.length&&b},b};var li="bottom",kj={top:1,right:1,bottom:1,left:1};Z.svg.brush=function(){function b(pa){pa.each(function(){var ka=Z.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",A).on("touchstart.brush",A),na=ka.selectAll(".background").data([0]);na.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");ka.selectAll(".extent").data([0]).enter().append("rect").attr("class",
"extent").style("cursor","move");var oa=ka.selectAll(".resize").data(fa,x);oa.exit().remove();oa.enter().append("g").attr("class",function(xa){return"resize "+xa}).style("cursor",function(xa){return lj[xa]}).append("rect").attr("x",function(xa){return/[ew]$/.test(xa)?-3:null}).attr("y",function(xa){return/^[ns]/.test(xa)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");oa.style("display",b.empty()?"none":null);var ia;ka=Z.transition(ka);na=Z.transition(na);F&&(ia=Mf(F),na.attr("x",
ia[0]).attr("width",ia[1]-ia[0]),q(ka));K&&(ia=Mf(K),na.attr("y",ia[0]).attr("height",ia[1]-ia[0]),t(ka));l(ka)})}function l(pa){pa.selectAll(".resize").attr("transform",function(ka){return"translate("+N[+/e$/.test(ka)]+","+U[+/^s/.test(ka)]+")"})}function q(pa){pa.select(".extent").attr("x",N[0]);pa.selectAll(".extent,.n>rect,.s>rect").attr("width",N[1]-N[0])}function t(pa){pa.select(".extent").attr("y",U[0]);pa.selectAll(".extent,.e>rect,.w>rect").attr("height",U[1]-U[0])}function A(){function pa(){var Ua=
Z.mouse(ia),ub=!1;sb&&(Ua[0]+=sb[0],Ua[1]+=sb[1]);Ja||(Z.event.altKey?(oa||=[(N[0]+N[1])/2,(U[0]+U[1])/2],Sa[0]=N[+(Ua[0]<oa[0])],Sa[1]=U[+(Ua[1]<oa[1])]):oa=null);wa&&ka(Ua,F,0)&&(q(aa),ub=!0);Ha&&ka(Ua,K,1)&&(t(aa),ub=!0);ub&&(l(aa),Ma({type:"brush",mode:Ja?"move":"resize"}))}function ka(Ua,ub,Nb){var Ub,Ac,dc=Mf(ub);ub=dc[0];dc=dc[1];var sc=Sa[Nb],rc=Nb?U:N,Jc=rc[1]-rc[0];return Ja&&(ub-=sc,dc-=Jc+sc),Ub=(Nb?Y:W)?Math.max(ub,Math.min(dc,Ua[Nb])):Ua[Nb],Ja?Ac=(Ub+=sc)+Jc:(oa&&(sc=Math.max(ub,Math.min(dc,
2*oa[Nb]-Ub))),Ub>sc?(Ac=Ub,Ub=sc):Ac=sc),rc[0]!=Ub||rc[1]!=Ac?(Nb?E=null:y=null,rc[0]=Ub,rc[1]=Ac,!0):void 0}function na(){pa();aa.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null);Z.select("body").style("cursor",null);lb.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);Oa();Ma({type:"brushend"})}var oa,ia=this,xa=Z.select(Z.event.target),Ma=C.of(ia,arguments),
aa=Z.select(ia),la=xa.datum(),wa=!/^(n|s)$/.test(la)&&F,Ha=!/^(e|w)$/.test(la)&&K,Ja=xa.classed("extent"),Oa=Pa(ia),Sa=Z.mouse(ia),lb=Z.select(d(ia)).on("keydown.brush",function(){32==Z.event.keyCode&&(Ja||(oa=null,Sa[0]-=N[1],Sa[1]-=U[1],Ja=2),O())}).on("keyup.brush",function(){32==Z.event.keyCode&&2==Ja&&(Sa[0]+=N[1],Sa[1]+=U[1],Ja=0,O())});if(Z.event.changedTouches?lb.on("touchmove.brush",pa).on("touchend.brush",na):lb.on("mousemove.brush",pa).on("mouseup.brush",na),aa.interrupt().selectAll("*").interrupt(),
Ja)Sa[0]=N[0]-Sa[0],Sa[1]=U[0]-Sa[1];else if(la){var wb=+/w$/.test(la);la=+/^n/.test(la);var sb=[N[1-wb]-Sa[0],U[1-la]-Sa[1]];Sa[0]=N[wb];Sa[1]=U[la]}else Z.event.altKey&&(oa=Sa.slice());aa.style("pointer-events","none").selectAll(".resize").style("display",null);Z.select("body").style("cursor",xa.style("cursor"));Ma({type:"brushstart"});pa()}var y,E,C=T(b,"brushstart","brush","brushend"),F=null,K=null,N=[0,0],U=[0,0],W=!0,Y=!0,fa=eh[0];return b.event=function(pa){pa.each(function(){var ka=C.of(this,
arguments),na={x:N,y:U,i:y,j:E},oa=this.__chart__||na;this.__chart__=na;fe?Z.select(this).transition().each("start.brush",function(){y=oa.i;E=oa.j;N=oa.x;U=oa.y;ka({type:"brushstart"})}).tween("brush:brush",function(){var ia=Zc(N,na.x),xa=Zc(U,na.y);return y=E=null,function(Ma){N=na.x=ia(Ma);U=na.y=xa(Ma);ka({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=na.i;E=na.j;ka({type:"brush",mode:"resize"});ka({type:"brushend"})}):(ka({type:"brushstart"}),ka({type:"brush",mode:"resize"}),ka({type:"brushend"}))})},
b.x=function(pa){return arguments.length?(F=pa,fa=eh[!F<<1|!K],b):F},b.y=function(pa){return arguments.length?(K=pa,fa=eh[!F<<1|!K],b):K},b.clamp=function(pa){return arguments.length?(F&&K?(W=!!pa[0],Y=!!pa[1]):F?W=!!pa:K&&(Y=!!pa),b):F&&K?[W,Y]:F?W:K?Y:null},b.extent=function(pa){var ka,na,oa,ia,xa;return arguments.length?(F&&(ka=pa[0],na=pa[1],K&&(ka=ka[0],na=na[0]),y=[ka,na],F.invert&&(ka=F(ka),na=F(na)),ka>na&&(xa=ka,ka=na,na=xa),(ka!=N[0]||na!=N[1])&&(N=[ka,na])),K&&(oa=pa[0],ia=pa[1],F&&(oa=
oa[1],ia=ia[1]),E=[oa,ia],K.invert&&(oa=K(oa),ia=K(ia)),oa>ia&&(xa=oa,oa=ia,ia=xa),(oa!=U[0]||ia!=U[1])&&(U=[oa,ia])),b):(F&&(y?(ka=y[0],na=y[1]):(ka=N[0],na=N[1],F.invert&&(ka=F.invert(ka),na=F.invert(na)),ka>na&&(xa=ka,ka=na,na=xa))),K&&(E?(oa=E[0],ia=E[1]):(oa=U[0],ia=U[1],K.invert&&(oa=K.invert(oa),ia=K.invert(ia)),oa>ia&&(xa=oa,oa=ia,ia=xa))),F&&K?[[ka,oa],[na,ia]]:F?[ka,na]:K&&[oa,ia])},b.clear=function(){return b.empty()||(N=[0,0],U=[0,0],y=E=null),b},b.empty=function(){return!!F&&N[0]==N[1]||
!!K&&U[0]==U[1]},Z.rebind(b,C,"on")};var lj={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},eh=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],fh=ib.format=$h.timeFormat,mi=fh.utc,ni=mi("%Y-%m-%dT%H:%M:%S.%LZ");fh.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Xg:ni;Xg.parse=function(b){b=new Date(b);return isNaN(b)?null:b};Xg.toString=ni.toString;ib.second=Gc(function(b){return new Ec(1E3*
Math.floor(b/1E3))},function(b,l){b.setTime(b.getTime()+1E3*Math.floor(l))},function(b){return b.getSeconds()});ib.seconds=ib.second.range;ib.seconds.utc=ib.second.utc.range;ib.minute=Gc(function(b){return new Ec(6E4*Math.floor(b/6E4))},function(b,l){b.setTime(b.getTime()+6E4*Math.floor(l))},function(b){return b.getMinutes()});ib.minutes=ib.minute.range;ib.minutes.utc=ib.minute.utc.range;ib.hour=Gc(function(b){var l=b.getTimezoneOffset()/60;return new Ec(36E5*(Math.floor(b/36E5-l)+l))},function(b,
l){b.setTime(b.getTime()+36E5*Math.floor(l))},function(b){return b.getHours()});ib.hours=ib.hour.range;ib.hours.utc=ib.hour.utc.range;ib.month=Gc(function(b){return b=ib.day(b),b.setDate(1),b},function(b,l){b.setMonth(b.getMonth()+l)},function(b){return b.getMonth()});ib.months=ib.month.range;ib.months.utc=ib.month.utc.range;var Uf=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],gh=[[ib.second,1],[ib.second,5],[ib.second,15],[ib.second,30],[ib.minute,
1],[ib.minute,5],[ib.minute,15],[ib.minute,30],[ib.hour,1],[ib.hour,3],[ib.hour,6],[ib.hour,12],[ib.day,1],[ib.day,2],[ib.week,1],[ib.month,1],[ib.month,3],[ib.year,1]],mj=fh.multi([[".%L",function(b){return b.getMilliseconds()}],[":%S",function(b){return b.getSeconds()}],["%I:%M",function(b){return b.getMinutes()}],["%I %p",function(b){return b.getHours()}],["%a %d",function(b){return b.getDay()&&1!=b.getDate()}],["%b %d",function(b){return 1!=b.getDate()}],["%B",function(b){return b.getMonth()}],
["%Y",ad]]),Ni={range:function(b,l,q){return Z.range(Math.ceil(b/q)*q,+l,q).map(ee)},floor:x,ceil:x};gh.year=ib.year;ib.scale=function(){return Yg(Z.scale.linear(),gh,mj)};var oi=gh.map(function(b){return[b[0].utc,b[1]]}),nj=mi.multi([[".%L",function(b){return b.getUTCMilliseconds()}],[":%S",function(b){return b.getUTCSeconds()}],["%I:%M",function(b){return b.getUTCMinutes()}],["%I %p",function(b){return b.getUTCHours()}],["%a %d",function(b){return b.getUTCDay()&&1!=b.getUTCDate()}],["%b %d",function(b){return 1!=
b.getUTCDate()}],["%B",function(b){return b.getUTCMonth()}],["%Y",ad]]);oi.year=ib.year.utc;ib.scale.utc=function(){return Yg(Z.scale.linear(),oi,nj)};Z.text=Oc(function(b){return b.responseText});Z.json=function(b,l){return pd(b,"application/json",Oi,l)};Z.html=function(b,l){return pd(b,"text/html",Pi,l)};Z.xml=Oc(function(b){return b.responseXML});"function"==typeof define&&define.amd?define(Z):"object"==typeof module&&module.exports&&(module.exports=Z);this.d3=Z}();!function(d){function L(a,h){return new L.prototype.init(a,h)}Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;return function(){return h.apply(a)}});var X=0;d.fn.redactor=function(a){var h=[],f=Array.prototype.slice.call(arguments,1);return"string"==typeof a?this.each(function(){var g,e=d.data(this,"redactor");"-1"!==a.search(/\./)?void 0!==e[(g=a.split("."))[0]]&&(g=e[g[0]][g[1]]):g=e[a];void 0!==e&&d.isFunction(g)?void 0!==(g=g.apply(e,f))&&g!==e&&h.push(g):d.error('No such method "'+
a+'" for Redactor')}):this.each(function(){d.data(this,"redactor",{});d.data(this,"redactor",L(this,a))}),0===h.length?this:1===h.length?h[0]:h};d.Redactor=L;d.Redactor.VERSION="2.10";d.Redactor.modules="air autosave block buffer build button caret clean code core detect dropdown events file focus image indent inline insert keydown keyup lang line link linkify list marker modal observe offset paragraphize paste placeholder progress selection shortcuts storage toolbar upload uploads3 utils browser".split(" ");
d.Redactor.settings={};d.Redactor.opts={animation:!1,lang:"en",direction:"ltr",spellcheck:!0,overrideStyles:!0,stylesClass:!1,scrollTarget:document,focus:!1,focusEnd:!1,clickToEdit:!1,structure:!1,tabindex:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:!1,callbacks:{},placeholder:!1,linkify:!0,enterKey:!0,pastePlainText:!1,pasteImages:!0,pasteLinks:!0,pasteBlockTags:"pre h1 h2 h3 h4 h5 h6 table tbody thead tfoot th tr td ul ol li blockquote p figure figcaption".split(" "),pasteInlineTags:"br strong ins code del span samp kbd sup sub mark var cite small b u em i".split(" "),
preClass:!1,preSpaces:4,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveFields:!1,imageUpload:null,imageUploadParam:"file",imageUploadFields:!1,imageUploadForms:!1,imageTag:"figure",imageEditable:!0,imageCaption:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",dragImageUpload:!0,multipleImageUpload:!0,clipboardImageUpload:!0,fileUpload:null,fileUploadParam:"file",fileUploadFields:!1,fileUploadForms:!1,dragFileUpload:!0,s3:!1,linkNewTab:!1,linkTooltip:!0,linkNofollow:!1,linkSize:30,
linkValidation:!0,pasteLinkTarget:!1,videoContainerClass:"video-container",toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarOverflow:!1,air:!1,airWidth:!1,formatting:"p blockquote pre h1 h2 h3 h4 h5 h6".split(" "),formattingAdd:!1,buttons:"format bold italic deleted lists image file link horizontalrule".split(" "),buttonsTextLabeled:!1,buttonsHide:[],buttonsHideOnMobile:[],script:!0,style:!0,removeNewlines:!1,removeComments:!0,replaceTags:{b:"strong",
i:"em",strike:"del"},keepStyleAttr:[],keepInlineOnEnter:!1,shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},
shortcutsAdd:!1,activeButtons:["deleted","italic","bold"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",u:"underline",strike:"deleted"},langs:{en:{format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U",lists:"Lists","link-insert":"Insert link","link-edit":"Edit link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",
cancel:"Cancel",close:"Close",insert:"Insert",save:"Save",delete:"Delete",text:"Text",edit:"Edit",title:"Title",general:"General",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line","upload-label":"Drop file here or ",caption:"Caption",
upload:"Upload",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center","accessibility-help-label":"Rich text editor"}},type:"textarea",inline:!1,inlineTags:"a span strong strike b u em i code del ins samp kbd sup sub mark var cite small".split(" "),blockTags:"pre ul ol li p h1 h2 h3 h4 h5 h6 dl dt dd div td blockquote output figcaption figure address section header footer aside article iframe".split(" "),paragraphize:!0,paragraphizeBlocks:"table div pre form ul ol h1 h2 h3 h4 h5 h6 dl blockquote figcaption address section header footer aside article object style script iframe select input textarea button option map area math hr fieldset legend hgroup nav figure details menu summary p".split(" "),
emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",emptyHtmlRendered:d("").html("\u200b").html(),imageTypes:["image/png","image/jpeg","image/gif","image/webp"],userAgent:navigator.userAgent.toLowerCase(),observe:{dropdowns:[]},regexps:{linkyoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,linkvimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,linkvimeochannel:/https?:\/\/(www\.)?vimeo.com\/channels\/[^/]+\/(\d+)($|\/)/,
linkimage:/((https?|www)[^\s]+\.)(jpe?g|png|gif|webp)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi}};L.fn=d.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(a,h){if(this.$element=d(a),this.uuid=X++,this.sBuffer=[],this.sRebuffer=[],this.isFirefox=null,this.loadOptions(h),this.loadModules(),this.opts.clickToEdit&&!this.$element.hasClass("redactor-click-to-edit"))return this.loadToEdit(h);
this.$element.hasClass("redactor-click-to-edit")&&this.$element.removeClass("redactor-click-to-edit");this.reIsBlock=new RegExp("^("+this.opts.blockTags.join("|").toUpperCase()+")$","i");this.reIsInline=new RegExp("^("+this.opts.inlineTags.join("|").toUpperCase()+")$","i");this.opts.dragImageUpload=null!==this.opts.imageUpload&&this.opts.dragImageUpload;this.opts.dragFileUpload=null!==this.opts.fileUpload&&this.opts.dragFileUpload;this.formatting={};this.lang.load();d.extend(this.opts.shortcuts,this.opts.shortcutsAdd);
this.$editor=this.$element;this.detectType();this.core.callback("start");this.core.callback("startToEdit");this.start=!0;this.build.start()},detectType:function(){this.build.isInline()||this.opts.inline?this.opts.type="inline":this.build.isTag("DIV")?this.opts.type="div":this.build.isTag("PRE")&&(this.opts.type="pre")},loadToEdit:function(a){this.$element.on("click.redactor-click-to-edit",d.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},initToEdit:function(a){d.extend(a.callbacks,
{startToEdit:function(){this.insert.node(this.marker.get(),!1)},initToEdit:function(){this.selection.restore();this.clickToCancelStorage=this.code.get();d(this.opts.clickToCancel).off(".redactor-click-to-edit");d(this.opts.clickToCancel).show().on("click.redactor-click-to-edit",d.proxy(function(h){h.preventDefault();this.core.destroy();this.events.syncFire=!1;this.$element.html(this.clickToCancelStorage);this.core.callback("cancel",this.clickToCancelStorage);this.events.syncFire=!0;this.clickToCancelStorage=
"";d(this.opts.clickToCancel).hide();d(this.opts.clickToSave).hide();this.$element.on("click.redactor-click-to-edit",d.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},this));d(this.opts.clickToSave).off(".redactor-click-to-edit");d(this.opts.clickToSave).show().on("click.redactor-click-to-edit",d.proxy(function(h){h.preventDefault();this.core.destroy();this.core.callback("save",this.code.get());d(this.opts.clickToCancel).hide();d(this.opts.clickToSave).hide();
this.$element.on("click.redactor-click-to-edit",d.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},this))}});this.$element.redactor(a);this.$element.off(".redactor-click-to-edit")},loadOptions:function(a){var h={};void 0!==d.Redactor.settings.namespace&&!this.$element.hasClass(d.Redactor.settings.namespace)||(h=d.Redactor.settings);this.opts=d.extend({},d.Redactor.opts,this.$element.data(),a);this.opts=d.extend({},this.opts,h)},getModuleMethods:function(a){return Object.getOwnPropertyNames(a).filter(function(h){return"function"==
typeof a[h]})},loadModules:function(){for(var a=d.Redactor.modules.length,h=0;h<a;h++)this.bindModuleMethods(d.Redactor.modules[h])},bindModuleMethods:function(a){if(void 0!==this[a]){this[a]=this[a]();for(var h=this.getModuleMethods(this[a]),f=h.length,g=0;g<f;g++)this[a][h[g]]=this[a][h[g]].bind(this)}},air:function(){return{enabled:!1,collapsed:function(){this.opts.air&&this.selection.get().collapseToStart()},collapsedEnd:function(){this.opts.air&&this.selection.get().collapseToEnd()},build:function(){this.detect.isMobile()||
(this.button.hideButtons(),this.button.hideButtonsOnMobile(),0!==this.opts.buttons.length&&(this.$air=this.air.createContainer(),!1!==this.opts.airWidth&&this.$air.css("width",this.opts.airWidth),this.air.append(),this.button.$toolbar=this.$air,this.button.setFormatting(),this.button.load(this.$air),this.core.editor().on("mouseup.redactor",this,d.proxy(function(a){""!==this.selection.text()&&this.air.show(a)},this))))},append:function(){this.$air.appendTo("body")},createContainer:function(){return d("<ul>").addClass("redactor-air").attr({id:"redactor-air-"+
this.uuid,role:"toolbar"}).hide()},show:function(a){this.selection.saveInstant();d(".redactor-air").hide();var h=0,f=this.$air.innerWidth();d(window).width()<a.clientX+f&&(h=200);this.$air.css({left:a.clientX-h+"px",top:a.clientY+10+d(document).scrollTop()+"px"}).show();this.air.enabled=!0;this.air.bindHide()},bindHide:function(){d(document).on("mousedown.redactor-air."+this.uuid,d.proxy(function(a){var h=d(a.target).closest(".redactor-dropdown").length;0===d(a.target).closest(this.$air).length&&
0===h&&!1!==this.air.hide(a)&&this.marker.remove()},this)).on("keydown.redactor-air."+this.uuid,d.proxy(function(a){var h,f=a.which;(this.utils.isRedactorParent(a.target)||d(a.target).hasClass("redactor-in"))&&0===d(a.target).closest("#redactor-modal").length&&(f===this.keyCode.ESC?this.selection.get().collapseToStart():f===this.keyCode.BACKSPACE||f===this.keyCode.DELETE?(h=this.selection.get(),this.selection.range(h).deleteContents()):f===this.keyCode.ENTER&&this.selection.get().collapseToEnd(),
this.air.enabled?this.air.hide(a):this.selection.get().collapseToStart())},this))},hide:function(a){if(a.ctrlKey||a.metaKey||a.shiftKey&&a.altKey)return!1;this.button.setInactiveAll();this.$air.fadeOut(100);this.air.enabled=!1;d(document).off("mousedown.redactor-air."+this.uuid);d(document).off("keydown.redactor-air."+this.uuid)}}},autosave:function(){return{enabled:!1,html:!1,init:function(){this.opts.autosave&&(this.autosave.enabled=!0,this.autosave.name=this.opts.autosaveName||this.$textarea.attr("name"))},
is:function(){return this.autosave.enabled},send:function(){var a;this.opts.autosave&&(this.autosave.source=this.code.get(),this.autosave.html!==this.autosave.source)&&((a={}).name=this.autosave.name,a[this.autosave.name]=this.autosave.source,a=this.autosave.getHiddenFields(a),d.ajax({url:this.opts.autosave,type:"post",data:a}).done(this.autosave.success))},getHiddenFields:function(a){return!1!==this.opts.autosaveFields&&"object"==typeof this.opts.autosaveFields&&d.each(this.opts.autosaveFields,d.proxy(function(h,
f){null!==f&&0===f.toString().indexOf("#")&&(f=d(f).val());a[h]=f},this)),a},success:function(a){try{var h=JSON.parse(a)}catch(f){h=a}a=void 0===h.error?"autosave":"autosaveError";this.core.callback(a,this.autosave.name,h);this.autosave.html=this.autosave.source},disable:function(){this.autosave.enabled=!1;clearInterval(this.autosaveTimeout)}}},block:function(){return{format:function(a,h,f,g){if(a="quote"===a?"blockquote":a,this.block.tags="p blockquote pre h1 h2 h3 h4 h5 h6 div figure".split(" "),
-1!==d.inArray(a,this.block.tags))return"p"===a&&void 0===h&&(h="class"),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.block.formatCollapsed(a,h,f,g):this.block.formatUncollapsed(a,h,f,g)},formatCollapsed:function(a,h,f,g){this.selection.save();var e=this.selection.block();if(e){var k=e.tagName.toLowerCase();if(-1!==d.inArray(k,this.block.tags)){var p,u=!1;if(k===a&&void 0===h&&(a="p",u=!0),u&&(this.block.removeAllClass(),this.block.removeAllAttr()),"blockquote"===k&&this.utils.isEndOfElement(e)?
(this.marker.remove(),(p=document.createElement("p")).innerHTML=this.opts.invisibleSpace,d(e).after(p),this.caret.start(p),0!==(u=d(e).children().last()).length&&"BR"===u[0].tagName&&u.remove()):p=this.utils.replaceToTag(e,a),"object"==typeof h)for(var c in g=f,h)p=this.block.setAttr(p,c,h[c],g);else p=this.block.setAttr(p,h,f,g);return"pre"===a&&1===p.length&&d(p).html(d.trim(d(p).html())),this.selection.restore(),this.block.removeInlineTags(p),p}this.selection.restore()}},formatUncollapsed:function(a,
h,f,g){this.selection.save();for(var e,k=[],p=this.selection.blocks(),u=(p=p[0]&&(d(p[0]).hasClass("redactor-in")||d(p[0]).hasClass("redactor-box"))?this.core.editor().find(this.opts.blockTags.join(", ")):p).length,c=0;c<u;c++){var m=p[c].tagName.toLowerCase();if(-1!==d.inArray(m,this.block.tags)&&"figure"!==m){m=this.utils.replaceToTag(p[c],a);if("object"==typeof h)for(var n in g=f,h)m=this.block.setAttr(m,n,h[n],g);else m=this.block.setAttr(m,h,f,g);k.push(m);this.block.removeInlineTags(m)}}return this.selection.restore(),
"pre"===a&&0!==k.length&&(e=k[0],d.each(k,function(w,z){0!==w&&(d(e).append("\n"+d.trim(z.html())),d(z).remove())}),(k=[]).push(e)),k},removeInlineTags:function(a){a=a[0]||a;var h,f=this.opts.inlineTags;-1!==d.inArray(a.tagName,"PRE H1 H2 H3 H4 H5 H6".split(" "))&&("PRE"!==a.tagName&&(h=f.indexOf("a"),f.splice(h,1)),d(a).find(f.join(",")).not(".redactor-selection-marker").contents().unwrap())},setAttr:function(a,h,f,g){return void 0!==h&&(g=void 0===g?"replace":g,a="class"===h?this.block[g+"Class"](f,
a):"remove"===g||"removeAll"===g?this.block[g+"Attr"](h,a):this.block[g+"Attr"](h,f,a)),a},getBlocks:function(a){var h,f;return a=void 0===a?this.selection.blocks():a,d(a).hasClass("redactor-box")?(h=[],f=this.core.editor().children(),d.each(f,d.proxy(function(g,e){this.utils.isBlock(e)&&h.push(e)},this)),h):a},replaceClass:function(a,h){return d(this.block.getBlocks(h)).removeAttr("class").addClass(a)[0]},toggleClass:function(a,h){return d(this.block.getBlocks(h)).toggleClass(a)[0]},addClass:function(a,
h){return d(this.block.getBlocks(h)).addClass(a)[0]},removeClass:function(a,h){return d(this.block.getBlocks(h)).removeClass(a)[0]},removeAllClass:function(a){return d(this.block.getBlocks(a)).removeAttr("class")[0]},replaceAttr:function(a,h,f){return f=this.block.removeAttr(a,f),d(f).attr(a,h)[0]},toggleAttr:function(a,h,f){f=this.block.getBlocks(f);var g=this,e=[];return d.each(f,function(k,p){d(p).attr(a)?e.push(g.block.removeAttr(a,p)):e.push(g.block.addAttr(a,h,p))}),e},addAttr:function(a,h,
f){return d(this.block.getBlocks(f)).attr(a,h)[0]},removeAttr:function(a,h){return d(this.block.getBlocks(h)).removeAttr(a)[0]},removeAllAttr:function(a){a=this.block.getBlocks(a);var h=[];return d.each(a,function(f,g){if(void 0!==g.attributes)for(;g.attributes.length;)g.removeAttribute(g.attributes[0].name);h.push(g)}),h}}},buffer:function(){return{set:function(a){void 0===a&&this.buffer.clear();void 0===a||"undo"===a?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){var a=this.selection.saveInstant(),
h=this.sBuffer[this.sBuffer.length-1],f=this.core.editor().html();void 0!==h&&h[0]===f||this.sBuffer.push([f,a])},setRedo:function(){var a=this.selection.saveInstant();this.sRebuffer.push([this.core.editor().html(),a])},add:function(){this.sBuffer.push([this.core.editor().html(),0])},undo:function(){var a;0!==this.sBuffer.length&&(a=this.sBuffer.pop(),this.buffer.set("redo"),this.core.editor().html(a[0]),this.selection.restoreInstant(a[1]),this.selection.restore(),this.observe.load(),this.code.sync())},
redo:function(){var a;0!==this.sRebuffer.length&&(a=this.sRebuffer.pop(),this.buffer.set("undo"),this.core.editor().html(a[0]),this.selection.restoreInstant(a[1]),this.selection.restore(),this.observe.load(),this.code.sync())},clear:function(){this.sRebuffer=[]}}},build:function(){return{start:function(){"inline"===this.opts.type?this.opts.type="inline":"div"===this.opts.type?(""===d.trim(this.$editor.html())&&this.$editor.html(this.opts.emptyHtml),this.build.buildTextarea()):"textarea"===this.opts.type&&
this.build.startTextarea();this.build.setIn();this.build.setId();this.build.enableEditor();this.build.setOptions();this.build.callEditor()},createContainerBox:function(){this.$box=d('<div class="redactor-box" role="application" />')},setIn:function(){this.core.editor().addClass("redactor-in")},setId:function(){var a="textarea"===this.opts.type?"redactor-uuid-"+this.uuid:this.$element.attr("id");this.core.editor().attr("id",void 0===a?"redactor-uuid-"+this.uuid:a)},getName:function(){var a=this.$element.attr("name");
return void 0===a?"content-"+this.uuid:a},buildTextarea:function(){this.$textarea=d("<textarea>");this.$textarea.attr("name",this.build.getName());this.$textarea.hide();this.$element.after(this.$textarea);this.build.setStartAttrs()},loadFromTextarea:function(){this.$editor=d("<div />");this.$textarea=this.$element;this.$element.attr("name",this.build.getName());this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element);this.build.setStartAttrs();this.$editor.addClass("redactor-layer");
this.opts.overrideStyles&&this.$editor.addClass("redactor-styles");this.$element.hide();this.$box.prepend('<span class="redactor-voice-label" id="redactor-voice-'+this.uuid+'" aria-hidden="false">'+this.lang.get("accessibility-help-label")+"</span>")},setStartAttrs:function(){this.$editor.attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},startTextarea:function(){this.build.createContainerBox();this.build.loadFromTextarea();this.code.start(this.core.textarea().val());this.core.textarea().val(this.clean.onSync(this.$editor.html()))},
isTag:function(a){return this.$element[0].tagName===a},isInline:function(){return!this.build.isTag("TEXTAREA")&&!this.build.isTag("DIV")&&!this.build.isTag("PRE")},enableEditor:function(){this.core.editor().attr({contenteditable:!0})},setOptions:function(){"inline"===this.opts.type&&(this.opts.enterKey=!1);"inline"!==this.opts.type&&"pre"!==this.opts.type||(this.opts.toolbarMobile=!1,this.opts.toolbar=!1,this.opts.air=!1,this.opts.linkify=!1);this.core.editor().attr("spellcheck",this.opts.spellcheck);
this.opts.structure&&this.core.editor().addClass("redactor-structure");this.opts.stylesClass&&this.core.editor().addClass(this.opts.stylesClass);"textarea"===this.opts.type&&(this.core.box().attr("dir",this.opts.direction),this.core.editor().attr("dir",this.opts.direction),this.opts.tabindex&&this.core.editor().attr("tabindex",this.opts.tabindex),this.opts.minHeight?this.core.editor().css("min-height",this.opts.minHeight):this.core.editor().css("min-height","40px"),this.opts.maxHeight&&this.core.editor().css("max-height",
this.opts.maxHeight),this.opts.maxWidth)&&this.core.editor().css({"max-width":this.opts.maxWidth,margin:"auto"})},callEditor:function(){this.build.disableBrowsersEditing();this.events.init();this.build.setHelpers();(this.opts.toolbar||this.opts.air)&&(this.toolbarsButtons=this.button.init());this.opts.air?this.air.build():this.opts.toolbar&&this.toolbar.build();this.detect.isMobile()&&this.opts.toolbarMobile&&this.opts.air&&(this.opts.toolbar=!0,this.toolbar.build());(this.opts.air||this.opts.toolbar)&&
(this.core.editor().on("mouseup.redactor-observe."+this.uuid+" keyup.redactor-observe."+this.uuid+" focus.redactor-observe."+this.uuid+" touchstart.redactor-observe."+this.uuid,d.proxy(this.observe.toolbar,this)),this.core.element().on("blur.callback.redactor",d.proxy(function(){this.button.setInactiveAll()},this)));this.modal.templates();this.build.plugins();this.autosave.init();this.code.html=this.code.cleaned(this.core.editor().html());this.core.callback("init");this.core.callback("initToEdit");
this.storage.observe();this.start=!1},setHelpers:function(){this.opts.linkify&&this.linkify.format();this.placeholder.init();this.opts.focus?setTimeout(this.focus.start,100):this.opts.focusEnd&&setTimeout(this.focus.end,100)},disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",!1,!1)}catch(a){}},plugins:function(){this.opts.plugins&&d.each(this.opts.plugins,d.proxy(function(a,
h){a=void 0!==RedactorPlugins&&void 0!==RedactorPlugins[h]?RedactorPlugins:L.fn;if(d.isFunction(a[h])){this[h]=a[h]();for(var f,g=this.getModuleMethods(this[h]),e=g.length,k=0;k<e;k++)this[h][g[k]]=this[h][g[k]].bind(this);void 0!==this[h].langs&&(a={},void 0!==this[h].langs[this.opts.lang]?a=this[h].langs[this.opts.lang]:void 0===this[h].langs[this.opts.lang]&&void 0!==this[h].langs.en&&(a=this[h].langs.en),f=this,d.each(a,function(p,u){void 0===f.opts.curLang[p]&&(f.opts.curLang[p]=u)}));d.isFunction(this[h].init)&&
this[h].init()}},this))}}},button:function(){return{toolbar:function(){return(void 0!==this.button.$toolbar&&this.button.$toolbar?this.button:this).$toolbar},init:function(){return{format:{title:this.lang.get("format"),icon:!0,dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{title:this.lang.get("code"),func:"block.format"},h1:{title:this.lang.get("heading1"),func:"block.format"},h2:{title:this.lang.get("heading2"),
func:"block.format"},h3:{title:this.lang.get("heading3"),func:"block.format"},h4:{title:this.lang.get("heading4"),func:"block.format"},h5:{title:this.lang.get("heading5"),func:"block.format"},h6:{title:this.lang.get("heading6"),func:"block.format"}}},bold:{title:this.lang.get("bold-abbr"),icon:!0,label:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic-abbr"),icon:!0,label:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted-abbr"),icon:!0,
label:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline-abbr"),icon:!0,label:this.lang.get("underline"),func:"inline.format"},lists:{title:this.lang.get("lists"),icon:!0,dropdown:{unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+this.lang.get("outdent"),func:"indent.decrease",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive",
"aria-disabled":!0}}}},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},ul:{title:"&bull; "+this.lang.get("bulletslist"),icon:!0,func:"list.toggle"},ol:{title:"1. "+this.lang.get("numberslist"),icon:!0,func:"list.toggle"},outdent:{title:this.lang.get("outdent"),icon:!0,func:"indent.decrease"},indent:{title:this.lang.get("indent"),icon:!0,func:"indent.increase"},image:{title:this.lang.get("image"),
icon:!0,func:"image.show"},file:{title:this.lang.get("file"),icon:!0,func:"file.show"},link:{title:this.lang.get("link"),icon:!0,dropdown:{link:{title:this.lang.get("link-insert"),func:"link.show",observe:{element:"a",in:{title:this.lang.get("link-edit")},out:{title:this.lang.get("link-insert")}}},unlink:{title:this.lang.get("unlink"),func:"link.unlink",observe:{element:"a",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},horizontalrule:{title:this.lang.get("horizontalrule"),
icon:!0,func:"line.insert"}}},setFormatting:function(){d.each(this.toolbarsButtons.format.dropdown,d.proxy(function(a,h){-1===d.inArray(a,this.opts.formatting)&&delete this.toolbarsButtons.format.dropdown[a]},this))},hideButtons:function(){0!==this.opts.buttonsHide.length&&this.button.hideButtonsSlicer(this.opts.buttonsHide)},hideButtonsOnMobile:function(){this.detect.isMobile()&&0!==this.opts.buttonsHideOnMobile.length&&this.button.hideButtonsSlicer(this.opts.buttonsHideOnMobile)},hideButtonsSlicer:function(a){d.each(a,
d.proxy(function(h,f){f=this.opts.buttons.indexOf(f);-1!==f&&this.opts.buttons.splice(f,1)},this))},load:function(a){this.button.buttons=[];d.each(this.opts.buttons,d.proxy(function(h,f){!this.toolbarsButtons[f]||"file"===f&&!this.file.is()||"image"===f&&!this.image.is()||a.append(d("<li>").append(this.button.build(f,this.toolbarsButtons[f])))},this))},buildButtonTooltip:function(a,h){var f,g,e;this.opts.air||this.detect.isMobile()||((f=d("<span>")).addClass("re-button-tooltip"),f.html(h),(h=0===
(h=(e=(g=this).button.toolbar()).closest(".redactor-toolbar-box")).length?e:h).prepend(f),a.on("mouseover",function(){var k,p,u,c,m,n;d(this).hasClass("redactor-button-disabled")||(k=e.hasClass("toolbar-fixed-box")?a.offset():a.position(),k=g.opts.toolbarFixedTarget!==document?a.position():k,p=e.hasClass("toolbar-fixed-box")?a.position().top+g.opts.toolbarFixedTopOffset:k.top,u=a.innerHeight(),c=a.innerWidth(),m=e.hasClass("toolbar-fixed-box")?"fixed":"absolute",m=g.opts.toolbarFixedTarget!==document?
"absolute":m,n=g.opts.toolbarFixedTarget!==document?e.position().top:0,f.show(),f.css({top:p+u+n+"px",left:k.left+c/2-f.innerWidth()/2+"px",position:m}))}).on("mouseout",function(){f.hide()}))},build:function(a,h){var f,g,e;if(!1!==this.opts.toolbar)return f=void 0!==h.label?h.label:h.title,(g=d('<a href="javascript:void(null);" alt="'+f+'" rel="'+a+'" />')).addClass("re-button re-"+a),g.attr({role:"button","aria-label":f,tabindex:"-1"}),void 0===h.icon||this.opts.buttonsTextLabeled?g.html(h.title):
((e=d("<i>")).addClass("re-icon-"+a),g.append(e),g.addClass("re-button-icon"),this.button.buildButtonTooltip(g,f)),(h.func||h.command||h.dropdown)&&this.button.setEvent(g,a,h),h.dropdown&&(g.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0),e=d('<ul class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+a+'" style="display: none;">'),g.data("dropdown",e),this.dropdown.build(a,e,h.dropdown)),this.button.buttons.push(g),g},getButtons:function(){return this.button.toolbar().find("a.re-button")},
getButtonsKeys:function(){return this.button.buttons},setEvent:function(a,h,f){a.on("mousedown",d.proxy(function(g){var e,k;return g.preventDefault(),a.hasClass("redactor-button-disabled")||(e="func",k=f.func,f.command?(e="command",k=f.command):f.dropdown&&(k=!(e="dropdown")),this.button.toggle(g,h,e,k)),!1},this))},toggle:function(a,h,f,g,e){!this.detect.isIe()&&this.detect.isDesktop()||(this.utils.freezeScroll(),a.returnValue=!1);"command"===f?this.inline.format(g):"dropdown"===f?this.dropdown.show(a,
h):this.button.clickCallback(a,g,h,e);"dropdown"!==f&&this.dropdown.hideAll(!1);this.opts.air&&"dropdown"!==f&&this.air.hide(a);!this.detect.isIe()&&this.detect.isDesktop()||this.utils.unfreezeScroll()},clickCallback:function(a,h,f,g){if(g=void 0===g?f:g,d.isFunction(h))h.call(this,f);else if("-1"!==h.search(/\./)){if(void 0===this[(h=h.split("."))[0]])return;"object"==typeof g?this[h[0]][h[1]].apply(this,g):this[h[0]][h[1]].call(this,g)}else"object"==typeof g?this[h].apply(this,g):this[h].call(this,
g);this.observe.buttons(a,f)},all:function(){return this.button.buttons},get:function(a){if(!1!==this.opts.toolbar)return this.button.toolbar().find("a.re-"+a)},set:function(a,h){if(!1!==this.opts.toolbar)return(a=this.button.toolbar().find("a.re-"+a)).html(h).attr("aria-label",h),a},add:function(a,h){return!0!==this.button.isAdded(a)?d():(a=this.button.build(a,{title:h}),this.button.toolbar().append(d("<li>").append(a)),a)},addFirst:function(a,h){return!0!==this.button.isAdded(a)?d():(a=this.button.build(a,
{title:h}),this.button.toolbar().prepend(d("<li>").append(a)),a)},addAfter:function(a,h,f){return!0!==this.button.isAdded(h)?d():(h=this.button.build(h,{title:f}),0!==(f=this.button.get(a)).length?f.parent().after(d("<li>").append(h)):this.button.toolbar().append(d("<li>").append(h)),h)},addBefore:function(a,h,f){return!0!==this.button.isAdded(h)?d():(h=this.button.build(h,{title:f}),0!==(f=this.button.get(a)).length?f.parent().before(d("<li>").append(h)):this.button.toolbar().append(d("<li>").append(h)),
h)},isAdded:function(a){a=this.opts.buttonsHideOnMobile.indexOf(a);return!(!1===this.opts.toolbar||-1!==a&&this.detect.isMobile())},setIcon:function(a,h){this.opts.buttonsTextLabeled||(a.html(h).addClass("re-button-icon"),this.button.buildButtonTooltip(a,a.attr("alt")))},changeIcon:function(a,h){a=this.button.get(a);0!==a.length&&a.find("i").removeAttr("class").addClass("re-icon-"+h)},addCallback:function(a,h){var f,g;void 0!==a&&!1!==this.opts.toolbar&&(f="dropdown"===h?"dropdown":"func",g=a.attr("rel"),
a.on("mousedown",d.proxy(function(e){if(a.hasClass("redactor-button-disabled"))return!1;this.button.toggle(e,g,f,h)},this)))},addDropdown:function(a,h){var f,g;if(!1!==this.opts.toolbar)return a.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0),f=a.attr("rel"),this.button.addCallback(a,"dropdown"),g=d('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+f+'" style="display: none;">'),a.data("dropdown",g),h&&this.dropdown.build(f,g,h),g},setActive:function(a){this.button.get(a).addClass("redactor-act")},
setInactive:function(a){this.button.get(a).removeClass("redactor-act")},setInactiveAll:function(a){var h=this.button.toolbar().find("a.re-button");(void 0!==a?h.not(".re-"+a):h).removeClass("redactor-act")},disable:function(a){this.button.get(a).addClass("redactor-button-disabled")},enable:function(a){this.button.get(a).removeClass("redactor-button-disabled")},disableAll:function(a){var h=this.button.toolbar().find("a.re-button");(void 0!==a?h.not(".re-"+a):h).addClass("redactor-button-disabled")},
enableAll:function(){this.button.toolbar().find("a.re-button").removeClass("redactor-button-disabled")},remove:function(a){this.button.get(a).remove()}}},caret:function(){return{set:function(a,h,f){var g=this.core.editor().scrollTop();g=(this.core.editor().focus(),this.core.editor().scrollTop(g),f=void 0===f?0:1,a=a[0]||a,h=h[0]||h,this.selection.get());var e=this.selection.range(g);try{e.setStart(a,0),e.setEnd(h,f)}catch(k){}this.selection.update(g,e)},prepare:function(a){return this.detect.isFirefox()&&
void 0!==this.start&&this.core.editor().focus(),a[0]||a},start:function(a){var h,f;if(a=this.caret.prepare(a))return"BR"===a.tagName?this.caret.before(a):(h=d(a).children().first(),f=this.utils.isInlineTag(a.tagName),void(""===a.innerHTML||f?this.caret.setStartEmptyOrInline(a,f):h&&0!==h.length&&this.utils.isInlineTag(h[0].tagName)&&""===h.text()?this.caret.setStartEmptyOrInline(h[0],!0):((f=window.getSelection()).removeAllRanges(),(h=document.createRange()).selectNodeContents(a),h.collapse(!0),f.addRange(h))))},
setStartEmptyOrInline:function(a,h){var f=window.getSelection(),g=document.createRange(),e=document.createTextNode("\u200b");g.setStart(a,0);g.insertNode(e);g.setStartAfter(e);g.collapse(!0);f.removeAllRanges();f.addRange(g);h||this.core.editor().on("keydown.redactor-remove-textnode",function(){d(e).remove();d(this).off("keydown.redactor-remove-textnode")})},end:function(a){var h,f,g;if(a=this.caret.prepare(a)){if("BR"!==a.tagName&&""===a.innerHTML)return this.caret.start(a);if("BR"===a.tagName)(h=
document.createElement("span")).className="redactor-invisible-space",h.innerHTML="&#x200b;",d(a).after(h),(f=window.getSelection()).removeAllRanges(),(g=document.createRange()).setStartBefore(h),g.setEndBefore(h),f.addRange(g),d(h).replaceWith(function(){return d(this).contents()});else{if(a.lastChild&&1===a.lastChild.nodeType)return this.caret.after(a.lastChild);if((f=window.getSelection()).getRangeAt||f.rangeCount)try{(g=f.getRangeAt(0)).selectNodeContents(a),g.collapse(!1),f.removeAllRanges(),
f.addRange(g)}catch(e){}}}},after:function(a){var h,f,g;if(a=this.caret.prepare(a)){if("BR"===a.tagName)return this.caret.end(a);this.utils.isBlockTag(a.tagName)?void 0===(f=this.caret.next(a))?this.caret.end(a):("TABLE"===f.tagName?f=d(f).find("th, td").first()[0]:"UL"!==f.tagName&&"OL"!==f.tagName||(f=d(f).find("li").first()[0]),this.caret.start(f)):(f=document.createTextNode("\u200b"),(g=window.getSelection()).removeAllRanges(),(h=document.createRange()).setStartAfter(a),h.insertNode(f),h.setStartAfter(f),
h.collapse(!0),g.addRange(h))}},before:function(a){var h,f;(a=this.caret.prepare(a))&&(this.utils.isBlockTag(a.tagName)?void 0===(f=this.caret.prev(a))?this.caret.start(a):("TABLE"===f.tagName?f=d(f).find("th, td").last()[0]:"UL"!==f.tagName&&"OL"!==f.tagName||(f=d(f).find("li").last()[0]),this.caret.end(f)):((f=window.getSelection()).removeAllRanges(),(h=document.createRange()).setStartBefore(a),h.collapse(!0),f.addRange(h)))},next:function(a){a=d(a).next();return(a.hasClass("redactor-script-tag, redactor-selection-marker")?
a.next():a)[0]},prev:function(a){a=d(a).prev();return(a.hasClass("redactor-script-tag, redactor-selection-marker")?a.prev():a)[0]},offset:function(a){return this.offset.get(a)}}},clean:function(){return{onSet:function(a){a=this.clean.savePreCode(a);a=this.clean.saveFormTags(a);this.opts.script&&(a=a.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,'<pre class="redactor-script-tag" $1>$2</pre>'));a=(a=(a=(a=(a=this.opts.style?a.replace(/<style(.*?[^>]?)>([\w\W]*?)<\/style>/gi,'<pre class="redactor-style-tag" $1>$2</pre>'):
a).replace(/\$/g,"&#36;")).replace(/<a href="(.*?[^>]?)\u00ae(.*?[^>]?)">/gi,'<a href="$1&reg$2">')).replace(/<span id="selection-marker-1"(.*?[^>]?)>\u200b<\/span>/gi,"###marker1###")).replace(/<span id="selection-marker-2"(.*?[^>]?)>\u200b<\/span>/gi,"###marker2###");var h=this,f=d("<div/>").html(d.parseHTML(a,document,!0)),g=this.opts.replaceTags,e=(g&&(e=Object.keys(this.opts.replaceTags),f.find(e.join(",")).each(function(k,p){h.utils.replaceToTag(p,g[p.tagName.toLowerCase()])})),f.find("span, a").attr("data-redactor-span",
!0),f.find(this.opts.inlineTags.join(",")).each(function(){var k=d(this);k.attr("style")&&k.attr("data-redactor-style-cache",k.attr("style"))}),a=f.html(),"font html head link body meta applet".split(" "));return this.opts.script||e.push("script"),this.opts.style||e.push("style"),a=this.clean.stripTags(a,e),this.opts.removeComments&&(a=a.replace(/\x3c!--[\s\S]*?--\x3e/gi,"")),-1!==(a=(a=(a=this.paragraphize.load(a)).replace("###marker1###",'<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>')).replace("###marker2###",
'<span id="selection-marker-2" class="redactor-selection-marker">\u200b</span>')).search(/^(||\s||<br\s?\/?>||&nbsp;)$/i)?this.opts.emptyHtml:a},onGet:function(a){return this.clean.onSync(a)},onSync:function(a){if(-1!==(a=(a=a.replace(/\u200B/g,"")).replace(/&#x200b;/gi,"")).search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";a=(a=(a=(a=a.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>")).replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,
"")).replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,"")).replace(/<img(.*?)style="(.*?)opacity: 0\.5;(.*?)"(.*?)>/gi,'<img$1style="$2$3"$4>');var h=d("<div/>").html(d.parseHTML(a,document,!0));h.find('*[style=""]').removeAttr("style");h.find('*[class=""]').removeAttr("class");h.find('*[rel=""]').removeAttr("rel");h.find('*[data-image=""]').removeAttr("data-image");h.find('*[alt=""]').removeAttr("alt");h.find('*[title=""]').removeAttr("title");h.find("*[data-redactor-style-cache]").removeAttr("data-redactor-style-cache");
h.find(".redactor-invisible-space, .redactor-unlink").each(function(){d(this).contents().unwrap()});h.find("span, a").removeAttr("data-redactor-span data-redactor-style-cache").each(function(){0===this.attributes.length&&d(this).contents().unwrap()});h.find("img").removeAttr("rel");h.find(".redactor-selection-marker, #redactor-insert-marker").remove();a=h.html();this.opts.script&&(a=a.replace(/<pre class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2\x3c/script>"));this.opts.style&&
(a=a.replace(/<pre class="redactor-style-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<style$1>$2</style>"));a=(a=(a=(a=(a=this.clean.restoreFormTags(a)).replace(RegExp("<br\\s?/?></h","gi"),"</h")).replace(RegExp("<br\\s?/?></li>","gi"),"</li>")).replace(RegExp("</li><br\\s?/?>","gi"),"</li>")).replace(/<pre>/gi,"<pre>\n");this.opts.preClass&&(a=a.replace(/<pre>/gi,'<pre class="'+this.opts.preClass+'">'));this.opts.linkNofollow&&(a=(a=a.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,"<a$1$2>")).replace(/<a(.*?[^>])>/gi,
'<a$1 rel="nofollow">'));return d.each({"\u2122":"&trade;","\u00a9":"&copy;","\u2026":"&hellip;","\u2014":"&mdash;","\u2010":"&dash;"},function(f,g){a=a.replace(new RegExp(f,"g"),g)}),a=a.replace(/\n{2,}/g,"\n\n"),this.opts.removeNewlines&&(a=a.replace(/\r?\n/g,"")),a=this.core.callback("syncClean",a)},onPaste:function(a,h,f){var g,e;return!0!==f&&(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2")).replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,
"$3")).replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*(font-style: italic; font-weight: 700|font-weight: 700; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*font-style: italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>")).replace(/<span[^>]*font-weight: bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>")).replace(/<span[^>]*font-weight: 700[^>]*>([\w\W]*?)<\/span>/gi,
"<b>$1</b>")).replace(/<o:p[^>]*>/gi,"")).replace(/<\/o:p>/gi,""),this.clean.isHtmlMsWord(a))&&(a=this.clean.cleanMsWord(a)),a=d.trim(a),h.pre?this.opts.preSpaces&&(a=a.replace(/\t/g,Array(this.opts.preSpaces+1).join(" "))):(0<=a.indexOf("<p")&&0<=a.indexOf("<br")&&(g=d("<div>").html(a),e=this,g.find("p").each(function(){var k=d(this),p=d.trim(k.html().replace(/\n/g," "));0<=p.indexOf("<br")&&d.trim(e.clean.replaceBrToNl(p))&&k.html(p.replace(/\s*<br\s?\/?>\s*/gi,'<br data-keepbr="1">\n'))}),a=g.html()),
a=this.clean.replaceBrToNl(a),a=this.clean.replaceNbspToSpaces(a),a=this.clean.removeTagsInsidePre(a)),!0!==f&&(a=this.clean.removeEmptyInlineTags(a),!1===h.encode)&&(a=a.replace(/&/g,"&amp;"),a=this.clean.convertTags(a,h),a=this.clean.getPlainText(a),a=this.clean.reconvertTags(a,h)),h.text&&(a=this.clean.replaceNbspToSpaces(a),a=this.clean.getPlainText(a)),h.lists&&(a=a.replace("\n","<br>")),h.encode&&(a=this.clean.encodeHtml(a)),h.paragraphize&&(a=(a=a.replace(/ \n/g," ")).replace(/\n /g," "),a=
(a=this.paragraphize.load(a)).replace(/<p>\s*<\/p>/g,"")),a=(a=a.replace(/<li>\s*<p>/g,"<li>")).replace(/<\/p>\s*<\/li>/g,"</li>"),a=h.pre?a:a.replace(/\n|\r/g," ")},getCurrentType:function(a,h){var f=this.selection.blocks();a={text:!1,encode:!1,paragraphize:!0,line:this.clean.isHtmlLine(a),blocks:this.clean.isHtmlBlocked(a),pre:!1,lists:!1,block:!0,inline:!0,links:!0,images:!0};return 1===f.length&&this.utils.isCurrentOrParent("h1 h2 h3 h4 h5 h6 a figcaption".split(" "))?(a.text=!0,a.paragraphize=
!1,a.inline=!1,a.images=!1,a.links=!1,a.line=!0):"inline"===this.opts.type||!1===this.opts.enterKey?(a.paragraphize=!1,a.block=!1,a.line=!0):1===f.length&&this.utils.isCurrentOrParent(["li"])?(a.lists=!0,a.block=!1,a.paragraphize=!1,a.images=!0):1===f.length&&this.utils.isCurrentOrParent(["th","td","blockquote"])?(a.block=!1,a.paragraphize=!1):("pre"===this.opts.type||1===f.length&&this.utils.isCurrentOrParent("pre"))&&(a.inline=!1,a.block=!1,a.encode=!0,a.pre=!0,a.paragraphize=!1,a.images=!1,a.links=
!1),!0===a.line&&(a.paragraphize=!1),!0===h&&(a.text=!1),a},isHtmlBlocked:function(a){var h=a.match(new RegExp("</("+this.opts.blockTags.join("|").toUpperCase()+")>","gi"));a=a.match(RegExp("<hr(.*?[^>])>","gi"));return null!==h||null!==a},isHtmlLine:function(a){var h;return!this.clean.isHtmlBlocked(a)&&(h=a.match(/<br\s?\/?>/gi),a=a.match(/\n/gi),!h)&&!a},isHtmlMsWord:function(a){return a.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},removeEmptyInlineTags:function(a){var h=
this.opts.inlineTags,f=d("<div/>").html(d.parseHTML(a,document,!0)),g=this,e=f.find("span");h=f.find(h.join(","));return h.removeAttr("style"),h.each(function(){var k=d(this).html();0===this.attributes.length&&g.utils.isEmpty(k)&&d(this).replaceWith(function(){return d(this).contents()})}),e.each(function(){d(this).html();0===this.attributes.length&&d(this).replaceWith(function(){return d(this).contents()})}),a=(a=(a=(a=f.html()).replace("\x3c!--?php","<?php")).replace("\x3c!--?","<?")).replace("?--\x3e",
"?>"),f.remove(),a},cleanMsWord:function(a){a=(a=(a=(a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,"")).replace(/<o:p>[\s\S]*?<\/o:p>/gi,"")).replace(/\n/g," ")).replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n\n");var h=d("<div/>").html(a),f=!1,g=1,e=[];return h.find("p[style]").each(function(){var k=d(this).attr("style").match(/mso\-list:l([0-9]+)\slevel([0-9]+)/);if(k){var p=parseInt(k[1]),u=parseInt(k[2]),c=d(this).html().match(/^[\w]+\./)?"ol":"ul";k=d("<li/>").html(d(this).html());if(k.html(k.html().replace(/^([\w\.]+)</,
"<")),k.find("span:first").remove(),1==u&&-1==d.inArray(p,e)){var m=d("<"+c+"/>").attr({"data-level":u,"data-list":p}).html(k);d(this).replaceWith(m);f=p;e.push(p)}else{if(g<u){for(var n=h.find('[data-level="'+g+'"][data-list="'+f+'"]'),w=g;w<u;w++)(m=d("<"+c+"/>")).appendTo(n.find("li").last()),n=m;n.attr({"data-level":u,"data-list":p}).html(k)}else h.find('[data-level="'+u+'"][data-list="'+p+'"]').last().append(k);g=u;f=p;d(this).remove()}}}),h.find("[data-level][data-list]").removeAttr("data-level data-list"),
a=h.html()},replaceNbspToSpaces:function(a){return a.replace(/&nbsp;/gi," ")},replaceBrToNl:function(a){return a.replace(/<br\s?\/?>/gi,"\n")},replaceNlToBr:function(a){return a.replace(/\n/g,"<br />")},convertTags:function(a,h){var f=d("<div>").html(a),g=(f.find("iframe").remove(),f.find("a"));if(g.removeAttr("style"),!1!==this.opts.pasteLinkTarget&&g.attr("target",this.opts.pasteLinkTarget),h.links&&this.opts.pasteLinks&&f.find("a").each(function(e,k){if(k.href){var p;e='##%%a href="'+k.href+'"';
for(var u=0,c=k.attributes.length;u<c;u++)"href"!==(p=k.attributes.item(u)).name&&(e+=" "+p.name+'="'+p.value+'"');k.outerHTML=e+"%%##"+k.innerHTML+"##%%/a%%##"}}),a=f.html(),h.images&&this.opts.pasteImages&&(a=a.replace(/<img(.*?)src="(.*?)"(.*?[^>])>/gi,'##%%img$1src="$2"$3%%##')),!this.opts.pastePlainText)for(g=h.lists?["ul","ol","li"]:this.opts.pasteBlockTags,h=h.block||h.lists?h.inline?g.concat(this.opts.pasteInlineTags):g:h.inline?this.opts.pasteInlineTags:[],f=h.length,g=0;g<f;g++)a=a.replace(new RegExp("</"+
h[g]+">","gi"),"###/"+h[g]+"###"),a="td"===h[g]||"th"===h[g]?a.replace(new RegExp("<"+h[g]+'(.*?[^>])((colspan|rowspan)="(.*?[^>])")?(.*?[^>])>',"gi"),"###"+h[g]+" $2###"):(this.utils.isInlineTag(h[g])?a=(a=a.replace(new RegExp("<"+h[g]+'([^>]*)class="([^>]*)"[^>]*>',"gi"),"###"+h[g]+' class="$2"###')).replace(new RegExp("<"+h[g]+'([^>]*)data-redactor-style-cache="([^>]*)"[^>]*>',"gi"),"###"+h[g]+' cache="$2"###'):a).replace(new RegExp("<"+h[g]+"[^>]*>","gi"),"###"+h[g]+"###");return a},reconvertTags:function(a,
h){if((h.links&&this.opts.pasteLinks||h.images&&this.opts.pasteImages)&&(a=(a=a.replace(RegExp("##%%","gi"),"<")).replace(RegExp("%%##","gi"),">")),!this.opts.pastePlainText){var f=h.lists?["ul","ol","li"]:this.opts.pasteBlockTags;h=h.block||h.lists?h.inline?f.concat(this.opts.pasteInlineTags):f:h.inline?this.opts.pasteInlineTags:[];f=h.length;for(var g=0;g<f;g++)a=a.replace(new RegExp("###/"+h[g]+"###","gi"),"</"+h[g]+">");for(g=0;g<f;g++)a=a.replace(new RegExp("###"+h[g]+"###","gi"),"<"+h[g]+">");
var e;for(g=0;g<f;g++)"td"===h[g]||"th"===h[g]?a=a.replace(new RegExp("###"+h[g]+"s?(.*?[^#])###","gi"),"<"+h[g]+"$1>"):this.utils.isInlineTag(h[g])&&(e="span"===h[g]?' data-redactor-span="true"':"",a=(a=a.replace(new RegExp("###"+h[g]+' cache="(.*?[^#])"###',"gi"),"<"+h[g]+' style="$1"'+e+' data-redactor-style-cache="$1">')).replace(new RegExp("###"+h[g]+"s?(.*?[^#])###","gi"),"<"+h[g]+"$1>"))}return a},cleanPre:function(a){a=void 0===a?d(this.selection.block()).closest("pre",this.core.editor()[0]):
a;d(a).find("br").replaceWith(function(){return document.createTextNode("\n")});d(a).find("p").replaceWith(function(){return d(this).contents()})},removeTagsInsidePre:function(a){var h=d("<div />").append(a);return h.find("pre").replaceWith(function(){var f=d(this).html();return f=(f=f.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n")).replace(/(<([^>]+)>)/gi,""),d("<pre />").append(f)}),a=h.html(),h.remove(),a},getPlainText:function(a){a=(a=(a=(a=(a=(a=a.replace(/\x3c!--[\s\S]*?--\x3e/gi,
"")).replace(/<style[\s\S]*?style>/gi,"")).replace(/<p><\/p>/g,"")).replace(/<\/div>|<\/li>|<\/td>/gi,"\n")).replace(/<\/p>/gi,"\n\n")).replace(/<\/H[1-6]>/gi,"\n\n");var h=document.createElement("div");return h.innerHTML=a,a=h.textContent||h.innerText,d.trim(a)},savePreCode:function(a){return a=this.clean.savePreFormatting(a),a=this.clean.saveCodeFormatting(a),this.clean.restoreSelectionMarkers(a)},savePreFormatting:function(a){var h=a.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return null!==h&&d.each(h,
d.proxy(function(f,g){var e,k,p;f=[];var u=!1;g.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>/i)?(u=!0,e=(f=g.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>([\w\W]*?)<\/code>(([\n\r\s]+)?)<\/pre>/i))[5],k=f[1],p=f[4]):(e=(f=g.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i))[2],k=f[1]);e=(e=e.replace(/<br\s?\/?>/g,"\n")).replace(/&nbsp;/g," ");this.opts.preSpaces&&(e=e.replace(/\t/g,Array(this.opts.preSpaces+1).join(" ")));e=(e=this.clean.encodeEntities(e)).replace(/\$/g,"&#36;");a=u?a.replace(g,"<pre"+k+"><code"+
p+">"+e+"</code></pre>"):a.replace(g,"<pre"+k+">"+e+"</pre>")},this)),a},saveCodeFormatting:function(a){var h=a.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);return null!==h&&d.each(h,d.proxy(function(f,g){f=g.match(/<code(.*?)>([\w\W]*?)<\/code>/i);f[2]=f[2].replace(/&nbsp;/g," ");f[2]=this.clean.encodeEntities(f[2]);f[2]=f[2].replace(/\$/g,"&#36;");a=a.replace(g,"<code"+f[1]+">"+f[2]+"</code>")},this)),a},restoreSelectionMarkers:function(a){return a.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot;&gt;\u200b&lt;\/span&gt;/g,
'<span id="selection-marker-$1" class="redactor-selection-marker">\u200b</span>')},saveFormTags:function(a){return a.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(a){return a.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")},encodeHtml:function(a){return a=(a=(a=(a=a.replace(/\u201d/g,'"')).replace(/\u201c/g,'"')).replace(/\u2018/g,"'")).replace(/\u2019/g,"'"),this.clean.encodeEntities(a)},
encodeEntities:function(a){return String(a).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},stripTags:function(a,h){return void 0===h?a.replace(/(<([^>]+)>)/gi,""):a.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(f,g){return-1===h.indexOf(g.toLowerCase())?f:""})},removeMarkers:function(a){return a.replace(/<span(.*?[^>]?)class="redactor-selection-marker"(.*?[^>]?)>([\w\W]*?)<\/span>/gi,
"")},removeSpaces:function(a){return d.trim(a).replace(/\n/g,"").replace(/[\t]*/g,"").replace(/\n\s*\n/g,"\n").replace(/^[\s\n]*/g," ").replace(/[\s\n]*$/g," ").replace(/>\s{2,}</g,"> <").replace(/\n\n/g,"\n").replace(/\u200B/g,"")},removeSpacesHard:function(a){return d.trim(a).replace(/\n/g,"").replace(/[\t]*/g,"").replace(/\n\s*\n/g,"\n").replace(/^[\s\n]*/g,"").replace(/[\s\n]*$/g,"").replace(/>\s{2,}</g,"><").replace(/\n\n/g,"\n").replace(/\u200B/g,"")},normalizeCurrentHeading:function(){var a=
this.selection.block();this.utils.isCurrentOrParentHeader()&&a&&a.normalize()}}},code:function(){return{syncFire:!0,html:!1,start:function(a){a=(a=d.trim(a)).replace(/^(<span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span>)/,"");"textarea"===this.opts.type?a=this.clean.onSet(a):"div"===this.opts.type&&""===a&&(a=this.opts.emptyHtml);a=a.replace(/<p><span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span><\/p>/,"");this.events.stopDetectChanges();this.core.editor().html(a);
this.observe.load();this.events.startDetectChanges()},set:function(a,h){a=d.trim(a);(h=h||{}).start&&(this.start=h.start);"textarea"===this.opts.type?a=this.clean.onSet(a):"div"===this.opts.type&&""===a&&(a=this.opts.emptyHtml);this.core.editor().html(a);this.observe.load();"textarea"===this.opts.type&&this.code.sync();this.placeholder.enable()},get:function(){var a;return"textarea"===this.opts.type?this.core.textarea().val():(a=this.core.editor().html(),this.clean.onGet(a))},sync:function(){var a,
h;this.code.syncFire&&(a=this.core.editor().html(),h=this.code.cleaned(a),this.code.isSync(h)||(this.code.html=h,"textarea"!==this.opts.type?(this.core.callback("sync",a),this.core.callback("change",a)):"textarea"===this.opts.type&&setTimeout(d.proxy(function(){this.code.startSync(a)},this),10)))},startSync:function(a){a=this.core.callback("syncBefore",a);a=this.clean.onSync(a);this.core.textarea().val(a);this.core.callback("sync",a);!1===this.start&&this.core.callback("change",a);this.start=!1},
isSync:function(a){var h=!1!==this.code.html&&this.code.html;return!1!==h&&h===a},cleaned:function(a){return a=a.replace(/\u200B/g,""),this.clean.removeMarkers(a)}}},core:function(){return{id:function(){return this.$editor.attr("id")},element:function(){return this.$element},editor:function(){return void 0===this.$editor?d():this.$editor},textarea:function(){return this.$textarea},box:function(){return"textarea"===this.opts.type?this.$box:this.$element},toolbar:function(){return this.$toolbar||!1},
air:function(){return this.$air||!1},object:function(){return d.extend({},this)},structure:function(){this.core.editor().toggleClass("redactor-structure")},addEvent:function(a){this.core.event=a},getEvent:function(){return this.core.event},callback:function(a,h,f){var g,e=!1,k=d._data(this.core.element()[0],"events");if(void 0!==k&&void 0!==k[a])for(var p,u,c=k[a].length,m=0;m<c;m++)"callback.redactor"===k[a][m].namespace&&(p=k[a][m].handler,e=void 0===(u=void 0===f?[h]:[h,f])?p.call(this,h):p.call(this,
h,u));return e||(void 0!==this.opts.callbacks[a]&&(g=this.opts.callbacks[a],d.isFunction(g))?void 0===f?g.call(this,h):g.call(this,h,f):void 0===f?h:f)},destroy:function(){this.opts.destroyed=!0;this.core.callback("destroy");this.placeholder.destroy();this.progress.destroy();d("#redactor-voice-"+this.uuid).remove();this.core.editor().removeClass("redactor-in redactor-styles redactor-structure redactor-layer-img-edit");this.core.editor().off("keydown.redactor-remove-textnode");this.core.editor().off(".redactor-observe."+
this.uuid);this.$element.off(".redactor").removeData("redactor");this.core.editor().off(".redactor");d(document).off(".redactor-dropdown");d(document).off(".redactor-air."+this.uuid);d(document).off("mousedown.redactor-blur."+this.uuid);d(document).off("mousedown.redactor."+this.uuid);d(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid);d(window).off(".redactor-toolbar."+this.uuid);d(window).off("touchmove.redactor."+this.uuid);d("body").off("scroll.redactor."+this.uuid);
d(this.opts.toolbarFixedTarget).off("scroll.redactor."+this.uuid);var a=this,h=(!1!==this.opts.plugins&&d.each(this.opts.plugins,function(f,g){d(window).off(".redactor-plugin-"+g);d(document).off(".redactor-plugin-"+g);d("body").off(".redactor-plugin-"+g);a.core.editor().off(".redactor-plugin-"+g)}),this.$element.off("click.redactor-click-to-edit"),this.$element.removeClass("redactor-click-to-edit"),this.core.editor().removeClass("redactor-layer"),this.core.editor().removeAttr("contenteditable"),
this.code.get());this.opts.toolbar&&this.$toolbar&&this.$toolbar.find("a").each(function(){var f=d(this);f.data("dropdown")&&(f.data("dropdown").remove(),f.data("dropdown",{}))});"textarea"===this.opts.type&&(this.$box.after(this.$element),this.$box.remove(),this.$element.val(h).show());this.opts.air&&this.$air.remove();this.opts.toolbar&&this.$toolbar&&this.$toolbar.remove();this.$modalBox&&this.$modalBox.remove();this.$modalOverlay&&this.$modalOverlay.remove();d(".redactor-link-tooltip").remove();
clearInterval(this.autosaveTimeout)}}},detect:function(){return{isWebkit:function(){return/webkit/.test(this.opts.userAgent)},isFirefox:function(){return null===this.isFirefox&&(this.isFirefox=-1<this.opts.userAgent.indexOf("firefox")),this.isFirefox},isIe:function(a){return document.documentMode||/Edge/.test(navigator.userAgent)?"edge":RegExp("msie"+(isNaN(a)?"":"\\s"+a),"i").test(navigator.userAgent)||!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)},isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},
isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isIpad:function(){return/iPad/.test(navigator.userAgent)},isSafari:function(){return!!window.GestureEvent&&navigator.userAgent.match(/safari/i)}}},dropdown:function(){return{active:!1,button:!1,key:!1,position:[],getDropdown:function(){return this.dropdown.active},build:function(a,h,f){f=this.dropdown.buildFormatting(a,f);d.each(f,d.proxy(function(g,e){var k=this.dropdown.buildItem(g,e);this.observe.addDropdown(k,
g,e);h.attr("rel",a).append(k)},this))},buildFormatting:function(a,h){return"format"===a&&!1!==this.opts.formattingAdd&&d.each(this.opts.formattingAdd,d.proxy(function(f,g){var e=this.utils.isBlockTag(g.args[0])?"block":"inline";h[f]={func:"block"==e?"block.format":"inline.format",args:g.args,title:g.title}},this)),h},buildItem:function(a,h){var f,g,e=d("<li />");return void 0!==h.classname&&e.addClass(h.classname),-1!==a.search(/^divider/i)?e.addClass("redactor-dropdown-divider"):(f=d('<a href="#" class="redactor-dropdown-'+
a+'" role="button" />'),g=d("<span />").html(h.title),f.append(g),f.on("mousedown",d.proxy(function(k){k.preventDefault();this.dropdown.buildClick(k,a,h)},this)),e.append(f)),e},buildClick:function(a,h,f){var g;d(a.target).hasClass("redactor-dropdown-link-inactive")||(g=this.dropdown.buildCommand(f),void 0!==f.args?this.button.toggle(a,h,g.type,g.callback,f.args):this.button.toggle(a,h,g.type,g.callback))},buildCommand:function(a){var h={type:"func"};return h.callback=a.func,a.command?(h.type="command",
h.callback=a.command):a.dropdown&&(h.type="dropdown",h.callback=a.dropdown),h},show:function(a,h){this.detect.isDesktop()&&this.core.editor().focus();this.dropdown.hideAll(!1,h);this.dropdown.key=h;this.dropdown.button=this.button.get(this.dropdown.key);this.dropdown.button.hasClass("dropact")?this.dropdown.hide():(this.dropdown.active=this.dropdown.button.data("dropdown").appendTo(document.body),this.core.callback("dropdownShow",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button}),
this.button.setActive(this.dropdown.key),this.dropdown.button.addClass("dropact"),this.dropdown.getButtonPosition(),this.button.toolbar().hasClass("toolbar-fixed-box")&&this.detect.isDesktop()?this.dropdown.showIsFixedToolbar():this.dropdown.showIsUnFixedToolbar(),this.detect.isDesktop()&&!this.detect.isFirefox()&&(this.dropdown.active.on("mouseover.redactor-dropdown",d.proxy(this.utils.disableBodyScroll,this)),this.dropdown.active.on("mouseout.redactor-dropdown mousedown.redactor-dropdown",d.proxy(this.utils.enableBodyScroll,
this))),a.stopPropagation())},showIsFixedToolbar:function(){var a=this.dropdown.button.position().top+this.dropdown.button.innerHeight()+this.opts.toolbarFixedTopOffset,h="fixed";this.opts.toolbarFixedTarget!==document&&(a=this.dropdown.button.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,h="absolute");this.dropdown.active.css({position:h,left:this.dropdown.position.left+"px",top:a+"px"}).show();this.dropdown.active.redactorAnimation("slideDown",{duration:.2},d.proxy(function(){this.dropdown.enableCallback();
this.dropdown.enableEvents()},this))},showIsUnFixedToolbar:function(){this.dropdown.active.css({position:"absolute",left:this.dropdown.position.left+"px",top:this.dropdown.button.innerHeight()+this.dropdown.position.top+"px"}).show();this.dropdown.active.redactorAnimation(this.opts.animation?"slideDown":"show",{duration:.2},d.proxy(function(){this.dropdown.enableCallback();this.dropdown.enableEvents()},this))},enableEvents:function(){d(document).on("mousedown.redactor-dropdown",d.proxy(this.dropdown.hideAll,
this));this.core.editor().on("touchstart.redactor-dropdown",d.proxy(this.dropdown.hideAll,this));d(document).on("keyup.redactor-dropdown",d.proxy(this.dropdown.closeHandler,this))},enableCallback:function(){this.core.callback("dropdownShown",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button})},getButtonPosition:function(){this.dropdown.position=this.dropdown.button.offset();var a=this.dropdown.active.width();this.dropdown.position.left+a>d(document).width()&&(this.dropdown.position.left=
Math.max(0,this.dropdown.position.left-a+parseInt(this.dropdown.button.innerWidth())))},closeHandler:function(a){a.which===this.keyCode.ESC&&(this.dropdown.hideAll(a),this.core.editor().focus())},hideAll:function(a,h){this.detect.isDesktop()&&this.utils.enableBodyScroll();!1!==a&&0!==d(a.target).closest(".redactor-dropdown").length||(a=void 0===h?this.button.toolbar().find("a.dropact"):this.button.toolbar().find("a.dropact").not(".re-"+h),0!==(h=void 0===h?d(".redactor-dropdown-"+this.uuid):d(".redactor-dropdown-"+
this.uuid).not(".redactor-dropdown-box-"+h)).length&&(d(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),d.each(h,d.proxy(function(f,g){g=d(g);this.core.callback("dropdownHide",g);g.hide();g.off("mouseover mouseout").off(".redactor-dropdown")},this)),a.removeClass("redactor-act dropact")))},hide:function(){!1!==this.dropdown.active&&(this.detect.isDesktop()&&this.utils.enableBodyScroll(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideUp":"hide",{duration:.2},
d.proxy(function(){d(document).off(".redactor-dropdown");this.core.editor().off(".redactor-dropdown");this.dropdown.hideOut()},this)))},hideOut:function(){this.core.callback("dropdownHide",this.dropdown.active);this.dropdown.button.removeClass("redactor-act dropact");this.dropdown.active.off("mouseover mouseout").off(".redactor-dropdown");this.dropdown.button=!1;this.dropdown.key=!1;this.dropdown.active=!1}}},events:function(){return{focused:!1,blured:!0,dropImage:!1,stopChanges:!1,stopDetectChanges:function(){this.events.stopChanges=
!0},startDetectChanges:function(){var a=this;setTimeout(function(){a.events.stopChanges=!1},1)},dragover:function(a){a.preventDefault();a.stopPropagation();"IMG"===a.target.tagName&&d(a.target).addClass("redactor-image-dragover")},dragleave:function(a){this.core.editor().find("img").removeClass("redactor-image-dragover")},drop:function(a){return a=a.originalEvent||a,this.core.editor().find("img").removeClass("redactor-image-dragover"),"inline"===this.opts.type||"pre"===this.opts.type?(a.preventDefault(),
!1):void 0===window.FormData||!a.dataTransfer||(0===a.dataTransfer.files.length?this.events.onDrop(a):(this.events.onDropUpload(a),void this.core.callback("drop",a)))},click:function(a){var h=this.core.getEvent();this.core.addEvent("click"!==h&&"arrow"!==h&&"click");this.utils.disableSelectAll();this.core.callback("click",a)},focus:function(a){var h;this.rtePaste||(this.events.isCallback("focus")&&this.core.callback("focus",a),this.events.focused=!0,(this.events.blured=!1)===this.selection.current()&&
(a=this.selection.get(),(h=this.selection.range(a)).setStart(this.core.editor()[0],0),h.setEnd(this.core.editor()[0],0),this.selection.update(a,h)))},blur:function(a){this.start||this.rtePaste||0===d(a.target).closest("#"+this.core.id()+", .redactor-toolbar, .redactor-dropdown, #redactor-modal-box").length&&(!this.events.blured&&this.events.isCallback("blur")&&this.core.callback("blur",a),this.events.focused=!1,this.events.blured=!0)},touchImageEditing:function(){var a=-1;this.events.imageEditing=
!1;d(window).on("touchmove.redactor."+this.uuid,d.proxy(function(){this.events.imageEditing=!0;-1!==a&&clearTimeout(a);a=setTimeout(d.proxy(function(){this.events.imageEditing=!1},this),500)},this))},init:function(){this.core.editor().on("dragover.redactor dragenter.redactor",d.proxy(this.events.dragover,this));this.core.editor().on("dragleave.redactor",d.proxy(this.events.dragleave,this));this.core.editor().on("drop.redactor",d.proxy(this.events.drop,this));this.core.editor().on("click.redactor",
d.proxy(this.events.click,this));this.core.editor().on("paste.redactor",d.proxy(this.paste.init,this));this.core.editor().on("keydown.redactor",d.proxy(this.keydown.init,this));this.core.editor().on("keyup.redactor",d.proxy(this.keyup.init,this));this.core.editor().on("focus.redactor",d.proxy(this.events.focus,this));d(document).on("mousedown.redactor-blur."+this.uuid,d.proxy(this.events.blur,this));this.events.touchImageEditing();this.events.createObserver();this.events.setupObserver()},createObserver:function(){var a=
this;this.events.observer=new MutationObserver(function(h){h.forEach(d.proxy(a.events.iterateObserver,a))})},iterateObserver:function(a){var h;this.detect.isFirefox()&&a.previousSibling&&a.nextSibling&&"BR"===a.nextSibling.nodeName&&null===a.nextSibling.nextSibling&&(a.nextSibling.remove(),"true"!==a.target.contentEditable)&&(h=document.createTextNode("\u200b"),a.target.appendChild(h));!("textarea"!==this.opts.type&&"div"!==this.opts.type||this.detect.isFirefox()||a.target!==this.core.editor()[0])||
"class"===a.attributeName&&a.target===this.core.editor()[0]||"data-vivaldi-spatnav-clickable"==a.attributeName||(this.observe.load(),this.events.changeHandler())},setupObserver:function(){this.events.observer.observe(this.core.editor()[0],{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})},changeHandler:function(){this.events.stopChanges||(this.code.sync(),this.autosave.is()&&(clearTimeout(this.autosaveTimeout),this.autosaveTimeout=setTimeout(d.proxy(this.autosave.send,
this),300)))},onDropUpload:function(a){if(a.preventDefault(),a.stopPropagation(),(this.opts.dragImageUpload||this.opts.dragFileUpload)&&(null!==this.opts.imageUpload||null!==this.opts.fileUpload)){"IMG"===a.target.tagName&&(this.events.dropImage=a.target);for(var h=a.dataTransfer.files,f=h.length,g=0;g<f;g++)this.upload.directUpload(h[g],a)}},onDrop:function(a){this.core.callback("drop",a)},isCallback:function(a){return void 0!==this.opts.callbacks[a]&&d.isFunction(this.opts.callbacks[a])},stopDetect:function(){this.events.stopDetectChanges()},
startDetect:function(){this.events.startDetectChanges()}}},file:function(){return{is:function(){return!(!this.opts.fileUpload||!this.opts.fileUpload&&!this.opts.s3)},show:function(){this.modal.load("file",this.lang.get("file"),700);this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert);d("#redactor-filename").val(this.selection.get().toString());this.modal.show()},insert:function(a,h,f){var g,e;void 0!==a.error?(this.modal.close(),this.core.callback("fileUploadError",
a)):(this.file.release(f,h),this.buffer.set(),this.air.collapsed(),f=this.file.text(a),f=d("<a />").attr("href",a.url).text(f),g=void 0===a.id?"":a.id,e=void 0===a.s3?"file":"s3",f.attr("data-"+e,g),f=d(this.insert.node(f)),this.caret.after(f),this.storage.add({type:e,node:f[0],url:a.url,id:g}),null!==h&&this.core.callback("fileUpload",f,a))},release:function(a,h){h?(this.marker.remove(),this.insert.nodeToPoint(a,this.marker.get()),this.selection.restore()):this.modal.close()},text:function(a){var h=
d("#redactor-filename").val();return void 0===h||""===h?a.name:h}}},focus:function(){return{start:function(){var a;this.core.editor().focus();"inline"!==this.opts.type&&!1!==(a=this.focus.first())&&this.caret.start(a)},end:function(){this.core.editor().focus();var a,h,f,g=this.opts.inline?this.core.editor():this.focus.last();0!==g.length&&(a=this.focus.lastChild(g),this.detect.isWebkit()||!1===a?(h=this.selection.get(),null!==(f=this.selection.range(h))?(f.selectNodeContents(g[0]),f.collapse(!1),
this.selection.update(h,f)):this.caret.end(g)):this.caret.end(a))},first:function(){var a=this.core.editor().children().first();return 0!==(a=!a.length||"UL"!==a[0].tagName&&"OL"!==a[0].tagName?a:a.find("li").first()).length&&0!==a[0].length&&"BR"!==a[0].tagName&&"HR"!==a[0].tagName&&3!==a[0].nodeType&&a},last:function(){return this.core.editor().children().last()},lastChild:function(a){a=a[0].lastChild;return!(null===a||!this.utils.isInlineTag(a.tagName))&&a},is:function(){return this.core.editor()[0]===
document.activeElement}}},image:function(){return{is:function(){return!(!this.opts.imageUpload||!this.opts.imageUpload&&!this.opts.s3)},show:function(){var a=this.selection.current();if(a)if(this.utils.isTag(a,"img"))this.events.dropImage=a;else if(a=d(a).find("img:first"),a.length)return this.image.showEdit(a);this.modal.load("image",this.lang.get("image"),700);this.upload.init("#redactor-modal-image-droparea",this.opts.imageUpload,this.image.insert);this.modal.show()},insert:function(a,h,f){var g,
e,k,p,u;void 0!==a.error?(this.modal.close(),this.events.dropImage=!1,this.core.callback("imageUploadError",a,f)):!1!==this.events.dropImage?(e=d(this.events.dropImage),this.core.callback("imageDelete",e[0].src,e),e.attr("src",a.url),this.events.dropImage=!1,this.core.callback("imageUpload",e,a),this.modal.close()):(this.placeholder.hide(),g=d("<"+this.opts.imageTag+">"),(e=d("<img>")).attr("src",a.url),u=void 0===a.id?"":a.id,p=void 0===a.s3?"image":"s3",e.attr("data-"+p,u),g.append(e),k=this.utils.isTag(this.selection.current(),
"pre"),h?(this.air.collapsed(),this.marker.remove(),f=this.insert.nodeToPoint(f,this.marker.get()),f=d(f).next(),this.selection.restore(),this.buffer.set(),void 0!==f&&0!==f.length&&"IMG"===f[0].tagName?(this.core.callback("imageDelete",f[0].src,f),f.closest("figure, p",this.core.editor()[0]).replaceWith(g)):k?d(k).after(g):this.insert.node(g)):(this.modal.close(),this.buffer.set(),this.air.collapsed(),k?d(k).after(g):this.insert.node(g)),this.caret.after(g),this.events.dropImage=!1,this.storage.add({type:p,
node:e[0],url:a.url,id:u}),f=e[0].nextSibling,k=g.next(),p=d(f).text().replace(/\u200B/g,""),u=k.text().replace(/\u200B/g,""),""===p&&d(f).remove(),1===k.length&&"FIGURE"===k[0].tagName&&""===u&&k.remove(),null!==h?this.core.callback("imageUpload",e,a):this.core.callback("imageInserted",e,a))},setEditable:function(a){var h;a.on("dragstart",function(f){f.preventDefault()});this.opts.imageResizable?(h=d.proxy(function(f){this.observe.image=a;this.image.resizer=this.image.loadEditableControls(a);d(document).on("mousedown.redactor-image-resize-hide."+
this.uuid,d.proxy(this.image.hideResize,this));this.image.resizer&&this.image.resizer.on("mousedown.redactor touchstart.redactor",d.proxy(function(g){this.image.setResizable(g,a)},this))},this),a.off("mousedown.redactor").on("mousedown.redactor",d.proxy(this.image.hideResize,this)),a.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",h)):a.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",d.proxy(function(f){setTimeout(d.proxy(function(){this.image.showEdit(a)},
this),200)},this))},setResizable:function(a,h){a.preventDefault();this.image.resizeHandle={x:a.pageX,y:a.pageY,el:h,ratio:h.width()/h.height(),h:h.height()};(a=a.originalEvent||a).targetTouches&&(this.image.resizeHandle.x=a.targetTouches[0].pageX,this.image.resizeHandle.y=a.targetTouches[0].pageY);this.image.startResize()},startResize:function(){d(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",d.proxy(this.image.moveResize,this));d(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",
d.proxy(this.image.stopResize,this))},moveResize:function(a){a.preventDefault();a=a.originalEvent||a;var h=this.image.resizeHandle.h;a=(a.targetTouches?h+=a.targetTouches[0].pageY-this.image.resizeHandle.y:h+=a.pageY-this.image.resizeHandle.y,Math.round(h*this.image.resizeHandle.ratio));50>h||100>a||(this.image.resizeHandle.el.attr({width:a,height:h}),this.image.resizeHandle.el.width(a),this.image.resizeHandle.el.height(h),this.code.sync())},stopResize:function(){this.handle=!1;d(document).off(".redactor-image-resize");
this.image.hideResize()},hideResize:function(a){a&&0!==d(a.target).closest("#redactor-image-box",this.$editor[0]).length||(a&&"IMG"==a.target.tagName&&d(a.target),0!==(a=this.$editor.find("#redactor-image-box")).length&&(d("#redactor-image-editter").remove(),d("#redactor-image-resizer").remove(),a.find("img").css({marginTop:a[0].style.marginTop,marginBottom:a[0].style.marginBottom,marginLeft:a[0].style.marginLeft,marginRight:a[0].style.marginRight}),a.css("margin",""),a.find("img").css("opacity",
""),a.replaceWith(function(){return d(this).contents()}),d(document).off("mousedown.redactor-image-resize-hide."+this.uuid),void 0!==this.image.resizeHandle)&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style")))},loadResizableControls:function(a,h){var f;return this.opts.imageResizable&&!this.detect.isMobile()?(f=d('<span id="redactor-image-resizer" data-redactor="verified"></span>'),this.detect.isDesktop()||f.css({width:"15px",height:"15px"}),f.attr("contenteditable",
!1),h.append(f),h.append(a),f):(h.append(a),!1)},loadEditableControls:function(a){var h,f;if(0===d("#redactor-image-box").length)return(h=d('<span id="redactor-image-box" data-redactor="verified">')).css("float",a.css("float")).attr("contenteditable",!1),"auto"!=a[0].style.margin?(h.css({marginTop:a[0].style.marginTop,marginBottom:a[0].style.marginBottom,marginLeft:a[0].style.marginLeft,marginRight:a[0].style.marginRight}),a.css("margin","")):h.css({display:"block",margin:"auto"}),a.css("opacity",
".5").after(h),this.opts.imageEditable&&(this.image.editter=d('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>"),this.image.editter.attr("contenteditable",!1),this.image.editter.on("click",d.proxy(function(){this.image.showEdit(a)},this)),h.append(this.image.editter),f=this.image.editter.innerWidth(),this.image.editter.css("margin-left","-"+f/2+"px")),this.image.loadResizableControls(a,h)},showEdit:function(a){var h,f,g,e;this.events.imageEditing||(h=(this.observe.image=
a).closest("a",this.$editor[0]),g=0!==(f=a.closest("figure",this.$editor[0])).length?f:a,this.modal.load("image-edit",this.lang.get("edit"),705),this.image.buttonDelete=this.modal.getDeleteButton().text(this.lang.get("delete")),this.image.buttonSave=this.modal.getActionButton().text(this.lang.get("save")),this.image.buttonDelete.on("click",d.proxy(this.image.remove,this)),this.image.buttonSave.on("click",d.proxy(this.image.update,this)),!1===this.opts.imageCaption?d("#redactor-image-caption").val("").hide().prev().hide():
0!==(e=a.closest(this.opts.imageTag,this.$editor[0]).find("figcaption"))&&d("#redactor-image-caption").val(e.text()).show(),this.opts.imagePosition?(e=(0!==f.length?"center"===g.css("text-align"):"block"==g.css("display")&&"none"==g.css("float"))?"center":g.css("float"),d("#redactor-image-align").val(e)):d(".redactor-image-position-option").hide(),d("#redactor-image-preview").html(d('<img src="'+a.attr("src")+'" style="max-width: 100%;">')),d("#redactor-image-title").val(a.attr("alt")),0!==h.length&&
(d("#redactor-image-link").val(h.attr("href")),"_blank"===h.attr("target"))&&d("#redactor-image-link-blank").prop("checked",!0),d(".redactor-link-tooltip").remove(),this.modal.show(),this.detect.isDesktop()&&d("#redactor-image-title").focus())},update:function(){var a,h,f=this.observe.image,g=f.closest("a",this.core.editor()[0]),e=d("#redactor-image-title").val().replace(/(<([^>]+)>)/gi,"");e=(f.attr("alt",e).attr("title",e),this.image.setFloating(f),d.trim(d("#redactor-image-link").val()).replace(/(<([^>]+)>)/gi,
""));""!==e?(h="((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}",a=new RegExp("^(http|ftp|https)://"+h,"i"),h=new RegExp("^"+h,"i"),-1===e.search(a)&&0===e.search(h)&&this.opts.linkProtocol&&(e=this.opts.linkProtocol+"://"+e),a=!!d("#redactor-image-link-blank").prop("checked"),0===g.length?(h=d('<a href="'+e+'" id="redactor-img-tmp">'+this.utils.getOuterHtml(f)+"</a>"),a&&h.attr("target","_blank"),f=f.replaceWith(h),(g=this.core.editor().find("#redactor-img-tmp")).removeAttr("id")):(g.attr("href",e),
a?g.attr("target","_blank"):g.removeAttr("target"))):0!==g.length&&g.replaceWith(this.utils.getOuterHtml(f));this.image.addCaption(f,g);this.modal.close();this.buffer.set()},setFloating:function(a){var h=a.closest("figure",this.$editor[0]),f=0!==h.length?h:a,g="",e="",k="",p="";switch(d("#redactor-image-align").val()){case "left":g="left";k="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case "right":g="right";k="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;
break;case "center":0!==h.length?p="center":(e="block",k="auto")}f.css({float:g,display:e,margin:k,"text-align":p});f.attr("rel",a.attr("style"))},addCaption:function(a,h){var f=d("#redactor-image-caption").val();h=0!==h.length?h:a;a=h.next();0!==a.length&&"FIGCAPTION"===a[0].tagName||(a=!1);""!==f?!1===a?(a=d("<figcaption />").text(f),h.after(a)):a.text(f):!1!==a&&a.remove()},remove:function(a,h,f){h=void 0===h?d(this.observe.image):h;"boolean"!=typeof a&&this.buffer.set();this.events.stopDetectChanges();
var g,e;f=h.closest("a",this.core.editor()[0]);var k=h.closest(this.opts.imageTag,this.core.editor()[0]);h.parent();if(!1===this.core.callback("imageDelete",a,h[0]))return a&&a.preventDefault(),!1;0!==d("#redactor-image-box").length&&d("#redactor-image-box").parent();(0!==k.length?(e=k.prev(),g=k.next(),k):0!==f.length?(f.parent(),f):h).remove();d("#redactor-image-box").remove();!1!==a&&(g&&0!==g.length?this.caret.start(g):e&&0!==e.length&&this.caret.end(e));"boolean"!=typeof a&&this.modal.close();
this.utils.restoreScroll();this.observe.image=!1;this.events.startDetectChanges();this.placeholder.enable();this.code.sync()}}},indent:function(){return{increase:function(){var a,h,f,g,e,k;this.list.get()&&(h=(a=d(this.selection.current()).closest("li")).closest("ul, ol",this.core.editor()[0]),0!==(f=a.closest("li").prev()).length)&&"LI"===f[0].tagName&&(this.buffer.set(),this.utils.isCollapsed()?(e=h[0].tagName,d("<"+e+" />"),this.selection.save(),1===(g=f.find("ol").first()).length?g.append(a):
(e=h[0].tagName,(k=d("<"+e+" />")).append(a),f.append(k))):(document.execCommand("indent"),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize()),this.selection.restore())},decrease:function(){var a;this.list.get()&&(d(this.selection.current()).closest("li").closest("ul, ol",this.core.editor()[0]),this.buffer.set(),document.execCommand("outdent"),a=d(this.selection.current()).closest("li",this.core.editor()[0]),this.utils.isCollapsed()&&this.indent.repositionItem(a),0===a.length&&
(document.execCommand("formatblock",!1,"p"),0!==(a=(a=d(this.selection.current())).next()).length)&&"BR"===a[0].tagName&&a.remove(),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize(),this.selection.restore())},repositionItem:function(a){var h=a.next();h=(0===h.length||"UL"===h[0].tagName&&"OL"===h[0].tagName||a.append(h),a.prev());0!==h.length&&"LI"!==h[0].tagName&&(this.selection.save(),a.parents("li",this.core.editor()[0]).after(a),this.selection.restore())},normalize:function(){this.core.editor().find("li").each(d.proxy(function(a,
h){h=d(h);a="";a=(0!==this.opts.keepStyleAttr.length&&(a=","+this.opts.keepStyleAttr.join(",")),h.find(this.opts.inlineTags.join(",")).not("img"+a).removeAttr("style"),h.parent());0!==a.length&&"LI"===a[0].tagName?a.after(h):0===(a=h.next()).length||"UL"!==a[0].tagName&&"OL"!==a[0].tagName||h.append(a)},this))},removeEmpty:function(a){a=this.core.editor().find("ul, ol");var h=this.core.editor().find("li");h.each(d.proxy(function(f,g){this.indent.removeItemEmpty(g)},this));a.each(d.proxy(function(f,
g){this.indent.removeItemEmpty(g)},this));h.each(d.proxy(function(f,g){this.indent.removeItemEmpty(g)},this))},removeItemEmpty:function(a){""===a.innerHTML.replace(/[\t\s\n]/g,"").replace(/<span><\/span>/g,"")&&d(a).remove()}}},inline:function(){return{format:function(a,h,f,g){this.utils.isCurrentOrParent(["PRE","CODE"])||(h=this.inline.getParams(h,f,g),a=this.inline.arrangeTag(a),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.inline.formatCollapsed(a,h):this.inline.formatUncollapsed(a,
h))},formatCollapsed:function(a,h){var f,g,e,k=this.selection.inline();k?(g=k.tagName.toLowerCase())===a?this.utils.isEmpty(k.innerHTML)?(this.caret.after(k),d(k).remove()):(e=this.inline.insertBreakpoint(k,g),this.caret.after(e)):0===d(k).closest(a).length?(f=this.inline.insertInline(a),this.inline.setParams(f,h)):(e=this.inline.insertBreakpoint(k,g),this.caret.after(e)):(f=this.inline.insertInline(a),this.inline.setParams(f,h))},formatUncollapsed:function(a,h){this.selection.save();var f=this.inline.getClearedNodes(),
g=(this.inline.setNodesStriked(f,a,h),this.selection.restore(),document.execCommand("strikethrough"),this.selection.saveInstant(),this);this.core.editor().find("strike").each(function(){var e=g.utils.replaceToTag(this,a),k=(g.inline.setParams(e[0],h),e.find(a)),p=e.parent(),u=p.parent();0!==u.length&&u[0].tagName.toLowerCase()===a&&u.html()==p[0].outerHTML?(e.replaceWith(function(){return d(this).contents()}),u.replaceWith(function(){return d(this).contents()})):(0!==k.length&&g.inline.cleanInsideOrParent(k,
h),p.html()==e[0].outerHTML&&g.inline.cleanInsideOrParent(p,h),g.detect.isFirefox()&&g.core.editor().find(a+":empty").remove())});this.selection.restoreInstant()},cleanInsideOrParent:function(a,h){if(h)for(var f in h.data)this.inline.removeSpecificAttr(a,f,h.data[f])},getClearedNodes:function(){for(var a=this.selection.nodes(),h=[],f=a.length,g=0,e=0;e<f;e++)if(d(a[e]).hasClass("redactor-selection-marker")){g=e+2;break}for(e=0;e<f;e++)g<=e&&!this.utils.isBlockTag(a[e].tagName)&&h.push(a[e]);return h},
isConvertableAttr:function(a,h,f){var g=d(a).attr(h);if(g)if("style"===h){h=d.trim(f).replace(/;$/,"").split(";");for(g=f=0;g<h.length;g++){var e,k=h[g].split(":"),p=d.trim(k[0]);k=d.trim(k[1]);-1!==p.search(/color/)?!(e=d(a).css(p))||e!==k&&this.utils.rgb2hex(e)!==k||f++:d(a).css(p)===k&&f++}if(f===h.length)return 1}else if(g===f)return 1;return 0},isConvertable:function(a,h,f,g){if(h===f){if(!g)return!0;var e;h=0;for(e in g.data)h+=this.inline.isConvertableAttr(a,e,g.data[e]);if(h===Object.keys(g.data).length)return!0}return!1},
setNodesStriked:function(a,h,f){for(var g=0;g<a.length;g++){var e=a[g].tagName?a[g].tagName.toLowerCase():void 0,k=a[g].parentNode,p=k&&k.tagName?k.tagName.toLowerCase():void 0;this.inline.isConvertable(k,p,h,f)&&d(k).replaceWith(function(){return d("<strike>").append(d(this).contents())}).attr("data-redactor-inline-converted");this.inline.isConvertable(a[g],e,h,f)&&d(a[g]).replaceWith(function(){return d("<strike>").append(d(this).contents())})}},insertBreakpoint:function(a,h){(f=document.createElement("span")).id=
"redactor-inline-breakpoint";var f;this.insert.node(f);f=this.utils.isEndOfElement(a)?"":"<"+h+">";var g=(g=this.utils.getOuterHtml(a)).replace(/<span id="redactor-inline-breakpoint"><\/span>/i,"</"+h+">"+f);h=d(g);return d(a).replaceWith(h),f&&this.utils.cloneAttributes(a,h.last()),h.first()},insertInline:function(a){a=document.createElement(a);return this.insert.node(a),this.caret.start(a),a},arrangeTag:function(a){var h="b bold i italic underline strikethrough deleted superscript subscript".split(" "),
f="strong strong em em u del del sup sub".split(" ");a=a.toLowerCase();for(var g=0;g<h.length;g++)a===h[g]&&(a=f[g]);return a},getStyleParams:function(a){var h={};a=a.trim().replace(/;$/,"").split(";");for(var f=0;f<a.length;f++){var g=a[f].split(":");g&&(h[g[0].trim()]=g[1].trim())}return h},getParams:function(a,h,f){var g=!1,e="toggle";return"object"==typeof a?(g=a,e=void 0!==h?h:e):void 0!==a&&void 0!==h&&((g={})[a]=h,e=void 0!==f?f:e),!!g&&{func:e,data:g}},setParams:function(a,h){if(h)for(var f in h.data){var g=
d(a);"style"===f?(a=this.inline[h.func+"Style"](h.data[f],a),g.attr("data-redactor-style-cache",g.attr("style"))):a="class"===f?this.inline[h.func+"Class"](h.data[f],a):"remove"===h.func?this.inline[h.func+"Attr"](f,a):this.inline[h.func+"Attr"](f,h.data[f],a);"style"===f&&"SPAN"===a.tagName&&g.attr("data-redactor-span",!0)}return a},eachInline:function(a,h){if(a=void 0===a?this.selection.inlines():[a])for(var f=0;f<a.length;f++)var g=h(a[f])[0];return g},replaceClass:function(a,h){return this.inline.eachInline(h,
function(f){return d(f).removeAttr("class").addClass(a)})},toggleClass:function(a,h){return this.inline.eachInline(h,function(f){return d(f).toggleClass(a)})},addClass:function(a,h){return this.inline.eachInline(h,function(f){return d(f).addClass(a)})},removeClass:function(a,h){return this.inline.eachInline(h,function(f){return d(f).removeClass(a)})},removeAllClass:function(a){return this.inline.eachInline(a,function(h){return d(h).removeAttr("class")})},replaceAttr:function(a,h,f){return this.inline.eachInline(f,
function(g){return d(g).removeAttr(a).attr(a.value)})},toggleAttr:function(a,h,f){return this.inline.eachInline(f,function(g){return d(g).attr(a)?d(g).removeAttr(a):d(g).attr(a.value)})},addAttr:function(a,h,f){return this.inline.eachInline(f,function(g){return d(g).attr(a,h)})},removeAttr:function(a,h){return this.inline.eachInline(h,function(f){f=d(f);return f.removeAttr(a),"style"===a&&f.removeAttr("data-redactor-style-cache"),f})},removeAllAttr:function(a){return this.inline.eachInline(a,function(h){for(var f=
d(h),g=h.attributes.length,e=0;e<g;e++)f.removeAttr(h.attributes[e].name);return f})},removeSpecificAttr:function(a,h,f){var g=d(a);"style"===h?(f=f.split(":")[0].trim(),g.css(f,""),this.utils.removeEmptyAttr(a,"style")&&g.removeAttr("data-redactor-style-cache")):g.removeAttr(h)[0]},hasParentStyle:function(a){var h=a.parent();return 1===h.length&&h[0].tagName===a[0].tagName&&h.html()===a[0].outerHTML&&h},addParentStyle:function(a){var h,f=this.inline.hasParentStyle(a);return f?(h=this.inline.getStyleParams(a.attr("style")),
f.css(h),f.attr("data-redactor-style-cache",f.attr("style")),a.replaceWith(function(){return d(this).contents()})):a.attr("data-redactor-style-cache",a.attr("style")),a},replaceStyle:function(a,h){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(h,function(g){g=d(g);var e=(g.removeAttr("style").css(a),g.attr("style"));return e&&g.attr("style",e.replace(/"/g,"'")),f.inline.addParentStyle(g)})},toggleStyle:function(a,h){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(h,
function(g){var e=d(g);for(u in a){var k=a[u],p=e.css(u);(f.utils.isRgb(p)?f.utils.rgb2hex(p):p.replace(/"/g,""))===(k=f.utils.isRgb(k)?f.utils.rgb2hex(k):k.replace(/"/g,""))?e.css(u,""):e.css(u,k)}var u=e.attr("style");return u&&e.attr("style",u.replace(/"/g,"'")),f.utils.removeEmptyAttr(g,"style")?e.removeAttr("data-redactor-style-cache"):e=f.inline.addParentStyle(e),e})},addStyle:function(a,h){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(h,function(g){g=d(g);var e=(g.css(a),
g.attr("style"));return e&&g.attr("style",e.replace(/"/g,"'")),f.inline.addParentStyle(g)})},removeStyle:function(a,h){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(h,function(g){var e,k=d(g);for(e in a)k.css(e,"");return f.utils.removeEmptyAttr(g,"style")?k.removeAttr("data-redactor-style-cache"):k.attr("data-redactor-style-cache",k.attr("style")),k})},removeAllStyle:function(a){return this.inline.eachInline(a,function(h){return d(h).removeAttr("style").removeAttr("data-redactor-style-cache")})},
removeStyleRule:function(a){var h=this.selection.parent(),f=this.selection.inlines();this.buffer.set();h&&"SPAN"===h.tagName&&this.inline.removeStyleRuleAttr(d(h),a);for(h=0;h<f.length;h++){var g=f[h],e=d(g);-1==d.inArray(g.tagName.toLowerCase(),this.opts.inlineTags)||e.hasClass("redactor-selection-marker")||this.inline.removeStyleRuleAttr(e,a)}},removeStyleRuleAttr:function(a,h){a.css(h,"");this.utils.removeEmptyAttr(a,"style")?a.removeAttr("data-redactor-style-cache"):a.attr("data-redactor-style-cache",
a.attr("style"))},update:function(a,h,f,g){a=this.inline.arrangeTag(a);h=this.inline.getParams(h,f,g);f=this.selection.inlines();g=[];if(f)for(var e=0;e<f.length;e++){var k=f[e];"*"!==a&&k.tagName.toLowerCase()!==a||g.push(this.inline.setParams(k,h))}return g},removeFormat:function(){this.selection.save();for(var a=this.inline.getClearedNodes(),h=0;h<a.length;h++)1===a[h].nodeType&&d(a[h]).replaceWith(function(){return d(this).contents()});this.selection.restore()}}},insert:function(){return{set:function(a){this.placeholder.hide();
this.code.set(a);this.focus.end();this.placeholder.enable()},html:function(a,h){this.placeholder.hide();this.core.editor().focus();var f=this.selection.block(),g=this.selection.inline(),e=(void 0===h&&(h=this.clean.getCurrentType(a,!0),a=this.clean.onPaste(a,h,!0)),a=d.parseHTML(a),d(a).last()),k=this.selection.get(),p=this.selection.range(k);if(p.deleteContents(),this.selection.update(k,p),h.lists)if(k=d(a),0!==k.length&&("UL"===k[0].tagName||"OL"===k[0].tagName))return void this.insert.appendLists(f,
k);h.blocks&&f?this.utils.isSelectAll()?(this.core.editor().html(a),this.focus.end()):!1===(p=this.utils.breakBlockTag())?this.insert.placeHtml(a):(d(a).children().last().append(this.marker.get()),"start"===p.type?p.$block.before(a):p.$block.after(a),this.selection.restore(),this.core.editor().find("p").each(function(){""===d.trim(this.innerHTML)&&d(this).remove()})):(g&&((k=d("<div/>").html(a)).find(g.tagName.toLowerCase()).each(function(){d(this).contents().unwrap()}),a=k.html(),a=d.parseHTML(a),
e=d(a).last()),this.utils.isSelectAll()?(f=d(this.opts.emptyHtml),this.core.editor().html("").append(f),f.html(a),this.caret.end(f)):this.insert.placeHtml(a));this.utils.disableSelectAll();h.pre&&this.clean.cleanPre();this.caret.end(e);this.linkify.format()},text:function(a){a=a.toString();a=d.trim(a);var h,f,g=document.createElement("div");g.innerHTML=a;void 0!==(a=g.textContent||g.innerText)&&(this.placeholder.hide(),this.core.editor().focus(),g=this.selection.blocks(),a=a.replace(/\n/g," "),this.utils.isSelectAll()?
(h=d(this.opts.emptyHtml),this.core.editor().html("").append(h),h.html(a),this.caret.end(h)):(h=this.selection.get(),a=document.createTextNode(a),h.getRangeAt&&h.rangeCount&&((f=h.getRangeAt(0)).deleteContents(),f.insertNode(a),f.setStartAfter(a),f.collapse(!0),this.selection.update(h,f)),1<g.length&&(d(a).wrap("<p>"),this.caret.after(a))),this.utils.disableSelectAll(),this.linkify.format(),this.clean.normalizeCurrentHeading())},raw:function(a){this.placeholder.hide();this.core.editor().focus();for(var h,
f=this.selection.get(),g=this.selection.range(f),e=(g.deleteContents(),document.createElement("div")),k=(e.innerHTML=a,document.createDocumentFragment());a=e.firstChild;)h=k.appendChild(a);g.insertNode(k);h&&((g=g.cloneRange()).setStartAfter(h),g.collapse(!0),f.removeAllRanges(),f.addRange(g))},rawAfter:function(a){this.placeholder.hide();this.core.editor().focus();var h=this.selection.get(),f=this.selection.range(h),g=this.selection.current(),e=document.createElement("div");a=(e.innerHTML=a,e.firstChild);
d(g).after(d(a));f.setStartAfter(a);f.collapse(!0);h.addRange(f)},node:function(a,h){this.placeholder.hide();void 0!==this.start&&this.core.editor().focus();a=a[0]||a;var f=this.selection.block(),g=this.utils.isBlockTag(a.tagName),e=!0;return this.utils.isSelectAll()?(g?this.core.editor().html(a):this.core.editor().html(d("<p>").html(a)),this.code.sync()):g&&f?!1===(g=this.utils.breakBlockTag())?this.insert.placeNode(a,h):("start"===g.type?g.$block.before(a):g.$block.after(a),this.core.editor().find("p:empty").remove()):
e=this.insert.placeNode(a,h),this.utils.disableSelectAll(),e&&this.caret.end(a),a},appendLists:function(a,h){var f,g=d(a),e=this.utils.isEmpty(a.innerHTML);e||this.utils.isEndOfElement(a)?(f=g,h.find("li").each(function(){f.after(this);f=d(this)}),e&&g.remove()):this.utils.isStartOfElement(a)?h.find("li").each(function(){g.before(this);f=d(this)}):(e=this.selection.extractEndOfNode(a),g.after(d("<li>").append(e)),g.append(h),f=h);this.marker.remove();f&&this.caret.end(f);this.linkify.format()},placeHtml:function(a){var h=
document.createElement("span");h.id="redactor-insert-marker";h=this.insert.node(h);d(h).before(a);this.selection.restore();this.caret.after(h);d(h).remove()},placeNode:function(a,h){var f=this.selection.get(),g=this.selection.range(f);if(null==g)return!1;!1!==h&&g.deleteContents();g.insertNode(a);g.collapse(!1);this.selection.update(f,g)},nodeToPoint:function(a,h){var f,g,e;return this.placeholder.hide(),h=h[0]||h,this.utils.isEmpty()?(h=this.utils.isBlock(h)?h:d("<p />").append(h),this.core.editor().html(h)):
(f=a.clientX,a=a.clientY,void 0!==f&&void 0!==a&&(document.caretPositionFromPoint?(e=document.caretPositionFromPoint(f,a),(g=document.getSelection().getRangeAt(0)).setStart(e.offsetNode,e.offset),g.collapse(!0),g.insertNode(h)):document.caretRangeFromPoint?document.caretRangeFromPoint(f,a).insertNode(h):void 0!==document.body.createTextRange&&((g=document.body.createTextRange()).moveToPoint(f,a),(e=g.duplicate()).moveToPoint(f,a),g.setEndPoint("EndToEnd",e),g.select()))),h},nodeToCaretPositionFromPoint:function(a,
h){this.insert.nodeToPoint(a,h)},marker:function(){this.marker.insert()}}},keydown:function(){return{init:function(a){if(!this.rtePaste){var h=a.which,f=37<=h&&40>=h;if(this.keydown.ctrl=a.ctrlKey||a.metaKey,this.keydown.parent=this.selection.parent(),this.keydown.current=this.selection.current(),this.keydown.block=this.selection.block(),this.keydown.pre=this.utils.isTag(this.keydown.current,"pre"),this.keydown.blockquote=this.utils.isTag(this.keydown.current,"blockquote"),this.keydown.figcaption=
this.utils.isTag(this.keydown.current,"figcaption"),this.keydown.figure=this.utils.isTag(this.keydown.current,"figure"),!1===this.core.callback("keydown",a))return a.preventDefault(),!1;if(this.shortcuts.init(a,h),this.keydown.checkEvents(f,h),this.keydown.setupBuffer(a,h),h===this.keyCode.ENTER&&this.keydown.block&&"FIGURE"===this.keydown.block.tagName&&this.detect.isFirefox())return a.preventDefault(),this.keydown.onShiftEnter(a);if(!this.utils.isSelectAll()||h!==this.keyCode.ENTER&&h!==this.keyCode.BACKSPACE&&
h!==this.keyCode.DELETE)if(this.keydown.addArrowsEvent(f),this.keydown.setupSelectAll(a,h),this.opts.enterKey||h!==this.keyCode.ENTER){if(this.opts.enterKey&&h===this.keyCode.DOWN&&this.keydown.onArrowDown(),this.opts.enterKey&&h===this.keyCode.UP&&this.keydown.onArrowUp(),("textarea"===this.opts.type||"div"===this.opts.type)&&this.keydown.current&&3===this.keydown.current.nodeType&&d(this.keydown.parent).hasClass("redactor-in")&&this.keydown.wrapToParagraph(),!this.keyup.lastShiftKey&&h===this.keyCode.SPACE&&
(a.ctrlKey||a.shiftKey))return a.preventDefault(),this.keydown.onShiftSpace();if(h===this.keyCode.ENTER&&(a.ctrlKey||a.shiftKey))return a.preventDefault(),this.keydown.onShiftEnter(a);if(h===this.keyCode.ENTER&&!a.shiftKey&&!a.ctrlKey&&!a.metaKey)return this.keydown.onEnter(a);if(h===this.keyCode.TAB||a.metaKey&&221===h||a.metaKey&&219===h)return this.keydown.onTab(a,h);if(this.detect.isFirefox()&&h===this.keyCode.BACKSPACE&&this.keydown.block&&"P"===this.keydown.block.tagName&&this.utils.isStartOfElement(this.keydown.block)&&
0!==(g=d(this.keydown.block).prev()).length)return a.preventDefault(),g.append(this.marker.get()),g.append(d(this.keydown.block).html()),d(this.keydown.block).remove(),void this.selection.restore();if(h===this.keyCode.BACKSPACE||h===this.keyCode.DELETE){if(this.observe.image&&void 0!==this.observe.image&&0!==d("#redactor-image-box").length)return a.preventDefault(),g=this.observe.image.closest("figure, p").prev(),this.image.remove(!1),this.observe.image=!1,void(g&&0!==g.length?this.caret.end(g):this.core.editor().focus());
this.keydown.onBackspaceAndDeleteBefore()}if(h===this.keyCode.DELETE){f=d(this.keydown.block).next();if(this.utils.isEndOfElement(this.keydown.block)&&0!==f.length&&"FIGURE"===f[0].tagName)return f.remove(),!1;if(this.keydown.block&&"LI"===this.keydown.block.tagName&&this.keydown.block){var g=d(this.keydown.block).parents("ul, ol").last(),e=g.next();if(this.utils.isRedactorParent(g)&&this.utils.isEndOfElement(g)&&0!==e.length&&("UL"===e[0].tagName||"OL"===e[0].tagName))return a.preventDefault(),g.append(e.contents()),
e.remove(),!1}if(this.utils.isEndOfElement(this.keydown.block)&&0!==f.length&&"PRE"===f[0].tagName)return d(this.keydown.block).append(f.text()),f.remove(),!1}if(h===this.keyCode.DELETE&&0!==d("#redactor-image-box").length&&this.image.remove(),h===this.keyCode.BACKSPACE){if(this.detect.isFirefox()&&this.line.removeOnBackspace(a),this.list.combineAfterAndBefore(this.keydown.block))return void a.preventDefault();if((g=this.selection.block())&&"LI"===g.tagName&&this.utils.isCollapsed()&&this.utils.isStartOfElement())return this.indent.decrease(),
void a.preventDefault();this.keydown.removeInvisibleSpace();this.keydown.removeEmptyListInTable(a)}h!==this.keyCode.BACKSPACE&&h!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteAfter(a)}else a.preventDefault(),e=this.selection.get(),(f=this.selection.range(e)).collapsed||f.deleteContents();else a.preventDefault(),this.code.set(this.opts.emptyHtml),this.events.changeHandler()}},onShiftSpace:function(){return this.buffer.set(),this.insert.raw("&nbsp;"),!1},onShiftEnter:function(a){return this.buffer.set(),
this.keydown.figure?this.insert.rawAfter("<br>"):this.keydown.pre?this.keydown.insertNewLine(a):this.insert.raw("<br>")},onBackspaceAndDeleteBefore:function(){this.utils.saveScroll()},onBackspaceAndDeleteAfter:function(a){setTimeout(d.proxy(function(){this.code.syncFire=!1;this.keydown.removeEmptyLists();var h="";0!==this.opts.keepStyleAttr.length&&(h=","+this.opts.keepStyleAttr.join(","));this.core.editor().find("*[style]").not("p, h1, h2, h3, h4, h5, h6, div, ul, li, img, figure, iframe, #redactor-image-box, #redactor-image-editter, [data-redactor-style-cache], [data-redactor-span]"+
h).removeAttr("style");this.keydown.formatEmpty(a);this.code.syncFire=!0},this),1)},onEnter:function(a){if(!1===this.core.callback("enter",a))return a.preventDefault(),!1;if(this.keydown.blockquote&&!0===this.keydown.exitFromBlockquote(a))return!1;if(this.keydown.pre)return this.keydown.insertNewLine(a);if(this.keydown.blockquote||this.keydown.figcaption)return this.keydown.insertBreakLine(a);if(this.keydown.figure)setTimeout(d.proxy(function(){this.keydown.replaceToParagraph("FIGURE")},this),1);
else if(this.keydown.block){if(setTimeout(d.proxy(function(){this.keydown.replaceToParagraph("DIV")},this),1),"LI"===this.keydown.block.tagName){var h=this.selection.current();h=d(h).closest("li",this.$editor[0]);var f=h.parents("ul,ol",this.$editor[0]).last();if(0!==h.length&&this.utils.isEmpty(h.html())&&0===f.next().length&&this.utils.isEmpty(f.find("li").last().html()))return f.find("li").last().remove(),h=d(this.opts.emptyHtml),f.after(h),this.caret.start(h),!1}}else if(!this.keydown.block)return this.keydown.insertParagraph(a);
this.detect.isFirefox()&&this.utils.isInline(this.keydown.parent)?this.keydown.insertBreakLine(a):(this.opts.keepInlineOnEnter||setTimeout(d.proxy(function(){var g,e=this.selection.inline();e&&this.utils.isEmpty(e.innerHTML)&&(g=this.selection.block(),d(e).remove(),(e=document.createRange()).setStart(g,0),g=document.createTextNode("\u200b"),e.insertNode(g),e.setStartAfter(g),e.collapse(!0),(g=window.getSelection()).removeAllRanges(),g.addRange(e))},this),1),setTimeout(d.proxy(function(){var g=this.selection.block().childNodes;
(g=g[g.length-1])&&3!==g.nodeType&&"BR"===g.tagName&&d(g).remove()},this),1))},checkEvents:function(a,h){a||"click"!==this.core.getEvent()&&"arrow"!==this.core.getEvent()||(this.core.addEvent(!1),this.keydown.checkKeyEvents(h)&&this.buffer.set())},checkKeyEvents:function(a){var h=this.keyCode;h=[h.BACKSPACE,h.DELETE,h.ENTER,h.ESC,h.TAB,h.CTRL,h.META,h.ALT,h.SHIFT];return-1===d.inArray(a,h)},addArrowsEvent:function(a){a&&("click"===this.core.getEvent()||"arrow"===this.core.getEvent()?this.core.addEvent(!1):
this.core.addEvent("arrow"))},setupBuffer:function(a,h){this.keydown.ctrl&&90===h&&!a.shiftKey&&!a.altKey&&this.sBuffer.length?(a.preventDefault(),this.buffer.undo()):this.keydown.ctrl&&90===h&&a.shiftKey&&!a.altKey&&0!==this.sRebuffer.length?(a.preventDefault(),this.buffer.redo()):this.keydown.ctrl||h!==this.keyCode.SPACE&&h!==this.keyCode.BACKSPACE&&h!==this.keyCode.DELETE&&(h!==this.keyCode.ENTER||a.ctrlKey||a.shiftKey)||this.buffer.set()},exitFromBlockquote:function(a){return this.utils.isEndOfElement(this.keydown.blockquote)&&
-1!==this.clean.removeSpacesHard(d(this.keydown.blockquote).html()).search(/(<br\s?\/?>){1}$/i)?(a.preventDefault(),d(this.keydown.blockquote).children().last().filter("br").remove(),d(this.keydown.blockquote).children().last().filter("span").remove(),a=d(this.opts.emptyHtml),d(this.keydown.blockquote).after(a),this.caret.start(a),!0):void 0},onArrowDown:function(){for(var a=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],h=0;h<a.length;h++)if(a[h])return this.keydown.insertAfterLastElement(a[h]),
!1},onArrowUp:function(){for(var a=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],h=0;h<a.length;h++)if(a[h])return this.keydown.insertBeforeFirstElement(a[h]),!1},insertAfterLastElement:function(a){var h;this.utils.isEndOfElement(a)&&(h=this.core.editor().contents().last(),0===("FIGCAPTION"===a.tagName?d(this.keydown.block).parent():d(this.keydown.block)).next().length)&&(0===h.length&&h[0]!==a?this.caret.start(h):(h=d(this.opts.emptyHtml),("FIGCAPTION"===a.tagName?d(a).parent():
d(a)).after(h),this.caret.start(h)))},insertBeforeFirstElement:function(a){var h;!this.utils.isStartOfElement()||1<this.core.editor().contents().length&&this.core.editor().contents().first()[0]!==a||(h=d(this.opts.emptyHtml),d(a).before(h),this.caret.start(h))},onTab:function(a,h){if(!this.opts.tabKey)return!0;var f=this.keydown.block&&"LI"===this.keydown.block.tagName;if(this.utils.isEmpty(this.code.get())||!f&&!this.keydown.pre&&!1===this.opts.tabAsSpaces)return!0;a.preventDefault();this.buffer.set();
var g;f=f&&this.utils.isStartOfElement(this.keydown.block);return this.keydown.pre&&!a.shiftKey?(g=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join("\u00a0")):document.createTextNode("\t"),this.insert.node(g)):!1===this.opts.tabAsSpaces||f?a.metaKey&&219===h||(!a.metaKey||221!==h)&&a.shiftKey?this.indent.decrease():this.indent.increase():(g=document.createTextNode(Array(this.opts.tabAsSpaces+1).join("\u00a0")),this.insert.node(g)),!1},setupSelectAll:function(a,h){this.keydown.ctrl&&
65===h?this.utils.enableSelectAll():(this.keydown.ctrl&&(35==h||36==h||38==h||40==h)||h!==this.keyCode.LEFT_WIN&&!this.keydown.ctrl)&&this.utils.disableSelectAll()},insertNewLine:function(a){a.preventDefault();a=document.createTextNode("\n");var h=this.selection.get();h=this.selection.range(h);return h.deleteContents(),h.insertNode(a),this.caret.after(a),!1},insertParagraph:function(a){a.preventDefault();a=document.createElement("p");var h=(a.innerHTML="<br>",this.selection.get());h=this.selection.range(h);
return h.deleteContents(),h.insertNode(a),this.caret.start(a),!1},insertBreakLine:function(a){return this.keydown.insertBreakLineProcessing(a)},insertDblBreakLine:function(a){return this.keydown.insertBreakLineProcessing(a,!0)},insertBreakLineProcessing:function(a,h){a.stopPropagation();a=document.createElement("br");return this.insert.node(a),!0===h?(h=document.createElement("br"),this.insert.node(h),this.caret.after(h)):this.caret.after(a),!1},wrapToParagraph:function(){var a=d(this.keydown.current),
h=d("<p>").append(a.clone());a=(a.replaceWith(h),d(h).next());void 0!==a[0]&&"BR"===a[0].tagName&&a.remove();this.caret.end(h)},replaceToParagraph:function(a){var h,f=this.selection.block(),g=d(f).prev(),e=f.innerHTML.replace(/<br\s?\/?>/gi,"");return f.tagName===a&&this.utils.isEmpty(e)&&!d(f).hasClass("redactor-in")?(h=document.createElement("p"),d(f).replaceWith(h),this.keydown.setCaretToParagraph(h),!1):"P"===f.tagName?(d(f).removeAttr("class").removeAttr("style"),this.detect.isIe()&&this.utils.isEmpty(e)&&
this.utils.isInline(this.keydown.parent)&&d(f).on("input",d.proxy(function(){var k=this.selection.parent();this.utils.isInline(k)&&(k=d(k).html(),d(f).html(k),this.caret.end(f));d(f).off("keyup")},this)),!1):g.hasClass(this.opts.videoContainerClass)?(g.removeAttr("class"),h=document.createElement("p"),g.replaceWith(h),this.keydown.setCaretToParagraph(h),!1):void 0},setCaretToParagraph:function(a){var h=document.createRange();a=(h.setStart(a,0),document.createTextNode("\u200b"));a=(h.insertNode(a),
h.setStartAfter(a),h.collapse(!0),window.getSelection());a.removeAllRanges();a.addRange(h)},removeInvisibleSpace:function(){var a=d(this.keydown.current);0===a.text().search(/^\u200B$/g)&&a.remove()},removeEmptyListInTable:function(a){var h=d(this.keydown.current),f=d(this.keydown.parent),g=h.closest("td",this.$editor[0]);0!==g.length&&h.closest("li",this.$editor[0])&&1===f.children("li").length&&this.utils.isEmpty(h.text())&&(a.preventDefault(),h.remove(),f.remove(),this.caret.start(g))},removeEmptyLists:function(){function a(){""===
d.trim(this.innerHTML).replace(/\/t\/n/g,"")&&d(this).remove()}this.core.editor().find("li").each(a);this.core.editor().find("ul, ol").each(a)},formatEmpty:function(a){var h=d.trim(this.core.editor().html());if(this.utils.isEmpty(h))return a.preventDefault(),"inline"===this.opts.type||"pre"===this.opts.type?(this.core.editor().html(this.marker.html()),this.selection.restore()):(this.core.editor().html(this.opts.emptyHtml),this.focus.start()),!1}}},keyup:function(){return{init:function(a){if(!this.rtePaste){var h=
a.which;if(this.keyup.block=this.selection.block(),this.keyup.current=this.selection.current(),this.keyup.parent=this.selection.parent(),this.keyup.lastShiftKey=a.shiftKey,!1===this.core.callback("keyup",a))return a.preventDefault(),!1;if(h===this.keyCode.ENTER&&this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&(a=d(this.keyup.block).prev(),0!==a.length&&"FIGURE"===a[0].tagName))return a=this.utils.replaceToTag(a,"p"),void this.caret.start(a);if(h===this.keyCode.BACKSPACE||h===this.keyCode.DELETE){if(this.utils.isSelectAll())return this.focus.start(),
void this.toolbar.setUnfixed();this.keyup.block&&"P"===this.keyup.block.tagName&&(a=d(this.keyup.block).find("img").length,""===d(this.keyup.block).text().replace(/\u200B/g,""))&&0!==a&&this.utils.replaceToTag(this.keyup.block,"figure");this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&0===d(this.keyup.block).find("img").length&&(this.selection.save(),this.utils.replaceToTag(this.keyup.block,"p"),this.selection.restore())}this.linkify.isKey(h)&&(this.selection.save(),this.linkify.format(),this.selection.restore())}}}},
lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(a){return void 0!==this.opts.curLang[a]?this.opts.curLang[a]:""}}},line:function(){return{insert:function(){this.buffer.set();this.insert.html(this.line.getLineHtml());var a=this.core.editor().find("#redactor-hr-tmp-id");return a.removeAttr("id"),this.core.callback("insertedLine",a),a},getLineHtml:function(){var a='<hr id="redactor-hr-tmp-id" />';return!this.detect.isFirefox()&&this.utils.isEmpty()&&
(a+="<p>"+this.opts.emptyHtml+"</p>"),a},removeOnBackspace:function(a){var h;this.utils.isCollapsed()&&0!==(h=d(this.selection.block())).length&&this.utils.isStartOfElement(h)&&(h=h.prev())&&0!==h.length&&"HR"===h[0].tagName&&(a.preventDefault(),h.remove())}}},link:function(){return{get:function(){return d(this.selection.inlines("a"))},is:function(){var a=this.selection.nodes(),h=d(this.selection.current()).closest("a",this.core.editor()[0]);return!(0===h.length||1<a.length)&&h},unlink:function(a){void 0!==
a&&a.preventDefault&&a.preventDefault();this.buffer.set();a=this.selection.inlines("a");0!==a.length&&(a=this.link.replaceLinksToText(a),this.observe.closeAllTooltip(),this.core.callback("deletedLink",a))},insert:function(a,h){var f=this.link.is();return(!0===h||!1!==(a=this.link.buildLinkFromObject(f,a)))&&(this.buffer.set(),a=this.core.callback("beforeInsertingLink",a),!1===f?(f=d("<a />"),f=this.link.update(f,a),h=(f=d(this.insert.node(f))).parent(),!1===this.utils.isRedactorParent(h)&&f.wrap("<p>"),
h.hasClass("redactor-unlink")&&h.replaceWith(function(){return d(this).contents()}),this.caret.after(f),this.core.callback("insertedLink",f)):(f=this.link.update(f,a),this.caret.after(f)),f)},update:function(a,h){return a.text(h.text),a.attr("href",h.url),this.link.target(a,h.target),a},target:function(a,h){return h?a.attr("target","_blank"):a.removeAttr("target")},show:function(a){void 0!==a&&a.preventDefault&&a.preventDefault();this.observe.closeAllTooltip();a=this.link.linkEl();var h=(this.link.buildModal(a),
this.link.buildLinkFromElement(a));h.url=this.link.removeSelfHostFromUrl(h.url);this.opts.linkNewTab&&!a&&(h.target=!0);this.link.setModalValues(h);this.modal.show();this.detect.isDesktop()&&d("#redactor-link-url").focus()},linkEl:function(){var a=d(this.selection.current()).closest("a",this.core.editor()[0]);return 0!==(a=0===a.length?d(d.parseHTML(this.selection.html())).closest("a",this.core.editor()[0]):a).length&&a},setModalValues:function(a){d("#redactor-link-blank").prop("checked",a.target);
d("#redactor-link-url").val(a.url);d("#redactor-link-url-text").val(a.text)},buildModal:function(a){this.modal.load("link",this.lang.get(!1===a?"link-insert":"link-edit"),600);this.modal.getActionButton().text(this.lang.get(!1===a?"insert":"save")).on("click",d.proxy(this.link.callback,this))},callback:function(){var a=this.link.buildLinkFromModal();if(!1===a)return!1;this.modal.close();this.link.insert(a,!0)},cleanUrl:function(a){return void 0===a?"":d.trim(a.replace(/[^\W\w\D\d+&'@#/%?=~_|!:,.;\(\)]/gi,
""))},cleanText:function(a){return void 0===a?"":d.trim(a)},getText:function(a){return""===a.text&&""!==a.url?this.link.truncateUrl(a.url.replace(/<|>/g,"")):a.text},isUrl:function(a){var h=/^(https?|ftp|wss?|irc|skype|whatsapp|chrome|ssh):\/\/([^\s/$.?#].[^\s]*)$/i,f=/\.(html|php)$/i,g=/^(tel|geo|sms|magnet|skype|blob):(.*?)$/i;return h.test(a)||!/^[^\s/$.?#].[^\s]*$/i.test(a)||f.test(a)||"/"===a.substring(0,1)||g.test(a)||(a="https://"+a),!(!h.test(a)&&!f.test(a)&&-1===a.search(g))&&a},isMailto:function(a){return-1!==
a.search("@")&&!1===/(http|ftp|https|ssh):\/\//i.test(a)},isEmpty:function(a){return""===a.url||""===a.text&&""===a.url},truncateUrl:function(a){return a.length>this.opts.linkSize?a.substring(0,this.opts.linkSize)+"...":a},parse:function(a){return this.link.isMailto(a.url)?a.url="mailto:"+a.url.replace("mailto:",""):0!==a.url.search("#")&&this.opts.linkValidation&&(a.url=this.link.isUrl(a.url)),!this.link.isEmpty(a)&&!1!==a.url&&a},buildLinkFromModal:function(){var a={};return a.url=this.link.cleanUrl(d("#redactor-link-url").val()),
a.text=this.link.cleanText(d("#redactor-link-url-text").val()),a.text=this.link.getText(a),a.target=!!d("#redactor-link-blank").prop("checked"),this.link.parse(a)},buildLinkFromObject:function(a,h){return h.url=this.link.cleanUrl(h.url),h.text=void 0===h.text&&this.selection.is()?this.selection.text():this.link.cleanText(h.text),h.text=this.link.getText(h),h.target=!1===a?h.target:this.link.buildTarget(a),this.link.parse(h)},buildLinkFromElement:function(a){var h={url:"",text:this.selection.is()?
this.selection.text():"",target:!1};return!1!==a&&(h.url=a.attr("href"),h.text=h.text||a.text(),h.target=this.link.buildTarget(a)),h},buildTarget:function(a){return void 0!==a.attr("target")&&"_blank"===a.attr("target")},removeSelfHostFromUrl:function(a){var h=self.location.href.replace("#","").replace(/\/$/i,"");return a.replace(/^\/#/,"#").replace(h,"").replace("mailto:","")},replaceLinksToText:function(a){var h,f=d.each(a,function(g,e){e=d(e);var k=d('<span class="redactor-unlink" />').append(e.contents());
return e.replaceWith(k),0===g&&(h=k),e});return 1===a.length&&this.selection.isCollapsed()&&this.caret.after(h),f}}},linkify:function(){return{isKey:function(a){return a===this.keyCode.ENTER||a===this.keyCode.SPACE},isLink:function(a){return a.nodeValue.match(this.opts.regexps.linkyoutube)||a.nodeValue.match(this.opts.regexps.linkvimeo)||a.nodeValue.match(this.opts.regexps.linkvimeochannel)||a.nodeValue.match(this.opts.regexps.linkimage)||a.nodeValue.match(this.opts.regexps.url)},isFiltered:function(a,
h){var f;return 3===h.nodeType&&""!==(f=d.trim(h.nodeValue))&&!RegExp("\x3c/script|style|svg>").test(f)&&!d(h).parent().is("pre")&&this.linkify.isLink(h)},handler:function(a,h){h=d(h);a=h.text();var f=(f=a).match(this.opts.regexps.linkyoutube)||f.match(this.opts.regexps.linkvimeo)||f.match(this.opts.regexps.linkvimeochannel)?this.linkify.convertVideoLinks(f):f.match(this.opts.regexps.linkimage)?this.linkify.convertImages(f):this.linkify.convertLinks(f);h.before(a.replace(a,f)).remove()},format:function(){var a,
h;this.opts.linkify&&!this.utils.isCurrentOrParent("pre")&&(this.core.editor().find(":not(iframe,img,a,pre,code,.redactor-unlink)").addBack().contents().filter(d.proxy(this.linkify.isFiltered,this)).each(d.proxy(this.linkify.handler,this)),h=this.core.editor().find(".redactor-linkify-object").each(d.proxy(function(f,g){return(a=d(g)).removeClass("redactor-linkify-object"),""===a.attr("class")&&a.removeAttr("class"),"DIV"===g.tagName?this.linkify.breakBlockTag(a,"video"):"IMG"===g.tagName?this.linkify.breakBlockTag(a,
"image"):"A"===g.tagName&&this.core.callback("insertedLink",a),a},this)),setTimeout(d.proxy(function(){this.code.sync();this.core.callback("linkify",h)},this),100))},breakBlockTag:function(a,h){var f,g=this.utils.breakBlockTag();!1!==g&&(f=a,"image"===h&&(f=d("<figure />").append(a)),"start"===g.type?g.$block.before(f):g.$block.after(f),"image"===h)&&this.caret.after(f)},convertVideoLinks:function(a){var h='<div class="'+this.opts.videoContainerClass+' redactor-linkify-object"><iframe class="redactor-linkify-object" width="500" height="281" src="';
return(a=(a=a.match(this.opts.regexps.linkyoutube)?a.replace(this.opts.regexps.linkyoutube,h+'//www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe></div>'):a).match(this.opts.regexps.linkvimeo)?a.replace(this.opts.regexps.linkvimeo,h+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):a).match(this.opts.regexps.linkvimeochannel)?a.replace(this.opts.regexps.linkvimeochannel,h+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):
a},convertImages:function(a){var h=a.match(this.opts.regexps.linkimage);return h?a.replace(a,'<img src="'+h+'" class="redactor-linkify-object" />'):a},convertLinks:function(a){var h=a.match(this.opts.regexps.url);if(h)for(var f=(h=d.grep(h,function(m,n){return d.inArray(m,h)===n})).length,g=0;g<f;g++){var e=h[g],k=e,p=null!==e.match(/(https?|ftp):\/\//i)?"":"http://",u=(-1===(k=k.length>this.opts.linkSize?k.substring(0,this.opts.linkSize)+"...":k).search("%")&&(k=decodeURIComponent(k)),"\\b");u=(-1!==
d.inArray(e.slice(-1),["/","&","="])&&(u=""),new RegExp("("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+u+")","g"));var c="";!1!==this.opts.pasteLinkTarget&&(c=' target="'+this.opts.pasteLinkTarget+'"');a=a.replace(u,'<a href="'+p+d.trim(e)+'"'+c+' class="redactor-linkify-object">'+d.trim(k)+"</a>")}return a}}},list:function(){return{toggle:function(a){if(!this.utils.inBlocks(["table","td","th","tr"])){var h,f,g,e,k,p,u="orderedlist"===a||"ol"===a?"OL":"UL",c=(a="OL"==u?"orderedlist":
"unorderedlist",d(this.selection.current()).parentsUntil(".redactor-in","ul, ol").first()),m=d(this.selection.current()).parentsUntil(".redactor-in","li").first();if(this.placeholder.hide(),this.buffer.set(),""===this.selection.html()&&0!==m.length&&m[0].parentNode.tagName===u&&this.utils.isRedactorParent(m))return h=d(m[0]).prev(),f=d(m[0]).next(),g=m.html(),e=d(m[0].parentNode),this.selection.save(),!h.length&&f.length?(m.remove(),void e.before(d("<p />").append(g))):h.length&&f.length?(m.replaceWith(function(){return"-~=REMOVED+ITEM=~-"}),
p=this.selection.current(),k=d(p)[0].outerHTML.replace(/-~=REMOVED\+ITEM=~-/g,"</"+u+">\n\n<p>"+g+"</p>\n\n<"+u+">"),d(p).replaceWith(function(){return k})):h.length&&!f.length?(m.remove(),void e.after(d("<p />").append(g))):void(h.length||f.length||this.indent.decrease());0!==c.length&&c[0].tagName===u&&this.utils.isRedactorParent(c)?(this.selection.save(),c.find("ul, ol").each(function(){var n=d(this).closest("li");d(this).find("li").each(function(){d(n).after(this)})}),c.find("ul, ol").remove(),
c.find("li").each(function(){return d(this).replaceWith(function(){return d("<p />").append(d(this).contents())})}),c.replaceWith(function(){return d(this).contents()}),this.selection.restore()):(this.selection.save(),0!==c.length&&c[0].tagName!==u?c.each(d.proxy(function(n,w){this.utils.replaceToTag(w,u)},this)):document.execCommand("insert"+a),this.selection.restore(),(p=this.list.get())?(p.find("span").replaceWith(function(){return d(this).contents()}),p.find(this.opts.inlineTags.join(",")).each(function(){d(this).removeAttr("style")}),
m=p.parent(),this.utils.isRedactorParent(m)&&"LI"!==m[0].tagName&&this.utils.isBlock(m)&&(this.selection.save(),m.replaceWith(m.contents()),this.selection.restore())):this.selection.block()||document.execCommand("formatblock",!1,"p"))}},get:function(){var a=this.selection.current();a=d(a).closest("ul, ol",this.core.editor()[0]);return 0!==a.length&&a},combineAfterAndBefore:function(a){var h=d(a).prev(),f=d(a).next();a=a&&"P"===a.tagName&&("<br>"===a.innerHTML||""===a.innerHTML);var g=1===h.closest("ol, ul",
this.core.editor()[0]).length&&1===f.closest("ol, ul",this.core.editor()[0]).length;return!(!a||!g||(h.children("li").last().append(this.marker.get()),h.append(f.contents()),this.selection.restore(),0))}}},marker:function(){return{get:function(a){a=void 0===a?1:a;var h=document.createElement("span");return h.id="selection-marker-"+a,h.className="redactor-selection-marker",h.innerHTML=this.opts.invisibleSpace,h},html:function(a){return this.utils.getOuterHtml(this.marker.get(a))},find:function(a){return a=
void 0===a?1:a,this.core.editor().find("span#selection-marker-"+a)},insert:function(){var a=this.selection.get();a=this.selection.range(a);this.marker.insertNode(a,this.marker.get(1),!0);a&&!1===a.collapsed&&this.marker.insertNode(a,this.marker.get(2),!1)},remove:function(){this.core.editor().find(".redactor-selection-marker").each(this.marker.iterateRemove)},insertNode:function(a,h,f){var g=this.selection.parent();if(null!==a&&0!==d(g).closest(".redactor-in").length){a=a.cloneRange();try{a.collapse(f),
a.insertNode(h)}catch(e){this.focus.start()}}},iterateRemove:function(a,h){h=d(h);a=h.text().replace(/\u200B/g,"");h.parent()[0];""===a?h.remove():h.replaceWith(function(){return d(this).contents()})}}},modal:function(){return{callbacks:{},templates:function(){this.opts.modal={"image-edit":String()+'<div class="redactor-modal-tab redactor-group" data-title="'+this.lang.get("general")+'"><div id="redactor-image-preview" class="redactor-modal-tab-side"></div><div class="redactor-modal-tab-area"><section><label>'+
this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /></section><section><label>'+this.lang.get("caption")+'</label><input type="text" id="redactor-image-caption" aria-label="'+this.lang.get("caption")+'" /></section><section><label>'+this.lang.get("link")+'</label><input type="text" id="redactor-image-link" aria-label="'+this.lang.get("link")+'" /></section><section><label class="redactor-image-position-option">'+this.lang.get("image-position")+'</label><select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+
this.lang.get("image-position")+'"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+this.lang.get("right")+'</option></select></section><section><label class="checkbox"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get("link-in-new-tab")+'"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+
this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+'</button><button id="redactor-modal-button-delete" class="redactor-modal-button-offset">'+this.lang.get("delete")+"</button></section></div></div>",image:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("upload")+'"><section><div id="redactor-modal-image-droparea"></div></section></div>',file:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("upload")+'"><section><label>'+
this.lang.get("filename")+' <span class="desc">('+this.lang.get("optional")+')</span></label><input type="text" id="redactor-filename" aria-label="'+this.lang.get("filename")+'" /><br><br></section><section><div id="redactor-modal-file-upload"></div></section></div>',link:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("general")+'"><section><label>URL</label><input type="url" id="redactor-link-url" aria-label="URL" /></section><section><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" aria-label="'+
this.lang.get("text")+'" /></section><section><label class="checkbox"><input type="checkbox" id="redactor-link-blank"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"};d.extend(this.opts,this.opts.modal)},addCallback:function(a,h){this.modal.callbacks[a]=h},addTemplate:function(a,h){this.opts.modal[a]=h},getTemplate:function(a){return this.opts.modal[a]},
getModal:function(){return this.$modalBody},getActionButton:function(){return this.$modalBody.find("#redactor-modal-button-action")},getCancelButton:function(){return this.$modalBody.find("#redactor-modal-button-cancel")},getDeleteButton:function(){return this.$modalBody.find("#redactor-modal-button-delete")},load:function(a,h,f){void 0!==this.$modalBox&&this.$modalBox.hasClass("open")||(this.modal.templateName=a,this.modal.width=f,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(h),
this.modal.setDraggable(),this.modal.setContent(),void 0!==this.modal.callbacks[a]&&this.modal.callbacks[a].call(this))},show:function(){this.detect.isDesktop()||document.activeElement.blur();this.selection.save();this.modal.buildTabber();this.detect.isMobile()&&(this.modal.width="96%");setTimeout(d.proxy(this.modal.buildWidth,this),0);d(window).on("resize.redactor-modal",d.proxy(this.modal.buildWidth,this));this.$modalOverlay.redactorAnimation("fadeIn",{duration:.25});this.$modalBox.addClass("open").show();
this.$modal.redactorAnimation("fadeIn",{timing:"cubic-bezier(0.175, 0.885, 0.320, 1.105)"},d.proxy(function(){this.utils.saveScroll();this.utils.disableBodyScroll();this.core.callback("modalOpened",this.modal.templateName,this.$modal);d(document).off("focusin.modal");this.$modal.find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor-modal",d.proxy(this.modal.setEnter,this))},this))},buildWidth:function(){var a=d(window).height(),h=d(window).width(),f="number"==typeof this.modal.width;
h=(!f&&this.modal.width.match(/%$/)?this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}):parseInt(this.modal.width)>h?this.$modal.css({width:"96%","margin-bottom":"2%"}):(f&&(this.modal.width+="px"),this.$modal.css({width:this.modal.width,"margin-bottom":"16px"})),this.$modal.outerHeight());f=a/2-h/2+"px";this.detect.isMobile()?f="2%":a<h&&(f="16px");this.$modal.css("margin-top",f)},buildTabber:function(){this.modal.tabs=this.$modal.find(".redactor-modal-tab");2>this.modal.tabs.length||
(this.modal.$tabsBox=d('<div id="redactor-modal-tabber" />'),d.each(this.modal.tabs,d.proxy(function(a,h){h=d('<a href="#" rel="'+a+'" />').text(d(h).attr("data-title"));h.on("click",d.proxy(this.modal.showTab,this));0===a&&h.addClass("active");this.modal.$tabsBox.append(h)},this)),this.$modalBody.prepend(this.modal.$tabsBox))},showTab:function(a){a.preventDefault();a=d(a.target);var h=a.attr("rel");return this.modal.tabs.hide(),this.modal.tabs.eq(h).show(),d("#redactor-modal-tabber").find("a").removeClass("active"),
a.addClass("active"),!1},setTitle:function(a){this.$modalHeader.html(a)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName));this.modal.getCancelButton().on("mousedown",d.proxy(this.modal.close,this))},setDraggable:function(){void 0!==d.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(a){13===a.which&&(a.preventDefault(),this.modal.getActionButton().click())},build:function(){this.modal.buildOverlay();
this.$modalBox=d('<div id="redactor-modal-box"/>').hide();this.$modal=d('<div id="redactor-modal" role="dialog" />');this.$modalHeader=d('<div id="redactor-modal-header" />');this.$modalClose=d('<button type="button" id="redactor-modal-close" aria-label="'+this.lang.get("close")+'" />').html("&times;");this.$modalBody=d('<div id="redactor-modal-body" />');this.$modal.append(this.$modalHeader);this.$modal.append(this.$modalBody);this.$modal.append(this.$modalClose);this.$modalBox.append(this.$modal);
this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=d('<div id="redactor-modal-overlay">').hide();d("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("mousedown.redactor-modal",d.proxy(this.modal.close,this));d(document).on("keyup.redactor-modal",d.proxy(this.modal.closeHandler,this));this.core.editor().on("keyup.redactor-modal",d.proxy(this.modal.closeHandler,this));this.$modalBox.on("click.redactor-modal",d.proxy(this.modal.close,this))},
disableEvents:function(){this.$modalClose.off("mousedown.redactor-modal");d(document).off("keyup.redactor-modal");this.core.editor().off("keyup.redactor-modal");this.$modalBox.off("click\u00a7.redactor-modal");d(window).off("resize.redactor-modal")},closeHandler:function(a){a.which===this.keyCode.ESC&&this.modal.close(!1)},close:function(a){if(a){if("redactor-modal-button-cancel"!==d(a.target).attr("id")&&a.target!==this.$modalClose[0]&&a.target!==this.$modalBox[0])return;a.preventDefault()}this.$modalBox&&
(this.selection.restore(),this.modal.disableEvents(),this.utils.enableBodyScroll(),this.utils.restoreScroll(),this.$modalOverlay.redactorAnimation("fadeOut",{duration:.4},d.proxy(function(){this.$modalOverlay.remove()},this)),this.$modal.redactorAnimation("fadeOut",{duration:.3,timing:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},d.proxy(function(){void 0!==this.$modalBox&&(this.$modalBox.remove(),this.$modalBox=void 0);this.core.callback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){void 0===
this.opts.destroyed&&(this.observe.links(),this.observe.images())},isCurrent:function(a,h){return(h=void 0===h?d(this.selection.current()):h).is(a)||0<h.parents(a).length},toolbar:function(){this.observe.buttons();this.observe.dropdowns()},buttons:function(a,h){var f=this.selection.current(),g=this.selection.parent();!1!==a?this.button.setInactiveAll():this.button.setInactiveAll(h);!1===a&&"html"!==h?-1!==d.inArray(h,this.opts.activeButtons)&&this.button.toggleActive(h):this.utils.isRedactorParent(f)&&
("none"!==this.core.editor().css("display")&&(this.utils.isCurrentOrParentHeader()||this.utils.isCurrentOrParent(["table","pre","blockquote","li"])?this.button.disable("horizontalrule"):this.button.enable("horizontalrule")),d.each(this.opts.activeButtonsStates,d.proxy(function(e,k){var p=d(g).closest(e,this.$editor[0]),u=d(f).closest(e,this.$editor[0]);0!==p.length&&!this.utils.isRedactorParent(p)||!this.utils.isRedactorParent(u)||0===p.length&&0===u.closest(e,this.$editor[0]).length||this.button.setActive(k)},
this)))},dropdowns:function(){var a=d("<div />").html(this.selection.html()).find("a").length,h=d(this.selection.current()),f=this.utils.isRedactorParent(h);d.each(this.opts.observe.dropdowns,d.proxy(function(g,e){g=e.observe;var k=g.element;e=e.item;var p=void 0!==g.in&&g.in;g=void 0!==g.out&&g.out;0<h.closest(k).length&&f||"a"===k&&0!==a?this.observe.setDropdownProperties(e,p,g):this.observe.setDropdownProperties(e,g,p)},this))},setDropdownProperties:function(a,h,f){f&&void 0!==f.attr&&this.observe.setDropdownAttr(a,
f.attr,!0);void 0!==h.attr&&this.observe.setDropdownAttr(a,h.attr);void 0!==h.title&&a.find("span").text(h.title)},setDropdownAttr:function(a,h,f){d.each(h,function(g,e){"class"===g?f?a.removeClass(e):a.addClass(e):f?a.removeAttr(g):a.attr(g,e)})},addDropdown:function(a,h,f){void 0!==f.observe&&(f.item=a,this.opts.observe.dropdowns.push(f))},images:function(){this.opts.imageEditable&&(this.core.editor().addClass("redactor-layer-img-edit"),this.core.editor().find("img").each(d.proxy(function(a,h){h=
d(h);h.closest("a",this.$editor[0]).on("click",function(f){f.preventDefault()});this.image.setEditable(h)},this)))},links:function(){this.opts.linkTooltip&&this.core.editor().find("a").each(d.proxy(function(a,h){h=d(h);!0!==h.data("cached")&&(h.data("cached",!0),h.on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.showTooltip,this)))},this))},getTooltipPosition:function(a){return a.offset()},showTooltip:function(a){var h,f,g,e,k,p=d(a.target);"IMG"!==p[0].tagName&&
"A"===(p="A"!==p[0].tagName?p.closest("a",this.$editor[0]):p)[0].tagName&&(h=this.observe.getTooltipPosition(p),f=d('<span class="redactor-link-tooltip"></span>'),24<(g=void 0===(g=p.attr("href"))?"":g).length&&(g=g.substring(0,24)+"..."),g=d('<a href="'+p.attr("href")+'" target="_blank" />').html(g).addClass("redactor-link-tooltip-action"),e=d('<a href="#" />').html(this.lang.get("edit")).on("click",d.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),k=d('<a href="#" />').html(this.lang.get("unlink")).on("click",
d.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action"),f.append(g).append(" | ").append(e).append(" | ").append(k),g=parseInt(p.css("line-height"),10),e=Math.ceil((a.pageY-h.top)/g),k=h.top+e*g,f.css({top:k+"px",left:h.left+"px"}),d(".redactor-link-tooltip").remove(),d("body").append(f),this.core.editor().on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.closeTooltip,this)),d(document).on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,
d.proxy(this.observe.closeTooltip,this)))},closeAllTooltip:function(){d(".redactor-link-tooltip").remove()},closeTooltip:function(a){a=(a=a.originalEvent||a).target;var h=d(a).closest("a",this.$editor[0]);0!==h.length&&"A"===h[0].tagName&&"A"!==a.tagName||"A"===a.tagName&&this.utils.isRedactorParent(a)||d(a).hasClass("redactor-link-tooltip-action")||(this.observe.closeAllTooltip(),this.core.editor().off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.closeTooltip,
this)),d(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.closeTooltip,this)))}}},offset:function(){return{get:function(a){var h;a=this.offset.clone(a);return!1===a?0:((h=document.createElement("div")).appendChild(a.cloneContents()),h.innerHTML=h.innerHTML.replace(/<img(.*?[^>])>$/gi,"i"),d.trim(d(h).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"").length)},clone:function(a){var h=this.selection.get();h=this.selection.range(h);if(null===h&&void 0===
a||!1===(a=void 0===a?this.$editor:a))return!1;a=a[0]||a;var f=h.cloneRange();return f.selectNodeContents(a),f.setEnd(h.endContainer,h.endOffset),f},set:function(a,h){h=void 0===h?a:h;this.focus.is()||this.focus.start();for(var f,g=this.selection.get(),e=this.selection.range(g),k=0,p=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);null!==(f=p.nextNode());)if(a<(k+=f.nodeValue.length)&&(e.setStart(f,f.nodeValue.length+a-k),a=1/0),h<=k){e.setEnd(f,f.nodeValue.length+h-k);break}e.collapse(!1);
this.selection.update(g,e)}}},paragraphize:function(){return{load:function(a){return!1===this.opts.paragraphize||"inline"===this.opts.type||"pre"===this.opts.type?a:""===a||"<p></p>"===a?this.opts.emptyHtml:(a+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,a=(a=(a=a.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>")).replace(/<\/pre>/gi,"</pre>\n\n")).replace(/<p>\s<br><\/p>/gi,"<p></p>"),a=(a=this.paragraphize.getSafes(a)).replace("<br>","\n"),a=this.paragraphize.convert(a),a=
this.paragraphize.clear(a),a=(a=this.paragraphize.restoreSafes(a)).replace(new RegExp("<br\\s?/?>\n?<("+this.opts.paragraphizeBlocks.join("|")+")(.*?[^>])>","gi"),"<p><br /></p>\n<$1$2>"),d.trim(a))},getSafes:function(a){a=d("<div />").append(a);return a.find("blockquote p").replaceWith(function(){return d(this).append("<br />").contents()}),a.find(this.opts.paragraphizeBlocks.join(", ")).each(d.proxy(function(h,f){f&&f.tagName&&"iframe"==f.tagName.toLowerCase()&&(f.innerHTML="");h=f.outerHTML;if(f&&
f.tagName)switch(f.tagName.toLowerCase()){case "ul":case "ol":h=(h=(h=h.replace(RegExp("(<brs*?>s*)*<li>(s*<brs*?>)*","gi"),"\n<li>")).replace(RegExp("(<brs*?>s*)*</ul>","gi"),"\n</ul>\n")).replace(RegExp("(<brs*?>s*)*</ol>","gi"),"\n</ol>\n");break;case "table":h=(h=(h=(h=h.replace(RegExp("(<brs*?>s*)*<(tr|td|tbody)>(s*<brs*?>)*","gi"),"\n<$2>")).replace(RegExp("(<brs*?>s*)*</table>","gi"),"\n</table>\n")).replace(RegExp("(<brs*?>s*)*</tbody>","gi"),"\n</tbody>")).replace(RegExp("(<brs*?>s*)*</tr>",
"gi"),"\n</tr>")}return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=h,d(f).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),a.find("span.redactor-selection-marker").each(d.proxy(function(h,f){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=f.outerHTML,d(f).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),a.html()},restoreSafes:function(a){return d.each(this.paragraphize.safes,function(h,f){f=void 0!==f?f.replace(/\$/g,
"&#36;"):f;a=a.replace("#####replace"+h+"#####",f)}),a},convert:function(a){a=(a=(a=(a=a.replace(/\r\n/g,"xparagraphmarkerz")).replace(/\n/g,"xparagraphmarkerz")).replace(/\r/g,"xparagraphmarkerz")).replace(/\s+/g," ");return("<p>"+d.trim(a).replace(/xparagraphmarkerzxparagraphmarkerz/gi,"</p><p>").replace(/xparagraphmarkerz/gi,"<br>")+"</p>").replace("<p></p>","").replace("\r\n\r\n","").replace(/<\/p><p>/g,"</p>\r\n\r\n<p>").replace(RegExp("<br\\s?/?></p>","g"),"</p>").replace(RegExp("<p><br\\s?/?>",
"g"),"<p>").replace(RegExp("<p><br\\s?/?>","g"),"<p>").replace(RegExp("<br\\s?/?></p>","g"),"</p>").replace(/<p>&nbsp;<\/p>/gi,"").replace(/<p>\s?<br>&nbsp;<\/p>/gi,"").replace(/<p>\s?<br>/gi,"<p>")},clear:function(a){return a.replace(/<p>(.*?)#####replace(.*?)#####\s?<\/p>/gi,"<p>$1</p>#####replace$2#####").replace(/(<br\s?\/?>){2,}<\/p>/gi,"</p>").replace(RegExp("</blockquote></p>","gi"),"</blockquote>").replace(RegExp("<p></blockquote>","gi"),"</blockquote>").replace(RegExp("<p><blockquote>","gi"),
"<blockquote>").replace(RegExp("<blockquote></p>","gi"),"<blockquote>").replace(RegExp("<p><p ","gi"),"<p ").replace(RegExp("<p><p>","gi"),"<p>").replace(RegExp("</p></p>","gi"),"</p>").replace(RegExp("<p>\\s?</p>","gi"),"").replace(RegExp("\n</p>","gi"),"</p>").replace(RegExp("<p>\t?\t?\n?<p>","gi"),"<p>").replace(RegExp("<p>\t*</p>","gi"),"")}}},paste:function(){return{init:function(a){this.rtePaste=!0;var h=!("pre"!==this.opts.type&&!this.utils.isCurrentOrParent("pre"));this.detect.isDesktop()&&
!this.paste.pre&&this.opts.clipboardImageUpload&&this.opts.imageUpload&&this.paste.detectClipboardUpload(a)?this.detect.isIe()&&setTimeout(d.proxy(this.paste.clipboardUpload,this),100):(this.utils.saveScroll(),this.selection.save(),this.paste.createPasteBox(h),d(window).on("scroll.redactor-freeze",d.proxy(function(){d(window).scrollTop(this.saveBodyScroll)},this)),setTimeout(d.proxy(function(){var f=this.paste.getPasteBoxCode(h),g=(this.buffer.set(),this.selection.restore(),this.utils.restoreScroll(),
this.clean.getCurrentType(f));f=this.clean.onPaste(f,g);var e=this.core.callback("paste",f);this.paste.insert(void 0===e?f:e,g);this.rtePaste=!1;h&&this.clean.cleanPre();d(window).off("scroll.redactor-freeze")},this),1))},getPasteBoxCode:function(a){a=a?this.$pasteBox.val():this.$pasteBox.html();return this.$pasteBox.remove(),a},createPasteBox:function(a){this.$pasteBox=(a?d("<textarea>"):d("<div>").attr("contenteditable","true")).css({position:"fixed",width:"1px",top:0,left:"-9999px"});this.paste.appendPasteBox();
this.$pasteBox.focus()},appendPasteBox:function(){var a;this.detect.isIe()?this.core.box().append(this.$pasteBox):0<(a=d(".modal-body:visible")).length?a.append(this.$pasteBox):d("body").prepend(this.$pasteBox)},detectClipboardUpload:function(a){var h=(a=a.originalEvent||a).clipboardData;return!this.detect.isIe()&&!this.detect.isFirefox()&&(-1!==h.types.indexOf("public.tiff")?(a.preventDefault(),!1):h.items&&h.items.length?(this.opts.imageUpload&&h.items[0].type.includes("image")&&a.preventDefault(),
null!==(a=h.items[0].getAsFile())&&((h=new FileReader).readAsDataURL(a),h.onload=d.proxy(this.paste.insertFromClipboard,this),!0)):void 0)},clipboardUpload:function(){var a=this.$editor.find("img");d.each(a,d.proxy(function(h,f){var g,e;-1!==f.src.search(/^data:image/i)&&(g=window.FormData?new FormData:null,window.FormData)&&(this.upload.direct=!0,this.upload.type="image",this.upload.url=this.opts.imageUpload,this.upload.callback=d.proxy(function(k){var p;this.detect.isIe()?d(f).wrap(d("<figure />")):
(p=d(f).parent(),this.utils.replaceToTag(p,"figure"),this.caret.after(d(f).parent()));f.src=k.url;this.core.callback("imageUpload",d(f),k)},this),e=this.utils.dataURItoBlob(f.src),g.append("clipboard",1),g.append(this.opts.imageUploadParam,e,this.paste.getImageNameWithExt(e)||"blob"),this.progress.show(),this.upload.send(g,!1),this.code.sync(),this.rtePaste=!1)},this))},insertFromClipboard:function(a){var h,f=window.FormData?new FormData:null;window.FormData&&(this.upload.direct=!0,this.upload.type=
"image",this.upload.url=this.opts.imageUpload,this.upload.callback=this.image.insert,h=this.utils.dataURItoBlob(a.target.result),f.append("clipboard",1),f.append(this.opts.imageUploadParam,h,this.paste.getImageNameWithExt(h)||"blob"),this.progress.show(),this.upload.send(f,a),this.rtePaste=!1)},insert:function(a,h){h.pre?this.insert.raw(a):h.text?this.insert.text(a):this.insert.html(a,h);this.detect.isFirefox()&&this.opts.imageUpload&&this.opts.clipboardImageUpload&&setTimeout(d.proxy(this.paste.clipboardUpload,
this),100)},getImageNameWithExt:function(a){return a.type.includes("image")?"image."+String(a.type).replace("image/",""):null}}},placeholder:function(){return{enable:function(){setTimeout(d.proxy(function(){return this.placeholder.isEditorEmpty()?this.placeholder.show():this.placeholder.hide()},this),this.detect.isMobile()&&this.detect.isSafari()?50:5)},show:function(){this.core.editor().addClass("redactor-placeholder")},update:function(a){this.opts.placeholder=a;this.core.editor().attr("placeholder",
a)},hide:function(){this.core.editor().removeClass("redactor-placeholder")},is:function(){return this.core.editor().hasClass("redactor-placeholder")},init:function(){this.placeholder.enabled()&&(this.utils.isEditorRelative()||this.utils.setEditorRelative(),this.placeholder.build(),this.placeholder.buildPosition(),this.placeholder.enable(),this.placeholder.enableEvents())},enabled:function(){return this.opts.placeholder?this.core.element().attr("placeholder",this.opts.placeholder):this.placeholder.isAttr()},
enableEvents:function(){this.core.editor().on("keydown.redactor-placeholder."+this.uuid,d.proxy(this.placeholder.enable,this))},disableEvents:function(){this.core.editor().off(".redactor-placeholder."+this.uuid)},build:function(){this.core.editor().attr("placeholder",this.core.element().attr("placeholder"))},buildPosition:function(){var a=d("<style />");a.addClass("redactor-placeholder-style-tag");a.html("#"+this.core.id()+".redactor-placeholder::after "+this.placeholder.getPosition());d("head").append(a)},
getPosition:function(){return"{ top: "+this.core.editor().css("padding-top")+"; left: "+this.core.editor().css("padding-left")+"; }"},isEditorEmpty:function(){var a=d.trim(this.core.editor().html()).replace(/[\t\n]/g,"");return-1!==d.inArray(a,["","<p>\u200b</p>","<p>\u200b<br></p>",this.opts.emptyHtmlRendered])},isAttr:function(){return void 0!==this.core.element().attr("placeholder")&&""!==this.core.element().attr("placeholder")},destroy:function(){this.core.editor().removeAttr("placeholder");this.placeholder.hide();
this.placeholder.disableEvents();d(".redactor-placeholder-style-tag").remove()}}},progress:function(){return{$box:null,$bar:null,target:document.body,show:function(){this.progress.is()?this.progress.$box.show():(this.progress.build(),this.progress.$box.redactorAnimation("fadeIn"))},hide:function(){this.progress.is()&&this.progress.$box.redactorAnimation("fadeOut",{duration:.35},d.proxy(this.progress.destroy,this))},update:function(a){this.progress.show();this.progress.$bar.css("width",a+"%")},is:function(){return null!==
this.progress.$box},build:function(){this.progress.$bar=d("<span />");this.progress.$box=d('<div id="redactor-progress" />');this.progress.$box.append(this.progress.$bar);d(this.progress.target).append(this.progress.$box)},destroy:function(){this.progress.is()&&this.progress.$box.remove();this.progress.$box=null;this.progress.$bar=null}}},selection:function(){return{get:function(){return window.getSelection?window.getSelection():document.selection&&"Control"!==document.selection.type?document.selection:
null},range:function(a){return(a=void 0===a?this.selection.get():a).getRangeAt&&a.rangeCount?a.getRangeAt(0):null},is:function(){return!this.selection.isCollapsed()},isRedactor:function(){var a=this.selection.range();return null!==a&&(a=a.startContainer.parentNode,d(a).hasClass("redactor-in")||0!==d(a).parents(".redactor-in").length)?!0:!1},isCollapsed:function(){var a=this.selection.get();return null!==a&&a.isCollapsed},update:function(a,h){null!==h&&(a.removeAllRanges(),a.addRange(h))},current:function(){var a=
this.selection.get();return null!==a&&a.anchorNode},parent:function(){var a=this.selection.current();return null!==a&&a.parentNode},block:function(a){for(a=a||this.selection.current();a;){if(this.utils.isBlockTag(a.tagName))return!d(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},inline:function(a){for(a=a||this.selection.current();a;){if(this.utils.isInlineTag(a.tagName))return!d(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},element:function(a){for(a=a||this.selection.current();a;){if(1===
a.nodeType)return!d(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},prev:function(){return null!==this.selection.current()&&this.selection.current().previousSibling},next:function(){return null!==this.selection.current()&&this.selection.current().nextSibling},blocks:function(a){var h=[];a=this.selection.nodes(a);a=(d.each(a,d.proxy(function(f,g){this.utils.isBlock(g)&&h.push(g)},this)),this.selection.block());return 0===h.length&&!1===a?[]:0===h.length&&!1!==a?[a]:h},inlines:function(a){var h=
[];a=this.selection.nodes(a);a=(d.each(a,d.proxy(function(f,g){this.utils.isInline(g)&&h.push(g)},this)),this.selection.inline());return 0===h.length&&!1===a?[]:0===h.length&&!1!==a?[a]:h},nodes:function(a){var h=void 0===a?[]:d.isArray(a)?a:[a];a=this.selection.get();a=this.selection.range(a);var f=[],g=[];if(this.utils.isCollapsed())f=[this.selection.current()];else{var e=a.startContainer,k=a.endContainer;if(e===k)return[this.selection.parent()];for(;e&&e!==k;)((e=this.selection.nextNode(e))!==
k||0<a.endOffset)&&f.push(e);for(e=a.startContainer;e&&e!==a.commonAncestorContainer;)f.unshift(e),e=e.parentNode}return d.each(f,function(p,u){var c;u&&(c=1===u.nodeType&&u.tagName.toLowerCase(),d(u).hasClass("redactor-script-tag")||d(u).hasClass("redactor-selection-marker")||c&&0!==h.length&&-1===d.inArray(c,h)||g.push(u))}),0===g.length?[]:g},nextNode:function(a){if(a.hasChildNodes())return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null},save:function(){this.marker.insert();
this.savedSel=this.core.editor().html()},restore:function(a){var h=this.marker.find(1),f=this.marker.find(2);this.detect.isFirefox()&&this.core.editor().focus();0!==h.length&&0!==f.length?this.caret.set(h,f):0!==h.length?this.caret.start(h):this.core.editor().focus();!1!==a&&(this.marker.remove(),this.savedSel=!1)},saveInstant:function(){var a,h=this.core.editor()[0],f=h.ownerDocument.defaultView.getSelection();if(f.getRangeAt&&f.rangeCount)return(a=(f=f.getRangeAt(0)).cloneRange()).selectNodeContents(h),
a.setEnd(f.startContainer,f.startOffset),h=a.toString().length,this.saved={start:h,end:h+f.toString().length,node:f.startContainer},this.saved},restoreInstant:function(a){if(void 0!==a||this.saved)if(this.saved=void 0!==a?a:this.saved,a=this.core.editor().find(this.saved.node),0!==a.length&&0===a.text().trim().replace(/\u200B/g,"").length)try{(h=document.createRange()).setStart(a[0],0),(g=window.getSelection()).removeAllRanges(),g.addRange(h)}catch(c){}else{var h,f,g;a=this.core.editor()[0];var e=
a.ownerDocument;g=e.defaultView;var k=0;e=((h=e.createRange()).setStart(a,0),h.collapse(!0),[a]);for(var p=a=!1;!p&&(f=e.pop());)if(3==f.nodeType){var u=k+f.length;!a&&this.saved.start>=k&&this.saved.start<=u&&(h.setStart(f,this.saved.start-k),a=!0);a&&this.saved.end>=k&&this.saved.end<=u&&(h.setEnd(f,this.saved.end-k),p=!0);k=u}else for(u=f.childNodes.length;u--;)e.push(f.childNodes[u]);(g=g.getSelection()).removeAllRanges();g.addRange(h)}},node:function(a){d(a).prepend(this.marker.get(1));d(a).append(this.marker.get(2));
this.selection.restore()},all:function(){this.core.editor().focus();var a=this.selection.get(),h=this.selection.range(a);h.selectNodeContents(this.core.editor()[0]);this.selection.update(a,h)},remove:function(){this.selection.get().removeAllRanges()},replace:function(a){this.insert.html(a)},text:function(){return this.selection.get().toString()},html:function(){var a="",h=this.selection.get();if(h.rangeCount){a=document.createElement("div");for(var f=h.rangeCount,g=0;g<f;++g)a.appendChild(h.getRangeAt(g).cloneContents());
a=this.clean.onGet(a.innerHTML)}return a},extractEndOfNode:function(a){var h=this.selection.get();h=this.selection.range(h);var f=h.cloneRange();return f.selectNodeContents(a),f.setStart(h.endContainer,h.endOffset),f.extractContents()},removeMarkers:function(){this.marker.remove()},marker:function(a){return this.marker.get(a)},markerHtml:function(a){return this.marker.html(a)}}},shortcuts:function(){return{hotkeysSpecialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",
19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",
222:"'"},hotkeysShiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},init:function(a,h){if(!1===this.opts.shortcuts)return!a.ctrlKey&&!a.metaKey||66!==h&&73!==h||a.preventDefault(),!1;d.each(this.opts.shortcuts,d.proxy(function(f,g){this.shortcuts.build(a,f,g)},this))},build:function(a,h,f){var g=d.proxy(function(){this.shortcuts.buildHandler(f)},this);h=h.split(",");for(var e=h.length,k=0;k<e;k++)"string"==
typeof h[k]&&this.shortcuts.handler(a,d.trim(h[k]),g)},buildHandler:function(a){var h;"-1"!==a.func.search(/\./)?void 0!==this[(h=a.func.split("."))[0]]&&this[h[0]][h[1]].apply(this,a.params):this[a.func].apply(this,a.params)},handler:function(a,h,f){h=h.toLowerCase().split(" ");var g=this.shortcuts.hotkeysSpecialKeys[a.keyCode],e=String.fromCharCode(a.which).toLowerCase(),k="",p={};e=(d.each(["alt","ctrl","meta","shift"],function(c,m){a[m+"Key"]&&g!==m&&(k+=m+"+")}),g&&(p[k+g]=!0),e&&(p[k+e]=!0,
p[k+this.shortcuts.hotkeysShiftNums[e]]=!0,"shift+"===k)&&(p[this.shortcuts.hotkeysShiftNums[e]]=!0),h.length);for(var u=0;u<e;u++)if(p[h[u]])return a.preventDefault(),f.apply(this,arguments)}}},storage:function(){return{data:[],add:function(a){a.status=!0;a.url=decodeURI(a.url);this.storage.data[a.url]=a},status:function(a,h){this.storage.data[decodeURI(a)].status=h},observe:function(){var a=this;this.core.editor().find("[data-image]").each(function(h,f){a.storage.add({type:"image",node:f,url:f.src,
id:d(f).attr("data-image")})});this.core.editor().find("[data-file]").each(function(h,f){a.storage.add({type:"file",node:f,url:f.href,id:d(f).attr("data-file")})});this.core.editor().find("[data-s3]").each(function(h,f){a.storage.add({type:"s3",node:f,url:"IMG"===f.tagName?f.src:f.href,id:d(f).attr("data-s3")})})},changes:function(){for(var a in this.storage.data){a=this.storage.data[a];var h="IMG"===a.node.tagName?"src":"href";0===this.core.editor().find("[data-"+a.type+"]["+h+'="'+a.url+'"]').length?
this.storage.status(a.url,!1):this.storage.status(a.url,!0)}return this.storage.data}}},toolbar:function(){return{build:function(){this.button.hideButtons();this.button.hideButtonsOnMobile();this.$toolbarBox=d("<div />").addClass("redactor-toolbar-box");this.$toolbar=this.toolbar.createContainer();this.$toolbarBox.append(this.$toolbar);this.toolbar.append();this.button.$toolbar=this.$toolbar;this.button.setFormatting();this.button.load(this.$toolbar);this.toolbar.setOverflow();this.toolbar.setFixed()},
createContainer:function(){return d("<ul>").addClass("redactor-toolbar").attr({id:"redactor-toolbar-"+this.uuid,role:"toolbar"})},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),d(this.opts.toolbarExternal).html(this.$toolbarBox)):"textarea"===this.opts.type?this.$box.prepend(this.$toolbarBox):this.$element.before(this.$toolbarBox)},setOverflow:function(){this.opts.toolbarOverflow&&this.$toolbar.addClass("redactor-toolbar-overflow")},setFixed:function(){var a;
this.opts.toolbarFixed&&!this.opts.toolbarExternal&&(this.opts.toolbarFixedTarget!==document&&(a=d(this.opts.toolbarFixedTarget),this.toolbar.toolbarOffsetTop=0===a.length?0:this.core.box().offset().top-a.offset().top),a=0!==this.core.box().closest(".modal-body").length?1E3:0,setTimeout(d.proxy(function(){var h=this;this.toolbar.observeScroll(!1);this.detect.isDesktop()?d(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){100>h.core.editor().height()||h.placeholder.isEditorEmpty()||
h.toolbar.observeScroll()}):d(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){100>h.core.editor().height()||h.placeholder.isEditorEmpty()||(h.core.toolbar().hide(),clearTimeout(d.data(this,"scrollCheck")),d.data(this,"scrollCheck",setTimeout(function(){h.core.toolbar().show();h.toolbar.observeScroll()},250)))})},this),a))},setUnfixed:function(){this.toolbar.observeScrollDisable()},getBoxTop:function(){return this.opts.toolbarFixedTarget===document?this.core.box().offset().top:
this.toolbar.toolbarOffsetTop},observeScroll:function(a){var h=0;a=(!1!==a&&(h=this.opts.toolbarFixedTarget===document?20:0),d(this.opts.toolbarFixedTarget).scrollTop());var f=this.toolbar.getBoxTop();a!==f&&(a+this.opts.toolbarFixedTopOffset+h>f?this.toolbar.observeScrollEnable(a,f):this.toolbar.observeScrollDisable())},observeScrollResize:function(){this.$toolbar.css({width:this.core.box().innerWidth(),left:this.core.box().offset().left})},observeScrollEnable:function(a,h){var f,g,e,k,p;void 0!==
this.fullscreen&&!1===this.fullscreen.isOpened?this.toolbar.observeScrollDisable():(f=h+this.core.box().outerHeight()-32,g=this.core.box().innerWidth(),e=this.detect.isDesktop()?"fixed":"absolute",k=this.detect.isDesktop()?this.opts.toolbarFixedTopOffset:d(this.opts.toolbarFixedTarget).scrollTop()-h+this.opts.toolbarFixedTopOffset,p=this.detect.isDesktop()?this.core.box().offset().left:0,this.opts.toolbarFixedTarget!==document&&(e="absolute",k=this.opts.toolbarFixedTopOffset+d(this.opts.toolbarFixedTarget).scrollTop()-
h,p=0),this.$toolbar.addClass("toolbar-fixed-box"),this.$toolbar.css({position:e,width:g,top:k,left:p}),f<a&&d(".redactor-dropdown-"+this.uuid+":visible").hide(),this.toolbar.setDropdownsFixed(),this.$toolbar.css("visibility",a<f?"visible":"hidden"),d(window).on("resize.redactor-toolbar."+this.uuid,d.proxy(this.toolbar.observeScrollResize,this)))},observeScrollDisable:function(){this.$toolbar.css({position:"relative",width:"auto",top:0,left:0,visibility:"visible"});this.toolbar.unsetDropdownsFixed();
this.$toolbar.removeClass("toolbar-fixed-box");d(window).off("resize.redactor-toolbar."+this.uuid)},setDropdownsFixed:function(){var a=this.opts.toolbarFixedTarget===document&&this.detect.isDesktop()?"fixed":"absolute";this.toolbar.setDropdownPosition(a)},unsetDropdownsFixed:function(){this.toolbar.setDropdownPosition("absolute")},setDropdownPosition:function(a){var h=this;d(".redactor-dropdown-"+this.uuid).each(function(){var f=d(this),g=h.button.get(f.attr("rel")),e="fixed"===a?h.opts.toolbarFixedTopOffset:
g.offset().top;f.css({position:a,top:g.innerHeight()+e+"px"})})}}},upload:function(){return{init:function(a,h,f){this.upload.direct=!1;this.upload.callback=f;this.upload.url=h;this.upload.$el=d(a);this.upload.$droparea=d('<div id="redactor-droparea" />');this.upload.$placeholdler=d('<div id="redactor-droparea-placeholder" />').text(this.lang.get("upload-label"));this.upload.$input=d('<input type="file" name="file" multiple />');this.upload.$placeholdler.append(this.upload.$input);this.upload.$droparea.append(this.upload.$placeholdler);
this.upload.$el.append(this.upload.$droparea);this.upload.$droparea.off("redactor.upload");this.upload.$input.off("redactor.upload");this.upload.$droparea.on("dragover.redactor.upload",d.proxy(this.upload.onDrag,this));this.upload.$droparea.on("dragleave.redactor.upload",d.proxy(this.upload.onDragLeave,this));this.upload.$input.on("change.redactor.upload",d.proxy(function(g){g=g.originalEvent||g;for(var e=this.upload.$input[0].files.length,k=0;k<e;k++)this.upload.traverseFile(this.upload.$input[0].files[e-
1-k],g)},this));this.upload.$droparea.on("drop.redactor.upload",d.proxy(function(g){g.preventDefault();this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop");this.upload.onDrop(g)},this))},directUpload:function(a,h){this.upload.direct=!0;this.upload.traverseFile(a,h)},onDrop:function(a){var h=(a=a.originalEvent||a).dataTransfer.files;if(this.opts.multipleImageUpload)for(var f=h.length,g=0;g<f;g++)this.upload.traverseFile(h[g],a);else this.upload.traverseFile(h[0],a)},traverseFile:function(a,
h){if(this.opts.s3)return this.upload.setConfig(a),this.upload.url?void this.uploads3.send(a,h):void 0;var f=window.FormData?new FormData:null;if(window.FormData){if(this.upload.setConfig(a),!this.upload.url)return;f.append("image"===this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam,a)}this.progress.show();!1!==this.core.callback("uploadStart",h,f)&&this.upload.send(f,h)},setConfig:function(a){this.upload.getType(a);this.upload.direct&&(this.upload.url="image"===this.upload.type?
this.opts.imageUpload:this.opts.fileUpload,this.upload.callback=("image"===this.upload.type?this.image:this.file).insert)},getType:function(a){this.upload.type=-1===this.opts.imageTypes.indexOf(a.type)?"file":"image";null===this.opts.imageUpload&&null!==this.opts.fileUpload&&(this.upload.type="file")},getHiddenFields:function(a,h){return!1!==a&&"object"==typeof a&&d.each(a,d.proxy(function(f,g){null!==g&&0===g.toString().indexOf("#")&&(g=d(g).val());h.append(f,g)},this)),h},send:function(a,h){a="image"===
this.upload.type?(a=this.utils.appendFields(this.opts.imageUploadFields,a),a=this.utils.appendForms(this.opts.imageUploadForms,a),this.upload.getHiddenFields(this.upload.imageFields,a)):(this.opts.fileUploadFields||(this.opts.fileUploadFields={}),!this.opts.fileUploadFields._csrf&&this.opts.imageUploadFields&&this.opts.imageUploadFields._csrf&&(this.opts.fileUploadFields._csrf=this.opts.imageUploadFields._csrf),a=this.utils.appendFields(this.opts.fileUploadFields,a),a=this.utils.appendForms(this.opts.fileUploadForms,
a),this.upload.getHiddenFields(this.upload.fileFields,a));var f=new XMLHttpRequest;f.open("POST",this.upload.url);f.setRequestHeader("X-Requested-With","XMLHttpRequest");f.onreadystatechange=d.proxy(function(){if(4===f.readyState){var g=f.responseText;g=(g=g.replace(/^\[/,"")).replace(/\]$/,"");try{var e="string"==typeof g?JSON.parse(g):g}catch(k){e={error:!0}}this.progress.hide();this.upload.direct||this.upload.$droparea.removeClass("drag-drop");"object"==typeof e&&e&&"fail"===e.status||this.upload.callback(e,
this.upload.direct,h)}},this);!1!==this.core.callback("uploadBeforeSend",f)&&f.send(a)},onDrag:function(a){a.preventDefault();this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(a){a.preventDefault();this.upload.$droparea.removeClass("drag-hover")},clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(a,h){this.upload.imageFields[a]=h},removeImageFields:function(a){delete this.upload.imageFields[a]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(a,
h){this.upload.fileFields[a]=h},removeFileFields:function(a){delete this.upload.fileFields[a]}}},uploads3:function(){return{send:function(a,h){this.uploads3.executeOnSignedUrl(a,d.proxy(function(f){this.uploads3.sendToS3(a,f,h)},this))},executeOnSignedUrl:function(a,h){var f=new XMLHttpRequest,g=-1===this.opts.s3.search(/\?/)?"?":"&",e=(f.open("GET",this.opts.s3+g+"name="+a.name+"&type="+a.type,!0),f.overrideMimeType&&f.overrideMimeType("text/plain; charset=x-user-defined"),this);f.onreadystatechange=
function(k){4===this.readyState&&200===this.status&&(e.progress.show(),h(decodeURIComponent(this.responseText)))};f.send()},createCORSRequest:function(a,h){var f=new XMLHttpRequest;return"withCredentials"in f?f.open(a,h,!0):"undefined"!=typeof XDomainRequest?(f=new XDomainRequest).open(a,h):f=null,f},sendToS3:function(a,h,f){var g=this.uploads3.createCORSRequest("PUT",h);g&&(g.onload=d.proxy(function(){if(this.progress.hide(),200!==g.status)this.upload.callback({error:!0},this.upload.direct,g);else{var e=
h.split("?");if(!e[0])return!1;this.upload.direct||this.upload.$droparea.removeClass("drag-drop");var k={url:e[0],id:e[0],s3:!0};"file"===this.upload.type&&(e=e[0].split("/"),k.name=e[e.length-1]);this.upload.callback(k,this.upload.direct,f)}},this),g.onerror=function(){},g.upload.onprogress=function(e){},g.setRequestHeader("Content-Type",a.type),g.setRequestHeader("x-amz-acl","public-read"),g.send(a))}}},utils:function(){return{isEmpty:function(a){return a=(a=(a=(a=(a=(a=(a=(a=(a=(a=void 0===a?this.core.editor().html():
a).replace(/[\u200B-\u200D\uFEFF]/g,"")).replace(/&nbsp;/gi,"")).replace(/<\/?br\s?\/?>/g,"")).replace(/\s/g,"")).replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,"")).replace(/<iframe(.*?[^>])>$/i,"iframe")).replace(/<source(.*?[^>])>$/i,"source")).replace(/<[^\/>][^>]*><\/[^>]+>/gi,"")).replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),""===d.trim(a)},isElement:function(a){try{return a instanceof HTMLElement}catch(h){return"object"==typeof a&&1===a.nodeType&&"object"==typeof a.style&&"object"==typeof a.ownerDocument}},
strpos:function(a,h,f){a=a.indexOf(h,f);return 0<=a&&a},dataURItoBlob:function(a){var h=(0<=a.split(",")[0].indexOf("base64")?atob:unescape)(a.split(",")[1]);a=a.split(",")[0].split(":")[1].split(";")[0];for(var f=new Uint8Array(h.length),g=0;g<h.length;g++)f[g]=h.charCodeAt(g);return new Blob([f],{type:a})},getOuterHtml:function(a){return d("<div>").append(d(a).eq(0).clone()).html()},cloneAttributes:function(a,h){a=a[0]||a;h=d(h);a=a.attributes;for(var f=a.length;f--;){var g=a[f];h.attr(g.name,g.value)}return h},
breakBlockTag:function(){var a,h,f=this.selection.block();return!!f&&(a=this.utils.isEmpty(f.innerHTML),"pre"!==(h=f.tagName.toLowerCase()))&&"li"!==h&&"td"!==h&&"th"!==h&&(!a&&this.utils.isStartOfElement(f)?{$block:d(f),$next:d(f).next(),type:"start"}:!a&&this.utils.isEndOfElement(f)?{$block:d(f),$next:d(f).next(),type:"end"}:(a=this.selection.extractEndOfNode(f),h=d("<"+h+" />").append(a),h=this.utils.cloneAttributes(f,h),d(f).after(h),{$block:d(f),$next:h,type:"break"}))},inBlocks:function(a){a=
d.isArray(a)?a:[a];for(var h,f=this.selection.blocks(),g=f.length,e=!1,k=0;k<g;k++)!1!==f[k]&&(h=f[k].tagName.toLowerCase(),-1!==d.inArray(h,a))&&(e=!0);return e},inInlines:function(a){a=d.isArray(a)?a:[a];for(var h=this.selection.inlines(),f=h.length,g=!1,e=0;e<f;e++){var k=h[e].tagName.toLowerCase();-1!==d.inArray(k,a)&&(g=!0)}return g},isTag:function(a,h){a=d(a).closest(h,this.core.editor()[0]);return 1===a.length&&a[0]},isBlock:function(a){return null!==a&&(a=a[0]||a)&&this.utils.isBlockTag(a.tagName)},
isBlockTag:function(a){return void 0!==a&&this.reIsBlock.test(a)},isInline:function(a){return(a=a[0]||a)&&this.utils.isInlineTag(a.tagName)},isInlineTag:function(a){return void 0!==a&&this.reIsInline.test(a)},isRedactorParent:function(a){return!!a&&0!==d(a).parents(".redactor-in").length&&!d(a).hasClass("redactor-in")&&a},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent("H1 H2 H3 H4 H5 H6".split(" "))},isCurrentOrParent:function(a){var h,f=this.selection.parent(),g=this.selection.current();
return d.isArray(a)?(h=0,d.each(a,d.proxy(function(e,k){this.utils.isCurrentOrParentOne(g,f,k)&&h++},this)),0!==h):this.utils.isCurrentOrParentOne(g,f,a)},isCurrentOrParentOne:function(a,h,f){return f=f.toUpperCase(),h&&h.tagName===f?h:!(!a||a.tagName!==f)&&a},isEditorRelative:function(){var a=this.core.editor().css("position");return-1!==d.inArray(["absolute","fixed","relative"],a)},setEditorRelative:function(){this.core.editor().addClass("redactor-relative")},getScrollTarget:function(){var a=d(this.opts.scrollTarget);
return 0!==a.length?a:d(document)},freezeScroll:function(){this.freezeScrollTop=this.utils.getScrollTarget().scrollTop();this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},unfreezeScroll:function(){void 0!==this.freezeScrollTop&&this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},saveScroll:function(){this.tmpScrollTop=this.utils.getScrollTarget().scrollTop()},restoreScroll:function(){void 0!==this.tmpScrollTop&&this.utils.getScrollTarget().scrollTop(this.tmpScrollTop)},isStartOfElement:function(a){return!(void 0===
a&&!(a=this.selection.block()))&&0===this.offset.get(a)},isEndOfElement:function(a){var h;return!(void 0===a&&!(a=this.selection.block()))&&(h=d.trim(d(a).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,""),this.offset.get(a)===h.length)},removeEmptyAttr:function(a,h){a=d(a);return void 0===a.attr(h)||""===a.attr(h)&&(a.removeAttr(h),!0)},replaceToTag:function(a,h){var f;return d(a).replaceWith(function(){f=d("<"+h+" />").append(d(this).contents());for(var g=0;g<this.attributes.length;g++)f.attr(this.attributes[g].name,
this.attributes[g].value);return f}),f},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=!0},disableSelectAll:function(){this.selectAll=!1},disableBodyScroll:function(){var a=d("html"),h=window.innerWidth,f=(h||=(f=document.documentElement.getBoundingClientRect()).right-Math.abs(f.left),document.body.clientWidth<h);h=this.utils.measureScrollbar();a.css("overflow","hidden");f&&a.css("padding-right",h)},measureScrollbar:function(){var a=d("body"),h=document.createElement("div"),
f=(h.className="redactor-scrollbar-measure",a.append(h),h.offsetWidth-h.clientWidth);return a[0].removeChild(h),f},enableBodyScroll:function(){d("html").css({overflow:"","padding-right":""});d("body").remove("redactor-scrollbar-measure")},appendFields:function(a,h){return a&&("object"==typeof a?d.each(a,function(f,g){null!==g&&0===g.toString().indexOf("#")&&(g=d(g).val());h.append(f,g)}):0!==(a=d(a)).length&&a.each(function(){h.append(d(this).attr("name"),d(this).val())})),h},appendForms:function(a,
h){return a&&0!==(a=d(a)).length&&(a=a.serializeArray(),d.each(a,function(f,g){h.append(g.name,g.value)})),h},isRgb:function(a){return 0===a.search(/^rgb/i)},rgb2hex:function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""},isCollapsed:function(){return this.selection.isCollapsed()},isMobile:function(){return this.detect.isMobile()},
isDesktop:function(){return this.detect.isDesktop()},isPad:function(){return this.detect.isIpad()}}},browser:function(){return{webkit:function(){return this.detect.isWebkit()},ff:function(){return this.detect.isFirefox()},ie:function(){return this.detect.isIe()}}}};d(window).on("load.tools.redactor",function(){d('[data-tools="redactor"]').redactor()});L.prototype.init.prototype=L.prototype}(jQuery);
(function(d){function L(X,a,h,f){var g={duration:.5,iterate:1,delay:0,prefix:"redactor-",timing:"linear"};this.animation=a;this.slide="slideDown"===this.animation||"slideUp"===this.animation;this.$element=d(X);this.prefixes=["","-moz-","-o-animation-","-webkit-"];this.queue=[];"function"==typeof h?(f=h,this.opts=g):this.opts=d.extend(g,h);this.slide&&this.$element.height(this.$element.height());this.init(f)}d.fn.redactorAnimation=function(X,a,h){return this.each(function(){new L(this,X,a,h)})};L.prototype=
{init:function(X){this.queue.push(this.animation);this.clean();"show"===this.animation?(this.opts.timing="linear",this.$element.removeClass("hide").show(),"function"==typeof X&&X(this)):"hide"===this.animation?(this.opts.timing="linear",this.$element.hide(),"function"==typeof X&&X(this)):this.animate(X)},animate:function(X){this.$element.addClass("redactor-animated").css("display","").removeClass("hide");this.$element.addClass(this.opts.prefix+this.queue[0]);this.set(this.opts.duration+"s",this.opts.delay+
"s",this.opts.iterate,this.opts.timing);var a=1<this.queue.length?null:X;this.complete("AnimationEnd",d.proxy(function(){this.$element.hasClass(this.opts.prefix+this.queue[0])&&(this.clean(),this.queue.shift(),this.queue.length)&&this.animate(X)},this),a)},set:function(X,a,h,f){for(var g=this.prefixes.length;g--;)this.$element.css(this.prefixes[g]+"animation-duration",X),this.$element.css(this.prefixes[g]+"animation-delay",a),this.$element.css(this.prefixes[g]+"animation-iteration-count",h),this.$element.css(this.prefixes[g]+
"animation-timing-function",f)},clean:function(){this.$element.removeClass("redactor-animated");this.$element.removeClass(this.opts.prefix+this.queue[0]);this.set("","","","")},complete:function(X,a,h){this.$element.one(X.toLowerCase()+" webkit"+X+" o"+X+" MS"+X,d.proxy(function(){"function"==typeof a&&a();"function"==typeof h&&h(this);-1!==d.inArray(this.animation,"fadeOut slideUp zoomOut slideOutUp slideOutRight slideOutLeft".split(" "))&&this.$element.css("display","none");this.slide&&this.$element.css("height",
"")},this))}}})(jQuery);
jQuery.Redactor.prototype.alignment=function(){return{langs:{en:{align:"Align","align-left":"Align Left","align-center":"Align Center","align-right":"Align Right","align-justify":"Align Justify"}},init:function(){var d=this,L={};d=(L.left={title:d.lang.get("align-left"),func:d.alignment.setLeft},L.center={title:d.lang.get("align-center"),func:d.alignment.setCenter},L.right={title:d.lang.get("align-right"),func:d.alignment.setRight},L.justify={title:d.lang.get("align-justify"),func:d.alignment.setJustify},
this.button.add("alignment",this.lang.get("align")));this.button.setIcon(d,'<i class="re-icon-alignment"></i>');this.button.addDropdown(d,L)},removeAlign:function(){this.block.removeAttr("style")},setLeft:function(){this.buffer.set();this.alignment.removeAlign()},setCenter:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: center"});this.core.editor().focus()},setRight:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: right"});
this.core.editor().focus()},setJustify:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: justify"});this.core.editor().focus()}}};var RedactorPlugins=RedactorPlugins||{};
!function(){function d(L,X,a,h,f){return function(){var g;return{locfn:window.$_||function(e){return e},langs:{en:{"code-to-insert":"Code to insert","blockquote-to-insert":"Blockquote to insert"}},init:function(){g=this[L];h=g.locfn(h);g.initToolbar();g.initEvents();g.initModal()},initToolbar:function(){var e=this.button.add(L,h);this.button.addCallback(e,g.show);this.button.setIcon(e,'<i class="'+a+'"></i>')},initEvents:function(){var e=null;this.$editor.on("keydown.redactor-"+L,$.proxy(function(k){k.which!=
this.keyCode.DOWN&&k.which!=this.keyCode.UP||(e=this.caret.getOffset())},this));this.$editor.on("keyup.redactor-"+L,$.proxy(function(k){if((k.which==this.keyCode.DOWN||k.which==this.keyCode.UP)&&e==this.caret.getOffset()){var p=$(this.selection.getBlock());if(p.length&&p.is(X)){var u=k.which==this.keyCode.DOWN?p.next():p.prev();if(u.length){if(""!=$.trim(u.text()))return;u.html("&#8203;")}else u=g.insertNewline(p),k.which==this.keyCode.UP&&u.insertBefore(p);this.caret.setStart(u)}}},this))},initModal:function(){this.modal.addTemplate(L,
g.getTemplate());this.modal.addCallback(L,function(){this.modal.getCancelButton();this.modal.getActionButton(g.locfn("Insert")).on("click",function(){g.insertSnippet($("#h-"+L+"-textarea").val())})})},getTemplate:function(){return'<div class="modal-section" id="redactor-modal-'+L+'-insert"><section><label>'+this.lang.get(f)+'</label><textarea id="h-'+L+'-textarea" style="height: 200px"></textarea></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+
this.lang.get("cancel")+"</button></section></div>"},show:function(){this.buffer.set();this.selection.save();this.modal.load(L,h,800);this.modal.show();this.detect.isDesktop()&&setTimeout(function(){$("#h-"+L+"-textarea").focus()},1)},insertSnippet:function(e){this.modal.close();this.selection.restore();g.insertNewline($("<"+X+">").text(e).insertAfter(this.selection.current()));this.code.sync()},insertNewline:function(e){return $("<p>&#8203;</p>").insertAfter(e)}}}}RedactorPlugins.codeblock=d("codeblock",
"pre","re-icon-html","Insert code block","code-to-insert");RedactorPlugins.blockquote=d("blockquote","blockquote","re-icon-clips","Insert quote","blockquote-to-insert");$.wa&&($.wa.RedactorCodeblockPluginFactory=d)}();
(function(d){d.Redactor.prototype.fontcolor=function(){return{langs:{en:{fontcolor:"Text Color","fontcolor-highlight":"Highlight","fontcolor-text":"Text","fontcolor-none":"None"}},init:function(){var L="#ffffff #000000 #ff0000 #cc0000 #4f81bd #c0504d #9bbb59 #8064a2 #4bacc6 #f79646 #ffff00 #f2f2f2 #7f7f7f #0000ff #0000cc #dbe5f1 #f2dcdb #ebf1dd #e5e0ec #dbeef3 #fdeada #fff2ca #d8d8d8 #595959 #00ff00 #00cc00 #b8cce4 #e5b9b7 #d7e3bc #ccc1d9 #b7dde8 #fbd5b5 #ffe694 #bfbfbf #3f3f3f #7bed0c #59a60d #95b3d7 #d99694 #c3d69b #b2a2c7 #b7dde8 #fac08f #f2c314 #a5a5a5 #262626 #00ffff #00cccc #366092 #953734 #76923c #5f497a #92cddc #e36c09 #c09100 #7f7f7f #0c0c0c #ff00ff #cc00cc #244061 #632423 #4f6128 #3f3151 #31859b #974806 #7f6000".split(" "),X=
this.button.add("fontcolor",this.lang.get("fontcolor")),a=(this.button.setIcon(X,'<i class="re-icon-fontcolor"></i>'),this.button.addDropdown(X));X=(a.attr("rel","fontcolor"),a.width(242),d('<div style="overflow: hidden; text-align: center;">'));var h=d('<span rel="text" class="re-dropdown-box-selector-font" style="background: #eee; float: left; padding: 8px 0; cursor: pointer; font-size: 12px; width: 50%;">'+this.lang.get("fontcolor-text")+"</span>"),f=d('<span rel="back" class="re-dropdown-box-selector-font" style="float: left; padding: 8px 0; cursor: pointer; font-size: 12px; width: 50%;">'+
this.lang.get("fontcolor-highlight")+"</span>");X.append(h);X.append(f);a.append(X);this.fontcolor.buildPicker(a,"textcolor",L);this.fontcolor.buildPicker(a,"backcolor",L);h.on("mousedown",function(g){g.preventDefault();a.find(".re-dropdown-box-selector-font").css("background","none");a.find(".re-dropdown-box-backcolor").hide();a.find(".re-dropdown-box-textcolor").show();d(this).css("background","#eee")});f.on("mousedown",function(g){g.preventDefault();a.find(".re-dropdown-box-selector-font").css("background",
"none");a.find(".re-dropdown-box-textcolor").hide();a.find(".re-dropdown-box-backcolor").show();d(this).css("background","#eee")})},buildPicker:function(L,X,a){function h(m){m.preventDefault();k.fontcolor.set(d(this).data("rule"),d(this).attr("rel"))}for(var f=d('<div class="re-dropdown-box-'+X+'">'),g="backcolor"==X?"background-color":"color",e=a.length,k=this,p=0;p<e;p++){var u=a[p],c=d('<a rel="'+u+'" data-rule="'+g+'" href="#" style="float: left; box-sizing: border-box; font-size: 0; border: 2px solid #fff; padding: 0; margin: 0; width: 22px; height: 22px;"></a>');
c.css("background-color",u);c.on("mousedown",h);f.append(c)}a=d('<a href="#" style="display: block; clear: both; padding: 8px 5px; box-sizing: border-box; font-size: 12px; line-height: 1;"></a>').html(this.lang.get("fontcolor-none"));a.on("mousedown",d.proxy(function(m){m.preventDefault();this.fontcolor.remove(g)},this));f.append(a);L.append(f);"backcolor"==X&&f.hide()},set:function(L,X){this.inline.format("span","style",L+": "+X+";");this.dropdown.hide()},remove:function(L){this.inline.removeStyleRule(L);
this.dropdown.hide()}}}})(jQuery);
(function(d){d.Redactor.prototype.fontfamily=function(){return{langs:{en:{fontfamily:"Font","fontfamily-remove":"Remove Font Family"}},init:function(){var L=this,X={},a=(d.each("Arial;Helvetica;Georgia;Times New Roman;Verdana;Monospace".split(";"),function(h,f){X["s"+h]={title:f,func:function(){L.fontfamily.set(f)}}}),X.remove={title:this.lang.get("fontfamily-remove"),func:L.fontfamily.reset},this.button.add("fontfamily",this.lang.get("fontfamily")));this.button.setIcon(a,'<i class="re-icon-fontfamily"></i>');
this.button.addDropdown(a,X)},set:function(L){this.inline.format("span","style","font-family:"+L+";")},reset:function(){this.inline.removeStyleRule("font-family")}}}})(jQuery);
(function(d){d.Redactor.prototype.fontsize=function(){return{langs:{en:{fontsize:"Size","fontsize-remove":"Remove Font Size"}},init:function(){var L=this,X={},a=(d.each([10,11,12,14,16,18,20,24,28,30],function(h,f){X["s"+h]={title:f+"px",func:function(){L.fontsize.set(f)}}}),X.remove={title:this.lang.get("fontsize-remove"),func:L.fontsize.reset},this.button.add("fontsize",this.lang.get("fontsize")));this.button.setIcon(a,'<i class="re-icon-fontsize"></i>');this.button.addDropdown(a,X)},set:function(L){this.inline.format("span",
"style","font-size: "+L+"px;")},reset:function(){this.inline.removeStyleRule("font-size")}}}})(jQuery);
(function(d){d.Redactor.prototype.inlinestyle=function(){return{langs:{en:{style:"Style","style-marked":"Marked","style-code":"Code","style-sample":"Sample","style-variable":"Variable","style-shortcut":"Shortcut","style-cite":"Cite","style-sup":"Superscript","style-sub":"Subscript"}},init:function(){var L=this,X={},a=(d.each({marked:{title:"style-marked",args:["mark"]},code:{title:"style-code",args:["code"]},sample:{title:"style-sample",args:["samp"]},variable:{title:"style-variable",args:["var"]},
shortcut:{title:"style-shortcut",args:["kbd"]},cite:{title:"style-cite",args:["cite"]},sup:{title:"style-sup",args:["sup"]},sub:{title:"style-sub",args:["sub"]}},function(h,f){X[h]={title:L.lang.get(f.title),func:"inline.format",args:f.args}}),this.button.addAfter("format","inline",this.lang.get("style")));this.button.setIcon(a,'<i class="re-icon-inline"></i>');this.button.addDropdown(a,X)}}}})(jQuery);
(function(d){d.Redactor.prototype.properties=function(){return{langs:{en:{properties:"Properties"}},block:!1,labelStyle:{position:"absolute",padding:"2px 5px","line-height":1,"border-radius":"5px","font-size":"10px",color:"rgba(255, 255, 255, .9)","z-index":99},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-properties"><section><label id="modal-properties-id-label">Id</label><input type="text" id="modal-properties-id" /></section><section><label id="modal-properties-class-label">Class</label><input type="text" id="modal-properties-class" /></section><section><button id="redactor-modal-button-action">Save</button><button id="redactor-modal-button-cancel">Cancel</button></section></div>'},
setup:function(){this.opts.properties=void 0===this.opts.properties?{}:this.opts.properties;this.opts.properties.id=void 0===this.opts.properties.id||this.opts.properties.id;this.opts.properties.classname=void 0===this.opts.properties.classname||this.opts.properties.classname;this.opts.properties.show=void 0!==this.opts.properties.show&&this.opts.properties.show},init:function(){var L;"pre"!==this.opts.type&&"inline"!==this.opts.type&&(this.properties.setup(),this.properties.createLabelId(this.properties.labelStyle),
this.properties.createLabelClass(this.properties.labelStyle),this.properties.setEvents(),L=this.button.add("properties",this.lang.get("properties")),this.button.setIcon(L,'<i class="re-icon-properties"></i>'),this.button.addCallback(L,this.properties.show))},show:function(){this.modal.addTemplate("properties",this.properties.getTemplate());this.modal.load("properties","Properties",600);this.modal.getActionButton().text("Save").on("click",this.properties.save);this.properties.showId();this.properties.showClass();
this.modal.show()},createLabelId:function(L){(this.opts.properties.show||this.opts.properties.id)&&(this.properties.labelId=d("<span />").attr("id","redactor-properties-label-id-"+this.uuid).attr("title","ID").hide(),this.properties.labelId.css(L).css("background","rgba(229, 57, 143, .7)"),d("body").append(this.properties.labelId))},createLabelClass:function(L){(this.opts.properties.show||this.opts.properties.classname)&&(this.properties.labelClass=d("<span />").attr("id","redactor-properties-label-class-"+
this.uuid).attr("title","class").hide(),this.properties.labelClass.css(L).css("background","rgba(61, 121, 242, .7)"),d("body").append(this.properties.labelClass))},setEvents:function(){this.core.element().on("click.callback.redactor",this.properties.showOnClick);d(document).on("mousedown.redactor-properties",d.proxy(this.properties.hideOnBlur,this));this.core.element().on("destroy.callback.redactor",d.proxy(function(){d(document).off(".redactor-properties")},this))},showId:function(){this.opts.properties.id?
(d("#modal-properties-id-label").show(),d("#modal-properties-id").show().val(d(this.properties.block).attr("id"))):d("#modal-properties-id, #modal-properties-id-label").hide()},showClass:function(){this.opts.properties.classname?(d("#modal-properties-class-label").show(),d("#modal-properties-class").show().val(d(this.properties.block).attr("class"))):d("#modal-properties-class, #modal-properties-class-label").hide()},save:function(){var L;this.opts.properties.id&&(void 0===(L=d("#modal-properties-id").val())||
""===L?this.block.removeAttr("id",this.properties.block):this.block.replaceAttr("id",L,this.properties.block));this.opts.properties.classname&&(void 0===(L=d("#modal-properties-class").val())||""===L?this.block.removeAttr("class",this.properties.block):this.block.replaceClass(L,this.properties.block));this.modal.close();this.properties.showOnClick(!1)},showOnClick:function(L){!1!==L&&L.preventDefault();var X,a;L=void 0!==this.fullscreen&&this.fullscreen.isOpen?1052:99;this.properties.block=this.selection.block();
this.properties.block&&this.utils.isRedactorParent(this.properties.block)&&!this.utils.isCurrentOrParent(["figure","li"])&&(X=d(this.properties.block).offset(),a=this.properties.showOnClickClass(X,L),this.properties.showOnClickId(X,L,a))},showOnClickId:function(L,X,a){var h=d(this.properties.block).attr("id");this.opts.properties.show&&this.opts.properties.id&&void 0!==h&&""!==h&&setTimeout(d.proxy(function(){var f=this.opts.properties.classname&&void 0!==a&&""!==a?this.properties.labelClass.innerWidth():
-3;this.properties.labelId.css({zIndex:X,top:L.top-13,left:L.left+f}).show().text("#"+h)},this),10)},showOnClickClass:function(L,X){var a=d(this.properties.block).attr("class");return this.opts.properties.show&&this.opts.properties.classname&&void 0!==a&&""!==a&&this.properties.labelClass.css({zIndex:X,top:L.top-13,left:L.left-3}).show().text(a),a},hideOnBlur:function(L){L.target!==this.properties.block&&(this.properties.hideOnBlurId(),this.properties.hideOnBlurClass())},hideOnBlurId:function(){this.opts.properties.show&&
this.opts.properties.id&&this.properties.labelId.css("z-index",99).hide()},hideOnBlurClass:function(){this.opts.properties.show&&this.opts.properties.classname&&this.properties.labelClass.css("z-index",99).hide()}}}})(jQuery);
(function(d){d.Redactor.prototype.source=function(){return{init:function(){var L=this.button.addFirst("html","HTML");this.button.setIcon(L,'<i class="re-icon-html"></i>');this.button.addCallback(L,this.source.toggle);this.source.$textarea=d("<textarea />");this.source.$textarea.css({width:"100%",margin:"0",background:"#1d1d1d","box-sizing":"border-box",color:"#ccc","font-size":"15px",outline:"none",padding:"20px","line-height":"24px","font-family":'Consolas, Menlo, Monaco, "Courier New", monospace'}).hide();
"textarea"===this.opts.type?this.core.box().append(this.source.$textarea):this.core.box().after(this.source.$textarea);this.core.element().on("destroy.callback.redactor",d.proxy(function(){this.source.$textarea.remove()},this))},toggle:function(){this.source.$textarea.hasClass("open")?this.source.hide():(this.source.show(),this.source.$textarea.on("keyup.redactor-source",d.proxy(function(){var L=this.source.$textarea.val();this.core.callback("change",L)},this)))},setCaretOnShow:function(){this.source.offset=
this.offset.get();d(window).scrollTop();this.core.editor().innerWidth();this.core.editor().innerHeight();this.source.start=0;this.source.end=0;var L,X=d("<div/>").append(d.parseHTML(this.core.editor().html(),document,!0)),a=X.find("span.redactor-selection-marker");0<a.length&&(L=X.html().replace(/&amp;/g,"&"),1===a.length?(this.source.start=this.utils.strpos(L,X.find("#selection-marker-1").prop("outerHTML")),this.source.end=this.source.start):2===a.length&&(this.source.start=this.utils.strpos(L,X.find("#selection-marker-1").prop("outerHTML")),
this.source.end=this.utils.strpos(L,X.find("#selection-marker-2").prop("outerHTML"))-X.find("#selection-marker-1").prop("outerHTML").toString().length))},setCaretOnHide:function(L){var X,a;return this.source.start=this.source.$textarea.get(0).selectionStart,this.source.end=this.source.$textarea.get(0).selectionEnd,this.source.start>this.source.end&&0<this.source.end&&(a=this.source.end,X=this.source.start,this.source.start=a,this.source.end=X),this.source.start=this.source.enlargeOffset(L,this.source.start),
this.source.end=this.source.enlargeOffset(L,this.source.end),L=L.substr(0,this.source.start)+this.marker.html(1)+L.substr(this.source.start),this.source.end>this.source.start&&(a=this.marker.html(1).toString().length,L=L.substr(0,this.source.end+a)+this.marker.html(2)+L.substr(this.source.end+a)),L},hide:function(){this.source.$textarea.removeClass("open").hide();this.source.$textarea.off(".redactor-source");var L=this.source.$textarea.val();L=this.paragraphize.load(L);L=(L=this.source.setCaretOnHide(L)).replace('&amp;<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>',
'<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>&amp;');this.code.start(L);this.button.enableAll();this.core.editor().show().focus();this.selection.restore();this.placeholder.enable();this.core.callback("visual")},show:function(){this.selection.save();this.source.setCaretOnShow();var L=this.core.editor().height(),X=this.code.get();X=this.core.callback("source",X);this.core.editor().hide();this.button.disableAll("html");this.source.$textarea.val(X).height(L).addClass("open").show();
this.source.$textarea.on("keyup.redactor-source",d.proxy(function(){"textarea"===this.opts.type&&this.core.textarea().val(this.source.$textarea.val())},this));this.marker.remove();d(window).scrollTop(scroll);this.source.$textarea[0].setSelectionRange&&this.source.$textarea[0].setSelectionRange(this.source.start,this.source.end);this.source.$textarea[0].scrollTop=0;setTimeout(d.proxy(function(){this.source.$textarea.focus()},this),0)},enlargeOffset:function(L,X){var a=L.length,h=0;if(">"===L[X])h++;
else for(var f=X;f<=a&&(h++,">"!==L[f]);f++)if("<"===L[f]||f===a){h=0;break}return X+h}}}})(jQuery);
(function(d){d.Redactor.prototype.table=function(){return{langs:{en:{table:"Table","insert-table":"Insert table","insert-row-above":"Insert row above","insert-row-below":"Insert row below","insert-column-left":"Insert column left","insert-column-right":"Insert column right","add-head":"Add head","delete-head":"Delete head","delete-column":"Delete column","delete-row":"Delete row","delete-table":"Delete table"}},init:function(){var L={},X=(L.insert_table={title:this.lang.get("insert-table"),func:this.table.insert,
observe:{element:"table",in:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},L.insert_row_above={title:this.lang.get("insert-row-above"),func:this.table.addRowAbove,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},L.insert_row_below={title:this.lang.get("insert-row-below"),func:this.table.addRowBelow,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},L.insert_column_left={title:this.lang.get("insert-column-left"),
func:this.table.addColumnLeft,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},L.insert_column_right={title:this.lang.get("insert-column-right"),func:this.table.addColumnRight,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},L.add_head={title:this.lang.get("add-head"),func:this.table.addHead,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},L.delete_head=
{title:this.lang.get("delete-head"),func:this.table.deleteHead,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},L.delete_column={title:this.lang.get("delete-column"),func:this.table.deleteColumn,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},L.delete_row={title:this.lang.get("delete-row"),func:this.table.deleteRow,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},
L.delete_table={title:this.lang.get("delete-table"),func:this.table.deleteTable,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},this.button.addBefore("link","table",this.lang.get("table")));this.button.setIcon(X,'<i class="re-icon-table"></i>');this.button.addDropdown(X,L)},insert:function(){if(!this.table.getTable()){this.placeholder.hide();for(var L=d("<div>"),X=d("<table />"),a=0;2>a;a++){for(var h=d("<tr>"),f=0;3>f;f++){var g=d("<td>"+this.opts.invisibleSpace+
"</td>");0===a&&0===f&&g.append(this.marker.get());d(h).append(g)}X.append(h)}L.append(X);L=L.html();a=(this.buffer.set(),this.selection.current());0!==d(a).closest("li",this.core.editor()[0]).length?d(a).closest("ul, ol").first().after(L):(this.air.collapsed(),this.insert.html(L));this.selection.restore();this.core.callback("insertedTable",X)}},getTable:function(){var L=d(this.selection.current()).closest("table");return!!this.utils.isRedactorParent(L)&&0!==L.length&&L},restoreAfterDelete:function(L){this.selection.restore();
L.find("span.redactor-selection-marker").remove()},deleteTable:function(){var L,X=this.table.getTable();X&&(this.buffer.set(),L=X.next(),this.opts.linebreaks||0===L.length?this.caret.after(X):this.caret.start(L),X.remove())},deleteRow:function(){var L,X,a=this.table.getTable();a&&(L=d(this.selection.current()),this.buffer.set(),(X=(L=L.closest("tr")).prev().length?L.prev():L.next()).length&&(X=X.children("td, th").first()).length&&X.prepend(this.marker.get()),L.remove(),this.table.restoreAfterDelete(a))},
deleteColumn:function(){var L,X=this.table.getTable();X&&(this.buffer.set(),L=d(this.selection.current()).closest("td, th")[0].cellIndex,X.find("tr").each(d.proxy(function(a,h){h=d(h);var f=0>L-1?L+1:L-1;0===a&&h.find("td, th").eq(f).prepend(this.marker.get());h.find("td, th").eq(L).remove()},this)),this.table.restoreAfterDelete(X))},addHead:function(){var L,X=this.table.getTable();X&&(this.buffer.set(),0!==X.find("thead").length?this.table.deleteHead():((L=X.find("tr").first().clone()).find("td").replaceWith(d.proxy(function(){return d("<th>").html(this.opts.invisibleSpace)},
this)),$thead=d("<thead></thead>").append(L),X.prepend($thead)))},deleteHead:function(){var L=this.table.getTable();L&&0!==(L=L.find("thead")).length&&(this.buffer.set(),L.remove())},addRowAbove:function(){this.table.addRow("before")},addRowBelow:function(){this.table.addRow("after")},addColumnLeft:function(){this.table.addColumn("before")},addColumnRight:function(){this.table.addColumn("after")},addRow:function(L){var X,a;this.table.getTable()&&(this.buffer.set(),(a=(X=d(this.selection.current()).closest("tr")).clone()).find("th").replaceWith(function(){var h=
d("<td>");return h[0].attributes=this.attributes,h.append(d(this).contents())}),a.find("td").html(this.opts.invisibleSpace),"after"===L?X.after(a):X.before(a))},addColumn:function(L){var X,a,h,f,g=this.table.getTable();g&&(X=0,a=d(this.selection.current()),this.buffer.set(),h=a.closest("tr"),f=a.closest("td, th"),h.find("td, th").each(d.proxy(function(e,k){d(k)[0]===f[0]&&(X=e)},this)),g.find("tr").each(d.proxy(function(e,k){k=d(k).find("td, th").eq(X);e=k.clone();e.html(this.opts.invisibleSpace);
"after"===L?k.after(e):k.before(e)},this)))}}}})(jQuery);
(function(d){d.Redactor.prototype.video=function(){return{reUrlYoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,reIframeYoutube:/.*src="https?:\/\/(www\.)?youtube.com\/embed\/(\w+).*/,reUrlVimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,reUrlVimeoChannel:/https?:\/\/(www\.)?vimeo.com\/channels\/.*\/(\d+)($|\/)/,reIframeVimeo:/.*src="https?:\/\/(www\.)?player.vimeo.com\/video\/(\d+).*/,reUrlYappy:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:rutube\.ru\/yappy|yappy\.media\/video)\/(\S{32})[\/|\?]?.*/gi,
reUrlRutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:rutube\.ru\/(?:video|shorts|yappy)\/(\S{32})\/)(\?t=\d+)?.*/gi,reUrlVkvideo:/^https?:\/\/(?:www\.)?(?:vk\.com|vkvideo\.ru)\/(?:clip|video|id|club|video_ext\.php|playlist\/\S+\/)\??(?:[^\/\s]*?[&?]z=)?(?:clip|video)?(-?\d+)_(\d+)(\?t=[^&^\/^\s]+)?(%2F.*)?|oid=(-?\d+).*?id=(\d+)/gi,langs:{en:{video:"Video","video-html-code":"Video Embed Code or Youtube/Vimeo Link"}},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-video-insert"><section><label>'+
this.lang.get("video-html-code")+'</label><textarea id="redactor-insert-video-area" style="height: 160px;"></textarea></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"},init:function(){var L=this.button.addAfter("image","video",this.lang.get("video"));this.button.setIcon(L,'<i class="re-icon-video"></i>');this.button.addCallback(L,this.video.show)},show:function(){this.modal.addTemplate("video",
this.video.getTemplate());this.modal.load("video",this.lang.get("video"),700);this.modal.getActionButton().text(this.lang.get("insert")).on("click",this.video.insert);this.modal.show();this.detect.isDesktop()&&setTimeout(function(){d("#redactor-insert-video-area").focus()},1)},insert:function(){var L,X,a=d("#redactor-insert-video-area").val(),h=a.match(/<iframe|<video|http/gi);h&&0!==h.length&&(L=["iframe","video"],a=a.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(f,g){return-1===L.indexOf(g.toLowerCase())?
"":f}),this.opts.videoContainerClass=void 0===this.opts.videoContainerClass?"video-container":this.opts.videoContainerClass,X='<div class="'+this.opts.videoContainerClass+'"><iframe style="width: 500px; height: 281px;" src="',a=a.match(this.video.reUrlYoutube)?a.replace(this.video.reUrlYoutube,X+'//www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe></div>'):a.match(this.video.reIframeYoutube)?a.replace(this.video.reIframeYoutube,X+'//www.youtube.com/embed/$2" frameborder="0" allowfullscreen></iframe></div>'):
a.match(this.video.reUrlVimeo)?a.replace(this.video.reUrlVimeo,X+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):a.match(this.video.reUrlVimeoChannel)?a.replace(this.video.reUrlVimeoChannel,X+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):a.match(this.video.reIframeVimeo)?a.replace(this.video.reIframeVimeo,X+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):a.match(this.video.reUrlYappy)?a.replace(this.video.reUrlYappy,
X+'//yappy.media/embed/$1" frameborder="0" allowfullscreen></iframe></div>'):a.match(this.video.reUrlRutube)?a.replace(this.video.reUrlRutube,X+'//rutube.ru/play/embed/$1$2" frameborder="0" allowfullscreen></iframe></div>'):a.match(this.video.reUrlVkvideo)?a.replace(this.video.reUrlVkvideo,(f,g,e,k)=>X+"//vkvideo.ru/video_ext.php?oid="+g+"&id="+e+(k?k.replace("?","&"):"")+'" frameborder="0" allowfullscreen></iframe></div>'):'<div class="'+this.opts.videoContainerClass+'">'+a+"</div>");this.modal.close();
this.placeholder.hide();this.buffer.set();this.air.collapsed();this.insert.html(a)}}}})(jQuery);(function(){var d=function(){return this}();!d&&"undefined"!=typeof window&&(d=window);if("undefined"==typeof requirejs){var L=function(g,e,k){"string"!=typeof g?L.original?L.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()):(2==arguments.length&&(k=e),L.modules[g]||(L.payloads[g]=k,L.modules[g]=null))};L.modules={};L.payloads={};var X=function(g,e,k){if("string"==typeof e){if(g=f(g,e),void 0!=g)return k&&k(),g}else if("[object Array]"===
Object.prototype.toString.call(e)){for(var p=[],u=0,c=e.length;u<c;++u){var m=f(g,e[u]);if(void 0==m&&a.original)return;p.push(m)}return k&&k.apply(null,p)||!0}},a=function(g,e){var k=X("",g,e);return void 0==k&&a.original?a.original.apply(this,arguments):k},h=function(g,e){if(-1!==e.indexOf("!"))return e=e.split("!"),h(g,e[0])+"!"+h(g,e[1]);if("."==e.charAt(0))for(e=g.split("/").slice(0,-1).join("/")+"/"+e;-1!==e.indexOf(".")&&k!=e;){var k=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return e},
f=function(g,e){e=h(g,e);g=L.modules[e];if(!g){g=L.payloads[e];if("function"==typeof g){var k={},p={id:e,uri:"",exports:k,packaged:!0};k=g(function(u,c){return X(e,u,c)},k,p)||p.exports;L.modules[e]=k;delete L.payloads[e]}g=L.modules[e]=k||g}return g};(function(g){var e=d;g&&(d[g]||(d[g]={}),e=d[g]);e.define&&e.define.packaged||(L.original=e.define,e.define=L,e.define.packaged=!0);e.require&&e.require.packaged||(a.original=e.require,e.require=a,e.require.packaged=!0)})("")}})();
define("ace/lib/regexp",["require","exports","module"],function(d,L,X){function a(p,u,c){if(Array.prototype.indexOf)return p.indexOf(u,c);for(c=c||0;c<p.length;c++)if(p[c]===u)return c;return-1}var h=RegExp.prototype.exec,f=RegExp.prototype.test,g=String.prototype.replace,e=void 0===h.call(/()??/,"")[1],k=function(){var p=/^/g;return f.call(p,""),!p.lastIndex}();k&&e||(RegExp.prototype.exec=function(p){var u=h.apply(this,arguments),c;if("string"==typeof p&&u){!e&&1<u.length&&-1<a(u,"")&&(c=RegExp(this.source,
g.call((this.global?"g":"")+(this.ignoreCase?"i":"")+(this.multiline?"m":"")+(this.extended?"x":"")+(this.sticky?"y":""),"g","")),g.call(p.slice(u.index),c,function(){for(var n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(u[n]=void 0)}));if(this._xregexp&&this._xregexp.captureNames)for(var m=1;m<u.length;m++)(c=this._xregexp.captureNames[m-1])&&(u[c]=u[m]);!k&&this.global&&!u[0].length&&this.lastIndex>u.index&&this.lastIndex--}return u},k||(RegExp.prototype.test=function(p){p=h.call(this,p);
return p&&this.global&&!p[0].length&&this.lastIndex>p.index&&this.lastIndex--,!!p}))});
define("ace/lib/es5-shim",["require","exports","module"],function(d,L,X){function a(){}function h(R){try{return Object.defineProperty(R,"sentinel",{}),"sentinel"in R}catch(ba){}}function f(R){return R=+R,R!==R?R=0:0!==R&&R!==1/0&&R!==-1/0&&(R=(0<R||-1)*Math.floor(Math.abs(R))),R}Function.prototype.bind||(Function.prototype.bind=function(R){var ba=this;if("function"!=typeof ba)throw new TypeError("Function.prototype.bind called on incompatible "+ba);var ha=e.call(arguments,1),ra=function(){if(this instanceof
ra){var Ka=ba.apply(this,ha.concat(e.call(arguments)));return Object(Ka)===Ka?Ka:this}return ba.apply(R,ha.concat(e.call(arguments)))};return ba.prototype&&(a.prototype=ba.prototype,ra.prototype=new a,a.prototype=null),ra});d=Function.prototype.call;var g=Object.prototype,e=Array.prototype.slice,k=d.bind(g.toString),p=d.bind(g.hasOwnProperty),u;if(u=p(g,"__defineGetter__")){var c=d.bind(g.__defineGetter__);var m=d.bind(g.__defineSetter__);var n=d.bind(g.__lookupGetter__);var w=d.bind(g.__lookupSetter__)}if(2!=
[1,2].splice(0).length)if(function(){function R(ra){ra=Array(ra+2);return ra[0]=ra[1]=0,ra}var ba=[];ba.splice.apply(ba,R(20));ba.splice.apply(ba,R(26));var ha=ba.length;ba.splice(5,0,"XXX");ha+1==ba.length;if(ha+1==ba.length)return!0}()){var z=Array.prototype.splice;Array.prototype.splice=function(R,ba){return arguments.length?z.apply(this,[void 0===R?0:R,void 0===ba?this.length-R:ba].concat(e.call(arguments,2))):[]}}else Array.prototype.splice=function(R,ba){var ha=this.length;0<R?R>ha&&(R=ha):
void 0==R?R=0:0>R&&(R=Math.max(ha+R,0));R+ba<ha||(ba=ha-R);var ra=this.slice(R,R+ba),Ka=e.call(arguments,2),ma=Ka.length;if(R===ha)ma&&this.push.apply(this,Ka);else{var ja=Math.min(ba,ha-R),Ca=R+ja,Fa=Ca+ma-ja,Ga=ha-Ca;ha-=ja;if(Fa<Ca)for(ja=0;ja<Ga;++ja)this[Fa+ja]=this[Ca+ja];else if(Fa>Ca)for(ja=Ga;ja--;)this[Fa+ja]=this[Ca+ja];if(ma&&R===ha)this.length=ha,this.push.apply(this,Ka);else for(this.length=ha+ma,ja=0;ja<ma;++ja)this[R+ja]=Ka[ja]}return ra};Array.isArray||(Array.isArray=function(R){return"[object Array]"==
k(R)});d=Object("a");var x="a"!=d[0]||!(0 in d);Array.prototype.forEach||(Array.prototype.forEach=function(R,ba){var ha=S(this),ra=x&&"[object String]"==k(this)?this.split(""):ha,Ka=-1,ma=ra.length>>>0;if("[object Function]"!=k(R))throw new TypeError;for(;++Ka<ma;)Ka in ra&&R.call(ba,ra[Ka],Ka,ha)});Array.prototype.map||(Array.prototype.map=function(R,ba){var ha=S(this),ra=x&&"[object String]"==k(this)?this.split(""):ha,Ka=ra.length>>>0,ma=Array(Ka);if("[object Function]"!=k(R))throw new TypeError(R+
" is not a function");for(var ja=0;ja<Ka;ja++)ja in ra&&(ma[ja]=R.call(ba,ra[ja],ja,ha));return ma});Array.prototype.filter||(Array.prototype.filter=function(R,ba){var ha=S(this),ra=x&&"[object String]"==k(this)?this.split(""):ha,Ka=ra.length>>>0,ma=[],ja;if("[object Function]"!=k(R))throw new TypeError(R+" is not a function");for(var Ca=0;Ca<Ka;Ca++)Ca in ra&&(ja=ra[Ca],R.call(ba,ja,Ca,ha)&&ma.push(ja));return ma});Array.prototype.every||(Array.prototype.every=function(R,ba){var ha=S(this),ra=x&&
"[object String]"==k(this)?this.split(""):ha,Ka=ra.length>>>0;if("[object Function]"!=k(R))throw new TypeError(R+" is not a function");for(var ma=0;ma<Ka;ma++)if(ma in ra&&!R.call(ba,ra[ma],ma,ha))return!1;return!0});Array.prototype.some||(Array.prototype.some=function(R,ba){var ha=S(this),ra=x&&"[object String]"==k(this)?this.split(""):ha,Ka=ra.length>>>0;if("[object Function]"!=k(R))throw new TypeError(R+" is not a function");for(var ma=0;ma<Ka;ma++)if(ma in ra&&R.call(ba,ra[ma],ma,ha))return!0;
return!1});Array.prototype.reduce||(Array.prototype.reduce=function(R){var ba=S(this),ha=x&&"[object String]"==k(this)?this.split(""):ba,ra=ha.length>>>0;if("[object Function]"!=k(R))throw new TypeError(R+" is not a function");if(!ra&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var Ka=0;if(2<=arguments.length)var ma=arguments[1];else{do{if(Ka in ha){ma=ha[Ka++];break}if(++Ka>=ra)throw new TypeError("reduce of empty array with no initial value");}while(1)
}for(;Ka<ra;Ka++)Ka in ha&&(ma=R.call(void 0,ma,ha[Ka],Ka,ba));return ma});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(R){var ba=S(this),ha=x&&"[object String]"==k(this)?this.split(""):ba,ra=ha.length>>>0;if("[object Function]"!=k(R))throw new TypeError(R+" is not a function");if(!ra&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");--ra;if(2<=arguments.length)var Ka=arguments[1];else{do{if(ra in ha){Ka=ha[ra--];break}if(0>--ra)throw new TypeError("reduceRight of empty array with no initial value");
}while(1)}do ra in this&&(Ka=R.call(void 0,Ka,ha[ra],ra,ba));while(ra--);return Ka});Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(R){var ba=x&&"[object String]"==k(this)?this.split(""):S(this),ha=ba.length>>>0;if(!ha)return-1;var ra=0;1<arguments.length&&(ra=f(arguments[1]));for(ra=0<=ra?ra:Math.max(0,ha+ra);ra<ha;ra++)if(ra in ba&&ba[ra]===R)return ra;return-1});Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(R){var ba=
x&&"[object String]"==k(this)?this.split(""):S(this),ha=ba.length>>>0;if(!ha)return-1;var ra=ha-1;1<arguments.length&&(ra=Math.min(ra,f(arguments[1])));for(ra=0<=ra?ra:ha-Math.abs(ra);0<=ra;ra--)if(ra in ba&&R===ba[ra])return ra;return-1});Object.getPrototypeOf||(Object.getPrototypeOf=function(R){return R.__proto__||(R.constructor?R.constructor.prototype:g)});Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(R,ba){if("object"!=typeof R&&"function"!=typeof R||null===R)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+
R);if(p(R,ba)){var ha={enumerable:!0,configurable:!0};if(u){var ra=R.__proto__;R.__proto__=g;var Ka=n(R,ba);var ma=w(R,ba);R.__proto__=ra;if(Ka||ma)return Ka&&(ha.get=Ka),ma&&(ha.set=ma),ha}return ha.value=R[ba],ha}});Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(R){return Object.keys(R)});if(!Object.create){var H;null===Object.prototype.__proto__?H=function(){return{__proto__:null}}:H=function(){var R={},ba;for(ba in R)R[ba]=null;return R.constructor=R.hasOwnProperty=R.propertyIsEnumerable=
R.isPrototypeOf=R.toLocaleString=R.toString=R.valueOf=R.__proto__=null,R};Object.create=function(R,ba){if(null===R)var ha=H();else{if("object"!=typeof R)throw new TypeError("typeof prototype["+typeof R+"] != 'object'");ha=function(){};ha.prototype=R;ha=new ha;ha.__proto__=R}return void 0!==ba&&Object.defineProperties(ha,ba),ha}}if(Object.defineProperty&&(d=h({}),L="undefined"==typeof document||h(document.createElement("div")),!d||!L))var v=Object.defineProperty;if(!Object.defineProperty||v)Object.defineProperty=
function(R,ba,ha){if("object"!=typeof R&&"function"!=typeof R||null===R)throw new TypeError("Object.defineProperty called on non-object: "+R);if("object"!=typeof ha&&"function"!=typeof ha||null===ha)throw new TypeError("Property description must be an object: "+ha);if(v)try{return v.call(Object,R,ba,ha)}catch(Ka){}if(p(ha,"value"))if(u&&(n(R,ba)||w(R,ba))){var ra=R.__proto__;R.__proto__=g;delete R[ba];R[ba]=ha.value;R.__proto__=ra}else R[ba]=ha.value;else{if(!u)throw new TypeError("getters & setters can not be defined on this javascript engine");
p(ha,"get")&&c(R,ba,ha.get);p(ha,"set")&&m(R,ba,ha.set)}return R};Object.defineProperties||(Object.defineProperties=function(R,ba){for(var ha in ba)p(ba,ha)&&Object.defineProperty(R,ha,ba[ha]);return R});Object.seal||(Object.seal=function(R){return R});Object.freeze||(Object.freeze=function(R){return R});try{Object.freeze(function(){})}catch(R){Object.freeze=function(ba){return function(ha){return"function"==typeof ha?ha:ba(ha)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=
function(R){return R});Object.isSealed||(Object.isSealed=function(R){return!1});Object.isFrozen||(Object.isFrozen=function(R){return!1});Object.isExtensible||(Object.isExtensible=function(R){if(Object(R)===R)throw new TypeError;for(var ba="";p(R,ba);)ba+="?";R[ba]=!0;var ha=p(R,ba);return delete R[ba],ha});if(!Object.keys){var I=!0,D="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),J=D.length;for(O in{toString:null})I=!1;Object.keys=function(R){if("object"!=
typeof R&&"function"!=typeof R||null===R)throw new TypeError("Object.keys called on a non-object");var ba=[],ha;for(ha in R)p(R,ha)&&ba.push(ha);if(I)for(ha=0;ha<J;ha++){var ra=D[ha];p(R,ra)&&ba.push(ra)}return ba}}Date.now||(Date.now=function(){return(new Date).getTime()});var O="\t\n\v\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||O.trim()){O="["+O+"]";var G=new RegExp("^"+O+O+"*"),T=new RegExp(O+
O+"*$");String.prototype.trim=function(){return String(this).replace(G,"").replace(T,"")}}var S=function(R){if(null==R)throw new TypeError("can't convert "+R+" to object");return Object(R)}});define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(d,L,X){d("./regexp");d("./es5-shim")});
define("ace/lib/dom",["require","exports","module"],function(d,L,X){L.getDocumentHead=function(a){return a||=document,a.head||a.getElementsByTagName("head")[0]||a.documentElement};L.createElement=function(a,h){return document.createElementNS?document.createElementNS(h||"http://www.w3.org/1999/xhtml",a):document.createElement(a)};L.hasCssClass=function(a,h){return-1!==(a.className+"").split(/\s+/g).indexOf(h)};L.addCssClass=function(a,h){L.hasCssClass(a,h)||(a.className+=" "+h)};L.removeCssClass=function(a,
h){for(var f=a.className.split(/\s+/g);;){var g=f.indexOf(h);if(-1==g)break;f.splice(g,1)}a.className=f.join(" ")};L.toggleCssClass=function(a,h){for(var f=a.className.split(/\s+/g),g=!0;;){var e=f.indexOf(h);if(-1==e)break;g=!1;f.splice(e,1)}return g&&f.push(h),a.className=f.join(" "),g};L.setCssClass=function(a,h,f){f?L.addCssClass(a,h):L.removeCssClass(a,h)};L.hasCssString=function(a,h){var f=0,g;h=h||document;if(h.createStyleSheet&&(g=h.styleSheets))for(;f<g.length;){if(g[f++].owningElement.id===
a)return!0}else if(g=h.getElementsByTagName("style"))for(;f<g.length;)if(g[f++].id===a)return!0;return!1};L.importCssString=function(a,h,f){f=f||document;if(h&&L.hasCssString(h,f))return null;var g;h&&(a+="\n/*# sourceURL=ace/css/"+h+" */");f.createStyleSheet?(g=f.createStyleSheet(),g.cssText=a,h&&(g.owningElement.id=h)):(g=L.createElement("style"),g.appendChild(f.createTextNode(a)),h&&(g.id=h),L.getDocumentHead(f).appendChild(g))};L.importCssStylsheet=function(a,h){if(h.createStyleSheet)h.createStyleSheet(a);
else{var f=L.createElement("link");f.rel="stylesheet";f.href=a;L.getDocumentHead(h).appendChild(f)}};L.getInnerWidth=function(a){return parseInt(L.computedStyle(a,"paddingLeft"),10)+parseInt(L.computedStyle(a,"paddingRight"),10)+a.clientWidth};L.getInnerHeight=function(a){return parseInt(L.computedStyle(a,"paddingTop"),10)+parseInt(L.computedStyle(a,"paddingBottom"),10)+a.clientHeight};L.scrollbarWidth=function(a){var h=L.createElement("ace_inner");h.style.width="100%";h.style.minWidth="0px";h.style.height=
"200px";h.style.display="block";var f=L.createElement("ace_outer"),g=f.style;g.position="absolute";g.left="-10000px";g.overflow="hidden";g.width="200px";g.minWidth="0px";g.height="150px";g.display="block";f.appendChild(h);a=a.documentElement;a.appendChild(f);var e=h.offsetWidth;g.overflow="scroll";h=h.offsetWidth;return e==h&&(h=f.clientWidth),a.removeChild(f),e-h};"undefined"==typeof document?L.importCssString=function(){}:(void 0!==window.pageYOffset?(L.getPageScrollTop=function(){return window.pageYOffset},
L.getPageScrollLeft=function(){return window.pageXOffset}):(L.getPageScrollTop=function(){return document.body.scrollTop},L.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?L.computedStyle=function(a,h){return h?(window.getComputedStyle(a,"")||{})[h]||"":window.getComputedStyle(a,"")||{}}:L.computedStyle=function(a,h){return h?a.currentStyle[h]:a.currentStyle},L.setInnerHtml=function(a,h){var f=a.cloneNode(!1);return f.innerHTML=h,a.parentNode.replaceChild(f,
a),f},"textContent"in document.documentElement?(L.setInnerText=function(a,h){a.textContent=h},L.getInnerText=function(a){return a.textContent}):(L.setInnerText=function(a,h){a.innerText=h},L.getInnerText=function(a){return a.innerText}),L.getParentWindow=function(a){return a.defaultView||a.parentWindow})});
define("ace/lib/oop",["require","exports","module"],function(d,L,X){L.inherits=function(a,h){a.super_=h;a.prototype=Object.create(h.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};L.mixin=function(a,h){for(var f in h)a[f]=h[f];return a};L.implement=function(a,h){L.mixin(a,h)}});
define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(d,L,X){d("./fixoldbrowsers");var a=d("./oop"),h=function(){var f={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",
97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",
81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},g;for(g in f.FUNCTION_KEYS){var e=f.FUNCTION_KEYS[g].toLowerCase();f[e]=parseInt(g,10)}for(g in f.PRINTABLE_KEYS)e=f.PRINTABLE_KEYS[g].toLowerCase(),f[e]=parseInt(g,10);return a.mixin(f,f.MODIFIER_KEYS),a.mixin(f,f.PRINTABLE_KEYS),a.mixin(f,f.FUNCTION_KEYS),f.enter=f["return"],f.escape=f.esc,f.del=f["delete"],
f[173]="-",function(){for(var k=["cmd","ctrl","alt","shift"],p=Math.pow(2,k.length);p--;)f.KEY_MODS[p]=k.filter(function(u){return p&f.KEY_MODS[u]}).join("-")+"-"}(),f.KEY_MODS[0]="",f.KEY_MODS[-1]="input-",f}();a.mixin(L,h);L.keyCodeToString=function(f){var g=h[f];return"string"!=typeof g&&(g=String.fromCharCode(f)),g.toLowerCase()}});
define("ace/lib/useragent",["require","exports","module"],function(d,L,X){L.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};L.getOS=function(){return L.isMac?L.OS.MAC:L.isLinux?L.OS.LINUX:L.OS.WINDOWS};"object"==typeof navigator&&(d=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),X=navigator.userAgent,L.isWin="win"==d,L.isMac="mac"==d,L.isLinux="linux"==d,L.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((X.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||
[])[1]):parseFloat((X.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),L.isOldIE=L.isIE&&9>L.isIE,L.isGecko=L.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,L.isOldGecko=L.isGecko&&4>parseInt((X.match(/rv:(\d+)/)||[])[1],10),L.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),L.isWebKit=parseFloat(X.split("WebKit/")[1])||void 0,L.isChrome=parseFloat(X.split(" Chrome/")[1])||void 0,L.isAIR=0<=X.indexOf("AdobeAIR"),
L.isIPad=0<=X.indexOf("iPad"),L.isChromeOS=0<=X.indexOf(" CrOS "),L.isIOS=/iPad|iPhone|iPod/.test(X)&&!window.MSStream,L.isIOS&&(L.isMac=!0))});
define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(d,L,X){function a(u,c,m){var n=p(c);if(!g.isMac&&e){c.getModifierState&&(c.getModifierState("OS")||c.getModifierState("Win"))&&(n|=8);if(e.altGr){if(3==(3&n))return;e.altGr=0}if(18===m||17===m){var w="location"in c?c.location:c.keyLocation;17===m&&1===w?1==e[m]&&(k=c.timeStamp):18===m&&3===n&&2===w&&50>c.timeStamp-k&&(e.altGr=!0)}}m in f.MODIFIER_KEYS&&(m=-1);n&8&&91<=m&&93>=m&&(m=-1);if(!n&&13===m&&
(w="location"in c?c.location:c.keyLocation,3===w&&(u(c,n,-m),c.defaultPrevented)))return;if(g.isChromeOS&&n&8){u(c,n,m);if(c.defaultPrevented)return;n&=-9}return n||m in f.FUNCTION_KEYS||m in f.PRINTABLE_KEYS?u(c,n,m):!1}function h(){e=Object.create(null)}var f=d("./keys"),g=d("./useragent"),e=null,k=0;L.addListener=function(u,c,m){if(u.addEventListener)return u.addEventListener(c,m,!1);if(u.attachEvent){var n=function(){m.call(u,window.event)};m._wrapper=n;u.attachEvent("on"+c,n)}};L.removeListener=
function(u,c,m){if(u.removeEventListener)return u.removeEventListener(c,m,!1);u.detachEvent&&u.detachEvent("on"+c,m._wrapper||m)};L.stopEvent=function(u){return L.stopPropagation(u),L.preventDefault(u),!1};L.stopPropagation=function(u){u.stopPropagation?u.stopPropagation():u.cancelBubble=!0};L.preventDefault=function(u){u.preventDefault?u.preventDefault():u.returnValue=!1};L.getButton=function(u){return"dblclick"==u.type?0:"contextmenu"==u.type||g.isMac&&u.ctrlKey&&!u.altKey&&!u.shiftKey?2:u.preventDefault?
u.button:{1:0,2:2,4:1}[u.button]};L.capture=function(u,c,m){function n(w){c&&c(w);m&&m(w);L.removeListener(document,"mousemove",c,!0);L.removeListener(document,"mouseup",n,!0);L.removeListener(document,"dragstart",n,!0)}return L.addListener(document,"mousemove",c,!0),L.addListener(document,"mouseup",n,!0),L.addListener(document,"dragstart",n,!0),n};L.addTouchMoveListener=function(u,c){var m,n;L.addListener(u,"touchstart",function(w){w=w.touches[0];m=w.clientX;n=w.clientY});L.addListener(u,"touchmove",
function(w){var z=w.touches;1<z.length||(z=z[0],w.wheelX=m-z.clientX,w.wheelY=n-z.clientY,m=z.clientX,n=z.clientY,c(w))})};L.addMouseWheelListener=function(u,c){"onmousewheel"in u?L.addListener(u,"mousewheel",function(m){void 0!==m.wheelDeltaX?(m.wheelX=-m.wheelDeltaX/8,m.wheelY=-m.wheelDeltaY/8):(m.wheelX=0,m.wheelY=-m.wheelDelta/8);c(m)}):"onwheel"in u?L.addListener(u,"wheel",function(m){switch(m.deltaMode){case m.DOM_DELTA_PIXEL:m.wheelX=.35*m.deltaX||0;m.wheelY=.35*m.deltaY||0;break;case m.DOM_DELTA_LINE:case m.DOM_DELTA_PAGE:m.wheelX=
5*(m.deltaX||0),m.wheelY=5*(m.deltaY||0)}c(m)}):L.addListener(u,"DOMMouseScroll",function(m){m.axis&&m.axis==m.HORIZONTAL_AXIS?(m.wheelX=5*(m.detail||0),m.wheelY=0):(m.wheelX=0,m.wheelY=5*(m.detail||0));c(m)})};L.addMultiMouseDownListener=function(u,c,m,n){function w(J){0!==L.getButton(J)?x=0:1<J.detail?(x++,4<x&&(x=1)):x=1;if(g.isIE){var O=5<Math.abs(J.clientX-H)||5<Math.abs(J.clientY-v);if(!I||O)x=1;I&&clearTimeout(I);I=setTimeout(function(){I=null},c[x-1]||600);1==x&&(H=J.clientX,v=J.clientY)}J._clicks=
x;m[n]("mousedown",J);if(4<x)x=0;else if(1<x)return m[n](D[x],J)}function z(J){x=2;I&&clearTimeout(I);I=setTimeout(function(){I=null},c[x-1]||600);m[n]("mousedown",J);m[n](D[x],J)}var x=0,H,v,I,D={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(u)||(u=[u]);u.forEach(function(J){L.addListener(J,"mousedown",w);g.isOldIE&&L.addListener(J,"dblclick",z)})};var p=!g.isMac||!g.isOpera||"KeyboardEvent"in window?function(u){return 0|(u.ctrlKey?1:0)|(u.altKey?2:0)|(u.shiftKey?4:0)|(u.metaKey?8:0)}:
function(u){return 0|(u.metaKey?1:0)|(u.altKey?2:0)|(u.shiftKey?4:0)|(u.ctrlKey?8:0)};L.getModifierString=function(u){return f.KEY_MODS[p(u)]};L.addCommandKeyListener=function(u,c){var m=L.addListener;if(g.isOldGecko||g.isOpera&&!("KeyboardEvent"in window)){var n=null;m(u,"keydown",function(z){n=z.keyCode});m(u,"keypress",function(z){return a(c,z,n)})}else{var w=null;m(u,"keydown",function(z){e[z.keyCode]=(e[z.keyCode]||0)+1;var x=a(c,z,z.keyCode);return w=z.defaultPrevented,x});m(u,"keypress",function(z){w&&
(z.ctrlKey||z.altKey||z.shiftKey||z.metaKey)&&(L.stopEvent(z),w=null)});m(u,"keyup",function(z){e[z.keyCode]=null});e||(h(),m(window,"focus",h))}};"object"==typeof window&&window.postMessage&&!g.isOldIE&&(L.nextTick=function(u,c){c=c||window;L.addListener(c,"message",function w(n){"zero-timeout-message-1"==n.data&&(L.stopPropagation(n),L.removeListener(c,"message",w),u())});c.postMessage("zero-timeout-message-1","*")});L.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);L.nextFrame?L.nextFrame=L.nextFrame.bind(window):L.nextFrame=function(u){setTimeout(u,17)}});
define("ace/lib/lang",["require","exports","module"],function(d,L,X){L.last=function(f){return f[f.length-1]};L.stringReverse=function(f){return f.split("").reverse().join("")};L.stringRepeat=function(f,g){for(var e="";0<g;)if(g&1&&(e+=f),g>>=1)f+=f;return e};var a=/^\s\s*/,h=/\s\s*$/;L.stringTrimLeft=function(f){return f.replace(a,"")};L.stringTrimRight=function(f){return f.replace(h,"")};L.copyObject=function(f){var g={},e;for(e in f)g[e]=f[e];return g};L.copyArray=function(f){for(var g=[],e=0,
k=f.length;e<k;e++)f[e]&&"object"==typeof f[e]?g[e]=this.copyObject(f[e]):g[e]=f[e];return g};L.deepCopy=function e(g){if("object"!=typeof g||!g)return g;if(Array.isArray(g)){var k=[];for(var p=0;p<g.length;p++)k[p]=e(g[p]);return k}if("[object Object]"!==Object.prototype.toString.call(g))return g;k={};for(p in g)k[p]=e(g[p]);return k};L.arrayToMap=function(g){for(var e={},k=0;k<g.length;k++)e[g[k]]=1;return e};L.createMap=function(g){var e=Object.create(null),k;for(k in g)e[k]=g[k];return e};L.arrayRemove=
function(g,e){for(var k=0;k<=g.length;k++)e===g[k]&&g.splice(k,1)};L.escapeRegExp=function(g){return g.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};L.escapeHTML=function(g){return g.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};L.getMatchOffsets=function(g,e){var k=[];return g.replace(e,function(p){k.push({offset:arguments[arguments.length-2],length:p.length})}),k};L.deferredCall=function(g){var e=null,k=function(){e=null;g()},p=function(u){return p.cancel(),
e=setTimeout(k,u||0),p};return p.schedule=p,p.call=function(){return this.cancel(),g(),p},p.cancel=function(){return clearTimeout(e),e=null,p},p.isPending=function(){return e},p};L.delayedCall=function(g,e){var k=null,p=function(){k=null;g()},u=function(c){null==k&&(k=setTimeout(p,c||e))};return u.delay=function(c){k&&clearTimeout(k);k=setTimeout(p,c||e)},u.schedule=u,u.call=function(){this.cancel();g()},u.cancel=function(){k&&clearTimeout(k);k=null},u.isPending=function(){return k},u}});
define("ace/keyboard/textinput_ios","require exports module ace/lib/event ace/lib/useragent ace/lib/dom ace/lib/lang ace/lib/keys".split(" "),function(d,L,X){var a=d("../lib/event"),h=d("../lib/useragent"),f=d("../lib/dom"),g=d("../lib/lang"),e=d("../lib/keys"),k=e.KEY_MODS,p=18>h.isChrome,u=h.isIE;L.TextInput=function(c,m){function n(ua){if(!J){J=!0;if(ba)La=0,ua=ua?0:x.value.length-1;else{var La=4;ua=5}try{x.setSelectionRange(La,ua)}catch(Qa){}J=!1}}function w(){J||(x.value=H,h.isWebKit&&R.schedule())}
function z(){clearTimeout(Ra);Ra=setTimeout(function(){O&&(x.style.cssText=O,O="");null==m.renderer.$keepTextAreaAtCursor&&(m.renderer.$keepTextAreaAtCursor=!0,m.renderer.$moveTextAreaToCursor())},0)}var x=f.createElement("textarea");x.className=h.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input";h.isTouchPad&&x.setAttribute("x-palm-disable-auto-cap",!0);x.setAttribute("wrap","off");x.setAttribute("autocorrect","off");x.setAttribute("autocapitalize","off");x.setAttribute("spellcheck",!1);
x.style.opacity="0";c.insertBefore(x,c.firstChild);var H="\n aaaa a\n",v=!1,I=!1,D=!1,J=!1,O="",G=!0;try{var T=document.activeElement===x}catch(ua){}a.addListener(x,"blur",function(ua){m.onBlur(ua);T=!1});a.addListener(x,"focus",function(ua){T=!0;m.onFocus(ua);n()});this.focus=function(){if(O)return x.focus();x.style.position="fixed";x.focus()};this.blur=function(){x.blur()};this.isFocused=function(){return T};var S=g.delayedCall(function(){T&&n(G)}),R=g.delayedCall(function(){J||(x.value=H,T&&n())});
h.isWebKit||m.addEventListener("changeSelection",function(){m.selection.isEmpty()!=G&&(G=!G,S.schedule())});w();T&&m.onFocus();var ba=null;this.setInputHandler=function(ua){ba=ua};this.getInputHandler=function(){return ba};var ha=!1,ra=function(ua){if(4!==x.selectionStart||5!==x.selectionEnd)ba&&(ua=ba(ua),ba=null),D?(n(),ua&&m.onPaste(ua),D=!1):ua==H.substr(0)&&4===x.selectionStart?ha?m.execCommand("del",{source:"ace"}):m.execCommand("backspace",{source:"ace"}):v||(ua.substring(0,9)==H&&ua.length>
H.length?ua=ua.substr(9):ua.substr(0,4)==H.substr(0,4)?ua=ua.substr(4,ua.length-H.length+1):ua.charAt(ua.length-1)==H.charAt(0)&&(ua=ua.slice(0,-1)),ua!=H.charAt(0)&&ua.charAt(ua.length-1)==H.charAt(0)&&(ua=ua.slice(0,-1)),ua&&m.onTextInput(ua)),v&&=!1,ha&&=!1},Ka=function(ua){J||(ra(x.value),w())},ma=function(ua,La,Qa){if((ua=ua.clipboardData||window.clipboardData)&&!p){var Pa=u||Qa?"Text":"text/plain";try{return La?!1!==ua.setData(Pa,La):ua.getData(Pa)}catch(cb){if(!Qa)return ma(cb,La,!0)}}},ja=
function(ua,La){var Qa=m.getCopyText();if(!Qa)return a.preventDefault(ua);ma(ua,Qa)?(h.isIOS&&(I=La,x.value="\n aa"+Qa+"a a\n",x.setSelectionRange(4,4+Qa.length),v={value:Qa}),La?m.onCut():m.onCopy(),h.isIOS||a.preventDefault(ua)):(v=!0,x.value=Qa,x.select(),setTimeout(function(){v=!1;w();n();La?m.onCut():m.onCopy()}))};a.addCommandKeyListener(x,m.onCommandKey.bind(m));a.addListener(x,"select",function(ua){0===x.selectionStart&&x.selectionEnd===x.value.length?(m.selectAll(),n()):ba&&n(m.selection.isEmpty())});
a.addListener(x,"input",Ka);a.addListener(x,"cut",function(ua){ja(ua,!0)});a.addListener(x,"copy",function(ua){ja(ua,!1)});a.addListener(x,"paste",function(ua){var La=ma(ua);"string"==typeof La?(La&&m.onPaste(La,ua),h.isIE&&setTimeout(n),a.preventDefault(ua)):(x.value="",D=!0)});var Ca=function(){if(J&&m.onCompositionUpdate&&!m.$readOnly){var ua=x.value.replace(/\x01/g,"");J.lastValue!==ua&&(m.onCompositionUpdate(ua),J.lastValue&&m.undo(),J.canUndo&&(J.lastValue=ua),J.lastValue&&(ua=m.selection.getRange(),
m.insert(J.lastValue),m.session.markUndoGroup(),J.range=m.selection.getRange(),m.selection.setRange(ua),m.selection.clearSelection()))}},Fa=function(ua){if(m.onCompositionEnd&&!m.$readOnly){var La=J;J=!1;var Qa=setTimeout(function(){Qa=null;var Pa=x.value.replace(/\x01/g,"");J||(Pa==La.lastValue?w():!La.lastValue&&Pa&&(w(),ra(Pa)))});ba=function(Pa){return Qa&&clearTimeout(Qa),Pa=Pa.replace(/\x01/g,""),Pa==La.lastValue?"":(La.lastValue&&Qa&&m.undo(),Pa)};m.onCompositionEnd();m.removeListener("mousedown",
Fa);"compositionend"==ua.type&&La.range&&m.selection.setRange(La.range);(h.isChrome&&53<=h.isChrome||h.isWebKit&&603<=h.isWebKit)&&Ka()}},Ga=g.delayedCall(Ca,50);a.addListener(x,"compositionstart",function(ua){J||!m.onCompositionStart||m.$readOnly||(J={},J.canUndo=m.session.$undoManager,m.onCompositionStart(),setTimeout(Ca,0),m.on("mousedown",Fa),J.canUndo&&!m.selection.isEmpty()&&(m.insert(""),m.session.markUndoGroup(),m.selection.clearSelection()),m.session.markUndoGroup())});h.isGecko?a.addListener(x,
"text",function(){Ga.schedule()}):(a.addListener(x,"keyup",function(){Ga.schedule()}),a.addListener(x,"keydown",function(){Ga.schedule()}));a.addListener(x,"compositionend",Fa);this.getElement=function(){return x};this.setReadOnly=function(ua){x.readOnly=ua};this.onContextMenu=function(ua){ha=!0;n(m.selection.isEmpty());m._emit("nativecontextmenu",{target:m,domEvent:ua});this.moveToMouse(ua,!0)};this.moveToMouse=function(ua,La){O||=x.style.cssText;x.style.cssText=(La?"z-index:100000;":"")+"height:"+
x.style.height+";"+(h.isIE?"opacity:0.1;":"");La=m.container.getBoundingClientRect();var Qa=f.computedStyle(m.container),Pa=La.top+(parseInt(Qa.borderTopWidth)||0),cb=La.left+(parseInt(La.borderLeftWidth)||0),rb=La.bottom-Pa-x.clientHeight-2;La=function(Va){x.style.left=Va.clientX-cb-2+"px";x.style.top=Math.min(Va.clientY-Pa-2,rb)+"px"};La(ua);"mousedown"==ua.type&&(m.renderer.$keepTextAreaAtCursor&&(m.renderer.$keepTextAreaAtCursor=null),clearTimeout(Ra),h.isWin&&a.capture(m.container,La,z))};this.onContextMenuClose=
z;var Ra,Ia=function(ua){m.textInput.onContextMenu(ua);z()};a.addListener(x,"mouseup",Ia);a.addListener(x,"mousedown",function(ua){ua.preventDefault();z()});a.addListener(m.renderer.scroller,"contextmenu",Ia);a.addListener(x,"contextmenu",Ia);if(h.isIOS){var va=null,Ta=!1;c.addEventListener("keydown",function(ua){va&&clearTimeout(va);Ta=!0});c.addEventListener("keyup",function(ua){va=setTimeout(function(){Ta=!1},100)});var Da=function(ua){if(document.activeElement===x&&!Ta){if(I)return setTimeout(function(){I=
!1},100);ua=x.selectionStart;var La=x.selectionEnd;x.setSelectionRange(4,5);if(ua==La)switch(ua){case 0:m.onCommandKey(null,0,e.up);break;case 1:m.onCommandKey(null,0,e.home);break;case 2:m.onCommandKey(null,k.option,e.left);break;case 4:m.onCommandKey(null,0,e.left);break;case 5:m.onCommandKey(null,0,e.right);break;case 7:m.onCommandKey(null,k.option,e.right);break;case 8:m.onCommandKey(null,0,e.end);break;case 9:m.onCommandKey(null,0,e.down)}else{switch(La){case 6:m.onCommandKey(null,k.shift,e.right);
break;case 7:m.onCommandKey(null,k.shift|k.option,e.right);break;case 8:m.onCommandKey(null,k.shift,e.end);break;case 9:m.onCommandKey(null,k.shift,e.down)}switch(ua){case 0:m.onCommandKey(null,k.shift,e.up);break;case 1:m.onCommandKey(null,k.shift,e.home);break;case 2:m.onCommandKey(null,k.shift|k.option,e.left);break;case 3:m.onCommandKey(null,k.shift,e.left)}}}};document.addEventListener("selectionchange",Da);m.on("destroy",function(){document.removeEventListener("selectionchange",Da)})}}});
define("ace/keyboard/textinput","require exports module ace/lib/event ace/lib/useragent ace/lib/dom ace/lib/lang ace/keyboard/textinput_ios".split(" "),function(d,L,X){var a=d("../lib/event"),h=d("../lib/useragent"),f=d("../lib/dom"),g=d("../lib/lang"),e=18>h.isChrome,k=h.isIE,p=d("./textinput_ios").TextInput;L.TextInput=function(u,c){function m(va){if(!I){I=!0;if(S){var Ta=0;va=va?0:z.value.length-1}else Ta=va?2:1,va=2;try{z.setSelectionRange(Ta,va)}catch(Da){}I=!1}}function n(){I||(z.value=x,h.isWebKit&&
T.schedule())}function w(){clearTimeout(Ia);Ia=setTimeout(function(){D&&(z.style.cssText=D,D="");null==c.renderer.$keepTextAreaAtCursor&&(c.renderer.$keepTextAreaAtCursor=!0,c.renderer.$moveTextAreaToCursor())},0)}if(h.isIOS)return p.call(this,u,c);var z=f.createElement("textarea");z.className="ace_text-input";z.setAttribute("wrap","off");z.setAttribute("autocorrect","off");z.setAttribute("autocapitalize","off");z.setAttribute("spellcheck",!1);z.style.opacity="0";u.insertBefore(z,u.firstChild);var x=
"\u2028\u2028",H=!1,v=!1,I=!1,D="",J=!0;try{var O=document.activeElement===z}catch(va){}a.addListener(z,"blur",function(va){c.onBlur(va);O=!1});a.addListener(z,"focus",function(va){O=!0;c.onFocus(va);m()});this.focus=function(){if(D)return z.focus();var va=z.style.top;z.style.position="fixed";z.style.top="0px";z.focus();setTimeout(function(){z.style.position="";"0px"==z.style.top&&(z.style.top=va)},0)};this.blur=function(){z.blur()};this.isFocused=function(){return O};var G=g.delayedCall(function(){O&&
m(J)}),T=g.delayedCall(function(){I||(z.value=x,O&&m())});h.isWebKit||c.addEventListener("changeSelection",function(){c.selection.isEmpty()!=J&&(J=!J,G.schedule())});n();O&&c.onFocus();var S=null;this.setInputHandler=function(va){S=va};this.getInputHandler=function(){return S};var R=!1,ba=function(va){S&&(va=S(va),S=null);v?(m(),va&&c.onPaste(va),v=!1):va==x.charAt(0)?R?c.execCommand("del",{source:"ace"}):c.execCommand("backspace",{source:"ace"}):(va.substring(0,2)==x?va=va.substr(2):va.charAt(0)==
x.charAt(0)?va=va.substr(1):va.charAt(va.length-1)==x.charAt(0)&&(va=va.slice(0,-1)),va.charAt(va.length-1)==x.charAt(0)&&(va=va.slice(0,-1)),va&&c.onTextInput(va));R&&=!1},ha=function(va){I||(ba(z.value),n())},ra=function(va,Ta,Da){if((va=va.clipboardData||window.clipboardData)&&!e){var ua=k||Da?"Text":"text/plain";try{return Ta?!1!==va.setData(ua,Ta):va.getData(ua)}catch(La){if(!Da)return ra(La,Ta,!0)}}},Ka=function(va,Ta){var Da=c.getCopyText();if(!Da)return a.preventDefault(va);ra(va,Da)?(Ta?
c.onCut():c.onCopy(),a.preventDefault(va)):(H=!0,z.value=Da,z.select(),setTimeout(function(){H=!1;n();m();Ta?c.onCut():c.onCopy()}))},ma=function(va){Ka(va,!0)},ja=function(va){Ka(va,!1)},Ca=function(va){var Ta=ra(va);"string"==typeof Ta?(Ta&&c.onPaste(Ta,va),h.isIE&&setTimeout(m),a.preventDefault(va)):(z.value="",v=!0)};a.addCommandKeyListener(z,c.onCommandKey.bind(c));a.addListener(z,"select",function(va){H?H=!1:0===z.selectionStart&&z.selectionEnd===z.value.length?(c.selectAll(),m()):S&&m(c.selection.isEmpty())});
a.addListener(z,"input",ha);a.addListener(z,"cut",ma);a.addListener(z,"copy",ja);a.addListener(z,"paste",Ca);"oncut"in z&&"oncopy"in z&&"onpaste"in z||a.addListener(u,"keydown",function(va){if((!h.isMac||va.metaKey)&&va.ctrlKey)switch(va.keyCode){case 67:ja(va);break;case 86:Ca(va);break;case 88:ma(va)}});var Fa=function(){if(I&&c.onCompositionUpdate&&!c.$readOnly){var va=z.value.replace(/\u2028/g,"");I.lastValue!==va&&(c.onCompositionUpdate(va),I.lastValue&&c.undo(),I.canUndo&&(I.lastValue=va),I.lastValue&&
(va=c.selection.getRange(),c.insert(I.lastValue),c.session.markUndoGroup(),I.range=c.selection.getRange(),c.selection.setRange(va),c.selection.clearSelection()))}},Ga=function(va){if(c.onCompositionEnd&&!c.$readOnly){var Ta=I;I=!1;var Da=setTimeout(function(){Da=null;var ua=z.value.replace(/\u2028/g,"");I||(ua==Ta.lastValue?n():!Ta.lastValue&&ua&&(n(),ba(ua)))});S=function(ua){return Da&&clearTimeout(Da),ua=ua.replace(/\u2028/g,""),ua==Ta.lastValue?"":(Ta.lastValue&&Da&&c.undo(),ua)};c.onCompositionEnd();
c.removeListener("mousedown",Ga);"compositionend"==va.type&&Ta.range&&c.selection.setRange(Ta.range);(h.isChrome&&53<=h.isChrome||h.isWebKit&&603<=h.isWebKit)&&ha()}},Ra=g.delayedCall(Fa,50);a.addListener(z,"compositionstart",function(va){I||!c.onCompositionStart||c.$readOnly||(I={},I.canUndo=c.session.$undoManager,c.onCompositionStart(),setTimeout(Fa,0),c.on("mousedown",Ga),I.canUndo&&!c.selection.isEmpty()&&(c.insert(""),c.session.markUndoGroup(),c.selection.clearSelection()),c.session.markUndoGroup())});
h.isGecko?a.addListener(z,"text",function(){Ra.schedule()}):(a.addListener(z,"keyup",function(){Ra.schedule()}),a.addListener(z,"keydown",function(){Ra.schedule()}));a.addListener(z,"compositionend",Ga);this.getElement=function(){return z};this.setReadOnly=function(va){z.readOnly=va};this.onContextMenu=function(va){R=!0;m(c.selection.isEmpty());c._emit("nativecontextmenu",{target:c,domEvent:va});this.moveToMouse(va,!0)};this.moveToMouse=function(va,Ta){D||=z.style.cssText;z.style.cssText=(Ta?"z-index:100000;":
"")+"height:"+z.style.height+";"+(h.isIE?"opacity:0.1;":"");Ta=c.container.getBoundingClientRect();var Da=f.computedStyle(c.container),ua=Ta.top+(parseInt(Da.borderTopWidth)||0),La=Ta.left+(parseInt(Ta.borderLeftWidth)||0),Qa=Ta.bottom-ua-z.clientHeight-2;Ta=function(Pa){z.style.left=Pa.clientX-La-2+"px";z.style.top=Math.min(Pa.clientY-ua-2,Qa)+"px"};Ta(va);"mousedown"==va.type&&(c.renderer.$keepTextAreaAtCursor&&(c.renderer.$keepTextAreaAtCursor=null),clearTimeout(Ia),h.isWin&&a.capture(c.container,
Ta,w))};this.onContextMenuClose=w;var Ia;u=function(va){c.textInput.onContextMenu(va);w()};a.addListener(z,"mouseup",u);a.addListener(z,"mousedown",function(va){va.preventDefault();w()});a.addListener(c.renderer.scroller,"contextmenu",u);a.addListener(z,"contextmenu",u)}});
define("ace/mouse/default_handlers","require exports module ace/lib/dom ace/lib/event ace/lib/useragent".split(" "),function(d,L,X){function a(g){g.$clickSelection=null;var e=g.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(g));e.setDefaultHandler("dblclick",this.onDoubleClick.bind(g));e.setDefaultHandler("tripleclick",this.onTripleClick.bind(g));e.setDefaultHandler("quadclick",this.onQuadClick.bind(g));e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(g));e.setDefaultHandler("touchmove",
this.onTouchMove.bind(g));"select startSelect selectEnd selectAllEnd selectByWordsEnd selectByLinesEnd dragWait dragWaitEnd focusWait".split(" ").forEach(function(k){g[k]=this[k]},this);g.selectByLines=this.extendSelectionBy.bind(g,"getLineRange");g.selectByWords=this.extendSelectionBy.bind(g,"getWordRange")}function h(g,e){return 0>(g.start.row==g.end.row?2*e.column-g.start.column-g.end.column:g.start.row!=g.end.row-1||g.start.column||g.end.column?2*e.row-g.start.row-g.end.row:e.column-4)?{cursor:g.start,
anchor:g.end}:{cursor:g.end,anchor:g.start}}d("../lib/dom");d("../lib/event");var f=d("../lib/useragent");(function(){this.onMouseDown=function(g){var e=g.inSelection(),k=g.getDocumentPosition();this.mousedownEvent=g;var p=this.editor,u=g.getButton();if(0!==u)e=p.getSelectionRange().isEmpty(),p.$blockScrolling++,(e||1==u)&&p.selection.moveToPosition(k),p.$blockScrolling--,2==u&&(p.textInput.onContextMenu(g.domEvent),f.isMozilla||g.preventDefault());else{this.mousedownEvent.time=Date.now();if(e&&!p.isFocused()&&
(p.focus(),this.$focusTimout&&!this.$clickSelection&&!p.inMultiSelectMode)){this.setState("focusWait");this.captureMouse(g);return}return this.captureMouse(g),this.startSelect(k,1<g.domEvent._clicks),g.preventDefault()}};this.startSelect=function(g,e){g=g||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var k=this.editor;k.$blockScrolling++;this.mousedownEvent.getShiftKey()?k.selection.selectToPosition(g):e||k.selection.moveToPosition(g);e||this.select();k.renderer.scroller.setCapture&&
k.renderer.scroller.setCapture();k.setStyle("ace_selecting");this.setState("select");k.$blockScrolling--};this.select=function(){var g=this.editor,e=g.renderer.screenToTextCoordinates(this.x,this.y);g.$blockScrolling++;if(this.$clickSelection){var k=this.$clickSelection.comparePoint(e);-1==k?k=this.$clickSelection.end:1==k?k=this.$clickSelection.start:(k=h(this.$clickSelection,e),e=k.cursor,k=k.anchor);g.selection.setSelectionAnchor(k.row,k.column)}g.selection.selectToPosition(e);g.$blockScrolling--;
g.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(g){var e=this.editor,k=e.renderer.screenToTextCoordinates(this.x,this.y);g=e.selection[g](k.row,k.column);e.$blockScrolling++;if(this.$clickSelection){var p=this.$clickSelection.comparePoint(g.start);var u=this.$clickSelection.comparePoint(g.end);if(-1==p&&0>=u){if(p=this.$clickSelection.end,g.end.row!=k.row||g.end.column!=k.column)k=g.start}else if(1==u&&0<=p){if(p=this.$clickSelection.start,g.start.row!=k.row||g.start.column!=k.column)k=
g.end}else-1==p&&1==u?(k=g.end,p=g.start):(g=h(this.$clickSelection,k),k=g.cursor,p=g.anchor);e.selection.setSelectionAnchor(p.row,p.column)}e.selection.selectToPosition(k);e.$blockScrolling--;e.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()};this.focusWait=function(){var g=
Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),e=Date.now();(0<g||e-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(g){g=g.getDocumentPosition();var e=this.editor,k=e.session.getBracketRange(g);k?(k.isEmpty()&&(k.start.column--,k.end.column++),this.setState("select")):(k=e.selection.getWordRange(g.row,g.column),this.setState("selectByWords"));this.$clickSelection=k;this.select()};
this.onTripleClick=function(g){g=g.getDocumentPosition();var e=this.editor;this.setState("selectByLines");var k=e.getSelectionRange();k.isMultiLine()&&k.contains(g.row,g.column)?(this.$clickSelection=e.selection.getLineRange(k.start.row),this.$clickSelection.end=e.selection.getLineRange(k.end.row).end):this.$clickSelection=e.selection.getLineRange(g.row);this.select()};this.onQuadClick=function(g){g=this.editor;g.selectAll();this.$clickSelection=g.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=
function(g){if(!g.getAccelKey()){g.getShiftKey()&&g.wheelY&&!g.wheelX&&(g.wheelX=g.wheelY,g.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var k=this.$lastScroll,p=g.domEvent.timeStamp,u=p-k.t,c=g.wheelX/u,m=g.wheelY/u;250>u&&(c=(c+k.vx)/2,m=(m+k.vy)/2);u=Math.abs(c/m);var n=!1;1<=u&&e.renderer.isScrollableBy(g.wheelX*g.speed,0)&&(n=!0);1>=u&&e.renderer.isScrollableBy(0,g.wheelY*g.speed)&&(n=!0);n?k.allowed=p:250>p-k.allowed&&(Math.abs(c)<=1.1*Math.abs(k.vx)&&
Math.abs(m)<=1.1*Math.abs(k.vy)?(n=!0,k.allowed=p):k.allowed=0);k.t=p;k.vx=c;k.vy=m;if(n)return e.renderer.scrollBy(g.wheelX*g.speed,g.wheelY*g.speed),g.stop()}};this.onTouchMove=function(g){this.editor._emit("mousewheel",g)}}).call(a.prototype);L.DefaultHandlers=a});
define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(d,L,X){function a(f){this.isOpen=!1;this.$element=null;this.$parentNode=f}d("./lib/oop");var h=d("./lib/dom");(function(){this.$init=function(){return this.$element=h.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(f){h.setInnerText(this.getElement(),
f)};this.setHtml=function(f){this.getElement().innerHTML=f};this.setPosition=function(f,g){this.getElement().style.left=f+"px";this.getElement().style.top=g+"px"};this.setClassName=function(f){h.addCssClass(this.getElement(),f)};this.show=function(f,g,e){null!=f&&this.setText(f);null!=g&&null!=e&&this.setPosition(g,e);this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)};this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)};this.getHeight=function(){return this.getElement().offsetHeight};
this.getWidth=function(){return this.getElement().offsetWidth};this.destroy=function(){this.isOpen=!1;this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(a.prototype);L.Tooltip=a});
define("ace/mouse/default_gutter_handler","require exports module ace/lib/dom ace/lib/oop ace/lib/event ace/tooltip".split(" "),function(d,L,X){function a(e){g.call(this,e)}var h=d("../lib/dom");X=d("../lib/oop");var f=d("../lib/event"),g=d("../tooltip").Tooltip;X.inherits(a,g);(function(){this.setPosition=function(e,k){var p=window.innerWidth||document.documentElement.clientWidth,u=window.innerHeight||document.documentElement.clientHeight,c=this.getWidth(),m=this.getHeight();e+=15;k+=15;e+c>p&&(e-=
e+c-p);k+m>u&&(k-=20+m);g.prototype.setPosition.call(this,e,k)}}).call(a.prototype);L.GutterHandler=function(e){function k(){m&&=clearTimeout(m);w&&(c.hide(),w=null,p._signal("hideGutterTooltip",c),p.removeEventListener("mousewheel",k))}var p=e.editor,u=p.renderer.$gutterLayer,c=new a(p.container);e.editor.setDefaultHandler("guttermousedown",function(z){if(p.isFocused()&&0==z.getButton()&&"foldWidgets"!=u.getRegion(z)){var x=z.getDocumentPosition().row,H=p.session.selection;if(z.getShiftKey())H.selectTo(x,
0);else{if(2==z.domEvent.detail)return p.selectAll(),z.preventDefault();e.$clickSelection=p.selection.getLineRange(x)}return e.setState("selectByLines"),e.captureMouse(z),z.preventDefault()}});var m,n,w;e.editor.setDefaultHandler("guttermousemove",function(z){if(h.hasCssClass(z.domEvent.target||z.domEvent.srcElement,"ace_fold-widget"))return k();w&&e.$tooltipFollowsMouse&&c.setPosition(z.x,z.y);n=z;m||=setTimeout(function(){m=null;if(n&&!e.isMousePressed)a:{var x=n.getDocumentPosition().row,H=u.$annotations[x];
if(H){var v=p.session.getLength();if(x==v&&(x=p.renderer.pixelToScreenCoordinates(0,n.y).row,v=n.$pos,x>p.session.documentToScreenRow(v.row,v.column))){k();break a}w!=H&&(w=H.text.join("<br/>"),c.setHtml(w),c.show(),p._signal("showGutterTooltip",c),p.on("mousewheel",k),e.$tooltipFollowsMouse?c.setPosition(n.x,n.y):(H=n.domEvent.target.getBoundingClientRect(),x=c.getElement().style,x.left=H.right+"px",x.top=H.bottom+"px"))}else k()}else k()},50)});f.addListener(p.renderer.$gutter,"mouseout",function(z){n=
null;w&&!m&&(m=setTimeout(function(){m=null;k()},50))});p.on("changeSession",k)}});
define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(d,L,X){var a=d("../lib/event"),h=d("../lib/useragent");d=L.MouseEvent=function(f,g){this.domEvent=f;this.editor=g;this.x=this.clientX=f.clientX;this.y=this.clientY=f.clientY;this.$inSelection=this.$pos=null;this.defaultPrevented=this.propagationStopped=!1};(function(){this.stopPropagation=function(){a.stopPropagation(this.domEvent);this.propagationStopped=!0};this.preventDefault=function(){a.preventDefault(this.domEvent);
this.defaultPrevented=!0};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)};this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var f=this.editor.getSelectionRange();if(f.isEmpty())this.$inSelection=!1;else{var g=this.getDocumentPosition();this.$inSelection=f.contains(g.row,g.column)}return this.$inSelection};
this.getButton=function(){return a.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=h.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(d.prototype)});
define("ace/mouse/dragdrop_handler","require exports module ace/lib/dom ace/lib/event ace/lib/useragent".split(" "),function(d,L,X){function a(u){var c,m;function n(){var Fa=ba,Ga=ba=I.renderer.screenToTextCoordinates(G,T),Ra=Date.now(),Ia=!Fa||Ga.row!=Fa.row,va=!Fa||Ga.column!=Fa.column;!ja||Ia||va?(I.$blockScrolling+=1,I.moveCursorToPosition(Ga),--I.$blockScrolling,ja=Ra,c=G,m=T):Math.sqrt(Math.pow(G-c,2)+Math.pow(T-m,2))>p?ja=null:Ra-ja>=k&&(I.renderer.scrollCursorIntoView(),ja=null);Ga=ba;Ra=
Date.now();va=I.renderer.layerConfig.lineHeight;var Ta=I.renderer.layerConfig.characterWidth;Ia=I.renderer.scroller.getBoundingClientRect();var Da=G-Ia.left,ua=Ia.right-G,La=T-Ia.top,Qa=Ia.bottom-T,Pa=Math.min(La,Qa);Ia={row:Ga.row,column:Ga.column};2>=Math.min(Da,ua)/Ta&&(Ia.column+=Da<ua?-3:2);1>=Pa/va&&(Ia.row+=La<Qa?-1:1);va=Ga.column!=Ia.column;Fa=!Fa||Ga.row!=Fa.row;Ga.row!=Ia.row||va&&!Fa?ma?Ra-ma>=e&&I.renderer.scrollCursorIntoView(Ia):ma=Ra:ma=null}function w(){R=I.selection.toOrientedRange();
O=I.session.addMarker(R,"ace_selection",I.getSelectionStyle());I.clearSelection();I.isFocused()&&I.renderer.$cursorLayer.setBlinking(!1);clearInterval(S);n();S=setInterval(n,20);ha=0;f.addListener(document,"mousemove",x)}function z(){clearInterval(S);I.session.removeMarker(O);O=null;I.$blockScrolling+=1;I.selection.fromOrientedRange(R);--I.$blockScrolling;I.isFocused()&&!Ka&&I.renderer.$cursorLayer.setBlinking(!I.getReadOnly());ba=R=null;ha=0;ja=ma=null;f.removeListener(document,"mousemove",x)}function x(){null==
Ca&&(Ca=setTimeout(function(){null!=Ca&&O&&z()},20))}function H(Fa){Fa=Fa.types;return!Fa||Array.prototype.some.call(Fa,function(Ga){return"text/plain"==Ga||"Text"==Ga})}function v(Fa){var Ga=["copy","copymove","all","uninitialized"],Ra=["move","copymove","linkmove","all","uninitialized"],Ia=g.isMac?Fa.altKey:Fa.ctrlKey,va="uninitialized";try{va=Fa.dataTransfer.effectAllowed.toLowerCase()}catch(Ta){}Fa="none";return Ia&&0<=Ga.indexOf(va)?Fa="copy":0<=Ra.indexOf(va)?Fa="move":0<=Ga.indexOf(va)&&(Fa=
"copy"),Fa}var I=u.editor,D=h.createElement("img");D.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";g.isOpera&&(D.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(Fa){u[Fa]=this[Fa]},this);I.addEventListener("mousedown",this.onMouseDown.bind(u));var J=I.container,O,G,T,S,R,ba,ha=0,ra,Ka,ma,ja;this.onDragStart=function(Fa){if(this.cancelDrag||
!J.draggable){var Ga=this;return setTimeout(function(){Ga.startSelect();Ga.captureMouse(Fa)},0),Fa.preventDefault()}R=I.getSelectionRange();var Ra=Fa.dataTransfer;Ra.effectAllowed=I.getReadOnly()?"copy":"copyMove";g.isOpera&&(I.container.appendChild(D),D.scrollTop=0);Ra.setDragImage&&Ra.setDragImage(D,0,0);g.isOpera&&I.container.removeChild(D);Ra.clearData();Ra.setData("Text",I.session.getTextRange());Ka=!0;this.setState("drag")};this.onDragEnd=function(Fa){Ka=J.draggable=!1;this.setState(null);I.getReadOnly()||
(Fa=Fa.dataTransfer.dropEffect,!ra&&"move"==Fa&&I.session.remove(I.getSelectionRange()),I.renderer.$cursorLayer.setBlinking(!0));this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(Fa){if(!I.getReadOnly()&&H(Fa.dataTransfer))return G=Fa.clientX,T=Fa.clientY,O||w(),ha++,Fa.dataTransfer.dropEffect=ra=v(Fa),f.preventDefault(Fa)};this.onDragOver=function(Fa){if(!I.getReadOnly()&&H(Fa.dataTransfer))return G=Fa.clientX,T=Fa.clientY,O||(w(),ha++),null!==
Ca&&(Ca=null),Fa.dataTransfer.dropEffect=ra=v(Fa),f.preventDefault(Fa)};this.onDragLeave=function(Fa){ha--;if(0>=ha&&O)return z(),ra=null,f.preventDefault(Fa)};this.onDrop=function(Fa){if(ba){var Ga=Fa.dataTransfer;if(Ka)switch(ra){case "move":R.contains(ba.row,ba.column)?R={start:ba,end:ba}:R=I.moveText(R,ba);break;case "copy":R=I.moveText(R,ba,!0)}else Ga=Ga.getData("Text"),R={start:ba,end:I.session.insert(ba,Ga)},I.focus(),ra=null;return z(),f.preventDefault(Fa)}};f.addListener(J,"dragstart",this.onDragStart.bind(u));
f.addListener(J,"dragend",this.onDragEnd.bind(u));f.addListener(J,"dragenter",this.onDragEnter.bind(u));f.addListener(J,"dragover",this.onDragOver.bind(u));f.addListener(J,"dragleave",this.onDragLeave.bind(u));f.addListener(J,"drop",this.onDrop.bind(u));var Ca=null}var h=d("../lib/dom"),f=d("../lib/event"),g=d("../lib/useragent"),e=200,k=200,p=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(){this.editor.container.draggable=
!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(u){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){this.cancelDrag=!1;var u=this.editor;u.container.draggable=!0;u.renderer.$cursorLayer.setBlinking(!1);u.setStyle("ace_dragging");u.renderer.setCursorStyle(g.isWin?"default":"move");this.setState("dragReady")};
this.onMouseDrag=function(u){u=this.editor.container;if(g.isIE&&"dragReady"==this.state){var c=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2));3<c&&u.dragDrop()}"dragWait"===this.state&&(c=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),0<c&&(u.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))};this.onMouseDown=function(u){if(this.$dragEnabled){this.mousedownEvent=u;var c=this.editor,
m=u.inSelection(),n=u.getButton();1!==(u.domEvent.detail||1)||0!==n||!m||u.editor.inMultiSelectMode&&(u.getAccelKey()||u.getShiftKey())||(this.mousedownEvent.time=Date.now(),m=u.domEvent.target||u.domEvent.srcElement,"unselectable"in m&&(m.unselectable="on"),c.getDragDelay()?(g.isWebKit&&(this.cancelDrag=!0,c.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(u,this.onMouseDrag.bind(this)),u.defaultPrevented=!0)}}}).call(a.prototype);L.DragdropHandler=a});
define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(d,L,X){var a=d("./dom");L.get=function(h,f){var g=new XMLHttpRequest;g.open("GET",h,!0);g.onreadystatechange=function(){4===g.readyState&&f(g.responseText)};g.send(null)};L.loadScript=function(h,f){var g=a.getDocumentHead(),e=document.createElement("script");e.src=h;g.appendChild(e);e.onload=e.onreadystatechange=function(k,p){if(p||!e.readyState||"loaded"==e.readyState||"complete"==e.readyState)e=e.onload=e.onreadystatechange=
null,p||f()}};L.qualifyURL=function(h){var f=document.createElement("a");return f.href=h,f.href}});
define("ace/lib/event_emitter",["require","exports","module"],function(d,L,X){d={};var a=function(){this.propagationStopped=!0},h=function(){this.defaultPrevented=!0};d._emit=d._dispatchEvent=function(f,g){this._eventRegistry||(this._eventRegistry={});this._defaultHandlers||(this._defaultHandlers={});var e=this._eventRegistry[f]||[],k=this._defaultHandlers[f];if(e.length||k){"object"==typeof g&&g||(g={});g.type||(g.type=f);g.stopPropagation||(g.stopPropagation=a);g.preventDefault||(g.preventDefault=
h);e=e.slice();for(f=0;f<e.length&&(e[f](g,this),!g.propagationStopped);f++);if(k&&!g.defaultPrevented)return k(g,this)}};d._signal=function(f,g){if(f=(this._eventRegistry||{})[f]){f=f.slice();for(var e=0;e<f.length;e++)f[e](g,this)}};d.once=function(f,g){var e=this;g&&this.addEventListener(f,function p(){e.removeEventListener(f,p);g.apply(null,arguments)})};d.setDefaultHandler=function(f,g){var e=this._defaultHandlers;e||=this._defaultHandlers={_disabled_:{}};if(e[f]){var k=e[f],p=e._disabled_[f];
p||(e._disabled_[f]=p=[]);p.push(k);k=p.indexOf(g);-1!=k&&p.splice(k,1)}e[f]=g};d.removeDefaultHandler=function(f,g){var e=this._defaultHandlers;if(e){var k=e._disabled_[f];e[f]==g?k&&this.setDefaultHandler(f,k.pop()):k&&(f=k.indexOf(g),-1!=f&&k.splice(f,1))}};d.on=d.addEventListener=function(f,g,e){this._eventRegistry=this._eventRegistry||{};var k=this._eventRegistry[f];return k||=this._eventRegistry[f]=[],-1==k.indexOf(g)&&k[e?"unshift":"push"](g),g};d.off=d.removeListener=d.removeEventListener=
function(f,g){this._eventRegistry=this._eventRegistry||{};if(f=this._eventRegistry[f])g=f.indexOf(g),-1!==g&&f.splice(g,1)};d.removeAllListeners=function(f){this._eventRegistry&&(this._eventRegistry[f]=[])};L.EventEmitter=d});
define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,L,X){function a(k){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function h(k,p){var u=Error(k);u.data=p;"object"==typeof console&&console.error&&console.error(u);setTimeout(function(){throw u;})}"no use strict";var f=d("./oop"),g=d("./event_emitter").EventEmitter,e={setOptions:function(k){Object.keys(k).forEach(function(p){this.setOption(p,k[p])},this)},getOptions:function(k){var p=
{};return k?Array.isArray(k)||(p=k,k=Object.keys(p)):k=Object.keys(this.$options),k.forEach(function(u){p[u]=this.getOption(u)},this),p},setOption:function(k,p){if(this["$"+k]!==p){var u=this.$options[k];if(!u)return a('misspelled option "'+k+'"');if(u.forwardTo)return this[u.forwardTo]&&this[u.forwardTo].setOption(k,p);u.handlesSet||(this["$"+k]=p);u&&u.set&&u.set.call(this,p)}},getOption:function(k){var p=this.$options[k];return p?p.forwardTo?this[p.forwardTo]&&this[p.forwardTo].getOption(k):p&&
p.get?p.get.call(this):this["$"+k]:a('misspelled option "'+k+'"')}};d=function(){this.$defaultOptions={}};(function(){f.implement(this,g);this.defineOptions=function(k,p,u){return k.$options||(this.$defaultOptions[p]=k.$options={}),Object.keys(u).forEach(function(c){var m=u[c];"string"==typeof m&&(m={forwardTo:m});m.name||(m.name=c);k.$options[m.name]=m;"initialValue"in m&&(k["$"+m.name]=m.initialValue)}),f.implement(k,e),this};this.resetOptions=function(k){Object.keys(k.$options).forEach(function(p){var u=
k.$options[p];"value"in u&&k.setOption(p,u.value)})};this.setDefaultValue=function(k,p,u){k=this.$defaultOptions[k]||(this.$defaultOptions[k]={});k[p]&&(k.forwardTo?this.setDefaultValue(k.forwardTo,p,u):k[p].value=u)};this.setDefaultValues=function(k,p){Object.keys(p).forEach(function(u){this.setDefaultValue(k,u,p[u])},this)};this.warn=a;this.reportError=h}).call(d.prototype);L.AppConfig=d});
define("ace/config","require exports module ace/lib/lang ace/lib/oop ace/lib/net ace/lib/app_config".split(" "),function(d,L,X){function a(p){return p.replace(/-(.)/g,function(u,c){return c.toUpperCase()})}"no use strict";var h=d("./lib/lang");d("./lib/oop");var f=d("./lib/net"),g=d("./lib/app_config").AppConfig;X.exports=L=new g;var e=function(){return this||"undefined"!=typeof window&&window}(),k={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};
L.get=function(p){if(!k.hasOwnProperty(p))throw Error("Unknown config key: "+p);return k[p]};L.set=function(p,u){if(!k.hasOwnProperty(p))throw Error("Unknown config key: "+p);k[p]=u};L.all=function(){return h.copyObject(k)};L.moduleUrl=function(p,u){if(k.$moduleUrls[p])return k.$moduleUrls[p];var c=p.split("/");u=u||c[c.length-2]||"";p="snippets"==u?"/":"-";var m=c[c.length-1];"worker"==u&&"-"==p&&(m=m.replace(new RegExp("^"+u+"[\\-_]|[\\-_]"+u+"$","g"),""));(!m||m==u)&&1<c.length&&(m=c[c.length-
2]);c=k[u+"Path"];return null==c?c=k.basePath:"/"==p&&(u=p=""),c&&"/"!=c.slice(-1)&&(c+="/"),c+u+p+m+this.get("suffix")};L.setModuleUrl=function(p,u){return k.$moduleUrls[p]=u};L.$loading={};L.loadModule=function(p,u){var c;Array.isArray(p)&&(c=p[0],p=p[1]);try{var m=d(p)}catch(n){}if(m&&!L.$loading[p])return u&&u(m);L.$loading[p]||(L.$loading[p]=[]);L.$loading[p].push(u);if(!(1<L.$loading[p].length)){u=function(){d([p],function(n){L._emit("load.module",{name:p,module:n});var w=L.$loading[p];L.$loading[p]=
null;w.forEach(function(z){z&&z(n)})})};if(!L.get("packaged"))return u();f.loadScript(L.moduleUrl(p,c),u)}};L.init=function(p){if(e&&e.document){k.packaged=p||d.packaged||X.packaged||e.define&&define.packaged;p={};var u="",c=document.currentScript||document._currentScript;c=(c&&c.ownerDocument||document).getElementsByTagName("script");for(var m=0;m<c.length;m++){var n=c[m],w=n.src||n.getAttribute("src");if(w){n=n.attributes;for(var z=0,x=n.length;z<x;z++){var H=n[z];0===H.name.indexOf("data-ace-")&&
(p[a(H.name.replace(/^data-ace-/,""))]=H.value)}(w=w.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/))&&(u=w[1])}}u&&(p.base=p.base||u,p.packaged=!0);p.basePath=p.base;p.workerPath=p.workerPath||p.base;p.modePath=p.modePath||p.base;p.themePath=p.themePath||p.base;delete p.base;for(var v in p)"undefined"!=typeof p[v]&&L.set(v,p[v])}}});
define("ace/mouse/mouse_handler","require exports module ace/lib/event ace/lib/useragent ace/mouse/default_handlers ace/mouse/default_gutter_handler ace/mouse/mouse_event ace/mouse/dragdrop_handler ace/config".split(" "),function(d,L,X){var a=d("../lib/event"),h=d("../lib/useragent"),f=d("./default_handlers").DefaultHandlers,g=d("./default_gutter_handler").GutterHandler,e=d("./mouse_event").MouseEvent,k=d("./dragdrop_handler").DragdropHandler;d=d("../config");X=function(p){var u=this;this.editor=
p;new f(this);new g(this);new k(this);var c=function(w){document.hasFocus&&document.hasFocus()&&(p.isFocused()||document.activeElement!=(p.textInput&&p.textInput.getElement()))||window.focus();p.focus()},m=p.renderer.getMouseEventTarget();a.addListener(m,"click",this.onMouseEvent.bind(this,"click"));a.addListener(m,"mousemove",this.onMouseMove.bind(this,"mousemove"));a.addMultiMouseDownListener([m,p.renderer.scrollBarV&&p.renderer.scrollBarV.inner,p.renderer.scrollBarH&&p.renderer.scrollBarH.inner,
p.textInput&&p.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent");a.addMouseWheelListener(p.container,this.onMouseWheel.bind(this,"mousewheel"));a.addTouchMoveListener(p.container,this.onTouchMove.bind(this,"touchmove"));var n=p.renderer.$gutter;a.addListener(n,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));a.addListener(n,"click",this.onMouseEvent.bind(this,"gutterclick"));a.addListener(n,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"));a.addListener(n,
"mousemove",this.onMouseEvent.bind(this,"guttermousemove"));a.addListener(m,"mousedown",c);a.addListener(n,"mousedown",c);h.isIE&&p.renderer.scrollBarV&&(a.addListener(p.renderer.scrollBarV.element,"mousedown",c),a.addListener(p.renderer.scrollBarH.element,"mousedown",c));p.on("mousemove",function(w){if(!u.state&&!u.$dragDelay&&u.$dragEnabled){w=p.renderer.screenToTextCoordinates(w.x,w.y);var z=p.session.selection.getRange(),x=p.renderer;!z.isEmpty()&&z.insideStart(w.row,w.column)?x.setCursorStyle("default"):
x.setCursorStyle("")}})};(function(){this.onMouseEvent=function(p,u){this.editor._emit(p,new e(u,this.editor))};this.onMouseMove=function(p,u){var c=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;c&&c.length&&this.editor._emit(p,new e(u,this.editor))};this.onMouseWheel=function(p,u){var c=new e(u,this.editor);c.speed=2*this.$scrollSpeed;c.wheelX=u.wheelX;c.wheelY=u.wheelY;this.editor._emit(p,c)};this.onTouchMove=function(p,u){var c=new e(u,this.editor);c.speed=1;c.wheelX=u.wheelX;
c.wheelY=u.wheelY;this.editor._emit(p,c)};this.setState=function(p){this.state=p};this.captureMouse=function(p,u){this.x=p.x;this.y=p.y;this.isMousePressed=!0;var c=this.editor.renderer;c.$keepTextAreaAtCursor&&(c.$keepTextAreaAtCursor=null);var m=this,n=function(H){if(H){if(h.isWebKit&&!H.which&&m.releaseMouse)return m.releaseMouse();m.x=H.clientX;m.y=H.clientY;u&&u(H);m.mouseEvent=new e(H,m.editor);m.$mouseMoved=!0}},w=function(H){clearInterval(x);z();m[m.state+"End"]&&m[m.state+"End"](H);m.state=
"";null==c.$keepTextAreaAtCursor&&(c.$keepTextAreaAtCursor=!0,c.$moveTextAreaToCursor());m.isMousePressed=!1;m.$onCaptureMouseMove=m.releaseMouse=null;H&&m.onMouseEvent("mouseup",H)},z=function(){m[m.state]&&m[m.state]();m.$mouseMoved=!1};if(h.isOldIE&&"dblclick"==p.domEvent.type)return setTimeout(function(){w(p)});m.$onCaptureMouseMove=n;m.releaseMouse=a.capture(this.editor.container,n,w);var x=setInterval(z,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var p=function(u){u&&u.domEvent&&
"contextmenu"!=u.domEvent.type||(this.editor.off("nativecontextmenu",p),u&&u.domEvent&&a.stopEvent(u.domEvent))}.bind(this);setTimeout(p,10);this.editor.on("nativecontextmenu",p)}}).call(X.prototype);d.defineOptions(X.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:h.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});L.MouseHandler=X});
define("ace/mouse/fold_handler",["require","exports","module"],function(d,L,X){L.FoldHandler=function(a){a.on("click",function(h){var f=h.getDocumentPosition(),g=a.session;(f=g.getFoldAt(f.row,f.column,1))&&(h.getAccelKey()?g.removeFold(f):g.expandFold(f),h.stop())});a.on("gutterclick",function(h){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(h)){var f=h.getDocumentPosition().row,g=a.session;g.foldWidgets&&g.foldWidgets[f]&&a.session.onFoldWidgetClick(f,h);a.isFocused()||a.focus();h.stop()}});
a.on("gutterdblclick",function(h){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(h)){var f=h.getDocumentPosition().row,g=a.session,e=g.getParentFoldRangeData(f,!0);if(e=e.range||e.firstRange)f=e.start.row,(f=g.getFoldAt(f,g.getLine(f).length,1))?g.removeFold(f):(g.addFold("...",e),a.renderer.scrollCursorIntoView({row:e.start.row,column:0}));h.stop()}})}});
define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(d,L,X){var a=d("../lib/keys"),h=d("../lib/event");d=function(f){this.$editor=f;this.$data={editor:f};this.$handlers=[];this.setDefaultHandler(f.commands)};(function(){this.setDefaultHandler=function(f){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=f;this.addKeyboardHandler(f,0)};this.setKeyboardHandler=function(f){var g=this.$handlers;if(g[g.length-1]!=f){for(;g[g.length-
1]&&g[g.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(g[g.length-1]);this.addKeyboardHandler(f,1)}};this.addKeyboardHandler=function(f,g){if(f){"function"==typeof f&&!f.handleKeyboard&&(f.handleKeyboard=f);var e=this.$handlers.indexOf(f);-1!=e&&this.$handlers.splice(e,1);void 0==g?this.$handlers.push(f):this.$handlers.splice(g,0,f);-1==e&&f.attach&&f.attach(this.$editor)}};this.removeKeyboardHandler=function(f){var g=this.$handlers.indexOf(f);return-1==g?!1:(this.$handlers.splice(g,
1),f.detach&&f.detach(this.$editor),!0)};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var f=this.$data,g=f.editor;return this.$handlers.map(function(e){return e.getStatusText&&e.getStatusText(g,f)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(f,g,e,k){for(var p,u=!1,c=this.$editor.commands,m=this.$handlers.length;m--&&!((p=this.$handlers[m].handleKeyboard(this.$data,f,g,e,k))&&p.command&&("null"==p.command?
u=!0:u=c.exec(p.command,this.$editor,p.args,k),u&&k&&-1!=f&&1!=p.passEvent&&1!=p.command.passEvent&&h.stopEvent(k),u)););return!u&&-1==f&&(p={command:"insertstring"},u=c.exec("insertstring",this.$editor,g)),u&&this.$editor._signal&&this.$editor._signal("keyboardActivity",p),u};this.onCommandKey=function(f,g,e){var k=a.keyCodeToString(e);this.$callKeyboardHandlers(g,k,e,f)};this.onTextInput=function(f){this.$callKeyboardHandlers(-1,f)}}).call(d.prototype);L.KeyBinding=d});
define("ace/lib/bidiutil",["require","exports","module"],function(d,L,X){function a(Ga,Ra,Ia){if(!(e<Ga))if(1!=Ga||g!=n||p)for(var va=Ia.length,Ta=0,Da,ua,La;Ta<va;){if(Ra[Ta]>=Ga){for(Da=Ta+1;Da<va&&Ra[Da]>=Ga;)Da++;for(ua=Da-1;Ta<ua;Ta++,ua--)La=Ia[Ta],Ia[Ta]=Ia[ua],Ia[ua]=La;Ta=Da}Ta++}else Ia.reverse()}function h(Ga,Ra,Ia,va){var Ta=Ra[va],Da,ua;switch(Ta){case w:case z:k=!1;case v:case H:return Ta;case x:return k?H:x;case J:return k=!0,z;case O:return v;case G:return 1>va||va+1>=Ra.length||(Da=
Ia[va-1])!=x&&Da!=H||(ua=Ra[va+1])!=x&&ua!=H?v:(k&&(ua=H),ua==Da?ua:v);case T:return Da=0<va?Ia[va-1]:I,Da==x&&va+1<Ra.length&&Ra[va+1]==x?x:v;case S:if(0<va&&Ia[va-1]==x)return x;if(k)return v;Da=va+1;for(Ta=Ra.length;Da<Ta&&Ra[Da]==S;)Da++;return Da<Ta&&Ra[Da]==x?x:v;case R:Ta=Ra.length;for(Da=va+1;Da<Ta&&Ra[Da]==R;)Da++;return Da<Ta&&(Ga=Ga[va],Da=Ra[Da],(1425<=Ga&&2303>=Ga||64286==Ga)&&(Da==z||Da==J))?z:1>va||Ra[va-1]==I?v:Ia[va-1];case I:return k=!1,p=!0,g;case D:return u=!0,v;case ba:case ha:case Ka:case ma:case ra:k=
!1;case ja:return v}}function f(Ga){var Ra=Ga.charCodeAt(0),Ia=Ra>>8;return 0==Ia?191<Ra?w:Ca[Ra]:5==Ia?/[\u0591-\u05f4]/.test(Ga)?z:w:6==Ia?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Ga)?R:/[\u0660-\u0669\u066b-\u066c]/.test(Ga)?H:1642==Ra?S:/[\u06f0-\u06f9]/.test(Ga)?x:J:32==Ia&&8287>=Ra?Fa[Ra&255]:254==Ia?65136<=Ra?J:v:v}var g=0,e=0,k=!1,p=!1,u=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,
1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],n=1,w=0,z=1,x=2,H=3,v=4,I=5,D=6,J=7,O=8,G=9,T=10,S=11,R=12,ba=13,ha=14,ra=15,Ka=16,ma=17,ja=18,Ca=[ja,ja,ja,ja,ja,ja,ja,ja,ja,D,I,D,O,I,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,I,I,I,D,O,v,v,S,S,S,v,v,v,v,v,T,G,T,G,G,x,x,x,x,x,x,x,x,x,x,G,v,v,v,v,v,v,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,v,v,v,v,v,v,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,v,v,v,v,ja,ja,ja,ja,ja,ja,I,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,ja,
ja,ja,ja,ja,ja,G,v,S,S,S,S,v,v,v,v,w,v,v,ja,v,v,S,S,x,x,v,w,v,v,v,x,w,v,v,v,v,v],Fa=[O,O,O,O,O,O,O,O,O,O,O,ja,ja,ja,w,z,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,O,I,ba,ha,ra,Ka,ma,G,S,S,S,S,S,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,G,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,O];L.L=w;L.R=z;L.EN=x;L.ON_R=3;L.AN=4;L.R_H=5;L.B=6;L.DOT="\u00b7";L.doBidiReorder=function(Ga,Ra,Ia){if(2>Ga.length)return{};Ga=Ga.split("");var va=Array(Ga.length),Ta=Array(Ga.length),Da=[];g=Ia?n:0;Ia=Ga.length;var ua=
Ra,La=g?m:c;var Qa=0;var Pa=-1,cb,rb=[];if(!ua){var Va=0;for(ua=[];Va<Ia;Va++)ua[Va]=f(Ga[Va])}e=g;u=p=k=!1;for(cb=0;cb<Ia;cb++){var kb=Qa;rb[cb]=Qa=h(Ga,ua,rb,cb);Qa=La[kb][Qa];Va=Qa&240;Qa&=15;Da[cb]=kb=La[Qa][5];if(0<Va){if(16==Va)for(Va=Pa;Va<cb;Va++)Da[Va]=1;Pa=-1}if(Va=La[Qa][6])-1==Pa&&(Pa=cb);else if(-1<Pa){for(Va=Pa;Va<cb;Va++)Da[Va]=kb;Pa=-1}ua[cb]==I&&(Da[cb]=0);e|=kb}if(u)for(Va=0;Va<Ia;Va++)if(ua[Va]==D)for(Da[Va]=g,La=Va-1;0<=La&&ua[La]==O;La--)Da[La]=g;for(Ia=0;Ia<va.length;va[Ia]=
Ia,Ia++);a(2,Da,va);a(1,Da,va);for(Ia=0;Ia<va.length-1;Ia++)Ra[Ia]===H?Da[Ia]=L.AN:Da[Ia]===z&&(Ra[Ia]>J&&Ra[Ia]<ba||Ra[Ia]===v||Ra[Ia]===ja)?Da[Ia]=L.ON_R:0<Ia&&"\u0644"===Ga[Ia-1]&&/\u0622|\u0623|\u0625|\u0627/.test(Ga[Ia])&&(Da[Ia-1]=Da[Ia]=L.R_H,Ia++);Ga[Ga.length-1]===L.DOT&&(Da[Ga.length-1]=L.B);for(Ia=0;Ia<va.length;Ia++)Ta[Ia]=Da[va[Ia]];return{logicalFromVisual:va,bidiLevels:Ta}};L.hasBidiCharacters=function(Ga,Ra){for(var Ia=!1,va=0;va<Ga.length;va++)Ra[va]=f(Ga.charAt(va)),Ia||Ra[va]!=
z&&Ra[va]!=J||(Ia=!0);return Ia};L.getVisualFromLogicalIdx=function(Ga,Ra){for(var Ia=0;Ia<Ra.logicalFromVisual.length;Ia++)if(Ra.logicalFromVisual[Ia]==Ga)return Ia;return 0}});
define("ace/bidihandler","require exports module ace/lib/bidiutil ace/lib/lang ace/lib/useragent".split(" "),function(d,L,X){var a=d("./lib/bidiutil"),h=d("./lib/lang"),f=d("./lib/useragent"),g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;d=function(e){this.session=e;this.bidiMap={};this.currentRow=null;this.bidiUtil=a;this.charWidths=[];this.EOL="\u00ac";this.showInvisibles=!0;this.isRtlDir=!1;this.line="";this.wrapIndent=0;this.isLastRow=!1;this.EOF="\u00b6";this.seenBidi=!1};(function(){this.isBidiRow=
function(e,k,p){return this.seenBidi?(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(k,p),this.updateBidiMap()),this.bidiMap.bidiLevels):!1};this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&g.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)};this.getDocumentRow=function(){var e=0,k=this.session.$screenRowCache;k.length&&(k=this.session.$getRowCacheIndex(k,this.currentRow),0<=k&&(e=this.session.$docRowCache[k]));return e};this.getSplitIndex=
function(){var e=0,k=this.session.$screenRowCache;if(k.length)for(var p,u=this.session.$getRowCacheIndex(k,this.currentRow);0<this.currentRow-e;){p=this.session.$getRowCacheIndex(k,this.currentRow-e-1);if(p!==u)break;u=p;e++}return e};this.updateRowLine=function(e,k){void 0===e&&(e=this.getDocumentRow());this.wrapIndent=0;this.isLastRow=e===this.session.getLength()-1;this.line=this.session.getLine(e);this.session.$useWrapMode&&(e=this.session.$wrapData[e])&&(void 0===k&&(k=this.getSplitIndex()),0<
k&&e.length?(this.wrapIndent=e.indent,this.line=k<e.length?this.line.substring(e[k-1],e[e.length-1]):this.line.substring(e[e.length-1])):this.line=this.line.substring(0,e[k]));var p=this.session,u=0,c;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(m,n){return"\t"===m||p.isFullWidth(m.charCodeAt(0))?(c="\t"===m?p.getScreenTabSize(n+u):2,u+=c-1,h.stringRepeat(a.DOT,c)):m})};this.updateBidiMap=function(){var e=[],k=this.isLastRow?this.EOF:this.EOL;k=this.line+(this.showInvisibles?
k:a.DOT);a.hasBidiCharacters(k,e)?this.bidiMap=a.doBidiReorder(k,e,this.isRtlDir):this.bidiMap={}};this.markAsDirty=function(){this.currentRow=null};this.updateCharacterWidths=function(e){if(this.seenBidi&&this.characterWidth!==e.$characterSize.width){var k=this.characterWidth=e.$characterSize.width;e=e.$measureCharWidth("\u05d4");this.charWidths[a.L]=this.charWidths[a.EN]=this.charWidths[a.ON_R]=k;this.charWidths[a.R]=this.charWidths[a.AN]=e;this.charWidths[a.R_H]=f.isChrome?e:.45*e;this.charWidths[a.B]=
0;this.currentRow=null}};this.getShowInvisibles=function(){return this.showInvisibles};this.setShowInvisibles=function(e){this.showInvisibles=e;this.currentRow=null};this.setEolChar=function(e){this.EOL=e};this.setTextDir=function(e){this.isRtlDir=e};this.getPosLeft=function(e){e-=this.wrapIndent;var k=a.getVisualFromLogicalIdx(0<e?e-1:0,this.bidiMap),p=this.bidiMap.bidiLevels,u=0;0===e&&0!==p[k]%2&&k++;for(var c=0;c<k;c++)u+=this.charWidths[p[c]];return 0!==e&&0===p[k]%2&&(u+=this.charWidths[p[k]]),
this.wrapIndent&&(u+=this.wrapIndent*this.charWidths[a.L]),u};this.getSelections=function(e,k){var p=this.bidiMap,u=p.bidiLevels,c=this.wrapIndent*this.charWidths[a.L],m=[],n=Math.min(e,k)-this.wrapIndent;k=Math.max(e,k)-this.wrapIndent;for(var w=!1,z=!1,x=0,H=0;H<u.length;H++)w=p.logicalFromVisual[H],e=u[H],(w=w>=n&&w<k)&&!z?x=c:!w&&z&&m.push({left:x,width:c-x}),c+=this.charWidths[e],z=w;return w&&H===u.length&&m.push({left:x,width:c-x}),m};this.offsetToCol=function(e){var k=0;e=Math.max(e,0);var p=
0,u=0,c=this.bidiMap.bidiLevels,m=this.charWidths[c[u]];for(this.wrapIndent&&(e-=this.wrapIndent*this.charWidths[a.L]);e>p+m/2;){p+=m;if(u===c.length-1){m=0;break}m=this.charWidths[c[++u]]}return 0<u&&0!==c[u-1]%2&&0===c[u]%2?(e<p&&u--,k=this.bidiMap.logicalFromVisual[u]):0<u&&0===c[u-1]%2&&0!==c[u]%2?k=1+(e>p?this.bidiMap.logicalFromVisual[u]:this.bidiMap.logicalFromVisual[u-1]):this.isRtlDir&&u===c.length-1&&0===m&&0===c[u-1]%2||!this.isRtlDir&&0===u&&0!==c[u]%2?k=1+this.bidiMap.logicalFromVisual[u]:
(0<u&&0!==c[u-1]%2&&0!==m&&u--,k=this.bidiMap.logicalFromVisual[u]),k+this.wrapIndent}}).call(d.prototype);L.BidiHandler=d});
define("ace/range",["require","exports","module"],function(d,L,X){var a=function(h,f,g,e){this.start={row:h,column:f};this.end={row:g,column:e}};(function(){this.isEqual=function(h){return this.start.row===h.start.row&&this.end.row===h.end.row&&this.start.column===h.start.column&&this.end.column===h.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(h,f){return 0==this.compare(h,f)};this.compareRange=
function(h){var f,g=h.end;h=h.start;return f=this.compare(g.row,g.column),1==f?(f=this.compare(h.row,h.column),1==f?2:0==f?1:0):-1==f?-2:(f=this.compare(h.row,h.column),-1==f?-1:1==f?42:0)};this.comparePoint=function(h){return this.compare(h.row,h.column)};this.containsRange=function(h){return 0==this.comparePoint(h.start)&&0==this.comparePoint(h.end)};this.intersects=function(h){h=this.compareRange(h);return-1==h||0==h||1==h};this.isEnd=function(h,f){return this.end.row==h&&this.end.column==f};this.isStart=
function(h,f){return this.start.row==h&&this.start.column==f};this.setStart=function(h,f){"object"==typeof h?(this.start.column=h.column,this.start.row=h.row):(this.start.row=h,this.start.column=f)};this.setEnd=function(h,f){"object"==typeof h?(this.end.column=h.column,this.end.row=h.row):(this.end.row=h,this.end.column=f)};this.inside=function(h,f){return 0==this.compare(h,f)?this.isEnd(h,f)||this.isStart(h,f)?!1:!0:!1};this.insideStart=function(h,f){return 0==this.compare(h,f)?this.isEnd(h,f)?!1:
!0:!1};this.insideEnd=function(h,f){return 0==this.compare(h,f)?this.isStart(h,f)?!1:!0:!1};this.compare=function(h,f){return this.isMultiLine()||h!==this.start.row?h<this.start.row?-1:h>this.end.row?1:this.start.row===h?f>=this.start.column?0:-1:this.end.row===h?f<=this.end.column?0:1:0:f<this.start.column?-1:f>this.end.column?1:0};this.compareStart=function(h,f){return this.start.row==h&&this.start.column==f?-1:this.compare(h,f)};this.compareEnd=function(h,f){return this.end.row==h&&this.end.column==
f?1:this.compare(h,f)};this.compareInside=function(h,f){return this.end.row==h&&this.end.column==f?1:this.start.row==h&&this.start.column==f?-1:this.compare(h,f)};this.clipRows=function(h,f){if(this.end.row>f)var g={row:f+1,column:0};else this.end.row<h&&(g={row:h,column:0});if(this.start.row>f)var e={row:f+1,column:0};else this.start.row<h&&(e={row:h,column:0});return a.fromPoints(e||this.start,g||this.end)};this.extend=function(h,f){var g=this.compare(h,f);if(0==g)return this;if(-1==g)var e={row:h,
column:f};else var k={row:h,column:f};return a.fromPoints(e||this.start,k||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return a.fromPoints(this.start,this.end)};this.collapseRows=function(){return 0==this.end.column?new a(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new a(this.start.row,0,this.end.row,0)};this.toScreenRange=function(h){var f=
h.documentToScreenPosition(this.start);h=h.documentToScreenPosition(this.end);return new a(f.row,f.column,h.row,h.column)};this.moveBy=function(h,f){this.start.row+=h;this.start.column+=f;this.end.row+=h;this.end.column+=f}}).call(a.prototype);a.fromPoints=function(h,f){return new a(h.row,h.column,f.row,f.column)};a.comparePoints=function(h,f){return h.row-f.row||h.column-f.column};a.comparePoints=function(h,f){return h.row-f.row||h.column-f.column};L.Range=a});
define("ace/selection","require exports module ace/lib/oop ace/lib/lang ace/lib/event_emitter ace/range".split(" "),function(d,L,X){var a=d("./lib/oop"),h=d("./lib/lang"),f=d("./lib/event_emitter").EventEmitter,g=d("./range").Range;d=function(e){this.session=e;this.doc=e.getDocument();this.clearSelection();this.lead=this.selectionLead=this.doc.createAnchor(0,0);this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var k=this;this.lead.on("change",function(p){k._emit("changeCursor");k.$isEmpty||
k._emit("changeSelection");!k.$keepDesiredColumnOnChange&&p.old.column!=p.value.column&&(k.$desiredColumn=null)});this.selectionAnchor.on("change",function(){k.$isEmpty||k._emit("changeSelection")})};(function(){a.implement(this,f);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=
function(e,k){this.anchor.setPosition(e,k);this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))};this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.shiftSelection=function(e){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+e);else{var k=this.getSelectionAnchor(),p=this.getSelectionLead(),u=this.isBackwards();u&&0===k.column||this.setSelectionAnchor(k.row,
k.column+e);(u||0!==p.column)&&this.$moveSelection(function(){this.moveCursorTo(p.row,p.column+e)})}};this.isBackwards=function(){var e=this.anchor,k=this.lead;return e.row>k.row||e.row==k.row&&e.column>k.column};this.getRange=function(){var e=this.anchor,k=this.lead;return this.isEmpty()?g.fromPoints(k,k):this.isBackwards()?g.fromPoints(k,e):g.fromPoints(e,k)};this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))};this.selectAll=function(){var e=this.doc.getLength()-
1;this.setSelectionAnchor(0,0);this.moveCursorTo(e,this.doc.getLine(e).length)};this.setRange=this.setSelectionRange=function(e,k){k?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column));this.getRange().isEmpty()&&(this.$isEmpty=!0);this.$desiredColumn=null};this.$moveSelection=function(e){var k=this.lead;this.$isEmpty&&this.setSelectionAnchor(k.row,k.column);e.call(this)};
this.selectTo=function(e,k){this.$moveSelection(function(){this.moveCursorTo(e,k)})};this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})};this.moveTo=function(e,k){this.clearSelection();this.moveCursorTo(e,k)};this.moveToPosition=function(e){this.clearSelection();this.moveCursorToPosition(e)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};
this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};
this.getWordRange=function(e,k){"undefined"==typeof k&&(k=e||this.lead,e=k.row,k=k.column);return this.session.getWordRange(e,k)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var e=this.getCursor();e=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(e)};this.getLineRange=function(e,k){e="number"==typeof e?e:this.lead.row;var p,u=this.session.getFoldLine(e);return u?(e=u.start.row,p=u.end.row):p=e,!0===k?new g(e,0,p,this.session.getLine(p).length):
new g(e,0,p+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.wouldMoveIntoSoftTab=function(e,k,p){var u=e.column,c=e.column+k;return 0>p&&(u=e.column-k,c=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(u,c).split(" ").length-1==k};this.moveCursorLeft=function(){var e=this.lead.getPosition(),k;(k=this.session.getFoldAt(e.row,e.column,-1))?
this.moveCursorTo(k.start.row,k.start.column):0===e.column?0<e.row&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length):(k=this.session.getTabSize(),this.wouldMoveIntoSoftTab(e,k,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-k):this.moveCursorBy(0,-1))};this.moveCursorRight=function(){var e=this.lead.getPosition();if(e=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<
this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var k=this.session.getTabSize();e=this.lead;this.wouldMoveIntoSoftTab(e,k,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,k):this.moveCursorBy(0,1)}};this.moveCursorLineStart=function(){var e=this.lead.row,k=this.lead.column,p=this.session.documentToScreenRow(e,k);p=this.session.screenToDocumentPosition(p,0);e=this.session.getDisplayLine(e,null,p.row,p.column).match(/^\s*/);e[0].length!=k&&!this.session.$useEmacsStyleLineStart&&
(p.column+=e[0].length);this.moveCursorToPosition(p)};this.moveCursorLineEnd=function(){var e=this.lead;e=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==e.column){var k=this.session.getLine(e.row);e.column==k.length&&(k=k.search(/\s+$/),0<k&&(e.column=k))}this.moveCursorTo(e.row,e.column)};this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,k=this.doc.getLine(e).length;this.moveCursorTo(e,k)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};
this.moveCursorLongWordRight=function(){var e=this.lead.row,k=this.lead.column,p=this.doc.getLine(e),u=p.substring(k);this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;var c=this.session.getFoldAt(e,k,1);c?this.moveCursorTo(c.end.row,c.end.column):(this.session.nonTokenRe.exec(u)&&(k+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,u=p.substring(k)),k>=p.length?(this.moveCursorTo(e,p.length),this.moveCursorRight(),e<this.doc.getLength()-1&&this.moveCursorWordRight()):
(this.session.tokenRe.exec(u)&&(k+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,k)))};this.moveCursorLongWordLeft=function(){var e=this.lead.row,k=this.lead.column,p;(p=this.session.getFoldAt(e,k,-1))?this.moveCursorTo(p.start.row,p.start.column):(p=this.session.getFoldStringAt(e,k,-1),null==p&&(p=this.doc.getLine(e).substring(0,k)),p=h.stringReverse(p),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(p)&&(k-=
this.session.nonTokenRe.lastIndex,p=p.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=k?(this.moveCursorTo(e,0),this.moveCursorLeft(),0<e&&this.moveCursorWordLeft()):(this.session.tokenRe.exec(p)&&(k-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,k)))};this.$shortWordEndIndex=function(e){var k=0,p,u=/\s/,c=this.session.tokenRe;c.lastIndex=0;if(this.session.tokenRe.exec(e))k=this.session.tokenRe.lastIndex;else{for(;(p=e[k])&&u.test(p);)k++;
if(1>k)for(c.lastIndex=0;(p=e[k])&&!c.test(p);)if(c.lastIndex=0,k++,u.test(p)){if(2<k){k--;break}for(;(p=e[k])&&u.test(p);)k++;if(2<k)break}}return c.lastIndex=0,k};this.moveCursorShortWordRight=function(){var e=this.lead.row,k=this.lead.column,p=this.doc.getLine(e),u=p.substring(k),c=this.session.getFoldAt(e,k,1);if(c)return this.moveCursorTo(c.end.row,c.end.column);if(k==p.length){k=this.doc.getLength();do e++,u=this.doc.getLine(e);while(e<k&&/^\s*$/.test(u));/^\s+/.test(u)||(u="");k=0}u=this.$shortWordEndIndex(u);
this.moveCursorTo(e,k+u)};this.moveCursorShortWordLeft=function(){var e=this.lead.row,k=this.lead.column,p;if(p=this.session.getFoldAt(e,k,-1))return this.moveCursorTo(p.start.row,p.start.column);p=this.session.getLine(e).substring(0,k);if(0===k){do e--,p=this.doc.getLine(e);while(0<e&&/^\s*$/.test(p));k=p.length;/\s+$/.test(p)||(p="")}p=h.stringReverse(p);p=this.$shortWordEndIndex(p);return this.moveCursorTo(e,k-p)};this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():
this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()};this.moveCursorBy=function(e,k){var p=this.session.documentToScreenPosition(this.lead.row,this.lead.column),u;0===k&&(0!==e&&(this.session.$bidiHandler.isBidiRow(p.row,this.lead.row)?(u=this.session.$bidiHandler.getPosLeft(p.column),p.column=Math.round(u/this.session.$bidiHandler.charWidths[0])):u=p.column*this.session.$bidiHandler.charWidths[0]),
this.$desiredColumn?p.column=this.$desiredColumn:this.$desiredColumn=p.column);p=this.session.screenToDocumentPosition(p.row+e,p.column,u);0!==e&&0===k&&p.row===this.lead.row&&p.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[p.row]&&(0<p.row||0<e)&&p.row++;this.moveCursorTo(p.row,p.column+k,0===k)};this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)};this.moveCursorTo=function(e,k,p){var u=this.session.getFoldAt(e,k,1);u&&(e=u.start.row,k=u.start.column);
this.$keepDesiredColumnOnChange=!0;u=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(u.charAt(k))&&u.charAt(k-1)&&(this.lead.row==e&&this.lead.column==k+1?--k:k+=1);this.lead.setPosition(e,k);this.$keepDesiredColumnOnChange=!1;p||(this.$desiredColumn=null)};this.moveCursorToScreen=function(e,k,p){e=this.session.screenToDocumentPosition(e,k);this.moveCursorTo(e.row,e.column,p)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=function(e){this.setSelectionRange(e,
e.cursor==e.start);this.$desiredColumn=e.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(e){var k=this.getRange();return e?(e.start.column=k.start.column,e.start.row=k.start.row,e.end.column=k.end.column,e.end.row=k.end.row):e=k,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e};this.getRangeOfMovements=function(e){var k=this.getCursor();try{e(this);var p=this.getCursor();return g.fromPoints(k,p)}catch(u){return g.fromPoints(k,k)}finally{this.moveCursorToPosition(k)}};
this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(k){var p=k.clone();return p.isBackwards=k.cursor==k.start,p});else e=this.getRange(),e.isBackwards=this.isBackwards();return e};this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var k=e.length;k--;){var p=g.fromPoints(e[k].start,e[k].end);e[k].isBackwards&&(p.cursor=p.start);this.addRange(p,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e);this.setSelectionRange(e,e.isBackwards)};
this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var k=this.ranges.length;k--;)if(!this.ranges[k].isEqual(e[k]))return!1;return!0}}).call(d.prototype);L.Selection=d});
define("ace/tokenizer",["require","exports","module","ace/config"],function(d,L,X){var a=d("./config"),h=2E3;d=function(f){this.states=f;this.regExps={};this.matchMappings={};for(var g in this.states){f=this.states[g];for(var e=[],k=0,p=this.matchMappings[g]={defaultToken:"text"},u="g",c=[],m=0;m<f.length;m++){var n=f[m];n.defaultToken&&(p.defaultToken=n.defaultToken);n.caseInsensitive&&(u="gi");if(null!=n.regex){n.regex instanceof RegExp&&(n.regex=n.regex.toString().slice(1,-1));var w=n.regex,z=
(new RegExp("(?:("+w+")|(.))")).exec("a").length-2;Array.isArray(n.token)?1==n.token.length||1==z?n.token=n.token[0]:z-1!=n.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:n,groupCount:z-1}),n.token=n.token[0]):(n.tokenArray=n.token,n.token=null,n.onMatch=this.$arrayTokens):"function"==typeof n.token&&!n.onMatch&&(1<z?n.onMatch=this.$applyToken:n.onMatch=n.token);1<z&&(/\\\d/.test(n.regex)?w=n.regex.replace(/\\([0-9]+)/g,function(x,H){return"\\"+(parseInt(H,
10)+k+1)}):(z=1,w=this.removeCapturingGroups(n.regex)),!n.splitRegex&&"string"!=typeof n.token&&c.push(n));p[k]=m;k+=z;e.push(w);n.onMatch||(n.onMatch=null)}}e.length||(p[0]=0,e.push("$"));c.forEach(function(x){x.splitRegex=this.createSplitterRegexp(x.regex,u)},this);this.regExps[g]=new RegExp("("+e.join(")|(")+")|($)",u)}};(function(){this.$setMaxTokenCount=function(f){h=f|0};this.$applyToken=function(f){var g=this.splitRegex.exec(f).slice(1),e=this.token.apply(this,g);if("string"==typeof e)return[{type:e,
value:f}];f=[];for(var k=0,p=e.length;k<p;k++)g[k]&&(f[f.length]={type:e[k],value:g[k]});return f};this.$arrayTokens=function(f){if(!f)return[];f=this.splitRegex.exec(f);if(!f)return"text";for(var g=[],e=this.tokenArray,k=0,p=e.length;k<p;k++)f[k+1]&&(g[g.length]={type:e[k],value:f[k+1]});return g};this.removeCapturingGroups=function(f){return f.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(g,e){return e?"(?:":g})};this.createSplitterRegexp=function(f,g){if(-1!=f.indexOf("(?=")){var e=
0,k=!1,p={};f.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(u,c,m,n,w,z){return k?k="]"!=w:w?k=!0:n?(e==p.stack&&(p.end=z+1,p.stack=-1),e--):m&&(e++,1!=m.length&&(p.stack=e,p.start=z)),u});null!=p.end&&/^\)*$/.test(f.substr(p.end))&&(f=f.substring(0,p.start)+f.substr(p.end))}return"^"!=f.charAt(0)&&(f="^"+f),"$"!=f.charAt(f.length-1)&&(f+="$"),new RegExp(f,(g||"").replace("g",""))};this.getLineTokens=function(f,g){if(g&&"string"!=typeof g){var e=g.slice(0);g=e[0];"#tmp"===g&&(e.shift(),
g=e.shift())}else e=[];var k=g||"start",p=this.states[k];p||(k="start",p=this.states[k]);var u=this.matchMappings[k],c=this.regExps[k];c.lastIndex=0;for(var m,n=[],w=0,z=0,x={type:null,value:""};m=c.exec(f);){var H=u.defaultToken,v=null,I=m[0],D=c.lastIndex;if(D-I.length>w){var J=f.substring(w,D-I.length);x.type==H?x.value+=J:(x.type&&n.push(x),x={type:H,value:J})}for(J=0;J<m.length-2;J++)if(void 0!==m[J+1]){v=p[u[J]];v.onMatch?H=v.onMatch(I,k,e,f):H=v.token;v.next&&("string"==typeof v.next?k=v.next:
k=v.next(k,e),p=this.states[k],p||(this.reportError("state doesn't exist",k),k="start",p=this.states[k]),u=this.matchMappings[k],w=D,c=this.regExps[k],c.lastIndex=D);v.consumeLineEnd&&(w=D);break}if(I)if("string"==typeof H)v&&!1===v.merge||x.type!==H?(x.type&&n.push(x),x={type:H,value:I}):x.value+=I;else if(H)for(x.type&&n.push(x),x={type:null,value:""},J=0;J<H.length;J++)n.push(H[J]);if(w==f.length)break;w=D;if(z++>h){for(z>2*f.length&&this.reportError("infinite loop with in ace tokenizer",{startState:g,
line:f});w<f.length;)x.type&&n.push(x),x={value:f.substring(w,w+=2E3),type:"overflow"};k="start";e=[];break}}return x.type&&n.push(x),1<e.length&&e[0]!==k&&e.unshift("#tmp",k),{tokens:n,state:e.length?e:k}};this.reportError=a.reportError}).call(d.prototype);L.Tokenizer=d});
define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(d,L,X){var a=d("../lib/lang");d=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(g,e){if(e)for(c in g){for(var k=g[c],p=0;p<k.length;p++){var u=k[p];if(u.next||u.onMatch)"string"==typeof u.next&&0!==u.next.indexOf(e)&&(u.next=e+u.next),u.nextState&&0!==u.nextState.indexOf(e)&&(u.nextState=e+u.nextState)}this.$rules[e+c]=k}else for(var c in g)this.$rules[c]=
g[c]};this.getRules=function(){return this.$rules};this.embedRules=function(g,e,k,p,u){g="function"==typeof g?(new g).getRules():g;if(p)for(var c=0;c<p.length;c++)p[c]=e+p[c];else for(c in p=[],g)p.push(e+c);this.addRules(g,e);if(k)for(u=Array.prototype[u?"push":"unshift"],c=0;c<p.length;c++)u.apply(this.$rules[p[c]],a.deepCopy(k));this.$embeds||(this.$embeds=[]);this.$embeds.push(e)};this.getEmbeds=function(){return this.$embeds};var h=function(g,e){return("start"!=g||e.length)&&e.unshift(this.nextState,
g),this.nextState},f=function(g,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){function g(p){p=k[p];p.processed=!0;for(var u=0;u<p.length;u++){var c=p[u],m=null;Array.isArray(c)&&(m=c,c={});!c.regex&&c.start&&(c.regex=c.start,c.next||(c.next=[]),c.next.push({defaultToken:c.token},{token:c.token+".end",regex:c.end||c.start,next:"pop"}),c.token+=".start",c.push=!0);var n=c.next||c.push;if(n&&Array.isArray(n)){var w=c.stateName;w||(w=c.token,"string"!=typeof w&&(w=w[0]||""),k[w]&&
(w+=e++));k[w]=n;c.next=w;g(w)}else"pop"==n&&(c.next=f);c.push&&(c.nextState=c.next||c.push,c.next=h,delete c.push);if(c.rules)for(var z in c.rules)k[z]?k[z].push&&k[z].push.apply(k[z],c.rules[z]):k[z]=c.rules[z];(n="string"==typeof c?c:c.include)&&(Array.isArray(n)?m=n.map(function(x){return k[x]}):m=k[n]);m&&(m=[u,1].concat(m),c.noEscape&&(m=m.filter(function(x){return!x.next})),p.splice.apply(p,m),u--);c.keywordMap&&(c.token=this.createKeywordMapper(c.keywordMap,c.defaultToken||"text",c.caseInsensitive),
delete c.defaultToken)}}var e=0,k=this.$rules;Object.keys(k).forEach(g,this)};this.createKeywordMapper=function(g,e,k,p){var u=Object.create(null);return Object.keys(g).forEach(function(c){var m=g[c];k&&(m=m.toLowerCase());m=m.split(p||"|");for(var n=m.length;n--;)u[m[n]]=c}),Object.getPrototypeOf(u)&&(u.__proto__=null),this.$keywordList=Object.keys(u),g=null,k?function(c){return u[c.toLowerCase()]||e}:function(c){return u[c]||e}};this.getKeywords=function(){return this.$keywords}}).call(d.prototype);
L.TextHighlightRules=d});
define("ace/mode/behaviour",["require","exports","module"],function(d,L,X){d=function(){this.$behaviours={}};(function(){this.add=function(a,h,f){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[a]:this.$behaviours[a]={}}this.$behaviours[a][h]=f};this.addBehaviours=function(a){for(var h in a)for(var f in a[h])this.add(h,f,a[h][f])};this.remove=function(a){this.$behaviours&&this.$behaviours[a]&&delete this.$behaviours[a]};this.inherit=function(a,h){a="function"==typeof a?
(new a).getBehaviours(h):a.getBehaviours(h);this.addBehaviours(a)};this.getBehaviours=function(a){if(!a)return this.$behaviours;for(var h={},f=0;f<a.length;f++)this.$behaviours[a[f]]&&(h[a[f]]=this.$behaviours[a[f]]);return h}}).call(d.prototype);L.Behaviour=d});
define("ace/token_iterator",["require","exports","module","ace/range"],function(d,L,X){var a=d("./range").Range;d=function(h,f,g){this.$session=h;this.$row=f;this.$rowTokens=h.getTokens(f);this.$tokenIndex=(h=h.getTokenAt(f,g))?h.index:-1};(function(){this.stepBackward=function(){for(--this.$tokenIndex;0>this.$tokenIndex;){--this.$row;if(0>this.$row)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};
this.stepForward=function(){this.$tokenIndex+=1;for(var h;this.$tokenIndex>=this.$rowTokens.length;){this.$row+=1;h||=this.$session.getLength();if(this.$row>=h)return this.$row=h-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var h=this.$rowTokens,f=this.$tokenIndex,
g=h[f].start;if(void 0!==g)return g;for(g=0;0<f;)--f,g+=h[f].value.length;return g};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var h=this.$rowTokens[this.$tokenIndex],f=this.getCurrentTokenColumn();return new a(this.$row,f,this.$row,f+h.value.length)}}).call(d.prototype);L.TokenIterator=d});
define("ace/mode/behaviour/cstyle","require exports module ace/lib/oop ace/mode/behaviour ace/token_iterator ace/lib/lang".split(" "),function(d,L,X){X=d("../../lib/oop");var a=d("../behaviour").Behaviour,h=d("../../token_iterator").TokenIterator,f=d("../../lib/lang"),g=["text","paren.rparen","punctuation.operator"],e=["text","paren.rparen","punctuation.operator","comment"],k,p={},u={'"':'"',"'":"'"},c=function(w){var z=-1;w.multiSelect&&(z=w.selection.index,p.rangeCount!=w.multiSelect.rangeCount&&
(p={rangeCount:w.multiSelect.rangeCount}));if(p[z])return k=p[z];k=p[z]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(w,z,x,H){var v=w.end.row-w.start.row;return{text:x+z+H,selection:[0,w.start.column+1,v,w.end.column+(v?0:1)]}},n=function(w){this.add("braces","insertion",function(z,x,H,v,I){z=H.getCursorPosition();x=v.doc.getLine(z.row);if("{"==I){c(H);I=H.getSelectionRange();
var D=v.doc.getTextRange(I);if(""!==D&&"{"!==D&&H.getWrapBehavioursEnabled())return m(I,D,"{","}");if(n.isSaneInsertion(H,v))return/[\]\}\)]/.test(x[z.column])||H.inMultiSelectMode||w&&w.braces?(n.recordAutoInsert(H,v,"}"),{text:"{}",selection:[1,1]}):(n.recordMaybeInsert(H,v,"{"),{text:"{",selection:[1,1]})}else if("}"==I){if(c(H),D=x.substring(z.column,z.column+1),"}"==D&&null!==v.$findOpeningBracket("}",{column:z.column+1,row:z.row})&&n.isAutoInsertedClosing(z,x,I))return n.popAutoInsertedClosing(),
{text:"",selection:[1,1]}}else{if("\n"==I||"\r\n"==I){c(H);H="";n.isMaybeInsertedClosing(z,x)&&(H=f.stringRepeat("}",k.maybeInsertedBrackets),n.clearMaybeInsertedClosing());D=x.substring(z.column,z.column+1);if("}"===D){z=v.findMatchingBracket({row:z.row,column:z.column+1},"}");if(!z)return null;z=this.$getIndent(v.getLine(z.row))}else{if(!H){n.clearMaybeInsertedClosing();return}z=this.$getIndent(x)}v=z+v.getTabString();return{text:"\n"+v+"\n"+z+H,selection:[1,v.length,1,v.length]}}n.clearMaybeInsertedClosing()}});
this.add("braces","deletion",function(z,x,H,v,I){z=v.doc.getTextRange(I);if(!I.isMultiLine()&&"{"==z){c(H);if("}"==v.doc.getLine(I.start.row).substring(I.end.column,I.end.column+1))return I.end.column++,I;k.maybeInsertedBrackets--}});this.add("parens","insertion",function(z,x,H,v,I){if("("==I){c(H);I=H.getSelectionRange();z=v.doc.getTextRange(I);if(""!==z&&H.getWrapBehavioursEnabled())return m(I,z,"(",")");if(n.isSaneInsertion(H,v))return n.recordAutoInsert(H,v,")"),{text:"()",selection:[1,1]}}else if(")"==
I&&(c(H),H=H.getCursorPosition(),z=v.doc.getLine(H.row),")"==z.substring(H.column,H.column+1)&&null!==v.$findOpeningBracket(")",{column:H.column+1,row:H.row})&&n.isAutoInsertedClosing(H,z,I)))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}});this.add("parens","deletion",function(z,x,H,v,I){z=v.doc.getTextRange(I);if(!I.isMultiLine()&&"("==z&&(c(H),")"==v.doc.getLine(I.start.row).substring(I.start.column+1,I.start.column+2)))return I.end.column++,I});this.add("brackets","insertion",function(z,
x,H,v,I){if("["==I){c(H);I=H.getSelectionRange();z=v.doc.getTextRange(I);if(""!==z&&H.getWrapBehavioursEnabled())return m(I,z,"[","]");if(n.isSaneInsertion(H,v))return n.recordAutoInsert(H,v,"]"),{text:"[]",selection:[1,1]}}else if("]"==I&&(c(H),H=H.getCursorPosition(),z=v.doc.getLine(H.row),"]"==z.substring(H.column,H.column+1)&&null!==v.$findOpeningBracket("]",{column:H.column+1,row:H.row})&&n.isAutoInsertedClosing(H,z,I)))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}});this.add("brackets",
"deletion",function(z,x,H,v,I){z=v.doc.getTextRange(I);if(!I.isMultiLine()&&"["==z&&(c(H),"]"==v.doc.getLine(I.start.row).substring(I.start.column+1,I.start.column+2)))return I.end.column++,I});this.add("string_dquotes","insertion",function(z,x,H,v,I){z=v.$mode.$quotes||u;if(1==I.length&&z[I]&&(!this.lineCommentStart||-1==this.lineCommentStart.indexOf(I))){c(H);x=H.getSelectionRange();var D=v.doc.getTextRange(x);if(""!==D&&(1!=D.length||!z[D])&&H.getWrapBehavioursEnabled())return m(x,D,I,I);if(!D){x=
H.getCursorPosition();z=v.doc.getLine(x.row);H=z.substring(x.column-1,x.column);z=z.substring(x.column,x.column+1);D=v.getTokenAt(x.row,x.column);x=v.getTokenAt(x.row,x.column+1);if("\\"==H&&D&&/escape/.test(D.type))return null;D=D&&/string|escape/.test(D.type);var J=!x||/string|escape/.test(x.type);if(z==I)(v=D!==J)&&/string\.end/.test(x.type)&&(v=!1);else{if(D&&!J||D&&J)return null;x=v.$mode.tokenRe;x.lastIndex=0;v=x.test(H);x.lastIndex=0;H=x.test(H);if(v||H||z&&!/[\s;,.})\]\\]/.test(z))return null;
v=!0}return{text:v?I+I:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(z,x,H,v,I){z=v.doc.getTextRange(I);if(!I.isMultiLine()&&('"'==z||"'"==z)&&(c(H),v.doc.getLine(I.start.row).substring(I.start.column+1,I.start.column+2)==z))return I.end.column++,I})};n.isSaneInsertion=function(w,z){w=w.getCursorPosition();var x=new h(z,w.row,w.column);return this.$matchTokenType(x.getCurrentToken()||"text",g)||(z=new h(z,w.row,w.column+1),this.$matchTokenType(z.getCurrentToken()||"text",g))?
(x.stepForward(),x.getCurrentTokenRow()!==w.row||this.$matchTokenType(x.getCurrentToken()||"text",e)):!1};n.$matchTokenType=function(w,z){return-1<z.indexOf(w.type||w)};n.recordAutoInsert=function(w,z,x){w=w.getCursorPosition();z=z.doc.getLine(w.row);this.isAutoInsertedClosing(w,z,k.autoInsertedLineEnd[0])||(k.autoInsertedBrackets=0);k.autoInsertedRow=w.row;k.autoInsertedLineEnd=x+z.substr(w.column);k.autoInsertedBrackets++};n.recordMaybeInsert=function(w,z,x){w=w.getCursorPosition();z=z.doc.getLine(w.row);
this.isMaybeInsertedClosing(w,z)||(k.maybeInsertedBrackets=0);k.maybeInsertedRow=w.row;k.maybeInsertedLineStart=z.substr(0,w.column)+x;k.maybeInsertedLineEnd=z.substr(w.column);k.maybeInsertedBrackets++};n.isAutoInsertedClosing=function(w,z,x){return 0<k.autoInsertedBrackets&&w.row===k.autoInsertedRow&&x===k.autoInsertedLineEnd[0]&&z.substr(w.column)===k.autoInsertedLineEnd};n.isMaybeInsertedClosing=function(w,z){return 0<k.maybeInsertedBrackets&&w.row===k.maybeInsertedRow&&z.substr(w.column)===k.maybeInsertedLineEnd&&
z.substr(0,w.column)==k.maybeInsertedLineStart};n.popAutoInsertedClosing=function(){k.autoInsertedLineEnd=k.autoInsertedLineEnd.substr(1);k.autoInsertedBrackets--};n.clearMaybeInsertedClosing=function(){k&&(k.maybeInsertedBrackets=0,k.maybeInsertedRow=-1)};X.inherits(n,a);L.CstyleBehaviour=n});
define("ace/unicode",["require","exports","module"],function(d,L,X){L.packages={};d={L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"};
X=/\w{4}/g;for(var a in d)L.packages[a]=d[a].replace(X,"\\u$&")});
define("ace/mode/text","require exports module ace/tokenizer ace/mode/text_highlight_rules ace/mode/behaviour/cstyle ace/unicode ace/lib/lang ace/token_iterator ace/range".split(" "),function(d,L,X){var a=d("../tokenizer").Tokenizer,h=d("./text_highlight_rules").TextHighlightRules,f=d("./behaviour/cstyle").CstyleBehaviour,g=d("../unicode"),e=d("../lib/lang"),k=d("../token_iterator").TokenIterator,p=d("../range").Range;d=function(){this.HighlightRules=h};(function(){this.$defaultBehaviour=new f;this.tokenRe=
new RegExp("^["+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"\\$_]|\\s])+","g");this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new a(this.$highlightRules.getRules())),this.$tokenizer};this.blockComment=this.lineCommentStart="";this.toggleCommentLines=
function(u,c,m,n){function w(Ka){for(var ma=m;ma<=n;ma++)Ka(z.getLine(ma),ma)}var z=c.doc,x=!0,H=!0,v=Infinity,I=c.getTabSize();u=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(T=this.lineCommentStart.map(e.escapeRegExp).join("|"),O=this.lineCommentStart[0]):(T=e.escapeRegExp(this.lineCommentStart),O=this.lineCommentStart);T=new RegExp("^(\\s*)(?:"+T+") ?");u=c.getUseSoftTabs();ba=function(Ka,ma){var ja=Ka.match(T);if(ja){var Ca=ja[1].length,Fa=ja[0].length;!J(Ka,Ca,Fa)&&" "==
ja[0][Fa-1]&&Fa--;z.removeInLine(ma,Ca,Fa)}};var D=O+" ";R=function(Ka,ma){if(!x||/\S/.test(Ka))J(Ka,v,v)?z.insertInLine({row:ma,column:v},D):z.insertInLine({row:ma,column:v},O)};ha=function(Ka,ma){return T.test(Ka)};var J=function(Ka,ma,ja){for(var Ca=0;ma--&&" "==Ka.charAt(ma);)Ca++;if(0!=Ca%I)return!1;for(Ca=0;" "==Ka.charAt(ja++);)Ca++;return 2<I?Ca%I!=I-1:0==Ca%I}}else{if(!this.blockComment)return!1;var O=this.blockComment.start,G=this.blockComment.end,T=new RegExp("^(\\s*)(?:"+e.escapeRegExp(O)+
")"),S=new RegExp("(?:"+e.escapeRegExp(G)+")\\s*$"),R=function(Ka,ma){ha(Ka,ma)||x&&!/\S/.test(Ka)||(z.insertInLine({row:ma,column:Ka.length},G),z.insertInLine({row:ma,column:v},O))},ba=function(Ka,ma){var ja;(ja=Ka.match(S))&&z.removeInLine(ma,Ka.length-ja[0].length,Ka.length);(ja=Ka.match(T))&&z.removeInLine(ma,ja[1].length,ja[0].length)},ha=function(Ka,ma){if(T.test(Ka))return!0;Ka=c.getTokens(ma);for(ma=0;ma<Ka.length;ma++)if("comment"===Ka[ma].type)return!0}}var ra=Infinity;w(function(Ka,ma){var ja=
Ka.search(/\S/);-1!==ja?(ja<v&&(v=ja),H&&!ha(Ka,ma)&&(H=!1)):ra>Ka.length&&(ra=Ka.length)});Infinity==v&&(v=ra,x=!1,H=!1);u&&0!=v%I&&(v=Math.floor(v/I)*I);w(H?ba:R)};this.toggleBlockComment=function(u,c,m,n){if(u=this.blockComment){!u.start&&u[0]&&(u=u[0]);var w=new k(c,n.row,n.column),z=w.getCurrentToken(),x=c.selection.toOrientedRange(),H,v;if(z&&/comment/.test(z.type)){for(var I,D;z&&/comment/.test(z.type);){z=z.value.indexOf(u.start);if(-1!=z){m=w.getCurrentTokenRow();w=w.getCurrentTokenColumn()+
z;I=new p(m,w,m,w+u.start.length);break}z=w.stepBackward()}w=new k(c,n.row,n.column);for(z=w.getCurrentToken();z&&/comment/.test(z.type);){z=z.value.indexOf(u.end);if(-1!=z){m=w.getCurrentTokenRow();w=w.getCurrentTokenColumn()+z;D=new p(m,w,m,w+u.end.length);break}z=w.stepForward()}D&&c.remove(D);I&&(c.remove(I),H=I.start.row,v=-u.start.length)}else v=u.start.length,H=m.start.row,c.insert(m.end,u.end),c.insert(m.start,u.start);x.start.row==H&&(x.start.column+=v);x.end.row==H&&(x.end.column+=v);c.selection.fromOrientedRange(x)}};
this.getNextLineIndent=function(u,c,m){return this.$getIndent(c)};this.checkOutdent=function(u,c,m){return!1};this.autoOutdent=function(u,c,m){};this.$getIndent=function(u){return u.match(/^\s*/)[0]};this.createWorker=function(u){return null};this.createModeDelegates=function(u){this.$embeds=[];this.$modes={};for(var c in u)u[c]&&(this.$embeds.push(c),this.$modes[c]=new u[c]);var m="toggleBlockComment toggleCommentLines getNextLineIndent checkOutdent autoOutdent transformAction getCompletions".split(" ");
for(c=0;c<m.length;c++)(function(n){var w=m[c],z=n[w];n[m[c]]=function(){return this.$delegator(w,arguments,z)}})(this)};this.$delegator=function(u,c,m){var n=c[0];"string"!=typeof n&&(n=n[0]);for(var w=0;w<this.$embeds.length;w++)if(this.$modes[this.$embeds[w]]){var z=n.split(this.$embeds[w]);if(!z[0]&&z[1])return c[0]=z[1],m=this.$modes[this.$embeds[w]],m[u].apply(m,c)}u=m.apply(this,c);return m?u:void 0};this.transformAction=function(u,c,m,n,w){if(this.$behaviour){var z=this.$behaviour.getBehaviours(),
x;for(x in z)if(z[x][c]){var H=z[x][c].apply(this,arguments);if(H)return H}}};this.getKeywords=function(u){if(!this.completionKeywords){var c=this.$tokenizer.rules,m=[];for(v in c)for(var n=c[v],w=0,z=n.length;w<z;w++)if("string"==typeof n[w].token)/keyword|support|storage/.test(n[w].token)&&m.push(n[w].regex);else if("object"==typeof n[w].token)for(var x=0,H=n[w].token.length;x<H;x++)if(/keyword|support|storage/.test(n[w].token[x])){var v=n[w].regex.match(/\(.+?\)/g)[x];m.push(v.substr(1,v.length-
2))}this.completionKeywords=m}return u?m.concat(this.$keywordList||[]):this.$keywordList};this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(u,c,m,n){return(this.$keywordList||this.$createKeywordList()).map(function(w){return{name:w,value:w,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(d.prototype);L.Mode=d});
define("ace/apply_delta",["require","exports","module"],function(d,L,X){L.applyDelta=function(a,h,f){f=h.start.row;var g=h.start.column,e=a[f]||"";switch(h.action){case "insert":if(1===h.lines.length)a[f]=e.substring(0,g)+h.lines[0]+e.substring(g);else{var k=[f,1].concat(h.lines);a.splice.apply(a,k);a[f]=e.substring(0,g)+a[f];a[f+h.lines.length-1]+=e.substring(g)}break;case "remove":k=h.end.column,h=h.end.row,f===h?a[f]=e.substring(0,g)+e.substring(k):a.splice(f,h-f+1,e.substring(0,g)+a[h].substring(k))}}});
define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,L,X){var a=d("./lib/oop"),h=d("./lib/event_emitter").EventEmitter;d=L.Anchor=function(f,g,e){this.$onChange=this.onChange.bind(this);this.attach(f);"undefined"==typeof e?this.setPosition(g.row,g.column):this.setPosition(g,e)};(function(){function f(g,e,k){k=k?g.column<=e.column:g.column<e.column;return g.row<e.row||g.row==e.row&&k}a.implement(this,h);this.getPosition=function(){return this.$clipPositionToDocument(this.row,
this.column)};this.getDocument=function(){return this.document};this.$insertRight=!1;this.onChange=function(g){if(!(g.start.row==g.end.row&&g.start.row!=this.row||g.start.row>this.row)){var e={row:this.row,column:this.column};var k=this.$insertRight,p="insert"==g.action,u=(p?1:-1)*(g.end.row-g.start.row),c=(p?1:-1)*(g.end.column-g.start.column),m=g.start;g=p?m:g.end;e=f(e,m,k)?{row:e.row,column:e.column}:f(g,e,!k)?{row:e.row+u,column:e.column+(e.row==g.row?c:0)}:{row:m.row,column:m.column};this.setPosition(e.row,
e.column,!0)}};this.setPosition=function(g,e,k){var p;k?p={row:g,column:e}:p=this.$clipPositionToDocument(g,e);if(this.row!=p.row||this.column!=p.column)g={row:this.row,column:this.column},this.row=p.row,this.column=p.column,this._signal("change",{old:g,value:p})};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.attach=function(g){this.document=g||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(g,e){var k={};return g>=
this.document.getLength()?(k.row=Math.max(0,this.document.getLength()-1),k.column=this.document.getLine(k.row).length):0>g?(k.row=0,k.column=0):(k.row=g,k.column=Math.min(this.document.getLine(k.row).length,Math.max(0,e))),0>e&&(k.column=0),k}}).call(d.prototype)});
define("ace/document","require exports module ace/lib/oop ace/apply_delta ace/lib/event_emitter ace/range ace/anchor".split(" "),function(d,L,X){var a=d("./lib/oop"),h=d("./apply_delta").applyDelta,f=d("./lib/event_emitter").EventEmitter,g=d("./range").Range,e=d("./anchor").Anchor;d=function(k){this.$lines=[""];0===k.length?this.$lines=[""]:Array.isArray(k)?this.insertMergedLines({row:0,column:0},k):this.insert({row:0,column:0},k)};(function(){a.implement(this,f);this.setValue=function(k){var p=this.getLength()-
1;this.remove(new g(0,0,p,this.getLine(p).length));this.insert({row:0,column:0},k)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(k,p){return new e(this,k,p)};0==="aaa".split(/a/).length?this.$split=function(k){return k.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(k){return k.split(/\r\n|\r|\n/)};this.$detectNewLine=function(k){this.$autoNewLine=(k=k.match(/^.*?(\r\n|\r|\n)/m))?k[1]:"\n";this._signal("changeNewLineMode")};
this.getNewLineCharacter=function(){switch(this.$newLineMode){case "windows":return"\r\n";case "unix":return"\n";default:return this.$autoNewLine||"\n"}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(k){this.$newLineMode!==k&&(this.$newLineMode=k,this._signal("changeNewLineMode"))};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(k){return"\r\n"==k||"\r"==k||"\n"==k};this.getLine=function(k){return this.$lines[k]||""};this.getLines=function(k,
p){return this.$lines.slice(k,p+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(k){return this.getLinesForRange(k).join(this.getNewLineCharacter())};this.getLinesForRange=function(k){if(k.start.row===k.end.row)var p=[this.getLine(k.start.row).substring(k.start.column,k.end.column)];else{p=this.getLines(k.start.row,k.end.row);p[0]=(p[0]||"").substring(k.start.column);var u=p.length-1;k.end.row-
k.start.row==u&&(p[u]=p[u].substring(0,k.end.column))}return p};this.insertLines=function(k,p){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(k,p)};this.removeLines=function(k,p){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(k,p)};this.insertNewLine=function(k){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),
this.insertMergedLines(k,["",""])};this.insert=function(k,p){return 1>=this.getLength()&&this.$detectNewLine(p),this.insertMergedLines(k,this.$split(p))};this.insertInLine=function(k,p){var u=this.clippedPos(k.row,k.column);k=this.pos(k.row,k.column+p.length);return this.applyDelta({start:u,end:k,action:"insert",lines:[p]},!0),this.clonePos(k)};this.clippedPos=function(k,p){var u=this.getLength();void 0===k?k=u:0>k?k=0:k>=u&&(k=u-1,p=void 0);u=this.getLine(k);return void 0==p&&(p=u.length),p=Math.min(Math.max(p,
0),u.length),{row:k,column:p}};this.clonePos=function(k){return{row:k.row,column:k.column}};this.pos=function(k,p){return{row:k,column:p}};this.$clipPosition=function(k){var p=this.getLength();return k.row>=p?(k.row=Math.max(0,p-1),k.column=this.getLine(p-1).length):(k.row=Math.max(0,k.row),k.column=Math.min(Math.max(k.column,0),this.getLine(k.row).length)),k};this.insertFullLines=function(k,p){k=Math.min(Math.max(k,0),this.getLength());var u=0;k<this.getLength()?(p=p.concat([""]),u=0):(p=[""].concat(p),
k--,u=this.$lines[k].length);this.insertMergedLines({row:k,column:u},p)};this.insertMergedLines=function(k,p){k=this.clippedPos(k.row,k.column);var u={row:k.row+p.length-1,column:(1==p.length?k.column:0)+p[p.length-1].length};return this.applyDelta({start:k,end:u,action:"insert",lines:p}),this.clonePos(u)};this.remove=function(k){var p=this.clippedPos(k.start.row,k.start.column);k=this.clippedPos(k.end.row,k.end.column);return this.applyDelta({start:p,end:k,action:"remove",lines:this.getLinesForRange({start:p,
end:k})}),this.clonePos(p)};this.removeInLine=function(k,p,u){p=this.clippedPos(k,p);k=this.clippedPos(k,u);return this.applyDelta({start:p,end:k,action:"remove",lines:this.getLinesForRange({start:p,end:k})},!0),this.clonePos(p)};this.removeFullLines=function(k,p){k=Math.min(Math.max(0,k),this.getLength()-1);p=Math.min(Math.max(0,p),this.getLength()-1);var u=p==this.getLength()-1&&0<k,c=p<this.getLength()-1,m=u?k-1:k;u=u?this.getLine(m).length:0;var n=c?p+1:p;c=c?0:this.getLine(n).length;m=new g(m,
u,n,c);k=this.$lines.slice(k,p+1);return this.applyDelta({start:m.start,end:m.end,action:"remove",lines:this.getLinesForRange(m)}),k};this.removeNewLine=function(k){k<this.getLength()-1&&0<=k&&this.applyDelta({start:this.pos(k,this.getLine(k).length),end:this.pos(k+1,0),action:"remove",lines:["",""]})};this.replace=function(k,p){k instanceof g||(k=g.fromPoints(k.start,k.end));if(0===p.length&&k.isEmpty())return k.start;if(p==this.getTextRange(k))return k.end;this.remove(k);var u;return p?u=this.insert(k.start,
p):u=k.start,u};this.applyDeltas=function(k){for(var p=0;p<k.length;p++)this.applyDelta(k[p])};this.revertDeltas=function(k){for(var p=k.length-1;0<=p;p--)this.revertDelta(k[p])};this.applyDelta=function(k,p){var u="insert"==k.action;(u?1>=k.lines.length&&!k.lines[0]:!g.comparePoints(k.start,k.end))||(u&&2E4<k.lines.length&&this.$splitAndapplyLargeDelta(k,2E4),h(this.$lines,k,p),this._signal("change",k))};this.$splitAndapplyLargeDelta=function(k,p){var u=k.lines,c=u.length,m=k.start.row,n=k.start.column,
w=0;do{var z=w;w+=p-1;var x=u.slice(z,w);if(w>c){k.lines=x;k.start.row=m+z;k.start.column=n;break}x.push("");this.applyDelta({start:this.pos(m+z,n),end:this.pos(m+w,n=0),action:k.action,lines:x},!0)}while(1)};this.revertDelta=function(k){this.applyDelta({start:this.clonePos(k.start),end:this.clonePos(k.end),action:"insert"==k.action?"remove":"insert",lines:k.lines.slice()})};this.indexToPosition=function(k,p){var u=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length;p=p||0;for(var m=
u.length;p<m;p++)if(k-=u[p].length+c,0>k)return{row:p,column:k+u[p].length+c};return{row:m-1,column:u[m-1].length}};this.positionToIndex=function(k,p){var u=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length,m=0,n=Math.min(k.row,u.length);for(p=p||0;p<n;++p)m+=u[p].length+c;return m+k.column}}).call(d.prototype);L.Document=d});
define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,L,X){var a=d("./lib/oop"),h=d("./lib/event_emitter").EventEmitter;d=function(f,g){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=f;var e=this;this.$worker=function(){if(e.running){for(var k=new Date,p=e.currentLine,u=-1,c=e.doc,m=p;e.lines[p];)p++;c=c.getLength();var n=0;for(e.running=!1;p<c;){e.$tokenizeRow(p);u=p;do p++;while(e.lines[p]);n++;if(0===n%
5&&20<new Date-k){e.running=setTimeout(e.$worker,20);break}}e.currentLine=p;-1==u&&(u=p);m<=u&&e.fireUpdateEvent(m,u)}}};(function(){a.implement(this,h);this.setTokenizer=function(f){this.tokenizer=f;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(f){this.doc=f;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(f,g){this._signal("update",{data:{first:f,last:g}})};this.start=function(f){this.currentLine=Math.min(f||0,this.currentLine,this.doc.getLength());
this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))};this.$updateOnChange=function(f){var g=f.start.row,e=f.end.row-g;0===e?this.lines[g]=null:"remove"==f.action?(this.lines.splice(g,e+1,null),this.states.splice(g,e+1,null)):(f=Array(e+1),f.unshift(g,1),this.lines.splice.apply(this.lines,f),this.states.splice.apply(this.states,
f));this.currentLine=Math.min(g,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){this.running&&clearTimeout(this.running);this.running=!1};this.getTokens=function(f){return this.lines[f]||this.$tokenizeRow(f)};this.getState=function(f){return this.currentLine==f&&this.$tokenizeRow(f),this.states[f]||"start"};this.$tokenizeRow=function(f){var g=this.doc.getLine(f);g=this.tokenizer.getLineTokens(g,this.states[f-1],f);return this.states[f]+""!=g.state+""?(this.states[f]=g.state,
this.lines[f+1]=null,this.currentLine>f+1&&(this.currentLine=f+1)):this.currentLine==f&&(this.currentLine=f+1),this.lines[f]=g.tokens}}).call(d.prototype);L.BackgroundTokenizer=d});
define("ace/search_highlight","require exports module ace/lib/lang ace/lib/oop ace/range".split(" "),function(d,L,X){var a=d("./lib/lang");d("./lib/oop");var h=d("./range").Range;d=function(f,g,e){this.setRegexp(f);this.clazz=g;this.type=e||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(f){this.regExp+""!=f+""&&(this.regExp=f,this.cache=[])};this.update=function(f,g,e,k){if(this.regExp)for(var p=k.lastRow,u=k.firstRow;u<=p;u++){var c=this.cache[u];null==c&&(c=a.getMatchOffsets(e.getLine(u),
this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(n){return new h(u,n.offset,u,n.offset+n.length)}),this.cache[u]=c.length?c:"");for(var m=c.length;m--;)g.drawSingleLineMarker(f,c[m].toScreenRange(e),this.clazz,k)}}}).call(d.prototype);L.SearchHighlight=d});
define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(d,L,X){function a(f,g){this.foldData=f;Array.isArray(g)?this.folds=g:g=this.folds=[g];f=g[g.length-1];this.range=new h(g[0].start.row,g[0].start.column,f.end.row,f.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(e){e.setFoldLine(this)},this)}var h=d("../range").Range;(function(){this.shiftRow=function(f){this.start.row+=f;this.end.row+=f;this.folds.forEach(function(g){g.start.row+=
f;g.end.row+=f})};this.addFold=function(f){if(f.sameRow){if(f.start.row<this.startRow||f.endRow>this.endRow)throw Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(f);this.folds.sort(function(g,e){return-g.range.compareEnd(e.start.row,e.start.column)});0<this.range.compareEnd(f.start.row,f.start.column)?(this.end.row=f.end.row,this.end.column=f.end.column):0>this.range.compareStart(f.end.row,f.end.column)&&(this.start.row=f.start.row,this.start.column=f.start.column)}else if(f.start.row==
this.end.row)this.folds.push(f),this.end.row=f.end.row,this.end.column=f.end.column;else{if(f.end.row!=this.start.row)throw Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(f);this.start.row=f.start.row;this.start.column=f.start.column}f.foldLine=this};this.containsRow=function(f){return f>=this.start.row&&f<=this.end.row};this.walk=function(f,g,e){var k=0,p=this.folds;var u=!0;null==g&&(g=this.end.row,e=this.end.column);for(var c=0;c<p.length;c++){var m=
p[c];var n=m.range.compareStart(g,e);if(-1==n){f(null,g,e,k,u);return}u=f(null,m.start.row,m.start.column,k,u);if((u=!u&&f(m.placeholder,m.start.row,m.start.column,k))||0===n)return;u=!m.sameRow;k=m.end.column}f(null,g,e,k,u)};this.getNextFoldTo=function(f,g){for(var e,k,p=0;p<this.folds.length;p++){e=this.folds[p];k=e.range.compareEnd(f,g);if(-1==k)return{fold:e,kind:"after"};if(0===k)return{fold:e,kind:"inside"}}return null};this.addRemoveChars=function(f,g,e){var k=this.getNextFoldTo(f,g);if(k){var p=
k.fold;if("inside"==k.kind&&p.start.column!=g&&p.start.row!=f)window.console&&window.console.log(f,g,p);else if(p.start.row==f){f=this.folds;g=f.indexOf(p);0===g&&(this.start.column+=e);for(g;g<f.length;g++){p=f[g];p.start.column+=e;if(!p.sameRow)return;p.end.column+=e}this.end.column+=e}}};this.split=function(f,g){var e=this.getNextFoldTo(f,g);if(!e||"inside"==e.kind)return null;g=this.folds;f=this.foldData;e=g.indexOf(e.fold);var k=g[e-1];this.end.row=k.end.row;this.end.column=k.end.column;g=g.splice(e,
g.length-e);g=new a(f,g);return f.splice(f.indexOf(this)+1,0,g),g};this.merge=function(f){for(var g=f.folds,e=0;e<g.length;e++)this.addFold(g[e]);g=this.foldData;g.splice(g.indexOf(f),1)};this.toString=function(){var f=[this.range.toString()+": ["];return this.folds.forEach(function(g){f.push("  "+g.toString())}),f.push("]"),f.join("\n")};this.idxToPosition=function(f){for(var g=0,e=0;e<this.folds.length;e++){var k=this.folds[e];f-=k.start.column-g;if(0>f)return{row:k.start.row,column:k.start.column+
f};f-=k.placeholder.length;if(0>f)return k.start;g=k.end.column}return{row:this.end.row,column:this.end.column+f}}}).call(a.prototype);L.FoldLine=a});
define("ace/range_list",["require","exports","module","ace/range"],function(d,L,X){var a=d("./range").Range.comparePoints;d=function(){this.ranges=[]};(function(){this.comparePoints=a;this.pointIndex=function(h,f,g){var e=this.ranges;for(g=g||0;g<e.length;g++){var k=e[g],p=a(h,k.end);if(!(0<p))return h=a(h,k.start),0===p?f&&0!==h?-g-2:g:0<h||0===h&&!f?g:-g-1}return-g-1};this.add=function(h){var f=!h.isEmpty(),g=this.pointIndex(h.start,f);0>g&&(g=-g-1);f=this.pointIndex(h.end,f,g);return 0>f?f=-f-
1:f++,this.ranges.splice(g,f-g,h)};this.addList=function(h){for(var f=[],g=h.length;g--;)f.push.apply(f,this.add(h[g]));return f};this.substractPoint=function(h){h=this.pointIndex(h);if(0<=h)return this.ranges.splice(h,1)};this.merge=function(){var h=[],f=this.ranges;f=f.sort(function(u,c){return a(u.start,c.start)});for(var g=f[0],e,k=1;k<f.length;k++){e=g;g=f[k];var p=a(e.end,g.start);0>p||0==p&&!e.isEmpty()&&!g.isEmpty()||(0>a(e.end,g.end)&&(e.end.row=g.end.row,e.end.column=g.end.column),f.splice(k,
1),h.push(g),g=e,k--)}return this.ranges=f,h};this.contains=function(h,f){return 0<=this.pointIndex({row:h,column:f})};this.containsPoint=function(h){return 0<=this.pointIndex(h)};this.rangeAtPoint=function(h){h=this.pointIndex(h);if(0<=h)return this.ranges[h]};this.clipRows=function(h,f){var g=this.ranges;if(g[0].start.row>f||g[g.length-1].start.row<h)return[];h=this.pointIndex({row:h,column:0});0>h&&(h=-h-1);f=this.pointIndex({row:f,column:0},h);0>f&&(f=-f-1);for(var e=[];h<f;h++)e.push(g[h]);return e};
this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(h){this.session&&this.detach();this.session=h;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)};this.$onChange=function(h){if("insert"==h.action)var f=h.start,g=h.end;else g=h.start,f=h.end;h=f.row;var e=g.row-h;g=-f.column+g.column;for(var k=this.ranges,p=0,u=k.length;p<
u;p++){var c=k[p];if(!(c.end.row<h)){if(c.start.row>h)break;c.start.row==h&&c.start.column>=f.column&&(c.start.column!=f.column||!this.$insertRight)&&(c.start.column+=g,c.start.row+=e);c.end.row==h&&c.end.column>=f.column&&(c.end.column!=f.column||!this.$insertRight)&&(c.end.column==f.column&&0<g&&p<u-1&&c.end.column>c.start.column&&c.end.column==k[p+1].start.column&&(c.end.column-=g),c.end.column+=g,c.end.row+=e)}}if(0!=e&&p<u)for(;p<u;p++)c=k[p],c.start.row+=e,c.end.row+=e}}).call(d.prototype);
L.RangeList=d});
define("ace/edit_session/fold","require exports module ace/range ace/range_list ace/lib/oop".split(" "),function(d,L,X){function a(g,e){g.row-=e.row;0==g.row&&(g.column-=e.column)}function h(g,e){0==g.row&&(g.column+=e.column);g.row+=e.row}d("../range");X=d("../range_list").RangeList;d=d("../lib/oop");var f=L.Fold=function(g,e){this.foldLine=null;this.placeholder=e;this.range=g;this.start=g.start;this.end=g.end;this.sameRow=g.start.row==g.end.row;this.subFolds=this.ranges=[]};d.inherits(f,X);(function(){this.toString=
function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(g){this.foldLine=g;this.subFolds.forEach(function(e){e.setFoldLine(g)})};this.clone=function(){var g=this.range.clone(),e=new f(g,this.placeholder);return this.subFolds.forEach(function(k){e.subFolds.push(k.clone())}),e.collapseChildren=this.collapseChildren,e};this.addSubFold=function(g){if(!this.range.isEqual(g)){if(!this.range.containsRange(g))throw Error("A fold can't intersect already existing fold"+g.range+
this.range);var e=this.start;a(g.start,e);a(g.end,e);var k=g.start.row,p=g.start.column;e=0;for(var u=-1;e<this.subFolds.length&&(u=this.subFolds[e].range.compare(k,p),1==u);e++);k=this.subFolds[e];if(0==u)return k.addSubFold(g);k=g.range.end.row;p=g.range.end.column;var c=e;for(u=-1;c<this.subFolds.length&&(u=this.subFolds[c].range.compare(k,p),1==u);c++);if(0==u)throw Error("A fold can't intersect already existing fold"+g.range+this.range);this.subFolds.splice(e,c-e,g);return g.setFoldLine(this.foldLine),
g}};this.restoreRange=function(g){var e=this.start;h(g.start,e);h(g.end,e)}}).call(f.prototype)});
define("ace/edit_session/folding","require exports module ace/range ace/edit_session/fold_line ace/edit_session/fold ace/token_iterator".split(" "),function(d,L,X){var a=d("../range").Range,h=d("./fold_line").FoldLine,f=d("./fold").Fold,g=d("../token_iterator").TokenIterator;L.Folding=function(){this.getFoldAt=function(e,k,p){var u=this.getFoldLine(e);if(!u)return null;u=u.folds;for(var c=0;c<u.length;c++){var m=u[c];if(!(!m.range.contains(e,k)||1==p&&m.range.isEnd(e,k)||-1==p&&m.range.isStart(e,
k)))return m}};this.getFoldsInRange=function(e){var k=e.start,p=e.end,u=this.$foldData,c=[];k.column+=1;--p.column;for(var m=0;m<u.length;m++){var n=u[m].range.compareRange(e);if(2!=n){if(-2==n)break;for(var w=u[m].folds,z=0;z<w.length;z++){var x=w[z];n=x.range.compareRange(e);if(-2==n)break;if(2!=n){if(42==n)break;c.push(x)}}}}return--k.column,p.column+=1,c};this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var k=[];e.forEach(function(p){k=k.concat(this.getFoldsInRange(p))},this)}else k=
this.getFoldsInRange(e);return k};this.getAllFolds=function(){for(var e=[],k=this.$foldData,p=0;p<k.length;p++)for(var u=0;u<k[p].folds.length;u++)e.push(k[p].folds[u]);return e};this.getFoldStringAt=function(e,k,p,u){u=u||this.getFoldLine(e);if(!u)return null;for(var c={end:{column:0}},m,n,w=0;w<u.folds.length;w++){n=u.folds[w];var z=n.range.compareEnd(e,k);if(-1==z){m=this.getLine(n.start.row).substring(c.end.column,n.start.column);break}if(0===z)return null;c=n}return m||=this.getLine(n.start.row).substring(c.end.column),
-1==p?m.substring(0,k-c.end.column):1==p?m.substring(k-c.end.column):m};this.getFoldLine=function(e,k){var p=this.$foldData,u=0;k&&(u=p.indexOf(k));-1==u&&(u=0);for(u;u<p.length;u++){k=p[u];if(k.start.row<=e&&k.end.row>=e)return k;if(k.end.row>e)break}return null};this.getNextFoldLine=function(e,k){var p=this.$foldData,u=0;k&&(u=p.indexOf(k));-1==u&&(u=0);for(u;u<p.length;u++)if(k=p[u],k.end.row>=e)return k;return null};this.getFoldedRowCount=function(e,k){for(var p=this.$foldData,u=k-e+1,c=0;c<p.length;c++){var m=
p[c],n=m.end.row;m=m.start.row;if(n>=k){m<k&&(m>=e?u-=k-m:u=0);break}n>=e&&(m>=e?u-=n-m:u-=n-e+1)}return u};this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(k,p){return k.start.row-p.start.row}),e};this.addFold=function(e,k){var p=this.$foldData,u=!1,c;e instanceof f?c=e:(c=new f(k,e),c.collapseChildren=k.collapseChildren);this.$clipRangeToDocument(c.range);k=c.start.row;var m=c.start.column;e=c.end.row;var n=c.end.column;if(k<e||k==e&&m<=n-2){var w=this.getFoldAt(k,
m,1),z=this.getFoldAt(e,n,-1);if(w&&z==w)return w.addSubFold(c);w&&!w.range.isStart(k,m)&&this.removeFold(w);z&&!z.range.isEnd(e,n)&&this.removeFold(z);m=this.getFoldsInRange(c.range);0<m.length&&(this.removeFolds(m),m.forEach(function(H){c.addSubFold(H)}));for(m=0;m<p.length;m++){var x=p[m];if(e==x.start.row){x.addFold(c);u=!0;break}if(k==x.end.row){x.addFold(c);u=!0;if(!c.sameRow&&(p=p[m+1])&&p.start.row==e){x.merge(p);break}break}if(e<=x.start.row)break}return u||(x=this.$addFoldLine(new h(this.$foldData,
c))),this.$useWrapMode?this.$updateWrapData(x.start.row,x.start.row):this.$updateRowLengthCache(x.start.row,x.start.row),this.$modified=!0,this._signal("changeFold",{data:c,action:"add"}),c}throw Error("The range has to be at least 2 characters width");};this.addFolds=function(e){e.forEach(function(k){this.addFold(k)},this)};this.removeFold=function(e){var k=e.foldLine,p=k.start.row,u=k.end.row,c=this.$foldData,m=k.folds;1==m.length?c.splice(c.indexOf(k),1):k.range.isEnd(e.end.row,e.end.column)?(m.pop(),
k.end.row=m[m.length-1].end.row,k.end.column=m[m.length-1].end.column):k.range.isStart(e.start.row,e.start.column)?(m.shift(),k.start.row=m[0].start.row,k.start.column=m[0].start.column):e.sameRow?m.splice(m.indexOf(e),1):(k=k.split(e.start.row,e.start.column),m=k.folds,m.shift(),k.start.row=m[0].start.row,k.start.column=m[0].start.column);this.$updating||(this.$useWrapMode?this.$updateWrapData(p,u):this.$updateRowLengthCache(p,u));this.$modified=!0;this._signal("changeFold",{data:e,action:"remove"})};
this.removeFolds=function(e){for(var k=[],p=0;p<e.length;p++)k.push(e[p]);k.forEach(function(u){this.removeFold(u)},this);this.$modified=!0};this.expandFold=function(e){this.removeFold(e);e.subFolds.forEach(function(k){e.restoreRange(k);this.addFold(k)},this);0<e.collapseChildren&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1);e.subFolds=[]};this.expandFolds=function(e){e.forEach(function(k){this.expandFold(k)},this)};this.unfold=function(e,k){var p;null==e?(p=new a(0,0,this.getLength(),
0),k=!0):"number"==typeof e?p=new a(e,0,e,this.getLine(e).length):"row"in e?p=a.fromPoints(e,e):p=e;e=this.getFoldsInRangeList(p);if(k)this.removeFolds(e);else for(k=e;k.length;)this.expandFolds(k),k=this.getFoldsInRangeList(p);if(e.length)return e};this.isRowFolded=function(e,k){return!!this.getFoldLine(e,k)};this.getRowFoldEnd=function(e,k){return(k=this.getFoldLine(e,k))?k.end.row:e};this.getRowFoldStart=function(e,k){return(k=this.getFoldLine(e,k))?k.start.row:e};this.getFoldDisplayLine=function(e,
k,p,u,c){null==u&&(u=e.start.row);null==c&&(c=0);null==k&&(k=e.end.row);null==p&&(p=this.getLine(k).length);var m=this.doc,n="";return e.walk(function(w,z,x,H){if(!(z<u)){if(z==u){if(x<c)return;H=Math.max(c,H)}null!=w?n+=w:n+=m.getLine(z).substring(H,x)}},k,p),n};this.getDisplayLine=function(e,k,p,u){var c=this.getFoldLine(e);if(!c){var m;return m=this.doc.getLine(e),m.substring(u||0,k||m.length)}return this.getFoldDisplayLine(c,e,k,p,u)};this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(k){k=
k.folds.map(function(p){return p.clone()});return new h(e,k)}),e};this.toggleFold=function(e){var k=this.selection.getRange(),p,u;if(k.isEmpty()){e=k.start;if(p=this.getFoldAt(e.row,e.column)){this.expandFold(p);return}(u=this.findMatchingBracket(e))?1==k.comparePoint(u)?k.end=u:(k.start=u,k.start.column++,k.end.column--):(u=this.findMatchingBracket({row:e.row,column:e.column+1}))?(1==k.comparePoint(u)?k.end=u:k.start=u,k.start.column++):k=this.getCommentFoldRange(e.row,e.column)||k}else{u=this.getFoldsInRange(k);
if(e&&u.length){this.expandFolds(u);return}1==u.length&&(p=u[0])}p||=this.getFoldAt(k.start.row,k.start.column);if(p&&p.range.toString()==k.toString())this.expandFold(p);else{p="...";if(!k.isMultiLine()){p=this.getTextRange(k);if(4>p.length)return;p=p.trim().substring(0,2)+".."}this.addFold(p,k)}};this.getCommentFoldRange=function(e,k,p){var u=new g(this,e,k),c=u.getCurrentToken(),m=c.type;if(c&&/^comment|string/.test(m)){m=m.match(/comment|string/)[0];"comment"==m&&(m+="|doc-start");m=new RegExp(m);
var n=new a;if(1!=p){do c=u.stepBackward();while(c&&m.test(c.type));u.stepForward()}n.start.row=u.getCurrentTokenRow();n.start.column=u.getCurrentTokenColumn()+2;u=new g(this,e,k);if(-1!=p){e=-1;do if(c=u.stepForward(),-1==e)k=this.getState(u.$row),m.test(k)||(e=u.$row);else if(u.$row>e)break;while(c&&m.test(c.type));c=u.stepBackward()}else c=u.getCurrentToken();return n.end.row=u.getCurrentTokenRow(),n.end.column=u.getCurrentTokenColumn()+c.value.length-2,n}};this.foldAll=function(e,k,p){void 0==
p&&(p=1E5);var u=this.foldWidgets;if(u){k=k||this.getLength();for(var c=e=e||0;c<k;c++)if(null==u[c]&&(u[c]=this.getFoldWidget(c)),"start"==u[c]){var m=this.getFoldWidgetRange(c);if(m&&m.isMultiLine()&&m.end.row<=k&&m.start.row>=e){c=m.end.row;try{var n=this.addFold("...",m);n&&(n.collapseChildren=p)}catch(w){}}}}};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+
"]");this.$foldStyle!=e&&(this.$foldStyle=e,"manual"==e&&this.unfold(),e=this.$foldMode,this.$setFolding(null),this.$setFolding(e))};this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,
this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)};this.getParentFoldRangeData=function(e,k){var p=this.foldWidgets;if(!p||k&&p[e])return{};k=e-1;for(var u;0<=k;){var c=p[k];null==c&&(c=p[k]=this.getFoldWidget(k));if("start"==c){var m=this.getFoldWidgetRange(k);u||=m;if(m&&
m.end.row>=e)break}k--}return{range:-1!==k&&m,firstRange:u}};this.onFoldWidgetClick=function(e,k){k=k.domEvent;this.$toggleFoldWidget(e,{children:k.shiftKey,all:k.ctrlKey||k.metaKey,siblings:k.altKey})||(e=k.target||k.srcElement)&&/ace_fold-widget/.test(e.className)&&(e.className+=" ace_invalid")};this.$toggleFoldWidget=function(e,k){if(this.getFoldWidget){var p=this.getFoldWidget(e),u=this.getLine(e);p="end"===p?-1:1;if(p=this.getFoldAt(e,-1===p?0:u.length,p))return k.children||k.all?this.removeFold(p):
this.expandFold(p),p;if((u=this.getFoldWidgetRange(e,!0))&&!u.isMultiLine()&&(p=this.getFoldAt(u.start.row,u.start.column,1))&&u.isEqual(p.range))return this.removeFold(p),p;if(k.siblings){e=this.getParentFoldRangeData(e);if(e.range)var c=e.range.start.row+1,m=e.range.end.row;this.foldAll(c,m,k.all?1E4:0)}else k.children?(m=u?u.end.row:this.getLength(),this.foldAll(e+1,m,k.all?1E4:0)):u&&(k.all&&(u.collapseChildren=1E4),this.addFold("...",u));return u}};this.toggleFoldWidget=function(e){var k=this.selection.getCursor().row;
k=this.getRowFoldStart(k);e=this.$toggleFoldWidget(k,{});!e&&(e=this.getParentFoldRangeData(k,!0),e=e.range||e.firstRange)&&(k=e.start.row,(k=this.getFoldAt(k,this.getLine(k).length,1))?this.removeFold(k):this.addFold("...",e))};this.updateFoldWidgets=function(e){var k=e.start.row,p=e.end.row-k;0===p?this.foldWidgets[k]=null:"remove"==e.action?this.foldWidgets.splice(k,p+1,null):(e=Array(p+1),e.unshift(k,1),this.foldWidgets.splice.apply(this.foldWidgets,e))};this.tokenizerUpdateFoldWidgets=function(e){e=
e.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}});
define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(d,L,X){var a=d("../token_iterator").TokenIterator,h=d("../range").Range;L.BracketMatch=function(){this.findMatchingBracket=function(f,g){if(0==f.column)return null;g=g||this.getLine(f.row).charAt(f.column-1);return""==g?null:(g=g.match(/([\(\[\{])|([\)\]\}])/))?g[1]?this.$findClosingBracket(g[1],f):this.$findOpeningBracket(g[2],f):null};this.getBracketRange=function(f){var g=this.getLine(f.row),
e=!0,k=g.charAt(f.column-1),p=k&&k.match(/([\(\[\{])|([\)\]\}])/);p||(k=g.charAt(f.column),f={row:f.row,column:f.column+1},p=k&&k.match(/([\(\[\{])|([\)\]\}])/),e=!1);if(!p)return null;if(p[1]){g=this.$findClosingBracket(p[1],f);if(!g)return null;f=h.fromPoints(f,g);e||(f.end.column++,f.start.column--);f.cursor=f.end}else{g=this.$findOpeningBracket(p[2],f);if(!g)return null;f=h.fromPoints(g,f);e||(f.start.column++,f.end.column--);f.cursor=f.start}return f};this.$brackets={")":"(","(":")","]":"[",
"[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(f,g,e){var k=this.$brackets[f],p=1,u=new a(this,g.row,g.column),c=u.getCurrentToken();c||=u.stepForward();if(c){e||=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+");g=g.column-u.getCurrentTokenColumn()-2;for(c=c.value;;){for(;0<=g;){var m=c.charAt(g);if(m==k){if(--p,0==p)return{row:u.getCurrentTokenRow(),column:g+u.getCurrentTokenColumn()}}else m==f&&(p+=1);--g}do c=
u.stepBackward();while(c&&!e.test(c.type));if(null==c)break;c=c.value;g=c.length-1}return null}};this.$findClosingBracket=function(f,g,e){var k=this.$brackets[f],p=1,u=new a(this,g.row,g.column),c=u.getCurrentToken();c||=u.stepForward();if(c){e||=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+");for(g=g.column-u.getCurrentTokenColumn();;){c=c.value;for(var m=c.length;g<m;){var n=c.charAt(g);if(n==k){if(--p,0==p)return{row:u.getCurrentTokenRow(),
column:g+u.getCurrentTokenColumn()}}else n==f&&(p+=1);g+=1}do c=u.stepForward();while(c&&!e.test(c.type));if(null==c)break;g=0}return null}}}});
define("ace/edit_session","require exports module ace/lib/oop ace/lib/lang ace/bidihandler ace/config ace/lib/event_emitter ace/selection ace/mode/text ace/range ace/document ace/background_tokenizer ace/search_highlight ace/edit_session/folding ace/edit_session/bracket_match".split(" "),function(d,L,X){var a=d("./lib/oop"),h=d("./lib/lang"),f=d("./bidihandler").BidiHandler,g=d("./config"),e=d("./lib/event_emitter").EventEmitter,k=d("./selection").Selection,p=d("./mode/text").Mode,u=d("./range").Range,
c=d("./document").Document,m=d("./background_tokenizer").BackgroundTokenizer,n=d("./search_highlight").SearchHighlight,w=function(z,x){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++w.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);"object"==typeof z&&z.getLine||(z=new c(z));this.$bidiHandler=
new f(this);this.setDocument(z);this.selection=new k(this);g.resetOptions(this);this.setMode(x);g._signal("session",this)};w.$uid=0;(function(){function z(v){return 4352>v?!1:4352<=v&&4447>=v||4515<=v&&4519>=v||4602<=v&&4607>=v||9001<=v&&9002>=v||11904<=v&&11929>=v||11931<=v&&12019>=v||12032<=v&&12245>=v||12272<=v&&12283>=v||12288<=v&&12350>=v||12353<=v&&12438>=v||12441<=v&&12543>=v||12549<=v&&12589>=v||12593<=v&&12686>=v||12688<=v&&12730>=v||12736<=v&&12771>=v||12784<=v&&12830>=v||12832<=v&&12871>=
v||12880<=v&&13054>=v||13056<=v&&19903>=v||19968<=v&&42124>=v||42128<=v&&42182>=v||43360<=v&&43388>=v||44032<=v&&55203>=v||55216<=v&&55238>=v||55243<=v&&55291>=v||63744<=v&&64255>=v||65040<=v&&65049>=v||65072<=v&&65106>=v||65108<=v&&65126>=v||65128<=v&&65131>=v||65281<=v&&65376>=v||65504<=v&&65510>=v}a.implement(this,e);this.setDocument=function(v){this.doc&&this.doc.removeListener("change",this.$onChange);this.doc=v;v.on("change",this.$onChange);this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument());
this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(v){if(v){var I=this.$docRowCache.length;v=this.$getRowCacheIndex(this.$docRowCache,v)+1;I>v&&(this.$docRowCache.splice(v,I),this.$screenRowCache.splice(v,I))}else this.$docRowCache=[],this.$screenRowCache=[]};this.$getRowCacheIndex=function(v,I){for(var D=0,J=v.length-1;D<=J;){var O=D+J>>1,G=v[O];if(I>G)D=O+1;else{if(!(I<G))return O;J=O-1}}return D-1};this.resetCaches=function(){this.$modified=!0;this.$wrapData=
[];this.$rowLengthCache=[];this.$resetRowCache(0);this.bgTokenizer&&this.bgTokenizer.start(0)};this.onChangeFold=function(v){this.$resetRowCache(v.data.start.row)};this.onChange=function(v){this.$modified=!0;this.$bidiHandler.onChange(v);this.$resetRowCache(v.start.row);var I=this.$updateInternalDataOnChange(v);!this.$fromUndo&&this.$undoManager&&!v.ignore&&(this.$deltasDoc.push(v),I&&0!=I.length&&this.$deltasFold.push({action:"removeFolds",folds:I}),this.$informUndoManager.schedule());this.bgTokenizer&&
this.bgTokenizer.$updateOnChange(v);this._signal("change",v)};this.setValue=function(v){this.doc.setValue(v);this.selection.moveTo(0,0);this.$resetRowCache(0);this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(v){return this.bgTokenizer.getState(v)};this.getTokens=function(v){return this.bgTokenizer.getTokens(v)};
this.getTokenAt=function(v,I){var D=this.bgTokenizer.getTokens(v),J,O=0;if(null==I){var G=D.length-1;O=this.getLine(v).length}else for(G=0;G<D.length&&!(O+=D[G].value.length,O>=I);G++);return J=D[G],J?(J.index=G,J.start=O-J.value.length,J):null};this.setUndoManager=function(v){this.$undoManager=v;this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.$informUndoManager&&this.$informUndoManager.cancel();if(v){var I=this;this.$syncInformUndoManager=function(){I.$informUndoManager.cancel();I.$deltasFold.length&&
(I.$deltas.push({group:"fold",deltas:I.$deltasFold}),I.$deltasFold=[]);I.$deltasDoc.length&&(I.$deltas.push({group:"doc",deltas:I.$deltasDoc}),I.$deltasDoc=[]);0<I.$deltas.length&&v.execute({action:"aceupdate",args:[I.$deltas,I],merge:I.mergeUndoDeltas});I.mergeUndoDeltas=!1;I.$deltas=[]};this.$informUndoManager=h.delayedCall(this.$syncInformUndoManager)}};this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},
reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){return this.getUseSoftTabs()?h.stringRepeat(" ",this.getTabSize()):"\t"};this.setUseSoftTabs=function(v){this.setOption("useSoftTabs",v)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(v){this.setOption("tabSize",v)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(v){return this.$useSoftTabs&&
0===v.column%this.$tabSize};this.setNavigateWithinSoftTabs=function(v){this.setOption("navigateWithinSoftTabs",v)};this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs};this.$overwrite=!1;this.setOverwrite=function(v){this.setOption("overwrite",v)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(v,I){this.$decorations[v]||(this.$decorations[v]="");this.$decorations[v]+=
" "+I;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(v,I){this.$decorations[v]=(this.$decorations[v]||"").replace(" "+I,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(v){this.$breakpoints=[];for(var I=0;I<v.length;I++)this.$breakpoints[v[I]]="ace_breakpoint";this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=
function(v,I){void 0===I&&(I="ace_breakpoint");I?this.$breakpoints[v]=I:delete this.$breakpoints[v];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(v){delete this.$breakpoints[v];this._signal("changeBreakpoint",{})};this.addMarker=function(v,I,D,J){var O=this.$markerId++;v={range:v,type:D||"line",renderer:"function"==typeof D?D:null,clazz:I,inFront:!!J,id:O};return J?(this.$frontMarkers[O]=v,this._signal("changeFrontMarker")):(this.$backMarkers[O]=v,this._signal("changeBackMarker")),
O};this.addDynamicMarker=function(v,I){if(v.update){var D=this.$markerId++;return v.id=D,v.inFront=!!I,I?(this.$frontMarkers[D]=v,this._signal("changeFrontMarker")):(this.$backMarkers[D]=v,this._signal("changeBackMarker")),v}};this.removeMarker=function(v){var I=this.$frontMarkers[v]||this.$backMarkers[v];if(I){var D=I.inFront?this.$frontMarkers:this.$backMarkers;I&&(delete D[v],this._signal(I.inFront?"changeFrontMarker":"changeBackMarker"))}};this.getMarkers=function(v){return v?this.$frontMarkers:
this.$backMarkers};this.highlight=function(v){if(!this.$searchHighlight){var I=new n(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(I)}this.$searchHighlight.setRegexp(v)};this.highlightLines=function(v,I,D,J){"number"!=typeof I&&(D=I,I=v);D||="ace_step";v=new u(v,0,I,Infinity);return v.id=this.addMarker(v,D,"fullLine",J),v};this.setAnnotations=function(v){this.$annotations=v;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||
[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(v){(v=v.match(/^.*?(\r?\n)/m))?this.$autoNewLine=v[1]:this.$autoNewLine="\n"};this.getWordRange=function(v,I){var D=this.getLine(v),J=!1;0<I&&(J=!!D.charAt(I-1).match(this.tokenRe));J||=!!D.charAt(I).match(this.tokenRe);J=J?this.tokenRe:/^\s+$/.test(D.slice(I-1,I+1))?/\s/:this.nonTokenRe;var O=I;if(0<O){do O--;while(0<=O&&D.charAt(O).match(J));O++}for(;I<D.length&&D.charAt(I).match(J);)I++;return new u(v,O,
v,I)};this.getAWordRange=function(v,I){v=this.getWordRange(v,I);for(I=this.getLine(v.end.row);I.charAt(v.end.column).match(/[ \t]/);)v.end.column+=1;return v};this.setNewLineMode=function(v){this.doc.setNewLineMode(v)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(v){this.setOption("useWorker",v)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(v){this.bgTokenizer.start(v.data.first);this._signal("tokenizerUpdate",
v)};this.$modes={};this.$modeId=this.$mode=null;this.setMode=function(v,I){if(v&&"object"==typeof v){if(v.getTokenizer)return this.$onChangeMode(v);var D=v,J=D.path}else J=v||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new p);this.$modes[J]&&!D?(this.$onChangeMode(this.$modes[J]),I&&I()):(this.$modeId=J,g.loadModule(["mode",J],function(O){if(this.$modeId!==J)return I&&I();this.$modes[J]&&!D?this.$onChangeMode(this.$modes[J]):O&&O.Mode&&(O=new O.Mode(D),D||(this.$modes[J]=
O,O.$id=J),this.$onChangeMode(O));I&&I()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0))};this.$onChangeMode=function(v,I){I||(this.$modeId=v.$id);if(this.$mode!==v){this.$mode=v;this.$stopWorker();this.$useWorker&&this.$startWorker();var D=v.getTokenizer();if(void 0!==D.addEventListener){var J=this.onReloadTokenizer.bind(this);D.addEventListener("update",J)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(D);else{this.bgTokenizer=new m(D);var O=this;this.bgTokenizer.addEventListener("update",
function(G){O._signal("tokenizerUpdate",G)})}this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=v.tokenRe;this.nonTokenRe=v.nonTokenRe;I||(v.attachToSession&&v.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(v.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}};this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(v){g.warn("Could not load worker",
v),this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(v){this.$scrollTop===v||isNaN(v)||(this.$scrollTop=v,this._signal("changeScrollTop",v))};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(v){this.$scrollLeft===v||isNaN(v)||(this.$scrollLeft=v,this._signal("changeScrollLeft",v))};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){return this.$computeWidth(),
this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth};this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var v=0;return this.lineWidgets.forEach(function(I){I&&I.screenWidth>v&&(v=I.screenWidth)}),this.lineWidgetWidth=v};this.$computeWidth=function(v){if(this.$modified||v){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;v=this.doc.getAllLines();for(var I=this.$rowLengthCache,D=0,J=0,
O=this.$foldData[J],G=O?O.start.row:Infinity,T=v.length,S=0;S<T;S++){if(S>G){S=O.end.row+1;if(S>=T)break;G=(O=this.$foldData[J++])?O.start.row:Infinity}null==I[S]&&(I[S]=this.$getStringScreenWidth(v[S])[0]);I[S]>D&&(D=I[S])}this.screenWidth=D}};this.getLine=function(v){return this.doc.getLine(v)};this.getLines=function(v,I){return this.doc.getLines(v,I)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(v){return this.doc.getTextRange(v||this.selection.getRange())};
this.insert=function(v,I){return this.doc.insert(v,I)};this.remove=function(v){return this.doc.remove(v)};this.removeFullLines=function(v,I){return this.doc.removeFullLines(v,I)};this.undoChanges=function(v,I){if(v.length){this.$fromUndo=!0;for(var D=null,J=v.length-1;-1!=J;J--){var O=v[J];"doc"==O.group?(this.doc.revertDeltas(O.deltas),D=this.$getUndoSelection(O.deltas,!0,D)):O.deltas.forEach(function(G){this.addFolds(G.folds)},this)}return this.$fromUndo=!1,D&&this.$undoSelect&&!I&&this.selection.setSelectionRange(D),
D}};this.redoChanges=function(v,I){if(v.length){this.$fromUndo=!0;for(var D=null,J=0;J<v.length;J++){var O=v[J];"doc"==O.group&&(this.doc.applyDeltas(O.deltas),D=this.$getUndoSelection(O.deltas,!1,D))}return this.$fromUndo=!1,D&&this.$undoSelect&&!I&&this.selection.setSelectionRange(D),D}};this.setUndoSelect=function(v){this.$undoSelect=v};this.$getUndoSelection=function(v,I,D){var J=v[0],O,G;(I?"insert"!==J.action:"insert"===J.action)?O=u.fromPoints(J.start,J.end):O=u.fromPoints(J.start,J.start);
for(var T=1;T<v.length;T++)J=v[T],(I?"insert"!==J.action:"insert"===J.action)?(G=J.start,-1==O.compare(G.row,G.column)&&O.setStart(G),G=J.end,1==O.compare(G.row,G.column)&&O.setEnd(G)):(G=J.start,-1==O.compare(G.row,G.column)&&(O=u.fromPoints(J.start,J.start)));null!=D&&(0===u.comparePoints(D.start,O.start)&&(D.start.column+=O.end.column-O.start.column,D.end.column+=O.end.column-O.start.column),v=D.compareRange(O),1==v?O.setStart(D.start):-1==v&&O.setEnd(D.end));return O};this.replace=function(v,
I){return this.doc.replace(v,I)};this.moveText=function(v,I,D){var J=this.getTextRange(v),O=this.getFoldsInRange(v);I=u.fromPoints(I,I);if(!D){this.remove(v);var G=v.start.row-v.end.row,T=G?-v.end.column:v.start.column-v.end.column;T&&(I.start.row==v.end.row&&I.start.column>v.end.column&&(I.start.column+=T),I.end.row==v.end.row&&I.end.column>v.end.column&&(I.end.column+=T));G&&I.start.row>=v.end.row&&(I.start.row+=G,I.end.row+=G)}I.end=this.insert(I.start,J);if(O.length){var S=v.start;v=I.start;G=
v.row-S.row;T=v.column-S.column;this.addFolds(O.map(function(R){return R=R.clone(),R.start.row==S.row&&(R.start.column+=T),R.end.row==S.row&&(R.end.column+=T),R.start.row+=G,R.end.row+=G,R}))}return I};this.indentRows=function(v,I,D){for(D=D.replace(/\t/g,this.getTabString());v<=I;v++)this.doc.insertInLine({row:v,column:0},D)};this.outdentRows=function(v){v=v.collapseRows();for(var I=new u(0,0,0,0),D=this.getTabSize(),J=v.start.row;J<=v.end.row;++J){var O=this.getLine(J);I.start.row=J;I.end.row=J;
for(var G=0;G<D&&" "==O.charAt(G);++G);G<D&&"\t"==O.charAt(G)?(I.start.column=G,I.end.column=G+1):(I.start.column=0,I.end.column=G);this.remove(I)}};this.$moveLines=function(v,I,D){v=this.getRowFoldStart(v);I=this.getRowFoldEnd(I);if(0>D){var J=this.getRowFoldStart(v+D);if(0>J)return 0;var O=J-v}else if(0<D){J=this.getRowFoldEnd(I+D);if(J>this.doc.getLength()-1)return 0;O=J-I}else v=this.$clipRowToDocument(v),I=this.$clipRowToDocument(I),O=I-v+1;J=new u(v,0,I,Number.MAX_VALUE);J=this.getFoldsInRange(J).map(function(G){return G=
G.clone(),G.start.row+=O,G.end.row+=O,G});I=0==D?this.doc.getLines(v,I):this.doc.removeFullLines(v,I);return this.doc.insertFullLines(v+O,I),J.length&&this.addFolds(J),O};this.moveLinesUp=function(v,I){return this.$moveLines(v,I,-1)};this.moveLinesDown=function(v,I){return this.$moveLines(v,I,1)};this.duplicateLines=function(v,I){return this.$moveLines(v,I,0)};this.$clipRowToDocument=function(v){return Math.max(0,Math.min(v,this.doc.getLength()-1))};this.$clipColumnToRow=function(v,I){return 0>I?
0:Math.min(this.doc.getLine(v).length,I)};this.$clipPositionToDocument=function(v,I){I=Math.max(0,I);if(0>v)I=v=0;else{var D=this.doc.getLength();v>=D?(v=D-1,I=this.doc.getLine(D-1).length):I=Math.min(this.doc.getLine(v).length,I)}return{row:v,column:I}};this.$clipRangeToDocument=function(v){0>v.start.row?(v.start.row=0,v.start.column=0):v.start.column=this.$clipColumnToRow(v.start.row,v.start.column);var I=this.doc.getLength()-1;return v.end.row>I?(v.end.row=I,v.end.column=this.doc.getLine(I).length):
v.end.column=this.$clipColumnToRow(v.end.row,v.end.column),v};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(v){v!=this.$useWrapMode&&(this.$useWrapMode=v,this.$modified=!0,this.$resetRowCache(0),v&&(v=this.getLength(),this.$wrapData=Array(v),this.$updateWrapData(0,v-1)),this._signal("changeWrapMode"))};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(v,I){if(this.$wrapLimitRange.min!==v||this.$wrapLimitRange.max!==
I)this.$wrapLimitRange={min:v,max:I},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode")};this.adjustWrapLimit=function(v,I){var D=this.$wrapLimitRange;0>D.max&&(D={min:I,max:I});v=this.$constrainWrapLimit(v,D.min,D.max);return v!=this.$wrapLimit&&1<v?(this.$wrapLimit=v,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1};this.$constrainWrapLimit=function(v,I,
D){return I&&(v=Math.max(I,v)),D&&(v=Math.min(D,v)),v};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(v){this.setWrapLimitRange(v,v)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(v){var I=this.$useWrapMode,D=v.action,J=v.start,O=v.end,G=J.row,T=O.row,S=T-G,R=null;this.$updating=!0;if(0!=S)if("remove"===D){this[I?"$wrapData":"$rowLengthCache"].splice(G,S);D=this.$foldData;
R=this.getFoldsInRange(v);this.removeFolds(R);v=this.getFoldLine(O.row);var ba=0;v&&(v.addRemoveChars(O.row,O.column,J.column-O.column),v.shiftRow(-S),(J=this.getFoldLine(G))&&J!==v&&(J.merge(v),v=J),ba=D.indexOf(v)+1);for(ba;ba<D.length;ba++)v=D[ba],v.start.row>=O.row&&v.shiftRow(-S);T=G}else for(D=Array(S),D.unshift(G,0),v=I?this.$wrapData:this.$rowLengthCache,v.splice.apply(v,D),D=this.$foldData,v=this.getFoldLine(G),ba=0,v&&(ba=v.range.compareInside(J.row,J.column),0==ba?(v=v.split(J.row,J.column),
v&&(v.shiftRow(S),v.addRemoveChars(T,0,O.column-J.column))):-1==ba&&(v.addRemoveChars(G,0,O.column-J.column),v.shiftRow(S)),ba=D.indexOf(v)+1),ba;ba<D.length;ba++)v=D[ba],v.start.row>=G&&v.shiftRow(S);else S=Math.abs(v.start.column-v.end.column),"remove"===D&&(R=this.getFoldsInRange(v),this.removeFolds(R),S=-S),(v=this.getFoldLine(G))&&v.addRemoveChars(G,J.column,S);return I&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=
!1,I?this.$updateWrapData(G,T):this.$updateRowLengthCache(G,T),R};this.$updateRowLengthCache=function(v,I,D){this.$rowLengthCache[v]=null;this.$rowLengthCache[I]=null};this.$updateWrapData=function(v,I){var D=this.doc.getAllLines(),J=this.getTabSize(),O=this.$wrapData,G=this.$wrapLimit,T,S;for(I=Math.min(I,D.length-1);v<=I;)(S=this.getFoldLine(v,S))?(T=[],S.walk(function(R,ba,ha,ra){if(null!=R)for(R=this.$getDisplayTokens(R,T.length),R[0]=x,ba=1;ba<R.length;ba++)R[ba]=H;else R=this.$getDisplayTokens(D[ba].substring(ra,
ha),T.length);T=T.concat(R)}.bind(this),S.end.row,D[S.end.row].length+1),O[S.start.row]=this.$computeWrapSplits(T,G,J),v=S.end.row+1):(T=this.$getDisplayTokens(D[v]),O[v]=this.$computeWrapSplits(T,G,J),v++)};var x=3,H=4;this.$computeWrapSplits=function(v,I,D){function J(){var Ca=0;if(0===ra)return Ca;if(ha)for(var Fa=0;Fa<v.length;Fa++){var Ga=v[Fa];if(10==Ga)Ca+=1;else{if(11!=Ga){if(12==Ga)continue;break}Ca+=D}}return ba&&!1!==ha&&(Ca+=D),Math.min(Ca,ra)}function O(Ca){var Fa=v.slice(S,Ca),Ga=Fa.length;
Fa.join("").replace(/12/g,function(){--Ga}).replace(/2/g,function(){--Ga});G.length||(Ka=J(),G.indent=Ka);R+=Ga;G.push(R);S=Ca}if(0==v.length)return[];for(var G=[],T=v.length,S=0,R=0,ba=this.$wrapAsCode,ha=this.$indentedSoftWrap,ra=I<=Math.max(2*D,8)||!1===ha?0:Math.floor(I/2),Ka=0;T-S>I-Ka;){var ma=S+I-Ka;if(10<=v[ma-1]&&10<=v[ma])O(ma);else if(v[ma]==x||v[ma]==H){for(ma;ma!=S-1&&v[ma]!=x;ma--);if(!(ma>S)){ma=S+I;for(ma;ma<v.length&&v[ma]==H;ma++);if(ma==v.length)break}O(ma)}else{for(var ja=Math.max(ma-
(I-(I>>2)),S-1);ma>ja&&v[ma]<x;)ma--;if(ba){for(;ma>ja&&v[ma]<x;)ma--;for(;ma>ja&&9==v[ma];)ma--}else for(;ma>ja&&10>v[ma];)ma--;ma>ja?O(++ma):(ma=S+I,2==v[ma]&&ma--,O(ma-Ka))}}return G};this.$getDisplayTokens=function(v,I){var D=[];I=I||0;for(var J=0;J<v.length;J++){var O=v.charCodeAt(J);if(9==O){O=this.getScreenTabSize(D.length+I);D.push(11);for(var G=1;G<O;G++)D.push(12)}else 32==O?D.push(10):39<O&&48>O||57<O&&64>O?D.push(9):4352<=O&&z(O)?D.push(1,2):D.push(1)}return D};this.$getStringScreenWidth=
function(v,I,D){if(0==I)return[0,0];null==I&&(I=Infinity);D=D||0;var J;for(J=0;J<v.length;J++){var O=v.charCodeAt(J);9==O?D+=this.getScreenTabSize(D):4352<=O&&z(O)?D+=2:D+=1;if(D>I)break}return[D,J]};this.lineWidgets=null;this.getRowLength=function(v){var I=this.lineWidgets?this.lineWidgets[v]&&this.lineWidgets[v].rowCount||0:0;return this.$useWrapMode&&this.$wrapData[v]?this.$wrapData[v].length+1+I:1+I};this.getRowLineCount=function(v){return this.$useWrapMode&&this.$wrapData[v]?this.$wrapData[v].length+
1:1};this.getRowWrapIndent=function(v){if(this.$useWrapMode){v=this.screenToDocumentPosition(v,Number.MAX_VALUE);var I=this.$wrapData[v.row];return I.length&&I[0]<v.column?I.indent:0}return 0};this.getScreenLastRowColumn=function(v){v=this.screenToDocumentPosition(v,Number.MAX_VALUE);return this.documentToScreenColumn(v.row,v.column)};this.getDocumentLastRowColumn=function(v,I){v=this.documentToScreenRow(v,I);return this.getScreenLastRowColumn(v)};this.getDocumentLastRowColumnPosition=function(v,
I){v=this.documentToScreenRow(v,I);return this.screenToDocumentPosition(v,Number.MAX_VALUE/10)};this.getRowSplitData=function(v){return this.$useWrapMode?this.$wrapData[v]:void 0};this.getScreenTabSize=function(v){return this.$tabSize-v%this.$tabSize};this.screenToDocumentRow=function(v,I){return this.screenToDocumentPosition(v,I).row};this.screenToDocumentColumn=function(v,I){return this.screenToDocumentPosition(v,I).column};this.screenToDocumentPosition=function(v,I,D){if(0>v)return{row:0,column:0};
var J=0,O=0,G,T=0;var S=0;var R=this.$screenRowCache,ba=this.$getRowCacheIndex(R,v),ha=R.length;ha&&0<=ba?(T=R[ba],J=this.$docRowCache[ba],ba=v>R[ha-1]):ba=!ha;ha=this.getLength()-1;for(var ra=(R=this.getNextFoldLine(J))?R.start.row:Infinity;T<=v;){S=this.getRowLength(J);if(T+S>v||J>=ha)break;T+=S;J++;J>ra&&(J=R.end.row+1,R=this.getNextFoldLine(J,R),ra=R?R.start.row:Infinity);ba&&(this.$docRowCache.push(J),this.$screenRowCache.push(T))}if(R&&R.start.row<=J)S=this.getFoldDisplayLine(R),J=R.start.row;
else{if(T+S<=v||J>ha)return{row:ha,column:this.getLine(ha).length};S=this.getLine(J);R=null}ba=0;v=Math.floor(v-T);this.$useWrapMode&&(ha=this.$wrapData[J])&&(G=ha[v],0<v&&ha.length&&(ba=ha.indent,O=ha[v-1]||ha[ha.length-1],S=S.substring(O)));return void 0!==D&&this.$bidiHandler.isBidiRow(T+v,J,v)&&(I=this.$bidiHandler.offsetToCol(D)),O+=this.$getStringScreenWidth(S,I-ba)[1],this.$useWrapMode&&O>=G&&(O=G-1),R?R.idxToPosition(O):{row:J,column:O}};this.documentToScreenPosition=function(v,I){var D="undefined"==
typeof I?this.$clipPositionToDocument(v.row,v.column):this.$clipPositionToDocument(v,I);v=D.row;I=D.column;D=0;var J=null,O;(O=this.getFoldAt(v,I,1))&&(v=O.start.row,I=O.start.column);O=0;var G=this.$docRowCache;var T=this.$getRowCacheIndex(G,v),S=G.length;if(S&&0<=T){O=G[T];D=this.$screenRowCache[T];var R=v>G[S-1]}else R=!S;for(S=(T=this.getNextFoldLine(O))?T.start.row:Infinity;O<v;){if(O>=S){G=T.end.row+1;if(G>v)break;S=(T=this.getNextFoldLine(G,T))?T.start.row:Infinity}else G=O+1;D+=this.getRowLength(O);
O=G;R&&(this.$docRowCache.push(O),this.$screenRowCache.push(D))}G="";T&&O>=S?(G=this.getFoldDisplayLine(T,v,I),J=T.start.row):(G=this.getLine(v).substring(0,I),J=v);v=0;if(this.$useWrapMode&&(J=this.$wrapData[J])){for(v=0;G.length>=J[v];)D++,v++;G=G.substring(J[v-1]||0,G.length);v=0<v?J.indent:0}return{row:D,column:v+this.$getStringScreenWidth(G)[0]}};this.documentToScreenColumn=function(v,I){return this.documentToScreenPosition(v,I).column};this.documentToScreenRow=function(v,I){return this.documentToScreenPosition(v,
I).row};this.getScreenLength=function(){var v=0,I;if(this.$useWrapMode){var D=this.$wrapData.length,J=0;T=0;for(var O=(I=this.$foldData[T++])?I.start.row:Infinity;J<D;){var G=this.$wrapData[J];v+=G?G.length+1:1;J++;J>O&&(J=I.end.row+1,I=this.$foldData[T++],O=I?I.start.row:Infinity)}}else{v=this.getLength();D=this.$foldData;for(var T=0;T<D.length;T++)I=D[T],v-=I.end.row-I.start.row}return this.lineWidgets&&(v+=this.$getWidgetScreenLength()),v};this.$setFontMetrics=function(v){this.$enableVarChar&&
(this.$getStringScreenWidth=function(I,D,J){if(0===D)return[0,0];D||=Infinity;J=J||0;var O;for(O=0;O<I.length;O++){var G=I.charAt(O);"\t"===G?J+=this.getScreenTabSize(J):J+=v.getCharacterWidth(G);if(J>D)break}return[J,O]})};this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null);this.$stopWorker()};this.isFullWidth=z}).call(w.prototype);d("./edit_session/folding").Folding.call(w.prototype);d("./edit_session/bracket_match").BracketMatch.call(w.prototype);
g.defineOptions(w.prototype,"session",{wrap:{set:function(z){z&&"off"!=z?"free"==z?z=!0:"printMargin"==z?z=-1:"string"==typeof z&&(z=parseInt(z,10)||!1):z=!1;this.$wrap!=z&&((this.$wrap=z)?(z="number"==typeof z?z:null,this.setWrapLimitRange(z,z),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(z){z="auto"==z?"text"!=this.$mode.type:
"text"!=z;z!=this.$wrapAsCode&&(this.$wrapAsCode=z,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(z){this.$useWorker=z;this.$stopWorker();z&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(z){isNaN(z)||this.$tabSize===z||(this.$modified=
!0,this.$rowLengthCache=[],this.$tabSize=z,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(z){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(z){this.doc.setNewLineMode(z)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(z){this.setMode(z)},get:function(){return this.$modeId}}});L.EditSession=w});
define("ace/search","require exports module ace/lib/lang ace/lib/oop ace/range".split(" "),function(d,L,X){var a=d("./lib/lang"),h=d("./lib/oop"),f=d("./range").Range;d=function(){this.$options={}};(function(){this.set=function(g){return h.mixin(this.$options,g),this};this.getOptions=function(){return a.copyObject(this.$options)};this.setOptions=function(g){this.$options=g};this.find=function(g){var e=this.$options;g=this.$matchIterator(g,e);if(!g)return!1;var k=null;return g.forEach(function(p,u,
c,m){return k=new f(p,u,c,m),u==m&&e.start&&e.start.start&&0!=e.skipCurrent&&k.isEqual(e.start)?(k=null,!1):!0}),k};this.findAll=function(g){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var k=e.range,p=k?g.getLines(k.start.row,k.end.row):g.doc.getAllLines();g=[];var u=e.re;if(e.$isMultiLine){var c=u.length,m=p.length-c,n,w=u.offset||0;a:for(;w<=m;w++){for(e=0;e<c;e++)if(-1==p[w+e].search(u[e]))continue a;var z=p[w];e=p[w+c-1];z=z.length-z.match(u[0])[0].length;e=e.match(u[c-1])[0].length;
n&&n.end.row===w&&n.end.column>z||(g.push(n=new f(w,z,w+c-1,e)),2<c&&(w=w+c-2))}}else for(n=0;n<p.length;n++)for(c=a.getMatchOffsets(p[n],u),e=0;e<c.length;e++)m=c[e],g.push(new f(n,m.offset,n,m.offset+m.length));if(k){u=p=k.start.column;n=0;for(e=g.length-1;n<e&&g[n].start.column<p&&g[n].start.row==k.start.row;)n++;for(;n<e&&g[e].end.column>u&&g[e].end.row==k.end.row;)e--;g=g.slice(n,e+1);n=0;for(e=g.length;n<e;n++)g[n].start.row+=k.start.row,g[n].end.row+=k.start.row}return g};this.replace=function(g,
e){var k=this.$options,p=this.$assembleRegExp(k);if(k.$isMultiLine)return e;if(p){var u=p.exec(g);if(!u||u[0].length!=g.length)return null;e=g.replace(p,e);if(k.preserveCase){e=e.split("");for(k=Math.min(g.length,g.length);k--;)(p=g[k])&&p.toLowerCase()!=p?e[k]=e[k].toUpperCase():e[k]=e[k].toLowerCase();e=e.join("")}return e}};this.$assembleRegExp=function(g,e){if(g.needle instanceof RegExp)return g.re=g.needle;var k=g.needle;if(!g.needle)return g.re=!1;g.regExp||(k=a.escapeRegExp(k));g.wholeWord&&
(k=(/\w/.test(k[0])||g.regExp?"\\b":"")+k+(/\w/.test(k[k.length-1])||g.regExp?"\\b":""));var p=g.caseSensitive?"gm":"gmi";g.$isMultiLine=!e&&/[\n\r]/.test(k);if(g.$isMultiLine)return g.re=this.$assembleMultilineRegExp(k,p);try{var u=new RegExp(k,p)}catch(c){u=!1}return g.re=u};this.$assembleMultilineRegExp=function(g,e){g=g.replace(/\r\n|\r|\n/g,"$\n^").split("\n");for(var k=[],p=0;p<g.length;p++)try{k.push(new RegExp(g[p],e))}catch(u){return!1}return k};this.$matchIterator=function(g,e){var k=this.$assembleRegExp(e);
if(!k)return!1;var p=1==e.backwards,u=0!=e.skipCurrent,c=e.range,m=e.start;m||=c?c[p?"end":"start"]:g.selection.getRange();m.start&&(m=m[u!=p?"end":"start"]);var n=c?c.start.row:0,w=c?c.end.row:g.getLength()-1;u=p?function(H){var v=m.row;if(!x(v,m.column,H)){for(v--;v>=n;v--)if(x(v,Number.MAX_VALUE,H))return;if(0!=e.wrap)for(v=w,n=m.row;v>=n&&!x(v,Number.MAX_VALUE,H);v--);}}:function(H){var v=m.row;if(!x(v,m.column,H)){for(v+=1;v<=w;v++)if(x(v,0,H))return;if(0!=e.wrap)for(v=n,w=m.row;v<=w&&!x(v,0,
H);v++);}};if(e.$isMultiLine)var z=k.length,x=function(H,v,I){H=p?H-z+1:H;if(!(0>H)){var D=g.getLine(H),J=D.search(k[0]);if(!(!p&&J<v||-1===J)){for(var O=1;O<z;O++)if(D=g.getLine(H+O),-1==D.search(k[O]))return;D=D.match(k[z-1])[0].length;if(!(p&&D>v)&&I(H,J,H+z-1,D))return!0}}};else x=p?function(H,v,I){var D=g.getLine(H),J=[],O;for(k.lastIndex=0;O=k.exec(D);){var G=O[0].length;var T=O.index;if(!G){if(T>=D.length)break;k.lastIndex=T+1}if(O.index+G>v)break;J.push(O.index,G)}for(v=J.length-1;0<=v;v-=
2)if(D=J[v-1],G=J[v],I(H,D,H,D+G))return!0}:function(H,v,I){var D=g.getLine(H),J;for(k.lastIndex=v;J=k.exec(D);){v=J[0].length;J=J.index;if(I(H,J,H,J+v))return!0;if(!v&&(k.lastIndex=J+=1,J>=D.length))return!1}};return{forEach:u}}}).call(d.prototype);L.Search=d});
define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(d,L,X){function a(k,p){this.platform=p||(g.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(k);this.$singleCommand=!0}function h(k,p){a.call(this,k,p);this.$singleCommand=!1}var f=d("../lib/keys"),g=d("../lib/useragent"),e=f.KEY_MODS;h.prototype=a.prototype;(function(){function k(p){return"object"==typeof p&&p.bindKey&&p.bindKey.position||(p.isDefault?-100:0)}
this.addCommand=function(p){this.commands[p.name]&&this.removeCommand(p);this.commands[p.name]=p;p.bindKey&&this._buildKeyHash(p)};this.removeCommand=function(p,u){var c=p&&("string"==typeof p?p:p.name);p=this.commands[c];u||delete this.commands[c];u=this.commandKeyBinding;for(var m in u)if(c=u[m],c==p)delete u[m];else if(Array.isArray(c)){var n=c.indexOf(p);-1!=n&&(c.splice(n,1),1==c.length&&(u[m]=c[0]))}};this.bindKey=function(p,u,c){"object"==typeof p&&p&&(void 0==c&&(c=p.position),p=p[this.platform]);
if(p){if("function"==typeof u)return this.addCommand({exec:u,bindKey:p,name:u.name||p});p.split("|").forEach(function(m){var n="";if(-1!=m.indexOf(" ")){var w=m.split(/\s+/);m=w.pop();w.forEach(function(z){z=this.parseKeys(z);n+=(n?" ":"")+(e[z.hashId]+z.key);this._addCommandToBinding(n,"chainKeys")},this);n+=" "}m=this.parseKeys(m);this._addCommandToBinding(n+(e[m.hashId]+m.key),u,c)},this)}};this._addCommandToBinding=function(p,u,c){var m=this.commandKeyBinding,n;if(u)if(!m[p]||this.$singleCommand)m[p]=
u;else{Array.isArray(m[p])?-1!=(n=m[p].indexOf(u))&&m[p].splice(n,1):m[p]=[m[p]];"number"!=typeof c&&(c=k(u));p=m[p];for(n=0;n<p.length&&!(k(p[n])>c);n++);p.splice(n,0,u)}else delete m[p]};this.addCommands=function(p){p&&Object.keys(p).forEach(function(u){var c=p[u];if(c){if("string"==typeof c)return this.bindKey(c,u);"function"==typeof c&&(c={exec:c});"object"==typeof c&&(c.name||(c.name=u),this.addCommand(c))}},this)};this.removeCommands=function(p){Object.keys(p).forEach(function(u){this.removeCommand(p[u])},
this)};this.bindKeys=function(p){Object.keys(p).forEach(function(u){this.bindKey(u,p[u])},this)};this._buildKeyHash=function(p){this.bindKey(p.bindKey,p)};this.parseKeys=function(p){var u=p.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(z){return z}),c=u.pop(),m=f[c];if(f.FUNCTION_KEYS[m])c=f.FUNCTION_KEYS[m].toLowerCase();else{if(!u.length)return{key:c,hashId:-1};if(1==u.length&&"shift"==u[0])return{key:c.toUpperCase(),hashId:-1}}m=0;for(var n=u.length;n--;){var w=f.KEY_MODS[u[n]];if(null==
w)return"undefined"!=typeof console&&console.error("invalid modifier "+u[n]+" in "+p),!1;m|=w}return{key:c,hashId:m}};this.findKeyCommand=function(p,u){return this.commandKeyBinding[e[p]+u]};this.handleKeyboard=function(p,u,c,m){if(!(0>m)){var n=e[u]+c,w=this.commandKeyBinding[n];p.$keyChain&&(p.$keyChain+=" "+n,w=this.commandKeyBinding[p.$keyChain]||w);if(w&&("chainKeys"==w||"chainKeys"==w[w.length-1]))return p.$keyChain=p.$keyChain||n,{command:"null"};if(p.$keyChain)if(u&&4!=u||1!=c.length){if(-1==
u||0<m)p.$keyChain=""}else p.$keyChain=p.$keyChain.slice(0,-n.length-1);return{command:w}}};this.getStatusText=function(p,u){return u.$keyChain||""}}).call(a.prototype);L.HashHandler=a;L.MultiHashHandler=h});
define("ace/commands/command_manager","require exports module ace/lib/oop ace/keyboard/hash_handler ace/lib/event_emitter".split(" "),function(d,L,X){var a=d("../lib/oop"),h=d("../keyboard/hash_handler").MultiHashHandler,f=d("../lib/event_emitter").EventEmitter;d=function(g,e){h.call(this,e,g);this.byName=this.commands;this.setDefaultHandler("exec",function(k){return k.command.exec(k.editor,k.args||{})})};a.inherits(d,h);(function(){a.implement(this,f);this.exec=function(g,e,k){if(Array.isArray(g)){for(var p=
g.length;p--;)if(this.exec(g[p],e,k))return!0;return!1}"string"==typeof g&&(g=this.commands[g]);if(!g||e&&e.$readOnly&&!g.readOnly||g.isAvailable&&!g.isAvailable(e))return!1;g={editor:e,command:g,args:k};return g.returnValue=this._emit("exec",g),this._signal("afterExec",g),!1===g.returnValue?!1:!0};this.toggleRecording=function(g){if(!this.$inReplay)return g&&g._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=
this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)};this.replay=function(g){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(g);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,g):this.exec(e[0],g,e[1])},this)}finally{this.$inReplay=!1}}};this.trimMacro=
function(g){return g.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}).call(d.prototype);L.CommandManager=d});
define("ace/commands/default_commands","require exports module ace/lib/lang ace/config ace/range".split(" "),function(d,L,X){function a(e,k){return{win:e,mac:k}}var h=d("../lib/lang"),f=d("../config"),g=d("../range").Range;L.commands=[{name:"showSettingsMenu",bindKey:a("Ctrl-,","Command-,"),exec:function(e){f.loadModule("ace/ext/settings_menu",function(k){k.init(e);e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:a("Alt-E","F4"),exec:function(e){f.loadModule("ace/ext/error_marker",
function(k){k.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(e){f.loadModule("ace/ext/error_marker",function(k){k.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:a("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:a(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:a("Ctrl-L","Command-L"),
exec:function(e){var k=parseInt(prompt("Enter line number:"),10);isNaN(k)||e.gotoLine(k)},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",
bindKey:a("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:a("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:a("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll();
e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:a("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",
readOnly:!0},{name:"selectOrFindNext",bindKey:a("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:a("Ctrl-F","Command-F"),exec:function(e){f.loadModule("ace/ext/searchbox",function(k){k.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},
readOnly:!0},{name:"selecttostart",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),
exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:a("Up","Up|Ctrl-P"),exec:function(e,k){e.navigateUp(k.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",
bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:a("Down","Down|Ctrl-N"),exec:function(e,k){e.navigateDown(k.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",
readOnly:!0},{name:"selectwordleft",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:a("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},
multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:a("Left","Left|Ctrl-B"),exec:function(e,k){e.navigateLeft(k.times)},
multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:a("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:a("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:a("Right",
"Right|Ctrl-F"),exec:function(e,k){e.navigateRight(k.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:a(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},
readOnly:!0},{name:"pageup",bindKey:a(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:a("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:a("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",
exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},
readOnly:!0},{name:"jumptomatching",bindKey:a("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:a("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},
{name:"passKeysToBrowser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var k=e.getSelectionRange();e._emit("cut",k);e.selection.isEmpty()||(e.session.remove(k),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,k){e.$handlePaste(k)},scrollIntoView:"cursor"},{name:"removeline",bindKey:a("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",
multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:a("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},
{name:"toggleBlockComment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",
bindKey:a("Ctrl-H","Command-Option-F"),exec:function(e){f.loadModule("ace/ext/searchbox",function(k){k.Search(e,!0)})}},{name:"undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:a("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},
scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:a("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:a("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),
exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(e){var k=e.selection.getRange();k.start.column=0;e.session.remove(k)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(e){var k=e.selection.getRange();k.end.column=Number.MAX_VALUE;e.session.remove(k)},multiSelectAction:"forEach",scrollIntoView:"cursor"},
{name:"removewordleft",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:a("Tab",
"Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,k){e.insert(k)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",
exec:function(e,k){e.insert(h.stringRepeat(k.text||"",k.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:a(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},
multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var k=e.selection.getRange();k.start.column=k.end.column=0;k.end.row++;e.selection.setRange(k,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:a(null,null),exec:function(e){var k=
e.selection.isBackwards(),p=k?e.selection.getSelectionLead():e.selection.getSelectionAnchor();k=k?e.selection.getSelectionAnchor():e.selection.getSelectionLead();for(var u=e.session.doc.getLine(p.row).length,c=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,m=e.session.doc.getLine(p.row),n=p.row+1;n<=k.row+1;n++){var w=h.stringTrimLeft(h.stringTrimRight(e.session.doc.getLine(n)));0!==w.length&&(w=" "+w);m+=w}k.row+1<e.session.doc.getLength()-1&&(m+=e.session.doc.getNewLineCharacter());
e.clearSelection();e.session.doc.replace(new g(p.row,0,k.row+2,0),m);0<c?(e.selection.moveCursorTo(p.row,p.column),e.selection.selectTo(p.row,p.column+c)):(u=e.session.doc.getLine(p.row).length>u?u+1:u,e.selection.moveCursorTo(p.row,u))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:a(null,null),exec:function(e){var k=e.session.doc.getLength()-1,p=e.session.doc.getLine(k).length,u=e.selection.rangeList.ranges,c=[];1>u.length&&(u=[e.selection.getRange()]);for(var m=0;m<u.length;m++)m!=
u.length-1||u[m].end.row===k&&u[m].end.column===p||c.push(new g(u[m].end.row,u[m].end.column,k,p)),0===m?(0!==u[m].start.row||0!==u[m].start.column)&&c.push(new g(0,0,u[m].start.row,u[m].start.column)):c.push(new g(u[m-1].end.row,u[m-1].end.column,u[m].start.row,u[m].start.column));e.exitMultiSelectMode();e.clearSelection();for(m=0;m<c.length;m++)e.selection.addRange(c[m],!1)},readOnly:!0,scrollIntoView:"none"}]});
define("ace/editor","require exports module ace/lib/fixoldbrowsers ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/keyboard/textinput ace/mouse/mouse_handler ace/mouse/fold_handler ace/keyboard/keybinding ace/edit_session ace/search ace/range ace/lib/event_emitter ace/commands/command_manager ace/commands/default_commands ace/config ace/token_iterator".split(" "),function(d,L,X){d("./lib/fixoldbrowsers");var a=d("./lib/oop"),h=d("./lib/dom"),f=d("./lib/lang"),g=d("./lib/useragent"),e=d("./keyboard/textinput").TextInput,
k=d("./mouse/mouse_handler").MouseHandler,p=d("./mouse/fold_handler").FoldHandler,u=d("./keyboard/keybinding").KeyBinding,c=d("./edit_session").EditSession,m=d("./search").Search,n=d("./range").Range,w=d("./lib/event_emitter").EventEmitter,z=d("./commands/command_manager").CommandManager,x=d("./commands/default_commands").commands,H=d("./config"),v=d("./token_iterator").TokenIterator,I=function(D,J){this.container=D.getContainerElement();this.renderer=D;this.id="editor"+ ++I.$uid;this.commands=new z(g.isMac?
"mac":"win",x);"object"==typeof document&&(this.textInput=new e(D.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new k(this),new p(this));this.keyBinding=new u(this);this.$blockScrolling=0;this.$search=(new m).set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=f.delayedCall(function(){this._signal("input",{});this.session&&this.session.bgTokenizer&&
this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(O,G){G._$emitInputEvent.schedule(31)});this.setSession(J||new c(""));H.resetOptions(this);H._signal("editor",this)};I.$uid=0;(function(){a.implement(this,w);this.$initOperationListeners=function(){this.selections=[];this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=f.delayedCall(this.endOperation.bind(this));this.on("change",function(){this.curOp||
this.startOperation();this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){this.curOp||this.startOperation();this.curOp.selectionChanged=!0}.bind(this),!0)};this.curOp=null;this.prevOp={};this.startOperation=function(D){if(this.curOp){if(!D||this.curOp.command)return;this.prevOp=this.curOp}D||(this.previousCommand=null,D={});this.$opResetTimer.schedule();this.curOp={command:D.command||{},args:D.args,scrollTop:this.renderer.scrollTop};this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&
this.$blockScrolling++};this.endOperation=function(D){if(this.curOp){if(D&&!1===D.returnValue)return this.curOp=null;this._signal("beforeEndOperation");D=this.curOp.command;D.name&&0<this.$blockScrolling&&this.$blockScrolling--;if(D=D&&D.scrollIntoView){switch(D){case "center-animate":D="animate";case "center":this.renderer.scrollCursorIntoView(null,.5);break;case "animate":case "cursor":this.renderer.scrollCursorIntoView();break;case "selectionPart":var J=this.selection.getRange(),O=this.renderer.layerConfig;
(J.start.row>=O.lastRow||J.end.row<=O.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==D&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(D){if(this.$mergeUndoDeltas){var J=this.prevOp,O=this.$mergeableCommands,G=J.command&&D.command.name==J.command.name;if("insertstring"==D.command.name){var T=D.args;void 0===
this.mergeNextCommand&&(this.mergeNextCommand=!0);G=G&&this.mergeNextCommand&&(!/\s/.test(T)||/\s/.test(J.args));this.mergeNextCommand=!0}else G=G&&-1!==O.indexOf(D.command.name);"always"!=this.$mergeUndoDeltas&&2E3<Date.now()-this.sequenceStartTime&&(G=!1);G?this.session.mergeUndoDeltas=!0:-1!==O.indexOf(D.command.name)&&(this.sequenceStartTime=Date.now())}};this.setKeyboardHandler=function(D,J){if(D&&"string"==typeof D){this.$keybindingId=D;var O=this;H.loadModule(["keybinding",D],function(G){O.$keybindingId==
D&&O.keyBinding.setKeyboardHandler(G&&G.handler);J&&J()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(D),J&&J()};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(D){if(this.session!=D){this.curOp&&this.endOperation();this.curOp={};var J=this.session;if(J){this.session.off("change",this.$onDocumentChange);this.session.off("changeMode",this.$onChangeMode);this.session.off("tokenizerUpdate",this.$onTokenizerUpdate);this.session.off("changeTabSize",
this.$onChangeTabSize);this.session.off("changeWrapLimit",this.$onChangeWrapLimit);this.session.off("changeWrapMode",this.$onChangeWrapMode);this.session.off("changeFold",this.$onChangeFold);this.session.off("changeFrontMarker",this.$onChangeFrontMarker);this.session.off("changeBackMarker",this.$onChangeBackMarker);this.session.off("changeBreakpoint",this.$onChangeBreakpoint);this.session.off("changeAnnotation",this.$onChangeAnnotation);this.session.off("changeOverwrite",this.$onCursorChange);this.session.off("changeScrollTop",
this.$onScrollTopChange);this.session.off("changeScrollLeft",this.$onScrollLeftChange);var O=this.session.getSelection();O.off("changeCursor",this.$onCursorChange);O.off("changeSelection",this.$onSelectionChange)}(this.session=D)?(this.$onDocumentChange=this.onDocumentChange.bind(this),D.on("change",this.$onDocumentChange),this.renderer.setSession(D),this.$onChangeMode=this.onChangeMode.bind(this),D.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),D.on("tokenizerUpdate",
this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),D.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),D.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),D.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),D.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",
this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=
this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=D.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),--this.$blockScrolling,
this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(D));this._signal("changeSession",{session:D,oldSession:J});this.curOp=null;J&&J._signal("changeEditor",{oldEditor:this});D&&D._signal("changeEditor",{editor:this});D&&D.bgTokenizer&&D.bgTokenizer.scheduleStart()}};
this.getSession=function(){return this.session};this.setValue=function(D,J){return this.session.doc.setValue(D),J?1==J?this.navigateFileEnd():-1==J&&this.navigateFileStart():this.selectAll(),D};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(D){this.renderer.onResize(D)};this.setTheme=function(D,J){this.renderer.setTheme(D,J)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(D){this.renderer.setStyle(D)};
this.unsetStyle=function(D){this.renderer.unsetStyle(D)};this.getFontSize=function(){return this.getOption("fontSize")||h.computedStyle(this.container,"fontSize")};this.setFontSize=function(D){this.setOption("fontSize",D)};this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(!this.$highlightPending){var D=this;this.$highlightPending=!0;setTimeout(function(){D.$highlightPending=!1;var J=
D.session;if(J&&J.bgTokenizer){var O=J.findMatchingBracket(D.getCursorPosition());if(O)var G=new n(O.row,O.column,O.row,O.column+1);else J.$mode.getMatching&&(G=J.$mode.getMatching(D.session));G&&(J.$bracketHighlight=J.addMarker(G,"ace_bracket","text"))}},50)}};this.$highlightTags=function(){if(!this.$highlightTagPending){var D=this;this.$highlightTagPending=!0;setTimeout(function(){D.$highlightTagPending=!1;var J=D.session;if(J&&J.bgTokenizer){var O=D.getCursorPosition(),G=new v(D.session,O.row,
O.column);if((O=G.getCurrentToken())&&/\b(?:tag-open|tag-name)/.test(O.type)){if(-1!=O.type.indexOf("tag-open")&&(O=G.stepForward(),!O))return;var T=O.value,S=0,R=G.stepBackward();if("<"==R.value){do R=O,(O=G.stepForward())&&O.value===T&&-1!==O.type.indexOf("tag-name")&&("<"===R.value?S++:"</"===R.value&&S--);while(O&&0<=S)}else{do O=R,R=G.stepBackward(),O&&O.value===T&&-1!==O.type.indexOf("tag-name")&&("<"===R.value?S++:"</"===R.value&&S--);while(R&&0>=S);G.stepForward()}O?(T=G.getCurrentTokenRow(),
G=G.getCurrentTokenColumn(),O=new n(T,G,T,G+O.value.length),G=J.$backMarkers[J.$tagHighlight],J.$tagHighlight&&void 0!=G&&0!==O.compareRange(G.range)&&(J.removeMarker(J.$tagHighlight),J.$tagHighlight=null),O&&!J.$tagHighlight&&(J.$tagHighlight=J.addMarker(O,"ace_bracket","text"))):(J.removeMarker(J.$tagHighlight),J.$tagHighlight=null)}else J.removeMarker(J.$tagHighlight),J.$tagHighlight=null}},50)}};this.focus=function(){var D=this;setTimeout(function(){D.textInput.focus()});this.textInput.focus()};
this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(D){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",D))};this.onBlur=function(D){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",D))};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(D){this.renderer.updateLines(D.start.row,
D.start.row==D.end.row?D.end.row:Infinity,this.session.$useWrapMode);this._signal("change",D);this.$cursorChange();this.$updateHighlightActiveLine()};this.onTokenizerUpdate=function(D){D=D.data;this.renderer.updateLines(D.first,D.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();this.$blockScrolling||(H.warn("Automatically scrolling cursor into view after selection change",
"this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView());this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var D=this.getSession(),J;this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(J=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||
1<this.renderer.$minLines||(J=!1));D.$highlightLineMarker&&!J?(D.removeMarker(D.$highlightLineMarker.id),D.$highlightLineMarker=null):!D.$highlightLineMarker&&J?(J=new n(J.row,J.column,J.row,Infinity),J.id=D.addMarker(J,"ace_active-line","screenLine"),D.$highlightLineMarker=J):J&&(D.$highlightLineMarker.start.row=J.row,D.$highlightLineMarker.end.row=J.row,D.$highlightLineMarker.start.column=J.column,D._signal("changeBackMarker"))};this.onSelectionChange=function(D){D=this.session;D.$selectionMarker&&
D.removeMarker(D.$selectionMarker);D.$selectionMarker=null;if(this.selection.isEmpty())this.$updateHighlightActiveLine();else{var J=this.selection.getRange(),O=this.getSelectionStyle();D.$selectionMarker=D.addMarker(J,"ace_selection",O)}D=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(D);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var D=this.session,J=this.getSelectionRange();if(!J.isEmpty()&&!J.isMultiLine()){var O=J.start.column-
1,G=J.end.column+1;D=D.getLine(J.start.row);var T=D.length,S=D.substring(Math.max(O,0),Math.min(G,T));if(!(0<=O&&/^[\w\d]/.test(S)||G<=T&&/[\w\d]$/.test(S))&&(S=D.substring(J.start.column,J.end.column),/^[\w\d]+$/.test(S)))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:S})}};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};
this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(D){this.renderer.updateText();this._emit("changeMode",D)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=
function(){var D=this.getSelectedText();return this._signal("copy",D),D};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(D,J){this.commands.exec("paste",this,{text:D,event:J})};this.$handlePaste=function(D){"string"==typeof D&&(D={text:D});this._signal("paste",D);var J=D.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(J);else{D=J.split(/\r\n|\r|\n/);var O=this.selection.rangeList.ranges;if(D.length>
O.length||2>D.length||!D[1])return this.commands.exec("insertstring",this,J);for(J=O.length;J--;){var G=O[J];G.isEmpty()||this.session.remove(G);this.session.insert(G.start,D[J])}}};this.execCommand=function(D,J){return this.commands.exec(D,this,J)};this.insert=function(D,J){var O=this.session,G=O.getMode(),T=this.getCursorPosition();if(this.getBehavioursEnabled()&&!J){var S=G.transformAction(O.getState(T.row),"insertion",this,O,D);S&&(D!==S.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=
!1),D=S.text)}"\t"==D&&(D=this.session.getTabString());this.selection.isEmpty()?this.session.getOverwrite()&&-1==D.indexOf("\n")&&(J=new n.fromPoints(T,T),J.end.column+=D.length,this.session.remove(J)):(J=this.getSelectionRange(),T=this.session.remove(J),this.clearSelection());if("\n"==D||"\r\n"==D){var R=O.getLine(T.row);T.column>R.search(/\S|$/)&&(J=R.substr(T.column).search(/\S|$/),O.doc.removeInLine(T.row,T.column,T.column+J))}this.clearSelection();var ba=T.column;J=O.getState(T.row);R=O.getLine(T.row);
var ha=G.checkOutdent(J,R,D);O.insert(T,D);S&&S.selection&&(2==S.selection.length?this.selection.setSelectionRange(new n(T.row,ba+S.selection[0],T.row,ba+S.selection[1])):this.selection.setSelectionRange(new n(T.row+S.selection[0],S.selection[1],T.row+S.selection[2],S.selection[3])));O.getDocument().isNewLine(D)&&(D=G.getNextLineIndent(J,R.slice(0,T.column),O.getTabString()),O.insert({row:T.row+1,column:0},D));ha&&G.autoOutdent(J,O,T.row)};this.onTextInput=function(D){this.keyBinding.onTextInput(D)};
this.onCommandKey=function(D,J,O){this.keyBinding.onCommandKey(D,J,O)};this.setOverwrite=function(D){this.session.setOverwrite(D)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(D){this.setOption("scrollSpeed",D)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(D){this.setOption("dragDelay",D)};this.getDragDelay=function(){return this.getOption("dragDelay")};
this.setSelectionStyle=function(D){this.setOption("selectionStyle",D)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(D){this.setOption("highlightActiveLine",D)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(D){this.setOption("highlightGutterLine",D)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=
function(D){this.setOption("highlightSelectedWord",D)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(D){this.renderer.setAnimatedScroll(D)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(D){this.renderer.setShowInvisibles(D)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(D){this.renderer.setDisplayIndentGuides(D)};
this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(D){this.renderer.setShowPrintMargin(D)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(D){this.renderer.setPrintMarginColumn(D)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(D){this.setOption("readOnly",D)};this.getReadOnly=function(){return this.getOption("readOnly")};
this.setBehavioursEnabled=function(D){this.setOption("behavioursEnabled",D)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(D){this.setOption("wrapBehavioursEnabled",D)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(D){this.setOption("showFoldWidgets",D)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=
function(D){this.setOption("fadeFoldWidgets",D)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(D){this.selection.isEmpty()&&("left"==D?this.selection.selectLeft():this.selection.selectRight());D=this.getSelectionRange();if(this.getBehavioursEnabled()){var J=this.session,O=J.getState(D.start.row);O=J.getMode().transformAction(O,"deletion",this,J,D);if(0===D.end.column){var G=J.getTextRange(D);"\n"==G[G.length-1]&&(J=J.getLine(D.end.row),/^\s+$/.test(J)&&
(D.end.column=J.length))}O&&(D=O)}this.session.remove(D);this.clearSelection()};this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.session.remove(this.getSelectionRange());
this.clearSelection()};this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var D=this.getSelectionRange();D.start.column==D.end.column&&D.start.row==D.end.row&&(D.end.column=0,D.end.row++);this.session.remove(D);this.clearSelection()};this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var D=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(D)};this.transposeLetters=function(){if(this.selection.isEmpty()){var D=
this.getCursorPosition(),J=D.column;if(0!==J){var O=this.session.getLine(D.row),G,T;J<O.length?(G=O.charAt(J)+O.charAt(J-1),T=new n(D.row,J-1,D.row,J+1)):(G=O.charAt(J-1)+O.charAt(J-2),T=new n(D.row,J-2,D.row,J));this.session.replace(T,G);this.session.selection.moveToPosition(T.end)}}};this.toLowerCase=function(){var D=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var J=this.getSelectionRange(),O=this.session.getTextRange(J);this.session.replace(J,O.toLowerCase());
this.selection.setSelectionRange(D)};this.toUpperCase=function(){var D=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var J=this.getSelectionRange(),O=this.session.getTextRange(J);this.session.replace(J,O.toUpperCase());this.selection.setSelectionRange(D)};this.indent=function(){var D=this.session,J=this.getSelectionRange();if(J.start.row<J.end.row)J=this.$getSelectedRows(),D.indentRows(J.first,J.last,"\t");else{if(J.start.column<J.end.column){var O=D.getTextRange(J);
if(!/^\s+$/.test(O)){J=this.$getSelectedRows();D.indentRows(J.first,J.last,"\t");return}}O=D.getLine(J.start.row);var G=J.start,T=D.getTabSize();D=D.documentToScreenColumn(G.row,G.column);if(this.session.getUseSoftTabs())J=f.stringRepeat(" ",T-D%T);else{for(D%=T;" "==O[J.start.column-1]&&D;)J.start.column--,D--;this.selection.setSelectionRange(J);J="\t"}return this.insert(J)}};this.blockIndent=function(){var D=this.$getSelectedRows();this.session.indentRows(D.first,D.last,"\t")};this.blockOutdent=
function(){var D=this.session.getSelection();this.session.outdentRows(D.getRange())};this.sortLines=function(){for(var D=this.$getSelectedRows(),J=this.session,O=[],G=D.first;G<=D.last;G++)O.push(J.getLine(G));O.sort(function(R,ba){return R.toLowerCase()<ba.toLowerCase()?-1:R.toLowerCase()>ba.toLowerCase()?1:0});var T=new n(0,0,0,0);for(G=D.first;G<=D.last;G++){var S=J.getLine(G);T.start.row=G;T.end.row=G;T.end.column=S.length;J.replace(T,O[G-D.first])}};this.toggleCommentLines=function(){var D=this.session.getState(this.getCursorPosition().row),
J=this.$getSelectedRows();this.session.getMode().toggleCommentLines(D,this.session,J.first,J.last)};this.toggleBlockComment=function(){var D=this.getCursorPosition(),J=this.session.getState(D.row),O=this.getSelectionRange();this.session.getMode().toggleBlockComment(J,this.session,O,D)};this.getNumberAt=function(D,J){var O=/[\-]?[0-9]+(?:\.[0-9]+)?/g;O.lastIndex=0;for(D=this.session.getLine(D);O.lastIndex<J;){var G=O.exec(D);if(G.index<=J&&G.index+G[0].length>=J)return{value:G[0],start:G.index,end:G.index+
G[0].length}}return null};this.modifyNumber=function(D){var J=this.selection.getCursor().row,O=this.selection.getCursor().column,G=new n(J,O-1,J,O);G=this.session.getTextRange(G);if(!isNaN(parseFloat(G))&&isFinite(G)&&(G=this.getNumberAt(J,O))){var T=0<=G.value.indexOf(".")?G.start+G.value.indexOf(".")+1:G.end,S=G.start+G.value.length-T,R=parseFloat(G.value);R*=Math.pow(10,S);T!==G.end&&O<T?D*=Math.pow(10,G.end-O-1):D*=Math.pow(10,G.end-O);R=(R+D)/Math.pow(10,S);D=R.toFixed(S);T=new n(J,G.start,J,
G.end);this.session.replace(T,D);this.moveCursorTo(J,Math.max(G.start+1,O+D.length-G.value.length))}};this.removeLines=function(){var D=this.$getSelectedRows();this.session.removeFullLines(D.first,D.last);this.clearSelection()};this.duplicateSelection=function(){var D=this.selection,J=this.session,O=D.getRange(),G=D.isBackwards();if(O.isEmpty())D=O.start.row,J.duplicateLines(D,D);else{var T=G?O.start:O.end;J=J.insert(T,J.getTextRange(O),!1);O.start=T;O.end=J;D.setSelectionRange(O,G)}};this.moveLinesDown=
function(){this.$moveLines(1,!1)};this.moveLinesUp=function(){this.$moveLines(-1,!1)};this.moveText=function(D,J,O){return this.session.moveText(D,J,O)};this.copyLinesUp=function(){this.$moveLines(-1,!0)};this.copyLinesDown=function(){this.$moveLines(1,!0)};this.$moveLines=function(D,J){var O=this.selection;if(!O.inMultiSelectMode||this.inVirtualSelectionMode){var G=O.toOrientedRange();var T=this.$getSelectedRows(G);var S=this.session.$moveLines(T.first,T.last,J?0:D);J&&-1==D&&(S=0);G.moveBy(S,0);
O.fromOrientedRange(G)}else{G=O.rangeList.ranges;O.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;var R=0;S=0;for(var ba=G.length,ha=0;ha<ba;ha++){var ra=ha;G[ha].moveBy(R,0);T=this.$getSelectedRows(G[ha]);R=T.first;for(T=T.last;++ha<ba;){S&&G[ha].moveBy(S,0);var Ka=this.$getSelectedRows(G[ha]);if(J&&Ka.first!=T)break;if(!J&&Ka.first>T+1)break;T=Ka.last}ha--;R=this.session.$moveLines(R,T,J?0:D);for(J&&-1==D&&(ra=ha+1);ra<=ha;)G[ra].moveBy(R,0),ra++;J||(R=0);S+=R}O.fromOrientedRange(O.ranges[0]);
O.rangeList.attach(this.session);this.inVirtualSelectionMode=!1}};this.$getSelectedRows=function(D){return D=(D||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(D.start.row),last:this.session.getRowFoldEnd(D.end.row)}};this.onCompositionStart=function(D){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(D){this.renderer.setCompositionText(D)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=
function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(D){return D>=this.getFirstVisibleRow()&&D<=this.getLastVisibleRow()};this.isRowFullyVisible=function(D){return D>=this.renderer.getFirstFullyVisibleRow()&&D<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(D,J){var O=
this.renderer,G=this.renderer.layerConfig,T=D*Math.floor(G.height/G.lineHeight);this.$blockScrolling++;!0===J?this.selection.$moveSelection(function(){this.moveCursorBy(T,0)}):!1===J&&(this.selection.moveCursorBy(T,0),this.selection.clearSelection());this.$blockScrolling--;D=O.scrollTop;O.scrollBy(0,T*G.lineHeight);null!=J&&O.scrollCursorIntoView(null,.5);O.animateScrolling(D)};this.selectPageDown=function(){this.$moveByPage(1,!0)};this.selectPageUp=function(){this.$moveByPage(-1,!0)};this.gotoPageDown=
function(){this.$moveByPage(1,!1)};this.gotoPageUp=function(){this.$moveByPage(-1,!1)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(D){this.renderer.scrollToRow(D)};this.scrollToLine=function(D,J,O,G){this.renderer.scrollToLine(D,J,O,G)};this.centerSelection=function(){var D=this.getSelectionRange();this.renderer.alignCursor({row:Math.floor(D.start.row+(D.end.row-D.start.row)/2),column:Math.floor(D.start.column+(D.end.column-
D.start.column)/2)},.5)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();--this.$blockScrolling};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(D,J){this.selection.moveCursorTo(D,
J)};this.moveCursorToPosition=function(D){this.selection.moveCursorToPosition(D)};this.jumpToMatching=function(D,J){var O=this.getCursorPosition(),G=new v(this.session,O.row,O.column),T=G.getCurrentToken(),S=T||G.stepForward();if(S){var R,ba=!1,ha={},ra=O.column-S.start,Ka={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(S.value.match(/[{}()\[\]]/g))for(;ra<S.value.length&&!ba;ra++){if(Ka[S.value[ra]]){var ma=Ka[S.value[ra]]+"."+S.type.replace("rparen","lparen");isNaN(ha[ma])&&(ha[ma]=0);switch(S.value[ra]){case "(":case "[":case "{":ha[ma]++;
break;case ")":case "]":case "}":ha[ma]--,-1===ha[ma]&&(R="bracket",ba=!0)}}}else S&&-1!==S.type.indexOf("tag-name")&&(isNaN(ha[S.value])&&(ha[S.value]=0),"<"===T.value?ha[S.value]++:"</"===T.value&&ha[S.value]--,-1===ha[S.value]&&(R="tag",ba=!0));ba||(T=S,S=G.stepForward(),ra=0)}while(S&&!ba);if(R){if("bracket"===R){var ja=this.session.getBracketRange(O);if(!ja){ja=new n(G.getCurrentTokenRow(),G.getCurrentTokenColumn()+ra-1,G.getCurrentTokenRow(),G.getCurrentTokenColumn()+ra-1);var Ca=ja.start;if(J||
Ca.row===O.row&&2>Math.abs(Ca.column-O.column))ja=this.session.getBracketRange(Ca)}}else if("tag"===R){if(!S||-1===S.type.indexOf("tag-name"))return;R=S.value;ja=new n(G.getCurrentTokenRow(),G.getCurrentTokenColumn()-2,G.getCurrentTokenRow(),G.getCurrentTokenColumn()-2);if(0===ja.compare(O.row,O.column)){ba=!1;do S=T,(T=G.stepBackward())&&(-1!==T.type.indexOf("tag-close")&&ja.setEnd(G.getCurrentTokenRow(),G.getCurrentTokenColumn()+1),S.value===R&&-1!==S.type.indexOf("tag-name")&&("<"===T.value?ha[R]++:
"</"===T.value&&ha[R]--,0===ha[R]&&(ba=!0)));while(T&&!ba)}S&&S.type.indexOf("tag-name")&&(Ca=ja.start,Ca.row==O.row&&2>Math.abs(Ca.column-O.column)&&(Ca=ja.end))}(Ca=ja&&ja.cursor||Ca)&&(D?ja&&J?this.selection.setRange(ja):ja&&ja.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Ca.row,Ca.column):this.selection.moveTo(Ca.row,Ca.column))}}};this.gotoLine=function(D,J,O){this.selection.clearSelection();this.session.unfold({row:D-1,column:J||0});this.$blockScrolling+=1;
this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(D-1,J||0);--this.$blockScrolling;this.isRowFullyVisible(D-1)||this.scrollToLine(D-1,!0,O)};this.navigateTo=function(D,J){this.selection.moveTo(D,J)};this.navigateUp=function(D){if(this.selection.isMultiLine()&&!this.selection.isBackwards())return D=this.selection.anchor.getPosition(),this.moveCursorToPosition(D);this.selection.clearSelection();this.selection.moveCursorBy(-D||-1,0)};this.navigateDown=function(D){if(this.selection.isMultiLine()&&
this.selection.isBackwards())return D=this.selection.anchor.getPosition(),this.moveCursorToPosition(D);this.selection.clearSelection();this.selection.moveCursorBy(D||1,0)};this.navigateLeft=function(D){if(this.selection.isEmpty())for(D=D||1;D--;)this.selection.moveCursorLeft();else D=this.getSelectionRange().start,this.moveCursorToPosition(D);this.clearSelection()};this.navigateRight=function(D){if(this.selection.isEmpty())for(D=D||1;D--;)this.selection.moveCursorRight();else D=this.getSelectionRange().end,
this.moveCursorToPosition(D);this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};
this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(D,J){J&&this.$search.set(J);J=this.$search.find(this.session);var O=0;return J?(this.$tryReplace(J,D)&&(O=1),null!==J&&(this.selection.setSelectionRange(J),this.renderer.scrollSelectionIntoView(J.start,J.end)),O):O};this.replaceAll=function(D,J){J&&this.$search.set(J);J=this.$search.findAll(this.session);var O=0;if(!J.length)return O;this.$blockScrolling+=1;var G=this.getSelectionRange();
this.selection.moveTo(0,0);for(var T=J.length-1;0<=T;--T)this.$tryReplace(J[T],D)&&O++;return this.selection.setSelectionRange(G),--this.$blockScrolling,O};this.$tryReplace=function(D,J){var O=this.session.getTextRange(D);return J=this.$search.replace(O,J),null!==J?(D.end=this.session.replace(D,J),D):null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(D,J,O){J||={};"string"==typeof D||D instanceof RegExp?J.needle=D:"object"==typeof D&&a.mixin(J,D);var G=
this.selection.getRange();null==J.needle&&(D=this.session.getTextRange(G)||this.$search.$options.needle,D||(G=this.session.getWordRange(G.start.row,G.start.column),D=this.session.getTextRange(G)),this.$search.set({needle:D}));this.$search.set(J);J.start||this.$search.set({start:G});D=this.$search.find(this.session);if(J.preventScroll)return D;if(D)return this.revealRange(D,O),D;J.backwards?G.start=G.end:G.end=G.start;this.selection.setRange(G)};this.findNext=function(D,J){this.find({skipCurrent:!0,
backwards:!1},D,J)};this.findPrevious=function(D,J){this.find(D,{skipCurrent:!0,backwards:!0},J)};this.revealRange=function(D,J){this.$blockScrolling+=1;this.session.unfold(D);this.selection.setSelectionRange(D);--this.$blockScrolling;var O=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(D.start,D.end,.5);!1!==J&&this.renderer.animateScrolling(O)};this.undo=function(){this.$blockScrolling++;this.session.getUndoManager().undo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,
.5)};this.redo=function(){this.$blockScrolling++;this.session.getUndoManager().redo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.renderer.destroy();this._signal("destroy",this);this.session&&this.session.destroy()};this.setAutoScrollEditorIntoView=function(D){if(D){var J,O=this,G=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var T=this.$scrollAnchor;T.style.cssText="position:absolute";this.container.insertBefore(T,this.container.firstChild);
var S=this.on("changeSelection",function(){G=!0}),R=this.renderer.on("beforeRender",function(){G&&(J=O.renderer.container.getBoundingClientRect())}),ba=this.renderer.on("afterRender",function(){if(G&&J&&(O.isFocused()||O.searchBox&&O.searchBox.isFocused())){var ha=O.renderer,ra=ha.$cursorLayer.$pixelPos;ha=ha.layerConfig;var Ka=ra.top-ha.offset;0<=ra.top&&0>Ka+J.top?G=!0:ra.top<ha.height&&ra.top+J.top+ha.lineHeight>window.innerHeight?G=!1:G=null;null!=G&&(T.style.top=Ka+"px",T.style.left=ra.left+
"px",T.style.height=ha.lineHeight+"px",T.scrollIntoView(G));G=J=null}});this.setAutoScrollEditorIntoView=function(ha){ha||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",S),this.renderer.off("afterRender",ba),this.renderer.off("beforeRender",R))}}};this.$resetCursorStyle=function(){var D=this.$cursorStyle||"ace",J=this.renderer.$cursorLayer;J&&(J.setSmoothBlinking(/smooth/.test(D)),J.isBlinking=!this.$readOnly&&"wide"!=D,h.setCssClass(J.element,"ace_slim-cursors",/slim/.test(D)))}}).call(I.prototype);
H.defineOptions(I.prototype,"editor",{selectionStyle:{set:function(D){this.onSelectionChange();this._signal("changeSelectionStyle",{data:D})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(D){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(D){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(D){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},
mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(D){this.setAutoScrollEditorIntoView(D)}},keyboardHandler:{set:function(D){this.setKeyboardHandler(D)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",
printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",
overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});L.Editor=I});
define("ace/undomanager",["require","exports","module"],function(d,L,X){d=function(){this.reset()};(function(){function a(g){return{action:g.action,start:g.start,end:g.end,lines:1==g.lines.length?null:g.lines,text:1==g.lines.length?g.lines[0]:null}}function h(g){return{action:g.action,start:g.start,end:g.end,lines:g.lines||[g.text]}}function f(g,e){for(var k=Array(g.length),p=0;p<g.length;p++){for(var u=g[p],c={group:u.group,deltas:Array(u.length)},m=0;m<u.deltas.length;m++)c.deltas[m]=e(u.deltas[m]);
k[p]=c}return k}this.execute=function(g){var e=g.args[0];this.$doc=g.args[1];g.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e));this.$undoStack.push(e);this.$redoStack=[];0>this.dirtyCounter&&(this.dirtyCounter=NaN);this.dirtyCounter++};this.undo=function(g){var e=this.$undoStack.pop(),k=null;return e&&(k=this.$doc.undoChanges(e,g),this.$redoStack.push(e),this.dirtyCounter--),k};this.redo=function(g){var e=this.$redoStack.pop(),k=null;return e&&(k=this.$doc.redoChanges(this.$deserializeDeltas(e),
g),this.$undoStack.push(e),this.dirtyCounter++),k};this.reset=function(){this.$undoStack=[];this.$redoStack=[];this.dirtyCounter=0};this.hasUndo=function(){return 0<this.$undoStack.length};this.hasRedo=function(){return 0<this.$redoStack.length};this.markClean=function(){this.dirtyCounter=0};this.isClean=function(){return 0===this.dirtyCounter};this.$serializeDeltas=function(g){return f(g,a)};this.$deserializeDeltas=function(g){return f(g,h)}}).call(d.prototype);L.UndoManager=d});
define("ace/layer/gutter","require exports module ace/lib/dom ace/lib/oop ace/lib/lang ace/lib/event_emitter".split(" "),function(d,L,X){var a=d("../lib/dom"),h=d("../lib/oop"),f=d("../lib/lang"),g=d("../lib/event_emitter").EventEmitter;d=function(e){this.element=a.createElement("div");this.element.className="ace_layer ace_gutter-layer";e.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);
this.$cells=[]};(function(){h.implement(this,g);this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations);(this.session=e)&&e.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(e,k){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(e,k)};this.removeGutterDecoration=function(e,k){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration");
this.session.removeGutterDecoration(e,k)};this.setAnnotations=function(e){this.$annotations=[];for(var k=0;k<e.length;k++){var p=e[k],u=p.row,c=this.$annotations[u];c||=this.$annotations[u]={text:[]};u=(u=p.text)?f.escapeHTML(u):p.html||"";-1===c.text.indexOf(u)&&c.text.push(u);p=p.type;"error"==p?c.className=" ace_error":"warning"==p&&" ace_error"!=c.className?c.className=" ace_warning":"info"==p&&!c.className&&(c.className=" ace_info")}};this.$updateAnnotations=function(e){if(this.$annotations.length){var k=
e.start.row,p=e.end.row-k;0!==p&&("remove"==e.action?this.$annotations.splice(k,p+1,null):(e=Array(p+1),e.unshift(k,1),this.$annotations.splice.apply(this.$annotations,e)))}};this.update=function(e){for(var k=this.session,p=e.firstRow,u=Math.min(e.lastRow+e.gutterOffset,k.getLength()-1),c=k.getNextFoldLine(p),m=c?c.start.row:Infinity,n=this.$showFoldWidgets&&k.foldWidgets,w=k.$breakpoints,z=k.$decorations,x=k.$firstLineNumber,H=0,v=k.gutterRenderer||this.$renderer,I=-1,D=p;;){D>m&&(D=c.end.row+1,
c=k.getNextFoldLine(D,c),m=c?c.start.row:Infinity);if(D>u){for(;this.$cells.length>I+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}(p=this.$cells[++I])||(p={element:null,textNode:null,foldWidget:null},p.element=a.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[I]=p);H="ace_gutter-cell ";w[D]&&(H+=w[D]);z[D]&&(H+=z[D]);this.$annotations[D]&&(H+=this.$annotations[D].className);p.element.className!=
H&&(p.element.className=H);H=k.getRowLength(D)*e.lineHeight+"px";H!=p.element.style.height&&(p.element.style.height=H);if(n){var J=n[D];null==J&&(J=n[D]=k.getFoldWidget(D))}J?(p.foldWidget||(p.foldWidget=a.createElement("span"),p.element.appendChild(p.foldWidget)),H="ace_fold-widget ace_"+J,"start"==J&&D==m&&D<c.end.row?H+=" ace_closed":H+=" ace_open",p.foldWidget.className!=H&&(p.foldWidget.className=H),H=e.lineHeight+"px",p.foldWidget.style.height!=H&&(p.foldWidget.style.height=H)):p.foldWidget&&
(p.element.removeChild(p.foldWidget),p.foldWidget=null);var O=H=v?v.getText(k,D):D+x;O!==p.textNode.data&&(p.textNode.data=O);D++}this.element.style.height=e.minHeight+"px";if(this.$fixedWidth||k.$useWrapMode)H=k.getLength()+x;e=v?v.getWidth(k,H,e):H.toString().length*e.characterWidth;k=this.$padding||this.$computePadding();e+=k.left+k.right;e!==this.gutterWidth&&!isNaN(e)&&(this.gutterWidth=e,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",e))};this.$fixedWidth=
!1;this.$showLineNumbers=!0;this.$renderer="";this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=!0;this.setShowFoldWidgets=function(e){e?a.addCssClass(this.element,"ace_folding-enabled"):a.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=e;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};
this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=a.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding};this.getRegion=function(e){var k=this.$padding||this.$computePadding(),p=this.element.getBoundingClientRect();if(e.x<k.left+p.left)return"markers";if(this.$showFoldWidgets&&e.x>p.right-k.right)return"foldWidgets"}}).call(d.prototype);L.Gutter=
d});
define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(d,L,X){var a=d("../range").Range,h=d("../lib/dom");d=function(f){this.element=h.createElement("div");this.element.className="ace_layer ace_marker-layer";f.appendChild(this.element)};(function(){this.$padding=0;this.setPadding=function(f){this.$padding=f};this.setSession=function(f){this.session=f};this.setMarkers=function(f){this.markers=f};this.update=function(f){if(f){this.config=f;var g=[],e;for(e in this.markers){var k=this.markers[e];
if(k.range){var p=k.range.clipRows(f.firstRow,f.lastRow);if(!p.isEmpty())if(p=p.toScreenRange(this.session),k.renderer){var u=this.$getTop(p.start.row,f),c=this.$padding+(this.session.$bidiHandler.isBidiRow(p.start.row)?this.session.$bidiHandler.getPosLeft(p.start.column):p.start.column*f.characterWidth);k.renderer(g,p,c,u,f)}else"fullLine"==k.type?this.drawFullLineMarker(g,p,k.clazz,f):"screenLine"==k.type?this.drawScreenLineMarker(g,p,k.clazz,f):p.isMultiLine()?"text"==k.type?this.drawTextMarker(g,
p,k.clazz,f):this.drawMultiLineMarker(g,p,k.clazz,f):this.session.$bidiHandler.isBidiRow(p.start.row)?this.drawBidiSingleLineMarker(g,p,k.clazz+" ace_start ace_br15",f):this.drawSingleLineMarker(g,p,k.clazz+" ace_start ace_br15",f)}else k.update(g,this,this.session,f)}this.element.innerHTML=g.join("")}};this.$getTop=function(f,g){return(f-g.firstRowScreen)*g.lineHeight};this.drawTextMarker=function(f,g,e,k,p){for(var u=this.session,c=g.start.row,m=g.end.row,n=c,w,z=0,x=u.getScreenLastRowColumn(n),
H=new a(n,g.start.column,n,z);n<=m;n++)H.start.row=H.end.row=n,H.start.column=n==c?g.start.column:u.getRowWrapIndent(n),H.end.column=x,w=z,z=x,x=n+1<m?u.getScreenLastRowColumn(n+1):n==m?0:g.end.column,w=e+(n==c?" ace_start":"")+" ace_br"+((n==c||n==c+1&&g.start.column?1:0)|(w<z?2:0)|(z>x?4:0)|(n==m?8:0)),this.session.$bidiHandler.isBidiRow(n)?this.drawBidiSingleLineMarker(f,H,w,k,n==m?0:1,p):this.drawSingleLineMarker(f,H,w,k,n==m?0:1,p)};this.drawMultiLineMarker=function(f,g,e,k,p){var u=this.$padding;
p=p||"";if(this.session.$bidiHandler.isBidiRow(g.start.row)){var c=g.clone();c.end.row=c.start.row;c.end.column=this.session.getLine(c.start.row).length;this.drawBidiSingleLineMarker(f,c,e+" ace_br1 ace_start",k,null,p)}else{c=k.lineHeight;var m=this.$getTop(g.start.row,k);var n=u+g.start.column*k.characterWidth;f.push("<div class='",e," ace_br1 ace_start' style='","height:",c,"px;","right:0;","top:",m,"px;","left:",n,"px;",p,"'></div>")}this.session.$bidiHandler.isBidiRow(g.end.row)?(c=g.clone(),
c.start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(f,c,e+" ace_br12",k,null,p)):(n=g.end.column*k.characterWidth,c=k.lineHeight,m=this.$getTop(g.end.row,k),f.push("<div class='",e," ace_br12' style='","height:",c,"px;","width:",n,"px;","top:",m,"px;","left:",u,"px;",p,"'></div>"));c=(g.end.row-g.start.row-1)*k.lineHeight;0>=c||(m=this.$getTop(g.start.row+1,k),g=(g.start.column?1:0)|(g.end.column?0:8),f.push("<div class='",e,g?" ace_br"+g:"","' style='","height:",c,"px;","right:0;",
"top:",m,"px;","left:",u,"px;",p,"'></div>"))};this.drawSingleLineMarker=function(f,g,e,k,p,u){var c=k.lineHeight;p=(g.end.column+(p||0)-g.start.column)*k.characterWidth;var m=this.$getTop(g.start.row,k);f.push("<div class='",e,"' style='","height:",c,"px;","width:",p,"px;","top:",m,"px;","left:",this.$padding+g.start.column*k.characterWidth,"px;",u||"","'></div>")};this.drawBidiSingleLineMarker=function(f,g,e,k,p,u){var c=k.lineHeight,m=this.$getTop(g.start.row,k),n=this.$padding;this.session.$bidiHandler.getSelections(g.start.column,
g.end.column).forEach(function(w){f.push("<div class='",e,"' style='","height:",c,"px;","width:",w.width+(p||0),"px;","top:",m,"px;","left:",n+w.left,"px;",u||"","'></div>")})};this.drawFullLineMarker=function(f,g,e,k,p){var u=this.$getTop(g.start.row,k),c=k.lineHeight;g.start.row!=g.end.row&&(c+=this.$getTop(g.end.row,k)-u);f.push("<div class='",e,"' style='","height:",c,"px;","top:",u,"px;","left:0;right:0;",p||"","'></div>")};this.drawScreenLineMarker=function(f,g,e,k,p){g=this.$getTop(g.start.row,
k);f.push("<div class='",e,"' style='","height:",k.lineHeight,"px;","top:",g,"px;","left:0;right:0;",p||"","'></div>")}}).call(d.prototype);L.Marker=d});
define("ace/layer/text","require exports module ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/lib/event_emitter".split(" "),function(d,L,X){var a=d("../lib/oop"),h=d("../lib/dom"),f=d("../lib/lang");d("../lib/useragent");var g=d("../lib/event_emitter").EventEmitter;d=function(e){this.element=h.createElement("div");this.element.className="ace_layer ace_text-layer";e.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){a.implement(this,g);this.EOF_CHAR=
"\u00b6";this.EOL_CHAR_LF="\u00ac";this.EOL_CHAR_CRLF="\u00a4";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="\u2014";this.SPACE_CHAR="\u00b7";this.$padding=0;this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0};this.setPadding=function(e){this.$padding=e;this.element.style.padding="0 "+e+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=
function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(e){this.$fontMetrics=e;this.$fontMetrics.on("changeCharacterSize",function(k){this._signal("changeCharacterSize",k)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(e){(this.session=e)&&this.$computeTabString()};this.showInvisibles=
!1;this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)};this.displayIndentGuides=!0;this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var k=this.$tabStrings=[0],p=1;p<e+1;p++)this.showInvisibles?k.push("<span class='ace_invisible ace_invisible_tab'>"+
f.stringRepeat(this.TAB_CHAR,p)+"</span>"):k.push(f.stringRepeat(" ",p));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;e="ace_indent-guide";p=k="";if(this.showInvisibles){e+=" ace_invisible";k=" ace_invisible_space";p=" ace_invisible_tab";var u=f.stringRepeat(this.SPACE_CHAR,this.tabSize),c=f.stringRepeat(this.TAB_CHAR,this.tabSize)}else c=u=f.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+e+k+"'>"+u+"</span>";this.$tabStrings["\t"]="<span class='"+e+p+
"'>"+c+"</span>"}};this.updateLines=function(e,k,p){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e);this.config=e;var u=Math.max(k,e.firstRow);p=Math.min(p,e.lastRow);k=this.element.childNodes;for(var c=0,m=e.firstRow;m<u;m++){var n=this.session.getFoldLine(m);if(n){if(n.containsRow(u)){u=n.start.row;break}m=n.end.row}c++}m=u;for(u=(n=this.session.getNextFoldLine(m))?n.start.row:Infinity;;){m>u&&(m=n.end.row+1,n=this.session.getNextFoldLine(m,n),u=n?n.start.row:
Infinity);if(m>p)break;var w=k[c++];if(w){var z=[];this.$renderLine(z,m,!this.$useLineGroups(),m==u?n:!1);w.style.height=e.lineHeight*this.session.getRowLength(m)+"px";w.innerHTML=z.join("")}m++}};this.scrollLines=function(e){var k=this.config;this.config=e;if(!k||k.lastRow<e.firstRow||e.lastRow<k.firstRow)return this.update(e);var p=this.element;if(k.firstRow<e.firstRow)for(var u=this.session.getFoldedRowCount(k.firstRow,e.firstRow-1);0<u;u--)p.removeChild(p.firstChild);if(k.lastRow>e.lastRow)for(u=
this.session.getFoldedRowCount(e.lastRow+1,k.lastRow);0<u;u--)p.removeChild(p.lastChild);e.firstRow<k.firstRow&&(u=this.$renderLinesFragment(e,e.firstRow,k.firstRow-1),p.firstChild?p.insertBefore(u,p.firstChild):p.appendChild(u));e.lastRow>k.lastRow&&(u=this.$renderLinesFragment(e,k.lastRow+1,e.lastRow),p.appendChild(u))};this.$renderLinesFragment=function(e,k,p){for(var u=this.element.ownerDocument.createDocumentFragment(),c=this.session.getNextFoldLine(k),m=c?c.start.row:Infinity;;){k>m&&(k=c.end.row+
1,c=this.session.getNextFoldLine(k,c),m=c?c.start.row:Infinity);if(k>p)break;var n=h.createElement("div"),w=[];this.$renderLine(w,k,!1,k==m?c:!1);n.innerHTML=w.join("");if(this.$useLineGroups())n.className="ace_line_group",u.appendChild(n),n.style.height=e.lineHeight*this.session.getRowLength(k)+"px";else for(;n.firstChild;)u.appendChild(n.firstChild);k++}return u};this.update=function(e){this.config=e;for(var k=[],p=e.lastRow,u=e.firstRow,c=this.session.getNextFoldLine(u),m=c?c.start.row:Infinity;;){u>
m&&(u=c.end.row+1,c=this.session.getNextFoldLine(u,c),m=c?c.start.row:Infinity);if(u>p)break;this.$useLineGroups()&&k.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(u),"px'>");this.$renderLine(k,u,!1,u==m?c:!1);this.$useLineGroups()&&k.push("</div>");u++}this.element.innerHTML=k.join("")};this.$textToken={text:!0,rparen:!0,lparen:!0};this.$renderToken=function(e,k,p,u){var c=this,m=u.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
function(z,x,H,v,I){return x?c.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+f.stringRepeat(c.SPACE_CHAR,z.length)+"</span>":z:"&"==z?"&#38;":"<"==z?"&#60;":">"==z?"&#62;":"\t"==z?(z=c.session.getScreenTabSize(k+v),k+=z-1,c.$tabStrings[z]):"\u3000"==z?(z=c.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",x=c.showInvisibles?c.SPACE_CHAR:"",k+=1,"<span class='"+z+"' style='width:"+2*c.config.characterWidth+"px'>"+x+"</span>"):H?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+
c.SPACE_CHAR+"</span>":(k+=1,"<span class='ace_cjk' style='width:"+2*c.config.characterWidth+"px'>"+z+"</span>")});if(this.$textToken[p.type])e.push(m);else{var n="ace_"+p.type.replace(/\./g," ace_"),w="";"fold"==p.type&&(w=" style='width:"+p.value.length*this.config.characterWidth+"px;' ");e.push("<span class='",n,"'",w,">",m,"</span>")}return k+u.length};this.renderIndentGuide=function(e,k,p){var u=k.search(this.$indentGuideRe);return 0>=u||u>=p?k:" "==k[0]?(u-=u%this.tabSize,e.push(f.stringRepeat(this.$tabStrings[" "],
u/this.tabSize)),k.substr(u)):"\t"==k[0]?(e.push(f.stringRepeat(this.$tabStrings["\t"],u)),k.substr(u)):k};this.$renderWrappedLine=function(e,k,p,u){for(var c=0,m=0,n=p[0],w=0,z=0;z<k.length;z++){var x=k[z],H=x.value;if(0==z&&this.displayIndentGuides){c=H.length;H=this.renderIndentGuide(e,H,n);if(!H)continue;c-=H.length}if(c+H.length<n)w=this.$renderToken(e,w,x,H),c+=H.length;else{for(;c+H.length>=n;)this.$renderToken(e,w,x,H.substring(0,n-c)),H=H.substring(n-c),c=n,u||e.push("</div>","<div class='ace_line' style='height:",
this.config.lineHeight,"px'>"),e.push(f.stringRepeat("\u00a0",p.indent)),m++,w=0,n=p[m]||Number.MAX_VALUE;0!=H.length&&(c+=H.length,w=this.$renderToken(e,w,x,H))}}};this.$renderSimpleLine=function(e,k){var p=0,u=k[0],c=u.value;this.displayIndentGuides&&(c=this.renderIndentGuide(e,c));c&&(p=this.$renderToken(e,p,u,c));for(var m=1;m<k.length;m++)u=k[m],c=u.value,p=this.$renderToken(e,p,u,c)};this.$renderLine=function(e,k,p,u){!u&&0!=u&&(u=this.session.getFoldLine(k));var c=u?this.$getFoldLineTokens(k,
u):this.session.getTokens(k);p||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(k)),"px'>");if(c.length){var m=this.session.getRowSplitData(k);m&&m.length?this.$renderWrappedLine(e,c,m,p):this.$renderSimpleLine(e,c)}this.showInvisibles&&(u&&(k=u.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",k==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>"));p||e.push("</div>")};this.$getFoldLineTokens=function(e,
k){var p=this.session,u=[],c=p.getTokens(e);return k.walk(function(m,n,w,z,x){if(null!=m)u.push({type:"fold",value:m});else if(x&&(c=p.getTokens(n)),c.length)a:{m=c;for(x=n=0;x+m[n].value.length<z;)if(x+=m[n].value.length,n++,n==m.length)break a;if(x!=z){var H=m[n].value.substring(z-x);H.length>w-z&&(H=H.substring(0,w-z));u.push({type:m[n].type,value:H});x=z+H.length;n+=1}for(;x<w&&n<m.length;)H=m[n].value,H.length+x>w?u.push({type:m[n].type,value:H.substring(0,w-x)}):u.push(m[n]),x+=H.length,n+=
1}},k.end.row,this.session.getLine(k.end.row).length),u};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode);delete this.$measureNode}}).call(d.prototype);L.Text=d});
define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(d,L,X){var a=d("../lib/dom"),h;d=function(f){this.element=a.createElement("div");this.element.className="ace_layer ace_cursor-layer";f.appendChild(this.element);void 0===h&&(h=!("opacity"in this.element.style));this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1E3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();a.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=(h?this.$updateVisibility:
this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(f){for(var g=this.cursors,e=g.length;e--;)g[e].style.visibility=f?"":"hidden"};this.$updateOpacity=function(f){for(var g=this.cursors,e=g.length;e--;)g[e].style.opacity=f?"":"0"};this.$padding=0;this.setPadding=function(f){this.$padding=f};this.setSession=function(f){this.session=f};this.setBlinking=function(f){f!=this.isBlinking&&(this.isBlinking=f,this.restartTimer())};this.setBlinkInterval=function(f){f!=this.blinkInterval&&
(this.blinkInterval=f,this.restartTimer())};this.setSmoothBlinking=function(f){f!=this.smoothBlinking&&!h&&(this.smoothBlinking=f,a.setCssClass(this.element,"ace_smooth-blinking",f),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())};this.addCursor=function(){var f=a.createElement("div");return f.className="ace_cursor",this.element.appendChild(f),this.cursors.push(f),f};this.removeCursor=function(){if(1<this.cursors.length){var f=this.cursors.pop();return f.parentNode.removeChild(f),
f}};this.hideCursor=function(){this.isVisible=!1;a.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=!0;a.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var f=this.$updateCursors;clearInterval(this.intervalId);clearTimeout(this.timeoutId);this.smoothBlinking&&a.removeCssClass(this.element,"ace_smooth-blinking");f(!0);if(this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&
setTimeout(function(){a.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var g=function(){this.timeoutId=setTimeout(function(){f(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){f(!0);g()},this.blinkInterval);g()}};this.getPixelPosition=function(f,g){if(!this.config||!this.session)return{left:0,top:0};f||=this.session.selection.getCursor();var e=this.session.documentToScreenPosition(f);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(e.row,f.row)?
this.session.$bidiHandler.getPosLeft(e.column):e.column*this.config.characterWidth),top:(e.row-(g?this.config.firstRowScreen:0))*this.config.lineHeight}};this.update=function(f){this.config=f;var g=this.session.$selectionMarkers,e=0;if(void 0===g||0===g.length)g=[{cursor:null}];var k=0;for(var p=g.length;k<p;k++){var u=this.getPixelPosition(g[k].cursor,!0);if(!((u.top>f.height+f.offset||0>u.top)&&1<k)){var c=(this.cursors[e++]||this.addCursor()).style;this.drawCursor?this.drawCursor(c,u,f,g[k],this.session):
(c.left=u.left+"px",c.top=u.top+"px",c.width=f.characterWidth+"px",c.height=f.lineHeight+"px")}}for(;this.cursors.length>e;)this.removeCursor();f=this.session.getOverwrite();this.$setOverwrite(f);this.$pixelPos=u;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(f){f!=this.overwrite&&(this.overwrite=f,f?a.addCssClass(this.element,"ace_overwrite-cursors"):a.removeCssClass(this.element,"ace_overwrite-cursors"))};this.destroy=function(){clearInterval(this.intervalId);clearTimeout(this.timeoutId)}}).call(d.prototype);
L.Cursor=d});
define("ace/scrollbar","require exports module ace/lib/oop ace/lib/dom ace/lib/event ace/lib/event_emitter".split(" "),function(d,L,X){var a=d("./lib/oop"),h=d("./lib/dom"),f=d("./lib/event"),g=d("./lib/event_emitter").EventEmitter,e=function(k){this.element=h.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=h.createElement("div");this.inner.className="ace_scrollbar-inner";this.element.appendChild(this.inner);k.appendChild(this.element);this.setVisible(!1);
this.skipEvent=!1;f.addListener(this.element,"scroll",this.onScroll.bind(this));f.addListener(this.element,"mousedown",f.preventDefault)};(function(){a.implement(this,g);this.setVisible=function(k){this.element.style.display=k?"":"none";this.isVisible=k;this.coeff=1}}).call(e.prototype);d=function(k,p){e.call(this,k);this.scrollHeight=this.scrollTop=0;p.$scrollbarWidth=this.width=h.scrollbarWidth(k.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px";this.$minWidth=
0};a.inherits(d,e);(function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(1!=this.coeff){var k=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-k)/(this.coeff-k)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1};this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)};this.setHeight=function(k){this.element.style.height=k+"px"};this.setInnerHeight=this.setScrollHeight=
function(k){this.scrollHeight=k;32768<k?(this.coeff=32768/k,k=32768):1!=this.coeff&&(this.coeff=1);this.inner.style.height=k+"px"};this.setScrollTop=function(k){this.scrollTop!=k&&(this.skipEvent=!0,this.scrollTop=k,this.element.scrollTop=k*this.coeff)}}).call(d.prototype);X=function(k,p){e.call(this,k);this.scrollLeft=0;this.height=p.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};a.inherits(X,e);(function(){this.classSuffix="-h";this.onScroll=function(){this.skipEvent||
(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft}));this.skipEvent=!1};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(k){this.element.style.width=k+"px"};this.setInnerWidth=function(k){this.inner.style.width=k+"px"};this.setScrollWidth=function(k){this.inner.style.width=k+"px"};this.setScrollLeft=function(k){this.scrollLeft!=k&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=k)}}).call(X.prototype);L.ScrollBar=d;L.ScrollBarV=
d;L.ScrollBarH=X;L.VScrollBar=d;L.HScrollBar=X});define("ace/renderloop",["require","exports","module","ace/lib/event"],function(d,L,X){var a=d("./lib/event");d=function(h,f){this.onRender=h;this.pending=!1;this.changes=0;this.window=f||window};(function(){this.schedule=function(h){this.changes|=h;if(!this.pending&&this.changes){this.pending=!0;var f=this;a.nextFrame(function(){f.pending=!1;for(var g;g=f.changes;)f.changes=0,f.onRender(g)},this.window)}}}).call(d.prototype);L.RenderLoop=d});
define("ace/layer/font_metrics","require exports module ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/lib/event_emitter".split(" "),function(d,L,X){var a=d("../lib/oop"),h=d("../lib/dom"),f=d("../lib/lang"),g=d("../lib/useragent"),e=d("../lib/event_emitter").EventEmitter,k=0;d=L.FontMetrics=function(p){this.el=h.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=h.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=h.createElement("div");
this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);p.appendChild(this.el);k||this.$testFractionalRect();this.$measureNode.innerHTML=f.stringRepeat("X",k);this.$characterSize={width:0,height:0};this.checkForSizeChanges()};(function(){a.implement(this,e);this.$characterSize={width:0,height:0};this.$testFractionalRect=function(){var p=h.createElement("div");this.$setMeasureNodeStyles(p.style);p.style.width="0.2px";document.documentElement.appendChild(p);
var u=p.getBoundingClientRect().width;0<u&&1>u?k=50:k=100;p.parentNode.removeChild(p)};this.$setMeasureNodeStyles=function(p,u){p.width=p.height="auto";p.left=p.top="0px";p.visibility="hidden";p.position="absolute";p.whiteSpace="pre";8>g.isIE?p["font-family"]="inherit":p.font="inherit";p.overflow=u?"hidden":"visible"};this.checkForSizeChanges=function(){var p=this.$measureSizes();if(p&&(this.$characterSize.width!==p.width||this.$characterSize.height!==p.height)){this.$measureNode.style.fontWeight=
"bold";var u=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=p;this.charSizes=Object.create(null);this.allowBoldFonts=u&&u.width===p.width&&u.height===p.height;this._emit("changeCharacterSize",{data:p})}};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var p=this;return this.$pollSizeChangesTimer=setInterval(function(){p.checkForSizeChanges()},500)};this.setPolling=function(p){p?this.$pollSizeChanges():this.$pollSizeChangesTimer&&
(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)};this.$measureSizes=function(){if(50===k){var p=null;try{p=this.$measureNode.getBoundingClientRect()}catch(u){p={width:0,height:0}}p={height:p.height,width:p.width/k}}else p={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/k};return 0===p.width||0===p.height?null:p};this.$measureCharWidth=function(p){this.$main.innerHTML=f.stringRepeat(p,k);return this.$main.getBoundingClientRect().width/k};this.getCharacterWidth=
function(p){var u=this.charSizes[p];return void 0===u&&(u=this.charSizes[p]=this.$measureCharWidth(p)/this.$characterSize.width),u};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(d.prototype)});
define("ace/virtual_renderer","require exports module ace/lib/oop ace/lib/dom ace/config ace/lib/useragent ace/layer/gutter ace/layer/marker ace/layer/text ace/layer/cursor ace/scrollbar ace/scrollbar ace/renderloop ace/layer/font_metrics ace/lib/event_emitter".split(" "),function(d,L,X){var a=d("./lib/oop"),h=d("./lib/dom"),f=d("./config"),g=d("./lib/useragent"),e=d("./layer/gutter").Gutter,k=d("./layer/marker").Marker,p=d("./layer/text").Text,u=d("./layer/cursor").Cursor,c=d("./scrollbar").HScrollBar,
m=d("./scrollbar").VScrollBar,n=d("./renderloop").RenderLoop,w=d("./layer/font_metrics").FontMetrics,z=d("./lib/event_emitter").EventEmitter;h.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 1;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',
"ace_editor.css");d=function(x,H){var v=this;this.container=x||h.createElement("div");this.$keepTextAreaAtCursor=!g.isOldIE;h.addCssClass(this.container,"ace_editor");this.setTheme(H);this.$gutter=h.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden",!0);this.scroller=h.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=h.createElement("div");this.content.className=
"ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new e(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new k(this.content);this.canvas=(this.$textLayer=new p(this.content)).element;this.$markerFront=new k(this.content);this.$cursorLayer=new u(this.content);this.$vScroll=this.$horizScroll=!1;this.scrollBar=this.scrollBarV=new m(this.container,this);this.scrollBarH=new c(this.container,this);this.scrollBarV.addEventListener("scroll",
function(I){v.$scrollAnimation||v.session.setScrollTop(I.data-v.scrollMargin.top)});this.scrollBarH.addEventListener("scroll",function(I){v.$scrollAnimation||v.session.setScrollLeft(I.data-v.scrollMargin.left)});this.scrollLeft=this.scrollTop=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new w(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.addEventListener("changeCharacterSize",function(I){v.updateCharacterSize();v.onResize(!0,v.gutterWidth,v.$size.width,
v.$size.height);v._signal("changeCharacterSize",I)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$loop=new n(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();
this.setPadding(4);f.resetOptions(this);f._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;a.implement(this,z);this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",
!this.$allowBoldFonts));this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin()};this.setSession=function(x){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode);(this.session=x)&&this.scrollMargin.top&&0>=x.getScrollTop()&&x.setScrollTop(-this.scrollMargin.top);this.$cursorLayer.setSession(x);this.$markerBack.setSession(x);this.$markerFront.setSession(x);
this.$gutterLayer.setSession(x);this.$textLayer.setSession(x);x&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))};this.updateLines=function(x,H,v){void 0===H&&(H=Infinity);this.$changedLines?(this.$changedLines.firstRow>x&&(this.$changedLines.firstRow=
x),this.$changedLines.lastRow<H&&(this.$changedLines.lastRow=H)):this.$changedLines={firstRow:x,lastRow:H};if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(!v)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)};this.onChangeTabSize=
function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(x){x?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()};this.onResize=function(x,H,v,I){if(!(2<this.resizing)){0<
this.resizing?this.resizing++:this.resizing=x?1:0;var D=this.container;I||=D.clientHeight||D.scrollHeight;v||=D.clientWidth||D.scrollWidth;H=this.$updateCachedSize(x,H,v,I);if(!this.$size.scrollerHeight||!v&&!I)return this.resizing=0;x&&(this.$gutterLayer.$padding=null);x?this.$renderChanges(H|this.$changes,!0):this.$loop.schedule(H|this.$changes);this.resizing&&(this.resizing=0);this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}};this.$updateCachedSize=function(x,H,v,I){I-=this.$extraHeight||
0;var D=0,J=this.$size,O={width:J.width,height:J.height,scrollerHeight:J.scrollerHeight,scrollerWidth:J.scrollerWidth};I&&(x||J.height!=I)&&(J.height=I,D|=this.CHANGE_SIZE,J.scrollerHeight=J.height,this.$horizScroll&&(J.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",D|=this.CHANGE_SCROLL);v&&(x||J.width!=v)&&(D|=this.CHANGE_SIZE,J.width=v,null==H&&(H=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=H,this.scrollBarH.element.style.left=
this.scroller.style.left=H+"px",J.scrollerWidth=Math.max(0,v-H-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||x)&&(D|=this.CHANGE_FULL);return J.$dirty=!v||!I,D&&this._signal("resize",O),D};this.onGutterResize=function(){var x=this.$showGutter?this.$gutter.offsetWidth:0;x!=this.gutterWidth&&(this.$changes|=
this.$updateCachedSize(!0,x,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))};this.adjustWrapLimit=function(){return this.session.adjustWrapLimit(Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth),this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(x){this.setOption("animatedScroll",
x)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(x){this.setOption("showInvisibles",x);this.session.$bidiHandler.setShowInvisibles(x)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(x){this.setOption("displayIndentGuides",x)};this.setShowPrintMargin=function(x){this.setOption("showPrintMargin",x)};this.getShowPrintMargin=
function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(x){this.setOption("printMarginColumn",x)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(x){return this.setOption("showGutter",x)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(x){this.setOption("fadeFoldWidgets",x)};this.setHighlightGutterLine=
function(x){this.setOption("highlightGutterLine",x)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updateGutterLineHighlight=function(){var x=this.$cursorLayer.$pixelPos,H=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var v=this.session.selection.getCursor();v.column=0;x=this.$cursorLayer.getPixelPosition(v,!0);H*=this.session.getRowLength(v.row)}this.$gutterLineHighlight.style.top=x.top-this.layerConfig.offset+"px";this.$gutterLineHighlight.style.height=
H+"px"};this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var x=h.createElement("div");x.className="ace_layer ace_print-margin-layer";this.$printMarginEl=h.createElement("div");this.$printMarginEl.className="ace_print-margin";x.appendChild(this.$printMarginEl);this.content.insertBefore(x,this.content.firstChild)}x=this.$printMarginEl.style;x.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px";x.visibility=this.$showPrintMargin?
"visible":"hidden";this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var x=this.layerConfig,H=this.$cursorLayer.$pixelPos.top,v=this.$cursorLayer.$pixelPos.left;H-=x.offset;var I=this.textarea.style,D=this.lineHeight;if(0>H||H>x.height-D)I.top=
I.left="0";else{x=this.characterWidth;if(this.$composition){var J=this.textarea.value.replace(/^\x01+/,"");x*=this.session.$getStringScreenWidth(J)[0]+2;D+=2}v-=this.scrollLeft;v>this.$size.scrollerWidth-x&&(v=this.$size.scrollerWidth-x);v+=this.gutterWidth;I.height=D+"px";I.width=x+"px";I.left=Math.min(v,this.$size.scrollerWidth-x)+"px";I.top=Math.min(H,this.$size.height-D)+"px"}}};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+
(0===this.layerConfig.offset?0:1)};this.getLastFullyVisibleRow=function(){var x=this.layerConfig,H=x.lastRow;return this.session.documentToScreenRow(H,0)*x.lineHeight-this.session.getScrollTop()>x.height-x.lineHeight?H-1:H};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(x){this.$padding=x;this.$textLayer.setPadding(x);this.$cursorLayer.setPadding(x);this.$markerFront.setPadding(x);this.$markerBack.setPadding(x);this.$loop.schedule(this.CHANGE_FULL);
this.$updatePrintMargin()};this.setScrollMargin=function(x,H,v,I){var D=this.scrollMargin;D.top=x|0;D.bottom=H|0;D.right=I|0;D.left=v|0;D.v=D.top+D.bottom;D.h=D.left+D.right;D.top&&0>=this.scrollTop&&this.session&&this.session.setScrollTop(-D.top);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(x){this.setOption("hScrollBarAlwaysVisible",x)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};
this.setVScrollBarAlwaysVisible=function(x){this.setOption("vScrollBarAlwaysVisible",x)};this.$updateScrollBarV=function(){var x=this.layerConfig.maxHeight,H=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(x-=(H-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>x-H&&(x=this.scrollTop+H,this.scrollBarV.scrollTop=null));this.scrollBarV.setScrollHeight(x+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+
2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=!1;this.freeze=function(){this.$frozen=!0};this.unfreeze=function(){this.$frozen=!1};this.$renderChanges=function(x,H){this.$changes&&(x|=this.$changes,this.$changes=0);if(this.session&&this.container.offsetWidth&&!this.$frozen&&(x||H)){if(this.$size.$dirty)return this.$changes|=x,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges();this._signal("beforeRender");
this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);H=this.layerConfig;if(x&this.CHANGE_FULL||x&this.CHANGE_SIZE||x&this.CHANGE_TEXT||x&this.CHANGE_LINES||x&this.CHANGE_SCROLL||x&this.CHANGE_H_SCROLL)x|=this.$computeLayerConfig(),H.firstRow!=this.layerConfig.firstRow&&H.firstRowScreen==this.layerConfig.firstRowScreen&&(H=this.scrollTop+(H.firstRow-this.layerConfig.firstRow)*this.lineHeight,0<H&&(this.scrollTop=H,x|=this.CHANGE_SCROLL,x|=this.$computeLayerConfig())),
H=this.layerConfig,this.$updateScrollBarV(),x&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-H.offset+"px",this.content.style.marginTop=-H.offset+"px",this.content.style.width=H.width+2*this.$padding+"px",this.content.style.height=H.minHeight+"px";x&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=0>=this.scrollLeft?"ace_scroller":"ace_scroller ace_scroll-left");x&this.CHANGE_FULL?(this.$textLayer.update(H),
this.$showGutter&&this.$gutterLayer.update(H),this.$markerBack.update(H),this.$markerFront.update(H),this.$cursorLayer.update(H),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()):x&this.CHANGE_SCROLL?(x&this.CHANGE_TEXT||x&this.CHANGE_LINES?this.$textLayer.update(H):this.$textLayer.scrollLines(H),this.$showGutter&&this.$gutterLayer.update(H),this.$markerBack.update(H),this.$markerFront.update(H),this.$cursorLayer.update(H),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),
this.$moveTextAreaToCursor()):(x&this.CHANGE_TEXT?(this.$textLayer.update(H),this.$showGutter&&this.$gutterLayer.update(H)):x&this.CHANGE_LINES?(this.$updateLines()||x&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(H):(x&this.CHANGE_TEXT||x&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(H),x&this.CHANGE_CURSOR&&(this.$cursorLayer.update(H),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),x&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&
this.$markerFront.update(H),x&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(H));this._signal("afterRender")}else this.$changes|=x};this.$autosize=function(){var x=this.session.getScreenLength()*this.lineHeight,H=this.$maxLines*this.lineHeight,v=Math.min(H,Math.max((this.$minLines||1)*this.lineHeight,x))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(v+=this.scrollBarH.getHeight());this.$maxPixelHeight&&v>this.$maxPixelHeight&&(v=this.$maxPixelHeight);x=x>H;
if(v!=this.desiredHeight||this.$size.height!=this.desiredHeight||x!=this.$vScroll)x!=this.$vScroll&&(this.$vScroll=x,this.scrollBarV.setVisible(x)),x=this.container.clientWidth,this.container.style.height=v+"px",this.$updateCachedSize(!0,this.$gutterWidth,x,v),this.desiredHeight=v,this._signal("autosize")};this.$computeLayerConfig=function(){var x=this.session,H=this.$size,v=H.height<=2*this.lineHeight,I=this.session.getScreenLength()*this.lineHeight,D=this.$getLongestLine(),J=!v&&(this.$hScrollBarAlwaysVisible||
0>H.scrollerWidth-D-2*this.$padding),O=this.$horizScroll!==J;O&&(this.$horizScroll=J,this.scrollBarH.setVisible(J));var G=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();J=this.scrollTop%this.lineHeight;var T=H.scrollerHeight+this.lineHeight,S=!this.$maxLines&&this.$scrollPastEnd?(H.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;I+=S;var R=this.scrollMargin;this.session.setScrollTop(Math.max(-R.top,Math.min(this.scrollTop,I-H.scrollerHeight+R.bottom)));this.session.setScrollLeft(Math.max(-R.left,
Math.min(this.scrollLeft,D+2*this.$padding-H.scrollerWidth+R.right)));S=!v&&(this.$vScrollBarAlwaysVisible||0>H.scrollerHeight-I+S||this.scrollTop>R.top);(v=G!==S)&&(this.$vScroll=S,this.scrollBarV.setVisible(S));G=Math.max(0,Math.round((this.scrollTop-J)/this.lineHeight));S=G+(Math.ceil(T/this.lineHeight)-1);R=this.lineHeight;G=x.screenToDocumentRow(G,0);(J=x.getFoldLine(G))&&(G=J.start.row);var ba=x.documentToScreenRow(G,0);J=x.getRowLength(G)*R;S=Math.min(x.screenToDocumentRow(S,0),x.getLength()-
1);T=H.scrollerHeight+x.getRowLength(S)*R+J;J=this.scrollTop-ba*R;x=0;this.layerConfig.width!=D&&(x=this.CHANGE_H_SCROLL);if(O||v)x=this.$updateCachedSize(!0,this.gutterWidth,H.width,H.height),this._signal("scrollbarVisibilityChanged"),v&&(D=this.$getLongestLine());return this.layerConfig={width:D,padding:this.$padding,firstRow:G,firstRowScreen:ba,lastRow:S,lineHeight:R,characterWidth:this.characterWidth,minHeight:T,maxHeight:I,offset:J,gutterOffset:R?Math.max(0,Math.ceil((J+H.height-H.scrollerHeight)/
R)):0,height:this.$size.scrollerHeight},x};this.$updateLines=function(){if(this.$changedLines){var x=this.$changedLines.firstRow,H=this.$changedLines.lastRow;this.$changedLines=null;var v=this.layerConfig;if(!(x>v.lastRow+1||H<v.firstRow))if(Infinity===H)this.$showGutter&&this.$gutterLayer.update(v),this.$textLayer.update(v);else return this.$textLayer.updateLines(v,x,H),!0}};this.$getLongestLine=function(){var x=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&
(x+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(x*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(x,H){this.$gutterLayer.addGutterDecoration(x,H)};this.removeGutterDecoration=function(x,H){this.$gutterLayer.removeGutterDecoration(x,
H)};this.updateBreakpoints=function(x){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(x){this.$gutterLayer.setAnnotations(x);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(x,H,v){this.scrollCursorIntoView(x,v);this.scrollCursorIntoView(H,v)};this.scrollCursorIntoView=
function(x,H,v){if(0!==this.$size.scrollerHeight){var I=this.$cursorLayer.getPixelPosition(x);x=I.left;I=I.top;var D=v&&v.top||0;v=v&&v.bottom||0;var J=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;J+D>I?(H&&J+D>I+this.lineHeight&&(I-=H*this.$size.scrollerHeight),0===I&&(I=-this.scrollMargin.top),this.session.setScrollTop(I)):J+this.$size.scrollerHeight-v<I+this.lineHeight&&(H&&J+this.$size.scrollerHeight-v<I-this.lineHeight&&(I+=H*this.$size.scrollerHeight),this.session.setScrollTop(I+
this.lineHeight-this.$size.scrollerHeight));H=this.scrollLeft;H>x?(x<this.$padding+2*this.layerConfig.characterWidth&&(x=-this.scrollMargin.left),this.session.setScrollLeft(x)):H+this.$size.scrollerWidth<x+this.characterWidth?this.session.setScrollLeft(Math.round(x+this.characterWidth-this.$size.scrollerWidth)):H<=this.$padding&&x-H<this.characterWidth&&this.session.setScrollLeft(0)}};this.getScrollTop=function(){return this.session.getScrollTop()};this.getScrollLeft=function(){return this.session.getScrollLeft()};
this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(x){this.session.setScrollTop(x*this.lineHeight)};this.alignCursor=function(x,H){"number"==typeof x&&(x={row:x,column:0});x=this.$cursorLayer.getPixelPosition(x).top-(this.$size.scrollerHeight-this.lineHeight)*(H||0);return this.session.setScrollTop(x),x};this.STEPS=8;this.$calcSteps=
function(x,H){var v,I=this.STEPS,D=[];for(v=0;v<I;++v)D.push((H-x)*(Math.pow(v/this.STEPS-1,3)+1)+x);return D};this.scrollToLine=function(x,H,v,I){x=this.$cursorLayer.getPixelPosition({row:x,column:0}).top;H&&(x-=this.$size.scrollerHeight/2);H=this.scrollTop;this.session.setScrollTop(x);!1!==v&&this.animateScrolling(H,I)};this.animateScrolling=function(x,H){var v=this.scrollTop;if(this.$animatedScroll){var I=this;if(x!=v){if(this.$scrollAnimation){var D=this.$scrollAnimation.steps;if(D.length&&(x=
D[0],x==v))return}var J=I.$calcSteps(x,v);this.$scrollAnimation={from:x,to:v,steps:J};clearInterval(this.$timer);I.session.setScrollTop(J.shift());I.session.$scrollTop=v;this.$timer=setInterval(function(){J.length?(I.session.setScrollTop(J.shift()),I.session.$scrollTop=v):null!=v?(I.session.$scrollTop=-1,I.session.setScrollTop(v),v=null):(I.$timer=clearInterval(I.$timer),I.$scrollAnimation=null,H&&H())},10)}}};this.scrollToY=function(x){this.scrollTop!==x&&(this.$loop.schedule(this.CHANGE_SCROLL),
this.scrollTop=x)};this.scrollToX=function(x){this.scrollLeft!==x&&(this.scrollLeft=x);this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(x,H){this.session.setScrollTop(H);this.session.setScrollLeft(H)};this.scrollBy=function(x,H){H&&this.session.setScrollTop(this.session.getScrollTop()+H);x&&this.session.setScrollLeft(this.session.getScrollLeft()+x)};this.isScrollableBy=function(x,H){if(0>H&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<H&&this.session.getScrollTop()+this.$size.scrollerHeight-
this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||0>x&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<x&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0};this.pixelToScreenCoordinates=function(x,H){var v=this.scroller.getBoundingClientRect();x=x+this.scrollLeft-v.left-this.$padding;var I=x/this.characterWidth,D=Math.round(I);return{row:Math.floor((H+this.scrollTop-v.top)/this.lineHeight),column:D,side:0<I-D?1:-1,offsetX:x}};
this.screenToTextCoordinates=function(x,H){var v=this.scroller.getBoundingClientRect();x=x+this.scrollLeft-v.left-this.$padding;return this.session.screenToDocumentPosition((H+this.scrollTop-v.top)/this.lineHeight,Math.max(Math.round(x/this.characterWidth),0),x)};this.textToScreenCoordinates=function(x,H){var v=this.scroller.getBoundingClientRect();H=this.session.documentToScreenPosition(x,H);x=this.$padding+(this.session.$bidiHandler.isBidiRow(H.row,x)?this.session.$bidiHandler.getPosLeft(H.column):
Math.round(H.column*this.characterWidth));return{pageX:v.left+x-this.scrollLeft,pageY:v.top+H.row*this.lineHeight-this.scrollTop}};this.visualizeFocus=function(){h.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){h.removeCssClass(this.container,"ace_focus")};this.showComposition=function(x){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText});this.$keepTextAreaAtCursor=!0;h.addCssClass(this.textarea,"ace_composition");
this.textarea.style.cssText="";this.$moveTextAreaToCursor()};this.setCompositionText=function(x){this.$moveTextAreaToCursor()};this.hideComposition=function(){this.$composition&&(h.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)};this.setTheme=function(x,H){function v(D){if(I.$themeId!=x)return H&&H();if(!D||!D.cssClass)throw Error("couldn't load module "+
x+" or it didn't call define");h.importCssString(D.cssText,D.cssClass,I.container.ownerDocument);I.theme&&h.removeCssClass(I.container,I.theme.cssClass);var J="padding"in D?D.padding:"padding"in(I.theme||{})?4:I.$padding;I.$padding&&J!=I.$padding&&I.setPadding(J);I.$theme=D.cssClass;I.theme=D;h.addCssClass(I.container,D.cssClass);h.setCssClass(I.container,"ace_dark",D.isDark);I.$size&&(I.$size.width=0,I.$updateSizeAsync());I._dispatchEvent("themeLoaded",{theme:D});H&&H()}var I=this;this.$themeId=
x;I._dispatchEvent("themeChange",{theme:x});x&&"string"!=typeof x?v(x):f.loadModule(["theme",x||this.$options.theme.initialValue],v)};this.getTheme=function(){return this.$themeId};this.setStyle=function(x,H){h.setCssClass(this.container,x,!1!==H)};this.unsetStyle=function(x){h.removeCssClass(this.container,x)};this.setCursorStyle=function(x){this.scroller.style.cursor!=x&&(this.scroller.style.cursor=x)};this.setMouseCursor=function(x){this.scroller.style.cursor=x};this.destroy=function(){this.$textLayer.destroy();
this.$cursorLayer.destroy()}}).call(d.prototype);f.defineOptions(d.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(x){this.$textLayer.setShowInvisibles(x)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(x){"number"==typeof x&&(this.$printMarginColumn=x);this.$showPrintMargin=
!!x;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(x){this.$gutter.style.display=x?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(x){h.setCssClass(this.$gutter,"ace_fade-fold-widgets",x)},initialValue:!1},showFoldWidgets:{set:function(x){this.$gutterLayer.setShowFoldWidgets(x)},initialValue:!0},showLineNumbers:{set:function(x){this.$gutterLayer.setShowLineNumbers(x);
this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(x){this.$textLayer.setDisplayIndentGuides(x)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(x){this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=x?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()):(this.$gutterLineHighlight=h.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight))},
initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(x){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(x){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(x){"number"==typeof x&&(x+="px");this.container.style.fontSize=x;this.updateFontSize()},initialValue:12},fontFamily:{set:function(x){this.container.style.fontFamily=
x;this.updateFontSize()}},maxLines:{set:function(x){this.updateFull()}},minLines:{set:function(x){this.updateFull()}},maxPixelHeight:{set:function(x){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(x){x=+x||0;this.$scrollPastEnd!=x&&(this.$scrollPastEnd=x,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(x){this.$gutterLayer.$fixedWidth=!!x;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(x){this.setTheme(x)},get:function(){return this.$themeId||
this.theme},initialValue:"./theme/textmate",handlesSet:!0}});L.VirtualRenderer=d});
define("ace/worker/worker_client","require exports module ace/lib/oop ace/lib/net ace/lib/event_emitter ace/config".split(" "),function(d,L,X){function a(p){p="importScripts('"+f.qualifyURL(p)+"');";try{var u=new Blob([p],{type:"application/javascript"})}catch(c){u=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder),u=(u.append(p),u.getBlob("application/javascript"))}u=(window.URL||window.webkitURL).createObjectURL(u);return new Worker(u)}var h=d("../lib/oop"),f=d("../lib/net"),
g=d("../lib/event_emitter").EventEmitter,e=d("../config");X=function(p,u,c,m,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);d.nameToUrl&&!d.toUrl&&(d.toUrl=d.nameToUrl);if(e.get("packaged")||!d.toUrl)m=m||e.moduleUrl(u,"worker");else{var w=this.$normalizePath;m=m||w(d.toUrl("ace/worker/worker.js",null,"_"));var z={};p.forEach(function(x){z[x]=w(d.toUrl(x,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=
a(m);n&&this.send("importScripts",n);this.$worker.postMessage({init:!0,tlns:z,module:u,classname:c});this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage};(function(){h.implement(this,g);this.onMessage=function(p){p=p.data;switch(p.type){case "event":this._signal(p.name,{data:p.data});break;case "call":var u=this.callbacks[p.id];u&&(u(p.data),delete this.callbacks[p.id]);break;case "error":this.reportError(p.data);break;case "log":window.console&&console.log&&console.log.apply(console,
p.data)}};this.reportError=function(p){window.console&&console.error&&console.error(p)};this.$normalizePath=function(p){return f.qualifyURL(p)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;this.$doc&&this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(p,u){this.$worker.postMessage({command:p,args:u})};this.call=function(p,u,c){if(c){var m=this.callbackId++;this.callbacks[m]=c;u.push(m)}this.send(p,
u)};this.emit=function(p,u){try{this.$worker.postMessage({event:p,data:{data:u.data}})}catch(c){console.error(c.stack)}};this.attachToDocument=function(p){this.$doc&&this.terminate();this.$doc=p;this.call("setValue",[p.getValue()]);p.on("change",this.changeListener)};this.changeListener=function(p){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0));"insert"==p.action?this.deltaQueue.push(p.start,p.lines):this.deltaQueue.push(p.start,p.end)};this.$sendDeltaQueue=function(){var p=
this.deltaQueue;p&&(this.deltaQueue=null,50<p.length&&p.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:p}))}}).call(X.prototype);var k=function(p,u,c){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.callbackId=1;this.callbacks={};this.messageBuffer=[];var m=null,n=!1,w=Object.create(g),z=this;this.$worker={};this.$worker.terminate=function(){};this.$worker.postMessage=function(H){z.messageBuffer.push(H);
m&&(n?setTimeout(x):x())};this.setEmitSync=function(H){n=H};var x=function(){var H=z.messageBuffer.shift();H.command?m[H.command].apply(m,H.args):H.event&&w._signal(H.event,H.data)};w.postMessage=function(H){z.onMessage({data:H})};w.callback=function(H,v){this.postMessage({type:"call",id:v,data:H})};w.emit=function(H,v){this.postMessage({type:"event",name:H,data:v})};e.loadModule(["worker",u],function(H){for(m=new H[c](w);z.messageBuffer.length;)x()})};k.prototype=X.prototype;L.UIWorkerClient=k;L.WorkerClient=
X;L.createWorker=a});
define("ace/placeholder","require exports module ace/range ace/lib/event_emitter ace/lib/oop".split(" "),function(d,L,X){var a=d("./range").Range,h=d("./lib/event_emitter").EventEmitter,f=d("./lib/oop");d=function(g,e,k,p,u,c){var m=this;this.length=e;this.session=g;this.doc=g.getDocument();this.mainClass=u;this.othersClass=c;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=p;this.$onCursorChange=function(){setTimeout(function(){m.onCursorChange()})};this.$pos=
k;this.$undoStackDepth=(g.getUndoManager().$undoStack||g.getUndoManager().$undostack||{length:-1}).length;this.setup();g.selection.on("changeCursor",this.$onCursorChange)};(function(){f.implement(this,h);this.setup=function(){var g=this,e=this.doc,k=this.session;this.selectionBefore=k.selection.toJSON();k.selection.inMultiSelectMode&&k.selection.toSingleRange();var p=this.pos=e.createAnchor(this.$pos.row,this.$pos.column);p.$insertRight=!0;p.detach();p.markerId=k.addMarker(new a(p.row,p.column,p.row,
p.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(u){u=e.createAnchor(u.row,u.column);u.$insertRight=!0;u.detach();g.others.push(u)});k.setUndoSelect(!1)};this.showOtherMarkers=function(){if(!this.othersActive){var g=this.session,e=this;this.othersActive=!0;this.others.forEach(function(k){k.markerId=g.addMarker(new a(k.row,k.column,k.row,k.column+e.length),e.othersClass,null,!1)})}};this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;
for(var g=0;g<this.others.length;g++)this.session.removeMarker(this.others[g].markerId)}};this.onUpdate=function(g){if(this.$updating)return this.updateAnchors(g);if(g.start.row===g.end.row&&g.start.row===this.pos.row){this.$updating=!0;var e="insert"===g.action?g.end.column-g.start.column:g.start.column-g.end.column,k=g.start.column>=this.pos.column&&g.start.column<=this.pos.column+this.length+1,p=g.start.column-this.pos.column;this.updateAnchors(g);k&&(this.length+=e);if(k&&!this.session.$fromUndo)if("insert"===
g.action)for(k=this.others.length-1;0<=k;k--){var u=this.others[k];u={row:u.row,column:u.column+p};this.doc.insertMergedLines(u,g.lines)}else if("remove"===g.action)for(k=this.others.length-1;0<=k;k--)u=this.others[k],u={row:u.row,column:u.column+p},this.doc.remove(new a(u.row,u.column,u.row,u.column-e));this.$updating=!1;this.updateMarkers()}};this.updateAnchors=function(g){this.pos.onChange(g);for(var e=this.others.length;e--;)this.others[e].onChange(g);this.updateMarkers()};this.updateMarkers=
function(){if(!this.$updating){var g=this,e=this.session,k=function(u,c){e.removeMarker(u.markerId);u.markerId=e.addMarker(new a(u.row,u.column,u.row,u.column+g.length),c,null,!1)};k(this.pos,this.mainClass);for(var p=this.others.length;p--;)k(this.others[p],this.othersClass)}};this.onCursorChange=function(g){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",
g)):(this.hideOtherMarkers(),this._emit("cursorLeave",g))}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null};this.cancel=function(){if(-1!==this.$undoStackDepth){for(var g=this.session.getUndoManager(),e=(g.$undoStack||g.$undostack).length-this.$undoStackDepth,k=0;k<
e;k++)g.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(d.prototype);L.PlaceHolder=d});
define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(d,L,X){function a(g,e){return g.row==e.row&&g.column==e.column}var h=d("../lib/event"),f=d("../lib/useragent");L.onMouseDown=function(g){var e=g.domEvent,k=e.altKey,p=e.shiftKey,u=e.ctrlKey,c=g.getAccelKey(),m=g.getButton();u&&f.isMac&&(m=e.button);if(g.editor.inMultiSelectMode&&2==m)g.editor.textInput.onContextMenu(g.domEvent);else if(!u&&!k&&!c)0===m&&g.editor.inMultiSelectMode&&g.editor.exitMultiSelectMode();
else if(0===m){var n=g.editor,w=n.selection;m=n.inMultiSelectMode;var z=g.getDocumentPosition(),x=w.getCursor();x=g.inSelection()||w.isEmpty()&&a(z,x);var H=g.x,v=g.y,I=function(ra){H=ra.clientX;v=ra.clientY},D=n.session,J=n.renderer.pixelToScreenCoordinates(H,v),O=J,G;if(n.$mouseHandler.$enableJumpToDef)u&&k||c&&k?G=p?"block":"add":k&&n.$blockSelectEnabled&&(G="block");else if(c&&!k){if(G="add",!m&&p)return}else k&&n.$blockSelectEnabled&&(G="block");G&&f.isMac&&e.ctrlKey&&n.$mouseHandler.cancelContextMenu();
if("add"==G){if(m||!x){if(!m){var T=w.toOrientedRange();n.addSelectionMarker(T)}var S=w.rangeList.rangeAtPoint(z);n.$blockScrolling++;n.inVirtualSelectionMode=!0;p&&(S=null,T=w.ranges[0]||T,n.removeSelectionMarker(T));n.once("mouseup",function(){var ra=w.toOrientedRange();S&&ra.isEmpty()&&a(S.cursor,ra.cursor)?w.substractPoint(ra.cursor):(p?w.substractPoint(T.cursor):T&&(n.removeSelectionMarker(T),w.addRange(T)),w.addRange(ra));n.$blockScrolling--;n.inVirtualSelectionMode=!1})}}else if("block"==G){g.stop();
n.inVirtualSelectionMode=!0;var R,ba=[];n.$blockScrolling++;m&&!c?w.toSingleRange():!m&&c&&(R=w.toOrientedRange(),n.addSelectionMarker(R));p?J=D.documentToScreenPosition(w.lead):w.moveToPosition(z);n.$blockScrolling--;O={row:-1,column:-1};h.capture(n.container,I,function(ra){clearInterval(ha);n.removeSelectionMarkers(ba);ba.length||(ba=[w.toOrientedRange()]);n.$blockScrolling++;R&&(n.removeSelectionMarker(R),w.toSingleRange(R));for(ra=0;ra<ba.length;ra++)w.addRange(ba[ra]);n.inVirtualSelectionMode=
!1;n.$mouseHandler.$clickSelection=null;n.$blockScrolling--});var ha=setInterval(function(){var ra=n.renderer.pixelToScreenCoordinates(H,v),Ka=D.screenToDocumentPosition(ra.row,ra.column,ra.offsetX);a(O,ra)&&a(Ka,w.lead)||(O=ra,n.$blockScrolling++,n.selection.moveToPosition(Ka),n.renderer.scrollCursorIntoView(),n.removeSelectionMarkers(ba),ba=w.rectangularRangeBlock(O,J),n.$mouseHandler.$clickSelection&&1==ba.length&&ba[0].isEmpty()&&(ba[0]=n.$mouseHandler.$clickSelection.clone()),ba.forEach(n.addSelectionMarker,
n),n.updateSelectionMarkers(),n.$blockScrolling--)},20);return g.preventDefault()}}}});
define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(d,L,X){L.defaultCommands=[{name:"addCursorAbove",exec:function(a){a.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(a){a.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(a){a.selectMoreLines(-1,
!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(a){a.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(a){a.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(a){a.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",
mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(a){a.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(a){a.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(a){a.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},
{name:"alignCursors",exec:function(a){a.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(a){a.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];L.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(a){a.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(a){return a&&a.inMultiSelectMode}}];d=d("../keyboard/hash_handler").HashHandler;L.keyboardHandler=
new d(L.multiSelectCommands)});
define("ace/multi_select","require exports module ace/range_list ace/range ace/selection ace/mouse/multi_select_handler ace/lib/event ace/lib/lang ace/commands/multi_select_commands ace/search ace/edit_session ace/editor ace/config".split(" "),function(d,L,X){function a(n){n.$multiselectOnSessionChange||(n.$onAddRange=n.$onAddRange.bind(n),n.$onRemoveRange=n.$onRemoveRange.bind(n),n.$onMultiSelect=n.$onMultiSelect.bind(n),n.$onSingleSelect=n.$onSingleSelect.bind(n),n.$multiselectOnSessionChange=L.onSessionChange.bind(n),
n.$checkMultiselectChange=n.$checkMultiselectChange.bind(n),n.$multiselectOnSessionChange(n),n.on("changeSession",n.$multiselectOnSessionChange),n.on("mousedown",k),n.commands.addCommands(c.defaultCommands),h(n))}function h(n){function w(H){x&&(n.renderer.setMouseCursor(""),x=!1)}var z=n.textInput.getElement(),x=!1;p.addListener(z,"keydown",function(H){H=18==H.keyCode&&!(H.ctrlKey||H.shiftKey||H.metaKey);n.$blockSelectEnabled&&H?x||(n.renderer.setMouseCursor("crosshair"),x=!0):x&&w()});p.addListener(z,
"keyup",w);p.addListener(z,"blur",w)}var f=d("./range_list").RangeList,g=d("./range").Range,e=d("./selection").Selection,k=d("./mouse/multi_select_handler").onMouseDown,p=d("./lib/event"),u=d("./lib/lang"),c=d("./commands/multi_select_commands");L.commands=c.defaultCommands.concat(c.multiSelectCommands);var m=new (d("./search").Search);X=d("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(X.prototype);(function(){this.rangeList=this.ranges=
null;this.addRange=function(n,w){if(n){if(!this.inMultiSelectMode&&0===this.rangeCount){var z=this.toOrientedRange();this.rangeList.add(z);this.rangeList.add(n);if(2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),w||this.fromOrientedRange(n);this.rangeList.removeAll();this.rangeList.add(z);this.$onAddRange(z)}n.cursor||(n.cursor=n.end);z=this.rangeList.add(n);return this.$onAddRange(n),z.length&&this.$onRemoveRange(z),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),
this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),w||this.fromOrientedRange(n)}};this.toSingleRange=function(n){n=n||this.ranges[0];var w=this.rangeList.removeAll();w.length&&this.$onRemoveRange(w);n&&this.fromOrientedRange(n)};this.substractPoint=function(n){if(n=this.rangeList.substractPoint(n))return this.$onRemoveRange(n),n[0]};this.mergeOverlappingRanges=function(){var n=this.rangeList.merge();n.length?this.$onRemoveRange(n):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])};
this.$onAddRange=function(n){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(n);this._signal("addRange",{range:n})};this.$onRemoveRange=function(n){this.rangeCount=this.rangeList.ranges.length;if(1==this.rangeCount&&this.inMultiSelectMode){var w=this.rangeList.ranges.pop();n.push(w);this.rangeCount=0}for(var z=n.length;z--;){var x=this.ranges.indexOf(n[z]);this.ranges.splice(x,1)}this._signal("removeRange",{ranges:n});0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=
!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));(w=w||this.ranges[0])&&!w.isEqual(this.getRange())&&this.fromOrientedRange(w)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new f,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){if(1<this.rangeCount){var n=this.rangeList.ranges,w=n[n.length-1];n=g.fromPoints(n[0].start,
w.end);this.toSingleRange();this.setSelectionRange(n,w.cursor==w.start)}else{n=this.getRange();var z=this.isBackwards(),x=n.start.row;w=n.end.row;if(x==w)z?(w=n.end,n=n.start):(w=n.start,n=n.end),this.addRange(g.fromPoints(n,n)),this.addRange(g.fromPoints(w,w));else{z=[];var H=this.getLineRange(x,!0);H.start.column=n.start.column;z.push(H);for(x+=1;x<w;x++)z.push(this.getLineRange(x,!0));H=this.getLineRange(w,!0);H.end.column=n.end.column;z.push(H);z.forEach(this.addRange,this)}}};this.toggleBlockSelection=
function(){if(1<this.rangeCount){var n=this.rangeList.ranges,w=n[n.length-1];n=g.fromPoints(n[0].start,w.end);this.toSingleRange();this.setSelectionRange(n,w.cursor==w.start)}else w=this.session.documentToScreenPosition(this.selectionLead),n=this.session.documentToScreenPosition(this.selectionAnchor),this.rectangularRangeBlock(w,n).forEach(this.addRange,this)};this.rectangularRangeBlock=function(n,w,z){var x=[],H=n.column<w.column;if(H)var v=n.column,I=w.column,D=n.offsetX,J=w.offsetX;else v=w.column,
I=n.column,D=w.offsetX,J=n.offsetX;var O=n.row<w.row;if(O){var G=n.row;n=w.row}else G=w.row,n=n.row;0>v&&(v=0);0>G&&(G=0);for(G==n&&(z=!0);G<=n;G++){w=g.fromPoints(this.session.screenToDocumentPosition(G,v,D),this.session.screenToDocumentPosition(G,I,J));if(w.isEmpty()){var T;if(T=S)T=w.end,T=T.row==S.row&&T.column==S.column;if(T)break;var S=w.end}w.cursor=H?w.start:w.end;x.push(w)}O&&x.reverse();if(!z){for(z=x.length-1;x[z].isEmpty()&&0<z;)z--;if(0<z)for(var R=0;x[R].isEmpty();)R++;for(;z>=R;z--)x[z].isEmpty()&&
x.splice(z,1)}return x}}).call(e.prototype);X=d("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(n){n.cursor||(n.cursor=n.end);var w=this.getSelectionStyle();return n.marker=this.session.addMarker(n,"ace_selection",w),this.session.$selectionMarkers.push(n),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,n};this.removeSelectionMarker=function(n){n.marker&&(this.session.removeMarker(n.marker),
n=this.session.$selectionMarkers.indexOf(n),-1!=n&&this.session.$selectionMarkers.splice(n,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)};this.removeSelectionMarkers=function(n){for(var w=this.session.$selectionMarkers,z=n.length;z--;){var x=n[z];x.marker&&(this.session.removeMarker(x.marker),x=w.indexOf(x),-1!=x&&w.splice(x,1))}this.session.selectionMarkerCount=w.length};this.$onAddRange=function(n){this.addSelectionMarker(n.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};
this.$onRemoveRange=function(n){this.removeSelectionMarkers(n.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(n){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(n){this.session.multiSelect.inVirtualMode||
(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))};this.$onMultiSelectExec=function(n){var w=n.command,z=n.editor;if(z.multiSelect){if(w.multiSelectAction)"forEach"==w.multiSelectAction?x=z.forEachSelection(w,n.args):"forEachLine"==w.multiSelectAction?x=z.forEachSelection(w,
n.args,!0):"single"==w.multiSelectAction?(z.exitMultiSelectMode(),x=w.exec(z,n.args||{})):x=w.multiSelectAction(z,n.args||{});else{var x=w.exec(z,n.args||{});z.multiSelect.addRange(z.multiSelect.toOrientedRange());z.multiSelect.mergeOverlappingRanges()}return x}};this.forEachSelection=function(n,w,z){if(!this.inVirtualSelectionMode){var x=1==z||z&&z.$byLines,H=this.session,v=this.selection,I=v.rangeList;z=(z&&z.keepOrder?v:I).ranges;var D;if(!z.length)return n.exec?n.exec(this,w||{}):n(this,w||{});
I=v._eventRegistry;v._eventRegistry={};var J=new e(H);this.inVirtualSelectionMode=!0;for(var O=z.length;O--;){if(x)for(;0<O&&z[O].start.row==z[O-1].end.row;)O--;J.fromOrientedRange(z[O]);J.index=O;this.selection=H.selection=J;var G=n.exec?n.exec(this,w||{}):n(this,w||{});!D&&void 0!==G&&(D=G);J.toOrientedRange(z[O])}J.detach();this.selection=H.selection=v;this.inVirtualSelectionMode=!1;v._eventRegistry=I;v.mergeOverlappingRanges();n=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),
n&&n.from==n.to&&this.renderer.animateScrolling(n.from),D}};this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()};this.getSelectedText=function(){var n="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){n=this.multiSelect.rangeList.ranges;for(var w=[],z=0;z<n.length;z++)w.push(this.session.getTextRange(n[z]));z=this.session.getDocument().getNewLineCharacter();n=w.join(z);n.length==(w.length-1)*z.length&&(n="")}else this.selection.isEmpty()||
(n=this.session.getTextRange(this.getSelectionRange()));return n};this.$checkMultiselectChange=function(n,w){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&(n=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&w==this.multiSelect.anchor||(n=w==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor,n.row==w.row&&this.session.$clipPositionToDocument(n.row,n.column).column==w.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())))};this.findAll=function(n,w,
z){w=w||{};w.needle=n||w.needle;if(void 0==w.needle){var x=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();w.needle=this.session.getTextRange(x)}this.$search.set(w);n=this.$search.findAll(this.session);if(!n.length)return 0;this.$blockScrolling+=1;w=this.multiSelect;z||w.toSingleRange(n[0]);for(z=n.length;z--;)w.addRange(n[z],!0);return x&&w.rangeList.rangeAtPoint(x.start)&&w.addRange(x,!0),--this.$blockScrolling,n.length};this.selectMoreLines=function(n,w){var z=
this.selection.toOrientedRange(),x=z.cursor==z.end,H=this.session.documentToScreenPosition(z.cursor);this.selection.$desiredColumn&&(H.column=this.selection.$desiredColumn);var v=this.session.screenToDocumentPosition(H.row+n,H.column);if(z.isEmpty())n=v;else{var I=this.session.documentToScreenPosition(x?z.end:z.start);n=this.session.screenToDocumentPosition(I.row+n,I.column)}x?(x=g.fromPoints(v,n),x.cursor=x.start):(x=g.fromPoints(n,v),x.cursor=x.end);x.desiredColumn=H.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(z);
else if(w)var D=z.cursor;this.selection.addRange(x);D&&this.selection.substractPoint(D)};this.transposeSelections=function(n){for(var w=this.session,z=w.multiSelect,x=z.ranges,H=x.length;H--;){var v=x[H];if(v.isEmpty()){var I=w.getWordRange(v.start.row,v.start.column);v.start.row=I.start.row;v.start.column=I.start.column;v.end.row=I.end.row;v.end.column=I.end.column}}z.mergeOverlappingRanges();z=[];for(H=x.length;H--;)v=x[H],z.unshift(w.getTextRange(v));0>n?z.unshift(z.pop()):z.push(z.shift());for(H=
x.length;H--;)v=x[H],I=v.clone(),w.replace(v,z[H]),v.start.row=I.start.row,v.start.column=I.start.column};this.selectMore=function(n,w,z){var x=this.session,H=x.multiSelect.toOrientedRange();if(H.isEmpty()&&(H=x.getWordRange(H.start.row,H.start.column),H.cursor=-1==n?H.start:H.end,this.multiSelect.addRange(H),z))return;z=x.getTextRange(H);(x=(m.$options.wrap=!0,m.$options.needle=z,m.$options.backwards=-1==n,m.find(x)))&&(x.cursor=-1==n?x.start:x.end,this.$blockScrolling+=1,this.session.unfold(x),
this.multiSelect.addRange(x),--this.$blockScrolling,this.renderer.scrollCursorIntoView(null,.5));w&&this.multiSelect.substractPoint(H.cursor)};this.alignCursors=function(){var n=this.session,w=n.multiSelect,z=w.ranges,x=-1,H=z.filter(function(S){if(S.cursor.row==x)return!0;x=S.cursor.row});if(z.length&&H.length!=z.length-1){H.forEach(function(S){w.substractPoint(S.cursor)});var v=0,I=Infinity,D=z.map(function(S){S=S.cursor;var R=n.getLine(S.row).substr(S.column).search(/\S/g);return-1==R&&(R=0),S.column>
v&&(v=S.column),R<I&&(I=R),R});z.forEach(function(S,R){var ba=S.cursor,ha=v-ba.column;R=D[R]-I;ha>R?n.insert(ba,u.stringRepeat(" ",ha-R)):n.remove(new g(ba.row,ba.column,ba.row,ba.column-ha+R));S.start.column=S.end.column=v;S.start.row=S.end.row=ba.row;S.cursor=S.end});w.fromOrientedRange(z[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}else{z=this.selection.getRange();H=z.start.row;var J=z.end.row,O=H==J;if(O){var G=this.session.getLength();do var T=this.session.getLine(J);while(/[=:]/.test(T)&&
++J<G);do T=this.session.getLine(H);while(/[=:]/.test(T)&&0<--H);0>H&&(H=0);J>=G&&(J=G-1)}J=this.session.removeFullLines(H,J);J=this.$reAlignText(J,O);this.session.insert({row:H,column:0},J.join("\n")+"\n");O||(z.start.column=0,z.end.column=J[J.length-1].length);this.selection.setRange(z)}};this.$reAlignText=function(n,w){function z(T){return u.stringRepeat(" ",T)}function x(T){return T[2]?z(J)+T[2]+z(O-T[2].length+G)+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}function H(T){return T[2]?z(J+O-T[2].length)+
T[2]+z(G," ")+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}function v(T){return T[2]?z(J)+T[2]+z(G)+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}var I=!0,D=!0,J,O,G;return n.map(function(T){var S=T.match(/(\s*)(.*?)(\s*)([=:].*)/);return S?null==J?(J=S[1].length,O=S[2].length,G=S[3].length,S):(J+O+G!=S[1].length+S[2].length+S[3].length&&(D=!1),J!=S[1].length&&(I=!1),J>S[1].length&&(J=S[1].length),O<S[2].length&&(O=S[2].length),G>S[3].length&&(G=S[3].length),S):[T]}).map(w?x:I?D?H:x:v)}}).call(X.prototype);L.onSessionChange=
function(n){var w=n.session;w&&!w.multiSelect&&(w.$selectionMarkers=[],w.selection.$initRangeList(),w.multiSelect=w.selection);this.multiSelect=w&&w.multiSelect;(n=n.oldSession)&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange));
w&&(w.multiSelect.on("addRange",this.$onAddRange),w.multiSelect.on("removeRange",this.$onRemoveRange),w.multiSelect.on("multiSelect",this.$onMultiSelect),w.multiSelect.on("singleSelect",this.$onSingleSelect),w.multiSelect.lead.on("change",this.$checkMultiselectChange),w.multiSelect.anchor.on("change",this.$checkMultiselectChange));w&&this.inMultiSelectMode!=w.selection.inMultiSelectMode&&(w.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};L.MultiSelect=a;d("./config").defineOptions(X.prototype,
"editor",{enableMultiselect:{set:function(n){a(this);n?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",k)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",k))},value:!0},enableBlockSelect:{set:function(n){this.$blockSelectEnabled=n},value:!0}})});
define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(d,L,X){var a=d("../../range").Range;d=L.FoldMode=function(){};(function(){this.foldingStopMarker=this.foldingStartMarker=null;this.getFoldWidget=function(h,f,g){h=h.getLine(g);return this.foldingStartMarker.test(h)?"start":"markbeginend"==f&&this.foldingStopMarker&&this.foldingStopMarker.test(h)?"end":""};this.getFoldWidgetRange=function(h,f,g){return null};this.indentationBlock=function(h,f,g){var e=/\S/,k=h.getLine(f),
p=k.search(e);if(-1!=p){g=g||k.length;for(var u=h.getLength(),c=k=f;++f<u;){var m=h.getLine(f).search(e);if(-1!=m){if(m<=p)break;c=f}}if(c>k)return h=h.getLine(c).length,new a(k,g,c,h)}};this.openingBracketBlock=function(h,f,g,e,k){g={row:g,column:e+1};if(f=h.$findClosingBracket(f,g,k))return k=h.foldWidgets[f.row],null==k&&(k=h.getFoldWidget(f.row)),"start"==k&&f.row>g.row&&(f.row--,f.column=h.getLine(f.row).length),a.fromPoints(g,f)};this.closingBracketBlock=function(h,f,g,e,k){g={row:g,column:e};
if(h=h.$findOpeningBracket(f,g))return h.column++,g.column--,a.fromPoints(h,g)}}).call(d.prototype)});
define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(d,L,X){L.isDark=!1;L.cssClass="ace-tm";L.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';d("../lib/dom").importCssString(L.cssText,
L.cssClass)});
define("ace/line_widgets","require exports module ace/lib/oop ace/lib/dom ace/range".split(" "),function(d,L,X){function a(f){this.session=f;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",
this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}d("./lib/oop");var h=d("./lib/dom");d("./range");(function(){this.getRowLength=function(f){var g;return this.lineWidgets?g=this.lineWidgets[f]&&this.lineWidgets[f].rowCount||0:g=0,this.$useWrapMode&&this.$wrapData[f]?this.$wrapData[f].length+1+g:1+g};this.$getWidgetScreenLength=function(){var f=0;return this.lineWidgets.forEach(function(g){g&&g.rowCount&&!g.hidden&&(f+=g.rowCount)}),
f};this.$onChangeEditor=function(f){this.attach(f.editor)};this.attach=function(f){f&&f.widgetManager&&f.widgetManager!=this&&f.widgetManager.detach();this.editor!=f&&(this.detach(),(this.editor=f)&&(f.widgetManager=this,f.renderer.on("beforeRender",this.measureWidgets),f.renderer.on("afterRender",this.renderWidgets)))};this.detach=function(f){if(f=this.editor)this.editor=null,f.widgetManager=null,f.renderer.off("beforeRender",this.measureWidgets),f.renderer.off("afterRender",this.renderWidgets),
(f=this.session.lineWidgets)&&f.forEach(function(g){g&&g.el&&g.el.parentNode&&(g._inDocument=!1,g.el.parentNode.removeChild(g.el))})};this.updateOnFold=function(f,g){if((g=g.lineWidgets)&&f.action){var e=f.data,k=e.start.row;e=e.end.row;f="add"==f.action;for(var p=k+1;p<e;p++)g[p]&&(g[p].hidden=f);g[e]&&(f?g[k]?g[e].hidden=f:g[k]=g[e]:(g[k]==g[e]&&(g[k]=void 0),g[e].hidden=f))}};this.updateOnChange=function(f){var g=this.session.lineWidgets;if(g){var e=f.start.row,k=f.end.row-e;0!==k&&("remove"==
f.action?g.splice(e+1,k).forEach(function(p){p&&this.removeLineWidget(p)},this):(f=Array(k),f.unshift(e,0),g.splice.apply(g,f)),this.$updateRows())}};this.$updateRows=function(){var f=this.session.lineWidgets;if(f){var g=!0;f.forEach(function(e,k){if(e)for(g=!1,e.row=k;e.$oldWidget;)e.$oldWidget.row=k,e=e.$oldWidget});g&&(this.session.lineWidgets=null)}};this.addLineWidget=function(f){this.session.lineWidgets||(this.session.lineWidgets=Array(this.session.getLength()));var g=this.session.lineWidgets[f.row];
g&&(f.$oldWidget=g,g.el&&g.el.parentNode&&(g.el.parentNode.removeChild(g.el),g._inDocument=!1));this.session.lineWidgets[f.row]=f;f.session=this.session;g=this.editor.renderer;f.html&&!f.el&&(f.el=h.createElement("div"),f.el.innerHTML=f.html);f.el&&(h.addCssClass(f.el,"ace_lineWidgetContainer"),f.el.style.position="absolute",f.el.style.zIndex=5,g.container.appendChild(f.el),f._inDocument=!0);f.coverGutter||(f.el.style.zIndex=3);null==f.pixelHeight&&(f.pixelHeight=f.el.offsetHeight);null==f.rowCount&&
(f.rowCount=f.pixelHeight/g.layerConfig.lineHeight);var e=this.session.getFoldAt(f.row,0);if(f.$fold=e){var k=this.session.lineWidgets;f.row!=e.end.row||k[e.start.row]?f.hidden=!0:k[e.start.row]=f}return this.session._emit("changeFold",{data:{start:{row:f.row}}}),this.$updateRows(),this.renderWidgets(null,g),this.onWidgetChanged(f),f};this.removeLineWidget=function(f){f._inDocument=!1;f.session=null;f.el&&f.el.parentNode&&f.el.parentNode.removeChild(f.el);if(f.editor&&f.editor.destroy)try{f.editor.destroy()}catch(e){}if(this.session.lineWidgets){var g=
this.session.lineWidgets[f.row];if(g==f)(this.session.lineWidgets[f.row]=f.$oldWidget)&&this.onWidgetChanged(f.$oldWidget);else for(;g;){if(g.$oldWidget==f){g.$oldWidget=f.$oldWidget;break}g=g.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:f.row}}});this.$updateRows()};this.getWidgetsAtRow=function(f){var g=this.session.lineWidgets;f=g&&g[f];for(g=[];f;)g.push(f),f=f.$oldWidget;return g};this.onWidgetChanged=function(f){this.session._changedWidgets.push(f);this.editor&&this.editor.renderer.updateFull()};
this.measureWidgets=function(f,g){f=this.session._changedWidgets;var e=g.layerConfig;if(f&&f.length){for(var k=Infinity,p=0;p<f.length;p++){var u=f[p];if(u&&u.el&&u.session==this.session){if(!u._inDocument){if(this.session.lineWidgets[u.row]!=u)continue;u._inDocument=!0;g.container.appendChild(u.el)}u.h=u.el.offsetHeight;u.fixedWidth||(u.w=u.el.offsetWidth,u.screenWidth=Math.ceil(u.w/e.characterWidth));var c=u.h/e.lineHeight;u.coverLine&&(c-=this.session.getRowLineCount(u.row),0>c&&(c=0));u.rowCount!=
c&&(u.rowCount=c,u.row<k&&(k=u.row))}}Infinity!=k&&(this.session._emit("changeFold",{data:{start:{row:k}}}),this.session.lineWidgetWidth=null);this.session._changedWidgets=[]}};this.renderWidgets=function(f,g){f=g.layerConfig;var e=this.session.lineWidgets;if(e){for(var k=Math.min(this.firstRow,f.firstRow),p=Math.max(this.lastRow,f.lastRow,e.length);0<k&&!e[k];)k--;this.firstRow=f.firstRow;this.lastRow=f.lastRow;for(g.$cursorLayer.config=f;k<=p;k++){var u=e[k];if(u&&u.el)if(u.hidden)u.el.style.top=
-100-(u.pixelHeight||0)+"px";else{u._inDocument||(u._inDocument=!0,g.container.appendChild(u.el));var c=g.$cursorLayer.getPixelPosition({row:k,column:0},!0).top;u.coverLine||(c+=f.lineHeight*this.session.getRowLineCount(u.row));u.el.style.top=c-f.offset+"px";c=u.coverGutter?0:g.gutterWidth;u.fixedWidth||(c-=g.scrollLeft);u.el.style.left=c+"px";u.fullWidth&&u.screenWidth&&(u.el.style.minWidth=f.width+2*f.padding+"px");u.fixedWidth?u.el.style.right=g.scrollBar.getWidth()+"px":u.el.style.right=""}}}}}).call(a.prototype);
L.LineWidgets=a});
define("ace/ext/error_marker","require exports module ace/line_widgets ace/lib/dom ace/range".split(" "),function(d,L,X){function a(e,k,p){e=e.getAnnotations().sort(g.comparePoints);if(e.length){a:{var u={row:k,column:-1};for(var c=g.comparePoints,m=0,n=e.length-1;m<=n;){var w=m+n>>1,z=c(u,e[w]);if(0<z)m=w+1;else{if(!(0>z)){u=w;break a}n=w-1}}u=-(m+1)}0>u&&(u=-u-1);u>=e.length?u=0<p?0:e.length-1:0===u&&0>p&&(u=e.length-1);if((c=e[u])&&p){if(c.row===k){do c=e[u+=p];while(c&&c.row===k);if(!c)return e.slice()}m=
[];k=c.row;do m[0>p?"unshift":"push"](c),c=e[u+=p];while(c&&c.row==k);return m.length&&m}}}var h=d("../line_widgets").LineWidgets,f=d("../lib/dom"),g=d("../range").Range;L.showErrorMarker=function(e,k){var p=e.session;p.widgetManager||(p.widgetManager=new h(p),p.widgetManager.attach(e));var u=e.getCursorPosition(),c=u.row,m=p.widgetManager.getWidgetsAtRow(c).filter(function(z){return"errorMarker"==z.type})[0];m?m.destroy():c-=k;if(k=a(p,c,k))m=k[0],u.column=(m.pos&&"number"!=typeof m.column?m.pos.sc:
m.column)||0,u.row=m.row,m=e.renderer.$gutterLayer.$annotations[u.row];else{if(m)return;m={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(u.row);e.selection.moveToPosition(u);var n={row:u.row,fixedWidth:!0,coverGutter:!0,el:f.createElement("div"),type:"errorMarker"};k=n.el.appendChild(f.createElement("div"));c=n.el.appendChild(f.createElement("div"));c.className="error_widget_arrow "+m.className;u=e.renderer.$cursorLayer.getPixelPosition(u).left;c.style.left=u+e.renderer.gutterWidth-5+
"px";n.el.className="error_widget_wrapper";k.className="error_widget "+m.className;k.innerHTML=m.text.join("<br>");k.appendChild(f.createElement("div"));var w=function(z,x,H){if(0===x&&("esc"===H||"return"===H))return n.destroy(),{command:"null"}};n.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(w),p.widgetManager.removeLineWidget(n),e.off("changeSelection",n.destroy),e.off("changeSession",n.destroy),e.off("mouseup",n.destroy),e.off("change",n.destroy))};e.keyBinding.addKeyboardHandler(w);
e.on("changeSelection",n.destroy);e.on("changeSession",n.destroy);e.on("mouseup",n.destroy);e.on("change",n.destroy);e.session.widgetManager.addLineWidget(n);n.el.onmousedown=e.focus.bind(e);e.renderer.scrollCursorIntoView(null,.5,{bottom:n.el.offsetHeight})};f.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }",
"")});
define("ace/ace","require exports module ace/lib/fixoldbrowsers ace/lib/dom ace/lib/event ace/editor ace/edit_session ace/undomanager ace/virtual_renderer ace/worker/worker_client ace/keyboard/hash_handler ace/placeholder ace/multi_select ace/mode/folding/fold_mode ace/theme/textmate ace/ext/error_marker ace/config".split(" "),function(d,L,X){d("./lib/fixoldbrowsers");var a=d("./lib/dom"),h=d("./lib/event"),f=d("./editor").Editor,g=d("./edit_session").EditSession,e=d("./undomanager").UndoManager,k=
d("./virtual_renderer").VirtualRenderer;d("./worker/worker_client");d("./keyboard/hash_handler");d("./placeholder");d("./multi_select");d("./mode/folding/fold_mode");d("./theme/textmate");d("./ext/error_marker");L.config=d("./config");L.require=d;"function"==typeof define&&(L.define=define);L.edit=function(p){if("string"==typeof p){var u=p;p=document.getElementById(u);if(!p)throw Error("ace.edit can't find div #"+u);}if(p&&p.env&&p.env.editor instanceof f)return p.env.editor;u="";if(p&&/input|textarea/i.test(p.tagName)){var c=
p;u=c.value;p=a.createElement("pre");c.parentNode.replaceChild(p,c)}else p&&(u=a.getInnerText(p),p.innerHTML="");u=L.createEditSession(u);p=new f(new k(p));p.setSession(u);var m={document:u,editor:p,onResize:p.resize.bind(p,null)};return c&&(m.textarea=c),h.addListener(window,"resize",m.onResize),p.on("destroy",function(){h.removeListener(window,"resize",m.onResize);m.editor.container.env=null}),p.container.env=p.env=m,p};L.createEditSession=function(p,u){p=new g(p,u);return p.setUndoManager(new e),
p};L.EditSession=g;L.UndoManager=e;L.version="1.2.9"});(function(){window.require(["ace/ace"],function(d){d&&(d.config.init(!0),d.define=window.define);window.ace||(window.ace=d);for(var L in d)d.hasOwnProperty(L)&&(window.ace[L]=d[L])})})();var wa_editor_key=!1,wa_editor;
function waEditorKeyCallback(d,L){L=L||{};L=jQuery.extend({save_button:"wa-page-button",change_callback:null},L);var X=$("#"+L.save_button);return d?function(a){X.length&&a.ctrlKey&&115==a.which&&!wa_editor_key&&(X.click(),a.preventDefault())}:function(a){wa_editor_key=!1;X.length&&(a.ctrlKey&&83==a.which&&(wa_editor_key=!0,X.click(),a.preventDefault()),a.metaKey||!((33>a.which||40<a.which)&&(27<a.which||8==a.which||13==a.which)&&(112>a.which||124<a.which))||a.ctrlKey&&67==a.which||(X.removeClass("green").addClass("yellow"),
L.change_callback&&"function"==typeof L.change_callback&&L.change_callback()))}}
function waEditorAceInit(d){function L(){"dark"===document.documentElement.dataset.theme?wa_editor.setTheme("ace/theme/monokai"):wa_editor.setTheme("ace/theme/eclipse")}d=d||{};d=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",type:"html",ace_editor_container:"wa-ace-editor-container"},d);d.save_button||(d.save_button=d.prefix+"button");$("#"+d.ace_editor_container).length||$('<div id="'+d.ace_editor_container+'"></div>').insertAfter($("#"+d.id));wa_editor=ace.edit(d.ace_editor_container);wa_editor.commands.removeCommand("find");
ace.config.set("basePath",wa_url+"wa-content/js/ace/");if(d.scroll_parent_wrapper_at_edge)$(wa_editor.textInput.getElement()).on("keydown",a=>{"ArrowUp"===a.key&&0===wa_editor.selection.lead.row?window.scrollBy(0,-20):"ArrowDown"===a.key&&wa_editor.renderer.layerConfig.lastRow===wa_editor.selection.lead.row&&window.scrollBy(0,20)});L();document.documentElement.addEventListener("wa-theme-change",L);var X=wa_editor.getSession();"css"==d.type?X.setMode("ace/mode/css"):"javascript"==d.type?X.setMode("ace/mode/javascript"):
(X.setMode("ace/mode/css"),X.setMode("ace/mode/javascript"),X.setMode("ace/mode/smarty"));X.setUseWrapMode(!0);wa_editor.setOption("maxLines",1E4);wa_editor.setAutoScrollEditorIntoView(!0);wa_editor.renderer.setShowGutter(!0);wa_editor.setShowPrintMargin(!1);-1!=navigator.appVersion.indexOf("Mac")?wa_editor.setFontSize(13):-1!=navigator.appVersion.indexOf("Linux")?wa_editor.setFontSize(16):wa_editor.setFontSize(14);$(".ace_editor").css("fontFamily","");X.setValue($("#"+d.id).hide().val());wa_editor.focus();
wa_editor.navigateTo(0,0);wa_editor.commands.addCommands([{name:"waSave",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(a){$("#"+d.save_button).click()}},{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(a,h){return!1},readOnly:!0}]);X.on("change",function(){d.change_callback&&"function"==typeof d.change_callback&&d.change_callback();$("#"+d.save_button).hasClass("green")&&$("#"+d.save_button).removeClass("green").addClass("yellow")});$(window).resize(function(){wa_editor.resize()});
return wa_editor}
function waEditorUpdateSource(d){d=d||{};d=jQuery.extend({id:"wa-page-content"},d);d=$("#"+d.id);$(".el-rte").length&&$(".el-rte").is(":visible")?($(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))}),d.val(d.elrte("val")),wa_editor&&wa_editor.setValue(d.val()),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var L=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",L);$(this).attr("src",L.replace(/\{\$wa_url\}/,
wa_url))})):wa_editor&&d.val(wa_editor.getValue())}
function waEditorInit(d){d=d||{};d=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",lang:"en",ace_editor_container:"wa-ace-editor-container",html_tab:"html",wysiwyg_tab:"wysiwyg"},d);d.save_button||(d.save_button=d.prefix+"button");var L=$("#"+d.id);if(!d.height){var X="div."+d.prefix+"editor";X=$(X).height()-$(X+" .wa-page-gray-toolbar").height()-92;$("div."+d.prefix+"save-panel").length&&(X-=25);$("#wa-app").height()<$("#wa").height()-$("#wa-header").height()&&(X+=$("#wa").height()-$("#wa-header").height()-
$("#wa-app").height());d.height=300>X?300:X}elRTE.prototype.beforeSave=function(){};elRTE.prototype.options.toolbars.waPageToolbar="wa_style alignment colors format indent lists wa_image wa_links wa_elements wa_tables direction".split(" ");!L.val()&&$.browser.msie&&L.val("<div></div>");L.elrte({height:d.height-53,cssfiles:[wa_url+"wa-content/css/wa/wa-1.3.css"],toolbar:"waPageToolbar",lang:d.lang,wa_image_upload:"?module=pages&action=uploadimage",wa_image_upload_path:d.upload_url,width:"100%"});"<div></div>"==
L.val()&&$.browser.msie&&L.elrte("val","");var a=L.elrte()[0].elrte.filter.source;L.elrte()[0].elrte.filter.source=function(h){h=a.call(L.elrte()[0].elrte.filter,h);h=h.replace(/%7B\$wa_url%7D/,"{$wa_url}");return h=h.replace(/{[a-z$][^}]*}/gi,function(f,g,e){var k=e.indexOf("\x3c/script",g+f.length);g=e.indexOf("<script",g+f.length);if(-1==k||-1!=g&&g<k)f=f.replace(/&gt;/g,">"),f=f.replace(/&lt;/g,"<"),f=f.replace(/&amp;/g,"&"),f=f.replace(/&quot;/g,'"');return f})};$(".el-rte iframe").contents().keydown(waEditorKeyCallback(!1,
d)).keypress(waEditorKeyCallback(!0,d)).keyup(function(h){27==h.keyCode&&jQuery(".dialog:visible").trigger("esc")});$(".el-rte .toolbar li").click(function(){$("#"+d.save_button).removeClass("green").addClass("yellow")});$("#wa-page-settings").keydown(waEditorKeyCallback(!1,d)).keypress(waEditorKeyCallback(!0,d));waEditorAceInit(d);$("#"+d.wysiwyg_tab).click(function(){$.storage&&$.storage.set(wa_app+"/editor","wysiwyg");$("ul#"+d.prefix+"wysiwyg-html-toggle, ul."+d.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$(this).parent().addClass("selected");$("#"+d.ace_editor_container).hide();L.elrte("val",wa_editor.getValue());$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var h=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",h);$(this).attr("src",h.replace(/\{\$wa_url\}/,wa_url))});$(".el-rte").show();$(".el-rte iframe").contents().find("body").focus();return!1});$("#"+d.html_tab).click(function(){$.storage&&$.storage.set(wa_app+"/editor","html");$("ul#"+d.prefix+"wysiwyg-html-toggle, ul."+
d.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");$(this).parent().addClass("selected");$(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))});var h=wa_editor.getCursorPosition();waEditorUpdateSource(d);$(".el-rte").hide();$("#"+d.ace_editor_container).show();wa_editor.focus();wa_editor.navigateTo(h.row,h.column);return!1});$("ul#"+d.prefix+"wysiwyg-html-toggle, ul."+d.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$.storage&&"wysiwyg"!=$.storage.get(wa_app+"/editor")?($(".el-rte").hide(),$("#"+d.html_tab).parent().addClass("selected"),$("#"+d.ace_editor_container).show()):($("#"+d.wysiwyg_tab).parent().addClass("selected"),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var h=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",h);$(this).attr("src",h.replace(/\{\$wa_url\}/,wa_url))}),$("#"+d.ace_editor_container).hide())};(function(d){var L=[],X=[];d.fn.doAutosize=function(a){var h=d(this).data("minwidth"),f=d(this).data("maxwidth"),g="",e=d(this),k=d("#"+d(this).data("tester_id"));g!==(g=e.val())&&(g=g.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">"),k.html(g),k=k.width(),a=k+a.comfortZone>=h?k+a.comfortZone:h,k=e.width(),(a<k&&a>=h||a>h&&a<f)&&e.width(a))};d.fn.resetAutosize=function(a){var h=d(this).data("minwidth")||a.minInputWidth||d(this).width();a=d(this).data("maxwidth")||a.maxInputWidth||
d(this).closest(".tagsinput").width()-a.inputPadding;var f=d(this),g=d("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:f.css("fontSize"),fontFamily:f.css("fontFamily"),fontWeight:f.css("fontWeight"),letterSpacing:f.css("letterSpacing"),whiteSpace:"nowrap"}),e=d(this).attr("id")+"_autosize_tester";0< !d("#"+e).length&&(g.attr("id",e),g.appendTo("body"));f.data("minwidth",h);f.data("maxwidth",a);f.data("tester_id",e);f.css("width",h)};d.fn.addTag=function(a,h){h=jQuery.extend({focus:!1,
callback:!0},h);this.each(function(){var f=d(this).attr("id"),g=d(this).val().split(L[f]);""==g[0]&&(g=[]);a=jQuery.trim(a);if(h.unique){var e=d(g).tagExist(a);1==e&&d("#"+f+"_tag").addClass("not_valid")}else e=!1;if(""!=a&&1!=e&&(d("<span>").addClass("tag").append(d("<span>").text(a).append("\u00a0\u00a0"),d("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return d("#"+f).removeTag(escape(a))})).insertBefore("#"+f+"_addTag"),g.push(a),d("#"+f+"_tag").val(""),h.focus?d("#"+f+"_tag").focus():
d("#"+f+"_tag").blur(),d.fn.tagsInput.updateTagsField(this,g),h.callback&&X[f]&&X[f].onAddTag&&(e=X[f].onAddTag,e.call(this,a)),X[f]&&X[f].onChange)){var k=g.length;e=X[f].onChange;e.call(this,d(this),g[k-1])}});return!1};d.fn.removeTag=function(a){a=unescape(a);this.each(function(){var h=d(this).attr("id"),f=d(this).val().split(L[h]);d("#"+h+"_tagsinput .tag").remove();str="";for(var g=0;g<f.length;g++)f[g]!=a&&(str=str+L[h]+f[g]);d.fn.tagsInput.importTags(this,str);X[h]&&X[h].onRemoveTag&&X[h].onRemoveTag.call(this,
a)});return!1};d.fn.tagExist=function(a){return 0<=jQuery.inArray(a,d(this))};d.fn.importTags=function(a){id=d(this).attr("id");d("#"+id+"_tagsinput .tag").remove();d.fn.tagsInput.importTags(this,a)};d.fn.tagsInput=function(a){var h=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},a);this.each(function(){h.hide&&
d(this).hide();var f=d(this).attr("id"),g=jQuery.extend({pid:f,real_input:"#"+f,holder:"#"+f+"_tagsinput",input_wrapper:"#"+f+"_addTag",fake_input:"#"+f+"_tag"},h);L[f]=g.delimiter;if(h.onAddTag||h.onRemoveTag||h.onChange)X[f]=[],X[f].onAddTag=h.onAddTag,X[f].onRemoveTag=h.onRemoveTag,X[f].onChange=h.onChange;var e='<div id="'+f+'_tagsinput" class="tagsinput"><div id="'+f+'_addTag">';h.interactive&&(e=e+'<input id="'+f+'_tag" value="" data-default="'+h.defaultText+'" />');d(e+'</div><div class="tags_clear"></div></div>').insertAfter(this);
d(g.holder).css("width",h.width);d(g.holder).css("height",h.height);""!=d(g.real_input).val()&&d.fn.tagsInput.importTags(d(g.real_input),d(g.real_input).val());if(h.interactive){d(g.fake_input).val(d(g.fake_input).attr("data-default"));d(g.fake_input).css("color",h.placeholderColor);d(g.fake_input).resetAutosize(h);d(g.holder).bind("click",g,function(k){d(k.data.fake_input).focus()});d(g.fake_input).bind("focus",g,function(k){d(k.data.fake_input).val()==d(k.data.fake_input).attr("data-default")&&
d(k.data.fake_input).val("");d(k.data.fake_input).css("color","#000000")});if(void 0!=h.autocomplete_url){autocomplete_options={source:h.autocomplete_url};for(attrname in h.autocomplete)autocomplete_options[attrname]=h.autocomplete[attrname];void 0!==jQuery.Autocompleter?(d(g.fake_input).autocomplete(h.autocomplete_url,h.autocomplete),d(g.fake_input).bind("result",g,function(k,p,u){p&&d("#"+f).addTag(p[0]+"",{focus:!0,unique:h.unique})})):void 0!==jQuery.ui.autocomplete&&(d(g.fake_input).autocomplete(autocomplete_options),
d(g.fake_input).bind("autocompleteselect",g,function(k,p){d(k.data.real_input).addTag(p.item.value,{focus:!0,unique:h.unique});return!1}))}else d(g.fake_input).bind("blur",g,function(k){var p=d(this).attr("data-default");""!=d(k.data.fake_input).val()&&d(k.data.fake_input).val()!=p?k.data.minChars<=d(k.data.fake_input).val().length&&(!k.data.maxChars||k.data.maxChars>=d(k.data.fake_input).val().length)&&d(k.data.real_input).addTag(d(k.data.fake_input).val(),{focus:!0,unique:h.unique}):(d(k.data.fake_input).val(d(k.data.fake_input).attr("data-default")),
d(k.data.fake_input).css("color",h.placeholderColor));return!1});d(g.fake_input).bind("keypress",g,function(k){if(k.which==k.data.delimiter.charCodeAt(0)||13==k.which)return k.preventDefault(),k.data.minChars<=d(k.data.fake_input).val().length&&(!k.data.maxChars||k.data.maxChars>=d(k.data.fake_input).val().length)&&d(k.data.real_input).addTag(d(k.data.fake_input).val(),{focus:!0,unique:h.unique}),d(k.data.fake_input).resetAutosize(h),!1;k.data.autosize&&d(k.data.fake_input).doAutosize(h)});g.removeWithBackspace&&
d(g.fake_input).bind("keydown",function(k){if(8==k.keyCode&&""==d(this).val()){k.preventDefault();k=d(this).closest(".tagsinput").find(".tag:last").text();var p=d(this).attr("id").replace(/_tag$/,"");k=k.replace(/[\s]+x$/,"");d("#"+p).removeTag(escape(k));d(this).trigger("focus")}});d(g.fake_input).blur();g.unique&&d(g.fake_input).keydown(function(k){(8==k.keyCode||String.fromCharCode(k.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,\/]+/))&&d(this).removeClass("not_valid")})}return!1});
return this};d.fn.tagsInput.updateTagsField=function(a,h){var f=d(a).attr("id");d(a).val(h.join(L[f]))};d.fn.tagsInput.importTags=function(a,h){d(a).val("");var f=d(a).attr("id");h=h.split(L[f]);for(var g=0;g<h.length;g++)d(a).addTag(h[g],{focus:!1,callback:!1});X[f]&&X[f].onChange&&X[f].onChange.call(a,a,h[g])}})(jQuery);(function(d){d.iButton={version:"1.0.03",setDefaults:function(g){d.extend(a,g)}};d.fn.iButton=function(g){var e="string"==typeof arguments[0]&&arguments[0],k=e&&Array.prototype.slice.call(arguments,1)||arguments,p=0==this.length?null:d.data(this[0],"iButton");if(p&&e&&this.length){if("object"==e.toLowerCase())return p;if(p[e]){var u;this.each(function(c){var m=d.data(this,"iButton")[e].apply(p,k);if(0==c&&m)if(m.jquery)u=d([]).add(m);else return u=m,!1;else m&&m.jquery&&(u=u.add(m))});return u||this}return this}return this.each(function(){new X(this,
g)})};var L=0;d.browser.iphone=-1<navigator.userAgent.toLowerCase().indexOf("iphone");var X=function(g,e){var k=this,p=d(g),u=++L,c=!1,m=!1,n=null,w=null,z=null,x=null;e=d.extend({},a,e,d.metadata?p.metadata():{});g=e.labelOn==h&&e.labelOff==f;if(!p.is(":checkbox, :radio"))return p.find(":checkbox, :radio").iButton(e);if(!d.data(p[0],"iButton")){d.data(p[0],"iButton",k);"auto"==e.resizeHandle&&(e.resizeHandle=!g);"auto"==e.resizeContainer&&(e.resizeContainer=!g);this.toggle=function(ha){p.attr("checked",
0<arguments.length?ha:!p[0].checked).trigger("change")};this.disable=function(ha){var ra=0<arguments.length?ha:!c;c=ra;p.attr("disabled",ra);H[ra?"addClass":"removeClass"](e.classDisabled);d.isFunction(e.disable)&&e.disable.apply(k,[c,p,e])};this.repaint=function(){R()};this.destroy=function(){d([p[0],H[0]]).unbind(".iButton");d(document).unbind(".iButton_"+u);H.after(p).remove();d.data(p[0],"iButton",null);d.isFunction(e.destroy)&&e.destroy.apply(k,[p,e])};p.wrap('<div class="'+d.trim(e.classContainer+
" "+e.className)+'" />').after('<div class="'+e.classHandle+'"><div class="'+e.classHandleRight+'"><div class="'+e.classHandleMiddle+'" /></div></div><div class="'+e.classLabelOff+'"><span><label>'+e.labelOff+'</label></span></div><div class="'+e.classLabelOn+'"><span><label>'+e.labelOn+'</label></span></div><div class="'+e.classPaddingLeft+'"></div><div class="'+e.classPaddingRight+'"></div>');var H=p.parent(),v=p.siblings("."+e.classHandle),I=p.siblings("."+e.classLabelOff),D=I.children("span"),
J=p.siblings("."+e.classLabelOn),O=J.children("span");if(e.resizeHandle||e.resizeContainer){var G=O.outerWidth();var T=D.outerWidth()}e.resizeHandle?(g=Math.min(G,T),v.css("width",g)):g=v.width();e.resizeContainer?(G=Math.max(G,T)+g+20,H.css("width",G),I.css("width",G-5)):G=H.width();var S=G-g-6,R=function(ha){var ra=p[0].checked?S:0;(ha=0<arguments.length?arguments[0]:!0)&&e.enableFx?(v.stop().animate({left:ra},e.duration,e.easing),J.stop().animate({width:ra+4},e.duration,e.easing),O.stop().animate({marginLeft:ra-
S},e.duration,e.easing),D.stop().animate({marginRight:-ra},e.duration,e.easing)):(v.css("left",ra),J.css("width",ra+4),O.css("marginLeft",ra-S),D.css("marginRight",-ra))};R(!1);var ba=function(ha){return ha.pageX||(ha.originalEvent.changedTouches?ha.originalEvent.changedTouches[0].pageX:0)};H.bind("mousedown.iButton touchstart.iButton",function(ha){if(!(d(ha.target).is(":checkbox, :radio")||c||!e.allowRadioUncheck&&p.is(":radio:checked")))return ha.preventDefault(),n=v,w=ba(ha),z=w-(parseInt(v.css("left"),
10)||0),x=(new Date).getTime(),!1});e.enableDrag&&d(document).bind("mousemove.iButton_"+u+" touchmove.iButton_"+u,function(ha){if(n==v)return ha.preventDefault(),ha=ba(ha),ha!=z&&(m=!0,H.addClass(e.classHandleActive)),ha=Math.min(1,Math.max(0,(ha-z)/S)),v.css("left",ha*S),J.css("width",ha*S+4),D.css("marginRight",-ha*S),O.css("marginLeft",-(1-ha)*S),!1});d(document).bind("mouseup.iButton_"+u+" touchend.iButton_"+u,function(ha){if(n==v){ha.preventDefault();var ra=!0;!m||(new Date).getTime()-x<e.clickOffset?
(ha=p[0].checked,p.attr("checked",!ha),d.isFunction(e.click)&&e.click.apply(k,[!ha,p,e])):(ha=.5<=(ba(ha)-z)/S,p[0].checked==ha&&(ra=!1),p.attr("checked",ha));H.removeClass(e.classHandleActive);m=n=null;ra?p.trigger("change"):R();return!1}});p.bind("change.iButton",function(){R();if(p.is(":radio")){var ha=p[0];d(ha.form?ha.form[ha.name]:":radio[name="+ha.name+"]").filter(":not(:checked)").iButton("repaint")}d.isFunction(e.change)&&e.change.apply(k,[p,e])}).bind("focus.iButton",function(){H.addClass(e.classFocus)}).bind("blur.iButton",
function(){H.removeClass(e.classFocus)});d.isFunction(e.click)&&p.bind("click.iButton",function(){e.click.apply(k,[p[0].checked,p,e])});p.is(":disabled")&&this.disable(!0);d.browser.msie&&(H.find("*").andSelf().attr("unselectable","on"),p.bind("click.iButton",function(){p.triggerHandler("change.iButton")}));d.isFunction(e.init)&&e.init.apply(k,[p,e])}},a={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,
clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},h=a.labelOn,f=a.labelOff})(jQuery);jQuery.fn.waEditor2=function(){function d(e,k){var p=e.closest(".wa-editor-core-wrapper");if("string"===typeof k[0])switch(k[0]){case "sync":p.find(".wysiwyg").parent().hasClass("selected")?(e.redactor("code.sync"),k=e.redactor("code.get"),k!==e.data("last_wysiwyg_code")&&(k=e.redactor("clean.onSync",e.redactor("clean.onSet",k)),e.val(k))):e.val(e.data("ace").getValue());break;case "insert":p.find(".wysiwyg").parent().hasClass("selected")?e.redactor("insert.html",k[1]):e.data("ace").insert(k[1]);
break;case "get":return p.find(".wysiwyg").parent().hasClass("selected")?e.redactor("code.get"):e.data("ace").getValue()}else e.redactor("code.set",e.val()),e.data("ace").setValue(e.val())}function L(e){e=$.extend({focus:!0,deniedTags:!1,minHeight:300,linkify:!1,source:!1,paragraphy:!1,replaceDivs:!1,toolbarFixed:!0,replaceTags:{b:"strong",i:"em",strike:"del"},removeNewlines:!1,removeComments:!1,imagePosition:!0,imageResizable:!0,imageFloatMargin:"1.5em",buttons:"format bold italic underline deleted lists image video table link alignment horizontalrule fontcolor fontsize fontfamily".split(" "),
plugins:"fontcolor fontfamily alignment fontsize table video".split(" "),imageUpload:"?module=pages&action=uploadimage&r=2",imageUploadFields:'[name="_csrf"]:first',callbacks:{}},e||{});if(e.uploadFields||e.uploadImageFields)e.imageUploadFields=e.uploadFields||e.uploadImageFields;e.callbacks=$.extend({imageUploadError:function(k){console.log("imageUploadError",k);alert(k.error)},keydown:function(k){return"115"!=k.which&&"83"!=k.which||!k.ctrlKey&&!k.metaKey?!0:(k.preventDefault(),e.saveButton&&$(e.saveButton).click(),
!1)},sync:function(k){k=k.replace(/{[a-z$][^}]*}/gi,function(p,u,c){var m=c.indexOf("\x3c/script",u+p.length);u=c.indexOf("<script",u+p.length);if(-1==m||-1!=u&&u<m)p=p.replace(/&gt;/g,">"),p=p.replace(/&lt;/g,"<"),p=p.replace(/&amp;/g,"&"),p=p.replace(/&quot;/g,'"');return p});e.callbacks.syncBefore&&(k=e.callbacks.syncBefore(k));this.$textarea.val(k)},syncClean:function(k){return k.replace(/\{[a-z\$'"_\(!+\-][^\}]*\}/gi,function(p){return p.replace(/-&gt;/g,"->")})}},e.callbacks||{});e.saveButton&&
!e.callbacks.change&&(e.callbacks.change=function(k){$(e.saveButton).removeClass("green").addClass("yellow")});return e}function X(e,k){function p(){"dark"===document.documentElement.dataset.theme?m.setTheme("ace/theme/monokai"):m.setTheme("ace/theme/eclipse")}var u=e.closest(".wa-editor-core-wrapper");if(u.find(".ace").length)c=e.closest(".wa-editor-core-wrapper").find(".ace").children("div");else{var c=$("<div></div>");e.parent().append($('<div class="ace"></div>').append(c))}var m=ace.edit(c.get(0));
m.commands.removeCommand("find");ace.config.set("basePath",wa_url+"wa-content/js/ace/");p();document.documentElement.addEventListener("wa-theme-change",p);c=m.getSession();c.setMode("ace/mode/css");c.setMode("ace/mode/javascript");c.setMode("ace/mode/smarty");m.$blockScrolling=Infinity;c.setUseWrapMode(!0);m.renderer.setShowGutter(!1);m.setShowPrintMargin(!1);-1!=navigator.appVersion.indexOf("Mac")?m.setFontSize(13):-1!=navigator.appVersion.indexOf("Linux")?m.setFontSize(16):m.setFontSize(14);u.find(".ace_editor").css("fontFamily",
"");u.find(".ace_editor").css("minHeight",200);e.val().length?c.setValue(e.val()):c.setValue(" ");m.setOption("minLines",2);m.setOption("maxLines",1E4);m.setAutoScrollEditorIntoView(!0);if(k.scroll_parent_wrapper_at_edge)$(m.textInput.getElement()).on("keydown",n=>{"ArrowUp"===n.key&&0===m.selection.lead.row?window.scrollBy(0,-20):"ArrowDown"===n.key&&m.renderer.layerConfig.lastRow===m.selection.lead.row&&window.scrollBy(0,20)});k.focus&&(m.focus(),m.navigateTo(0,0));m.commands.addCommands([{name:"waSave",
bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(n){k.saveButton&&$(k.saveButton).click()}},{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(n,w){return!1},readOnly:!0}]);if(k.callbacks.change)c.on("change",k.callbacks.change);e.data("ace",m);$(window).resize(function(){m.resize()});return m}function a(e){e=e.replace(/\{\$[a-z_][^\}]*\}/gi,"");return!e.match(/\{[a-z\$'"_\(!+\-]/i)}function h(e,k,p,u){var c=k.find(".wa-editor-upload-img");c.removeClass("hidden").appendTo(k.find(".ace"));
c.click(function(){if($.fn.fileupload)return c.find("svg").length?$.waDialog({$wrapper:e}):e.waDialog(),!1;console.log("waEditor2 ERROR: jQuery fileupload plugins is required, but missing.")});c.on("click",function(){if($.fn.fileupload)return e.find("input:file").fileupload({dataType:"json",start:function(){e.find("div.loading").show();e.find("input[type=submit]").attr("disabled","disabled")},done:function(m,n){if(n.result.error)return $('<div style="text-align: center"><p>'+n.result.error+"</p></div>").waDialog({buttons:'<input type="submit" value="'+
u.locales.close+'" class="button red" />',height:"100px",width:"550px",onSubmit:function(w){w.trigger("close");return!1}}),!1;m='\n<figure><img src="%url%"></figure>\n'.replace("%url%",n.result.url);p.insert(m);p.clearSelection();p.focus()},stop:function(){$("html").hasClass("is-wa2")?e.data("dialog").close():e.hide();e.find("div.loading").hide();e.find("input[type=submit]").removeAttr("disabled")}}),!1})}var f=arguments,g;this.each(function(){function e(n){return p.data("original_code")||n}function k(n){n&&
p.data("original_code",n);setTimeout(function(){p.data("last_wysiwyg_code",p.redactor("code.get"))},50)}var p=$(this);if(p.data("redactor"))g=d(p,f);else{var u=L(f[0]),c=X(p,u);k(p.val());p.redactor(u);p.redactor("core.editor").find('img[src*="$wa_url"]').each(function(){var n=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",n);$(this).attr("src",n.replace(/\{\$wa_url\}/,wa_url))});p.redactor("core.box")&&p.redactor("core.box").css("z-index",0);p.redactor("core.toolbar")&&p.redactor("core.toolbar").css("z-index",
1);var m=p.closest(".wa-editor-core-wrapper");u.upload_img_dialog&&h($(u.upload_img_dialog),m,c,u);m.find(".html").click(function(){if($(this).parent().hasClass("selected"))return!1;window.wa_app&&localStorage.setItem(wa_app+"/editor","html");m.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected");$(this).parent().addClass("selected");p.redactor("core.box").hide();var n=c.getCursorPosition();p.redactor("core.editor").find("img[data-src!='']").each(function(){$(this).attr("src",
$(this).attr("data-src"));$(this).removeAttr("data-src")});p.redactor("code.sync");var w=p.redactor("code.get");w!==p.data("last_wysiwyg_code")?(w=p.redactor("clean.onSync",p.redactor("clean.onSet",w)),c.setValue(w)):c.setValue(e(w));m.find(".ace").show();c.focus();c.navigateTo(n.row,n.column);return!1});m.find(".wysiwyg").click(function(){if($(this).parent().hasClass("selected"))return!1;var n=c.getValue();if(u.smarty_wysiwyg_msg&&!a(n))return alert(u.smarty_wysiwyg_msg),!1;if($.trim(n)&&u.modification_wysiwyg_msg&&
p.redactor("clean.onSync",p.redactor("clean.onSet",n))!==n)if("string"===typeof u.modification_wysiwyg_msg)if(confirm(u.modification_wysiwyg_msg))u.modification_wysiwyg_msg=null;else return!1;else return $(this).hasClass("js-is-wa2")?$.waDialog({$wrapper:u.modification_wysiwyg_msg,onOpen(w,z){w.find("form").on("submit",function(x){x.preventDefault();u.modification_wysiwyg_msg=null;m.find(".wysiwyg").trigger("click");z.close()})},onSubmit:function(w){return!1}}):u.modification_wysiwyg_msg.waDialog({onSubmit:function(w){u.modification_wysiwyg_msg=
null;w.trigger("close");m.find(".wysiwyg").trigger("click");return!1}}),!1;window.wa_app&&localStorage.setItem(wa_app+"/editor","wysiwyg");p.redactor("code.set",n);p.redactor("core.editor").find('img[src*="$wa_url"]').each(function(){var w=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",w);$(this).attr("src",w.replace(/\{\$wa_url\}/,wa_url))});p.redactor("observe.images");p.redactor("observe.links");m.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected");$(this).parent().addClass("selected");
m.find(".ace").hide();p.redactor("core.box").show();k(n);p.redactor("focus.start");return!1});window.wa_app&&u.smarty_wysiwyg_msg&&!a(p.val())||localStorage.getItem(wa_app+"/editor")&&"html"==localStorage.getItem(wa_app+"/editor")?(m.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected"),m.find(".html").parent().addClass("selected"),p.redactor("core.box").hide(),m.find(".ace").show(),setTimeout(function(){c.blur()},50),u.focus&&setTimeout(function(){c.focus();c.navigateTo(0,0)},
100)):(m.find(".ace").hide(),u.focus&&(u.iframe?setTimeout(function(){p.redactor("focus.start")},100):p.redactor("focus.start")))}});return g};jQuery.fn.waEditor||(jQuery.fn.waEditor=jQuery.fn.waEditor2);window.PR_SHOULD_USE_CONTINUATION=!0;window.PR_TAB_WIDTH=8;window.PR_normalizedHtml=window.PR=window.prettyPrintOne=window.prettyPrint=void 0;window._pr_isIE6=function(){var d=navigator&&navigator.userAgent&&navigator.userAgent.match(/\bMSIE ([678])\./);d=d?+d[1]:!1;window._pr_isIE6=function(){return d};return d};
(function(){function d(Da){return Da.replace(J,"&amp;").replace(O,"&lt;").replace(G,"&gt;")}function L(Da,ua,La){switch(Da.nodeType){case 1:var Qa=Da.tagName.toLowerCase();ua.push("<",Qa);var Pa=Da.attributes,cb=Pa.length;if(cb){if(La){for(var rb=[],Va=cb;0<=--Va;)rb[Va]=Pa[Va];rb.sort(function(kb,Ib){return kb.name<Ib.name?-1:kb.name===Ib.name?0:1});Pa=rb}for(Va=0;Va<cb;++Va)rb=Pa[Va],rb.specified&&ua.push(" ",rb.name.toLowerCase(),'="',rb.value.replace(J,"&amp;").replace(O,"&lt;").replace(G,"&gt;").replace(T,
"&quot;"),'"')}ua.push(">");for(Pa=Da.firstChild;Pa;Pa=Pa.nextSibling)L(Pa,ua,La);!Da.firstChild&&/^(?:br|link|img)$/.test(Qa)||ua.push("</",Qa,">");break;case 3:case 4:ua.push(d(Da.nodeValue))}}function X(Da){function ua(hb){if("\\"!==hb.charAt(0))return hb.charCodeAt(0);switch(hb.charAt(1)){case "b":return 8;case "t":return 9;case "n":return 10;case "v":return 11;case "f":return 12;case "r":return 13;case "u":case "x":return parseInt(hb.substring(2),16)||hb.charCodeAt(1);case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":return parseInt(hb.substring(1),
8);default:return hb.charCodeAt(1)}}function La(hb){if(32>hb)return(16>hb?"\\x0":"\\x")+hb.toString(16);hb=String.fromCharCode(hb);if("\\"===hb||"-"===hb||"["===hb||"]"===hb)hb="\\"+hb;return hb}function Qa(hb){var bb=hb.substring(1,hb.length-1).match(RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g"));hb=[];for(var ab=[],tb="^"===bb[0],jb=tb?1:0,mb=bb.length;jb<mb;++jb){var pb=bb[jb];switch(pb){case "\\B":case "\\b":case "\\D":case "\\d":case "\\S":case "\\s":case "\\W":case "\\w":hb.push(pb);
continue}pb=ua(pb);if(jb+2<mb&&"-"===bb[jb+1]){var Ob=ua(bb[jb+2]);jb+=2}else Ob=pb;ab.push([pb,Ob]);65>Ob||122<pb||(65>Ob||90<pb||ab.push([Math.max(65,pb)|32,Math.min(Ob,90)|32]),97>Ob||122<pb||ab.push([Math.max(97,pb)&-33,Math.min(Ob,122)&-33]))}ab.sort(function(bc,xb){return bc[0]-xb[0]||xb[1]-bc[1]});bb=[];pb=[NaN,NaN];for(jb=0;jb<ab.length;++jb)mb=ab[jb],mb[0]<=pb[1]+1?pb[1]=Math.max(pb[1],mb[1]):bb.push(pb=mb);ab=["["];tb&&ab.push("^");ab.push.apply(ab,hb);for(jb=0;jb<bb.length;++jb)mb=bb[jb],
ab.push(La(mb[0])),mb[1]>mb[0]&&(mb[1]+1>mb[0]&&ab.push("-"),ab.push(La(mb[1])));ab.push("]");return ab.join("")}function Pa(hb){for(var bb=hb.source.match(RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),ab=bb.length,tb=[],jb=0,mb=0;jb<ab;++jb){var pb=bb[jb];"("===pb?++mb:"\\"===pb.charAt(0)&&(pb=+pb.substring(1))&&pb<=mb&&(tb[pb]=-1)}for(jb=1;jb<tb.length;++jb)-1===tb[jb]&&(tb[jb]=
++cb);for(mb=jb=0;jb<ab;++jb)pb=bb[jb],"("===pb?(++mb,void 0===tb[mb]&&(bb[jb]="(?:")):"\\"===pb.charAt(0)&&(pb=+pb.substring(1))&&pb<=mb&&(bb[jb]="\\"+tb[mb]);for(mb=jb=0;jb<ab;++jb)"^"===bb[jb]&&"^"!==bb[jb+1]&&(bb[jb]="");if(hb.ignoreCase&&rb)for(jb=0;jb<ab;++jb)pb=bb[jb],hb=pb.charAt(0),2<=pb.length&&"["===hb?bb[jb]=Qa(pb):"\\"!==hb&&(bb[jb]=pb.replace(/[a-zA-Z]/g,function(Ob){Ob=Ob.charCodeAt(0);return"["+String.fromCharCode(Ob&-33,Ob|32)+"]"}));return bb.join("")}for(var cb=0,rb=!1,Va=!1,kb=
0,Ib=Da.length;kb<Ib;++kb){var Db=Da[kb];if(Db.ignoreCase)Va=!0;else if(/[a-z]/i.test(Db.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){rb=!0;Va=!1;break}}var Eb=[];kb=0;for(Ib=Da.length;kb<Ib;++kb){Db=Da[kb];if(Db.global||Db.multiline)throw Error(""+Db);Eb.push("(?:"+Pa(Db)+")")}return RegExp(Eb.join("|"),Va?"gi":"g")}function a(Da){var ua=0;return function(La){for(var Qa=null,Pa=0,cb=0,rb=La.length;cb<rb;++cb)switch(La.charAt(cb)){case "\t":Qa||=[];Qa.push(La.substring(Pa,cb));Pa=
Da-ua%Da;for(ua+=Pa;0<=Pa;Pa-=16)Qa.push("                ".substring(0,Pa));Pa=cb+1;break;case "\n":ua=0;break;default:++ua}if(!Qa)return La;Qa.push(La.substring(Pa));return Qa.join("")}}function h(Da,ua,La,Qa){ua&&(Da={source:ua,c:Da},La(Da),Qa.push.apply(Qa,Da.d))}function f(Da,ua){function La(rb){for(var Va=rb.c,kb=[Va,H],Ib=0,Db=rb.source.match(Pa)||[],Eb={},hb=0,bb=Db.length;hb<bb;++hb){var ab=Db[hb],tb=Eb[ab],jb=void 0;if("string"===typeof tb)var mb=!1;else{var pb=Qa[ab.charAt(0)];if(pb)jb=
ab.match(pb[1]),tb=pb[0];else{for(mb=0;mb<cb;++mb)if(pb=ua[mb],jb=ab.match(pb[1])){tb=pb[0];break}jb||(tb=H)}!(mb=5<=tb.length&&"lang-"===tb.substring(0,5))||jb&&"string"===typeof jb[1]||(mb=!1,tb=v);mb||(Eb[ab]=tb)}pb=Ib;Ib+=ab.length;if(mb){mb=jb[1];var Ob=ab.indexOf(mb),bc=Ob+mb.length;jb[2]&&(bc=ab.length-jb[2].length,Ob=bc-mb.length);tb=tb.substring(5);h(Va+pb,ab.substring(0,Ob),La,kb);h(Va+pb+Ob,mb,p(tb,mb),kb);h(Va+pb+bc,ab.substring(bc),La,kb)}else kb.push(Va+pb,tb)}rb.d=kb}var Qa={},Pa;(function(){for(var rb=
Da.concat(ua),Va=[],kb={},Ib=0,Db=rb.length;Ib<Db;++Ib){var Eb=rb[Ib],hb=Eb[3];if(hb)for(var bb=hb.length;0<=--bb;)Qa[hb.charAt(bb)]=Eb;Eb=Eb[1];hb=""+Eb;kb.hasOwnProperty(hb)||(Va.push(Eb),kb[hb]=null)}Va.push(/[\0-\uffff]/);Pa=X(Va)})();var cb=ua.length;return La}function g(Da){var ua=[],La=[];Da.tripleQuotedStrings?ua.push([c,/^(?:'''(?:[^'\\]|\\[\s\S]|'{1,2}(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\s\S]|"{1,2}(?=[^"]))*(?:"""|$)|'(?:[^\\']|\\[\s\S])*(?:'|$)|"(?:[^\\"]|\\[\s\S])*(?:"|$))/,null,"'\""]):
Da.multiLineStrings?ua.push([c,/^(?:'(?:[^\\']|\\[\s\S])*(?:'|$)|"(?:[^\\"]|\\[\s\S])*(?:"|$)|`(?:[^\\`]|\\[\s\S])*(?:`|$))/,null,"'\"`"]):ua.push([c,/^(?:'(?:[^\\'\r\n]|\\.)*(?:'|$)|"(?:[^\\"\r\n]|\\.)*(?:"|$))/,null,"\"'"]);Da.verbatimStrings&&La.push([c,/^@"(?:[^"]|"")*(?:"|$)/,null]);Da.hashComments&&(Da.cStyleComments?(ua.push([n,/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),La.push([c,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,
null])):ua.push([n,/^#[^\r\n]*/,null,"#"]));Da.cStyleComments&&(La.push([n,/^\/\/[^\r\n]*/,null]),La.push([n,/^\/\*[\s\S]*?(?:\*\/|$)/,null]));Da.regexLiterals&&La.push(["lang-regex",RegExp("^"+D+"(/(?=[^/*])(?:[^/\\x5B\\x5C]|\\x5C[\\s\\S]|\\x5B(?:[^\\x5C\\x5D]|\\x5C[\\s\\S])*(?:\\x5D|$))+/)")]);Da=Da.keywords.replace(/^\s+|\s+$/g,"");Da.length&&La.push([m,RegExp("^(?:"+Da.replace(/\s+/g,"|")+")\\b"),null]);ua.push([H,/^\s+/,null," \r\n\t\u00a0"]);La.push([z,/^@[a-z_$][a-z_$@0-9]*/i,null],[w,/^@?[A-Z]+[a-z][A-Za-z_$@0-9]*/,
null],[H,/^[a-z_$][a-z_$@0-9]*/i,null],[z,/^(?:0x[a-f0-9]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+\-]?\d+)?)[a-z]*/i,null,"0123456789"],[x,/^.[^\s\w\.$@'"`\/#]*/,null]);return f(ua,La)}function e(Da){function ua(Wa){if(Wa>rb){Va&&Va!==kb&&(cb.push("</span>"),Va=null);!Va&&kb&&(Va=kb,cb.push('<span class="',Va,'">'));var Gb=d(Eb(La.substring(rb,Wa))).replace(jb?bb:hb,"$1&#160;");jb=tb.test(Gb);cb.push(Gb.replace(ab,gb));rb=Wa}}var La=Da.source,Qa=Da.g,Pa=Da.d,cb=[],rb=0,Va=null,kb=null,Ib=0,Db=0,
Eb=a(window.PR_TAB_WIDTH),hb=/([\r\n ]) /g,bb=/(^| ) /gm,ab=/\r\n?|\n/g,tb=/[ \r\n]$/,jb=!0,mb=window._pr_isIE6();mb=mb?"PRE"===Da.b.tagName?6===mb?"&#160;\r\n":7===mb?"&#160;<br>\r":"&#160;\r":"&#160;<br />":"<br />";var pb=Da.b.className.match(/\blinenums\b(?::(\d+))?/);if(pb){for(var Ob=[],bc=0;10>bc;++bc)Ob[bc]=mb+'</li><li class="L'+bc+'">';var xb=pb[1]&&pb[1].length?pb[1]-1:0;cb.push('<ol class="linenums"><li class="L',xb%10,'"');xb&&cb.push(' value="',xb+1,'"');cb.push(">");var gb=function(){var Wa=
Ob[++xb%10];return Va?"</span>"+Wa+'<span class="'+Va+'">':Wa}}else gb=mb;for(;;)if(Ib<Qa.length&&(Db<Pa.length?Qa[Ib]<=Pa[Db]:1))ua(Qa[Ib]),Va&&(cb.push("</span>"),Va=null),cb.push(Qa[Ib+1]),Ib+=2;else if(Db<Pa.length)ua(Pa[Db]),kb=Pa[Db+1],Db+=2;else break;ua(La.length);Va&&cb.push("</span>");pb&&cb.push("</li></ol>");Da.a=cb.join("")}function k(Da,ua){for(var La=ua.length;0<=--La;){var Qa=ua[La];Ta.hasOwnProperty(Qa)?"console"in window&&console.warn("cannot override language handler %s",Qa):Ta[Qa]=
Da}}function p(Da,ua){Da&&Ta.hasOwnProperty(Da)||(Da=/^\s*</.test(ua)?"default-markup":"default-code");return Ta[Da]}function u(Da){var ua=Da.f,La=Da.e;Da.a=ua;try{var Qa=ua.match(Ca);ua=[];var Pa=0,cb=[];if(Qa)for(var rb=0,Va=Qa.length;rb<Va;++rb){var kb=Qa[rb];if(1<kb.length&&"<"===kb.charAt(0)){if(!Fa.test(kb))if(Ga.test(kb))ua.push(kb.substring(9,kb.length-3)),Pa+=kb.length-12;else if(Ra.test(kb))ua.push("\n"),++Pa;else if(0<=kb.indexOf(I)&&kb.replace(/\s(\w+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\S+))/g,
' $1="$2$3$4"').match(/[cC][lL][aA][sS][sS]="[^"]*\bnocode\b/)){var Ib=kb.match(Ia)[2],Db=1;var Eb=rb+1;a:for(;Eb<Va;++Eb){var hb=Qa[Eb].match(Ia);if(hb&&hb[2]===Ib)if("/"===hb[1]){if(0===--Db)break a}else++Db}Eb<Va?(cb.push(Pa,Qa.slice(rb,Eb+1).join("")),rb=Eb):cb.push(Pa,kb)}else cb.push(Pa,kb)}else{Db=kb;var bb=Db.indexOf("&");if(0>bb)var ab=Db;else{for(--bb;0<=(bb=Db.indexOf("&#",bb+1));){var tb=Db.indexOf(";",bb);if(0<=tb){var jb=Db.substring(bb+3,tb),mb=10;jb&&"x"===jb.charAt(0)&&(jb=jb.substring(1),
mb=16);var pb=parseInt(jb,mb);isNaN(pb)||(Db=Db.substring(0,bb)+String.fromCharCode(pb)+Db.substring(tb+1))}}ab=Db.replace(S,"<").replace(R,">").replace(ba,"'").replace(ha,'"').replace(Ka," ").replace(ra,"&")}ua.push(ab);Pa+=ab.length}}var Ob=ua.join("");Da.source=Ob;Da.c=0;Da.g=cb;p(La,Ob)(Da);e(Da)}catch(bc){"console"in window&&console.log(bc&&bc.stack?bc.stack:bc)}}var c="str",m="kwd",n="com",w="typ",z="lit",x="pun",H="pln",v="src",I="nocode",D=function(){for(var Da="! != !== # % %= & && &&= &= ( * *= += , -= -> / /= : :: ; < << <<= <= = == === > >= >> >>= >>> >>>= ? @ [ ^ ^= ^^ ^^= { | |= || ||= ~ break case continue delete do else finally instanceof return throw try typeof".split(" "),
ua="(?:^^|[+-]",La=0;La<Da.length;++La)ua+="|"+Da[La].replace(/([^=<>:&a-z])/g,"\\$1");return ua+")\\s*"}(),J=/&/g,O=/</g,G=/>/g,T=/"/g,S=/&lt;/g,R=/&gt;/g,ba=/&apos;/g,ha=/&quot;/g,ra=/&amp;/g,Ka=/&nbsp;/g,ma=/[\r\n]/g,ja=null,Ca=RegExp("[^<]+|\x3c!--[\\s\\S]*?--\x3e|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>|</?[a-zA-Z](?:[^>\"']|'[^']*'|\"[^\"]*\")*>|<","g"),Fa=/^\x3c!--/,Ga=/^<!\[CDATA\[/,Ra=/^<br\b/i,Ia=/^<(\/?)([a-zA-Z][a-zA-Z0-9]*)/,va=g({keywords:"break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof alignof align_union asm axiom bool concept concept_map const_cast constexpr decltype dynamic_cast explicit export friend inline late_check mutable namespace nullptr reinterpret_cast static_assert static_cast template typeid typename using virtual wchar_t where break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof abstract boolean byte extends final finally implements import instanceof null native package strictfp super synchronized throws transient as base by checked decimal delegate descending event fixed foreach from group implicit in interface internal into is lock object out override orderby params partial readonly ref sbyte sealed stackalloc string select uint ulong unchecked unsafe ushort var break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof debugger eval export function get null set undefined var with Infinity NaN caller delete die do dump elsif eval exit foreach for goto if import last local my next no our print package redo require sub undef unless until use wantarray while BEGIN END break continue do else for if return while and as assert class def del elif except exec finally from global import in is lambda nonlocal not or pass print raise try with yield False True None break continue do else for if return while alias and begin case class def defined elsif end ensure false in module next nil not or redo rescue retry self super then true undef unless until when yield BEGIN END break continue do else for if return while case done elif esac eval fi function in local set then until ",
hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),Ta={};k(va,["default-code"]);k(f([],[[H,/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],[n,/^\x3c!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[x,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),"default-markup htm html mxml xhtml xml xsl".split(" "));
k(f([[H,/^[\s]+/,null," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,null,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>'"\s]*(?:[^>'"\s\/]|\/(?=\s)))/],[x,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^"'>\s]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^"'>\s]+)/i]]),["in.tag"]);k(f([],
[["atv",/^[\s\S]+/]]),["uq.val"]);k(g({keywords:"break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof alignof align_union asm axiom bool concept concept_map const_cast constexpr decltype dynamic_cast explicit export friend inline late_check mutable namespace nullptr reinterpret_cast static_assert static_cast template typeid typename using virtual wchar_t where ",
hashComments:!0,cStyleComments:!0}),"c cc cpp cxx cyc m".split(" "));k(g({keywords:"null true false"}),["json"]);k(g({keywords:"break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof abstract boolean byte extends final finally implements import instanceof null native package strictfp super synchronized throws transient as base by checked decimal delegate descending event fixed foreach from group implicit in interface internal into is lock object out override orderby params partial readonly ref sbyte sealed stackalloc string select uint ulong unchecked unsafe ushort var ",
hashComments:!0,cStyleComments:!0,verbatimStrings:!0}),["cs"]);k(g({keywords:"break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof abstract boolean byte extends final finally implements import instanceof null native package strictfp super synchronized throws transient ",
cStyleComments:!0}),["java"]);k(g({keywords:"break continue do else for if return while case done elif esac eval fi function in local set then until ",hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);k(g({keywords:"break continue do else for if return while and as assert class def del elif except exec finally from global import in is lambda nonlocal not or pass print raise try with yield False True None ",hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]);k(g({keywords:"caller delete die do dump elsif eval exit foreach for goto if import last local my next no our print package redo require sub undef unless until use wantarray while BEGIN END ",
hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]);k(g({keywords:"break continue do else for if return while alias and begin case class def defined elsif end ensure false in module next nil not or redo rescue retry self super then true undef unless until when yield BEGIN END ",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);k(g({keywords:"break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof debugger eval export function get null set undefined var with Infinity NaN ",
cStyleComments:!0,regexLiterals:!0}),["js"]);k(f([],[[c,/^[\s\S]+/]]),["regex"]);window.PR_normalizedHtml=L;window.prettyPrintOne=function(Da,ua){Da={f:Da,e:ua};u(Da);return Da.a};window.prettyPrint=function(Da){function ua(){for(var Db=window.PR_SHOULD_USE_CONTINUATION?Va.now()+250:Infinity;kb<Qa.length&&Va.now()<Db;kb++){var Eb=Qa[kb];if(Eb.className&&0<=Eb.className.indexOf("prettyprint")){var hb=Eb.className.match(/\blang-(\w+)\b/);hb&&=hb[1];for(var bb=!1,ab=Eb.parentNode;ab;ab=ab.parentNode)if(("pre"===
ab.tagName||"code"===ab.tagName||"xmp"===ab.tagName)&&ab.className&&0<=ab.className.indexOf("prettyprint")){bb=!0;break}if(!bb){ab=Eb;null===ja&&(bb=document.createElement("PRE"),bb.appendChild(document.createTextNode('<!DOCTYPE foo PUBLIC "foo bar">\n<foo />')),ja=!/</.test(bb.innerHTML));if(ja)if(bb=ab.innerHTML,"XMP"===ab.tagName)bb=d(bb);else{if("PRE"===ab.tagName)ab=!0;else if(ma.test(bb)){var tb="";ab.currentStyle?tb=ab.currentStyle.whiteSpace:window.getComputedStyle&&(tb=window.getComputedStyle(ab,
null).whiteSpace);ab=!tb||"pre"===tb}else ab=!0;ab||(bb=bb.replace(/(<br\s*\/?>)[\r\n]+/g,"$1").replace(/(?:[\r\n]+[ \t]*)+/g," "))}else{bb=[];for(ab=ab.firstChild;ab;ab=ab.nextSibling)L(ab,bb);bb=bb.join("")}bb=bb.replace(/(?:\r\n?|\n)$/,"");Ib={f:bb,e:hb,b:Eb};u(Ib);if(Eb=Ib.a)if(hb=Ib.b,"XMP"===hb.tagName){bb=document.createElement("PRE");for(ab=0;ab<hb.attributes.length;++ab)tb=hb.attributes[ab],tb.specified&&("class"===tb.name.toLowerCase()?bb.className=tb.value:bb.setAttribute(tb.name,tb.value));
bb.innerHTML=Eb;hb.parentNode.replaceChild(bb,hb)}else hb.innerHTML=Eb}}}kb<Qa.length?setTimeout(ua,250):Da&&Da()}for(var La=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],Qa=[],Pa=0;Pa<La.length;++Pa)for(var cb=0,rb=La[Pa].length;cb<rb;++cb)Qa.push(La[Pa][cb]);La=null;var Va=Date;Va.now||(Va={now:function(){return(new Date).getTime()}});var kb=0,Ib;ua()};window.PR={combinePrefixPatterns:X,createSimpleLexer:f,registerLangHandler:k,
sourceDecorator:g,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:n,PR_DECLARATION:"dec",PR_KEYWORD:m,PR_LITERAL:z,PR_NOCODE:I,PR_PLAIN:H,PR_PUNCTUATION:x,PR_SOURCE:v,PR_STRING:c,PR_TAG:"tag",PR_TYPE:w}})();
//# sourceMappingURL=vendor.min.js.map