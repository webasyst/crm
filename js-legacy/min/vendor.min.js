/*
 jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(d,N){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?N(d,!0):function(X){if(!X.document)throw Error("jQuery requires a window with a document");return N(X)}:N(d)}("undefined"!=typeof window?window:this,function(d,N){function X(r){var B=r.length,I=H.type(r);return"function"===I||H.isWindow(r)?!1:1===r.nodeType&&B?!0:"array"===I||0===B||"number"==typeof B&&0<B&&B-1 in r}function a(r,B,I){if(H.isFunction(B))return H.grep(r,function(P,U){return!!B.call(P,U,
P)!==I});if(B.nodeType)return H.grep(r,function(P){return P===B!==I});if("string"==typeof B){if(fd.test(B))return H.filter(B,r,I);B=H.filter(B,r)}return H.grep(r,function(P){return 0<=H.inArray(P,B)!==I})}function h(r,B){do r=r[B];while(r&&1!==r.nodeType);return r}function f(r){var B=tc[r]={};return H.each(r.match(zc)||[],function(I,P){B[P]=!0}),B}function g(){Pa.addEventListener?(Pa.removeEventListener("DOMContentLoaded",e,!1),d.removeEventListener("load",e,!1)):(Pa.detachEvent("onreadystatechange",
e),d.detachEvent("onload",e))}function e(){(Pa.addEventListener||"load"===event.type||"complete"===Pa.readyState)&&(g(),H.ready())}function m(r,B,I){if(void 0===I&&1===r.nodeType){var P="data-"+B.replace(tb,"-$1").toLowerCase();if(I=r.getAttribute(P),"string"==typeof I){try{I="true"===I?!0:"false"===I?!1:"null"===I?null:+I+""===I?+I:Ac.test(I)?H.parseJSON(I):I}catch(U){}H.data(r,B,I)}else I=void 0}return I}function p(r){for(var B in r)if(("data"!==B||!H.isEmptyObject(r[B]))&&"toJSON"!==B)return!1;
return!0}function u(r,B,I,P){if(H.acceptData(r)){var U,Y,fa=H.expando,qa=r.nodeType,xa=qa?H.cache:r,Ja=qa?r[fa]:r[fa]&&fa;if(Ja&&xa[Ja]&&(P||xa[Ja].data)||void 0!==I||"string"!=typeof B)return Ja||=qa?r[fa]=cb.pop()||H.guid++:fa,xa[Ja]||(xa[Ja]=qa?{}:{toJSON:H.noop}),("object"==typeof B||"function"==typeof B)&&(P?xa[Ja]=H.extend(xa[Ja],B):xa[Ja].data=H.extend(xa[Ja].data,B)),Y=xa[Ja],P||(Y.data||(Y.data={}),Y=Y.data),void 0!==I&&(Y[H.camelCase(B)]=I),"string"==typeof B?(U=Y[B],null==U&&(U=Y[H.camelCase(B)])):
U=Y,U}}function c(r,B,I){if(H.acceptData(r)){var P,U,Y=r.nodeType,fa=Y?H.cache:r,qa=Y?r[H.expando]:H.expando;if(fa[qa]){if(B&&(P=I?fa[qa]:fa[qa].data)){H.isArray(B)?B=B.concat(H.map(B,H.camelCase)):B in P?B=[B]:(B=H.camelCase(B),B=B in P?[B]:B.split(" "));for(U=B.length;U--;)delete P[B[U]];if(I?!p(P):!H.isEmptyObject(P))return}(I||(delete fa[qa].data,p(fa[qa])))&&(Y?H.cleanData([r],!0):Xa.deleteExpando||fa!=fa.window?delete fa[qa]:fa[qa]=null)}}}function l(){return!0}function n(){return!1}function w(){try{return Pa.activeElement}catch(r){}}
function z(r){var B=Bc.split("|");r=r.createDocumentFragment();if(r.createElement)for(;B.length;)r.createElement(B.pop());return r}function x(r,B){var I,P,U=0,Y="undefined"!==typeof r.getElementsByTagName?r.getElementsByTagName(B||"*"):"undefined"!==typeof r.querySelectorAll?r.querySelectorAll(B||"*"):void 0;if(!Y)for(Y=[],I=r.childNodes||r;null!=(P=I[U]);U++)!B||H.nodeName(P,B)?Y.push(P):H.merge(Y,x(P,B));return void 0===B||B&&H.nodeName(r,B)?H.merge([r],Y):Y}function J(r){Gd.test(r.type)&&(r.defaultChecked=
r.checked)}function v(r,B){return H.nodeName(r,"table")&&H.nodeName(11!==B.nodeType?B:B.firstChild,"tr")?r.getElementsByTagName("tbody")[0]||r.appendChild(r.ownerDocument.createElement("tbody")):r}function K(r){return r.type=(null!==H.find.attr(r,"type"))+"/"+r.type,r}function D(r){var B=ag.exec(r.type);return B?r.type=B[1]:r.removeAttribute("type"),r}function M(r,B){for(var I,P=0;null!=(I=r[P]);P++)H._data(I,"globalEval",!B||H._data(B[P],"globalEval"))}function Q(r,B){if(1===B.nodeType&&H.hasData(r)){var I,
P;var U=H._data(r);r=H._data(B,U);var Y=U.events;if(Y)for(I in delete r.handle,r.events={},Y)for(U=0,P=Y[I].length;P>U;U++)H.event.add(B,I,Y[I][U]);r.data&&(r.data=H.extend({},r.data))}}function G(r,B){var I;r=H(B.createElement(r)).appendTo(B.body);B=d.getDefaultComputedStyle&&(I=d.getDefaultComputedStyle(r[0]))?I.display:H.css(r[0],"display");return r.detach(),B}function T(r){var B=Pa,I=We[r];return I||(I=G(r,B),"none"!==I&&I||(Hd=(Hd||H("<iframe frameborder='0' width='0' height='0'/>")).appendTo(B.documentElement),
B=(Hd[0].contentWindow||Hd[0].contentDocument).document,B.write(),B.close(),I=G(r,B),Hd.detach()),We[r]=I),I}function S(r,B){return{get:function(){var I=r();if(null!=I)return I?void delete this.get:(this.get=B).apply(this,arguments)}}}function R(r,B){if(B in r)return B;for(var I=B.charAt(0).toUpperCase()+B.slice(1),P=B,U=Vd.length;U--;)if(B=Vd[U]+I,B in r)return B;return P}function ca(r,B){for(var I,P,U,Y=[],fa=0,qa=r.length;qa>fa;fa++)P=r[fa],P.style&&(Y[fa]=H._data(P,"olddisplay"),I=P.style.display,
B?(Y[fa]||"none"!==I||(P.style.display=""),""===P.style.display&&gd(P)&&(Y[fa]=H._data(P,"olddisplay",T(P.nodeName)))):(U=gd(P),(I&&"none"!==I||!U)&&H._data(P,"olddisplay",U?I:H.css(P,"display"))));for(fa=0;qa>fa;fa++)P=r[fa],P.style&&(B&&"none"!==P.style.display&&""!==P.style.display||(P.style.display=B?Y[fa]||"":"none"));return r}function ha(r,B,I){return(r=Ee.exec(B))?Math.max(0,r[1]-(I||0))+(r[2]||"px"):B}function ra(r,B,I,P,U){B=I===(P?"border":"content")?4:"width"===B?1:0;for(var Y=0;4>B;B+=
2)"margin"===I&&(Y+=H.css(r,I+Cc[B],!0,U)),P?("content"===I&&(Y-=H.css(r,"padding"+Cc[B],!0,U)),"margin"!==I&&(Y-=H.css(r,"border"+Cc[B]+"Width",!0,U))):(Y+=H.css(r,"padding"+Cc[B],!0,U),"padding"!==I&&(Y+=H.css(r,"border"+Cc[B]+"Width",!0,U)));return Y}function Ia(r,B,I){var P=!0,U="width"===B?r.offsetWidth:r.offsetHeight,Y=rd(r),fa=Xa.boxSizing&&"border-box"===H.css(r,"boxSizing",!1,Y);if(0>=U||null==U){if(U=sd(r,B,Y),(0>U||null==U)&&(U=r.style[B]),ke.test(U))return U;P=fa&&(Xa.boxSizingReliable()||
U===r.style[B]);U=parseFloat(U)||0}return U+ra(r,B,I||(fa?"border":"content"),P,Y)+"px"}function ja(r,B,I,P,U){return new ja.prototype.init(r,B,I,P,U)}function ma(){return setTimeout(function(){Nc=void 0}),Nc=H.now()}function Aa(r,B){var I={height:r},P=0;for(B=B?1:0;4>P;P+=2-B){var U=Cc[P];I["margin"+U]=I["padding"+U]=r}return B&&(I.opacity=I.width=r),I}function Da(r,B,I){for(var P,U=(td[B]||[]).concat(td["*"]),Y=0,fa=U.length;fa>Y;Y++)if(P=U[Y].call(I,B,r))return P}function Fa(r,B){var I,P,U,Y,fa;
for(I in r)if(P=H.camelCase(I),U=B[P],Y=r[I],H.isArray(Y)&&(U=Y[1],Y=r[I]=Y[0]),I!==P&&(r[P]=Y,delete r[I]),fa=H.cssHooks[P],fa&&"expand"in fa)for(I in Y=fa.expand(Y),delete r[P],Y)I in r||(r[I]=Y[I],B[I]=U);else B[P]=U}function Oa(r,B,I){var P,U=0,Y=ud.length,fa=H.Deferred().always(function(){delete qa.elem}),qa=function(){if(P)return!1;var Ja=Nc||ma();Ja=Math.max(0,xa.startTime+xa.duration-Ja);for(var za=1-(Ja/xa.duration||0),Ra=0,Za=xa.tweens.length;Za>Ra;Ra++)xa.tweens[Ra].run(za);return fa.notifyWith(r,
[xa,za,Ja]),1>za&&Za?Ja:(fa.resolveWith(r,[xa]),!1)},xa=fa.promise({elem:r,props:H.extend({},B),opts:H.extend(!0,{specialEasing:{}},I),originalProperties:B,originalOptions:I,startTime:Nc||ma(),duration:I.duration,tweens:[],createTween:function(Ja,za){Ja=H.Tween(r,xa.opts,Ja,za,xa.opts.specialEasing[Ja]||xa.opts.easing);return xa.tweens.push(Ja),Ja},stop:function(Ja){var za=0,Ra=Ja?xa.tweens.length:0;if(P)return this;for(P=!0;Ra>za;za++)xa.tweens[za].run(1);return Ja?fa.resolveWith(r,[xa,Ja]):fa.rejectWith(r,
[xa,Ja]),this}});I=xa.props;for(Fa(I,xa.opts.specialEasing);Y>U;U++)if(B=ud[U].call(xa,r,I,xa.opts))return B;return H.map(I,Da,xa),H.isFunction(xa.opts.start)&&xa.opts.start.call(r,xa),H.fx.timer(H.extend(qa,{elem:r,anim:xa,queue:xa.opts.queue})),xa.progress(xa.opts.progress).done(xa.opts.done,xa.opts.complete).fail(xa.opts.fail).always(xa.opts.always)}function Ga(r){return function(B,I){"string"!=typeof B&&(I=B,B="*");var P=0,U=B.toLowerCase().match(zc)||[];if(H.isFunction(I))for(;B=U[P++];)"+"===
B.charAt(0)?(B=B.slice(1)||"*",(r[B]=r[B]||[]).unshift(I)):(r[B]=r[B]||[]).push(I)}}function wa(r,B,I,P){function U(qa){var xa;return Y[qa]=!0,H.each(r[qa]||[],function(Ja,za){Ja=za(B,I,P);return"string"!=typeof Ja||fa||Y[Ja]?fa?!(xa=Ja):void 0:(B.dataTypes.unshift(Ja),U(Ja),!1)}),xa}var Y={},fa=r===le;return U(B.dataTypes[0])||!Y["*"]&&U("*")}function Qa(r,B){var I,P,U=H.ajaxSettings.flatOptions||{};for(P in B)void 0!==B[P]&&((U[P]?r:I||={})[P]=B[P]);return I&&H.extend(!0,r,I),r}function Wa(r,B,
I,P){var U;if(H.isArray(B))H.each(B,function(Y,fa){I||bg.test(r)?P(r,fa):Wa(r+"["+("object"==typeof fa?Y:"")+"]",fa,I,P)});else if(I||"object"!==H.type(B))P(r,B);else for(U in B)Wa(r+"["+U+"]",B[U],I,P)}function Ba(){try{return new d.XMLHttpRequest}catch(r){}}function Sa(r){return H.isWindow(r)?r:9===r.nodeType?r.defaultView||r.parentWindow:!1}var cb=[],$a=cb.slice,rb=cb.concat,Hb=cb.push,ib=cb.indexOf,Ob={},kc=Ob.toString,nc=Ob.hasOwnProperty,Xa={},H=function(r,B){return new H.fn.init(r,B)},oc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
ic=/^-ms-/,lc=/-([\da-z])/gi,Yc=function(r,B){return B.toUpperCase()};H.fn=H.prototype={jquery:"1.11.1",constructor:H,selector:"",length:0,toArray:function(){return $a.call(this)},get:function(r){return null!=r?0>r?this[r+this.length]:this[r]:$a.call(this)},pushStack:function(r){r=H.merge(this.constructor(),r);return r.prevObject=this,r.context=this.context,r},each:function(r,B){return H.each(this,r,B)},map:function(r){return this.pushStack(H.map(this,function(B,I){return r.call(B,I,B)}))},slice:function(){return this.pushStack($a.apply(this,
arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(r){var B=this.length;r=+r+(0>r?B:0);return this.pushStack(0<=r&&B>r?[this[r]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Hb,sort:cb.sort,splice:cb.splice};H.extend=H.fn.extend=function(){var r,B,I,P,U=arguments[0]||{},Y=1,fa=arguments.length,qa=!1;"boolean"==typeof U&&(qa=U,U=arguments[Y]||{},Y++);"object"==typeof U||H.isFunction(U)||(U={});for(Y===fa&&(U=this,Y--);fa>Y;Y++)if(null!=
(I=arguments[Y]))for(B in I){var xa=U[B];var Ja=I[B];U!==Ja&&(qa&&Ja&&(H.isPlainObject(Ja)||(r=H.isArray(Ja)))?(r?(r=!1,P=xa&&H.isArray(xa)?xa:[]):P=xa&&H.isPlainObject(xa)?xa:{},U[B]=H.extend(qa,P,Ja)):void 0!==Ja&&(U[B]=Ja))}return U};H.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw Error(r);},noop:function(){},isFunction:function(r){return"function"===H.type(r)},isArray:Array.isArray||function(r){return"array"===H.type(r)},isWindow:function(r){return null!=
r&&r==r.window},isNumeric:function(r){return!H.isArray(r)&&0<=r-parseFloat(r)},isEmptyObject:function(r){for(var B in r)return!1;return!0},isPlainObject:function(r){var B;if(!r||"object"!==H.type(r)||r.nodeType||H.isWindow(r))return!1;try{if(r.constructor&&!nc.call(r,"constructor")&&!nc.call(r.constructor.prototype,"isPrototypeOf"))return!1}catch(I){return!1}if(Xa.ownLast)for(B in r)return nc.call(r,B);for(B in r);return void 0===B||nc.call(r,B)},type:function(r){return null==r?r+"":"object"==typeof r||
"function"==typeof r?Ob[kc.call(r)]||"object":typeof r},globalEval:function(r){r&&H.trim(r)&&(d.execScript||function(B){d.eval.call(d,B)})(r)},camelCase:function(r){return r.replace(ic,"ms-").replace(lc,Yc)},nodeName:function(r,B){return r.nodeName&&r.nodeName.toLowerCase()===B.toLowerCase()},each:function(r,B,I){var P,U=0,Y=r.length,fa=X(r);if(I)if(fa)for(;Y>U&&(P=B.apply(r[U],I),!1!==P);U++);else for(U in r){if(P=B.apply(r[U],I),!1===P)break}else if(fa)for(;Y>U&&(P=B.call(r[U],U,r[U]),!1!==P);U++);
else for(U in r)if(P=B.call(r[U],U,r[U]),!1===P)break;return r},trim:function(r){return null==r?"":(r+"").replace(oc,"")},makeArray:function(r,B){B=B||[];return null!=r&&(X(Object(r))?H.merge(B,"string"==typeof r?[r]:r):Hb.call(B,r)),B},inArray:function(r,B,I){if(B){if(ib)return ib.call(B,r,I);var P=B.length;for(I=I?0>I?Math.max(0,P+I):I:0;P>I;I++)if(I in B&&B[I]===r)return I}return-1},merge:function(r,B){for(var I=+B.length,P=0,U=r.length;I>P;)r[U++]=B[P++];if(I!==I)for(;void 0!==B[P];)r[U++]=B[P++];
return r.length=U,r},grep:function(r,B,I){for(var P=[],U=0,Y=r.length,fa=!I;Y>U;U++)I=!B(r[U],U),I!==fa&&P.push(r[U]);return P},map:function(r,B,I){var P=0,U=r.length,Y=[];if(X(r))for(;U>P;P++){var fa=B(r[P],P,I);null!=fa&&Y.push(fa)}else for(P in r)fa=B(r[P],P,I),null!=fa&&Y.push(fa);return rb.apply([],Y)},guid:1,proxy:function(r,B){var I,P,U;return"string"==typeof B&&(U=r[B],B=r,r=U),H.isFunction(r)?(I=$a.call(arguments,2),P=function(){return r.apply(B||this,I.concat($a.call(arguments)))},P.guid=
r.guid=r.guid||H.guid++,P):void 0},now:function(){return+new Date},support:Xa});H.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(r,B){Ob["[object "+B+"]"]=B.toLowerCase()});var ec=function(r){function B(da,sa,ua,ya){var Ka,Ma,Ua,eb,ab;if((sa?sa.ownerDocument||sa:ac)!==Pb&&hd(sa),sa=sa||Pb,ua=ua||[],!da||"string"!=typeof da)return ua;if(1!==(eb=sa.nodeType)&&9!==eb)return[];if(pc&&!ya){if(Ka=cg.exec(da))if(Ua=Ka[1])if(9===eb){if(Ma=sa.getElementById(Ua),!Ma||
!Ma.parentNode)return ua;if(Ma.id===Ua)return ua.push(Ma),ua}else{if(sa.ownerDocument&&(Ma=sa.ownerDocument.getElementById(Ua))&&Fc(sa,Ma)&&Ma.id===Ua)return ua.push(Ma),ua}else{if(Ka[2])return Zc.apply(ua,sa.getElementsByTagName(da)),ua;if((Ua=Ka[3])&&Vb.getElementsByClassName&&sa.getElementsByClassName)return Zc.apply(ua,sa.getElementsByClassName(Ua)),ua}if(Vb.qsa&&(!Jb||!Jb.test(da))){if(Ma=Ka=zb,Ua=sa,ab=9===eb&&da,1===eb&&"object"!==sa.nodeName.toLowerCase()){eb=me(da);(Ka=sa.getAttribute("id"))?
Ma=Ka.replace(dg,"\\$&"):sa.setAttribute("id",Ma);Ma="[id='"+Ma+"'] ";for(Ua=eb.length;Ua--;)eb[Ua]=Ma+Za(eb[Ua]);Ua=Fe.test(da)&&za(sa.parentNode)||sa;ab=eb.join(",")}if(ab)try{return Zc.apply(ua,Ua.querySelectorAll(ab)),ua}catch(pb){}finally{Ka||sa.removeAttribute("id")}}}return uc(da.replace(Id,"$1"),sa,ua,ya)}function I(){function da(ua,ya){return sa.push(ua+" ")>Bb.cacheLength&&delete da[sa.shift()],da[ua+" "]=ya}var sa=[];return da}function P(da){return da[zb]=!0,da}function U(da){var sa=Pb.createElement("div");
try{return!!da(sa)}catch(ua){return!1}finally{sa.parentNode&&sa.parentNode.removeChild(sa)}}function Y(da,sa){var ua=da.split("|");for(da=da.length;da--;)Bb.attrHandle[ua[da]]=sa}function fa(da,sa){var ua=sa&&da,ya=ua&&1===da.nodeType&&1===sa.nodeType&&(~sa.sourceIndex||-2147483648)-(~da.sourceIndex||-2147483648);if(ya)return ya;if(ua)for(;ua=ua.nextSibling;)if(ua===sa)return-1;return da?1:-1}function qa(da){return function(sa){return"input"===sa.nodeName.toLowerCase()&&sa.type===da}}function xa(da){return function(sa){var ua=
sa.nodeName.toLowerCase();return("input"===ua||"button"===ua)&&sa.type===da}}function Ja(da){return P(function(sa){return sa=+sa,P(function(ua,ya){for(var Ka,Ma=da([],ua.length,sa),Ua=Ma.length;Ua--;)ua[Ka=Ma[Ua]]&&(ua[Ka]=!(ya[Ka]=ua[Ka]))})})}function za(da){return da&&"undefined"!==typeof da.getElementsByTagName&&da}function Ra(){}function Za(da){for(var sa=0,ua=da.length,ya="";ua>sa;sa++)ya+=da[sa].value;return ya}function qb(da,sa,ua){var ya=sa.dir,Ka=ua&&"parentNode"===ya,Ma=Kb++;return sa.first?
function(Ua,eb,ab){for(;Ua=Ua[ya];)if(1===Ua.nodeType||Ka)return da(Ua,eb,ab)}:function(Ua,eb,ab){var pb,vb,Ab=[Tb,Ma];if(ab)for(;Ua=Ua[ya];){if((1===Ua.nodeType||Ka)&&da(Ua,eb,ab))return!0}else for(;Ua=Ua[ya];)if(1===Ua.nodeType||Ka){if(vb=Ua[zb]||(Ua[zb]={}),(pb=vb[ya])&&pb[0]===Tb&&pb[1]===Ma)return Ab[2]=pb[2];if(vb[ya]=Ab,Ab[2]=da(Ua,eb,ab))return!0}}}function mb(da){return 1<da.length?function(sa,ua,ya){for(var Ka=da.length;Ka--;)if(!da[Ka](sa,ua,ya))return!1;return!0}:da[0]}function Gb(da,
sa,ua,ya,Ka){for(var Ma,Ua=[],eb=0,ab=da.length,pb=null!=sa;ab>eb;eb++)(Ma=da[eb])&&(!ua||ua(Ma,ya,Ka))&&(Ua.push(Ma),pb&&sa.push(eb));return Ua}function Yb(da,sa,ua,ya,Ka,Ma){return ya&&!ya[zb]&&(ya=Yb(ya)),Ka&&!Ka[zb]&&(Ka=Yb(Ka,Ma)),P(function(Ua,eb,ab,pb){var vb,Ab=[],bc=[],Oc=eb.length,Lb;if(!(Lb=Ua)){Lb=sa||"*";for(var Eb=ab.nodeType?[ab]:ab,jc=[],cc=0,Jd=Eb.length;Jd>cc;cc++)B(Lb,Eb[cc],jc);Lb=jc}Lb=!da||!Ua&&sa?Lb:Gb(Lb,Ab,da,ab,pb);Eb=ua?Ka||(Ua?da:Oc||ya)?[]:eb:Lb;if(ua&&ua(Lb,Eb,ab,pb),
ya){var Jc=Gb(Eb,bc);ya(Jc,[],ab,pb);for(ab=Jc.length;ab--;)(vb=Jc[ab])&&(Eb[bc[ab]]=!(Lb[bc[ab]]=vb))}if(Ua){if(Ka||da){if(Ka){Jc=[];for(ab=Eb.length;ab--;)(vb=Eb[ab])&&Jc.push(Lb[ab]=vb);Ka(null,Eb=[],Jc,pb)}for(ab=Eb.length;ab--;)(vb=Eb[ab])&&-1<(Jc=Ka?vd.call(Ua,vb):Ab[ab])&&(Ua[Jc]=!(eb[Jc]=vb))}}else Eb=Gb(Eb===eb?Eb.splice(Oc,Eb.length):Eb),Ka?Ka(null,eb,Eb,pb):Zc.apply(eb,Eb)})}function Kd(da){var sa,ua,ya=da.length,Ka=Bb.relative[da[0].type];var Ma=Ka||Bb.relative[" "];for(var Ua=Ka?1:0,
eb=qb(function(vb){return vb===sa},Ma,!0),ab=qb(function(vb){return-1<vd.call(sa,vb)},Ma,!0),pb=[function(vb,Ab,bc){return!Ka&&(bc||Ab!==xb)||((sa=Ab).nodeType?eb(vb,Ab,bc):ab(vb,Ab,bc))}];ya>Ua;Ua++)if(Ma=Bb.relative[da[Ua].type])pb=[qb(mb(pb),Ma)];else{if(Ma=Bb.filter[da[Ua].type].apply(null,da[Ua].matches),Ma[zb]){for(ua=++Ua;ya>ua&&!Bb.relative[da[ua].type];ua++);return Yb(1<Ua&&mb(pb),1<Ua&&Za(da.slice(0,Ua-1).concat({value:" "===da[Ua-2].type?"*":""})).replace(Id,"$1"),Ma,ua>Ua&&Kd(da.slice(Ua,
ua)),ya>ua&&Kd(da=da.slice(ua)),ya>ua&&Za(da))}pb.push(Ma)}return mb(pb)}function vc(da,sa){var ua=0<sa.length,ya=0<da.length,Ka=function(Ma,Ua,eb,ab,pb){var vb,Ab,bc,Oc=0,Lb="0",Eb=Ma&&[],jc=[],cc=xb,Jd=Ma||ya&&Bb.find.TAG("*",pb),Jc=Tb+=null==cc?1:Math.random()||.1,eg=Jd.length;for(pb&&(xb=Ua!==Pb&&Ua);Lb!==eg&&null!=(vb=Jd[Lb]);Lb++){if(ya&&vb){for(Ab=0;bc=da[Ab++];)if(bc(vb,Ua,eb)){ab.push(vb);break}pb&&(Tb=Jc)}ua&&((vb=!bc&&vb)&&Oc--,Ma&&Eb.push(vb))}if(Oc+=Lb,ua&&Lb!==Oc){for(Ab=0;bc=sa[Ab++];)bc(Eb,
jc,Ua,eb);if(Ma){if(0<Oc)for(;Lb--;)Eb[Lb]||jc[Lb]||(jc[Lb]=Ge.call(ab));jc=Gb(jc)}Zc.apply(ab,jc);pb&&!Ma&&0<jc.length&&1<Oc+sa.length&&B.uniqueSort(ab)}return pb&&(Tb=Jc,xb=cc),Eb};return ua?P(Ka):Ka}var Pc,wb,uc,xb,Ib,Qb,Pb,wc,pc,Jb,Wb,Ub,Fc,zb="sizzle"+-new Date,ac=r.document,Tb=0,Kb=0,$c=I(),qc=I(),dc=I(),Qc=function(da,sa){return da===sa&&(Qb=!0),0},Kc={}.hasOwnProperty,xc=[],Ge=xc.pop,fg=xc.push,Zc=xc.push,Ld=xc.slice,vd=xc.indexOf||function(da){for(var sa=0,ua=this.length;ua>sa;sa++)if(this[sa]===
da)return sa;return-1},Id=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Xe=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),ad=RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),Ye=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),wd=RegExp(":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w#-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
ne=RegExp("^(?:\\\\.|[\\w#-]|[^\\x00-\\xa0])+$"),oe={ID:RegExp("^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)"),CLASS:RegExp("^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)"),TAG:RegExp("^((?:\\\\.|[\\w*-]|[^\\x00-\\xa0])+)"),ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w#-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:RegExp("^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w#-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Ze=/^(?:input|select|textarea|button)$/i,$e=/^h\d$/i,Wd=/^[^{]+\{\s*\[native \w/,cg=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fe=/[+~]/,dg=/'|\\/g,jd=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),kd=function(da,sa,ua){da="0x"+sa-65536;return da!==da||ua?sa:0>da?String.fromCharCode(da+65536):String.fromCharCode(da>>10|55296,1023&da|56320)};try{Zc.apply(xc=Ld.call(ac.childNodes),ac.childNodes),xc[ac.childNodes.length].nodeType}catch(da){Zc={apply:xc.length?function(sa,
ua){fg.apply(sa,Ld.call(ua))}:function(sa,ua){for(var ya=sa.length,Ka=0;sa[ya++]=ua[Ka++];);sa.length=ya-1}}}var Vb=B.support={};var af=B.isXML=function(da){return(da=da&&(da.ownerDocument||da).documentElement)?"HTML"!==da.nodeName:!1};var hd=B.setDocument=function(da){var sa,ua=da?da.ownerDocument||da:ac;da=ua.defaultView;return ua!==Pb&&9===ua.nodeType&&ua.documentElement?(Pb=ua,wc=ua.documentElement,pc=!af(ua),da&&da!==da.top&&(da.addEventListener?da.addEventListener("unload",function(){hd()},
!1):da.attachEvent&&da.attachEvent("onunload",function(){hd()})),Vb.attributes=U(function(ya){return ya.className="i",!ya.getAttribute("className")}),Vb.getElementsByTagName=U(function(ya){return ya.appendChild(ua.createComment("")),!ya.getElementsByTagName("*").length}),Vb.getElementsByClassName=Wd.test(ua.getElementsByClassName)&&U(function(ya){return ya.innerHTML="<div class='a'></div><div class='a i'></div>",ya.firstChild.className="i",2===ya.getElementsByClassName("i").length}),Vb.getById=U(function(ya){return wc.appendChild(ya).id=
zb,!ua.getElementsByName||!ua.getElementsByName(zb).length}),Vb.getById?(Bb.find.ID=function(ya,Ka){if("undefined"!==typeof Ka.getElementById&&pc)return(ya=Ka.getElementById(ya))&&ya.parentNode?[ya]:[]},Bb.filter.ID=function(ya){var Ka=ya.replace(jd,kd);return function(Ma){return Ma.getAttribute("id")===Ka}}):(delete Bb.find.ID,Bb.filter.ID=function(ya){var Ka=ya.replace(jd,kd);return function(Ma){return(Ma="undefined"!==typeof Ma.getAttributeNode&&Ma.getAttributeNode("id"))&&Ma.value===Ka}}),Bb.find.TAG=
Vb.getElementsByTagName?function(ya,Ka){return"undefined"!==typeof Ka.getElementsByTagName?Ka.getElementsByTagName(ya):void 0}:function(ya,Ka){var Ma=[],Ua=0;Ka=Ka.getElementsByTagName(ya);if("*"===ya){for(;ya=Ka[Ua++];)1===ya.nodeType&&Ma.push(ya);return Ma}return Ka},Bb.find.CLASS=Vb.getElementsByClassName&&function(ya,Ka){return"undefined"!==typeof Ka.getElementsByClassName&&pc?Ka.getElementsByClassName(ya):void 0},Wb=[],Jb=[],(Vb.qsa=Wd.test(ua.querySelectorAll))&&(U(function(ya){ya.innerHTML=
"<select msallowclip=''><option selected=''></option></select>";ya.querySelectorAll("[msallowclip^='']").length&&Jb.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");ya.querySelectorAll("[selected]").length||Jb.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");ya.querySelectorAll(":checked").length||Jb.push(":checked")}),U(function(ya){var Ka=ua.createElement("input");Ka.setAttribute("type",
"hidden");ya.appendChild(Ka).setAttribute("name","D");ya.querySelectorAll("[name=d]").length&&Jb.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");ya.querySelectorAll(":enabled").length||Jb.push(":enabled",":disabled");ya.querySelectorAll("*,:x");Jb.push(",.*:")})),(Vb.matchesSelector=Wd.test(Ub=wc.matches||wc.webkitMatchesSelector||wc.mozMatchesSelector||wc.oMatchesSelector||wc.msMatchesSelector))&&U(function(ya){Vb.disconnectedMatch=Ub.call(ya,"div");Ub.call(ya,"[s!='']:x");Wb.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w#-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
Jb=Jb.length&&new RegExp(Jb.join("|")),Wb=Wb.length&&new RegExp(Wb.join("|")),sa=Wd.test(wc.compareDocumentPosition),Fc=sa||Wd.test(wc.contains)?function(ya,Ka){var Ma=9===ya.nodeType?ya.documentElement:ya;Ka=Ka&&Ka.parentNode;return ya===Ka||!(!Ka||1!==Ka.nodeType||!(Ma.contains?Ma.contains(Ka):ya.compareDocumentPosition&&16&ya.compareDocumentPosition(Ka)))}:function(ya,Ka){if(Ka)for(;Ka=Ka.parentNode;)if(Ka===ya)return!0;return!1},Qc=sa?function(ya,Ka){if(ya===Ka)return Qb=!0,0;var Ma=!ya.compareDocumentPosition-
!Ka.compareDocumentPosition;return Ma?Ma:(Ma=(ya.ownerDocument||ya)===(Ka.ownerDocument||Ka)?ya.compareDocumentPosition(Ka):1,1&Ma||!Vb.sortDetached&&Ka.compareDocumentPosition(ya)===Ma?ya===ua||ya.ownerDocument===ac&&Fc(ac,ya)?-1:Ka===ua||Ka.ownerDocument===ac&&Fc(ac,Ka)?1:Ib?vd.call(Ib,ya)-vd.call(Ib,Ka):0:4&Ma?-1:1)}:function(ya,Ka){if(ya===Ka)return Qb=!0,0;var Ma=0,Ua=ya.parentNode,eb=Ka.parentNode,ab=[ya],pb=[Ka];if(!Ua||!eb)return ya===ua?-1:Ka===ua?1:Ua?-1:eb?1:Ib?vd.call(Ib,ya)-vd.call(Ib,
Ka):0;if(Ua===eb)return fa(ya,Ka);for(;ya=ya.parentNode;)ab.unshift(ya);for(ya=Ka;ya=ya.parentNode;)pb.unshift(ya);for(;ab[Ma]===pb[Ma];)Ma++;return Ma?fa(ab[Ma],pb[Ma]):ab[Ma]===ac?-1:pb[Ma]===ac?1:0},ua):Pb};B.matches=function(da,sa){return B(da,null,null,sa)};B.matchesSelector=function(da,sa){if((da.ownerDocument||da)!==Pb&&hd(da),sa=sa.replace(Ye,"='$1']"),!(!Vb.matchesSelector||!pc||Wb&&Wb.test(sa)||Jb&&Jb.test(sa)))try{var ua=Ub.call(da,sa);if(ua||Vb.disconnectedMatch||da.document&&11!==da.document.nodeType)return ua}catch(ya){}return 0<
B(sa,Pb,null,[da]).length};B.contains=function(da,sa){return(da.ownerDocument||da)!==Pb&&hd(da),Fc(da,sa)};B.attr=function(da,sa){(da.ownerDocument||da)!==Pb&&hd(da);var ua=Bb.attrHandle[sa.toLowerCase()];ua=ua&&Kc.call(Bb.attrHandle,sa.toLowerCase())?ua(da,sa,!pc):void 0;return void 0!==ua?ua:Vb.attributes||!pc?da.getAttribute(sa):(ua=da.getAttributeNode(sa))&&ua.specified?ua.value:null};B.error=function(da){throw Error("Syntax error, unrecognized expression: "+da);};B.uniqueSort=function(da){var sa,
ua=[],ya=0,Ka=0;if(Qb=!Vb.detectDuplicates,Ib=!Vb.sortStable&&da.slice(0),da.sort(Qc),Qb){for(;sa=da[Ka++];)sa===da[Ka]&&(ya=ua.push(Ka));for(;ya--;)da.splice(ua[ya],1)}return Ib=null,da};var pe=B.getText=function(da){var sa,ua="",ya=0;if(sa=da.nodeType)if(1===sa||9===sa||11===sa){if("string"==typeof da.textContent)return da.textContent;for(da=da.firstChild;da;da=da.nextSibling)ua+=pe(da)}else{if(3===sa||4===sa)return da.nodeValue}else for(;sa=da[ya++];)ua+=pe(sa);return ua};var Bb=B.selectors={cacheLength:50,
createPseudo:P,match:oe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(da){return da[1]=da[1].replace(jd,kd),da[3]=(da[3]||da[4]||da[5]||"").replace(jd,kd),"~="===da[2]&&(da[3]=" "+da[3]+" "),da.slice(0,4)},CHILD:function(da){return da[1]=da[1].toLowerCase(),"nth"===da[1].slice(0,3)?(da[3]||B.error(da[0]),da[4]=+(da[4]?da[5]+(da[6]||1):2*("even"===da[3]||"odd"===da[3])),
da[5]=+(da[7]+da[8]||"odd"===da[3])):da[3]&&B.error(da[0]),da},PSEUDO:function(da){var sa,ua=!da[6]&&da[2];return oe.CHILD.test(da[0])?null:(da[3]?da[2]=da[4]||da[5]||"":ua&&wd.test(ua)&&(sa=me(ua,!0))&&(sa=ua.indexOf(")",ua.length-sa)-ua.length)&&(da[0]=da[0].slice(0,sa),da[2]=ua.slice(0,sa)),da.slice(0,3))}},filter:{TAG:function(da){var sa=da.replace(jd,kd).toLowerCase();return"*"===da?function(){return!0}:function(ua){return ua.nodeName&&ua.nodeName.toLowerCase()===sa}},CLASS:function(da){var sa=
$c[da+" "];return sa||(sa=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+da+"([\\x20\\t\\r\\n\\f]|$)"),$c(da,function(ua){return sa.test("string"==typeof ua.className&&ua.className||"undefined"!==typeof ua.getAttribute&&ua.getAttribute("class")||"")}))},ATTR:function(da,sa,ua){return function(ya){ya=B.attr(ya,da);return null==ya?"!="===sa:sa?(ya+="","="===sa?ya===ua:"!="===sa?ya!==ua:"^="===sa?ua&&0===ya.indexOf(ua):"*="===sa?ua&&-1<ya.indexOf(ua):"$="===sa?ua&&ya.slice(-ua.length)===ua:"~="===sa?-1<(" "+ya+
" ").indexOf(ua):"|="===sa?ya===ua||ya.slice(0,ua.length+1)===ua+"-":!1):!0}},CHILD:function(da,sa,ua,ya,Ka){var Ma="nth"!==da.slice(0,3),Ua="last"!==da.slice(-4),eb="of-type"===sa;return 1===ya&&0===Ka?function(ab){return!!ab.parentNode}:function(ab,pb,vb){var Ab;pb=Ma!==Ua?"nextSibling":"previousSibling";var bc=ab.parentNode,Oc=eb&&ab.nodeName.toLowerCase();vb=!vb&&!eb;if(bc){if(Ma){for(;pb;){for(Ab=ab;Ab=Ab[pb];)if(eb?Ab.nodeName.toLowerCase()===Oc:1===Ab.nodeType)return!1;var Lb=pb="only"===da&&
!Lb&&"nextSibling"}return!0}if(Lb=[Ua?bc.firstChild:bc.lastChild],Ua&&vb){vb=bc[zb]||(bc[zb]={});var Eb=vb[da]||[];var jc=Eb[0]===Tb&&Eb[1];var cc=Eb[0]===Tb&&Eb[2];for(Ab=jc&&bc.childNodes[jc];Ab=++jc&&Ab&&Ab[pb]||(cc=jc=0)||Lb.pop();)if(1===Ab.nodeType&&++cc&&Ab===ab){vb[da]=[Tb,jc,cc];break}}else if(vb&&(Eb=(ab[zb]||(ab[zb]={}))[da])&&Eb[0]===Tb)cc=Eb[1];else for(;(Ab=++jc&&Ab&&Ab[pb]||(cc=jc=0)||Lb.pop())&&((eb?Ab.nodeName.toLowerCase()!==Oc:1!==Ab.nodeType)||!++cc||(vb&&((Ab[zb]||(Ab[zb]={}))[da]=
[Tb,cc]),Ab!==ab)););return cc-=Ka,cc===ya||0===cc%ya&&0<=cc/ya}}},PSEUDO:function(da,sa){var ua,ya=Bb.pseudos[da]||Bb.setFilters[da.toLowerCase()]||B.error("unsupported pseudo: "+da);return ya[zb]?ya(sa):1<ya.length?(ua=[da,da,"",sa],Bb.setFilters.hasOwnProperty(da.toLowerCase())?P(function(Ka,Ma){for(var Ua,eb=ya(Ka,sa),ab=eb.length;ab--;)Ua=vd.call(Ka,eb[ab]),Ka[Ua]=!(Ma[Ua]=eb[ab])}):function(Ka){return ya(Ka,0,ua)}):ya}},pseudos:{not:P(function(da){var sa=[],ua=[],ya=wb(da.replace(Id,"$1"));
return ya[zb]?P(function(Ka,Ma,Ua,eb){var ab;Ua=ya(Ka,null,eb,[]);for(eb=Ka.length;eb--;)(ab=Ua[eb])&&(Ka[eb]=!(Ma[eb]=ab))}):function(Ka,Ma,Ua){return sa[0]=Ka,ya(sa,null,Ua,ua),!ua.pop()}}),has:P(function(da){return function(sa){return 0<B(da,sa).length}}),contains:P(function(da){return function(sa){return-1<(sa.textContent||sa.innerText||pe(sa)).indexOf(da)}}),lang:P(function(da){return ne.test(da||"")||B.error("unsupported lang: "+da),da=da.replace(jd,kd).toLowerCase(),function(sa){var ua;do if(ua=
pc?sa.lang:sa.getAttribute("xml:lang")||sa.getAttribute("lang"))return ua=ua.toLowerCase(),ua===da||0===ua.indexOf(da+"-");while((sa=sa.parentNode)&&1===sa.nodeType);return!1}}),target:function(da){var sa=r.location&&r.location.hash;return sa&&sa.slice(1)===da.id},root:function(da){return da===wc},focus:function(da){return da===Pb.activeElement&&(!Pb.hasFocus||Pb.hasFocus())&&!!(da.type||da.href||~da.tabIndex)},enabled:function(da){return!1===da.disabled},disabled:function(da){return!0===da.disabled},
checked:function(da){var sa=da.nodeName.toLowerCase();return"input"===sa&&!!da.checked||"option"===sa&&!!da.selected},selected:function(da){return da.parentNode&&da.parentNode.selectedIndex,!0===da.selected},empty:function(da){for(da=da.firstChild;da;da=da.nextSibling)if(6>da.nodeType)return!1;return!0},parent:function(da){return!Bb.pseudos.empty(da)},header:function(da){return $e.test(da.nodeName)},input:function(da){return Ze.test(da.nodeName)},button:function(da){var sa=da.nodeName.toLowerCase();
return"input"===sa&&"button"===da.type||"button"===sa},text:function(da){var sa;return"input"===da.nodeName.toLowerCase()&&"text"===da.type&&(null==(sa=da.getAttribute("type"))||"text"===sa.toLowerCase())},first:Ja(function(){return[0]}),last:Ja(function(da,sa){return[sa-1]}),eq:Ja(function(da,sa,ua){return[0>ua?ua+sa:ua]}),even:Ja(function(da,sa){for(var ua=0;sa>ua;ua+=2)da.push(ua);return da}),odd:Ja(function(da,sa){for(var ua=1;sa>ua;ua+=2)da.push(ua);return da}),lt:Ja(function(da,sa,ua){for(sa=
0>ua?ua+sa:ua;0<=--sa;)da.push(sa);return da}),gt:Ja(function(da,sa,ua){for(ua=0>ua?ua+sa:ua;++ua<sa;)da.push(ua);return da})}};Bb.pseudos.nth=Bb.pseudos.eq;for(Pc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Bb.pseudos[Pc]=qa(Pc);for(Pc in{submit:!0,reset:!0})Bb.pseudos[Pc]=xa(Pc);Ra.prototype=Bb.filters=Bb.pseudos;Bb.setFilters=new Ra;var me=B.tokenize=function(da,sa){var ua,ya,Ka,Ma,Ua;if(Ma=qc[da+" "])return sa?0:Ma.slice(0);Ma=da;var eb=[];for(Ua=Bb.preFilter;Ma;){ab&&!(ua=Xe.exec(Ma))||
(ua&&(Ma=Ma.slice(ua[0].length)||Ma),eb.push(ya=[]));var ab=!1;(ua=ad.exec(Ma))&&(ab=ua.shift(),ya.push({value:ab,type:ua[0].replace(Id," ")}),Ma=Ma.slice(ab.length));for(Ka in Bb.filter)!(ua=oe[Ka].exec(Ma))||Ua[Ka]&&!(ua=Ua[Ka](ua))||(ab=ua.shift(),ya.push({value:ab,type:Ka,matches:ua}),Ma=Ma.slice(ab.length));if(!ab)break}return sa?Ma.length:Ma?B.error(da):qc(da,eb).slice(0)};return wb=B.compile=function(da,sa){var ua,ya=[],Ka=[],Ma=dc[da+" "];if(!Ma){sa||=me(da);for(ua=sa.length;ua--;)Ma=Kd(sa[ua]),
Ma[zb]?ya.push(Ma):Ka.push(Ma);Ma=dc(da,vc(Ka,ya));Ma.selector=da}return Ma},uc=B.select=function(da,sa,ua,ya){var Ka,Ma,Ua,eb,ab,pb="function"==typeof da&&da,vb=!ya&&me(da=pb.selector||da);if(ua=ua||[],1===vb.length){if(Ma=vb[0]=vb[0].slice(0),2<Ma.length&&"ID"===(Ua=Ma[0]).type&&Vb.getById&&9===sa.nodeType&&pc&&Bb.relative[Ma[1].type]){if(sa=(Bb.find.ID(Ua.matches[0].replace(jd,kd),sa)||[])[0],!sa)return ua;pb&&(sa=sa.parentNode);da=da.slice(Ma.shift().value.length)}for(Ka=oe.needsContext.test(da)?
0:Ma.length;Ka--&&(Ua=Ma[Ka],!Bb.relative[eb=Ua.type]);)if((ab=Bb.find[eb])&&(ya=ab(Ua.matches[0].replace(jd,kd),Fe.test(Ma[0].type)&&za(sa.parentNode)||sa))){if(Ma.splice(Ka,1),da=ya.length&&Za(Ma),!da)return Zc.apply(ua,ya),ua;break}}return(pb||wb(da,vb))(ya,sa,!pc,ua,Fe.test(da)&&za(sa.parentNode)||sa),ua},Vb.sortStable=zb.split("").sort(Qc).join("")===zb,Vb.detectDuplicates=!!Qb,hd(),Vb.sortDetached=U(function(da){return 1&da.compareDocumentPosition(Pb.createElement("div"))}),U(function(da){return da.innerHTML=
"<a href='#'></a>","#"===da.firstChild.getAttribute("href")})||Y("type|href|height|width",function(da,sa,ua){return ua?void 0:da.getAttribute(sa,"type"===sa.toLowerCase()?1:2)}),Vb.attributes&&U(function(da){return da.innerHTML="<input/>",da.firstChild.setAttribute("value",""),""===da.firstChild.getAttribute("value")})||Y("value",function(da,sa,ua){return ua||"input"!==da.nodeName.toLowerCase()?void 0:da.defaultValue}),U(function(da){return null==da.getAttribute("disabled")})||Y("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(da,sa,ua){var ya;return ua?void 0:!0===da[sa]?sa.toLowerCase():(ya=da.getAttributeNode(sa))&&ya.specified?ya.value:null}),B}(d);H.find=ec;H.expr=ec.selectors;H.expr[":"]=H.expr.pseudos;H.unique=ec.uniqueSort;H.text=ec.getText;H.isXMLDoc=ec.isXML;H.contains=ec.contains;var xd=H.expr.match.needsContext,Gc=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fd=/^.[^:#\[\.,]*$/;H.filter=function(r,B,I){var P=B[0];return I&&(r=":not("+r+")"),1===B.length&&1===P.nodeType?H.find.matchesSelector(P,r)?[P]:[]:H.find.matches(r,
H.grep(B,function(U){return 1===U.nodeType}))};H.fn.extend({find:function(r){var B,I=[],P=this,U=P.length;if("string"!=typeof r)return this.pushStack(H(r).filter(function(){for(B=0;U>B;B++)if(H.contains(P[B],this))return!0}));for(B=0;U>B;B++)H.find(r,P[B],I);return I=this.pushStack(1<U?H.unique(I):I),I.selector=this.selector?this.selector+" "+r:r,I},filter:function(r){return this.pushStack(a(this,r||[],!1))},not:function(r){return this.pushStack(a(this,r||[],!0))},is:function(r){return!!a(this,"string"==
typeof r&&xd.test(r)?H(r):r||[],!1).length}});var Pa=d.document,sb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(H.fn.init=function(r,B){var I,P;if(!r)return this;if("string"==typeof r){if(I="<"===r.charAt(0)&&">"===r.charAt(r.length-1)&&3<=r.length?[null,r,null]:sb.exec(r),!I||!I[1]&&B)return!B||B.jquery?(B||nb).find(r):this.constructor(B).find(r);if(I[1]){if(B=B instanceof H?B[0]:B,H.merge(this,H.parseHTML(I[1],B&&B.nodeType?B.ownerDocument||B:Pa,!0)),Gc.test(I[1])&&H.isPlainObject(B))for(I in B)H.isFunction(this[I])?
this[I](B[I]):this.attr(I,B[I]);return this}if(P=Pa.getElementById(I[2]),P&&P.parentNode){if(P.id!==I[2])return nb.find(r);this.length=1;this[0]=P}return this.context=Pa,this.selector=r,this}return r.nodeType?(this.context=this[0]=r,this.length=1,this):H.isFunction(r)?"undefined"!=typeof nb.ready?nb.ready(r):r(H):(void 0!==r.selector&&(this.selector=r.selector,this.context=r.context),H.makeArray(r,this))}).prototype=H.fn;var nb=H(Pa);var yb=/^(?:parents|prev(?:Until|All))/,gb={children:!0,contents:!0,
next:!0,prev:!0};H.extend({dir:function(r,B,I){var P=[];for(r=r[B];r&&9!==r.nodeType&&(void 0===I||1!==r.nodeType||!H(r).is(I));)1===r.nodeType&&P.push(r),r=r[B];return P},sibling:function(r,B){for(var I=[];r;r=r.nextSibling)1===r.nodeType&&r!==B&&I.push(r);return I}});H.fn.extend({has:function(r){var B,I=H(r,this),P=I.length;return this.filter(function(){for(B=0;P>B;B++)if(H.contains(this,I[B]))return!0})},closest:function(r,B){for(var I,P=0,U=this.length,Y=[],fa=xd.test(r)||"string"!=typeof r?H(r,
B||this.context):0;U>P;P++)for(I=this[P];I&&I!==B;I=I.parentNode)if(11>I.nodeType&&(fa?-1<fa.index(I):1===I.nodeType&&H.find.matchesSelector(I,r))){Y.push(I);break}return this.pushStack(1<Y.length?H.unique(Y):Y)},index:function(r){return r?"string"==typeof r?H.inArray(this[0],H(r)):H.inArray(r.jquery?r[0]:r,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,B){return this.pushStack(H.unique(H.merge(this.get(),H(r,B))))},addBack:function(r){return this.add(null==r?this.prevObject:
this.prevObject.filter(r))}});H.each({parent:function(r){return(r=r.parentNode)&&11!==r.nodeType?r:null},parents:function(r){return H.dir(r,"parentNode")},parentsUntil:function(r,B,I){return H.dir(r,"parentNode",I)},next:function(r){return h(r,"nextSibling")},prev:function(r){return h(r,"previousSibling")},nextAll:function(r){return H.dir(r,"nextSibling")},prevAll:function(r){return H.dir(r,"previousSibling")},nextUntil:function(r,B,I){return H.dir(r,"nextSibling",I)},prevUntil:function(r,B,I){return H.dir(r,
"previousSibling",I)},siblings:function(r){return H.sibling((r.parentNode||{}).firstChild,r)},children:function(r){return H.sibling(r.firstChild)},contents:function(r){return H.nodeName(r,"iframe")?r.contentDocument||r.contentWindow.document:H.merge([],r.childNodes)}},function(r,B){H.fn[r]=function(I,P){var U=H.map(this,B,I);return"Until"!==r.slice(-5)&&(P=I),P&&"string"==typeof P&&(U=H.filter(P,U)),1<this.length&&(gb[r]||(U=H.unique(U)),yb.test(r)&&(U=U.reverse())),this.pushStack(U)}});var zc=/\S+/g,
tc={};H.Callbacks=function(r){r="string"==typeof r?tc[r]||f(r):H.extend({},r);var B,I,P,U,Y,fa,qa=[],xa=!r.once&&[],Ja=function(Ra){I=r.memory&&Ra;P=!0;Y=fa||0;fa=0;U=qa.length;for(B=!0;qa&&U>Y;Y++)if(!1===qa[Y].apply(Ra[0],Ra[1])&&r.stopOnFalse){I=!1;break}B=!1;qa&&(xa?xa.length&&Ja(xa.shift()):I?qa=[]:za.disable())},za={add:function(){if(qa){var Ra=qa.length;!function mb(qb){H.each(qb,function(Gb,Yb){Gb=H.type(Yb);"function"===Gb?r.unique&&za.has(Yb)||qa.push(Yb):Yb&&Yb.length&&"string"!==Gb&&mb(Yb)})}(arguments);
B?U=qa.length:I&&(fa=Ra,Ja(I))}return this},remove:function(){return qa&&H.each(arguments,function(Ra,Za){for(var qb;-1<(qb=H.inArray(Za,qa,qb));)qa.splice(qb,1),B&&(U>=qb&&U--,Y>=qb&&Y--)}),this},has:function(Ra){return Ra?-1<H.inArray(Ra,qa):!(!qa||!qa.length)},empty:function(){return qa=[],U=0,this},disable:function(){return qa=xa=I=void 0,this},disabled:function(){return!qa},lock:function(){return xa=void 0,I||za.disable(),this},locked:function(){return!xa},fireWith:function(Ra,Za){return!qa||
P&&!xa||(Za=Za||[],Za=[Ra,Za.slice?Za.slice():Za],B?xa.push(Za):Ja(Za)),this},fire:function(){return za.fireWith(this,arguments),this},fired:function(){return!!P}};return za};H.extend({Deferred:function(r){var B=[["resolve","done",H.Callbacks("once memory"),"resolved"],["reject","fail",H.Callbacks("once memory"),"rejected"],["notify","progress",H.Callbacks("memory")]],I="pending",P={state:function(){return I},always:function(){return U.done(arguments).fail(arguments),this},then:function(){var Y=arguments;
return H.Deferred(function(fa){H.each(B,function(qa,xa){var Ja=H.isFunction(Y[qa])&&Y[qa];U[xa[1]](function(){var za=Ja&&Ja.apply(this,arguments);za&&H.isFunction(za.promise)?za.promise().done(fa.resolve).fail(fa.reject).progress(fa.notify):fa[xa[0]+"With"](this===P?fa.promise():this,Ja?[za]:arguments)})});Y=null}).promise()},promise:function(Y){return null!=Y?H.extend(Y,P):P}},U={};return P.pipe=P.then,H.each(B,function(Y,fa){var qa=fa[2],xa=fa[3];P[fa[1]]=qa.add;xa&&qa.add(function(){I=xa},B[1^
Y][2].disable,B[2][2].lock);U[fa[0]]=function(){return U[fa[0]+"With"](this===U?P:this,arguments),this};U[fa[0]+"With"]=qa.fireWith}),P.promise(U),r&&r.call(U,U),U},when:function(r){var B=0,I=$a.call(arguments),P=I.length,U=1!==P||r&&H.isFunction(r.promise)?P:0,Y=1===U?r:H.Deferred(),fa=function(za,Ra,Za){return function(qb){Ra[za]=this;Za[za]=1<arguments.length?$a.call(arguments):qb;Za===xa?Y.notifyWith(Ra,Za):--U||Y.resolveWith(Ra,Za)}},qa;if(1<P){var xa=Array(P);var Ja=Array(P);for(qa=Array(P);P>
B;B++)I[B]&&H.isFunction(I[B].promise)?I[B].promise().done(fa(B,qa,I)).fail(Y.reject).progress(fa(B,Ja,xa)):--U}return U||Y.resolveWith(qa,I),Y.promise()}});var ld;H.fn.ready=function(r){return H.ready.promise().done(r),this};H.extend({isReady:!1,readyWait:1,holdReady:function(r){r?H.readyWait++:H.ready(!0)},ready:function(r){if(!0===r?!--H.readyWait:!H.isReady){if(!Pa.body)return setTimeout(H.ready);H.isReady=!0;!0!==r&&0<--H.readyWait||(ld.resolveWith(Pa,[H]),H.fn.triggerHandler&&(H(Pa).triggerHandler("ready"),
H(Pa).off("ready")))}}});H.ready.promise=function(r){if(!ld)if(ld=H.Deferred(),"complete"===Pa.readyState)setTimeout(H.ready);else if(Pa.addEventListener)Pa.addEventListener("DOMContentLoaded",e,!1),d.addEventListener("load",e,!1);else{Pa.attachEvent("onreadystatechange",e);d.attachEvent("onload",e);var B=!1;try{B=null==d.frameElement&&Pa.documentElement}catch(I){}B&&B.doScroll&&!function P(){if(!H.isReady){try{B.doScroll("left")}catch(U){return setTimeout(P,50)}g();H.ready()}}()}return ld.promise(r)};
for(var Wc in H(Xa))break;Xa.ownLast="0"!==Wc;Xa.inlineBlockNeedsLayout=!1;H(function(){var r,B,I,P;(I=Pa.getElementsByTagName("body")[0])&&I.style&&(B=Pa.createElement("div"),P=Pa.createElement("div"),P.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",I.appendChild(P).appendChild(B),"undefined"!==typeof B.style.zoom&&(B.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",Xa.inlineBlockNeedsLayout=r=3===B.offsetWidth,r&&(I.style.zoom=1)),I.removeChild(P))});
(function(){var r=Pa.createElement("div");if(null==Xa.deleteExpando){Xa.deleteExpando=!0;try{delete r.test}catch(B){Xa.deleteExpando=!1}}})();H.acceptData=function(r){var B=H.noData[(r.nodeName+" ").toLowerCase()],I=+r.nodeType||1;return 1!==I&&9!==I?!1:!B||!0!==B&&r.getAttribute("classid")===B};var Ac=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tb=/([A-Z])/g;H.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(r){return r=r.nodeType?H.cache[r[H.expando]]:
r[H.expando],!!r&&!p(r)},data:function(r,B,I){return u(r,B,I)},removeData:function(r,B){return c(r,B)},_data:function(r,B,I){return u(r,B,I,!0)},_removeData:function(r,B){return c(r,B,!0)}});H.fn.extend({data:function(r,B){var I,P,U,Y=this[0],fa=Y&&Y.attributes;if(void 0===r){if(this.length&&(U=H.data(Y),1===Y.nodeType&&!H._data(Y,"parsedAttrs"))){for(I=fa.length;I--;)fa[I]&&(P=fa[I].name,0===P.indexOf("data-")&&(P=H.camelCase(P.slice(5)),m(Y,P,U[P])));H._data(Y,"parsedAttrs",!0)}return U}return"object"==
typeof r?this.each(function(){H.data(this,r)}):1<arguments.length?this.each(function(){H.data(this,r,B)}):Y?m(Y,r,H.data(Y,r)):void 0},removeData:function(r){return this.each(function(){H.removeData(this,r)})}});H.extend({queue:function(r,B,I){var P;return r?(B=(B||"fx")+"queue",P=H._data(r,B),I&&(!P||H.isArray(I)?P=H._data(r,B,H.makeArray(I)):P.push(I)),P||[]):void 0},dequeue:function(r,B){B=B||"fx";var I=H.queue(r,B),P=I.length,U=I.shift(),Y=H._queueHooks(r,B),fa=function(){H.dequeue(r,B)};"inprogress"===
U&&(U=I.shift(),P--);U&&("fx"===B&&I.unshift("inprogress"),delete Y.stop,U.call(r,fa,Y));!P&&Y&&Y.empty.fire()},_queueHooks:function(r,B){var I=B+"queueHooks";return H._data(r,I)||H._data(r,I,{empty:H.Callbacks("once memory").add(function(){H._removeData(r,B+"queue");H._removeData(r,I)})})}});H.fn.extend({queue:function(r,B){var I=2;return"string"!=typeof r&&(B=r,r="fx",I--),arguments.length<I?H.queue(this[0],r):void 0===B?this:this.each(function(){var P=H.queue(this,r,B);H._queueHooks(this,r);"fx"===
r&&"inprogress"!==P[0]&&H.dequeue(this,r)})},dequeue:function(r){return this.each(function(){H.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,B){var I,P=1,U=H.Deferred(),Y=this,fa=this.length,qa=function(){--P||U.resolveWith(Y,[Y])};"string"!=typeof r&&(B=r,r=void 0);for(r=r||"fx";fa--;)(I=H._data(Y[fa],r+"queueHooks"))&&I.empty&&(P++,I.empty.add(qa));return qa(),U.promise(B)}});var Dc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Cc=["Top","Right","Bottom",
"Left"],gd=function(r,B){return r=B||r,"none"===H.css(r,"display")||!H.contains(r.ownerDocument,r)},rc=H.access=function(r,B,I,P,U,Y,fa){var qa=0,xa=r.length,Ja=null==I;if("object"===H.type(I))for(qa in U=!0,I)H.access(r,B,qa,I[qa],!0,Y,fa);else if(void 0!==P&&(U=!0,H.isFunction(P)||(fa=!0),Ja&&(fa?(B.call(r,P),B=null):(Ja=B,B=function(za,Ra,Za){return Ja.call(H(za),Za)})),B))for(;xa>qa;qa++)B(r[qa],I,fa?P:P.call(r[qa],qa,B(r[qa],I)));return U?r:Ja?B.call(r):xa?B(r[0],I):Y},Gd=/^(?:checkbox|radio)$/i;
!function(){var r=Pa.createElement("input"),B=Pa.createElement("div"),I=Pa.createDocumentFragment();if(B.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Xa.leadingWhitespace=3===B.firstChild.nodeType,Xa.tbody=!B.getElementsByTagName("tbody").length,Xa.htmlSerialize=!!B.getElementsByTagName("link").length,Xa.html5Clone="<:nav></:nav>"!==Pa.createElement("nav").cloneNode(!0).outerHTML,r.type="checkbox",r.checked=!0,I.appendChild(r),Xa.appendChecked=r.checked,B.innerHTML=
"<textarea>x</textarea>",Xa.noCloneChecked=!!B.cloneNode(!0).lastChild.defaultValue,I.appendChild(B),B.innerHTML="<input type='radio' checked='checked' name='t'/>",Xa.checkClone=B.cloneNode(!0).cloneNode(!0).lastChild.checked,Xa.noCloneEvent=!0,B.attachEvent&&(B.attachEvent("onclick",function(){Xa.noCloneEvent=!1}),B.cloneNode(!0).click()),null==Xa.deleteExpando){Xa.deleteExpando=!0;try{delete B.test}catch(P){Xa.deleteExpando=!1}}}();(function(){var r,B=Pa.createElement("div");for(r in{submit:!0,
change:!0,focusin:!0}){var I="on"+r;(Xa[r+"Bubbles"]=I in d)||(B.setAttribute(I,"t"),Xa[r+"Bubbles"]=!1===B.attributes[I].expando)}})();var Md=/^(?:input|select|textarea)$/i,Va=/^key/,Fb=/^(?:mouse|pointer|contextmenu)|click/,Rc=/^(?:focusinfocus|focusoutblur)$/,Xb=/^([^.]*)(?:\.(.+)|)$/;H.event={global:{},add:function(r,B,I,P,U){var Y,fa,qa,xa,Ja,za,Ra,Za;if(fa=H._data(r)){I.handler&&(qa=I,I=qa.handler,U=qa.selector);I.guid||(I.guid=H.guid++);(Y=fa.events)||(Y=fa.events={});(Ja=fa.handle)||(Ja=fa.handle=
function(Gb){return"undefined"===typeof H||Gb&&H.event.triggered===Gb.type?void 0:H.event.dispatch.apply(Ja.elem,arguments)},Ja.elem=r);B=(B||"").match(zc)||[""];for(fa=B.length;fa--;){var qb=Xb.exec(B[fa])||[];var mb=Za=qb[1];qb=(qb[2]||"").split(".").sort();mb&&(xa=H.event.special[mb]||{},mb=(U?xa.delegateType:xa.bindType)||mb,xa=H.event.special[mb]||{},za=H.extend({type:mb,origType:Za,data:P,handler:I,guid:I.guid,selector:U,needsContext:U&&H.expr.match.needsContext.test(U),namespace:qb.join(".")},
qa),(Ra=Y[mb])||(Ra=Y[mb]=[],Ra.delegateCount=0,xa.setup&&!1!==xa.setup.call(r,P,qb,Ja)||(r.addEventListener?r.addEventListener(mb,Ja,!1):r.attachEvent&&r.attachEvent("on"+mb,Ja))),xa.add&&(xa.add.call(r,za),za.handler.guid||(za.handler.guid=I.guid)),U?Ra.splice(Ra.delegateCount++,0,za):Ra.push(za),H.event.global[mb]=!0)}r=null}},remove:function(r,B,I,P,U){var Y,fa,qa,xa,Ja,za,Ra,Za,qb=H.hasData(r)&&H._data(r);if(qb&&(Ja=qb.events)){B=(B||"").match(zc)||[""];for(xa=B.length;xa--;)if(fa=Xb.exec(B[xa])||
[],za=Za=fa[1],Ra=(fa[2]||"").split(".").sort(),za){var mb=H.event.special[za]||{};za=(P?mb.delegateType:mb.bindType)||za;var Gb=Ja[za]||[];fa=fa[2]&&new RegExp("(^|\\.)"+Ra.join("\\.(?:.*\\.|)")+"(\\.|$)");for(qa=Y=Gb.length;Y--;){var Yb=Gb[Y];!U&&Za!==Yb.origType||I&&I.guid!==Yb.guid||fa&&!fa.test(Yb.namespace)||P&&P!==Yb.selector&&("**"!==P||!Yb.selector)||(Gb.splice(Y,1),Yb.selector&&Gb.delegateCount--,mb.remove&&mb.remove.call(r,Yb))}qa&&!Gb.length&&(mb.teardown&&!1!==mb.teardown.call(r,Ra,qb.handle)||
H.removeEvent(r,za,qb.handle),delete Ja[za])}else for(za in Ja)H.event.remove(r,za+B[xa],I,P,!0);H.isEmptyObject(Ja)&&(delete qb.handle,H._removeData(r,"events"))}},trigger:function(r,B,I,P){var U,Y,fa,qa,xa=[I||Pa],Ja=nc.call(r,"type")?r.type:r;var za=nc.call(r,"namespace")?r.namespace.split("."):[];if(fa=U=I=I||Pa,3!==I.nodeType&&8!==I.nodeType&&!Rc.test(Ja+H.event.triggered)&&(0<=Ja.indexOf(".")&&(za=Ja.split("."),Ja=za.shift(),za.sort()),Y=0>Ja.indexOf(":")&&"on"+Ja,r=r[H.expando]?r:new H.Event(Ja,
"object"==typeof r&&r),r.isTrigger=P?2:3,r.namespace=za.join("."),r.namespace_re=r.namespace?new RegExp("(^|\\.)"+za.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=I),B=null==B?[r]:H.makeArray(B,[r]),qa=H.event.special[Ja]||{},P||!qa.trigger||!1!==qa.trigger.apply(I,B))){if(!P&&!qa.noBubble&&!H.isWindow(I)){var Ra=qa.delegateType||Ja;for(Rc.test(Ra+Ja)||(fa=fa.parentNode);fa;fa=fa.parentNode)xa.push(fa),U=fa;U===(I.ownerDocument||Pa)&&xa.push(U.defaultView||U.parentWindow||
d)}for(za=0;(fa=xa[za++])&&!r.isPropagationStopped();)r.type=1<za?Ra:qa.bindType||Ja,(U=(H._data(fa,"events")||{})[r.type]&&H._data(fa,"handle"))&&U.apply(fa,B),(U=Y&&fa[Y])&&U.apply&&H.acceptData(fa)&&(r.result=U.apply(fa,B),!1===r.result&&r.preventDefault());if(r.type=Ja,!(P||r.isDefaultPrevented()||qa._default&&!1!==qa._default.apply(xa.pop(),B))&&H.acceptData(I)&&Y&&I[Ja]&&!H.isWindow(I)){(U=I[Y])&&(I[Y]=null);H.event.triggered=Ja;try{I[Ja]()}catch(Za){}H.event.triggered=void 0;U&&(I[Y]=U)}return r.result}},
dispatch:function(r){r=H.event.fix(r);var B,I,P,U,Y=$a.call(arguments);var fa=(H._data(this,"events")||{})[r.type]||[];var qa=H.event.special[r.type]||{};if(Y[0]=r,r.delegateTarget=this,!qa.preDispatch||!1!==qa.preDispatch.call(this,r)){var xa=H.event.handlers.call(this,r,fa);for(fa=0;(P=xa[fa++])&&!r.isPropagationStopped();)for(r.currentTarget=P.elem,U=0;(I=P.handlers[U++])&&!r.isImmediatePropagationStopped();)r.namespace_re&&!r.namespace_re.test(I.namespace)||(r.handleObj=I,r.data=I.data,B=((H.event.special[I.origType]||
{}).handle||I.handler).apply(P.elem,Y),void 0===B||!1!==(r.result=B)||(r.preventDefault(),r.stopPropagation()));return qa.postDispatch&&qa.postDispatch.call(this,r),r.result}},handlers:function(r,B){var I,P=[],U=B.delegateCount,Y=r.target;if(U&&Y.nodeType&&(!r.button||"click"!==r.type))for(;Y!=this;Y=Y.parentNode||this)if(1===Y.nodeType&&(!0!==Y.disabled||"click"!==r.type)){var fa=[];for(I=0;U>I;I++){var qa=B[I];var xa=qa.selector+" ";void 0===fa[xa]&&(fa[xa]=qa.needsContext?0<=H(xa,this).index(Y):
H.find(xa,this,null,[Y]).length);fa[xa]&&fa.push(qa)}fa.length&&P.push({elem:Y,handlers:fa})}return U<B.length&&P.push({elem:this,handlers:B.slice(U)}),P},fix:function(r){if(r[H.expando])return r;var B=r.type;var I=r,P=this.fixHooks[B];P||(this.fixHooks[B]=P=Fb.test(B)?this.mouseHooks:Va.test(B)?this.keyHooks:{});var U=P.props?this.props.concat(P.props):this.props;r=new H.Event(I);for(B=U.length;B--;){var Y=U[B];r[Y]=I[Y]}return r.target||(r.target=I.srcElement||Pa),3===r.target.nodeType&&(r.target=
r.target.parentNode),r.metaKey=!!r.metaKey,P.filter?P.filter(r,I):r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(r,B){return null==r.which&&(r.which=null!=B.charCode?B.charCode:B.keyCode),r}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(r,
B){var I,P,U,Y=B.button,fa=B.fromElement;return null==r.pageX&&null!=B.clientX&&(P=r.target.ownerDocument||Pa,U=P.documentElement,I=P.body,r.pageX=B.clientX+(U&&U.scrollLeft||I&&I.scrollLeft||0)-(U&&U.clientLeft||I&&I.clientLeft||0),r.pageY=B.clientY+(U&&U.scrollTop||I&&I.scrollTop||0)-(U&&U.clientTop||I&&I.clientTop||0)),!r.relatedTarget&&fa&&(r.relatedTarget=fa===r.target?B.toElement:fa),r.which||void 0===Y||(r.which=1&Y?1:2&Y?3:4&Y?2:0),r}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
w()&&this.focus)try{return this.focus(),!1}catch(r){}},delegateType:"focusin"},blur:{trigger:function(){return this===w()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return H.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(r){return H.nodeName(r.target,"a")}},beforeunload:{postDispatch:function(r){void 0!==r.result&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}},simulate:function(r,B,I,P){r=
H.extend(new H.Event,I,{type:r,isSimulated:!0,originalEvent:{}});P?H.event.trigger(r,null,B):H.event.dispatch.call(B,r);r.isDefaultPrevented()&&I.preventDefault()}};H.removeEvent=Pa.removeEventListener?function(r,B,I){r.removeEventListener&&r.removeEventListener(B,I,!1)}:function(r,B,I){B="on"+B;r.detachEvent&&("undefined"===typeof r[B]&&(r[B]=null),r.detachEvent(B,I))};H.Event=function(r,B){return this instanceof H.Event?(r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||
void 0===r.defaultPrevented&&!1===r.returnValue?l:n):this.type=r,B&&H.extend(this,B),this.timeStamp=r&&r.timeStamp||H.now(),void(this[H.expando]=!0)):new H.Event(r,B)};H.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=l;r&&(r.preventDefault?r.preventDefault():r.returnValue=!1)},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=l;r&&(r.stopPropagation&&
r.stopPropagation(),r.cancelBubble=!0)},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=l;r&&r.stopImmediatePropagation&&r.stopImmediatePropagation();this.stopPropagation()}};H.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,B){H.event.special[r]={delegateType:B,bindType:B,handle:function(I){var P,U=I.relatedTarget,Y=I.handleObj;return(!U||U!==this&&!H.contains(this,U))&&(I.type=Y.origType,
P=Y.handler.apply(this,arguments),I.type=B),P}}});Xa.submitBubbles||(H.event.special.submit={setup:function(){return H.nodeName(this,"form")?!1:void H.event.add(this,"click._submit keypress._submit",function(r){r=r.target;(r=H.nodeName(r,"input")||H.nodeName(r,"button")?r.form:void 0)&&!H._data(r,"submitBubbles")&&(H.event.add(r,"submit._submit",function(B){B._submit_bubble=!0}),H._data(r,"submitBubbles",!0))})},postDispatch:function(r){r._submit_bubble&&(delete r._submit_bubble,this.parentNode&&
!r.isTrigger&&H.event.simulate("submit",this.parentNode,r,!0))},teardown:function(){return H.nodeName(this,"form")?!1:void H.event.remove(this,"._submit")}});Xa.changeBubbles||(H.event.special.change={setup:function(){return Md.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(H.event.add(this,"propertychange._change",function(r){"checked"===r.originalEvent.propertyName&&(this._just_changed=!0)}),H.event.add(this,"click._change",function(r){this._just_changed&&!r.isTrigger&&(this._just_changed=
!1);H.event.simulate("change",this,r,!0)})),!1):void H.event.add(this,"beforeactivate._change",function(r){r=r.target;Md.test(r.nodeName)&&!H._data(r,"changeBubbles")&&(H.event.add(r,"change._change",function(B){!this.parentNode||B.isSimulated||B.isTrigger||H.event.simulate("change",this.parentNode,B,!0)}),H._data(r,"changeBubbles",!0))})},handle:function(r){var B=r.target;return this!==B||r.isSimulated||r.isTrigger||"radio"!==B.type&&"checkbox"!==B.type?r.handleObj.handler.apply(this,arguments):
void 0},teardown:function(){return H.event.remove(this,"._change"),!Md.test(this.nodeName)}});Xa.focusinBubbles||H.each({focus:"focusin",blur:"focusout"},function(r,B){var I=function(P){H.event.simulate(B,P.target,H.event.fix(P),!0)};H.event.special[B]={setup:function(){var P=this.ownerDocument||this,U=H._data(P,B);U||P.addEventListener(r,I,!0);H._data(P,B,(U||0)+1)},teardown:function(){var P=this.ownerDocument||this,U=H._data(P,B)-1;U?H._data(P,B,U):(P.removeEventListener(r,I,!0),H._removeData(P,
B))}}});H.fn.extend({on:function(r,B,I,P,U){var Y,fa;if("object"==typeof r){"string"!=typeof B&&(I=I||B,B=void 0);for(Y in r)this.on(Y,B,I,r[Y],U);return this}if(null==I&&null==P?(P=B,I=B=void 0):null==P&&("string"==typeof B?(P=I,I=void 0):(P=I,I=B,B=void 0)),!1===P)P=n;else if(!P)return this;return 1===U&&(fa=P,P=function(qa){return H().off(qa),fa.apply(this,arguments)},P.guid=fa.guid||(fa.guid=H.guid++)),this.each(function(){H.event.add(this,r,P,I,B)})},one:function(r,B,I,P){return this.on(r,B,
I,P,1)},off:function(r,B,I){var P,U;if(r&&r.preventDefault&&r.handleObj)return P=r.handleObj,H(r.delegateTarget).off(P.namespace?P.origType+"."+P.namespace:P.origType,P.selector,P.handler),this;if("object"==typeof r){for(U in r)this.off(U,B,r[U]);return this}return(!1===B||"function"==typeof B)&&(I=B,B=void 0),!1===I&&(I=n),this.each(function(){H.event.remove(this,r,I,B)})},trigger:function(r,B){return this.each(function(){H.event.trigger(r,B,this)})},triggerHandler:function(r,B){var I=this[0];return I?
H.event.trigger(r,B,I,!0):void 0}});var Bc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",yd=/ jQuery\d+="(?:null|\d+)"/g,bf=new RegExp("<(?:"+Bc+")[\\s/>]","i"),mc=/^\s+/,Xd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Yd=/<([\w:]+)/,cf=/<tbody/i,gg=/<|&#?\w+;/,hg=/<(?:script|style|link)/i,ig=/checked\s*(?:[^=]|=\s*.checked.)/i,df=/^$|\/(?:java|ecma)script/i,
ag=/^true\/(.*)/,jg=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Hc={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:Xa.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},He=z(Pa).appendChild(Pa.createElement("div"));
Hc.optgroup=Hc.option;Hc.tbody=Hc.tfoot=Hc.colgroup=Hc.caption=Hc.thead;Hc.th=Hc.td;H.extend({clone:function(r,B,I){var P,U,Y,fa=H.contains(r.ownerDocument,r);if(Xa.html5Clone||H.isXMLDoc(r)||!bf.test("<"+r.nodeName+">")?U=r.cloneNode(!0):(He.innerHTML=r.outerHTML,He.removeChild(U=He.firstChild)),!(Xa.noCloneEvent&&Xa.noCloneChecked||1!==r.nodeType&&11!==r.nodeType||H.isXMLDoc(r))){var qa=x(U);var xa=x(r);for(Y=0;null!=(P=xa[Y]);++Y)if(qa[Y]){var Ja=void 0,za,Ra=P,Za=qa[Y];if(1===Za.nodeType){if(za=
Za.nodeName.toLowerCase(),!Xa.noCloneEvent&&Za[H.expando]){P=H._data(Za);for(Ja in P.events)H.removeEvent(Za,Ja,P.handle);Za.removeAttribute(H.expando)}"script"===za&&Za.text!==Ra.text?(K(Za).text=Ra.text,D(Za)):"object"===za?(Za.parentNode&&(Za.outerHTML=Ra.outerHTML),Xa.html5Clone&&Ra.innerHTML&&!H.trim(Za.innerHTML)&&(Za.innerHTML=Ra.innerHTML)):"input"===za&&Gd.test(Ra.type)?(Za.defaultChecked=Za.checked=Ra.checked,Za.value!==Ra.value&&(Za.value=Ra.value)):"option"===za?Za.defaultSelected=Za.selected=
Ra.defaultSelected:("input"===za||"textarea"===za)&&(Za.defaultValue=Ra.defaultValue)}}}if(B)if(I)for(xa=xa||x(r),qa=qa||x(U),Y=0;null!=(P=xa[Y]);Y++)Q(P,qa[Y]);else Q(r,U);return qa=x(U,"script"),0<qa.length&&M(qa,!fa&&x(r,"script")),U},buildFragment:function(r,B,I,P){for(var U,Y,fa,qa,xa,Ja,za,Ra=r.length,Za=z(B),qb=[],mb=0;Ra>mb;mb++)if(Y=r[mb],Y||0===Y)if("object"===H.type(Y))H.merge(qb,Y.nodeType?[Y]:Y);else if(gg.test(Y)){qa=qa||Za.appendChild(B.createElement("div"));xa=(Yd.exec(Y)||["",""])[1].toLowerCase();
za=Hc[xa]||Hc._default;qa.innerHTML=za[1]+Y.replace(Xd,"<$1></$2>")+za[2];for(U=za[0];U--;)qa=qa.lastChild;if(!Xa.leadingWhitespace&&mc.test(Y)&&qb.push(B.createTextNode(mc.exec(Y)[0])),!Xa.tbody)for(U=(Y="table"!==xa||cf.test(Y)?"<table>"!==za[1]||cf.test(Y)?0:qa:qa.firstChild)&&Y.childNodes.length;U--;)H.nodeName(Ja=Y.childNodes[U],"tbody")&&!Ja.childNodes.length&&Y.removeChild(Ja);H.merge(qb,qa.childNodes);for(qa.textContent="";qa.firstChild;)qa.removeChild(qa.firstChild);qa=Za.lastChild}else qb.push(B.createTextNode(Y));
qa&&Za.removeChild(qa);Xa.appendChecked||H.grep(x(qb,"input"),J);for(mb=0;Y=qb[mb++];)if((!P||-1===H.inArray(Y,P))&&(fa=H.contains(Y.ownerDocument,Y),qa=x(Za.appendChild(Y),"script"),fa&&M(qa),I))for(U=0;Y=qa[U++];)df.test(Y.type||"")&&I.push(Y);return Za},cleanData:function(r,B){for(var I,P,U,Y,fa=0,qa=H.expando,xa=H.cache,Ja=Xa.deleteExpando,za=H.event.special;null!=(I=r[fa]);fa++)if((B||H.acceptData(I))&&(U=I[qa],Y=U&&xa[U])){if(Y.events)for(P in Y.events)za[P]?H.event.remove(I,P):H.removeEvent(I,
P,Y.handle);xa[U]&&(delete xa[U],Ja?delete I[qa]:"undefined"!==typeof I.removeAttribute?I.removeAttribute(qa):I[qa]=null,cb.push(U))}}});H.fn.extend({text:function(r){return rc(this,function(B){return void 0===B?H.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Pa).createTextNode(B))},null,r,arguments.length)},append:function(){return this.domManip(arguments,function(r){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||v(this,r).appendChild(r)})},prepend:function(){return this.domManip(arguments,
function(r){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var B=v(this,r);B.insertBefore(r,B.firstChild)}})},before:function(){return this.domManip(arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return this.domManip(arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},remove:function(r,B){for(var I=r?H.filter(r,this):this,P=0;null!=(r=I[P]);P++)B||1!==r.nodeType||H.cleanData(x(r)),r.parentNode&&(B&&
H.contains(r.ownerDocument,r)&&M(x(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var r,B=0;null!=(r=this[B]);B++){for(1===r.nodeType&&H.cleanData(x(r,!1));r.firstChild;)r.removeChild(r.firstChild);r.options&&H.nodeName(r,"select")&&(r.options.length=0)}return this},clone:function(r,B){return r=null==r?!1:r,B=null==B?r:B,this.map(function(){return H.clone(this,r,B)})},html:function(r){return rc(this,function(B){var I=this[0]||{},P=0,U=this.length;if(void 0===B)return 1===
I.nodeType?I.innerHTML.replace(yd,""):void 0;if(!("string"!=typeof B||hg.test(B)||!Xa.htmlSerialize&&bf.test(B)||!Xa.leadingWhitespace&&mc.test(B)||Hc[(Yd.exec(B)||["",""])[1].toLowerCase()])){B=B.replace(Xd,"<$1></$2>");try{for(;U>P;P++)I=this[P]||{},1===I.nodeType&&(H.cleanData(x(I,!1)),I.innerHTML=B);I=0}catch(Y){}}I&&this.empty().append(B)},null,r,arguments.length)},replaceWith:function(){var r=arguments[0];return this.domManip(arguments,function(B){r=this.parentNode;H.cleanData(x(this));r&&r.replaceChild(B,
this)}),r&&(r.length||r.nodeType)?this:this.remove()},detach:function(r){return this.remove(r,!0)},domManip:function(r,B){r=rb.apply([],r);var I,P,U,Y=0,fa=this.length,qa=this,xa=fa-1,Ja=r[0],za=H.isFunction(Ja);if(za||1<fa&&"string"==typeof Ja&&!Xa.checkClone&&ig.test(Ja))return this.each(function(Za){var qb=qa.eq(Za);za&&(r[0]=Ja.call(this,Za,qb.html()));qb.domManip(r,B)});if(fa&&(U=H.buildFragment(r,this[0].ownerDocument,!1,this),I=U.firstChild,1===U.childNodes.length&&(U=I),I)){var Ra=H.map(x(U,
"script"),K);for(P=Ra.length;fa>Y;Y++)I=U,Y!==xa&&(I=H.clone(I,!0,!0),P&&H.merge(Ra,x(I,"script"))),B.call(this[Y],I,Y);if(P)for(U=Ra[Ra.length-1].ownerDocument,H.map(Ra,D),Y=0;P>Y;Y++)I=Ra[Y],df.test(I.type||"")&&!H._data(I,"globalEval")&&H.contains(U,I)&&(I.src?H._evalUrl&&H._evalUrl(I.src):H.globalEval((I.text||I.textContent||I.innerHTML||"").replace(jg,"")));U=I=null}return this}});H.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(r,B){H.fn[r]=function(I){for(var P=0,U=[],Y=H(I),fa=Y.length-1;fa>=P;P++)I=P===fa?this:this.clone(!0),H(Y[P])[B](I),Hb.apply(U,I.get());return this.pushStack(U)}});var Hd,We={};!function(){var r;Xa.shrinkWrapBlocks=function(){if(null!=r)return r;r=!1;var B,I,P;return I=Pa.getElementsByTagName("body")[0],I&&I.style?(B=Pa.createElement("div"),P=Pa.createElement("div"),P.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",I.appendChild(P).appendChild(B),"undefined"!==
typeof B.style.zoom&&(B.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",B.appendChild(Pa.createElement("div")).style.width="5px",r=3!==B.offsetWidth),I.removeChild(P),r):void 0}}();var ef=/^margin/,ke=new RegExp("^("+Dc+")(?!px)[a-z%]+$","i"),rd,sd,kg=/^(top|right|bottom|left)$/;d.getComputedStyle?(rd=function(r){return r.ownerDocument.defaultView.getComputedStyle(r,null)},sd=function(r,
B,I){var P,U,Y,fa,qa=r.style;return I=I||rd(r),fa=I?I.getPropertyValue(B)||I[B]:void 0,I&&(""!==fa||H.contains(r.ownerDocument,r)||(fa=H.style(r,B)),ke.test(fa)&&ef.test(B)&&(P=qa.width,U=qa.minWidth,Y=qa.maxWidth,qa.minWidth=qa.maxWidth=qa.width=fa,fa=I.width,qa.width=P,qa.minWidth=U,qa.maxWidth=Y)),void 0===fa?fa:fa+""}):Pa.documentElement.currentStyle&&(rd=function(r){return r.currentStyle},sd=function(r,B,I){var P,U,Y,fa,qa=r.style;return I=I||rd(r),fa=I?I[B]:void 0,null==fa&&qa&&qa[B]&&(fa=qa[B]),
ke.test(fa)&&!kg.test(B)&&(P=qa.left,U=r.runtimeStyle,Y=U&&U.left,Y&&(U.left=r.currentStyle.left),qa.left="fontSize"===B?"1em":fa,fa=qa.pixelLeft+"px",qa.left=P,Y&&(U.left=Y)),void 0===fa?fa:fa+""||"auto"});!function(){var r,B,I,P,U,Y,fa;if(r=Pa.createElement("div"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",I=r.getElementsByTagName("a")[0],B=I&&I.style){B.cssText="float:left;opacity:.5";Xa.opacity="0.5"===B.opacity;Xa.cssFloat=!!B.cssFloat;r.style.backgroundClip=
"content-box";r.cloneNode(!0).style.backgroundClip="";Xa.clearCloneStyle="content-box"===r.style.backgroundClip;Xa.boxSizing=""===B.boxSizing||""===B.MozBoxSizing||""===B.WebkitBoxSizing;H.extend(Xa,{reliableHiddenOffsets:function(){return null==Y&&qa(),Y},boxSizingReliable:function(){return null==U&&qa(),U},pixelPosition:function(){return null==P&&qa(),P},reliableMarginRight:function(){return null==fa&&qa(),fa}});function qa(){var xa,Ja,za,Ra;(Ja=Pa.getElementsByTagName("body")[0])&&Ja.style&&(xa=
Pa.createElement("div"),za=Pa.createElement("div"),za.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",Ja.appendChild(za).appendChild(xa),xa.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",P=U=!1,fa=!0,d.getComputedStyle&&(P="1%"!==(d.getComputedStyle(xa,null)||{}).top,U="4px"===(d.getComputedStyle(xa,null)||{width:"4px"}).width,Ra=xa.appendChild(Pa.createElement("div")),
Ra.style.cssText=xa.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",Ra.style.marginRight=Ra.style.width="0",xa.style.width="1px",fa=!parseFloat((d.getComputedStyle(Ra,null)||{}).marginRight)),xa.innerHTML="<table><tr><td></td><td>t</td></tr></table>",Ra=xa.getElementsByTagName("td"),Ra[0].style.cssText="margin:0;border:0;padding:0;display:none",Y=0===Ra[0].offsetHeight,Y&&(Ra[0].style.display="",Ra[1].style.display=
"none",Y=0===Ra[0].offsetHeight),Ja.removeChild(za))}}}();H.swap=function(r,B,I,P){var U,Y={};for(U in B)Y[U]=r.style[U],r.style[U]=B[U];I=I.apply(r,P||[]);for(U in B)r.style[U]=Y[U];return I};var Zd=/alpha\([^)]*\)/i,ff=/opacity\s*=\s*([^)]*)/,qe=/^(none|table(?!-c[ea]).+)/,Ee=new RegExp("^("+Dc+")(.*)$","i"),gf=new RegExp("^([+-])=("+Dc+")","i"),lg={position:"absolute",visibility:"hidden",display:"block"},md={letterSpacing:"0",fontWeight:"400"},Vd=["Webkit","O","Moz","ms"];H.extend({cssHooks:{opacity:{get:function(r,
B){if(B)return r=sd(r,"opacity"),""===r?"1":r}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Xa.cssFloat?"cssFloat":"styleFloat"},style:function(r,B,I,P){if(r&&3!==r.nodeType&&8!==r.nodeType&&r.style){var U,Y,fa,qa=H.camelCase(B),xa=r.style;if(B=H.cssProps[qa]||(H.cssProps[qa]=R(xa,qa)),fa=H.cssHooks[B]||H.cssHooks[qa],void 0===I)return fa&&"get"in fa&&void 0!==(U=fa.get(r,
!1,P))?U:xa[B];if(Y=typeof I,"string"===Y&&(U=gf.exec(I))&&(I=(U[1]+1)*U[2]+parseFloat(H.css(r,B)),Y="number"),null!=I&&I===I&&("number"!==Y||H.cssNumber[qa]||(I+="px"),Xa.clearCloneStyle||""!==I||0!==B.indexOf("background")||(xa[B]="inherit"),!(fa&&"set"in fa&&void 0===(I=fa.set(r,I,P)))))try{xa[B]=I}catch(Ja){}}},css:function(r,B,I,P){var U,Y,fa,qa=H.camelCase(B);return B=H.cssProps[qa]||(H.cssProps[qa]=R(r.style,qa)),fa=H.cssHooks[B]||H.cssHooks[qa],fa&&"get"in fa&&(Y=fa.get(r,!0,I)),void 0===
Y&&(Y=sd(r,B,P)),"normal"===Y&&B in md&&(Y=md[B]),""===I||I?(U=parseFloat(Y),!0===I||H.isNumeric(U)?U||0:Y):Y}});H.each(["height","width"],function(r,B){H.cssHooks[B]={get:function(I,P,U){return P?qe.test(H.css(I,"display"))&&0===I.offsetWidth?H.swap(I,lg,function(){return Ia(I,B,U)}):Ia(I,B,U):void 0},set:function(I,P,U){var Y=U&&rd(I);return ha(I,P,U?ra(I,B,U,Xa.boxSizing&&"border-box"===H.css(I,"boxSizing",!1,Y),Y):0)}}});Xa.opacity||(H.cssHooks.opacity={get:function(r,B){return ff.test((B&&r.currentStyle?
r.currentStyle.filter:r.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":B?"1":""},set:function(r,B){var I=r.style;r=r.currentStyle;var P=H.isNumeric(B)?"alpha(opacity="+100*B+")":"",U=r&&r.filter||I.filter||"";I.zoom=1;(1<=B||""===B)&&""===H.trim(U.replace(Zd,""))&&I.removeAttribute&&(I.removeAttribute("filter"),""===B||r&&!r.filter)||(I.filter=Zd.test(U)?U.replace(Zd,P):U+" "+P)}});H.cssHooks.marginRight=S(Xa.reliableMarginRight,function(r,B){return B?H.swap(r,{display:"inline-block"},sd,[r,"marginRight"]):
void 0});H.each({margin:"",padding:"",border:"Width"},function(r,B){H.cssHooks[r+B]={expand:function(I){var P=0,U={};for(I="string"==typeof I?I.split(" "):[I];4>P;P++)U[r+Cc[P]+B]=I[P]||I[P-2]||I[0];return U}};ef.test(r)||(H.cssHooks[r+B].set=ha)});H.fn.extend({css:function(r,B){return rc(this,function(I,P,U){var Y,fa={},qa=0;if(H.isArray(P)){U=rd(I);for(Y=P.length;Y>qa;qa++)fa[P[qa]]=H.css(I,P[qa],!1,U);return fa}return void 0!==U?H.style(I,P,U):H.css(I,P)},r,B,1<arguments.length)},show:function(){return ca(this,
!0)},hide:function(){return ca(this)},toggle:function(r){return"boolean"==typeof r?r?this.show():this.hide():this.each(function(){gd(this)?H(this).show():H(this).hide()})}});H.Tween=ja;ja.prototype={constructor:ja,init:function(r,B,I,P,U,Y){this.elem=r;this.prop=I;this.easing=U||"swing";this.options=B;this.start=this.now=this.cur();this.end=P;this.unit=Y||(H.cssNumber[I]?"":"px")},cur:function(){var r=ja.propHooks[this.prop];return r&&r.get?r.get(this):ja.propHooks._default.get(this)},run:function(r){var B,
I=ja.propHooks[this.prop];return this.pos=B=this.options.duration?H.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):r,this.now=(this.end-this.start)*B+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),I&&I.set?I.set(this):ja.propHooks._default.set(this),this}};ja.prototype.init.prototype=ja.prototype;ja.propHooks={_default:{get:function(r){var B;return null==r.elem[r.prop]||r.elem.style&&null!=r.elem.style[r.prop]?(B=H.css(r.elem,r.prop,""),B&&
"auto"!==B?B:0):r.elem[r.prop]},set:function(r){H.fx.step[r.prop]?H.fx.step[r.prop](r):r.elem.style&&(null!=r.elem.style[H.cssProps[r.prop]]||H.cssHooks[r.prop])?H.style(r.elem,r.prop,r.now+r.unit):r.elem[r.prop]=r.now}}};ja.propHooks.scrollTop=ja.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}};H.easing={linear:function(r){return r},swing:function(r){return.5-Math.cos(r*Math.PI)/2}};H.fx=ja.prototype.init;H.fx.step={};var Nc,$d,re=/^(?:toggle|show|hide)$/,
ae=new RegExp("^(?:([+-])=|)("+Dc+")([a-z%]*)$","i"),se=/queueHooks$/,ud=[function(r,B,I){var P,U,Y,fa,qa,xa,Ja,za=this,Ra={},Za=r.style,qb=r.nodeType&&gd(r),mb=H._data(r,"fxshow");I.queue||(fa=H._queueHooks(r,"fx"),null==fa.unqueued&&(fa.unqueued=0,qa=fa.empty.fire,fa.empty.fire=function(){fa.unqueued||qa()}),fa.unqueued++,za.always(function(){za.always(function(){fa.unqueued--;H.queue(r,"fx").length||fa.empty.fire()})}));1===r.nodeType&&("height"in B||"width"in B)&&(I.overflow=[Za.overflow,Za.overflowX,
Za.overflowY],xa=H.css(r,"display"),Ja="none"===xa?H._data(r,"olddisplay")||T(r.nodeName):xa,"inline"===Ja&&"none"===H.css(r,"float")&&(Xa.inlineBlockNeedsLayout&&"inline"!==T(r.nodeName)?Za.zoom=1:Za.display="inline-block"));I.overflow&&(Za.overflow="hidden",Xa.shrinkWrapBlocks()||za.always(function(){Za.overflow=I.overflow[0];Za.overflowX=I.overflow[1];Za.overflowY=I.overflow[2]}));for(P in B)if(U=B[P],re.exec(U)){if(delete B[P],Y=Y||"toggle"===U,U===(qb?"hide":"show")){if("show"!==U||!mb||void 0===
mb[P])continue;qb=!0}Ra[P]=mb&&mb[P]||H.style(r,P)}else xa=void 0;if(H.isEmptyObject(Ra))"inline"===("none"===xa?T(r.nodeName):xa)&&(Za.display=xa);else for(P in mb?"hidden"in mb&&(qb=mb.hidden):mb=H._data(r,"fxshow",{}),Y&&(mb.hidden=!qb),qb?H(r).show():za.done(function(){H(r).hide()}),za.done(function(){var Gb;H._removeData(r,"fxshow");for(Gb in Ra)H.style(r,Gb,Ra[Gb])}),Ra)B=Da(qb?mb[P]:0,P,za),P in mb||(mb[P]=B.start,qb&&(B.end=B.start,B.start="width"===P||"height"===P?1:0))}],td={"*":[function(r,
B){var I=this.createTween(r,B),P=I.cur(),U=(B=ae.exec(B))&&B[3]||(H.cssNumber[r]?"":"px"),Y=(H.cssNumber[r]||"px"!==U&&+P)&&ae.exec(H.css(I.elem,r)),fa=1,qa=20;if(Y&&Y[3]!==U){U=U||Y[3];B=B||[];Y=+P||1;do fa=fa||".5",Y/=fa,H.style(I.elem,r,Y+U);while(fa!==(fa=I.cur()/P)&&1!==fa&&--qa)}return B&&(Y=I.start=+Y||+P||0,I.unit=U,I.end=B[1]?Y+(B[1]+1)*B[2]:+B[2]),I}]};H.Animation=H.extend(Oa,{tweener:function(r,B){H.isFunction(r)?(B=r,r=["*"]):r=r.split(" ");for(var I,P=0,U=r.length;U>P;P++)I=r[P],td[I]=
td[I]||[],td[I].unshift(B)},prefilter:function(r,B){B?ud.unshift(r):ud.push(r)}});H.speed=function(r,B,I){var P=r&&"object"==typeof r?H.extend({},r):{complete:I||!I&&B||H.isFunction(r)&&r,duration:r,easing:I&&B||B&&!H.isFunction(B)&&B};return P.duration=H.fx.off?0:"number"==typeof P.duration?P.duration:P.duration in H.fx.speeds?H.fx.speeds[P.duration]:H.fx.speeds._default,(null==P.queue||!0===P.queue)&&(P.queue="fx"),P.old=P.complete,P.complete=function(){H.isFunction(P.old)&&P.old.call(this);P.queue&&
H.dequeue(this,P.queue)},P};H.fn.extend({fadeTo:function(r,B,I,P){return this.filter(gd).css("opacity",0).show().end().animate({opacity:B},r,I,P)},animate:function(r,B,I,P){var U=H.isEmptyObject(r),Y=H.speed(B,I,P);B=function(){var fa=Oa(this,H.extend({},r),Y);(U||H._data(this,"finish"))&&fa.stop(!0)};return B.finish=B,U||!1===Y.queue?this.each(B):this.queue(Y.queue,B)},stop:function(r,B,I){var P=function(U){var Y=U.stop;delete U.stop;Y(I)};return"string"!=typeof r&&(I=B,B=r,r=void 0),B&&!1!==r&&
this.queue(r||"fx",[]),this.each(function(){var U=!0,Y=null!=r&&r+"queueHooks",fa=H.timers,qa=H._data(this);if(Y)qa[Y]&&qa[Y].stop&&P(qa[Y]);else for(Y in qa)qa[Y]&&qa[Y].stop&&se.test(Y)&&P(qa[Y]);for(Y=fa.length;Y--;)fa[Y].elem!==this||null!=r&&fa[Y].queue!==r||(fa[Y].anim.stop(I),U=!1,fa.splice(Y,1));!U&&I||H.dequeue(this,r)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var B=H._data(this),I=B[r+"queue"];var P=B[r+"queueHooks"];var U=H.timers,Y=I?I.length:0;B.finish=!0;H.queue(this,
r,[]);P&&P.stop&&P.stop.call(this,!0);for(P=U.length;P--;)U[P].elem===this&&U[P].queue===r&&(U[P].anim.stop(!0),U.splice(P,1));for(P=0;Y>P;P++)I[P]&&I[P].finish&&I[P].finish.call(this);delete B.finish})}});H.each(["toggle","show","hide"],function(r,B){var I=H.fn[B];H.fn[B]=function(P,U,Y){return null==P||"boolean"==typeof P?I.apply(this,arguments):this.animate(Aa(B,!0),P,U,Y)}});H.each({slideDown:Aa("show"),slideUp:Aa("hide"),slideToggle:Aa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(r,B){H.fn[r]=function(I,P,U){return this.animate(B,I,P,U)}});H.timers=[];H.fx.tick=function(){var r=H.timers,B=0;for(Nc=H.now();B<r.length;B++){var I=r[B];I()||r[B]!==I||r.splice(B--,1)}r.length||H.fx.stop();Nc=void 0};H.fx.timer=function(r){H.timers.push(r);r()?H.fx.start():H.timers.pop()};H.fx.interval=13;H.fx.start=function(){$d||=setInterval(H.fx.tick,H.fx.interval)};H.fx.stop=function(){clearInterval($d);$d=null};H.fx.speeds={slow:600,fast:200,_default:400};
H.fn.delay=function(r,B){return r=H.fx?H.fx.speeds[r]||r:r,B=B||"fx",this.queue(B,function(I,P){var U=setTimeout(I,r);P.stop=function(){clearTimeout(U)}})};(function(){var r=Pa.createElement("div");r.setAttribute("className","t");r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";var B=r.getElementsByTagName("a")[0];var I=Pa.createElement("select");var P=I.appendChild(Pa.createElement("option"));var U=r.getElementsByTagName("input")[0];B.style.cssText="top:1px";Xa.getSetAttribute=
"t"!==r.className;Xa.style=/top/.test(B.getAttribute("style"));Xa.hrefNormalized="/a"===B.getAttribute("href");Xa.checkOn=!!U.value;Xa.optSelected=P.selected;Xa.enctype=!!Pa.createElement("form").enctype;I.disabled=!0;Xa.optDisabled=!P.disabled;U=Pa.createElement("input");U.setAttribute("value","");Xa.input=""===U.getAttribute("value");U.value="t";U.setAttribute("type","radio");Xa.radioValue="t"===U.value})();var be=/\r/g;H.fn.extend({val:function(r){var B,I,P,U=this[0];if(arguments.length)return P=
H.isFunction(r),this.each(function(Y){var fa;1===this.nodeType&&(fa=P?r.call(this,Y,H(this).val()):r,null==fa?fa="":"number"==typeof fa?fa+="":H.isArray(fa)&&(fa=H.map(fa,function(qa){return null==qa?"":qa+""})),B=H.valHooks[this.type]||H.valHooks[this.nodeName.toLowerCase()],B&&"set"in B&&void 0!==B.set(this,fa,"value")||(this.value=fa))});if(U)return B=H.valHooks[U.type]||H.valHooks[U.nodeName.toLowerCase()],B&&"get"in B&&void 0!==(I=B.get(U,"value"))?I:(I=U.value,"string"==typeof I?I.replace(be,
""):null==I?"":I)}});H.extend({valHooks:{option:{get:function(r){var B=H.find.attr(r,"value");return null!=B?B:H.trim(H.text(r))}},select:{get:function(r){for(var B,I=r.options,P=r.selectedIndex,U="select-one"===r.type||0>P,Y=U?null:[],fa=U?P+1:I.length,qa=0>P?fa:U?P:0;fa>qa;qa++)if(B=I[qa],!(!B.selected&&qa!==P||(Xa.optDisabled?B.disabled:null!==B.getAttribute("disabled"))||B.parentNode.disabled&&H.nodeName(B.parentNode,"optgroup"))){if(r=H(B).val(),U)return r;Y.push(r)}return Y},set:function(r,
B){var I,P,U=r.options;B=H.makeArray(B);for(var Y=U.length;Y--;)if(P=U[Y],0<=H.inArray(H.valHooks.option.get(P),B))try{P.selected=I=!0}catch(fa){P.scrollHeight}else P.selected=!1;return I||(r.selectedIndex=-1),U}}}});H.each(["radio","checkbox"],function(){H.valHooks[this]={set:function(r,B){return H.isArray(B)?r.checked=0<=H.inArray(H(r).val(),B):void 0}};Xa.checkOn||(H.valHooks[this].get=function(r){return null===r.getAttribute("value")?"on":r.value})});var zd,bd=H.expr.attrHandle,Ie=/^(?:checked|selected)$/i,
nd=Xa.getSetAttribute,cd=Xa.input;H.fn.extend({attr:function(r,B){return rc(this,H.attr,r,B,1<arguments.length)},removeAttr:function(r){return this.each(function(){H.removeAttr(this,r)})}});H.extend({attr:function(r,B,I){var P,U,Y=r.nodeType;if(r&&3!==Y&&8!==Y&&2!==Y)return"undefined"===typeof r.getAttribute?H.prop(r,B,I):(1===Y&&H.isXMLDoc(r)||(B=B.toLowerCase(),P=H.attrHooks[B]||(H.expr.match.bool.test(B)?hf:zd)),void 0===I?P&&"get"in P&&null!==(U=P.get(r,B))?U:(U=H.find.attr(r,B),null==U?void 0:
U):null!==I?P&&"set"in P&&void 0!==(U=P.set(r,I,B))?U:(r.setAttribute(B,I+""),I):void H.removeAttr(r,B))},removeAttr:function(r,B){var I=0,P=B&&B.match(zc);if(P&&1===r.nodeType)for(;B=P[I++];){var U=H.propFix[B]||B;H.expr.match.bool.test(B)?cd&&nd||!Ie.test(B)?r[U]=!1:r[H.camelCase("default-"+B)]=r[U]=!1:H.attr(r,B,"");r.removeAttribute(nd?B:U)}},attrHooks:{type:{set:function(r,B){if(!Xa.radioValue&&"radio"===B&&H.nodeName(r,"input")){var I=r.value;return r.setAttribute("type",B),I&&(r.value=I),B}}}}});
var hf={set:function(r,B,I){return!1===B?H.removeAttr(r,I):cd&&nd||!Ie.test(I)?r.setAttribute(!nd&&H.propFix[I]||I,I):r[H.camelCase("default-"+I)]=r[I]=!0,I}};H.each(H.expr.match.bool.source.match(/\w+/g),function(r,B){var I=bd[B]||H.find.attr;bd[B]=cd&&nd||!Ie.test(B)?function(P,U,Y){var fa,qa;return Y||(qa=bd[U],bd[U]=fa,fa=null!=I(P,U,Y)?U.toLowerCase():null,bd[U]=qa),fa}:function(P,U,Y){return Y?void 0:P[H.camelCase("default-"+U)]?U.toLowerCase():null}});cd&&nd||(H.attrHooks.value={set:function(r,
B,I){return H.nodeName(r,"input")?void(r.defaultValue=B):zd&&zd.set(r,B,I)}});nd||(zd={set:function(r,B,I){var P=r.getAttributeNode(I);return P||r.setAttributeNode(P=r.ownerDocument.createAttribute(I)),P.value=B+="","value"===I||B===r.getAttribute(I)?B:void 0}},bd.id=bd.name=bd.coords=function(r,B,I){var P;return I?void 0:(P=r.getAttributeNode(B))&&""!==P.value?P.value:null},H.valHooks.button={get:function(r,B){return(r=r.getAttributeNode(B))&&r.specified?r.value:void 0},set:zd.set},H.attrHooks.contenteditable=
{set:function(r,B,I){zd.set(r,""===B?!1:B,I)}},H.each(["width","height"],function(r,B){H.attrHooks[B]={set:function(I,P){return""===P?(I.setAttribute(B,"auto"),P):void 0}}}));Xa.style||(H.attrHooks.style={get:function(r){return r.style.cssText||void 0},set:function(r,B){return r.style.cssText=B+""}});var jf=/^(?:input|select|textarea|button|object)$/i,te=/^(?:a|area)$/i;H.fn.extend({prop:function(r,B){return rc(this,H.prop,r,B,1<arguments.length)},removeProp:function(r){return r=H.propFix[r]||r,this.each(function(){try{this[r]=
void 0,delete this[r]}catch(B){}})}});H.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(r,B,I){var P,U,Y,fa=r.nodeType;if(r&&3!==fa&&8!==fa&&2!==fa)return Y=1!==fa||!H.isXMLDoc(r),Y&&(B=H.propFix[B]||B,U=H.propHooks[B]),void 0!==I?U&&"set"in U&&void 0!==(P=U.set(r,I,B))?P:r[B]=I:U&&"get"in U&&null!==(P=U.get(r,B))?P:r[B]},propHooks:{tabIndex:{get:function(r){var B=H.find.attr(r,"tabindex");return B?parseInt(B,10):jf.test(r.nodeName)||te.test(r.nodeName)&&r.href?0:-1}}}});Xa.hrefNormalized||
H.each(["href","src"],function(r,B){H.propHooks[B]={get:function(I){return I.getAttribute(B,4)}}});Xa.optSelected||(H.propHooks.selected={get:function(r){r=r.parentNode;return r&&(r.selectedIndex,r.parentNode&&r.parentNode.selectedIndex),null}});H.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){H.propFix[this.toLowerCase()]=this});Xa.enctype||(H.propFix.enctype="encoding");var ue=/[\t\r\n\f]/g;H.fn.extend({addClass:function(r){var B,
I,P,U,Y=0,fa=this.length;var qa="string"==typeof r&&r;if(H.isFunction(r))return this.each(function(xa){H(this).addClass(r.call(this,xa,this.className))});if(qa)for(qa=(r||"").match(zc)||[];fa>Y;Y++)if(B=this[Y],I=1===B.nodeType&&(B.className?(" "+B.className+" ").replace(ue," "):" ")){for(U=0;P=qa[U++];)0>I.indexOf(" "+P+" ")&&(I+=P+" ");I=H.trim(I);B.className!==I&&(B.className=I)}return this},removeClass:function(r){var B,I,P,U,Y=0,fa=this.length;var qa=0===arguments.length||"string"==typeof r&&
r;if(H.isFunction(r))return this.each(function(xa){H(this).removeClass(r.call(this,xa,this.className))});if(qa)for(qa=(r||"").match(zc)||[];fa>Y;Y++)if(B=this[Y],I=1===B.nodeType&&(B.className?(" "+B.className+" ").replace(ue," "):"")){for(U=0;P=qa[U++];)for(;0<=I.indexOf(" "+P+" ");)I=I.replace(" "+P+" "," ");I=r?H.trim(I):"";B.className!==I&&(B.className=I)}return this},toggleClass:function(r,B){var I=typeof r;return"boolean"==typeof B&&"string"===I?B?this.addClass(r):this.removeClass(r):this.each(H.isFunction(r)?
function(P){H(this).toggleClass(r.call(this,P,this.className,B),B)}:function(){if("string"===I)for(var P,U=0,Y=H(this),fa=r.match(zc)||[];P=fa[U++];)Y.hasClass(P)?Y.removeClass(P):Y.addClass(P);else("undefined"===I||"boolean"===I)&&(this.className&&H._data(this,"__className__",this.className),this.className=this.className||!1===r?"":H._data(this,"__className__")||"")})},hasClass:function(r){r=" "+r+" ";for(var B=0,I=this.length;I>B;B++)if(1===this[B].nodeType&&0<=(" "+this[B].className+" ").replace(ue,
" ").indexOf(r))return!0;return!1}});H.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(r,B){H.fn[B]=function(I,P){return 0<arguments.length?this.on(B,null,I,P):this.trigger(B)}});H.fn.extend({hover:function(r,B){return this.mouseenter(r).mouseleave(B||r)},bind:function(r,B,I){return this.on(r,null,B,I)},unbind:function(r,
B){return this.off(r,null,B)},delegate:function(r,B,I,P){return this.on(B,r,I,P)},undelegate:function(r,B,I){return 1===arguments.length?this.off(r,"**"):this.off(B,r||"**",I)}});var Je=H.now(),ve=/\?/,mg=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;H.parseJSON=function(r){if(d.JSON&&d.JSON.parse)return d.JSON.parse(r+"");var B,I=null,P=H.trim(r+"");return P&&!H.trim(P.replace(mg,function(U,Y,fa,qa){return B&&Y&&
(I=0),0===I?U:(B=fa||Y,I+=!qa-!fa,"")}))?Function("return "+P)():H.error("Invalid JSON: "+r)};H.parseXML=function(r){var B,I;if(!r||"string"!=typeof r)return null;try{d.DOMParser?(I=new DOMParser,B=I.parseFromString(r,"text/xml")):(B=new ActiveXObject("Microsoft.XMLDOM"),B.async="false",B.loadXML(r))}catch(P){B=void 0}return B&&B.documentElement&&!B.getElementsByTagName("parsererror").length||H.error("Invalid XML: "+r),B};var ng=/#.*$/,Ke=/([?&])_=[^&]*/,kf=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Le=/^(?:GET|HEAD)$/,
lf=/^\/\//,mf=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nf={},le={},od="*/".concat("*");try{var pd=location.href}catch(r){pd=Pa.createElement("a"),pd.href="",pd=pd.href}var Ad=mf.exec(pd.toLowerCase())||[];H.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pd,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ad[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":od,text:"text/plain",
html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":H.parseJSON,"text xml":H.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,B){return B?Qa(Qa(r,H.ajaxSettings),B):Qa(H.ajaxSettings,r)},ajaxPrefilter:Ga(nf),ajaxTransport:Ga(le),ajax:function(r,B){function I(xb,Ib,Qb,Pb){var wc,
pc,Jb,Wb=Ib;if(2!==vc){vc=2;fa&&clearTimeout(fa);xa=void 0;Y=Pb||"";wb.readyState=0<xb?4:0;Pb=200<=xb&&300>xb||304===xb;if(Qb){var Ub=za;for(var Fc=wb,zb,ac,Tb,Kb,$c=Ub.contents,qc=Ub.dataTypes;"*"===qc[0];)qc.shift(),void 0===ac&&(ac=Ub.mimeType||Fc.getResponseHeader("Content-Type"));if(ac)for(Kb in $c)if($c[Kb]&&$c[Kb].test(ac)){qc.unshift(Kb);break}if(qc[0]in Qb)Tb=qc[0];else{for(Kb in Qb){if(!qc[0]||Ub.converters[Kb+" "+qc[0]]){Tb=Kb;break}zb||=Kb}Tb=Tb||zb}Ub=Tb?(Tb!==qc[0]&&qc.unshift(Tb),Qb[Tb]):
void 0}a:{Qb=za;zb=Ub;ac=wb;Tb=Pb;var dc,Qc,Kc;Ub={};Fc=Qb.dataTypes.slice();if(Fc[1])for(dc in Qb.converters)Ub[dc.toLowerCase()]=Qb.converters[dc];for(Kb=Fc.shift();Kb;)if(Qb.responseFields[Kb]&&(ac[Qb.responseFields[Kb]]=zb),!Kc&&Tb&&Qb.dataFilter&&(zb=Qb.dataFilter(zb,Qb.dataType)),Kc=Kb,Kb=Fc.shift())if("*"===Kb)Kb=Kc;else if("*"!==Kc&&Kc!==Kb){if(dc=Ub[Kc+" "+Kb]||Ub["* "+Kb],!dc)for(xc in Ub)if(Qc=xc.split(" "),Qc[1]===Kb&&(dc=Ub[Kc+" "+Qc[0]]||Ub["* "+Qc[0]])){!0===dc?dc=Ub[xc]:!0!==Ub[xc]&&
(Kb=Qc[0],Fc.unshift(Qc[1]));break}if(!0!==dc)if(dc&&Qb["throws"])zb=dc(zb);else try{zb=dc(zb)}catch(Ge){var xc={state:"parsererror",error:dc?Ge:"No conversion from "+Kc+" to "+Kb};break a}}xc={state:"success",data:zb}}Ub=xc;Pb?(za.ifModified&&(Jb=wb.getResponseHeader("Last-Modified"),Jb&&(H.lastModified[uc]=Jb),Jb=wb.getResponseHeader("etag"),Jb&&(H.etag[uc]=Jb)),204===xb||"HEAD"===za.type?Wb="nocontent":304===xb?Wb="notmodified":(Wb=Ub.state,wc=Ub.data,pc=Ub.error,Pb=!pc)):(pc=Wb,(xb||!Wb)&&(Wb=
"error",0>xb&&(xb=0)));wb.status=xb;wb.statusText=(Ib||Wb)+"";Pb?qb.resolveWith(Ra,[wc,Wb,wb]):qb.rejectWith(Ra,[wb,Wb,pc]);wb.statusCode(Gb);Gb=void 0;qa&&Za.trigger(Pb?"ajaxSuccess":"ajaxError",[wb,za,Pb?wc:pc]);mb.fireWith(Ra,[wb,Wb]);qa&&(Za.trigger("ajaxComplete",[wb,za]),--H.active||H.event.trigger("ajaxStop"))}}"object"==typeof r&&(B=r,r=void 0);B=B||{};var P,U,Y,fa,qa,xa,Ja,za=H.ajaxSetup({},B),Ra=za.context||za,Za=za.context&&(Ra.nodeType||Ra.jquery)?H(Ra):H.event,qb=H.Deferred(),mb=H.Callbacks("once memory"),
Gb=za.statusCode||{},Yb={},Kd={},vc=0,Pc="canceled",wb={readyState:0,getResponseHeader:function(xb){var Ib;if(2===vc){if(!Ja)for(Ja={};Ib=kf.exec(Y);)Ja[Ib[1].toLowerCase()]=Ib[2];Ib=Ja[xb.toLowerCase()]}return null==Ib?null:Ib},getAllResponseHeaders:function(){return 2===vc?Y:null},setRequestHeader:function(xb,Ib){var Qb=xb.toLowerCase();return vc||(xb=Kd[Qb]=Kd[Qb]||xb,Yb[xb]=Ib),this},overrideMimeType:function(xb){return vc||(za.mimeType=xb),this},statusCode:function(xb){var Ib;if(xb)if(2>vc)for(Ib in xb)Gb[Ib]=
[Gb[Ib],xb[Ib]];else wb.always(xb[wb.status]);return this},abort:function(xb){xb=xb||Pc;return xa&&xa.abort(xb),I(0,xb),this}};if(qb.promise(wb).complete=mb.add,wb.success=wb.done,wb.error=wb.fail,za.url=((r||za.url||pd)+"").replace(ng,"").replace(lf,Ad[1]+"//"),za.type=B.method||B.type||za.method||za.type,za.dataTypes=H.trim(za.dataType||"*").toLowerCase().match(zc)||[""],null==za.crossDomain&&(P=mf.exec(za.url.toLowerCase()),za.crossDomain=!(!P||P[1]===Ad[1]&&P[2]===Ad[2]&&(P[3]||("http:"===P[1]?
"80":"443"))===(Ad[3]||("http:"===Ad[1]?"80":"443")))),za.data&&za.processData&&"string"!=typeof za.data&&(za.data=H.param(za.data,za.traditional)),wa(nf,za,B,wb),2===vc)return wb;(qa=za.global)&&0===H.active++&&H.event.trigger("ajaxStart");za.type=za.type.toUpperCase();za.hasContent=!Le.test(za.type);var uc=za.url;za.hasContent||(za.data&&(uc=za.url+=(ve.test(uc)?"&":"?")+za.data,delete za.data),!1===za.cache&&(za.url=Ke.test(uc)?uc.replace(Ke,"$1_="+Je++):uc+(ve.test(uc)?"&":"?")+"_="+Je++));za.ifModified&&
(H.lastModified[uc]&&wb.setRequestHeader("If-Modified-Since",H.lastModified[uc]),H.etag[uc]&&wb.setRequestHeader("If-None-Match",H.etag[uc]));(za.data&&za.hasContent&&!1!==za.contentType||B.contentType)&&wb.setRequestHeader("Content-Type",za.contentType);wb.setRequestHeader("Accept",za.dataTypes[0]&&za.accepts[za.dataTypes[0]]?za.accepts[za.dataTypes[0]]+("*"!==za.dataTypes[0]?", "+od+"; q=0.01":""):za.accepts["*"]);for(U in za.headers)wb.setRequestHeader(U,za.headers[U]);if(za.beforeSend&&(!1===
za.beforeSend.call(Ra,wb,za)||2===vc))return wb.abort();Pc="abort";for(U in{success:1,error:1,complete:1})wb[U](za[U]);if(xa=wa(le,za,B,wb)){wb.readyState=1;qa&&Za.trigger("ajaxSend",[wb,za]);za.async&&0<za.timeout&&(fa=setTimeout(function(){wb.abort("timeout")},za.timeout));try{vc=1,xa.send(Yb,I)}catch(xb){if(!(2>vc))throw xb;I(-1,xb)}}else I(-1,"No Transport");return wb},getJSON:function(r,B,I){return H.get(r,B,I,"json")},getScript:function(r,B){return H.get(r,void 0,B,"script")}});H.each(["get",
"post"],function(r,B){H[B]=function(I,P,U,Y){return H.isFunction(P)&&(Y=Y||U,U=P,P=void 0),H.ajax({url:I,type:B,dataType:Y,data:P,success:U})}});H.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(r,B){H.fn[B]=function(I){return this.on(B,I)}});H._evalUrl=function(r){return H.ajax({url:r,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};H.fn.extend({wrapAll:function(r){if(H.isFunction(r))return this.each(function(I){H(this).wrapAll(r.call(this,
I))});if(this[0]){var B=H(r,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&B.insertBefore(this[0]);B.map(function(){for(var I=this;I.firstChild&&1===I.firstChild.nodeType;)I=I.firstChild;return I}).append(this)}return this},wrapInner:function(r){return this.each(H.isFunction(r)?function(B){H(this).wrapInner(r.call(this,B))}:function(){var B=H(this),I=B.contents();I.length?I.wrapAll(r):B.append(r)})},wrap:function(r){var B=H.isFunction(r);return this.each(function(I){H(this).wrapAll(B?
r.call(this,I):r)})},unwrap:function(){return this.parent().each(function(){H.nodeName(this,"body")||H(this).replaceWith(this.childNodes)}).end()}});H.expr.filters.hidden=function(r){return 0>=r.offsetWidth&&0>=r.offsetHeight||!Xa.reliableHiddenOffsets()&&"none"===(r.style&&r.style.display||H.css(r,"display"))};H.expr.filters.visible=function(r){return!H.expr.filters.hidden(r)};var og=/%20/g,bg=/\[\]$/,Me=/\r?\n/g,pg=/^(?:submit|button|image|reset|file)$/i,of=/^(?:input|select|textarea|keygen)/i;
H.param=function(r,B){var I,P=[],U=function(Y,fa){fa=H.isFunction(fa)?fa():null==fa?"":fa;P[P.length]=encodeURIComponent(Y)+"="+encodeURIComponent(fa)};if(void 0===B&&(B=H.ajaxSettings&&H.ajaxSettings.traditional),H.isArray(r)||r.jquery&&!H.isPlainObject(r))H.each(r,function(){U(this.name,this.value)});else for(I in r)Wa(I,r[I],B,U);return P.join("&").replace(og,"+")};H.fn.extend({serialize:function(){return H.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=
H.prop(this,"elements");return r?H.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!H(this).is(":disabled")&&of.test(this.nodeName)&&!pg.test(r)&&(this.checked||!Gd.test(r))}).map(function(r,B){r=H(this).val();return null==r?null:H.isArray(r)?H.map(r,function(I){return{name:B.name,value:I.replace(Me,"\r\n")}}):{name:B.name,value:r.replace(Me,"\r\n")}}).get()}});H.ajaxSettings.xhr=void 0!==d.ActiveXObject?function(){var r;if(!(r=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&
Ba()))a:{try{r=new d.ActiveXObject("Microsoft.XMLHTTP");break a}catch(B){}r=void 0}return r}:Ba;var pf=0,Sc={},Nd=H.ajaxSettings.xhr();d.ActiveXObject&&H(d).on("unload",function(){for(var r in Sc)Sc[r](void 0,!0)});Xa.cors=!!Nd&&"withCredentials"in Nd;(Nd=Xa.ajax=!!Nd)&&H.ajaxTransport(function(r){if(!r.crossDomain||Xa.cors){var B;return{send:function(I,P){var U,Y=r.xhr(),fa=++pf;if(Y.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(U in r.xhrFields)Y[U]=r.xhrFields[U];r.mimeType&&
Y.overrideMimeType&&Y.overrideMimeType(r.mimeType);r.crossDomain||I["X-Requested-With"]||(I["X-Requested-With"]="XMLHttpRequest");for(U in I)void 0!==I[U]&&Y.setRequestHeader(U,I[U]+"");Y.send(r.hasContent&&r.data||null);B=function(qa,xa){if(B&&(xa||4===Y.readyState))if(delete Sc[fa],B=void 0,Y.onreadystatechange=H.noop,xa)4!==Y.readyState&&Y.abort();else{var Ja={};var za=Y.status;"string"==typeof Y.responseText&&(Ja.text=Y.responseText);try{var Ra=Y.statusText}catch(Za){Ra=""}za||!r.isLocal||r.crossDomain?
1223===za&&(za=204):za=Ja.text?200:404}Ja&&P(za,Ra,Ja,Y.getAllResponseHeaders())};r.async?4===Y.readyState?setTimeout(B):Y.onreadystatechange=Sc[fa]=B:B()},abort:function(){B&&B(void 0,!0)}}}});H.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(r){return H.globalEval(r),r}}});H.ajaxPrefilter("script",function(r){void 0===r.cache&&(r.cache=!1);r.crossDomain&&
(r.type="GET",r.global=!1)});H.ajaxTransport("script",function(r){if(r.crossDomain){var B,I=Pa.head||H("head")[0]||Pa.documentElement;return{send:function(P,U){B=Pa.createElement("script");B.async=!0;r.scriptCharset&&(B.charset=r.scriptCharset);B.src=r.url;B.onload=B.onreadystatechange=function(Y,fa){(fa||!B.readyState||/loaded|complete/.test(B.readyState))&&(B.onload=B.onreadystatechange=null,B.parentNode&&B.parentNode.removeChild(B),B=null,fa||U(200,"success"))};I.insertBefore(B,I.firstChild)},
abort:function(){B&&B.onload(void 0,!0)}}}});var Ne=[],Bd=/(=)\?(?=&|$)|\?\?/;H.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=Ne.pop()||H.expando+"_"+Je++;return this[r]=!0,r}});H.ajaxPrefilter("json jsonp",function(r,B,I){var P,U,Y,fa=!1!==r.jsonp&&(Bd.test(r.url)?"url":"string"==typeof r.data&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bd.test(r.data)&&"data");return fa||"jsonp"===r.dataTypes[0]?(P=r.jsonpCallback=H.isFunction(r.jsonpCallback)?r.jsonpCallback():
r.jsonpCallback,fa?r[fa]=r[fa].replace(Bd,"$1"+P):!1!==r.jsonp&&(r.url+=(ve.test(r.url)?"&":"?")+r.jsonp+"="+P),r.converters["script json"]=function(){return Y||H.error(P+" was not called"),Y[0]},r.dataTypes[0]="json",U=d[P],d[P]=function(){Y=arguments},I.always(function(){d[P]=U;r[P]&&(r.jsonpCallback=B.jsonpCallback,Ne.push(P));Y&&H.isFunction(U)&&U(Y[0]);Y=U=void 0}),"script"):void 0});H.parseHTML=function(r,B,I){if(!r||"string"!=typeof r)return null;"boolean"==typeof B&&(I=B,B=!1);B=B||Pa;var P=
Gc.exec(r);I=!I&&[];return P?[B.createElement(P[1])]:(P=H.buildFragment([r],B,I),I&&I.length&&H(I).remove(),H.merge([],P.childNodes))};var Oe=H.fn.load;H.fn.load=function(r,B,I){if("string"!=typeof r&&Oe)return Oe.apply(this,arguments);var P,U,Y,fa=this,qa=r.indexOf(" ");return 0<=qa&&(P=H.trim(r.slice(qa,r.length)),r=r.slice(0,qa)),H.isFunction(B)?(I=B,B=void 0):B&&"object"==typeof B&&(Y="POST"),0<fa.length&&H.ajax({url:r,type:Y,dataType:"html",data:B}).done(function(xa){U=arguments;fa.html(P?H("<div>").append(H.parseHTML(xa)).find(P):
xa)}).complete(I&&function(xa,Ja){fa.each(I,U||[xa.responseText,Ja,xa])}),this};H.expr.filters.animated=function(r){return H.grep(H.timers,function(B){return r===B.elem}).length};var we=d.document.documentElement;H.offset={setOffset:function(r,B,I){var P,U,Y,fa=H.css(r,"position"),qa=H(r),xa={};"static"===fa&&(r.style.position="relative");var Ja=qa.offset();var za=H.css(r,"top");var Ra=H.css(r,"left");("absolute"===fa||"fixed"===fa)&&-1<H.inArray("auto",[za,Ra])?(P=qa.position(),Y=P.top,U=P.left):
(Y=parseFloat(za)||0,U=parseFloat(Ra)||0);H.isFunction(B)&&(B=B.call(r,I,Ja));null!=B.top&&(xa.top=B.top-Ja.top+Y);null!=B.left&&(xa.left=B.left-Ja.left+U);"using"in B?B.using.call(r,xa):qa.css(xa)}};H.fn.extend({offset:function(r){if(arguments.length)return void 0===r?this:this.each(function(fa){H.offset.setOffset(this,r,fa)});var B,I,P={top:0,left:0},U=this[0],Y=U&&U.ownerDocument;if(Y)return B=Y.documentElement,H.contains(B,U)?("undefined"!==typeof U.getBoundingClientRect&&(P=U.getBoundingClientRect()),
I=Sa(Y),{top:P.top+(I.pageYOffset||B.scrollTop)-(B.clientTop||0),left:P.left+(I.pageXOffset||B.scrollLeft)-(B.clientLeft||0)}):P},position:function(){if(this[0]){var r,B,I={top:0,left:0},P=this[0];return"fixed"===H.css(P,"position")?B=P.getBoundingClientRect():(r=this.offsetParent(),B=this.offset(),H.nodeName(r[0],"html")||(I=r.offset()),I.top+=H.css(r[0],"borderTopWidth",!0),I.left+=H.css(r[0],"borderLeftWidth",!0)),{top:B.top-I.top-H.css(P,"marginTop",!0),left:B.left-I.left-H.css(P,"marginLeft",
!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent||we;r&&!H.nodeName(r,"html")&&"static"===H.css(r,"position");)r=r.offsetParent;return r||we})}});H.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,B){var I=/Y/.test(B);H.fn[r]=function(P){return rc(this,function(U,Y,fa){var qa=Sa(U);return void 0===fa?qa?B in qa?qa[B]:qa.document.documentElement[Y]:U[Y]:void(qa?qa.scrollTo(I?H(qa).scrollLeft():fa,I?fa:H(qa).scrollTop()):U[Y]=fa)},r,P,arguments.length,
null)}});H.each(["top","left"],function(r,B){H.cssHooks[B]=S(Xa.pixelPosition,function(I,P){return P?(P=sd(I,B),ke.test(P)?H(I).position()[B]+"px":P):void 0})});H.each({Height:"height",Width:"width"},function(r,B){H.each({padding:"inner"+r,content:B,"":"outer"+r},function(I,P){H.fn[P]=function(U,Y){var fa=arguments.length&&(I||"boolean"!=typeof U),qa=I||(!0===U||!0===Y?"margin":"border");return rc(this,function(xa,Ja,za){var Ra;return H.isWindow(xa)?xa.document.documentElement["client"+r]:9===xa.nodeType?
(Ra=xa.documentElement,Math.max(xa.body["scroll"+r],Ra["scroll"+r],xa.body["offset"+r],Ra["offset"+r],Ra["client"+r])):void 0===za?H.css(xa,Ja,qa):H.style(xa,Ja,za,qa)},B,fa?U:void 0,fa,null)}})});H.fn.size=function(){return this.length};H.fn.andSelf=H.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return H});var qf=d.jQuery,rf=d.$;return H.noConflict=function(r){return d.$===H&&(d.$=rf),r&&d.jQuery===H&&(d.jQuery=qf),H},"undefined"===typeof N&&(d.jQuery=d.$=H),H});/*
 jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0);
(function(d,N,X){function a(ja){var ma=N.console;f[ja]||(f[ja]=!0,d.migrateWarnings.push(ja),ma&&ma.warn&&!d.migrateMute&&(ma.warn("JQMIGRATE: "+ja),d.migrateTrace&&ma.trace&&ma.trace()))}function h(ja,ma,Aa,Da){if(Object.defineProperty)try{return Object.defineProperty(ja,ma,{configurable:!0,enumerable:!0,get:function(){return a(Da),Aa},set:function(Fa){a(Da);Aa=Fa}}),X}catch(Fa){}d._definePropertyBroken=!0;ja[ma]=Aa}var f={};d.migrateWarnings=[];!d.migrateMute&&N.console&&N.console.log&&N.console.log("JQMIGRATE: Logging is active");
d.migrateTrace===X&&(d.migrateTrace=!0);d.migrateReset=function(){f={};d.migrateWarnings.length=0};"BackCompat"===document.compatMode&&a("jQuery is not compatible with Quirks Mode");var g=d("<input/>",{size:1}).attr("size")&&d.attrFn,e=d.attr,m=d.attrHooks.value&&d.attrHooks.value.get||function(){return null},p=d.attrHooks.value&&d.attrHooks.value.set||function(){return X},u=/^(?:input|button)$/i,c=/^[238]$/,l=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
n=/^(?:checked|selected)$/i;h(d,"attrFn",g||{},"jQuery.attrFn is deprecated");d.attr=function(ja,ma,Aa,Da){var Fa=ma.toLowerCase(),Oa=ja&&ja.nodeType;return Da&&(4>e.length&&a("jQuery.fn.attr( props, pass ) is deprecated"),ja&&!c.test(Oa)&&(g?ma in g:d.isFunction(d.fn[ma])))?d(ja)[ma](Aa):("type"===ma&&Aa!==X&&u.test(ja.nodeName)&&ja.parentNode&&a("Can't change the 'type' of an input or button in IE 6/7/8"),!d.attrHooks[Fa]&&l.test(Fa)&&(d.attrHooks[Fa]={get:function(Ga,wa){var Qa,Wa=d.prop(Ga,wa);
return!0===Wa||"boolean"!=typeof Wa&&(Qa=Ga.getAttributeNode(wa))&&!1!==Qa.nodeValue?wa.toLowerCase():X},set:function(Ga,wa,Qa){var Wa;return!1===wa?d.removeAttr(Ga,Qa):(Wa=d.propFix[Qa]||Qa,Wa in Ga&&(Ga[Wa]=!0),Ga.setAttribute(Qa,Qa.toLowerCase())),Qa}},n.test(Fa)&&a("jQuery.fn.attr('"+Fa+"') may use property instead of attribute")),e.call(d,ja,ma,Aa))};d.attrHooks.value={get:function(ja,ma){var Aa=(ja.nodeName||"").toLowerCase();return"button"===Aa?m.apply(this,arguments):("input"!==Aa&&"option"!==
Aa&&a("jQuery.fn.attr('value') no longer gets properties"),ma in ja?ja.value:null)},set:function(ja,ma){var Aa=(ja.nodeName||"").toLowerCase();return"button"===Aa?p.apply(this,arguments):("input"!==Aa&&"option"!==Aa&&a("jQuery.fn.attr('value', val) no longer sets properties"),ja.value=ma,X)}};var w,z,x=d.fn.init,J=d.parseJSON,v=/^([^<]*)(<[\w\W]+>)([^>]*)$/;d.fn.init=function(ja,ma,Aa){var Da;return ja&&"string"==typeof ja&&!d.isPlainObject(ma)&&(Da=v.exec(d.trim(ja)))&&Da[0]&&("<"!==ja.charAt(0)&&
a("$(html) HTML strings must start with '<' character"),Da[3]&&a("$(html) HTML text after last tag is ignored"),"#"===Da[0].charAt(0)&&(a("HTML string cannot start with a '#' character"),d.error("JQMIGRATE: Invalid selector string (XSS)")),ma&&ma.context&&(ma=ma.context),d.parseHTML)?x.call(this,d.parseHTML(Da[2],ma,!0),ma,Aa):x.apply(this,arguments)};d.fn.init.prototype=d.fn;d.parseJSON=function(ja){return ja||null===ja?J.apply(this,arguments):(a("jQuery.parseJSON requires a valid JSON string"),
null)};d.uaMatch=function(ja){ja=ja.toLowerCase();ja=/(chrome)[ \/]([\w.]+)/.exec(ja)||/(webkit)[ \/]([\w.]+)/.exec(ja)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ja)||/(msie) ([\w.]+)/.exec(ja)||0>ja.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ja)||[];return{browser:ja[1]||"",version:ja[2]||"0"}};d.browser||(w=d.uaMatch(navigator.userAgent),z={},w.browser&&(z[w.browser]=!0,z.version=w.version),z.chrome?z.webkit=!0:z.webkit&&(z.safari=!0),d.browser=z);h(d,"browser",d.browser,"jQuery.browser is deprecated");
d.sub=function(){function ja(Aa,Da){return new ja.fn.init(Aa,Da)}d.extend(!0,ja,this);ja.superclass=this;ja.fn=ja.prototype=this();ja.fn.constructor=ja;ja.sub=this.sub;ja.fn.init=function(Aa,Da){return Da&&Da instanceof d&&!(Da instanceof ja)&&(Da=ja(Da)),d.fn.init.call(this,Aa,Da,ma)};ja.fn.init.prototype=ja.fn;var ma=ja(document);return a("jQuery.sub() is deprecated"),ja};d.ajaxSetup({converters:{"text json":d.parseJSON}});var K=d.fn.data;d.fn.data=function(ja){var ma,Aa,Da=this[0];return!Da||"events"!==
ja||1!==arguments.length||(ma=d.data(Da,ja),Aa=d._data(Da,ja),ma!==X&&ma!==Aa||Aa===X)?K.apply(this,arguments):(a("Use of jQuery.fn.data('events') is deprecated"),Aa)};var D=/\/(java|ecma)script/i,M=d.fn.andSelf||d.fn.addBack;d.fn.andSelf=function(){return a("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)};d.clean||(d.clean=function(ja,ma,Aa,Da){ma=ma||document;ma=!ma.nodeType&&ma[0]||ma;ma=ma.ownerDocument||ma;a("jQuery.clean() is deprecated");var Fa,Oa=[];if(d.merge(Oa,
d.buildFragment(ja,ma).childNodes),Aa){var Ga=function(wa){return!wa.type||D.test(wa.type)?Da?Da.push(wa.parentNode?wa.parentNode.removeChild(wa):wa):Aa.appendChild(wa):X};for(ja=0;null!=(ma=Oa[ja]);ja++)d.nodeName(ma,"script")&&Ga(ma)||(Aa.appendChild(ma),ma.getElementsByTagName!==X&&(Fa=d.grep(d.merge([],ma.getElementsByTagName("script")),Ga),Oa.splice.apply(Oa,[ja+1,0].concat(Fa)),ja+=Fa.length))}return Oa});var Q=d.event.add,G=d.event.remove,T=d.event.trigger,S=d.fn.toggle,R=d.fn.live,ca=d.fn.die,
ha=RegExp("\\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\\b"),ra=/(?:^|\s)hover(\.\S+|)\b/,Ia=function(ja){return"string"!=typeof ja||d.event.special.hover?ja:(ra.test(ja)&&a("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),ja&&ja.replace(ra,"mouseenter$1 mouseleave$1"))};d.event.props&&"attrChange"!==d.event.props[0]&&d.event.props.unshift("attrChange","attrName","relatedNode","srcElement");d.event.dispatch&&h(d.event,"handle",d.event.dispatch,"jQuery.event.handle is undocumented and deprecated");
d.event.add=function(ja,ma,Aa,Da,Fa){ja!==document&&ha.test(ma)&&a("AJAX events should be attached to document: "+ma);Q.call(this,ja,Ia(ma||""),Aa,Da,Fa)};d.event.remove=function(ja,ma,Aa,Da,Fa){G.call(this,ja,Ia(ma)||"",Aa,Da,Fa)};d.fn.error=function(){var ja=Array.prototype.slice.call(arguments,0);return a("jQuery.fn.error() is deprecated"),ja.splice(0,0,"error"),arguments.length?this.bind.apply(this,ja):(this.triggerHandler.apply(this,ja),this)};d.fn.toggle=function(ja,ma){if(!d.isFunction(ja)||
!d.isFunction(ma))return S.apply(this,arguments);a("jQuery.fn.toggle(handler, handler...) is deprecated");var Aa=arguments,Da=ja.guid||d.guid++,Fa=0,Oa=function(Ga){var wa=(d._data(this,"lastToggle"+ja.guid)||0)%Fa;return d._data(this,"lastToggle"+ja.guid,wa+1),Ga.preventDefault(),Aa[wa].apply(this,arguments)||!1};for(Oa.guid=Da;Aa.length>Fa;)Aa[Fa++].guid=Da;return this.click(Oa)};d.fn.live=function(ja,ma,Aa){return a("jQuery.fn.live() is deprecated"),R?R.apply(this,arguments):(d(this.context).on(ja,
this.selector,ma,Aa),this)};d.fn.die=function(ja,ma){return a("jQuery.fn.die() is deprecated"),ca?ca.apply(this,arguments):(d(this.context).off(ja,this.selector||"**",ma),this)};d.event.trigger=function(ja,ma,Aa,Da){return Aa||ha.test(ja)||a("Global events are undocumented and deprecated"),T.call(this,ja,ma,Aa||document,Da)};d.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(ja,ma){d.event.special[ma]={setup:function(){var Aa=this;return Aa!==document&&(d.event.add(document,
ma+"."+d.guid,function(){d.event.trigger(ma,null,Aa,!0)}),d._data(this,ma,d.guid++)),!1},teardown:function(){return this!==document&&d.event.remove(document,ma+"."+d._data(this,ma)),!1}}})})(jQuery,window);/*
 jQuery UI - v1.12.1 - 2017-06-21
 http://jqueryui.com
 Includes: widget.js, position.js, data.js, keycode.js, scroll-parent.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/datepicker.js, widgets/menu.js, widgets/mouse.js, widgets/tooltip.js
 Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(d){"function"==typeof define&&define.amd?define(["jquery"],d):d(jQuery)})(function(d){function N(c){for(var l,n;c.length&&c[0]!==document;){if(l=c.css("position"),("absolute"===l||"relative"===l||"fixed"===l)&&(n=parseInt(c.css("zIndex"),10),!isNaN(n)&&0!==n))return n;c=c.parent()}return 0}function X(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass=
"ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};d.extend(this._defaults,
this.regional[""]);this.regional.en=d.extend(!0,{},this.regional[""]);this.regional["en-US"]=d.extend(!0,{},this.regional.en);this.dpDiv=a(d("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(c){return c.on("mouseout","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",function(){d(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).removeClass("ui-datepicker-prev-hover");
-1!==this.className.indexOf("ui-datepicker-next")&&d(this).removeClass("ui-datepicker-next-hover")}).on("mouseover","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",h)}function h(){d.datepicker._isDisabledDatepicker(u.inline?u.dpDiv.parent()[0]:u.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).addClass("ui-datepicker-prev-hover"),
-1!==this.className.indexOf("ui-datepicker-next")&&d(this).addClass("ui-datepicker-next-hover"))}function f(c,l){d.extend(c,l);for(var n in l)null==l[n]&&(c[n]=l[n]);return c}d.ui=d.ui||{};d.ui.version="1.12.1";var g=0,e=Array.prototype.slice;d.cleanData=function(c){return function(l){var n,w,z;for(z=0;null!=(w=l[z]);z++)try{(n=d._data(w,"events"))&&n.remove&&d(w).triggerHandler("remove")}catch(x){}c(l)}}(d.cleanData);d.widget=function(c,l,n){var w,z,x,J={},v=c.split(".")[0];c=c.split(".")[1];var K=
v+"-"+c;return n||(n=l,l=d.Widget),d.isArray(n)&&(n=d.extend.apply(null,[{}].concat(n))),d.expr[":"][K.toLowerCase()]=function(D){return!!d.data(D,K)},d[v]=d[v]||{},w=d[v][c],z=d[v][c]=function(D,M){return this._createWidget?(arguments.length&&this._createWidget(D,M),void 0):new z(D,M)},d.extend(z,w,{version:n.version,_proto:d.extend({},n),_childConstructors:[]}),x=new l,x.options=d.widget.extend({},x.options),d.each(n,function(D,M){return d.isFunction(M)?(J[D]=function(){function Q(){return l.prototype[D].apply(this,
arguments)}function G(T){return l.prototype[D].apply(this,T)}return function(){var T,S=this._super,R=this._superApply;return this._super=Q,this._superApply=G,T=M.apply(this,arguments),this._super=S,this._superApply=R,T}}(),void 0):(J[D]=M,void 0)}),z.prototype=d.widget.extend(x,{widgetEventPrefix:w?x.widgetEventPrefix||c:c},J,{constructor:z,namespace:v,widgetName:c,widgetFullName:K}),w?(d.each(w._childConstructors,function(D,M){D=M.prototype;d.widget(D.namespace+"."+D.widgetName,z,M._proto)}),delete w._childConstructors):
l._childConstructors.push(z),d.widget.bridge(c,z),z};d.widget.extend=function(c){for(var l,n,w=e.call(arguments,1),z=0,x=w.length;x>z;z++)for(l in w[z])n=w[z][l],w[z].hasOwnProperty(l)&&void 0!==n&&(c[l]=d.isPlainObject(n)?d.isPlainObject(c[l])?d.widget.extend({},c[l],n):d.widget.extend({},n):n);return c};d.widget.bridge=function(c,l){var n=l.prototype.widgetFullName||c;d.fn[c]=function(w){var z="string"==typeof w,x=e.call(arguments,1),J=this;return z?this.length||"instance"!==w?this.each(function(){var v,
K=d.data(this,n);return"instance"===w?(J=K,!1):K?d.isFunction(K[w])&&"_"!==w.charAt(0)?(v=K[w].apply(K,x),v!==K&&void 0!==v?(J=v&&v.jquery?J.pushStack(v.get()):v,!1):void 0):d.error("no such method '"+w+"' for "+c+" widget instance"):d.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+w+"'")}):J=void 0:(x.length&&(w=d.widget.extend.apply(null,[w].concat(x))),this.each(function(){var v=d.data(this,n);v?(v.option(w||{}),v._init&&v._init()):d.data(this,n,new l(w,
this))})),J}};d.Widget=function(){};d.Widget._childConstructors=[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(c,l){l=d(l||this.defaultElement||this)[0];this.element=d(l);this.uuid=g++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=d();this.hoverable=d();this.focusable=d();this.classesElementLookup={};l!==this&&(d.data(l,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===
l&&this.destroy()}}),this.document=d(l.style?l.ownerDocument:l.document||l),this.window=d(this.document[0].defaultView||this.document[0].parentWindow));this.options=d.widget.extend({},this.options,this._getCreateOptions(),c);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){var c=this;
this._destroy();d.each(this.classesElementLookup,function(l,n){c._removeClass(n,l)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:d.noop,widget:function(){return this.element},option:function(c,l){var n,w,z=c;if(0===arguments.length)return d.widget.extend({},this.options);if("string"==typeof c)if(z={},n=c.split("."),c=n.shift(),n.length){var x=z[c]=d.widget.extend({},
this.options[c]);for(w=0;n.length-1>w;w++)x[n[w]]=x[n[w]]||{},x=x[n[w]];if(c=n.pop(),1===arguments.length)return void 0===x[c]?null:x[c];x[c]=l}else{if(1===arguments.length)return void 0===this.options[c]?null:this.options[c];z[c]=l}return this._setOptions(z),this},_setOptions:function(c){for(var l in c)this._setOption(l,c[l]);return this},_setOption:function(c,l){return"classes"===c&&this._setOptionClasses(l),this.options[c]=l,"disabled"===c&&this._setOptionDisabled(l),this},_setOptionClasses:function(c){var l,
n;for(l in c){var w=this.classesElementLookup[l];c[l]!==this.options.classes[l]&&w&&w.length&&(n=d(w.get()),this._removeClass(w,l),n.addClass(this._classes({element:n,keys:l,classes:c,add:!0})))}},_setOptionDisabled:function(c){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!c);c&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},
_classes:function(c){function l(z,x){var J;for(J=0;z.length>J;J++){var v=w.classesElementLookup[z[J]]||d();v=c.add?d(d.unique(v.get().concat(c.element.get()))):d(v.not(c.element).get());w.classesElementLookup[z[J]]=v;n.push(z[J]);x&&c.classes[z[J]]&&n.push(c.classes[z[J]])}}var n=[],w=this;return c=d.extend({element:this.element,classes:this.options.classes||{}},c),this._on(c.element,{remove:"_untrackClassesElement"}),c.keys&&l(c.keys.match(/\S+/g)||[],!0),c.extra&&l(c.extra.match(/\S+/g)||[]),n.join(" ")},
_untrackClassesElement:function(c){var l=this;d.each(l.classesElementLookup,function(n,w){-1!==d.inArray(c.target,w)&&(l.classesElementLookup[n]=d(w.not(c.target).get()))})},_removeClass:function(c,l,n){return this._toggleClass(c,l,n,!1)},_addClass:function(c,l,n){return this._toggleClass(c,l,n,!0)},_toggleClass:function(c,l,n,w){w="boolean"==typeof w?w:n;var z="string"==typeof c||null===c;c={extra:z?l:n,keys:z?c:l,element:z?this.element:c,add:w};return c.element.toggleClass(this._classes(c),w),this},
_on:function(c,l,n){var w,z=this;"boolean"!=typeof c&&(n=l,l=c,c=!1);n?(l=w=d(l),this.bindings=this.bindings.add(l)):(n=l,l=this.element,w=this.widget());d.each(n,function(x,J){function v(){return c||!0!==z.options.disabled&&!d(this).hasClass("ui-state-disabled")?("string"==typeof J?z[J]:J).apply(z,arguments):void 0}"string"!=typeof J&&(v.guid=J.guid=J.guid||v.guid||d.guid++);var K=x.match(/^([\w:-]*)\s*(.*)$/);x=K[1]+z.eventNamespace;(K=K[2])?w.on(x,K,v):l.on(x,v)})},_off:function(c,l){l=(l||"").split(" ").join(this.eventNamespace+
" ")+this.eventNamespace;c.off(l).off(l);this.bindings=d(this.bindings.not(c).get());this.focusable=d(this.focusable.not(c).get());this.hoverable=d(this.hoverable.not(c).get())},_delay:function(c,l){var n=this;return setTimeout(function(){return("string"==typeof c?n[c]:c).apply(n,arguments)},l||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(l){this._addClass(d(l.currentTarget),null,"ui-state-hover")},mouseleave:function(l){this._removeClass(d(l.currentTarget),
null,"ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(l){this._addClass(d(l.currentTarget),null,"ui-state-focus")},focusout:function(l){this._removeClass(d(l.currentTarget),null,"ui-state-focus")}})},_trigger:function(c,l,n){var w,z,x=this.options[c];if(n=n||{},l=d.Event(l),l.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase(),l.target=this.element[0],z=l.originalEvent)for(w in z)w in l||(l[w]=z[w]);return this.element.trigger(l,
n),!(d.isFunction(x)&&!1===x.apply(this.element[0],[l].concat(n))||l.isDefaultPrevented())}};d.each({show:"fadeIn",hide:"fadeOut"},function(c,l){d.Widget.prototype["_"+c]=function(n,w,z){"string"==typeof w&&(w={effect:w});var x=w?!0===w||"number"==typeof w?l:w.effect||l:c;w=w||{};"number"==typeof w&&(w={duration:w});var J=!d.isEmptyObject(w);w.complete=z;w.delay&&n.delay(w.delay);J&&d.effects&&d.effects.effect[x]?n[c](w):x!==c&&n[x]?n[x](w.duration,w.easing,z):n.queue(function(v){d(this)[c]();z&&
z.call(n[0]);v()})}});d.widget;(function(){function c(Q,G,T){return[parseFloat(Q[0])*(D.test(Q[0])?G/100:1),parseFloat(Q[1])*(D.test(Q[1])?T/100:1)]}function l(Q){var G=Q[0];return 9===G.nodeType?{width:Q.width(),height:Q.height(),offset:{top:0,left:0}}:d.isWindow(G)?{width:Q.width(),height:Q.height(),offset:{top:Q.scrollTop(),left:Q.scrollLeft()}}:G.preventDefault?{width:0,height:0,offset:{top:G.pageY,left:G.pageX}}:{width:Q.outerWidth(),height:Q.outerHeight(),offset:Q.offset()}}var n,w=Math.max,
z=Math.abs,x=/left|center|right/,J=/top|center|bottom/,v=/[\+\-]\d+(\.[\d]+)?%?/,K=/^\w+/,D=/%$/,M=d.fn.position;d.position={scrollbarWidth:function(){if(void 0!==n)return n;var Q,G,T=d("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),S=T.children()[0];return d("body").append(T),Q=S.offsetWidth,T.css("overflow","scroll"),G=S.offsetWidth,Q===G&&(G=T[0].clientWidth),T.remove(),n=Q-G},getScrollInfo:function(Q){var G=
Q.isWindow||Q.isDocument?"":Q.element.css("overflow-x"),T=Q.isWindow||Q.isDocument?"":Q.element.css("overflow-y");G="scroll"===G||"auto"===G&&Q.width<Q.element[0].scrollWidth;return{width:"scroll"===T||"auto"===T&&Q.height<Q.element[0].scrollHeight?d.position.scrollbarWidth():0,height:G?d.position.scrollbarWidth():0}},getWithinInfo:function(Q){var G=d(Q||window),T=d.isWindow(G[0]),S=!!G[0]&&9===G[0].nodeType;return{element:G,isWindow:T,isDocument:S,offset:T||S?{left:0,top:0}:d(Q).offset(),scrollLeft:G.scrollLeft(),
scrollTop:G.scrollTop(),width:G.outerWidth(),height:G.outerHeight()}}};d.fn.position=function(Q){if(!Q||!Q.of)return M.apply(this,arguments);Q=d.extend({},Q);var G,T,S,R,ca,ha,ra=d(Q.of),Ia=d.position.getWithinInfo(Q.within),ja=d.position.getScrollInfo(Ia),ma=(Q.collision||"flip").split(" "),Aa={};return ha=l(ra),ra[0].preventDefault&&(Q.at="left top"),T=ha.width,S=ha.height,R=ha.offset,ca=d.extend({},R),d.each(["my","at"],function(){var Da=(Q[this]||"").split(" ");1===Da.length&&(Da=x.test(Da[0])?
Da.concat(["center"]):J.test(Da[0])?["center"].concat(Da):["center","center"]);Da[0]=x.test(Da[0])?Da[0]:"center";Da[1]=J.test(Da[1])?Da[1]:"center";var Fa=v.exec(Da[0]);var Oa=v.exec(Da[1]);Aa[this]=[Fa?Fa[0]:0,Oa?Oa[0]:0];Q[this]=[K.exec(Da[0])[0],K.exec(Da[1])[0]]}),1===ma.length&&(ma[1]=ma[0]),"right"===Q.at[0]?ca.left+=T:"center"===Q.at[0]&&(ca.left+=T/2),"bottom"===Q.at[1]?ca.top+=S:"center"===Q.at[1]&&(ca.top+=S/2),G=c(Aa.at,T,S),ca.left+=G[0],ca.top+=G[1],this.each(function(){var Da,Fa=d(this),
Oa=Fa.outerWidth(),Ga=Fa.outerHeight(),wa=parseInt(d.css(this,"marginLeft"),10)||0,Qa=parseInt(d.css(this,"marginTop"),10)||0,Wa=Oa+wa+(parseInt(d.css(this,"marginRight"),10)||0)+ja.width,Ba=Ga+Qa+(parseInt(d.css(this,"marginBottom"),10)||0)+ja.height,Sa=d.extend({},ca),cb=c(Aa.my,Fa.outerWidth(),Fa.outerHeight());"right"===Q.my[0]?Sa.left-=Oa:"center"===Q.my[0]&&(Sa.left-=Oa/2);"bottom"===Q.my[1]?Sa.top-=Ga:"center"===Q.my[1]&&(Sa.top-=Ga/2);Sa.left+=cb[0];Sa.top+=cb[1];var $a={marginLeft:wa,marginTop:Qa};
d.each(["left","top"],function(rb,Hb){d.ui.position[ma[rb]]&&d.ui.position[ma[rb]][Hb](Sa,{targetWidth:T,targetHeight:S,elemWidth:Oa,elemHeight:Ga,collisionPosition:$a,collisionWidth:Wa,collisionHeight:Ba,offset:[G[0]+cb[0],G[1]+cb[1]],my:Q.my,at:Q.at,within:Ia,elem:Fa})});Q.using&&(Da=function(rb){var Hb=R.left-Sa.left,ib=Hb+T-Oa,Ob=R.top-Sa.top,kc=Ob+S-Ga,nc={target:{element:ra,left:R.left,top:R.top,width:T,height:S},element:{element:Fa,left:Sa.left,top:Sa.top,width:Oa,height:Ga},horizontal:0>ib?
"left":0<Hb?"right":"center",vertical:0>kc?"top":0<Ob?"bottom":"middle"};Oa>T&&T>z(Hb+ib)&&(nc.horizontal="center");Ga>S&&S>z(Ob+kc)&&(nc.vertical="middle");nc.important=w(z(Hb),z(ib))>w(z(Ob),z(kc))?"horizontal":"vertical";Q.using.call(this,rb,nc)});Fa.offset(d.extend(Sa,{using:Da}))})};d.ui.position={fit:{left:function(Q,G){var T,S=G.within,R=S.isWindow?S.scrollLeft:S.offset.left;S=S.width;var ca=Q.left-G.collisionPosition.marginLeft,ha=R-ca,ra=ca+G.collisionWidth-S-R;G.collisionWidth>S?0<ha&&0>=
ra?(T=Q.left+ha+G.collisionWidth-S-R,Q.left+=ha-T):Q.left=0<ra&&0>=ha?R:ha>ra?R+S-G.collisionWidth:R:0<ha?Q.left+=ha:0<ra?Q.left-=ra:Q.left=w(Q.left-ca,Q.left)},top:function(Q,G){var T,S=G.within;S=S.isWindow?S.scrollTop:S.offset.top;var R=G.within.height,ca=Q.top-G.collisionPosition.marginTop,ha=S-ca,ra=ca+G.collisionHeight-R-S;G.collisionHeight>R?0<ha&&0>=ra?(T=Q.top+ha+G.collisionHeight-R-S,Q.top+=ha-T):Q.top=0<ra&&0>=ha?S:ha>ra?S+R-G.collisionHeight:S:0<ha?Q.top+=ha:0<ra?Q.top-=ra:Q.top=w(Q.top-
ca,Q.top)}},flip:{left:function(Q,G){var T,S,R=G.within,ca=R.offset.left+R.scrollLeft,ha=R.width;R=R.isWindow?R.scrollLeft:R.offset.left;var ra=Q.left-G.collisionPosition.marginLeft,Ia=ra-R;ra=ra+G.collisionWidth-ha-R;var ja="left"===G.my[0]?-G.elemWidth:"right"===G.my[0]?G.elemWidth:0,ma="left"===G.at[0]?G.targetWidth:"right"===G.at[0]?-G.targetWidth:0,Aa=-2*G.offset[0];0>Ia?(T=Q.left+ja+ma+Aa+G.collisionWidth-ha-ca,(0>T||z(Ia)>T)&&(Q.left+=ja+ma+Aa)):0<ra&&(S=Q.left-G.collisionPosition.marginLeft+
ja+ma+Aa-R,(0<S||ra>z(S))&&(Q.left+=ja+ma+Aa))},top:function(Q,G){var T,S,R=G.within,ca=R.offset.top+R.scrollTop,ha=R.height;R=R.isWindow?R.scrollTop:R.offset.top;var ra=Q.top-G.collisionPosition.marginTop,Ia=ra-R;ra=ra+G.collisionHeight-ha-R;var ja="top"===G.my[1]?-G.elemHeight:"bottom"===G.my[1]?G.elemHeight:0,ma="top"===G.at[1]?G.targetHeight:"bottom"===G.at[1]?-G.targetHeight:0,Aa=-2*G.offset[1];0>Ia?(S=Q.top+ja+ma+Aa+G.collisionHeight-ha-ca,(0>S||z(Ia)>S)&&(Q.top+=ja+ma+Aa)):0<ra&&(T=Q.top-G.collisionPosition.marginTop+
ja+ma+Aa-R,(0<T||ra>z(T))&&(Q.top+=ja+ma+Aa))}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this,arguments);d.ui.position.fit.top.apply(this,arguments)}}}})();d.ui.position;d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(c){return function(l){return!!d.data(l,c)}}):function(c,l,n){return!!d.data(c,n[3])}});d.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,
END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};d.fn.scrollParent=function(c){var l=this.css("position"),n="absolute"===l,w=c?/(auto|scroll|hidden)/:/(auto|scroll)/;c=this.parents().filter(function(){var z=d(this);return n&&"static"===z.css("position")?!1:w.test(z.css("overflow")+z.css("overflow-y")+z.css("overflow-x"))}).eq(0);return"fixed"!==l&&c.length?c:d(this[0].ownerDocument||document)};d.fn.extend({uniqueId:function(){var c=0;return function(){return this.each(function(){this.id||
(this.id="ui-id-"+ ++c)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&d(this).removeAttr("id")})}});d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var m=!1;d(document).on("mouseup",function(){m=!1});d.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.on("mousedown."+this.widgetName,function(l){return c._mouseDown(l)}).on("click."+
this.widgetName,function(l){return!0===d.data(l.target,c.widgetName+".preventClickEvent")?(d.removeData(l.target,c.widgetName+".preventClickEvent"),l.stopImmediatePropagation(),!1):void 0});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!m){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(c);
this._mouseDownEvent=c;var l=this,n=1===c.which,w="string"==typeof this.options.cancel&&c.target.nodeName?d(c.target).closest(this.options.cancel).length:!1;return n&&!w&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){l.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted)?(c.preventDefault(),!0):(!0===d.data(c.target,
this.widgetName+".preventClickEvent")&&d.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(z){return l._mouseMove(z)},this._mouseUpDelegate=function(z){return l._mouseUp(z)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),m=!0,!0)):!0}},_mouseMove:function(c){if(this._mouseMoved){if(d.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button)return this._mouseUp(c);
if(!c.which)if(c.originalEvent.altKey||c.originalEvent.ctrlKey||c.originalEvent.metaKey||c.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(c)}return(c.which||c.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c),this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},
_mouseUp:function(c){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&d.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);m=this.ignoreMissingWhich=!1;c.preventDefault()},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-
c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});d.ui.plugin={add:function(c,l,n){var w;c=d.ui[c].prototype;for(w in n)c.plugins[w]=c.plugins[w]||[],c.plugins[w].push([l,n[w]])},call:function(c,l,n,w){if((l=c.plugins[l])&&(w||c.element[0].parentNode&&11!==c.element[0].parentNode.nodeType))for(w=0;l.length>w;w++)c.options[l[w][0]]&&
l[w][1].apply(c.element,n)}};d.ui.safeActiveElement=function(c){try{var l=c.activeElement}catch(n){l=c.body}return l||=c.body,l.nodeName||(l=c.body),l};d.ui.safeBlur=function(c){c&&"body"!==c.nodeName.toLowerCase()&&d(c).trigger("blur")};d.widget("ui.draggable",d.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,
revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(c,l){this._super(c,l);"handle"===c&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||
this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(c){var l=this.options;return this.helper||l.disabled||0<d(c.target).closest(".ui-resizable-handle").length?!1:(this.handle=this._getHandle(c),this.handle?(this._blurActiveElement(c),this._blockFrames(!0===l.iframeFix?"iframe":l.iframeFix),!0):!1)},_blockFrames:function(c){this.iframeBlocks=this.document.find(c).map(function(){var l=d(this);
return d("<div>").css("position","absolute").appendTo(l.parent()).outerWidth(l.outerWidth()).outerHeight(l.outerHeight()).offset(l.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(c){var l=d.ui.safeActiveElement(this.document[0]);d(c.target).closest(l).length||d.ui.safeBlur(l)},_mouseStart:function(c){var l=this.options;return this.helper=this._createHelper(c),this._addClass(this.helper,"ui-draggable-dragging"),
this._cacheHelperProportions(),d.ui.ddmanager&&(d.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===d(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(c),this.originalPosition=this.position=this._generatePosition(c,!1),this.originalPageX=c.pageX,
this.originalPageY=c.pageY,l.cursorAt&&this._adjustOffsetFromHelper(l.cursorAt),this._setContainment(),!1===this._trigger("start",c)?(this._clear(),!1):(this._cacheHelperProportions(),d.ui.ddmanager&&!l.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,c),!0)},_refreshOffsets:function(c){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),
relative:this._getRelativeOffset()};this.offset.click={left:c.pageX-this.offset.left,top:c.pageY-this.offset.top}},_mouseDrag:function(c,l){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(c,!0),this.positionAbs=this._convertPositionTo("absolute"),!l){l=this._uiHash();if(!1===this._trigger("drag",c,l))return this._mouseUp(new d.Event("mouseup",c)),!1;this.position=l.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=
this.position.top+"px",d.ui.ddmanager&&d.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var l=this,n=!1;return d.ui.ddmanager&&!this.options.dropBehaviour&&(n=d.ui.ddmanager.drop(this,c)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==
l._trigger("stop",c)&&l._clear()}):!1!==this._trigger("stop",c)&&this._clear(),!1},_mouseUp:function(c){return this._unblockFrames(),d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,c),this.handleElement.is(c.target)&&this.element.trigger("focus"),d.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new d.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(c){return this.options.handle?!!d(c.target).closest(this.element.find(this.options.handle)).length:
!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(c){var l=this.options,n=d.isFunction(l.helper);c=n?d(l.helper.apply(this.element[0],[c])):"clone"===l.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"===
l.appendTo?this.element[0].parentNode:l.appendTo),n&&c[0]===this.element[0]&&this._setPositionRelative(),c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));d.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);
"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_isRootNode:function(c){return/(html|body)/i.test(c.tagName)||c===this.document[0]},_getParentOffset:function(){var c=this.offsetParent.offset(),l=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==l&&d.contains(this.scrollParent[0],
this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var c=this.element.position(),l=this._isRootNode(this.scrollParent[0]);return{top:c.top-(parseInt(this.helper.css("top"),
10)||0)+(l?0:this.scrollParent.scrollTop()),left:c.left-(parseInt(this.helper.css("left"),10)||0)+(l?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var c,l,n,w=this.options,z=this.document[0];return this.relativeContainer=null,w.containment?"window"===w.containment?(this.containment=[d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,d(window).scrollLeft()+d(window).width()-this.helperProportions.width-this.margins.left,d(window).scrollTop()+(d(window).height()||z.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],
void 0):"document"===w.containment?(this.containment=[0,0,d(z).width()-this.helperProportions.width-this.margins.left,(d(z).height()||z.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):w.containment.constructor===Array?(this.containment=w.containment,void 0):("parent"===w.containment&&(w.containment=this.helper[0].parentNode),l=d(w.containment),n=l[0],n&&(c=/(scroll|auto)/.test(l.css("overflow")),this.containment=[(parseInt(l.css("borderLeftWidth"),10)||0)+(parseInt(l.css("paddingLeft"),
10)||0),(parseInt(l.css("borderTopWidth"),10)||0)+(parseInt(l.css("paddingTop"),10)||0),(c?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(l.css("borderRightWidth"),10)||0)-(parseInt(l.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(l.css("borderBottomWidth"),10)||0)-(parseInt(l.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],
this.relativeContainer=l),void 0):(this.containment=null,void 0)},_convertPositionTo:function(c,l){l||=this.position;c="absolute"===c?1:-1;var n=this._isRootNode(this.scrollParent[0]);return{top:l.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*c,left:l.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*c}},_generatePosition:function(c,
l){var n,w,z,x,J=this.options,v=this._isRootNode(this.scrollParent[0]),K=c.pageX,D=c.pageY;return v&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),l&&(this.containment&&(this.relativeContainer?(w=this.relativeContainer.offset(),n=[this.containment[0]+w.left,this.containment[1]+w.top,this.containment[2]+w.left,this.containment[3]+w.top]):n=this.containment,c.pageX-this.offset.click.left<n[0]&&(K=n[0]+this.offset.click.left),c.pageY-
this.offset.click.top<n[1]&&(D=n[1]+this.offset.click.top),c.pageX-this.offset.click.left>n[2]&&(K=n[2]+this.offset.click.left),c.pageY-this.offset.click.top>n[3]&&(D=n[3]+this.offset.click.top)),J.grid&&(z=J.grid[1]?this.originalPageY+Math.round((D-this.originalPageY)/J.grid[1])*J.grid[1]:this.originalPageY,D=n?z-this.offset.click.top>=n[1]||z-this.offset.click.top>n[3]?z:z-this.offset.click.top>=n[1]?z-J.grid[1]:z+J.grid[1]:z,x=J.grid[0]?this.originalPageX+Math.round((K-this.originalPageX)/J.grid[0])*
J.grid[0]:this.originalPageX,K=n?x-this.offset.click.left>=n[0]||x-this.offset.click.left>n[2]?x:x-this.offset.click.left>=n[0]?x-J.grid[0]:x+J.grid[0]:x),"y"===J.axis&&(K=this.originalPageX),"x"===J.axis&&(D=this.originalPageY)),{top:D-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:v?0:this.offset.scroll.top),left:K-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:
v?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(c,l,n){return n=n||this._uiHash(),d.ui.plugin.call(this,c,[l,n,this],!0),/^(drag|start|stop)/.test(c)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),d.Widget.prototype._trigger.call(this,
c,l,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.ui.plugin.add("draggable","connectToSortable",{start:function(c,l,n){var w=d.extend({},l,{item:n.element});n.sortables=[];d(n.options.connectToSortable).each(function(){var z=d(this).sortable("instance");z&&!z.options.disabled&&(n.sortables.push(z),z.refreshPositions(),z._trigger("activate",c,w))})},stop:function(c,l,n){var w=d.extend({},l,{item:n.element});
n.cancelHelperRemoval=!1;d.each(n.sortables,function(){this.isOver?(this.isOver=0,n.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(c),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",c,w))})},drag:function(c,l,n){d.each(n.sortables,function(){var w=!1,z=this;z.positionAbs=n.positionAbs;z.helperProportions=
n.helperProportions;z.offset.click=n.offset.click;z._intersectsWith(z.containerCache)&&(w=!0,d.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==z&&this._intersectsWith(this.containerCache)&&d.contains(z.element[0],this.element[0])&&(w=!1),w}));w?(z.isOver||(z.isOver=1,n._parent=l.helper.parent(),z.currentItem=l.helper.appendTo(z.element).data("ui-sortable-item",!0),z.options._helper=z.options.helper,
z.options.helper=function(){return l.helper[0]},c.target=z.currentItem[0],z._mouseCapture(c,!0),z._mouseStart(c,!0,!0),z.offset.click.top=n.offset.click.top,z.offset.click.left=n.offset.click.left,z.offset.parent.left-=n.offset.parent.left-z.offset.parent.left,z.offset.parent.top-=n.offset.parent.top-z.offset.parent.top,n._trigger("toSortable",c),n.dropped=z.element,d.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,z.fromOutside=n),z.currentItem&&(z._mouseDrag(c),l.position=
z.position)):z.isOver&&(z.isOver=0,z.cancelHelperRemoval=!0,z.options._revert=z.options.revert,z.options.revert=!1,z._trigger("out",c,z._uiHash(z)),z._mouseStop(c,!0),z.options.revert=z.options._revert,z.options.helper=z.options._helper,z.placeholder&&z.placeholder.remove(),l.helper.appendTo(n._parent),n._refreshOffsets(c),l.position=n._generatePosition(c,!0),n._trigger("fromSortable",c),n.dropped=!1,d.each(n.sortables,function(){this.refreshPositions()}))})}});d.ui.plugin.add("draggable","cursor",
{start:function(c,l,n){c=d("body");n=n.options;c.css("cursor")&&(n._cursor=c.css("cursor"));c.css("cursor",n.cursor)},stop:function(c,l,n){c=n.options;c._cursor&&d("body").css("cursor",c._cursor)}});d.ui.plugin.add("draggable","opacity",{start:function(c,l,n){c=d(l.helper);n=n.options;c.css("opacity")&&(n._opacity=c.css("opacity"));c.css("opacity",n.opacity)},stop:function(c,l,n){c=n.options;c._opacity&&d(l.helper).css("opacity",c._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(c,
l,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1));n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(c,l,n){l=n.options;var w=!1,z=n.scrollParentNotHidden[0],x=n.document[0];z!==x&&"HTML"!==z.tagName?(l.axis&&"x"===l.axis||(n.overflowOffset.top+z.offsetHeight-c.pageY<l.scrollSensitivity?z.scrollTop=w=z.scrollTop+l.scrollSpeed:c.pageY-n.overflowOffset.top<l.scrollSensitivity&&
(z.scrollTop=w=z.scrollTop-l.scrollSpeed)),l.axis&&"y"===l.axis||(n.overflowOffset.left+z.offsetWidth-c.pageX<l.scrollSensitivity?z.scrollLeft=w=z.scrollLeft+l.scrollSpeed:c.pageX-n.overflowOffset.left<l.scrollSensitivity&&(z.scrollLeft=w=z.scrollLeft-l.scrollSpeed))):(l.axis&&"x"===l.axis||(c.pageY-d(x).scrollTop()<l.scrollSensitivity?w=d(x).scrollTop(d(x).scrollTop()-l.scrollSpeed):d(window).height()-(c.pageY-d(x).scrollTop())<l.scrollSensitivity&&(w=d(x).scrollTop(d(x).scrollTop()+l.scrollSpeed))),
l.axis&&"y"===l.axis||(c.pageX-d(x).scrollLeft()<l.scrollSensitivity?w=d(x).scrollLeft(d(x).scrollLeft()-l.scrollSpeed):d(window).width()-(c.pageX-d(x).scrollLeft())<l.scrollSensitivity&&(w=d(x).scrollLeft(d(x).scrollLeft()+l.scrollSpeed))));!1!==w&&d.ui.ddmanager&&!l.dropBehaviour&&d.ui.ddmanager.prepareOffsets(n,c)}});d.ui.plugin.add("draggable","snap",{start:function(c,l,n){c=n.options;n.snapElements=[];d(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var w=
d(this),z=w.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:w.outerWidth(),height:w.outerHeight(),top:z.top,left:z.left})})},drag:function(c,l,n){var w,z,x,J,v,K,D=n.options,M=D.snapTolerance,Q=l.offset.left,G=Q+n.helperProportions.width,T=l.offset.top,S=T+n.helperProportions.height;for(v=n.snapElements.length-1;0<=v;v--){var R=n.snapElements[v].left-n.margins.left;var ca=R+n.snapElements[v].width;var ha=n.snapElements[v].top-n.margins.top;var ra=ha+n.snapElements[v].height;R-M>
G||Q>ca+M||ha-M>S||T>ra+M||!d.contains(n.snapElements[v].item.ownerDocument,n.snapElements[v].item)?(n.snapElements[v].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,c,d.extend(n._uiHash(),{snapItem:n.snapElements[v].item})),n.snapElements[v].snapping=!1):("inner"!==D.snapMode&&(w=M>=Math.abs(ha-S),z=M>=Math.abs(ra-T),x=M>=Math.abs(R-G),J=M>=Math.abs(ca-Q),w&&(l.position.top=n._convertPositionTo("relative",{top:ha-n.helperProportions.height,left:0}).top),z&&(l.position.top=
n._convertPositionTo("relative",{top:ra,left:0}).top),x&&(l.position.left=n._convertPositionTo("relative",{top:0,left:R-n.helperProportions.width}).left),J&&(l.position.left=n._convertPositionTo("relative",{top:0,left:ca}).left)),K=w||z||x||J,"outer"!==D.snapMode&&(w=M>=Math.abs(ha-T),z=M>=Math.abs(ra-S),x=M>=Math.abs(R-Q),J=M>=Math.abs(ca-G),w&&(l.position.top=n._convertPositionTo("relative",{top:ha,left:0}).top),z&&(l.position.top=n._convertPositionTo("relative",{top:ra-n.helperProportions.height,
left:0}).top),x&&(l.position.left=n._convertPositionTo("relative",{top:0,left:R}).left),J&&(l.position.left=n._convertPositionTo("relative",{top:0,left:ca-n.helperProportions.width}).left)),!n.snapElements[v].snapping&&(w||z||x||J||K)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,c,d.extend(n._uiHash(),{snapItem:n.snapElements[v].item})),n.snapElements[v].snapping=w||z||x||J||K)}}});d.ui.plugin.add("draggable","stack",{start:function(c,l,n){var w;c=d.makeArray(d(n.options.stack)).sort(function(z,
x){return(parseInt(d(z).css("zIndex"),10)||0)-(parseInt(d(x).css("zIndex"),10)||0)});c.length&&(w=parseInt(d(c[0]).css("zIndex"),10)||0,d(c).each(function(z){d(this).css("zIndex",w+z)}),this.css("zIndex",w+c.length))}});d.ui.plugin.add("draggable","zIndex",{start:function(c,l,n){c=d(l.helper);n=n.options;c.css("zIndex")&&(n._zIndex=c.css("zIndex"));c.css("zIndex",n.zIndex)},stop:function(c,l,n){c=n.options;c._zIndex&&d(l.helper).css("zIndex",c._zIndex)}});d.ui.draggable;d.widget("ui.droppable",{version:"1.12.1",
widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,l=this.options,n=l.accept;this.isover=!1;this.isout=!0;this.accept=d.isFunction(n)?n:function(w){return w.is(n)};this.proportions=function(){return arguments.length?(c=arguments[0],void 0):c?c:c={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(l.scope);l.addClasses&&
this._addClass("ui-droppable")},_addToManager:function(c){d.ui.ddmanager.droppables[c]=d.ui.ddmanager.droppables[c]||[];d.ui.ddmanager.droppables[c].push(this)},_splice:function(c){for(var l=0;c.length>l;l++)c[l]===this&&c.splice(l,1)},_destroy:function(){this._splice(d.ui.ddmanager.droppables[this.options.scope])},_setOption:function(c,l){"accept"===c?this.accept=d.isFunction(l)?l:function(n){return n.is(l)}:"scope"===c&&(this._splice(d.ui.ddmanager.droppables[this.options.scope]),this._addToManager(l));
this._super(c,l)},_activate:function(c){var l=d.ui.ddmanager.current;this._addActiveClass();l&&this._trigger("activate",c,this.ui(l))},_deactivate:function(c){var l=d.ui.ddmanager.current;this._removeActiveClass();l&&this._trigger("deactivate",c,this.ui(l))},_over:function(c){var l=d.ui.ddmanager.current;l&&(l.currentItem||l.element)[0]!==this.element[0]&&this.accept.call(this.element[0],l.currentItem||l.element)&&(this._addHoverClass(),this._trigger("over",c,this.ui(l)))},_out:function(c){var l=
d.ui.ddmanager.current;l&&(l.currentItem||l.element)[0]!==this.element[0]&&this.accept.call(this.element[0],l.currentItem||l.element)&&(this._removeHoverClass(),this._trigger("out",c,this.ui(l)))},_drop:function(c,l){var n=l||d.ui.ddmanager.current,w=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var z=d(this).droppable("instance");return z.options.greedy&&!z.options.disabled&&z.options.scope===n.options.scope&&
z.accept.call(z.element[0],n.currentItem||n.element)&&p(n,d.extend(z,{offset:z.element.offset()}),z.options.tolerance,c)?(w=!0,!1):void 0}),w?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",c,this.ui(n)),this.element):!1):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},
_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var p=d.ui.intersect=function(){return function(c,l,n,w){if(!l.offset)return!1;var z=(c.positionAbs||c.position.absolute).left+c.margins.left,x=(c.positionAbs||c.position.absolute).top+c.margins.top,J=z+c.helperProportions.width,v=x+c.helperProportions.height,K=l.offset.left,D=l.offset.top,M=K+l.proportions().width,Q=D+l.proportions().height;switch(n){case "fit":return z>=
K&&M>=J&&x>=D&&Q>=v;case "intersect":return z+c.helperProportions.width/2>K&&M>J-c.helperProportions.width/2&&x+c.helperProportions.height/2>D&&Q>v-c.helperProportions.height/2;case "pointer":c=w.pageY;n=l.proportions().height;if(D=c>=D&&D+n>c)w=w.pageX,l=l.proportions().width,D=w>=K&&K+l>w;return D;case "touch":return(x>=D&&Q>=x||v>=D&&Q>=v||D>x&&v>Q)&&(z>=K&&M>=z||J>=K&&M>=J||K>z&&J>M);default:return!1}}}();d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,l){var n,
w=d.ui.ddmanager.droppables[c.options.scope]||[],z=l?l.type:null,x=(c.currentItem||c.element).find(":data(ui-droppable)").addBack();var J=0;a:for(;w.length>J;J++)if(!(w[J].options.disabled||c&&!w[J].accept.call(w[J].element[0],c.currentItem||c.element))){for(n=0;x.length>n;n++)if(x[n]===w[J].element[0]){w[J].proportions().height=0;continue a}w[J].visible="none"!==w[J].element.css("display");w[J].visible&&("mousedown"===z&&w[J]._activate.call(w[J],l),w[J].offset=w[J].element.offset(),w[J].proportions({width:w[J].element[0].offsetWidth,
height:w[J].element[0].offsetHeight}))}},drop:function(c,l){var n=!1;return d.each((d.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&p(c,this,this.options.tolerance,l)&&(n=this._drop.call(this,l)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,l)))}),n},dragStart:function(c,l){c.element.parentsUntil("body").on("scroll.droppable",
function(){c.options.refreshPositions||d.ui.ddmanager.prepareOffsets(c,l)})},drag:function(c,l){c.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(c,l);d.each(d.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,w,z,x=p(c,this,this.options.tolerance,l);(x=!x&&this.isover?"isout":x&&!this.isover?"isover":null)&&(this.options.greedy&&(w=this.options.scope,z=this.element.parents(":data(ui-droppable)").filter(function(){return d(this).droppable("instance").options.scope===
w}),z.length&&(n=d(z[0]).droppable("instance"),n.greedyChild="isover"===x)),n&&"isover"===x&&(n.isover=!1,n.isout=!0,n._out.call(n,l)),this[x]=!0,this["isout"===x?"isover":"isout"]=!1,this["isover"===x?"_over":"_out"].call(this,l),n&&"isout"===x&&(n.isout=!1,n.isover=!0,n._over.call(n,l)))}})},dragStop:function(c,l){c.element.parentsUntil("body").off("scroll.droppable");c.options.refreshPositions||d.ui.ddmanager.prepareOffsets(c,l)}};!1!==d.uiBackCompat&&d.widget("ui.droppable",d.ui.droppable,{options:{hoverClass:!1,
activeClass:!1},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});d.ui.droppable;
d.widget("ui.sortable",d.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,
remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(c,l,n){return c>=l&&l+n>c},_isFloating:function(c){return/left|right/.test(c.css("float"))||/inline|table-cell/.test(c.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(c,l){this._super(c,l);"handle"===c&&this._setHandleClassName()},_setHandleClassName:function(){var c=
this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");d.each(this.items,function(){c._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var c=this.items.length-1;0<=c;c--)this.items[c].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(c,l){var n=null,w=!1,z=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?
!1:(this._refreshItems(c),d(c.target).parents().each(function(){return d.data(this,z.widgetName+"-item")===z?(n=d(this),!1):void 0}),d.data(c.target,z.widgetName+"-item")===z&&(n=d(c.target)),n?!this.options.handle||l||(d(this.options.handle,n).find("*").addBack().each(function(){this===c.target&&(w=!0)}),w)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(c,l,n){var w;l=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(c),
this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(c),
this.originalPageX=c.pageX,this.originalPageY=c.pageY,l.cursorAt&&this._adjustOffsetFromHelper(l.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),l.containment&&this._setContainment(),l.cursor&&"auto"!==l.cursor&&(w=this.document.find("body"),this.storedCursor=w.css("cursor"),w.css("cursor",l.cursor),this.storedStylesheet=d("<style>*{ cursor: "+l.cursor+" !important; }</style>").appendTo(w)),
l.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",l.opacity)),l.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",l.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",c,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(n=this.containers.length-
1;0<=n;n--)this.containers[n]._trigger("activate",c,this._uiHash(this));return d.ui.ddmanager&&(d.ui.ddmanager.current=this),d.ui.ddmanager&&!l.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(c),!0},_mouseDrag:function(c){var l,n,w;var z=this.options;var x=!1;this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);
this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<z.scrollSensitivity?this.scrollParent[0].scrollTop=x=this.scrollParent[0].scrollTop+z.scrollSpeed:c.pageY-this.overflowOffset.top<z.scrollSensitivity&&(this.scrollParent[0].scrollTop=x=this.scrollParent[0].scrollTop-z.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-c.pageX<z.scrollSensitivity?this.scrollParent[0].scrollLeft=
x=this.scrollParent[0].scrollLeft+z.scrollSpeed:c.pageX-this.overflowOffset.left<z.scrollSensitivity&&(this.scrollParent[0].scrollLeft=x=this.scrollParent[0].scrollLeft-z.scrollSpeed)):(c.pageY-this.document.scrollTop()<z.scrollSensitivity?x=this.document.scrollTop(this.document.scrollTop()-z.scrollSpeed):this.window.height()-(c.pageY-this.document.scrollTop())<z.scrollSensitivity&&(x=this.document.scrollTop(this.document.scrollTop()+z.scrollSpeed)),c.pageX-this.document.scrollLeft()<z.scrollSensitivity?
x=this.document.scrollLeft(this.document.scrollLeft()-z.scrollSpeed):this.window.width()-(c.pageX-this.document.scrollLeft())<z.scrollSensitivity&&(x=this.document.scrollLeft(this.document.scrollLeft()+z.scrollSpeed))),!1!==x&&d.ui.ddmanager&&!z.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=
this.position.top+"px");for(z=this.items.length-1;0<=z;z--)if(l=this.items[z],n=l.item[0],w=this._intersectsWithPointer(l),w&&l.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===w?"next":"prev"]()[0]!==n&&!d.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!d.contains(this.element[0],n):!0)){if(this.direction=1===w?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(l))break;this._rearrange(c,l);this._trigger("change",c,this._uiHash());
break}return this._contactContainers(c),d.ui.ddmanager&&d.ui.ddmanager.drag(this,c),this._trigger("sort",c,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(c,l){if(c){if(d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,c),this.options.revert){var n=this;l=this.placeholder.offset();var w=this.options.axis,z={};w&&"x"!==w||(z.left=l.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));
w&&"y"!==w||(z.top=l.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;d(this.helper).animate(z,parseInt(this.options.revert,10)||500,function(){n._clear(c)})}else this._clear(c,l);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new d.Event("mouseup",{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):
this.currentItem.show();for(var c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,
{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var l=this._getItemsAsjQuery(c&&c.connected),n=[];return c=c||{},d(l).each(function(){var w=(d(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[\-=_](.+)/);w&&n.push((c.key||w[1]+"[]")+"="+(c.key&&c.expression?w[1]:w[2]))}),!n.length&&c.key&&n.push(c.key+"="),n.join("&")},
toArray:function(c){var l=this._getItemsAsjQuery(c&&c.connected),n=[];return c=c||{},l.each(function(){n.push(d(c.item||this).attr(c.attribute||"id")||"")}),n},_intersectsWith:function(c){var l=this.positionAbs.left,n=l+this.helperProportions.width,w=this.positionAbs.top,z=w+this.helperProportions.height,x=c.left,J=x+c.width,v=c.top,K=v+c.height,D=this.offset.click.top,M=this.offset.click.left;D="x"===this.options.axis||w+D>v&&K>w+D;M="y"===this.options.axis||l+M>x&&J>l+M;return"pointer"===this.options.tolerance||
this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?D&&M:l+this.helperProportions.width/2>x&&J>n-this.helperProportions.width/2&&w+this.helperProportions.height/2>v&&K>z-this.helperProportions.height/2},_intersectsWithPointer:function(c){var l,n,w="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height);c="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+
this.offset.click.left,c.left,c.width);return w&&c?(l=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===l?2:1:l&&("down"===l?2:1)):!1},_intersectsWithSides:function(c){var l=this._isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var n=this._getDragVerticalDirection(),w=this._getDragHorizontalDirection();return this.floating&&
w?"right"===w&&c||"left"===w&&!c:n&&("down"===n&&l||"up"===n&&!l)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return 0!==c&&(0<c?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return 0!==c&&(0<c?"right":"left")},refresh:function(c){return this._refreshItems(c),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var c=this.options;return c.connectWith.constructor===
String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){function l(){z.push(this)}var n,w,z=[],x=[],J=this._connectWith();if(J&&c)for(c=J.length-1;0<=c;c--){var v=d(J[c],this.document[0]);for(n=v.length-1;0<=n;n--)(w=d.data(v[n],this.widgetFullName))&&w!==this&&!w.options.disabled&&x.push([d.isFunction(w.options.items)?w.options.items.call(w.element):d(w.options.items,w.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),w])}x.push([d.isFunction(this.options.items)?this.options.items.call(this.element,
null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(c=x.length-1;0<=c;c--)x[c][0].each(l);return d(z)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(l){for(var n=0;c.length>n;n++)if(c[n]===l.item[0])return!1;return!0})},_refreshItems:function(c){this.items=[];this.containers=[this];var l,n,w,z,x=this.items,
J=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):d(this.options.items,this.element),this]];if((z=this._connectWith())&&this.ready)for(l=z.length-1;0<=l;l--){var v=d(z[l],this.document[0]);for(n=v.length-1;0<=n;n--)(w=d.data(v[n],this.widgetFullName))&&w!==this&&!w.options.disabled&&(J.push([d.isFunction(w.options.items)?w.options.items.call(w.element[0],c,{item:this.currentItem}):d(w.options.items,w.element),w]),this.containers.push(w))}for(l=
J.length-1;0<=l;l--)for(c=J[l][1],v=J[l][0],n=0,z=v.length;z>n;n++)w=d(v[n]),w.data(this.widgetName+"-item",c),x.push({item:w,instance:c,width:0,height:0,left:0,top:0})},refreshPositions:function(c){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var l,n,w;for(l=this.items.length-1;0<=l;l--){var z=this.items[l];z.instance!==this.currentContainer&&this.currentContainer&&z.item[0]!==
this.currentItem[0]||(n=this.options.toleranceElement?d(this.options.toleranceElement,z.item):z.item,c||(z.width=n.outerWidth(),z.height=n.outerHeight()),w=n.offset(),z.left=w.left,z.top=w.top)}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(l=this.containers.length-1;0<=l;l--)w=this.containers[l].element.offset(),this.containers[l].containerCache.left=w.left,this.containers[l].containerCache.top=w.top,this.containers[l].containerCache.width=
this.containers[l].element.outerWidth(),this.containers[l].containerCache.height=this.containers[l].element.outerHeight();return this},_createPlaceholder:function(c){c=c||this;var l,n=c.options;n.placeholder&&n.placeholder.constructor!==String||(l=n.placeholder,n.placeholder={element:function(){var w=c.currentItem[0].nodeName.toLowerCase(),z=d("<"+w+">",c.document[0]);return c._addClass(z,"ui-sortable-placeholder",l||c.currentItem[0].className)._removeClass(z,"ui-sortable-helper"),"tbody"===w?c._createTrPlaceholder(c.currentItem.find("tr").eq(0),
d("<tr>",c.document[0]).appendTo(z)):"tr"===w?c._createTrPlaceholder(c.currentItem,z):"img"===w&&z.attr("src",c.currentItem.attr("src")),l||z.css("visibility","hidden"),z},update:function(w,z){(!l||n.forcePlaceholderSize)&&(z.height()||z.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),z.width()||z.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||
0,10)))}});c.placeholder=d(n.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);n.placeholder.update(c,c.placeholder)},_createTrPlaceholder:function(c,l){var n=this;c.children().each(function(){d("<td>&#160;</td>",n.document[0]).attr("colspan",d(this).attr("colspan")||1).appendTo(l)})},_contactContainers:function(c){var l,n,w,z,x,J=w=null;for(l=this.containers.length-1;0<=l;l--)d.contains(this.currentItem[0],this.containers[l].element[0])||(this._intersectsWith(this.containers[l].containerCache)?
w&&d.contains(this.containers[l].element[0],w.element[0])||(w=this.containers[l],J=l):this.containers[l].containerCache.over&&(this.containers[l]._trigger("out",c,this._uiHash(this)),this.containers[l].containerCache.over=0));if(w)if(1===this.containers.length)this.containers[J].containerCache.over||(this.containers[J]._trigger("over",c,this._uiHash(this)),this.containers[J].containerCache.over=1);else{l=1E4;var v=null;w=(n=w.floating||this._isFloating(this.currentItem))?"left":"top";var K=n?"width":
"height";var D=n?"pageX":"pageY";for(n=this.items.length-1;0<=n;n--)d.contains(this.containers[J].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(z=this.items[n].item.offset()[w],x=!1,c[D]-z>this.items[n][K]/2&&(x=!0),l>Math.abs(c[D]-z)&&(l=Math.abs(c[D]-z),v=this.items[n],this.direction=x?"up":"down"));if(v||this.options.dropOnEmpty){if(this.currentContainer===this.containers[J])return this.currentContainer.containerCache.over||(this.containers[J]._trigger("over",
c,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;v?this._rearrange(c,v,null,!0):this._rearrange(c,null,this.containers[J].element,!0);this._trigger("change",c,this._uiHash());this.containers[J]._trigger("change",c,this._uiHash(this));this.currentContainer=this.containers[J];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[J]._trigger("over",c,this._uiHash(this));this.containers[J].containerCache.over=1}}},_createHelper:function(c){var l=
this.options;c=d.isFunction(l.helper)?d(l.helper.apply(this.element[0],[c,this.currentItem])):"clone"===l.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||d("parent"!==l.appendTo?l.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),
(!c[0].style.width||l.forceHelperSize)&&c.width(this.currentItem.width()),(!c[0].style.height||l.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));d.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=
this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&
d.ui.ie)&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins=
{left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,l,n,w=this.options;"parent"===w.containment&&(w.containment=this.helper[0].parentNode);"document"!==w.containment&&"window"!==w.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-
this.offset.parent.top,"document"===w.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===w.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(w.containment)||(c=d(w.containment)[0],l=d(w.containment).offset(),n="hidden"!==d(c).css("overflow"),this.containment=[l.left+
(parseInt(d(c).css("borderLeftWidth"),10)||0)+(parseInt(d(c).css("paddingLeft"),10)||0)-this.margins.left,l.top+(parseInt(d(c).css("borderTopWidth"),10)||0)+(parseInt(d(c).css("paddingTop"),10)||0)-this.margins.top,l.left+(n?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(d(c).css("borderLeftWidth"),10)||0)-(parseInt(d(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,l.top+(n?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(d(c).css("borderTopWidth"),
10)||0)-(parseInt(d(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(c,l){l||=this.position;c="absolute"===c?1:-1;var n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,w=/(html|body)/i.test(n[0].tagName);return{top:l.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():
w?0:n.scrollTop())*c,left:l.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():w?0:n.scrollLeft())*c}},_generatePosition:function(c){var l,n,w=this.options,z=c.pageX,x=c.pageY,J="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,v=/(html|body)/i.test(J[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==
this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(z=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(x=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(z=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&
(x=this.containment[3]+this.offset.click.top)),w.grid&&(l=this.originalPageY+Math.round((x-this.originalPageY)/w.grid[1])*w.grid[1],x=this.containment?l-this.offset.click.top>=this.containment[1]&&l-this.offset.click.top<=this.containment[3]?l:l-this.offset.click.top>=this.containment[1]?l-w.grid[1]:l+w.grid[1]:l,n=this.originalPageX+Math.round((z-this.originalPageX)/w.grid[0])*w.grid[0],z=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?
n:n-this.offset.click.left>=this.containment[0]?n-w.grid[0]:n+w.grid[0]:n)),{top:x-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():v?0:J.scrollTop()),left:z-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():v?0:J.scrollLeft())}},_rearrange:function(c,l,n,w){n?n[0].appendChild(this.placeholder[0]):l.item[0].parentNode.insertBefore(this.placeholder[0],
"down"===this.direction?l.item[0]:l.item[0].nextSibling);var z=this.counter=this.counter?++this.counter:1;this._delay(function(){z===this.counter&&this.refreshPositions(!w)})},_clear:function(c,l){function n(x,J,v){return function(K){v._trigger(x,K,J._uiHash(J))}}this.reverting=!1;var w,z=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(w in this._storedCSS)"auto"!==this._storedCSS[w]&&
"static"!==this._storedCSS[w]||(this._storedCSS[w]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!l&&z.push(function(x){this._trigger("receive",x,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||l||z.push(function(x){this._trigger("update",x,this._uiHash())});this!==
this.currentContainer&&(l||(z.push(function(x){this._trigger("remove",x,this._uiHash())}),z.push(function(x){return function(J){x._trigger("receive",J,this._uiHash(this))}}.call(this,this.currentContainer)),z.push(function(x){return function(J){x._trigger("update",J,this._uiHash(this))}}.call(this,this.currentContainer))));for(w=this.containers.length-1;0<=w;w--)l||z.push(n("deactivate",this,this.containers[w])),this.containers[w].containerCache.over&&(z.push(n("out",this,this.containers[w])),this.containers[w].containerCache.over=
0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,l||this._trigger("beforeStop",c,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=
null),!l){for(w=0;z.length>w;w++)z[w].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(c){var l=c||this;return{helper:l.helper,placeholder:l.placeholder||d([]),position:l.position,originalPosition:l.originalPosition,offset:l.positionAbs,item:l.currentItem,sender:c?c.element:null}}});d.widget("ui.accordion",{version:"1.12.1",options:{active:0,
animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",
paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var c=this.options;this.prevShow=this.prevHide=d();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");c.collapsible||!1!==c.active&&null!=c.active||(c.active=0);this._processPanels();0>c.active&&(c.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():d()}},_createIcons:function(){var c,l,n=
this.options.icons;n&&(c=d("<span>"),this._addClass(c,"ui-accordion-header-icon","ui-icon "+n.header),c.prependTo(this.headers),l=this.active.children(".ui-accordion-header-icon"),this._removeClass(l,n.header)._addClass(l,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();
this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&c.css("height","")},_setOption:function(c,l){return"active"===c?(this._activate(l),void 0):("event"===c&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(l)),this._super(c,l),"collapsible"!==c||l||!1!==this.options.active||this._activate(0),"icons"===c&&(this._destroyIcons(),l&&this._createIcons()),void 0)},
_setOptionDisabled:function(c){this._super(c);this.element.attr("aria-disabled",c);this._toggleClass(null,"ui-state-disabled",!!c);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!c)},_keydown:function(c){if(!c.altKey&&!c.ctrlKey){var l=d.ui.keyCode,n=this.headers.length,w=this.headers.index(c.target),z=!1;switch(c.keyCode){case l.RIGHT:case l.DOWN:z=this.headers[(w+1)%n];break;case l.LEFT:case l.UP:z=this.headers[(w-1+n)%n];break;case l.SPACE:case l.ENTER:this._eventHandler(c);
break;case l.HOME:z=this.headers[0];break;case l.END:z=this.headers[n-1]}z&&(d(c.target).attr("tabIndex",-1),d(z).attr("tabIndex",0),d(z).trigger("focus"),c.preventDefault())}},_panelKeyDown:function(c){c.keyCode===d.ui.keyCode.UP&&c.ctrlKey&&d(c.currentTarget).prev().trigger("focus")},refresh:function(){var c=this.options;this._processPanels();!1===c.active&&!0===c.collapsible||!this.headers.length?(c.active=!1,this.active=d()):!1===c.active?this._activate(0):this.active.length&&!d.contains(this.element[0],
this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(c.active=!1,this.active=d()):this._activate(Math.max(0,c.active-1)):c.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var c=this.headers,l=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();
this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");l&&(this._off(c.not(this.headers)),this._off(l.not(this.panels)))},_refresh:function(){var c,l=this.options,n=l.heightStyle,w=this.element.parent();this.active=this._findActive(l.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role",
"tab").each(function(){var z=d(this),x=z.uniqueId().attr("id"),J=z.next(),v=J.uniqueId().attr("id");z.attr("aria-controls",v);J.attr("aria-labelledby",x)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();
this._setupEvents(l.event);"fill"===n?(c=w.height(),this.element.siblings(":visible").each(function(){var z=d(this),x=z.css("position");"absolute"!==x&&"fixed"!==x&&(c-=z.outerHeight(!0))}),this.headers.each(function(){c-=d(this).outerHeight(!0)}),this.headers.next().each(function(){d(this).height(Math.max(0,c-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===n&&(c=0,this.headers.next().each(function(){var z=d(this).is(":visible");z||d(this).show();c=Math.max(c,d(this).css("height",
"").height());z||d(this).hide()}).height(c))},_activate:function(c){c=this._findActive(c)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:d.noop}))},_findActive:function(c){return"number"==typeof c?this.headers.eq(c):d()},_setupEvents:function(c){var l={keydown:"_keydown"};c&&d.each(c.split(" "),function(n,w){l[w]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,l);this._on(this.headers.next(),{keydown:"_panelKeyDown"});
this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(c){var l,n,w=this.options,z=this.active,x=d(c.currentTarget),J=x[0]===z[0],v=J&&w.collapsible,K=v?d():x.next(),D=z.next();K={oldHeader:z,oldPanel:D,newHeader:v?d():x,newPanel:K};c.preventDefault();J&&!w.collapsible||!1===this._trigger("beforeActivate",c,K)||(w.active=v?!1:this.headers.index(x),this.active=J?d():x,this._toggle(K),this._removeClass(z,"ui-accordion-header-active","ui-state-active"),w.icons&&(l=z.children(".ui-accordion-header-icon"),
this._removeClass(l,null,w.icons.activeHeader)._addClass(l,null,w.icons.header)),J||(this._removeClass(x,"ui-accordion-header-collapsed")._addClass(x,"ui-accordion-header-active","ui-state-active"),w.icons&&(n=x.children(".ui-accordion-header-icon"),this._removeClass(n,null,w.icons.header)._addClass(n,null,w.icons.activeHeader)),this._addClass(x.next(),"ui-accordion-content-active")))},_toggle:function(c){var l=c.newPanel,n=this.prevShow.length?this.prevShow:c.oldPanel;this.prevShow.add(this.prevHide).stop(!0,
!0);this.prevShow=l;this.prevHide=n;this.options.animate?this._animate(l,n,c):(n.hide(),l.show(),this._toggleComplete(c));n.attr({"aria-hidden":"true"});n.prev().attr({"aria-selected":"false","aria-expanded":"false"});l.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):l.length&&this.headers.filter(function(){return 0===parseInt(d(this).attr("tabIndex"),10)}).attr("tabIndex",-1);l.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},
_animate:function(c,l,n){var w,z,x,J=this,v=0,K=c.css("box-sizing"),D=c.length&&(!l.length||c.index()<l.index()),M=this.options.animate||{};D=D&&M.down||M;var Q=function(){J._toggleComplete(n)};return"number"==typeof D&&(x=D),"string"==typeof D&&(z=D),z=z||D.easing||M.easing,x=x||D.duration||M.duration,l.length?c.length?(w=c.show().outerHeight(),l.animate(this.hideProps,{duration:x,easing:z,step:function(G,T){T.now=Math.round(G)}}),c.hide().animate(this.showProps,{duration:x,easing:z,complete:Q,step:function(G,
T){T.now=Math.round(G);"height"!==T.prop?"content-box"===K&&(v+=T.now):"content"!==J.options.heightStyle&&(T.now=Math.round(w-l.outerHeight()-v),v=0)}}),void 0):l.animate(this.hideProps,x,z,Q):c.animate(this.showProps,x,z,Q)},_toggleComplete:function(c){var l=c.oldPanel,n=l.prev();this._removeClass(l,"ui-accordion-content-active");this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed");l.length&&(l.parent()[0].className=l.parent()[0].className);this._trigger("activate",
null,c)}});d.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(c){c.preventDefault()},"click .ui-menu-item":function(c){var l=
d(c.target),n=d(d.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&l.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||(this.mouseHandled=!0),l.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){if(!this.previousFilter){var l=d(c.target).closest(".ui-menu-item"),
n=d(c.currentTarget);l[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(c,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,l){var n=this.active||this.element.find(this.options.items).eq(0);l||this.focus(c,n)},blur:function(c){this._delay(function(){!d.contains(this.element[0],d.ui.safeActiveElement(this.document[0]))&&this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){this._closeOnDocumentClick(c)&&
this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){var c=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();c.children().each(function(){var l=d(this);l.data("ui-menu-submenu-caret")&&l.remove()})},
_keydown:function(c){var l=!0;switch(c.keyCode){case d.ui.keyCode.PAGE_UP:this.previousPage(c);break;case d.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case d.ui.keyCode.HOME:this._move("first","first",c);break;case d.ui.keyCode.END:this._move("last","last",c);break;case d.ui.keyCode.UP:this.previous(c);break;case d.ui.keyCode.DOWN:this.next(c);break;case d.ui.keyCode.LEFT:this.collapse(c);break;case d.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case d.ui.keyCode.ENTER:case d.ui.keyCode.SPACE:this._activate(c);
break;case d.ui.keyCode.ESCAPE:this.collapse(c);break;default:l=!1;var n=this.previousFilter||"";var w=!1;var z=96<=c.keyCode&&105>=c.keyCode?""+(c.keyCode-96):String.fromCharCode(c.keyCode);clearTimeout(this.filterTimer);z===n?w=!0:z=n+z;n=this._filterMenuItems(z);n=w&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n;n.length||(z=String.fromCharCode(c.keyCode),n=this._filterMenuItems(z));n.length?(this.focus(c,n),this.previousFilter=z,this.filterTimer=this._delay(function(){delete this.previousFilter},
1E3)):delete this.previousFilter}l&&c.preventDefault()},_activate:function(c){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(c):this.select(c))},refresh:function(){var c=this,l=this.options.icons.submenu;var n=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);var w=n.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var x=
d(this),J=x.prev(),v=d("<span>").data("ui-menu-submenu-caret",!0);c._addClass(v,"ui-menu-icon","ui-icon "+l);J.attr("aria-haspopup","true").prepend(v);x.attr("aria-labelledby",J.attr("id"))});this._addClass(w,"ui-menu","ui-widget ui-widget-content ui-front");w=n.add(this.element).find(this.options.items);w.not(".ui-menu-item").each(function(){var x=d(this);c._isDivider(x)&&c._addClass(x,"ui-menu-divider","ui-widget-content")});n=w.not(".ui-menu-item, .ui-menu-divider");var z=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,
role:this._itemRole()});this._addClass(n,"ui-menu-item")._addClass(z,"ui-menu-item-wrapper");w.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!d.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,l){if("icons"===c){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,l.submenu)}this._super(c,l)},_setOptionDisabled:function(c){this._super(c);
this.element.attr("aria-disabled",c+"");this._toggleClass(null,"ui-state-disabled",!!c)},focus:function(c,l){this.blur(c,c&&"focus"===c.type);this._scrollIntoView(l);this.active=l.first();var n=this.active.children(".ui-menu-item-wrapper");this._addClass(n,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",n.attr("id"));n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(n,null,"ui-state-active");c&&"keydown"===c.type?
this._close():this.timer=this._delay(function(){this._close()},this.delay);n=l.children(".ui-menu");n.length&&c&&/^mouse/.test(c.type)&&this._startOpening(n);this.activeMenu=l.parent();this._trigger("focus",c,{item:l})},_scrollIntoView:function(c){var l,n,w,z,x,J;this._hasScroll()&&(l=parseFloat(d.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(d.css(this.activeMenu[0],"paddingTop"))||0,w=c.offset().top-this.activeMenu.offset().top-l-n,z=this.activeMenu.scrollTop(),x=this.activeMenu.height(),
J=c.outerHeight(),0>w?this.activeMenu.scrollTop(z+w):w+J>x&&this.activeMenu.scrollTop(z+w-x+J))},blur:function(c,l){l||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",c,{item:this.active}),this.active=null)},_startOpening:function(c){clearTimeout(this.timer);"true"===c.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(c)},this.delay))},_open:function(c){var l=d.extend({of:this.active},
this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(l)},collapseAll:function(c,l){clearTimeout(this.timer);this.timer=this._delay(function(){var n=l?this.element:d(c&&c.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element);this._close(n);this.blur(c);this._removeClass(n.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=
n},this.delay)},_close:function(c){c||=this.active?this.active.parent():this.element;c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(c){return!d(c.target).closest(".ui-menu").length},_isDivider:function(c){return!/[^\-\u2014\u2013\s]/.test(c.text())},collapse:function(c){var l=this.active&&this.active.parent().closest(".ui-menu-item",this.element);l&&l.length&&(this._close(),this.focus(c,l))},expand:function(c){var l=this.active&&
this.active.children(".ui-menu ").find(this.options.items).first();l&&l.length&&(this._open(l.parent()),this._delay(function(){this.focus(c,l)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(c,l,n){var w;this.active&&(w="first"===c||"last"===c?this.active["first"===
c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0));w&&w.length&&this.active||(w=this.activeMenu.find(this.options.items)[l]());this.focus(n,w)},nextPage:function(c){var l,n,w;return this.active?(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,w=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return l=d(this),0>l.offset().top-n-w}),this.focus(c,l)):this.focus(c,this.activeMenu.find(this.options.items)[this.active?
"last":"first"]())),void 0):(this.next(c),void 0)},previousPage:function(c){var l,n,w;return this.active?(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,w=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return l=d(this),0<l.offset().top-n+w}),this.focus(c,l)):this.focus(c,this.activeMenu.find(this.options.items).first())),void 0):(this.next(c),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=
this.active||d(c.target).closest(".ui-menu-item");var l={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,l)},_filterMenuItems:function(c){c=c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var l=RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return l.test(d.trim(d(this).children(".ui-menu-item-wrapper").text()))})}});d.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",
options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var c,l,n,w=this.element[0].nodeName.toLowerCase(),z="textarea"===w;w="input"===w;this.isMultiLine=z||!w&&this._isContentEditable(this.element);this.valueMethod=this.element[z||w?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");
this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(x){if(this.element.prop("readOnly"))return c=!0,n=!0,l=!0,void 0;l=n=c=!1;var J=d.ui.keyCode;switch(x.keyCode){case J.PAGE_UP:c=!0;this._move("previousPage",x);break;case J.PAGE_DOWN:c=!0;this._move("nextPage",x);break;case J.UP:c=!0;this._keyEvent("previous",x);break;case J.DOWN:c=!0;this._keyEvent("next",x);break;case J.ENTER:this.menu.active&&(c=!0,x.preventDefault(),this.menu.select(x));break;case J.TAB:this.menu.active&&
this.menu.select(x);break;case J.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(x),x.preventDefault());break;default:l=!0,this._searchTimeout(x)}},keypress:function(x){if(c)return c=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&x.preventDefault(),void 0;if(!l){var J=d.ui.keyCode;switch(x.keyCode){case J.PAGE_UP:this._move("previousPage",x);break;case J.PAGE_DOWN:this._move("nextPage",x);break;case J.UP:this._keyEvent("previous",x);break;case J.DOWN:this._keyEvent("next",
x)}}},input:function(x){return n?(n=!1,x.preventDefault(),void 0):(this._searchTimeout(x),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(x){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(x),this._change(x),void 0)}});this._initSource();this.menu=d("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,
{mousedown:function(x){x.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==d.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(x,J){var v,K;return this.isNewMenu&&(this.isNewMenu=!1,x.originalEvent&&/^mouse/.test(x.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){d(x.target).trigger(x.originalEvent)}),void 0):(K=J.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",x,
{item:K})&&x.originalEvent&&/^key/.test(x.originalEvent.type)&&this._value(K.value),v=J.item.attr("aria-label")||K.value,v&&d.trim(v).length&&(this.liveRegion.children().hide(),d("<div>").text(v).appendTo(this.liveRegion)),void 0)},menuselect:function(x,J){var v=J.item.data("ui-autocomplete-item"),K=this.previous;this.element[0]!==d.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=K,this._delay(function(){this.previous=K;this.selectedItem=v}));!1!==this._trigger("select",
x,{item:v})&&this._value(v.value);this.term=this._value();this.close(x);this.selectedItem=v}});this.liveRegion=d("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},
_setOption:function(c,l){this._super(c,l);"source"===c&&this._initSource();"appendTo"===c&&this.menu.element.appendTo(this._appendTo());"disabled"===c&&l&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(c){var l=this.menu.element[0];return c.target===this.element[0]||c.target===l||d.contains(l,c.target)},_closeOnClickOutside:function(c){this._isEventTargetInWidget(c)||this.close()},_appendTo:function(){var c=this.options.appendTo;return c&&=c.jquery||c.nodeType?d(c):this.document.find(c).eq(0),
c&&c[0]||(c=this.element.closest(".ui-front, dialog")),c.length||(c=this.document[0].body),c},_initSource:function(){var c,l,n=this;d.isArray(this.options.source)?(c=this.options.source,this.source=function(w,z){z(d.ui.autocomplete.filter(c,w.term))}):"string"==typeof this.options.source?(l=this.options.source,this.source=function(w,z){n.xhr&&n.xhr.abort();n.xhr=d.ajax({url:l,data:w,dataType:"json",success:function(x){z(x)},error:function(){z([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching);
this.searching=this._delay(function(){var l=this.term===this._value(),n=this.menu.element.is(":visible"),w=c.altKey||c.ctrlKey||c.metaKey||c.shiftKey;l&&(!l||n||w)||(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,l){return c=null!=c?c:this._value(),this.term=this._value(),c.length<this.options.minLength?this.close(l):!1!==this._trigger("search",l)?this._search(c):void 0},_search:function(c){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=
!1;this.source({term:c},this._response())},_response:function(){var c=++this.requestIndex;return d.proxy(function(l){c===this.requestIndex&&this.__response(l);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(c){c&&=this._normalize(c);this._trigger("response",null,{content:c});!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0;this._close(c)},_close:function(c){this._off(this.document,
"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:d.map(c,function(l){return"string"==typeof l?{label:l,value:l}:d.extend({},l,{label:l.label||l.value,value:l.value||l.label})})},_suggest:function(c){var l=this.menu.element.empty();this._renderMenu(l,
c);this.isNewMenu=!0;this.menu.refresh();l.show();this._resizeMenu();l.position(d.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,l){var n=this;d.each(l,function(w,z){n._renderItemData(c,z)})},_renderItemData:function(c,l){return this._renderItem(c,l).data("ui-autocomplete-item",
l)},_renderItem:function(c,l){return d("<li>").append(d("<div>").text(l.label)).appendTo(c)},_move:function(c,l){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[c](l),void 0):(this.search(null,l),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(c,l){this.isMultiLine&&
!this.menu.element.is(":visible")||(this._move(c,l),l.preventDefault())},_isContentEditable:function(c){if(!c.length)return!1;var l=c.prop("contentEditable");return"inherit"===l?this._isContentEditable(c.parent()):"true"===l}});d.extend(d.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,l){var n=RegExp(d.ui.autocomplete.escapeRegex(l),"i");return d.grep(c,function(w){return n.test(w.label||w.value||w)})}});d.widget("ui.autocomplete",
d.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(1<c?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var l;this._superApply(arguments);this.options.disabled||this.cancelSearch||(l=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults,this.liveRegion.children().hide(),d("<div>").text(l).appendTo(this.liveRegion))}});d.ui.autocomplete;d.extend(d.ui,{datepicker:{version:"1.12.1"}});
var u;d.extend(X.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(c){return f(this._defaults,c||{}),this},_attachDatepicker:function(c,l){var n=c.nodeName.toLowerCase();var w="div"===n||"span"===n;c.id||(this.uuid+=1,c.id="dp"+this.uuid);var z=this._newInst(d(c),w);z.settings=d.extend({},l||{});"input"===n?this._connectDatepicker(c,z):w&&this._inlineDatepicker(c,z)},_newInst:function(c,l){return{id:c[0].id.replace(/([^A-Za-z0-9_\-])/g,
"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:l,dpDiv:l?a(d("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(c,l){var n=d(c);l.append=d([]);l.trigger=d([]);n.hasClass(this.markerClassName)||(this._attachments(n,l),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(l),
d.data(c,"datepicker",l),l.settings.disabled&&this._disableDatepicker(c))},_attachments:function(c,l){var n,w;var z=this._get(l,"appendText");var x=this._get(l,"isRTL");l.append&&l.append.remove();z&&(l.append=d("<span class='"+this._appendClass+"'>"+z+"</span>"),c[x?"before":"after"](l.append));c.off("focus",this._showDatepicker);l.trigger&&l.trigger.remove();z=this._get(l,"showOn");"focus"!==z&&"both"!==z||c.on("focus",this._showDatepicker);"button"!==z&&"both"!==z||(n=this._get(l,"buttonText"),
w=this._get(l,"buttonImage"),l.trigger=d(this._get(l,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:w,alt:n,title:n}):d("<button type='button'></button>").addClass(this._triggerClass).html(w?d("<img/>").attr({src:w,alt:n,title:n}):n)),c[x?"before":"after"](l.trigger),l.trigger.on("click",function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput===c[0]?d.datepicker._hideDatepicker():d.datepicker._datepickerShowing&&d.datepicker._lastInput!==c[0]?(d.datepicker._hideDatepicker(),
d.datepicker._showDatepicker(c[0])):d.datepicker._showDatepicker(c[0]),!1}))},_autoSize:function(c){if(this._get(c,"autoSize")&&!c.inline){var l,n,w,z,x=new Date(2009,11,20),J=this._get(c,"dateFormat");J.match(/[DM]/)&&(l=function(v){for(z=w=n=0;v.length>z;z++)v[z].length>n&&(n=v[z].length,w=z);return w},x.setMonth(l(this._get(c,J.match(/MM/)?"monthNames":"monthNamesShort"))),x.setDate(l(this._get(c,J.match(/DD/)?"dayNames":"dayNamesShort"))+20-x.getDay()));c.input.attr("size",this._formatDate(c,
x).length)}},_inlineDatepicker:function(c,l){var n=d(c);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(l.dpDiv),d.data(c,"datepicker",l),this._setDate(l,this._getDefaultDate(l),!0),this._updateDatepicker(l),this._updateAlternate(l),l.settings.disabled&&this._disableDatepicker(c),l.dpDiv.css("display","block"))},_dialogDatepicker:function(c,l,n,w,z){var x,J,v,K,D;c=this._dialogInst;return c||(this.uuid+=1,x="dp"+this.uuid,this._dialogInput=d("<input type='text' id='"+x+
"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),d("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},d.data(this._dialogInput[0],"datepicker",c)),f(c.settings,w||{}),l=l&&l.constructor===Date?this._formatDate(c,l):l,this._dialogInput.val(l),this._pos=z?z.length?z:[z.pageX,z.pageY]:null,this._pos||(J=document.documentElement.clientWidth,v=document.documentElement.clientHeight,K=document.documentElement.scrollLeft||
document.body.scrollLeft,D=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[J/2-100+K,v/2-150+D]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(c){var l,n=d(c),w=d.data(c,"datepicker");n.hasClass(this.markerClassName)&&
(l=c.nodeName.toLowerCase(),d.removeData(c,"datepicker"),"input"===l?(w.append.remove(),w.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===l||"span"===l)&&n.removeClass(this.markerClassName).empty(),u===w&&(u=null))},_enableDatepicker:function(c){var l,n,w=d(c),z=d.data(c,"datepicker");w.hasClass(this.markerClassName)&&(l=c.nodeName.toLowerCase(),"input"===l?(c.disabled=
!1,z.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===l||"span"===l)&&(n=w.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=d.map(this._disabledInputs,function(x){return x===c?null:x}))},_disableDatepicker:function(c){var l,n,w=d(c),z=d.data(c,"datepicker");w.hasClass(this.markerClassName)&&(l=
c.nodeName.toLowerCase(),"input"===l?(c.disabled=!0,z.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===l||"span"===l)&&(n=w.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=d.map(this._disabledInputs,function(x){return x===c?null:x}),this._disabledInputs[this._disabledInputs.length]=c)},_isDisabledDatepicker:function(c){if(!c)return!1;
for(var l=0;this._disabledInputs.length>l;l++)if(this._disabledInputs[l]===c)return!0;return!1},_getInst:function(c){try{return d.data(c,"datepicker")}catch(l){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,l,n){var w,z,x,J,v=this._getInst(c);return 2===arguments.length&&"string"==typeof l?"defaults"===l?d.extend({},d.datepicker._defaults):v?"all"===l?d.extend({},v.settings):this._get(v,l):null:(w=l||{},"string"==typeof l&&(w={},w[l]=n),v&&(this._curInst===v&&this._hideDatepicker(),
z=this._getDateDatepicker(c,!0),x=this._getMinMaxDate(v,"min"),J=this._getMinMaxDate(v,"max"),f(v.settings,w),null!==x&&void 0!==w.dateFormat&&void 0===w.minDate&&(v.settings.minDate=this._formatDate(v,x)),null!==J&&void 0!==w.dateFormat&&void 0===w.maxDate&&(v.settings.maxDate=this._formatDate(v,J)),"disabled"in w&&(w.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(d(c),v),this._autoSize(v),this._setDate(v,z),this._updateAlternate(v),this._updateDatepicker(v)),void 0)},
_changeDatepicker:function(c,l,n){this._optionDatepicker(c,l,n)},_refreshDatepicker:function(c){(c=this._getInst(c))&&this._updateDatepicker(c)},_setDateDatepicker:function(c,l){(c=this._getInst(c))&&(this._setDate(c,l),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(c,l){c=this._getInst(c);return c&&!c.inline&&this._setDateFromField(c,l),c?this._getDate(c):null},_doKeyDown:function(c){var l,n,w,z=d.datepicker._getInst(c.target),x=!0,J=z.dpDiv.is(".ui-datepicker-rtl");
if(z._keyEvent=!0,d.datepicker._datepickerShowing)switch(c.keyCode){case 9:d.datepicker._hideDatepicker();x=!1;break;case 13:return w=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",z.dpDiv),w[0]&&d.datepicker._selectDay(c.target,z.selectedMonth,z.selectedYear,w[0]),l=d.datepicker._get(z,"onSelect"),l?(n=d.datepicker._formatDate(z),l.apply(z.input?z.input[0]:null,[n,z])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(c.target,
c.ctrlKey?-d.datepicker._get(z,"stepBigMonths"):-d.datepicker._get(z,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(c.target,c.ctrlKey?+d.datepicker._get(z,"stepBigMonths"):+d.datepicker._get(z,"stepMonths"),"M");break;case 35:(c.ctrlKey||c.metaKey)&&d.datepicker._clearDate(c.target);x=c.ctrlKey||c.metaKey;break;case 36:(c.ctrlKey||c.metaKey)&&d.datepicker._gotoToday(c.target);x=c.ctrlKey||c.metaKey;break;case 37:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,J?1:-1,"D");x=c.ctrlKey||
c.metaKey;c.originalEvent.altKey&&d.datepicker._adjustDate(c.target,c.ctrlKey?-d.datepicker._get(z,"stepBigMonths"):-d.datepicker._get(z,"stepMonths"),"M");break;case 38:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,-7,"D");x=c.ctrlKey||c.metaKey;break;case 39:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,J?-1:1,"D");x=c.ctrlKey||c.metaKey;c.originalEvent.altKey&&d.datepicker._adjustDate(c.target,c.ctrlKey?+d.datepicker._get(z,"stepBigMonths"):+d.datepicker._get(z,"stepMonths"),
"M");break;case 40:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,7,"D");x=c.ctrlKey||c.metaKey;break;default:x=!1}else 36===c.keyCode&&c.ctrlKey?d.datepicker._showDatepicker(this):x=!1;x&&(c.preventDefault(),c.stopPropagation())},_doKeyPress:function(c){var l,n,w=d.datepicker._getInst(c.target);return d.datepicker._get(w,"constrainInput")?(l=d.datepicker._possibleChars(d.datepicker._get(w,"dateFormat")),n=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||
" ">n||!l||-1<l.indexOf(n)):void 0},_doKeyUp:function(c){var l;c=d.datepicker._getInst(c.target);if(c.input.val()!==c.lastVal)try{(l=d.datepicker.parseDate(d.datepicker._get(c,"dateFormat"),c.input?c.input.val():null,d.datepicker._getFormatConfig(c)))&&(d.datepicker._setDateFromField(c),d.datepicker._updateAlternate(c),d.datepicker._updateDatepicker(c))}catch(n){}return!0},_showDatepicker:function(c){if(c=c.target||c,"input"!==c.nodeName.toLowerCase()&&(c=d("input",c.parentNode)[0]),!d.datepicker._isDisabledDatepicker(c)&&
d.datepicker._lastInput!==c){var l,n,w,z;var x=d.datepicker._getInst(c);d.datepicker._curInst&&d.datepicker._curInst!==x&&(d.datepicker._curInst.dpDiv.stop(!0,!0),x&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0]));var J=(J=d.datepicker._get(x,"beforeShow"))?J.apply(c,[c,x]):{};!1!==J&&(f(x.settings,J),x.lastVal=null,d.datepicker._lastInput=c,d.datepicker._setDateFromField(x),d.datepicker._inDialog&&(c.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(c),
d.datepicker._pos[1]+=c.offsetHeight),l=!1,d(c).parents().each(function(){return l|="fixed"===d(this).css("position"),!l}),n={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,x.dpDiv.empty(),x.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(x),n=d.datepicker._checkOffset(x,n,l),x.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":l?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),x.inline||(w=d.datepicker._get(x,
"showAnim"),z=d.datepicker._get(x,"duration"),x.dpDiv.css("z-index",N(d(c))+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects.effect[w]?x.dpDiv.show(w,d.datepicker._get(x,"showOptions"),z):x.dpDiv[w||"show"](w?z:null),d.datepicker._shouldFocusInput(x)&&x.input.trigger("focus"),d.datepicker._curInst=x))}},_updateDatepicker:function(c){this.maxRows=4;u=c;c.dpDiv.empty().append(this._generateHTML(c));this._attachHandlers(c);var l,n=this._getNumberOfMonths(c),w=n[1],z=c.dpDiv.find("."+this._dayOverClass+
" a");0<z.length&&h.apply(z.get(0));c.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<w&&c.dpDiv.addClass("ui-datepicker-multi-"+w).css("width",17*w+"em");c.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi");c.dpDiv[(this._get(c,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");c===d.datepicker._curInst&&d.datepicker._datepickerShowing&&d.datepicker._shouldFocusInput(c)&&c.input.trigger("focus");c.yearshtml&&(l=c.yearshtml,
setTimeout(function(){l===c.yearshtml&&c.yearshtml&&c.dpDiv.find("select.ui-datepicker-year:first").replaceWith(c.yearshtml);l=c.yearshtml=null},0))},_shouldFocusInput:function(c){return c.input&&c.input.is(":visible")&&!c.input.is(":disabled")&&!c.input.is(":focus")},_checkOffset:function(c,l,n){var w=c.dpDiv.outerWidth(),z=c.dpDiv.outerHeight(),x=c.input?c.input.outerWidth():0,J=c.input?c.input.outerHeight():0,v=document.documentElement.clientWidth+(n?0:d(document).scrollLeft()),K=document.documentElement.clientHeight+
(n?0:d(document).scrollTop());return l.left-=this._get(c,"isRTL")?w-x:0,l.left-=n&&l.left===c.input.offset().left?d(document).scrollLeft():0,l.top-=n&&l.top===c.input.offset().top+J?d(document).scrollTop():0,l.left-=Math.min(l.left,l.left+w>v&&v>w?Math.abs(l.left+w-v):0),l.top-=Math.min(l.top,l.top+z>K&&K>z?Math.abs(z+J):0),l},_findPos:function(c){var l,n=this._getInst(c);for(n=this._get(n,"isRTL");c&&("hidden"===c.type||1!==c.nodeType||d.expr.filters.hidden(c));)c=c[n?"previousSibling":"nextSibling"];
return l=d(c).offset(),[l.left,l.top]},_hideDatepicker:function(c){var l,n,w,z,x=this._curInst;!x||c&&x!==d.data(c,"datepicker")||this._datepickerShowing&&(l=this._get(x,"showAnim"),n=this._get(x,"duration"),w=function(){d.datepicker._tidyDialog(x)},d.effects&&(d.effects.effect[l]||d.effects[l])?x.dpDiv.hide(l,d.datepicker._get(x,"showOptions"),n,w):x.dpDiv["slideDown"===l?"slideUp":"fadeIn"===l?"fadeOut":"hide"](l?n:null,w),l||w(),this._datepickerShowing=!1,z=this._get(x,"onClose"),z&&z.apply(x.input?
x.input[0]:null,[x.input?x.input.val():"",x]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(c){c.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(c){if(d.datepicker._curInst){c=d(c.target);var l=d.datepicker._getInst(c[0]);(!(c[0].id===d.datepicker._mainDivId||0!==c.parents("#"+d.datepicker._mainDivId).length||
c.hasClass(d.datepicker.markerClassName)||c.closest("."+d.datepicker._triggerClass).length||!d.datepicker._datepickerShowing||d.datepicker._inDialog&&d.blockUI)||c.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!==l)&&d.datepicker._hideDatepicker()}},_adjustDate:function(c,l,n){c=d(c);var w=this._getInst(c[0]);this._isDisabledDatepicker(c[0])||(this._adjustInstDate(w,l+("M"===n?this._get(w,"showCurrentAtPos"):0),n),this._updateDatepicker(w))},_gotoToday:function(c){var l;c=d(c);var n=
this._getInst(c[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(l=new Date,n.selectedDay=l.getDate(),n.drawMonth=n.selectedMonth=l.getMonth(),n.drawYear=n.selectedYear=l.getFullYear());this._notifyChange(n);this._adjustDate(c)},_selectMonthYear:function(c,l,n){c=d(c);var w=this._getInst(c[0]);w["selected"+("M"===n?"Month":"Year")]=w["draw"+("M"===n?"Month":"Year")]=parseInt(l.options[l.selectedIndex].value,
10);this._notifyChange(w);this._adjustDate(c)},_selectDay:function(c,l,n,w){var z,x=d(c);d(w).hasClass(this._unselectableClass)||this._isDisabledDatepicker(x[0])||(z=this._getInst(x[0]),z.selectedDay=z.currentDay=d("a",w).html(),z.selectedMonth=z.currentMonth=l,z.selectedYear=z.currentYear=n,this._selectDate(c,this._formatDate(z,z.currentDay,z.currentMonth,z.currentYear)))},_clearDate:function(c){c=d(c);this._selectDate(c,"")},_selectDate:function(c,l){c=d(c);var n=this._getInst(c[0]);l=null!=l?l:
this._formatDate(n);n.input&&n.input.val(l);this._updateAlternate(n);(c=this._get(n,"onSelect"))?c.apply(n.input?n.input[0]:null,[l,n]):n.input&&n.input.trigger("change");n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(c){var l,n,w,z=this._get(c,"altField");z&&(l=this._get(c,"altFormat")||this._get(c,"dateFormat"),n=this._getDate(c),w=this.formatDate(l,n,this._getFormatConfig(c)),
d(z).val(w))},noWeekends:function(c){c=c.getDay();return[0<c&&6>c,""]},iso8601Week:function(c){var l;c=new Date(c.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),l=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((l-c)/864E5)/7)+1},parseDate:function(c,l,n){if(null==c||null==l)throw"Invalid arguments";if(l="object"==typeof l?""+l:l+"",""===l)return null;var w,z,x,J=0,v=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;v="string"!=typeof v?v:(new Date).getFullYear()%
100+parseInt(v,10);var K=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,D=(n?n.dayNames:null)||this._defaults.dayNames,M=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort;n=(n?n.monthNames:null)||this._defaults.monthNames;var Q=-1,G=-1,T=-1,S=-1,R=!1,ca=function(ma){ma=c.length>w+1&&c.charAt(w+1)===ma;return ma&&w++,ma},ha=function(ma){var Aa=ca(ma);Aa="@"===ma?14:"!"===ma?20:"y"===ma&&Aa?4:"o"===ma?3:2;ma=RegExp("^\\d{"+("y"===ma?Aa:1)+","+Aa+"}");ma=l.substring(J).match(ma);if(!ma)throw"Missing number at position "+
J;return J+=ma[0].length,parseInt(ma[0],10)},ra=function(ma,Aa,Da){var Fa=-1;ma=d.map(ca(ma)?Da:Aa,function(Oa,Ga){return[[Ga,Oa]]}).sort(function(Oa,Ga){return-(Oa[1].length-Ga[1].length)});if(d.each(ma,function(Oa,Ga){Oa=Ga[1];return l.substr(J,Oa.length).toLowerCase()===Oa.toLowerCase()?(Fa=Ga[0],J+=Oa.length,!1):void 0}),-1!==Fa)return Fa+1;throw"Unknown name at position "+J;},Ia=function(){if(l.charAt(J)!==c.charAt(w))throw"Unexpected literal at position "+J;J++};for(w=0;c.length>w;w++)if(R)"'"!==
c.charAt(w)||ca("'")?Ia():R=!1;else switch(c.charAt(w)){case "d":T=ha("d");break;case "D":ra("D",K,D);break;case "o":S=ha("o");break;case "m":G=ha("m");break;case "M":G=ra("M",M,n);break;case "y":Q=ha("y");break;case "@":var ja=new Date(ha("@"));Q=ja.getFullYear();G=ja.getMonth()+1;T=ja.getDate();break;case "!":ja=new Date((ha("!")-this._ticksTo1970)/1E4);Q=ja.getFullYear();G=ja.getMonth()+1;T=ja.getDate();break;case "'":ca("'")?Ia():R=!0;break;default:Ia()}if(l.length>J&&(x=l.substr(J),!/^\s+/.test(x)))throw"Extra/unparsed characters found in date: "+
x;if(-1===Q?Q=(new Date).getFullYear():100>Q&&(Q+=(new Date).getFullYear()-(new Date).getFullYear()%100+(v>=Q?0:-100)),-1<S)for(G=1,T=S;!(z=this._getDaysInMonth(Q,G-1),z>=T);)G++,T-=z;if(ja=this._daylightSavingAdjust(new Date(Q,G-1,T)),ja.getFullYear()!==Q||ja.getMonth()+1!==G||ja.getDate()!==T)throw"Invalid date";return ja},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",
TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*719162,formatDate:function(c,l,n){if(!l)return"";var w,z=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,x=(n?n.dayNames:null)||this._defaults.dayNames,J=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort;n=(n?n.monthNames:null)||this._defaults.monthNames;var v=function(G){G=c.length>w+1&&c.charAt(w+1)===G;return G&&w++,G},K=function(G,T,S){T=""+T;if(v(G))for(;S>T.length;)T="0"+T;return T},D=function(G,T,S,R){return v(G)?R[T]:S[T]},M=
"",Q=!1;if(l)for(w=0;c.length>w;w++)if(Q)"'"!==c.charAt(w)||v("'")?M+=c.charAt(w):Q=!1;else switch(c.charAt(w)){case "d":M+=K("d",l.getDate(),2);break;case "D":M+=D("D",l.getDay(),z,x);break;case "o":M+=K("o",Math.round(((new Date(l.getFullYear(),l.getMonth(),l.getDate())).getTime()-(new Date(l.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":M+=K("m",l.getMonth()+1,2);break;case "M":M+=D("M",l.getMonth(),J,n);break;case "y":M+=v("y")?l.getFullYear():(10>l.getFullYear()%100?"0":"")+l.getFullYear()%
100;break;case "@":M+=l.getTime();break;case "!":M+=1E4*l.getTime()+this._ticksTo1970;break;case "'":v("'")?M+="'":Q=!0;break;default:M+=c.charAt(w)}return M},_possibleChars:function(c){var l,n="",w=!1,z=function(x){x=c.length>l+1&&c.charAt(l+1)===x;return x&&l++,x};for(l=0;c.length>l;l++)if(w)"'"!==c.charAt(l)||z("'")?n+=c.charAt(l):w=!1;else switch(c.charAt(l)){case "d":case "m":case "y":case "@":n+="0123456789";break;case "D":case "M":return null;case "'":z("'")?n+="'":w=!0;break;default:n+=c.charAt(l)}return n},
_get:function(c,l){return void 0!==c.settings[l]?c.settings[l]:this._defaults[l]},_setDateFromField:function(c,l){if(c.input.val()!==c.lastVal){var n=this._get(c,"dateFormat"),w=c.lastVal=c.input?c.input.val():null,z=this._getDefaultDate(c),x=z,J=this._getFormatConfig(c);try{x=this.parseDate(n,w,J)||z}catch(v){w=l?"":w}c.selectedDay=x.getDate();c.drawMonth=c.selectedMonth=x.getMonth();c.drawYear=c.selectedYear=x.getFullYear();c.currentDay=w?x.getDate():0;c.currentMonth=w?x.getMonth():0;c.currentYear=
w?x.getFullYear():0;this._adjustInstDate(c)}},_getDefaultDate:function(c){return this._restrictMinMax(c,this._determineDate(c,this._get(c,"defaultDate"),new Date))},_determineDate:function(c,l,n){var w=function(x){var J=new Date;return J.setDate(J.getDate()+x),J},z=function(x){try{return d.datepicker.parseDate(d.datepicker._get(c,"dateFormat"),x,d.datepicker._getFormatConfig(c))}catch(Q){}var J=(x.toLowerCase().match(/^c/)?d.datepicker._getDate(c):null)||new Date,v=J.getFullYear(),K=J.getMonth();
J=J.getDate();for(var D=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,M=D.exec(x);M;){switch(M[2]||"d"){case "d":case "D":J+=parseInt(M[1],10);break;case "w":case "W":J+=7*parseInt(M[1],10);break;case "m":case "M":K+=parseInt(M[1],10);J=Math.min(J,d.datepicker._getDaysInMonth(v,K));break;case "y":case "Y":v+=parseInt(M[1],10),J=Math.min(J,d.datepicker._getDaysInMonth(v,K))}M=D.exec(x)}return new Date(v,K,J)};l=null==l||""===l?n:"string"==typeof l?z(l):"number"==typeof l?isNaN(l)?n:w(l):new Date(l.getTime());
return l=l&&"Invalid Date"==""+l?n:l,l&&(l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0)),this._daylightSavingAdjust(l)},_daylightSavingAdjust:function(c){return c?(c.setHours(12<c.getHours()?c.getHours()+2:0),c):null},_setDate:function(c,l,n){var w=!l,z=c.selectedMonth,x=c.selectedYear;l=this._restrictMinMax(c,this._determineDate(c,l,new Date));c.selectedDay=c.currentDay=l.getDate();c.drawMonth=c.selectedMonth=c.currentMonth=l.getMonth();c.drawYear=c.selectedYear=c.currentYear=
l.getFullYear();z===c.selectedMonth&&x===c.selectedYear||n||this._notifyChange(c);this._adjustInstDate(c);c.input&&c.input.val(w?"":this._formatDate(c))},_getDate:function(c){return!c.currentYear||c.input&&""===c.input.val()?null:this._daylightSavingAdjust(new Date(c.currentYear,c.currentMonth,c.currentDay))},_attachHandlers:function(c){var l=this._get(c,"stepMonths"),n="#"+c.id.replace(/\\\\/g,"\\");c.dpDiv.find("[data-handler]").map(function(){d(this).on(this.getAttribute("data-event"),{prev:function(){d.datepicker._adjustDate(n,
-l,"M")},next:function(){d.datepicker._adjustDate(n,+l,"M")},hide:function(){d.datepicker._hideDatepicker()},today:function(){d.datepicker._gotoToday(n)},selectDay:function(){return d.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return d.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return d.datepicker._selectMonthYear(n,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(c){var l,
n,w,z,x,J,v,K=new Date;K=this._daylightSavingAdjust(new Date(K.getFullYear(),K.getMonth(),K.getDate()));var D=this._get(c,"isRTL");var M=this._get(c,"showButtonPanel");var Q=this._get(c,"hideIfNoPrevNext");var G=this._get(c,"navigationAsDateFormat");var T=this._getNumberOfMonths(c),S=this._get(c,"showCurrentAtPos");var R=this._get(c,"stepMonths");var ca=1!==T[0]||1!==T[1],ha=this._daylightSavingAdjust(c.currentDay?new Date(c.currentYear,c.currentMonth,c.currentDay):new Date(9999,9,9)),ra=this._getMinMaxDate(c,
"min"),Ia=this._getMinMaxDate(c,"max");S=c.drawMonth-S;var ja=c.drawYear;if(0>S&&(S+=12,ja--),Ia){var ma=this._daylightSavingAdjust(new Date(Ia.getFullYear(),Ia.getMonth()-T[0]*T[1]+1,Ia.getDate()));for(ma=ra&&ra>ma?ra:ma;this._daylightSavingAdjust(new Date(ja,S,1))>ma;)S--,0>S&&(S=11,ja--)}c.drawMonth=S;c.drawYear=ja;ma=this._get(c,"prevText");ma=G?this.formatDate(ma,this._daylightSavingAdjust(new Date(ja,S-R,1)),this._getFormatConfig(c)):ma;ma=this._canAdjustMonth(c,-1,ja,S)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+
ma+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"e":"w")+"'>"+ma+"</span></a>":Q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+ma+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"e":"w")+"'>"+ma+"</span></a>";var Aa=this._get(c,"nextText");Aa=G?this.formatDate(Aa,this._daylightSavingAdjust(new Date(ja,S+R,1)),this._getFormatConfig(c)):Aa;Q=this._canAdjustMonth(c,1,ja,S)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+
Aa+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"w":"e")+"'>"+Aa+"</span></a>":Q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+Aa+"'><span class='ui-icon ui-icon-circle-triangle-"+(D?"w":"e")+"'>"+Aa+"</span></a>";R=this._get(c,"currentText");Aa=this._get(c,"gotoCurrent")&&c.currentDay?ha:K;R=G?this.formatDate(R,Aa,this._getFormatConfig(c)):R;G=c.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(c,"closeText")+"</button>";M=M?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(D?G:"")+(this._isInRange(c,Aa)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+R+"</button>":"")+(D?"":G)+"</div>":"";G=parseInt(this._get(c,"firstDay"),10);G=isNaN(G)?0:G;R=this._get(c,"showWeek");Aa=this._get(c,"dayNames");var Da=this._get(c,"dayNamesMin");var Fa=this._get(c,"monthNames");var Oa=this._get(c,
"monthNamesShort");var Ga=this._get(c,"beforeShowDay");var wa=this._get(c,"showOtherMonths");var Qa=this._get(c,"selectOtherMonths");var Wa=this._getDefaultDate(c);var Ba="";for(n=0;T[0]>n;n++){var Sa="";this.maxRows=4;for(w=0;T[1]>w;w++){if(z=this._daylightSavingAdjust(new Date(ja,S,c.selectedDay)),l=" ui-corner-all",x="",ca){if(x+="<div class='ui-datepicker-group",1<T[1])switch(w){case 0:x+=" ui-datepicker-group-first";l=" ui-corner-"+(D?"right":"left");break;case T[1]-1:x+=" ui-datepicker-group-last";
l=" ui-corner-"+(D?"left":"right");break;default:x+=" ui-datepicker-group-middle",l=""}x+="'>"}x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&0===n?D?Q:ma:"")+(/all|right/.test(l)&&0===n?D?ma:Q:"")+this._generateMonthYearHeader(c,S,ja,ra,Ia,0<n||0<w,Fa,Oa)+"</div><table class='ui-datepicker-calendar'><thead><tr>";var cb=R?"<th class='ui-datepicker-week-col'>"+this._get(c,"weekHeader")+"</th>":"";for(l=0;7>l;l++){var $a=(l+G)%7;cb+="<th scope='col'"+
(5<=(l+G+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+Aa[$a]+"'>"+Da[$a]+"</span></th>"}x+=cb+"</tr></thead><tbody>";cb=this._getDaysInMonth(ja,S);ja===c.selectedYear&&S===c.selectedMonth&&(c.selectedDay=Math.min(c.selectedDay,cb));l=(this._getFirstDayOfMonth(ja,S)-G+7)%7;cb=Math.ceil((l+cb)/7);this.maxRows=cb=ca?this.maxRows>cb?this.maxRows:cb:cb;$a=this._daylightSavingAdjust(new Date(ja,S,1-l));for(J=0;cb>J;J++){x+="<tr>";var rb=R?"<td class='ui-datepicker-week-col'>"+this._get(c,
"calculateWeek")($a)+"</td>":"";for(l=0;7>l;l++){var Hb=Ga?Ga.apply(c.input?c.input[0]:null,[$a]):[!0,""];var ib=(v=$a.getMonth()!==S)&&!Qa||!Hb[0]||ra&&ra>$a||Ia&&$a>Ia;rb+="<td class='"+(5<=(l+G+6)%7?" ui-datepicker-week-end":"")+(v?" ui-datepicker-other-month":"")+($a.getTime()===z.getTime()&&S===c.selectedMonth&&c._keyEvent||Wa.getTime()===$a.getTime()&&Wa.getTime()===z.getTime()?" "+this._dayOverClass:"")+(ib?" "+this._unselectableClass+" ui-state-disabled":"")+(v&&!wa?"":" "+Hb[1]+($a.getTime()===
ha.getTime()?" "+this._currentClass:"")+($a.getTime()===K.getTime()?" ui-datepicker-today":""))+"'"+(v&&!wa||!Hb[2]?"":" title='"+Hb[2].replace(/'/g,"&#39;")+"'")+(ib?"":" data-handler='selectDay' data-event='click' data-month='"+$a.getMonth()+"' data-year='"+$a.getFullYear()+"'")+">"+(v&&!wa?"&#xa0;":ib?"<span class='ui-state-default'>"+$a.getDate()+"</span>":"<a class='ui-state-default"+($a.getTime()===K.getTime()?" ui-state-highlight":"")+($a.getTime()===ha.getTime()?" ui-state-active":"")+(v?
" ui-priority-secondary":"")+"' href='#'>"+$a.getDate()+"</a>")+"</td>";$a.setDate($a.getDate()+1);$a=this._daylightSavingAdjust($a)}x+=rb+"</tr>"}S++;11<S&&(S=0,ja++);x+="</tbody></table>"+(ca?"</div>"+(0<T[0]&&w===T[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");Sa+=x}Ba+=Sa}return Ba+=M,c._keyEvent=!1,Ba},_generateMonthYearHeader:function(c,l,n,w,z,x,J,v){var K,D=this._get(c,"changeMonth"),M=this._get(c,"changeYear"),Q=this._get(c,"showMonthAfterYear"),G="<div class='ui-datepicker-title'>",
T="";if(x||!D)T+="<span class='ui-datepicker-month'>"+J[l]+"</span>";else{J=w&&w.getFullYear()===n;var S=z&&z.getFullYear()===n;T+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(K=0;12>K;K++)(!J||K>=w.getMonth())&&(!S||z.getMonth()>=K)&&(T+="<option value='"+K+"'"+(K===l?" selected='selected'":"")+">"+v[K]+"</option>");T+="</select>"}if(Q||(G+=T+(!x&&D&&M?"":"&#xa0;")),!c.yearshtml)if(c.yearshtml="",x||!M)G+="<span class='ui-datepicker-year'>"+n+"</span>";
else{v=this._get(c,"yearRange").split(":");var R=(new Date).getFullYear();J=function(ca){ca=ca.match(/c[+\-].*/)?n+parseInt(ca.substring(1),10):ca.match(/[+\-].*/)?R+parseInt(ca,10):parseInt(ca,10);return isNaN(ca)?R:ca};l=J(v[0]);v=Math.max(l,J(v[1]||""));l=w?Math.max(l,w.getFullYear()):l;v=z?Math.min(v,z.getFullYear()):v;for(c.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";v>=l;l++)c.yearshtml+="<option value='"+l+"'"+(l===n?" selected='selected'":
"")+">"+l+"</option>";c.yearshtml+="</select>";G+=c.yearshtml;c.yearshtml=null}return G+=this._get(c,"yearSuffix"),Q&&(G+=(!x&&D&&M?"":"&#xa0;")+T),G+="</div>"},_adjustInstDate:function(c,l,n){var w=c.selectedYear+("Y"===n?l:0),z=c.selectedMonth+("M"===n?l:0);l=Math.min(c.selectedDay,this._getDaysInMonth(w,z))+("D"===n?l:0);w=this._restrictMinMax(c,this._daylightSavingAdjust(new Date(w,z,l)));c.selectedDay=w.getDate();c.drawMonth=c.selectedMonth=w.getMonth();c.drawYear=c.selectedYear=w.getFullYear();
"M"!==n&&"Y"!==n||this._notifyChange(c)},_restrictMinMax:function(c,l){var n=this._getMinMaxDate(c,"min");c=this._getMinMaxDate(c,"max");l=n&&n>l?n:l;return c&&l>c?c:l},_notifyChange:function(c){var l=this._get(c,"onChangeMonthYear");l&&l.apply(c.input?c.input[0]:null,[c.selectedYear,c.selectedMonth+1,c])},_getNumberOfMonths:function(c){c=this._get(c,"numberOfMonths");return null==c?[1,1]:"number"==typeof c?[1,c]:c},_getMinMaxDate:function(c,l){return this._determineDate(c,this._get(c,l+"Date"),null)},
_getDaysInMonth:function(c,l){return 32-this._daylightSavingAdjust(new Date(c,l,32)).getDate()},_getFirstDayOfMonth:function(c,l){return(new Date(c,l,1)).getDay()},_canAdjustMonth:function(c,l,n,w){var z=this._getNumberOfMonths(c);n=this._daylightSavingAdjust(new Date(n,w+(0>l?l:z[0]*z[1]),1));return 0>l&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(c,n)},_isInRange:function(c,l){var n,w,z=this._getMinMaxDate(c,"min"),x=this._getMinMaxDate(c,"max"),J=null,v=null;c=
this._get(c,"yearRange");return c&&(n=c.split(":"),w=(new Date).getFullYear(),J=parseInt(n[0],10),v=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(J+=w),n[1].match(/[+\-].*/)&&(v+=w)),(!z||l.getTime()>=z.getTime())&&(!x||l.getTime()<=x.getTime())&&(!J||l.getFullYear()>=J)&&(!v||v>=l.getFullYear())},_getFormatConfig:function(c){var l=this._get(c,"shortYearCutoff");return l="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),{shortYearCutoff:l,dayNamesShort:this._get(c,"dayNamesShort"),dayNames:this._get(c,
"dayNames"),monthNamesShort:this._get(c,"monthNamesShort"),monthNames:this._get(c,"monthNames")}},_formatDate:function(c,l,n,w){l||(c.currentDay=c.selectedDay,c.currentMonth=c.selectedMonth,c.currentYear=c.selectedYear);l=l?"object"==typeof l?l:this._daylightSavingAdjust(new Date(w,n,l)):this._daylightSavingAdjust(new Date(c.currentYear,c.currentMonth,c.currentDay));return this.formatDate(this._get(c,"dateFormat"),l,this._getFormatConfig(c))}});d.fn.datepicker=function(c){if(!this.length)return this;
d.datepicker.initialized||(d(document).on("mousedown",d.datepicker._checkExternalClick),d.datepicker.initialized=!0);0===d("#"+d.datepicker._mainDivId).length&&d("body").append(d.datepicker.dpDiv);var l=Array.prototype.slice.call(arguments,1);return"string"!=typeof c||"isDisabled"!==c&&"getDate"!==c&&"widget"!==c?"option"===c&&2===arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+c+"Datepicker"].apply(d.datepicker,[this[0]].concat(l)):this.each(function(){"string"==typeof c?d.datepicker["_"+
c+"Datepicker"].apply(d.datepicker,[this].concat(l)):d.datepicker._attachDatepicker(this,c)}):d.datepicker["_"+c+"Datepicker"].apply(d.datepicker,[this[0]].concat(l))};d.datepicker=new X;d.datepicker.initialized=!1;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.12.1";d.datepicker;d.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var c=d(this).attr("title")||"";return d("<a>").text(c).html()},hide:!0,items:"[title]:not([disabled])",
position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(c,l){var n=(c.attr("aria-describedby")||"").split(/\s+/);n.push(l);c.data("ui-tooltip-id",l).attr("aria-describedby",d.trim(n.join(" ")))},_removeDescribedBy:function(c){var l=c.data("ui-tooltip-id"),n=(c.attr("aria-describedby")||"").split(/\s+/);l=d.inArray(l,n);-1!==l&&n.splice(l,1);c.removeData("ui-tooltip-id");(n=d.trim(n.join(" ")))?c.attr("aria-describedby",
n):c.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=d("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=d([])},_setOption:function(c,l){var n=this;this._super(c,l);"content"===c&&d.each(this.tooltips,function(w,z){n._updateContent(z.element)})},_setOptionDisabled:function(c){this[c?
"_disable":"_enable"]()},_disable:function(){var c=this;d.each(this.tooltips,function(l,n){l=d.Event("blur");l.target=l.currentTarget=n.element[0];c.close(l,!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var l=d(this);return l.is("[title]")?l.data("ui-tooltip-title",l.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var c=d(this);c.data("ui-tooltip-title")&&c.attr("title",c.data("ui-tooltip-title"))});
this.disabledTitles=d([])},open:function(c){var l=this,n=d(c?c.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),c&&"mouseover"===c.type&&n.parents().each(function(){var w,z=d(this);z.data("ui-tooltip-open")&&(w=d.Event("blur"),w.target=w.currentTarget=this,l.close(w,!0));z.attr("title")&&(z.uniqueId(),l.parents[this.id]={element:this,title:z.attr("title")},z.attr("title",""))}),
this._registerCloseHandlers(c,n),this._updateContent(n,c))},_updateContent:function(c,l){var n,w=this.options.content,z=this,x=l?l.type:null;return"string"==typeof w||w.nodeType||w.jquery?this._open(l,c,w):(n=w.call(c[0],function(J){z._delay(function(){c.data("ui-tooltip-open")&&(l&&(l.type=x),this._open(l,c,J))})}),n&&this._open(l,c,n),void 0)},_open:function(c,l,n){function w(K){J.of=K;v.is(":hidden")||v.position(J)}var z,x,J=d.extend({},this.options.position);if(n){if(z=this._find(l))return z.tooltip.find(".ui-tooltip-content").html(n),
void 0;l.is("[title]")&&(c&&"mouseover"===c.type?l.attr("title",""):l.removeAttr("title"));z=this._tooltip(l);var v=z.tooltip;this._addDescribedBy(l,v.attr("id"));v.find(".ui-tooltip-content").html(n);this.liveRegion.children().hide();n=d("<div>").html(v.find(".ui-tooltip-content").html());n.removeAttr("name").find("[name]").removeAttr("name");n.removeAttr("id").find("[id]").removeAttr("id");n.appendTo(this.liveRegion);this.options.track&&c&&/^mouse/.test(c.type)?(this._on(this.document,{mousemove:w}),
w(c)):v.position(d.extend({of:l},this.options.position));v.hide();this._show(v,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(x=this.delayedShow=setInterval(function(){v.is(":visible")&&(w(J.of),clearInterval(x))},d.fx.interval));this._trigger("open",c,{tooltip:v})}},_registerCloseHandlers:function(c,l){var n={keyup:function(w){w.keyCode===d.ui.keyCode.ESCAPE&&(w=d.Event(w),w.currentTarget=l[0],this.close(w,!0))}};l[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(l).tooltip)});
c&&"mouseover"!==c.type||(n.mouseleave="close");c&&"focusin"!==c.type||(n.focusout="close");this._on(!0,l,n)},close:function(c){var l,n=this,w=d(c?c.currentTarget:this.element),z=this._find(w);return z?(l=z.tooltip,z.closing||(clearInterval(this.delayedShow),w.data("ui-tooltip-title")&&!w.attr("title")&&w.attr("title",w.data("ui-tooltip-title")),this._removeDescribedBy(w),z.hiding=!0,l.stop(!0),this._hide(l,this.options.hide,function(){n._removeTooltip(d(this))}),w.removeData("ui-tooltip-open"),this._off(w,
"mouseleave focusout keyup"),w[0]!==this.element[0]&&this._off(w,"remove"),this._off(this.document,"mousemove"),c&&"mouseleave"===c.type&&d.each(this.parents,function(x,J){d(J.element).attr("title",J.title);delete n.parents[x]}),z.closing=!0,this._trigger("close",c,{tooltip:l}),z.hiding||(z.closing=!1)),void 0):(w.removeData("ui-tooltip-open"),void 0)},_tooltip:function(c){var l=d("<div>").attr("role","tooltip"),n=d("<div>").appendTo(l),w=l.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),
this._addClass(l,"ui-tooltip","ui-widget ui-widget-content"),l.appendTo(this._appendTo(c)),this.tooltips[w]={element:c,tooltip:l}},_find:function(c){return(c=c.data("ui-tooltip-id"))?this.tooltips[c]:null},_removeTooltip:function(c){c.remove();delete this.tooltips[c.attr("id")]},_appendTo:function(c){c=c.closest(".ui-front, dialog");return c.length||(c=this.document[0].body),c},_destroy:function(){var c=this;d.each(this.tooltips,function(l,n){var w=d.Event("blur");n=n.element;w.target=w.currentTarget=
n[0];c.close(w,!0);d("#"+l).remove();n.data("ui-tooltip-title")&&(n.attr("title")||n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});!1!==d.uiBackCompat&&d.widget("ui.tooltip",d.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var c=this._superApply(arguments);return this.options.tooltipClass&&c.tooltip.addClass(this.options.tooltipClass),c}});d.ui.tooltip});(function(d){d.widget("ui.progressbar",{options:{value:0},_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this._valueMin(),"aria-valuemax":this._valueMax(),"aria-valuenow":this._value()});this.valueDiv=d("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();d.Widget.prototype.destroy.apply(this,arguments)},value:function(N){if(void 0===N)return this._value();this._setOption("value",N);return this},_setOption:function(N,X){switch(N){case "value":this.options.value=X,this._refreshValue(),this._trigger("change")}d.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var N=this.options.value;"number"!==typeof N&&(N=0);N<this._valueMin()&&(N=this._valueMin());N>this._valueMax()&&(N=this._valueMax());return N},_valueMin:function(){return 0},
_valueMax:function(){return 100},_refreshValue:function(){var N=this.value();this.valueDiv[N===this._valueMax()?"addClass":"removeClass"]("ui-corner-right").width(N+"%");this.element.attr("aria-valuenow",N)}});d.extend(d.ui.progressbar,{version:"1.8.2"})})(jQuery);(function(d,N){d.store=function(X,a){var h=this;if("string"==typeof X)if(d.store.drivers[X])this.driver=d.store.drivers[X];else throw Error("Unknown driver "+X);else if("object"==typeof X){if(!(d.isFunction(X.init)&&d.isFunction(X.get)&&d.isFunction(X.set)&&d.isFunction(X.del)&&d.isFunction(X.flush)))throw Error("The specified driver does not fulfill the API requirements");this.driver=X}else d.each(d.store.drivers,function(){if(!d.isFunction(this.available)||!this.available())return!0;h.driver=this;
return!1===h.driver.init()?(h.driver=null,!0):!1});a||(a=d.store.serializers);this.serializers={};d.each(a,function(f,g){if(!d.isFunction(this.init))return!0;h.serializers[f]=this;h.serializers[f].init(h.encoders,h.decoders)})};d.extend(d.store.prototype,{get:function(X){X=this.driver.get(X);return this.driver.encodes?X:this.unserialize(X)},set:function(X,a){this.driver.set(X,this.driver.encodes?a:this.serialize(a))},del:function(X){this.driver.del(X)},flush:function(){this.driver.flush()},driver:N,
encoders:[],decoders:[],serialize:function(X){var a=this;d.each(this.encoders,function(){var h=a.serializers[this+""];if(!h||!h.encode)return!0;try{X=h.encode(X)}catch(f){}});return X},unserialize:function(X){var a=this;if(!X)return X;d.each(this.decoders,function(){var h=a.serializers[this+""];if(!h||!h.decode)return!0;X=h.decode(X)});return X}});d.store.drivers={localStorage:{ident:"$.store.drivers.localStorage",scope:"browser",available:function(){try{return!!window.localStorage}catch(X){return!1}},
init:d.noop,get:function(X){return window.localStorage.getItem(X)},set:function(X,a){window.localStorage.setItem(X,a)},del:function(X){window.localStorage.removeItem(X)},flush:function(){window.localStorage.clear()}},userData:{ident:"$.store.drivers.userData",element:null,nodeName:"userdatadriver",scope:"browser",initialized:!1,available:function(){try{return!(!document.documentElement||!document.documentElement.addBehavior)}catch(X){return!1}},init:function(){if(!this.initialized)try{this.element=
document.createElement(this.nodeName),document.documentElement.insertBefore(this.element,document.getElementsByTagName("title")[0]),this.element.addBehavior("#default#userData"),this.initialized=!0}catch(X){return!1}},get:function(X){this.element.load(this.nodeName);return this.element.getAttribute(X)},set:function(X,a){this.element.setAttribute(X,a);this.element.save(this.nodeName)},del:function(X){this.element.removeAttribute(X);this.element.save(this.nodeName)},flush:function(){this.element.expires=
(new Date).toUTCString();this.element.save(this.nodeName)}},windowName:{ident:"$.store.drivers.windowName",scope:"window",cache:{},encodes:!0,available:function(){return!0},init:function(){this.load()},save:function(){window.name=d.store.serializers.json.encode(this.cache)},load:function(){try{this.cache=d.store.serializers.json.decode(window.name+""),"object"!=typeof this.cache&&(this.cache={})}catch(X){this.cache={},window.name="{}"}},get:function(X){return this.cache[X]},set:function(X,a){this.cache[X]=
a;this.save()},del:function(X){try{delete this.cache[X]}catch(a){this.cache[X]=N}this.save()},flush:function(){window.name="{}"}}};d.store.serializers={json:{ident:"$.store.serializers.json",init:function(X,a){X.push("json");a.push("json")},encode:"object"==typeof JSON?JSON.stringify:d.JSON.stringify,decode:"object"==typeof JSON?JSON.parse:d.JSON.parse},xml:{ident:"$.store.serializers.xml",init:function(X,a){X.unshift("xml");a.push("xml")},isXML:function(X){return(X=(X?X.ownerDocument||X:0).documentElement)?
"html"!==X.nodeName.toLowerCase():!1},encode:function(X){if(!X||X._serialized||!this.isXML(X))return X;var a={_serialized:this.ident,value:X};try{return a.value=(new XMLSerializer).serializeToString(X),a}catch(h){try{return a.value=X.xml,a}catch(f){}}return X},decode:function(X){if(!X||!X._serialized||X._serialized!=this.ident)return X;var a="DOMParser"in window&&(new DOMParser).parseFromString;!a&&window.ActiveXObject&&(a=function(h){var f=new ActiveXObject("Microsoft.XMLDOM");f.async="false";f.loadXML(h);
return f});if(!a)return N;X.value=a.call("DOMParser"in window&&new DOMParser||window,X.value,"text/xml");return this.isXML(X.value)?X.value:N}}}})(jQuery);(function(d){d.fn.farbtastic=function(N){d.farbtastic(this,N);return this};d.farbtastic=function(N,X){N=d(N).get(0);return N.farbtastic||(N.farbtastic=new d._farbtastic(N,X))};d._farbtastic=function(N,X){var a=this;d(N).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var h=d(".farbtastic",N);a.wheel=d(".wheel",N).get(0);a.radius=84;a.square=100;a.width=194;navigator.appVersion.match(/MSIE [0-6]\./)&&
d("*",h).each(function(){if("none"!=this.currentStyle.backgroundImage){var f=this.currentStyle.backgroundImage;f=this.currentStyle.backgroundImage.substring(5,f.length-2);d(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+f+"')"})}});a.linkTo=function(f){"object"==typeof a.callback&&d(a.callback).unbind("keyup",a.updateValue);a.color=null;if("function"==typeof f)a.callback=f;else if("object"==typeof f||"string"==typeof f)a.callback=
d(f),a.callback.bind("keyup",a.updateValue),a.callback.get(0).value&&a.setColor(a.callback.get(0).value);return this};a.updateValue=function(){this.value&&this.value!=a.color&&a.setColor(this.value)};a.setColor=function(f){var g=a.unpack(f);a.color!=f&&g&&(a.color=f,a.rgb=g,a.hsl=a.RGBToHSL(a.rgb),a.updateDisplay());return this};a.setHSL=function(f){a.hsl=f;a.rgb=a.HSLToRGB(f);a.color=a.pack(a.rgb);a.updateDisplay();return this};a.widgetCoords=function(f){var g=d(a.wheel).offset();return{x:f.pageX-
g.left-a.width/2,y:f.pageY-g.top-a.width/2}};a.mousedown=function(f){document.dragging||(d(document).bind("mousemove",a.mousemove).bind("mouseup",a.mouseup),document.dragging=!0);var g=a.widgetCoords(f);a.circleDrag=2*Math.max(Math.abs(g.x),Math.abs(g.y))>a.square;a.mousemove(f);return!1};a.mousemove=function(f){f=a.widgetCoords(f);a.circleDrag?(f=Math.atan2(f.x,-f.y)/6.28,0>f&&(f+=1),a.setHSL([f,a.hsl[1],a.hsl[2]])):a.setHSL([a.hsl[0],Math.max(0,Math.min(1,-(f.x/a.square)+.5)),Math.max(0,Math.min(1,
-(f.y/a.square)+.5))]);return!1};a.mouseup=function(){d(document).unbind("mousemove",a.mousemove);d(document).unbind("mouseup",a.mouseup);document.dragging=!1};a.updateDisplay=function(){var f=6.28*a.hsl[0];d(".h-marker",h).css({left:Math.round(Math.sin(f)*a.radius+a.width/2)+"px",top:Math.round(-Math.cos(f)*a.radius+a.width/2)+"px"});d(".sl-marker",h).css({left:Math.round(a.square*(.5-a.hsl[1])+a.width/2)+"px",top:Math.round(a.square*(.5-a.hsl[2])+a.width/2)+"px"});d(".color",h).css("backgroundColor",
a.pack(a.HSLToRGB([a.hsl[0],1,.5])));"object"==typeof a.callback?(d(a.callback).css({backgroundColor:a.color,color:.5<a.hsl[2]?"#000":"#fff"}),d(a.callback).each(function(){this.value&&this.value!=a.color&&(this.value=a.color)})):"function"==typeof a.callback&&a.callback.call(a,a.color)};a.pack=function(f){var g=Math.round(255*f[0]),e=Math.round(255*f[1]);f=Math.round(255*f[2]);return"#"+(16>g?"0":"")+g.toString(16)+(16>e?"0":"")+e.toString(16)+(16>f?"0":"")+f.toString(16)};a.unpack=function(f){if(7==
f.length)return[parseInt("0x"+f.substring(1,3))/255,parseInt("0x"+f.substring(3,5))/255,parseInt("0x"+f.substring(5,7))/255];if(4==f.length)return[parseInt("0x"+f.substring(1,2))/15,parseInt("0x"+f.substring(2,3))/15,parseInt("0x"+f.substring(3,4))/15]};a.HSLToRGB=function(f){var g=f[0];var e=f[1];f=f[2];e=.5>=f?f*(e+1):f+e-f*e;f=2*f-e;return[this.hueToRGB(f,e,g+.33333),this.hueToRGB(f,e,g),this.hueToRGB(f,e,g-.33333)]};a.hueToRGB=function(f,g,e){e=0>e?e+1:1<e?e-1:e;return 1>6*e?f+(g-f)*e*6:1>2*e?
g:2>3*e?f+(g-f)*(.66666-e)*6:f};a.RGBToHSL=function(f){var g=f[0],e=f[1],m=f[2];var p=Math.min(g,Math.min(e,m));f=Math.max(g,Math.max(e,m));var u=f-p;var c=(p+f)/2;var l=0;0<c&&1>c&&(l=u/(.5>c?2*c:2-2*c));p=0;0<u&&(f==g&&f!=e&&(p+=(e-m)/u),f==e&&f!=m&&(p+=2+(m-g)/u),f==m&&f!=g&&(p+=4+(g-e)/u),p/=6);return[p,l,c]};d("*",h).mousedown(a.mousedown);a.setColor("#000000");X&&a.linkTo(X)}})(jQuery);/*
 jquery-timepicker v1.11.5 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 Copyright (c) 2016 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 License: MIT
*/
!function(d){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?d(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],d):d(jQuery)}(function(d){function N(G){G=G[0];return 0<G.offsetWidth&&0<G.offsetHeight}function X(G){if(G.minTime&&(G.minTime=K(G.minTime)),G.maxTime&&(G.maxTime=K(G.maxTime)),G.durationTime&&"function"!=typeof G.durationTime&&(G.durationTime=K(G.durationTime)),"now"==G.scrollDefault)G.scrollDefault=function(){return G.roundingFunction(K(new Date),
G)};else if(G.scrollDefault&&"function"!=typeof G.scrollDefault){var T=G.scrollDefault;G.scrollDefault=function(){return G.roundingFunction(K(T),G)}}else G.minTime&&(G.scrollDefault=function(){return G.roundingFunction(G.minTime,G)});if("string"===d.type(G.timeFormat)&&G.timeFormat.match(/[gh]/)&&(G._twelveHourTime=!0),!1===G.showOnFocus&&-1!=G.showOn.indexOf("focus")&&G.showOn.splice(G.showOn.indexOf("focus"),1),0<G.disableTimeRanges.length){for(var S in G.disableTimeRanges)G.disableTimeRanges[S]=
[K(G.disableTimeRanges[S][0]),K(G.disableTimeRanges[S][1])];G.disableTimeRanges=G.disableTimeRanges.sort(function(R,ca){return R[0]-ca[0]});for(S=G.disableTimeRanges.length-1;0<S;S--)G.disableTimeRanges[S][0]<=G.disableTimeRanges[S-1][1]&&(G.disableTimeRanges[S-1]=[Math.min(G.disableTimeRanges[S][0],G.disableTimeRanges[S-1][0]),Math.max(G.disableTimeRanges[S][1],G.disableTimeRanges[S-1][1])],G.disableTimeRanges.splice(S,1))}return G}function a(G){var T=G.data("timepicker-settings"),S=G.data("timepicker-list");
if(S&&S.length&&(S.remove(),G.data("timepicker-list",!1)),T.useSelect)var R=S=d("<select />",{"class":"ui-timepicker-select"});else S=d("<ul />",{"class":"ui-timepicker-list"}),R=d("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1}),R.css({display:"none",position:"absolute"}).append(S);if(T.noneOption)if(!0===T.noneOption&&(T.noneOption=T.useSelect?"Time...":"None"),d.isArray(T.noneOption))for(var ca in T.noneOption){if(parseInt(ca,10)==ca){var ha=h(T.noneOption[ca],T.useSelect);S.append(ha)}}else ha=
h(T.noneOption,T.useSelect),S.append(ha);(T.className&&R.addClass(T.className),null===T.minTime&&null===T.durationTime||!T.showDuration)||("function"==typeof T.step?"function":T.step,R.addClass("ui-timepicker-with-duration"),R.addClass("ui-timepicker-step-"+T.step));ha=T.minTime;"function"==typeof T.durationTime?ha=K(T.durationTime()):null!==T.durationTime&&(ha=T.durationTime);ca=null!==T.minTime?T.minTime:0;var ra=null!==T.maxTime?T.maxTime:ca+D-1;ca>ra&&(ra+=D);ra===D-1&&"string"===d.type(T.timeFormat)&&
T.show2400&&(ra=D);var Ia=T.disableTimeRanges,ja=0,ma=Ia.length,Aa=T.step;"function"!=typeof Aa&&(Aa=function(){return T.step});for(var Da=0;ra>=ca;Da++,ca+=60*Aa(Da)){var Fa=ca,Oa=v(Fa,T);if(T.useSelect)var Ga=d("<option />",{value:Oa});else Ga=d("<li />"),Ga.addClass(43200>Fa%86400?"ui-timepicker-am":"ui-timepicker-pm"),Ga.data("time",86400>=Fa?Fa:Fa%86400);Ga.text(Oa);if((null!==T.minTime||null!==T.durationTime)&&T.showDuration)if(Oa=J(ca-ha,T.step),T.useSelect)Ga.text(Ga.text()+" ("+Oa+")");else{var wa=
d("<span />",{"class":"ui-timepicker-duration"});wa.text(" ("+Oa+")");Ga.append(wa)}ma>ja&&(Fa>=Ia[ja][1]&&(ja+=1),Ia[ja]&&Fa>=Ia[ja][0]&&Fa<Ia[ja][1]&&(T.useSelect?Ga.prop("disabled",!0):Ga.addClass("ui-timepicker-disabled")));S.append(Ga)}(R.data("timepicker-input",G),G.data("timepicker-list",R),T.useSelect)?(G.val()&&S.val(f(K(G.val()),T)),S.on("focus",function(){d(this).data("timepicker-input").trigger("showTimepicker")}),S.on("blur",function(){d(this).data("timepicker-input").trigger("hideTimepicker")}),
S.on("change",function(){l(G,d(this).val(),"select")}),l(G,S.val(),"initial"),G.hide().after(S)):(ca=T.appendTo,"string"==typeof ca?ca=d(ca):"function"==typeof ca&&(ca=ca(G)),ca.append(R),p(G,S),S.on("mousedown click","li",function(Qa){G.off("focus.timepicker");G.on("focus.timepicker-ie-hack",function(){G.off("focus.timepicker-ie-hack");G.on("focus.timepicker",Q.show)});e(G)||G[0].focus();S.find("li").removeClass("ui-timepicker-selected");d(this).addClass("ui-timepicker-selected");x(G)&&(G.trigger("hideTimepicker"),
S.on("mouseup.timepicker click.timepicker","li",function(Wa){S.off("mouseup.timepicker click.timepicker");R.hide()}))}))}function h(G,T){var S,R,ca;return"object"==typeof G?(S=G.label,R=G.className,ca=G.value):"string"==typeof G?S=G:d.error("Invalid noneOption value"),T?d("<option />",{value:ca,"class":R,text:S}):d("<li />",{"class":R,text:S}).data("time",String(ca))}function f(G,T){return G=T.roundingFunction(G,T),null!==G?v(G,T):void 0}function g(G){G.target!=window&&(G=d(G.target),G.closest(".ui-timepicker-input").length||
G.closest(".ui-timepicker-wrapper").length||(Q.hide(),d(document).unbind(".ui-timepicker"),d(window).unbind(".ui-timepicker")))}function e(G){G=G.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&G.disableTouchKeyboard}function m(G,T,S){if(!S&&0!==S)return!1;G=G.data("timepicker-settings");var R=!1;S=G.roundingFunction(S,G);return T.find("li").each(function(ca,ha){ca=d(ha);if("number"==typeof ca.data("time"))return ca.data("time")==S?(R=ca,!1):void 0}),
R}function p(G,T){T.find("li").removeClass("ui-timepicker-selected");var S=K(c(G),G.data("timepicker-settings"));null!==S&&(G=m(G,T,S))&&(S=G.offset().top-T.offset().top,(S+G.outerHeight()>T.outerHeight()||0>S)&&T.scrollTop(T.scrollTop()+G.position().top-G.outerHeight()),G.addClass("ui-timepicker-selected"))}function u(G,T){if(""!==this.value&&"timepicker"!=T){var S=d(this);if(!S.is(":focus")||G&&"change"==G.type){G=S.data("timepicker-settings");var R=K(this.value,G);if(null===R)return void S.trigger("timeFormatError");
var ca=!1;if(null!==G.minTime&&null!==G.maxTime&&(R<G.minTime||R>G.maxTime)&&(ca=!0),d.each(G.disableTimeRanges,function(){return R>=this[0]&&R<this[1]?(ca=!0,!1):void 0}),G.forceRoundTime){var ha=G.roundingFunction(R,G);ha!=R&&(R=ha,T=null)}G=v(R,G);ca?l(S,G,"error")&&S.trigger("timeRangeError"):l(S,G,T)}}}function c(G){return G.is("input")?G.val():G.data("ui-timepicker-value")}function l(G,T,S){if(G.is("input")){G.val(T);var R=G.data("timepicker-settings");R.useSelect&&"select"!=S&&"initial"!=S&&
G.data("timepicker-list").val(f(K(T),R))}return G.data("ui-timepicker-value")!=T?(G.data("ui-timepicker-value",T),"select"==S?G.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(S)&&G.trigger("changeTime"),!0):(G.trigger("selectTime"),!1)}function n(G){switch(G.keyCode){case 13:case 9:break;default:G.preventDefault()}}function w(G){var T=d(this),S=T.data("timepicker-list");if(!S||!N(S)){if(40!=G.keyCode)return!0;Q.show.call(T.get(0));S=T.data("timepicker-list");
e(T)||T.focus()}switch(G.keyCode){case 13:return x(T)&&(u.call(T.get(0),{type:"change"}),Q.hide.apply(this)),G.preventDefault(),!1;case 38:var R=S.find(".ui-timepicker-selected");return R.length?R.is(":first-child")||(R.removeClass("ui-timepicker-selected"),R.prev().addClass("ui-timepicker-selected"),R.prev().position().top<R.outerHeight()&&S.scrollTop(S.scrollTop()-R.outerHeight())):(S.find("li").each(function(ca,ha){return 0<d(ha).position().top?(R=d(ha),!1):void 0}),R.addClass("ui-timepicker-selected")),
!1;case 40:return R=S.find(".ui-timepicker-selected"),0===R.length?(S.find("li").each(function(ca,ha){return 0<d(ha).position().top?(R=d(ha),!1):void 0}),R.addClass("ui-timepicker-selected")):R.is(":last-child")||(R.removeClass("ui-timepicker-selected"),R.next().addClass("ui-timepicker-selected"),R.next().position().top+2*R.outerHeight()>S.outerHeight()&&S.scrollTop(S.scrollTop()+R.outerHeight())),!1;case 27:S.find("li").removeClass("ui-timepicker-selected");Q.hide();break;case 9:Q.hide();break;default:return!0}}
function z(G){var T=d(this),S=T.data("timepicker-list"),R=T.data("timepicker-settings");if(!S||!N(S)||R.disableTextInput)return!0;switch(G.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:R.typeaheadHighlight?p(T,S):S.hide()}}function x(G){var T=G.data("timepicker-settings"),S=null,R=G.data("timepicker-list").find(".ui-timepicker-selected");
return R.hasClass("ui-timepicker-disabled")?!1:(R.length&&(S=R.data("time")),null!==S&&("string"!=typeof S&&(S=v(S,T)),l(G,S,"select")),!0)}function J(G,T){G=Math.abs(G);var S,R;G=Math.round(G/60);var ca=[];return 60>G?ca=[G,M.mins]:(S=Math.floor(G/60),R=G%60,30==T&&30==R&&(S+=M.decimal+5),ca.push(S),ca.push(1==S?M.hr:M.hrs),30!=T&&R&&(ca.push(R),ca.push(M.mins))),ca.join(" ")}function v(G,T){if("number"!=typeof G)return null;var S=parseInt(G%60),R=parseInt(G/60%60),ca=parseInt(G/3600%24);ca=new Date(1970,
0,2,ca,R,S,0);if(isNaN(ca.getTime()))return null;if("function"===d.type(T.timeFormat))return T.timeFormat(ca);for(var ha="",ra=0;ra<T.timeFormat.length;ra++)switch(S=T.timeFormat.charAt(ra)){case "a":ha+=11<ca.getHours()?M.pm:M.am;break;case "A":ha+=11<ca.getHours()?M.PM:M.AM;break;case "g":S=ca.getHours()%12;ha+=0===S?"12":S;break;case "G":S=ca.getHours();G===D&&(S=T.show2400?24:0);ha+=S;break;case "h":S=ca.getHours()%12;0!==S&&10>S&&(S="0"+S);ha+=0===S?"12":S;break;case "H":S=ca.getHours();G===
D&&(S=T.show2400?24:0);ha+=9<S?S:"0"+S;break;case "i":R=ca.getMinutes();ha+=9<R?R:"0"+R;break;case "s":S=ca.getSeconds();ha+=9<S?S:"0"+S;break;case "\\":ra++;ha+=T.timeFormat.charAt(ra);break;default:ha+=S}return ha}function K(G,T){if(""===G||null===G)return null;if("object"==typeof G)return 3600*G.getHours()+60*G.getMinutes()+G.getSeconds();if("string"!=typeof G)return G;G=G.toLowerCase().replace(/[\s\.]/g,"");"a"!=G.slice(-1)&&"p"!=G.slice(-1)||(G+="m");var S="("+M.am.replace(".","")+"|"+M.pm.replace(".",
"")+"|"+M.AM.replace(".","")+"|"+M.PM.replace(".","")+")?",R=G.match(new RegExp("^"+S+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+S+"$"));if(!R)return null;G=parseInt(1*R[2],10);if(24<G){if(T&&!1===T.wrapHours)return null;G%=24}S=R[1]||R[5];var ca=G;12>=G&&S&&(ca=S==M.pm||S==M.PM,ca=12==G?ca?12:0:G+(ca?12:0));R=3600*ca+60*(1*R[3]||0)+(1*R[4]||0);12>G&&!S&&T&&T._twelveHourTime&&T.scrollDefault&&(T=R-T.scrollDefault(),0>T&&T>=D/-2&&(R=(R+D/2)%D));return R}var D=86400,M={am:"am",pm:"pm",AM:"AM",
PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},Q={init:function(G){return this.each(function(){var T=d(this),S=[],R;for(R in d.fn.timepicker.defaults)T.data(R)&&(S[R]=T.data(R));S=d.extend({},d.fn.timepicker.defaults,S,G);if(S.lang&&(M=d.extend(M,S.lang)),S=X(S),T.data("timepicker-settings",S),T.addClass("ui-timepicker-input"),S.useSelect)a(T);else{if(T.prop("autocomplete","off"),S.showOn)for(var ca in S.showOn)T.on(S.showOn[ca]+".timepicker",Q.show);T.on("change.timepicker",u);T.on("keydown.timepicker",
w);T.on("keyup.timepicker",z);S.disableTextInput&&T.on("keydown.timepicker",n);u.call(T.get(0),null,"initial")}})},show:function(G){var T=d(this),S=T.data("timepicker-settings");if(G&&G.preventDefault(),S.useSelect)return void T.data("timepicker-list").focus();e(T)&&T.blur();G=T.data("timepicker-list");if(!T.prop("readonly")&&(G&&0!==G.length&&"function"!=typeof S.durationTime||(a(T),G=T.data("timepicker-list")),!N(G))){T.data("ui-timepicker-value",T.val());p(T,G);Q.hide();G.show();var R={};S.orientation.match(/r/)?
R.left=T.offset().left+T.outerWidth()-G.outerWidth()+parseInt(G.css("marginLeft").replace("px",""),10):R.left=T.offset().left+parseInt(G.css("marginLeft").replace("px",""),10);"t"==(S.orientation.match(/t/)?"t":S.orientation.match(/b/)?"b":T.offset().top+T.outerHeight(!0)+G.outerHeight()>d(window).height()+d(window).scrollTop()?"t":"b")?(G.addClass("ui-timepicker-positioned-top"),R.top=T.offset().top-G.outerHeight()+parseInt(G.css("marginTop").replace("px",""),10)):(G.removeClass("ui-timepicker-positioned-top"),
R.top=T.offset().top+T.outerHeight()+parseInt(G.css("marginTop").replace("px",""),10));G.offset(R);R=G.find(".ui-timepicker-selected");if(!R.length){var ca=K(c(T));null!==ca?R=m(T,G,ca):S.scrollDefault&&(R=m(T,G,S.scrollDefault()))}R&&R.length?(R=G.scrollTop()+R.position().top-R.outerHeight(),G.scrollTop(R)):G.scrollTop(0);return S.stopScrollPropagation&&d(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(ha){ha.preventDefault();var ra=d(this).scrollTop();d(this).scrollTop(ra+ha.originalEvent.deltaY)}),
d(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",g),d(window).on("resize.ui-timepicker",g),S.closeOnWindowScroll&&d(document).on("scroll.ui-timepicker",g),T.trigger("showTimepicker"),this}},hide:function(G){G=d(this);var T=G.data("timepicker-settings");return T&&T.useSelect&&G.blur(),d(".ui-timepicker-wrapper").each(function(){var S=d(this);if(N(S)){var R=S.data("timepicker-input"),ca=R.data("timepicker-settings");ca&&ca.selectOnBlur&&x(R);S.hide();R.trigger("hideTimepicker")}}),
this},option:function(G,T){return"string"==typeof G&&"undefined"==typeof T?d(this).data("timepicker-settings")[G]:this.each(function(){var S=d(this),R=S.data("timepicker-settings"),ca=S.data("timepicker-list");"object"==typeof G?R=d.extend(R,G):"string"==typeof G&&(R[G]=T);R=X(R);S.data("timepicker-settings",R);ca&&(ca.remove(),S.data("timepicker-list",!1));R.useSelect&&a(S)})},getSecondsFromMidnight:function(){return K(c(this))},getTime:function(G){var T=c(this);if(!T)return null;T=K(T);if(null===
T)return null;G||=new Date;G=new Date(G);return G.setHours(T/3600),G.setMinutes(T%3600/60),G.setSeconds(T%60),G.setMilliseconds(0),G},isVisible:function(){var G=this.data("timepicker-list");return!(!G||!N(G))},setTime:function(G){var T=this.data("timepicker-settings"),S=T.forceRoundTime?f(K(G),T):v(K(G),T);return G&&null===S&&T.noneOption&&(S=G),l(this,S),this.data("timepicker-list")&&p(this,this.data("timepicker-list")),this},remove:function(){if(this.hasClass("ui-timepicker-input")){var G=this.data("timepicker-settings");
return this.removeAttr("autocomplete","off"),this.removeClass("ui-timepicker-input"),this.removeData("timepicker-settings"),this.off(".timepicker"),this.data("timepicker-list")&&this.data("timepicker-list").remove(),G.useSelect&&this.show(),this.removeData("timepicker-list"),this}}};d.fn.timepicker=function(G){return this.length?Q[G]?this.hasClass("ui-timepicker-input")?Q[G].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof G&&G?void d.error("Method "+G+" does not exist on jQuery.timepicker"):
Q.init.apply(this,arguments):this};d.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(G,T){if(null===G)return null;if("number"!=typeof T.step)return G;var S=G%(60*T.step);return S>=30*T.step?G+=60*T.step-S:G-=S,G==D&&T.show2400?G:G%D},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,
showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}});(function(d){function N(){return d("<div/>")}var X=Math.abs,a=Math.max,h=Math.min,f=Math.round;d.imgAreaSelect=function(g,e){function m(Va){return Va+cb.left-ib.left}function p(Va){return Va+cb.top-ib.top}function u(Va){return Va-cb.left+ib.left}function c(Va){return Va-cb.top+ib.top}function l(Va){var Fb=Va||H;Va=Va||oc;return{x1:f(gb.x1*Fb),y1:f(gb.y1*Va),x2:f(gb.x2*Fb),y2:f(gb.y2*Va),width:f(gb.x2*Fb)-f(gb.x1*Fb),height:f(gb.y2*Va)-f(gb.y1*Va)}}function n(Va,Fb,Rc,Xb,Bc){var yd=Bc||H;Bc=Bc||oc;
gb={x1:f(Va/yd||0),y1:f(Fb/Bc||0),x2:f(Rc/yd||0),y2:f(Xb/Bc||0)};gb.width=gb.x2-gb.x1;gb.height=gb.y2-gb.y1}function w(){Da&&Aa.width()&&(cb={left:f(Aa.offset().left),top:f(Aa.offset().top)},$a=Aa.innerWidth(),rb=Aa.innerHeight(),cb.top+=Aa.outerHeight()-rb>>1,cb.left+=Aa.outerWidth()-$a>>1,lc=f(e.minWidth/H)||0,Yc=f(e.minHeight/oc)||0,ec=f(h(e.maxWidth/H||16777216,$a)),xd=f(h(e.maxHeight/oc||16777216,rb)),"1.3.2"!=d().jquery||"fixed"!=kc||zc.getBoundingClientRect||(cb.top+=a(document.body.scrollTop,
zc.scrollTop),cb.left+=a(document.body.scrollLeft,zc.scrollLeft)),ib=/absolute|relative/.test(Hb.css("position"))?{left:f(Hb.offset().left)-Hb.scrollLeft(),top:f(Hb.offset().top)-Hb.scrollTop()}:"fixed"==kc?{left:d(document).scrollLeft(),top:d(document).scrollTop()}:{left:0,top:0},Ba=m(0),Sa=p(0),(gb.x2>$a||gb.y2>rb)&&Q())}function z(Va){if(fd){Fa.css({left:m(gb.x1),top:p(gb.y1)}).add(Oa).width(tb=gb.width).height(Dc=gb.height);Oa.add(Ga).add(Qa).css({left:0,top:0});Ga.width(a(tb-Ga.outerWidth()+
Ga.innerWidth(),0)).height(a(Dc-Ga.outerHeight()+Ga.innerHeight(),0));d(wa[0]).css({left:Ba,top:Sa,width:gb.x1,height:rb});d(wa[1]).css({left:Ba+gb.x1,top:Sa,width:tb,height:gb.y1});d(wa[2]).css({left:Ba+gb.x2,top:Sa,width:$a-gb.x2,height:rb});d(wa[3]).css({left:Ba+gb.x1,top:Sa+gb.y2,width:tb,height:rb-gb.y2});tb-=Qa.outerWidth();Dc-=Qa.outerHeight();switch(Qa.length){case 8:d(Qa[4]).css({left:tb>>1}),d(Qa[5]).css({left:tb,top:Dc>>1}),d(Qa[6]).css({left:tb>>1,top:Dc}),d(Qa[7]).css({top:Dc>>1});case 4:Qa.slice(1,
3).css({left:tb}),Qa.slice(2,4).css({top:Dc})}if(!1!==Va&&(d.imgAreaSelect.onKeyPress!=gd&&d(document).unbind(d.imgAreaSelect.keyPress,d.imgAreaSelect.onKeyPress),e.keys))d(document)[d.imgAreaSelect.keyPress](d.imgAreaSelect.onKeyPress=gd);rc&&2==Ga.outerWidth()-Ga.innerWidth()&&(Ga.css("margin",0),setTimeout(function(){Ga.css("margin","auto")},0))}}function x(Va){w();z(Va);Pa=m(gb.x1);sb=p(gb.y1);nb=m(gb.x2);yb=p(gb.y2)}function J(Va,Fb){e.fadeSpeed?Va.fadeOut(e.fadeSpeed,Fb):Va.hide()}function v(Va){var Fb=
u(Va.pageX-ib.left)-gb.x1;Va=c(Va.pageY-ib.top)-gb.y1;Cc||(w(),Cc=!0,Fa.one("mouseout",function(){Cc=!1}));ic="";e.resizable&&(Va<=e.resizeMargin?ic="n":Va>=gb.height-e.resizeMargin&&(ic="s"),Fb<=e.resizeMargin?ic+="w":Fb>=gb.width-e.resizeMargin&&(ic+="e"));Fa.css("cursor",ic?ic+"-resize":e.movable?"move":"");Wa&&Wa.toggle()}function K(Va){d("body").css("cursor","");(e.autoHide||0==gb.width*gb.height)&&J(Fa.add(wa),function(){d(this).hide()});d(document).unbind("mousemove",G);Fa.mousemove(v);e.onSelectEnd(g,
l())}function D(Va){if(1!=Va.which)return!1;w();ic?(d("body").css("cursor",ic+"-resize"),Pa=m(gb[/w/.test(ic)?"x2":"x1"]),sb=p(gb[/n/.test(ic)?"y2":"y1"]),d(document).mousemove(G).one("mouseup",K),Fa.unbind("mousemove",v)):e.movable?(nc=Ba+gb.x1-(Va.pageX-ib.left),Xa=Sa+gb.y1-(Va.pageY-ib.top),Fa.unbind("mousemove",v),d(document).mousemove(S).one("mouseup",function(){e.onSelectEnd(g,l());d(document).unbind("mousemove",S);Fa.mousemove(v)})):Aa.mousedown(Va);return!1}function M(Va){Gc&&(Va?(nb=a(Ba,
h(Ba+$a,Pa+X(yb-sb)*Gc*(nb>Pa||-1))),yb=f(a(Sa,h(Sa+rb,sb+X(nb-Pa)/Gc*(yb>sb||-1)))),nb=f(nb)):(yb=a(Sa,h(Sa+rb,sb+X(nb-Pa)/Gc*(yb>sb||-1))),nb=f(a(Ba,h(Ba+$a,Pa+X(yb-sb)*Gc*(nb>Pa||-1)))),yb=f(yb)))}function Q(){Pa=h(Pa,Ba+$a);sb=h(sb,Sa+rb);X(nb-Pa)<lc&&(nb=Pa-lc*(nb<Pa||-1),nb<Ba?Pa=Ba+lc:nb>Ba+$a&&(Pa=Ba+$a-lc));X(yb-sb)<Yc&&(yb=sb-Yc*(yb<sb||-1),yb<Sa?sb=Sa+Yc:yb>Sa+rb&&(sb=Sa+rb-Yc));nb=a(Ba,h(nb,Ba+$a));yb=a(Sa,h(yb,Sa+rb));M(X(nb-Pa)<X(yb-sb)*Gc);X(nb-Pa)>ec&&(nb=Pa-ec*(nb<Pa||-1),M());X(yb-
sb)>xd&&(yb=sb-xd*(yb<sb||-1),M(!0));gb={x1:u(h(Pa,nb)),x2:u(a(Pa,nb)),y1:c(h(sb,yb)),y2:c(a(sb,yb)),width:X(nb-Pa),height:X(yb-sb)};z();e.onSelectChange(g,l())}function G(Va){nb=/w|e|^$/.test(ic)||Gc?Va.pageX-ib.left:m(gb.x2);yb=/n|s|^$/.test(ic)||Gc?Va.pageY-ib.top:p(gb.y2);Q();return!1}function T(Va,Fb){nb=(Pa=Va)+gb.width;yb=(sb=Fb)+gb.height;d.extend(gb,{x1:u(Pa),y1:c(sb),x2:u(nb),y2:c(yb)});z();e.onSelectChange(g,l())}function S(Va){Pa=a(Ba,h(nc+(Va.pageX-ib.left),Ba+$a-gb.width));sb=a(Sa,h(Xa+
(Va.pageY-ib.top),Sa+rb-gb.height));T(Pa,sb);Va.preventDefault();return!1}function R(){d(document).unbind("mousemove",R);w();nb=Pa;yb=sb;Q();ic="";wa.is(":visible")||Fa.add(wa).hide().fadeIn(e.fadeSpeed||0);fd=!0;d(document).unbind("mouseup",ca).mousemove(G).one("mouseup",K);Fa.unbind("mousemove",v);e.onSelectStart(g,l())}function ca(){d(document).unbind("mousemove",R).unbind("mouseup",ca);J(Fa.add(wa));n(u(Pa),c(sb),u(Pa),c(sb));this instanceof d.imgAreaSelect||(e.onSelectChange(g,l()),e.onSelectEnd(g,
l()))}function ha(Va){if(1!=Va.which||wa.is(":animated"))return!1;w();nc=Pa=Va.pageX-ib.left;Xa=sb=Va.pageY-ib.top;d(document).mousemove(R).mouseup(ca);return!1}function ra(){x(!1)}function Ia(){Da=!0;ma(e=d.extend({classPrefix:"imgareaselect",movable:!0,parent:"body",resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},e));Fa.add(wa).css({visibility:""});e.show&&(fd=!0,w(),z(),Fa.add(wa).hide().fadeIn(e.fadeSpeed||0));setTimeout(function(){e.onInit(g,
l())},0)}function ja(Va,Fb){for(var Rc in Fb)void 0!==e[Rc]&&Va.css(Fb[Rc],e[Rc])}function ma(Va){Va.parent&&(Hb=d(Va.parent)).append(Fa.add(wa));d.extend(e,Va);w();if(null!=Va.handles){Qa.remove();Qa=d([]);for(Wc=Va.handles?"corners"==Va.handles?4:8:0;Wc--;)Qa=Qa.add(N());Qa.addClass(e.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:Ob+1||1});0<=!parseInt(Qa.css("width"))&&Qa.width(5).height(5);(Ac=e.borderWidth)&&Qa.css({borderWidth:Ac,borderStyle:"solid"});ja(Qa,{borderColor1:"border-color",
borderColor2:"background-color",borderOpacity:"opacity"})}H=e.imageWidth/$a||1;oc=e.imageHeight/rb||1;null!=Va.x1&&(n(Va.x1,Va.y1,Va.x2,Va.y2),Va.show=!Va.hide);Va.keys&&(e.keys=d.extend({shift:1,ctrl:"resize"},Va.keys));wa.addClass(e.classPrefix+"-outer");Oa.addClass(e.classPrefix+"-selection");for(Wc=0;4>Wc++;)d(Ga[Wc-1]).addClass(e.classPrefix+"-border"+Wc);ja(Oa,{selectionColor:"background-color",selectionOpacity:"opacity"});ja(Ga,{borderOpacity:"opacity",borderWidth:"border-width"});ja(wa,{outerColor:"background-color",
outerOpacity:"opacity"});(Ac=e.borderColor1)&&d(Ga[0]).css({borderStyle:"solid",borderColor:Ac});(Ac=e.borderColor2)&&d(Ga[1]).css({borderStyle:"dashed",borderColor:Ac});Fa.append(Oa.add(Ga).add(Wa)).append(Qa);rc&&((Ac=(wa.css("filter")||"").match(/opacity=(\d+)/))&&wa.css("opacity",Ac[1]/100),(Ac=(Ga.css("filter")||"").match(/opacity=(\d+)/))&&Ga.css("opacity",Ac[1]/100));Va.hide?J(Fa.add(wa)):Va.show&&Da&&(fd=!0,Fa.add(wa).fadeIn(e.fadeSpeed||0),x());Gc=(ld=(e.aspectRatio||"").split(/:/))[0]/ld[1];
Aa.add(wa).unbind("mousedown",ha);if(e.disable||!1===e.enable)Fa.unbind("mousemove",v).unbind("mousedown",D),d(window).unbind("resize",ra);else{if(e.enable||!1===e.disable)(e.resizable||e.movable)&&Fa.mousemove(v).mousedown(D),d(window).resize(ra);e.persistent||Aa.add(wa).mousedown(ha)}e.enable=e.disable=void 0}var Aa=d(g),Da,Fa=N(),Oa=N(),Ga=N().add(N()).add(N()).add(N()),wa=N().add(N()).add(N()).add(N()),Qa=d([]),Wa,Ba,Sa,cb={left:0,top:0},$a,rb,Hb,ib={left:0,top:0},Ob=0,kc="absolute",nc,Xa,H,oc,
ic,lc,Yc,ec,xd,Gc,fd,Pa,sb,nb,yb,gb={x1:0,y1:0,x2:0,y2:0,width:0,height:0},zc=document.documentElement,tc=navigator.userAgent,ld,Wc,Ac,tb,Dc,Cc,gd=function(Va){var Fb=e.keys,Rc=Va.keyCode;var Xb=isNaN(Fb.alt)||!Va.altKey&&!Va.originalEvent.altKey?!isNaN(Fb.ctrl)&&Va.ctrlKey?Fb.ctrl:!isNaN(Fb.shift)&&Va.shiftKey?Fb.shift:isNaN(Fb.arrows)?10:Fb.arrows:Fb.alt;if("resize"==Fb.arrows||"resize"==Fb.shift&&Va.shiftKey||"resize"==Fb.ctrl&&Va.ctrlKey||"resize"==Fb.alt&&(Va.altKey||Va.originalEvent.altKey)){switch(Rc){case 37:Xb=
-Xb;case 39:Va=a(Pa,nb);Pa=h(Pa,nb);nb=a(Va+Xb,Pa);M();break;case 38:Xb=-Xb;case 40:Va=a(sb,yb);sb=h(sb,yb);yb=a(Va+Xb,sb);M(!0);break;default:return}Q()}else switch(Pa=h(Pa,nb),sb=h(sb,yb),Rc){case 37:T(a(Pa-Xb,Ba),sb);break;case 38:T(Pa,a(sb-Xb,Sa));break;case 39:T(Pa+h(Xb,$a-u(nb)),sb);break;case 40:T(Pa,sb+h(Xb,rb-c(yb)));break;default:return}return!1};this.remove=function(){ma({disable:!0});Fa.add(wa).remove()};this.getOptions=function(){return e};this.setOptions=ma;this.getSelection=l;this.setSelection=
n;this.cancelSelection=ca;this.update=x;var rc=(/msie ([\w.]+)/i.exec(tc)||[])[1],Gd=/opera/i.test(tc),Md=/webkit/i.test(tc)&&!/chrome/i.test(tc);for(tc=Aa;tc.length;)Ob=a(Ob,isNaN(tc.css("z-index"))?Ob:tc.css("z-index")),"fixed"==tc.css("position")&&(kc="fixed"),tc=tc.parent(":not(body)");Ob=e.zIndex||Ob;rc&&Aa.attr("unselectable","on");d.imgAreaSelect.keyPress=rc||Md?"keydown":"keypress";Gd&&(Wa=N().css({width:"100%",height:"100%",position:"absolute",zIndex:Ob+2||2}));Fa.add(wa).css({visibility:"hidden",
position:kc,overflow:"hidden",zIndex:Ob||"0"});Fa.css({zIndex:Ob+2||2});Oa.add(Ga).css({position:"absolute",fontSize:0});g.complete||"complete"==g.readyState||!Aa.is("img")?Ia():Aa.one("load",Ia);!Da&&rc&&7<=rc&&(g.src=g.src)};d.fn.imgAreaSelect=function(g){g=g||{};this.each(function(){d(this).data("imgAreaSelect")?g.remove?(d(this).data("imgAreaSelect").remove(),d(this).removeData("imgAreaSelect")):d(this).data("imgAreaSelect").setOptions(g):g.remove||(void 0===g.enable&&void 0===g.disable&&(g.enable=
!0),d(this).data("imgAreaSelect",new d.imgAreaSelect(this,g)))});return g.instance?d(this).data("imgAreaSelect"):this}})(jQuery);!function(){function d(b){return b&&(b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView)}function N(b,k){return k>b?-1:b>k?1:b>=k?0:0/0}function X(b){return null===b?0/0:+b}function a(b){return!isNaN(b)}function h(b){return{left:function(k,q,t,A){3>arguments.length&&(t=0);for(4>arguments.length&&(A=k.length);A>t;){var y=t+A>>>1;0>b(k[y],q)?t=y+1:A=y}return t},right:function(k,q,t,A){3>arguments.length&&(t=0);for(4>arguments.length&&(A=k.length);A>t;){var y=t+A>>>1;0<b(k[y],
q)?A=y:t=y+1}return t}}}function f(b){return b.length}function g(b,k){for(var q in k)Object.defineProperty(b.prototype,q,{value:k[q],enumerable:!1})}function e(){this._=Object.create(null)}function m(b){return(b+="")===li||b[0]===qg?qg+b:b}function p(b){return(b+="")[0]===qg?b.slice(1):b}function u(b){return m(b)in this._}function c(b){return(b=m(b))in this._&&delete this._[b]}function l(){var b=[],k;for(k in this._)b.push(p(k));return b}function n(){var b=0,k;for(k in this._)++b;return b}function w(){for(var b in this._)return!1;
return!0}function z(){this._=Object.create(null)}function x(b){return b}function J(b,k,q){return function(){var t=q.apply(k,arguments);return t===k?b:t}}function v(b,k){if(k in b)return k;k=k.charAt(0).toUpperCase()+k.slice(1);for(var q=0,t=$g.length;t>q;++q){var A=$g[q]+k;if(A in b)return A}}function K(){}function D(){}function M(b){function k(){for(var A,y=q,E=-1,C=y.length;++E<C;)(A=y[E].on)&&A.apply(this,arguments);return b}var q=[],t=new e;return k.on=function(A,y){var E,C=t.get(A);return 2>
arguments.length?C&&C.on:(C&&(C.on=null,q=q.slice(0,E=q.indexOf(C)).concat(q.slice(E+1)),t.remove(A)),y&&q.push(t.set(A,{on:y})),b)},k}function Q(){aa.event.preventDefault()}function G(){for(var b,k=aa.event;b=k.sourceEvent;)k=b;return k}function T(b){for(var k=new D,q=0,t=arguments.length;++q<t;)k[arguments[q]]=M(k);return k.of=function(A,y){return function(E){try{var C=E.sourceEvent=aa.event;E.target=b;aa.event=E;k[E.type].apply(A,y)}finally{aa.event=C}}},k}function S(b){return sf(b,Cb),b}function R(b){return"function"==
typeof b?b:function(){return rg(b,this)}}function ca(b){return"function"==typeof b?b:function(){return sg(b,this)}}function ha(b,k){function q(){this.removeAttribute(b)}function t(){this.removeAttributeNS(b.space,b.local)}function A(){this.setAttribute(b,k)}function y(){this.setAttributeNS(b.space,b.local,k)}function E(){var F=k.apply(this,arguments);null==F?this.removeAttribute(b):this.setAttribute(b,F)}function C(){var F=k.apply(this,arguments);null==F?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,
b.local,F)}return b=aa.ns.qualify(b),null==k?b.local?t:q:"function"==typeof k?b.local?C:E:b.local?y:A}function ra(b){return new RegExp("(?:^|\\s+)"+aa.requote(b)+"(?:\\s+|$)","g")}function Ia(b,k){function q(){for(var y=-1;++y<A;)b[y](this,k)}function t(){for(var y=-1,E=k.apply(this,arguments);++y<A;)b[y](this,E)}b=(b+"").trim().split(/^|\s+/).map(ja);var A=b.length;return"function"==typeof k?t:q}function ja(b){var k=ra(b);return function(q,t){if(A=q.classList)return t?A.add(b):A.remove(b);var A=
q.getAttribute("class")||"";t?(k.lastIndex=0,k.test(A)||q.setAttribute("class",(A+" "+b).trim().replace(/\s+/g," "))):q.setAttribute("class",A.replace(k," ").trim().replace(/\s+/g," "))}}function ma(b,k,q){function t(){this.style.removeProperty(b)}function A(){this.style.setProperty(b,k,q)}function y(){var E=k.apply(this,arguments);null==E?this.style.removeProperty(b):this.style.setProperty(b,E,q)}return null==k?t:"function"==typeof k?y:A}function Aa(b,k){function q(){delete this[b]}function t(){this[b]=
k}function A(){var y=k.apply(this,arguments);null==y?delete this[b]:this[b]=y}return null==k?q:"function"==typeof k?A:t}function Da(b){function k(){var t=this.ownerDocument,A=this.namespaceURI;return A?t.createElementNS(A,b):t.createElement(b)}function q(){return this.ownerDocument.createElementNS(b.space,b.local)}return"function"==typeof b?b:(b=aa.ns.qualify(b)).local?q:k}function Fa(){var b=this.parentNode;b&&b.removeChild(this)}function Oa(b){return function(){return tg(this,b)}}function Ga(b){return arguments.length||
(b=N),function(k,q){return k&&q?b(k.__data__,q.__data__):!k-!q}}function wa(b,k){for(var q=0,t=b.length;t>q;q++)for(var A,y=b[q],E=0,C=y.length;C>E;E++)(A=y[E])&&k(A,E,q);return b}function Qa(b){return sf(b,Cd),b}function Wa(b){var k,q;return function(t,A,y){t=b[y].update;var E=t.length;y!=q&&(q=y,k=0);for(A>=k&&(k=A+1);!(A=t[k])&&++k<E;);return A}}function Ba(b,k,q){function t(){var O=this[E];O&&(this.removeEventListener(b,O,O.$),delete this[E])}function A(){var O=F(k,Od(arguments));t.call(this);
this.addEventListener(b,this[E]=O,O.$=q);O._=k}function y(){var O,V=new RegExp("^__on([^.]+)"+aa.requote(b)+"$"),W;for(W in this)if(O=W.match(V)){var Z=this[W];this.removeEventListener(O[1],Z,Z.$);delete this[W]}}var E="__on"+b,C=b.indexOf("."),F=Sa;0<C&&(b=b.slice(0,C));var L=ug.get(b);return L&&(b=L,F=cb),C?k?A:t:k?K:y}function Sa(b,k){return function(q){var t=aa.event;aa.event=q;k[0]=this.__data__;try{b.apply(this,k)}finally{aa.event=t}}}function cb(b,k){var q=Sa(b,k);return function(t){var A=
t.relatedTarget;A&&(A===this||8&A.compareDocumentPosition(this))||q.call(this,t)}}function $a(b){var k=".dragsuppress-"+ ++mi,q="click"+k,t=aa.select(d(b)).on("touchmove"+k,Q).on("dragstart"+k,Q).on("selectstart"+k,Q);if(null==ce&&(ce="onselectstart"in b?!1:v(b.style,"userSelect")),ce){var A=(b&&(b.ownerDocument||b.document||b).documentElement).style,y=A[ce];A[ce]="none"}return function(E){if(t.on(k,null),ce&&(A[ce]=y),E){var C=function(){t.on(q,null)};t.on(q,function(){Q();C()},!0);setTimeout(C,
0)}}}function rb(b,k){k.changedTouches&&(k=k.changedTouches[0]);var q=b.ownerSVGElement||b;if(q.createSVGPoint){var t=q.createSVGPoint();if(0>vg&&(q=d(b),q.scrollX||q.scrollY)){q=aa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var A=q[0][0].getScreenCTM();vg=!(A.f||A.e);q.remove()}return vg?(t.x=k.pageX,t.y=k.pageY):(t.x=k.clientX,t.y=k.clientY),t=t.matrixTransform(b.getScreenCTM().inverse()),[t.x,t.y]}t=b.getBoundingClientRect();
return[k.clientX-t.left-b.clientLeft,k.clientY-t.top-b.clientTop]}function Hb(){return aa.event.changedTouches[0].identifier}function ib(b,k,q){return(k[0]-b[0])*(q[1]-b[1])-(k[1]-b[1])*(q[0]-b[0])}function Ob(b){return 1<b?0:-1>b?kb:Math.acos(b)}function kc(b){return 1<b?Zb:-1>b?-Zb:Math.asin(b)}function nc(b){return((b=Math.exp(b))+1/b)/2}function Xa(b){return(b=Math.sin(b/2))*b}function H(){}function oc(b,k,q){return this instanceof oc?(this.h=+b,this.s=+k,void(this.l=+q)):2>arguments.length?b instanceof
oc?new oc(b.h,b.s,b.l):zc(""+b,tc,oc):new oc(b,k,q)}function ic(b,k,q){function t(E){return 360<E?E-=360:0>E&&(E+=360),60>E?A+(y-A)*E/60:180>E?y:240>E?A+(y-A)*(240-E)/60:A}var A,y;return b=isNaN(b)?0:0>(b%=360)?b+360:b,k=isNaN(k)?0:0>k?0:1<k?1:k,q=0>q?0:1<q?1:q,y=.5>=q?q*(1+k):q+k-q*k,A=2*q-y,new nb(Math.round(255*t(b+120)),Math.round(255*t(b)),Math.round(255*t(b-120)))}function lc(b,k,q){return this instanceof lc?(this.h=+b,this.c=+k,void(this.l=+q)):2>arguments.length?b instanceof lc?new lc(b.h,
b.c,b.l):b instanceof ec?Gc(b.l,b.a,b.b):Gc((b=ld((b=aa.rgb(b)).r,b.g,b.b)).l,b.a,b.b):new lc(b,k,q)}function Yc(b,k,q){return isNaN(b)&&(b=0),isNaN(k)&&(k=0),new ec(q,Math.cos(b*=lb)*k,Math.sin(b)*k)}function ec(b,k,q){return this instanceof ec?(this.l=+b,this.a=+k,void(this.b=+q)):2>arguments.length?b instanceof ec?new ec(b.l,b.a,b.b):b instanceof lc?Yc(b.h,b.c,b.l):ld((b=nb(b)).r,b.g,b.b):new ec(b,k,q)}function xd(b,k,q){b=(b+16)/116;k=b+k/500;q=b-q/200;return k=fd(k)*ah,b=fd(b)*bh,q=fd(q)*ch,
new nb(sb(3.2404542*k-1.5371385*b-.4985314*q),sb(-.969266*k+1.8760108*b+.041556*q),sb(.0556434*k-.2040259*b+1.0572252*q))}function Gc(b,k,q){return 0<b?new lc(Math.atan2(q,k)*Rb,Math.sqrt(k*k+q*q),b):new lc(0/0,0/0,b)}function fd(b){return.206893034<b?b*b*b:(b-4/29)/7.787037}function Pa(b){return.008856<b?Math.pow(b,1/3):7.787037*b+4/29}function sb(b){return Math.round(255*(.00304>=b?12.92*b:1.055*Math.pow(b,1/2.4)-.055))}function nb(b,k,q){return this instanceof nb?(this.r=~~b,this.g=~~k,void(this.b=
~~q)):2>arguments.length?b instanceof nb?new nb(b.r,b.g,b.b):zc(""+b,nb,ic):new nb(b,k,q)}function yb(b){return new nb(b>>16,b>>8&255,255&b)+""}function gb(b){return 16>b?"0"+Math.max(0,b).toString(16):Math.min(255,b).toString(16)}function zc(b,k,q){var t,A,y,E=0,C=0,F=0;if(t=/([a-z]+)\((.*)\)/i.exec(b))switch(A=t[2].split(","),t[1]){case "hsl":return q(parseFloat(A[0]),parseFloat(A[1])/100,parseFloat(A[2])/100);case "rgb":return k(Ac(A[0]),Ac(A[1]),Ac(A[2]))}return(y=tf.get(b.toLowerCase()))?k(y.r,
y.g,y.b):(null==b||"#"!==b.charAt(0)||isNaN(y=parseInt(b.slice(1),16))||(4===b.length?(E=(3840&y)>>4,E|=E>>4,C=240&y,C|=C>>4,F=15&y,F|=F<<4):7===b.length&&(E=(16711680&y)>>16,C=(65280&y)>>8,F=255&y)),k(E,C,F))}function tc(b,k,q){var t,A,y=Math.min(b/=255,k/=255,q/=255),E=Math.max(b,k,q),C=E-y,F=(E+y)/2;return C?(A=.5>F?C/(E+y):C/(2-E-y),t=b==E?(k-q)/C+(q>k?6:0):k==E?(q-b)/C+2:(b-k)/C+4,t*=60):(t=0/0,A=0<F&&1>F?0:t),new oc(t,A,F)}function ld(b,k,q){b=Wc(b);k=Wc(k);q=Wc(q);var t=Pa((.4124564*b+.3575761*
k+.1804375*q)/ah),A=Pa((.2126729*b+.7151522*k+.072175*q)/bh);b=Pa((.0193339*b+.119192*k+.9503041*q)/ch);return ec(116*A-16,500*(t-A),200*(A-b))}function Wc(b){return.04045>=(b/=255)?b/12.92:Math.pow((b+.055)/1.055,2.4)}function Ac(b){var k=parseFloat(b);return"%"===b.charAt(b.length-1)?Math.round(2.55*k):k}function tb(b){return"function"==typeof b?b:function(){return b}}function Dc(b){return function(k,q,t){return 2===arguments.length&&"function"==typeof q&&(t=q,q=null),Cc(k,q,b,t)}}function Cc(b,
k,q,t){function A(){var O=F.status,V;if(V=!O)V=(V=F.responseType)&&"text"!==V?F.response:F.responseText;if(V||200<=O&&300>O||304===O){try{var W=q.call(y,F)}catch(Z){return void E.error.call(y,Z)}E.load.call(y,W)}else E.error.call(y,F)}var y={},E=aa.dispatch("beforesend","progress","load","error"),C={},F=new XMLHttpRequest,L=null;return!this.XDomainRequest||"withCredentials"in F||!/^(http(s)?:)?\/\//.test(b)||(F=new XDomainRequest),"onload"in F?F.onload=F.onerror=A:F.onreadystatechange=function(){3<
F.readyState&&A()},F.onprogress=function(O){var V=aa.event;aa.event=O;try{E.progress.call(y,F)}finally{aa.event=V}},y.header=function(O,V){return O=(O+"").toLowerCase(),2>arguments.length?C[O]:(null==V?delete C[O]:C[O]=V+"",y)},y.mimeType=function(O){return arguments.length?(k=null==O?null:O+"",y):k},y.responseType=function(O){return arguments.length?(L=O,y):L},y.response=function(O){return q=O,y},["get","post"].forEach(function(O){y[O]=function(){return y.send.apply(y,[O].concat(Od(arguments)))}}),
y.send=function(O,V,W){if(2===arguments.length&&"function"==typeof V&&(W=V,V=null),F.open(O,b,!0),null==k||"accept"in C||(C.accept=k+",*/*"),F.setRequestHeader)for(var Z in C)F.setRequestHeader(Z,C[Z]);return null!=k&&F.overrideMimeType&&F.overrideMimeType(k),null!=L&&(F.responseType=L),null!=W&&y.on("error",W).on("load",function(ea){W(null,ea)}),E.beforesend.call(y,F),F.send(null==V?null:V),y},y.abort=function(){return F.abort(),y},aa.rebind(y,E,"on"),null==t?y:y.get(gd(t))}function gd(b){return 1===
b.length?function(k,q){b(null==k?q:null)}:b}function rc(){var b=Gd();b=Md()-b;24<b?(isFinite(b)&&(clearTimeout(uf),uf=setTimeout(rc,b)),vf=0):(vf=1,dh(rc))}function Gd(){var b=Date.now();for(Dd=wf;Dd;)b>=Dd.t&&(Dd.f=Dd.c(b-Dd.t)),Dd=Dd.n;return b}function Md(){for(var b,k=wf,q=1/0;k;)k.f?k=b?b.n=k.n:wf=k.n:(k.t<q&&(q=k.t),k=(b=k).n);return xf=b,q}function Va(b,k){return k-(b?Math.ceil(Math.log(b)/Math.LN10):1)}function Fb(b){var k=b.decimal,q=b.thousands,t=b.grouping,A=b.currency,y=t&&q?function(E,
C){for(var F=E.length,L=[],O=0,V=t[0],W=0;0<F&&0<V&&(W+V+1>C&&(V=Math.max(1,C-W)),L.push(E.substring(F-=V,F+V)),!((W+=V+1)>C));)V=t[O=(O+1)%t.length];return L.reverse().join(q)}:x;return function(E){E=eh.exec(E);var C=E[1]||" ",F=E[2]||">",L=E[3]||"-",O=E[4]||"",V=E[5],W=+E[6],Z=E[7],ea=E[8],pa=E[9],ka=1,na="",oa="",ia=!1,va=!0;switch(ea&&=+ea.substring(1),(V||"0"===C&&"="===F)&&(V=C="0",F="="),pa){case "n":Z=!0;pa="g";break;case "%":ka=100;oa="%";pa="f";break;case "p":ka=100;oa="%";pa="r";break;
case "b":case "o":case "x":case "X":"#"===O&&(na="0"+pa.toLowerCase());case "c":va=!1;case "d":ia=!0;ea=0;break;case "s":ka=-1,pa="r"}"$"===O&&(na=A[0],oa=A[1]);"r"!=pa||ea||(pa="g");null!=ea&&("g"==pa?ea=Math.max(1,Math.min(21,ea)):("e"==pa||"f"==pa)&&(ea=Math.max(0,Math.min(20,ea))));pa=ni.get(pa)||Rc;var Ha=V&&Z;return function(ba){var la=oa;if(ia&&ba%1)return"";var ta=0>ba||0===ba&&0>1/ba?(ba=-ba,"-"):"-"===L?"":L;0>ka?(la=aa.formatPrefix(ba,ea),ba=la.scale(ba),la=la.symbol+oa):ba*=ka;ba=pa(ba,
ea);var Ca,Ea,La=ba.lastIndexOf(".");0>La?(La=va?ba.lastIndexOf("e"):-1,0>La?(Ca=ba,Ea=""):(Ca=ba.substring(0,La),Ea=ba.substring(La))):(Ca=ba.substring(0,La),Ea=k+ba.substring(La+1));!V&&Z&&(Ca=y(Ca,1/0));La=na.length+Ca.length+Ea.length+(Ha?0:ta.length);var Na=W>La?Array(La=W-La+1).join(C):"";return Ha&&(Ca=y(Na+Ca,Na.length?W-Ea.length:1/0)),ta+=na,ba=Ca+Ea,("<"===F?ta+ba+Na:">"===F?Na+ta+ba:"^"===F?Na.substring(0,La>>=1)+ta+ba+Na.substring(La):ta+(Ha?ba:Na+ba))+la}}}function Rc(b){return b+""}
function Xb(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Bc(b,k,q){function t(F){var L=b(F),O=y(L,1);return O-F>F-L?L:O}function A(F){return k(F=b(new yc(F-1)),1),F}function y(F,L){return k(F=new yc(+F),L),F}function E(F,L,O){F=A(F);var V=[];if(1<O)for(;L>F;)q(F)%O||V.push(new Date(+F)),k(F,1);else for(;L>F;)V.push(new Date(+F)),k(F,1);return V}b.floor=b;b.round=t;b.ceil=A;b.offset=y;b.range=E;var C=b.utc=yd(b);return C.floor=C,C.round=yd(t),C.ceil=yd(A),
C.offset=yd(y),C.range=function(F,L,O){try{yc=Xb;var V=new Xb;return V._=F,E(V,L,O)}finally{yc=Date}},b}function yd(b){return function(k,q){try{yc=Xb;var t=new Xb;return t._=k,b(t,q)._}finally{yc=Date}}}function bf(b){function k(ba){function la(Ca){for(var Ea,La,Na,db=[],jb=-1,fb=0;++jb<ta;)37===ba.charCodeAt(jb)&&(db.push(ba.slice(fb,jb)),null!=(La=fh[Ea=ba.charAt(++jb)])&&(Ea=ba.charAt(++jb)),(Na=va[Ea])&&(Ea=Na(Ca,null==La?"e"===Ea?" ":"0":La)),db.push(Ea),fb=jb+1);return db.push(ba.slice(fb,jb)),
db.join("")}var ta=ba.length;return la.parse=function(Ca){var Ea={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(q(Ea,ba,Ca,0)!=Ca.length)return null;"p"in Ea&&(Ea.H=Ea.H%12+12*Ea.p);Ca=null!=Ea.Z&&yc!==Xb;var La=new (Ca?Xb:yc);return"j"in Ea?La.setFullYear(Ea.y,0,Ea.j):"w"in Ea&&("W"in Ea||"U"in Ea)?(La.setFullYear(Ea.y,0,1),La.setFullYear(Ea.y,0,"W"in Ea?(Ea.w+6)%7+7*Ea.W-(La.getDay()+5)%7:Ea.w+7*Ea.U-(La.getDay()+6)%7)):La.setFullYear(Ea.y,Ea.m,Ea.d),La.setHours(Ea.H+(Ea.Z/100|0),Ea.M+Ea.Z%100,Ea.S,
Ea.L),Ca?La._:La},la.toString=function(){return ba},la}function q(ba,la,ta,Ca){for(var Ea,La,Na,db=0,jb=la.length,fb=ta.length;jb>db;){if(Ca>=fb)return-1;if(Ea=la.charCodeAt(db++),37===Ea){if(Na=la.charAt(db++),La=Ha[Na in fh?la.charAt(db++):Na],!La||0>(Ca=La(ba,ta,Ca)))return-1}else if(Ea!=ta.charCodeAt(Ca++))return-1}return Ca}var t=b.dateTime,A=b.date,y=b.time,E=b.periods,C=b.days,F=b.shortDays,L=b.months,O=b.shortMonths;k.utc=function(ba){function la(Ca){try{yc=Xb;var Ea=new yc;return Ea._=Ca,
ta(Ea)}finally{yc=Date}}var ta=k(ba);return la.parse=function(Ca){try{yc=Xb;var Ea=ta.parse(Ca);return Ea&&Ea._}finally{yc=Date}},la.toString=ta.toString,la};k.multi=k.utc.multi=kg;var V=aa.map(),W=Xd(C),Z=Yd(C),ea=Xd(F),pa=Yd(F),ka=Xd(L),na=Yd(L),oa=Xd(O),ia=Yd(O);E.forEach(function(ba,la){V.set(ba.toLowerCase(),la)});var va={a:function(ba){return F[ba.getDay()]},A:function(ba){return C[ba.getDay()]},b:function(ba){return O[ba.getMonth()]},B:function(ba){return L[ba.getMonth()]},c:k(t),d:function(ba,
la){return mc(ba.getDate(),la,2)},e:function(ba,la){return mc(ba.getDate(),la,2)},H:function(ba,la){return mc(ba.getHours(),la,2)},I:function(ba,la){return mc(ba.getHours()%12||12,la,2)},j:function(ba,la){return mc(1+bb.dayOfYear(ba),la,3)},L:function(ba,la){return mc(ba.getMilliseconds(),la,3)},m:function(ba,la){return mc(ba.getMonth()+1,la,2)},M:function(ba,la){return mc(ba.getMinutes(),la,2)},p:function(ba){return E[+(12<=ba.getHours())]},S:function(ba,la){return mc(ba.getSeconds(),la,2)},U:function(ba,
la){return mc(bb.sundayOfYear(ba),la,2)},w:function(ba){return ba.getDay()},W:function(ba,la){return mc(bb.mondayOfYear(ba),la,2)},x:k(A),X:k(y),y:function(ba,la){return mc(ba.getFullYear()%100,la,2)},Y:function(ba,la){return mc(ba.getFullYear()%1E4,la,4)},Z:rd,"%":function(){return"%"}},Ha={a:function(ba,la,ta){ea.lastIndex=0;return(la=ea.exec(la.slice(ta)))?(ba.w=pa.get(la[0].toLowerCase()),ta+la[0].length):-1},A:function(ba,la,ta){W.lastIndex=0;return(la=W.exec(la.slice(ta)))?(ba.w=Z.get(la[0].toLowerCase()),
ta+la[0].length):-1},b:function(ba,la,ta){oa.lastIndex=0;return(la=oa.exec(la.slice(ta)))?(ba.m=ia.get(la[0].toLowerCase()),ta+la[0].length):-1},B:function(ba,la,ta){ka.lastIndex=0;return(la=ka.exec(la.slice(ta)))?(ba.m=na.get(la[0].toLowerCase()),ta+la[0].length):-1},c:function(ba,la,ta){return q(ba,va.c.toString(),la,ta)},d:Hc,e:Hc,H:Hd,I:Hd,j:He,L:ke,m:jg,M:We,p:function(ba,la,ta){la=V.get(la.slice(ta,ta+=2).toLowerCase());return null==la?-1:(ba.p=la,ta)},S:ef,U:gg,w:cf,W:hg,x:function(ba,la,ta){return q(ba,
va.x.toString(),la,ta)},X:function(ba,la,ta){return q(ba,va.X.toString(),la,ta)},y:df,Y:ig,Z:ag,"%":sd};return k}function mc(b,k,q){var t=0>b?"-":"";b=(t?-b:b)+"";var A=b.length;return t+(q>A?Array(q-A+1).join(k)+b:b)}function Xd(b){return new RegExp("^(?:"+b.map(aa.requote).join("|")+")","i")}function Yd(b){for(var k=new e,q=-1,t=b.length;++q<t;)k.set(b[q].toLowerCase(),q);return k}function cf(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+1)))?(b.w=+k[0],q+k[0].length):-1}function gg(b,k,q){$b.lastIndex=
0;return(k=$b.exec(k.slice(q)))?(b.U=+k[0],q+k[0].length):-1}function hg(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q)))?(b.W=+k[0],q+k[0].length):-1}function ig(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+4)))?(b.y=+k[0],q+k[0].length):-1}function df(b,k,q){$b.lastIndex=0;if(k=$b.exec(k.slice(q,q+2))){var t=+k[0];b=(b.y=t+(68<t?1900:2E3),q+k[0].length)}else b=-1;return b}function ag(b,k,q){return/^[+-]\d{4}$/.test(k=k.slice(q,q+5))?(b.Z=-k,q+5):-1}function jg(b,k,q){$b.lastIndex=0;return(k=
$b.exec(k.slice(q,q+2)))?(b.m=k[0]-1,q+k[0].length):-1}function Hc(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+2)))?(b.d=+k[0],q+k[0].length):-1}function He(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+3)))?(b.j=+k[0],q+k[0].length):-1}function Hd(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+2)))?(b.H=+k[0],q+k[0].length):-1}function We(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+2)))?(b.M=+k[0],q+k[0].length):-1}function ef(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,
q+2)))?(b.S=+k[0],q+k[0].length):-1}function ke(b,k,q){$b.lastIndex=0;return(k=$b.exec(k.slice(q,q+3)))?(b.L=+k[0],q+k[0].length):-1}function rd(b){var k=b.getTimezoneOffset();b=0<k?"-":"+";var q=ob(k)/60|0;k=ob(k)%60;return b+mc(q,"0",2)+mc(k,"0",2)}function sd(b,k,q){gh.lastIndex=0;return(b=gh.exec(k.slice(q,q+1)))?q+b[0].length:-1}function kg(b){for(var k=b.length,q=-1;++q<k;)b[q][0]=this(b[q][0]);return function(t){for(var A=0,y=b[A];!y[1](t);)y=b[++A];return y[0](t)}}function Zd(){}function ff(b,
k,q){var t=q.s=b+k,A=t-b;q.t=b-(t-A)+(k-A)}function qe(b,k){b&&hh.hasOwnProperty(b.type)&&hh[b.type](b,k)}function Ee(b,k,q){var t=-1,A=b.length-q;for(k.lineStart();++t<A;)q=b[t],k.point(q[0],q[1],q[2]);k.lineEnd()}function gf(b,k){var q=-1,t=b.length;for(k.polygonStart();++q<t;)Ee(b[q],k,1);k.polygonEnd()}function lg(){function b(E,C){E*=lb;C=C*lb/2+kb/4;var F=E-t,L=0<=F?1:-1;F*=L;var O=Math.cos(C);C=Math.sin(C);var V=y*C;de.add(Math.atan2(V*L*Math.sin(F),A*O+V*Math.cos(F)));t=E;A=O;y=C}var k,q,
t,A,y;Tc.point=function(E,C){Tc.point=b;t=(k=E)*lb;A=Math.cos(C=(q=C)*lb/2+kb/4);y=Math.sin(C)};Tc.lineEnd=function(){b(k,q)}}function md(b){var k=b[0];b=b[1];var q=Math.cos(b);return[q*Math.cos(k),q*Math.sin(k),Math.sin(b)]}function Vd(b,k){return b[0]*k[0]+b[1]*k[1]+b[2]*k[2]}function Nc(b,k){return[b[1]*k[2]-b[2]*k[1],b[2]*k[0]-b[0]*k[2],b[0]*k[1]-b[1]*k[0]]}function $d(b,k){b[0]+=k[0];b[1]+=k[1];b[2]+=k[2]}function re(b,k){return[b[0]*k,b[1]*k,b[2]*k]}function ae(b){var k=Math.sqrt(b[0]*b[0]+
b[1]*b[1]+b[2]*b[2]);b[0]/=k;b[1]/=k;b[2]/=k}function se(b){return[Math.atan2(b[1],b[0]),kc(b[2])]}function ud(b,k){return ob(b[0]-k[0])<Ya&&ob(b[1]-k[1])<Ya}function td(b,k){b*=lb;var q=Math.cos(k*=lb);be(q*Math.cos(b),q*Math.sin(b),Math.sin(k))}function be(b,k,q){++Pe;ee+=(b-ee)/Pe;fe+=(k-fe)/Pe;Ed+=(q-Ed)/Pe}function zd(){function b(A,y){A*=lb;var E=Math.cos(y*=lb),C=E*Math.cos(A);A=E*Math.sin(A);y=Math.sin(y);var F=Math.atan2(Math.sqrt((F=q*y-t*A)*F+(F=t*C-k*y)*F+(F=k*A-q*C)*F),k*C+q*A+t*y);yf+=
F;Pd+=F*(k+(k=C));Qd+=F*(q+(q=A));qd+=F*(t+(t=y));be(k,q,t)}var k,q,t;dd.point=function(A,y){A*=lb;var E=Math.cos(y*=lb);k=E*Math.cos(A);q=E*Math.sin(A);t=Math.sin(y);dd.point=b;be(k,q,t)}}function bd(){dd.point=td}function Ie(){function b(E,C){E*=lb;var F=Math.cos(C*=lb),L=F*Math.cos(E);E=F*Math.sin(E);C=Math.sin(C);F=A*C-y*E;var O=y*L-t*C,V=t*E-A*L,W=Math.sqrt(F*F+O*O+V*V),Z=t*L+A*E+y*C,ea=W&&-Ob(Z)/W;W=Math.atan2(W,Z);xe+=ea*F;ye+=ea*O;Rd+=ea*V;yf+=W;Pd+=W*(t+(t=L));Qd+=W*(A+(A=E));qd+=W*(y+(y=
C));be(t,A,y)}var k,q,t,A,y;dd.point=function(E,C){k=E;q=C;dd.point=b;E*=lb;var F=Math.cos(C*=lb);t=F*Math.cos(E);A=F*Math.sin(E);y=Math.sin(C);be(t,A,y)};dd.lineEnd=function(){b(k,q);dd.lineEnd=bd;dd.point=td}}function nd(b,k){function q(t,A){return t=b(t,A),k(t[0],t[1])}return b.invert&&k.invert&&(q.invert=function(t,A){return t=k.invert(t,A),t&&b.invert(t[0],t[1])}),q}function cd(){return!0}function hf(b,k,q,t,A){var y=[],E=[];if(b.forEach(function(V){if(!(0>=(W=V.length-1))){var W,Z=V[0],ea=V[W];
if(ud(Z,ea)){A.lineStart();for(ea=0;W>ea;++ea)A.point((Z=V[ea])[0],Z[1]);return void A.lineEnd()}W=new te(Z,V,null,!0);Z=new te(Z,null,W,!1);W.o=Z;y.push(W);E.push(Z);W=new te(ea,V,null,!1);Z=new te(ea,null,W,!0);W.o=Z;y.push(W);E.push(Z)}}),E.sort(k),jf(y),jf(E),y.length){b=0;k=q;for(q=E.length;q>b;++b)E[b].e=k=!k;for(var C,F=y[0];;){for(var L=F,O=!0;L.v;)if((L=L.n)===F)return;k=L.z;A.lineStart();do{if(L.v=L.o.v=!0,L.e){if(O)for(b=0,q=k.length;q>b;++b)A.point((C=k[b])[0],C[1]);else t(L.x,L.n.x,1,
A);L=L.n}else{if(O)for(k=L.p.z,b=k.length-1;0<=b;--b)A.point((C=k[b])[0],C[1]);else t(L.x,L.p.x,-1,A);L=L.p}L=L.o;k=L.z;O=!O}while(!L.v);A.lineEnd()}}}function jf(b){if(k=b.length){for(var k,q,t=0,A=b[0];++t<k;)A.n=q=b[t],q.p=A,A=q;A.n=q=b[0];q.p=A}}function te(b,k,q,t){this.x=b;this.z=k;this.o=q;this.e=t;this.v=!1;this.n=this.p=null}function ue(b,k,q,t){return function(A,y){function E(ba,la){var ta=A(ba,la);b(ba=ta[0],la=ta[1])&&y.point(ba,la)}function C(ba,la){ba=A(ba,la);ka.point(ba[0],ba[1])}
function F(){oa.point=C;ka.lineStart()}function L(){oa.point=E;ka.lineEnd()}function O(ba,la){pa.push([ba,la]);ba=A(ba,la);va.point(ba[0],ba[1])}function V(){va.lineStart();pa=[]}function W(){O(pa[0][0],pa[0][1]);va.lineEnd();var ba=va.clean();var la=ia.buffer(),ta=la.length;if(pa.pop(),ea.push(pa),pa=null,ta)if(1&ba){ba=la[0];var Ca;ta=ba.length-1;la=-1;if(0<ta){Ha||(y.polygonStart(),Ha=!0);for(y.lineStart();++la<ta;)y.point((Ca=ba[la])[0],Ca[1]);y.lineEnd()}}else 1<ta&&2&ba&&la.push(la.pop().concat(la.shift())),
Z.push(la.filter(Je))}var Z,ea,pa,ka=k(y),na=A.invert(t[0],t[1]),oa={point:E,lineStart:F,lineEnd:L,polygonStart:function(){oa.point=O;oa.lineStart=V;oa.lineEnd=W;Z=[];ea=[]},polygonEnd:function(){oa.point=E;oa.lineStart=F;oa.lineEnd=L;Z=aa.merge(Z);var ba=na;var la=ea;var ta=ba[0],Ca=ba[1],Ea=[Math.sin(ta),-Math.cos(ta),0],La=0,Na=0;de.reset();for(var db=0,jb=la.length;jb>db;++db){var fb=la[db],Ta=fb.length;if(Ta){var hb=fb[0],ub=hb[0];ba=hb[1]/2+kb/4;for(var Db=Math.sin(ba),sc=Math.cos(ba),Mb=1;;){Mb===
Ta&&(Mb=0);ba=fb[Mb];var gc=ba[0],fc=ba[1]/2+kb/4,Ic=Math.sin(fc);fc=Math.cos(fc);var Lc=gc-ub,Qe=0<=Lc?1:-1,Re=Qe*Lc,ge=Re>kb;Db*=Ic;if(de.add(Math.atan2(Db*Qe*Math.sin(Re),sc*fc+Db*Math.cos(Re))),La+=ge?Lc+Qe*Uc:Lc,ge^ub>=ta^gc>=ta)hb=Nc(md(hb),md(ba)),ae(hb),ub=Nc(Ea,hb),ae(ub),ub=(ge^0<=Lc?-1:1)*kc(ub[2]),(Ca>ub||Ca===ub&&(hb[0]||hb[1]))&&(Na+=ge^0<=Lc?1:-1);if(!Mb++)break;ub=gc;Db=Ic;sc=fc;hb=ba}}}la=(-Ya>La||Ya>La&&0>de)^1&Na;Z.length?(Ha||(y.polygonStart(),Ha=!0),hf(Z,mg,la,q,y)):la&&(Ha||
(y.polygonStart(),Ha=!0),y.lineStart(),q(null,null,1,y),y.lineEnd());Ha&&(y.polygonEnd(),Ha=!1);Z=ea=null},sphere:function(){y.polygonStart();y.lineStart();q(null,null,1,y);y.lineEnd();y.polygonEnd()}},ia=ve(),va=k(ia),Ha=!1;return oa}}function Je(b){return 1<b.length}function ve(){var b,k=[];return{lineStart:function(){k.push(b=[])},point:function(q,t){b.push([q,t])},lineEnd:K,buffer:function(){var q=k;return k=[],b=null,q},rejoin:function(){1<k.length&&k.push(k.pop().concat(k.shift()))}}}function mg(b,
k){return(0>(b=b.x)[0]?b[1]-Zb-Ya:Zb-b[1])-(0>(k=k.x)[0]?k[1]-Zb-Ya:Zb-k[1])}function ng(b){function k(F,L){return Math.cos(F)*Math.cos(L)>A}function q(F,L,O){var V=md(F),W=md(L),Z=[1,0,0];W=Nc(V,W);var ea=Vd(W,W);V=W[0];var pa=ea-V*V;if(!pa)return!O&&F;ea=A*ea/pa;pa=-A*V/pa;V=Nc(Z,W);Z=re(Z,ea);W=re(W,pa);$d(Z,W);W=Vd(Z,V);ea=Vd(V,V);pa=W*W-ea*(Vd(Z,Z)-1);if(!(0>pa)){var ka=Math.sqrt(pa);pa=re(V,(-W-ka)/ea);if($d(pa,Z),pa=se(pa),!O)return pa;var na;O=F[0];var oa=L[0];F=F[1];L=L[1];O>oa&&(na=O,O=
oa,oa=na);var ia=oa-O,va=ob(ia-kb)<Ya,Ha=va||Ya>ia;if(!va&&F>L&&(na=F,F=L,L=na),Ha?va?0<F+L^pa[1]<(ob(pa[0]-O)<Ya?F:L):F<=pa[1]&&pa[1]<=L:ia>kb^(O<=pa[0]&&pa[0]<=oa))return na=re(V,(-W+ka)/ea),$d(na,Z),[pa,se(na)]}}function t(F,L){var O=y?b:kb-b,V=0;return-O>F?V|=1:F>O&&(V|=2),-O>L?V|=4:L>O&&(V|=8),V}var A=Math.cos(b),y=0<A,E=ob(A)>Ya,C=B(b,6*lb);return ue(k,function(F){var L,O,V,W,Z;return{lineStart:function(){W=V=!1;Z=1},point:function(ea,pa){var ka,na=[ea,pa],oa=k(ea,pa);ea=y?oa?0:t(ea,pa):oa?
t(ea+(0>ea?kb:-kb),pa):0;if(!L&&(W=V=oa)&&F.lineStart(),oa!==V&&(ka=q(L,na),(ud(L,ka)||ud(na,ka))&&(na[0]+=Ya,na[1]+=Ya,oa=k(na[0],na[1]))),oa!==V)Z=0,oa?(F.lineStart(),ka=q(na,L),F.point(ka[0],ka[1])):(ka=q(L,na),F.point(ka[0],ka[1]),F.lineEnd()),L=ka;else if(E&&L&&y^oa){var ia;ea&O||!(ia=q(na,L,!0))||(Z=0,y?(F.lineStart(),F.point(ia[0][0],ia[0][1]),F.point(ia[1][0],ia[1][1]),F.lineEnd()):(F.point(ia[1][0],ia[1][1]),F.lineEnd(),F.lineStart(),F.point(ia[0][0],ia[0][1])))}!oa||L&&ud(L,na)||F.point(na[0],
na[1]);L=na;V=oa;O=ea},lineEnd:function(){V&&F.lineEnd();L=null},clean:function(){return Z|(W&&V)<<1}}},C,y?[0,-b]:[-kb,b-kb])}function Ke(b,k,q,t){return function(A){var y,E=A.a,C=A.b,F=E.x;E=E.y;var L=0,O=1,V=C.x-F;C=C.y-E;if(y=b-F,V||!(0<y)){if(y/=V,0>V){if(L>y)return;O>y&&(O=y)}else if(0<V){if(y>O)return;y>L&&(L=y)}if(y=q-F,V||!(0>y)){if(y/=V,0>V){if(y>O)return;y>L&&(L=y)}else if(0<V){if(L>y)return;O>y&&(O=y)}if(y=k-E,C||!(0<y)){if(y/=C,0>C){if(L>y)return;O>y&&(O=y)}else if(0<C){if(y>O)return;
y>L&&(L=y)}if(y=t-E,C||!(0>y)){if(y/=C,0>C){if(y>O)return;y>L&&(L=y)}else if(0<C){if(L>y)return;O>y&&(O=y)}return 0<L&&(A.a={x:F+L*V,y:E+L*C}),1>O&&(A.b={x:F+O*V,y:E+O*C}),A}}}}}}function kf(b,k,q,t){function A(C,F){return ob(C[0]-b)<Ya?0<F?0:3:ob(C[0]-q)<Ya?0<F?2:1:ob(C[1]-k)<Ya?0<F?1:0:0<F?3:2}function y(C,F){return E(C.x,F.x)}function E(C,F){var L=A(C,1),O=A(F,1);return L!==O?L-O:0===L?F[1]-C[1]:1===L?C[0]-F[0]:2===L?C[1]-F[1]:F[0]-C[0]}return function(C){function F(Ea,La,Na,db){var jb=0,fb=0;
if(null==Ea||(jb=A(Ea,Na))!==(fb=A(La,Na))||0>E(Ea,La)^0<Na){do db.point(0===jb||3===jb?b:q,1<jb?t:k);while((jb=(jb+Na+4)%4)!==fb)}else db.point(La[0],La[1])}function L(Ea,La){Ea>=b&&q>=Ea&&La>=k&&t>=La&&C.point(Ea,La)}function O(Ea,La){Ea=Math.max(-zf,Math.min(zf,Ea));La=Math.max(-zf,Math.min(zf,La));var Na=Ea>=b&&q>=Ea&&La>=k&&t>=La;if(W&&Z.push([Ea,La]),va)ea=Ea,pa=La,ka=Na,va=!1,Na&&(C.lineStart(),C.point(Ea,La));else if(Na&&ia)C.point(Ea,La);else{var db={a:{x:na,y:oa},b:{x:Ea,y:La}};ta(db)?(ia||
(C.lineStart(),C.point(db.a.x,db.a.y)),C.point(db.b.x,db.b.y),Na||C.lineEnd(),Ha=!1):Na&&(C.lineStart(),C.point(Ea,La),Ha=!1)}na=Ea;oa=La;ia=Na}var V,W,Z,ea,pa,ka,na,oa,ia,va,Ha,ba=C,la=ve(),ta=Ke(b,k,q,t),Ca={point:L,lineStart:function(){Ca.point=O;W&&W.push(Z=[]);va=!0;ia=!1;na=oa=0/0},lineEnd:function(){V&&(O(ea,pa),ka&&ia&&la.rejoin(),V.push(la.buffer()));Ca.point=L;ia&&C.lineEnd()},polygonStart:function(){C=la;V=[];W=[];Ha=!0},polygonEnd:function(){C=ba;V=aa.merge(V);var Ea=[b,t];for(var La=
0,Na=W.length,db=Ea[1],jb=0;Na>jb;++jb)for(var fb,Ta=1,hb=W[jb],ub=hb.length,Db=hb[0];ub>Ta;++Ta)fb=hb[Ta],Db[1]<=db?fb[1]>db&&0<ib(Db,fb,Ea)&&++La:fb[1]<=db&&0>ib(Db,fb,Ea)&&--La,Db=fb;Ea=0!==La;La=Ha&&Ea;Na=V.length;(La||Na)&&(C.polygonStart(),La&&(C.lineStart(),F(null,null,1,C),C.lineEnd()),Na&&hf(V,y,Ea,F,C),C.polygonEnd());V=W=Z=null}};return Ca}}function Le(b){var k=0,q=kb/3,t=Nd(b);b=t(k,q);return b.parallels=function(A){return arguments.length?t(k=A[0]*kb/180,q=A[1]*kb/180):[k/kb*180,q/kb*
180]},b}function lf(b,k){function q(E,C){C=Math.sqrt(A-2*t*Math.sin(C))/t;return[C*Math.sin(E*=t),y-C*Math.cos(E)]}b=Math.sin(b);var t=(b+Math.sin(k))/2,A=1+b*(2*t-b),y=Math.sqrt(A)/t;return q.invert=function(E,C){C=y-C;return[Math.atan2(E,C)/t,kc((A-(E*E+C*C)*t*t)/(2*t))]},q}function mf(){function b(y,E){wg+=A*y-t*E;t=y;A=E}var k,q,t,A;Sd.point=function(y,E){Sd.point=b;k=t=y;q=A=E};Sd.lineEnd=function(){b(k,q)}}function nf(){function b(F,L){E.push("M",F,",",L,y)}function k(F,L){E.push("M",F,",",
L);C.point=q}function q(F,L){E.push("L",F,",",L)}function t(){C.point=b}function A(){E.push("Z")}var y=le(4.5),E=[],C={point:b,lineStart:function(){C.point=k},lineEnd:t,polygonStart:function(){C.lineEnd=A},polygonEnd:function(){C.lineEnd=t;C.point=b},pointRadius:function(F){return y=le(F),C},result:function(){if(E.length){var F=E.join("");return E=[],F}}};return C}function le(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function od(b,k){ee+=b;fe+=k;++Ed}function pd(){function b(t,
A){var y=t-k,E=A-q;y=Math.sqrt(y*y+E*E);Pd+=y*(k+t)/2;Qd+=y*(q+A)/2;qd+=y;od(k=t,q=A)}var k,q;ed.point=function(t,A){ed.point=b;od(k=t,q=A)}}function Ad(){ed.point=od}function og(){function b(y,E){var C=y-t,F=E-A;C=Math.sqrt(C*C+F*F);Pd+=C*(t+y)/2;Qd+=C*(A+E)/2;qd+=C;C=A*y-t*E;xe+=C*(t+y);ye+=C*(A+E);Rd+=3*C;od(t=y,A=E)}var k,q,t,A;ed.point=function(y,E){ed.point=b;od(k=t=y,q=A=E)};ed.lineEnd=function(){b(k,q)}}function bg(b){function k(F,L){b.moveTo(F+E,L);b.arc(F,L,E,0,Uc)}function q(F,L){b.moveTo(F,
L);C.point=t}function t(F,L){b.lineTo(F,L)}function A(){C.point=k}function y(){b.closePath()}var E=4.5,C={point:k,lineStart:function(){C.point=q},lineEnd:A,polygonStart:function(){C.lineEnd=y},polygonEnd:function(){C.lineEnd=A;C.point=k},pointRadius:function(F){return E=F,C},result:K};return C}function Me(b){function k(F){return(C?t:q)(F)}function q(F){return pf(F,function(L,O){L=b(L,O);F.point(L[0],L[1])})}function t(F){function L(db,jb){db=b(db,jb);F.point(db[0],db[1])}function O(){la=0/0;Na.point=
V;F.lineStart()}function V(db,jb){var fb=md([db,jb]);jb=b(db,jb);A(la,ta,ba,Ca,Ea,La,la=jb[0],ta=jb[1],ba=db,Ca=fb[0],Ea=fb[1],La=fb[2],C,F);F.point(la,ta)}function W(){Na.point=L;F.lineEnd()}function Z(){O();Na.point=ea;Na.lineEnd=pa}function ea(db,jb){V(ka=db,jb);na=la;oa=ta;ia=Ca;va=Ea;Ha=La;Na.point=V}function pa(){A(la,ta,ba,Ca,Ea,La,na,oa,ka,ia,va,Ha,C,F);Na.lineEnd=W;W()}var ka,na,oa,ia,va,Ha,ba,la,ta,Ca,Ea,La,Na={point:L,lineStart:O,lineEnd:W,polygonStart:function(){F.polygonStart();Na.lineStart=
Z},polygonEnd:function(){F.polygonEnd();Na.lineStart=O}};return Na}function A(F,L,O,V,W,Z,ea,pa,ka,na,oa,ia,va,Ha){var ba=ea-F,la=pa-L,ta=ba*ba+la*la;if(ta>4*y&&va--){var Ca=V+na,Ea=W+oa,La=Z+ia,Na=Math.sqrt(Ca*Ca+Ea*Ea+La*La),db=Math.asin(La/=Na),jb=ob(ob(La)-1)<Ya||ob(O-ka)<Ya?(O+ka)/2:Math.atan2(Ea,Ca),fb=b(jb,db);db=fb[0];fb=fb[1];var Ta=db-F,hb=fb-L,ub=la*Ta-ba*hb;(ub*ub/ta>y||.3<ob((ba*Ta+la*hb)/ta-.5)||E>V*na+W*oa+Z*ia)&&(A(F,L,O,V,W,Z,db,fb,jb,Ca/=Na,Ea/=Na,La,va,Ha),Ha.point(db,fb),A(db,
fb,jb,Ca,Ea,La,ea,pa,ka,na,oa,ia,va,Ha))}}var y=.5,E=Math.cos(30*lb),C=16;return k.precision=function(F){return arguments.length?(C=0<(y=F*F)&&16,k):Math.sqrt(y)},k}function pg(b){var k=Me(function(q,t){return b([q*Rb,t*Rb])});return function(q){return Ne(k(q))}}function of(b){this.stream=b}function pf(b,k){return{point:k,sphere:function(){b.sphere()},lineStart:function(){b.lineStart()},lineEnd:function(){b.lineEnd()},polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}}}
function Sc(b){return Nd(function(){return b})()}function Nd(b){function k(ta){return ta=C(ta[0]*lb,ta[1]*lb),[ta[0]*W+F,L-ta[1]*W]}function q(ta){return ta=C.invert((ta[0]-F)/W,(L-ta[1])/W),ta&&[ta[0]*Rb,ta[1]*Rb]}function t(){C=nd(E=we(na,oa,ia),y);var ta=y(pa,ka);return F=Z-ta[0]*W,L=ea+ta[1]*W,A()}function A(){return O&&(O.valid=!1,O=null),k}var y,E,C,F,L,O,V=Me(function(ta,Ca){return ta=y(ta,Ca),[ta[0]*W+F,L-ta[1]*W]}),W=150,Z=480,ea=250,pa=0,ka=0,na=0,oa=0,ia=0,va=ih,Ha=x,ba=null,la=null;return k.stream=
function(ta){return O&&(O.valid=!1),O=Ne(va(E,V(Ha(ta)))),O.valid=!0,O},k.clipAngle=function(ta){return arguments.length?(va=null==ta?(ba=ta,ih):ng((ba=+ta)*lb),A()):ba},k.clipExtent=function(ta){return arguments.length?(la=ta,Ha=ta?kf(ta[0][0],ta[0][1],ta[1][0],ta[1][1]):x,A()):la},k.scale=function(ta){return arguments.length?(W=+ta,t()):W},k.translate=function(ta){return arguments.length?(Z=+ta[0],ea=+ta[1],t()):[Z,ea]},k.center=function(ta){return arguments.length?(pa=ta[0]%360*lb,ka=ta[1]%360*
lb,t()):[pa*Rb,ka*Rb]},k.rotate=function(ta){return arguments.length?(na=ta[0]%360*lb,oa=ta[1]%360*lb,ia=2<ta.length?ta[2]%360*lb:0,t()):[na*Rb,oa*Rb,ia*Rb]},aa.rebind(k,V,"precision"),function(){return y=b.apply(this,arguments),k.invert=y.invert&&q,t()}}function Ne(b){return pf(b,function(k,q){b.point(k*lb,q*lb)})}function Bd(b,k){return[b,k]}function Oe(b,k){return[b>kb?b-Uc:-kb>b?b+Uc:b,k]}function we(b,k,q){return b?k||q?nd(rf(b),r(k,q)):rf(b):k||q?r(k,q):Oe}function qf(b){return function(k,q){return k+=
b,[k>kb?k-Uc:-kb>k?k+Uc:k,q]}}function rf(b){var k=qf(b);return k.invert=qf(-b),k}function r(b,k){function q(C,F){var L=Math.cos(F),O=Math.cos(C)*L;C=Math.sin(C)*L;F=Math.sin(F);L=F*t+O*A;return[Math.atan2(C*y-L*E,O*t-F*A),kc(L*y+C*E)]}var t=Math.cos(b),A=Math.sin(b),y=Math.cos(k),E=Math.sin(k);return q.invert=function(C,F){var L=Math.cos(F),O=Math.cos(C)*L;C=Math.sin(C)*L;F=Math.sin(F);L=F*y-C*E;return[Math.atan2(C*y+F*E,O*t+L*A),kc(L*t-O*A)]},q}function B(b,k){var q=Math.cos(b),t=Math.sin(b);return function(A,
y,E,C){var F=E*k;null!=A?(A=I(q,A),y=I(q,y),(0<E?y>A:A>y)&&(A+=E*Uc)):(A=b+E*Uc,y=b-.5*F);for(var L;0<E?A>y:y>A;A-=F)C.point((L=se([q,-t*Math.cos(A),-t*Math.sin(A)]))[0],L[1])}}function I(b,k){k=md(k);k[0]-=b;ae(k);b=Ob(-k[1]);return((0>-k[2]?-b:b)+2*Math.PI-Ya)%(2*Math.PI)}function P(b,k,q){var t=aa.range(b,k-Ya,q).concat(k);return function(A){return t.map(function(y){return[A,y]})}}function U(b,k,q){var t=aa.range(b,k-Ya,q).concat(k);return function(A){return t.map(function(y){return[y,A]})}}function Y(b){return b.source}
function fa(b){return b.target}function qa(b,k,q,t){var A=Math.cos(k),y=Math.sin(k),E=Math.cos(t),C=Math.sin(t),F=A*Math.cos(b),L=A*Math.sin(b),O=E*Math.cos(q),V=E*Math.sin(q),W=2*Math.asin(Math.sqrt(Xa(t-k)+A*E*Xa(q-b))),Z=1/Math.sin(W);q=W?function(ea){var pa=Math.sin(ea*=W)*Z;ea=Math.sin(W-ea)*Z;var ka=ea*F+pa*O,na=ea*L+pa*V;return[Math.atan2(na,ka)*Rb,Math.atan2(ea*y+pa*C,Math.sqrt(ka*ka+na*na))*Rb]}:function(){return[b*Rb,k*Rb]};return q.distance=W,q}function xa(b,k){function q(t,A){var y=Math.cos(A),
E=b(Math.cos(t)*y);return[E*y*Math.sin(t),E*Math.sin(A)]}return q.invert=function(t,A){var y=Math.sqrt(t*t+A*A),E=k(y),C=Math.sin(E);return[Math.atan2(t*C,y*Math.cos(E)),Math.asin(y&&A*C/y)]},q}function Ja(b,k){function q(E,C){0<y?-Zb+Ya>C&&(C=-Zb+Ya):C>Zb-Ya&&(C=Zb-Ya);C=y/Math.pow(Math.tan(kb/4+C/2),A);return[C*Math.sin(A*E),y-C*Math.cos(A*E)]}var t=Math.cos(b),A=b===k?Math.sin(b):Math.log(t/Math.cos(k))/Math.log(Math.tan(kb/4+k/2)/Math.tan(kb/4+b/2)),y=t*Math.pow(Math.tan(kb/4+b/2),A)/A;return A?
(q.invert=function(E,C){C=y-C;return[Math.atan2(E,C)/A,2*Math.atan(Math.pow(y/((0<A?1:0>A?-1:0)*Math.sqrt(E*E+C*C)),1/A))-Zb]},q):Ra}function za(b,k){function q(E,C){C=y-C;return[C*Math.sin(A*E),y-C*Math.cos(A*E)]}var t=Math.cos(b),A=b===k?Math.sin(b):(t-Math.cos(k))/(k-b),y=t/A+b;return ob(A)<Ya?Bd:(q.invert=function(E,C){C=y-C;return[Math.atan2(E,C)/A,y-(0<A?1:0>A?-1:0)*Math.sqrt(E*E+C*C)]},q)}function Ra(b,k){return[b,Math.log(Math.tan(kb/4+k/2))]}function Za(b){var k,q=Sc(b),t=q.scale,A=q.translate,
y=q.clipExtent;return q.scale=function(){var E=t.apply(q,arguments);return E===q?k?q.clipExtent(null):q:E},q.translate=function(){var E=A.apply(q,arguments);return E===q?k?q.clipExtent(null):q:E},q.clipExtent=function(E){var C=y.apply(q,arguments);if(C===q){if(k=null==E){var F=kb*t(),L=A();y([[L[0]-F,L[1]-F],[L[0]+F,L[1]+F]])}}else k&&(C=null);return C},q.clipExtent(null)}function qb(b,k){return[Math.log(Math.tan(kb/4+k/2)),-b]}function mb(b){return b[0]}function Gb(b){return b[1]}function Yb(b){for(var k=
b.length,q=[0,1],t=2,A=2;k>A;A++){for(;1<t&&0>=ib(b[q[t-2]],b[q[t-1]],b[A]);)--t;q[t++]=A}return q.slice(0,t)}function Kd(b,k){return b[0]-k[0]||b[1]-k[1]}function vc(b,k,q){return(q[0]-k[0])*(b[1]-k[1])<(q[1]-k[1])*(b[0]-k[0])}function Pc(b,k,q,t){var A=b[0],y=q[0],E=k[0]-A,C=t[0]-y;b=b[1];q=q[1];k=k[1]-b;t=t[1]-q;y=(C*(b-q)-t*(A-y))/(t*E-C*k);return[A+y*E,b+y*k]}function wb(b){var k=b[0];b=b[b.length-1];return!(k[0]-b[0]||k[1]-b[1])}function uc(){$c(this);this.edge=this.site=this.circle=null}function xb(b){var k=
jh.pop()||new uc;return k.site=b,k}function Ib(b){Wb(b);ze.remove(b);jh.push(b);$c(b)}function Qb(b,k){var q=b.site,t=q.x,A=q.y,y=A-k;if(!y)return t;b=b.P;if(!b)return-1/0;q=b.site;b=q.x;q=q.y;k=q-k;if(!k)return b;var E=b-t,C=1/y-1/k,F=E/k;return C?(-F+Math.sqrt(F*F-2*C*(E*E/(-2*k)-q+k/2+A-y/2)))/C+t:(t+b)/2}function Pb(b){this.site=b;this.edges=[]}function wc(b,k){return k.angle-b.angle}function pc(){$c(this);this.x=this.y=this.arc=this.site=this.cy=null}function Jb(b){var k=b.P,q=b.N;if(k&&q){var t=
k.site;k=b.site;var A=q.site;if(t!==A){q=k.x;var y=k.y,E=t.x-q,C=t.y-y;t=A.x-q;A=A.y-y;var F=2*(E*A-C*t);if(!(F>=-xg)){var L=E*E+C*C,O=t*t+A*A;C=(A*L-C*O)/F;E=(E*O-t*L)/F;A=E+y;y=kh.pop()||new pc;y.arc=b;y.site=k;y.x=C+q;y.y=A+Math.sqrt(C*C+E*E);y.cy=A;b.circle=y;b=null;for(k=Se._;k;)if(y.y<k.y||y.y===k.y&&y.x<=k.x){if(!k.L){b=k.P;break}k=k.L}else{if(!k.R){b=k;break}k=k.R}Se.insert(b,y);b||(yg=y)}}}}function Wb(b){var k=b.circle;k&&(k.P||(yg=k.N),Se.remove(k),kh.push(k),$c(k),b.circle=null)}function Ub(b,
k){var q=b.b;if(q)return!0;var t,A=b.a;q=k[0][0];var y=k[1][0],E=k[0][1];k=k[1][1];var C=b.l;var F=b.r;var L=C.x;C=C.y;var O=F.x,V=F.y,W=(L+O)/2;if(V===C){if(q>W||W>=y)return;if(L>O){if(A){if(A.y>=k)return}else A={x:W,y:E};q={x:W,y:k}}else{if(A){if(A.y<E)return}else A={x:W,y:k};q={x:W,y:E}}}else if(t=(L-O)/(V-C),F=(C+V)/2-t*W,-1>t||1<t)if(L>O){if(A){if(A.y>=k)return}else A={x:(E-F)/t,y:E};q={x:(k-F)/t,y:k}}else{if(A){if(A.y<E)return}else A={x:(k-F)/t,y:k};q={x:(E-F)/t,y:E}}else if(V>C){if(A){if(A.x>=
y)return}else A={x:q,y:t*q+F};q={x:y,y:t*y+F}}else{if(A){if(A.x<q)return}else A={x:y,y:t*y+F};q={x:q,y:t*q+F}}return b.a=A,b.b=q,!0}function Fc(b,k){this.l=b;this.r=k;this.a=this.b=null}function zb(b,k,q,t){var A=new Fc(b,k);return Ae.push(A),q&&ac(A,b,k,q),t&&ac(A,k,b,t),he[b.i].edges.push(new Tb(A,b,k)),he[k.i].edges.push(new Tb(A,k,b)),A}function ac(b,k,q,t){b.a||b.b?b.l===q?b.b=t:b.a=t:(b.a=t,b.l=k,b.r=q)}function Tb(b,k,q){var t=b.a,A=b.b;this.edge=b;this.site=k;this.angle=q?Math.atan2(q.y-k.y,
q.x-k.x):b.l===k?Math.atan2(A.x-t.x,t.y-A.y):Math.atan2(t.x-A.x,A.y-t.y)}function Kb(){this._=null}function $c(b){b.U=b.C=b.L=b.R=b.P=b.N=null}function qc(b,k){var q=k.R,t=k.U;t?t.L===k?t.L=q:t.R=q:b._=q;q.U=t;k.U=q;k.R=q.L;k.R&&(k.R.U=k);q.L=k}function dc(b,k){var q=k.L,t=k.U;t?t.L===k?t.L=q:t.R=q:b._=q;q.U=t;k.U=q;k.L=q.R;k.L&&(k.L.U=k);q.R=k}function Qc(b){for(;b.L;)b=b.L;return b}function Kc(b,k){var q,t,A=b.sort(xc).pop();Ae=[];he=Array(b.length);ze=new Kb;for(Se=new Kb;;)if(t=yg,A&&(!t||A.y<
t.y||A.y===t.y&&A.x<t.x)){if(A.x!==q||A.y!==C){he[A.i]=new Pb(A);var y=void 0,E=void 0;var C=q=void 0;for(var F=A,L=F.x,O=F.y,V=ze._;V;)if(E=Qb(V,O)-L,E>Ya)V=V.L;else{var W=V;var Z=O;var ea=W.N;ea?Z=Qb(ea,Z):(W=W.site,Z=W.y===Z?W.x:1/0);if(y=L-Z,!(y>Ya)){E>-Ya?(C=V.P,q=V):y>-Ya?(C=V,q=V.N):C=q=V;break}if(!V.R){C=V;break}V=V.R}y=xb(F);if(ze.insert(C,y),C||q)if(C===q)Wb(C),q=xb(C.site),ze.insert(y,q),y.edge=q.edge=zb(C.site,y.site),Jb(C),Jb(q);else if(q){Wb(C);Wb(q);E=C.site;O=E.x;V=E.y;Z=F.x-O;W=F.y-
V;L=q.site;ea=L.x-O;var pa=L.y-V,ka=2*(Z*pa-W*ea),na=Z*Z+W*W,oa=ea*ea+pa*pa;O={x:(pa*na-W*oa)/ka+O,y:(Z*oa-ea*na)/ka+V};ac(q.edge,E,L,O);y.edge=zb(E,F,null,O);q.edge=zb(F,L,null,O);Jb(C);Jb(q)}else y.edge=zb(C.site,y.site);q=A.x;C=A.y}A=b.pop()}else{if(!t)break;L=t.arc;F=L.circle;E=F.x;O=F.cy;F={x:E,y:O};Z=L.P;V=L.N;y=[L];Ib(L);for(L=Z;L.circle&&ob(E-L.circle.x)<Ya&&ob(O-L.circle.cy)<Ya;)Z=L.P,y.unshift(L),Ib(L),L=Z;y.unshift(L);Wb(L);for(Z=V;Z.circle&&ob(E-Z.circle.x)<Ya&&ob(O-Z.circle.cy)<Ya;)V=
Z.N,y.push(Z),Ib(Z),Z=V;y.push(Z);Wb(Z);O=y.length;for(E=1;O>E;++E)Z=y[E],L=y[E-1],ac(Z.edge,L.site,Z.site,F);L=y[0];Z=y[O-1];Z.edge=zb(L.site,Z.site,null,F);Jb(L);Jb(Z)}if(k){t=Ae;A=Ke(k[0][0],k[0][1],k[1][0],k[1][1]);for(q=t.length;q--;)b=t[q],(!Ub(b,k)||!A(b)||ob(b.a.x-b.b.x)<Ya&&ob(b.a.y-b.b.y)<Ya)&&(b.a=b.b=null,t.splice(q,1));var ia;b=k[0][0];t=k[1][0];A=k[0][1];F=k[1][1];y=he;for(E=y.length;E--;)if(ia=y[E],ia&&ia.prepare())for(q=ia.edges,C=q.length,k=0;C>k;)if(pa=q[k].end(),W=pa.x,ea=pa.y,
L=q[++k%C].start(),Z=L.x,ka=L.y,ob(W-Z)>Ya||ob(ea-ka)>Ya)L=q,O=L.splice,V=k,Z=ob(W-b)<Ya&&F-ea>Ya?{x:b,y:ob(Z-b)<Ya?ka:F}:ob(ea-F)<Ya&&t-W>Ya?{x:ob(ka-F)<Ya?Z:t,y:F}:ob(W-t)<Ya&&ea-A>Ya?{x:t,y:ob(Z-t)<Ya?ka:A}:ob(ea-A)<Ya&&W-b>Ya?{x:ob(ka-A)<Ya?Z:b,y:A}:null,W=new Fc(ia.site,null),Z=(W.a=pa,W.b=Z,Ae.push(W),W),O.call(L,V,0,new Tb(Z,ia.site,null)),++C}ia={cells:he,edges:Ae};return ze=Se=Ae=he=null,ia}function xc(b,k){return k.y-b.y||k.x-b.x}function Ge(b){return b.x}function fg(b){return b.y}function Zc(){return{leaf:!0,
nodes:[],point:null,x:null,y:null}}function Ld(b,k,q,t,A,y){if(!b(k,q,t,A,y)){var E=.5*(q+A),C=.5*(t+y);k=k.nodes;k[0]&&Ld(b,k[0],q,t,E,C);k[1]&&Ld(b,k[1],E,t,A,C);k[2]&&Ld(b,k[2],q,C,E,y);k[3]&&Ld(b,k[3],E,C,A,y)}}function vd(b,k,q,t,A,y,E){var C,F=1/0;return function pa(O,V,W,Z,ea){if(!(V>y||W>E||t>Z||A>ea)){if(ka=O.point){var ka,na=k-O.x,oa=q-O.y;na=na*na+oa*oa;F>na&&(na=Math.sqrt(F=na),t=k-na,A=q-na,y=k+na,E=q+na,C=ka)}ka=O.nodes;na=.5*(V+Z);oa=.5*(W+ea);for(var ia=(q>=oa)<<1|k>=na,va=ia+4;va>
ia;++ia)if(O=ka[3&ia])switch(3&ia){case 0:pa(O,V,W,na,oa);break;case 1:pa(O,na,W,Z,oa);break;case 2:pa(O,V,oa,na,ea);break;case 3:pa(O,na,oa,Z,ea)}}}(b,t,A,y,E),C}function Id(b,k){b=aa.rgb(b);k=aa.rgb(k);var q=b.r,t=b.g,A=b.b,y=k.r-q,E=k.g-t,C=k.b-A;return function(F){return"#"+gb(Math.round(q+y*F))+gb(Math.round(t+E*F))+gb(Math.round(A+C*F))}}function Xe(b,k){var q,t={},A={};for(q in b)q in k?t[q]=wd(b[q],k[q]):A[q]=b[q];for(q in k)q in b||(A[q]=k[q]);return function(y){for(q in t)A[q]=t[q](y);return A}}
function ad(b,k){return b=+b,k=+k,function(q){return b*(1-q)+k*q}}function Ye(b,k){var q,t,A,y=zg.lastIndex=Ag.lastIndex=0,E=-1,C=[],F=[];b+="";for(k+="";(q=zg.exec(b))&&(t=Ag.exec(k));)(A=t.index)>y&&(A=k.slice(y,A),C[E]?C[E]+=A:C[++E]=A),(q=q[0])===(t=t[0])?C[E]?C[E]+=t:C[++E]=t:(C[++E]=null,F.push({i:E,x:ad(q,t)})),y=Ag.lastIndex;return y<k.length&&(A=k.slice(y),C[E]?C[E]+=A:C[++E]=A),2>C.length?F[0]?(k=F[0].x,function(L){return k(L)+""}):function(){return k}:(k=F.length,function(L){for(var O,
V=0;k>V;++V)C[(O=F[V]).i]=O.x(L);return C.join("")})}function wd(b,k){for(var q,t=aa.interpolators.length;0<=--t&&!(q=aa.interpolators[t](b,k)););return q}function ne(b,k){var q,t=[],A=[],y=b.length,E=k.length,C=Math.min(b.length,k.length);for(q=0;C>q;++q)t.push(wd(b[q],k[q]));for(;y>q;++q)A[q]=b[q];for(;E>q;++q)A[q]=k[q];return function(F){for(q=0;C>q;++q)A[q]=t[q](F);return A}}function oe(b){return function(k){return 0>=k?0:1<=k?1:b(k)}}function Ze(b){return function(k){return 1-b(1-k)}}function $e(b){return function(k){return.5*
(.5>k?b(2*k):2-b(2-2*k))}}function Wd(b){return b*b}function cg(b){return b*b*b}function Fe(b){if(0>=b)return 0;if(1<=b)return 1;var k=b*b,q=k*b;return 4*(.5>b?q:3*(b-k)+q-.75)}function dg(b){return 1-Math.cos(b*Zb)}function jd(b){return Math.pow(2,10*(b-1))}function kd(b){return 1-Math.sqrt(1-b*b)}function Vb(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375}function af(b,k){return k-=b,function(q){return Math.round(b+
k*q)}}function hd(b){var k=[b.a,b.b],q=[b.c,b.d],t=pe(k),A=k[0]*q[0]+k[1]*q[1];var y=-A;y=(q[0]+=y*k[0],q[1]+=y*k[1],q);y=pe(y)||0;k[0]*q[1]<q[0]*k[1]&&(k[0]*=-1,k[1]*=-1,t*=-1,A*=-1);this.rotate=(t?Math.atan2(k[1],k[0]):Math.atan2(-q[0],q[1]))*Rb;this.translate=[b.e,b.f];this.scale=[t,y];this.skew=y?Math.atan2(A,y)*Rb:0}function pe(b){var k=Math.sqrt(b[0]*b[0]+b[1]*b[1]);return k&&(b[0]/=k,b[1]/=k),k}function Bb(b,k){var q,t=[],A=[],y=aa.transform(b),E=aa.transform(k);k=y.translate;b=E.translate;
var C=y.rotate,F=E.rotate,L=y.skew,O=E.skew;y=y.scale;E=E.scale;return k[0]!=b[0]||k[1]!=b[1]?(t.push("translate(",null,",",null,")"),A.push({i:1,x:ad(k[0],b[0])},{i:3,x:ad(k[1],b[1])})):t.push(b[0]||b[1]?"translate("+b+")":""),C!=F?(180<C-F?F+=360:180<F-C&&(C+=360),A.push({i:t.push(t.pop()+"rotate(",null,")")-2,x:ad(C,F)})):F&&t.push(t.pop()+"rotate("+F+")"),L!=O?A.push({i:t.push(t.pop()+"skewX(",null,")")-2,x:ad(L,O)}):O&&t.push(t.pop()+"skewX("+O+")"),y[0]!=E[0]||y[1]!=E[1]?(q=t.push(t.pop()+"scale(",
null,",",null,")"),A.push({i:q-4,x:ad(y[0],E[0])},{i:q-2,x:ad(y[1],E[1])})):(1!=E[0]||1!=E[1])&&t.push(t.pop()+"scale("+E+")"),q=A.length,function(V){for(var W,Z=-1;++Z<q;)t[(W=A[Z]).i]=W.x(V);return t.join("")}}function me(b,k){return k=(k-=b=+b)||1/k,function(q){return(q-b)/k}}function da(b,k){return k=(k-=b=+b)||1/k,function(q){return Math.max(0,Math.min(1,(q-b)/k))}}function sa(b){for(var k=[],q=b.parent;null!=q;)k.push(b),b=q,q=q.parent;return k.push(b),k}function ua(b){b.fixed|=2}function ya(b){b.fixed&=
-7}function Ka(b){b.fixed|=4;b.px=b.x;b.py=b.y}function Ma(b){b.fixed&=-5}function Ua(b,k,q){var t=0,A=0;if(b.charge=0,!b.leaf)for(var y,E=b.nodes,C=E.length,F=-1;++F<C;)y=E[F],null!=y&&(Ua(y,k,q),b.charge+=y.charge,t+=y.charge*y.cx,A+=y.charge*y.cy);b.point&&(b.leaf||(b.point.x+=Math.random()-.5,b.point.y+=Math.random()-.5),k*=q[b.point.index],b.charge+=b.pointCharge=k,t+=k*b.point.x,A+=k*b.point.y);b.cx=t/b.charge;b.cy=A/b.charge}function eb(b,k){return aa.rebind(b,k,"sort","children","value"),
b.nodes=b,b.links=Oc,b}function ab(b,k){for(var q=[b];null!=(b=q.pop());)if(k(b),(A=b.children)&&(t=A.length))for(var t,A;0<=--t;)q.push(A[t])}function pb(b,k){for(var q=[b],t=[];null!=(b=q.pop());)if(t.push(b),(y=b.children)&&(A=y.length)){var A,y;for(b=-1;++b<A;)q.push(y[b])}for(;null!=(b=t.pop());)k(b)}function vb(b){return b.children}function Ab(b){return b.value}function bc(b,k){return k.value-b.value}function Oc(b){return aa.merge(b.map(function(k){return(k.children||[]).map(function(q){return{source:k,
target:q}})}))}function Lb(b){return b.x}function Eb(b){return b.y}function jc(b,k,q){b.y0=k;b.y=q}function cc(b){return aa.range(b.length)}function Jd(b){var k=-1;b=b[0].length;for(var q=[];++k<b;)q[k]=0;return q}function Jc(b){for(var k,q=1,t=0,A=b[0][1],y=b.length;y>q;++q)(k=b[q][1])>A&&(t=q,A=k);return t}function eg(b){return b.reduce(oi,0)}function oi(b,k){return b+k[1]}function pi(b,k){return lh(b,Math.ceil(Math.log(k.length)/Math.LN2+1))}function lh(b,k){var q=-1,t=+b[0];b=(b[1]-t)/k;for(var A=
[];++q<=k;)A[q]=b*q+t;return A}function qi(b){return[aa.min(b),aa.max(b)]}function ri(b,k){return b.value-k.value}function Bg(b,k){var q=b._pack_next;b._pack_next=k;k._pack_prev=b;k._pack_next=q;q._pack_prev=k}function mh(b,k){b._pack_next=k;k._pack_prev=b}function nh(b,k){var q=k.x-b.x,t=k.y-b.y;b=b.r+k.r;return.999*b*b>q*q+t*t}function oh(b){function k(na){L=Math.min(na.x-na.r,L);O=Math.max(na.x+na.r,O);V=Math.min(na.y-na.r,V);W=Math.max(na.y+na.r,W)}if((q=b.children)&&(F=q.length)){var q,t,A,y,
E,C,F,L=1/0,O=-1/0,V=1/0,W=-1/0;if(q.forEach(si),t=q[0],t.x=-t.r,t.y=0,k(t),1<F&&(A=q[1],A.x=A.r,A.y=0,k(A),2<F)){var Z=q[2];ph(t,A,Z);k(Z);Bg(t,Z);t._pack_prev=Z;Bg(Z,A);A=t._pack_next;for(y=3;F>y;y++){ph(t,A,Z=q[y]);var ea=0,pa=1,ka=1;for(E=A._pack_next;E!==A;E=E._pack_next,pa++)if(nh(E,Z)){ea=1;break}if(1==ea)for(C=t._pack_prev;C!==E._pack_prev&&!nh(C,Z);C=C._pack_prev,ka++);ea?(ka>pa||pa==ka&&A.r<t.r?mh(t,A=E):mh(t=C,A),y--):(Bg(t,Z),A=Z,k(Z))}}t=(L+O)/2;A=(V+W)/2;for(y=E=0;F>y;y++)Z=q[y],Z.x-=
t,Z.y-=A,E=Math.max(E,Z.r+Math.sqrt(Z.x*Z.x+Z.y*Z.y));b.r=E;q.forEach(ti)}}function si(b){b._pack_next=b._pack_prev=b}function ti(b){delete b._pack_next;delete b._pack_prev}function qh(b,k,q,t){var A=b.children;if(b.x=k+=t*b.x,b.y=q+=t*b.y,b.r*=t,A){b=-1;for(var y=A.length;++b<y;)qh(A[b],k,q,t)}}function ph(b,k,q){var t=b.r+q.r,A=k.x-b.x,y=k.y-b.y;if(t&&(A||y)){k=k.r+q.r;var E=A*A+y*y;k*=k;t*=t;var C=.5+(t-k)/(2*E),F=Math.sqrt(Math.max(0,2*k*(t+E)-(t-=E)*t-k*k))/(2*E);q.x=b.x+C*A+F*y;q.y=b.y+C*y-
F*A}else q.x=b.x+t,q.y=b.y}function rh(b,k){return b.parent==k.parent?1:2}function Cg(b){var k=b.children;return k.length?k[0]:b.t}function Dg(b){var k,q=b.children;return(k=q.length)?q[k-1]:b.t}function ui(b){return 1+aa.max(b,function(k){return k.y})}function vi(b){return b.reduce(function(k,q){return k+q.x},0)/b.length}function sh(b){var k=b.children;return k&&k.length?sh(k[0]):b}function th(b){var k,q=b.children;return q&&(k=q.length)?th(q[k-1]):b}function Eg(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy}}
function uh(b,k){var q=b.x+k[3],t=b.y+k[0],A=b.dx-k[1]-k[3];b=b.dy-k[0]-k[2];return 0>A&&(q+=A/2,A=0),0>b&&(t+=b/2,b=0),{x:q,y:t,dx:A,dy:b}}function Be(b){var k=b[0];b=b[b.length-1];return b>k?[k,b]:[b,k]}function Af(b){return b.rangeExtent?b.rangeExtent():Be(b.range())}function wi(b,k,q,t){var A=q(b[0],b[1]),y=t(k[0],k[1]);return function(E){return y(A(E))}}function Bf(b,k){var q,t=0,A=b.length-1,y=b[t],E=b[A];return y>E&&(q=t,t=A,A=q,q=y,y=E,E=q),b[t]=k.floor(y),b[A]=k.ceil(E),b}function vh(b){return b?
{floor:function(k){return Math.floor(k/b)*b},ceil:function(k){return Math.ceil(k/b)*b}}:xi}function yi(b,k,q,t){var A=[],y=[],E=0,C=Math.min(b.length,k.length)-1;for(b[C]<b[0]&&(b=b.slice().reverse(),k=k.slice().reverse());++E<=C;)A.push(q(b[E-1],b[E])),y.push(t(k[E-1],k[E]));return function(F){var L=aa.bisect(b,F,1,C)-1;return y[L](A[L](F))}}function wh(b,k,q,t){function A(){var F=2<Math.min(b.length,k.length)?yi:wi,L=t?da:me;return E=F(b,k,L,q),C=F(k,b,L,wd),y}function y(F){return E(F)}var E,C;
return y.invert=function(F){return C(F)},y.domain=function(F){return arguments.length?(b=F.map(Number),A()):b},y.range=function(F){return arguments.length?(k=F,A()):k},y.rangeRound=function(F){return y.range(F).interpolate(af)},y.clamp=function(F){return arguments.length?(t=F,A()):t},y.interpolate=function(F){return arguments.length?(q=F,A()):q},y.ticks=function(F){return aa.range.apply(aa,Td(b,F))},y.tickFormat=function(F,L){return Fg(b,F,L)},y.nice=function(F){return Bf(b,vh(Td(b,F)[2])),A()},y.copy=
function(){return wh(b,k,q,t)},A()}function Gg(b,k){return aa.rebind(b,k,"range","rangeRound","interpolate","clamp")}function Td(b,k){null==k&&(k=10);b=Be(b);var q=b[1]-b[0],t=Math.pow(10,Math.floor(Math.log(q/k)/Math.LN10));k=k/q*t;return.15>=k?t*=10:.35>=k?t*=5:.75>=k&&(t*=2),b[0]=Math.ceil(b[0]/t)*t,b[1]=Math.floor(b[1]/t)*t+.5*t,b[2]=t,b}function Fg(b,k,q){b=Td(b,k);if(q){k=eh.exec(q);if(k.shift(),"s"===k[8]){var t=aa.formatPrefix(Math.max(ob(b[0]),ob(b[1])));return k[7]||(k[7]="."+Cf(t.scale(b[2]))),
k[8]="f",q=aa.format(k.join("")),function(A){return q(t.scale(A))+t.symbol}}k[7]||(k[7]="."+zi(k[8],b));q=k.join("")}else q=",."+Cf(b[2])+"f";return aa.format(q)}function Cf(b){return-Math.floor(Math.log(b)/Math.LN10+.01)}function zi(b,k){var q=Cf(k[2]);return b in Ai?Math.abs(q-Cf(Math.max(ob(k[0]),ob(k[1]))))+ +("e"!==b):q-2*("%"===b)}function xh(b,k,q,t){function A(C){return(q?Math.log(0>C?0:C):-Math.log(0<C?0:-C))/Math.log(k)}function y(C){return q?Math.pow(k,C):-Math.pow(k,-C)}function E(C){return b(A(C))}
return E.invert=function(C){return y(b.invert(C))},E.domain=function(C){return arguments.length?(q=0<=C[0],b.domain((t=C.map(Number)).map(A)),E):t},E.base=function(C){return arguments.length?(k=+C,b.domain(t.map(A)),E):k},E.nice=function(){var C=Bf(t.map(A),q?Math:Bi);return b.domain(C),t=C.map(y),E},E.ticks=function(){var C=Be(t),F=[],L=C[0];C=C[1];var O=Math.floor(A(L)),V=Math.ceil(A(C)),W=k%1?2:k;if(isFinite(V-O)){if(q){for(;V>O;O++)for(var Z=1;W>Z;Z++)F.push(y(O)*Z);F.push(y(O))}else for(F.push(y(O));O++<
V;)for(Z=W-1;0<Z;Z--)F.push(y(O)*Z);for(O=0;F[O]<L;O++);for(V=F.length;F[V-1]>C;V--);F=F.slice(O,V)}return F},E.tickFormat=function(C,F){if(!arguments.length)return yh;2>arguments.length?F=yh:"function"!=typeof F&&(F=aa.format(F));var L,O=Math.max(.1,C/E.ticks().length),V=q?(L=1E-12,Math.ceil):(L=-1E-12,Math.floor);return function(W){return W/y(V(A(W)+L))<=O?F(W):""}},E.copy=function(){return xh(b.copy(),k,q,t)},Gg(E,b)}function zh(b,k,q){function t(E){return b(A(E))}var A=Df(k),y=Df(1/k);return t.invert=
function(E){return y(b.invert(E))},t.domain=function(E){return arguments.length?(b.domain((q=E.map(Number)).map(A)),t):q},t.ticks=function(E){return aa.range.apply(aa,Td(q,E))},t.tickFormat=function(E,C){return Fg(q,E,C)},t.nice=function(E){return t.domain(Bf(q,vh(Td(q,E)[2])))},t.exponent=function(E){return arguments.length?(A=Df(k=E),y=Df(1/k),b.domain(q.map(A)),t):k},t.copy=function(){return zh(b.copy(),k,q)},Gg(t,b)}function Df(b){return function(k){return 0>k?-Math.pow(-k,b):Math.pow(k,b)}}function Ah(b,
k){function q(C){return y[((A.get(C)||("range"===k.t?A.set(C,b.push(C)):0/0))-1)%y.length]}function t(C,F){return aa.range(b.length).map(function(L){return C+F*L})}var A,y,E;return q.domain=function(C){if(!arguments.length)return b;b=[];A=new e;for(var F,L=-1,O=C.length;++L<O;)A.has(F=C[L])||A.set(F,b.push(F));return q[k.t].apply(q,k.a)},q.range=function(C){return arguments.length?(y=C,E=0,k={t:"range",a:arguments},q):y},q.rangePoints=function(C,F){2>arguments.length&&(F=0);var L=C[0],O=C[1],V=2>
b.length?(L=(L+O)/2,0):(O-L)/(b.length-1+F);return y=t(L+V*F/2,V),E=0,k={t:"rangePoints",a:arguments},q},q.rangeRoundPoints=function(C,F){2>arguments.length&&(F=0);var L=C[0],O=C[1],V=2>b.length?(L=O=Math.round((L+O)/2),0):(O-L)/(b.length-1+F)|0;return y=t(L+Math.round(V*F/2+(O-L-(b.length-1+F)*V)/2),V),E=0,k={t:"rangeRoundPoints",a:arguments},q},q.rangeBands=function(C,F,L){2>arguments.length&&(F=0);3>arguments.length&&(L=F);var O=C[1]<C[0],V=C[O-0],W=(C[1-O]-V)/(b.length-F+2*L);return y=t(V+W*L,
W),O&&y.reverse(),E=W*(1-F),k={t:"rangeBands",a:arguments},q},q.rangeRoundBands=function(C,F,L){2>arguments.length&&(F=0);3>arguments.length&&(L=F);var O=C[1]<C[0],V=C[O-0],W=C[1-O],Z=Math.floor((W-V)/(b.length-F+2*L));return y=t(V+Math.round((W-V-(b.length-F)*Z)/2),Z),O&&y.reverse(),E=Math.round(Z*(1-F)),k={t:"rangeRoundBands",a:arguments},q},q.rangeBand=function(){return E},q.rangeExtent=function(){return Be(k.a[0])},q.copy=function(){return Ah(b,k)},q.domain(b)}function Bh(b,k){function q(){var y=
0,E=k.length;for(A=[];++y<E;)A[y-1]=aa.quantile(b,y/E);return t}function t(y){return isNaN(y=+y)?void 0:k[aa.bisect(A,y)]}var A;return t.domain=function(y){return arguments.length?(b=y.map(X).filter(a).sort(N),q()):b},t.range=function(y){return arguments.length?(k=y,q()):k},t.quantiles=function(){return A},t.invertExtent=function(y){return y=k.indexOf(y),0>y?[0/0,0/0]:[0<y?A[y-1]:b[0],y<A.length?A[y]:b[b.length-1]]},t.copy=function(){return Bh(b,k)},q()}function Ch(b,k,q){function t(C){return q[Math.max(0,
Math.min(E,Math.floor(y*(C-b))))]}function A(){return y=q.length/(k-b),E=q.length-1,t}var y,E;return t.domain=function(C){return arguments.length?(b=+C[0],k=+C[C.length-1],A()):[b,k]},t.range=function(C){return arguments.length?(q=C,A()):q},t.invertExtent=function(C){return C=q.indexOf(C),C=0>C?0/0:C/y+b,[C,C+1/y]},t.copy=function(){return Ch(b,k,q)},A()}function Dh(b,k){function q(t){return t>=t?k[aa.bisect(b,t)]:void 0}return q.domain=function(t){return arguments.length?(b=t,q):b},q.range=function(t){return arguments.length?
(k=t,q):k},q.invertExtent=function(t){return t=k.indexOf(t),[b[t-1],b[t]]},q.copy=function(){return Dh(b,k)},q}function Eh(b){function k(q){return+q}return k.invert=k,k.domain=k.range=function(q){return arguments.length?(b=q.map(k),k):b},k.ticks=function(q){return aa.range.apply(aa,Td(b,q))},k.tickFormat=function(q,t){return Fg(b,q,t)},k.copy=function(){return Eh(b)},k}function Ci(){return 0}function Di(b){return b.innerRadius}function Ei(b){return b.outerRadius}function Fh(b){return b.startAngle}
function Gh(b){return b.endAngle}function Fi(b){return b&&b.padAngle}function Ef(b,k,q,t){return 0<(b-q)*k-(k-t)*b?0:1}function Ff(b,k,q,t,A){var y=b[0]-k[0],E=b[1]-k[1];A=(A?t:-t)/Math.sqrt(y*y+E*E);E*=A;y*=-A;var C=b[0]+E,F=b[1]+y,L=k[0]+E,O=k[1]+y;b=(C+L)/2;k=(F+O)/2;A=L-C;var V=O-F,W=A*A+V*V;t=q-t;O=C*O-L*F;var Z=(0>V?-1:1)*Math.sqrt(t*t*W-O*O);C=(O*V-A*Z)/W;F=(-O*A-V*Z)/W;L=(O*V+A*Z)/W;A=(-O*A+V*Z)/W;V=C-b;W=F-k;b=L-b;k=A-k;return V*V+W*W>b*b+k*k&&(C=L,F=A),[[C-E,F-y],[C*q/t,F*q/t]]}function Hh(b){function k(F){function L(){V.push("M",
y(b(W),C))}for(var O,V=[],W=[],Z=-1,ea=F.length,pa=tb(q),ka=tb(t);++Z<ea;)A.call(this,O=F[Z],Z)?W.push([+pa.call(this,O,Z),+ka.call(this,O,Z)]):W.length&&(L(),W=[]);return W.length&&L(),V.length?V.join(""):null}var q=mb,t=Gb,A=cd,y=Vc,E=y.key,C=.7;return k.x=function(F){return arguments.length?(q=F,k):q},k.y=function(F){return arguments.length?(t=F,k):t},k.defined=function(F){return arguments.length?(A=F,k):A},k.interpolate=function(F){return arguments.length?(E="function"==typeof F?y=F:(y=Hg.get(F)||
Vc).key,k):E},k.tension=function(F){return arguments.length?(C=F,k):C},k}function Vc(b){return b.join("L")}function Ig(b){for(var k=0,q=b.length,t=b[0],A=[t[0],",",t[1]];++k<q;)A.push("V",(t=b[k])[1],"H",t[0]);return A.join("")}function Jg(b){for(var k=0,q=b.length,t=b[0],A=[t[0],",",t[1]];++k<q;)A.push("H",(t=b[k])[0],"V",t[1]);return A.join("")}function Gf(b,k){if(1>k.length||b.length!=k.length&&b.length!=k.length+2)return Vc(b);var q=b.length!=k.length,t="",A=b[0],y=b[1],E=k[0],C=E,F=1;if(q&&(t+=
"Q"+(y[0]-2*E[0]/3)+","+(y[1]-2*E[1]/3)+","+y[0]+","+y[1],A=b[1],F=2),1<k.length)for(C=k[1],y=b[F],F++,t+="C"+(A[0]+E[0])+","+(A[1]+E[1])+","+(y[0]-C[0])+","+(y[1]-C[1])+","+y[0]+","+y[1],A=2;A<k.length;A++,F++)y=b[F],C=k[A],t+="S"+(y[0]-C[0])+","+(y[1]-C[1])+","+y[0]+","+y[1];q&&(b=b[F],t+="Q"+(y[0]+2*C[0]/3)+","+(y[1]+2*C[1]/3)+","+b[0]+","+b[1]);return t}function Kg(b,k){for(var q=[],t=(1-k)/2,A=b[0],y=b[1],E=1,C=b.length;++E<C;)k=A,A=y,y=b[E],q.push([t*(y[0]-k[0]),t*(y[1]-k[1])]);return q}function Ih(b){if(3>
b.length)return Vc(b);var k=1,q=b.length,t=b[0],A=t[0],y=t[1],E=[A,A,A,(t=b[1])[0]],C=[y,y,y,t[1]];A=[A,",",y,"L",Xc(Ud,E),",",Xc(Ud,C)];for(b.push(b[q-1]);++k<=q;)t=b[k],E.shift(),E.push(t[0]),C.shift(),C.push(t[1]),Lg(A,E,C);return b.pop(),A.push("L",t),A.join("")}function Xc(b,k){return b[0]*k[0]+b[1]*k[1]+b[2]*k[2]+b[3]*k[3]}function Lg(b,k,q){b.push("C",Xc(Jh,k),",",Xc(Jh,q),",",Xc(Kh,k),",",Xc(Kh,q),",",Xc(Ud,k),",",Xc(Ud,q))}function Mg(b,k){return(k[1]-b[1])/(k[0]-b[0])}function Lh(b){for(var k,
q,t,A=-1,y=b.length;++A<y;)k=b[A],q=k[0],t=k[1]-Zb,k[0]=q*Math.cos(t),k[1]=q*Math.sin(t);return b}function Mh(b){function k(W){function Z(){na.push("M",C(b(ia),V),O,L(b(oa.reverse()),V),"Z")}for(var ea,pa,ka,na=[],oa=[],ia=[],va=-1,Ha=W.length,ba=tb(q),la=tb(A),ta=q===t?function(){return pa}:tb(t),Ca=A===y?function(){return ka}:tb(y);++va<Ha;)E.call(this,ea=W[va],va)?(oa.push([pa=+ba.call(this,ea,va),ka=+la.call(this,ea,va)]),ia.push([+ta.call(this,ea,va),+Ca.call(this,ea,va)])):oa.length&&(Z(),oa=
[],ia=[]);return oa.length&&Z(),na.length?na.join(""):null}var q=mb,t=mb,A=0,y=Gb,E=cd,C=Vc,F=C.key,L=C,O="L",V=.7;return k.x=function(W){return arguments.length?(q=t=W,k):t},k.x0=function(W){return arguments.length?(q=W,k):q},k.x1=function(W){return arguments.length?(t=W,k):t},k.y=function(W){return arguments.length?(A=y=W,k):y},k.y0=function(W){return arguments.length?(A=W,k):A},k.y1=function(W){return arguments.length?(y=W,k):y},k.defined=function(W){return arguments.length?(E=W,k):E},k.interpolate=
function(W){return arguments.length?(F="function"==typeof W?C=W:(C=Hg.get(W)||Vc).key,L=C.reverse||C,O=C.closed?"M":"L",k):F},k.tension=function(W){return arguments.length?(V=W,k):V},k}function Gi(b){return b.radius}function Nh(b){return[b.x,b.y]}function Hi(b){return function(){var k=b.apply(this,arguments),q=k[0];k=k[1]-Zb;return[q*Math.cos(k),q*Math.sin(k)]}}function Ii(){return 64}function Ji(){return"circle"}function Oh(b){b=Math.sqrt(b/kb);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+
b+" 0 1,1 0,"+b+"Z"}function Ph(b){return function(){var k,q;(k=this[b])&&(q=k[k.active])&&(--k.count?delete k[k.active]:delete this[b],k.active+=.5,q.event&&q.event.interrupt.call(this,this.__data__,q.index))}}function Te(b,k,q){return sf(b,hc),b.namespace=k,b.id=q,b}function Ng(b,k,q,t){var A=b.id,y=b.namespace;return wa(b,"function"==typeof q?function(E,C,F){E[y][A].tween.set(k,t(q.call(E,E.__data__,C,F)))}:(q=t(q),function(E){E[y][A].tween.set(k,q)}))}function Ki(b){return null==b&&(b=""),function(){this.textContent=
b}}function Og(b){return null==b?"__transition__":"__transition_"+b+"__"}function Hf(b,k,q,t,A){var y=b[q]||(b[q]={active:0,count:0}),E=y[t];if(!E){var C=A.time;E=y[t]={tween:new e,time:C,delay:A.delay,duration:A.duration,ease:A.ease,index:k};A=null;++y.count;aa.timer(function(F){function L(na){if(y.active>t)return V();var oa=y[y.active];oa&&(--y.count,delete y[y.active],oa.event&&oa.event.interrupt.call(b,b.__data__,oa.index));y.active=t;E.event&&E.event.start.call(b,b.__data__,k);E.tween.forEach(function(ia,
va){(va=va.call(b,b.__data__,k))&&ka.push(va)});Z=E.ease;W=E.duration;aa.timer(function(){return pa.c=O(na||1)?cd:O,1},0,C)}function O(na){if(y.active!==t)return 1;na/=W;for(var oa=Z(na),ia=ka.length;0<ia;)ka[--ia].call(b,oa);return 1<=na?(E.event&&E.event.end.call(b,b.__data__,k),V()):void 0}function V(){return--y.count?delete y[t]:delete b[q],1}var W,Z,ea=E.delay,pa=Dd,ka=[];return pa.t=ea+C,F>=ea?L(F-ea):void(pa.c=L)},0,C)}}function Li(b,k,q){b.attr("transform",function(t){var A=k(t);return"translate("+
(isFinite(A)?A:q(t))+",0)"})}function Mi(b,k,q){b.attr("transform",function(t){var A=k(t);return"translate(0,"+(isFinite(A)?A:q(t))+")"})}function Pg(b){return b.toISOString()}function Qg(b,k,q){function t(y){return b(y)}function A(y,E){var C=(y[1]-y[0])/E,F=aa.bisect(If,C);return F==If.length?[k.year,Td(y.map(function(L){return L/31536E6}),E)[2]]:F?k[C/If[F-1]<If[F]/C?F-1:F]:[Ni,Td(y,E)[2]]}return t.invert=function(y){return ie(b.invert(y))},t.domain=function(y){return arguments.length?(b.domain(y),
t):b.domain().map(ie)},t.nice=function(y,E){function C(O){return!isNaN(O)&&!y.range(O,ie(+O+1),E).length}var F=t.domain(),L=Be(F);L=null==y?A(L,10):"number"==typeof y&&A(L,y);return L&&(y=L[0],E=L[1]),t.domain(Bf(F,1<E?{floor:function(O){for(;C(O=y.floor(O));)O=ie(O-1);return O},ceil:function(O){for(;C(O=y.ceil(O));)O=ie(+O+1);return O}}:y))},t.ticks=function(y,E){var C=Be(t.domain()),F=null==y?A(C,10):"number"==typeof y?A(C,y):!y.range&&[{range:y},E];return F&&(y=F[0],E=F[1]),y.range(C[0],ie(+C[1]+
1),1>E?1:E)},t.tickFormat=function(){return q},t.copy=function(){return Qg(b.copy(),k,q)},Gg(t,b)}function ie(b){return new Date(b)}function Oi(b){return JSON.parse(b.responseText)}function Pi(b){var k=Ec.createRange();return k.selectNode(Ec.body),k.createContextualFragment(b.responseText)}var aa={version:"3.5.5"},Qh=[].slice,Od=function(b){return Qh.call(b)},Ec=this.document;if(Ec)try{Od(Ec.documentElement.childNodes)[0].nodeType}catch(b){Od=function(k){for(var q=k.length,t=Array(q);q--;)t[q]=k[q];
return t}}if(Date.now||(Date.now=function(){return+new Date}),Ec)try{Ec.createElement("DIV").style.setProperty("opacity",0,"")}catch(b){var Jf=this.Element.prototype,Qi=Jf.setAttribute,Ri=Jf.setAttributeNS,Rh=this.CSSStyleDeclaration.prototype,Si=Rh.setProperty;Jf.setAttribute=function(k,q){Qi.call(this,k,q+"")};Jf.setAttributeNS=function(k,q,t){Ri.call(this,k,q,t+"")};Rh.setProperty=function(k,q,t){Si.call(this,k,q+"",t)}}aa.ascending=N;aa.descending=function(b,k){return b>k?-1:k>b?1:k>=b?0:0/0};
aa.min=function(b,k){var q,t=-1,A=b.length;if(1===arguments.length){for(;++t<A;)if(null!=(q=b[t])&&q>=q){var y=q;break}for(;++t<A;)null!=(q=b[t])&&y>q&&(y=q)}else{for(;++t<A;)if(null!=(q=k.call(b,b[t],t))&&q>=q){y=q;break}for(;++t<A;)null!=(q=k.call(b,b[t],t))&&y>q&&(y=q)}return y};aa.max=function(b,k){var q,t=-1,A=b.length;if(1===arguments.length){for(;++t<A;)if(null!=(q=b[t])&&q>=q){var y=q;break}for(;++t<A;)null!=(q=b[t])&&q>y&&(y=q)}else{for(;++t<A;)if(null!=(q=k.call(b,b[t],t))&&q>=q){y=q;break}for(;++t<
A;)null!=(q=k.call(b,b[t],t))&&q>y&&(y=q)}return y};aa.extent=function(b,k){var q,t,A=-1,y=b.length;if(1===arguments.length){for(;++A<y;)if(null!=(q=b[A])&&q>=q){var E=t=q;break}for(;++A<y;)null!=(q=b[A])&&(E>q&&(E=q),q>t&&(t=q))}else{for(;++A<y;)if(null!=(q=k.call(b,b[A],A))&&q>=q){E=t=q;break}for(;++A<y;)null!=(q=k.call(b,b[A],A))&&(E>q&&(E=q),q>t&&(t=q))}return[E,t]};aa.sum=function(b,k){var q,t=0,A=b.length,y=-1;if(1===arguments.length)for(;++y<A;)!isNaN(q=+b[y])&&(t+=q);else for(;++y<A;)!isNaN(q=
+k.call(b,b[y],y))&&(t+=q);return t};aa.mean=function(b,k){var q,t=0,A=b.length,y=-1,E=A;if(1===arguments.length)for(;++y<A;)isNaN(q=X(b[y]))?--E:t+=q;else for(;++y<A;)isNaN(q=X(k.call(b,b[y],y)))?--E:t+=q;return E?t/E:void 0};aa.quantile=function(b,k){var q=(b.length-1)*k+1;k=Math.floor(q);var t=+b[k-1];return(q-=k)?t+q*(b[k]-t):t};aa.median=function(b,k){var q,t=[],A=b.length,y=-1;if(1===arguments.length)for(;++y<A;)!isNaN(q=X(b[y]))&&t.push(q);else for(;++y<A;)!isNaN(q=X(k.call(b,b[y],y)))&&t.push(q);
return t.length?aa.quantile(t.sort(N),.5):void 0};aa.variance=function(b,k){var q,t,A=b.length,y=0,E=0,C=-1,F=0;if(1===arguments.length)for(;++C<A;)!isNaN(q=X(b[C]))&&(t=q-y,y+=t/++F,E+=t*(q-y));else for(;++C<A;)!isNaN(q=X(k.call(b,b[C],C)))&&(t=q-y,y+=t/++F,E+=t*(q-y));return 1<F?E/(F-1):void 0};aa.deviation=function(){var b=aa.variance.apply(this,arguments);return b?Math.sqrt(b):b};var Sh=h(N);aa.bisectLeft=Sh.left;aa.bisect=aa.bisectRight=Sh.right;aa.bisector=function(b){return h(1===b.length?
function(k,q){return N(b(k),q)}:b)};aa.shuffle=function(b,k,q){3>(y=arguments.length)&&(q=b.length,2>y&&(k=0));for(var t,A,y=q-k;y;)A=Math.random()*y--|0,t=b[y+k],b[y+k]=b[A+k],b[A+k]=t;return b};aa.permute=function(b,k){for(var q=k.length,t=Array(q);q--;)t[q]=b[k[q]];return t};aa.pairs=function(b){for(var k=0,q=b.length-1,t=b[0],A=Array(0>q?0:q);q>k;)A[k]=[t,t=b[++k]];return A};aa.zip=function(){if(!(t=arguments.length))return[];for(var b=-1,k=aa.min(arguments,f),q=Array(k);++b<k;)for(var t,A=-1,
y=q[b]=Array(t);++A<t;)y[A]=arguments[A][b];return q};aa.transpose=function(b){return aa.zip.apply(aa,b)};aa.keys=function(b){var k=[],q;for(q in b)k.push(q);return k};aa.values=function(b){var k=[],q;for(q in b)k.push(b[q]);return k};aa.entries=function(b){var k=[],q;for(q in b)k.push({key:q,value:b[q]});return k};aa.merge=function(b){var k,q=b.length;var t=-1;for(var A=0;++t<q;)A+=b[t].length;for(k=Array(A);0<=--q;){var y=b[q];for(t=y.length;0<=--t;)k[--A]=y[t]}return k};var ob=Math.abs;aa.range=
function(b,k,q){if(3>arguments.length&&(q=1,2>arguments.length&&(k=b,b=0)),(k-b)/q===1/0)throw Error("infinite range");var t=[],A;var y=ob(q);for(A=1;y*A%1;)A*=10;var E=-1;if(b*=A,k*=A,q*=A,0>q)for(;(y=b+q*++E)>k;)t.push(y/A);else for(;(y=b+q*++E)<k;)t.push(y/A);return t};aa.map=function(b,k){var q=new e;if(b instanceof e)b.forEach(function(E,C){q.set(E,C)});else if(Array.isArray(b)){var t,A=-1,y=b.length;if(1===arguments.length)for(;++A<y;)q.set(A,b[A]);else for(;++A<y;)q.set(k.call(b,t=b[A],A),
t)}else for(A in b)q.set(A,b[A]);return q};var li="__proto__",qg="\x00";g(e,{has:u,get:function(b){return this._[m(b)]},set:function(b,k){return this._[m(b)]=k},remove:c,keys:l,values:function(){var b=[],k;for(k in this._)b.push(this._[k]);return b},entries:function(){var b=[],k;for(k in this._)b.push({key:p(k),value:this._[k]});return b},size:n,empty:w,forEach:function(b){for(var k in this._)b.call(this,p(k),this._[k])}});aa.nest=function(){function b(C,F,L){if(L>=y.length)return t?t.call(A,F):q?
F.sort(q):F;for(var O,V,W,Z,ea=-1,pa=F.length,ka=y[L++],na=new e;++ea<pa;)(Z=na.get(O=ka(V=F[ea])))?Z.push(V):na.set(O,[V]);return C?(V=C(),W=function(oa,ia){V.set(oa,b(C,ia,L))}):(V={},W=function(oa,ia){V[oa]=b(C,ia,L)}),na.forEach(W),V}function k(C,F){if(F>=y.length)return C;var L=[],O=E[F++];return C.forEach(function(V,W){L.push({key:V,values:k(W,F)})}),O?L.sort(function(V,W){return O(V.key,W.key)}):L}var q,t,A={},y=[],E=[];return A.map=function(C,F){return b(F,C,0)},A.entries=function(C){return k(b(aa.map,
C,0),0)},A.key=function(C){return y.push(C),A},A.sortKeys=function(C){return E[y.length-1]=C,A},A.sortValues=function(C){return q=C,A},A.rollup=function(C){return t=C,A},A};aa.set=function(b){var k=new z;if(b)for(var q=0,t=b.length;t>q;++q)k.add(b[q]);return k};g(z,{has:u,add:function(b){return this._[m(b+="")]=!0,b},remove:c,values:l,size:n,empty:w,forEach:function(b){for(var k in this._)b.call(this,p(k))}});aa.behavior={};aa.rebind=function(b,k){for(var q,t=1,A=arguments.length;++t<A;)b[q=arguments[t]]=
J(b,k,k[q]);return b};var $g="webkit ms moz Moz o O".split(" ");aa.dispatch=function(){for(var b=new D,k=-1,q=arguments.length;++k<q;)b[arguments[k]]=M(b);return b};D.prototype.on=function(b,k){var q=b.indexOf("."),t="";if(0<=q&&(t=b.slice(q+1),b=b.slice(0,q)),b)return 2>arguments.length?this[b].on(t):this[b].on(t,k);if(2===arguments.length){if(null==k)for(b in this)this.hasOwnProperty(b)&&this[b].on(t,null);return this}};aa.event=null;aa.requote=function(b){return b.replace(Ti,"\\$&")};var Ti=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,
sf={}.__proto__?function(b,k){b.__proto__=k}:function(b,k){for(var q in k)b[q]=k[q]},rg=function(b,k){return k.querySelector(b)},sg=function(b,k){return k.querySelectorAll(b)},tg=function(b,k){var q=b.matches||b[v(b,"matchesSelector")];return(tg=function(t,A){return q.call(t,A)})(b,k)};"function"==typeof Sizzle&&(rg=function(b,k){return Sizzle(b,k)[0]||null},sg=Sizzle,tg=Sizzle.matchesSelector);aa.selection=function(){return aa.select(Ec.documentElement)};var Cb=aa.selection.prototype=[];Cb.select=
function(b){var k,q,t,A,y=[];b=R(b);for(var E=-1,C=this.length;++E<C;){y.push(k=[]);k.parentNode=(t=this[E]).parentNode;for(var F=-1,L=t.length;++F<L;)(A=t[F])?(k.push(q=b.call(A,A.__data__,F,E)),q&&"__data__"in A&&(q.__data__=A.__data__)):k.push(null)}return S(y)};Cb.selectAll=function(b){var k,q,t=[];b=ca(b);for(var A=-1,y=this.length;++A<y;)for(var E=this[A],C=-1,F=E.length;++C<F;)(q=E[C])&&(t.push(k=Od(b.call(q,q.__data__,C,A))),k.parentNode=q);return S(t)};var Rg={svg:"http://www.w3.org/2000/svg",
xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};aa.ns={prefix:Rg,qualify:function(b){var k=b.indexOf(":"),q=b;return 0<=k&&(q=b.slice(0,k),b=b.slice(k+1)),Rg.hasOwnProperty(q)?{space:Rg[q],local:b}:b}};Cb.attr=function(b,k){if(2>arguments.length){if("string"==typeof b){var q=this.node();return b=aa.ns.qualify(b),b.local?q.getAttributeNS(b.space,b.local):q.getAttribute(b)}for(k in b)this.each(ha(k,
b[k]));return this}return this.each(ha(b,k))};Cb.classed=function(b,k){if(2>arguments.length){if("string"==typeof b){var q=this.node(),t=(b=(b+"").trim().split(/^|\s+/)).length,A=-1;if(k=q.classList)for(;++A<t;){if(!k.contains(b[A]))return!1}else for(k=q.getAttribute("class");++A<t;)if(!ra(b[A]).test(k))return!1;return!0}for(k in b)this.each(Ia(k,b[k]));return this}return this.each(Ia(b,k))};Cb.style=function(b,k,q){var t=arguments.length;if(3>t){if("string"!=typeof b){2>t&&(k="");for(q in b)this.each(ma(q,
b[q],k));return this}if(2>t)return t=this.node(),d(t).getComputedStyle(t,null).getPropertyValue(b);q=""}return this.each(ma(b,k,q))};Cb.property=function(b,k){if(2>arguments.length){if("string"==typeof b)return this.node()[b];for(k in b)this.each(Aa(k,b[k]));return this}return this.each(Aa(b,k))};Cb.text=function(b){return arguments.length?this.each("function"==typeof b?function(){var k=b.apply(this,arguments);this.textContent=null==k?"":k}:null==b?function(){this.textContent=""}:function(){this.textContent=
b}):this.node().textContent};Cb.html=function(b){return arguments.length?this.each("function"==typeof b?function(){var k=b.apply(this,arguments);this.innerHTML=null==k?"":k}:null==b?function(){this.innerHTML=""}:function(){this.innerHTML=b}):this.node().innerHTML};Cb.append=function(b){return b=Da(b),this.select(function(){return this.appendChild(b.apply(this,arguments))})};Cb.insert=function(b,k){return b=Da(b),k=R(k),this.select(function(){return this.insertBefore(b.apply(this,arguments),k.apply(this,
arguments)||null)})};Cb.remove=function(){return this.each(Fa)};Cb.data=function(b,k){function q(O,V){var W,Z,ea,pa=O.length,ka=V.length,na=Math.min(pa,ka),oa=Array(ka),ia=Array(ka),va=Array(pa);if(k){var Ha;na=new e;var ba=Array(pa);for(W=-1;++W<pa;)na.has(Ha=k.call(Z=O[W],Z.__data__,W))?va[W]=Z:na.set(Ha,Z),ba[W]=Ha;for(W=-1;++W<ka;)(Z=na.get(Ha=k.call(V,ea=V[W],W)))?!0!==Z&&(oa[W]=Z,Z.__data__=ea):ia[W]={__data__:ea},na.set(Ha,!0);for(W=-1;++W<pa;)!0!==na.get(ba[W])&&(va[W]=O[W])}else{for(W=-1;++W<
na;)Z=O[W],ea=V[W],Z?(Z.__data__=ea,oa[W]=Z):ia[W]={__data__:ea};for(;ka>W;++W)ia[W]={__data__:V[W]};for(;pa>W;++W)va[W]=O[W]}ia.update=oa;ia.parentNode=oa.parentNode=va.parentNode=O.parentNode;C.push(ia);F.push(oa);L.push(va)}var t,A,y=-1,E=this.length;if(!arguments.length){for(b=Array(E=(t=this[0]).length);++y<E;)(A=t[y])&&(b[y]=A.__data__);return b}var C=Qa([]),F=S([]),L=S([]);if("function"==typeof b)for(;++y<E;)q(t=this[y],b.call(t,t.parentNode.__data__,y));else for(;++y<E;)q(t=this[y],b);return F.enter=
function(){return C},F.exit=function(){return L},F};Cb.datum=function(b){return arguments.length?this.property("__data__",b):this.property("__data__")};Cb.filter=function(b){var k,q,t,A=[];"function"!=typeof b&&(b=Oa(b));for(var y=0,E=this.length;E>y;y++){A.push(k=[]);k.parentNode=(q=this[y]).parentNode;for(var C=0,F=q.length;F>C;C++)(t=q[C])&&b.call(t,t.__data__,C,y)&&k.push(t)}return S(A)};Cb.order=function(){for(var b=-1,k=this.length;++b<k;)for(var q,t=this[b],A=t.length-1,y=t[A];0<=--A;)(q=t[A])&&
(y&&y!==q.nextSibling&&y.parentNode.insertBefore(q,y),y=q);return this};Cb.sort=function(b){b=Ga.apply(this,arguments);for(var k=-1,q=this.length;++k<q;)this[k].sort(b);return this.order()};Cb.each=function(b){return wa(this,function(k,q,t){b.call(k,k.__data__,q,t)})};Cb.call=function(b){var k=Od(arguments);return b.apply(k[0]=this,k),this};Cb.empty=function(){return!this.node()};Cb.node=function(){for(var b=0,k=this.length;k>b;b++)for(var q=this[b],t=0,A=q.length;A>t;t++){var y=q[t];if(y)return y}return null};
Cb.size=function(){var b=0;return wa(this,function(){++b}),b};var Cd=[];aa.selection.enter=Qa;aa.selection.enter.prototype=Cd;Cd.append=Cb.append;Cd.empty=Cb.empty;Cd.node=Cb.node;Cd.call=Cb.call;Cd.size=Cb.size;Cd.select=function(b){for(var k,q,t,A,y,E=[],C=-1,F=this.length;++C<F;){t=(A=this[C]).update;E.push(k=[]);k.parentNode=A.parentNode;for(var L=-1,O=A.length;++L<O;)(y=A[L])?(k.push(t[L]=q=b.call(A.parentNode,y.__data__,L,C)),q.__data__=y.__data__):k.push(null)}return S(E)};Cd.insert=function(b,
k){return 2>arguments.length&&(k=Wa(this)),Cb.insert.call(this,b,k)};aa.select=function(b){var k;return"string"==typeof b?(k=[rg(b,Ec)],k.parentNode=Ec.documentElement):(k=[b],k.parentNode=b&&(b.ownerDocument||b.document||b).documentElement),S([k])};aa.selectAll=function(b){var k;return"string"==typeof b?(k=Od(sg(b,Ec)),k.parentNode=Ec.documentElement):(k=b,k.parentNode=null),S([k])};Cb.on=function(b,k,q){var t=arguments.length;if(3>t){if("string"!=typeof b){2>t&&(k=!1);for(q in b)this.each(Ba(q,
b[q],k));return this}if(2>t)return(t=this.node()["__on"+b])&&t._;q=!1}return this.each(Ba(b,k,q))};var ug=aa.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ec&&ug.forEach(function(b){"on"+b in Ec&&ug.remove(b)});var ce,mi=0;aa.mouse=function(b){return rb(b,G())};var vg=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;aa.touch=function(b,k,q){if(3>arguments.length&&(q=k,k=G().changedTouches),k)for(var t,A=0,y=k.length;y>A;++A)if((t=k[A]).identifier===q)return rb(b,t)};aa.behavior.drag=
function(){function b(){this.on("mousedown.drag",A).on("touchstart.drag",y)}function k(E,C,F,L,O){return function(){var V,W=aa.event.target,Z=this.parentNode,ea=q.of(this,arguments),pa=0,ka=E(),na=".drag"+(null==ka?"":"-"+ka),oa=aa.select(F(W)).on(L+na,function(){var Ha,ba,la=C(Z,ka);la&&(Ha=la[0]-va[0],ba=la[1]-va[1],pa|=Ha|ba,va=la,ea({type:"drag",x:la[0]+V[0],y:la[1]+V[1],dx:Ha,dy:ba}))}).on(O+na,function(){C(Z,ka)&&(oa.on(L+na,null).on(O+na,null),ia(pa&&aa.event.target===W),ea({type:"dragend"}))}),
ia=$a(W),va=C(Z,ka);t?(V=t.apply(this,arguments),V=[V.x-va[0],V.y-va[1]]):V=[0,0];ea({type:"dragstart"})}}var q=T(b,"drag","dragstart","dragend"),t=null,A=k(K,aa.mouse,d,"mousemove","mouseup"),y=k(Hb,aa.touch,x,"touchmove","touchend");return b.origin=function(E){return arguments.length?(t=E,b):t},aa.rebind(b,q,"on")};aa.touches=function(b,k){return 2>arguments.length&&(k=G().touches),k?Od(k).map(function(q){var t=rb(b,q);return t.identifier=q.identifier,t}):[]};var Ya=1E-6,xg=Ya*Ya,kb=Math.PI,Uc=
2*kb,Ui=Uc-Ya,Zb=kb/2,lb=kb/180,Rb=180/kb,Kf=Math.SQRT2;aa.interpolateZoom=function(b,k){function q(Z){var ea=Z*W;if(V){Z=nc(O);var pa=y/(2*L),ka=Kf*ea+O;var na=((ka=Math.exp(2*ka))-1)/(ka+1);var oa=O;ka=((oa=Math.exp(oa))-1/oa)/2;pa*=Z*na-ka;return[t+pa*E,A+pa*C,y*Z/nc(Kf*ea+O)]}return[t+Z*E,A+Z*C,y*Math.exp(Kf*ea)]}var t=b[0],A=b[1],y=b[2];b=k[2];var E=k[0]-t,C=k[1]-A,F=E*E+C*C,L=Math.sqrt(F);k=(b*b-y*y+4*F)/(4*y*L);F=(b*b-y*y-4*F)/(4*b*L);var O=Math.log(Math.sqrt(k*k+1)-k),V=Math.log(Math.sqrt(F*
F+1)-F)-O,W=(V||Math.log(b/y))/Kf;return q.duration=1E3*W,q};aa.behavior.zoom=function(){function b(Ta){Ta.on(La,L).on(Th+".zoom",V).on("dblclick.zoom",W).on(jb,O)}function k(Ta){return[(Ta[0]-ba.x)/ba.k,(Ta[1]-ba.y)/ba.k]}function q(Ta){ba.k=Math.max(ta[0],Math.min(ta[1],Ta))}function t(Ta,hb){hb=[hb[0]*ba.k+ba.x,hb[1]*ba.k+ba.y];ba.x+=Ta[0]-hb[0];ba.y+=Ta[1]-hb[1]}function A(Ta,hb,ub,Db){Ta.__chart__={x:ba.x,y:ba.y,k:ba.k};q(Math.pow(2,Db));t(ea=hb,ub);Ta=aa.select(Ta);0<Ca&&(Ta=Ta.transition().duration(Ca));
Ta.call(b.event)}function y(){ia&&ia.domain(oa.range().map(function(Ta){return(Ta-ba.x)/ba.k}).map(oa.invert));Ha&&Ha.domain(va.range().map(function(Ta){return(Ta-ba.y)/ba.k}).map(va.invert))}function E(Ta){Ea++||Ta({type:"zoomstart"})}function C(Ta){y();Ta({type:"zoom",scale:ba.k,translate:[ba.x,ba.y]})}function F(Ta){--Ea||Ta({type:"zoomend"});ea=null}function L(){var Ta=this,hb=aa.event.target,ub=fb.of(Ta,arguments),Db=0,sc=aa.select(d(Ta)).on(Na,function(){Db=1;t(aa.mouse(Ta),Mb);C(ub)}).on(db,
function(){sc.on(Na,null).on(db,null);gc(Db&&aa.event.target===hb);F(ub)}),Mb=k(aa.mouse(Ta)),gc=$a(Ta);Lf.call(Ta);E(ub)}function O(){function Ta(){var Nb=aa.touches(Mb);return sc=ba.k,Nb.forEach(function(Sb){Sb.identifier in fc&&(fc[Sb.identifier]=k(Sb))}),Nb}function hb(){var Nb=aa.event.target;aa.select(Nb).on(Qe,ub).on(Re,Db);ge.push(Nb);Nb=aa.event.changedTouches;for(var Sb=0,Mc=Nb.length;Mc>Sb;++Sb)fc[Nb[Sb].identifier]=null;Sb=Ta();Mc=Date.now();1===Sb.length?(500>Mc-na&&(Nb=Sb[0],A(Mb,Nb,
fc[Nb.identifier],Math.floor(Math.log(ba.k)/Math.LN2)+1),Q()),na=Mc):1<Sb.length&&(Nb=Sb[0],Mc=Sb[1],Sb=Nb[0]-Mc[0],Nb=Nb[1]-Mc[1],Ic=Sb*Sb+Nb*Nb)}function ub(){var Nb,Sb,Mc=aa.touches(Mb);Lf.call(Mb);for(var Mf=0,Vi=Mc.length;Vi>Mf;++Mf,Sb=null)if(Nb=Mc[Mf],Sb=fc[Nb.identifier]){if(Ue)break;var Ce=Nb;var Ue=Sb}if(Sb){var Ve=(Ve=Nb[0]-Ce[0])*Ve+(Ve=Nb[1]-Ce[1])*Ve;Mc=Ic&&Math.sqrt(Ve/Ic);Ce=[(Ce[0]+Nb[0])/2,(Ce[1]+Nb[1])/2];Ue=[(Ue[0]+Sb[0])/2,(Ue[1]+Sb[1])/2];q(Mc*sc)}na=null;t(Ce,Ue);C(gc)}function Db(){if(aa.event.touches.length){for(var Nb=
aa.event.changedTouches,Sb=0,Mc=Nb.length;Mc>Sb;++Sb)delete fc[Nb[Sb].identifier];for(var Mf in fc)return void Ta()}aa.selectAll(ge).on(Lc,null);Uh.on(La,L).on(jb,O);Wi();F(gc)}var sc,Mb=this,gc=fb.of(Mb,arguments),fc={},Ic=0,Lc=".zoom-"+aa.event.changedTouches[0].identifier,Qe="touchmove"+Lc,Re="touchend"+Lc,ge=[],Uh=aa.select(Mb),Wi=$a(Mb);hb();E(gc);Uh.on(La,null).on(jb,hb)}function V(){var Ta=fb.of(this,arguments);ka?clearTimeout(ka):(Z=k(ea=pa||aa.mouse(this)),Lf.call(this),E(Ta));ka=setTimeout(function(){ka=
null;F(Ta)},50);Q();q(Math.pow(2,.002*Nf())*ba.k);t(ea,Z);C(Ta)}function W(){var Ta=aa.mouse(this),hb=Math.log(ba.k)/Math.LN2;A(this,Ta,k(Ta),aa.event.shiftKey?Math.ceil(hb)-1:Math.floor(hb)+1)}var Z,ea,pa,ka,na,oa,ia,va,Ha,ba={x:0,y:0,k:1},la=[960,500],ta=Vh,Ca=250,Ea=0,La="mousedown.zoom",Na="mousemove.zoom",db="mouseup.zoom",jb="touchstart.zoom",fb=T(b,"zoomstart","zoom","zoomend");return Th||="onwheel"in Ec?(Nf=function(){return-aa.event.deltaY*(aa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in
Ec?(Nf=function(){return aa.event.wheelDelta},"mousewheel"):(Nf=function(){return-aa.event.detail},"MozMousePixelScroll"),b.event=function(Ta){Ta.each(function(){var hb=fb.of(this,arguments),ub=ba;je?aa.select(this).transition().each("start.zoom",function(){ba=this.__chart__||{x:0,y:0,k:1};E(hb)}).tween("zoom:zoom",function(){var Db=la[0],sc=la[1],Mb=ea?ea[0]:Db/2,gc=ea?ea[1]:sc/2,fc=aa.interpolateZoom([(Mb-ba.x)/ba.k,(gc-ba.y)/ba.k,Db/ba.k],[(Mb-ub.x)/ub.k,(gc-ub.y)/ub.k,Db/ub.k]);return function(Ic){Ic=
fc(Ic);var Lc=Db/Ic[2];this.__chart__=ba={x:Mb-Ic[0]*Lc,y:gc-Ic[1]*Lc,k:Lc};C(hb)}}).each("interrupt.zoom",function(){F(hb)}).each("end.zoom",function(){F(hb)}):(this.__chart__=ba,E(hb),C(hb),F(hb))})},b.translate=function(Ta){return arguments.length?(ba={x:+Ta[0],y:+Ta[1],k:ba.k},y(),b):[ba.x,ba.y]},b.scale=function(Ta){return arguments.length?(ba={x:ba.x,y:ba.y,k:+Ta},y(),b):ba.k},b.scaleExtent=function(Ta){return arguments.length?(ta=null==Ta?Vh:[+Ta[0],+Ta[1]],b):ta},b.center=function(Ta){return arguments.length?
(pa=Ta&&[+Ta[0],+Ta[1]],b):pa},b.size=function(Ta){return arguments.length?(la=Ta&&[+Ta[0],+Ta[1]],b):la},b.duration=function(Ta){return arguments.length?(Ca=+Ta,b):Ca},b.x=function(Ta){return arguments.length?(ia=Ta,oa=Ta.copy(),ba={x:0,y:0,k:1},b):ia},b.y=function(Ta){return arguments.length?(Ha=Ta,va=Ta.copy(),ba={x:0,y:0,k:1},b):Ha},aa.rebind(b,fb,"on")};var Nf,Th,Vh=[0,1/0];aa.color=H;H.prototype.toString=function(){return this.rgb()+""};aa.hsl=oc;var Sg=oc.prototype=new H;Sg.brighter=function(b){return b=
Math.pow(.7,arguments.length?b:1),new oc(this.h,this.s,this.l/b)};Sg.darker=function(b){return b=Math.pow(.7,arguments.length?b:1),new oc(this.h,this.s,b*this.l)};Sg.rgb=function(){return ic(this.h,this.s,this.l)};aa.hcl=lc;var Tg=lc.prototype=new H;Tg.brighter=function(b){return new lc(this.h,this.c,Math.min(100,this.l+Of*(arguments.length?b:1)))};Tg.darker=function(b){return new lc(this.h,this.c,Math.max(0,this.l-Of*(arguments.length?b:1)))};Tg.rgb=function(){return Yc(this.h,this.c,this.l).rgb()};
aa.lab=ec;var Of=18,ah=.95047,bh=1,ch=1.08883,Ug=ec.prototype=new H;Ug.brighter=function(b){return new ec(Math.min(100,this.l+Of*(arguments.length?b:1)),this.a,this.b)};Ug.darker=function(b){return new ec(Math.max(0,this.l-Of*(arguments.length?b:1)),this.a,this.b)};Ug.rgb=function(){return xd(this.l,this.a,this.b)};aa.rgb=nb;var Pf=nb.prototype=new H;Pf.brighter=function(b){b=Math.pow(.7,arguments.length?b:1);var k=this.r,q=this.g,t=this.b;return k||q||t?(k&&30>k&&(k=30),q&&30>q&&(q=30),t&&30>t&&
(t=30),new nb(Math.min(255,k/b),Math.min(255,q/b),Math.min(255,t/b))):new nb(30,30,30)};Pf.darker=function(b){return b=Math.pow(.7,arguments.length?b:1),new nb(b*this.r,b*this.g,b*this.b)};Pf.hsl=function(){return tc(this.r,this.g,this.b)};Pf.toString=function(){return"#"+gb(this.r)+gb(this.g)+gb(this.b)};var tf=aa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,
burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,
darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,
lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,
mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,
red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});tf.forEach(function(b,k){tf.set(b,
new nb(k>>16,k>>8&255,255&k))});aa.functor=tb;aa.xhr=Dc(x);aa.dsv=function(b,k){function q(L,O,V){3>arguments.length&&(V=O,O=null);var W=Cc(L,k,null==O?t:A(O),V);return W.row=function(Z){return arguments.length?W.response(null==(O=Z)?t:A(Z)):O},W}function t(L){return q.parse(L.responseText)}function A(L){return function(O){return q.parse(O.responseText,L)}}function y(L){return L.map(E).join(b)}function E(L){return C.test(L)?'"'+L.replace(/"/g,'""')+'"':L}var C=new RegExp('["'+b+"\n]"),F=b.charCodeAt(0);
return q.parse=function(L,O){var V;return q.parseRows(L,function(W,Z){if(V)return V(W,Z-1);var ea=new Function("d","return {"+W.map(function(pa,ka){return JSON.stringify(pa)+": d["+ka+"]"}).join(",")+"}");V=O?function(pa,ka){return O(ea(pa),ka)}:ea})},q.parseRows=function(L,O){function V(){if(oa>=na)return pa;if(Z)return Z=!1,ea;var Ha=oa;if(34===L.charCodeAt(Ha)){for(var ba=Ha;ba++<na;)if(34===L.charCodeAt(ba)){if(34!==L.charCodeAt(ba+1))break;++ba}oa=ba+2;var la=L.charCodeAt(ba+1);return 13===la?
(Z=!0,10===L.charCodeAt(ba+2)&&++oa):10===la&&(Z=!0),L.slice(Ha+1,ba).replace(/""/g,'"')}for(;na>oa;){la=L.charCodeAt(oa++);ba=1;if(10===la)Z=!0;else if(13===la)Z=!0,10===L.charCodeAt(oa)&&(++oa,++ba);else if(la!==F)continue;return L.slice(Ha,oa-ba)}return L.slice(Ha)}for(var W,Z,ea={},pa={},ka=[],na=L.length,oa=0,ia=0;(W=V())!==pa;){for(var va=[];W!==ea&&W!==pa;)va.push(W),W=V();O&&null==(va=O(va,ia++))||ka.push(va)}return ka},q.format=function(L){if(Array.isArray(L[0]))return q.formatRows(L);var O=
new z,V=[];return L.forEach(function(W){for(var Z in W)O.has(Z)||V.push(O.add(Z))}),[V.map(E).join(b)].concat(L.map(function(W){return V.map(function(Z){return E(W[Z])}).join(b)})).join("\n")},q.formatRows=function(L){return L.map(y).join("\n")},q};aa.csv=aa.dsv(",","text/csv");aa.tsv=aa.dsv("\t","text/tab-separated-values");var wf,xf,vf,uf,Dd,dh=this[v(this,"requestAnimationFrame")]||function(b){setTimeout(b,17)};aa.timer=function(b,k,q){var t=arguments.length;2>t&&(k=0);3>t&&(q=Date.now());t={c:b,
t:q+k,f:!1,n:null};xf?xf.n=t:wf=t;xf=t;vf||(uf=clearTimeout(uf),vf=1,dh(rc))};aa.timer.flush=function(){Gd();Md()};aa.round=function(b,k){return k?Math.round(b*(k=Math.pow(10,k)))/k:Math.round(b)};var Xi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(b,k){var q=Math.pow(10,3*ob(8-k));return{scale:8<k?function(t){return t/q}:function(t){return t*q},symbol:b}});aa.formatPrefix=function(b,k){var q=0;return b&&(0>b&&(b*=-1),k&&(b=aa.round(b,Va(b,k))),q=1+Math.floor(1E-12+Math.log(b)/
Math.LN10),q=Math.max(-24,Math.min(24,3*Math.floor((q-1)/3)))),Xi[8+q/3]};var eh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ni=aa.map({b:function(b){return b.toString(2)},c:function(b){return String.fromCharCode(b)},o:function(b){return b.toString(8)},x:function(b){return b.toString(16)},X:function(b){return b.toString(16).toUpperCase()},g:function(b,k){return b.toPrecision(k)},e:function(b,k){return b.toExponential(k)},f:function(b,k){return b.toFixed(k)},r:function(b,
k){return(b=aa.round(b,Va(b,k))).toFixed(Math.max(0,Math.min(20,Va(b*(1+1E-15),k))))}}),bb=aa.time={},yc=Date;Xb.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},
getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Fd.setUTCDate.apply(this._,arguments)},setDay:function(){Fd.setUTCDay.apply(this._,arguments)},setFullYear:function(){Fd.setUTCFullYear.apply(this._,arguments)},setHours:function(){Fd.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Fd.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Fd.setUTCMinutes.apply(this._,arguments)},
setMonth:function(){Fd.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Fd.setUTCSeconds.apply(this._,arguments)},setTime:function(){Fd.setTime.apply(this._,arguments)}};var Fd=Date.prototype;bb.year=Bc(function(b){return b=bb.day(b),b.setMonth(0,1),b},function(b,k){b.setFullYear(b.getFullYear()+k)},function(b){return b.getFullYear()});bb.years=bb.year.range;bb.years.utc=bb.year.utc.range;bb.day=Bc(function(b){var k=new yc(2E3,0);return k.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),
k},function(b,k){b.setDate(b.getDate()+k)},function(b){return b.getDate()-1});bb.days=bb.day.range;bb.days.utc=bb.day.utc.range;bb.dayOfYear=function(b){var k=bb.year(b);return Math.floor((b-k-6E4*(b.getTimezoneOffset()-k.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(b,k){k=7-k;var q=bb[b]=Bc(function(t){return(t=bb.day(t)).setDate(t.getDate()-(t.getDay()+k)%7),t},function(t,A){t.setDate(t.getDate()+7*Math.floor(A))},function(t){var A=
bb.year(t).getDay();return Math.floor((bb.dayOfYear(t)+(A+k)%7)/7)-(A!==k)});bb[b+"s"]=q.range;bb[b+"s"].utc=q.utc.range;bb[b+"OfYear"]=function(t){var A=bb.year(t).getDay();return Math.floor((bb.dayOfYear(t)+(A+k)%7)/7)}});bb.week=bb.sunday;bb.weeks=bb.sunday.range;bb.weeks.utc=bb.sunday.utc.range;bb.weekOfYear=bb.sundayOfYear;var fh={"-":"",_:" ",0:"0"},$b=/^\s*\d+/,gh=/^%/;aa.locale=function(b){return{numberFormat:Fb(b),timeFormat:bf(b)}};var Wh=aa.locale({decimal:".",thousands:",",grouping:[3],
currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});aa.format=Wh.numberFormat;aa.geo={};Zd.prototype={s:0,t:0,add:function(b){ff(b,this.t,Qf);ff(Qf.s,
this.s,this);this.s?this.t+=Qf.t:this.s=Qf.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Qf=new Zd;aa.geo.stream=function(b,k){b&&Xh.hasOwnProperty(b.type)?Xh[b.type](b,k):qe(b,k)};var Xh={Feature:function(b,k){qe(b.geometry,k)},FeatureCollection:function(b,k){b=b.features;for(var q=-1,t=b.length;++q<t;)qe(b[q].geometry,k)}},hh={Sphere:function(b,k){k.sphere()},Point:function(b,k){b=b.coordinates;k.point(b[0],b[1],b[2])},MultiPoint:function(b,k){for(var q=b.coordinates,
t=-1,A=q.length;++t<A;)b=q[t],k.point(b[0],b[1],b[2])},LineString:function(b,k){Ee(b.coordinates,k,0)},MultiLineString:function(b,k){b=b.coordinates;for(var q=-1,t=b.length;++q<t;)Ee(b[q],k,0)},Polygon:function(b,k){gf(b.coordinates,k)},MultiPolygon:function(b,k){b=b.coordinates;for(var q=-1,t=b.length;++q<t;)gf(b[q],k)},GeometryCollection:function(b,k){b=b.geometries;for(var q=-1,t=b.length;++q<t;)qe(b[q],k)}};aa.geo.area=function(b){return Rf=0,aa.geo.stream(b,Tc),Rf};var Rf,de=new Zd,Tc={sphere:function(){Rf+=
4*kb},point:K,lineStart:K,lineEnd:K,polygonStart:function(){de.reset();Tc.lineStart=lg},polygonEnd:function(){var b=2*de;Rf+=0>b?4*kb+b:b;Tc.lineStart=Tc.lineEnd=Tc.point=K}};aa.geo.bounds=function(){function b(ba,la){ia.push(va=[O=ba,W=ba]);V>la&&(V=la);la>Z&&(Z=la)}function k(ba,la){var ta=md([ba*lb,la*lb]);if(na){var Ca=Nc(na,ta);Ca=Nc([Ca[1],-Ca[0],0],Ca);ae(Ca);Ca=se(Ca);var Ea=ba-ea,La=0<Ea?1:-1,Na=Ca[0]*Rb*La;Ea=180<ob(Ea);Ea^(Na>La*ea&&La*ba>Na)?(la=Ca[1]*Rb,la>Z&&(Z=la)):(Na=(Na+360)%360-
180,Ea^(Na>La*ea&&La*ba>Na))?(la=-Ca[1]*Rb,V>la&&(V=la)):(V>la&&(V=la),la>Z&&(Z=la));Ea?ea>ba?C(O,ba)>C(O,W)&&(W=ba):C(ba,W)>C(O,W)&&(O=ba):W>=O?(O>ba&&(O=ba),ba>W&&(W=ba)):ba>ea?C(O,ba)>C(O,W)&&(W=ba):C(ba,W)>C(O,W)&&(O=ba)}else b(ba,la);na=ta;ea=ba}function q(){Ha.point=k}function t(){va[0]=O;va[1]=W;Ha.point=b;na=null}function A(ba,la){if(na){var ta=ba-ea;oa+=180<ob(ta)?ta+(0<ta?360:-360):ta}else pa=ba,ka=la;Tc.point(ba,la);k(ba,la)}function y(){Tc.lineStart()}function E(){A(pa,ka);Tc.lineEnd();
ob(oa)>Ya&&(O=-(W=180));va[0]=O;va[1]=W;na=null}function C(ba,la){return 0>(la-=ba)?la+360:la}function F(ba,la){return ba[0]-la[0]}function L(ba,la){return la[0]<=la[1]?la[0]<=ba&&ba<=la[1]:ba<la[0]||la[1]<ba}var O,V,W,Z,ea,pa,ka,na,oa,ia,va,Ha={point:b,lineStart:q,lineEnd:t,polygonStart:function(){Ha.point=A;Ha.lineStart=y;Ha.lineEnd=E;oa=0;Tc.polygonStart()},polygonEnd:function(){Tc.polygonEnd();Ha.point=b;Ha.lineStart=q;Ha.lineEnd=t;0>de?(O=-(W=180),V=-(Z=90)):oa>Ya?Z=90:-Ya>oa&&(V=-90);va[0]=
O;va[1]=W}};return function(ba){Z=W=-(O=V=1/0);ia=[];aa.geo.stream(ba,Ha);if(ba=ia.length){ia.sort(F);for(var la,ta=1,Ca=ia[0],Ea=[Ca];ba>ta;++ta)la=ia[ta],L(la[0],Ca)||L(la[1],Ca)?(C(Ca[0],la[1])>C(Ca[0],Ca[1])&&(Ca[1]=la[1]),C(la[0],Ca[1])>C(Ca[0],Ca[1])&&(Ca[0]=la[0])):Ea.push(Ca=la);var La,Na=-1/0;ba=Ea.length-1;ta=0;for(Ca=Ea[ba];ba>=ta;Ca=la,++ta)la=Ea[ta],(La=C(Ca[1],la[0]))>Na&&(Na=La,O=la[0],W=Ca[1])}return ia=va=null,1/0===O||1/0===V?[[0/0,0/0],[0/0,0/0]]:[[O,V],[W,Z]]}}();aa.geo.centroid=
function(b){Pe=yf=ee=fe=Ed=Pd=Qd=qd=xe=ye=Rd=0;aa.geo.stream(b,dd);b=xe;var k=ye,q=Rd,t=b*b+k*k+q*q;return xg>t&&(b=Pd,k=Qd,q=qd,Ya>yf&&(b=ee,k=fe,q=Ed),t=b*b+k*k+q*q,xg>t)?[0/0,0/0]:[Math.atan2(k,b)*Rb,kc(q/Math.sqrt(t))*Rb]};var Pe,yf,ee,fe,Ed,Pd,Qd,qd,xe,ye,Rd,dd={sphere:K,point:td,lineStart:zd,lineEnd:bd,polygonStart:function(){dd.lineStart=Ie},polygonEnd:function(){dd.lineStart=zd}},ih=ue(cd,function(b){var k,q=0/0,t=0/0,A=0/0;return{lineStart:function(){b.lineStart();k=1},point:function(y,E){var C=
0<y?kb:-kb,F=ob(y-q);if(ob(F-kb)<Ya)b.point(q,t=0<(t+E)/2?Zb:-Zb),b.point(A,t),b.lineEnd(),b.lineStart(),b.point(C,t),b.point(y,t),k=0;else if(A!==C&&F>=kb){ob(q-A)<Ya&&(q-=A*Ya);ob(y-C)<Ya&&(y-=C*Ya);F=q;var L=t,O=y,V,W,Z=Math.sin(F-O);t=ob(Z)>Ya?Math.atan((Math.sin(L)*(W=Math.cos(E))*Math.sin(O)-Math.sin(E)*(V=Math.cos(L))*Math.sin(F))/(V*W*Z)):(L+E)/2;b.point(A,t);b.lineEnd();b.lineStart();b.point(C,t);k=0}b.point(q=y,t=E);A=C},lineEnd:function(){b.lineEnd();q=t=0/0},clean:function(){return 2-
k}}},function(b,k,q,t){null==b?(q*=Zb,t.point(-kb,q),t.point(0,q),t.point(kb,q),t.point(kb,0),t.point(kb,-q),t.point(0,-q),t.point(-kb,-q),t.point(-kb,0),t.point(-kb,q)):ob(b[0]-k[0])>Ya?(b=b[0]<k[0]?kb:-kb,q=q*b/2,t.point(-b,q),t.point(0,q),t.point(b,q)):t.point(k[0],k[1])},[-kb,-kb/2]),zf=1E9;aa.geo.clipExtent=function(){var b,k,q,t,A,y,E={stream:function(C){return A&&(A.valid=!1),A=y(C),A.valid=!0,A},extent:function(C){return arguments.length?(y=kf(b=+C[0][0],k=+C[0][1],q=+C[1][0],t=+C[1][1]),
A&&(A.valid=!1,A=null),E):[[b,k],[q,t]]}};return E.extent([[0,0],[960,500]])};(aa.geo.conicEqualArea=function(){return Le(lf)}).raw=lf;aa.geo.albers=function(){return aa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};aa.geo.albersUsa=function(){function b(L){var O=L[0];L=L[1];return k=null,q(O,L),k||(t(O,L),k)||A(O,L),k}var k,q,t,A,y=aa.geo.albers(),E=aa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),C=aa.geo.conicEqualArea().rotate([157,
0]).center([-3,19.9]).parallels([8,18]),F={point:function(L,O){k=[L,O]}};return b.invert=function(L){var O=y.scale(),V=y.translate(),W=(L[0]-V[0])/O;O=(L[1]-V[1])/O;return(.12<=O&&.234>O&&-.425<=W&&-.214>W?E:.166<=O&&.234>O&&-.214<=W&&-.115>W?C:y).invert(L)},b.stream=function(L){var O=y.stream(L),V=E.stream(L),W=C.stream(L);return{point:function(Z,ea){O.point(Z,ea);V.point(Z,ea);W.point(Z,ea)},sphere:function(){O.sphere();V.sphere();W.sphere()},lineStart:function(){O.lineStart();V.lineStart();W.lineStart()},
lineEnd:function(){O.lineEnd();V.lineEnd();W.lineEnd()},polygonStart:function(){O.polygonStart();V.polygonStart();W.polygonStart()},polygonEnd:function(){O.polygonEnd();V.polygonEnd();W.polygonEnd()}}},b.precision=function(L){return arguments.length?(y.precision(L),E.precision(L),C.precision(L),b):y.precision()},b.scale=function(L){return arguments.length?(y.scale(L),E.scale(.35*L),C.scale(L),b.translate(y.translate())):y.scale()},b.translate=function(L){if(!arguments.length)return y.translate();
var O=y.scale(),V=+L[0],W=+L[1];return q=y.translate(L).clipExtent([[V-.455*O,W-.238*O],[V+.455*O,W+.238*O]]).stream(F).point,t=E.translate([V-.307*O,W+.201*O]).clipExtent([[V-.425*O+Ya,W+.12*O+Ya],[V-.214*O-Ya,W+.234*O-Ya]]).stream(F).point,A=C.translate([V-.205*O,W+.212*O]).clipExtent([[V-.214*O+Ya,W+.166*O+Ya],[V-.115*O-Ya,W+.234*O-Ya]]).stream(F).point,b},b.scale(1070)};var Vg,wg,Sf,Tf,Uf,Vf,Sd={point:K,lineStart:K,lineEnd:K,polygonStart:function(){wg=0;Sd.lineStart=mf},polygonEnd:function(){Sd.lineStart=
Sd.lineEnd=Sd.point=K;Vg+=ob(wg/2)}},Yi={point:function(b,k){Sf>b&&(Sf=b);b>Uf&&(Uf=b);Tf>k&&(Tf=k);k>Vf&&(Vf=k)},lineStart:K,lineEnd:K,polygonStart:K,polygonEnd:K},ed={point:od,lineStart:pd,lineEnd:Ad,polygonStart:function(){ed.lineStart=og},polygonEnd:function(){ed.point=od;ed.lineStart=pd;ed.lineEnd=Ad}};aa.geo.path=function(){function b(C){return C&&("function"==typeof E&&A.pointRadius(+E.apply(this,arguments)),y&&y.valid||(y=t(A)),aa.geo.stream(C,y)),A.result()}var k,q,t,A,y,E=4.5;return b.area=
function(C){return Vg=0,aa.geo.stream(C,t(Sd)),Vg},b.centroid=function(C){return ee=fe=Ed=Pd=Qd=qd=xe=ye=Rd=0,aa.geo.stream(C,t(ed)),Rd?[xe/Rd,ye/Rd]:qd?[Pd/qd,Qd/qd]:Ed?[ee/Ed,fe/Ed]:[0/0,0/0]},b.bounds=function(C){return Uf=Vf=-(Sf=Tf=1/0),aa.geo.stream(C,t(Yi)),[[Sf,Tf],[Uf,Vf]]},b.projection=function(C){return arguments.length?(t=(k=C)?C.stream||pg(C):x,y=null,b):k},b.context=function(C){return arguments.length?(A=null==(q=C)?new nf:new bg(C),"function"!=typeof E&&A.pointRadius(E),y=null,b):q},
b.pointRadius=function(C){return arguments.length?(E="function"==typeof C?C:(A.pointRadius(+C),+C),b):E},b.projection(aa.geo.albersUsa()).context(null)};aa.geo.transform=function(b){return{stream:function(k){k=new of(k);for(var q in b)k[q]=b[q];return k}}};of.prototype={point:function(b,k){this.stream.point(b,k)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
aa.geo.projection=Sc;aa.geo.projectionMutator=Nd;(aa.geo.equirectangular=function(){return Sc(Bd)}).raw=Bd.invert=Bd;aa.geo.rotation=function(b){function k(q){return q=b(q[0]*lb,q[1]*lb),q[0]*=Rb,q[1]*=Rb,q}return b=we(b[0]%360*lb,b[1]*lb,2<b.length?b[2]*lb:0),k.invert=function(q){return q=b.invert(q[0]*lb,q[1]*lb),q[0]*=Rb,q[1]*=Rb,q},k};Oe.invert=Bd;aa.geo.circle=function(){function b(){var y="function"==typeof t?t.apply(this,arguments):t,E=we(-y[0]*lb,-y[1]*lb,0).invert,C=[];return q(null,null,
1,{point:function(F,L){C.push(F=E(F,L));F[0]*=Rb;F[1]*=Rb}}),{type:"Polygon",coordinates:[C]}}var k,q,t=[0,0],A=6;return b.origin=function(y){return arguments.length?(t=y,b):t},b.angle=function(y){return arguments.length?(q=B((k=+y)*lb,A*lb),b):k},b.precision=function(y){return arguments.length?(q=B(k*lb,(A=+y)*lb),b):A},b.angle(90)};aa.geo.distance=function(b,k){var q,t=(k[0]-b[0])*lb,A=b[1]*lb,y=k[1]*lb;k=Math.cos(t);b=Math.sin(A);A=Math.cos(A);var E=Math.sin(y);y=Math.cos(y);return Math.atan2(Math.sqrt((q=
y*Math.sin(t))*q+(q=A*E-b*y*k)*q),b*E+A*y*k)};aa.geo.graticule=function(){function b(){return{type:"MultiLineString",coordinates:k()}}function k(){return aa.range(Math.ceil(y/ka)*ka,A,ka).map(W).concat(aa.range(Math.ceil(L/na)*na,F,na).map(Z)).concat(aa.range(Math.ceil(t/ea)*ea,q,ea).filter(function(ia){return ob(ia%ka)>Ya}).map(O)).concat(aa.range(Math.ceil(C/pa)*pa,E,pa).filter(function(ia){return ob(ia%na)>Ya}).map(V))}var q,t,A,y,E,C,F,L,O,V,W,Z,ea=10,pa=ea,ka=90,na=360,oa=2.5;return b.lines=
function(){return k().map(function(ia){return{type:"LineString",coordinates:ia}})},b.outline=function(){return{type:"Polygon",coordinates:[W(y).concat(Z(F).slice(1),W(A).reverse().slice(1),Z(L).reverse().slice(1))]}},b.extent=function(ia){return arguments.length?b.majorExtent(ia).minorExtent(ia):b.minorExtent()},b.majorExtent=function(ia){return arguments.length?(y=+ia[0][0],A=+ia[1][0],L=+ia[0][1],F=+ia[1][1],y>A&&(ia=y,y=A,A=ia),L>F&&(ia=L,L=F,F=ia),b.precision(oa)):[[y,L],[A,F]]},b.minorExtent=
function(ia){return arguments.length?(t=+ia[0][0],q=+ia[1][0],C=+ia[0][1],E=+ia[1][1],t>q&&(ia=t,t=q,q=ia),C>E&&(ia=C,C=E,E=ia),b.precision(oa)):[[t,C],[q,E]]},b.step=function(ia){return arguments.length?b.majorStep(ia).minorStep(ia):b.minorStep()},b.majorStep=function(ia){return arguments.length?(ka=+ia[0],na=+ia[1],b):[ka,na]},b.minorStep=function(ia){return arguments.length?(ea=+ia[0],pa=+ia[1],b):[ea,pa]},b.precision=function(ia){return arguments.length?(oa=+ia,O=P(C,E,90),V=U(t,q,oa),W=P(L,F,
90),Z=U(y,A,oa),b):oa},b.majorExtent([[-180,-90+Ya],[180,90-Ya]]).minorExtent([[-180,-80-Ya],[180,80+Ya]])};aa.geo.greatArc=function(){function b(){return{type:"LineString",coordinates:[k||t.apply(this,arguments),q||A.apply(this,arguments)]}}var k,q,t=Y,A=fa;return b.distance=function(){return aa.geo.distance(k||t.apply(this,arguments),q||A.apply(this,arguments))},b.source=function(y){return arguments.length?(t=y,k="function"==typeof y?null:y,b):t},b.target=function(y){return arguments.length?(A=
y,q="function"==typeof y?null:y,b):A},b.precision=function(){return arguments.length?b:0},b};aa.geo.interpolate=function(b,k){return qa(b[0]*lb,b[1]*lb,k[0]*lb,k[1]*lb)};aa.geo.length=function(b){return Wg=0,aa.geo.stream(b,De),Wg};var Wg,De={sphere:K,point:K,lineStart:function(){function b(A,y){var E=Math.sin(y*=lb);y=Math.cos(y);var C=ob((A*=lb)-k),F=Math.cos(C);Wg+=Math.atan2(Math.sqrt((C=y*Math.sin(C))*C+(C=t*E-q*y*F)*C),q*E+t*y*F);k=A;q=E;t=y}var k,q,t;De.point=function(A,y){k=A*lb;q=Math.sin(y*=
lb);t=Math.cos(y);De.point=b};De.lineEnd=function(){De.point=De.lineEnd=K}},lineEnd:K,polygonStart:K,polygonEnd:K},Yh=xa(function(b){return Math.sqrt(2/(1+b))},function(b){return 2*Math.asin(b/2)});(aa.geo.azimuthalEqualArea=function(){return Sc(Yh)}).raw=Yh;var Zh=xa(function(b){return(b=Math.acos(b))&&b/Math.sin(b)},x);(aa.geo.azimuthalEquidistant=function(){return Sc(Zh)}).raw=Zh;(aa.geo.conicConformal=function(){return Le(Ja)}).raw=Ja;(aa.geo.conicEquidistant=function(){return Le(za)}).raw=za;
var $h=xa(function(b){return 1/b},Math.atan);(aa.geo.gnomonic=function(){return Sc($h)}).raw=$h;Ra.invert=function(b,k){return[b,2*Math.atan(Math.exp(k))-Zb]};(aa.geo.mercator=function(){return Za(Ra)}).raw=Ra;var ai=xa(function(){return 1},Math.asin);(aa.geo.orthographic=function(){return Sc(ai)}).raw=ai;var bi=xa(function(b){return 1/(1+b)},function(b){return 2*Math.atan(b)});(aa.geo.stereographic=function(){return Sc(bi)}).raw=bi;qb.invert=function(b,k){return[-k,2*Math.atan(Math.exp(b))-Zb]};
(aa.geo.transverseMercator=function(){var b=Za(qb),k=b.center,q=b.rotate;return b.center=function(t){return t?k([-t[1],t[0]]):(t=k(),[t[1],-t[0]])},b.rotate=function(t){return t?q([t[0],t[1],2<t.length?t[2]+90:90]):(t=q(),[t[0],t[1],t[2]-90])},q([0,0,90])}).raw=qb;aa.geom={};aa.geom.hull=function(b){function k(A){if(3>A.length)return[];var y,E=tb(q),C=tb(t),F=A.length,L=[],O=[];for(y=0;F>y;y++)L.push([+E.call(this,A[y],y),+C.call(this,A[y],y),y]);L.sort(Kd);for(y=0;F>y;y++)O.push([L[y][0],-L[y][1]]);
E=Yb(L);O=Yb(O);C=O[0]===E[0];F=O[O.length-1]===E[E.length-1];var V=[];for(y=E.length-1;0<=y;--y)V.push(A[L[E[y]][2]]);for(y=+C;y<O.length-F;++y)V.push(A[L[O[y]][2]]);return V}var q=mb,t=Gb;return arguments.length?k(b):(k.x=function(A){return arguments.length?(q=A,k):q},k.y=function(A){return arguments.length?(t=A,k):t},k)};aa.geom.polygon=function(b){return sf(b,Wf),b};var Wf=aa.geom.polygon.prototype=[];Wf.area=function(){for(var b,k=-1,q=this.length,t=this[q-1],A=0;++k<q;)b=t,t=this[k],A+=b[1]*
t[0]-b[0]*t[1];return.5*A};Wf.centroid=function(b){var k=-1,q=this.length,t=0,A=0,y=this[q-1];for(arguments.length||(b=-1/(6*this.area()));++k<q;){var E=y;y=this[k];var C=E[0]*y[1]-y[0]*E[1];t+=(E[0]+y[0])*C;A+=(E[1]+y[1])*C}return[t*b,A*b]};Wf.clip=function(b){for(var k,q,t,A,y,E,C=wb(b),F=-1,L=this.length-wb(this),O=this[L-1];++F<L;){k=b.slice();b.length=0;A=this[F];y=k[(t=k.length-C)-1];for(q=-1;++q<t;)E=k[q],vc(E,O,A)?(vc(y,O,A)||b.push(Pc(y,E,O,A)),b.push(E)):vc(y,O,A)&&b.push(Pc(y,E,O,A)),y=
E;C&&b.push(b[0]);O=A}return b};var Ae,he,ze,yg,Se,jh=[],kh=[];Pb.prototype.prepare=function(){for(var b,k=this.edges,q=k.length;q--;)b=k[q].edge,b.b&&b.a||k.splice(q,1);return k.sort(wc),k.length};Tb.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};Kb.prototype={insert:function(b,k){var q;if(b){if(k.P=b,k.N=b.N,b.N&&(b.N.P=k),b.N=k,b.R){for(b=b.R;b.L;)b=b.L;b.L=k}else b.R=k;var t=b}else this._?
(b=Qc(this._),k.P=null,k.N=b,b.P=b.L=k,t=b):(k.P=k.N=null,this._=k,t=null);k.L=k.R=null;k.U=t;k.C=!0;for(b=k;t&&t.C;)k=t.U,t===k.L?(q=k.R,q&&q.C?(t.C=q.C=!1,k.C=!0,b=k):(b===t.R&&(qc(this,t),b=t,t=b.U),t.C=!1,k.C=!0,dc(this,k))):(q=k.L,q&&q.C?(t.C=q.C=!1,k.C=!0,b=k):(b===t.L&&(dc(this,t),b=t,t=b.U),t.C=!1,k.C=!0,qc(this,k))),t=b.U;this._.C=!1},remove:function(b){b.N&&(b.N.P=b.P);b.P&&(b.P.N=b.N);b.N=b.P=null;var k,q,t,A=b.U,y=b.L,E=b.R;if(q=y?E?Qc(E):y:E,A?A.L===b?A.L=q:A.R=q:this._=q,y&&E?(t=q.C,
q.C=b.C,q.L=y,y.U=q,q!==E?(A=q.U,q.U=b.U,b=q.R,A.L=b,q.R=E,E.U=q):(q.U=A,A=q,b=q.R)):(t=b.C,b=q),b&&(b.U=A),!t){if(b&&b.C)return void(b.C=!1);do{if(b===this._)break;if(b===A.L){if(k=A.R,k.C&&(k.C=!1,A.C=!0,qc(this,A),k=A.R),k.L&&k.L.C||k.R&&k.R.C){k.R&&k.R.C||(k.L.C=!1,k.C=!0,dc(this,k),k=A.R);k.C=A.C;A.C=k.R.C=!1;qc(this,A);b=this._;break}}else if(k=A.L,k.C&&(k.C=!1,A.C=!0,dc(this,A),k=A.L),k.L&&k.L.C||k.R&&k.R.C){k.L&&k.L.C||(k.R.C=!1,k.C=!0,qc(this,k),k=A.L);k.C=A.C;A.C=k.L.C=!1;dc(this,A);b=this._;
break}k.C=!0;b=A;A=A.U}while(!b.C);b&&(b.C=!1)}}};aa.geom.voronoi=function(b){function k(F){var L=Array(F.length),O=C[0][0],V=C[0][1],W=C[1][0],Z=C[1][1];return Kc(q(F),C).cells.forEach(function(ea,pa){var ka=ea.edges;ea=ea.site;(L[pa]=ka.length?ka.map(function(na){na=na.start();return[na.x,na.y]}):ea.x>=O&&ea.x<=W&&ea.y>=V&&ea.y<=Z?[[O,Z],[W,Z],[W,V],[O,V]]:[]).point=F[pa]}),L}function q(F){return F.map(function(L,O){return{x:Math.round(y(L,O)/Ya)*Ya,y:Math.round(E(L,O)/Ya)*Ya,i:O}})}var t=mb,A=
Gb,y=t,E=A,C=Xf;return b?k(b):(k.links=function(F){return Kc(q(F)).edges.filter(function(L){return L.l&&L.r}).map(function(L){return{source:F[L.l.i],target:F[L.r.i]}})},k.triangles=function(F){var L=[];return Kc(q(F)).cells.forEach(function(O,V){var W=O.site,Z=O.edges.sort(wc),ea=-1,pa=Z.length,ka=Z[pa-1].edge;for(ka=ka.l===W?ka.r:ka.l;++ea<pa;)O=ka,ka=Z[ea].edge,ka=ka.l===W?ka.r:ka.l,V<O.i&&V<ka.i&&0>(W.x-ka.x)*(O.y-W.y)-(W.x-O.x)*(ka.y-W.y)&&L.push([F[V],F[O.i],F[ka.i]])}),L},k.x=function(F){return arguments.length?
(y=tb(t=F),k):t},k.y=function(F){return arguments.length?(E=tb(A=F),k):A},k.clipExtent=function(F){return arguments.length?(C=null==F?Xf:F,k):C===Xf?null:C},k.size=function(F){return arguments.length?k.clipExtent(F&&[[0,0],F]):C===Xf?null:C&&C[1]},k)};var Xf=[[-1E6,-1E6],[1E6,1E6]];aa.geom.delaunay=function(b){return aa.geom.voronoi().triangles(b)};aa.geom.quadtree=function(b,k,q,t,A){function y(L){function O(Ca,Ea,La,Na,db,jb,fb,Ta){if(!isNaN(La)&&!isNaN(Na))if(Ca.leaf){var hb=Ca.x,ub=Ca.y;if(null!=
hb){if(!(.01>ob(hb-La)+ob(ub-Na))){var Db=Ca.point;Ca.x=Ca.y=Ca.point=null;V(Ca,Db,hb,ub,db,jb,fb,Ta)}V(Ca,Ea,La,Na,db,jb,fb,Ta)}else Ca.x=La,Ca.y=Na,Ca.point=Ea}else V(Ca,Ea,La,Na,db,jb,fb,Ta)}function V(Ca,Ea,La,Na,db,jb,fb,Ta){var hb=.5*(db+fb),ub=.5*(jb+Ta),Db=La>=hb,sc=Na>=ub,Mb=sc<<1|Db;Ca.leaf=!1;Ca=Ca.nodes[Mb]||(Ca.nodes[Mb]=Zc());Db?db=hb:fb=hb;sc?jb=ub:Ta=ub;O(Ca,Ea,La,Na,db,jb,fb,Ta)}var W,Z,ea,pa,ka=tb(C),na=tb(F);if(null!=k){var oa=k;var ia=q;var va=t;var Ha=A}else if(va=Ha=-(oa=ia=
1/0),W=[],Z=[],pa=L.length,E)for(ea=0;pa>ea;++ea){var ba=L[ea];ba.x<oa&&(oa=ba.x);ba.y<ia&&(ia=ba.y);ba.x>va&&(va=ba.x);ba.y>Ha&&(Ha=ba.y);W.push(ba.x);Z.push(ba.y)}else for(ea=0;pa>ea;++ea){var la=+ka(ba=L[ea],ea);ba=+na(ba,ea);oa>la&&(oa=la);ia>ba&&(ia=ba);la>va&&(va=la);ba>Ha&&(Ha=ba);W.push(la);Z.push(ba)}la=va-oa;ba=Ha-ia;la>ba?Ha=ia+la:va=oa+ba;var ta=Zc();if(ta.add=function(Ca){O(ta,Ca,+ka(Ca,++ea),+na(Ca,ea),oa,ia,va,Ha)},ta.visit=function(Ca){Ld(Ca,ta,oa,ia,va,Ha)},ta.find=function(Ca){return vd(ta,
Ca[0],Ca[1],oa,ia,va,Ha)},ea=-1,null==k){for(;++ea<pa;)O(ta,L[ea],W[ea],Z[ea],oa,ia,va,Ha);--ea}else L.forEach(ta.add);return W=Z=L=ba=null,ta}var E,C=mb,F=Gb;return(E=arguments.length)?(C=Ge,F=fg,3===E&&(A=q,t=k,q=k=0),y(b)):(y.x=function(L){return arguments.length?(C=L,y):C},y.y=function(L){return arguments.length?(F=L,y):F},y.extent=function(L){return arguments.length?(null==L?k=q=t=A=null:(k=+L[0][0],q=+L[0][1],t=+L[1][0],A=+L[1][1]),y):null==k?null:[[k,q],[t,A]]},y.size=function(L){return arguments.length?
(null==L?k=q=t=A=null:(k=q=0,t=+L[0],A=+L[1]),y):null==k?null:[t-k,A-q]},y)};aa.interpolateRgb=Id;aa.interpolateObject=Xe;aa.interpolateNumber=ad;aa.interpolateString=Ye;var zg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ag=new RegExp(zg.source,"g");aa.interpolate=wd;aa.interpolators=[function(b,k){var q=typeof k;return("string"===q?tf.has(k)||/^(#|rgb\(|hsl\()/.test(k)?Id:Ye:k instanceof H?Id:Array.isArray(k)?ne:"object"===q&&isNaN(k)?Xe:ad)(b,k)}];aa.interpolateArray=ne;var ci=function(){return x},
Zi=aa.map({linear:ci,poly:function(b){return function(k){return Math.pow(k,b)}},quad:function(){return Wd},cubic:function(){return cg},sin:function(){return dg},exp:function(){return jd},circle:function(){return kd},elastic:function(b,k){var q;return 2>arguments.length&&(k=.45),arguments.length?q=k/Uc*Math.asin(1/b):(b=1,q=k/4),function(t){return 1+b*Math.pow(2,-10*t)*Math.sin((t-q)*Uc/k)}},back:function(b){return b||=1.70158,function(k){return k*k*((b+1)*k-b)}},bounce:function(){return Vb}}),$i=
aa.map({"in":x,out:Ze,"in-out":$e,"out-in":function(b){return $e(Ze(b))}});aa.ease=function(b){var k=b.indexOf("-"),q=0<=k?b.slice(0,k):b;k=0<=k?b.slice(k+1):"in";return q=Zi.get(q)||ci,k=$i.get(k)||x,oe(k(q.apply(null,Qh.call(arguments,1))))};aa.interpolateHcl=function(b,k){b=aa.hcl(b);k=aa.hcl(k);var q=b.h,t=b.c,A=b.l,y=k.h-q,E=k.c-t,C=k.l-A;return isNaN(E)&&(E=0,t=isNaN(t)?k.c:t),isNaN(y)?(y=0,q=isNaN(q)?k.h:q):180<y?y-=360:-180>y&&(y+=360),function(F){return Yc(q+y*F,t+E*F,A+C*F)+""}};aa.interpolateHsl=
function(b,k){b=aa.hsl(b);k=aa.hsl(k);var q=b.h,t=b.s,A=b.l,y=k.h-q,E=k.s-t,C=k.l-A;return isNaN(E)&&(E=0,t=isNaN(t)?k.s:t),isNaN(y)?(y=0,q=isNaN(q)?k.h:q):180<y?y-=360:-180>y&&(y+=360),function(F){return ic(q+y*F,t+E*F,A+C*F)+""}};aa.interpolateLab=function(b,k){b=aa.lab(b);k=aa.lab(k);var q=b.l,t=b.a,A=b.b,y=k.l-q,E=k.a-t,C=k.b-A;return function(F){return xd(q+y*F,t+E*F,A+C*F)+""}};aa.interpolateRound=af;aa.transform=function(b){var k=Ec.createElementNS(aa.ns.prefix.svg,"g");return(aa.transform=
function(q){if(null!=q){k.setAttribute("transform",q);var t=k.transform.baseVal.consolidate()}return new hd(t?t.matrix:aj)})(b)};hd.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var aj={a:1,b:0,c:0,d:1,e:0,f:0};aa.interpolateTransform=Bb;aa.layout={};aa.layout.bundle=function(){return function(b){for(var k=[],q=-1,t=b.length;++q<t;){var A=k,y=A.push,E=b[q],C=E.source;E=E.target;var F=E;if(C===F)var L=C;else{L=sa(C);
F=sa(F);for(var O=L.pop(),V=F.pop(),W=null;O===V;)W=O,O=L.pop(),V=F.pop();L=W}for(F=[C];C!==L;)C=C.parent,F.push(C);for(C=F.length;E!==L;)F.splice(C,0,E),E=E.parent;y.call(A,F)}return k}};aa.layout.chord=function(){function b(){var V,W,Z={},ea=[],pa=aa.range(y),ka=[];q=[];t=[];var na=0;for(V=-1;++V<y;){var oa=0;for(W=-1;++W<y;)oa+=A[V][W];ea.push(oa);ka.push(aa.range(y));na+=oa}E&&pa.sort(function(Ca,Ea){return E(ea[Ca],ea[Ea])});C&&ka.forEach(function(Ca,Ea){Ca.sort(function(La,Na){return C(A[Ea][La],
A[Ea][Na])})});na=(Uc-O*y)/na;oa=0;for(V=-1;++V<y;){var ia=oa;for(W=-1;++W<y;){var va=pa[V],Ha=ka[va][W],ba=A[va][Ha],la=oa,ta=oa+=ba*na;Z[va+"-"+Ha]={index:va,subindex:Ha,startAngle:la,endAngle:ta,value:ba}}t[va]={index:va,startAngle:ia,endAngle:oa,value:(oa-ia)/na};oa+=O}for(V=-1;++V<y;)for(W=V-1;++W<y;)na=Z[V+"-"+W],oa=Z[W+"-"+V],(na.value||oa.value)&&q.push(na.value<oa.value?{source:oa,target:na}:{source:na,target:oa});F&&k()}function k(){q.sort(function(V,W){return F((V.source.value+V.target.value)/
2,(W.source.value+W.target.value)/2)})}var q,t,A,y,E,C,F,L={},O=0;return L.matrix=function(V){return arguments.length?(y=(A=V)&&A.length,q=t=null,L):A},L.padding=function(V){return arguments.length?(O=V,q=t=null,L):O},L.sortGroups=function(V){return arguments.length?(E=V,q=t=null,L):E},L.sortSubgroups=function(V){return arguments.length?(C=V,q=null,L):C},L.sortChords=function(V){return arguments.length?(F=V,q&&k(),L):F},L.chords=function(){return q||b(),q},L.groups=function(){return t||b(),t},L};
aa.layout.force=function(){function b(ia){return function(va,Ha,ba,la){if(va.point!==ia){ba=va.cx-ia.x;var ta=va.cy-ia.y;Ha=la-Ha;la=ba*ba+ta*ta;if(la>Ha*Ha/ka)return ea>la&&(Ha=va.charge/la,ia.px-=ba*Ha,ia.py-=ta*Ha),!0;va.point&&la&&ea>la&&(Ha=va.pointCharge/la,ia.px-=ba*Ha,ia.py-=ta*Ha)}return!va.charge}}function k(ia){ia.px=aa.event.x;ia.py=aa.event.y;C.resume()}var q,t,A,y,E,C={},F=aa.dispatch("start","tick","end"),L=[1,1],O=.9,V=bj,W=cj,Z=-30,ea=dj,pa=.1,ka=.64,na=[],oa=[];return C.tick=function(){if(.005>
(t*=.99))return F.end({type:"end",alpha:t=0}),!0;var ia,va,Ha,ba=na.length,la=oa.length;for(ia=0;la>ia;++ia){var ta=oa[ia];var Ca=ta.source;var Ea=ta.target;var La=Ea.x-Ca.x;var Na=Ea.y-Ca.y;(va=La*La+Na*Na)&&(va=t*y[ia]*((va=Math.sqrt(va))-A[ia])/va,La*=va,Na*=va,Ea.x-=La*(Ha=Ca.weight/(Ea.weight+Ca.weight)),Ea.y-=Na*Ha,Ca.x+=La*(Ha=1-Ha),Ca.y+=Na*Ha)}if((Ha=t*pa)&&(La=L[0]/2,Na=L[1]/2,ia=-1,Ha))for(;++ia<ba;)ta=na[ia],ta.x+=(La-ta.x)*Ha,ta.y+=(Na-ta.y)*Ha;if(Z)for(Ua(Ca=aa.geom.quadtree(na),t,E),
ia=-1;++ia<ba;)(ta=na[ia]).fixed||Ca.visit(b(ta));for(ia=-1;++ia<ba;)ta=na[ia],ta.fixed?(ta.x=ta.px,ta.y=ta.py):(ta.x-=(ta.px-(ta.px=ta.x))*O,ta.y-=(ta.py-(ta.py=ta.y))*O);F.tick({type:"tick",alpha:t})},C.nodes=function(ia){return arguments.length?(na=ia,C):na},C.links=function(ia){return arguments.length?(oa=ia,C):oa},C.size=function(ia){return arguments.length?(L=ia,C):L},C.linkDistance=function(ia){return arguments.length?(V="function"==typeof ia?ia:+ia,C):V},C.distance=C.linkDistance,C.linkStrength=
function(ia){return arguments.length?(W="function"==typeof ia?ia:+ia,C):W},C.friction=function(ia){return arguments.length?(O=+ia,C):O},C.charge=function(ia){return arguments.length?(Z="function"==typeof ia?ia:+ia,C):Z},C.chargeDistance=function(ia){return arguments.length?(ea=ia*ia,C):Math.sqrt(ea)},C.gravity=function(ia){return arguments.length?(pa=+ia,C):pa},C.theta=function(ia){return arguments.length?(ka=ia*ia,C):Math.sqrt(ka)},C.alpha=function(ia){return arguments.length?(ia=+ia,t?t=0<ia?ia:
0:0<ia&&(F.start({type:"start",alpha:t=ia}),aa.timer(C.tick)),C):t},C.start=function(){function ia(La,Na){if(!Ha){Ha=Array(la);for(fb=0;la>fb;++fb)Ha[fb]=[];for(fb=0;ta>fb;++fb){var db=oa[fb];Ha[db.source.index].push(db.target);Ha[db.target.index].push(db.source)}}for(var jb=Ha[va],fb=-1,Ta=jb.length;++fb<Ta;)if(!isNaN(db=jb[fb][La]))return db;return Math.random()*Na}var va,Ha,ba,la=na.length,ta=oa.length,Ca=L[0],Ea=L[1];for(va=0;la>va;++va)(ba=na[va]).index=va,ba.weight=0;for(va=0;ta>va;++va)ba=
oa[va],"number"==typeof ba.source&&(ba.source=na[ba.source]),"number"==typeof ba.target&&(ba.target=na[ba.target]),++ba.source.weight,++ba.target.weight;for(va=0;la>va;++va)ba=na[va],isNaN(ba.x)&&(ba.x=ia("x",Ca)),isNaN(ba.y)&&(ba.y=ia("y",Ea)),isNaN(ba.px)&&(ba.px=ba.x),isNaN(ba.py)&&(ba.py=ba.y);if(A=[],"function"==typeof V)for(va=0;ta>va;++va)A[va]=+V.call(this,oa[va],va);else for(va=0;ta>va;++va)A[va]=V;if(y=[],"function"==typeof W)for(va=0;ta>va;++va)y[va]=+W.call(this,oa[va],va);else for(va=
0;ta>va;++va)y[va]=W;if(E=[],"function"==typeof Z)for(va=0;la>va;++va)E[va]=+Z.call(this,na[va],va);else for(va=0;la>va;++va)E[va]=Z;return C.resume()},C.resume=function(){return C.alpha(.1)},C.stop=function(){return C.alpha(0)},C.drag=function(){return q||=aa.behavior.drag().origin(x).on("dragstart.force",ua).on("drag.force",k).on("dragend.force",ya),arguments.length?void this.on("mouseover.force",Ka).on("mouseout.force",Ma).call(q):q},aa.rebind(C,F,"on")};var bj=20,cj=1,dj=1/0;aa.layout.hierarchy=
function(){function b(A){var y,E=[A],C=[];for(A.depth=0;null!=(y=E.pop());)if(C.push(y),(L=q.call(b,y,y.depth))&&(F=L.length)){for(var F,L,O;0<=--F;)E.push(O=L[F]),O.parent=y,O.depth=y.depth+1;t&&(y.value=0);y.children=L}else t&&(y.value=+t.call(b,y,y.depth)||0),delete y.children;return pb(A,function(V){var W,Z;k&&(W=V.children)&&W.sort(k);t&&(Z=V.parent)&&(Z.value+=V.value)}),C}var k=bc,q=vb,t=Ab;return b.sort=function(A){return arguments.length?(k=A,b):k},b.children=function(A){return arguments.length?
(q=A,b):q},b.value=function(A){return arguments.length?(t=A,b):t},b.revalue=function(A){return t&&(ab(A,function(y){y.children&&(y.value=0)}),pb(A,function(y){var E;y.children||(y.value=+t.call(b,y,y.depth)||0);(E=y.parent)&&(E.value+=y.value)})),A},b};aa.layout.partition=function(){function b(y,E,C,F){var L=y.children;if(y.x=E,y.y=y.depth*F,y.dx=C,y.dy=F,L&&(O=L.length)){var O,V,W=-1;for(C=y.value?C/y.value:0;++W<O;)b(V=L[W],E,y=V.value*C,F),E+=y}}function k(y){y=y.children;var E=0;if(y&&(C=y.length))for(var C,
F=-1;++F<C;)E=Math.max(E,k(y[F]));return 1+E}function q(y,E){y=t.call(this,y,E);return b(y[0],0,A[0],A[1]/k(y[0])),y}var t=aa.layout.hierarchy(),A=[1,1];return q.size=function(y){return arguments.length?(A=y,q):A},eb(q,t)};aa.layout.pie=function(){function b(E){var C,F=E.length,L=E.map(function(ka,na){return+k.call(b,ka,na)}),O=+("function"==typeof t?t.apply(this,arguments):t),V=("function"==typeof A?A.apply(this,arguments):A)-O,W=Math.min(Math.abs(V)/F,+("function"==typeof y?y.apply(this,arguments):
y)),Z=W*(0>V?-1:1),ea=(V-F*Z)/aa.sum(L);F=aa.range(F);var pa=[];return null!=q&&F.sort(q===di?function(ka,na){return L[na]-L[ka]}:function(ka,na){return q(E[ka],E[na])}),F.forEach(function(ka){pa[ka]={data:E[ka],value:C=L[ka],startAngle:O,endAngle:O+=C*ea+Z,padAngle:W}}),pa}var k=Number,q=di,t=0,A=Uc,y=0;return b.value=function(E){return arguments.length?(k=E,b):k},b.sort=function(E){return arguments.length?(q=E,b):q},b.startAngle=function(E){return arguments.length?(t=E,b):t},b.endAngle=function(E){return arguments.length?
(A=E,b):A},b.padAngle=function(E){return arguments.length?(y=E,b):y},b};var di={};aa.layout.stack=function(){function b(C,F){if(!(W=C.length))return C;var L=C.map(function(ka,na){return k.call(b,ka,na)}),O=L.map(function(ka){return ka.map(function(na,oa){return[y.call(b,na,oa),E.call(b,na,oa)]})}),V=q.call(b,O,F);L=aa.permute(L,V);O=aa.permute(O,V);var W,Z,ea=t.call(b,O,F),pa=L[0].length;for(V=0;pa>V;++V)for(A.call(b,L[0][V],Z=ea[V],O[0][V][1]),F=1;W>F;++F)A.call(b,L[F][V],Z+=O[F-1][V][1],O[F][V][1]);
return C}var k=x,q=cc,t=Jd,A=jc,y=Lb,E=Eb;return b.values=function(C){return arguments.length?(k=C,b):k},b.order=function(C){return arguments.length?(q="function"==typeof C?C:ej.get(C)||cc,b):q},b.offset=function(C){return arguments.length?(t="function"==typeof C?C:fj.get(C)||Jd,b):t},b.x=function(C){return arguments.length?(y=C,b):y},b.y=function(C){return arguments.length?(E=C,b):E},b.out=function(C){return arguments.length?(A=C,b):A},b};var ej=aa.map({"inside-out":function(b){var k=b.length,q=
b.map(Jc),t=b.map(eg),A=aa.range(k).sort(function(O,V){return q[O]-q[V]}),y=0,E=0,C=[],F=[];for(b=0;k>b;++b){var L=A[b];E>y?(y+=t[L],C.push(L)):(E+=t[L],F.push(L))}return F.reverse().concat(C)},reverse:function(b){return aa.range(b.length).reverse()},"default":cc}),fj=aa.map({silhouette:function(b){var k,q,t,A=b.length,y=b[0].length,E=[],C=0,F=[];for(q=0;y>q;++q){for(t=k=0;A>k;k++)t+=b[k][q][1];t>C&&(C=t);E.push(t)}for(q=0;y>q;++q)F[q]=(C-E[q])/2;return F},wiggle:function(b){var k,q,t,A,y,E,C,F=b.length,
L=b[0],O=L.length,V=[];V[0]=E=C=0;for(q=1;O>q;++q){for(t=k=0;F>k;++k)t+=b[k][q][1];var W=k=0;for(y=L[q][0]-L[q-1][0];F>k;++k){var Z=0;for(A=(b[k][q][1]-b[k][q-1][1])/(2*y);k>Z;++Z)A+=(b[Z][q][1]-b[Z][q-1][1])/y;W+=A*b[k][q][1]}V[q]=E-=t?W/t*y:0;C>E&&(C=E)}for(q=0;O>q;++q)V[q]-=C;return V},expand:function(b){var k,q,t,A=b.length,y=b[0].length,E=1/A,C=[];for(q=0;y>q;++q){for(t=k=0;A>k;k++)t+=b[k][q][1];if(t)for(k=0;A>k;k++)b[k][q][1]/=t;else for(k=0;A>k;k++)b[k][q][1]=E}for(q=0;y>q;++q)C[q]=0;return C},
zero:Jd});aa.layout.histogram=function(){function b(y,E){var C=[],F=y.map(q,this),L=t.call(this,F,E),O=A.call(this,L,F,E);E=-1;for(var V=F.length,W=O.length-1,Z=k?1:1/V;++E<W;){var ea=C[E]=[];ea.dx=O[E+1]-(ea.x=O[E]);ea.y=0}if(0<W)for(E=-1;++E<V;){var pa=F[E];pa>=L[0]&&pa<=L[1]&&(ea=C[aa.bisect(O,pa,1,W)-1],ea.y+=Z,ea.push(y[E]))}return C}var k=!0,q=Number,t=qi,A=pi;return b.value=function(y){return arguments.length?(q=y,b):q},b.range=function(y){return arguments.length?(t=tb(y),b):t},b.bins=function(y){return arguments.length?
(A="number"==typeof y?function(E){return lh(E,y)}:tb(y),b):A},b.frequency=function(y){return arguments.length?(k=!!y,b):k},b};aa.layout.pack=function(){function b(y,E){y=q.call(this,y,E);E=y[0];var C=A[0],F=A[1],L=null==k?Math.sqrt:"function"==typeof k?k:function(){return k};if(E.x=E.y=0,pb(E,function(V){V.r=+L(V.value)}),pb(E,oh),t){var O=t*(k?1:Math.max(2*E.r/C,2*E.r/F))/2;pb(E,function(V){V.r+=O});pb(E,oh);pb(E,function(V){V.r-=O})}return qh(E,C/2,F/2,k?1:1/Math.max(2*E.r/C,2*E.r/F)),y}var k,q=
aa.layout.hierarchy().sort(ri),t=0,A=[1,1];return b.size=function(y){return arguments.length?(A=y,b):A},b.radius=function(y){return arguments.length?(k=null==y||"function"==typeof y?y:+y,b):k},b.padding=function(y){return arguments.length?(t=+y,b):t},eb(b,q)};aa.layout.tree=function(){function b(L,O){L=y.call(this,L,O);O=L[0];var V=k(O);if(pb(V,q),V.parent.m=-V.z,ab(V,t),F)ab(O,A);else{var W=O,Z=O,ea=O;ab(O,function(oa){oa.x<W.x&&(W=oa);oa.x>Z.x&&(Z=oa);oa.depth>ea.depth&&(ea=oa)});var pa=E(W,Z)/
2-W.x,ka=C[0]/(Z.x+E(Z,W)/2+pa),na=C[1]/(ea.depth||1);ab(O,function(oa){oa.x=(oa.x+pa)*ka;oa.y=oa.depth*na})}return L}function k(L){for(var O={A:null,children:[L]},V=[O];null!=(L=V.pop());)for(var W,Z=L.children,ea=0,pa=Z.length;pa>ea;++ea)V.push((Z[ea]=W={_:Z[ea],parent:L,children:(W=Z[ea].children)&&W.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ea}).a=W);return O.children[0]}function q(L){var O=L.children,V=L.parent.children,W=L.i?V[L.i-1]:null;if(O.length){for(var Z,ea=0,pa=0,ka=L.children,
na=ka.length;0<=--na;)Z=ka[na],Z.z+=ea,Z.m+=ea,ea+=Z.s+(pa+=Z.c);O=(O[0].z+O[O.length-1].z)/2;W?(L.z=W.z+E(L._,W._),L.m=L.z-O):L.z=O}else W&&(L.z=W.z+E(L._,W._));O=L.parent;V=L.parent.A||V[0];if(W){ea=Z=L;pa=W;ka=Z.parent.children[0];na=Z.m;for(var oa=ea.m,ia=pa.m,va=ka.m;pa=Dg(pa),Z=Cg(Z),pa&&Z;){ka=Cg(ka);ea=Dg(ea);ea.a=L;W=pa.z+ia-Z.z-na+E(pa._,Z._);if(0<W){var Ha=pa.a.parent===L.parent?pa.a:V,ba=L,la=W,ta=la/(ba.i-Ha.i);ba.c-=ta;ba.s+=la;Ha.c+=ta;ba.z+=la;ba.m+=la;na+=W;oa+=W}ia+=pa.m;na+=Z.m;
va+=ka.m;oa+=ea.m}pa&&!Dg(ea)&&(ea.t=pa,ea.m+=ia-oa);Z&&!Cg(ka)&&(ka.t=Z,ka.m+=na-va,V=L)}O.A=V}function t(L){L._.x=L.z+L.parent.m;L.m+=L.parent.m}function A(L){L.x*=C[0];L.y=L.depth*C[1]}var y=aa.layout.hierarchy().sort(null).value(null),E=rh,C=[1,1],F=null;return b.separation=function(L){return arguments.length?(E=L,b):E},b.size=function(L){return arguments.length?(F=null==(C=L)?A:null,b):F?null:C},b.nodeSize=function(L){return arguments.length?(F=null==(C=L)?null:A,b):F?C:null},eb(b,y)};aa.layout.cluster=
function(){function b(y,E){var C;y=k.call(this,y,E);var F=y[0],L=0;pb(F,function(Z){var ea=Z.children;ea&&ea.length?(Z.x=vi(ea),Z.y=ui(ea)):(Z.x=C?L+=q(Z,C):0,Z.y=0,C=Z)});E=sh(F);var O=th(F),V=E.x-q(E,O)/2,W=O.x+q(O,E)/2;return pb(F,A?function(Z){Z.x=(Z.x-F.x)*t[0];Z.y=(F.y-Z.y)*t[1]}:function(Z){Z.x=(Z.x-V)/(W-V)*t[0];Z.y=(1-(F.y?Z.y/F.y:1))*t[1]}),y}var k=aa.layout.hierarchy().sort(null).value(null),q=rh,t=[1,1],A=!1;return b.separation=function(y){return arguments.length?(q=y,b):q},b.size=function(y){return arguments.length?
(A=null==(t=y),b):A?null:t},b.nodeSize=function(y){return arguments.length?(A=null!=(t=y),b):A?t:null},eb(b,k)};aa.layout.treemap=function(){function b(ea,pa){for(var ka,na,oa=-1,ia=ea.length;++oa<ia;)na=(ka=ea[oa]).value*(0>pa?0:pa),ka.area=isNaN(na)||0>=na?0:na}function k(ea){var pa=ea.children;if(pa&&pa.length){var ka=O(ea),na=[],oa=pa.slice(),ia=1/0,va="slice"===W?ka.dx:"dice"===W?ka.dy:"slice-dice"===W?1&ea.depth?ka.dy:ka.dx:Math.min(ka.dx,ka.dy);b(oa,ka.dx*ka.dy/ea.value);for(na.area=0;0<(ea=
oa.length);){na.push(ea=oa[ea-1]);na.area+=ea.area;var Ha;if(!(Ha="squarify"!==W)){var ba=void 0;ea=va;var la=na.area,ta=0,Ca=1/0;Ha=-1;for(var Ea=na.length;++Ha<Ea;)(ba=na[Ha].area)&&(Ca>ba&&(Ca=ba),ba>ta&&(ta=ba));Ha=(ba=(la*=la,ea*=ea,la?Math.max(ea*ta*Z/la,la/(ea*Ca*Z)):1/0))<=ia}Ha?(oa.pop(),ia=ba):(na.area-=na.pop().area,t(na,va,ka,!1),va=Math.min(ka.dx,ka.dy),na.length=na.area=0,ia=1/0)}na.length&&(t(na,va,ka,!0),na.length=na.area=0);pa.forEach(k)}}function q(ea){var pa=ea.children;if(pa&&
pa.length){var ka=O(ea),na=pa.slice(),oa=[];b(na,ka.dx*ka.dy/ea.value);for(oa.area=0;ea=na.pop();)oa.push(ea),oa.area+=ea.area,null!=ea.z&&(t(oa,ea.z?ka.dx:ka.dy,ka,!na.length),oa.length=oa.area=0);pa.forEach(q)}}function t(ea,pa,ka,na){var oa=-1,ia=ea.length,va=ka.x,Ha=ka.y,ba=pa?C(ea.area/pa):0;if(pa==ka.dx){for((na||ba>ka.dy)&&(ba=ka.dy);++oa<ia;){var la=ea[oa];la.x=va;la.y=Ha;la.dy=ba;va+=la.dx=Math.min(ka.x+ka.dx-va,ba?C(la.area/ba):0)}la.z=!0;la.dx+=ka.x+ka.dx-va;ka.y+=ba;ka.dy-=ba}else{for((na||
ba>ka.dx)&&(ba=ka.dx);++oa<ia;)la=ea[oa],la.x=va,la.y=Ha,la.dx=ba,Ha+=la.dy=Math.min(ka.y+ka.dy-Ha,ba?C(la.area/ba):0);la.z=!1;la.dy+=ka.y+ka.dy-Ha;ka.x+=ba;ka.dx-=ba}}function A(ea){ea=y||E(ea);var pa=ea[0];return pa.x=0,pa.y=0,pa.dx=F[0],pa.dy=F[1],y&&E.revalue(pa),b([pa],pa.dx*pa.dy/pa.value),(y?q:k)(pa),V&&(y=ea),ea}var y,E=aa.layout.hierarchy(),C=Math.round,F=[1,1],L=null,O=Eg,V=!1,W="squarify",Z=.5*(1+Math.sqrt(5));return A.size=function(ea){return arguments.length?(F=ea,A):F},A.padding=function(ea){function pa(oa){var ia=
ea.call(A,oa,oa.depth);return null==ia?Eg(oa):uh(oa,"number"==typeof ia?[ia,ia,ia,ia]:ia)}function ka(oa){return uh(oa,ea)}if(!arguments.length)return L;var na;return O=null==(L=ea)?Eg:"function"==(na=typeof ea)?pa:"number"===na?(ea=[ea,ea,ea,ea],ka):ka,A},A.round=function(ea){return arguments.length?(C=ea?Math.round:Number,A):C!=Number},A.sticky=function(ea){return arguments.length?(V=ea,y=null,A):V},A.ratio=function(ea){return arguments.length?(Z=ea,A):Z},A.mode=function(ea){return arguments.length?
(W=ea+"",A):W},eb(A,E)};aa.random={normal:function(b,k){var q=arguments.length;return 2>q&&(k=1),1>q&&(b=0),function(){do{var t=2*Math.random()-1;var A=2*Math.random()-1;A=t*t+A*A}while(!A||1<A);return b+k*t*Math.sqrt(-2*Math.log(A)/A)}},logNormal:function(){var b=aa.random.normal.apply(aa,arguments);return function(){return Math.exp(b())}},bates:function(b){var k=aa.random.irwinHall(b);return function(){return k()/b}},irwinHall:function(b){return function(){for(var k=0,q=0;b>q;q++)k+=Math.random();
return k}}};aa.scale={};var xi={floor:x,ceil:x};aa.scale.linear=function(){return wh([0,1],[0,1],wd,!1)};var Ai={s:1,g:1,p:1,r:1,e:1};aa.scale.log=function(){return xh(aa.scale.linear().domain([0,1]),10,!0,[1,10])};var yh=aa.format(".0e"),Bi={floor:function(b){return-Math.ceil(-b)},ceil:function(b){return-Math.floor(-b)}};aa.scale.pow=function(){return zh(aa.scale.linear(),1,[0,1])};aa.scale.sqrt=function(){return aa.scale.pow().exponent(.5)};aa.scale.ordinal=function(){return Ah([],{t:"range",a:[[]]})};
aa.scale.category10=function(){return aa.scale.ordinal().range(gj)};aa.scale.category20=function(){return aa.scale.ordinal().range(hj)};aa.scale.category20b=function(){return aa.scale.ordinal().range(ij)};aa.scale.category20c=function(){return aa.scale.ordinal().range(jj)};var gj=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yb),hj=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,
8355711,13092807,12369186,14408589,1556175,10410725].map(yb),ij=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yb),jj=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yb);aa.scale.quantile=function(){return Bh([],[])};aa.scale.quantize=function(){return Ch(0,
1,[0,1])};aa.scale.threshold=function(){return Dh([.5],[0,1])};aa.scale.identity=function(){return Eh([0,1])};aa.svg={};aa.svg.arc=function(){function b(){var L=Math.max(0,+q.apply(this,arguments)),O=Math.max(0,+t.apply(this,arguments)),V=E.apply(this,arguments)-Zb,W=C.apply(this,arguments)-Zb,Z=Math.abs(W-V),ea=V>W?0:1;if(L>O&&(pa=O,O=L,L=pa),Z>=Ui)return k(O,ea)+(L?k(L,1-ea):"")+"Z";var pa,ka,na;var oa=pa=0;Z=[];if((na=(+F.apply(this,arguments)||0)/2)&&(ka=y===Yf?Math.sqrt(L*L+O*O):+y.apply(this,
arguments),ea||(oa*=-1),O&&(oa=kc(ka/O*Math.sin(na))),L&&(pa=kc(ka/L*Math.sin(na)))),O){ka=O*Math.cos(V+oa);na=O*Math.sin(V+oa);var ia=O*Math.cos(W-oa);var va=O*Math.sin(W-oa);var Ha=Math.abs(W-V-2*oa)<=kb?0:1;oa&&Ef(ka,na,ia,va)===ea^Ha&&(ia=(V+W)/2,ka=O*Math.cos(ia),na=O*Math.sin(ia),ia=va=null)}else ka=na=0;if(L){oa=L*Math.cos(W-pa);var ba=L*Math.sin(W-pa);var la=L*Math.cos(V+pa);var ta=L*Math.sin(V+pa);var Ca=Math.abs(V-W+2*pa)<=kb?0:1;pa&&Ef(oa,ba,la,ta)===1-ea^Ca&&(la=(V+W)/2,oa=L*Math.cos(la),
ba=L*Math.sin(la),la=ta=null)}else oa=ba=0;if(.001<(pa=Math.min(Math.abs(O-L)/2,+A.apply(this,arguments)))){Ha=O>L^ea?0:1;Ca=null==la?[oa,ba]:null==ia?[ka,na]:Pc([ka,na],[la,ta],[ia,va],[oa,ba]);V=ka-Ca[0];W=na-Ca[1];var Ea=ia-Ca[0],La=va-Ca[1];V=1/Math.sin(Math.acos((V*Ea+W*La)/(Math.sqrt(V*V+W*W)*Math.sqrt(Ea*Ea+La*La)))/2);Ca=Math.sqrt(Ca[0]*Ca[0]+Ca[1]*Ca[1]);null!=ia?(W=Math.min(pa,(O-Ca)/(V+1)),Ea=Ff(null==la?[oa,ba]:[la,ta],[ka,na],O,W,ea),La=Ff([ia,va],[oa,ba],O,W,ea),pa===W?Z.push("M",Ea[0],
"A",W,",",W," 0 0,",Ha," ",Ea[1],"A",O,",",O," 0 ",1-ea^Ef(Ea[1][0],Ea[1][1],La[1][0],La[1][1]),",",ea," ",La[1],"A",W,",",W," 0 0,",Ha," ",La[0]):Z.push("M",Ea[0],"A",W,",",W," 0 1,",Ha," ",La[0])):Z.push("M",ka,",",na);null!=la?(O=Math.min(pa,(L-Ca)/(V-1)),la=Ff([ka,na],[la,ta],L,-O,ea),ia=Ff([oa,ba],null==ia?[ka,na]:[ia,va],L,-O,ea),pa===O?Z.push("L",ia[0],"A",O,",",O," 0 0,",Ha," ",ia[1],"A",L,",",L," 0 ",ea^Ef(ia[1][0],ia[1][1],la[1][0],la[1][1]),",",1-ea," ",la[1],"A",O,",",O," 0 0,",Ha," ",
la[0]):Z.push("L",ia[0],"A",O,",",O," 0 0,",Ha," ",la[0])):Z.push("L",oa,",",ba)}else Z.push("M",ka,",",na),null!=ia&&Z.push("A",O,",",O," 0 ",Ha,",",ea," ",ia,",",va),Z.push("L",oa,",",ba),null!=la&&Z.push("A",L,",",L," 0 ",Ca,",",1-ea," ",la,",",ta);return Z.push("Z"),Z.join("")}function k(L,O){return"M0,"+L+"A"+L+","+L+" 0 1,"+O+" 0,"+-L+"A"+L+","+L+" 0 1,"+O+" 0,"+L}var q=Di,t=Ei,A=Ci,y=Yf,E=Fh,C=Gh,F=Fi;return b.innerRadius=function(L){return arguments.length?(q=tb(L),b):q},b.outerRadius=function(L){return arguments.length?
(t=tb(L),b):t},b.cornerRadius=function(L){return arguments.length?(A=tb(L),b):A},b.padRadius=function(L){return arguments.length?(y=L==Yf?Yf:tb(L),b):y},b.startAngle=function(L){return arguments.length?(E=tb(L),b):E},b.endAngle=function(L){return arguments.length?(C=tb(L),b):C},b.padAngle=function(L){return arguments.length?(F=tb(L),b):F},b.centroid=function(){var L=(+q.apply(this,arguments)+ +t.apply(this,arguments))/2,O=(+E.apply(this,arguments)+ +C.apply(this,arguments))/2-Zb;return[Math.cos(O)*
L,Math.sin(O)*L]},b};var Yf="auto";aa.svg.line=function(){return Hh(x)};var Hg=aa.map({linear:Vc,"linear-closed":function(b){return Vc(b)+"Z"},step:function(b){for(var k=0,q=b.length,t=b[0],A=[t[0],",",t[1]];++k<q;)A.push("H",(t[0]+(t=b[k])[0])/2,"V",t[1]);return 1<q&&A.push("H",t[0]),A.join("")},"step-before":Ig,"step-after":Jg,basis:Ih,"basis-open":function(b){if(4>b.length)return Vc(b);for(var k,q=[],t=-1,A=b.length,y=[0],E=[0];3>++t;)k=b[t],y.push(k[0]),E.push(k[1]);q.push(Xc(Ud,y)+","+Xc(Ud,
E));for(--t;++t<A;)k=b[t],y.shift(),y.push(k[0]),E.shift(),E.push(k[1]),Lg(q,y,E);return q.join("")},"basis-closed":function(b){for(var k,q,t=-1,A=b.length,y=A+4,E=[],C=[];4>++t;)q=b[t%A],E.push(q[0]),C.push(q[1]);k=[Xc(Ud,E),",",Xc(Ud,C)];for(--t;++t<y;)q=b[t%A],E.shift(),E.push(q[0]),C.shift(),C.push(q[1]),Lg(k,E,C);return k.join("")},bundle:function(b,k){var q=b.length-1;if(q)for(var t,A,y=b[0][0],E=b[0][1],C=b[q][0]-y,F=b[q][1]-E,L=-1;++L<=q;)t=b[L],A=L/q,t[0]=k*t[0]+(1-k)*(y+A*C),t[1]=k*t[1]+
(1-k)*(E+A*F);return Ih(b)},cardinal:function(b,k){return 3>b.length?Vc(b):b[0]+Gf(b,Kg(b,k))},"cardinal-open":function(b,k){return 4>b.length?Vc(b):b[1]+Gf(b.slice(1,-1),Kg(b,k))},"cardinal-closed":function(b,k){return 3>b.length?Vc(b):b[0]+Gf((b.push(b[0]),b),Kg([b[b.length-2]].concat(b,[b[1]]),k))},monotone:function(b){if(3>b.length)b=Vc(b);else{var k=b[0],q,t,A,y=[];var E=0;var C=b.length-1;for(var F=[],L=b[1],O=F[0]=Mg(b[0],L);++E<C;)F[E]=(O+(O=Mg(L,L=b[E+1])))/2;C=(F[E]=O,F);F=-1;for(L=b.length-
1;++F<L;)E=Mg(b[F],b[F+1]),ob(E)<Ya?C[F]=C[F+1]=0:(q=C[F]/E,t=C[F+1]/E,A=q*q+t*t,9<A&&(A=3*E/Math.sqrt(A),C[F]=A*q,C[F+1]=A*t));for(F=-1;++F<=L;)A=(b[Math.min(L,F+1)][0]-b[Math.max(0,F-1)][0])/(6*(1+C[F]*C[F])),y.push([A||0,C[F]*A||0]);b=k+Gf(b,y)}return b}});Hg.forEach(function(b,k){k.key=b;k.closed=/-closed$/.test(b)});var Jh=[0,2/3,1/3,0],Kh=[0,1/3,2/3,0],Ud=[0,1/6,2/3,1/6];aa.svg.line.radial=function(){var b=Hh(Lh);return b.radius=b.x,delete b.x,b.angle=b.y,delete b.y,b};Ig.reverse=Jg;Jg.reverse=
Ig;aa.svg.area=function(){return Mh(x)};aa.svg.area.radial=function(){var b=Mh(Lh);return b.radius=b.x,delete b.x,b.innerRadius=b.x0,delete b.x0,b.outerRadius=b.x1,delete b.x1,b.angle=b.y,delete b.y,b.startAngle=b.y0,delete b.y0,b.endAngle=b.y1,delete b.y1,b};aa.svg.chord=function(){function b(F,L){var O=k(this,t,F,L);F=k(this,A,F,L);return"M"+O.p0+q(O.r,O.p1,O.a1-O.a0)+(O.a0==F.a0&&O.a1==F.a1?"Q 0,0 "+O.p0:"Q 0,0 "+F.p0+q(F.r,F.p1,F.a1-F.a0)+("Q 0,0 "+O.p0))+"Z"}function k(F,L,O,V){var W=L.call(F,
O,V);L=y.call(F,W,V);O=E.call(F,W,V)-Zb;F=C.call(F,W,V)-Zb;return{r:L,a0:O,a1:F,p0:[L*Math.cos(O),L*Math.sin(O)],p1:[L*Math.cos(F),L*Math.sin(F)]}}function q(F,L,O){return"A"+F+","+F+" 0 "+ +(O>kb)+",1 "+L}var t=Y,A=fa,y=Gi,E=Fh,C=Gh;return b.radius=function(F){return arguments.length?(y=tb(F),b):y},b.source=function(F){return arguments.length?(t=tb(F),b):t},b.target=function(F){return arguments.length?(A=tb(F),b):A},b.startAngle=function(F){return arguments.length?(E=tb(F),b):E},b.endAngle=function(F){return arguments.length?
(C=tb(F),b):C},b};aa.svg.diagonal=function(){function b(A,y){var E=k.call(this,A,y);A=q.call(this,A,y);y=(E.y+A.y)/2;E=[E,{x:E.x,y},{x:A.x,y},A];return E=E.map(t),"M"+E[0]+"C"+E[1]+" "+E[2]+" "+E[3]}var k=Y,q=fa,t=Nh;return b.source=function(A){return arguments.length?(k=tb(A),b):k},b.target=function(A){return arguments.length?(q=tb(A),b):q},b.projection=function(A){return arguments.length?(t=A,b):t},b};aa.svg.diagonal.radial=function(){var b=aa.svg.diagonal(),k=Nh,q=b.projection;return b.projection=
function(t){return arguments.length?q(Hi(k=t)):k},b};aa.svg.symbol=function(){function b(t,A){return(ei.get(k.call(this,t,A))||Oh)(q.call(this,t,A))}var k=Ji,q=Ii;return b.type=function(t){return arguments.length?(k=tb(t),b):k},b.size=function(t){return arguments.length?(q=tb(t),b):q},b};var ei=aa.map({circle:Oh,cross:function(b){b=Math.sqrt(b/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(b){b=Math.sqrt(b/(2*fi));var k=
b*fi;return"M0,"+-b+"L"+k+",0 0,"+b+" "+-k+",0Z"},square:function(b){b=Math.sqrt(b)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(b){b=Math.sqrt(b/Zf);var k=b*Zf/2;return"M0,"+k+"L"+b+","+-k+" "+-b+","+-k+"Z"},"triangle-up":function(b){b=Math.sqrt(b/Zf);var k=b*Zf/2;return"M0,"+-k+"L"+b+","+k+" "+-b+","+k+"Z"}});aa.svg.symbolTypes=ei.keys();var Zf=Math.sqrt(3),fi=Math.tan(30*lb);Cb.transition=function(b){for(var k,q=je||++gi,t=Og(b),A=[],y=$f||{time:Date.now(),
ease:Fe,delay:0,duration:250},E=-1,C=this.length;++E<C;){A.push(b=[]);for(var F=this[E],L=-1,O=F.length;++L<O;)(k=F[L])&&Hf(k,L,t,q,y),b.push(k)}return Te(A,t,q)};Cb.interrupt=function(b){return this.each(null==b?Lf:Ph(Og(b)))};var je,$f,Lf=Ph(Og()),hc=[],gi=0;hc.call=Cb.call;hc.empty=Cb.empty;hc.node=Cb.node;hc.size=Cb.size;aa.transition=function(b,k){return b&&b.transition?je?b.transition(k):b:aa.selection().transition(b)};aa.transition.prototype=hc;hc.select=function(b){var k,q,t,A=this.id,y=this.namespace,
E=[];b=R(b);for(var C=-1,F=this.length;++C<F;){E.push(k=[]);for(var L=this[C],O=-1,V=L.length;++O<V;)(t=L[O])&&(q=b.call(t,t.__data__,O,C))?("__data__"in t&&(q.__data__=t.__data__),Hf(q,O,y,A,t[y][A]),k.push(q)):k.push(null)}return Te(E,y,A)};hc.selectAll=function(b){var k,q,t=this.id,A=this.namespace,y=[];b=ca(b);for(var E=-1,C=this.length;++E<C;)for(var F=this[E],L=-1,O=F.length;++L<O;)if(k=F[L]){var V=k[A][t];var W=b.call(k,k.__data__,L,E);y.push(k=[]);for(var Z=-1,ea=W.length;++Z<ea;)(q=W[Z])&&
Hf(q,Z,A,t,V),k.push(q)}return Te(y,A,t)};hc.filter=function(b){var k,q,t=[];"function"!=typeof b&&(b=Oa(b));for(var A=0,y=this.length;y>A;A++){t.push(k=[]);var E=this[A];for(var C=0,F=E.length;F>C;C++)(q=E[C])&&b.call(q,q.__data__,C,A)&&k.push(q)}return Te(t,this.namespace,this.id)};hc.tween=function(b,k){var q=this.id,t=this.namespace;return 2>arguments.length?this.node()[t][q].tween.get(b):wa(this,null==k?function(A){A[t][q].tween.remove(b)}:function(A){A[t][q].tween.set(b,k)})};hc.attr=function(b,
k){function q(){this.removeAttribute(C)}function t(){this.removeAttributeNS(C.space,C.local)}function A(F){return null==F?q:(F+="",function(){var L,O=this.getAttribute(C);return O!==F&&(L=E(O,F),function(V){this.setAttribute(C,L(V))})})}function y(F){return null==F?t:(F+="",function(){var L,O=this.getAttributeNS(C.space,C.local);return O!==F&&(L=E(O,F),function(V){this.setAttributeNS(C.space,C.local,L(V))})})}if(2>arguments.length){for(k in b)this.attr(k,b[k]);return this}var E="transform"==b?Bb:
wd,C=aa.ns.qualify(b);return Ng(this,"attr."+b,k,C.local?y:A)};hc.attrTween=function(b,k){function q(y,E){var C=k.call(this,y,E,this.getAttribute(A));return C&&function(F){this.setAttribute(A,C(F))}}function t(y,E){var C=k.call(this,y,E,this.getAttributeNS(A.space,A.local));return C&&function(F){this.setAttributeNS(A.space,A.local,C(F))}}var A=aa.ns.qualify(b);return this.tween("attr."+b,A.local?t:q)};hc.style=function(b,k,q){function t(){this.style.removeProperty(b)}var A=arguments.length;if(3>A){if("string"!=
typeof b){2>A&&(k="");for(q in b)this.style(q,b[q],k);return this}q=""}return Ng(this,"style."+b,k,function(y){return null==y?t:(y+="",function(){var E,C=d(this).getComputedStyle(this,null).getPropertyValue(b);return C!==y&&(E=wd(C,y),function(F){this.style.setProperty(b,E(F),q)})})})};hc.styleTween=function(b,k,q){return 3>arguments.length&&(q=""),this.tween("style."+b,function(t,A){var y=k.call(this,t,A,d(this).getComputedStyle(this,null).getPropertyValue(b));return y&&function(E){this.style.setProperty(b,
y(E),q)}})};hc.text=function(b){return Ng(this,"text",b,Ki)};hc.remove=function(){var b=this.namespace;return this.each("end.transition",function(){var k;2>this[b].count&&(k=this.parentNode)&&k.removeChild(this)})};hc.ease=function(b){var k=this.id,q=this.namespace;return 1>arguments.length?this.node()[q][k].ease:("function"!=typeof b&&(b=aa.ease.apply(aa,arguments)),wa(this,function(t){t[q][k].ease=b}))};hc.delay=function(b){var k=this.id,q=this.namespace;return 1>arguments.length?this.node()[q][k].delay:
wa(this,"function"==typeof b?function(t,A,y){t[q][k].delay=+b.call(t,t.__data__,A,y)}:(b=+b,function(t){t[q][k].delay=b}))};hc.duration=function(b){var k=this.id,q=this.namespace;return 1>arguments.length?this.node()[q][k].duration:wa(this,"function"==typeof b?function(t,A,y){t[q][k].duration=Math.max(1,b.call(t,t.__data__,A,y))}:(b=Math.max(1,b),function(t){t[q][k].duration=b}))};hc.each=function(b,k){var q=this.id,t=this.namespace;if(2>arguments.length){var A=$f,y=je;try{je=q,wa(this,function(E,
C,F){$f=E[t][q];b.call(E,E.__data__,C,F)})}finally{$f=A,je=y}}else wa(this,function(E){E=E[t][q];(E.event||(E.event=aa.dispatch("start","end","interrupt"))).on(b,k)});return this};hc.transition=function(){for(var b,k,q,t,A=this.id,y=++gi,E=this.namespace,C=[],F=0,L=this.length;L>F;F++){C.push(b=[]);k=this[F];for(var O=0,V=k.length;V>O;O++)(q=k[O])&&(t=q[E][A],Hf(q,O,E,y,{time:t.time,ease:t.ease,delay:t.delay+t.duration,duration:t.duration})),b.push(q)}return Te(C,E,y)};aa.svg.axis=function(){function b(L){L.each(function(){var O,
V=aa.select(this),W=this.__chart__||q,Z=this.__chart__=q.copy(),ea=null==F?Z.ticks?Z.ticks.apply(Z,C):Z.domain():F,pa=null==k?Z.tickFormat?Z.tickFormat.apply(Z,C):x:k,ka=V.selectAll(".tick").data(ea,Z);ea=ka.enter().insert("g",".domain").attr("class","tick").style("opacity",Ya);var na=aa.transition(ka.exit()).style("opacity",Ya).remove(),oa=aa.transition(ka.order()).style("opacity",1),ia=Math.max(A,0)+E,va=Af(Z);V=V.selectAll(".domain").data([0]);V=(V.enter().append("path").attr("class","domain"),
aa.transition(V));ea.append("line");ea.append("text");var Ha,ba,la,ta,Ca=ea.select("line"),Ea=oa.select("line");pa=ka.select("text").text(pa);ka=ea.select("text");var La=oa.select("text"),Na="top"===t||"left"===t?-1:1;if("bottom"===t||"top"===t?(O=Li,Ha="x",la="y",ba="x2",ta="y2",pa.attr("dy",0>Na?"0em":".71em").style("text-anchor","middle"),V.attr("d","M"+va[0]+","+Na*y+"V0H"+va[1]+"V"+Na*y)):(O=Mi,Ha="y",la="x",ba="y2",ta="x2",pa.attr("dy",".32em").style("text-anchor",0>Na?"end":"start"),V.attr("d",
"M"+Na*y+","+va[0]+"H0V"+va[1]+"H"+Na*y)),Ca.attr(ta,Na*A),ka.attr(la,Na*ia),Ea.attr(ba,0).attr(ta,Na*A),La.attr(Ha,0).attr(la,Na*ia),Z.rangeBand){var db=Z,jb=db.rangeBand()/2;W=Z=function(fb){return db(fb)+jb}}else W.rangeBand?W=Z:na.call(O,Z,W);ea.call(O,W,Z);oa.call(O,Z,Z)})}var k,q=aa.scale.linear(),t=hi,A=6,y=6,E=3,C=[10],F=null;return b.scale=function(L){return arguments.length?(q=L,b):q},b.orient=function(L){return arguments.length?(t=L in kj?L+"":hi,b):t},b.ticks=function(){return arguments.length?
(C=arguments,b):C},b.tickValues=function(L){return arguments.length?(F=L,b):F},b.tickFormat=function(L){return arguments.length?(k=L,b):k},b.tickSize=function(L){var O=arguments.length;return O?(A=+L,y=+arguments[O-1],b):A},b.innerTickSize=function(L){return arguments.length?(A=+L,b):A},b.outerTickSize=function(L){return arguments.length?(y=+L,b):y},b.tickPadding=function(L){return arguments.length?(E=+L,b):E},b.tickSubdivide=function(){return arguments.length&&b},b};var hi="bottom",kj={top:1,right:1,
bottom:1,left:1};aa.svg.brush=function(){function b(pa){pa.each(function(){var ka=aa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",A).on("touchstart.brush",A),na=ka.selectAll(".background").data([0]);na.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");ka.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var oa=ka.selectAll(".resize").data(ea,
x);oa.exit().remove();oa.enter().append("g").attr("class",function(va){return"resize "+va}).style("cursor",function(va){return lj[va]}).append("rect").attr("x",function(va){return/[ew]$/.test(va)?-3:null}).attr("y",function(va){return/^[ns]/.test(va)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");oa.style("display",b.empty()?"none":null);var ia;ka=aa.transition(ka);na=aa.transition(na);F&&(ia=Af(F),na.attr("x",ia[0]).attr("width",ia[1]-ia[0]),q(ka));L&&(ia=Af(L),na.attr("y",
ia[0]).attr("height",ia[1]-ia[0]),t(ka));k(ka)})}function k(pa){pa.selectAll(".resize").attr("transform",function(ka){return"translate("+O[+/e$/.test(ka)]+","+V[+/^s/.test(ka)]+")"})}function q(pa){pa.select(".extent").attr("x",O[0]);pa.selectAll(".extent,.n>rect,.s>rect").attr("width",O[1]-O[0])}function t(pa){pa.select(".extent").attr("y",V[0]);pa.selectAll(".extent,.e>rect,.w>rect").attr("height",V[1]-V[0])}function A(){function pa(){var Ta=aa.mouse(ia),hb=!1;fb&&(Ta[0]+=fb[0],Ta[1]+=fb[1]);Ea||
(aa.event.altKey?(oa||=[(O[0]+O[1])/2,(V[0]+V[1])/2],Na[0]=O[+(Ta[0]<oa[0])],Na[1]=V[+(Ta[1]<oa[1])]):oa=null);ta&&ka(Ta,F,0)&&(q(ba),hb=!0);Ca&&ka(Ta,L,1)&&(t(ba),hb=!0);hb&&(k(ba),Ha({type:"brush",mode:Ea?"move":"resize"}))}function ka(Ta,hb,ub){var Db,sc,Mb=Af(hb);hb=Mb[0];Mb=Mb[1];var gc=Na[ub],fc=ub?V:O,Ic=fc[1]-fc[0];return Ea&&(hb-=gc,Mb-=Ic+gc),Db=(ub?Z:W)?Math.max(hb,Math.min(Mb,Ta[ub])):Ta[ub],Ea?sc=(Db+=gc)+Ic:(oa&&(gc=Math.max(hb,Math.min(Mb,2*oa[ub]-Db))),Db>gc?(sc=Db,Db=gc):sc=gc),fc[0]!=
Db||fc[1]!=sc?(ub?E=null:y=null,fc[0]=Db,fc[1]=sc,!0):void 0}function na(){pa();ba.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null);aa.select("body").style("cursor",null);db.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);La();Ha({type:"brushend"})}var oa,ia=this,va=aa.select(aa.event.target),Ha=C.of(ia,arguments),ba=aa.select(ia),la=va.datum(),ta=!/^(n|s)$/.test(la)&&
F,Ca=!/^(e|w)$/.test(la)&&L,Ea=va.classed("extent"),La=$a(ia),Na=aa.mouse(ia),db=aa.select(d(ia)).on("keydown.brush",function(){32==aa.event.keyCode&&(Ea||(oa=null,Na[0]-=O[1],Na[1]-=V[1],Ea=2),Q())}).on("keyup.brush",function(){32==aa.event.keyCode&&2==Ea&&(Na[0]+=O[1],Na[1]+=V[1],Ea=0,Q())});if(aa.event.changedTouches?db.on("touchmove.brush",pa).on("touchend.brush",na):db.on("mousemove.brush",pa).on("mouseup.brush",na),ba.interrupt().selectAll("*").interrupt(),Ea)Na[0]=O[0]-Na[0],Na[1]=V[0]-Na[1];
else if(la){var jb=+/w$/.test(la);la=+/^n/.test(la);var fb=[O[1-jb]-Na[0],V[1-la]-Na[1]];Na[0]=O[jb];Na[1]=V[la]}else aa.event.altKey&&(oa=Na.slice());ba.style("pointer-events","none").selectAll(".resize").style("display",null);aa.select("body").style("cursor",va.style("cursor"));Ha({type:"brushstart"});pa()}var y,E,C=T(b,"brushstart","brush","brushend"),F=null,L=null,O=[0,0],V=[0,0],W=!0,Z=!0,ea=Xg[0];return b.event=function(pa){pa.each(function(){var ka=C.of(this,arguments),na={x:O,y:V,i:y,j:E},
oa=this.__chart__||na;this.__chart__=na;je?aa.select(this).transition().each("start.brush",function(){y=oa.i;E=oa.j;O=oa.x;V=oa.y;ka({type:"brushstart"})}).tween("brush:brush",function(){var ia=ne(O,na.x),va=ne(V,na.y);return y=E=null,function(Ha){O=na.x=ia(Ha);V=na.y=va(Ha);ka({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=na.i;E=na.j;ka({type:"brush",mode:"resize"});ka({type:"brushend"})}):(ka({type:"brushstart"}),ka({type:"brush",mode:"resize"}),ka({type:"brushend"}))})},b.x=function(pa){return arguments.length?
(F=pa,ea=Xg[!F<<1|!L],b):F},b.y=function(pa){return arguments.length?(L=pa,ea=Xg[!F<<1|!L],b):L},b.clamp=function(pa){return arguments.length?(F&&L?(W=!!pa[0],Z=!!pa[1]):F?W=!!pa:L&&(Z=!!pa),b):F&&L?[W,Z]:F?W:L?Z:null},b.extent=function(pa){var ka,na,oa,ia,va;return arguments.length?(F&&(ka=pa[0],na=pa[1],L&&(ka=ka[0],na=na[0]),y=[ka,na],F.invert&&(ka=F(ka),na=F(na)),ka>na&&(va=ka,ka=na,na=va),(ka!=O[0]||na!=O[1])&&(O=[ka,na])),L&&(oa=pa[0],ia=pa[1],F&&(oa=oa[1],ia=ia[1]),E=[oa,ia],L.invert&&(oa=
L(oa),ia=L(ia)),oa>ia&&(va=oa,oa=ia,ia=va),(oa!=V[0]||ia!=V[1])&&(V=[oa,ia])),b):(F&&(y?(ka=y[0],na=y[1]):(ka=O[0],na=O[1],F.invert&&(ka=F.invert(ka),na=F.invert(na)),ka>na&&(va=ka,ka=na,na=va))),L&&(E?(oa=E[0],ia=E[1]):(oa=V[0],ia=V[1],L.invert&&(oa=L.invert(oa),ia=L.invert(ia)),oa>ia&&(va=oa,oa=ia,ia=va))),F&&L?[[ka,oa],[na,ia]]:F?[ka,na]:L&&[oa,ia])},b.clear=function(){return b.empty()||(O=[0,0],V=[0,0],y=E=null),b},b.empty=function(){return!!F&&O[0]==O[1]||!!L&&V[0]==V[1]},aa.rebind(b,C,"on")};
var lj={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xg=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],Yg=bb.format=Wh.timeFormat,ii=Yg.utc,ji=ii("%Y-%m-%dT%H:%M:%S.%LZ");Yg.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Pg:ji;Pg.parse=function(b){b=new Date(b);return isNaN(b)?null:b};Pg.toString=ji.toString;bb.second=Bc(function(b){return new yc(1E3*Math.floor(b/1E3))},function(b,k){b.setTime(b.getTime()+
1E3*Math.floor(k))},function(b){return b.getSeconds()});bb.seconds=bb.second.range;bb.seconds.utc=bb.second.utc.range;bb.minute=Bc(function(b){return new yc(6E4*Math.floor(b/6E4))},function(b,k){b.setTime(b.getTime()+6E4*Math.floor(k))},function(b){return b.getMinutes()});bb.minutes=bb.minute.range;bb.minutes.utc=bb.minute.utc.range;bb.hour=Bc(function(b){var k=b.getTimezoneOffset()/60;return new yc(36E5*(Math.floor(b/36E5-k)+k))},function(b,k){b.setTime(b.getTime()+36E5*Math.floor(k))},function(b){return b.getHours()});
bb.hours=bb.hour.range;bb.hours.utc=bb.hour.utc.range;bb.month=Bc(function(b){return b=bb.day(b),b.setDate(1),b},function(b,k){b.setMonth(b.getMonth()+k)},function(b){return b.getMonth()});bb.months=bb.month.range;bb.months.utc=bb.month.utc.range;var If=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Zg=[[bb.second,1],[bb.second,5],[bb.second,15],[bb.second,30],[bb.minute,1],[bb.minute,5],[bb.minute,15],[bb.minute,30],[bb.hour,1],[bb.hour,3],[bb.hour,
6],[bb.hour,12],[bb.day,1],[bb.day,2],[bb.week,1],[bb.month,1],[bb.month,3],[bb.year,1]],mj=Yg.multi([[".%L",function(b){return b.getMilliseconds()}],[":%S",function(b){return b.getSeconds()}],["%I:%M",function(b){return b.getMinutes()}],["%I %p",function(b){return b.getHours()}],["%a %d",function(b){return b.getDay()&&1!=b.getDate()}],["%b %d",function(b){return 1!=b.getDate()}],["%B",function(b){return b.getMonth()}],["%Y",cd]]),Ni={range:function(b,k,q){return aa.range(Math.ceil(b/q)*q,+k,q).map(ie)},
floor:x,ceil:x};Zg.year=bb.year;bb.scale=function(){return Qg(aa.scale.linear(),Zg,mj)};var ki=Zg.map(function(b){return[b[0].utc,b[1]]}),nj=ii.multi([[".%L",function(b){return b.getUTCMilliseconds()}],[":%S",function(b){return b.getUTCSeconds()}],["%I:%M",function(b){return b.getUTCMinutes()}],["%I %p",function(b){return b.getUTCHours()}],["%a %d",function(b){return b.getUTCDay()&&1!=b.getUTCDate()}],["%b %d",function(b){return 1!=b.getUTCDate()}],["%B",function(b){return b.getUTCMonth()}],["%Y",
cd]]);ki.year=bb.year.utc;bb.scale.utc=function(){return Qg(aa.scale.linear(),ki,nj)};aa.text=Dc(function(b){return b.responseText});aa.json=function(b,k){return Cc(b,"application/json",Oi,k)};aa.html=function(b,k){return Cc(b,"text/html",Pi,k)};aa.xml=Dc(function(b){return b.responseXML});"function"==typeof define&&define.amd?define(aa):"object"==typeof module&&module.exports&&(module.exports=aa);this.d3=aa}();!function(d){function N(a,h){return new N.prototype.init(a,h)}Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;return function(){return h.apply(a)}});var X=0;d.fn.redactor=function(a){var h=[],f=Array.prototype.slice.call(arguments,1);return"string"==typeof a?this.each(function(){var g,e=d.data(this,"redactor");"-1"!==a.search(/\./)?void 0!==e[(g=a.split("."))[0]]&&(g=e[g[0]][g[1]]):g=e[a];void 0!==e&&d.isFunction(g)?void 0!==(g=g.apply(e,f))&&g!==e&&h.push(g):d.error('No such method "'+
a+'" for Redactor')}):this.each(function(){d.data(this,"redactor",{});d.data(this,"redactor",N(this,a))}),0===h.length?this:1===h.length?h[0]:h};d.Redactor=N;d.Redactor.VERSION="2.10";d.Redactor.modules="air autosave block buffer build button caret clean code core detect dropdown events file focus image indent inline insert keydown keyup lang line link linkify list marker modal observe offset paragraphize paste placeholder progress selection shortcuts storage toolbar upload uploads3 utils browser".split(" ");
d.Redactor.settings={};d.Redactor.opts={animation:!1,lang:"en",direction:"ltr",spellcheck:!0,overrideStyles:!0,stylesClass:!1,scrollTarget:document,focus:!1,focusEnd:!1,clickToEdit:!1,structure:!1,tabindex:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:!1,callbacks:{},placeholder:!1,linkify:!0,enterKey:!0,pastePlainText:!1,pasteImages:!0,pasteLinks:!0,pasteBlockTags:"pre h1 h2 h3 h4 h5 h6 table tbody thead tfoot th tr td ul ol li blockquote p figure figcaption".split(" "),pasteInlineTags:"br strong ins code del span samp kbd sup sub mark var cite small b u em i".split(" "),
preClass:!1,preSpaces:4,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveFields:!1,imageUpload:null,imageUploadParam:"file",imageUploadFields:!1,imageUploadForms:!1,imageTag:"figure",imageEditable:!0,imageCaption:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",dragImageUpload:!0,multipleImageUpload:!0,clipboardImageUpload:!0,fileUpload:null,fileUploadParam:"file",fileUploadFields:!1,fileUploadForms:!1,dragFileUpload:!0,s3:!1,linkNewTab:!1,linkTooltip:!0,linkNofollow:!1,linkSize:30,
linkValidation:!0,pasteLinkTarget:!1,videoContainerClass:"video-container",toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarOverflow:!1,air:!1,airWidth:!1,formatting:"p blockquote pre h1 h2 h3 h4 h5 h6".split(" "),formattingAdd:!1,buttons:"format bold italic deleted lists image file link horizontalrule".split(" "),buttonsTextLabeled:!1,buttonsHide:[],buttonsHideOnMobile:[],script:!0,style:!0,removeNewlines:!1,removeComments:!0,replaceTags:{b:"strong",
i:"em",strike:"del"},keepStyleAttr:[],keepInlineOnEnter:!1,shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},
shortcutsAdd:!1,activeButtons:["deleted","italic","bold"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",u:"underline",strike:"deleted"},langs:{en:{format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U",lists:"Lists","link-insert":"Insert link","link-edit":"Edit link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",
cancel:"Cancel",close:"Close",insert:"Insert",save:"Save",delete:"Delete",text:"Text",edit:"Edit",title:"Title",general:"General",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line","upload-label":"Drop file here or ",caption:"Caption",
upload:"Upload",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center","accessibility-help-label":"Rich text editor"}},type:"textarea",inline:!1,inlineTags:"a span strong strike b u em i code del ins samp kbd sup sub mark var cite small".split(" "),blockTags:"pre ul ol li p h1 h2 h3 h4 h5 h6 dl dt dd div td blockquote output figcaption figure address section header footer aside article iframe".split(" "),paragraphize:!0,paragraphizeBlocks:"table div pre form ul ol h1 h2 h3 h4 h5 h6 dl blockquote figcaption address section header footer aside article object style script iframe select input textarea button option map area math hr fieldset legend hgroup nav figure details menu summary p".split(" "),
emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",emptyHtmlRendered:d("").html("\u200b").html(),imageTypes:["image/png","image/jpeg","image/gif","image/webp"],userAgent:navigator.userAgent.toLowerCase(),observe:{dropdowns:[]},regexps:{linkyoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,linkvimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,linkvimeochannel:/https?:\/\/(www\.)?vimeo.com\/channels\/[^/]+\/(\d+)($|\/)/,
linkimage:/((https?|www)[^\s]+\.)(jpe?g|png|gif|webp)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi}};N.fn=d.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(a,h){if(this.$element=d(a),this.uuid=X++,this.sBuffer=[],this.sRebuffer=[],this.loadOptions(h),this.loadModules(),this.opts.clickToEdit&&!this.$element.hasClass("redactor-click-to-edit"))return this.loadToEdit(h);
this.$element.hasClass("redactor-click-to-edit")&&this.$element.removeClass("redactor-click-to-edit");this.reIsBlock=new RegExp("^("+this.opts.blockTags.join("|").toUpperCase()+")$","i");this.reIsInline=new RegExp("^("+this.opts.inlineTags.join("|").toUpperCase()+")$","i");this.opts.dragImageUpload=null!==this.opts.imageUpload&&this.opts.dragImageUpload;this.opts.dragFileUpload=null!==this.opts.fileUpload&&this.opts.dragFileUpload;this.formatting={};this.lang.load();d.extend(this.opts.shortcuts,this.opts.shortcutsAdd);
this.$editor=this.$element;this.detectType();this.core.callback("start");this.core.callback("startToEdit");this.start=!0;this.build.start()},detectType:function(){this.build.isInline()||this.opts.inline?this.opts.type="inline":this.build.isTag("DIV")?this.opts.type="div":this.build.isTag("PRE")&&(this.opts.type="pre")},loadToEdit:function(a){this.$element.on("click.redactor-click-to-edit",d.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},initToEdit:function(a){d.extend(a.callbacks,
{startToEdit:function(){this.insert.node(this.marker.get(),!1)},initToEdit:function(){this.selection.restore();this.clickToCancelStorage=this.code.get();d(this.opts.clickToCancel).off(".redactor-click-to-edit");d(this.opts.clickToCancel).show().on("click.redactor-click-to-edit",d.proxy(function(h){h.preventDefault();this.core.destroy();this.events.syncFire=!1;this.$element.html(this.clickToCancelStorage);this.core.callback("cancel",this.clickToCancelStorage);this.events.syncFire=!0;this.clickToCancelStorage=
"";d(this.opts.clickToCancel).hide();d(this.opts.clickToSave).hide();this.$element.on("click.redactor-click-to-edit",d.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},this));d(this.opts.clickToSave).off(".redactor-click-to-edit");d(this.opts.clickToSave).show().on("click.redactor-click-to-edit",d.proxy(function(h){h.preventDefault();this.core.destroy();this.core.callback("save",this.code.get());d(this.opts.clickToCancel).hide();d(this.opts.clickToSave).hide();
this.$element.on("click.redactor-click-to-edit",d.proxy(function(){this.initToEdit(a)},this));this.$element.addClass("redactor-click-to-edit")},this))}});this.$element.redactor(a);this.$element.off(".redactor-click-to-edit")},loadOptions:function(a){var h={};void 0!==d.Redactor.settings.namespace&&!this.$element.hasClass(d.Redactor.settings.namespace)||(h=d.Redactor.settings);this.opts=d.extend({},d.Redactor.opts,this.$element.data(),a);this.opts=d.extend({},this.opts,h)},getModuleMethods:function(a){return Object.getOwnPropertyNames(a).filter(function(h){return"function"==
typeof a[h]})},loadModules:function(){for(var a=d.Redactor.modules.length,h=0;h<a;h++)this.bindModuleMethods(d.Redactor.modules[h])},bindModuleMethods:function(a){if(void 0!==this[a]){this[a]=this[a]();for(var h=this.getModuleMethods(this[a]),f=h.length,g=0;g<f;g++)this[a][h[g]]=this[a][h[g]].bind(this)}},air:function(){return{enabled:!1,collapsed:function(){this.opts.air&&this.selection.get().collapseToStart()},collapsedEnd:function(){this.opts.air&&this.selection.get().collapseToEnd()},build:function(){this.detect.isMobile()||
(this.button.hideButtons(),this.button.hideButtonsOnMobile(),0!==this.opts.buttons.length&&(this.$air=this.air.createContainer(),!1!==this.opts.airWidth&&this.$air.css("width",this.opts.airWidth),this.air.append(),this.button.$toolbar=this.$air,this.button.setFormatting(),this.button.load(this.$air),this.core.editor().on("mouseup.redactor",this,d.proxy(function(a){""!==this.selection.text()&&this.air.show(a)},this))))},append:function(){this.$air.appendTo("body")},createContainer:function(){return d("<ul>").addClass("redactor-air").attr({id:"redactor-air-"+
this.uuid,role:"toolbar"}).hide()},show:function(a){this.selection.saveInstant();d(".redactor-air").hide();var h=0,f=this.$air.innerWidth();d(window).width()<a.clientX+f&&(h=200);this.$air.css({left:a.clientX-h+"px",top:a.clientY+10+d(document).scrollTop()+"px"}).show();this.air.enabled=!0;this.air.bindHide()},bindHide:function(){d(document).on("mousedown.redactor-air."+this.uuid,d.proxy(function(a){var h=d(a.target).closest(".redactor-dropdown").length;0===d(a.target).closest(this.$air).length&&
0===h&&!1!==this.air.hide(a)&&this.marker.remove()},this)).on("keydown.redactor-air."+this.uuid,d.proxy(function(a){var h,f=a.which;(this.utils.isRedactorParent(a.target)||d(a.target).hasClass("redactor-in"))&&0===d(a.target).closest("#redactor-modal").length&&(f===this.keyCode.ESC?this.selection.get().collapseToStart():f===this.keyCode.BACKSPACE||f===this.keyCode.DELETE?(h=this.selection.get(),this.selection.range(h).deleteContents()):f===this.keyCode.ENTER&&this.selection.get().collapseToEnd(),
this.air.enabled?this.air.hide(a):this.selection.get().collapseToStart())},this))},hide:function(a){if(a.ctrlKey||a.metaKey||a.shiftKey&&a.altKey)return!1;this.button.setInactiveAll();this.$air.fadeOut(100);this.air.enabled=!1;d(document).off("mousedown.redactor-air."+this.uuid);d(document).off("keydown.redactor-air."+this.uuid)}}},autosave:function(){return{enabled:!1,html:!1,init:function(){this.opts.autosave&&(this.autosave.enabled=!0,this.autosave.name=this.opts.autosaveName||this.$textarea.attr("name"))},
is:function(){return this.autosave.enabled},send:function(){var a;this.opts.autosave&&(this.autosave.source=this.code.get(),this.autosave.html!==this.autosave.source)&&((a={}).name=this.autosave.name,a[this.autosave.name]=this.autosave.source,a=this.autosave.getHiddenFields(a),d.ajax({url:this.opts.autosave,type:"post",data:a}).done(this.autosave.success))},getHiddenFields:function(a){return!1!==this.opts.autosaveFields&&"object"==typeof this.opts.autosaveFields&&d.each(this.opts.autosaveFields,d.proxy(function(h,
f){null!==f&&0===f.toString().indexOf("#")&&(f=d(f).val());a[h]=f},this)),a},success:function(a){try{var h=JSON.parse(a)}catch(f){h=a}a=void 0===h.error?"autosave":"autosaveError";this.core.callback(a,this.autosave.name,h);this.autosave.html=this.autosave.source},disable:function(){this.autosave.enabled=!1;clearInterval(this.autosaveTimeout)}}},block:function(){return{format:function(a,h,f,g){if(a="quote"===a?"blockquote":a,this.block.tags="p blockquote pre h1 h2 h3 h4 h5 h6 div figure".split(" "),
-1!==d.inArray(a,this.block.tags))return"p"===a&&void 0===h&&(h="class"),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.block.formatCollapsed(a,h,f,g):this.block.formatUncollapsed(a,h,f,g)},formatCollapsed:function(a,h,f,g){this.selection.save();var e=this.selection.block(),m=e.tagName.toLowerCase();if(-1!==d.inArray(m,this.block.tags)){var p,u=!1;if(m===a&&void 0===h&&(a="p",u=!0),u&&(this.block.removeAllClass(),this.block.removeAllAttr()),"blockquote"===m&&this.utils.isEndOfElement(e)?
(this.marker.remove(),(p=document.createElement("p")).innerHTML=this.opts.invisibleSpace,d(e).after(p),this.caret.start(p),0!==(u=d(e).children().last()).length&&"BR"===u[0].tagName&&u.remove()):p=this.utils.replaceToTag(e,a),"object"==typeof h)for(var c in g=f,h)p=this.block.setAttr(p,c,h[c],g);else p=this.block.setAttr(p,h,f,g);return"pre"===a&&1===p.length&&d(p).html(d.trim(d(p).html())),this.selection.restore(),this.block.removeInlineTags(p),p}this.selection.restore()},formatUncollapsed:function(a,
h,f,g){this.selection.save();for(var e,m=[],p=this.selection.blocks(),u=(p=p[0]&&(d(p[0]).hasClass("redactor-in")||d(p[0]).hasClass("redactor-box"))?this.core.editor().find(this.opts.blockTags.join(", ")):p).length,c=0;c<u;c++){var l=p[c].tagName.toLowerCase();if(-1!==d.inArray(l,this.block.tags)&&"figure"!==l){l=this.utils.replaceToTag(p[c],a);if("object"==typeof h)for(var n in g=f,h)l=this.block.setAttr(l,n,h[n],g);else l=this.block.setAttr(l,h,f,g);m.push(l);this.block.removeInlineTags(l)}}return this.selection.restore(),
"pre"===a&&0!==m.length&&(e=m[0],d.each(m,function(w,z){0!==w&&(d(e).append("\n"+d.trim(z.html())),d(z).remove())}),(m=[]).push(e)),m},removeInlineTags:function(a){a=a[0]||a;var h,f=this.opts.inlineTags;-1!==d.inArray(a.tagName,"PRE H1 H2 H3 H4 H5 H6".split(" "))&&("PRE"!==a.tagName&&(h=f.indexOf("a"),f.splice(h,1)),d(a).find(f.join(",")).not(".redactor-selection-marker").contents().unwrap())},setAttr:function(a,h,f,g){return void 0!==h&&(g=void 0===g?"replace":g,a="class"===h?this.block[g+"Class"](f,
a):"remove"===g||"removeAll"===g?this.block[g+"Attr"](h,a):this.block[g+"Attr"](h,f,a)),a},getBlocks:function(a){var h,f;return a=void 0===a?this.selection.blocks():a,d(a).hasClass("redactor-box")?(h=[],f=this.core.editor().children(),d.each(f,d.proxy(function(g,e){this.utils.isBlock(e)&&h.push(e)},this)),h):a},replaceClass:function(a,h){return d(this.block.getBlocks(h)).removeAttr("class").addClass(a)[0]},toggleClass:function(a,h){return d(this.block.getBlocks(h)).toggleClass(a)[0]},addClass:function(a,
h){return d(this.block.getBlocks(h)).addClass(a)[0]},removeClass:function(a,h){return d(this.block.getBlocks(h)).removeClass(a)[0]},removeAllClass:function(a){return d(this.block.getBlocks(a)).removeAttr("class")[0]},replaceAttr:function(a,h,f){return f=this.block.removeAttr(a,f),d(f).attr(a,h)[0]},toggleAttr:function(a,h,f){f=this.block.getBlocks(f);var g=this,e=[];return d.each(f,function(m,p){d(p).attr(a)?e.push(g.block.removeAttr(a,p)):e.push(g.block.addAttr(a,h,p))}),e},addAttr:function(a,h,
f){return d(this.block.getBlocks(f)).attr(a,h)[0]},removeAttr:function(a,h){return d(this.block.getBlocks(h)).removeAttr(a)[0]},removeAllAttr:function(a){a=this.block.getBlocks(a);var h=[];return d.each(a,function(f,g){if(void 0!==g.attributes)for(;g.attributes.length;)g.removeAttribute(g.attributes[0].name);h.push(g)}),h}}},buffer:function(){return{set:function(a){void 0===a&&this.buffer.clear();void 0===a||"undo"===a?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){var a=this.selection.saveInstant(),
h=this.sBuffer[this.sBuffer.length-1],f=this.core.editor().html();void 0!==h&&h[0]===f||this.sBuffer.push([f,a])},setRedo:function(){var a=this.selection.saveInstant();this.sRebuffer.push([this.core.editor().html(),a])},add:function(){this.sBuffer.push([this.core.editor().html(),0])},undo:function(){var a;0!==this.sBuffer.length&&(a=this.sBuffer.pop(),this.buffer.set("redo"),this.core.editor().html(a[0]),this.selection.restoreInstant(a[1]),this.selection.restore(),this.observe.load(),this.code.sync())},
redo:function(){var a;0!==this.sRebuffer.length&&(a=this.sRebuffer.pop(),this.buffer.set("undo"),this.core.editor().html(a[0]),this.selection.restoreInstant(a[1]),this.selection.restore(),this.observe.load(),this.code.sync())},clear:function(){this.sRebuffer=[]}}},build:function(){return{start:function(){"inline"===this.opts.type?this.opts.type="inline":"div"===this.opts.type?(""===d.trim(this.$editor.html())&&this.$editor.html(this.opts.emptyHtml),this.build.buildTextarea()):"textarea"===this.opts.type&&
this.build.startTextarea();this.build.setIn();this.build.setId();this.build.enableEditor();this.build.setOptions();this.build.callEditor()},createContainerBox:function(){this.$box=d('<div class="redactor-box" role="application" />')},setIn:function(){this.core.editor().addClass("redactor-in")},setId:function(){var a="textarea"===this.opts.type?"redactor-uuid-"+this.uuid:this.$element.attr("id");this.core.editor().attr("id",void 0===a?"redactor-uuid-"+this.uuid:a)},getName:function(){var a=this.$element.attr("name");
return void 0===a?"content-"+this.uuid:a},buildTextarea:function(){this.$textarea=d("<textarea>");this.$textarea.attr("name",this.build.getName());this.$textarea.hide();this.$element.after(this.$textarea);this.build.setStartAttrs()},loadFromTextarea:function(){this.$editor=d("<div />");this.$textarea=this.$element;this.$element.attr("name",this.build.getName());this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element);this.build.setStartAttrs();this.$editor.addClass("redactor-layer");
this.opts.overrideStyles&&this.$editor.addClass("redactor-styles");this.$element.hide();this.$box.prepend('<span class="redactor-voice-label" id="redactor-voice-'+this.uuid+'" aria-hidden="false">'+this.lang.get("accessibility-help-label")+"</span>")},setStartAttrs:function(){this.$editor.attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},startTextarea:function(){this.build.createContainerBox();this.build.loadFromTextarea();this.code.start(this.core.textarea().val());this.core.textarea().val(this.clean.onSync(this.$editor.html()))},
isTag:function(a){return this.$element[0].tagName===a},isInline:function(){return!this.build.isTag("TEXTAREA")&&!this.build.isTag("DIV")&&!this.build.isTag("PRE")},enableEditor:function(){this.core.editor().attr({contenteditable:!0})},setOptions:function(){"inline"===this.opts.type&&(this.opts.enterKey=!1);"inline"!==this.opts.type&&"pre"!==this.opts.type||(this.opts.toolbarMobile=!1,this.opts.toolbar=!1,this.opts.air=!1,this.opts.linkify=!1);this.core.editor().attr("spellcheck",this.opts.spellcheck);
this.opts.structure&&this.core.editor().addClass("redactor-structure");this.opts.stylesClass&&this.core.editor().addClass(this.opts.stylesClass);"textarea"===this.opts.type&&(this.core.box().attr("dir",this.opts.direction),this.core.editor().attr("dir",this.opts.direction),this.opts.tabindex&&this.core.editor().attr("tabindex",this.opts.tabindex),this.opts.minHeight?this.core.editor().css("min-height",this.opts.minHeight):this.core.editor().css("min-height","40px"),this.opts.maxHeight&&this.core.editor().css("max-height",
this.opts.maxHeight),this.opts.maxWidth)&&this.core.editor().css({"max-width":this.opts.maxWidth,margin:"auto"})},callEditor:function(){this.build.disableBrowsersEditing();this.events.init();this.build.setHelpers();(this.opts.toolbar||this.opts.air)&&(this.toolbarsButtons=this.button.init());this.opts.air?this.air.build():this.opts.toolbar&&this.toolbar.build();this.detect.isMobile()&&this.opts.toolbarMobile&&this.opts.air&&(this.opts.toolbar=!0,this.toolbar.build());(this.opts.air||this.opts.toolbar)&&
(this.core.editor().on("mouseup.redactor-observe."+this.uuid+" keyup.redactor-observe."+this.uuid+" focus.redactor-observe."+this.uuid+" touchstart.redactor-observe."+this.uuid,d.proxy(this.observe.toolbar,this)),this.core.element().on("blur.callback.redactor",d.proxy(function(){this.button.setInactiveAll()},this)));this.modal.templates();this.build.plugins();this.autosave.init();this.code.html=this.code.cleaned(this.core.editor().html());this.core.callback("init");this.core.callback("initToEdit");
this.storage.observe();this.start=!1},setHelpers:function(){this.opts.linkify&&this.linkify.format();this.placeholder.init();this.opts.focus?setTimeout(this.focus.start,100):this.opts.focusEnd&&setTimeout(this.focus.end,100)},disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",!1,!1)}catch(a){}},plugins:function(){this.opts.plugins&&d.each(this.opts.plugins,d.proxy(function(a,
h){a=void 0!==RedactorPlugins&&void 0!==RedactorPlugins[h]?RedactorPlugins:N.fn;if(d.isFunction(a[h])){this[h]=a[h]();for(var f,g=this.getModuleMethods(this[h]),e=g.length,m=0;m<e;m++)this[h][g[m]]=this[h][g[m]].bind(this);void 0!==this[h].langs&&(a={},void 0!==this[h].langs[this.opts.lang]?a=this[h].langs[this.opts.lang]:void 0===this[h].langs[this.opts.lang]&&void 0!==this[h].langs.en&&(a=this[h].langs.en),f=this,d.each(a,function(p,u){void 0===f.opts.curLang[p]&&(f.opts.curLang[p]=u)}));d.isFunction(this[h].init)&&
this[h].init()}},this))}}},button:function(){return{toolbar:function(){return(void 0!==this.button.$toolbar&&this.button.$toolbar?this.button:this).$toolbar},init:function(){return{format:{title:this.lang.get("format"),icon:!0,dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{title:this.lang.get("code"),func:"block.format"},h1:{title:this.lang.get("heading1"),func:"block.format"},h2:{title:this.lang.get("heading2"),
func:"block.format"},h3:{title:this.lang.get("heading3"),func:"block.format"},h4:{title:this.lang.get("heading4"),func:"block.format"},h5:{title:this.lang.get("heading5"),func:"block.format"},h6:{title:this.lang.get("heading6"),func:"block.format"}}},bold:{title:this.lang.get("bold-abbr"),icon:!0,label:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic-abbr"),icon:!0,label:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted-abbr"),icon:!0,
label:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline-abbr"),icon:!0,label:this.lang.get("underline"),func:"inline.format"},lists:{title:this.lang.get("lists"),icon:!0,dropdown:{unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+this.lang.get("outdent"),func:"indent.decrease",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive",
"aria-disabled":!0}}}},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},ul:{title:"&bull; "+this.lang.get("bulletslist"),icon:!0,func:"list.toggle"},ol:{title:"1. "+this.lang.get("numberslist"),icon:!0,func:"list.toggle"},outdent:{title:this.lang.get("outdent"),icon:!0,func:"indent.decrease"},indent:{title:this.lang.get("indent"),icon:!0,func:"indent.increase"},image:{title:this.lang.get("image"),
icon:!0,func:"image.show"},file:{title:this.lang.get("file"),icon:!0,func:"file.show"},link:{title:this.lang.get("link"),icon:!0,dropdown:{link:{title:this.lang.get("link-insert"),func:"link.show",observe:{element:"a",in:{title:this.lang.get("link-edit")},out:{title:this.lang.get("link-insert")}}},unlink:{title:this.lang.get("unlink"),func:"link.unlink",observe:{element:"a",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},horizontalrule:{title:this.lang.get("horizontalrule"),
icon:!0,func:"line.insert"}}},setFormatting:function(){d.each(this.toolbarsButtons.format.dropdown,d.proxy(function(a,h){-1===d.inArray(a,this.opts.formatting)&&delete this.toolbarsButtons.format.dropdown[a]},this))},hideButtons:function(){0!==this.opts.buttonsHide.length&&this.button.hideButtonsSlicer(this.opts.buttonsHide)},hideButtonsOnMobile:function(){this.detect.isMobile()&&0!==this.opts.buttonsHideOnMobile.length&&this.button.hideButtonsSlicer(this.opts.buttonsHideOnMobile)},hideButtonsSlicer:function(a){d.each(a,
d.proxy(function(h,f){f=this.opts.buttons.indexOf(f);-1!==f&&this.opts.buttons.splice(f,1)},this))},load:function(a){this.button.buttons=[];d.each(this.opts.buttons,d.proxy(function(h,f){!this.toolbarsButtons[f]||"file"===f&&!this.file.is()||"image"===f&&!this.image.is()||a.append(d("<li>").append(this.button.build(f,this.toolbarsButtons[f])))},this))},buildButtonTooltip:function(a,h){var f,g,e;this.opts.air||this.detect.isMobile()||((f=d("<span>")).addClass("re-button-tooltip"),f.html(h),(h=0===
(h=(e=(g=this).button.toolbar()).closest(".redactor-toolbar-box")).length?e:h).prepend(f),a.on("mouseover",function(){var m,p,u,c,l,n;d(this).hasClass("redactor-button-disabled")||(m=e.hasClass("toolbar-fixed-box")?a.offset():a.position(),m=g.opts.toolbarFixedTarget!==document?a.position():m,p=e.hasClass("toolbar-fixed-box")?a.position().top+g.opts.toolbarFixedTopOffset:m.top,u=a.innerHeight(),c=a.innerWidth(),l=e.hasClass("toolbar-fixed-box")?"fixed":"absolute",l=g.opts.toolbarFixedTarget!==document?
"absolute":l,n=g.opts.toolbarFixedTarget!==document?e.position().top:0,f.show(),f.css({top:p+u+n+"px",left:m.left+c/2-f.innerWidth()/2+"px",position:l}))}).on("mouseout",function(){f.hide()}))},build:function(a,h){var f,g,e;if(!1!==this.opts.toolbar)return f=void 0!==h.label?h.label:h.title,(g=d('<a href="javascript:void(null);" alt="'+f+'" rel="'+a+'" />')).addClass("re-button re-"+a),g.attr({role:"button","aria-label":f,tabindex:"-1"}),void 0===h.icon||this.opts.buttonsTextLabeled?g.html(h.title):
((e=d("<i>")).addClass("re-icon-"+a),g.append(e),g.addClass("re-button-icon"),this.button.buildButtonTooltip(g,f)),(h.func||h.command||h.dropdown)&&this.button.setEvent(g,a,h),h.dropdown&&(g.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0),e=d('<ul class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+a+'" style="display: none;">'),g.data("dropdown",e),this.dropdown.build(a,e,h.dropdown)),this.button.buttons.push(g),g},getButtons:function(){return this.button.toolbar().find("a.re-button")},
getButtonsKeys:function(){return this.button.buttons},setEvent:function(a,h,f){a.on("mousedown",d.proxy(function(g){var e,m;return g.preventDefault(),a.hasClass("redactor-button-disabled")||(e="func",m=f.func,f.command?(e="command",m=f.command):f.dropdown&&(m=!(e="dropdown")),this.button.toggle(g,h,e,m)),!1},this))},toggle:function(a,h,f,g,e){!this.detect.isIe()&&this.detect.isDesktop()||(this.utils.freezeScroll(),a.returnValue=!1);"command"===f?this.inline.format(g):"dropdown"===f?this.dropdown.show(a,
h):this.button.clickCallback(a,g,h,e);"dropdown"!==f&&this.dropdown.hideAll(!1);this.opts.air&&"dropdown"!==f&&this.air.hide(a);!this.detect.isIe()&&this.detect.isDesktop()||this.utils.unfreezeScroll()},clickCallback:function(a,h,f,g){if(g=void 0===g?f:g,d.isFunction(h))h.call(this,f);else if("-1"!==h.search(/\./)){if(void 0===this[(h=h.split("."))[0]])return;"object"==typeof g?this[h[0]][h[1]].apply(this,g):this[h[0]][h[1]].call(this,g)}else"object"==typeof g?this[h].apply(this,g):this[h].call(this,
g);this.observe.buttons(a,f)},all:function(){return this.button.buttons},get:function(a){if(!1!==this.opts.toolbar)return this.button.toolbar().find("a.re-"+a)},set:function(a,h){if(!1!==this.opts.toolbar)return(a=this.button.toolbar().find("a.re-"+a)).html(h).attr("aria-label",h),a},add:function(a,h){return!0!==this.button.isAdded(a)?d():(a=this.button.build(a,{title:h}),this.button.toolbar().append(d("<li>").append(a)),a)},addFirst:function(a,h){return!0!==this.button.isAdded(a)?d():(a=this.button.build(a,
{title:h}),this.button.toolbar().prepend(d("<li>").append(a)),a)},addAfter:function(a,h,f){return!0!==this.button.isAdded(h)?d():(h=this.button.build(h,{title:f}),0!==(f=this.button.get(a)).length?f.parent().after(d("<li>").append(h)):this.button.toolbar().append(d("<li>").append(h)),h)},addBefore:function(a,h,f){return!0!==this.button.isAdded(h)?d():(h=this.button.build(h,{title:f}),0!==(f=this.button.get(a)).length?f.parent().before(d("<li>").append(h)):this.button.toolbar().append(d("<li>").append(h)),
h)},isAdded:function(a){a=this.opts.buttonsHideOnMobile.indexOf(a);return!(!1===this.opts.toolbar||-1!==a&&this.detect.isMobile())},setIcon:function(a,h){this.opts.buttonsTextLabeled||(a.html(h).addClass("re-button-icon"),this.button.buildButtonTooltip(a,a.attr("alt")))},changeIcon:function(a,h){a=this.button.get(a);0!==a.length&&a.find("i").removeAttr("class").addClass("re-icon-"+h)},addCallback:function(a,h){var f,g;void 0!==a&&!1!==this.opts.toolbar&&(f="dropdown"===h?"dropdown":"func",g=a.attr("rel"),
a.on("mousedown",d.proxy(function(e){if(a.hasClass("redactor-button-disabled"))return!1;this.button.toggle(e,g,f,h)},this)))},addDropdown:function(a,h){var f,g;if(!1!==this.opts.toolbar)return a.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0),f=a.attr("rel"),this.button.addCallback(a,"dropdown"),g=d('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+f+'" style="display: none;">'),a.data("dropdown",g),h&&this.dropdown.build(f,g,h),g},setActive:function(a){this.button.get(a).addClass("redactor-act")},
setInactive:function(a){this.button.get(a).removeClass("redactor-act")},setInactiveAll:function(a){var h=this.button.toolbar().find("a.re-button");(void 0!==a?h.not(".re-"+a):h).removeClass("redactor-act")},disable:function(a){this.button.get(a).addClass("redactor-button-disabled")},enable:function(a){this.button.get(a).removeClass("redactor-button-disabled")},disableAll:function(a){var h=this.button.toolbar().find("a.re-button");(void 0!==a?h.not(".re-"+a):h).addClass("redactor-button-disabled")},
enableAll:function(){this.button.toolbar().find("a.re-button").removeClass("redactor-button-disabled")},remove:function(a){this.button.get(a).remove()}}},caret:function(){return{set:function(a,h,f){var g=this.core.editor().scrollTop();g=(this.core.editor().focus(),this.core.editor().scrollTop(g),f=void 0===f?0:1,a=a[0]||a,h=h[0]||h,this.selection.get());var e=this.selection.range(g);try{e.setStart(a,0),e.setEnd(h,f)}catch(m){}this.selection.update(g,e)},prepare:function(a){return this.detect.isFirefox()&&
void 0!==this.start&&this.core.editor().focus(),a[0]||a},start:function(a){var h,f;if(a=this.caret.prepare(a))return"BR"===a.tagName?this.caret.before(a):(h=d(a).children().first(),f=this.utils.isInlineTag(a.tagName),void(""===a.innerHTML||f?this.caret.setStartEmptyOrInline(a,f):h&&0!==h.length&&this.utils.isInlineTag(h[0].tagName)&&""===h.text()?this.caret.setStartEmptyOrInline(h[0],!0):((f=window.getSelection()).removeAllRanges(),(h=document.createRange()).selectNodeContents(a),h.collapse(!0),f.addRange(h))))},
setStartEmptyOrInline:function(a,h){var f=window.getSelection(),g=document.createRange(),e=document.createTextNode("\u200b");g.setStart(a,0);g.insertNode(e);g.setStartAfter(e);g.collapse(!0);f.removeAllRanges();f.addRange(g);h||this.core.editor().on("keydown.redactor-remove-textnode",function(){d(e).remove();d(this).off("keydown.redactor-remove-textnode")})},end:function(a){var h,f,g;if(a=this.caret.prepare(a)){if("BR"!==a.tagName&&""===a.innerHTML)return this.caret.start(a);if("BR"===a.tagName)(h=
document.createElement("span")).className="redactor-invisible-space",h.innerHTML="&#x200b;",d(a).after(h),(f=window.getSelection()).removeAllRanges(),(g=document.createRange()).setStartBefore(h),g.setEndBefore(h),f.addRange(g),d(h).replaceWith(function(){return d(this).contents()});else{if(a.lastChild&&1===a.lastChild.nodeType)return this.caret.after(a.lastChild);if((f=window.getSelection()).getRangeAt||f.rangeCount)try{(g=f.getRangeAt(0)).selectNodeContents(a),g.collapse(!1),f.removeAllRanges(),
f.addRange(g)}catch(e){}}}},after:function(a){var h,f,g;if(a=this.caret.prepare(a)){if("BR"===a.tagName)return this.caret.end(a);this.utils.isBlockTag(a.tagName)?void 0===(f=this.caret.next(a))?this.caret.end(a):("TABLE"===f.tagName?f=d(f).find("th, td").first()[0]:"UL"!==f.tagName&&"OL"!==f.tagName||(f=d(f).find("li").first()[0]),this.caret.start(f)):(f=document.createTextNode("\u200b"),(g=window.getSelection()).removeAllRanges(),(h=document.createRange()).setStartAfter(a),h.insertNode(f),h.setStartAfter(f),
h.collapse(!0),g.addRange(h))}},before:function(a){var h,f;(a=this.caret.prepare(a))&&(this.utils.isBlockTag(a.tagName)?void 0===(f=this.caret.prev(a))?this.caret.start(a):("TABLE"===f.tagName?f=d(f).find("th, td").last()[0]:"UL"!==f.tagName&&"OL"!==f.tagName||(f=d(f).find("li").last()[0]),this.caret.end(f)):((f=window.getSelection()).removeAllRanges(),(h=document.createRange()).setStartBefore(a),h.collapse(!0),f.addRange(h)))},next:function(a){a=d(a).next();return(a.hasClass("redactor-script-tag, redactor-selection-marker")?
a.next():a)[0]},prev:function(a){a=d(a).prev();return(a.hasClass("redactor-script-tag, redactor-selection-marker")?a.prev():a)[0]},offset:function(a){return this.offset.get(a)}}},clean:function(){return{onSet:function(a){a=this.clean.savePreCode(a);a=this.clean.saveFormTags(a);this.opts.script&&(a=a.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,'<pre class="redactor-script-tag" $1>$2</pre>'));a=(a=(a=(a=(a=this.opts.style?a.replace(/<style(.*?[^>]?)>([\w\W]*?)<\/style>/gi,'<pre class="redactor-style-tag" $1>$2</pre>'):
a).replace(/\$/g,"&#36;")).replace(/<a href="(.*?[^>]?)\u00ae(.*?[^>]?)">/gi,'<a href="$1&reg$2">')).replace(/<span id="selection-marker-1"(.*?[^>]?)>\u200b<\/span>/gi,"###marker1###")).replace(/<span id="selection-marker-2"(.*?[^>]?)>\u200b<\/span>/gi,"###marker2###");var h=this,f=d("<div/>").html(d.parseHTML(a,document,!0)),g=this.opts.replaceTags,e=(g&&(e=Object.keys(this.opts.replaceTags),f.find(e.join(",")).each(function(m,p){h.utils.replaceToTag(p,g[p.tagName.toLowerCase()])})),f.find("span, a").attr("data-redactor-span",
!0),f.find(this.opts.inlineTags.join(",")).each(function(){var m=d(this);m.attr("style")&&m.attr("data-redactor-style-cache",m.attr("style"))}),a=f.html(),"font html head link body meta applet".split(" "));return this.opts.script||e.push("script"),this.opts.style||e.push("style"),a=this.clean.stripTags(a,e),this.opts.removeComments&&(a=a.replace(/\x3c!--[\s\S]*?--\x3e/gi,"")),-1!==(a=(a=(a=this.paragraphize.load(a)).replace("###marker1###",'<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>')).replace("###marker2###",
'<span id="selection-marker-2" class="redactor-selection-marker">\u200b</span>')).search(/^(||\s||<br\s?\/?>||&nbsp;)$/i)?this.opts.emptyHtml:a},onGet:function(a){return this.clean.onSync(a)},onSync:function(a){if(-1!==(a=(a=a.replace(/\u200B/g,"")).replace(/&#x200b;/gi,"")).search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";a=(a=(a=(a=a.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>")).replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,
"")).replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,"")).replace(/<img(.*?)style="(.*?)opacity: 0\.5;(.*?)"(.*?)>/gi,'<img$1style="$2$3"$4>');var h=d("<div/>").html(d.parseHTML(a,document,!0));h.find('*[style=""]').removeAttr("style");h.find('*[class=""]').removeAttr("class");h.find('*[rel=""]').removeAttr("rel");h.find('*[data-image=""]').removeAttr("data-image");h.find('*[alt=""]').removeAttr("alt");h.find('*[title=""]').removeAttr("title");h.find("*[data-redactor-style-cache]").removeAttr("data-redactor-style-cache");
h.find(".redactor-invisible-space, .redactor-unlink").each(function(){d(this).contents().unwrap()});h.find("span, a").removeAttr("data-redactor-span data-redactor-style-cache").each(function(){0===this.attributes.length&&d(this).contents().unwrap()});h.find("img").removeAttr("rel");h.find(".redactor-selection-marker, #redactor-insert-marker").remove();a=h.html();this.opts.script&&(a=a.replace(/<pre class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2\x3c/script>"));this.opts.style&&
(a=a.replace(/<pre class="redactor-style-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<style$1>$2</style>"));a=(a=(a=(a=(a=this.clean.restoreFormTags(a)).replace(RegExp("<br\\s?/?></h","gi"),"</h")).replace(RegExp("<br\\s?/?></li>","gi"),"</li>")).replace(RegExp("</li><br\\s?/?>","gi"),"</li>")).replace(/<pre>/gi,"<pre>\n");this.opts.preClass&&(a=a.replace(/<pre>/gi,'<pre class="'+this.opts.preClass+'">'));this.opts.linkNofollow&&(a=(a=a.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,"<a$1$2>")).replace(/<a(.*?[^>])>/gi,
'<a$1 rel="nofollow">'));return d.each({"\u2122":"&trade;","\u00a9":"&copy;","\u2026":"&hellip;","\u2014":"&mdash;","\u2010":"&dash;"},function(f,g){a=a.replace(new RegExp(f,"g"),g)}),a=a.replace(/\n{2,}/g,"\n\n"),this.opts.removeNewlines&&(a=a.replace(/\r?\n/g,"")),a=this.core.callback("syncClean",a)},onPaste:function(a,h,f){var g,e;return!0!==f&&(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2")).replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,
"$3")).replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*(font-style: italic; font-weight: 700|font-weight: 700; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*font-style: italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>")).replace(/<span[^>]*font-weight: bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>")).replace(/<span[^>]*font-weight: 700[^>]*>([\w\W]*?)<\/span>/gi,
"<b>$1</b>")).replace(/<o:p[^>]*>/gi,"")).replace(/<\/o:p>/gi,""),this.clean.isHtmlMsWord(a))&&(a=this.clean.cleanMsWord(a)),a=d.trim(a),h.pre?this.opts.preSpaces&&(a=a.replace(/\t/g,Array(this.opts.preSpaces+1).join(" "))):(0<=a.indexOf("<p")&&0<=a.indexOf("<br")&&(g=d("<div>").html(a),e=this,g.find("p").each(function(){var m=d(this),p=d.trim(m.html().replace(/\n/g," "));0<=p.indexOf("<br")&&d.trim(e.clean.replaceBrToNl(p))&&m.html(p.replace(/\s*<br\s?\/?>\s*/gi,'<br data-keepbr="1">\n'))}),a=g.html()),
a=this.clean.replaceBrToNl(a),a=this.clean.replaceNbspToSpaces(a),a=this.clean.removeTagsInsidePre(a)),!0!==f&&(a=this.clean.removeEmptyInlineTags(a),!1===h.encode)&&(a=a.replace(/&/g,"&amp;"),a=this.clean.convertTags(a,h),a=this.clean.getPlainText(a),a=this.clean.reconvertTags(a,h)),h.text&&(a=this.clean.replaceNbspToSpaces(a),a=this.clean.getPlainText(a)),h.lists&&(a=a.replace("\n","<br>")),h.encode&&(a=this.clean.encodeHtml(a)),h.paragraphize&&(a=(a=a.replace(/ \n/g," ")).replace(/\n /g," "),a=
(a=this.paragraphize.load(a)).replace(/<p>\s*<\/p>/g,"")),a=(a=a.replace(/<li>\s*<p>/g,"<li>")).replace(/<\/p>\s*<\/li>/g,"</li>"),a=h.pre?a:a.replace(/\n|\r/g," ")},getCurrentType:function(a,h){var f=this.selection.blocks();a={text:!1,encode:!1,paragraphize:!0,line:this.clean.isHtmlLine(a),blocks:this.clean.isHtmlBlocked(a),pre:!1,lists:!1,block:!0,inline:!0,links:!0,images:!0};return 1===f.length&&this.utils.isCurrentOrParent("h1 h2 h3 h4 h5 h6 a figcaption".split(" "))?(a.text=!0,a.paragraphize=
!1,a.inline=!1,a.images=!1,a.links=!1,a.line=!0):"inline"===this.opts.type||!1===this.opts.enterKey?(a.paragraphize=!1,a.block=!1,a.line=!0):1===f.length&&this.utils.isCurrentOrParent(["li"])?(a.lists=!0,a.block=!1,a.paragraphize=!1,a.images=!0):1===f.length&&this.utils.isCurrentOrParent(["th","td","blockquote"])?(a.block=!1,a.paragraphize=!1):("pre"===this.opts.type||1===f.length&&this.utils.isCurrentOrParent("pre"))&&(a.inline=!1,a.block=!1,a.encode=!0,a.pre=!0,a.paragraphize=!1,a.images=!1,a.links=
!1),!0===a.line&&(a.paragraphize=!1),!0===h&&(a.text=!1),a},isHtmlBlocked:function(a){var h=a.match(new RegExp("</("+this.opts.blockTags.join("|").toUpperCase()+")>","gi"));a=a.match(RegExp("<hr(.*?[^>])>","gi"));return null!==h||null!==a},isHtmlLine:function(a){var h;return!this.clean.isHtmlBlocked(a)&&(h=a.match(/<br\s?\/?>/gi),a=a.match(/\n/gi),!h)&&!a},isHtmlMsWord:function(a){return a.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},removeEmptyInlineTags:function(a){var h=
this.opts.inlineTags,f=d("<div/>").html(d.parseHTML(a,document,!0)),g=this,e=f.find("span");h=f.find(h.join(","));return h.removeAttr("style"),h.each(function(){var m=d(this).html();0===this.attributes.length&&g.utils.isEmpty(m)&&d(this).replaceWith(function(){return d(this).contents()})}),e.each(function(){d(this).html();0===this.attributes.length&&d(this).replaceWith(function(){return d(this).contents()})}),a=(a=(a=(a=f.html()).replace("\x3c!--?php","<?php")).replace("\x3c!--?","<?")).replace("?--\x3e",
"?>"),f.remove(),a},cleanMsWord:function(a){a=(a=(a=(a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,"")).replace(/<o:p>[\s\S]*?<\/o:p>/gi,"")).replace(/\n/g," ")).replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n\n");var h=d("<div/>").html(a),f=!1,g=1,e=[];return h.find("p[style]").each(function(){var m=d(this).attr("style").match(/mso\-list:l([0-9]+)\slevel([0-9]+)/);if(m){var p=parseInt(m[1]),u=parseInt(m[2]),c=d(this).html().match(/^[\w]+\./)?"ol":"ul";m=d("<li/>").html(d(this).html());if(m.html(m.html().replace(/^([\w\.]+)</,
"<")),m.find("span:first").remove(),1==u&&-1==d.inArray(p,e)){var l=d("<"+c+"/>").attr({"data-level":u,"data-list":p}).html(m);d(this).replaceWith(l);f=p;e.push(p)}else{if(g<u){for(var n=h.find('[data-level="'+g+'"][data-list="'+f+'"]'),w=g;w<u;w++)(l=d("<"+c+"/>")).appendTo(n.find("li").last()),n=l;n.attr({"data-level":u,"data-list":p}).html(m)}else h.find('[data-level="'+u+'"][data-list="'+p+'"]').last().append(m);g=u;f=p;d(this).remove()}}}),h.find("[data-level][data-list]").removeAttr("data-level data-list"),
a=h.html()},replaceNbspToSpaces:function(a){return a.replace(/&nbsp;/gi," ")},replaceBrToNl:function(a){return a.replace(/<br\s?\/?>/gi,"\n")},replaceNlToBr:function(a){return a.replace(/\n/g,"<br />")},convertTags:function(a,h){var f=d("<div>").html(a),g=(f.find("iframe").remove(),f.find("a"));if(g.removeAttr("style"),!1!==this.opts.pasteLinkTarget&&g.attr("target",this.opts.pasteLinkTarget),h.links&&this.opts.pasteLinks&&f.find("a").each(function(e,m){if(m.href){var p;e='##%%a href="'+m.href+'"';
for(var u=0,c=m.attributes.length;u<c;u++)"href"!==(p=m.attributes.item(u)).name&&(e+=" "+p.name+'="'+p.value+'"');m.outerHTML=e+"%%##"+m.innerHTML+"##%%/a%%##"}}),a=f.html(),h.images&&this.opts.pasteImages&&(a=a.replace(/<img(.*?)src="(.*?)"(.*?[^>])>/gi,'##%%img$1src="$2"$3%%##')),!this.opts.pastePlainText)for(g=h.lists?["ul","ol","li"]:this.opts.pasteBlockTags,h=h.block||h.lists?h.inline?g.concat(this.opts.pasteInlineTags):g:h.inline?this.opts.pasteInlineTags:[],f=h.length,g=0;g<f;g++)a=a.replace(new RegExp("</"+
h[g]+">","gi"),"###/"+h[g]+"###"),a="td"===h[g]||"th"===h[g]?a.replace(new RegExp("<"+h[g]+'(.*?[^>])((colspan|rowspan)="(.*?[^>])")?(.*?[^>])>',"gi"),"###"+h[g]+" $2###"):(this.utils.isInlineTag(h[g])?a=(a=a.replace(new RegExp("<"+h[g]+'([^>]*)class="([^>]*)"[^>]*>',"gi"),"###"+h[g]+' class="$2"###')).replace(new RegExp("<"+h[g]+'([^>]*)data-redactor-style-cache="([^>]*)"[^>]*>',"gi"),"###"+h[g]+' cache="$2"###'):a).replace(new RegExp("<"+h[g]+"[^>]*>","gi"),"###"+h[g]+"###");return a},reconvertTags:function(a,
h){if((h.links&&this.opts.pasteLinks||h.images&&this.opts.pasteImages)&&(a=(a=a.replace(RegExp("##%%","gi"),"<")).replace(RegExp("%%##","gi"),">")),!this.opts.pastePlainText){var f=h.lists?["ul","ol","li"]:this.opts.pasteBlockTags;h=h.block||h.lists?h.inline?f.concat(this.opts.pasteInlineTags):f:h.inline?this.opts.pasteInlineTags:[];f=h.length;for(var g=0;g<f;g++)a=a.replace(new RegExp("###/"+h[g]+"###","gi"),"</"+h[g]+">");for(g=0;g<f;g++)a=a.replace(new RegExp("###"+h[g]+"###","gi"),"<"+h[g]+">");
var e;for(g=0;g<f;g++)"td"===h[g]||"th"===h[g]?a=a.replace(new RegExp("###"+h[g]+"s?(.*?[^#])###","gi"),"<"+h[g]+"$1>"):this.utils.isInlineTag(h[g])&&(e="span"===h[g]?' data-redactor-span="true"':"",a=(a=a.replace(new RegExp("###"+h[g]+' cache="(.*?[^#])"###',"gi"),"<"+h[g]+' style="$1"'+e+' data-redactor-style-cache="$1">')).replace(new RegExp("###"+h[g]+"s?(.*?[^#])###","gi"),"<"+h[g]+"$1>"))}return a},cleanPre:function(a){a=void 0===a?d(this.selection.block()).closest("pre",this.core.editor()[0]):
a;d(a).find("br").replaceWith(function(){return document.createTextNode("\n")});d(a).find("p").replaceWith(function(){return d(this).contents()})},removeTagsInsidePre:function(a){var h=d("<div />").append(a);return h.find("pre").replaceWith(function(){var f=d(this).html();return f=(f=f.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n")).replace(/(<([^>]+)>)/gi,""),d("<pre />").append(f)}),a=h.html(),h.remove(),a},getPlainText:function(a){a=(a=(a=(a=(a=(a=a.replace(/\x3c!--[\s\S]*?--\x3e/gi,
"")).replace(/<style[\s\S]*?style>/gi,"")).replace(/<p><\/p>/g,"")).replace(/<\/div>|<\/li>|<\/td>/gi,"\n")).replace(/<\/p>/gi,"\n\n")).replace(/<\/H[1-6]>/gi,"\n\n");var h=document.createElement("div");return h.innerHTML=a,a=h.textContent||h.innerText,d.trim(a)},savePreCode:function(a){return a=this.clean.savePreFormatting(a),a=this.clean.saveCodeFormatting(a),this.clean.restoreSelectionMarkers(a)},savePreFormatting:function(a){var h=a.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return null!==h&&d.each(h,
d.proxy(function(f,g){var e,m,p;f=[];var u=!1;g.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>/i)?(u=!0,e=(f=g.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>([\w\W]*?)<\/code>(([\n\r\s]+)?)<\/pre>/i))[5],m=f[1],p=f[4]):(e=(f=g.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i))[2],m=f[1]);e=(e=e.replace(/<br\s?\/?>/g,"\n")).replace(/&nbsp;/g," ");this.opts.preSpaces&&(e=e.replace(/\t/g,Array(this.opts.preSpaces+1).join(" ")));e=(e=this.clean.encodeEntities(e)).replace(/\$/g,"&#36;");a=u?a.replace(g,"<pre"+m+"><code"+
p+">"+e+"</code></pre>"):a.replace(g,"<pre"+m+">"+e+"</pre>")},this)),a},saveCodeFormatting:function(a){var h=a.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);return null!==h&&d.each(h,d.proxy(function(f,g){f=g.match(/<code(.*?)>([\w\W]*?)<\/code>/i);f[2]=f[2].replace(/&nbsp;/g," ");f[2]=this.clean.encodeEntities(f[2]);f[2]=f[2].replace(/\$/g,"&#36;");a=a.replace(g,"<code"+f[1]+">"+f[2]+"</code>")},this)),a},restoreSelectionMarkers:function(a){return a.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot;&gt;\u200b&lt;\/span&gt;/g,
'<span id="selection-marker-$1" class="redactor-selection-marker">\u200b</span>')},saveFormTags:function(a){return a.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(a){return a.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")},encodeHtml:function(a){return a=(a=(a=(a=a.replace(/\u201d/g,'"')).replace(/\u201c/g,'"')).replace(/\u2018/g,"'")).replace(/\u2019/g,"'"),this.clean.encodeEntities(a)},
encodeEntities:function(a){return String(a).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},stripTags:function(a,h){return void 0===h?a.replace(/(<([^>]+)>)/gi,""):a.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(f,g){return-1===h.indexOf(g.toLowerCase())?f:""})},removeMarkers:function(a){return a.replace(/<span(.*?[^>]?)class="redactor-selection-marker"(.*?[^>]?)>([\w\W]*?)<\/span>/gi,
"")},removeSpaces:function(a){return d.trim(a).replace(/\n/g,"").replace(/[\t]*/g,"").replace(/\n\s*\n/g,"\n").replace(/^[\s\n]*/g," ").replace(/[\s\n]*$/g," ").replace(/>\s{2,}</g,"> <").replace(/\n\n/g,"\n").replace(/\u200B/g,"")},removeSpacesHard:function(a){return d.trim(a).replace(/\n/g,"").replace(/[\t]*/g,"").replace(/\n\s*\n/g,"\n").replace(/^[\s\n]*/g,"").replace(/[\s\n]*$/g,"").replace(/>\s{2,}</g,"><").replace(/\n\n/g,"\n").replace(/\u200B/g,"")},normalizeCurrentHeading:function(){var a=
this.selection.block();this.utils.isCurrentOrParentHeader()&&a&&a.normalize()}}},code:function(){return{syncFire:!0,html:!1,start:function(a){a=(a=d.trim(a)).replace(/^(<span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span>)/,"");"textarea"===this.opts.type?a=this.clean.onSet(a):"div"===this.opts.type&&""===a&&(a=this.opts.emptyHtml);a=a.replace(/<p><span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span><\/p>/,"");this.events.stopDetectChanges();this.core.editor().html(a);
this.observe.load();this.events.startDetectChanges()},set:function(a,h){a=d.trim(a);(h=h||{}).start&&(this.start=h.start);"textarea"===this.opts.type?a=this.clean.onSet(a):"div"===this.opts.type&&""===a&&(a=this.opts.emptyHtml);this.core.editor().html(a);this.observe.load();"textarea"===this.opts.type&&this.code.sync();this.placeholder.enable()},get:function(){var a;return"textarea"===this.opts.type?this.core.textarea().val():(a=this.core.editor().html(),this.clean.onGet(a))},sync:function(){var a,
h;this.code.syncFire&&(a=this.core.editor().html(),h=this.code.cleaned(a),this.code.isSync(h)||(this.code.html=h,"textarea"!==this.opts.type?(this.core.callback("sync",a),this.core.callback("change",a)):"textarea"===this.opts.type&&setTimeout(d.proxy(function(){this.code.startSync(a)},this),10)))},startSync:function(a){a=this.core.callback("syncBefore",a);a=this.clean.onSync(a);this.core.textarea().val(a);this.core.callback("sync",a);!1===this.start&&this.core.callback("change",a);this.start=!1},
isSync:function(a){var h=!1!==this.code.html&&this.code.html;return!1!==h&&h===a},cleaned:function(a){return a=a.replace(/\u200B/g,""),this.clean.removeMarkers(a)}}},core:function(){return{id:function(){return this.$editor.attr("id")},element:function(){return this.$element},editor:function(){return void 0===this.$editor?d():this.$editor},textarea:function(){return this.$textarea},box:function(){return"textarea"===this.opts.type?this.$box:this.$element},toolbar:function(){return this.$toolbar||!1},
air:function(){return this.$air||!1},object:function(){return d.extend({},this)},structure:function(){this.core.editor().toggleClass("redactor-structure")},addEvent:function(a){this.core.event=a},getEvent:function(){return this.core.event},callback:function(a,h,f){var g,e=!1,m=d._data(this.core.element()[0],"events");if(void 0!==m&&void 0!==m[a])for(var p,u,c=m[a].length,l=0;l<c;l++)"callback.redactor"===m[a][l].namespace&&(p=m[a][l].handler,e=void 0===(u=void 0===f?[h]:[h,f])?p.call(this,h):p.call(this,
h,u));return e||(void 0!==this.opts.callbacks[a]&&(g=this.opts.callbacks[a],d.isFunction(g))?void 0===f?g.call(this,h):g.call(this,h,f):void 0===f?h:f)},destroy:function(){this.opts.destroyed=!0;this.core.callback("destroy");this.placeholder.destroy();this.progress.destroy();d("#redactor-voice-"+this.uuid).remove();this.core.editor().removeClass("redactor-in redactor-styles redactor-structure redactor-layer-img-edit");this.core.editor().off("keydown.redactor-remove-textnode");this.core.editor().off(".redactor-observe."+
this.uuid);this.$element.off(".redactor").removeData("redactor");this.core.editor().off(".redactor");d(document).off(".redactor-dropdown");d(document).off(".redactor-air."+this.uuid);d(document).off("mousedown.redactor-blur."+this.uuid);d(document).off("mousedown.redactor."+this.uuid);d(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid);d(window).off(".redactor-toolbar."+this.uuid);d(window).off("touchmove.redactor."+this.uuid);d("body").off("scroll.redactor."+this.uuid);
d(this.opts.toolbarFixedTarget).off("scroll.redactor."+this.uuid);var a=this,h=(!1!==this.opts.plugins&&d.each(this.opts.plugins,function(f,g){d(window).off(".redactor-plugin-"+g);d(document).off(".redactor-plugin-"+g);d("body").off(".redactor-plugin-"+g);a.core.editor().off(".redactor-plugin-"+g)}),this.$element.off("click.redactor-click-to-edit"),this.$element.removeClass("redactor-click-to-edit"),this.core.editor().removeClass("redactor-layer"),this.core.editor().removeAttr("contenteditable"),
this.code.get());this.opts.toolbar&&this.$toolbar&&this.$toolbar.find("a").each(function(){var f=d(this);f.data("dropdown")&&(f.data("dropdown").remove(),f.data("dropdown",{}))});"textarea"===this.opts.type&&(this.$box.after(this.$element),this.$box.remove(),this.$element.val(h).show());this.opts.air&&this.$air.remove();this.opts.toolbar&&this.$toolbar&&this.$toolbar.remove();this.$modalBox&&this.$modalBox.remove();this.$modalOverlay&&this.$modalOverlay.remove();d(".redactor-link-tooltip").remove();
clearInterval(this.autosaveTimeout)}}},detect:function(){return{isWebkit:function(){return/webkit/.test(this.opts.userAgent)},isFirefox:function(){return-1<this.opts.userAgent.indexOf("firefox")},isIe:function(a){return document.documentMode||/Edge/.test(navigator.userAgent)?"edge":RegExp("msie"+(isNaN(a)?"":"\\s"+a),"i").test(navigator.userAgent)||!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)},isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},
isIpad:function(){return/iPad/.test(navigator.userAgent)},isSafari:function(){return!!window.GestureEvent&&navigator.userAgent.match(/safari/i)}}},dropdown:function(){return{active:!1,button:!1,key:!1,position:[],getDropdown:function(){return this.dropdown.active},build:function(a,h,f){f=this.dropdown.buildFormatting(a,f);d.each(f,d.proxy(function(g,e){var m=this.dropdown.buildItem(g,e);this.observe.addDropdown(m,g,e);h.attr("rel",a).append(m)},this))},buildFormatting:function(a,h){return"format"===
a&&!1!==this.opts.formattingAdd&&d.each(this.opts.formattingAdd,d.proxy(function(f,g){var e=this.utils.isBlockTag(g.args[0])?"block":"inline";h[f]={func:"block"==e?"block.format":"inline.format",args:g.args,title:g.title}},this)),h},buildItem:function(a,h){var f,g,e=d("<li />");return void 0!==h.classname&&e.addClass(h.classname),-1!==a.search(/^divider/i)?e.addClass("redactor-dropdown-divider"):(f=d('<a href="#" class="redactor-dropdown-'+a+'" role="button" />'),g=d("<span />").html(h.title),f.append(g),
f.on("mousedown",d.proxy(function(m){m.preventDefault();this.dropdown.buildClick(m,a,h)},this)),e.append(f)),e},buildClick:function(a,h,f){var g;d(a.target).hasClass("redactor-dropdown-link-inactive")||(g=this.dropdown.buildCommand(f),void 0!==f.args?this.button.toggle(a,h,g.type,g.callback,f.args):this.button.toggle(a,h,g.type,g.callback))},buildCommand:function(a){var h={type:"func"};return h.callback=a.func,a.command?(h.type="command",h.callback=a.command):a.dropdown&&(h.type="dropdown",h.callback=
a.dropdown),h},show:function(a,h){this.detect.isDesktop()&&this.core.editor().focus();this.dropdown.hideAll(!1,h);this.dropdown.key=h;this.dropdown.button=this.button.get(this.dropdown.key);this.dropdown.button.hasClass("dropact")?this.dropdown.hide():(this.dropdown.active=this.dropdown.button.data("dropdown").appendTo(document.body),this.core.callback("dropdownShow",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button}),this.button.setActive(this.dropdown.key),this.dropdown.button.addClass("dropact"),
this.dropdown.getButtonPosition(),this.button.toolbar().hasClass("toolbar-fixed-box")&&this.detect.isDesktop()?this.dropdown.showIsFixedToolbar():this.dropdown.showIsUnFixedToolbar(),this.detect.isDesktop()&&!this.detect.isFirefox()&&(this.dropdown.active.on("mouseover.redactor-dropdown",d.proxy(this.utils.disableBodyScroll,this)),this.dropdown.active.on("mouseout.redactor-dropdown mousedown.redactor-dropdown",d.proxy(this.utils.enableBodyScroll,this))),a.stopPropagation())},showIsFixedToolbar:function(){var a=
this.dropdown.button.position().top+this.dropdown.button.innerHeight()+this.opts.toolbarFixedTopOffset,h="fixed";this.opts.toolbarFixedTarget!==document&&(a=this.dropdown.button.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,h="absolute");this.dropdown.active.css({position:h,left:this.dropdown.position.left+"px",top:a+"px"}).show();this.dropdown.active.redactorAnimation("slideDown",{duration:.2},d.proxy(function(){this.dropdown.enableCallback();this.dropdown.enableEvents()},
this))},showIsUnFixedToolbar:function(){this.dropdown.active.css({position:"absolute",left:this.dropdown.position.left+"px",top:this.dropdown.button.innerHeight()+this.dropdown.position.top+"px"}).show();this.dropdown.active.redactorAnimation(this.opts.animation?"slideDown":"show",{duration:.2},d.proxy(function(){this.dropdown.enableCallback();this.dropdown.enableEvents()},this))},enableEvents:function(){d(document).on("mousedown.redactor-dropdown",d.proxy(this.dropdown.hideAll,this));this.core.editor().on("touchstart.redactor-dropdown",
d.proxy(this.dropdown.hideAll,this));d(document).on("keyup.redactor-dropdown",d.proxy(this.dropdown.closeHandler,this))},enableCallback:function(){this.core.callback("dropdownShown",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button})},getButtonPosition:function(){this.dropdown.position=this.dropdown.button.offset();var a=this.dropdown.active.width();this.dropdown.position.left+a>d(document).width()&&(this.dropdown.position.left=Math.max(0,this.dropdown.position.left-
a+parseInt(this.dropdown.button.innerWidth())))},closeHandler:function(a){a.which===this.keyCode.ESC&&(this.dropdown.hideAll(a),this.core.editor().focus())},hideAll:function(a,h){this.detect.isDesktop()&&this.utils.enableBodyScroll();!1!==a&&0!==d(a.target).closest(".redactor-dropdown").length||(a=void 0===h?this.button.toolbar().find("a.dropact"):this.button.toolbar().find("a.dropact").not(".re-"+h),0!==(h=void 0===h?d(".redactor-dropdown-"+this.uuid):d(".redactor-dropdown-"+this.uuid).not(".redactor-dropdown-box-"+
h)).length&&(d(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),d.each(h,d.proxy(function(f,g){g=d(g);this.core.callback("dropdownHide",g);g.hide();g.off("mouseover mouseout").off(".redactor-dropdown")},this)),a.removeClass("redactor-act dropact")))},hide:function(){!1!==this.dropdown.active&&(this.detect.isDesktop()&&this.utils.enableBodyScroll(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideUp":"hide",{duration:.2},d.proxy(function(){d(document).off(".redactor-dropdown");
this.core.editor().off(".redactor-dropdown");this.dropdown.hideOut()},this)))},hideOut:function(){this.core.callback("dropdownHide",this.dropdown.active);this.dropdown.button.removeClass("redactor-act dropact");this.dropdown.active.off("mouseover mouseout").off(".redactor-dropdown");this.dropdown.button=!1;this.dropdown.key=!1;this.dropdown.active=!1}}},events:function(){return{focused:!1,blured:!0,dropImage:!1,stopChanges:!1,stopDetectChanges:function(){this.events.stopChanges=!0},startDetectChanges:function(){var a=
this;setTimeout(function(){a.events.stopChanges=!1},1)},dragover:function(a){a.preventDefault();a.stopPropagation();"IMG"===a.target.tagName&&d(a.target).addClass("redactor-image-dragover")},dragleave:function(a){this.core.editor().find("img").removeClass("redactor-image-dragover")},drop:function(a){return a=a.originalEvent||a,this.core.editor().find("img").removeClass("redactor-image-dragover"),"inline"===this.opts.type||"pre"===this.opts.type?(a.preventDefault(),!1):void 0===window.FormData||!a.dataTransfer||
(0===a.dataTransfer.files.length?this.events.onDrop(a):(this.events.onDropUpload(a),void this.core.callback("drop",a)))},click:function(a){var h=this.core.getEvent();this.core.addEvent("click"!==h&&"arrow"!==h&&"click");this.utils.disableSelectAll();this.core.callback("click",a)},focus:function(a){var h;this.rtePaste||(this.events.isCallback("focus")&&this.core.callback("focus",a),this.events.focused=!0,(this.events.blured=!1)===this.selection.current()&&(a=this.selection.get(),(h=this.selection.range(a)).setStart(this.core.editor()[0],
0),h.setEnd(this.core.editor()[0],0),this.selection.update(a,h)))},blur:function(a){this.start||this.rtePaste||0===d(a.target).closest("#"+this.core.id()+", .redactor-toolbar, .redactor-dropdown, #redactor-modal-box").length&&(!this.events.blured&&this.events.isCallback("blur")&&this.core.callback("blur",a),this.events.focused=!1,this.events.blured=!0)},touchImageEditing:function(){var a=-1;this.events.imageEditing=!1;d(window).on("touchmove.redactor."+this.uuid,d.proxy(function(){this.events.imageEditing=
!0;-1!==a&&clearTimeout(a);a=setTimeout(d.proxy(function(){this.events.imageEditing=!1},this),500)},this))},init:function(){this.core.editor().on("dragover.redactor dragenter.redactor",d.proxy(this.events.dragover,this));this.core.editor().on("dragleave.redactor",d.proxy(this.events.dragleave,this));this.core.editor().on("drop.redactor",d.proxy(this.events.drop,this));this.core.editor().on("click.redactor",d.proxy(this.events.click,this));this.core.editor().on("paste.redactor",d.proxy(this.paste.init,
this));this.core.editor().on("keydown.redactor",d.proxy(this.keydown.init,this));this.core.editor().on("keyup.redactor",d.proxy(this.keyup.init,this));this.core.editor().on("focus.redactor",d.proxy(this.events.focus,this));d(document).on("mousedown.redactor-blur."+this.uuid,d.proxy(this.events.blur,this));this.events.touchImageEditing();this.events.createObserver();this.events.setupObserver()},createObserver:function(){var a=this;this.events.observer=new MutationObserver(function(h){h.forEach(d.proxy(a.events.iterateObserver,
a))})},iterateObserver:function(a){!("textarea"!==this.opts.type&&"div"!==this.opts.type||this.detect.isFirefox()||a.target!==this.core.editor()[0])||"class"===a.attributeName&&a.target===this.core.editor()[0]||"data-vivaldi-spatnav-clickable"==a.attributeName||(this.observe.load(),this.events.changeHandler())},setupObserver:function(){this.events.observer.observe(this.core.editor()[0],{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})},changeHandler:function(){this.events.stopChanges||
(this.code.sync(),this.autosave.is()&&(clearTimeout(this.autosaveTimeout),this.autosaveTimeout=setTimeout(d.proxy(this.autosave.send,this),300)))},onDropUpload:function(a){if(a.preventDefault(),a.stopPropagation(),(this.opts.dragImageUpload||this.opts.dragFileUpload)&&(null!==this.opts.imageUpload||null!==this.opts.fileUpload)){"IMG"===a.target.tagName&&(this.events.dropImage=a.target);for(var h=a.dataTransfer.files,f=h.length,g=0;g<f;g++)this.upload.directUpload(h[g],a)}},onDrop:function(a){this.core.callback("drop",
a)},isCallback:function(a){return void 0!==this.opts.callbacks[a]&&d.isFunction(this.opts.callbacks[a])},stopDetect:function(){this.events.stopDetectChanges()},startDetect:function(){this.events.startDetectChanges()}}},file:function(){return{is:function(){return!(!this.opts.fileUpload||!this.opts.fileUpload&&!this.opts.s3)},show:function(){this.modal.load("file",this.lang.get("file"),700);this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert);d("#redactor-filename").val(this.selection.get().toString());
this.modal.show()},insert:function(a,h,f){var g,e;void 0!==a.error?(this.modal.close(),this.core.callback("fileUploadError",a)):(this.file.release(f,h),this.buffer.set(),this.air.collapsed(),f=this.file.text(a),f=d("<a />").attr("href",a.url).text(f),g=void 0===a.id?"":a.id,e=void 0===a.s3?"file":"s3",f.attr("data-"+e,g),f=d(this.insert.node(f)),this.caret.after(f),this.storage.add({type:e,node:f[0],url:a.url,id:g}),null!==h&&this.core.callback("fileUpload",f,a))},release:function(a,h){h?(this.marker.remove(),
this.insert.nodeToPoint(a,this.marker.get()),this.selection.restore()):this.modal.close()},text:function(a){var h=d("#redactor-filename").val();return void 0===h||""===h?a.name:h}}},focus:function(){return{start:function(){var a;this.core.editor().focus();"inline"!==this.opts.type&&!1!==(a=this.focus.first())&&this.caret.start(a)},end:function(){this.core.editor().focus();var a,h,f,g=this.opts.inline?this.core.editor():this.focus.last();0!==g.length&&(a=this.focus.lastChild(g),this.detect.isWebkit()||
!1===a?(h=this.selection.get(),null!==(f=this.selection.range(h))?(f.selectNodeContents(g[0]),f.collapse(!1),this.selection.update(h,f)):this.caret.end(g)):this.caret.end(a))},first:function(){var a=this.core.editor().children().first();return 0!==(a=!a.length||"UL"!==a[0].tagName&&"OL"!==a[0].tagName?a:a.find("li").first()).length&&0!==a[0].length&&"BR"!==a[0].tagName&&"HR"!==a[0].tagName&&3!==a[0].nodeType&&a},last:function(){return this.core.editor().children().last()},lastChild:function(a){a=
a[0].lastChild;return!(null===a||!this.utils.isInlineTag(a.tagName))&&a},is:function(){return this.core.editor()[0]===document.activeElement}}},image:function(){return{is:function(){return!(!this.opts.imageUpload||!this.opts.imageUpload&&!this.opts.s3)},show:function(){var a=this.selection.current();if(a)if(this.utils.isTag(a,"img"))this.events.dropImage=a;else if(a=d(a).find("img:first"),a.length)return this.image.showEdit(a);this.modal.load("image",this.lang.get("image"),700);this.upload.init("#redactor-modal-image-droparea",
this.opts.imageUpload,this.image.insert);this.modal.show()},insert:function(a,h,f){var g,e,m,p,u;void 0!==a.error?(this.modal.close(),this.events.dropImage=!1,this.core.callback("imageUploadError",a,f)):!1!==this.events.dropImage?(e=d(this.events.dropImage),this.core.callback("imageDelete",e[0].src,e),e.attr("src",a.url),this.events.dropImage=!1,this.core.callback("imageUpload",e,a),this.modal.close()):(this.placeholder.hide(),g=d("<"+this.opts.imageTag+">"),(e=d("<img>")).attr("src",a.url),u=void 0===
a.id?"":a.id,p=void 0===a.s3?"image":"s3",e.attr("data-"+p,u),g.append(e),m=this.utils.isTag(this.selection.current(),"pre"),h?(this.air.collapsed(),this.marker.remove(),f=this.insert.nodeToPoint(f,this.marker.get()),f=d(f).next(),this.selection.restore(),this.buffer.set(),void 0!==f&&0!==f.length&&"IMG"===f[0].tagName?(this.core.callback("imageDelete",f[0].src,f),f.closest("figure, p",this.core.editor()[0]).replaceWith(g)):m?d(m).after(g):this.insert.node(g)):(this.modal.close(),this.buffer.set(),
this.air.collapsed(),m?d(m).after(g):this.insert.node(g)),this.caret.after(g),this.events.dropImage=!1,this.storage.add({type:p,node:e[0],url:a.url,id:u}),f=e[0].nextSibling,m=g.next(),p=d(f).text().replace(/\u200B/g,""),u=m.text().replace(/\u200B/g,""),""===p&&d(f).remove(),1===m.length&&"FIGURE"===m[0].tagName&&""===u&&m.remove(),null!==h?this.core.callback("imageUpload",e,a):this.core.callback("imageInserted",e,a))},setEditable:function(a){var h;a.on("dragstart",function(f){f.preventDefault()});
this.opts.imageResizable?(h=d.proxy(function(f){this.observe.image=a;this.image.resizer=this.image.loadEditableControls(a);d(document).on("mousedown.redactor-image-resize-hide."+this.uuid,d.proxy(this.image.hideResize,this));this.image.resizer&&this.image.resizer.on("mousedown.redactor touchstart.redactor",d.proxy(function(g){this.image.setResizable(g,a)},this))},this),a.off("mousedown.redactor").on("mousedown.redactor",d.proxy(this.image.hideResize,this)),a.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",
h)):a.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",d.proxy(function(f){setTimeout(d.proxy(function(){this.image.showEdit(a)},this),200)},this))},setResizable:function(a,h){a.preventDefault();this.image.resizeHandle={x:a.pageX,y:a.pageY,el:h,ratio:h.width()/h.height(),h:h.height()};(a=a.originalEvent||a).targetTouches&&(this.image.resizeHandle.x=a.targetTouches[0].pageX,this.image.resizeHandle.y=a.targetTouches[0].pageY);this.image.startResize()},startResize:function(){d(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",
d.proxy(this.image.moveResize,this));d(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",d.proxy(this.image.stopResize,this))},moveResize:function(a){a.preventDefault();a=a.originalEvent||a;var h=this.image.resizeHandle.h;a=(a.targetTouches?h+=a.targetTouches[0].pageY-this.image.resizeHandle.y:h+=a.pageY-this.image.resizeHandle.y,Math.round(h*this.image.resizeHandle.ratio));50>h||100>a||(this.image.resizeHandle.el.attr({width:a,height:h}),this.image.resizeHandle.el.width(a),
this.image.resizeHandle.el.height(h),this.code.sync())},stopResize:function(){this.handle=!1;d(document).off(".redactor-image-resize");this.image.hideResize()},hideResize:function(a){a&&0!==d(a.target).closest("#redactor-image-box",this.$editor[0]).length||(a&&"IMG"==a.target.tagName&&d(a.target),0!==(a=this.$editor.find("#redactor-image-box")).length&&(d("#redactor-image-editter").remove(),d("#redactor-image-resizer").remove(),a.find("img").css({marginTop:a[0].style.marginTop,marginBottom:a[0].style.marginBottom,
marginLeft:a[0].style.marginLeft,marginRight:a[0].style.marginRight}),a.css("margin",""),a.find("img").css("opacity",""),a.replaceWith(function(){return d(this).contents()}),d(document).off("mousedown.redactor-image-resize-hide."+this.uuid),void 0!==this.image.resizeHandle)&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style")))},loadResizableControls:function(a,h){var f;return this.opts.imageResizable&&!this.detect.isMobile()?(f=d('<span id="redactor-image-resizer" data-redactor="verified"></span>'),
this.detect.isDesktop()||f.css({width:"15px",height:"15px"}),f.attr("contenteditable",!1),h.append(f),h.append(a),f):(h.append(a),!1)},loadEditableControls:function(a){var h,f;if(0===d("#redactor-image-box").length)return(h=d('<span id="redactor-image-box" data-redactor="verified">')).css("float",a.css("float")).attr("contenteditable",!1),"auto"!=a[0].style.margin?(h.css({marginTop:a[0].style.marginTop,marginBottom:a[0].style.marginBottom,marginLeft:a[0].style.marginLeft,marginRight:a[0].style.marginRight}),
a.css("margin","")):h.css({display:"block",margin:"auto"}),a.css("opacity",".5").after(h),this.opts.imageEditable&&(this.image.editter=d('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>"),this.image.editter.attr("contenteditable",!1),this.image.editter.on("click",d.proxy(function(){this.image.showEdit(a)},this)),h.append(this.image.editter),f=this.image.editter.innerWidth(),this.image.editter.css("margin-left","-"+f/2+"px")),this.image.loadResizableControls(a,
h)},showEdit:function(a){var h,f,g,e;this.events.imageEditing||(h=(this.observe.image=a).closest("a",this.$editor[0]),g=0!==(f=a.closest("figure",this.$editor[0])).length?f:a,this.modal.load("image-edit",this.lang.get("edit"),705),this.image.buttonDelete=this.modal.getDeleteButton().text(this.lang.get("delete")),this.image.buttonSave=this.modal.getActionButton().text(this.lang.get("save")),this.image.buttonDelete.on("click",d.proxy(this.image.remove,this)),this.image.buttonSave.on("click",d.proxy(this.image.update,
this)),!1===this.opts.imageCaption?d("#redactor-image-caption").val("").hide().prev().hide():0!==(e=a.closest(this.opts.imageTag,this.$editor[0]).find("figcaption"))&&d("#redactor-image-caption").val(e.text()).show(),this.opts.imagePosition?(e=(0!==f.length?"center"===g.css("text-align"):"block"==g.css("display")&&"none"==g.css("float"))?"center":g.css("float"),d("#redactor-image-align").val(e)):d(".redactor-image-position-option").hide(),d("#redactor-image-preview").html(d('<img src="'+a.attr("src")+
'" style="max-width: 100%;">')),d("#redactor-image-title").val(a.attr("alt")),0!==h.length&&(d("#redactor-image-link").val(h.attr("href")),"_blank"===h.attr("target"))&&d("#redactor-image-link-blank").prop("checked",!0),d(".redactor-link-tooltip").remove(),this.modal.show(),this.detect.isDesktop()&&d("#redactor-image-title").focus())},update:function(){var a,h,f=this.observe.image,g=f.closest("a",this.core.editor()[0]),e=d("#redactor-image-title").val().replace(/(<([^>]+)>)/gi,"");e=(f.attr("alt",
e).attr("title",e),this.image.setFloating(f),d.trim(d("#redactor-image-link").val()).replace(/(<([^>]+)>)/gi,""));""!==e?(h="((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}",a=new RegExp("^(http|ftp|https)://"+h,"i"),h=new RegExp("^"+h,"i"),-1===e.search(a)&&0===e.search(h)&&this.opts.linkProtocol&&(e=this.opts.linkProtocol+"://"+e),a=!!d("#redactor-image-link-blank").prop("checked"),0===g.length?(h=d('<a href="'+e+'" id="redactor-img-tmp">'+this.utils.getOuterHtml(f)+"</a>"),a&&h.attr("target","_blank"),
f=f.replaceWith(h),(g=this.core.editor().find("#redactor-img-tmp")).removeAttr("id")):(g.attr("href",e),a?g.attr("target","_blank"):g.removeAttr("target"))):0!==g.length&&g.replaceWith(this.utils.getOuterHtml(f));this.image.addCaption(f,g);this.modal.close();this.buffer.set()},setFloating:function(a){var h=a.closest("figure",this.$editor[0]),f=0!==h.length?h:a,g="",e="",m="",p="";switch(d("#redactor-image-align").val()){case "left":g="left";m="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+
" 0";break;case "right":g="right";m="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;break;case "center":0!==h.length?p="center":(e="block",m="auto")}f.css({float:g,display:e,margin:m,"text-align":p});f.attr("rel",a.attr("style"))},addCaption:function(a,h){var f=d("#redactor-image-caption").val();h=0!==h.length?h:a;a=h.next();0!==a.length&&"FIGCAPTION"===a[0].tagName||(a=!1);""!==f?!1===a?(a=d("<figcaption />").text(f),h.after(a)):a.text(f):!1!==a&&a.remove()},remove:function(a,h,
f){h=void 0===h?d(this.observe.image):h;"boolean"!=typeof a&&this.buffer.set();this.events.stopDetectChanges();var g,e;f=h.closest("a",this.core.editor()[0]);var m=h.closest(this.opts.imageTag,this.core.editor()[0]);h.parent();if(!1===this.core.callback("imageDelete",a,h[0]))return a&&a.preventDefault(),!1;0!==d("#redactor-image-box").length&&d("#redactor-image-box").parent();(0!==m.length?(e=m.prev(),g=m.next(),m):0!==f.length?(f.parent(),f):h).remove();d("#redactor-image-box").remove();!1!==a&&
(g&&0!==g.length?this.caret.start(g):e&&0!==e.length&&this.caret.end(e));"boolean"!=typeof a&&this.modal.close();this.utils.restoreScroll();this.observe.image=!1;this.events.startDetectChanges();this.placeholder.enable();this.code.sync()}}},indent:function(){return{increase:function(){var a,h,f,g,e,m;this.list.get()&&(h=(a=d(this.selection.current()).closest("li")).closest("ul, ol",this.core.editor()[0]),0!==(f=a.closest("li").prev()).length)&&"LI"===f[0].tagName&&(this.buffer.set(),this.utils.isCollapsed()?
(e=h[0].tagName,d("<"+e+" />"),this.selection.save(),1===(g=f.find("ol").first()).length?g.append(a):(e=h[0].tagName,(m=d("<"+e+" />")).append(a),f.append(m))):(document.execCommand("indent"),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize()),this.selection.restore())},decrease:function(){var a;this.list.get()&&(d(this.selection.current()).closest("li").closest("ul, ol",this.core.editor()[0]),this.buffer.set(),document.execCommand("outdent"),a=d(this.selection.current()).closest("li",
this.core.editor()[0]),this.utils.isCollapsed()&&this.indent.repositionItem(a),0===a.length&&(document.execCommand("formatblock",!1,"p"),0!==(a=(a=d(this.selection.current())).next()).length)&&"BR"===a[0].tagName&&a.remove(),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize(),this.selection.restore())},repositionItem:function(a){var h=a.next();h=(0===h.length||"UL"===h[0].tagName&&"OL"===h[0].tagName||a.append(h),a.prev());0!==h.length&&"LI"!==h[0].tagName&&(this.selection.save(),
a.parents("li",this.core.editor()[0]).after(a),this.selection.restore())},normalize:function(){this.core.editor().find("li").each(d.proxy(function(a,h){h=d(h);a="";a=(0!==this.opts.keepStyleAttr.length&&(a=","+this.opts.keepStyleAttr.join(",")),h.find(this.opts.inlineTags.join(",")).not("img"+a).removeAttr("style"),h.parent());0!==a.length&&"LI"===a[0].tagName?a.after(h):0===(a=h.next()).length||"UL"!==a[0].tagName&&"OL"!==a[0].tagName||h.append(a)},this))},removeEmpty:function(a){a=this.core.editor().find("ul, ol");
var h=this.core.editor().find("li");h.each(d.proxy(function(f,g){this.indent.removeItemEmpty(g)},this));a.each(d.proxy(function(f,g){this.indent.removeItemEmpty(g)},this));h.each(d.proxy(function(f,g){this.indent.removeItemEmpty(g)},this))},removeItemEmpty:function(a){""===a.innerHTML.replace(/[\t\s\n]/g,"").replace(/<span><\/span>/g,"")&&d(a).remove()}}},inline:function(){return{format:function(a,h,f,g){this.utils.isCurrentOrParent(["PRE","CODE"])||(h=this.inline.getParams(h,f,g),a=this.inline.arrangeTag(a),
this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.inline.formatCollapsed(a,h):this.inline.formatUncollapsed(a,h))},formatCollapsed:function(a,h){var f,g,e,m=this.selection.inline();m?(g=m.tagName.toLowerCase())===a?this.utils.isEmpty(m.innerHTML)?(this.caret.after(m),d(m).remove()):(e=this.inline.insertBreakpoint(m,g),this.caret.after(e)):0===d(m).closest(a).length?(f=this.inline.insertInline(a),this.inline.setParams(f,h)):(e=this.inline.insertBreakpoint(m,g),this.caret.after(e)):
(f=this.inline.insertInline(a),this.inline.setParams(f,h))},formatUncollapsed:function(a,h){this.selection.save();var f=this.inline.getClearedNodes(),g=(this.inline.setNodesStriked(f,a,h),this.selection.restore(),document.execCommand("strikethrough"),this.selection.saveInstant(),this);this.core.editor().find("strike").each(function(){var e=g.utils.replaceToTag(this,a),m=(g.inline.setParams(e[0],h),e.find(a)),p=e.parent(),u=p.parent();0!==u.length&&u[0].tagName.toLowerCase()===a&&u.html()==p[0].outerHTML?
(e.replaceWith(function(){return d(this).contents()}),u.replaceWith(function(){return d(this).contents()})):(0!==m.length&&g.inline.cleanInsideOrParent(m,h),p.html()==e[0].outerHTML&&g.inline.cleanInsideOrParent(p,h),g.detect.isFirefox()&&g.core.editor().find(a+":empty").remove())});this.selection.restoreInstant()},cleanInsideOrParent:function(a,h){if(h)for(var f in h.data)this.inline.removeSpecificAttr(a,f,h.data[f])},getClearedNodes:function(){for(var a=this.selection.nodes(),h=[],f=a.length,g=
0,e=0;e<f;e++)if(d(a[e]).hasClass("redactor-selection-marker")){g=e+2;break}for(e=0;e<f;e++)g<=e&&!this.utils.isBlockTag(a[e].tagName)&&h.push(a[e]);return h},isConvertableAttr:function(a,h,f){var g=d(a).attr(h);if(g)if("style"===h){h=d.trim(f).replace(/;$/,"").split(";");for(g=f=0;g<h.length;g++){var e,m=h[g].split(":"),p=d.trim(m[0]);m=d.trim(m[1]);-1!==p.search(/color/)?!(e=d(a).css(p))||e!==m&&this.utils.rgb2hex(e)!==m||f++:d(a).css(p)===m&&f++}if(f===h.length)return 1}else if(g===f)return 1;
return 0},isConvertable:function(a,h,f,g){if(h===f){if(!g)return!0;var e;h=0;for(e in g.data)h+=this.inline.isConvertableAttr(a,e,g.data[e]);if(h===Object.keys(g.data).length)return!0}return!1},setNodesStriked:function(a,h,f){for(var g=0;g<a.length;g++){var e=a[g].tagName?a[g].tagName.toLowerCase():void 0,m=a[g].parentNode,p=m&&m.tagName?m.tagName.toLowerCase():void 0;this.inline.isConvertable(m,p,h,f)&&d(m).replaceWith(function(){return d("<strike>").append(d(this).contents())}).attr("data-redactor-inline-converted");
this.inline.isConvertable(a[g],e,h,f)&&d(a[g]).replaceWith(function(){return d("<strike>").append(d(this).contents())})}},insertBreakpoint:function(a,h){(f=document.createElement("span")).id="redactor-inline-breakpoint";var f;this.insert.node(f);f=this.utils.isEndOfElement(a)?"":"<"+h+">";var g=(g=this.utils.getOuterHtml(a)).replace(/<span id="redactor-inline-breakpoint"><\/span>/i,"</"+h+">"+f);h=d(g);return d(a).replaceWith(h),f&&this.utils.cloneAttributes(a,h.last()),h.first()},insertInline:function(a){a=
document.createElement(a);return this.insert.node(a),this.caret.start(a),a},arrangeTag:function(a){var h="b bold i italic underline strikethrough deleted superscript subscript".split(" "),f="strong strong em em u del del sup sub".split(" ");a=a.toLowerCase();for(var g=0;g<h.length;g++)a===h[g]&&(a=f[g]);return a},getStyleParams:function(a){var h={};a=a.trim().replace(/;$/,"").split(";");for(var f=0;f<a.length;f++){var g=a[f].split(":");g&&(h[g[0].trim()]=g[1].trim())}return h},getParams:function(a,
h,f){var g=!1,e="toggle";return"object"==typeof a?(g=a,e=void 0!==h?h:e):void 0!==a&&void 0!==h&&((g={})[a]=h,e=void 0!==f?f:e),!!g&&{func:e,data:g}},setParams:function(a,h){if(h)for(var f in h.data){var g=d(a);"style"===f?(a=this.inline[h.func+"Style"](h.data[f],a),g.attr("data-redactor-style-cache",g.attr("style"))):a="class"===f?this.inline[h.func+"Class"](h.data[f],a):"remove"===h.func?this.inline[h.func+"Attr"](f,a):this.inline[h.func+"Attr"](f,h.data[f],a);"style"===f&&"SPAN"===a.tagName&&g.attr("data-redactor-span",
!0)}return a},eachInline:function(a,h){if(a=void 0===a?this.selection.inlines():[a])for(var f=0;f<a.length;f++)var g=h(a[f])[0];return g},replaceClass:function(a,h){return this.inline.eachInline(h,function(f){return d(f).removeAttr("class").addClass(a)})},toggleClass:function(a,h){return this.inline.eachInline(h,function(f){return d(f).toggleClass(a)})},addClass:function(a,h){return this.inline.eachInline(h,function(f){return d(f).addClass(a)})},removeClass:function(a,h){return this.inline.eachInline(h,
function(f){return d(f).removeClass(a)})},removeAllClass:function(a){return this.inline.eachInline(a,function(h){return d(h).removeAttr("class")})},replaceAttr:function(a,h,f){return this.inline.eachInline(f,function(g){return d(g).removeAttr(a).attr(a.value)})},toggleAttr:function(a,h,f){return this.inline.eachInline(f,function(g){return d(g).attr(a)?d(g).removeAttr(a):d(g).attr(a.value)})},addAttr:function(a,h,f){return this.inline.eachInline(f,function(g){return d(g).attr(a,h)})},removeAttr:function(a,
h){return this.inline.eachInline(h,function(f){f=d(f);return f.removeAttr(a),"style"===a&&f.removeAttr("data-redactor-style-cache"),f})},removeAllAttr:function(a){return this.inline.eachInline(a,function(h){for(var f=d(h),g=h.attributes.length,e=0;e<g;e++)f.removeAttr(h.attributes[e].name);return f})},removeSpecificAttr:function(a,h,f){var g=d(a);"style"===h?(f=f.split(":")[0].trim(),g.css(f,""),this.utils.removeEmptyAttr(a,"style")&&g.removeAttr("data-redactor-style-cache")):g.removeAttr(h)[0]},
hasParentStyle:function(a){var h=a.parent();return 1===h.length&&h[0].tagName===a[0].tagName&&h.html()===a[0].outerHTML&&h},addParentStyle:function(a){var h,f=this.inline.hasParentStyle(a);return f?(h=this.inline.getStyleParams(a.attr("style")),f.css(h),f.attr("data-redactor-style-cache",f.attr("style")),a.replaceWith(function(){return d(this).contents()})):a.attr("data-redactor-style-cache",a.attr("style")),a},replaceStyle:function(a,h){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(h,
function(g){g=d(g);var e=(g.removeAttr("style").css(a),g.attr("style"));return e&&g.attr("style",e.replace(/"/g,"'")),f.inline.addParentStyle(g)})},toggleStyle:function(a,h){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(h,function(g){var e=d(g);for(u in a){var m=a[u],p=e.css(u);(f.utils.isRgb(p)?f.utils.rgb2hex(p):p.replace(/"/g,""))===(m=f.utils.isRgb(m)?f.utils.rgb2hex(m):m.replace(/"/g,""))?e.css(u,""):e.css(u,m)}var u=e.attr("style");return u&&e.attr("style",u.replace(/"/g,
"'")),f.utils.removeEmptyAttr(g,"style")?e.removeAttr("data-redactor-style-cache"):e=f.inline.addParentStyle(e),e})},addStyle:function(a,h){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(h,function(g){g=d(g);var e=(g.css(a),g.attr("style"));return e&&g.attr("style",e.replace(/"/g,"'")),f.inline.addParentStyle(g)})},removeStyle:function(a,h){a=this.inline.getStyleParams(a);var f=this;return this.inline.eachInline(h,function(g){var e,m=d(g);for(e in a)m.css(e,"");return f.utils.removeEmptyAttr(g,
"style")?m.removeAttr("data-redactor-style-cache"):m.attr("data-redactor-style-cache",m.attr("style")),m})},removeAllStyle:function(a){return this.inline.eachInline(a,function(h){return d(h).removeAttr("style").removeAttr("data-redactor-style-cache")})},removeStyleRule:function(a){var h=this.selection.parent(),f=this.selection.inlines();this.buffer.set();h&&"SPAN"===h.tagName&&this.inline.removeStyleRuleAttr(d(h),a);for(h=0;h<f.length;h++){var g=f[h],e=d(g);-1==d.inArray(g.tagName.toLowerCase(),this.opts.inlineTags)||
e.hasClass("redactor-selection-marker")||this.inline.removeStyleRuleAttr(e,a)}},removeStyleRuleAttr:function(a,h){a.css(h,"");this.utils.removeEmptyAttr(a,"style")?a.removeAttr("data-redactor-style-cache"):a.attr("data-redactor-style-cache",a.attr("style"))},update:function(a,h,f,g){a=this.inline.arrangeTag(a);h=this.inline.getParams(h,f,g);f=this.selection.inlines();g=[];if(f)for(var e=0;e<f.length;e++){var m=f[e];"*"!==a&&m.tagName.toLowerCase()!==a||g.push(this.inline.setParams(m,h))}return g},
removeFormat:function(){this.selection.save();for(var a=this.inline.getClearedNodes(),h=0;h<a.length;h++)1===a[h].nodeType&&d(a[h]).replaceWith(function(){return d(this).contents()});this.selection.restore()}}},insert:function(){return{set:function(a){this.placeholder.hide();this.code.set(a);this.focus.end();this.placeholder.enable()},html:function(a,h){this.placeholder.hide();this.core.editor().focus();var f=this.selection.block(),g=this.selection.inline(),e=(void 0===h&&(h=this.clean.getCurrentType(a,
!0),a=this.clean.onPaste(a,h,!0)),a=d.parseHTML(a),d(a).last()),m=this.selection.get(),p=this.selection.range(m);if(p.deleteContents(),this.selection.update(m,p),h.lists)if(m=d(a),0!==m.length&&("UL"===m[0].tagName||"OL"===m[0].tagName))return void this.insert.appendLists(f,m);h.blocks&&f?this.utils.isSelectAll()?(this.core.editor().html(a),this.focus.end()):!1===(p=this.utils.breakBlockTag())?this.insert.placeHtml(a):(d(a).children().last().append(this.marker.get()),"start"===p.type?p.$block.before(a):
p.$block.after(a),this.selection.restore(),this.core.editor().find("p").each(function(){""===d.trim(this.innerHTML)&&d(this).remove()})):(g&&((m=d("<div/>").html(a)).find(g.tagName.toLowerCase()).each(function(){d(this).contents().unwrap()}),a=m.html(),a=d.parseHTML(a),e=d(a).last()),this.utils.isSelectAll()?(f=d(this.opts.emptyHtml),this.core.editor().html("").append(f),f.html(a),this.caret.end(f)):this.insert.placeHtml(a));this.utils.disableSelectAll();h.pre&&this.clean.cleanPre();this.caret.end(e);
this.linkify.format()},text:function(a){a=a.toString();a=d.trim(a);var h,f,g=document.createElement("div");g.innerHTML=a;void 0!==(a=g.textContent||g.innerText)&&(this.placeholder.hide(),this.core.editor().focus(),g=this.selection.blocks(),a=a.replace(/\n/g," "),this.utils.isSelectAll()?(h=d(this.opts.emptyHtml),this.core.editor().html("").append(h),h.html(a),this.caret.end(h)):(h=this.selection.get(),a=document.createTextNode(a),h.getRangeAt&&h.rangeCount&&((f=h.getRangeAt(0)).deleteContents(),f.insertNode(a),
f.setStartAfter(a),f.collapse(!0),this.selection.update(h,f)),1<g.length&&(d(a).wrap("<p>"),this.caret.after(a))),this.utils.disableSelectAll(),this.linkify.format(),this.clean.normalizeCurrentHeading())},raw:function(a){this.placeholder.hide();this.core.editor().focus();for(var h,f=this.selection.get(),g=this.selection.range(f),e=(g.deleteContents(),document.createElement("div")),m=(e.innerHTML=a,document.createDocumentFragment());a=e.firstChild;)h=m.appendChild(a);g.insertNode(m);h&&((g=g.cloneRange()).setStartAfter(h),
g.collapse(!0),f.removeAllRanges(),f.addRange(g))},rawAfter:function(a){this.placeholder.hide();this.core.editor().focus();var h=this.selection.get(),f=this.selection.range(h),g=this.selection.current(),e=document.createElement("div");a=(e.innerHTML=a,e.firstChild);d(g).after(d(a));f.setStartAfter(a);f.collapse(!0);h.addRange(f)},node:function(a,h){this.placeholder.hide();void 0!==this.start&&this.core.editor().focus();a=a[0]||a;var f=this.selection.block(),g=this.utils.isBlockTag(a.tagName),e=!0;
return this.utils.isSelectAll()?(g?this.core.editor().html(a):this.core.editor().html(d("<p>").html(a)),this.code.sync()):g&&f?!1===(g=this.utils.breakBlockTag())?this.insert.placeNode(a,h):("start"===g.type?g.$block.before(a):g.$block.after(a),this.core.editor().find("p:empty").remove()):e=this.insert.placeNode(a,h),this.utils.disableSelectAll(),e&&this.caret.end(a),a},appendLists:function(a,h){var f,g=d(a),e=this.utils.isEmpty(a.innerHTML);e||this.utils.isEndOfElement(a)?(f=g,h.find("li").each(function(){f.after(this);
f=d(this)}),e&&g.remove()):this.utils.isStartOfElement(a)?h.find("li").each(function(){g.before(this);f=d(this)}):(e=this.selection.extractEndOfNode(a),g.after(d("<li>").append(e)),g.append(h),f=h);this.marker.remove();f&&this.caret.end(f);this.linkify.format()},placeHtml:function(a){var h=document.createElement("span");h.id="redactor-insert-marker";h=this.insert.node(h);d(h).before(a);this.selection.restore();this.caret.after(h);d(h).remove()},placeNode:function(a,h){var f=this.selection.get(),g=
this.selection.range(f);if(null==g)return!1;!1!==h&&g.deleteContents();g.insertNode(a);g.collapse(!1);this.selection.update(f,g)},nodeToPoint:function(a,h){var f,g,e;return this.placeholder.hide(),h=h[0]||h,this.utils.isEmpty()?(h=this.utils.isBlock(h)?h:d("<p />").append(h),this.core.editor().html(h)):(f=a.clientX,a=a.clientY,document.caretPositionFromPoint?(e=document.caretPositionFromPoint(f,a),(g=document.getSelection().getRangeAt(0)).setStart(e.offsetNode,e.offset),g.collapse(!0),g.insertNode(h)):
document.caretRangeFromPoint?document.caretRangeFromPoint(f,a).insertNode(h):void 0!==document.body.createTextRange&&((g=document.body.createTextRange()).moveToPoint(f,a),(e=g.duplicate()).moveToPoint(f,a),g.setEndPoint("EndToEnd",e),g.select())),h},nodeToCaretPositionFromPoint:function(a,h){this.insert.nodeToPoint(a,h)},marker:function(){this.marker.insert()}}},keydown:function(){return{init:function(a){if(!this.rtePaste){var h=a.which,f=37<=h&&40>=h;if(this.keydown.ctrl=a.ctrlKey||a.metaKey,this.keydown.parent=
this.selection.parent(),this.keydown.current=this.selection.current(),this.keydown.block=this.selection.block(),this.keydown.pre=this.utils.isTag(this.keydown.current,"pre"),this.keydown.blockquote=this.utils.isTag(this.keydown.current,"blockquote"),this.keydown.figcaption=this.utils.isTag(this.keydown.current,"figcaption"),this.keydown.figure=this.utils.isTag(this.keydown.current,"figure"),!1===this.core.callback("keydown",a))return a.preventDefault(),!1;if(this.shortcuts.init(a,h),this.keydown.checkEvents(f,
h),this.keydown.setupBuffer(a,h),h===this.keyCode.ENTER&&this.keydown.block&&"FIGURE"===this.keydown.block.tagName&&this.detect.isFirefox())return a.preventDefault(),this.keydown.onShiftEnter(a);if(!this.utils.isSelectAll()||h!==this.keyCode.ENTER&&h!==this.keyCode.BACKSPACE&&h!==this.keyCode.DELETE)if(this.keydown.addArrowsEvent(f),this.keydown.setupSelectAll(a,h),this.opts.enterKey||h!==this.keyCode.ENTER){if(this.opts.enterKey&&h===this.keyCode.DOWN&&this.keydown.onArrowDown(),this.opts.enterKey&&
h===this.keyCode.UP&&this.keydown.onArrowUp(),("textarea"===this.opts.type||"div"===this.opts.type)&&this.keydown.current&&3===this.keydown.current.nodeType&&d(this.keydown.parent).hasClass("redactor-in")&&this.keydown.wrapToParagraph(),!this.keyup.lastShiftKey&&h===this.keyCode.SPACE&&(a.ctrlKey||a.shiftKey))return a.preventDefault(),this.keydown.onShiftSpace();if(h===this.keyCode.ENTER&&(a.ctrlKey||a.shiftKey))return a.preventDefault(),this.keydown.onShiftEnter(a);if(h===this.keyCode.ENTER&&!a.shiftKey&&
!a.ctrlKey&&!a.metaKey)return this.keydown.onEnter(a);if(h===this.keyCode.TAB||a.metaKey&&221===h||a.metaKey&&219===h)return this.keydown.onTab(a,h);if(this.detect.isFirefox()&&h===this.keyCode.BACKSPACE&&this.keydown.block&&"P"===this.keydown.block.tagName&&this.utils.isStartOfElement(this.keydown.block)&&0!==(g=d(this.keydown.block).prev()).length)return a.preventDefault(),g.append(this.marker.get()),g.append(d(this.keydown.block).html()),d(this.keydown.block).remove(),void this.selection.restore();
if(h===this.keyCode.BACKSPACE||h===this.keyCode.DELETE){if(this.observe.image&&void 0!==this.observe.image&&0!==d("#redactor-image-box").length)return a.preventDefault(),g=this.observe.image.closest("figure, p").prev(),this.image.remove(!1),this.observe.image=!1,void(g&&0!==g.length?this.caret.end(g):this.core.editor().focus());this.keydown.onBackspaceAndDeleteBefore()}if(h===this.keyCode.DELETE){f=d(this.keydown.block).next();if(this.utils.isEndOfElement(this.keydown.block)&&0!==f.length&&"FIGURE"===
f[0].tagName)return f.remove(),!1;if(this.keydown.block&&"LI"===this.keydown.block.tagName&&this.keydown.block){var g=d(this.keydown.block).parents("ul, ol").last(),e=g.next();if(this.utils.isRedactorParent(g)&&this.utils.isEndOfElement(g)&&0!==e.length&&("UL"===e[0].tagName||"OL"===e[0].tagName))return a.preventDefault(),g.append(e.contents()),e.remove(),!1}if(this.utils.isEndOfElement(this.keydown.block)&&0!==f.length&&"PRE"===f[0].tagName)return d(this.keydown.block).append(f.text()),f.remove(),
!1}if(h===this.keyCode.DELETE&&0!==d("#redactor-image-box").length&&this.image.remove(),h===this.keyCode.BACKSPACE){if(this.detect.isFirefox()&&this.line.removeOnBackspace(a),this.list.combineAfterAndBefore(this.keydown.block))return void a.preventDefault();if((g=this.selection.block())&&"LI"===g.tagName&&this.utils.isCollapsed()&&this.utils.isStartOfElement())return this.indent.decrease(),void a.preventDefault();this.keydown.removeInvisibleSpace();this.keydown.removeEmptyListInTable(a)}h!==this.keyCode.BACKSPACE&&
h!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteAfter(a)}else a.preventDefault(),e=this.selection.get(),(f=this.selection.range(e)).collapsed||f.deleteContents();else a.preventDefault(),this.code.set(this.opts.emptyHtml),this.events.changeHandler()}},onShiftSpace:function(){return this.buffer.set(),this.insert.raw("&nbsp;"),!1},onShiftEnter:function(a){return this.buffer.set(),this.keydown.figure?this.insert.rawAfter("<br>"):this.keydown.pre?this.keydown.insertNewLine(a):this.insert.raw("<br>")},
onBackspaceAndDeleteBefore:function(){this.utils.saveScroll()},onBackspaceAndDeleteAfter:function(a){setTimeout(d.proxy(function(){this.code.syncFire=!1;this.keydown.removeEmptyLists();var h="";0!==this.opts.keepStyleAttr.length&&(h=","+this.opts.keepStyleAttr.join(","));this.core.editor().find("*[style]").not("p, h1, h2, h3, h4, h5, h6, div, ul, li, img, figure, iframe, #redactor-image-box, #redactor-image-editter, [data-redactor-style-cache], [data-redactor-span]"+h).removeAttr("style");this.keydown.formatEmpty(a);
this.code.syncFire=!0},this),1)},onEnter:function(a){if(!1===this.core.callback("enter",a))return a.preventDefault(),!1;if(this.keydown.blockquote&&!0===this.keydown.exitFromBlockquote(a))return!1;if(this.keydown.pre)return this.keydown.insertNewLine(a);if(this.keydown.blockquote||this.keydown.figcaption)return this.keydown.insertBreakLine(a);if(this.keydown.figure)setTimeout(d.proxy(function(){this.keydown.replaceToParagraph("FIGURE")},this),1);else if(this.keydown.block){if(setTimeout(d.proxy(function(){this.keydown.replaceToParagraph("DIV")},
this),1),"LI"===this.keydown.block.tagName){var h=this.selection.current();h=d(h).closest("li",this.$editor[0]);var f=h.parents("ul,ol",this.$editor[0]).last();if(0!==h.length&&this.utils.isEmpty(h.html())&&0===f.next().length&&this.utils.isEmpty(f.find("li").last().html()))return f.find("li").last().remove(),h=d(this.opts.emptyHtml),f.after(h),this.caret.start(h),!1}}else if(!this.keydown.block)return this.keydown.insertParagraph(a);this.detect.isFirefox()&&this.utils.isInline(this.keydown.parent)?
this.keydown.insertBreakLine(a):(this.opts.keepInlineOnEnter||setTimeout(d.proxy(function(){var g,e=this.selection.inline();e&&this.utils.isEmpty(e.innerHTML)&&(g=this.selection.block(),d(e).remove(),(e=document.createRange()).setStart(g,0),g=document.createTextNode("\u200b"),e.insertNode(g),e.setStartAfter(g),e.collapse(!0),(g=window.getSelection()).removeAllRanges(),g.addRange(e))},this),1),setTimeout(d.proxy(function(){var g=this.selection.block().childNodes;(g=g[g.length-1])&&3!==g.nodeType&&
"BR"===g.tagName&&d(g).remove()},this),1))},checkEvents:function(a,h){a||"click"!==this.core.getEvent()&&"arrow"!==this.core.getEvent()||(this.core.addEvent(!1),this.keydown.checkKeyEvents(h)&&this.buffer.set())},checkKeyEvents:function(a){var h=this.keyCode;h=[h.BACKSPACE,h.DELETE,h.ENTER,h.ESC,h.TAB,h.CTRL,h.META,h.ALT,h.SHIFT];return-1===d.inArray(a,h)},addArrowsEvent:function(a){a&&("click"===this.core.getEvent()||"arrow"===this.core.getEvent()?this.core.addEvent(!1):this.core.addEvent("arrow"))},
setupBuffer:function(a,h){this.keydown.ctrl&&90===h&&!a.shiftKey&&!a.altKey&&this.sBuffer.length?(a.preventDefault(),this.buffer.undo()):this.keydown.ctrl&&90===h&&a.shiftKey&&!a.altKey&&0!==this.sRebuffer.length?(a.preventDefault(),this.buffer.redo()):this.keydown.ctrl||h!==this.keyCode.SPACE&&h!==this.keyCode.BACKSPACE&&h!==this.keyCode.DELETE&&(h!==this.keyCode.ENTER||a.ctrlKey||a.shiftKey)||this.buffer.set()},exitFromBlockquote:function(a){return this.utils.isEndOfElement(this.keydown.blockquote)&&
-1!==this.clean.removeSpacesHard(d(this.keydown.blockquote).html()).search(/(<br\s?\/?>){1}$/i)?(a.preventDefault(),d(this.keydown.blockquote).children().last().filter("br").remove(),d(this.keydown.blockquote).children().last().filter("span").remove(),a=d(this.opts.emptyHtml),d(this.keydown.blockquote).after(a),this.caret.start(a),!0):void 0},onArrowDown:function(){for(var a=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],h=0;h<a.length;h++)if(a[h])return this.keydown.insertAfterLastElement(a[h]),
!1},onArrowUp:function(){for(var a=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],h=0;h<a.length;h++)if(a[h])return this.keydown.insertBeforeFirstElement(a[h]),!1},insertAfterLastElement:function(a){var h;this.utils.isEndOfElement(a)&&(h=this.core.editor().contents().last(),0===("FIGCAPTION"===a.tagName?d(this.keydown.block).parent():d(this.keydown.block)).next().length)&&(0===h.length&&h[0]!==a?this.caret.start(h):(h=d(this.opts.emptyHtml),("FIGCAPTION"===a.tagName?d(a).parent():
d(a)).after(h),this.caret.start(h)))},insertBeforeFirstElement:function(a){var h;!this.utils.isStartOfElement()||1<this.core.editor().contents().length&&this.core.editor().contents().first()[0]!==a||(h=d(this.opts.emptyHtml),d(a).before(h),this.caret.start(h))},onTab:function(a,h){if(!this.opts.tabKey)return!0;var f=this.keydown.block&&"LI"===this.keydown.block.tagName;if(this.utils.isEmpty(this.code.get())||!f&&!this.keydown.pre&&!1===this.opts.tabAsSpaces)return!0;a.preventDefault();this.buffer.set();
var g;f=f&&this.utils.isStartOfElement(this.keydown.block);return this.keydown.pre&&!a.shiftKey?(g=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join("\u00a0")):document.createTextNode("\t"),this.insert.node(g)):!1===this.opts.tabAsSpaces||f?a.metaKey&&219===h||(!a.metaKey||221!==h)&&a.shiftKey?this.indent.decrease():this.indent.increase():(g=document.createTextNode(Array(this.opts.tabAsSpaces+1).join("\u00a0")),this.insert.node(g)),!1},setupSelectAll:function(a,h){this.keydown.ctrl&&
65===h?this.utils.enableSelectAll():(this.keydown.ctrl&&(35==h||36==h||38==h||40==h)||h!==this.keyCode.LEFT_WIN&&!this.keydown.ctrl)&&this.utils.disableSelectAll()},insertNewLine:function(a){a.preventDefault();a=document.createTextNode("\n");var h=this.selection.get();h=this.selection.range(h);return h.deleteContents(),h.insertNode(a),this.caret.after(a),!1},insertParagraph:function(a){a.preventDefault();a=document.createElement("p");var h=(a.innerHTML="<br>",this.selection.get());h=this.selection.range(h);
return h.deleteContents(),h.insertNode(a),this.caret.start(a),!1},insertBreakLine:function(a){return this.keydown.insertBreakLineProcessing(a)},insertDblBreakLine:function(a){return this.keydown.insertBreakLineProcessing(a,!0)},insertBreakLineProcessing:function(a,h){a.stopPropagation();a=document.createElement("br");return this.insert.node(a),!0===h?(h=document.createElement("br"),this.insert.node(h),this.caret.after(h)):this.caret.after(a),!1},wrapToParagraph:function(){var a=d(this.keydown.current),
h=d("<p>").append(a.clone());a=(a.replaceWith(h),d(h).next());void 0!==a[0]&&"BR"===a[0].tagName&&a.remove();this.caret.end(h)},replaceToParagraph:function(a){var h,f=this.selection.block(),g=d(f).prev(),e=f.innerHTML.replace(/<br\s?\/?>/gi,"");return f.tagName===a&&this.utils.isEmpty(e)&&!d(f).hasClass("redactor-in")?(h=document.createElement("p"),d(f).replaceWith(h),this.keydown.setCaretToParagraph(h),!1):"P"===f.tagName?(d(f).removeAttr("class").removeAttr("style"),this.detect.isIe()&&this.utils.isEmpty(e)&&
this.utils.isInline(this.keydown.parent)&&d(f).on("input",d.proxy(function(){var m=this.selection.parent();this.utils.isInline(m)&&(m=d(m).html(),d(f).html(m),this.caret.end(f));d(f).off("keyup")},this)),!1):g.hasClass(this.opts.videoContainerClass)?(g.removeAttr("class"),h=document.createElement("p"),g.replaceWith(h),this.keydown.setCaretToParagraph(h),!1):void 0},setCaretToParagraph:function(a){var h=document.createRange();a=(h.setStart(a,0),document.createTextNode("\u200b"));a=(h.insertNode(a),
h.setStartAfter(a),h.collapse(!0),window.getSelection());a.removeAllRanges();a.addRange(h)},removeInvisibleSpace:function(){var a=d(this.keydown.current);0===a.text().search(/^\u200B$/g)&&a.remove()},removeEmptyListInTable:function(a){var h=d(this.keydown.current),f=d(this.keydown.parent),g=h.closest("td",this.$editor[0]);0!==g.length&&h.closest("li",this.$editor[0])&&1===f.children("li").length&&this.utils.isEmpty(h.text())&&(a.preventDefault(),h.remove(),f.remove(),this.caret.start(g))},removeEmptyLists:function(){function a(){""===
d.trim(this.innerHTML).replace(/\/t\/n/g,"")&&d(this).remove()}this.core.editor().find("li").each(a);this.core.editor().find("ul, ol").each(a)},formatEmpty:function(a){var h=d.trim(this.core.editor().html());if(this.utils.isEmpty(h))return a.preventDefault(),"inline"===this.opts.type||"pre"===this.opts.type?(this.core.editor().html(this.marker.html()),this.selection.restore()):(this.core.editor().html(this.opts.emptyHtml),this.focus.start()),!1}}},keyup:function(){return{init:function(a){if(!this.rtePaste){var h=
a.which;if(this.keyup.block=this.selection.block(),this.keyup.current=this.selection.current(),this.keyup.parent=this.selection.parent(),this.keyup.lastShiftKey=a.shiftKey,!1===this.core.callback("keyup",a))return a.preventDefault(),!1;if(h===this.keyCode.ENTER&&this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&(a=d(this.keyup.block).prev(),0!==a.length&&"FIGURE"===a[0].tagName))return a=this.utils.replaceToTag(a,"p"),void this.caret.start(a);if(h===this.keyCode.BACKSPACE||h===this.keyCode.DELETE){if(this.utils.isSelectAll())return this.focus.start(),
void this.toolbar.setUnfixed();this.keyup.block&&"P"===this.keyup.block.tagName&&(a=d(this.keyup.block).find("img").length,""===d(this.keyup.block).text().replace(/\u200B/g,""))&&0!==a&&this.utils.replaceToTag(this.keyup.block,"figure");this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&0===d(this.keyup.block).find("img").length&&(this.selection.save(),this.utils.replaceToTag(this.keyup.block,"p"),this.selection.restore())}this.linkify.isKey(h)&&(this.selection.save(),this.linkify.format(),this.selection.restore())}}}},
lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(a){return void 0!==this.opts.curLang[a]?this.opts.curLang[a]:""}}},line:function(){return{insert:function(){this.buffer.set();this.insert.html(this.line.getLineHtml());var a=this.core.editor().find("#redactor-hr-tmp-id");return a.removeAttr("id"),this.core.callback("insertedLine",a),a},getLineHtml:function(){var a='<hr id="redactor-hr-tmp-id" />';return!this.detect.isFirefox()&&this.utils.isEmpty()&&
(a+="<p>"+this.opts.emptyHtml+"</p>"),a},removeOnBackspace:function(a){var h;this.utils.isCollapsed()&&0!==(h=d(this.selection.block())).length&&this.utils.isStartOfElement(h)&&(h=h.prev())&&0!==h.length&&"HR"===h[0].tagName&&(a.preventDefault(),h.remove())}}},link:function(){return{get:function(){return d(this.selection.inlines("a"))},is:function(){var a=this.selection.nodes(),h=d(this.selection.current()).closest("a",this.core.editor()[0]);return!(0===h.length||1<a.length)&&h},unlink:function(a){void 0!==
a&&a.preventDefault&&a.preventDefault();this.buffer.set();a=this.selection.inlines("a");0!==a.length&&(a=this.link.replaceLinksToText(a),this.observe.closeAllTooltip(),this.core.callback("deletedLink",a))},insert:function(a,h){var f=this.link.is();return(!0===h||!1!==(a=this.link.buildLinkFromObject(f,a)))&&(this.buffer.set(),a=this.core.callback("beforeInsertingLink",a),!1===f?(f=d("<a />"),f=this.link.update(f,a),h=(f=d(this.insert.node(f))).parent(),!1===this.utils.isRedactorParent(h)&&f.wrap("<p>"),
h.hasClass("redactor-unlink")&&h.replaceWith(function(){return d(this).contents()}),this.caret.after(f),this.core.callback("insertedLink",f)):(f=this.link.update(f,a),this.caret.after(f)),f)},update:function(a,h){return a.text(h.text),a.attr("href",h.url),this.link.target(a,h.target),a},target:function(a,h){return h?a.attr("target","_blank"):a.removeAttr("target")},show:function(a){void 0!==a&&a.preventDefault&&a.preventDefault();this.observe.closeAllTooltip();a=this.link.linkEl();var h=(this.link.buildModal(a),
this.link.buildLinkFromElement(a));h.url=this.link.removeSelfHostFromUrl(h.url);this.opts.linkNewTab&&!a&&(h.target=!0);this.link.setModalValues(h);this.modal.show();this.detect.isDesktop()&&d("#redactor-link-url").focus()},linkEl:function(){var a=d(this.selection.current()).closest("a",this.core.editor()[0]);return 0!==(a=0===a.length?d(d.parseHTML(this.selection.html())).closest("a",this.core.editor()[0]):a).length&&a},setModalValues:function(a){d("#redactor-link-blank").prop("checked",a.target);
d("#redactor-link-url").val(a.url);d("#redactor-link-url-text").val(a.text)},buildModal:function(a){this.modal.load("link",this.lang.get(!1===a?"link-insert":"link-edit"),600);this.modal.getActionButton().text(this.lang.get(!1===a?"insert":"save")).on("click",d.proxy(this.link.callback,this))},callback:function(){var a=this.link.buildLinkFromModal();if(!1===a)return!1;this.modal.close();this.link.insert(a,!0)},cleanUrl:function(a){return void 0===a?"":d.trim(a.replace(/[^\W\w\D\d+&'@#/%?=~_|!:,.;\(\)]/gi,
""))},cleanText:function(a){return void 0===a?"":d.trim(a)},getText:function(a){return""===a.text&&""!==a.url?this.link.truncateUrl(a.url.replace(/<|>/g,"")):a.text},isUrl:function(a){var h=/^(https?|ftp|wss?|irc|skype|whatsapp|chrome|ssh):\/\/([^\s/$.?#].[^\s]*)$/i,f=/\.(html|php)$/i,g=/^(tel|geo|sms|magnet|skype|blob):(.*?)$/i;return h.test(a)||!/^[^\s/$.?#].[^\s]*$/i.test(a)||f.test(a)||"/"===a.substring(0,1)||g.test(a)||(a="https://"+a),!(!h.test(a)&&!f.test(a)&&-1===a.search(g))&&a},isMailto:function(a){return-1!==
a.search("@")&&!1===/(http|ftp|https|ssh):\/\//i.test(a)},isEmpty:function(a){return""===a.url||""===a.text&&""===a.url},truncateUrl:function(a){return a.length>this.opts.linkSize?a.substring(0,this.opts.linkSize)+"...":a},parse:function(a){return this.link.isMailto(a.url)?a.url="mailto:"+a.url.replace("mailto:",""):0!==a.url.search("#")&&this.opts.linkValidation&&(a.url=this.link.isUrl(a.url)),!this.link.isEmpty(a)&&!1!==a.url&&a},buildLinkFromModal:function(){var a={};return a.url=this.link.cleanUrl(d("#redactor-link-url").val()),
a.text=this.link.cleanText(d("#redactor-link-url-text").val()),a.text=this.link.getText(a),a.target=!!d("#redactor-link-blank").prop("checked"),this.link.parse(a)},buildLinkFromObject:function(a,h){return h.url=this.link.cleanUrl(h.url),h.text=void 0===h.text&&this.selection.is()?this.selection.text():this.link.cleanText(h.text),h.text=this.link.getText(h),h.target=!1===a?h.target:this.link.buildTarget(a),this.link.parse(h)},buildLinkFromElement:function(a){var h={url:"",text:this.selection.is()?
this.selection.text():"",target:!1};return!1!==a&&(h.url=a.attr("href"),h.text=h.text||a.text(),h.target=this.link.buildTarget(a)),h},buildTarget:function(a){return void 0!==a.attr("target")&&"_blank"===a.attr("target")},removeSelfHostFromUrl:function(a){var h=self.location.href.replace("#","").replace(/\/$/i,"");return a.replace(/^\/#/,"#").replace(h,"").replace("mailto:","")},replaceLinksToText:function(a){var h,f=d.each(a,function(g,e){e=d(e);var m=d('<span class="redactor-unlink" />').append(e.contents());
return e.replaceWith(m),0===g&&(h=m),e});return 1===a.length&&this.selection.isCollapsed()&&this.caret.after(h),f}}},linkify:function(){return{isKey:function(a){return a===this.keyCode.ENTER||a===this.keyCode.SPACE},isLink:function(a){return a.nodeValue.match(this.opts.regexps.linkyoutube)||a.nodeValue.match(this.opts.regexps.linkvimeo)||a.nodeValue.match(this.opts.regexps.linkvimeochannel)||a.nodeValue.match(this.opts.regexps.linkimage)||a.nodeValue.match(this.opts.regexps.url)},isFiltered:function(a,
h){var f;return 3===h.nodeType&&""!==(f=d.trim(h.nodeValue))&&!RegExp("\x3c/script|style|svg>").test(f)&&!d(h).parent().is("pre")&&this.linkify.isLink(h)},handler:function(a,h){h=d(h);a=h.text();var f=(f=a).match(this.opts.regexps.linkyoutube)||f.match(this.opts.regexps.linkvimeo)||f.match(this.opts.regexps.linkvimeochannel)?this.linkify.convertVideoLinks(f):f.match(this.opts.regexps.linkimage)?this.linkify.convertImages(f):this.linkify.convertLinks(f);h.before(a.replace(a,f)).remove()},format:function(){var a,
h;this.opts.linkify&&!this.utils.isCurrentOrParent("pre")&&(this.core.editor().find(":not(iframe,img,a,pre,code,.redactor-unlink)").addBack().contents().filter(d.proxy(this.linkify.isFiltered,this)).each(d.proxy(this.linkify.handler,this)),h=this.core.editor().find(".redactor-linkify-object").each(d.proxy(function(f,g){return(a=d(g)).removeClass("redactor-linkify-object"),""===a.attr("class")&&a.removeAttr("class"),"DIV"===g.tagName?this.linkify.breakBlockTag(a,"video"):"IMG"===g.tagName?this.linkify.breakBlockTag(a,
"image"):"A"===g.tagName&&this.core.callback("insertedLink",a),a},this)),setTimeout(d.proxy(function(){this.code.sync();this.core.callback("linkify",h)},this),100))},breakBlockTag:function(a,h){var f,g=this.utils.breakBlockTag();!1!==g&&(f=a,"image"===h&&(f=d("<figure />").append(a)),"start"===g.type?g.$block.before(f):g.$block.after(f),"image"===h)&&this.caret.after(f)},convertVideoLinks:function(a){var h='<div class="'+this.opts.videoContainerClass+' redactor-linkify-object"><iframe class="redactor-linkify-object" width="500" height="281" src="';
return(a=(a=a.match(this.opts.regexps.linkyoutube)?a.replace(this.opts.regexps.linkyoutube,h+'//www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe></div>'):a).match(this.opts.regexps.linkvimeo)?a.replace(this.opts.regexps.linkvimeo,h+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):a).match(this.opts.regexps.linkvimeochannel)?a.replace(this.opts.regexps.linkvimeochannel,h+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):
a},convertImages:function(a){var h=a.match(this.opts.regexps.linkimage);return h?a.replace(a,'<img src="'+h+'" class="redactor-linkify-object" />'):a},convertLinks:function(a){var h=a.match(this.opts.regexps.url);if(h)for(var f=(h=d.grep(h,function(l,n){return d.inArray(l,h)===n})).length,g=0;g<f;g++){var e=h[g],m=e,p=null!==e.match(/(https?|ftp):\/\//i)?"":"http://",u=(-1===(m=m.length>this.opts.linkSize?m.substring(0,this.opts.linkSize)+"...":m).search("%")&&(m=decodeURIComponent(m)),"\\b");u=(-1!==
d.inArray(e.slice(-1),["/","&","="])&&(u=""),new RegExp("("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+u+")","g"));var c="";!1!==this.opts.pasteLinkTarget&&(c=' target="'+this.opts.pasteLinkTarget+'"');a=a.replace(u,'<a href="'+p+d.trim(e)+'"'+c+' class="redactor-linkify-object">'+d.trim(m)+"</a>")}return a}}},list:function(){return{toggle:function(a){if(!this.utils.inBlocks(["table","td","th","tr"])){var h,f,g,e,m,p,u="orderedlist"===a||"ol"===a?"OL":"UL",c=(a="OL"==u?"orderedlist":
"unorderedlist",d(this.selection.current()).parentsUntil(".redactor-in","ul, ol").first()),l=d(this.selection.current()).parentsUntil(".redactor-in","li").first();if(this.placeholder.hide(),this.buffer.set(),""===this.selection.html()&&0!==l.length&&l[0].parentNode.tagName===u&&this.utils.isRedactorParent(l))return h=d(l[0]).prev(),f=d(l[0]).next(),g=l.html(),e=d(l[0].parentNode),this.selection.save(),!h.length&&f.length?(l.remove(),void e.before(d("<p />").append(g))):h.length&&f.length?(l.replaceWith(function(){return"-~=REMOVED+ITEM=~-"}),
p=this.selection.current(),m=d(p)[0].outerHTML.replace(/-~=REMOVED\+ITEM=~-/g,"</"+u+">\n\n<p>"+g+"</p>\n\n<"+u+">"),d(p).replaceWith(function(){return m})):h.length&&!f.length?(l.remove(),void e.after(d("<p />").append(g))):void(h.length||f.length||e.replaceWith(function(){return d("<p />").append(g)}));0!==c.length&&c[0].tagName===u&&this.utils.isRedactorParent(c)?(this.selection.save(),c.find("ul, ol").each(function(){var n=d(this).closest("li");d(this).find("li").each(function(){d(n).after(this)})}),
c.find("ul, ol").remove(),c.find("li").each(function(){return d(this).replaceWith(function(){return d("<p />").append(d(this).contents())})}),c.replaceWith(function(){return d(this).contents()}),this.selection.restore()):(this.selection.save(),0!==c.length&&c[0].tagName!==u?c.each(d.proxy(function(n,w){this.utils.replaceToTag(w,u)},this)):document.execCommand("insert"+a),this.selection.restore(),(p=this.list.get())?(p.find("span").replaceWith(function(){return d(this).contents()}),p.find(this.opts.inlineTags.join(",")).each(function(){d(this).removeAttr("style")}),
l=p.parent(),this.utils.isRedactorParent(l)&&"LI"!==l[0].tagName&&this.utils.isBlock(l)&&(this.selection.save(),l.replaceWith(l.contents()),this.selection.restore())):this.selection.block()||document.execCommand("formatblock",!1,"p"))}},get:function(){var a=this.selection.current();a=d(a).closest("ul, ol",this.core.editor()[0]);return 0!==a.length&&a},combineAfterAndBefore:function(a){var h=d(a).prev(),f=d(a).next();a=a&&"P"===a.tagName&&("<br>"===a.innerHTML||""===a.innerHTML);var g=1===h.closest("ol, ul",
this.core.editor()[0]).length&&1===f.closest("ol, ul",this.core.editor()[0]).length;return!(!a||!g||(h.children("li").last().append(this.marker.get()),h.append(f.contents()),this.selection.restore(),0))}}},marker:function(){return{get:function(a){a=void 0===a?1:a;var h=document.createElement("span");return h.id="selection-marker-"+a,h.className="redactor-selection-marker",h.innerHTML=this.opts.invisibleSpace,h},html:function(a){return this.utils.getOuterHtml(this.marker.get(a))},find:function(a){return a=
void 0===a?1:a,this.core.editor().find("span#selection-marker-"+a)},insert:function(){var a=this.selection.get();a=this.selection.range(a);this.marker.insertNode(a,this.marker.get(1),!0);a&&!1===a.collapsed&&this.marker.insertNode(a,this.marker.get(2),!1)},remove:function(){this.core.editor().find(".redactor-selection-marker").each(this.marker.iterateRemove)},insertNode:function(a,h,f){var g=this.selection.parent();if(null!==a&&0!==d(g).closest(".redactor-in").length){a=a.cloneRange();try{a.collapse(f),
a.insertNode(h)}catch(e){this.focus.start()}}},iterateRemove:function(a,h){h=d(h);a=h.text().replace(/\u200B/g,"");h.parent()[0];""===a?h.remove():h.replaceWith(function(){return d(this).contents()})}}},modal:function(){return{callbacks:{},templates:function(){this.opts.modal={"image-edit":String()+'<div class="redactor-modal-tab redactor-group" data-title="'+this.lang.get("general")+'"><div id="redactor-image-preview" class="redactor-modal-tab-side"></div><div class="redactor-modal-tab-area"><section><label>'+
this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /></section><section><label>'+this.lang.get("caption")+'</label><input type="text" id="redactor-image-caption" aria-label="'+this.lang.get("caption")+'" /></section><section><label>'+this.lang.get("link")+'</label><input type="text" id="redactor-image-link" aria-label="'+this.lang.get("link")+'" /></section><section><label class="redactor-image-position-option">'+this.lang.get("image-position")+'</label><select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+
this.lang.get("image-position")+'"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+this.lang.get("right")+'</option></select></section><section><label class="checkbox"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get("link-in-new-tab")+'"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+
this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+'</button><button id="redactor-modal-button-delete" class="redactor-modal-button-offset">'+this.lang.get("delete")+"</button></section></div></div>",image:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("upload")+'"><section><div id="redactor-modal-image-droparea"></div></section></div>',file:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("upload")+'"><section><label>'+
this.lang.get("filename")+' <span class="desc">('+this.lang.get("optional")+')</span></label><input type="text" id="redactor-filename" aria-label="'+this.lang.get("filename")+'" /><br><br></section><section><div id="redactor-modal-file-upload"></div></section></div>',link:String()+'<div class="redactor-modal-tab" data-title="'+this.lang.get("general")+'"><section><label>URL</label><input type="url" id="redactor-link-url" aria-label="URL" /></section><section><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" aria-label="'+
this.lang.get("text")+'" /></section><section><label class="checkbox"><input type="checkbox" id="redactor-link-blank"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"};d.extend(this.opts,this.opts.modal)},addCallback:function(a,h){this.modal.callbacks[a]=h},addTemplate:function(a,h){this.opts.modal[a]=h},getTemplate:function(a){return this.opts.modal[a]},
getModal:function(){return this.$modalBody},getActionButton:function(){return this.$modalBody.find("#redactor-modal-button-action")},getCancelButton:function(){return this.$modalBody.find("#redactor-modal-button-cancel")},getDeleteButton:function(){return this.$modalBody.find("#redactor-modal-button-delete")},load:function(a,h,f){void 0!==this.$modalBox&&this.$modalBox.hasClass("open")||(this.modal.templateName=a,this.modal.width=f,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(h),
this.modal.setDraggable(),this.modal.setContent(),void 0!==this.modal.callbacks[a]&&this.modal.callbacks[a].call(this))},show:function(){this.detect.isDesktop()||document.activeElement.blur();this.selection.save();this.modal.buildTabber();this.detect.isMobile()&&(this.modal.width="96%");setTimeout(d.proxy(this.modal.buildWidth,this),0);d(window).on("resize.redactor-modal",d.proxy(this.modal.buildWidth,this));this.$modalOverlay.redactorAnimation("fadeIn",{duration:.25});this.$modalBox.addClass("open").show();
this.$modal.redactorAnimation("fadeIn",{timing:"cubic-bezier(0.175, 0.885, 0.320, 1.105)"},d.proxy(function(){this.utils.saveScroll();this.utils.disableBodyScroll();this.core.callback("modalOpened",this.modal.templateName,this.$modal);d(document).off("focusin.modal");this.$modal.find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor-modal",d.proxy(this.modal.setEnter,this))},this))},buildWidth:function(){var a=d(window).height(),h=d(window).width(),f="number"==typeof this.modal.width;
h=(!f&&this.modal.width.match(/%$/)?this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}):parseInt(this.modal.width)>h?this.$modal.css({width:"96%","margin-bottom":"2%"}):(f&&(this.modal.width+="px"),this.$modal.css({width:this.modal.width,"margin-bottom":"16px"})),this.$modal.outerHeight());f=a/2-h/2+"px";this.detect.isMobile()?f="2%":a<h&&(f="16px");this.$modal.css("margin-top",f)},buildTabber:function(){this.modal.tabs=this.$modal.find(".redactor-modal-tab");2>this.modal.tabs.length||
(this.modal.$tabsBox=d('<div id="redactor-modal-tabber" />'),d.each(this.modal.tabs,d.proxy(function(a,h){h=d('<a href="#" rel="'+a+'" />').text(d(h).attr("data-title"));h.on("click",d.proxy(this.modal.showTab,this));0===a&&h.addClass("active");this.modal.$tabsBox.append(h)},this)),this.$modalBody.prepend(this.modal.$tabsBox))},showTab:function(a){a.preventDefault();a=d(a.target);var h=a.attr("rel");return this.modal.tabs.hide(),this.modal.tabs.eq(h).show(),d("#redactor-modal-tabber").find("a").removeClass("active"),
a.addClass("active"),!1},setTitle:function(a){this.$modalHeader.html(a)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName));this.modal.getCancelButton().on("mousedown",d.proxy(this.modal.close,this))},setDraggable:function(){void 0!==d.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(a){13===a.which&&(a.preventDefault(),this.modal.getActionButton().click())},build:function(){this.modal.buildOverlay();
this.$modalBox=d('<div id="redactor-modal-box"/>').hide();this.$modal=d('<div id="redactor-modal" role="dialog" />');this.$modalHeader=d('<div id="redactor-modal-header" />');this.$modalClose=d('<button type="button" id="redactor-modal-close" aria-label="'+this.lang.get("close")+'" />').html("&times;");this.$modalBody=d('<div id="redactor-modal-body" />');this.$modal.append(this.$modalHeader);this.$modal.append(this.$modalBody);this.$modal.append(this.$modalClose);this.$modalBox.append(this.$modal);
this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=d('<div id="redactor-modal-overlay">').hide();d("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("mousedown.redactor-modal",d.proxy(this.modal.close,this));d(document).on("keyup.redactor-modal",d.proxy(this.modal.closeHandler,this));this.core.editor().on("keyup.redactor-modal",d.proxy(this.modal.closeHandler,this));this.$modalBox.on("click.redactor-modal",d.proxy(this.modal.close,this))},
disableEvents:function(){this.$modalClose.off("mousedown.redactor-modal");d(document).off("keyup.redactor-modal");this.core.editor().off("keyup.redactor-modal");this.$modalBox.off("click\u00a7.redactor-modal");d(window).off("resize.redactor-modal")},closeHandler:function(a){a.which===this.keyCode.ESC&&this.modal.close(!1)},close:function(a){if(a){if("redactor-modal-button-cancel"!==d(a.target).attr("id")&&a.target!==this.$modalClose[0]&&a.target!==this.$modalBox[0])return;a.preventDefault()}this.$modalBox&&
(this.selection.restore(),this.modal.disableEvents(),this.utils.enableBodyScroll(),this.utils.restoreScroll(),this.$modalOverlay.redactorAnimation("fadeOut",{duration:.4},d.proxy(function(){this.$modalOverlay.remove()},this)),this.$modal.redactorAnimation("fadeOut",{duration:.3,timing:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},d.proxy(function(){void 0!==this.$modalBox&&(this.$modalBox.remove(),this.$modalBox=void 0);this.core.callback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){void 0===
this.opts.destroyed&&(this.observe.links(),this.observe.images())},isCurrent:function(a,h){return(h=void 0===h?d(this.selection.current()):h).is(a)||0<h.parents(a).length},toolbar:function(){this.observe.buttons();this.observe.dropdowns()},buttons:function(a,h){var f=this.selection.current(),g=this.selection.parent();!1!==a?this.button.setInactiveAll():this.button.setInactiveAll(h);!1===a&&"html"!==h?-1!==d.inArray(h,this.opts.activeButtons)&&this.button.toggleActive(h):this.utils.isRedactorParent(f)&&
("none"!==this.core.editor().css("display")&&(this.utils.isCurrentOrParentHeader()||this.utils.isCurrentOrParent(["table","pre","blockquote","li"])?this.button.disable("horizontalrule"):this.button.enable("horizontalrule")),d.each(this.opts.activeButtonsStates,d.proxy(function(e,m){var p=d(g).closest(e,this.$editor[0]),u=d(f).closest(e,this.$editor[0]);0!==p.length&&!this.utils.isRedactorParent(p)||!this.utils.isRedactorParent(u)||0===p.length&&0===u.closest(e,this.$editor[0]).length||this.button.setActive(m)},
this)))},dropdowns:function(){var a=d("<div />").html(this.selection.html()).find("a").length,h=d(this.selection.current()),f=this.utils.isRedactorParent(h);d.each(this.opts.observe.dropdowns,d.proxy(function(g,e){g=e.observe;var m=g.element;e=e.item;var p=void 0!==g.in&&g.in;g=void 0!==g.out&&g.out;0<h.closest(m).length&&f||"a"===m&&0!==a?this.observe.setDropdownProperties(e,p,g):this.observe.setDropdownProperties(e,g,p)},this))},setDropdownProperties:function(a,h,f){f&&void 0!==f.attr&&this.observe.setDropdownAttr(a,
f.attr,!0);void 0!==h.attr&&this.observe.setDropdownAttr(a,h.attr);void 0!==h.title&&a.find("span").text(h.title)},setDropdownAttr:function(a,h,f){d.each(h,function(g,e){"class"===g?f?a.removeClass(e):a.addClass(e):f?a.removeAttr(g):a.attr(g,e)})},addDropdown:function(a,h,f){void 0!==f.observe&&(f.item=a,this.opts.observe.dropdowns.push(f))},images:function(){this.opts.imageEditable&&(this.core.editor().addClass("redactor-layer-img-edit"),this.core.editor().find("img").each(d.proxy(function(a,h){h=
d(h);h.closest("a",this.$editor[0]).on("click",function(f){f.preventDefault()});this.image.setEditable(h)},this)))},links:function(){this.opts.linkTooltip&&this.core.editor().find("a").each(d.proxy(function(a,h){h=d(h);!0!==h.data("cached")&&(h.data("cached",!0),h.on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.showTooltip,this)))},this))},getTooltipPosition:function(a){return a.offset()},showTooltip:function(a){var h,f,g,e,m,p=d(a.target);"IMG"!==p[0].tagName&&
"A"===(p="A"!==p[0].tagName?p.closest("a",this.$editor[0]):p)[0].tagName&&(h=this.observe.getTooltipPosition(p),f=d('<span class="redactor-link-tooltip"></span>'),24<(g=void 0===(g=p.attr("href"))?"":g).length&&(g=g.substring(0,24)+"..."),g=d('<a href="'+p.attr("href")+'" target="_blank" />').html(g).addClass("redactor-link-tooltip-action"),e=d('<a href="#" />').html(this.lang.get("edit")).on("click",d.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),m=d('<a href="#" />').html(this.lang.get("unlink")).on("click",
d.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action"),f.append(g).append(" | ").append(e).append(" | ").append(m),g=parseInt(p.css("line-height"),10),e=Math.ceil((a.pageY-h.top)/g),m=h.top+e*g,f.css({top:m+"px",left:h.left+"px"}),d(".redactor-link-tooltip").remove(),d("body").append(f),this.core.editor().on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.closeTooltip,this)),d(document).on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,
d.proxy(this.observe.closeTooltip,this)))},closeAllTooltip:function(){d(".redactor-link-tooltip").remove()},closeTooltip:function(a){a=(a=a.originalEvent||a).target;var h=d(a).closest("a",this.$editor[0]);0!==h.length&&"A"===h[0].tagName&&"A"!==a.tagName||"A"===a.tagName&&this.utils.isRedactorParent(a)||d(a).hasClass("redactor-link-tooltip-action")||(this.observe.closeAllTooltip(),this.core.editor().off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.closeTooltip,
this)),d(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,d.proxy(this.observe.closeTooltip,this)))}}},offset:function(){return{get:function(a){var h;a=this.offset.clone(a);return!1===a?0:((h=document.createElement("div")).appendChild(a.cloneContents()),h.innerHTML=h.innerHTML.replace(/<img(.*?[^>])>$/gi,"i"),d.trim(d(h).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"").length)},clone:function(a){var h=this.selection.get();h=this.selection.range(h);if(null===h&&void 0===
a||!1===(a=void 0===a?this.$editor:a))return!1;a=a[0]||a;var f=h.cloneRange();return f.selectNodeContents(a),f.setEnd(h.endContainer,h.endOffset),f},set:function(a,h){h=void 0===h?a:h;this.focus.is()||this.focus.start();for(var f,g=this.selection.get(),e=this.selection.range(g),m=0,p=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);null!==(f=p.nextNode());)if(a<(m+=f.nodeValue.length)&&(e.setStart(f,f.nodeValue.length+a-m),a=1/0),h<=m){e.setEnd(f,f.nodeValue.length+h-m);break}e.collapse(!1);
this.selection.update(g,e)}}},paragraphize:function(){return{load:function(a){return!1===this.opts.paragraphize||"inline"===this.opts.type||"pre"===this.opts.type?a:""===a||"<p></p>"===a?this.opts.emptyHtml:(a+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,a=(a=(a=a.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>")).replace(/<\/pre>/gi,"</pre>\n\n")).replace(/<p>\s<br><\/p>/gi,"<p></p>"),a=(a=this.paragraphize.getSafes(a)).replace("<br>","\n"),a=this.paragraphize.convert(a),a=
this.paragraphize.clear(a),a=(a=this.paragraphize.restoreSafes(a)).replace(new RegExp("<br\\s?/?>\n?<("+this.opts.paragraphizeBlocks.join("|")+")(.*?[^>])>","gi"),"<p><br /></p>\n<$1$2>"),d.trim(a))},getSafes:function(a){a=d("<div />").append(a);return a.find("blockquote p").replaceWith(function(){return d(this).append("<br />").contents()}),a.find(this.opts.paragraphizeBlocks.join(", ")).each(d.proxy(function(h,f){f&&f.tagName&&"iframe"==f.tagName.toLowerCase()&&(f.innerHTML="");h=f.outerHTML;if(f&&
f.tagName)switch(f.tagName.toLowerCase()){case "ul":case "ol":h=(h=(h=h.replace(RegExp("(<brs*?>s*)*<li>(s*<brs*?>)*","gi"),"\n<li>")).replace(RegExp("(<brs*?>s*)*</ul>","gi"),"\n</ul>\n")).replace(RegExp("(<brs*?>s*)*</ol>","gi"),"\n</ol>\n");break;case "table":h=(h=(h=(h=h.replace(RegExp("(<brs*?>s*)*<(tr|td|tbody)>(s*<brs*?>)*","gi"),"\n<$2>")).replace(RegExp("(<brs*?>s*)*</table>","gi"),"\n</table>\n")).replace(RegExp("(<brs*?>s*)*</tbody>","gi"),"\n</tbody>")).replace(RegExp("(<brs*?>s*)*</tr>",
"gi"),"\n</tr>")}return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=h,d(f).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),a.find("span.redactor-selection-marker").each(d.proxy(function(h,f){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=f.outerHTML,d(f).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),a.html()},restoreSafes:function(a){return d.each(this.paragraphize.safes,function(h,f){f=void 0!==f?f.replace(/\$/g,
"&#36;"):f;a=a.replace("#####replace"+h+"#####",f)}),a},convert:function(a){a=(a=(a=(a=a.replace(/\r\n/g,"xparagraphmarkerz")).replace(/\n/g,"xparagraphmarkerz")).replace(/\r/g,"xparagraphmarkerz")).replace(/\s+/g," ");return("<p>"+d.trim(a).replace(/xparagraphmarkerzxparagraphmarkerz/gi,"</p><p>").replace(/xparagraphmarkerz/gi,"<br>")+"</p>").replace("<p></p>","").replace("\r\n\r\n","").replace(/<\/p><p>/g,"</p>\r\n\r\n<p>").replace(RegExp("<br\\s?/?></p>","g"),"</p>").replace(RegExp("<p><br\\s?/?>",
"g"),"<p>").replace(RegExp("<p><br\\s?/?>","g"),"<p>").replace(RegExp("<br\\s?/?></p>","g"),"</p>").replace(/<p>&nbsp;<\/p>/gi,"").replace(/<p>\s?<br>&nbsp;<\/p>/gi,"").replace(/<p>\s?<br>/gi,"<p>")},clear:function(a){return a.replace(/<p>(.*?)#####replace(.*?)#####\s?<\/p>/gi,"<p>$1</p>#####replace$2#####").replace(/(<br\s?\/?>){2,}<\/p>/gi,"</p>").replace(RegExp("</blockquote></p>","gi"),"</blockquote>").replace(RegExp("<p></blockquote>","gi"),"</blockquote>").replace(RegExp("<p><blockquote>","gi"),
"<blockquote>").replace(RegExp("<blockquote></p>","gi"),"<blockquote>").replace(RegExp("<p><p ","gi"),"<p ").replace(RegExp("<p><p>","gi"),"<p>").replace(RegExp("</p></p>","gi"),"</p>").replace(RegExp("<p>\\s?</p>","gi"),"").replace(RegExp("\n</p>","gi"),"</p>").replace(RegExp("<p>\t?\t?\n?<p>","gi"),"<p>").replace(RegExp("<p>\t*</p>","gi"),"")}}},paste:function(){return{init:function(a){this.rtePaste=!0;var h=!("pre"!==this.opts.type&&!this.utils.isCurrentOrParent("pre"));this.detect.isDesktop()&&
!this.paste.pre&&this.opts.clipboardImageUpload&&this.opts.imageUpload&&this.paste.detectClipboardUpload(a)?this.detect.isIe()&&setTimeout(d.proxy(this.paste.clipboardUpload,this),100):(this.utils.saveScroll(),this.selection.save(),this.paste.createPasteBox(h),d(window).on("scroll.redactor-freeze",d.proxy(function(){d(window).scrollTop(this.saveBodyScroll)},this)),setTimeout(d.proxy(function(){var f=this.paste.getPasteBoxCode(h),g=(this.buffer.set(),this.selection.restore(),this.utils.restoreScroll(),
this.clean.getCurrentType(f));f=this.clean.onPaste(f,g);var e=this.core.callback("paste",f);this.paste.insert(void 0===e?f:e,g);this.rtePaste=!1;h&&this.clean.cleanPre();d(window).off("scroll.redactor-freeze")},this),1))},getPasteBoxCode:function(a){a=a?this.$pasteBox.val():this.$pasteBox.html();return this.$pasteBox.remove(),a},createPasteBox:function(a){this.$pasteBox=(a?d("<textarea>"):d("<div>").attr("contenteditable","true")).css({position:"fixed",width:"1px",top:0,left:"-9999px"});this.paste.appendPasteBox();
this.$pasteBox.focus()},appendPasteBox:function(){var a;this.detect.isIe()?this.core.box().append(this.$pasteBox):0<(a=d(".modal-body:visible")).length?a.append(this.$pasteBox):d("body").prepend(this.$pasteBox)},detectClipboardUpload:function(a){var h=(a=a.originalEvent||a).clipboardData;return!this.detect.isIe()&&!this.detect.isFirefox()&&(-1!==h.types.indexOf("public.tiff")?(a.preventDefault(),!1):h.items&&h.items.length?(this.opts.imageUpload&&h.items[0].type.includes("image")&&a.preventDefault(),
null!==(a=h.items[0].getAsFile())&&((h=new FileReader).readAsDataURL(a),h.onload=d.proxy(this.paste.insertFromClipboard,this),!0)):void 0)},clipboardUpload:function(){var a=this.$editor.find("img");d.each(a,d.proxy(function(h,f){var g,e;-1!==f.src.search(/^data:image/i)&&(g=window.FormData?new FormData:null,window.FormData)&&(this.upload.direct=!0,this.upload.type="image",this.upload.url=this.opts.imageUpload,this.upload.callback=d.proxy(function(m){var p;this.detect.isIe()?d(f).wrap(d("<figure />")):
(p=d(f).parent(),this.utils.replaceToTag(p,"figure"),this.caret.after(d(f).parent()));f.src=m.url;this.core.callback("imageUpload",d(f),m)},this),e=this.utils.dataURItoBlob(f.src),g.append("clipboard",1),g.append(this.opts.imageUploadParam,e,this.paste.getImageNameWithExt(e)||"blob"),this.progress.show(),this.upload.send(g,!1),this.code.sync(),this.rtePaste=!1)},this))},insertFromClipboard:function(a){var h,f=window.FormData?new FormData:null;window.FormData&&(this.upload.direct=!0,this.upload.type=
"image",this.upload.url=this.opts.imageUpload,this.upload.callback=this.image.insert,h=this.utils.dataURItoBlob(a.target.result),f.append("clipboard",1),f.append(this.opts.imageUploadParam,h,this.paste.getImageNameWithExt(h)||"blob"),this.progress.show(),this.upload.send(f,a),this.rtePaste=!1)},insert:function(a,h){h.pre?this.insert.raw(a):h.text?this.insert.text(a):this.insert.html(a,h);this.detect.isFirefox()&&this.opts.imageUpload&&this.opts.clipboardImageUpload&&setTimeout(d.proxy(this.paste.clipboardUpload,
this),100)},getImageNameWithExt:function(a){return a.type.includes("image")?"image."+String(a.type).replace("image/",""):null}}},placeholder:function(){return{enable:function(){setTimeout(d.proxy(function(){return this.placeholder.isEditorEmpty()?this.placeholder.show():this.placeholder.hide()},this),this.detect.isMobile()&&this.detect.isSafari()?50:5)},show:function(){this.core.editor().addClass("redactor-placeholder")},update:function(a){this.opts.placeholder=a;this.core.editor().attr("placeholder",
a)},hide:function(){this.core.editor().removeClass("redactor-placeholder")},is:function(){return this.core.editor().hasClass("redactor-placeholder")},init:function(){this.placeholder.enabled()&&(this.utils.isEditorRelative()||this.utils.setEditorRelative(),this.placeholder.build(),this.placeholder.buildPosition(),this.placeholder.enable(),this.placeholder.enableEvents())},enabled:function(){return this.opts.placeholder?this.core.element().attr("placeholder",this.opts.placeholder):this.placeholder.isAttr()},
enableEvents:function(){this.core.editor().on("keydown.redactor-placeholder."+this.uuid,d.proxy(this.placeholder.enable,this))},disableEvents:function(){this.core.editor().off(".redactor-placeholder."+this.uuid)},build:function(){this.core.editor().attr("placeholder",this.core.element().attr("placeholder"))},buildPosition:function(){var a=d("<style />");a.addClass("redactor-placeholder-style-tag");a.html("#"+this.core.id()+".redactor-placeholder::after "+this.placeholder.getPosition());d("head").append(a)},
getPosition:function(){return"{ top: "+this.core.editor().css("padding-top")+"; left: "+this.core.editor().css("padding-left")+"; }"},isEditorEmpty:function(){var a=d.trim(this.core.editor().html()).replace(/[\t\n]/g,"");return-1!==d.inArray(a,["","<p>\u200b</p>","<p>\u200b<br></p>",this.opts.emptyHtmlRendered])},isAttr:function(){return void 0!==this.core.element().attr("placeholder")&&""!==this.core.element().attr("placeholder")},destroy:function(){this.core.editor().removeAttr("placeholder");this.placeholder.hide();
this.placeholder.disableEvents();d(".redactor-placeholder-style-tag").remove()}}},progress:function(){return{$box:null,$bar:null,target:document.body,show:function(){this.progress.is()?this.progress.$box.show():(this.progress.build(),this.progress.$box.redactorAnimation("fadeIn"))},hide:function(){this.progress.is()&&this.progress.$box.redactorAnimation("fadeOut",{duration:.35},d.proxy(this.progress.destroy,this))},update:function(a){this.progress.show();this.progress.$bar.css("width",a+"%")},is:function(){return null!==
this.progress.$box},build:function(){this.progress.$bar=d("<span />");this.progress.$box=d('<div id="redactor-progress" />');this.progress.$box.append(this.progress.$bar);d(this.progress.target).append(this.progress.$box)},destroy:function(){this.progress.is()&&this.progress.$box.remove();this.progress.$box=null;this.progress.$bar=null}}},selection:function(){return{get:function(){return window.getSelection?window.getSelection():document.selection&&"Control"!==document.selection.type?document.selection:
null},range:function(a){return(a=void 0===a?this.selection.get():a).getRangeAt&&a.rangeCount?a.getRangeAt(0):null},is:function(){return!this.selection.isCollapsed()},isRedactor:function(){var a=this.selection.range();return null!==a&&(a=a.startContainer.parentNode,d(a).hasClass("redactor-in")||0!==d(a).parents(".redactor-in").length)?!0:!1},isCollapsed:function(){var a=this.selection.get();return null!==a&&a.isCollapsed},update:function(a,h){null!==h&&(a.removeAllRanges(),a.addRange(h))},current:function(){var a=
this.selection.get();return null!==a&&a.anchorNode},parent:function(){var a=this.selection.current();return null!==a&&a.parentNode},block:function(a){for(a=a||this.selection.current();a;){if(this.utils.isBlockTag(a.tagName))return!d(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},inline:function(a){for(a=a||this.selection.current();a;){if(this.utils.isInlineTag(a.tagName))return!d(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},element:function(a){for(a=a||this.selection.current();a;){if(1===
a.nodeType)return!d(a).hasClass("redactor-in")&&a;a=a.parentNode}return!1},prev:function(){return null!==this.selection.current()&&this.selection.current().previousSibling},next:function(){return null!==this.selection.current()&&this.selection.current().nextSibling},blocks:function(a){var h=[];a=this.selection.nodes(a);a=(d.each(a,d.proxy(function(f,g){this.utils.isBlock(g)&&h.push(g)},this)),this.selection.block());return 0===h.length&&!1===a?[]:0===h.length&&!1!==a?[a]:h},inlines:function(a){var h=
[];a=this.selection.nodes(a);a=(d.each(a,d.proxy(function(f,g){this.utils.isInline(g)&&h.push(g)},this)),this.selection.inline());return 0===h.length&&!1===a?[]:0===h.length&&!1!==a?[a]:h},nodes:function(a){var h=void 0===a?[]:d.isArray(a)?a:[a];a=this.selection.get();a=this.selection.range(a);var f=[],g=[];if(this.utils.isCollapsed())f=[this.selection.current()];else{var e=a.startContainer,m=a.endContainer;if(e===m)return[this.selection.parent()];for(;e&&e!==m;)((e=this.selection.nextNode(e))!==
m||0<a.endOffset)&&f.push(e);for(e=a.startContainer;e&&e!==a.commonAncestorContainer;)f.unshift(e),e=e.parentNode}return d.each(f,function(p,u){var c;u&&(c=1===u.nodeType&&u.tagName.toLowerCase(),d(u).hasClass("redactor-script-tag")||d(u).hasClass("redactor-selection-marker")||c&&0!==h.length&&-1===d.inArray(c,h)||g.push(u))}),0===g.length?[]:g},nextNode:function(a){if(a.hasChildNodes())return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null},save:function(){this.marker.insert();
this.savedSel=this.core.editor().html()},restore:function(a){var h=this.marker.find(1),f=this.marker.find(2);this.detect.isFirefox()&&this.core.editor().focus();0!==h.length&&0!==f.length?this.caret.set(h,f):0!==h.length?this.caret.start(h):this.core.editor().focus();!1!==a&&(this.marker.remove(),this.savedSel=!1)},saveInstant:function(){var a,h=this.core.editor()[0],f=h.ownerDocument.defaultView.getSelection();if(f.getRangeAt&&f.rangeCount)return(a=(f=f.getRangeAt(0)).cloneRange()).selectNodeContents(h),
a.setEnd(f.startContainer,f.startOffset),h=a.toString().length,this.saved={start:h,end:h+f.toString().length,node:f.startContainer},this.saved},restoreInstant:function(a){if(void 0!==a||this.saved)if(this.saved=void 0!==a?a:this.saved,a=this.core.editor().find(this.saved.node),0!==a.length&&0===a.text().trim().replace(/\u200B/g,"").length)try{(h=document.createRange()).setStart(a[0],0),(g=window.getSelection()).removeAllRanges(),g.addRange(h)}catch(c){}else{var h,f,g;a=this.core.editor()[0];var e=
a.ownerDocument;g=e.defaultView;var m=0;e=((h=e.createRange()).setStart(a,0),h.collapse(!0),[a]);for(var p=a=!1;!p&&(f=e.pop());)if(3==f.nodeType){var u=m+f.length;!a&&this.saved.start>=m&&this.saved.start<=u&&(h.setStart(f,this.saved.start-m),a=!0);a&&this.saved.end>=m&&this.saved.end<=u&&(h.setEnd(f,this.saved.end-m),p=!0);m=u}else for(u=f.childNodes.length;u--;)e.push(f.childNodes[u]);(g=g.getSelection()).removeAllRanges();g.addRange(h)}},node:function(a){d(a).prepend(this.marker.get(1));d(a).append(this.marker.get(2));
this.selection.restore()},all:function(){this.core.editor().focus();var a=this.selection.get(),h=this.selection.range(a);h.selectNodeContents(this.core.editor()[0]);this.selection.update(a,h)},remove:function(){this.selection.get().removeAllRanges()},replace:function(a){this.insert.html(a)},text:function(){return this.selection.get().toString()},html:function(){var a="",h=this.selection.get();if(h.rangeCount){a=document.createElement("div");for(var f=h.rangeCount,g=0;g<f;++g)a.appendChild(h.getRangeAt(g).cloneContents());
a=this.clean.onGet(a.innerHTML)}return a},extractEndOfNode:function(a){var h=this.selection.get();h=this.selection.range(h);var f=h.cloneRange();return f.selectNodeContents(a),f.setStart(h.endContainer,h.endOffset),f.extractContents()},removeMarkers:function(){this.marker.remove()},marker:function(a){return this.marker.get(a)},markerHtml:function(a){return this.marker.html(a)}}},shortcuts:function(){return{hotkeysSpecialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",
19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",
222:"'"},hotkeysShiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},init:function(a,h){if(!1===this.opts.shortcuts)return!a.ctrlKey&&!a.metaKey||66!==h&&73!==h||a.preventDefault(),!1;d.each(this.opts.shortcuts,d.proxy(function(f,g){this.shortcuts.build(a,f,g)},this))},build:function(a,h,f){var g=d.proxy(function(){this.shortcuts.buildHandler(f)},this);h=h.split(",");for(var e=h.length,m=0;m<e;m++)"string"==
typeof h[m]&&this.shortcuts.handler(a,d.trim(h[m]),g)},buildHandler:function(a){var h;"-1"!==a.func.search(/\./)?void 0!==this[(h=a.func.split("."))[0]]&&this[h[0]][h[1]].apply(this,a.params):this[a.func].apply(this,a.params)},handler:function(a,h,f){h=h.toLowerCase().split(" ");var g=this.shortcuts.hotkeysSpecialKeys[a.keyCode],e=String.fromCharCode(a.which).toLowerCase(),m="",p={};e=(d.each(["alt","ctrl","meta","shift"],function(c,l){a[l+"Key"]&&g!==l&&(m+=l+"+")}),g&&(p[m+g]=!0),e&&(p[m+e]=!0,
p[m+this.shortcuts.hotkeysShiftNums[e]]=!0,"shift+"===m)&&(p[this.shortcuts.hotkeysShiftNums[e]]=!0),h.length);for(var u=0;u<e;u++)if(p[h[u]])return a.preventDefault(),f.apply(this,arguments)}}},storage:function(){return{data:[],add:function(a){a.status=!0;a.url=decodeURI(a.url);this.storage.data[a.url]=a},status:function(a,h){this.storage.data[decodeURI(a)].status=h},observe:function(){var a=this;this.core.editor().find("[data-image]").each(function(h,f){a.storage.add({type:"image",node:f,url:f.src,
id:d(f).attr("data-image")})});this.core.editor().find("[data-file]").each(function(h,f){a.storage.add({type:"file",node:f,url:f.href,id:d(f).attr("data-file")})});this.core.editor().find("[data-s3]").each(function(h,f){a.storage.add({type:"s3",node:f,url:"IMG"===f.tagName?f.src:f.href,id:d(f).attr("data-s3")})})},changes:function(){for(var a in this.storage.data){a=this.storage.data[a];var h="IMG"===a.node.tagName?"src":"href";0===this.core.editor().find("[data-"+a.type+"]["+h+'="'+a.url+'"]').length?
this.storage.status(a.url,!1):this.storage.status(a.url,!0)}return this.storage.data}}},toolbar:function(){return{build:function(){this.button.hideButtons();this.button.hideButtonsOnMobile();this.$toolbarBox=d("<div />").addClass("redactor-toolbar-box");this.$toolbar=this.toolbar.createContainer();this.$toolbarBox.append(this.$toolbar);this.toolbar.append();this.button.$toolbar=this.$toolbar;this.button.setFormatting();this.button.load(this.$toolbar);this.toolbar.setOverflow();this.toolbar.setFixed()},
createContainer:function(){return d("<ul>").addClass("redactor-toolbar").attr({id:"redactor-toolbar-"+this.uuid,role:"toolbar"})},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),d(this.opts.toolbarExternal).html(this.$toolbarBox)):"textarea"===this.opts.type?this.$box.prepend(this.$toolbarBox):this.$element.before(this.$toolbarBox)},setOverflow:function(){this.opts.toolbarOverflow&&this.$toolbar.addClass("redactor-toolbar-overflow")},setFixed:function(){var a;
this.opts.toolbarFixed&&!this.opts.toolbarExternal&&(this.opts.toolbarFixedTarget!==document&&(a=d(this.opts.toolbarFixedTarget),this.toolbar.toolbarOffsetTop=0===a.length?0:this.core.box().offset().top-a.offset().top),a=0!==this.core.box().closest(".modal-body").length?1E3:0,setTimeout(d.proxy(function(){var h=this;this.toolbar.observeScroll(!1);this.detect.isDesktop()?d(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){100>h.core.editor().height()||h.placeholder.isEditorEmpty()||
h.toolbar.observeScroll()}):d(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){100>h.core.editor().height()||h.placeholder.isEditorEmpty()||(h.core.toolbar().hide(),clearTimeout(d.data(this,"scrollCheck")),d.data(this,"scrollCheck",setTimeout(function(){h.core.toolbar().show();h.toolbar.observeScroll()},250)))})},this),a))},setUnfixed:function(){this.toolbar.observeScrollDisable()},getBoxTop:function(){return this.opts.toolbarFixedTarget===document?this.core.box().offset().top:
this.toolbar.toolbarOffsetTop},observeScroll:function(a){var h=0;a=(!1!==a&&(h=this.opts.toolbarFixedTarget===document?20:0),d(this.opts.toolbarFixedTarget).scrollTop());var f=this.toolbar.getBoxTop();a!==f&&(a+this.opts.toolbarFixedTopOffset+h>f?this.toolbar.observeScrollEnable(a,f):this.toolbar.observeScrollDisable())},observeScrollResize:function(){this.$toolbar.css({width:this.core.box().innerWidth(),left:this.core.box().offset().left})},observeScrollEnable:function(a,h){var f,g,e,m,p;void 0!==
this.fullscreen&&!1===this.fullscreen.isOpened?this.toolbar.observeScrollDisable():(f=h+this.core.box().outerHeight()-32,g=this.core.box().innerWidth(),e=this.detect.isDesktop()?"fixed":"absolute",m=this.detect.isDesktop()?this.opts.toolbarFixedTopOffset:d(this.opts.toolbarFixedTarget).scrollTop()-h+this.opts.toolbarFixedTopOffset,p=this.detect.isDesktop()?this.core.box().offset().left:0,this.opts.toolbarFixedTarget!==document&&(e="absolute",m=this.opts.toolbarFixedTopOffset+d(this.opts.toolbarFixedTarget).scrollTop()-
h,p=0),this.$toolbar.addClass("toolbar-fixed-box"),this.$toolbar.css({position:e,width:g,top:m,left:p}),f<a&&d(".redactor-dropdown-"+this.uuid+":visible").hide(),this.toolbar.setDropdownsFixed(),this.$toolbar.css("visibility",a<f?"visible":"hidden"),d(window).on("resize.redactor-toolbar."+this.uuid,d.proxy(this.toolbar.observeScrollResize,this)))},observeScrollDisable:function(){this.$toolbar.css({position:"relative",width:"auto",top:0,left:0,visibility:"visible"});this.toolbar.unsetDropdownsFixed();
this.$toolbar.removeClass("toolbar-fixed-box");d(window).off("resize.redactor-toolbar."+this.uuid)},setDropdownsFixed:function(){var a=this.opts.toolbarFixedTarget===document&&this.detect.isDesktop()?"fixed":"absolute";this.toolbar.setDropdownPosition(a)},unsetDropdownsFixed:function(){this.toolbar.setDropdownPosition("absolute")},setDropdownPosition:function(a){var h=this;d(".redactor-dropdown-"+this.uuid).each(function(){var f=d(this),g=h.button.get(f.attr("rel")),e="fixed"===a?h.opts.toolbarFixedTopOffset:
g.offset().top;f.css({position:a,top:g.innerHeight()+e+"px"})})}}},upload:function(){return{init:function(a,h,f){this.upload.direct=!1;this.upload.callback=f;this.upload.url=h;this.upload.$el=d(a);this.upload.$droparea=d('<div id="redactor-droparea" />');this.upload.$placeholdler=d('<div id="redactor-droparea-placeholder" />').text(this.lang.get("upload-label"));this.upload.$input=d('<input type="file" name="file" multiple />');this.upload.$placeholdler.append(this.upload.$input);this.upload.$droparea.append(this.upload.$placeholdler);
this.upload.$el.append(this.upload.$droparea);this.upload.$droparea.off("redactor.upload");this.upload.$input.off("redactor.upload");this.upload.$droparea.on("dragover.redactor.upload",d.proxy(this.upload.onDrag,this));this.upload.$droparea.on("dragleave.redactor.upload",d.proxy(this.upload.onDragLeave,this));this.upload.$input.on("change.redactor.upload",d.proxy(function(g){g=g.originalEvent||g;for(var e=this.upload.$input[0].files.length,m=0;m<e;m++)this.upload.traverseFile(this.upload.$input[0].files[e-
1-m],g)},this));this.upload.$droparea.on("drop.redactor.upload",d.proxy(function(g){g.preventDefault();this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop");this.upload.onDrop(g)},this))},directUpload:function(a,h){this.upload.direct=!0;this.upload.traverseFile(a,h)},onDrop:function(a){var h=(a=a.originalEvent||a).dataTransfer.files;if(this.opts.multipleImageUpload)for(var f=h.length,g=0;g<f;g++)this.upload.traverseFile(h[g],a);else this.upload.traverseFile(h[0],a)},traverseFile:function(a,
h){if(this.opts.s3)return this.upload.setConfig(a),this.upload.url?void this.uploads3.send(a,h):void 0;var f=window.FormData?new FormData:null;if(window.FormData){if(this.upload.setConfig(a),!this.upload.url)return;f.append("image"===this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam,a)}this.progress.show();!1!==this.core.callback("uploadStart",h,f)&&this.upload.send(f,h)},setConfig:function(a){this.upload.getType(a);this.upload.direct&&(this.upload.url="image"===this.upload.type?
this.opts.imageUpload:this.opts.fileUpload,this.upload.callback=("image"===this.upload.type?this.image:this.file).insert)},getType:function(a){this.upload.type=-1===this.opts.imageTypes.indexOf(a.type)?"file":"image";null===this.opts.imageUpload&&null!==this.opts.fileUpload&&(this.upload.type="file")},getHiddenFields:function(a,h){return!1!==a&&"object"==typeof a&&d.each(a,d.proxy(function(f,g){null!==g&&0===g.toString().indexOf("#")&&(g=d(g).val());h.append(f,g)},this)),h},send:function(a,h){a="image"===
this.upload.type?(a=this.utils.appendFields(this.opts.imageUploadFields,a),a=this.utils.appendForms(this.opts.imageUploadForms,a),this.upload.getHiddenFields(this.upload.imageFields,a)):(this.opts.fileUploadFields||(this.opts.fileUploadFields={}),!this.opts.fileUploadFields._csrf&&this.opts.imageUploadFields&&this.opts.imageUploadFields._csrf&&(this.opts.fileUploadFields._csrf=this.opts.imageUploadFields._csrf),a=this.utils.appendFields(this.opts.fileUploadFields,a),a=this.utils.appendForms(this.opts.fileUploadForms,
a),this.upload.getHiddenFields(this.upload.fileFields,a));var f=new XMLHttpRequest;f.open("POST",this.upload.url);f.setRequestHeader("X-Requested-With","XMLHttpRequest");f.onreadystatechange=d.proxy(function(){if(4===f.readyState){var g=f.responseText;g=(g=g.replace(/^\[/,"")).replace(/\]$/,"");try{var e="string"==typeof g?JSON.parse(g):g}catch(m){e={error:!0}}this.progress.hide();this.upload.direct||this.upload.$droparea.removeClass("drag-drop");"object"==typeof e&&e&&"fail"===e.status||this.upload.callback(e,
this.upload.direct,h)}},this);!1!==this.core.callback("uploadBeforeSend",f)&&f.send(a)},onDrag:function(a){a.preventDefault();this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(a){a.preventDefault();this.upload.$droparea.removeClass("drag-hover")},clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(a,h){this.upload.imageFields[a]=h},removeImageFields:function(a){delete this.upload.imageFields[a]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(a,
h){this.upload.fileFields[a]=h},removeFileFields:function(a){delete this.upload.fileFields[a]}}},uploads3:function(){return{send:function(a,h){this.uploads3.executeOnSignedUrl(a,d.proxy(function(f){this.uploads3.sendToS3(a,f,h)},this))},executeOnSignedUrl:function(a,h){var f=new XMLHttpRequest,g=-1===this.opts.s3.search(/\?/)?"?":"&",e=(f.open("GET",this.opts.s3+g+"name="+a.name+"&type="+a.type,!0),f.overrideMimeType&&f.overrideMimeType("text/plain; charset=x-user-defined"),this);f.onreadystatechange=
function(m){4===this.readyState&&200===this.status&&(e.progress.show(),h(decodeURIComponent(this.responseText)))};f.send()},createCORSRequest:function(a,h){var f=new XMLHttpRequest;return"withCredentials"in f?f.open(a,h,!0):"undefined"!=typeof XDomainRequest?(f=new XDomainRequest).open(a,h):f=null,f},sendToS3:function(a,h,f){var g=this.uploads3.createCORSRequest("PUT",h);g&&(g.onload=d.proxy(function(){if(this.progress.hide(),200!==g.status)this.upload.callback({error:!0},this.upload.direct,g);else{var e=
h.split("?");if(!e[0])return!1;this.upload.direct||this.upload.$droparea.removeClass("drag-drop");var m={url:e[0],id:e[0],s3:!0};"file"===this.upload.type&&(e=e[0].split("/"),m.name=e[e.length-1]);this.upload.callback(m,this.upload.direct,f)}},this),g.onerror=function(){},g.upload.onprogress=function(e){},g.setRequestHeader("Content-Type",a.type),g.setRequestHeader("x-amz-acl","public-read"),g.send(a))}}},utils:function(){return{isEmpty:function(a){return a=(a=(a=(a=(a=(a=(a=(a=(a=(a=void 0===a?this.core.editor().html():
a).replace(/[\u200B-\u200D\uFEFF]/g,"")).replace(/&nbsp;/gi,"")).replace(/<\/?br\s?\/?>/g,"")).replace(/\s/g,"")).replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,"")).replace(/<iframe(.*?[^>])>$/i,"iframe")).replace(/<source(.*?[^>])>$/i,"source")).replace(/<[^\/>][^>]*><\/[^>]+>/gi,"")).replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),""===d.trim(a)},isElement:function(a){try{return a instanceof HTMLElement}catch(h){return"object"==typeof a&&1===a.nodeType&&"object"==typeof a.style&&"object"==typeof a.ownerDocument}},
strpos:function(a,h,f){a=a.indexOf(h,f);return 0<=a&&a},dataURItoBlob:function(a){var h=(0<=a.split(",")[0].indexOf("base64")?atob:unescape)(a.split(",")[1]);a=a.split(",")[0].split(":")[1].split(";")[0];for(var f=new Uint8Array(h.length),g=0;g<h.length;g++)f[g]=h.charCodeAt(g);return new Blob([f],{type:a})},getOuterHtml:function(a){return d("<div>").append(d(a).eq(0).clone()).html()},cloneAttributes:function(a,h){a=a[0]||a;h=d(h);a=a.attributes;for(var f=a.length;f--;){var g=a[f];h.attr(g.name,g.value)}return h},
breakBlockTag:function(){var a,h,f=this.selection.block();return!!f&&(a=this.utils.isEmpty(f.innerHTML),"pre"!==(h=f.tagName.toLowerCase()))&&"li"!==h&&"td"!==h&&"th"!==h&&(!a&&this.utils.isStartOfElement(f)?{$block:d(f),$next:d(f).next(),type:"start"}:!a&&this.utils.isEndOfElement(f)?{$block:d(f),$next:d(f).next(),type:"end"}:(a=this.selection.extractEndOfNode(f),h=d("<"+h+" />").append(a),h=this.utils.cloneAttributes(f,h),d(f).after(h),{$block:d(f),$next:h,type:"break"}))},inBlocks:function(a){a=
d.isArray(a)?a:[a];for(var h,f=this.selection.blocks(),g=f.length,e=!1,m=0;m<g;m++)!1!==f[m]&&(h=f[m].tagName.toLowerCase(),-1!==d.inArray(h,a))&&(e=!0);return e},inInlines:function(a){a=d.isArray(a)?a:[a];for(var h=this.selection.inlines(),f=h.length,g=!1,e=0;e<f;e++){var m=h[e].tagName.toLowerCase();-1!==d.inArray(m,a)&&(g=!0)}return g},isTag:function(a,h){a=d(a).closest(h,this.core.editor()[0]);return 1===a.length&&a[0]},isBlock:function(a){return null!==a&&(a=a[0]||a)&&this.utils.isBlockTag(a.tagName)},
isBlockTag:function(a){return void 0!==a&&this.reIsBlock.test(a)},isInline:function(a){return(a=a[0]||a)&&this.utils.isInlineTag(a.tagName)},isInlineTag:function(a){return void 0!==a&&this.reIsInline.test(a)},isRedactorParent:function(a){return!!a&&0!==d(a).parents(".redactor-in").length&&!d(a).hasClass("redactor-in")&&a},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent("H1 H2 H3 H4 H5 H6".split(" "))},isCurrentOrParent:function(a){var h,f=this.selection.parent(),g=this.selection.current();
return d.isArray(a)?(h=0,d.each(a,d.proxy(function(e,m){this.utils.isCurrentOrParentOne(g,f,m)&&h++},this)),0!==h):this.utils.isCurrentOrParentOne(g,f,a)},isCurrentOrParentOne:function(a,h,f){return f=f.toUpperCase(),h&&h.tagName===f?h:!(!a||a.tagName!==f)&&a},isEditorRelative:function(){var a=this.core.editor().css("position");return-1!==d.inArray(["absolute","fixed","relative"],a)},setEditorRelative:function(){this.core.editor().addClass("redactor-relative")},getScrollTarget:function(){var a=d(this.opts.scrollTarget);
return 0!==a.length?a:d(document)},freezeScroll:function(){this.freezeScrollTop=this.utils.getScrollTarget().scrollTop();this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},unfreezeScroll:function(){void 0!==this.freezeScrollTop&&this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},saveScroll:function(){this.tmpScrollTop=this.utils.getScrollTarget().scrollTop()},restoreScroll:function(){void 0!==this.tmpScrollTop&&this.utils.getScrollTarget().scrollTop(this.tmpScrollTop)},isStartOfElement:function(a){return!(void 0===
a&&!(a=this.selection.block()))&&0===this.offset.get(a)},isEndOfElement:function(a){var h;return!(void 0===a&&!(a=this.selection.block()))&&(h=d.trim(d(a).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,""),this.offset.get(a)===h.length)},removeEmptyAttr:function(a,h){a=d(a);return void 0===a.attr(h)||""===a.attr(h)&&(a.removeAttr(h),!0)},replaceToTag:function(a,h){var f;return d(a).replaceWith(function(){f=d("<"+h+" />").append(d(this).contents());for(var g=0;g<this.attributes.length;g++)f.attr(this.attributes[g].name,
this.attributes[g].value);return f}),f},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=!0},disableSelectAll:function(){this.selectAll=!1},disableBodyScroll:function(){var a=d("html"),h=window.innerWidth,f=(h||=(f=document.documentElement.getBoundingClientRect()).right-Math.abs(f.left),document.body.clientWidth<h);h=this.utils.measureScrollbar();a.css("overflow","hidden");f&&a.css("padding-right",h)},measureScrollbar:function(){var a=d("body"),h=document.createElement("div"),
f=(h.className="redactor-scrollbar-measure",a.append(h),h.offsetWidth-h.clientWidth);return a[0].removeChild(h),f},enableBodyScroll:function(){d("html").css({overflow:"","padding-right":""});d("body").remove("redactor-scrollbar-measure")},appendFields:function(a,h){return a&&("object"==typeof a?d.each(a,function(f,g){null!==g&&0===g.toString().indexOf("#")&&(g=d(g).val());h.append(f,g)}):0!==(a=d(a)).length&&a.each(function(){h.append(d(this).attr("name"),d(this).val())})),h},appendForms:function(a,
h){return a&&0!==(a=d(a)).length&&(a=a.serializeArray(),d.each(a,function(f,g){h.append(g.name,g.value)})),h},isRgb:function(a){return 0===a.search(/^rgb/i)},rgb2hex:function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""},isCollapsed:function(){return this.selection.isCollapsed()},isMobile:function(){return this.detect.isMobile()},
isDesktop:function(){return this.detect.isDesktop()},isPad:function(){return this.detect.isIpad()}}},browser:function(){return{webkit:function(){return this.detect.isWebkit()},ff:function(){return this.detect.isFirefox()},ie:function(){return this.detect.isIe()}}}};d(window).on("load.tools.redactor",function(){d('[data-tools="redactor"]').redactor()});N.prototype.init.prototype=N.prototype}(jQuery);
(function(d){function N(X,a,h,f){var g={duration:.5,iterate:1,delay:0,prefix:"redactor-",timing:"linear"};this.animation=a;this.slide="slideDown"===this.animation||"slideUp"===this.animation;this.$element=d(X);this.prefixes=["","-moz-","-o-animation-","-webkit-"];this.queue=[];"function"==typeof h?(f=h,this.opts=g):this.opts=d.extend(g,h);this.slide&&this.$element.height(this.$element.height());this.init(f)}d.fn.redactorAnimation=function(X,a,h){return this.each(function(){new N(this,X,a,h)})};N.prototype=
{init:function(X){this.queue.push(this.animation);this.clean();"show"===this.animation?(this.opts.timing="linear",this.$element.removeClass("hide").show(),"function"==typeof X&&X(this)):"hide"===this.animation?(this.opts.timing="linear",this.$element.hide(),"function"==typeof X&&X(this)):this.animate(X)},animate:function(X){this.$element.addClass("redactor-animated").css("display","").removeClass("hide");this.$element.addClass(this.opts.prefix+this.queue[0]);this.set(this.opts.duration+"s",this.opts.delay+
"s",this.opts.iterate,this.opts.timing);var a=1<this.queue.length?null:X;this.complete("AnimationEnd",d.proxy(function(){this.$element.hasClass(this.opts.prefix+this.queue[0])&&(this.clean(),this.queue.shift(),this.queue.length)&&this.animate(X)},this),a)},set:function(X,a,h,f){for(var g=this.prefixes.length;g--;)this.$element.css(this.prefixes[g]+"animation-duration",X),this.$element.css(this.prefixes[g]+"animation-delay",a),this.$element.css(this.prefixes[g]+"animation-iteration-count",h),this.$element.css(this.prefixes[g]+
"animation-timing-function",f)},clean:function(){this.$element.removeClass("redactor-animated");this.$element.removeClass(this.opts.prefix+this.queue[0]);this.set("","","","")},complete:function(X,a,h){this.$element.one(X.toLowerCase()+" webkit"+X+" o"+X+" MS"+X,d.proxy(function(){"function"==typeof a&&a();"function"==typeof h&&h(this);-1!==d.inArray(this.animation,"fadeOut slideUp zoomOut slideOutUp slideOutRight slideOutLeft".split(" "))&&this.$element.css("display","none");this.slide&&this.$element.css("height",
"")},this))}}})(jQuery);
jQuery.Redactor.prototype.alignment=function(){return{langs:{en:{align:"Align","align-left":"Align Left","align-center":"Align Center","align-right":"Align Right","align-justify":"Align Justify"}},init:function(){var d=this,N={};d=(N.left={title:d.lang.get("align-left"),func:d.alignment.setLeft},N.center={title:d.lang.get("align-center"),func:d.alignment.setCenter},N.right={title:d.lang.get("align-right"),func:d.alignment.setRight},N.justify={title:d.lang.get("align-justify"),func:d.alignment.setJustify},
this.button.add("alignment",this.lang.get("align")));this.button.setIcon(d,'<i class="re-icon-alignment"></i>');this.button.addDropdown(d,N)},removeAlign:function(){this.block.removeAttr("style")},setLeft:function(){this.buffer.set();this.alignment.removeAlign()},setCenter:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: center"});this.core.editor().focus()},setRight:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: right"});
this.core.editor().focus()},setJustify:function(){this.buffer.set();this.alignment.removeAlign();this.block.addAttr({style:"text-align: justify"});this.core.editor().focus()}}};var RedactorPlugins=RedactorPlugins||{};
!function(){function d(N,X,a,h,f){return function(){var g;return{locfn:window.$_||function(e){return e},langs:{en:{"code-to-insert":"Code to insert","blockquote-to-insert":"Blockquote to insert"}},init:function(){g=this[N];h=g.locfn(h);g.initToolbar();g.initEvents();g.initModal()},initToolbar:function(){var e=this.button.add(N,h);this.button.addCallback(e,g.show);this.button.setIcon(e,'<i class="'+a+'"></i>')},initEvents:function(){var e=null;this.$editor.on("keydown.redactor-"+N,$.proxy(function(m){m.which!=
this.keyCode.DOWN&&m.which!=this.keyCode.UP||(e=this.caret.getOffset())},this));this.$editor.on("keyup.redactor-"+N,$.proxy(function(m){if((m.which==this.keyCode.DOWN||m.which==this.keyCode.UP)&&e==this.caret.getOffset()){var p=$(this.selection.getBlock());if(p.length&&p.is(X)){var u=m.which==this.keyCode.DOWN?p.next():p.prev();if(u.length){if(""!=$.trim(u.text()))return;u.html("&#8203;")}else u=g.insertNewline(p),m.which==this.keyCode.UP&&u.insertBefore(p);this.caret.setStart(u)}}},this))},initModal:function(){this.modal.addTemplate(N,
g.getTemplate());this.modal.addCallback(N,function(){this.modal.getCancelButton();this.modal.getActionButton(g.locfn("Insert")).on("click",function(){g.insertSnippet($("#h-"+N+"-textarea").val())})})},getTemplate:function(){return'<div class="modal-section" id="redactor-modal-'+N+'-insert"><section><label>'+this.lang.get(f)+'</label><textarea id="h-'+N+'-textarea" style="height: 200px"></textarea></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+
this.lang.get("cancel")+"</button></section></div>"},show:function(){this.buffer.set();this.selection.save();this.modal.load(N,h,800);this.modal.show();this.detect.isDesktop()&&setTimeout(function(){$("#h-"+N+"-textarea").focus()},1)},insertSnippet:function(e){this.modal.close();this.selection.restore();g.insertNewline($("<"+X+">").text(e).insertAfter(this.selection.current()));this.code.sync()},insertNewline:function(e){return $("<p>&#8203;</p>").insertAfter(e)}}}}RedactorPlugins.codeblock=d("codeblock",
"pre","re-icon-html","Insert code block","code-to-insert");RedactorPlugins.blockquote=d("blockquote","blockquote","re-icon-clips","Insert quote","blockquote-to-insert");$.wa&&($.wa.RedactorCodeblockPluginFactory=d)}();
(function(d){d.Redactor.prototype.fontcolor=function(){return{langs:{en:{fontcolor:"Text Color","fontcolor-highlight":"Highlight","fontcolor-text":"Text","fontcolor-none":"None"}},init:function(){var N="#ffffff #000000 #ff0000 #cc0000 #4f81bd #c0504d #9bbb59 #8064a2 #4bacc6 #f79646 #ffff00 #f2f2f2 #7f7f7f #0000ff #0000cc #dbe5f1 #f2dcdb #ebf1dd #e5e0ec #dbeef3 #fdeada #fff2ca #d8d8d8 #595959 #00ff00 #00cc00 #b8cce4 #e5b9b7 #d7e3bc #ccc1d9 #b7dde8 #fbd5b5 #ffe694 #bfbfbf #3f3f3f #7bed0c #59a60d #95b3d7 #d99694 #c3d69b #b2a2c7 #b7dde8 #fac08f #f2c314 #a5a5a5 #262626 #00ffff #00cccc #366092 #953734 #76923c #5f497a #92cddc #e36c09 #c09100 #7f7f7f #0c0c0c #ff00ff #cc00cc #244061 #632423 #4f6128 #3f3151 #31859b #974806 #7f6000".split(" "),X=
this.button.add("fontcolor",this.lang.get("fontcolor")),a=(this.button.setIcon(X,'<i class="re-icon-fontcolor"></i>'),this.button.addDropdown(X));X=(a.attr("rel","fontcolor"),a.width(242),d('<div style="overflow: hidden; text-align: center;">'));var h=d('<span rel="text" class="re-dropdown-box-selector-font" style="background: #eee; float: left; padding: 8px 0; cursor: pointer; font-size: 12px; width: 50%;">'+this.lang.get("fontcolor-text")+"</span>"),f=d('<span rel="back" class="re-dropdown-box-selector-font" style="float: left; padding: 8px 0; cursor: pointer; font-size: 12px; width: 50%;">'+
this.lang.get("fontcolor-highlight")+"</span>");X.append(h);X.append(f);a.append(X);this.fontcolor.buildPicker(a,"textcolor",N);this.fontcolor.buildPicker(a,"backcolor",N);h.on("mousedown",function(g){g.preventDefault();a.find(".re-dropdown-box-selector-font").css("background","none");a.find(".re-dropdown-box-backcolor").hide();a.find(".re-dropdown-box-textcolor").show();d(this).css("background","#eee")});f.on("mousedown",function(g){g.preventDefault();a.find(".re-dropdown-box-selector-font").css("background",
"none");a.find(".re-dropdown-box-textcolor").hide();a.find(".re-dropdown-box-backcolor").show();d(this).css("background","#eee")})},buildPicker:function(N,X,a){function h(l){l.preventDefault();m.fontcolor.set(d(this).data("rule"),d(this).attr("rel"))}for(var f=d('<div class="re-dropdown-box-'+X+'">'),g="backcolor"==X?"background-color":"color",e=a.length,m=this,p=0;p<e;p++){var u=a[p],c=d('<a rel="'+u+'" data-rule="'+g+'" href="#" style="float: left; box-sizing: border-box; font-size: 0; border: 2px solid #fff; padding: 0; margin: 0; width: 22px; height: 22px;"></a>');
c.css("background-color",u);c.on("mousedown",h);f.append(c)}a=d('<a href="#" style="display: block; clear: both; padding: 8px 5px; box-sizing: border-box; font-size: 12px; line-height: 1;"></a>').html(this.lang.get("fontcolor-none"));a.on("mousedown",d.proxy(function(l){l.preventDefault();this.fontcolor.remove(g)},this));f.append(a);N.append(f);"backcolor"==X&&f.hide()},set:function(N,X){this.inline.format("span","style",N+": "+X+";");this.dropdown.hide()},remove:function(N){this.inline.removeStyleRule(N);
this.dropdown.hide()}}}})(jQuery);
(function(d){d.Redactor.prototype.fontfamily=function(){return{langs:{en:{fontfamily:"Font","fontfamily-remove":"Remove Font Family"}},init:function(){var N=this,X={},a=(d.each("Arial;Helvetica;Georgia;Times New Roman;Verdana;Monospace".split(";"),function(h,f){X["s"+h]={title:f,func:function(){N.fontfamily.set(f)}}}),X.remove={title:this.lang.get("fontfamily-remove"),func:N.fontfamily.reset},this.button.add("fontfamily",this.lang.get("fontfamily")));this.button.setIcon(a,'<i class="re-icon-fontfamily"></i>');
this.button.addDropdown(a,X)},set:function(N){this.inline.format("span","style","font-family:"+N+";")},reset:function(){this.inline.removeStyleRule("font-family")}}}})(jQuery);
(function(d){d.Redactor.prototype.fontsize=function(){return{langs:{en:{fontsize:"Size","fontsize-remove":"Remove Font Size"}},init:function(){var N=this,X={},a=(d.each([10,11,12,14,16,18,20,24,28,30],function(h,f){X["s"+h]={title:f+"px",func:function(){N.fontsize.set(f)}}}),X.remove={title:this.lang.get("fontsize-remove"),func:N.fontsize.reset},this.button.add("fontsize",this.lang.get("fontsize")));this.button.setIcon(a,'<i class="re-icon-fontsize"></i>');this.button.addDropdown(a,X)},set:function(N){this.inline.format("span",
"style","font-size: "+N+"px;")},reset:function(){this.inline.removeStyleRule("font-size")}}}})(jQuery);
(function(d){d.Redactor.prototype.inlinestyle=function(){return{langs:{en:{style:"Style","style-marked":"Marked","style-code":"Code","style-sample":"Sample","style-variable":"Variable","style-shortcut":"Shortcut","style-cite":"Cite","style-sup":"Superscript","style-sub":"Subscript"}},init:function(){var N=this,X={},a=(d.each({marked:{title:"style-marked",args:["mark"]},code:{title:"style-code",args:["code"]},sample:{title:"style-sample",args:["samp"]},variable:{title:"style-variable",args:["var"]},
shortcut:{title:"style-shortcut",args:["kbd"]},cite:{title:"style-cite",args:["cite"]},sup:{title:"style-sup",args:["sup"]},sub:{title:"style-sub",args:["sub"]}},function(h,f){X[h]={title:N.lang.get(f.title),func:"inline.format",args:f.args}}),this.button.addAfter("format","inline",this.lang.get("style")));this.button.setIcon(a,'<i class="re-icon-inline"></i>');this.button.addDropdown(a,X)}}}})(jQuery);
(function(d){d.Redactor.prototype.properties=function(){return{langs:{en:{properties:"Properties"}},block:!1,labelStyle:{position:"absolute",padding:"2px 5px","line-height":1,"border-radius":"5px","font-size":"10px",color:"rgba(255, 255, 255, .9)","z-index":99},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-properties"><section><label id="modal-properties-id-label">Id</label><input type="text" id="modal-properties-id" /></section><section><label id="modal-properties-class-label">Class</label><input type="text" id="modal-properties-class" /></section><section><button id="redactor-modal-button-action">Save</button><button id="redactor-modal-button-cancel">Cancel</button></section></div>'},
setup:function(){this.opts.properties=void 0===this.opts.properties?{}:this.opts.properties;this.opts.properties.id=void 0===this.opts.properties.id||this.opts.properties.id;this.opts.properties.classname=void 0===this.opts.properties.classname||this.opts.properties.classname;this.opts.properties.show=void 0!==this.opts.properties.show&&this.opts.properties.show},init:function(){var N;"pre"!==this.opts.type&&"inline"!==this.opts.type&&(this.properties.setup(),this.properties.createLabelId(this.properties.labelStyle),
this.properties.createLabelClass(this.properties.labelStyle),this.properties.setEvents(),N=this.button.add("properties",this.lang.get("properties")),this.button.setIcon(N,'<i class="re-icon-properties"></i>'),this.button.addCallback(N,this.properties.show))},show:function(){this.modal.addTemplate("properties",this.properties.getTemplate());this.modal.load("properties","Properties",600);this.modal.getActionButton().text("Save").on("click",this.properties.save);this.properties.showId();this.properties.showClass();
this.modal.show()},createLabelId:function(N){(this.opts.properties.show||this.opts.properties.id)&&(this.properties.labelId=d("<span />").attr("id","redactor-properties-label-id-"+this.uuid).attr("title","ID").hide(),this.properties.labelId.css(N).css("background","rgba(229, 57, 143, .7)"),d("body").append(this.properties.labelId))},createLabelClass:function(N){(this.opts.properties.show||this.opts.properties.classname)&&(this.properties.labelClass=d("<span />").attr("id","redactor-properties-label-class-"+
this.uuid).attr("title","class").hide(),this.properties.labelClass.css(N).css("background","rgba(61, 121, 242, .7)"),d("body").append(this.properties.labelClass))},setEvents:function(){this.core.element().on("click.callback.redactor",this.properties.showOnClick);d(document).on("mousedown.redactor-properties",d.proxy(this.properties.hideOnBlur,this));this.core.element().on("destroy.callback.redactor",d.proxy(function(){d(document).off(".redactor-properties")},this))},showId:function(){this.opts.properties.id?
(d("#modal-properties-id-label").show(),d("#modal-properties-id").show().val(d(this.properties.block).attr("id"))):d("#modal-properties-id, #modal-properties-id-label").hide()},showClass:function(){this.opts.properties.classname?(d("#modal-properties-class-label").show(),d("#modal-properties-class").show().val(d(this.properties.block).attr("class"))):d("#modal-properties-class, #modal-properties-class-label").hide()},save:function(){var N;this.opts.properties.id&&(void 0===(N=d("#modal-properties-id").val())||
""===N?this.block.removeAttr("id",this.properties.block):this.block.replaceAttr("id",N,this.properties.block));this.opts.properties.classname&&(void 0===(N=d("#modal-properties-class").val())||""===N?this.block.removeAttr("class",this.properties.block):this.block.replaceClass(N,this.properties.block));this.modal.close();this.properties.showOnClick(!1)},showOnClick:function(N){!1!==N&&N.preventDefault();var X,a;N=void 0!==this.fullscreen&&this.fullscreen.isOpen?1052:99;this.properties.block=this.selection.block();
this.properties.block&&this.utils.isRedactorParent(this.properties.block)&&!this.utils.isCurrentOrParent(["figure","li"])&&(X=d(this.properties.block).offset(),a=this.properties.showOnClickClass(X,N),this.properties.showOnClickId(X,N,a))},showOnClickId:function(N,X,a){var h=d(this.properties.block).attr("id");this.opts.properties.show&&this.opts.properties.id&&void 0!==h&&""!==h&&setTimeout(d.proxy(function(){var f=this.opts.properties.classname&&void 0!==a&&""!==a?this.properties.labelClass.innerWidth():
-3;this.properties.labelId.css({zIndex:X,top:N.top-13,left:N.left+f}).show().text("#"+h)},this),10)},showOnClickClass:function(N,X){var a=d(this.properties.block).attr("class");return this.opts.properties.show&&this.opts.properties.classname&&void 0!==a&&""!==a&&this.properties.labelClass.css({zIndex:X,top:N.top-13,left:N.left-3}).show().text(a),a},hideOnBlur:function(N){N.target!==this.properties.block&&(this.properties.hideOnBlurId(),this.properties.hideOnBlurClass())},hideOnBlurId:function(){this.opts.properties.show&&
this.opts.properties.id&&this.properties.labelId.css("z-index",99).hide()},hideOnBlurClass:function(){this.opts.properties.show&&this.opts.properties.classname&&this.properties.labelClass.css("z-index",99).hide()}}}})(jQuery);
(function(d){d.Redactor.prototype.source=function(){return{init:function(){var N=this.button.addFirst("html","HTML");this.button.setIcon(N,'<i class="re-icon-html"></i>');this.button.addCallback(N,this.source.toggle);this.source.$textarea=d("<textarea />");this.source.$textarea.css({width:"100%",margin:"0",background:"#1d1d1d","box-sizing":"border-box",color:"#ccc","font-size":"15px",outline:"none",padding:"20px","line-height":"24px","font-family":'Consolas, Menlo, Monaco, "Courier New", monospace'}).hide();
"textarea"===this.opts.type?this.core.box().append(this.source.$textarea):this.core.box().after(this.source.$textarea);this.core.element().on("destroy.callback.redactor",d.proxy(function(){this.source.$textarea.remove()},this))},toggle:function(){this.source.$textarea.hasClass("open")?this.source.hide():(this.source.show(),this.source.$textarea.on("keyup.redactor-source",d.proxy(function(){var N=this.source.$textarea.val();this.core.callback("change",N)},this)))},setCaretOnShow:function(){this.source.offset=
this.offset.get();d(window).scrollTop();this.core.editor().innerWidth();this.core.editor().innerHeight();this.source.start=0;this.source.end=0;var N,X=d("<div/>").append(d.parseHTML(this.core.editor().html(),document,!0)),a=X.find("span.redactor-selection-marker");0<a.length&&(N=X.html().replace(/&amp;/g,"&"),1===a.length?(this.source.start=this.utils.strpos(N,X.find("#selection-marker-1").prop("outerHTML")),this.source.end=this.source.start):2===a.length&&(this.source.start=this.utils.strpos(N,X.find("#selection-marker-1").prop("outerHTML")),
this.source.end=this.utils.strpos(N,X.find("#selection-marker-2").prop("outerHTML"))-X.find("#selection-marker-1").prop("outerHTML").toString().length))},setCaretOnHide:function(N){var X,a;return this.source.start=this.source.$textarea.get(0).selectionStart,this.source.end=this.source.$textarea.get(0).selectionEnd,this.source.start>this.source.end&&0<this.source.end&&(a=this.source.end,X=this.source.start,this.source.start=a,this.source.end=X),this.source.start=this.source.enlargeOffset(N,this.source.start),
this.source.end=this.source.enlargeOffset(N,this.source.end),N=N.substr(0,this.source.start)+this.marker.html(1)+N.substr(this.source.start),this.source.end>this.source.start&&(a=this.marker.html(1).toString().length,N=N.substr(0,this.source.end+a)+this.marker.html(2)+N.substr(this.source.end+a)),N},hide:function(){this.source.$textarea.removeClass("open").hide();this.source.$textarea.off(".redactor-source");var N=this.source.$textarea.val();N=this.paragraphize.load(N);N=(N=this.source.setCaretOnHide(N)).replace('&amp;<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>',
'<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>&amp;');this.code.start(N);this.button.enableAll();this.core.editor().show().focus();this.selection.restore();this.placeholder.enable();this.core.callback("visual")},show:function(){this.selection.save();this.source.setCaretOnShow();var N=this.core.editor().height(),X=this.code.get();X=this.core.callback("source",X);this.core.editor().hide();this.button.disableAll("html");this.source.$textarea.val(X).height(N).addClass("open").show();
this.source.$textarea.on("keyup.redactor-source",d.proxy(function(){"textarea"===this.opts.type&&this.core.textarea().val(this.source.$textarea.val())},this));this.marker.remove();d(window).scrollTop(scroll);this.source.$textarea[0].setSelectionRange&&this.source.$textarea[0].setSelectionRange(this.source.start,this.source.end);this.source.$textarea[0].scrollTop=0;setTimeout(d.proxy(function(){this.source.$textarea.focus()},this),0)},enlargeOffset:function(N,X){var a=N.length,h=0;if(">"===N[X])h++;
else for(var f=X;f<=a&&(h++,">"!==N[f]);f++)if("<"===N[f]||f===a){h=0;break}return X+h}}}})(jQuery);
(function(d){d.Redactor.prototype.table=function(){return{langs:{en:{table:"Table","insert-table":"Insert table","insert-row-above":"Insert row above","insert-row-below":"Insert row below","insert-column-left":"Insert column left","insert-column-right":"Insert column right","add-head":"Add head","delete-head":"Delete head","delete-column":"Delete column","delete-row":"Delete row","delete-table":"Delete table"}},init:function(){var N={},X=(N.insert_table={title:this.lang.get("insert-table"),func:this.table.insert,
observe:{element:"table",in:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},N.insert_row_above={title:this.lang.get("insert-row-above"),func:this.table.addRowAbove,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},N.insert_row_below={title:this.lang.get("insert-row-below"),func:this.table.addRowBelow,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},N.insert_column_left={title:this.lang.get("insert-column-left"),
func:this.table.addColumnLeft,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},N.insert_column_right={title:this.lang.get("insert-column-right"),func:this.table.addColumnRight,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},N.add_head={title:this.lang.get("add-head"),func:this.table.addHead,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},N.delete_head=
{title:this.lang.get("delete-head"),func:this.table.deleteHead,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},N.delete_column={title:this.lang.get("delete-column"),func:this.table.deleteColumn,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},N.delete_row={title:this.lang.get("delete-row"),func:this.table.deleteRow,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},
N.delete_table={title:this.lang.get("delete-table"),func:this.table.deleteTable,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},this.button.addBefore("link","table",this.lang.get("table")));this.button.setIcon(X,'<i class="re-icon-table"></i>');this.button.addDropdown(X,N)},insert:function(){if(!this.table.getTable()){this.placeholder.hide();for(var N=d("<div>"),X=d("<table />"),a=0;2>a;a++){for(var h=d("<tr>"),f=0;3>f;f++){var g=d("<td>"+this.opts.invisibleSpace+
"</td>");0===a&&0===f&&g.append(this.marker.get());d(h).append(g)}X.append(h)}N.append(X);N=N.html();a=(this.buffer.set(),this.selection.current());0!==d(a).closest("li",this.core.editor()[0]).length?d(a).closest("ul, ol").first().after(N):(this.air.collapsed(),this.insert.html(N));this.selection.restore();this.core.callback("insertedTable",X)}},getTable:function(){var N=d(this.selection.current()).closest("table");return!!this.utils.isRedactorParent(N)&&0!==N.length&&N},restoreAfterDelete:function(N){this.selection.restore();
N.find("span.redactor-selection-marker").remove()},deleteTable:function(){var N,X=this.table.getTable();X&&(this.buffer.set(),N=X.next(),this.opts.linebreaks||0===N.length?this.caret.after(X):this.caret.start(N),X.remove())},deleteRow:function(){var N,X,a=this.table.getTable();a&&(N=d(this.selection.current()),this.buffer.set(),(X=(N=N.closest("tr")).prev().length?N.prev():N.next()).length&&(X=X.children("td, th").first()).length&&X.prepend(this.marker.get()),N.remove(),this.table.restoreAfterDelete(a))},
deleteColumn:function(){var N,X=this.table.getTable();X&&(this.buffer.set(),N=d(this.selection.current()).closest("td, th")[0].cellIndex,X.find("tr").each(d.proxy(function(a,h){h=d(h);var f=0>N-1?N+1:N-1;0===a&&h.find("td, th").eq(f).prepend(this.marker.get());h.find("td, th").eq(N).remove()},this)),this.table.restoreAfterDelete(X))},addHead:function(){var N,X=this.table.getTable();X&&(this.buffer.set(),0!==X.find("thead").length?this.table.deleteHead():((N=X.find("tr").first().clone()).find("td").replaceWith(d.proxy(function(){return d("<th>").html(this.opts.invisibleSpace)},
this)),$thead=d("<thead></thead>").append(N),X.prepend($thead)))},deleteHead:function(){var N=this.table.getTable();N&&0!==(N=N.find("thead")).length&&(this.buffer.set(),N.remove())},addRowAbove:function(){this.table.addRow("before")},addRowBelow:function(){this.table.addRow("after")},addColumnLeft:function(){this.table.addColumn("before")},addColumnRight:function(){this.table.addColumn("after")},addRow:function(N){var X,a;this.table.getTable()&&(this.buffer.set(),(a=(X=d(this.selection.current()).closest("tr")).clone()).find("th").replaceWith(function(){var h=
d("<td>");return h[0].attributes=this.attributes,h.append(d(this).contents())}),a.find("td").html(this.opts.invisibleSpace),"after"===N?X.after(a):X.before(a))},addColumn:function(N){var X,a,h,f,g=this.table.getTable();g&&(X=0,a=d(this.selection.current()),this.buffer.set(),h=a.closest("tr"),f=a.closest("td, th"),h.find("td, th").each(d.proxy(function(e,m){d(m)[0]===f[0]&&(X=e)},this)),g.find("tr").each(d.proxy(function(e,m){m=d(m).find("td, th").eq(X);e=m.clone();e.html(this.opts.invisibleSpace);
"after"===N?m.after(e):m.before(e)},this)))}}}})(jQuery);
(function(d){d.Redactor.prototype.video=function(){return{reUrlYoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,reIframeYoutube:/.*src="https?:\/\/(www\.)?youtube.com\/embed\/(\w+).*/,reUrlVimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,reUrlVimeoChannel:/https?:\/\/(www\.)?vimeo.com\/channels\/.*\/(\d+)($|\/)/,reIframeVimeo:/.*src="https?:\/\/(www\.)?player.vimeo.com\/video\/(\d+).*/,langs:{en:{video:"Video",
"video-html-code":"Video Embed Code or Youtube/Vimeo Link"}},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-video-insert"><section><label>'+this.lang.get("video-html-code")+'</label><textarea id="redactor-insert-video-area" style="height: 160px;"></textarea></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"},init:function(){var N=
this.button.addAfter("image","video",this.lang.get("video"));this.button.setIcon(N,'<i class="re-icon-video"></i>');this.button.addCallback(N,this.video.show)},show:function(){this.modal.addTemplate("video",this.video.getTemplate());this.modal.load("video",this.lang.get("video"),700);this.modal.getActionButton().text(this.lang.get("insert")).on("click",this.video.insert);this.modal.show();this.detect.isDesktop()&&setTimeout(function(){d("#redactor-insert-video-area").focus()},1)},insert:function(){var N,
X=d("#redactor-insert-video-area").val(),a=X.match(/<iframe|<video|http/gi);a&&0!==a.length&&(N=["iframe","video"],X=X.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(h,f){return-1===N.indexOf(f.toLowerCase())?"":h}),this.opts.videoContainerClass=void 0===this.opts.videoContainerClass?"video-container":this.opts.videoContainerClass,a='<div class="'+this.opts.videoContainerClass+'"><iframe style="width: 500px; height: 281px;" src="',X=X.match(this.video.reUrlYoutube)?X.replace(this.video.reUrlYoutube,
a+'//www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe></div>'):X.match(this.video.reIframeYoutube)?X.replace(this.video.reIframeYoutube,a+'//www.youtube.com/embed/$2" frameborder="0" allowfullscreen></iframe></div>'):X.match(this.video.reUrlVimeo)?X.replace(this.video.reUrlVimeo,a+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):X.match(this.video.reUrlVimeoChannel)?X.replace(this.video.reUrlVimeoChannel,a+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):
X.match(this.video.reIframeVimeo)?X.replace(this.video.reIframeVimeo,a+'//player.vimeo.com/video/$2" frameborder="0" allowfullscreen></iframe></div>'):'<div class="'+this.opts.videoContainerClass+'">'+X+"</div>");this.modal.close();this.placeholder.hide();this.buffer.set();this.air.collapsed();this.insert.html(X)}}}})(jQuery);(function(){var d=function(){return this}();!d&&"undefined"!=typeof window&&(d=window);if("undefined"==typeof requirejs){var N=function(g,e,m){"string"!=typeof g?N.original?N.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()):(2==arguments.length&&(m=e),N.modules[g]||(N.payloads[g]=m,N.modules[g]=null))};N.modules={};N.payloads={};var X=function(g,e,m){if("string"==typeof e){if(g=f(g,e),void 0!=g)return m&&m(),g}else if("[object Array]"===
Object.prototype.toString.call(e)){for(var p=[],u=0,c=e.length;u<c;++u){var l=f(g,e[u]);if(void 0==l&&a.original)return;p.push(l)}return m&&m.apply(null,p)||!0}},a=function(g,e){var m=X("",g,e);return void 0==m&&a.original?a.original.apply(this,arguments):m},h=function(g,e){if(-1!==e.indexOf("!"))return e=e.split("!"),h(g,e[0])+"!"+h(g,e[1]);if("."==e.charAt(0))for(e=g.split("/").slice(0,-1).join("/")+"/"+e;-1!==e.indexOf(".")&&m!=e;){var m=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return e},
f=function(g,e){e=h(g,e);g=N.modules[e];if(!g){g=N.payloads[e];if("function"==typeof g){var m={},p={id:e,uri:"",exports:m,packaged:!0};m=g(function(u,c){return X(e,u,c)},m,p)||p.exports;N.modules[e]=m;delete N.payloads[e]}g=N.modules[e]=m||g}return g};(function(g){var e=d;g&&(d[g]||(d[g]={}),e=d[g]);e.define&&e.define.packaged||(N.original=e.define,e.define=N,e.define.packaged=!0);e.require&&e.require.packaged||(a.original=e.require,e.require=a,e.require.packaged=!0)})("")}})();
define("ace/lib/regexp",["require","exports","module"],function(d,N,X){function a(p,u,c){if(Array.prototype.indexOf)return p.indexOf(u,c);for(c=c||0;c<p.length;c++)if(p[c]===u)return c;return-1}var h=RegExp.prototype.exec,f=RegExp.prototype.test,g=String.prototype.replace,e=void 0===h.call(/()??/,"")[1],m=function(){var p=/^/g;return f.call(p,""),!p.lastIndex}();m&&e||(RegExp.prototype.exec=function(p){var u=h.apply(this,arguments),c;if("string"==typeof p&&u){!e&&1<u.length&&-1<a(u,"")&&(c=RegExp(this.source,
g.call((this.global?"g":"")+(this.ignoreCase?"i":"")+(this.multiline?"m":"")+(this.extended?"x":"")+(this.sticky?"y":""),"g","")),g.call(p.slice(u.index),c,function(){for(var n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(u[n]=void 0)}));if(this._xregexp&&this._xregexp.captureNames)for(var l=1;l<u.length;l++)(c=this._xregexp.captureNames[l-1])&&(u[c]=u[l]);!m&&this.global&&!u[0].length&&this.lastIndex>u.index&&this.lastIndex--}return u},m||(RegExp.prototype.test=function(p){p=h.call(this,p);
return p&&this.global&&!p[0].length&&this.lastIndex>p.index&&this.lastIndex--,!!p}))});
define("ace/lib/es5-shim",["require","exports","module"],function(d,N,X){function a(){}function h(R){try{return Object.defineProperty(R,"sentinel",{}),"sentinel"in R}catch(ca){}}function f(R){return R=+R,R!==R?R=0:0!==R&&R!==1/0&&R!==-1/0&&(R=(0<R||-1)*Math.floor(Math.abs(R))),R}Function.prototype.bind||(Function.prototype.bind=function(R){var ca=this;if("function"!=typeof ca)throw new TypeError("Function.prototype.bind called on incompatible "+ca);var ha=e.call(arguments,1),ra=function(){if(this instanceof
ra){var Ia=ca.apply(this,ha.concat(e.call(arguments)));return Object(Ia)===Ia?Ia:this}return ca.apply(R,ha.concat(e.call(arguments)))};return ca.prototype&&(a.prototype=ca.prototype,ra.prototype=new a,a.prototype=null),ra});d=Function.prototype.call;var g=Object.prototype,e=Array.prototype.slice,m=d.bind(g.toString),p=d.bind(g.hasOwnProperty),u;if(u=p(g,"__defineGetter__")){var c=d.bind(g.__defineGetter__);var l=d.bind(g.__defineSetter__);var n=d.bind(g.__lookupGetter__);var w=d.bind(g.__lookupSetter__)}if(2!=
[1,2].splice(0).length)if(function(){function R(ra){ra=Array(ra+2);return ra[0]=ra[1]=0,ra}var ca=[];ca.splice.apply(ca,R(20));ca.splice.apply(ca,R(26));var ha=ca.length;ca.splice(5,0,"XXX");ha+1==ca.length;if(ha+1==ca.length)return!0}()){var z=Array.prototype.splice;Array.prototype.splice=function(R,ca){return arguments.length?z.apply(this,[void 0===R?0:R,void 0===ca?this.length-R:ca].concat(e.call(arguments,2))):[]}}else Array.prototype.splice=function(R,ca){var ha=this.length;0<R?R>ha&&(R=ha):
void 0==R?R=0:0>R&&(R=Math.max(ha+R,0));R+ca<ha||(ca=ha-R);var ra=this.slice(R,R+ca),Ia=e.call(arguments,2),ja=Ia.length;if(R===ha)ja&&this.push.apply(this,Ia);else{var ma=Math.min(ca,ha-R),Aa=R+ma,Da=Aa+ja-ma,Fa=ha-Aa;ha-=ma;if(Da<Aa)for(ma=0;ma<Fa;++ma)this[Da+ma]=this[Aa+ma];else if(Da>Aa)for(ma=Fa;ma--;)this[Da+ma]=this[Aa+ma];if(ja&&R===ha)this.length=ha,this.push.apply(this,Ia);else for(this.length=ha+ja,ma=0;ma<ja;++ma)this[R+ma]=Ia[ma]}return ra};Array.isArray||(Array.isArray=function(R){return"[object Array]"==
m(R)});d=Object("a");var x="a"!=d[0]||!(0 in d);Array.prototype.forEach||(Array.prototype.forEach=function(R,ca){var ha=S(this),ra=x&&"[object String]"==m(this)?this.split(""):ha,Ia=-1,ja=ra.length>>>0;if("[object Function]"!=m(R))throw new TypeError;for(;++Ia<ja;)Ia in ra&&R.call(ca,ra[Ia],Ia,ha)});Array.prototype.map||(Array.prototype.map=function(R,ca){var ha=S(this),ra=x&&"[object String]"==m(this)?this.split(""):ha,Ia=ra.length>>>0,ja=Array(Ia);if("[object Function]"!=m(R))throw new TypeError(R+
" is not a function");for(var ma=0;ma<Ia;ma++)ma in ra&&(ja[ma]=R.call(ca,ra[ma],ma,ha));return ja});Array.prototype.filter||(Array.prototype.filter=function(R,ca){var ha=S(this),ra=x&&"[object String]"==m(this)?this.split(""):ha,Ia=ra.length>>>0,ja=[],ma;if("[object Function]"!=m(R))throw new TypeError(R+" is not a function");for(var Aa=0;Aa<Ia;Aa++)Aa in ra&&(ma=ra[Aa],R.call(ca,ma,Aa,ha)&&ja.push(ma));return ja});Array.prototype.every||(Array.prototype.every=function(R,ca){var ha=S(this),ra=x&&
"[object String]"==m(this)?this.split(""):ha,Ia=ra.length>>>0;if("[object Function]"!=m(R))throw new TypeError(R+" is not a function");for(var ja=0;ja<Ia;ja++)if(ja in ra&&!R.call(ca,ra[ja],ja,ha))return!1;return!0});Array.prototype.some||(Array.prototype.some=function(R,ca){var ha=S(this),ra=x&&"[object String]"==m(this)?this.split(""):ha,Ia=ra.length>>>0;if("[object Function]"!=m(R))throw new TypeError(R+" is not a function");for(var ja=0;ja<Ia;ja++)if(ja in ra&&R.call(ca,ra[ja],ja,ha))return!0;
return!1});Array.prototype.reduce||(Array.prototype.reduce=function(R){var ca=S(this),ha=x&&"[object String]"==m(this)?this.split(""):ca,ra=ha.length>>>0;if("[object Function]"!=m(R))throw new TypeError(R+" is not a function");if(!ra&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var Ia=0;if(2<=arguments.length)var ja=arguments[1];else{do{if(Ia in ha){ja=ha[Ia++];break}if(++Ia>=ra)throw new TypeError("reduce of empty array with no initial value");}while(1)
}for(;Ia<ra;Ia++)Ia in ha&&(ja=R.call(void 0,ja,ha[Ia],Ia,ca));return ja});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(R){var ca=S(this),ha=x&&"[object String]"==m(this)?this.split(""):ca,ra=ha.length>>>0;if("[object Function]"!=m(R))throw new TypeError(R+" is not a function");if(!ra&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");--ra;if(2<=arguments.length)var Ia=arguments[1];else{do{if(ra in ha){Ia=ha[ra--];break}if(0>--ra)throw new TypeError("reduceRight of empty array with no initial value");
}while(1)}do ra in this&&(Ia=R.call(void 0,Ia,ha[ra],ra,ca));while(ra--);return Ia});Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(R){var ca=x&&"[object String]"==m(this)?this.split(""):S(this),ha=ca.length>>>0;if(!ha)return-1;var ra=0;1<arguments.length&&(ra=f(arguments[1]));for(ra=0<=ra?ra:Math.max(0,ha+ra);ra<ha;ra++)if(ra in ca&&ca[ra]===R)return ra;return-1});Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(R){var ca=
x&&"[object String]"==m(this)?this.split(""):S(this),ha=ca.length>>>0;if(!ha)return-1;var ra=ha-1;1<arguments.length&&(ra=Math.min(ra,f(arguments[1])));for(ra=0<=ra?ra:ha-Math.abs(ra);0<=ra;ra--)if(ra in ca&&R===ca[ra])return ra;return-1});Object.getPrototypeOf||(Object.getPrototypeOf=function(R){return R.__proto__||(R.constructor?R.constructor.prototype:g)});Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(R,ca){if("object"!=typeof R&&"function"!=typeof R||null===R)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+
R);if(p(R,ca)){var ha={enumerable:!0,configurable:!0};if(u){var ra=R.__proto__;R.__proto__=g;var Ia=n(R,ca);var ja=w(R,ca);R.__proto__=ra;if(Ia||ja)return Ia&&(ha.get=Ia),ja&&(ha.set=ja),ha}return ha.value=R[ca],ha}});Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(R){return Object.keys(R)});if(!Object.create){var J;null===Object.prototype.__proto__?J=function(){return{__proto__:null}}:J=function(){var R={},ca;for(ca in R)R[ca]=null;return R.constructor=R.hasOwnProperty=R.propertyIsEnumerable=
R.isPrototypeOf=R.toLocaleString=R.toString=R.valueOf=R.__proto__=null,R};Object.create=function(R,ca){if(null===R)var ha=J();else{if("object"!=typeof R)throw new TypeError("typeof prototype["+typeof R+"] != 'object'");ha=function(){};ha.prototype=R;ha=new ha;ha.__proto__=R}return void 0!==ca&&Object.defineProperties(ha,ca),ha}}if(Object.defineProperty&&(d=h({}),N="undefined"==typeof document||h(document.createElement("div")),!d||!N))var v=Object.defineProperty;if(!Object.defineProperty||v)Object.defineProperty=
function(R,ca,ha){if("object"!=typeof R&&"function"!=typeof R||null===R)throw new TypeError("Object.defineProperty called on non-object: "+R);if("object"!=typeof ha&&"function"!=typeof ha||null===ha)throw new TypeError("Property description must be an object: "+ha);if(v)try{return v.call(Object,R,ca,ha)}catch(Ia){}if(p(ha,"value"))if(u&&(n(R,ca)||w(R,ca))){var ra=R.__proto__;R.__proto__=g;delete R[ca];R[ca]=ha.value;R.__proto__=ra}else R[ca]=ha.value;else{if(!u)throw new TypeError("getters & setters can not be defined on this javascript engine");
p(ha,"get")&&c(R,ca,ha.get);p(ha,"set")&&l(R,ca,ha.set)}return R};Object.defineProperties||(Object.defineProperties=function(R,ca){for(var ha in ca)p(ca,ha)&&Object.defineProperty(R,ha,ca[ha]);return R});Object.seal||(Object.seal=function(R){return R});Object.freeze||(Object.freeze=function(R){return R});try{Object.freeze(function(){})}catch(R){Object.freeze=function(ca){return function(ha){return"function"==typeof ha?ha:ca(ha)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=
function(R){return R});Object.isSealed||(Object.isSealed=function(R){return!1});Object.isFrozen||(Object.isFrozen=function(R){return!1});Object.isExtensible||(Object.isExtensible=function(R){if(Object(R)===R)throw new TypeError;for(var ca="";p(R,ca);)ca+="?";R[ca]=!0;var ha=p(R,ca);return delete R[ca],ha});if(!Object.keys){var K=!0,D="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),M=D.length;for(Q in{toString:null})K=!1;Object.keys=function(R){if("object"!=
typeof R&&"function"!=typeof R||null===R)throw new TypeError("Object.keys called on a non-object");var ca=[],ha;for(ha in R)p(R,ha)&&ca.push(ha);if(K)for(ha=0;ha<M;ha++){var ra=D[ha];p(R,ra)&&ca.push(ra)}return ca}}Date.now||(Date.now=function(){return(new Date).getTime()});var Q="\t\n\v\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||Q.trim()){Q="["+Q+"]";var G=new RegExp("^"+Q+Q+"*"),T=new RegExp(Q+
Q+"*$");String.prototype.trim=function(){return String(this).replace(G,"").replace(T,"")}}var S=function(R){if(null==R)throw new TypeError("can't convert "+R+" to object");return Object(R)}});define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(d,N,X){d("./regexp");d("./es5-shim")});
define("ace/lib/dom",["require","exports","module"],function(d,N,X){N.getDocumentHead=function(a){return a||=document,a.head||a.getElementsByTagName("head")[0]||a.documentElement};N.createElement=function(a,h){return document.createElementNS?document.createElementNS(h||"http://www.w3.org/1999/xhtml",a):document.createElement(a)};N.hasCssClass=function(a,h){return-1!==(a.className+"").split(/\s+/g).indexOf(h)};N.addCssClass=function(a,h){N.hasCssClass(a,h)||(a.className+=" "+h)};N.removeCssClass=function(a,
h){for(var f=a.className.split(/\s+/g);;){var g=f.indexOf(h);if(-1==g)break;f.splice(g,1)}a.className=f.join(" ")};N.toggleCssClass=function(a,h){for(var f=a.className.split(/\s+/g),g=!0;;){var e=f.indexOf(h);if(-1==e)break;g=!1;f.splice(e,1)}return g&&f.push(h),a.className=f.join(" "),g};N.setCssClass=function(a,h,f){f?N.addCssClass(a,h):N.removeCssClass(a,h)};N.hasCssString=function(a,h){var f=0,g;h=h||document;if(h.createStyleSheet&&(g=h.styleSheets))for(;f<g.length;){if(g[f++].owningElement.id===
a)return!0}else if(g=h.getElementsByTagName("style"))for(;f<g.length;)if(g[f++].id===a)return!0;return!1};N.importCssString=function(a,h,f){f=f||document;if(h&&N.hasCssString(h,f))return null;var g;h&&(a+="\n/*# sourceURL=ace/css/"+h+" */");f.createStyleSheet?(g=f.createStyleSheet(),g.cssText=a,h&&(g.owningElement.id=h)):(g=N.createElement("style"),g.appendChild(f.createTextNode(a)),h&&(g.id=h),N.getDocumentHead(f).appendChild(g))};N.importCssStylsheet=function(a,h){if(h.createStyleSheet)h.createStyleSheet(a);
else{var f=N.createElement("link");f.rel="stylesheet";f.href=a;N.getDocumentHead(h).appendChild(f)}};N.getInnerWidth=function(a){return parseInt(N.computedStyle(a,"paddingLeft"),10)+parseInt(N.computedStyle(a,"paddingRight"),10)+a.clientWidth};N.getInnerHeight=function(a){return parseInt(N.computedStyle(a,"paddingTop"),10)+parseInt(N.computedStyle(a,"paddingBottom"),10)+a.clientHeight};N.scrollbarWidth=function(a){var h=N.createElement("ace_inner");h.style.width="100%";h.style.minWidth="0px";h.style.height=
"200px";h.style.display="block";var f=N.createElement("ace_outer"),g=f.style;g.position="absolute";g.left="-10000px";g.overflow="hidden";g.width="200px";g.minWidth="0px";g.height="150px";g.display="block";f.appendChild(h);a=a.documentElement;a.appendChild(f);var e=h.offsetWidth;g.overflow="scroll";h=h.offsetWidth;return e==h&&(h=f.clientWidth),a.removeChild(f),e-h};"undefined"==typeof document?N.importCssString=function(){}:(void 0!==window.pageYOffset?(N.getPageScrollTop=function(){return window.pageYOffset},
N.getPageScrollLeft=function(){return window.pageXOffset}):(N.getPageScrollTop=function(){return document.body.scrollTop},N.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?N.computedStyle=function(a,h){return h?(window.getComputedStyle(a,"")||{})[h]||"":window.getComputedStyle(a,"")||{}}:N.computedStyle=function(a,h){return h?a.currentStyle[h]:a.currentStyle},N.setInnerHtml=function(a,h){var f=a.cloneNode(!1);return f.innerHTML=h,a.parentNode.replaceChild(f,
a),f},"textContent"in document.documentElement?(N.setInnerText=function(a,h){a.textContent=h},N.getInnerText=function(a){return a.textContent}):(N.setInnerText=function(a,h){a.innerText=h},N.getInnerText=function(a){return a.innerText}),N.getParentWindow=function(a){return a.defaultView||a.parentWindow})});
define("ace/lib/oop",["require","exports","module"],function(d,N,X){N.inherits=function(a,h){a.super_=h;a.prototype=Object.create(h.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};N.mixin=function(a,h){for(var f in h)a[f]=h[f];return a};N.implement=function(a,h){N.mixin(a,h)}});
define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(d,N,X){d("./fixoldbrowsers");var a=d("./oop"),h=function(){var f={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",
97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",
81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},g;for(g in f.FUNCTION_KEYS){var e=f.FUNCTION_KEYS[g].toLowerCase();f[e]=parseInt(g,10)}for(g in f.PRINTABLE_KEYS)e=f.PRINTABLE_KEYS[g].toLowerCase(),f[e]=parseInt(g,10);return a.mixin(f,f.MODIFIER_KEYS),a.mixin(f,f.PRINTABLE_KEYS),a.mixin(f,f.FUNCTION_KEYS),f.enter=f["return"],f.escape=f.esc,f.del=f["delete"],
f[173]="-",function(){for(var m=["cmd","ctrl","alt","shift"],p=Math.pow(2,m.length);p--;)f.KEY_MODS[p]=m.filter(function(u){return p&f.KEY_MODS[u]}).join("-")+"-"}(),f.KEY_MODS[0]="",f.KEY_MODS[-1]="input-",f}();a.mixin(N,h);N.keyCodeToString=function(f){var g=h[f];return"string"!=typeof g&&(g=String.fromCharCode(f)),g.toLowerCase()}});
define("ace/lib/useragent",["require","exports","module"],function(d,N,X){N.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};N.getOS=function(){return N.isMac?N.OS.MAC:N.isLinux?N.OS.LINUX:N.OS.WINDOWS};"object"==typeof navigator&&(d=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),X=navigator.userAgent,N.isWin="win"==d,N.isMac="mac"==d,N.isLinux="linux"==d,N.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((X.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||
[])[1]):parseFloat((X.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),N.isOldIE=N.isIE&&9>N.isIE,N.isGecko=N.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,N.isOldGecko=N.isGecko&&4>parseInt((X.match(/rv:(\d+)/)||[])[1],10),N.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),N.isWebKit=parseFloat(X.split("WebKit/")[1])||void 0,N.isChrome=parseFloat(X.split(" Chrome/")[1])||void 0,N.isAIR=0<=X.indexOf("AdobeAIR"),
N.isIPad=0<=X.indexOf("iPad"),N.isChromeOS=0<=X.indexOf(" CrOS "),N.isIOS=/iPad|iPhone|iPod/.test(X)&&!window.MSStream,N.isIOS&&(N.isMac=!0))});
define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(d,N,X){function a(u,c,l){var n=p(c);if(!g.isMac&&e){c.getModifierState&&(c.getModifierState("OS")||c.getModifierState("Win"))&&(n|=8);if(e.altGr){if(3==(3&n))return;e.altGr=0}if(18===l||17===l){var w="location"in c?c.location:c.keyLocation;17===l&&1===w?1==e[l]&&(m=c.timeStamp):18===l&&3===n&&2===w&&50>c.timeStamp-m&&(e.altGr=!0)}}l in f.MODIFIER_KEYS&&(l=-1);n&8&&91<=l&&93>=l&&(l=-1);if(!n&&13===l&&
(w="location"in c?c.location:c.keyLocation,3===w&&(u(c,n,-l),c.defaultPrevented)))return;if(g.isChromeOS&&n&8){u(c,n,l);if(c.defaultPrevented)return;n&=-9}return n||l in f.FUNCTION_KEYS||l in f.PRINTABLE_KEYS?u(c,n,l):!1}function h(){e=Object.create(null)}var f=d("./keys"),g=d("./useragent"),e=null,m=0;N.addListener=function(u,c,l){if(u.addEventListener)return u.addEventListener(c,l,!1);if(u.attachEvent){var n=function(){l.call(u,window.event)};l._wrapper=n;u.attachEvent("on"+c,n)}};N.removeListener=
function(u,c,l){if(u.removeEventListener)return u.removeEventListener(c,l,!1);u.detachEvent&&u.detachEvent("on"+c,l._wrapper||l)};N.stopEvent=function(u){return N.stopPropagation(u),N.preventDefault(u),!1};N.stopPropagation=function(u){u.stopPropagation?u.stopPropagation():u.cancelBubble=!0};N.preventDefault=function(u){u.preventDefault?u.preventDefault():u.returnValue=!1};N.getButton=function(u){return"dblclick"==u.type?0:"contextmenu"==u.type||g.isMac&&u.ctrlKey&&!u.altKey&&!u.shiftKey?2:u.preventDefault?
u.button:{1:0,2:2,4:1}[u.button]};N.capture=function(u,c,l){function n(w){c&&c(w);l&&l(w);N.removeListener(document,"mousemove",c,!0);N.removeListener(document,"mouseup",n,!0);N.removeListener(document,"dragstart",n,!0)}return N.addListener(document,"mousemove",c,!0),N.addListener(document,"mouseup",n,!0),N.addListener(document,"dragstart",n,!0),n};N.addTouchMoveListener=function(u,c){var l,n;N.addListener(u,"touchstart",function(w){w=w.touches[0];l=w.clientX;n=w.clientY});N.addListener(u,"touchmove",
function(w){var z=w.touches;1<z.length||(z=z[0],w.wheelX=l-z.clientX,w.wheelY=n-z.clientY,l=z.clientX,n=z.clientY,c(w))})};N.addMouseWheelListener=function(u,c){"onmousewheel"in u?N.addListener(u,"mousewheel",function(l){void 0!==l.wheelDeltaX?(l.wheelX=-l.wheelDeltaX/8,l.wheelY=-l.wheelDeltaY/8):(l.wheelX=0,l.wheelY=-l.wheelDelta/8);c(l)}):"onwheel"in u?N.addListener(u,"wheel",function(l){switch(l.deltaMode){case l.DOM_DELTA_PIXEL:l.wheelX=.35*l.deltaX||0;l.wheelY=.35*l.deltaY||0;break;case l.DOM_DELTA_LINE:case l.DOM_DELTA_PAGE:l.wheelX=
5*(l.deltaX||0),l.wheelY=5*(l.deltaY||0)}c(l)}):N.addListener(u,"DOMMouseScroll",function(l){l.axis&&l.axis==l.HORIZONTAL_AXIS?(l.wheelX=5*(l.detail||0),l.wheelY=0):(l.wheelX=0,l.wheelY=5*(l.detail||0));c(l)})};N.addMultiMouseDownListener=function(u,c,l,n){function w(M){0!==N.getButton(M)?x=0:1<M.detail?(x++,4<x&&(x=1)):x=1;if(g.isIE){var Q=5<Math.abs(M.clientX-J)||5<Math.abs(M.clientY-v);if(!K||Q)x=1;K&&clearTimeout(K);K=setTimeout(function(){K=null},c[x-1]||600);1==x&&(J=M.clientX,v=M.clientY)}M._clicks=
x;l[n]("mousedown",M);if(4<x)x=0;else if(1<x)return l[n](D[x],M)}function z(M){x=2;K&&clearTimeout(K);K=setTimeout(function(){K=null},c[x-1]||600);l[n]("mousedown",M);l[n](D[x],M)}var x=0,J,v,K,D={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(u)||(u=[u]);u.forEach(function(M){N.addListener(M,"mousedown",w);g.isOldIE&&N.addListener(M,"dblclick",z)})};var p=!g.isMac||!g.isOpera||"KeyboardEvent"in window?function(u){return 0|(u.ctrlKey?1:0)|(u.altKey?2:0)|(u.shiftKey?4:0)|(u.metaKey?8:0)}:
function(u){return 0|(u.metaKey?1:0)|(u.altKey?2:0)|(u.shiftKey?4:0)|(u.ctrlKey?8:0)};N.getModifierString=function(u){return f.KEY_MODS[p(u)]};N.addCommandKeyListener=function(u,c){var l=N.addListener;if(g.isOldGecko||g.isOpera&&!("KeyboardEvent"in window)){var n=null;l(u,"keydown",function(z){n=z.keyCode});l(u,"keypress",function(z){return a(c,z,n)})}else{var w=null;l(u,"keydown",function(z){e[z.keyCode]=(e[z.keyCode]||0)+1;var x=a(c,z,z.keyCode);return w=z.defaultPrevented,x});l(u,"keypress",function(z){w&&
(z.ctrlKey||z.altKey||z.shiftKey||z.metaKey)&&(N.stopEvent(z),w=null)});l(u,"keyup",function(z){e[z.keyCode]=null});e||(h(),l(window,"focus",h))}};"object"==typeof window&&window.postMessage&&!g.isOldIE&&(N.nextTick=function(u,c){c=c||window;N.addListener(c,"message",function w(n){"zero-timeout-message-1"==n.data&&(N.stopPropagation(n),N.removeListener(c,"message",w),u())});c.postMessage("zero-timeout-message-1","*")});N.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);N.nextFrame?N.nextFrame=N.nextFrame.bind(window):N.nextFrame=function(u){setTimeout(u,17)}});
define("ace/lib/lang",["require","exports","module"],function(d,N,X){N.last=function(f){return f[f.length-1]};N.stringReverse=function(f){return f.split("").reverse().join("")};N.stringRepeat=function(f,g){for(var e="";0<g;)if(g&1&&(e+=f),g>>=1)f+=f;return e};var a=/^\s\s*/,h=/\s\s*$/;N.stringTrimLeft=function(f){return f.replace(a,"")};N.stringTrimRight=function(f){return f.replace(h,"")};N.copyObject=function(f){var g={},e;for(e in f)g[e]=f[e];return g};N.copyArray=function(f){for(var g=[],e=0,
m=f.length;e<m;e++)f[e]&&"object"==typeof f[e]?g[e]=this.copyObject(f[e]):g[e]=f[e];return g};N.deepCopy=function e(g){if("object"!=typeof g||!g)return g;if(Array.isArray(g)){var m=[];for(var p=0;p<g.length;p++)m[p]=e(g[p]);return m}if("[object Object]"!==Object.prototype.toString.call(g))return g;m={};for(p in g)m[p]=e(g[p]);return m};N.arrayToMap=function(g){for(var e={},m=0;m<g.length;m++)e[g[m]]=1;return e};N.createMap=function(g){var e=Object.create(null),m;for(m in g)e[m]=g[m];return e};N.arrayRemove=
function(g,e){for(var m=0;m<=g.length;m++)e===g[m]&&g.splice(m,1)};N.escapeRegExp=function(g){return g.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};N.escapeHTML=function(g){return g.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};N.getMatchOffsets=function(g,e){var m=[];return g.replace(e,function(p){m.push({offset:arguments[arguments.length-2],length:p.length})}),m};N.deferredCall=function(g){var e=null,m=function(){e=null;g()},p=function(u){return p.cancel(),
e=setTimeout(m,u||0),p};return p.schedule=p,p.call=function(){return this.cancel(),g(),p},p.cancel=function(){return clearTimeout(e),e=null,p},p.isPending=function(){return e},p};N.delayedCall=function(g,e){var m=null,p=function(){m=null;g()},u=function(c){null==m&&(m=setTimeout(p,c||e))};return u.delay=function(c){m&&clearTimeout(m);m=setTimeout(p,c||e)},u.schedule=u,u.call=function(){this.cancel();g()},u.cancel=function(){m&&clearTimeout(m);m=null},u.isPending=function(){return m},u}});
define("ace/keyboard/textinput_ios","require exports module ace/lib/event ace/lib/useragent ace/lib/dom ace/lib/lang ace/lib/keys".split(" "),function(d,N,X){var a=d("../lib/event"),h=d("../lib/useragent"),f=d("../lib/dom"),g=d("../lib/lang"),e=d("../lib/keys"),m=e.KEY_MODS,p=18>h.isChrome,u=h.isIE;N.TextInput=function(c,l){function n(Ba){if(!M){M=!0;if(ca)Sa=0,Ba=Ba?0:x.value.length-1;else{var Sa=4;Ba=5}try{x.setSelectionRange(Sa,Ba)}catch(cb){}M=!1}}function w(){M||(x.value=J,h.isWebKit&&R.schedule())}
function z(){clearTimeout(Oa);Oa=setTimeout(function(){Q&&(x.style.cssText=Q,Q="");null==l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=!0,l.renderer.$moveTextAreaToCursor())},0)}var x=f.createElement("textarea");x.className=h.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input";h.isTouchPad&&x.setAttribute("x-palm-disable-auto-cap",!0);x.setAttribute("wrap","off");x.setAttribute("autocorrect","off");x.setAttribute("autocapitalize","off");x.setAttribute("spellcheck",!1);
x.style.opacity="0";c.insertBefore(x,c.firstChild);var J="\n aaaa a\n",v=!1,K=!1,D=!1,M=!1,Q="",G=!0;try{var T=document.activeElement===x}catch(Ba){}a.addListener(x,"blur",function(Ba){l.onBlur(Ba);T=!1});a.addListener(x,"focus",function(Ba){T=!0;l.onFocus(Ba);n()});this.focus=function(){if(Q)return x.focus();x.style.position="fixed";x.focus()};this.blur=function(){x.blur()};this.isFocused=function(){return T};var S=g.delayedCall(function(){T&&n(G)}),R=g.delayedCall(function(){M||(x.value=J,T&&n())});
h.isWebKit||l.addEventListener("changeSelection",function(){l.selection.isEmpty()!=G&&(G=!G,S.schedule())});w();T&&l.onFocus();var ca=null;this.setInputHandler=function(Ba){ca=Ba};this.getInputHandler=function(){return ca};var ha=!1,ra=function(Ba){if(4!==x.selectionStart||5!==x.selectionEnd)ca&&(Ba=ca(Ba),ca=null),D?(n(),Ba&&l.onPaste(Ba),D=!1):Ba==J.substr(0)&&4===x.selectionStart?ha?l.execCommand("del",{source:"ace"}):l.execCommand("backspace",{source:"ace"}):v||(Ba.substring(0,9)==J&&Ba.length>
J.length?Ba=Ba.substr(9):Ba.substr(0,4)==J.substr(0,4)?Ba=Ba.substr(4,Ba.length-J.length+1):Ba.charAt(Ba.length-1)==J.charAt(0)&&(Ba=Ba.slice(0,-1)),Ba!=J.charAt(0)&&Ba.charAt(Ba.length-1)==J.charAt(0)&&(Ba=Ba.slice(0,-1)),Ba&&l.onTextInput(Ba)),v&&=!1,ha&&=!1},Ia=function(Ba){M||(ra(x.value),w())},ja=function(Ba,Sa,cb){if((Ba=Ba.clipboardData||window.clipboardData)&&!p){var $a=u||cb?"Text":"text/plain";try{return Sa?!1!==Ba.setData($a,Sa):Ba.getData($a)}catch(rb){if(!cb)return ja(rb,Sa,!0)}}},ma=
function(Ba,Sa){var cb=l.getCopyText();if(!cb)return a.preventDefault(Ba);ja(Ba,cb)?(h.isIOS&&(K=Sa,x.value="\n aa"+cb+"a a\n",x.setSelectionRange(4,4+cb.length),v={value:cb}),Sa?l.onCut():l.onCopy(),h.isIOS||a.preventDefault(Ba)):(v=!0,x.value=cb,x.select(),setTimeout(function(){v=!1;w();n();Sa?l.onCut():l.onCopy()}))};a.addCommandKeyListener(x,l.onCommandKey.bind(l));a.addListener(x,"select",function(Ba){0===x.selectionStart&&x.selectionEnd===x.value.length?(l.selectAll(),n()):ca&&n(l.selection.isEmpty())});
a.addListener(x,"input",Ia);a.addListener(x,"cut",function(Ba){ma(Ba,!0)});a.addListener(x,"copy",function(Ba){ma(Ba,!1)});a.addListener(x,"paste",function(Ba){var Sa=ja(Ba);"string"==typeof Sa?(Sa&&l.onPaste(Sa,Ba),h.isIE&&setTimeout(n),a.preventDefault(Ba)):(x.value="",D=!0)});var Aa=function(){if(M&&l.onCompositionUpdate&&!l.$readOnly){var Ba=x.value.replace(/\x01/g,"");M.lastValue!==Ba&&(l.onCompositionUpdate(Ba),M.lastValue&&l.undo(),M.canUndo&&(M.lastValue=Ba),M.lastValue&&(Ba=l.selection.getRange(),
l.insert(M.lastValue),l.session.markUndoGroup(),M.range=l.selection.getRange(),l.selection.setRange(Ba),l.selection.clearSelection()))}},Da=function(Ba){if(l.onCompositionEnd&&!l.$readOnly){var Sa=M;M=!1;var cb=setTimeout(function(){cb=null;var $a=x.value.replace(/\x01/g,"");M||($a==Sa.lastValue?w():!Sa.lastValue&&$a&&(w(),ra($a)))});ca=function($a){return cb&&clearTimeout(cb),$a=$a.replace(/\x01/g,""),$a==Sa.lastValue?"":(Sa.lastValue&&cb&&l.undo(),$a)};l.onCompositionEnd();l.removeListener("mousedown",
Da);"compositionend"==Ba.type&&Sa.range&&l.selection.setRange(Sa.range);(h.isChrome&&53<=h.isChrome||h.isWebKit&&603<=h.isWebKit)&&Ia()}},Fa=g.delayedCall(Aa,50);a.addListener(x,"compositionstart",function(Ba){M||!l.onCompositionStart||l.$readOnly||(M={},M.canUndo=l.session.$undoManager,l.onCompositionStart(),setTimeout(Aa,0),l.on("mousedown",Da),M.canUndo&&!l.selection.isEmpty()&&(l.insert(""),l.session.markUndoGroup(),l.selection.clearSelection()),l.session.markUndoGroup())});h.isGecko?a.addListener(x,
"text",function(){Fa.schedule()}):(a.addListener(x,"keyup",function(){Fa.schedule()}),a.addListener(x,"keydown",function(){Fa.schedule()}));a.addListener(x,"compositionend",Da);this.getElement=function(){return x};this.setReadOnly=function(Ba){x.readOnly=Ba};this.onContextMenu=function(Ba){ha=!0;n(l.selection.isEmpty());l._emit("nativecontextmenu",{target:l,domEvent:Ba});this.moveToMouse(Ba,!0)};this.moveToMouse=function(Ba,Sa){Q||=x.style.cssText;x.style.cssText=(Sa?"z-index:100000;":"")+"height:"+
x.style.height+";"+(h.isIE?"opacity:0.1;":"");Sa=l.container.getBoundingClientRect();var cb=f.computedStyle(l.container),$a=Sa.top+(parseInt(cb.borderTopWidth)||0),rb=Sa.left+(parseInt(Sa.borderLeftWidth)||0),Hb=Sa.bottom-$a-x.clientHeight-2;Sa=function(ib){x.style.left=ib.clientX-rb-2+"px";x.style.top=Math.min(ib.clientY-$a-2,Hb)+"px"};Sa(Ba);"mousedown"==Ba.type&&(l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=null),clearTimeout(Oa),h.isWin&&a.capture(l.container,Sa,z))};this.onContextMenuClose=
z;var Oa,Ga=function(Ba){l.textInput.onContextMenu(Ba);z()};a.addListener(x,"mouseup",Ga);a.addListener(x,"mousedown",function(Ba){Ba.preventDefault();z()});a.addListener(l.renderer.scroller,"contextmenu",Ga);a.addListener(x,"contextmenu",Ga);if(h.isIOS){var wa=null,Qa=!1;c.addEventListener("keydown",function(Ba){wa&&clearTimeout(wa);Qa=!0});c.addEventListener("keyup",function(Ba){wa=setTimeout(function(){Qa=!1},100)});var Wa=function(Ba){if(document.activeElement===x&&!Qa){if(K)return setTimeout(function(){K=
!1},100);Ba=x.selectionStart;var Sa=x.selectionEnd;x.setSelectionRange(4,5);if(Ba==Sa)switch(Ba){case 0:l.onCommandKey(null,0,e.up);break;case 1:l.onCommandKey(null,0,e.home);break;case 2:l.onCommandKey(null,m.option,e.left);break;case 4:l.onCommandKey(null,0,e.left);break;case 5:l.onCommandKey(null,0,e.right);break;case 7:l.onCommandKey(null,m.option,e.right);break;case 8:l.onCommandKey(null,0,e.end);break;case 9:l.onCommandKey(null,0,e.down)}else{switch(Sa){case 6:l.onCommandKey(null,m.shift,e.right);
break;case 7:l.onCommandKey(null,m.shift|m.option,e.right);break;case 8:l.onCommandKey(null,m.shift,e.end);break;case 9:l.onCommandKey(null,m.shift,e.down)}switch(Ba){case 0:l.onCommandKey(null,m.shift,e.up);break;case 1:l.onCommandKey(null,m.shift,e.home);break;case 2:l.onCommandKey(null,m.shift|m.option,e.left);break;case 3:l.onCommandKey(null,m.shift,e.left)}}}};document.addEventListener("selectionchange",Wa);l.on("destroy",function(){document.removeEventListener("selectionchange",Wa)})}}});
define("ace/keyboard/textinput","require exports module ace/lib/event ace/lib/useragent ace/lib/dom ace/lib/lang ace/keyboard/textinput_ios".split(" "),function(d,N,X){var a=d("../lib/event"),h=d("../lib/useragent"),f=d("../lib/dom"),g=d("../lib/lang"),e=18>h.isChrome,m=h.isIE,p=d("./textinput_ios").TextInput;N.TextInput=function(u,c){function l(wa){if(!K){K=!0;if(S){var Qa=0;wa=wa?0:z.value.length-1}else Qa=wa?2:1,wa=2;try{z.setSelectionRange(Qa,wa)}catch(Wa){}K=!1}}function n(){K||(z.value=x,h.isWebKit&&
T.schedule())}function w(){clearTimeout(Ga);Ga=setTimeout(function(){D&&(z.style.cssText=D,D="");null==c.renderer.$keepTextAreaAtCursor&&(c.renderer.$keepTextAreaAtCursor=!0,c.renderer.$moveTextAreaToCursor())},0)}if(h.isIOS)return p.call(this,u,c);var z=f.createElement("textarea");z.className="ace_text-input";z.setAttribute("wrap","off");z.setAttribute("autocorrect","off");z.setAttribute("autocapitalize","off");z.setAttribute("spellcheck",!1);z.style.opacity="0";u.insertBefore(z,u.firstChild);var x=
"\u2028\u2028",J=!1,v=!1,K=!1,D="",M=!0;try{var Q=document.activeElement===z}catch(wa){}a.addListener(z,"blur",function(wa){c.onBlur(wa);Q=!1});a.addListener(z,"focus",function(wa){Q=!0;c.onFocus(wa);l()});this.focus=function(){if(D)return z.focus();var wa=z.style.top;z.style.position="fixed";z.style.top="0px";z.focus();setTimeout(function(){z.style.position="";"0px"==z.style.top&&(z.style.top=wa)},0)};this.blur=function(){z.blur()};this.isFocused=function(){return Q};var G=g.delayedCall(function(){Q&&
l(M)}),T=g.delayedCall(function(){K||(z.value=x,Q&&l())});h.isWebKit||c.addEventListener("changeSelection",function(){c.selection.isEmpty()!=M&&(M=!M,G.schedule())});n();Q&&c.onFocus();var S=null;this.setInputHandler=function(wa){S=wa};this.getInputHandler=function(){return S};var R=!1,ca=function(wa){S&&(wa=S(wa),S=null);v?(l(),wa&&c.onPaste(wa),v=!1):wa==x.charAt(0)?R?c.execCommand("del",{source:"ace"}):c.execCommand("backspace",{source:"ace"}):(wa.substring(0,2)==x?wa=wa.substr(2):wa.charAt(0)==
x.charAt(0)?wa=wa.substr(1):wa.charAt(wa.length-1)==x.charAt(0)&&(wa=wa.slice(0,-1)),wa.charAt(wa.length-1)==x.charAt(0)&&(wa=wa.slice(0,-1)),wa&&c.onTextInput(wa));R&&=!1},ha=function(wa){K||(ca(z.value),n())},ra=function(wa,Qa,Wa){if((wa=wa.clipboardData||window.clipboardData)&&!e){var Ba=m||Wa?"Text":"text/plain";try{return Qa?!1!==wa.setData(Ba,Qa):wa.getData(Ba)}catch(Sa){if(!Wa)return ra(Sa,Qa,!0)}}},Ia=function(wa,Qa){var Wa=c.getCopyText();if(!Wa)return a.preventDefault(wa);ra(wa,Wa)?(Qa?
c.onCut():c.onCopy(),a.preventDefault(wa)):(J=!0,z.value=Wa,z.select(),setTimeout(function(){J=!1;n();l();Qa?c.onCut():c.onCopy()}))},ja=function(wa){Ia(wa,!0)},ma=function(wa){Ia(wa,!1)},Aa=function(wa){var Qa=ra(wa);"string"==typeof Qa?(Qa&&c.onPaste(Qa,wa),h.isIE&&setTimeout(l),a.preventDefault(wa)):(z.value="",v=!0)};a.addCommandKeyListener(z,c.onCommandKey.bind(c));a.addListener(z,"select",function(wa){J?J=!1:0===z.selectionStart&&z.selectionEnd===z.value.length?(c.selectAll(),l()):S&&l(c.selection.isEmpty())});
a.addListener(z,"input",ha);a.addListener(z,"cut",ja);a.addListener(z,"copy",ma);a.addListener(z,"paste",Aa);"oncut"in z&&"oncopy"in z&&"onpaste"in z||a.addListener(u,"keydown",function(wa){if((!h.isMac||wa.metaKey)&&wa.ctrlKey)switch(wa.keyCode){case 67:ma(wa);break;case 86:Aa(wa);break;case 88:ja(wa)}});var Da=function(){if(K&&c.onCompositionUpdate&&!c.$readOnly){var wa=z.value.replace(/\u2028/g,"");K.lastValue!==wa&&(c.onCompositionUpdate(wa),K.lastValue&&c.undo(),K.canUndo&&(K.lastValue=wa),K.lastValue&&
(wa=c.selection.getRange(),c.insert(K.lastValue),c.session.markUndoGroup(),K.range=c.selection.getRange(),c.selection.setRange(wa),c.selection.clearSelection()))}},Fa=function(wa){if(c.onCompositionEnd&&!c.$readOnly){var Qa=K;K=!1;var Wa=setTimeout(function(){Wa=null;var Ba=z.value.replace(/\u2028/g,"");K||(Ba==Qa.lastValue?n():!Qa.lastValue&&Ba&&(n(),ca(Ba)))});S=function(Ba){return Wa&&clearTimeout(Wa),Ba=Ba.replace(/\u2028/g,""),Ba==Qa.lastValue?"":(Qa.lastValue&&Wa&&c.undo(),Ba)};c.onCompositionEnd();
c.removeListener("mousedown",Fa);"compositionend"==wa.type&&Qa.range&&c.selection.setRange(Qa.range);(h.isChrome&&53<=h.isChrome||h.isWebKit&&603<=h.isWebKit)&&ha()}},Oa=g.delayedCall(Da,50);a.addListener(z,"compositionstart",function(wa){K||!c.onCompositionStart||c.$readOnly||(K={},K.canUndo=c.session.$undoManager,c.onCompositionStart(),setTimeout(Da,0),c.on("mousedown",Fa),K.canUndo&&!c.selection.isEmpty()&&(c.insert(""),c.session.markUndoGroup(),c.selection.clearSelection()),c.session.markUndoGroup())});
h.isGecko?a.addListener(z,"text",function(){Oa.schedule()}):(a.addListener(z,"keyup",function(){Oa.schedule()}),a.addListener(z,"keydown",function(){Oa.schedule()}));a.addListener(z,"compositionend",Fa);this.getElement=function(){return z};this.setReadOnly=function(wa){z.readOnly=wa};this.onContextMenu=function(wa){R=!0;l(c.selection.isEmpty());c._emit("nativecontextmenu",{target:c,domEvent:wa});this.moveToMouse(wa,!0)};this.moveToMouse=function(wa,Qa){D||=z.style.cssText;z.style.cssText=(Qa?"z-index:100000;":
"")+"height:"+z.style.height+";"+(h.isIE?"opacity:0.1;":"");Qa=c.container.getBoundingClientRect();var Wa=f.computedStyle(c.container),Ba=Qa.top+(parseInt(Wa.borderTopWidth)||0),Sa=Qa.left+(parseInt(Qa.borderLeftWidth)||0),cb=Qa.bottom-Ba-z.clientHeight-2;Qa=function($a){z.style.left=$a.clientX-Sa-2+"px";z.style.top=Math.min($a.clientY-Ba-2,cb)+"px"};Qa(wa);"mousedown"==wa.type&&(c.renderer.$keepTextAreaAtCursor&&(c.renderer.$keepTextAreaAtCursor=null),clearTimeout(Ga),h.isWin&&a.capture(c.container,
Qa,w))};this.onContextMenuClose=w;var Ga;u=function(wa){c.textInput.onContextMenu(wa);w()};a.addListener(z,"mouseup",u);a.addListener(z,"mousedown",function(wa){wa.preventDefault();w()});a.addListener(c.renderer.scroller,"contextmenu",u);a.addListener(z,"contextmenu",u)}});
define("ace/mouse/default_handlers","require exports module ace/lib/dom ace/lib/event ace/lib/useragent".split(" "),function(d,N,X){function a(g){g.$clickSelection=null;var e=g.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(g));e.setDefaultHandler("dblclick",this.onDoubleClick.bind(g));e.setDefaultHandler("tripleclick",this.onTripleClick.bind(g));e.setDefaultHandler("quadclick",this.onQuadClick.bind(g));e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(g));e.setDefaultHandler("touchmove",
this.onTouchMove.bind(g));"select startSelect selectEnd selectAllEnd selectByWordsEnd selectByLinesEnd dragWait dragWaitEnd focusWait".split(" ").forEach(function(m){g[m]=this[m]},this);g.selectByLines=this.extendSelectionBy.bind(g,"getLineRange");g.selectByWords=this.extendSelectionBy.bind(g,"getWordRange")}function h(g,e){return 0>(g.start.row==g.end.row?2*e.column-g.start.column-g.end.column:g.start.row!=g.end.row-1||g.start.column||g.end.column?2*e.row-g.start.row-g.end.row:e.column-4)?{cursor:g.start,
anchor:g.end}:{cursor:g.end,anchor:g.start}}d("../lib/dom");d("../lib/event");var f=d("../lib/useragent");(function(){this.onMouseDown=function(g){var e=g.inSelection(),m=g.getDocumentPosition();this.mousedownEvent=g;var p=this.editor,u=g.getButton();if(0!==u)e=p.getSelectionRange().isEmpty(),p.$blockScrolling++,(e||1==u)&&p.selection.moveToPosition(m),p.$blockScrolling--,2==u&&(p.textInput.onContextMenu(g.domEvent),f.isMozilla||g.preventDefault());else{this.mousedownEvent.time=Date.now();if(e&&!p.isFocused()&&
(p.focus(),this.$focusTimout&&!this.$clickSelection&&!p.inMultiSelectMode)){this.setState("focusWait");this.captureMouse(g);return}return this.captureMouse(g),this.startSelect(m,1<g.domEvent._clicks),g.preventDefault()}};this.startSelect=function(g,e){g=g||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var m=this.editor;m.$blockScrolling++;this.mousedownEvent.getShiftKey()?m.selection.selectToPosition(g):e||m.selection.moveToPosition(g);e||this.select();m.renderer.scroller.setCapture&&
m.renderer.scroller.setCapture();m.setStyle("ace_selecting");this.setState("select");m.$blockScrolling--};this.select=function(){var g=this.editor,e=g.renderer.screenToTextCoordinates(this.x,this.y);g.$blockScrolling++;if(this.$clickSelection){var m=this.$clickSelection.comparePoint(e);-1==m?m=this.$clickSelection.end:1==m?m=this.$clickSelection.start:(m=h(this.$clickSelection,e),e=m.cursor,m=m.anchor);g.selection.setSelectionAnchor(m.row,m.column)}g.selection.selectToPosition(e);g.$blockScrolling--;
g.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(g){var e=this.editor,m=e.renderer.screenToTextCoordinates(this.x,this.y);g=e.selection[g](m.row,m.column);e.$blockScrolling++;if(this.$clickSelection){var p=this.$clickSelection.comparePoint(g.start);var u=this.$clickSelection.comparePoint(g.end);if(-1==p&&0>=u){if(p=this.$clickSelection.end,g.end.row!=m.row||g.end.column!=m.column)m=g.start}else if(1==u&&0<=p){if(p=this.$clickSelection.start,g.start.row!=m.row||g.start.column!=m.column)m=
g.end}else-1==p&&1==u?(m=g.end,p=g.start):(g=h(this.$clickSelection,m),m=g.cursor,p=g.anchor);e.selection.setSelectionAnchor(p.row,p.column)}e.selection.selectToPosition(m);e.$blockScrolling--;e.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()};this.focusWait=function(){var g=
Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),e=Date.now();(0<g||e-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(g){g=g.getDocumentPosition();var e=this.editor,m=e.session.getBracketRange(g);m?(m.isEmpty()&&(m.start.column--,m.end.column++),this.setState("select")):(m=e.selection.getWordRange(g.row,g.column),this.setState("selectByWords"));this.$clickSelection=m;this.select()};
this.onTripleClick=function(g){g=g.getDocumentPosition();var e=this.editor;this.setState("selectByLines");var m=e.getSelectionRange();m.isMultiLine()&&m.contains(g.row,g.column)?(this.$clickSelection=e.selection.getLineRange(m.start.row),this.$clickSelection.end=e.selection.getLineRange(m.end.row).end):this.$clickSelection=e.selection.getLineRange(g.row);this.select()};this.onQuadClick=function(g){g=this.editor;g.selectAll();this.$clickSelection=g.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=
function(g){if(!g.getAccelKey()){g.getShiftKey()&&g.wheelY&&!g.wheelX&&(g.wheelX=g.wheelY,g.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var m=this.$lastScroll,p=g.domEvent.timeStamp,u=p-m.t,c=g.wheelX/u,l=g.wheelY/u;250>u&&(c=(c+m.vx)/2,l=(l+m.vy)/2);u=Math.abs(c/l);var n=!1;1<=u&&e.renderer.isScrollableBy(g.wheelX*g.speed,0)&&(n=!0);1>=u&&e.renderer.isScrollableBy(0,g.wheelY*g.speed)&&(n=!0);n?m.allowed=p:250>p-m.allowed&&(Math.abs(c)<=1.1*Math.abs(m.vx)&&
Math.abs(l)<=1.1*Math.abs(m.vy)?(n=!0,m.allowed=p):m.allowed=0);m.t=p;m.vx=c;m.vy=l;if(n)return e.renderer.scrollBy(g.wheelX*g.speed,g.wheelY*g.speed),g.stop()}};this.onTouchMove=function(g){this.editor._emit("mousewheel",g)}}).call(a.prototype);N.DefaultHandlers=a});
define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(d,N,X){function a(f){this.isOpen=!1;this.$element=null;this.$parentNode=f}d("./lib/oop");var h=d("./lib/dom");(function(){this.$init=function(){return this.$element=h.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(f){h.setInnerText(this.getElement(),
f)};this.setHtml=function(f){this.getElement().innerHTML=f};this.setPosition=function(f,g){this.getElement().style.left=f+"px";this.getElement().style.top=g+"px"};this.setClassName=function(f){h.addCssClass(this.getElement(),f)};this.show=function(f,g,e){null!=f&&this.setText(f);null!=g&&null!=e&&this.setPosition(g,e);this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)};this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)};this.getHeight=function(){return this.getElement().offsetHeight};
this.getWidth=function(){return this.getElement().offsetWidth};this.destroy=function(){this.isOpen=!1;this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(a.prototype);N.Tooltip=a});
define("ace/mouse/default_gutter_handler","require exports module ace/lib/dom ace/lib/oop ace/lib/event ace/tooltip".split(" "),function(d,N,X){function a(e){g.call(this,e)}var h=d("../lib/dom");X=d("../lib/oop");var f=d("../lib/event"),g=d("../tooltip").Tooltip;X.inherits(a,g);(function(){this.setPosition=function(e,m){var p=window.innerWidth||document.documentElement.clientWidth,u=window.innerHeight||document.documentElement.clientHeight,c=this.getWidth(),l=this.getHeight();e+=15;m+=15;e+c>p&&(e-=
e+c-p);m+l>u&&(m-=20+l);g.prototype.setPosition.call(this,e,m)}}).call(a.prototype);N.GutterHandler=function(e){function m(){l&&=clearTimeout(l);w&&(c.hide(),w=null,p._signal("hideGutterTooltip",c),p.removeEventListener("mousewheel",m))}var p=e.editor,u=p.renderer.$gutterLayer,c=new a(p.container);e.editor.setDefaultHandler("guttermousedown",function(z){if(p.isFocused()&&0==z.getButton()&&"foldWidgets"!=u.getRegion(z)){var x=z.getDocumentPosition().row,J=p.session.selection;if(z.getShiftKey())J.selectTo(x,
0);else{if(2==z.domEvent.detail)return p.selectAll(),z.preventDefault();e.$clickSelection=p.selection.getLineRange(x)}return e.setState("selectByLines"),e.captureMouse(z),z.preventDefault()}});var l,n,w;e.editor.setDefaultHandler("guttermousemove",function(z){if(h.hasCssClass(z.domEvent.target||z.domEvent.srcElement,"ace_fold-widget"))return m();w&&e.$tooltipFollowsMouse&&c.setPosition(z.x,z.y);n=z;l||=setTimeout(function(){l=null;if(n&&!e.isMousePressed)a:{var x=n.getDocumentPosition().row,J=u.$annotations[x];
if(J){var v=p.session.getLength();if(x==v&&(x=p.renderer.pixelToScreenCoordinates(0,n.y).row,v=n.$pos,x>p.session.documentToScreenRow(v.row,v.column))){m();break a}w!=J&&(w=J.text.join("<br/>"),c.setHtml(w),c.show(),p._signal("showGutterTooltip",c),p.on("mousewheel",m),e.$tooltipFollowsMouse?c.setPosition(n.x,n.y):(J=n.domEvent.target.getBoundingClientRect(),x=c.getElement().style,x.left=J.right+"px",x.top=J.bottom+"px"))}else m()}else m()},50)});f.addListener(p.renderer.$gutter,"mouseout",function(z){n=
null;w&&!l&&(l=setTimeout(function(){l=null;m()},50))});p.on("changeSession",m)}});
define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(d,N,X){var a=d("../lib/event"),h=d("../lib/useragent");d=N.MouseEvent=function(f,g){this.domEvent=f;this.editor=g;this.x=this.clientX=f.clientX;this.y=this.clientY=f.clientY;this.$inSelection=this.$pos=null;this.defaultPrevented=this.propagationStopped=!1};(function(){this.stopPropagation=function(){a.stopPropagation(this.domEvent);this.propagationStopped=!0};this.preventDefault=function(){a.preventDefault(this.domEvent);
this.defaultPrevented=!0};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)};this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var f=this.editor.getSelectionRange();if(f.isEmpty())this.$inSelection=!1;else{var g=this.getDocumentPosition();this.$inSelection=f.contains(g.row,g.column)}return this.$inSelection};
this.getButton=function(){return a.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=h.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(d.prototype)});
define("ace/mouse/dragdrop_handler","require exports module ace/lib/dom ace/lib/event ace/lib/useragent".split(" "),function(d,N,X){function a(u){var c,l;function n(){var Da=ca,Fa=ca=K.renderer.screenToTextCoordinates(G,T),Oa=Date.now(),Ga=!Da||Fa.row!=Da.row,wa=!Da||Fa.column!=Da.column;!ma||Ga||wa?(K.$blockScrolling+=1,K.moveCursorToPosition(Fa),--K.$blockScrolling,ma=Oa,c=G,l=T):Math.sqrt(Math.pow(G-c,2)+Math.pow(T-l,2))>p?ma=null:Oa-ma>=m&&(K.renderer.scrollCursorIntoView(),ma=null);Fa=ca;Oa=
Date.now();wa=K.renderer.layerConfig.lineHeight;var Qa=K.renderer.layerConfig.characterWidth;Ga=K.renderer.scroller.getBoundingClientRect();var Wa=G-Ga.left,Ba=Ga.right-G,Sa=T-Ga.top,cb=Ga.bottom-T,$a=Math.min(Sa,cb);Ga={row:Fa.row,column:Fa.column};2>=Math.min(Wa,Ba)/Qa&&(Ga.column+=Wa<Ba?-3:2);1>=$a/wa&&(Ga.row+=Sa<cb?-1:1);wa=Fa.column!=Ga.column;Da=!Da||Fa.row!=Da.row;Fa.row!=Ga.row||wa&&!Da?ja?Oa-ja>=e&&K.renderer.scrollCursorIntoView(Ga):ja=Oa:ja=null}function w(){R=K.selection.toOrientedRange();
Q=K.session.addMarker(R,"ace_selection",K.getSelectionStyle());K.clearSelection();K.isFocused()&&K.renderer.$cursorLayer.setBlinking(!1);clearInterval(S);n();S=setInterval(n,20);ha=0;f.addListener(document,"mousemove",x)}function z(){clearInterval(S);K.session.removeMarker(Q);Q=null;K.$blockScrolling+=1;K.selection.fromOrientedRange(R);--K.$blockScrolling;K.isFocused()&&!Ia&&K.renderer.$cursorLayer.setBlinking(!K.getReadOnly());ca=R=null;ha=0;ma=ja=null;f.removeListener(document,"mousemove",x)}function x(){null==
Aa&&(Aa=setTimeout(function(){null!=Aa&&Q&&z()},20))}function J(Da){Da=Da.types;return!Da||Array.prototype.some.call(Da,function(Fa){return"text/plain"==Fa||"Text"==Fa})}function v(Da){var Fa=["copy","copymove","all","uninitialized"],Oa=["move","copymove","linkmove","all","uninitialized"],Ga=g.isMac?Da.altKey:Da.ctrlKey,wa="uninitialized";try{wa=Da.dataTransfer.effectAllowed.toLowerCase()}catch(Qa){}Da="none";return Ga&&0<=Fa.indexOf(wa)?Da="copy":0<=Oa.indexOf(wa)?Da="move":0<=Fa.indexOf(wa)&&(Da=
"copy"),Da}var K=u.editor,D=h.createElement("img");D.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";g.isOpera&&(D.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(Da){u[Da]=this[Da]},this);K.addEventListener("mousedown",this.onMouseDown.bind(u));var M=K.container,Q,G,T,S,R,ca,ha=0,ra,Ia,ja,ma;this.onDragStart=function(Da){if(this.cancelDrag||
!M.draggable){var Fa=this;return setTimeout(function(){Fa.startSelect();Fa.captureMouse(Da)},0),Da.preventDefault()}R=K.getSelectionRange();var Oa=Da.dataTransfer;Oa.effectAllowed=K.getReadOnly()?"copy":"copyMove";g.isOpera&&(K.container.appendChild(D),D.scrollTop=0);Oa.setDragImage&&Oa.setDragImage(D,0,0);g.isOpera&&K.container.removeChild(D);Oa.clearData();Oa.setData("Text",K.session.getTextRange());Ia=!0;this.setState("drag")};this.onDragEnd=function(Da){Ia=M.draggable=!1;this.setState(null);K.getReadOnly()||
(Da=Da.dataTransfer.dropEffect,!ra&&"move"==Da&&K.session.remove(K.getSelectionRange()),K.renderer.$cursorLayer.setBlinking(!0));this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(Da){if(!K.getReadOnly()&&J(Da.dataTransfer))return G=Da.clientX,T=Da.clientY,Q||w(),ha++,Da.dataTransfer.dropEffect=ra=v(Da),f.preventDefault(Da)};this.onDragOver=function(Da){if(!K.getReadOnly()&&J(Da.dataTransfer))return G=Da.clientX,T=Da.clientY,Q||(w(),ha++),null!==
Aa&&(Aa=null),Da.dataTransfer.dropEffect=ra=v(Da),f.preventDefault(Da)};this.onDragLeave=function(Da){ha--;if(0>=ha&&Q)return z(),ra=null,f.preventDefault(Da)};this.onDrop=function(Da){if(ca){var Fa=Da.dataTransfer;if(Ia)switch(ra){case "move":R.contains(ca.row,ca.column)?R={start:ca,end:ca}:R=K.moveText(R,ca);break;case "copy":R=K.moveText(R,ca,!0)}else Fa=Fa.getData("Text"),R={start:ca,end:K.session.insert(ca,Fa)},K.focus(),ra=null;return z(),f.preventDefault(Da)}};f.addListener(M,"dragstart",this.onDragStart.bind(u));
f.addListener(M,"dragend",this.onDragEnd.bind(u));f.addListener(M,"dragenter",this.onDragEnter.bind(u));f.addListener(M,"dragover",this.onDragOver.bind(u));f.addListener(M,"dragleave",this.onDragLeave.bind(u));f.addListener(M,"drop",this.onDrop.bind(u));var Aa=null}var h=d("../lib/dom"),f=d("../lib/event"),g=d("../lib/useragent"),e=200,m=200,p=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(){this.editor.container.draggable=
!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(u){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){this.cancelDrag=!1;var u=this.editor;u.container.draggable=!0;u.renderer.$cursorLayer.setBlinking(!1);u.setStyle("ace_dragging");u.renderer.setCursorStyle(g.isWin?"default":"move");this.setState("dragReady")};
this.onMouseDrag=function(u){u=this.editor.container;if(g.isIE&&"dragReady"==this.state){var c=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2));3<c&&u.dragDrop()}"dragWait"===this.state&&(c=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),0<c&&(u.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))};this.onMouseDown=function(u){if(this.$dragEnabled){this.mousedownEvent=u;var c=this.editor,
l=u.inSelection(),n=u.getButton();1!==(u.domEvent.detail||1)||0!==n||!l||u.editor.inMultiSelectMode&&(u.getAccelKey()||u.getShiftKey())||(this.mousedownEvent.time=Date.now(),l=u.domEvent.target||u.domEvent.srcElement,"unselectable"in l&&(l.unselectable="on"),c.getDragDelay()?(g.isWebKit&&(this.cancelDrag=!0,c.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(u,this.onMouseDrag.bind(this)),u.defaultPrevented=!0)}}}).call(a.prototype);N.DragdropHandler=a});
define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(d,N,X){var a=d("./dom");N.get=function(h,f){var g=new XMLHttpRequest;g.open("GET",h,!0);g.onreadystatechange=function(){4===g.readyState&&f(g.responseText)};g.send(null)};N.loadScript=function(h,f){var g=a.getDocumentHead(),e=document.createElement("script");e.src=h;g.appendChild(e);e.onload=e.onreadystatechange=function(m,p){if(p||!e.readyState||"loaded"==e.readyState||"complete"==e.readyState)e=e.onload=e.onreadystatechange=
null,p||f()}};N.qualifyURL=function(h){var f=document.createElement("a");return f.href=h,f.href}});
define("ace/lib/event_emitter",["require","exports","module"],function(d,N,X){d={};var a=function(){this.propagationStopped=!0},h=function(){this.defaultPrevented=!0};d._emit=d._dispatchEvent=function(f,g){this._eventRegistry||(this._eventRegistry={});this._defaultHandlers||(this._defaultHandlers={});var e=this._eventRegistry[f]||[],m=this._defaultHandlers[f];if(e.length||m){"object"==typeof g&&g||(g={});g.type||(g.type=f);g.stopPropagation||(g.stopPropagation=a);g.preventDefault||(g.preventDefault=
h);e=e.slice();for(f=0;f<e.length&&(e[f](g,this),!g.propagationStopped);f++);if(m&&!g.defaultPrevented)return m(g,this)}};d._signal=function(f,g){if(f=(this._eventRegistry||{})[f]){f=f.slice();for(var e=0;e<f.length;e++)f[e](g,this)}};d.once=function(f,g){var e=this;g&&this.addEventListener(f,function p(){e.removeEventListener(f,p);g.apply(null,arguments)})};d.setDefaultHandler=function(f,g){var e=this._defaultHandlers;e||=this._defaultHandlers={_disabled_:{}};if(e[f]){var m=e[f],p=e._disabled_[f];
p||(e._disabled_[f]=p=[]);p.push(m);m=p.indexOf(g);-1!=m&&p.splice(m,1)}e[f]=g};d.removeDefaultHandler=function(f,g){var e=this._defaultHandlers;if(e){var m=e._disabled_[f];e[f]==g?m&&this.setDefaultHandler(f,m.pop()):m&&(f=m.indexOf(g),-1!=f&&m.splice(f,1))}};d.on=d.addEventListener=function(f,g,e){this._eventRegistry=this._eventRegistry||{};var m=this._eventRegistry[f];return m||=this._eventRegistry[f]=[],-1==m.indexOf(g)&&m[e?"unshift":"push"](g),g};d.off=d.removeListener=d.removeEventListener=
function(f,g){this._eventRegistry=this._eventRegistry||{};if(f=this._eventRegistry[f])g=f.indexOf(g),-1!==g&&f.splice(g,1)};d.removeAllListeners=function(f){this._eventRegistry&&(this._eventRegistry[f]=[])};N.EventEmitter=d});
define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,N,X){function a(m){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function h(m,p){var u=Error(m);u.data=p;"object"==typeof console&&console.error&&console.error(u);setTimeout(function(){throw u;})}"no use strict";var f=d("./oop"),g=d("./event_emitter").EventEmitter,e={setOptions:function(m){Object.keys(m).forEach(function(p){this.setOption(p,m[p])},this)},getOptions:function(m){var p=
{};return m?Array.isArray(m)||(p=m,m=Object.keys(p)):m=Object.keys(this.$options),m.forEach(function(u){p[u]=this.getOption(u)},this),p},setOption:function(m,p){if(this["$"+m]!==p){var u=this.$options[m];if(!u)return a('misspelled option "'+m+'"');if(u.forwardTo)return this[u.forwardTo]&&this[u.forwardTo].setOption(m,p);u.handlesSet||(this["$"+m]=p);u&&u.set&&u.set.call(this,p)}},getOption:function(m){var p=this.$options[m];return p?p.forwardTo?this[p.forwardTo]&&this[p.forwardTo].getOption(m):p&&
p.get?p.get.call(this):this["$"+m]:a('misspelled option "'+m+'"')}};d=function(){this.$defaultOptions={}};(function(){f.implement(this,g);this.defineOptions=function(m,p,u){return m.$options||(this.$defaultOptions[p]=m.$options={}),Object.keys(u).forEach(function(c){var l=u[c];"string"==typeof l&&(l={forwardTo:l});l.name||(l.name=c);m.$options[l.name]=l;"initialValue"in l&&(m["$"+l.name]=l.initialValue)}),f.implement(m,e),this};this.resetOptions=function(m){Object.keys(m.$options).forEach(function(p){var u=
m.$options[p];"value"in u&&m.setOption(p,u.value)})};this.setDefaultValue=function(m,p,u){m=this.$defaultOptions[m]||(this.$defaultOptions[m]={});m[p]&&(m.forwardTo?this.setDefaultValue(m.forwardTo,p,u):m[p].value=u)};this.setDefaultValues=function(m,p){Object.keys(p).forEach(function(u){this.setDefaultValue(m,u,p[u])},this)};this.warn=a;this.reportError=h}).call(d.prototype);N.AppConfig=d});
define("ace/config","require exports module ace/lib/lang ace/lib/oop ace/lib/net ace/lib/app_config".split(" "),function(d,N,X){function a(p){return p.replace(/-(.)/g,function(u,c){return c.toUpperCase()})}"no use strict";var h=d("./lib/lang");d("./lib/oop");var f=d("./lib/net"),g=d("./lib/app_config").AppConfig;X.exports=N=new g;var e=function(){return this||"undefined"!=typeof window&&window}(),m={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};
N.get=function(p){if(!m.hasOwnProperty(p))throw Error("Unknown config key: "+p);return m[p]};N.set=function(p,u){if(!m.hasOwnProperty(p))throw Error("Unknown config key: "+p);m[p]=u};N.all=function(){return h.copyObject(m)};N.moduleUrl=function(p,u){if(m.$moduleUrls[p])return m.$moduleUrls[p];var c=p.split("/");u=u||c[c.length-2]||"";p="snippets"==u?"/":"-";var l=c[c.length-1];"worker"==u&&"-"==p&&(l=l.replace(new RegExp("^"+u+"[\\-_]|[\\-_]"+u+"$","g"),""));(!l||l==u)&&1<c.length&&(l=c[c.length-
2]);c=m[u+"Path"];return null==c?c=m.basePath:"/"==p&&(u=p=""),c&&"/"!=c.slice(-1)&&(c+="/"),c+u+p+l+this.get("suffix")};N.setModuleUrl=function(p,u){return m.$moduleUrls[p]=u};N.$loading={};N.loadModule=function(p,u){var c;Array.isArray(p)&&(c=p[0],p=p[1]);try{var l=d(p)}catch(n){}if(l&&!N.$loading[p])return u&&u(l);N.$loading[p]||(N.$loading[p]=[]);N.$loading[p].push(u);if(!(1<N.$loading[p].length)){u=function(){d([p],function(n){N._emit("load.module",{name:p,module:n});var w=N.$loading[p];N.$loading[p]=
null;w.forEach(function(z){z&&z(n)})})};if(!N.get("packaged"))return u();f.loadScript(N.moduleUrl(p,c),u)}};N.init=function(p){if(e&&e.document){m.packaged=p||d.packaged||X.packaged||e.define&&define.packaged;p={};var u="",c=document.currentScript||document._currentScript;c=(c&&c.ownerDocument||document).getElementsByTagName("script");for(var l=0;l<c.length;l++){var n=c[l],w=n.src||n.getAttribute("src");if(w){n=n.attributes;for(var z=0,x=n.length;z<x;z++){var J=n[z];0===J.name.indexOf("data-ace-")&&
(p[a(J.name.replace(/^data-ace-/,""))]=J.value)}(w=w.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/))&&(u=w[1])}}u&&(p.base=p.base||u,p.packaged=!0);p.basePath=p.base;p.workerPath=p.workerPath||p.base;p.modePath=p.modePath||p.base;p.themePath=p.themePath||p.base;delete p.base;for(var v in p)"undefined"!=typeof p[v]&&N.set(v,p[v])}}});
define("ace/mouse/mouse_handler","require exports module ace/lib/event ace/lib/useragent ace/mouse/default_handlers ace/mouse/default_gutter_handler ace/mouse/mouse_event ace/mouse/dragdrop_handler ace/config".split(" "),function(d,N,X){var a=d("../lib/event"),h=d("../lib/useragent"),f=d("./default_handlers").DefaultHandlers,g=d("./default_gutter_handler").GutterHandler,e=d("./mouse_event").MouseEvent,m=d("./dragdrop_handler").DragdropHandler;d=d("../config");X=function(p){var u=this;this.editor=
p;new f(this);new g(this);new m(this);var c=function(w){document.hasFocus&&document.hasFocus()&&(p.isFocused()||document.activeElement!=(p.textInput&&p.textInput.getElement()))||window.focus();p.focus()},l=p.renderer.getMouseEventTarget();a.addListener(l,"click",this.onMouseEvent.bind(this,"click"));a.addListener(l,"mousemove",this.onMouseMove.bind(this,"mousemove"));a.addMultiMouseDownListener([l,p.renderer.scrollBarV&&p.renderer.scrollBarV.inner,p.renderer.scrollBarH&&p.renderer.scrollBarH.inner,
p.textInput&&p.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent");a.addMouseWheelListener(p.container,this.onMouseWheel.bind(this,"mousewheel"));a.addTouchMoveListener(p.container,this.onTouchMove.bind(this,"touchmove"));var n=p.renderer.$gutter;a.addListener(n,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));a.addListener(n,"click",this.onMouseEvent.bind(this,"gutterclick"));a.addListener(n,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"));a.addListener(n,
"mousemove",this.onMouseEvent.bind(this,"guttermousemove"));a.addListener(l,"mousedown",c);a.addListener(n,"mousedown",c);h.isIE&&p.renderer.scrollBarV&&(a.addListener(p.renderer.scrollBarV.element,"mousedown",c),a.addListener(p.renderer.scrollBarH.element,"mousedown",c));p.on("mousemove",function(w){if(!u.state&&!u.$dragDelay&&u.$dragEnabled){w=p.renderer.screenToTextCoordinates(w.x,w.y);var z=p.session.selection.getRange(),x=p.renderer;!z.isEmpty()&&z.insideStart(w.row,w.column)?x.setCursorStyle("default"):
x.setCursorStyle("")}})};(function(){this.onMouseEvent=function(p,u){this.editor._emit(p,new e(u,this.editor))};this.onMouseMove=function(p,u){var c=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;c&&c.length&&this.editor._emit(p,new e(u,this.editor))};this.onMouseWheel=function(p,u){var c=new e(u,this.editor);c.speed=2*this.$scrollSpeed;c.wheelX=u.wheelX;c.wheelY=u.wheelY;this.editor._emit(p,c)};this.onTouchMove=function(p,u){var c=new e(u,this.editor);c.speed=1;c.wheelX=u.wheelX;
c.wheelY=u.wheelY;this.editor._emit(p,c)};this.setState=function(p){this.state=p};this.captureMouse=function(p,u){this.x=p.x;this.y=p.y;this.isMousePressed=!0;var c=this.editor.renderer;c.$keepTextAreaAtCursor&&(c.$keepTextAreaAtCursor=null);var l=this,n=function(J){if(J){if(h.isWebKit&&!J.which&&l.releaseMouse)return l.releaseMouse();l.x=J.clientX;l.y=J.clientY;u&&u(J);l.mouseEvent=new e(J,l.editor);l.$mouseMoved=!0}},w=function(J){clearInterval(x);z();l[l.state+"End"]&&l[l.state+"End"](J);l.state=
"";null==c.$keepTextAreaAtCursor&&(c.$keepTextAreaAtCursor=!0,c.$moveTextAreaToCursor());l.isMousePressed=!1;l.$onCaptureMouseMove=l.releaseMouse=null;J&&l.onMouseEvent("mouseup",J)},z=function(){l[l.state]&&l[l.state]();l.$mouseMoved=!1};if(h.isOldIE&&"dblclick"==p.domEvent.type)return setTimeout(function(){w(p)});l.$onCaptureMouseMove=n;l.releaseMouse=a.capture(this.editor.container,n,w);var x=setInterval(z,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var p=function(u){u&&u.domEvent&&
"contextmenu"!=u.domEvent.type||(this.editor.off("nativecontextmenu",p),u&&u.domEvent&&a.stopEvent(u.domEvent))}.bind(this);setTimeout(p,10);this.editor.on("nativecontextmenu",p)}}).call(X.prototype);d.defineOptions(X.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:h.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});N.MouseHandler=X});
define("ace/mouse/fold_handler",["require","exports","module"],function(d,N,X){N.FoldHandler=function(a){a.on("click",function(h){var f=h.getDocumentPosition(),g=a.session;(f=g.getFoldAt(f.row,f.column,1))&&(h.getAccelKey()?g.removeFold(f):g.expandFold(f),h.stop())});a.on("gutterclick",function(h){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(h)){var f=h.getDocumentPosition().row,g=a.session;g.foldWidgets&&g.foldWidgets[f]&&a.session.onFoldWidgetClick(f,h);a.isFocused()||a.focus();h.stop()}});
a.on("gutterdblclick",function(h){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(h)){var f=h.getDocumentPosition().row,g=a.session,e=g.getParentFoldRangeData(f,!0);if(e=e.range||e.firstRange)f=e.start.row,(f=g.getFoldAt(f,g.getLine(f).length,1))?g.removeFold(f):(g.addFold("...",e),a.renderer.scrollCursorIntoView({row:e.start.row,column:0}));h.stop()}})}});
define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(d,N,X){var a=d("../lib/keys"),h=d("../lib/event");d=function(f){this.$editor=f;this.$data={editor:f};this.$handlers=[];this.setDefaultHandler(f.commands)};(function(){this.setDefaultHandler=function(f){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=f;this.addKeyboardHandler(f,0)};this.setKeyboardHandler=function(f){var g=this.$handlers;if(g[g.length-1]!=f){for(;g[g.length-
1]&&g[g.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(g[g.length-1]);this.addKeyboardHandler(f,1)}};this.addKeyboardHandler=function(f,g){if(f){"function"==typeof f&&!f.handleKeyboard&&(f.handleKeyboard=f);var e=this.$handlers.indexOf(f);-1!=e&&this.$handlers.splice(e,1);void 0==g?this.$handlers.push(f):this.$handlers.splice(g,0,f);-1==e&&f.attach&&f.attach(this.$editor)}};this.removeKeyboardHandler=function(f){var g=this.$handlers.indexOf(f);return-1==g?!1:(this.$handlers.splice(g,
1),f.detach&&f.detach(this.$editor),!0)};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var f=this.$data,g=f.editor;return this.$handlers.map(function(e){return e.getStatusText&&e.getStatusText(g,f)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(f,g,e,m){for(var p,u=!1,c=this.$editor.commands,l=this.$handlers.length;l--&&!((p=this.$handlers[l].handleKeyboard(this.$data,f,g,e,m))&&p.command&&("null"==p.command?
u=!0:u=c.exec(p.command,this.$editor,p.args,m),u&&m&&-1!=f&&1!=p.passEvent&&1!=p.command.passEvent&&h.stopEvent(m),u)););return!u&&-1==f&&(p={command:"insertstring"},u=c.exec("insertstring",this.$editor,g)),u&&this.$editor._signal&&this.$editor._signal("keyboardActivity",p),u};this.onCommandKey=function(f,g,e){var m=a.keyCodeToString(e);this.$callKeyboardHandlers(g,m,e,f)};this.onTextInput=function(f){this.$callKeyboardHandlers(-1,f)}}).call(d.prototype);N.KeyBinding=d});
define("ace/lib/bidiutil",["require","exports","module"],function(d,N,X){function a(Fa,Oa,Ga){if(!(e<Fa))if(1!=Fa||g!=n||p)for(var wa=Ga.length,Qa=0,Wa,Ba,Sa;Qa<wa;){if(Oa[Qa]>=Fa){for(Wa=Qa+1;Wa<wa&&Oa[Wa]>=Fa;)Wa++;for(Ba=Wa-1;Qa<Ba;Qa++,Ba--)Sa=Ga[Qa],Ga[Qa]=Ga[Ba],Ga[Ba]=Sa;Qa=Wa}Qa++}else Ga.reverse()}function h(Fa,Oa,Ga,wa){var Qa=Oa[wa],Wa,Ba;switch(Qa){case w:case z:m=!1;case v:case J:return Qa;case x:return m?J:x;case M:return m=!0,z;case Q:return v;case G:return 1>wa||wa+1>=Oa.length||(Wa=
Ga[wa-1])!=x&&Wa!=J||(Ba=Oa[wa+1])!=x&&Ba!=J?v:(m&&(Ba=J),Ba==Wa?Ba:v);case T:return Wa=0<wa?Ga[wa-1]:K,Wa==x&&wa+1<Oa.length&&Oa[wa+1]==x?x:v;case S:if(0<wa&&Ga[wa-1]==x)return x;if(m)return v;Wa=wa+1;for(Qa=Oa.length;Wa<Qa&&Oa[Wa]==S;)Wa++;return Wa<Qa&&Oa[Wa]==x?x:v;case R:Qa=Oa.length;for(Wa=wa+1;Wa<Qa&&Oa[Wa]==R;)Wa++;return Wa<Qa&&(Fa=Fa[wa],Wa=Oa[Wa],(1425<=Fa&&2303>=Fa||64286==Fa)&&(Wa==z||Wa==M))?z:1>wa||Oa[wa-1]==K?v:Ga[wa-1];case K:return m=!1,p=!0,g;case D:return u=!0,v;case ca:case ha:case Ia:case ja:case ra:m=
!1;case ma:return v}}function f(Fa){var Oa=Fa.charCodeAt(0),Ga=Oa>>8;return 0==Ga?191<Oa?w:Aa[Oa]:5==Ga?/[\u0591-\u05f4]/.test(Fa)?z:w:6==Ga?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Fa)?R:/[\u0660-\u0669\u066b-\u066c]/.test(Fa)?J:1642==Oa?S:/[\u06f0-\u06f9]/.test(Fa)?x:M:32==Ga&&8287>=Oa?Da[Oa&255]:254==Ga?65136<=Oa?M:v:v}var g=0,e=0,m=!1,p=!1,u=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,
1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],n=1,w=0,z=1,x=2,J=3,v=4,K=5,D=6,M=7,Q=8,G=9,T=10,S=11,R=12,ca=13,ha=14,ra=15,Ia=16,ja=17,ma=18,Aa=[ma,ma,ma,ma,ma,ma,ma,ma,ma,D,K,D,Q,K,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,K,K,K,D,Q,v,v,S,S,S,v,v,v,v,v,T,G,T,G,G,x,x,x,x,x,x,x,x,x,x,G,v,v,v,v,v,v,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,v,v,v,v,v,v,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,v,v,v,v,ma,ma,ma,ma,ma,ma,K,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,
ma,ma,ma,ma,ma,G,v,S,S,S,S,v,v,v,v,w,v,v,ma,v,v,S,S,x,x,v,w,v,v,v,x,w,v,v,v,v,v],Da=[Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,ma,ma,ma,w,z,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,Q,K,ca,ha,ra,Ia,ja,G,S,S,S,S,S,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,G,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,Q];N.L=w;N.R=z;N.EN=x;N.ON_R=3;N.AN=4;N.R_H=5;N.B=6;N.DOT="\u00b7";N.doBidiReorder=function(Fa,Oa,Ga){if(2>Fa.length)return{};Fa=Fa.split("");var wa=Array(Fa.length),Qa=Array(Fa.length),Wa=[];g=Ga?n:0;Ga=Fa.length;var Ba=
Oa,Sa=g?l:c;var cb=0;var $a=-1,rb,Hb=[];if(!Ba){var ib=0;for(Ba=[];ib<Ga;ib++)Ba[ib]=f(Fa[ib])}e=g;u=p=m=!1;for(rb=0;rb<Ga;rb++){var Ob=cb;Hb[rb]=cb=h(Fa,Ba,Hb,rb);cb=Sa[Ob][cb];ib=cb&240;cb&=15;Wa[rb]=Ob=Sa[cb][5];if(0<ib){if(16==ib)for(ib=$a;ib<rb;ib++)Wa[ib]=1;$a=-1}if(ib=Sa[cb][6])-1==$a&&($a=rb);else if(-1<$a){for(ib=$a;ib<rb;ib++)Wa[ib]=Ob;$a=-1}Ba[rb]==K&&(Wa[rb]=0);e|=Ob}if(u)for(ib=0;ib<Ga;ib++)if(Ba[ib]==D)for(Wa[ib]=g,Sa=ib-1;0<=Sa&&Ba[Sa]==Q;Sa--)Wa[Sa]=g;for(Ga=0;Ga<wa.length;wa[Ga]=
Ga,Ga++);a(2,Wa,wa);a(1,Wa,wa);for(Ga=0;Ga<wa.length-1;Ga++)Oa[Ga]===J?Wa[Ga]=N.AN:Wa[Ga]===z&&(Oa[Ga]>M&&Oa[Ga]<ca||Oa[Ga]===v||Oa[Ga]===ma)?Wa[Ga]=N.ON_R:0<Ga&&"\u0644"===Fa[Ga-1]&&/\u0622|\u0623|\u0625|\u0627/.test(Fa[Ga])&&(Wa[Ga-1]=Wa[Ga]=N.R_H,Ga++);Fa[Fa.length-1]===N.DOT&&(Wa[Fa.length-1]=N.B);for(Ga=0;Ga<wa.length;Ga++)Qa[Ga]=Wa[wa[Ga]];return{logicalFromVisual:wa,bidiLevels:Qa}};N.hasBidiCharacters=function(Fa,Oa){for(var Ga=!1,wa=0;wa<Fa.length;wa++)Oa[wa]=f(Fa.charAt(wa)),Ga||Oa[wa]!=
z&&Oa[wa]!=M||(Ga=!0);return Ga};N.getVisualFromLogicalIdx=function(Fa,Oa){for(var Ga=0;Ga<Oa.logicalFromVisual.length;Ga++)if(Oa.logicalFromVisual[Ga]==Fa)return Ga;return 0}});
define("ace/bidihandler","require exports module ace/lib/bidiutil ace/lib/lang ace/lib/useragent".split(" "),function(d,N,X){var a=d("./lib/bidiutil"),h=d("./lib/lang"),f=d("./lib/useragent"),g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;d=function(e){this.session=e;this.bidiMap={};this.currentRow=null;this.bidiUtil=a;this.charWidths=[];this.EOL="\u00ac";this.showInvisibles=!0;this.isRtlDir=!1;this.line="";this.wrapIndent=0;this.isLastRow=!1;this.EOF="\u00b6";this.seenBidi=!1};(function(){this.isBidiRow=
function(e,m,p){return this.seenBidi?(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(m,p),this.updateBidiMap()),this.bidiMap.bidiLevels):!1};this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&g.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)};this.getDocumentRow=function(){var e=0,m=this.session.$screenRowCache;m.length&&(m=this.session.$getRowCacheIndex(m,this.currentRow),0<=m&&(e=this.session.$docRowCache[m]));return e};this.getSplitIndex=
function(){var e=0,m=this.session.$screenRowCache;if(m.length)for(var p,u=this.session.$getRowCacheIndex(m,this.currentRow);0<this.currentRow-e;){p=this.session.$getRowCacheIndex(m,this.currentRow-e-1);if(p!==u)break;u=p;e++}return e};this.updateRowLine=function(e,m){void 0===e&&(e=this.getDocumentRow());this.wrapIndent=0;this.isLastRow=e===this.session.getLength()-1;this.line=this.session.getLine(e);this.session.$useWrapMode&&(e=this.session.$wrapData[e])&&(void 0===m&&(m=this.getSplitIndex()),0<
m&&e.length?(this.wrapIndent=e.indent,this.line=m<e.length?this.line.substring(e[m-1],e[e.length-1]):this.line.substring(e[e.length-1])):this.line=this.line.substring(0,e[m]));var p=this.session,u=0,c;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(l,n){return"\t"===l||p.isFullWidth(l.charCodeAt(0))?(c="\t"===l?p.getScreenTabSize(n+u):2,u+=c-1,h.stringRepeat(a.DOT,c)):l})};this.updateBidiMap=function(){var e=[],m=this.isLastRow?this.EOF:this.EOL;m=this.line+(this.showInvisibles?
m:a.DOT);a.hasBidiCharacters(m,e)?this.bidiMap=a.doBidiReorder(m,e,this.isRtlDir):this.bidiMap={}};this.markAsDirty=function(){this.currentRow=null};this.updateCharacterWidths=function(e){if(this.seenBidi&&this.characterWidth!==e.$characterSize.width){var m=this.characterWidth=e.$characterSize.width;e=e.$measureCharWidth("\u05d4");this.charWidths[a.L]=this.charWidths[a.EN]=this.charWidths[a.ON_R]=m;this.charWidths[a.R]=this.charWidths[a.AN]=e;this.charWidths[a.R_H]=f.isChrome?e:.45*e;this.charWidths[a.B]=
0;this.currentRow=null}};this.getShowInvisibles=function(){return this.showInvisibles};this.setShowInvisibles=function(e){this.showInvisibles=e;this.currentRow=null};this.setEolChar=function(e){this.EOL=e};this.setTextDir=function(e){this.isRtlDir=e};this.getPosLeft=function(e){e-=this.wrapIndent;var m=a.getVisualFromLogicalIdx(0<e?e-1:0,this.bidiMap),p=this.bidiMap.bidiLevels,u=0;0===e&&0!==p[m]%2&&m++;for(var c=0;c<m;c++)u+=this.charWidths[p[c]];return 0!==e&&0===p[m]%2&&(u+=this.charWidths[p[m]]),
this.wrapIndent&&(u+=this.wrapIndent*this.charWidths[a.L]),u};this.getSelections=function(e,m){var p=this.bidiMap,u=p.bidiLevels,c=this.wrapIndent*this.charWidths[a.L],l=[],n=Math.min(e,m)-this.wrapIndent;m=Math.max(e,m)-this.wrapIndent;for(var w=!1,z=!1,x=0,J=0;J<u.length;J++)w=p.logicalFromVisual[J],e=u[J],(w=w>=n&&w<m)&&!z?x=c:!w&&z&&l.push({left:x,width:c-x}),c+=this.charWidths[e],z=w;return w&&J===u.length&&l.push({left:x,width:c-x}),l};this.offsetToCol=function(e){var m=0;e=Math.max(e,0);var p=
0,u=0,c=this.bidiMap.bidiLevels,l=this.charWidths[c[u]];for(this.wrapIndent&&(e-=this.wrapIndent*this.charWidths[a.L]);e>p+l/2;){p+=l;if(u===c.length-1){l=0;break}l=this.charWidths[c[++u]]}return 0<u&&0!==c[u-1]%2&&0===c[u]%2?(e<p&&u--,m=this.bidiMap.logicalFromVisual[u]):0<u&&0===c[u-1]%2&&0!==c[u]%2?m=1+(e>p?this.bidiMap.logicalFromVisual[u]:this.bidiMap.logicalFromVisual[u-1]):this.isRtlDir&&u===c.length-1&&0===l&&0===c[u-1]%2||!this.isRtlDir&&0===u&&0!==c[u]%2?m=1+this.bidiMap.logicalFromVisual[u]:
(0<u&&0!==c[u-1]%2&&0!==l&&u--,m=this.bidiMap.logicalFromVisual[u]),m+this.wrapIndent}}).call(d.prototype);N.BidiHandler=d});
define("ace/range",["require","exports","module"],function(d,N,X){var a=function(h,f,g,e){this.start={row:h,column:f};this.end={row:g,column:e}};(function(){this.isEqual=function(h){return this.start.row===h.start.row&&this.end.row===h.end.row&&this.start.column===h.start.column&&this.end.column===h.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(h,f){return 0==this.compare(h,f)};this.compareRange=
function(h){var f,g=h.end;h=h.start;return f=this.compare(g.row,g.column),1==f?(f=this.compare(h.row,h.column),1==f?2:0==f?1:0):-1==f?-2:(f=this.compare(h.row,h.column),-1==f?-1:1==f?42:0)};this.comparePoint=function(h){return this.compare(h.row,h.column)};this.containsRange=function(h){return 0==this.comparePoint(h.start)&&0==this.comparePoint(h.end)};this.intersects=function(h){h=this.compareRange(h);return-1==h||0==h||1==h};this.isEnd=function(h,f){return this.end.row==h&&this.end.column==f};this.isStart=
function(h,f){return this.start.row==h&&this.start.column==f};this.setStart=function(h,f){"object"==typeof h?(this.start.column=h.column,this.start.row=h.row):(this.start.row=h,this.start.column=f)};this.setEnd=function(h,f){"object"==typeof h?(this.end.column=h.column,this.end.row=h.row):(this.end.row=h,this.end.column=f)};this.inside=function(h,f){return 0==this.compare(h,f)?this.isEnd(h,f)||this.isStart(h,f)?!1:!0:!1};this.insideStart=function(h,f){return 0==this.compare(h,f)?this.isEnd(h,f)?!1:
!0:!1};this.insideEnd=function(h,f){return 0==this.compare(h,f)?this.isStart(h,f)?!1:!0:!1};this.compare=function(h,f){return this.isMultiLine()||h!==this.start.row?h<this.start.row?-1:h>this.end.row?1:this.start.row===h?f>=this.start.column?0:-1:this.end.row===h?f<=this.end.column?0:1:0:f<this.start.column?-1:f>this.end.column?1:0};this.compareStart=function(h,f){return this.start.row==h&&this.start.column==f?-1:this.compare(h,f)};this.compareEnd=function(h,f){return this.end.row==h&&this.end.column==
f?1:this.compare(h,f)};this.compareInside=function(h,f){return this.end.row==h&&this.end.column==f?1:this.start.row==h&&this.start.column==f?-1:this.compare(h,f)};this.clipRows=function(h,f){if(this.end.row>f)var g={row:f+1,column:0};else this.end.row<h&&(g={row:h,column:0});if(this.start.row>f)var e={row:f+1,column:0};else this.start.row<h&&(e={row:h,column:0});return a.fromPoints(e||this.start,g||this.end)};this.extend=function(h,f){var g=this.compare(h,f);if(0==g)return this;if(-1==g)var e={row:h,
column:f};else var m={row:h,column:f};return a.fromPoints(e||this.start,m||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return a.fromPoints(this.start,this.end)};this.collapseRows=function(){return 0==this.end.column?new a(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new a(this.start.row,0,this.end.row,0)};this.toScreenRange=function(h){var f=
h.documentToScreenPosition(this.start);h=h.documentToScreenPosition(this.end);return new a(f.row,f.column,h.row,h.column)};this.moveBy=function(h,f){this.start.row+=h;this.start.column+=f;this.end.row+=h;this.end.column+=f}}).call(a.prototype);a.fromPoints=function(h,f){return new a(h.row,h.column,f.row,f.column)};a.comparePoints=function(h,f){return h.row-f.row||h.column-f.column};a.comparePoints=function(h,f){return h.row-f.row||h.column-f.column};N.Range=a});
define("ace/selection","require exports module ace/lib/oop ace/lib/lang ace/lib/event_emitter ace/range".split(" "),function(d,N,X){var a=d("./lib/oop"),h=d("./lib/lang"),f=d("./lib/event_emitter").EventEmitter,g=d("./range").Range;d=function(e){this.session=e;this.doc=e.getDocument();this.clearSelection();this.lead=this.selectionLead=this.doc.createAnchor(0,0);this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var m=this;this.lead.on("change",function(p){m._emit("changeCursor");m.$isEmpty||
m._emit("changeSelection");!m.$keepDesiredColumnOnChange&&p.old.column!=p.value.column&&(m.$desiredColumn=null)});this.selectionAnchor.on("change",function(){m.$isEmpty||m._emit("changeSelection")})};(function(){a.implement(this,f);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=
function(e,m){this.anchor.setPosition(e,m);this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))};this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.shiftSelection=function(e){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+e);else{var m=this.getSelectionAnchor(),p=this.getSelectionLead(),u=this.isBackwards();u&&0===m.column||this.setSelectionAnchor(m.row,
m.column+e);(u||0!==p.column)&&this.$moveSelection(function(){this.moveCursorTo(p.row,p.column+e)})}};this.isBackwards=function(){var e=this.anchor,m=this.lead;return e.row>m.row||e.row==m.row&&e.column>m.column};this.getRange=function(){var e=this.anchor,m=this.lead;return this.isEmpty()?g.fromPoints(m,m):this.isBackwards()?g.fromPoints(m,e):g.fromPoints(e,m)};this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))};this.selectAll=function(){var e=this.doc.getLength()-
1;this.setSelectionAnchor(0,0);this.moveCursorTo(e,this.doc.getLine(e).length)};this.setRange=this.setSelectionRange=function(e,m){m?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column));this.getRange().isEmpty()&&(this.$isEmpty=!0);this.$desiredColumn=null};this.$moveSelection=function(e){var m=this.lead;this.$isEmpty&&this.setSelectionAnchor(m.row,m.column);e.call(this)};
this.selectTo=function(e,m){this.$moveSelection(function(){this.moveCursorTo(e,m)})};this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})};this.moveTo=function(e,m){this.clearSelection();this.moveCursorTo(e,m)};this.moveToPosition=function(e){this.clearSelection();this.moveCursorToPosition(e)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};
this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};
this.getWordRange=function(e,m){"undefined"==typeof m&&(m=e||this.lead,e=m.row,m=m.column);return this.session.getWordRange(e,m)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var e=this.getCursor();e=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(e)};this.getLineRange=function(e,m){e="number"==typeof e?e:this.lead.row;var p,u=this.session.getFoldLine(e);return u?(e=u.start.row,p=u.end.row):p=e,!0===m?new g(e,0,p,this.session.getLine(p).length):
new g(e,0,p+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.wouldMoveIntoSoftTab=function(e,m,p){var u=e.column,c=e.column+m;return 0>p&&(u=e.column-m,c=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(u,c).split(" ").length-1==m};this.moveCursorLeft=function(){var e=this.lead.getPosition(),m;(m=this.session.getFoldAt(e.row,e.column,-1))?
this.moveCursorTo(m.start.row,m.start.column):0===e.column?0<e.row&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length):(m=this.session.getTabSize(),this.wouldMoveIntoSoftTab(e,m,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-m):this.moveCursorBy(0,-1))};this.moveCursorRight=function(){var e=this.lead.getPosition();if(e=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<
this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var m=this.session.getTabSize();e=this.lead;this.wouldMoveIntoSoftTab(e,m,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,m):this.moveCursorBy(0,1)}};this.moveCursorLineStart=function(){var e=this.lead.row,m=this.lead.column,p=this.session.documentToScreenRow(e,m);p=this.session.screenToDocumentPosition(p,0);e=this.session.getDisplayLine(e,null,p.row,p.column).match(/^\s*/);e[0].length!=m&&!this.session.$useEmacsStyleLineStart&&
(p.column+=e[0].length);this.moveCursorToPosition(p)};this.moveCursorLineEnd=function(){var e=this.lead;e=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==e.column){var m=this.session.getLine(e.row);e.column==m.length&&(m=m.search(/\s+$/),0<m&&(e.column=m))}this.moveCursorTo(e.row,e.column)};this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,m=this.doc.getLine(e).length;this.moveCursorTo(e,m)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};
this.moveCursorLongWordRight=function(){var e=this.lead.row,m=this.lead.column,p=this.doc.getLine(e),u=p.substring(m);this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;var c=this.session.getFoldAt(e,m,1);c?this.moveCursorTo(c.end.row,c.end.column):(this.session.nonTokenRe.exec(u)&&(m+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,u=p.substring(m)),m>=p.length?(this.moveCursorTo(e,p.length),this.moveCursorRight(),e<this.doc.getLength()-1&&this.moveCursorWordRight()):
(this.session.tokenRe.exec(u)&&(m+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,m)))};this.moveCursorLongWordLeft=function(){var e=this.lead.row,m=this.lead.column,p;(p=this.session.getFoldAt(e,m,-1))?this.moveCursorTo(p.start.row,p.start.column):(p=this.session.getFoldStringAt(e,m,-1),null==p&&(p=this.doc.getLine(e).substring(0,m)),p=h.stringReverse(p),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(p)&&(m-=
this.session.nonTokenRe.lastIndex,p=p.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=m?(this.moveCursorTo(e,0),this.moveCursorLeft(),0<e&&this.moveCursorWordLeft()):(this.session.tokenRe.exec(p)&&(m-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,m)))};this.$shortWordEndIndex=function(e){var m=0,p,u=/\s/,c=this.session.tokenRe;c.lastIndex=0;if(this.session.tokenRe.exec(e))m=this.session.tokenRe.lastIndex;else{for(;(p=e[m])&&u.test(p);)m++;
if(1>m)for(c.lastIndex=0;(p=e[m])&&!c.test(p);)if(c.lastIndex=0,m++,u.test(p)){if(2<m){m--;break}for(;(p=e[m])&&u.test(p);)m++;if(2<m)break}}return c.lastIndex=0,m};this.moveCursorShortWordRight=function(){var e=this.lead.row,m=this.lead.column,p=this.doc.getLine(e),u=p.substring(m),c=this.session.getFoldAt(e,m,1);if(c)return this.moveCursorTo(c.end.row,c.end.column);if(m==p.length){m=this.doc.getLength();do e++,u=this.doc.getLine(e);while(e<m&&/^\s*$/.test(u));/^\s+/.test(u)||(u="");m=0}u=this.$shortWordEndIndex(u);
this.moveCursorTo(e,m+u)};this.moveCursorShortWordLeft=function(){var e=this.lead.row,m=this.lead.column,p;if(p=this.session.getFoldAt(e,m,-1))return this.moveCursorTo(p.start.row,p.start.column);p=this.session.getLine(e).substring(0,m);if(0===m){do e--,p=this.doc.getLine(e);while(0<e&&/^\s*$/.test(p));m=p.length;/\s+$/.test(p)||(p="")}p=h.stringReverse(p);p=this.$shortWordEndIndex(p);return this.moveCursorTo(e,m-p)};this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():
this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()};this.moveCursorBy=function(e,m){var p=this.session.documentToScreenPosition(this.lead.row,this.lead.column),u;0===m&&(0!==e&&(this.session.$bidiHandler.isBidiRow(p.row,this.lead.row)?(u=this.session.$bidiHandler.getPosLeft(p.column),p.column=Math.round(u/this.session.$bidiHandler.charWidths[0])):u=p.column*this.session.$bidiHandler.charWidths[0]),
this.$desiredColumn?p.column=this.$desiredColumn:this.$desiredColumn=p.column);p=this.session.screenToDocumentPosition(p.row+e,p.column,u);0!==e&&0===m&&p.row===this.lead.row&&p.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[p.row]&&(0<p.row||0<e)&&p.row++;this.moveCursorTo(p.row,p.column+m,0===m)};this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)};this.moveCursorTo=function(e,m,p){var u=this.session.getFoldAt(e,m,1);u&&(e=u.start.row,m=u.start.column);
this.$keepDesiredColumnOnChange=!0;u=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(u.charAt(m))&&u.charAt(m-1)&&(this.lead.row==e&&this.lead.column==m+1?--m:m+=1);this.lead.setPosition(e,m);this.$keepDesiredColumnOnChange=!1;p||(this.$desiredColumn=null)};this.moveCursorToScreen=function(e,m,p){e=this.session.screenToDocumentPosition(e,m);this.moveCursorTo(e.row,e.column,p)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=function(e){this.setSelectionRange(e,
e.cursor==e.start);this.$desiredColumn=e.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(e){var m=this.getRange();return e?(e.start.column=m.start.column,e.start.row=m.start.row,e.end.column=m.end.column,e.end.row=m.end.row):e=m,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e};this.getRangeOfMovements=function(e){var m=this.getCursor();try{e(this);var p=this.getCursor();return g.fromPoints(m,p)}catch(u){return g.fromPoints(m,m)}finally{this.moveCursorToPosition(m)}};
this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(m){var p=m.clone();return p.isBackwards=m.cursor==m.start,p});else e=this.getRange(),e.isBackwards=this.isBackwards();return e};this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var m=e.length;m--;){var p=g.fromPoints(e[m].start,e[m].end);e[m].isBackwards&&(p.cursor=p.start);this.addRange(p,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e);this.setSelectionRange(e,e.isBackwards)};
this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var m=this.ranges.length;m--;)if(!this.ranges[m].isEqual(e[m]))return!1;return!0}}).call(d.prototype);N.Selection=d});
define("ace/tokenizer",["require","exports","module","ace/config"],function(d,N,X){var a=d("./config"),h=2E3;d=function(f){this.states=f;this.regExps={};this.matchMappings={};for(var g in this.states){f=this.states[g];for(var e=[],m=0,p=this.matchMappings[g]={defaultToken:"text"},u="g",c=[],l=0;l<f.length;l++){var n=f[l];n.defaultToken&&(p.defaultToken=n.defaultToken);n.caseInsensitive&&(u="gi");if(null!=n.regex){n.regex instanceof RegExp&&(n.regex=n.regex.toString().slice(1,-1));var w=n.regex,z=
(new RegExp("(?:("+w+")|(.))")).exec("a").length-2;Array.isArray(n.token)?1==n.token.length||1==z?n.token=n.token[0]:z-1!=n.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:n,groupCount:z-1}),n.token=n.token[0]):(n.tokenArray=n.token,n.token=null,n.onMatch=this.$arrayTokens):"function"==typeof n.token&&!n.onMatch&&(1<z?n.onMatch=this.$applyToken:n.onMatch=n.token);1<z&&(/\\\d/.test(n.regex)?w=n.regex.replace(/\\([0-9]+)/g,function(x,J){return"\\"+(parseInt(J,
10)+m+1)}):(z=1,w=this.removeCapturingGroups(n.regex)),!n.splitRegex&&"string"!=typeof n.token&&c.push(n));p[m]=l;m+=z;e.push(w);n.onMatch||(n.onMatch=null)}}e.length||(p[0]=0,e.push("$"));c.forEach(function(x){x.splitRegex=this.createSplitterRegexp(x.regex,u)},this);this.regExps[g]=new RegExp("("+e.join(")|(")+")|($)",u)}};(function(){this.$setMaxTokenCount=function(f){h=f|0};this.$applyToken=function(f){var g=this.splitRegex.exec(f).slice(1),e=this.token.apply(this,g);if("string"==typeof e)return[{type:e,
value:f}];f=[];for(var m=0,p=e.length;m<p;m++)g[m]&&(f[f.length]={type:e[m],value:g[m]});return f};this.$arrayTokens=function(f){if(!f)return[];f=this.splitRegex.exec(f);if(!f)return"text";for(var g=[],e=this.tokenArray,m=0,p=e.length;m<p;m++)f[m+1]&&(g[g.length]={type:e[m],value:f[m+1]});return g};this.removeCapturingGroups=function(f){return f.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(g,e){return e?"(?:":g})};this.createSplitterRegexp=function(f,g){if(-1!=f.indexOf("(?=")){var e=
0,m=!1,p={};f.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(u,c,l,n,w,z){return m?m="]"!=w:w?m=!0:n?(e==p.stack&&(p.end=z+1,p.stack=-1),e--):l&&(e++,1!=l.length&&(p.stack=e,p.start=z)),u});null!=p.end&&/^\)*$/.test(f.substr(p.end))&&(f=f.substring(0,p.start)+f.substr(p.end))}return"^"!=f.charAt(0)&&(f="^"+f),"$"!=f.charAt(f.length-1)&&(f+="$"),new RegExp(f,(g||"").replace("g",""))};this.getLineTokens=function(f,g){if(g&&"string"!=typeof g){var e=g.slice(0);g=e[0];"#tmp"===g&&(e.shift(),
g=e.shift())}else e=[];var m=g||"start",p=this.states[m];p||(m="start",p=this.states[m]);var u=this.matchMappings[m],c=this.regExps[m];c.lastIndex=0;for(var l,n=[],w=0,z=0,x={type:null,value:""};l=c.exec(f);){var J=u.defaultToken,v=null,K=l[0],D=c.lastIndex;if(D-K.length>w){var M=f.substring(w,D-K.length);x.type==J?x.value+=M:(x.type&&n.push(x),x={type:J,value:M})}for(M=0;M<l.length-2;M++)if(void 0!==l[M+1]){v=p[u[M]];v.onMatch?J=v.onMatch(K,m,e,f):J=v.token;v.next&&("string"==typeof v.next?m=v.next:
m=v.next(m,e),p=this.states[m],p||(this.reportError("state doesn't exist",m),m="start",p=this.states[m]),u=this.matchMappings[m],w=D,c=this.regExps[m],c.lastIndex=D);v.consumeLineEnd&&(w=D);break}if(K)if("string"==typeof J)v&&!1===v.merge||x.type!==J?(x.type&&n.push(x),x={type:J,value:K}):x.value+=K;else if(J)for(x.type&&n.push(x),x={type:null,value:""},M=0;M<J.length;M++)n.push(J[M]);if(w==f.length)break;w=D;if(z++>h){for(z>2*f.length&&this.reportError("infinite loop with in ace tokenizer",{startState:g,
line:f});w<f.length;)x.type&&n.push(x),x={value:f.substring(w,w+=2E3),type:"overflow"};m="start";e=[];break}}return x.type&&n.push(x),1<e.length&&e[0]!==m&&e.unshift("#tmp",m),{tokens:n,state:e.length?e:m}};this.reportError=a.reportError}).call(d.prototype);N.Tokenizer=d});
define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(d,N,X){var a=d("../lib/lang");d=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(g,e){if(e)for(c in g){for(var m=g[c],p=0;p<m.length;p++){var u=m[p];if(u.next||u.onMatch)"string"==typeof u.next&&0!==u.next.indexOf(e)&&(u.next=e+u.next),u.nextState&&0!==u.nextState.indexOf(e)&&(u.nextState=e+u.nextState)}this.$rules[e+c]=m}else for(var c in g)this.$rules[c]=
g[c]};this.getRules=function(){return this.$rules};this.embedRules=function(g,e,m,p,u){g="function"==typeof g?(new g).getRules():g;if(p)for(var c=0;c<p.length;c++)p[c]=e+p[c];else for(c in p=[],g)p.push(e+c);this.addRules(g,e);if(m)for(u=Array.prototype[u?"push":"unshift"],c=0;c<p.length;c++)u.apply(this.$rules[p[c]],a.deepCopy(m));this.$embeds||(this.$embeds=[]);this.$embeds.push(e)};this.getEmbeds=function(){return this.$embeds};var h=function(g,e){return("start"!=g||e.length)&&e.unshift(this.nextState,
g),this.nextState},f=function(g,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){function g(p){p=m[p];p.processed=!0;for(var u=0;u<p.length;u++){var c=p[u],l=null;Array.isArray(c)&&(l=c,c={});!c.regex&&c.start&&(c.regex=c.start,c.next||(c.next=[]),c.next.push({defaultToken:c.token},{token:c.token+".end",regex:c.end||c.start,next:"pop"}),c.token+=".start",c.push=!0);var n=c.next||c.push;if(n&&Array.isArray(n)){var w=c.stateName;w||(w=c.token,"string"!=typeof w&&(w=w[0]||""),m[w]&&
(w+=e++));m[w]=n;c.next=w;g(w)}else"pop"==n&&(c.next=f);c.push&&(c.nextState=c.next||c.push,c.next=h,delete c.push);if(c.rules)for(var z in c.rules)m[z]?m[z].push&&m[z].push.apply(m[z],c.rules[z]):m[z]=c.rules[z];(n="string"==typeof c?c:c.include)&&(Array.isArray(n)?l=n.map(function(x){return m[x]}):l=m[n]);l&&(l=[u,1].concat(l),c.noEscape&&(l=l.filter(function(x){return!x.next})),p.splice.apply(p,l),u--);c.keywordMap&&(c.token=this.createKeywordMapper(c.keywordMap,c.defaultToken||"text",c.caseInsensitive),
delete c.defaultToken)}}var e=0,m=this.$rules;Object.keys(m).forEach(g,this)};this.createKeywordMapper=function(g,e,m,p){var u=Object.create(null);return Object.keys(g).forEach(function(c){var l=g[c];m&&(l=l.toLowerCase());l=l.split(p||"|");for(var n=l.length;n--;)u[l[n]]=c}),Object.getPrototypeOf(u)&&(u.__proto__=null),this.$keywordList=Object.keys(u),g=null,m?function(c){return u[c.toLowerCase()]||e}:function(c){return u[c]||e}};this.getKeywords=function(){return this.$keywords}}).call(d.prototype);
N.TextHighlightRules=d});
define("ace/mode/behaviour",["require","exports","module"],function(d,N,X){d=function(){this.$behaviours={}};(function(){this.add=function(a,h,f){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[a]:this.$behaviours[a]={}}this.$behaviours[a][h]=f};this.addBehaviours=function(a){for(var h in a)for(var f in a[h])this.add(h,f,a[h][f])};this.remove=function(a){this.$behaviours&&this.$behaviours[a]&&delete this.$behaviours[a]};this.inherit=function(a,h){a="function"==typeof a?
(new a).getBehaviours(h):a.getBehaviours(h);this.addBehaviours(a)};this.getBehaviours=function(a){if(!a)return this.$behaviours;for(var h={},f=0;f<a.length;f++)this.$behaviours[a[f]]&&(h[a[f]]=this.$behaviours[a[f]]);return h}}).call(d.prototype);N.Behaviour=d});
define("ace/token_iterator",["require","exports","module","ace/range"],function(d,N,X){var a=d("./range").Range;d=function(h,f,g){this.$session=h;this.$row=f;this.$rowTokens=h.getTokens(f);this.$tokenIndex=(h=h.getTokenAt(f,g))?h.index:-1};(function(){this.stepBackward=function(){for(--this.$tokenIndex;0>this.$tokenIndex;){--this.$row;if(0>this.$row)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};
this.stepForward=function(){this.$tokenIndex+=1;for(var h;this.$tokenIndex>=this.$rowTokens.length;){this.$row+=1;h||=this.$session.getLength();if(this.$row>=h)return this.$row=h-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var h=this.$rowTokens,f=this.$tokenIndex,
g=h[f].start;if(void 0!==g)return g;for(g=0;0<f;)--f,g+=h[f].value.length;return g};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var h=this.$rowTokens[this.$tokenIndex],f=this.getCurrentTokenColumn();return new a(this.$row,f,this.$row,f+h.value.length)}}).call(d.prototype);N.TokenIterator=d});
define("ace/mode/behaviour/cstyle","require exports module ace/lib/oop ace/mode/behaviour ace/token_iterator ace/lib/lang".split(" "),function(d,N,X){X=d("../../lib/oop");var a=d("../behaviour").Behaviour,h=d("../../token_iterator").TokenIterator,f=d("../../lib/lang"),g=["text","paren.rparen","punctuation.operator"],e=["text","paren.rparen","punctuation.operator","comment"],m,p={},u={'"':'"',"'":"'"},c=function(w){var z=-1;w.multiSelect&&(z=w.selection.index,p.rangeCount!=w.multiSelect.rangeCount&&
(p={rangeCount:w.multiSelect.rangeCount}));if(p[z])return m=p[z];m=p[z]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},l=function(w,z,x,J){var v=w.end.row-w.start.row;return{text:x+z+J,selection:[0,w.start.column+1,v,w.end.column+(v?0:1)]}},n=function(w){this.add("braces","insertion",function(z,x,J,v,K){z=J.getCursorPosition();x=v.doc.getLine(z.row);if("{"==K){c(J);K=J.getSelectionRange();
var D=v.doc.getTextRange(K);if(""!==D&&"{"!==D&&J.getWrapBehavioursEnabled())return l(K,D,"{","}");if(n.isSaneInsertion(J,v))return/[\]\}\)]/.test(x[z.column])||J.inMultiSelectMode||w&&w.braces?(n.recordAutoInsert(J,v,"}"),{text:"{}",selection:[1,1]}):(n.recordMaybeInsert(J,v,"{"),{text:"{",selection:[1,1]})}else if("}"==K){if(c(J),D=x.substring(z.column,z.column+1),"}"==D&&null!==v.$findOpeningBracket("}",{column:z.column+1,row:z.row})&&n.isAutoInsertedClosing(z,x,K))return n.popAutoInsertedClosing(),
{text:"",selection:[1,1]}}else{if("\n"==K||"\r\n"==K){c(J);J="";n.isMaybeInsertedClosing(z,x)&&(J=f.stringRepeat("}",m.maybeInsertedBrackets),n.clearMaybeInsertedClosing());D=x.substring(z.column,z.column+1);if("}"===D){z=v.findMatchingBracket({row:z.row,column:z.column+1},"}");if(!z)return null;z=this.$getIndent(v.getLine(z.row))}else{if(!J){n.clearMaybeInsertedClosing();return}z=this.$getIndent(x)}v=z+v.getTabString();return{text:"\n"+v+"\n"+z+J,selection:[1,v.length,1,v.length]}}n.clearMaybeInsertedClosing()}});
this.add("braces","deletion",function(z,x,J,v,K){z=v.doc.getTextRange(K);if(!K.isMultiLine()&&"{"==z){c(J);if("}"==v.doc.getLine(K.start.row).substring(K.end.column,K.end.column+1))return K.end.column++,K;m.maybeInsertedBrackets--}});this.add("parens","insertion",function(z,x,J,v,K){if("("==K){c(J);K=J.getSelectionRange();z=v.doc.getTextRange(K);if(""!==z&&J.getWrapBehavioursEnabled())return l(K,z,"(",")");if(n.isSaneInsertion(J,v))return n.recordAutoInsert(J,v,")"),{text:"()",selection:[1,1]}}else if(")"==
K&&(c(J),J=J.getCursorPosition(),z=v.doc.getLine(J.row),")"==z.substring(J.column,J.column+1)&&null!==v.$findOpeningBracket(")",{column:J.column+1,row:J.row})&&n.isAutoInsertedClosing(J,z,K)))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}});this.add("parens","deletion",function(z,x,J,v,K){z=v.doc.getTextRange(K);if(!K.isMultiLine()&&"("==z&&(c(J),")"==v.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)))return K.end.column++,K});this.add("brackets","insertion",function(z,
x,J,v,K){if("["==K){c(J);K=J.getSelectionRange();z=v.doc.getTextRange(K);if(""!==z&&J.getWrapBehavioursEnabled())return l(K,z,"[","]");if(n.isSaneInsertion(J,v))return n.recordAutoInsert(J,v,"]"),{text:"[]",selection:[1,1]}}else if("]"==K&&(c(J),J=J.getCursorPosition(),z=v.doc.getLine(J.row),"]"==z.substring(J.column,J.column+1)&&null!==v.$findOpeningBracket("]",{column:J.column+1,row:J.row})&&n.isAutoInsertedClosing(J,z,K)))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}});this.add("brackets",
"deletion",function(z,x,J,v,K){z=v.doc.getTextRange(K);if(!K.isMultiLine()&&"["==z&&(c(J),"]"==v.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)))return K.end.column++,K});this.add("string_dquotes","insertion",function(z,x,J,v,K){z=v.$mode.$quotes||u;if(1==K.length&&z[K]&&(!this.lineCommentStart||-1==this.lineCommentStart.indexOf(K))){c(J);x=J.getSelectionRange();var D=v.doc.getTextRange(x);if(""!==D&&(1!=D.length||!z[D])&&J.getWrapBehavioursEnabled())return l(x,D,K,K);if(!D){x=
J.getCursorPosition();z=v.doc.getLine(x.row);J=z.substring(x.column-1,x.column);z=z.substring(x.column,x.column+1);D=v.getTokenAt(x.row,x.column);x=v.getTokenAt(x.row,x.column+1);if("\\"==J&&D&&/escape/.test(D.type))return null;D=D&&/string|escape/.test(D.type);var M=!x||/string|escape/.test(x.type);if(z==K)(v=D!==M)&&/string\.end/.test(x.type)&&(v=!1);else{if(D&&!M||D&&M)return null;x=v.$mode.tokenRe;x.lastIndex=0;v=x.test(J);x.lastIndex=0;J=x.test(J);if(v||J||z&&!/[\s;,.})\]\\]/.test(z))return null;
v=!0}return{text:v?K+K:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(z,x,J,v,K){z=v.doc.getTextRange(K);if(!K.isMultiLine()&&('"'==z||"'"==z)&&(c(J),v.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)==z))return K.end.column++,K})};n.isSaneInsertion=function(w,z){w=w.getCursorPosition();var x=new h(z,w.row,w.column);return this.$matchTokenType(x.getCurrentToken()||"text",g)||(z=new h(z,w.row,w.column+1),this.$matchTokenType(z.getCurrentToken()||"text",g))?
(x.stepForward(),x.getCurrentTokenRow()!==w.row||this.$matchTokenType(x.getCurrentToken()||"text",e)):!1};n.$matchTokenType=function(w,z){return-1<z.indexOf(w.type||w)};n.recordAutoInsert=function(w,z,x){w=w.getCursorPosition();z=z.doc.getLine(w.row);this.isAutoInsertedClosing(w,z,m.autoInsertedLineEnd[0])||(m.autoInsertedBrackets=0);m.autoInsertedRow=w.row;m.autoInsertedLineEnd=x+z.substr(w.column);m.autoInsertedBrackets++};n.recordMaybeInsert=function(w,z,x){w=w.getCursorPosition();z=z.doc.getLine(w.row);
this.isMaybeInsertedClosing(w,z)||(m.maybeInsertedBrackets=0);m.maybeInsertedRow=w.row;m.maybeInsertedLineStart=z.substr(0,w.column)+x;m.maybeInsertedLineEnd=z.substr(w.column);m.maybeInsertedBrackets++};n.isAutoInsertedClosing=function(w,z,x){return 0<m.autoInsertedBrackets&&w.row===m.autoInsertedRow&&x===m.autoInsertedLineEnd[0]&&z.substr(w.column)===m.autoInsertedLineEnd};n.isMaybeInsertedClosing=function(w,z){return 0<m.maybeInsertedBrackets&&w.row===m.maybeInsertedRow&&z.substr(w.column)===m.maybeInsertedLineEnd&&
z.substr(0,w.column)==m.maybeInsertedLineStart};n.popAutoInsertedClosing=function(){m.autoInsertedLineEnd=m.autoInsertedLineEnd.substr(1);m.autoInsertedBrackets--};n.clearMaybeInsertedClosing=function(){m&&(m.maybeInsertedBrackets=0,m.maybeInsertedRow=-1)};X.inherits(n,a);N.CstyleBehaviour=n});
define("ace/unicode",["require","exports","module"],function(d,N,X){N.packages={};d={L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"};
X=/\w{4}/g;for(var a in d)N.packages[a]=d[a].replace(X,"\\u$&")});
define("ace/mode/text","require exports module ace/tokenizer ace/mode/text_highlight_rules ace/mode/behaviour/cstyle ace/unicode ace/lib/lang ace/token_iterator ace/range".split(" "),function(d,N,X){var a=d("../tokenizer").Tokenizer,h=d("./text_highlight_rules").TextHighlightRules,f=d("./behaviour/cstyle").CstyleBehaviour,g=d("../unicode"),e=d("../lib/lang"),m=d("../token_iterator").TokenIterator,p=d("../range").Range;d=function(){this.HighlightRules=h};(function(){this.$defaultBehaviour=new f;this.tokenRe=
new RegExp("^["+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"\\$_]|\\s])+","g");this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new a(this.$highlightRules.getRules())),this.$tokenizer};this.blockComment=this.lineCommentStart="";this.toggleCommentLines=
function(u,c,l,n){function w(Ia){for(var ja=l;ja<=n;ja++)Ia(z.getLine(ja),ja)}var z=c.doc,x=!0,J=!0,v=Infinity,K=c.getTabSize();u=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(T=this.lineCommentStart.map(e.escapeRegExp).join("|"),Q=this.lineCommentStart[0]):(T=e.escapeRegExp(this.lineCommentStart),Q=this.lineCommentStart);T=new RegExp("^(\\s*)(?:"+T+") ?");u=c.getUseSoftTabs();ca=function(Ia,ja){var ma=Ia.match(T);if(ma){var Aa=ma[1].length,Da=ma[0].length;!M(Ia,Aa,Da)&&" "==
ma[0][Da-1]&&Da--;z.removeInLine(ja,Aa,Da)}};var D=Q+" ";R=function(Ia,ja){if(!x||/\S/.test(Ia))M(Ia,v,v)?z.insertInLine({row:ja,column:v},D):z.insertInLine({row:ja,column:v},Q)};ha=function(Ia,ja){return T.test(Ia)};var M=function(Ia,ja,ma){for(var Aa=0;ja--&&" "==Ia.charAt(ja);)Aa++;if(0!=Aa%K)return!1;for(Aa=0;" "==Ia.charAt(ma++);)Aa++;return 2<K?Aa%K!=K-1:0==Aa%K}}else{if(!this.blockComment)return!1;var Q=this.blockComment.start,G=this.blockComment.end,T=new RegExp("^(\\s*)(?:"+e.escapeRegExp(Q)+
")"),S=new RegExp("(?:"+e.escapeRegExp(G)+")\\s*$"),R=function(Ia,ja){ha(Ia,ja)||x&&!/\S/.test(Ia)||(z.insertInLine({row:ja,column:Ia.length},G),z.insertInLine({row:ja,column:v},Q))},ca=function(Ia,ja){var ma;(ma=Ia.match(S))&&z.removeInLine(ja,Ia.length-ma[0].length,Ia.length);(ma=Ia.match(T))&&z.removeInLine(ja,ma[1].length,ma[0].length)},ha=function(Ia,ja){if(T.test(Ia))return!0;Ia=c.getTokens(ja);for(ja=0;ja<Ia.length;ja++)if("comment"===Ia[ja].type)return!0}}var ra=Infinity;w(function(Ia,ja){var ma=
Ia.search(/\S/);-1!==ma?(ma<v&&(v=ma),J&&!ha(Ia,ja)&&(J=!1)):ra>Ia.length&&(ra=Ia.length)});Infinity==v&&(v=ra,x=!1,J=!1);u&&0!=v%K&&(v=Math.floor(v/K)*K);w(J?ca:R)};this.toggleBlockComment=function(u,c,l,n){if(u=this.blockComment){!u.start&&u[0]&&(u=u[0]);var w=new m(c,n.row,n.column),z=w.getCurrentToken(),x=c.selection.toOrientedRange(),J,v;if(z&&/comment/.test(z.type)){for(var K,D;z&&/comment/.test(z.type);){z=z.value.indexOf(u.start);if(-1!=z){l=w.getCurrentTokenRow();w=w.getCurrentTokenColumn()+
z;K=new p(l,w,l,w+u.start.length);break}z=w.stepBackward()}w=new m(c,n.row,n.column);for(z=w.getCurrentToken();z&&/comment/.test(z.type);){z=z.value.indexOf(u.end);if(-1!=z){l=w.getCurrentTokenRow();w=w.getCurrentTokenColumn()+z;D=new p(l,w,l,w+u.end.length);break}z=w.stepForward()}D&&c.remove(D);K&&(c.remove(K),J=K.start.row,v=-u.start.length)}else v=u.start.length,J=l.start.row,c.insert(l.end,u.end),c.insert(l.start,u.start);x.start.row==J&&(x.start.column+=v);x.end.row==J&&(x.end.column+=v);c.selection.fromOrientedRange(x)}};
this.getNextLineIndent=function(u,c,l){return this.$getIndent(c)};this.checkOutdent=function(u,c,l){return!1};this.autoOutdent=function(u,c,l){};this.$getIndent=function(u){return u.match(/^\s*/)[0]};this.createWorker=function(u){return null};this.createModeDelegates=function(u){this.$embeds=[];this.$modes={};for(var c in u)u[c]&&(this.$embeds.push(c),this.$modes[c]=new u[c]);var l="toggleBlockComment toggleCommentLines getNextLineIndent checkOutdent autoOutdent transformAction getCompletions".split(" ");
for(c=0;c<l.length;c++)(function(n){var w=l[c],z=n[w];n[l[c]]=function(){return this.$delegator(w,arguments,z)}})(this)};this.$delegator=function(u,c,l){var n=c[0];"string"!=typeof n&&(n=n[0]);for(var w=0;w<this.$embeds.length;w++)if(this.$modes[this.$embeds[w]]){var z=n.split(this.$embeds[w]);if(!z[0]&&z[1])return c[0]=z[1],l=this.$modes[this.$embeds[w]],l[u].apply(l,c)}u=l.apply(this,c);return l?u:void 0};this.transformAction=function(u,c,l,n,w){if(this.$behaviour){var z=this.$behaviour.getBehaviours(),
x;for(x in z)if(z[x][c]){var J=z[x][c].apply(this,arguments);if(J)return J}}};this.getKeywords=function(u){if(!this.completionKeywords){var c=this.$tokenizer.rules,l=[];for(v in c)for(var n=c[v],w=0,z=n.length;w<z;w++)if("string"==typeof n[w].token)/keyword|support|storage/.test(n[w].token)&&l.push(n[w].regex);else if("object"==typeof n[w].token)for(var x=0,J=n[w].token.length;x<J;x++)if(/keyword|support|storage/.test(n[w].token[x])){var v=n[w].regex.match(/\(.+?\)/g)[x];l.push(v.substr(1,v.length-
2))}this.completionKeywords=l}return u?l.concat(this.$keywordList||[]):this.$keywordList};this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(u,c,l,n){return(this.$keywordList||this.$createKeywordList()).map(function(w){return{name:w,value:w,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(d.prototype);N.Mode=d});
define("ace/apply_delta",["require","exports","module"],function(d,N,X){N.applyDelta=function(a,h,f){f=h.start.row;var g=h.start.column,e=a[f]||"";switch(h.action){case "insert":if(1===h.lines.length)a[f]=e.substring(0,g)+h.lines[0]+e.substring(g);else{var m=[f,1].concat(h.lines);a.splice.apply(a,m);a[f]=e.substring(0,g)+a[f];a[f+h.lines.length-1]+=e.substring(g)}break;case "remove":m=h.end.column,h=h.end.row,f===h?a[f]=e.substring(0,g)+e.substring(m):a.splice(f,h-f+1,e.substring(0,g)+a[h].substring(m))}}});
define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,N,X){var a=d("./lib/oop"),h=d("./lib/event_emitter").EventEmitter;d=N.Anchor=function(f,g,e){this.$onChange=this.onChange.bind(this);this.attach(f);"undefined"==typeof e?this.setPosition(g.row,g.column):this.setPosition(g,e)};(function(){function f(g,e,m){m=m?g.column<=e.column:g.column<e.column;return g.row<e.row||g.row==e.row&&m}a.implement(this,h);this.getPosition=function(){return this.$clipPositionToDocument(this.row,
this.column)};this.getDocument=function(){return this.document};this.$insertRight=!1;this.onChange=function(g){if(!(g.start.row==g.end.row&&g.start.row!=this.row||g.start.row>this.row)){var e={row:this.row,column:this.column};var m=this.$insertRight,p="insert"==g.action,u=(p?1:-1)*(g.end.row-g.start.row),c=(p?1:-1)*(g.end.column-g.start.column),l=g.start;g=p?l:g.end;e=f(e,l,m)?{row:e.row,column:e.column}:f(g,e,!m)?{row:e.row+u,column:e.column+(e.row==g.row?c:0)}:{row:l.row,column:l.column};this.setPosition(e.row,
e.column,!0)}};this.setPosition=function(g,e,m){var p;m?p={row:g,column:e}:p=this.$clipPositionToDocument(g,e);if(this.row!=p.row||this.column!=p.column)g={row:this.row,column:this.column},this.row=p.row,this.column=p.column,this._signal("change",{old:g,value:p})};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.attach=function(g){this.document=g||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(g,e){var m={};return g>=
this.document.getLength()?(m.row=Math.max(0,this.document.getLength()-1),m.column=this.document.getLine(m.row).length):0>g?(m.row=0,m.column=0):(m.row=g,m.column=Math.min(this.document.getLine(m.row).length,Math.max(0,e))),0>e&&(m.column=0),m}}).call(d.prototype)});
define("ace/document","require exports module ace/lib/oop ace/apply_delta ace/lib/event_emitter ace/range ace/anchor".split(" "),function(d,N,X){var a=d("./lib/oop"),h=d("./apply_delta").applyDelta,f=d("./lib/event_emitter").EventEmitter,g=d("./range").Range,e=d("./anchor").Anchor;d=function(m){this.$lines=[""];0===m.length?this.$lines=[""]:Array.isArray(m)?this.insertMergedLines({row:0,column:0},m):this.insert({row:0,column:0},m)};(function(){a.implement(this,f);this.setValue=function(m){var p=this.getLength()-
1;this.remove(new g(0,0,p,this.getLine(p).length));this.insert({row:0,column:0},m)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(m,p){return new e(this,m,p)};0==="aaa".split(/a/).length?this.$split=function(m){return m.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(m){return m.split(/\r\n|\r|\n/)};this.$detectNewLine=function(m){this.$autoNewLine=(m=m.match(/^.*?(\r\n|\r|\n)/m))?m[1]:"\n";this._signal("changeNewLineMode")};
this.getNewLineCharacter=function(){switch(this.$newLineMode){case "windows":return"\r\n";case "unix":return"\n";default:return this.$autoNewLine||"\n"}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(m){this.$newLineMode!==m&&(this.$newLineMode=m,this._signal("changeNewLineMode"))};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(m){return"\r\n"==m||"\r"==m||"\n"==m};this.getLine=function(m){return this.$lines[m]||""};this.getLines=function(m,
p){return this.$lines.slice(m,p+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(m){return this.getLinesForRange(m).join(this.getNewLineCharacter())};this.getLinesForRange=function(m){if(m.start.row===m.end.row)var p=[this.getLine(m.start.row).substring(m.start.column,m.end.column)];else{p=this.getLines(m.start.row,m.end.row);p[0]=(p[0]||"").substring(m.start.column);var u=p.length-1;m.end.row-
m.start.row==u&&(p[u]=p[u].substring(0,m.end.column))}return p};this.insertLines=function(m,p){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(m,p)};this.removeLines=function(m,p){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(m,p)};this.insertNewLine=function(m){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),
this.insertMergedLines(m,["",""])};this.insert=function(m,p){return 1>=this.getLength()&&this.$detectNewLine(p),this.insertMergedLines(m,this.$split(p))};this.insertInLine=function(m,p){var u=this.clippedPos(m.row,m.column);m=this.pos(m.row,m.column+p.length);return this.applyDelta({start:u,end:m,action:"insert",lines:[p]},!0),this.clonePos(m)};this.clippedPos=function(m,p){var u=this.getLength();void 0===m?m=u:0>m?m=0:m>=u&&(m=u-1,p=void 0);u=this.getLine(m);return void 0==p&&(p=u.length),p=Math.min(Math.max(p,
0),u.length),{row:m,column:p}};this.clonePos=function(m){return{row:m.row,column:m.column}};this.pos=function(m,p){return{row:m,column:p}};this.$clipPosition=function(m){var p=this.getLength();return m.row>=p?(m.row=Math.max(0,p-1),m.column=this.getLine(p-1).length):(m.row=Math.max(0,m.row),m.column=Math.min(Math.max(m.column,0),this.getLine(m.row).length)),m};this.insertFullLines=function(m,p){m=Math.min(Math.max(m,0),this.getLength());var u=0;m<this.getLength()?(p=p.concat([""]),u=0):(p=[""].concat(p),
m--,u=this.$lines[m].length);this.insertMergedLines({row:m,column:u},p)};this.insertMergedLines=function(m,p){m=this.clippedPos(m.row,m.column);var u={row:m.row+p.length-1,column:(1==p.length?m.column:0)+p[p.length-1].length};return this.applyDelta({start:m,end:u,action:"insert",lines:p}),this.clonePos(u)};this.remove=function(m){var p=this.clippedPos(m.start.row,m.start.column);m=this.clippedPos(m.end.row,m.end.column);return this.applyDelta({start:p,end:m,action:"remove",lines:this.getLinesForRange({start:p,
end:m})}),this.clonePos(p)};this.removeInLine=function(m,p,u){p=this.clippedPos(m,p);m=this.clippedPos(m,u);return this.applyDelta({start:p,end:m,action:"remove",lines:this.getLinesForRange({start:p,end:m})},!0),this.clonePos(p)};this.removeFullLines=function(m,p){m=Math.min(Math.max(0,m),this.getLength()-1);p=Math.min(Math.max(0,p),this.getLength()-1);var u=p==this.getLength()-1&&0<m,c=p<this.getLength()-1,l=u?m-1:m;u=u?this.getLine(l).length:0;var n=c?p+1:p;c=c?0:this.getLine(n).length;l=new g(l,
u,n,c);m=this.$lines.slice(m,p+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),m};this.removeNewLine=function(m){m<this.getLength()-1&&0<=m&&this.applyDelta({start:this.pos(m,this.getLine(m).length),end:this.pos(m+1,0),action:"remove",lines:["",""]})};this.replace=function(m,p){m instanceof g||(m=g.fromPoints(m.start,m.end));if(0===p.length&&m.isEmpty())return m.start;if(p==this.getTextRange(m))return m.end;this.remove(m);var u;return p?u=this.insert(m.start,
p):u=m.start,u};this.applyDeltas=function(m){for(var p=0;p<m.length;p++)this.applyDelta(m[p])};this.revertDeltas=function(m){for(var p=m.length-1;0<=p;p--)this.revertDelta(m[p])};this.applyDelta=function(m,p){var u="insert"==m.action;(u?1>=m.lines.length&&!m.lines[0]:!g.comparePoints(m.start,m.end))||(u&&2E4<m.lines.length&&this.$splitAndapplyLargeDelta(m,2E4),h(this.$lines,m,p),this._signal("change",m))};this.$splitAndapplyLargeDelta=function(m,p){var u=m.lines,c=u.length,l=m.start.row,n=m.start.column,
w=0;do{var z=w;w+=p-1;var x=u.slice(z,w);if(w>c){m.lines=x;m.start.row=l+z;m.start.column=n;break}x.push("");this.applyDelta({start:this.pos(l+z,n),end:this.pos(l+w,n=0),action:m.action,lines:x},!0)}while(1)};this.revertDelta=function(m){this.applyDelta({start:this.clonePos(m.start),end:this.clonePos(m.end),action:"insert"==m.action?"remove":"insert",lines:m.lines.slice()})};this.indexToPosition=function(m,p){var u=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length;p=p||0;for(var l=
u.length;p<l;p++)if(m-=u[p].length+c,0>m)return{row:p,column:m+u[p].length+c};return{row:l-1,column:u[l-1].length}};this.positionToIndex=function(m,p){var u=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length,l=0,n=Math.min(m.row,u.length);for(p=p||0;p<n;++p)l+=u[p].length+c;return l+m.column}}).call(d.prototype);N.Document=d});
define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,N,X){var a=d("./lib/oop"),h=d("./lib/event_emitter").EventEmitter;d=function(f,g){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=f;var e=this;this.$worker=function(){if(e.running){for(var m=new Date,p=e.currentLine,u=-1,c=e.doc,l=p;e.lines[p];)p++;c=c.getLength();var n=0;for(e.running=!1;p<c;){e.$tokenizeRow(p);u=p;do p++;while(e.lines[p]);n++;if(0===n%
5&&20<new Date-m){e.running=setTimeout(e.$worker,20);break}}e.currentLine=p;-1==u&&(u=p);l<=u&&e.fireUpdateEvent(l,u)}}};(function(){a.implement(this,h);this.setTokenizer=function(f){this.tokenizer=f;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(f){this.doc=f;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(f,g){this._signal("update",{data:{first:f,last:g}})};this.start=function(f){this.currentLine=Math.min(f||0,this.currentLine,this.doc.getLength());
this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))};this.$updateOnChange=function(f){var g=f.start.row,e=f.end.row-g;0===e?this.lines[g]=null:"remove"==f.action?(this.lines.splice(g,e+1,null),this.states.splice(g,e+1,null)):(f=Array(e+1),f.unshift(g,1),this.lines.splice.apply(this.lines,f),this.states.splice.apply(this.states,
f));this.currentLine=Math.min(g,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){this.running&&clearTimeout(this.running);this.running=!1};this.getTokens=function(f){return this.lines[f]||this.$tokenizeRow(f)};this.getState=function(f){return this.currentLine==f&&this.$tokenizeRow(f),this.states[f]||"start"};this.$tokenizeRow=function(f){var g=this.doc.getLine(f);g=this.tokenizer.getLineTokens(g,this.states[f-1],f);return this.states[f]+""!=g.state+""?(this.states[f]=g.state,
this.lines[f+1]=null,this.currentLine>f+1&&(this.currentLine=f+1)):this.currentLine==f&&(this.currentLine=f+1),this.lines[f]=g.tokens}}).call(d.prototype);N.BackgroundTokenizer=d});
define("ace/search_highlight","require exports module ace/lib/lang ace/lib/oop ace/range".split(" "),function(d,N,X){var a=d("./lib/lang");d("./lib/oop");var h=d("./range").Range;d=function(f,g,e){this.setRegexp(f);this.clazz=g;this.type=e||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(f){this.regExp+""!=f+""&&(this.regExp=f,this.cache=[])};this.update=function(f,g,e,m){if(this.regExp)for(var p=m.lastRow,u=m.firstRow;u<=p;u++){var c=this.cache[u];null==c&&(c=a.getMatchOffsets(e.getLine(u),
this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(n){return new h(u,n.offset,u,n.offset+n.length)}),this.cache[u]=c.length?c:"");for(var l=c.length;l--;)g.drawSingleLineMarker(f,c[l].toScreenRange(e),this.clazz,m)}}}).call(d.prototype);N.SearchHighlight=d});
define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(d,N,X){function a(f,g){this.foldData=f;Array.isArray(g)?this.folds=g:g=this.folds=[g];f=g[g.length-1];this.range=new h(g[0].start.row,g[0].start.column,f.end.row,f.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(e){e.setFoldLine(this)},this)}var h=d("../range").Range;(function(){this.shiftRow=function(f){this.start.row+=f;this.end.row+=f;this.folds.forEach(function(g){g.start.row+=
f;g.end.row+=f})};this.addFold=function(f){if(f.sameRow){if(f.start.row<this.startRow||f.endRow>this.endRow)throw Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(f);this.folds.sort(function(g,e){return-g.range.compareEnd(e.start.row,e.start.column)});0<this.range.compareEnd(f.start.row,f.start.column)?(this.end.row=f.end.row,this.end.column=f.end.column):0>this.range.compareStart(f.end.row,f.end.column)&&(this.start.row=f.start.row,this.start.column=f.start.column)}else if(f.start.row==
this.end.row)this.folds.push(f),this.end.row=f.end.row,this.end.column=f.end.column;else{if(f.end.row!=this.start.row)throw Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(f);this.start.row=f.start.row;this.start.column=f.start.column}f.foldLine=this};this.containsRow=function(f){return f>=this.start.row&&f<=this.end.row};this.walk=function(f,g,e){var m=0,p=this.folds;var u=!0;null==g&&(g=this.end.row,e=this.end.column);for(var c=0;c<p.length;c++){var l=
p[c];var n=l.range.compareStart(g,e);if(-1==n){f(null,g,e,m,u);return}u=f(null,l.start.row,l.start.column,m,u);if((u=!u&&f(l.placeholder,l.start.row,l.start.column,m))||0===n)return;u=!l.sameRow;m=l.end.column}f(null,g,e,m,u)};this.getNextFoldTo=function(f,g){for(var e,m,p=0;p<this.folds.length;p++){e=this.folds[p];m=e.range.compareEnd(f,g);if(-1==m)return{fold:e,kind:"after"};if(0===m)return{fold:e,kind:"inside"}}return null};this.addRemoveChars=function(f,g,e){var m=this.getNextFoldTo(f,g);if(m){var p=
m.fold;if("inside"==m.kind&&p.start.column!=g&&p.start.row!=f)window.console&&window.console.log(f,g,p);else if(p.start.row==f){f=this.folds;g=f.indexOf(p);0===g&&(this.start.column+=e);for(g;g<f.length;g++){p=f[g];p.start.column+=e;if(!p.sameRow)return;p.end.column+=e}this.end.column+=e}}};this.split=function(f,g){var e=this.getNextFoldTo(f,g);if(!e||"inside"==e.kind)return null;g=this.folds;f=this.foldData;e=g.indexOf(e.fold);var m=g[e-1];this.end.row=m.end.row;this.end.column=m.end.column;g=g.splice(e,
g.length-e);g=new a(f,g);return f.splice(f.indexOf(this)+1,0,g),g};this.merge=function(f){for(var g=f.folds,e=0;e<g.length;e++)this.addFold(g[e]);g=this.foldData;g.splice(g.indexOf(f),1)};this.toString=function(){var f=[this.range.toString()+": ["];return this.folds.forEach(function(g){f.push("  "+g.toString())}),f.push("]"),f.join("\n")};this.idxToPosition=function(f){for(var g=0,e=0;e<this.folds.length;e++){var m=this.folds[e];f-=m.start.column-g;if(0>f)return{row:m.start.row,column:m.start.column+
f};f-=m.placeholder.length;if(0>f)return m.start;g=m.end.column}return{row:this.end.row,column:this.end.column+f}}}).call(a.prototype);N.FoldLine=a});
define("ace/range_list",["require","exports","module","ace/range"],function(d,N,X){var a=d("./range").Range.comparePoints;d=function(){this.ranges=[]};(function(){this.comparePoints=a;this.pointIndex=function(h,f,g){var e=this.ranges;for(g=g||0;g<e.length;g++){var m=e[g],p=a(h,m.end);if(!(0<p))return h=a(h,m.start),0===p?f&&0!==h?-g-2:g:0<h||0===h&&!f?g:-g-1}return-g-1};this.add=function(h){var f=!h.isEmpty(),g=this.pointIndex(h.start,f);0>g&&(g=-g-1);f=this.pointIndex(h.end,f,g);return 0>f?f=-f-
1:f++,this.ranges.splice(g,f-g,h)};this.addList=function(h){for(var f=[],g=h.length;g--;)f.push.apply(f,this.add(h[g]));return f};this.substractPoint=function(h){h=this.pointIndex(h);if(0<=h)return this.ranges.splice(h,1)};this.merge=function(){var h=[],f=this.ranges;f=f.sort(function(u,c){return a(u.start,c.start)});for(var g=f[0],e,m=1;m<f.length;m++){e=g;g=f[m];var p=a(e.end,g.start);0>p||0==p&&!e.isEmpty()&&!g.isEmpty()||(0>a(e.end,g.end)&&(e.end.row=g.end.row,e.end.column=g.end.column),f.splice(m,
1),h.push(g),g=e,m--)}return this.ranges=f,h};this.contains=function(h,f){return 0<=this.pointIndex({row:h,column:f})};this.containsPoint=function(h){return 0<=this.pointIndex(h)};this.rangeAtPoint=function(h){h=this.pointIndex(h);if(0<=h)return this.ranges[h]};this.clipRows=function(h,f){var g=this.ranges;if(g[0].start.row>f||g[g.length-1].start.row<h)return[];h=this.pointIndex({row:h,column:0});0>h&&(h=-h-1);f=this.pointIndex({row:f,column:0},h);0>f&&(f=-f-1);for(var e=[];h<f;h++)e.push(g[h]);return e};
this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(h){this.session&&this.detach();this.session=h;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)};this.$onChange=function(h){if("insert"==h.action)var f=h.start,g=h.end;else g=h.start,f=h.end;h=f.row;var e=g.row-h;g=-f.column+g.column;for(var m=this.ranges,p=0,u=m.length;p<
u;p++){var c=m[p];if(!(c.end.row<h)){if(c.start.row>h)break;c.start.row==h&&c.start.column>=f.column&&(c.start.column!=f.column||!this.$insertRight)&&(c.start.column+=g,c.start.row+=e);c.end.row==h&&c.end.column>=f.column&&(c.end.column!=f.column||!this.$insertRight)&&(c.end.column==f.column&&0<g&&p<u-1&&c.end.column>c.start.column&&c.end.column==m[p+1].start.column&&(c.end.column-=g),c.end.column+=g,c.end.row+=e)}}if(0!=e&&p<u)for(;p<u;p++)c=m[p],c.start.row+=e,c.end.row+=e}}).call(d.prototype);
N.RangeList=d});
define("ace/edit_session/fold","require exports module ace/range ace/range_list ace/lib/oop".split(" "),function(d,N,X){function a(g,e){g.row-=e.row;0==g.row&&(g.column-=e.column)}function h(g,e){0==g.row&&(g.column+=e.column);g.row+=e.row}d("../range");X=d("../range_list").RangeList;d=d("../lib/oop");var f=N.Fold=function(g,e){this.foldLine=null;this.placeholder=e;this.range=g;this.start=g.start;this.end=g.end;this.sameRow=g.start.row==g.end.row;this.subFolds=this.ranges=[]};d.inherits(f,X);(function(){this.toString=
function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(g){this.foldLine=g;this.subFolds.forEach(function(e){e.setFoldLine(g)})};this.clone=function(){var g=this.range.clone(),e=new f(g,this.placeholder);return this.subFolds.forEach(function(m){e.subFolds.push(m.clone())}),e.collapseChildren=this.collapseChildren,e};this.addSubFold=function(g){if(!this.range.isEqual(g)){if(!this.range.containsRange(g))throw Error("A fold can't intersect already existing fold"+g.range+
this.range);var e=this.start;a(g.start,e);a(g.end,e);var m=g.start.row,p=g.start.column;e=0;for(var u=-1;e<this.subFolds.length&&(u=this.subFolds[e].range.compare(m,p),1==u);e++);m=this.subFolds[e];if(0==u)return m.addSubFold(g);m=g.range.end.row;p=g.range.end.column;var c=e;for(u=-1;c<this.subFolds.length&&(u=this.subFolds[c].range.compare(m,p),1==u);c++);if(0==u)throw Error("A fold can't intersect already existing fold"+g.range+this.range);this.subFolds.splice(e,c-e,g);return g.setFoldLine(this.foldLine),
g}};this.restoreRange=function(g){var e=this.start;h(g.start,e);h(g.end,e)}}).call(f.prototype)});
define("ace/edit_session/folding","require exports module ace/range ace/edit_session/fold_line ace/edit_session/fold ace/token_iterator".split(" "),function(d,N,X){var a=d("../range").Range,h=d("./fold_line").FoldLine,f=d("./fold").Fold,g=d("../token_iterator").TokenIterator;N.Folding=function(){this.getFoldAt=function(e,m,p){var u=this.getFoldLine(e);if(!u)return null;u=u.folds;for(var c=0;c<u.length;c++){var l=u[c];if(!(!l.range.contains(e,m)||1==p&&l.range.isEnd(e,m)||-1==p&&l.range.isStart(e,
m)))return l}};this.getFoldsInRange=function(e){var m=e.start,p=e.end,u=this.$foldData,c=[];m.column+=1;--p.column;for(var l=0;l<u.length;l++){var n=u[l].range.compareRange(e);if(2!=n){if(-2==n)break;for(var w=u[l].folds,z=0;z<w.length;z++){var x=w[z];n=x.range.compareRange(e);if(-2==n)break;if(2!=n){if(42==n)break;c.push(x)}}}}return--m.column,p.column+=1,c};this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var m=[];e.forEach(function(p){m=m.concat(this.getFoldsInRange(p))},this)}else m=
this.getFoldsInRange(e);return m};this.getAllFolds=function(){for(var e=[],m=this.$foldData,p=0;p<m.length;p++)for(var u=0;u<m[p].folds.length;u++)e.push(m[p].folds[u]);return e};this.getFoldStringAt=function(e,m,p,u){u=u||this.getFoldLine(e);if(!u)return null;for(var c={end:{column:0}},l,n,w=0;w<u.folds.length;w++){n=u.folds[w];var z=n.range.compareEnd(e,m);if(-1==z){l=this.getLine(n.start.row).substring(c.end.column,n.start.column);break}if(0===z)return null;c=n}return l||=this.getLine(n.start.row).substring(c.end.column),
-1==p?l.substring(0,m-c.end.column):1==p?l.substring(m-c.end.column):l};this.getFoldLine=function(e,m){var p=this.$foldData,u=0;m&&(u=p.indexOf(m));-1==u&&(u=0);for(u;u<p.length;u++){m=p[u];if(m.start.row<=e&&m.end.row>=e)return m;if(m.end.row>e)break}return null};this.getNextFoldLine=function(e,m){var p=this.$foldData,u=0;m&&(u=p.indexOf(m));-1==u&&(u=0);for(u;u<p.length;u++)if(m=p[u],m.end.row>=e)return m;return null};this.getFoldedRowCount=function(e,m){for(var p=this.$foldData,u=m-e+1,c=0;c<p.length;c++){var l=
p[c],n=l.end.row;l=l.start.row;if(n>=m){l<m&&(l>=e?u-=m-l:u=0);break}n>=e&&(l>=e?u-=n-l:u-=n-e+1)}return u};this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(m,p){return m.start.row-p.start.row}),e};this.addFold=function(e,m){var p=this.$foldData,u=!1,c;e instanceof f?c=e:(c=new f(m,e),c.collapseChildren=m.collapseChildren);this.$clipRangeToDocument(c.range);m=c.start.row;var l=c.start.column;e=c.end.row;var n=c.end.column;if(m<e||m==e&&l<=n-2){var w=this.getFoldAt(m,
l,1),z=this.getFoldAt(e,n,-1);if(w&&z==w)return w.addSubFold(c);w&&!w.range.isStart(m,l)&&this.removeFold(w);z&&!z.range.isEnd(e,n)&&this.removeFold(z);l=this.getFoldsInRange(c.range);0<l.length&&(this.removeFolds(l),l.forEach(function(J){c.addSubFold(J)}));for(l=0;l<p.length;l++){var x=p[l];if(e==x.start.row){x.addFold(c);u=!0;break}if(m==x.end.row){x.addFold(c);u=!0;if(!c.sameRow&&(p=p[l+1])&&p.start.row==e){x.merge(p);break}break}if(e<=x.start.row)break}return u||(x=this.$addFoldLine(new h(this.$foldData,
c))),this.$useWrapMode?this.$updateWrapData(x.start.row,x.start.row):this.$updateRowLengthCache(x.start.row,x.start.row),this.$modified=!0,this._signal("changeFold",{data:c,action:"add"}),c}throw Error("The range has to be at least 2 characters width");};this.addFolds=function(e){e.forEach(function(m){this.addFold(m)},this)};this.removeFold=function(e){var m=e.foldLine,p=m.start.row,u=m.end.row,c=this.$foldData,l=m.folds;1==l.length?c.splice(c.indexOf(m),1):m.range.isEnd(e.end.row,e.end.column)?(l.pop(),
m.end.row=l[l.length-1].end.row,m.end.column=l[l.length-1].end.column):m.range.isStart(e.start.row,e.start.column)?(l.shift(),m.start.row=l[0].start.row,m.start.column=l[0].start.column):e.sameRow?l.splice(l.indexOf(e),1):(m=m.split(e.start.row,e.start.column),l=m.folds,l.shift(),m.start.row=l[0].start.row,m.start.column=l[0].start.column);this.$updating||(this.$useWrapMode?this.$updateWrapData(p,u):this.$updateRowLengthCache(p,u));this.$modified=!0;this._signal("changeFold",{data:e,action:"remove"})};
this.removeFolds=function(e){for(var m=[],p=0;p<e.length;p++)m.push(e[p]);m.forEach(function(u){this.removeFold(u)},this);this.$modified=!0};this.expandFold=function(e){this.removeFold(e);e.subFolds.forEach(function(m){e.restoreRange(m);this.addFold(m)},this);0<e.collapseChildren&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1);e.subFolds=[]};this.expandFolds=function(e){e.forEach(function(m){this.expandFold(m)},this)};this.unfold=function(e,m){var p;null==e?(p=new a(0,0,this.getLength(),
0),m=!0):"number"==typeof e?p=new a(e,0,e,this.getLine(e).length):"row"in e?p=a.fromPoints(e,e):p=e;e=this.getFoldsInRangeList(p);if(m)this.removeFolds(e);else for(m=e;m.length;)this.expandFolds(m),m=this.getFoldsInRangeList(p);if(e.length)return e};this.isRowFolded=function(e,m){return!!this.getFoldLine(e,m)};this.getRowFoldEnd=function(e,m){return(m=this.getFoldLine(e,m))?m.end.row:e};this.getRowFoldStart=function(e,m){return(m=this.getFoldLine(e,m))?m.start.row:e};this.getFoldDisplayLine=function(e,
m,p,u,c){null==u&&(u=e.start.row);null==c&&(c=0);null==m&&(m=e.end.row);null==p&&(p=this.getLine(m).length);var l=this.doc,n="";return e.walk(function(w,z,x,J){if(!(z<u)){if(z==u){if(x<c)return;J=Math.max(c,J)}null!=w?n+=w:n+=l.getLine(z).substring(J,x)}},m,p),n};this.getDisplayLine=function(e,m,p,u){var c=this.getFoldLine(e);if(!c){var l;return l=this.doc.getLine(e),l.substring(u||0,m||l.length)}return this.getFoldDisplayLine(c,e,m,p,u)};this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(m){m=
m.folds.map(function(p){return p.clone()});return new h(e,m)}),e};this.toggleFold=function(e){var m=this.selection.getRange(),p,u;if(m.isEmpty()){e=m.start;if(p=this.getFoldAt(e.row,e.column)){this.expandFold(p);return}(u=this.findMatchingBracket(e))?1==m.comparePoint(u)?m.end=u:(m.start=u,m.start.column++,m.end.column--):(u=this.findMatchingBracket({row:e.row,column:e.column+1}))?(1==m.comparePoint(u)?m.end=u:m.start=u,m.start.column++):m=this.getCommentFoldRange(e.row,e.column)||m}else{u=this.getFoldsInRange(m);
if(e&&u.length){this.expandFolds(u);return}1==u.length&&(p=u[0])}p||=this.getFoldAt(m.start.row,m.start.column);if(p&&p.range.toString()==m.toString())this.expandFold(p);else{p="...";if(!m.isMultiLine()){p=this.getTextRange(m);if(4>p.length)return;p=p.trim().substring(0,2)+".."}this.addFold(p,m)}};this.getCommentFoldRange=function(e,m,p){var u=new g(this,e,m),c=u.getCurrentToken(),l=c.type;if(c&&/^comment|string/.test(l)){l=l.match(/comment|string/)[0];"comment"==l&&(l+="|doc-start");l=new RegExp(l);
var n=new a;if(1!=p){do c=u.stepBackward();while(c&&l.test(c.type));u.stepForward()}n.start.row=u.getCurrentTokenRow();n.start.column=u.getCurrentTokenColumn()+2;u=new g(this,e,m);if(-1!=p){e=-1;do if(c=u.stepForward(),-1==e)m=this.getState(u.$row),l.test(m)||(e=u.$row);else if(u.$row>e)break;while(c&&l.test(c.type));c=u.stepBackward()}else c=u.getCurrentToken();return n.end.row=u.getCurrentTokenRow(),n.end.column=u.getCurrentTokenColumn()+c.value.length-2,n}};this.foldAll=function(e,m,p){void 0==
p&&(p=1E5);var u=this.foldWidgets;if(u){m=m||this.getLength();for(var c=e=e||0;c<m;c++)if(null==u[c]&&(u[c]=this.getFoldWidget(c)),"start"==u[c]){var l=this.getFoldWidgetRange(c);if(l&&l.isMultiLine()&&l.end.row<=m&&l.start.row>=e){c=l.end.row;try{var n=this.addFold("...",l);n&&(n.collapseChildren=p)}catch(w){}}}}};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+
"]");this.$foldStyle!=e&&(this.$foldStyle=e,"manual"==e&&this.unfold(),e=this.$foldMode,this.$setFolding(null),this.$setFolding(e))};this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,
this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)};this.getParentFoldRangeData=function(e,m){var p=this.foldWidgets;if(!p||m&&p[e])return{};m=e-1;for(var u;0<=m;){var c=p[m];null==c&&(c=p[m]=this.getFoldWidget(m));if("start"==c){var l=this.getFoldWidgetRange(m);u||=l;if(l&&
l.end.row>=e)break}m--}return{range:-1!==m&&l,firstRange:u}};this.onFoldWidgetClick=function(e,m){m=m.domEvent;this.$toggleFoldWidget(e,{children:m.shiftKey,all:m.ctrlKey||m.metaKey,siblings:m.altKey})||(e=m.target||m.srcElement)&&/ace_fold-widget/.test(e.className)&&(e.className+=" ace_invalid")};this.$toggleFoldWidget=function(e,m){if(this.getFoldWidget){var p=this.getFoldWidget(e),u=this.getLine(e);p="end"===p?-1:1;if(p=this.getFoldAt(e,-1===p?0:u.length,p))return m.children||m.all?this.removeFold(p):
this.expandFold(p),p;if((u=this.getFoldWidgetRange(e,!0))&&!u.isMultiLine()&&(p=this.getFoldAt(u.start.row,u.start.column,1))&&u.isEqual(p.range))return this.removeFold(p),p;if(m.siblings){e=this.getParentFoldRangeData(e);if(e.range)var c=e.range.start.row+1,l=e.range.end.row;this.foldAll(c,l,m.all?1E4:0)}else m.children?(l=u?u.end.row:this.getLength(),this.foldAll(e+1,l,m.all?1E4:0)):u&&(m.all&&(u.collapseChildren=1E4),this.addFold("...",u));return u}};this.toggleFoldWidget=function(e){var m=this.selection.getCursor().row;
m=this.getRowFoldStart(m);e=this.$toggleFoldWidget(m,{});!e&&(e=this.getParentFoldRangeData(m,!0),e=e.range||e.firstRange)&&(m=e.start.row,(m=this.getFoldAt(m,this.getLine(m).length,1))?this.removeFold(m):this.addFold("...",e))};this.updateFoldWidgets=function(e){var m=e.start.row,p=e.end.row-m;0===p?this.foldWidgets[m]=null:"remove"==e.action?this.foldWidgets.splice(m,p+1,null):(e=Array(p+1),e.unshift(m,1),this.foldWidgets.splice.apply(this.foldWidgets,e))};this.tokenizerUpdateFoldWidgets=function(e){e=
e.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}});
define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(d,N,X){var a=d("../token_iterator").TokenIterator,h=d("../range").Range;N.BracketMatch=function(){this.findMatchingBracket=function(f,g){if(0==f.column)return null;g=g||this.getLine(f.row).charAt(f.column-1);return""==g?null:(g=g.match(/([\(\[\{])|([\)\]\}])/))?g[1]?this.$findClosingBracket(g[1],f):this.$findOpeningBracket(g[2],f):null};this.getBracketRange=function(f){var g=this.getLine(f.row),
e=!0,m=g.charAt(f.column-1),p=m&&m.match(/([\(\[\{])|([\)\]\}])/);p||(m=g.charAt(f.column),f={row:f.row,column:f.column+1},p=m&&m.match(/([\(\[\{])|([\)\]\}])/),e=!1);if(!p)return null;if(p[1]){g=this.$findClosingBracket(p[1],f);if(!g)return null;f=h.fromPoints(f,g);e||(f.end.column++,f.start.column--);f.cursor=f.end}else{g=this.$findOpeningBracket(p[2],f);if(!g)return null;f=h.fromPoints(g,f);e||(f.start.column++,f.end.column--);f.cursor=f.start}return f};this.$brackets={")":"(","(":")","]":"[",
"[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(f,g,e){var m=this.$brackets[f],p=1,u=new a(this,g.row,g.column),c=u.getCurrentToken();c||=u.stepForward();if(c){e||=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+");g=g.column-u.getCurrentTokenColumn()-2;for(c=c.value;;){for(;0<=g;){var l=c.charAt(g);if(l==m){if(--p,0==p)return{row:u.getCurrentTokenRow(),column:g+u.getCurrentTokenColumn()}}else l==f&&(p+=1);--g}do c=
u.stepBackward();while(c&&!e.test(c.type));if(null==c)break;c=c.value;g=c.length-1}return null}};this.$findClosingBracket=function(f,g,e){var m=this.$brackets[f],p=1,u=new a(this,g.row,g.column),c=u.getCurrentToken();c||=u.stepForward();if(c){e||=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+");for(g=g.column-u.getCurrentTokenColumn();;){c=c.value;for(var l=c.length;g<l;){var n=c.charAt(g);if(n==m){if(--p,0==p)return{row:u.getCurrentTokenRow(),
column:g+u.getCurrentTokenColumn()}}else n==f&&(p+=1);g+=1}do c=u.stepForward();while(c&&!e.test(c.type));if(null==c)break;g=0}return null}}}});
define("ace/edit_session","require exports module ace/lib/oop ace/lib/lang ace/bidihandler ace/config ace/lib/event_emitter ace/selection ace/mode/text ace/range ace/document ace/background_tokenizer ace/search_highlight ace/edit_session/folding ace/edit_session/bracket_match".split(" "),function(d,N,X){var a=d("./lib/oop"),h=d("./lib/lang"),f=d("./bidihandler").BidiHandler,g=d("./config"),e=d("./lib/event_emitter").EventEmitter,m=d("./selection").Selection,p=d("./mode/text").Mode,u=d("./range").Range,
c=d("./document").Document,l=d("./background_tokenizer").BackgroundTokenizer,n=d("./search_highlight").SearchHighlight,w=function(z,x){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++w.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);"object"==typeof z&&z.getLine||(z=new c(z));this.$bidiHandler=
new f(this);this.setDocument(z);this.selection=new m(this);g.resetOptions(this);this.setMode(x);g._signal("session",this)};w.$uid=0;(function(){function z(v){return 4352>v?!1:4352<=v&&4447>=v||4515<=v&&4519>=v||4602<=v&&4607>=v||9001<=v&&9002>=v||11904<=v&&11929>=v||11931<=v&&12019>=v||12032<=v&&12245>=v||12272<=v&&12283>=v||12288<=v&&12350>=v||12353<=v&&12438>=v||12441<=v&&12543>=v||12549<=v&&12589>=v||12593<=v&&12686>=v||12688<=v&&12730>=v||12736<=v&&12771>=v||12784<=v&&12830>=v||12832<=v&&12871>=
v||12880<=v&&13054>=v||13056<=v&&19903>=v||19968<=v&&42124>=v||42128<=v&&42182>=v||43360<=v&&43388>=v||44032<=v&&55203>=v||55216<=v&&55238>=v||55243<=v&&55291>=v||63744<=v&&64255>=v||65040<=v&&65049>=v||65072<=v&&65106>=v||65108<=v&&65126>=v||65128<=v&&65131>=v||65281<=v&&65376>=v||65504<=v&&65510>=v}a.implement(this,e);this.setDocument=function(v){this.doc&&this.doc.removeListener("change",this.$onChange);this.doc=v;v.on("change",this.$onChange);this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument());
this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(v){if(v){var K=this.$docRowCache.length;v=this.$getRowCacheIndex(this.$docRowCache,v)+1;K>v&&(this.$docRowCache.splice(v,K),this.$screenRowCache.splice(v,K))}else this.$docRowCache=[],this.$screenRowCache=[]};this.$getRowCacheIndex=function(v,K){for(var D=0,M=v.length-1;D<=M;){var Q=D+M>>1,G=v[Q];if(K>G)D=Q+1;else{if(!(K<G))return Q;M=Q-1}}return D-1};this.resetCaches=function(){this.$modified=!0;this.$wrapData=
[];this.$rowLengthCache=[];this.$resetRowCache(0);this.bgTokenizer&&this.bgTokenizer.start(0)};this.onChangeFold=function(v){this.$resetRowCache(v.data.start.row)};this.onChange=function(v){this.$modified=!0;this.$bidiHandler.onChange(v);this.$resetRowCache(v.start.row);var K=this.$updateInternalDataOnChange(v);!this.$fromUndo&&this.$undoManager&&!v.ignore&&(this.$deltasDoc.push(v),K&&0!=K.length&&this.$deltasFold.push({action:"removeFolds",folds:K}),this.$informUndoManager.schedule());this.bgTokenizer&&
this.bgTokenizer.$updateOnChange(v);this._signal("change",v)};this.setValue=function(v){this.doc.setValue(v);this.selection.moveTo(0,0);this.$resetRowCache(0);this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(v){return this.bgTokenizer.getState(v)};this.getTokens=function(v){return this.bgTokenizer.getTokens(v)};
this.getTokenAt=function(v,K){var D=this.bgTokenizer.getTokens(v),M,Q=0;if(null==K){var G=D.length-1;Q=this.getLine(v).length}else for(G=0;G<D.length&&!(Q+=D[G].value.length,Q>=K);G++);return M=D[G],M?(M.index=G,M.start=Q-M.value.length,M):null};this.setUndoManager=function(v){this.$undoManager=v;this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.$informUndoManager&&this.$informUndoManager.cancel();if(v){var K=this;this.$syncInformUndoManager=function(){K.$informUndoManager.cancel();K.$deltasFold.length&&
(K.$deltas.push({group:"fold",deltas:K.$deltasFold}),K.$deltasFold=[]);K.$deltasDoc.length&&(K.$deltas.push({group:"doc",deltas:K.$deltasDoc}),K.$deltasDoc=[]);0<K.$deltas.length&&v.execute({action:"aceupdate",args:[K.$deltas,K],merge:K.mergeUndoDeltas});K.mergeUndoDeltas=!1;K.$deltas=[]};this.$informUndoManager=h.delayedCall(this.$syncInformUndoManager)}};this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},
reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){return this.getUseSoftTabs()?h.stringRepeat(" ",this.getTabSize()):"\t"};this.setUseSoftTabs=function(v){this.setOption("useSoftTabs",v)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(v){this.setOption("tabSize",v)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(v){return this.$useSoftTabs&&
0===v.column%this.$tabSize};this.setNavigateWithinSoftTabs=function(v){this.setOption("navigateWithinSoftTabs",v)};this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs};this.$overwrite=!1;this.setOverwrite=function(v){this.setOption("overwrite",v)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(v,K){this.$decorations[v]||(this.$decorations[v]="");this.$decorations[v]+=
" "+K;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(v,K){this.$decorations[v]=(this.$decorations[v]||"").replace(" "+K,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(v){this.$breakpoints=[];for(var K=0;K<v.length;K++)this.$breakpoints[v[K]]="ace_breakpoint";this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=
function(v,K){void 0===K&&(K="ace_breakpoint");K?this.$breakpoints[v]=K:delete this.$breakpoints[v];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(v){delete this.$breakpoints[v];this._signal("changeBreakpoint",{})};this.addMarker=function(v,K,D,M){var Q=this.$markerId++;v={range:v,type:D||"line",renderer:"function"==typeof D?D:null,clazz:K,inFront:!!M,id:Q};return M?(this.$frontMarkers[Q]=v,this._signal("changeFrontMarker")):(this.$backMarkers[Q]=v,this._signal("changeBackMarker")),
Q};this.addDynamicMarker=function(v,K){if(v.update){var D=this.$markerId++;return v.id=D,v.inFront=!!K,K?(this.$frontMarkers[D]=v,this._signal("changeFrontMarker")):(this.$backMarkers[D]=v,this._signal("changeBackMarker")),v}};this.removeMarker=function(v){var K=this.$frontMarkers[v]||this.$backMarkers[v];if(K){var D=K.inFront?this.$frontMarkers:this.$backMarkers;K&&(delete D[v],this._signal(K.inFront?"changeFrontMarker":"changeBackMarker"))}};this.getMarkers=function(v){return v?this.$frontMarkers:
this.$backMarkers};this.highlight=function(v){if(!this.$searchHighlight){var K=new n(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(K)}this.$searchHighlight.setRegexp(v)};this.highlightLines=function(v,K,D,M){"number"!=typeof K&&(D=K,K=v);D||="ace_step";v=new u(v,0,K,Infinity);return v.id=this.addMarker(v,D,"fullLine",M),v};this.setAnnotations=function(v){this.$annotations=v;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||
[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(v){(v=v.match(/^.*?(\r?\n)/m))?this.$autoNewLine=v[1]:this.$autoNewLine="\n"};this.getWordRange=function(v,K){var D=this.getLine(v),M=!1;0<K&&(M=!!D.charAt(K-1).match(this.tokenRe));M||=!!D.charAt(K).match(this.tokenRe);M=M?this.tokenRe:/^\s+$/.test(D.slice(K-1,K+1))?/\s/:this.nonTokenRe;var Q=K;if(0<Q){do Q--;while(0<=Q&&D.charAt(Q).match(M));Q++}for(;K<D.length&&D.charAt(K).match(M);)K++;return new u(v,Q,
v,K)};this.getAWordRange=function(v,K){v=this.getWordRange(v,K);for(K=this.getLine(v.end.row);K.charAt(v.end.column).match(/[ \t]/);)v.end.column+=1;return v};this.setNewLineMode=function(v){this.doc.setNewLineMode(v)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(v){this.setOption("useWorker",v)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(v){this.bgTokenizer.start(v.data.first);this._signal("tokenizerUpdate",
v)};this.$modes={};this.$modeId=this.$mode=null;this.setMode=function(v,K){if(v&&"object"==typeof v){if(v.getTokenizer)return this.$onChangeMode(v);var D=v,M=D.path}else M=v||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new p);this.$modes[M]&&!D?(this.$onChangeMode(this.$modes[M]),K&&K()):(this.$modeId=M,g.loadModule(["mode",M],function(Q){if(this.$modeId!==M)return K&&K();this.$modes[M]&&!D?this.$onChangeMode(this.$modes[M]):Q&&Q.Mode&&(Q=new Q.Mode(D),D||(this.$modes[M]=
Q,Q.$id=M),this.$onChangeMode(Q));K&&K()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0))};this.$onChangeMode=function(v,K){K||(this.$modeId=v.$id);if(this.$mode!==v){this.$mode=v;this.$stopWorker();this.$useWorker&&this.$startWorker();var D=v.getTokenizer();if(void 0!==D.addEventListener){var M=this.onReloadTokenizer.bind(this);D.addEventListener("update",M)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(D);else{this.bgTokenizer=new l(D);var Q=this;this.bgTokenizer.addEventListener("update",
function(G){Q._signal("tokenizerUpdate",G)})}this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=v.tokenRe;this.nonTokenRe=v.nonTokenRe;K||(v.attachToSession&&v.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(v.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}};this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(v){g.warn("Could not load worker",
v),this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(v){this.$scrollTop===v||isNaN(v)||(this.$scrollTop=v,this._signal("changeScrollTop",v))};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(v){this.$scrollLeft===v||isNaN(v)||(this.$scrollLeft=v,this._signal("changeScrollLeft",v))};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){return this.$computeWidth(),
this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth};this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var v=0;return this.lineWidgets.forEach(function(K){K&&K.screenWidth>v&&(v=K.screenWidth)}),this.lineWidgetWidth=v};this.$computeWidth=function(v){if(this.$modified||v){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;v=this.doc.getAllLines();for(var K=this.$rowLengthCache,D=0,M=0,
Q=this.$foldData[M],G=Q?Q.start.row:Infinity,T=v.length,S=0;S<T;S++){if(S>G){S=Q.end.row+1;if(S>=T)break;G=(Q=this.$foldData[M++])?Q.start.row:Infinity}null==K[S]&&(K[S]=this.$getStringScreenWidth(v[S])[0]);K[S]>D&&(D=K[S])}this.screenWidth=D}};this.getLine=function(v){return this.doc.getLine(v)};this.getLines=function(v,K){return this.doc.getLines(v,K)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(v){return this.doc.getTextRange(v||this.selection.getRange())};
this.insert=function(v,K){return this.doc.insert(v,K)};this.remove=function(v){return this.doc.remove(v)};this.removeFullLines=function(v,K){return this.doc.removeFullLines(v,K)};this.undoChanges=function(v,K){if(v.length){this.$fromUndo=!0;for(var D=null,M=v.length-1;-1!=M;M--){var Q=v[M];"doc"==Q.group?(this.doc.revertDeltas(Q.deltas),D=this.$getUndoSelection(Q.deltas,!0,D)):Q.deltas.forEach(function(G){this.addFolds(G.folds)},this)}return this.$fromUndo=!1,D&&this.$undoSelect&&!K&&this.selection.setSelectionRange(D),
D}};this.redoChanges=function(v,K){if(v.length){this.$fromUndo=!0;for(var D=null,M=0;M<v.length;M++){var Q=v[M];"doc"==Q.group&&(this.doc.applyDeltas(Q.deltas),D=this.$getUndoSelection(Q.deltas,!1,D))}return this.$fromUndo=!1,D&&this.$undoSelect&&!K&&this.selection.setSelectionRange(D),D}};this.setUndoSelect=function(v){this.$undoSelect=v};this.$getUndoSelection=function(v,K,D){var M=v[0],Q,G;(K?"insert"!==M.action:"insert"===M.action)?Q=u.fromPoints(M.start,M.end):Q=u.fromPoints(M.start,M.start);
for(var T=1;T<v.length;T++)M=v[T],(K?"insert"!==M.action:"insert"===M.action)?(G=M.start,-1==Q.compare(G.row,G.column)&&Q.setStart(G),G=M.end,1==Q.compare(G.row,G.column)&&Q.setEnd(G)):(G=M.start,-1==Q.compare(G.row,G.column)&&(Q=u.fromPoints(M.start,M.start)));null!=D&&(0===u.comparePoints(D.start,Q.start)&&(D.start.column+=Q.end.column-Q.start.column,D.end.column+=Q.end.column-Q.start.column),v=D.compareRange(Q),1==v?Q.setStart(D.start):-1==v&&Q.setEnd(D.end));return Q};this.replace=function(v,
K){return this.doc.replace(v,K)};this.moveText=function(v,K,D){var M=this.getTextRange(v),Q=this.getFoldsInRange(v);K=u.fromPoints(K,K);if(!D){this.remove(v);var G=v.start.row-v.end.row,T=G?-v.end.column:v.start.column-v.end.column;T&&(K.start.row==v.end.row&&K.start.column>v.end.column&&(K.start.column+=T),K.end.row==v.end.row&&K.end.column>v.end.column&&(K.end.column+=T));G&&K.start.row>=v.end.row&&(K.start.row+=G,K.end.row+=G)}K.end=this.insert(K.start,M);if(Q.length){var S=v.start;v=K.start;G=
v.row-S.row;T=v.column-S.column;this.addFolds(Q.map(function(R){return R=R.clone(),R.start.row==S.row&&(R.start.column+=T),R.end.row==S.row&&(R.end.column+=T),R.start.row+=G,R.end.row+=G,R}))}return K};this.indentRows=function(v,K,D){for(D=D.replace(/\t/g,this.getTabString());v<=K;v++)this.doc.insertInLine({row:v,column:0},D)};this.outdentRows=function(v){v=v.collapseRows();for(var K=new u(0,0,0,0),D=this.getTabSize(),M=v.start.row;M<=v.end.row;++M){var Q=this.getLine(M);K.start.row=M;K.end.row=M;
for(var G=0;G<D&&" "==Q.charAt(G);++G);G<D&&"\t"==Q.charAt(G)?(K.start.column=G,K.end.column=G+1):(K.start.column=0,K.end.column=G);this.remove(K)}};this.$moveLines=function(v,K,D){v=this.getRowFoldStart(v);K=this.getRowFoldEnd(K);if(0>D){var M=this.getRowFoldStart(v+D);if(0>M)return 0;var Q=M-v}else if(0<D){M=this.getRowFoldEnd(K+D);if(M>this.doc.getLength()-1)return 0;Q=M-K}else v=this.$clipRowToDocument(v),K=this.$clipRowToDocument(K),Q=K-v+1;M=new u(v,0,K,Number.MAX_VALUE);M=this.getFoldsInRange(M).map(function(G){return G=
G.clone(),G.start.row+=Q,G.end.row+=Q,G});K=0==D?this.doc.getLines(v,K):this.doc.removeFullLines(v,K);return this.doc.insertFullLines(v+Q,K),M.length&&this.addFolds(M),Q};this.moveLinesUp=function(v,K){return this.$moveLines(v,K,-1)};this.moveLinesDown=function(v,K){return this.$moveLines(v,K,1)};this.duplicateLines=function(v,K){return this.$moveLines(v,K,0)};this.$clipRowToDocument=function(v){return Math.max(0,Math.min(v,this.doc.getLength()-1))};this.$clipColumnToRow=function(v,K){return 0>K?
0:Math.min(this.doc.getLine(v).length,K)};this.$clipPositionToDocument=function(v,K){K=Math.max(0,K);if(0>v)K=v=0;else{var D=this.doc.getLength();v>=D?(v=D-1,K=this.doc.getLine(D-1).length):K=Math.min(this.doc.getLine(v).length,K)}return{row:v,column:K}};this.$clipRangeToDocument=function(v){0>v.start.row?(v.start.row=0,v.start.column=0):v.start.column=this.$clipColumnToRow(v.start.row,v.start.column);var K=this.doc.getLength()-1;return v.end.row>K?(v.end.row=K,v.end.column=this.doc.getLine(K).length):
v.end.column=this.$clipColumnToRow(v.end.row,v.end.column),v};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(v){v!=this.$useWrapMode&&(this.$useWrapMode=v,this.$modified=!0,this.$resetRowCache(0),v&&(v=this.getLength(),this.$wrapData=Array(v),this.$updateWrapData(0,v-1)),this._signal("changeWrapMode"))};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(v,K){if(this.$wrapLimitRange.min!==v||this.$wrapLimitRange.max!==
K)this.$wrapLimitRange={min:v,max:K},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode")};this.adjustWrapLimit=function(v,K){var D=this.$wrapLimitRange;0>D.max&&(D={min:K,max:K});v=this.$constrainWrapLimit(v,D.min,D.max);return v!=this.$wrapLimit&&1<v?(this.$wrapLimit=v,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1};this.$constrainWrapLimit=function(v,K,
D){return K&&(v=Math.max(K,v)),D&&(v=Math.min(D,v)),v};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(v){this.setWrapLimitRange(v,v)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(v){var K=this.$useWrapMode,D=v.action,M=v.start,Q=v.end,G=M.row,T=Q.row,S=T-G,R=null;this.$updating=!0;if(0!=S)if("remove"===D){this[K?"$wrapData":"$rowLengthCache"].splice(G,S);D=this.$foldData;
R=this.getFoldsInRange(v);this.removeFolds(R);v=this.getFoldLine(Q.row);var ca=0;v&&(v.addRemoveChars(Q.row,Q.column,M.column-Q.column),v.shiftRow(-S),(M=this.getFoldLine(G))&&M!==v&&(M.merge(v),v=M),ca=D.indexOf(v)+1);for(ca;ca<D.length;ca++)v=D[ca],v.start.row>=Q.row&&v.shiftRow(-S);T=G}else for(D=Array(S),D.unshift(G,0),v=K?this.$wrapData:this.$rowLengthCache,v.splice.apply(v,D),D=this.$foldData,v=this.getFoldLine(G),ca=0,v&&(ca=v.range.compareInside(M.row,M.column),0==ca?(v=v.split(M.row,M.column),
v&&(v.shiftRow(S),v.addRemoveChars(T,0,Q.column-M.column))):-1==ca&&(v.addRemoveChars(G,0,Q.column-M.column),v.shiftRow(S)),ca=D.indexOf(v)+1),ca;ca<D.length;ca++)v=D[ca],v.start.row>=G&&v.shiftRow(S);else S=Math.abs(v.start.column-v.end.column),"remove"===D&&(R=this.getFoldsInRange(v),this.removeFolds(R),S=-S),(v=this.getFoldLine(G))&&v.addRemoveChars(G,M.column,S);return K&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=
!1,K?this.$updateWrapData(G,T):this.$updateRowLengthCache(G,T),R};this.$updateRowLengthCache=function(v,K,D){this.$rowLengthCache[v]=null;this.$rowLengthCache[K]=null};this.$updateWrapData=function(v,K){var D=this.doc.getAllLines(),M=this.getTabSize(),Q=this.$wrapData,G=this.$wrapLimit,T,S;for(K=Math.min(K,D.length-1);v<=K;)(S=this.getFoldLine(v,S))?(T=[],S.walk(function(R,ca,ha,ra){if(null!=R)for(R=this.$getDisplayTokens(R,T.length),R[0]=x,ca=1;ca<R.length;ca++)R[ca]=J;else R=this.$getDisplayTokens(D[ca].substring(ra,
ha),T.length);T=T.concat(R)}.bind(this),S.end.row,D[S.end.row].length+1),Q[S.start.row]=this.$computeWrapSplits(T,G,M),v=S.end.row+1):(T=this.$getDisplayTokens(D[v]),Q[v]=this.$computeWrapSplits(T,G,M),v++)};var x=3,J=4;this.$computeWrapSplits=function(v,K,D){function M(){var Aa=0;if(0===ra)return Aa;if(ha)for(var Da=0;Da<v.length;Da++){var Fa=v[Da];if(10==Fa)Aa+=1;else{if(11!=Fa){if(12==Fa)continue;break}Aa+=D}}return ca&&!1!==ha&&(Aa+=D),Math.min(Aa,ra)}function Q(Aa){var Da=v.slice(S,Aa),Fa=Da.length;
Da.join("").replace(/12/g,function(){--Fa}).replace(/2/g,function(){--Fa});G.length||(Ia=M(),G.indent=Ia);R+=Fa;G.push(R);S=Aa}if(0==v.length)return[];for(var G=[],T=v.length,S=0,R=0,ca=this.$wrapAsCode,ha=this.$indentedSoftWrap,ra=K<=Math.max(2*D,8)||!1===ha?0:Math.floor(K/2),Ia=0;T-S>K-Ia;){var ja=S+K-Ia;if(10<=v[ja-1]&&10<=v[ja])Q(ja);else if(v[ja]==x||v[ja]==J){for(ja;ja!=S-1&&v[ja]!=x;ja--);if(!(ja>S)){ja=S+K;for(ja;ja<v.length&&v[ja]==J;ja++);if(ja==v.length)break}Q(ja)}else{for(var ma=Math.max(ja-
(K-(K>>2)),S-1);ja>ma&&v[ja]<x;)ja--;if(ca){for(;ja>ma&&v[ja]<x;)ja--;for(;ja>ma&&9==v[ja];)ja--}else for(;ja>ma&&10>v[ja];)ja--;ja>ma?Q(++ja):(ja=S+K,2==v[ja]&&ja--,Q(ja-Ia))}}return G};this.$getDisplayTokens=function(v,K){var D=[];K=K||0;for(var M=0;M<v.length;M++){var Q=v.charCodeAt(M);if(9==Q){Q=this.getScreenTabSize(D.length+K);D.push(11);for(var G=1;G<Q;G++)D.push(12)}else 32==Q?D.push(10):39<Q&&48>Q||57<Q&&64>Q?D.push(9):4352<=Q&&z(Q)?D.push(1,2):D.push(1)}return D};this.$getStringScreenWidth=
function(v,K,D){if(0==K)return[0,0];null==K&&(K=Infinity);D=D||0;var M;for(M=0;M<v.length;M++){var Q=v.charCodeAt(M);9==Q?D+=this.getScreenTabSize(D):4352<=Q&&z(Q)?D+=2:D+=1;if(D>K)break}return[D,M]};this.lineWidgets=null;this.getRowLength=function(v){var K=this.lineWidgets?this.lineWidgets[v]&&this.lineWidgets[v].rowCount||0:0;return this.$useWrapMode&&this.$wrapData[v]?this.$wrapData[v].length+1+K:1+K};this.getRowLineCount=function(v){return this.$useWrapMode&&this.$wrapData[v]?this.$wrapData[v].length+
1:1};this.getRowWrapIndent=function(v){if(this.$useWrapMode){v=this.screenToDocumentPosition(v,Number.MAX_VALUE);var K=this.$wrapData[v.row];return K.length&&K[0]<v.column?K.indent:0}return 0};this.getScreenLastRowColumn=function(v){v=this.screenToDocumentPosition(v,Number.MAX_VALUE);return this.documentToScreenColumn(v.row,v.column)};this.getDocumentLastRowColumn=function(v,K){v=this.documentToScreenRow(v,K);return this.getScreenLastRowColumn(v)};this.getDocumentLastRowColumnPosition=function(v,
K){v=this.documentToScreenRow(v,K);return this.screenToDocumentPosition(v,Number.MAX_VALUE/10)};this.getRowSplitData=function(v){return this.$useWrapMode?this.$wrapData[v]:void 0};this.getScreenTabSize=function(v){return this.$tabSize-v%this.$tabSize};this.screenToDocumentRow=function(v,K){return this.screenToDocumentPosition(v,K).row};this.screenToDocumentColumn=function(v,K){return this.screenToDocumentPosition(v,K).column};this.screenToDocumentPosition=function(v,K,D){if(0>v)return{row:0,column:0};
var M=0,Q=0,G,T=0;var S=0;var R=this.$screenRowCache,ca=this.$getRowCacheIndex(R,v),ha=R.length;ha&&0<=ca?(T=R[ca],M=this.$docRowCache[ca],ca=v>R[ha-1]):ca=!ha;ha=this.getLength()-1;for(var ra=(R=this.getNextFoldLine(M))?R.start.row:Infinity;T<=v;){S=this.getRowLength(M);if(T+S>v||M>=ha)break;T+=S;M++;M>ra&&(M=R.end.row+1,R=this.getNextFoldLine(M,R),ra=R?R.start.row:Infinity);ca&&(this.$docRowCache.push(M),this.$screenRowCache.push(T))}if(R&&R.start.row<=M)S=this.getFoldDisplayLine(R),M=R.start.row;
else{if(T+S<=v||M>ha)return{row:ha,column:this.getLine(ha).length};S=this.getLine(M);R=null}ca=0;v=Math.floor(v-T);this.$useWrapMode&&(ha=this.$wrapData[M])&&(G=ha[v],0<v&&ha.length&&(ca=ha.indent,Q=ha[v-1]||ha[ha.length-1],S=S.substring(Q)));return void 0!==D&&this.$bidiHandler.isBidiRow(T+v,M,v)&&(K=this.$bidiHandler.offsetToCol(D)),Q+=this.$getStringScreenWidth(S,K-ca)[1],this.$useWrapMode&&Q>=G&&(Q=G-1),R?R.idxToPosition(Q):{row:M,column:Q}};this.documentToScreenPosition=function(v,K){var D="undefined"==
typeof K?this.$clipPositionToDocument(v.row,v.column):this.$clipPositionToDocument(v,K);v=D.row;K=D.column;D=0;var M=null,Q;(Q=this.getFoldAt(v,K,1))&&(v=Q.start.row,K=Q.start.column);Q=0;var G=this.$docRowCache;var T=this.$getRowCacheIndex(G,v),S=G.length;if(S&&0<=T){Q=G[T];D=this.$screenRowCache[T];var R=v>G[S-1]}else R=!S;for(S=(T=this.getNextFoldLine(Q))?T.start.row:Infinity;Q<v;){if(Q>=S){G=T.end.row+1;if(G>v)break;S=(T=this.getNextFoldLine(G,T))?T.start.row:Infinity}else G=Q+1;D+=this.getRowLength(Q);
Q=G;R&&(this.$docRowCache.push(Q),this.$screenRowCache.push(D))}G="";T&&Q>=S?(G=this.getFoldDisplayLine(T,v,K),M=T.start.row):(G=this.getLine(v).substring(0,K),M=v);v=0;if(this.$useWrapMode&&(M=this.$wrapData[M])){for(v=0;G.length>=M[v];)D++,v++;G=G.substring(M[v-1]||0,G.length);v=0<v?M.indent:0}return{row:D,column:v+this.$getStringScreenWidth(G)[0]}};this.documentToScreenColumn=function(v,K){return this.documentToScreenPosition(v,K).column};this.documentToScreenRow=function(v,K){return this.documentToScreenPosition(v,
K).row};this.getScreenLength=function(){var v=0,K;if(this.$useWrapMode){var D=this.$wrapData.length,M=0;T=0;for(var Q=(K=this.$foldData[T++])?K.start.row:Infinity;M<D;){var G=this.$wrapData[M];v+=G?G.length+1:1;M++;M>Q&&(M=K.end.row+1,K=this.$foldData[T++],Q=K?K.start.row:Infinity)}}else{v=this.getLength();D=this.$foldData;for(var T=0;T<D.length;T++)K=D[T],v-=K.end.row-K.start.row}return this.lineWidgets&&(v+=this.$getWidgetScreenLength()),v};this.$setFontMetrics=function(v){this.$enableVarChar&&
(this.$getStringScreenWidth=function(K,D,M){if(0===D)return[0,0];D||=Infinity;M=M||0;var Q;for(Q=0;Q<K.length;Q++){var G=K.charAt(Q);"\t"===G?M+=this.getScreenTabSize(M):M+=v.getCharacterWidth(G);if(M>D)break}return[M,Q]})};this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null);this.$stopWorker()};this.isFullWidth=z}).call(w.prototype);d("./edit_session/folding").Folding.call(w.prototype);d("./edit_session/bracket_match").BracketMatch.call(w.prototype);
g.defineOptions(w.prototype,"session",{wrap:{set:function(z){z&&"off"!=z?"free"==z?z=!0:"printMargin"==z?z=-1:"string"==typeof z&&(z=parseInt(z,10)||!1):z=!1;this.$wrap!=z&&((this.$wrap=z)?(z="number"==typeof z?z:null,this.setWrapLimitRange(z,z),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(z){z="auto"==z?"text"!=this.$mode.type:
"text"!=z;z!=this.$wrapAsCode&&(this.$wrapAsCode=z,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(z){this.$useWorker=z;this.$stopWorker();z&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(z){isNaN(z)||this.$tabSize===z||(this.$modified=
!0,this.$rowLengthCache=[],this.$tabSize=z,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(z){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(z){this.doc.setNewLineMode(z)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(z){this.setMode(z)},get:function(){return this.$modeId}}});N.EditSession=w});
define("ace/search","require exports module ace/lib/lang ace/lib/oop ace/range".split(" "),function(d,N,X){var a=d("./lib/lang"),h=d("./lib/oop"),f=d("./range").Range;d=function(){this.$options={}};(function(){this.set=function(g){return h.mixin(this.$options,g),this};this.getOptions=function(){return a.copyObject(this.$options)};this.setOptions=function(g){this.$options=g};this.find=function(g){var e=this.$options;g=this.$matchIterator(g,e);if(!g)return!1;var m=null;return g.forEach(function(p,u,
c,l){return m=new f(p,u,c,l),u==l&&e.start&&e.start.start&&0!=e.skipCurrent&&m.isEqual(e.start)?(m=null,!1):!0}),m};this.findAll=function(g){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var m=e.range,p=m?g.getLines(m.start.row,m.end.row):g.doc.getAllLines();g=[];var u=e.re;if(e.$isMultiLine){var c=u.length,l=p.length-c,n,w=u.offset||0;a:for(;w<=l;w++){for(e=0;e<c;e++)if(-1==p[w+e].search(u[e]))continue a;var z=p[w];e=p[w+c-1];z=z.length-z.match(u[0])[0].length;e=e.match(u[c-1])[0].length;
n&&n.end.row===w&&n.end.column>z||(g.push(n=new f(w,z,w+c-1,e)),2<c&&(w=w+c-2))}}else for(n=0;n<p.length;n++)for(c=a.getMatchOffsets(p[n],u),e=0;e<c.length;e++)l=c[e],g.push(new f(n,l.offset,n,l.offset+l.length));if(m){u=p=m.start.column;n=0;for(e=g.length-1;n<e&&g[n].start.column<p&&g[n].start.row==m.start.row;)n++;for(;n<e&&g[e].end.column>u&&g[e].end.row==m.end.row;)e--;g=g.slice(n,e+1);n=0;for(e=g.length;n<e;n++)g[n].start.row+=m.start.row,g[n].end.row+=m.start.row}return g};this.replace=function(g,
e){var m=this.$options,p=this.$assembleRegExp(m);if(m.$isMultiLine)return e;if(p){var u=p.exec(g);if(!u||u[0].length!=g.length)return null;e=g.replace(p,e);if(m.preserveCase){e=e.split("");for(m=Math.min(g.length,g.length);m--;)(p=g[m])&&p.toLowerCase()!=p?e[m]=e[m].toUpperCase():e[m]=e[m].toLowerCase();e=e.join("")}return e}};this.$assembleRegExp=function(g,e){if(g.needle instanceof RegExp)return g.re=g.needle;var m=g.needle;if(!g.needle)return g.re=!1;g.regExp||(m=a.escapeRegExp(m));g.wholeWord&&
(m=(/\w/.test(m[0])||g.regExp?"\\b":"")+m+(/\w/.test(m[m.length-1])||g.regExp?"\\b":""));var p=g.caseSensitive?"gm":"gmi";g.$isMultiLine=!e&&/[\n\r]/.test(m);if(g.$isMultiLine)return g.re=this.$assembleMultilineRegExp(m,p);try{var u=new RegExp(m,p)}catch(c){u=!1}return g.re=u};this.$assembleMultilineRegExp=function(g,e){g=g.replace(/\r\n|\r|\n/g,"$\n^").split("\n");for(var m=[],p=0;p<g.length;p++)try{m.push(new RegExp(g[p],e))}catch(u){return!1}return m};this.$matchIterator=function(g,e){var m=this.$assembleRegExp(e);
if(!m)return!1;var p=1==e.backwards,u=0!=e.skipCurrent,c=e.range,l=e.start;l||=c?c[p?"end":"start"]:g.selection.getRange();l.start&&(l=l[u!=p?"end":"start"]);var n=c?c.start.row:0,w=c?c.end.row:g.getLength()-1;u=p?function(J){var v=l.row;if(!x(v,l.column,J)){for(v--;v>=n;v--)if(x(v,Number.MAX_VALUE,J))return;if(0!=e.wrap)for(v=w,n=l.row;v>=n&&!x(v,Number.MAX_VALUE,J);v--);}}:function(J){var v=l.row;if(!x(v,l.column,J)){for(v+=1;v<=w;v++)if(x(v,0,J))return;if(0!=e.wrap)for(v=n,w=l.row;v<=w&&!x(v,0,
J);v++);}};if(e.$isMultiLine)var z=m.length,x=function(J,v,K){J=p?J-z+1:J;if(!(0>J)){var D=g.getLine(J),M=D.search(m[0]);if(!(!p&&M<v||-1===M)){for(var Q=1;Q<z;Q++)if(D=g.getLine(J+Q),-1==D.search(m[Q]))return;D=D.match(m[z-1])[0].length;if(!(p&&D>v)&&K(J,M,J+z-1,D))return!0}}};else x=p?function(J,v,K){var D=g.getLine(J),M=[],Q;for(m.lastIndex=0;Q=m.exec(D);){var G=Q[0].length;var T=Q.index;if(!G){if(T>=D.length)break;m.lastIndex=T+1}if(Q.index+G>v)break;M.push(Q.index,G)}for(v=M.length-1;0<=v;v-=
2)if(D=M[v-1],G=M[v],K(J,D,J,D+G))return!0}:function(J,v,K){var D=g.getLine(J),M;for(m.lastIndex=v;M=m.exec(D);){v=M[0].length;M=M.index;if(K(J,M,J,M+v))return!0;if(!v&&(m.lastIndex=M+=1,M>=D.length))return!1}};return{forEach:u}}}).call(d.prototype);N.Search=d});
define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(d,N,X){function a(m,p){this.platform=p||(g.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(m);this.$singleCommand=!0}function h(m,p){a.call(this,m,p);this.$singleCommand=!1}var f=d("../lib/keys"),g=d("../lib/useragent"),e=f.KEY_MODS;h.prototype=a.prototype;(function(){function m(p){return"object"==typeof p&&p.bindKey&&p.bindKey.position||(p.isDefault?-100:0)}
this.addCommand=function(p){this.commands[p.name]&&this.removeCommand(p);this.commands[p.name]=p;p.bindKey&&this._buildKeyHash(p)};this.removeCommand=function(p,u){var c=p&&("string"==typeof p?p:p.name);p=this.commands[c];u||delete this.commands[c];u=this.commandKeyBinding;for(var l in u)if(c=u[l],c==p)delete u[l];else if(Array.isArray(c)){var n=c.indexOf(p);-1!=n&&(c.splice(n,1),1==c.length&&(u[l]=c[0]))}};this.bindKey=function(p,u,c){"object"==typeof p&&p&&(void 0==c&&(c=p.position),p=p[this.platform]);
if(p){if("function"==typeof u)return this.addCommand({exec:u,bindKey:p,name:u.name||p});p.split("|").forEach(function(l){var n="";if(-1!=l.indexOf(" ")){var w=l.split(/\s+/);l=w.pop();w.forEach(function(z){z=this.parseKeys(z);n+=(n?" ":"")+(e[z.hashId]+z.key);this._addCommandToBinding(n,"chainKeys")},this);n+=" "}l=this.parseKeys(l);this._addCommandToBinding(n+(e[l.hashId]+l.key),u,c)},this)}};this._addCommandToBinding=function(p,u,c){var l=this.commandKeyBinding,n;if(u)if(!l[p]||this.$singleCommand)l[p]=
u;else{Array.isArray(l[p])?-1!=(n=l[p].indexOf(u))&&l[p].splice(n,1):l[p]=[l[p]];"number"!=typeof c&&(c=m(u));p=l[p];for(n=0;n<p.length&&!(m(p[n])>c);n++);p.splice(n,0,u)}else delete l[p]};this.addCommands=function(p){p&&Object.keys(p).forEach(function(u){var c=p[u];if(c){if("string"==typeof c)return this.bindKey(c,u);"function"==typeof c&&(c={exec:c});"object"==typeof c&&(c.name||(c.name=u),this.addCommand(c))}},this)};this.removeCommands=function(p){Object.keys(p).forEach(function(u){this.removeCommand(p[u])},
this)};this.bindKeys=function(p){Object.keys(p).forEach(function(u){this.bindKey(u,p[u])},this)};this._buildKeyHash=function(p){this.bindKey(p.bindKey,p)};this.parseKeys=function(p){var u=p.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(z){return z}),c=u.pop(),l=f[c];if(f.FUNCTION_KEYS[l])c=f.FUNCTION_KEYS[l].toLowerCase();else{if(!u.length)return{key:c,hashId:-1};if(1==u.length&&"shift"==u[0])return{key:c.toUpperCase(),hashId:-1}}l=0;for(var n=u.length;n--;){var w=f.KEY_MODS[u[n]];if(null==
w)return"undefined"!=typeof console&&console.error("invalid modifier "+u[n]+" in "+p),!1;l|=w}return{key:c,hashId:l}};this.findKeyCommand=function(p,u){return this.commandKeyBinding[e[p]+u]};this.handleKeyboard=function(p,u,c,l){if(!(0>l)){var n=e[u]+c,w=this.commandKeyBinding[n];p.$keyChain&&(p.$keyChain+=" "+n,w=this.commandKeyBinding[p.$keyChain]||w);if(w&&("chainKeys"==w||"chainKeys"==w[w.length-1]))return p.$keyChain=p.$keyChain||n,{command:"null"};if(p.$keyChain)if(u&&4!=u||1!=c.length){if(-1==
u||0<l)p.$keyChain=""}else p.$keyChain=p.$keyChain.slice(0,-n.length-1);return{command:w}}};this.getStatusText=function(p,u){return u.$keyChain||""}}).call(a.prototype);N.HashHandler=a;N.MultiHashHandler=h});
define("ace/commands/command_manager","require exports module ace/lib/oop ace/keyboard/hash_handler ace/lib/event_emitter".split(" "),function(d,N,X){var a=d("../lib/oop"),h=d("../keyboard/hash_handler").MultiHashHandler,f=d("../lib/event_emitter").EventEmitter;d=function(g,e){h.call(this,e,g);this.byName=this.commands;this.setDefaultHandler("exec",function(m){return m.command.exec(m.editor,m.args||{})})};a.inherits(d,h);(function(){a.implement(this,f);this.exec=function(g,e,m){if(Array.isArray(g)){for(var p=
g.length;p--;)if(this.exec(g[p],e,m))return!0;return!1}"string"==typeof g&&(g=this.commands[g]);if(!g||e&&e.$readOnly&&!g.readOnly||g.isAvailable&&!g.isAvailable(e))return!1;g={editor:e,command:g,args:m};return g.returnValue=this._emit("exec",g),this._signal("afterExec",g),!1===g.returnValue?!1:!0};this.toggleRecording=function(g){if(!this.$inReplay)return g&&g._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=
this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)};this.replay=function(g){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(g);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,g):this.exec(e[0],g,e[1])},this)}finally{this.$inReplay=!1}}};this.trimMacro=
function(g){return g.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}).call(d.prototype);N.CommandManager=d});
define("ace/commands/default_commands","require exports module ace/lib/lang ace/config ace/range".split(" "),function(d,N,X){function a(e,m){return{win:e,mac:m}}var h=d("../lib/lang"),f=d("../config"),g=d("../range").Range;N.commands=[{name:"showSettingsMenu",bindKey:a("Ctrl-,","Command-,"),exec:function(e){f.loadModule("ace/ext/settings_menu",function(m){m.init(e);e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:a("Alt-E","F4"),exec:function(e){f.loadModule("ace/ext/error_marker",
function(m){m.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(e){f.loadModule("ace/ext/error_marker",function(m){m.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:a("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:a(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:a("Ctrl-L","Command-L"),
exec:function(e){var m=parseInt(prompt("Enter line number:"),10);isNaN(m)||e.gotoLine(m)},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",
bindKey:a("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:a("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:a("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll();
e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:a("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",
readOnly:!0},{name:"selectOrFindNext",bindKey:a("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:a("Ctrl-F","Command-F"),exec:function(e){f.loadModule("ace/ext/searchbox",function(m){m.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},
readOnly:!0},{name:"selecttostart",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),
exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:a("Up","Up|Ctrl-P"),exec:function(e,m){e.navigateUp(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",
bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:a("Down","Down|Ctrl-N"),exec:function(e,m){e.navigateDown(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",
readOnly:!0},{name:"selectwordleft",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:a("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},
multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:a("Left","Left|Ctrl-B"),exec:function(e,m){e.navigateLeft(m.times)},
multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:a("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:a("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:a("Right",
"Right|Ctrl-F"),exec:function(e,m){e.navigateRight(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:a(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},
readOnly:!0},{name:"pageup",bindKey:a(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:a("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:a("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",
exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},
readOnly:!0},{name:"jumptomatching",bindKey:a("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:a("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},
{name:"passKeysToBrowser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var m=e.getSelectionRange();e._emit("cut",m);e.selection.isEmpty()||(e.session.remove(m),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,m){e.$handlePaste(m)},scrollIntoView:"cursor"},{name:"removeline",bindKey:a("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",
multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:a("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},
{name:"toggleBlockComment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",
bindKey:a("Ctrl-H","Command-Option-F"),exec:function(e){f.loadModule("ace/ext/searchbox",function(m){m.Search(e,!0)})}},{name:"undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:a("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},
scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:a("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:a("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),
exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(e){var m=e.selection.getRange();m.start.column=0;e.session.remove(m)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(e){var m=e.selection.getRange();m.end.column=Number.MAX_VALUE;e.session.remove(m)},multiSelectAction:"forEach",scrollIntoView:"cursor"},
{name:"removewordleft",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:a("Tab",
"Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,m){e.insert(m)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",
exec:function(e,m){e.insert(h.stringRepeat(m.text||"",m.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:a(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},
multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var m=e.selection.getRange();m.start.column=m.end.column=0;m.end.row++;e.selection.setRange(m,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:a(null,null),exec:function(e){var m=
e.selection.isBackwards(),p=m?e.selection.getSelectionLead():e.selection.getSelectionAnchor();m=m?e.selection.getSelectionAnchor():e.selection.getSelectionLead();for(var u=e.session.doc.getLine(p.row).length,c=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(p.row),n=p.row+1;n<=m.row+1;n++){var w=h.stringTrimLeft(h.stringTrimRight(e.session.doc.getLine(n)));0!==w.length&&(w=" "+w);l+=w}m.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter());
e.clearSelection();e.session.doc.replace(new g(p.row,0,m.row+2,0),l);0<c?(e.selection.moveCursorTo(p.row,p.column),e.selection.selectTo(p.row,p.column+c)):(u=e.session.doc.getLine(p.row).length>u?u+1:u,e.selection.moveCursorTo(p.row,u))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:a(null,null),exec:function(e){var m=e.session.doc.getLength()-1,p=e.session.doc.getLine(m).length,u=e.selection.rangeList.ranges,c=[];1>u.length&&(u=[e.selection.getRange()]);for(var l=0;l<u.length;l++)l!=
u.length-1||u[l].end.row===m&&u[l].end.column===p||c.push(new g(u[l].end.row,u[l].end.column,m,p)),0===l?(0!==u[l].start.row||0!==u[l].start.column)&&c.push(new g(0,0,u[l].start.row,u[l].start.column)):c.push(new g(u[l-1].end.row,u[l-1].end.column,u[l].start.row,u[l].start.column));e.exitMultiSelectMode();e.clearSelection();for(l=0;l<c.length;l++)e.selection.addRange(c[l],!1)},readOnly:!0,scrollIntoView:"none"}]});
define("ace/editor","require exports module ace/lib/fixoldbrowsers ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/keyboard/textinput ace/mouse/mouse_handler ace/mouse/fold_handler ace/keyboard/keybinding ace/edit_session ace/search ace/range ace/lib/event_emitter ace/commands/command_manager ace/commands/default_commands ace/config ace/token_iterator".split(" "),function(d,N,X){d("./lib/fixoldbrowsers");var a=d("./lib/oop"),h=d("./lib/dom"),f=d("./lib/lang"),g=d("./lib/useragent"),e=d("./keyboard/textinput").TextInput,
m=d("./mouse/mouse_handler").MouseHandler,p=d("./mouse/fold_handler").FoldHandler,u=d("./keyboard/keybinding").KeyBinding,c=d("./edit_session").EditSession,l=d("./search").Search,n=d("./range").Range,w=d("./lib/event_emitter").EventEmitter,z=d("./commands/command_manager").CommandManager,x=d("./commands/default_commands").commands,J=d("./config"),v=d("./token_iterator").TokenIterator,K=function(D,M){this.container=D.getContainerElement();this.renderer=D;this.id="editor"+ ++K.$uid;this.commands=new z(g.isMac?
"mac":"win",x);"object"==typeof document&&(this.textInput=new e(D.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new m(this),new p(this));this.keyBinding=new u(this);this.$blockScrolling=0;this.$search=(new l).set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=f.delayedCall(function(){this._signal("input",{});this.session&&this.session.bgTokenizer&&
this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(Q,G){G._$emitInputEvent.schedule(31)});this.setSession(M||new c(""));J.resetOptions(this);J._signal("editor",this)};K.$uid=0;(function(){a.implement(this,w);this.$initOperationListeners=function(){this.selections=[];this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=f.delayedCall(this.endOperation.bind(this));this.on("change",function(){this.curOp||
this.startOperation();this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){this.curOp||this.startOperation();this.curOp.selectionChanged=!0}.bind(this),!0)};this.curOp=null;this.prevOp={};this.startOperation=function(D){if(this.curOp){if(!D||this.curOp.command)return;this.prevOp=this.curOp}D||(this.previousCommand=null,D={});this.$opResetTimer.schedule();this.curOp={command:D.command||{},args:D.args,scrollTop:this.renderer.scrollTop};this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&
this.$blockScrolling++};this.endOperation=function(D){if(this.curOp){if(D&&!1===D.returnValue)return this.curOp=null;this._signal("beforeEndOperation");D=this.curOp.command;D.name&&0<this.$blockScrolling&&this.$blockScrolling--;if(D=D&&D.scrollIntoView){switch(D){case "center-animate":D="animate";case "center":this.renderer.scrollCursorIntoView(null,.5);break;case "animate":case "cursor":this.renderer.scrollCursorIntoView();break;case "selectionPart":var M=this.selection.getRange(),Q=this.renderer.layerConfig;
(M.start.row>=Q.lastRow||M.end.row<=Q.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==D&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(D){if(this.$mergeUndoDeltas){var M=this.prevOp,Q=this.$mergeableCommands,G=M.command&&D.command.name==M.command.name;if("insertstring"==D.command.name){var T=D.args;void 0===
this.mergeNextCommand&&(this.mergeNextCommand=!0);G=G&&this.mergeNextCommand&&(!/\s/.test(T)||/\s/.test(M.args));this.mergeNextCommand=!0}else G=G&&-1!==Q.indexOf(D.command.name);"always"!=this.$mergeUndoDeltas&&2E3<Date.now()-this.sequenceStartTime&&(G=!1);G?this.session.mergeUndoDeltas=!0:-1!==Q.indexOf(D.command.name)&&(this.sequenceStartTime=Date.now())}};this.setKeyboardHandler=function(D,M){if(D&&"string"==typeof D){this.$keybindingId=D;var Q=this;J.loadModule(["keybinding",D],function(G){Q.$keybindingId==
D&&Q.keyBinding.setKeyboardHandler(G&&G.handler);M&&M()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(D),M&&M()};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(D){if(this.session!=D){this.curOp&&this.endOperation();this.curOp={};var M=this.session;if(M){this.session.off("change",this.$onDocumentChange);this.session.off("changeMode",this.$onChangeMode);this.session.off("tokenizerUpdate",this.$onTokenizerUpdate);this.session.off("changeTabSize",
this.$onChangeTabSize);this.session.off("changeWrapLimit",this.$onChangeWrapLimit);this.session.off("changeWrapMode",this.$onChangeWrapMode);this.session.off("changeFold",this.$onChangeFold);this.session.off("changeFrontMarker",this.$onChangeFrontMarker);this.session.off("changeBackMarker",this.$onChangeBackMarker);this.session.off("changeBreakpoint",this.$onChangeBreakpoint);this.session.off("changeAnnotation",this.$onChangeAnnotation);this.session.off("changeOverwrite",this.$onCursorChange);this.session.off("changeScrollTop",
this.$onScrollTopChange);this.session.off("changeScrollLeft",this.$onScrollLeftChange);var Q=this.session.getSelection();Q.off("changeCursor",this.$onCursorChange);Q.off("changeSelection",this.$onSelectionChange)}(this.session=D)?(this.$onDocumentChange=this.onDocumentChange.bind(this),D.on("change",this.$onDocumentChange),this.renderer.setSession(D),this.$onChangeMode=this.onChangeMode.bind(this),D.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),D.on("tokenizerUpdate",
this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),D.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),D.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),D.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),D.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",
this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=
this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=D.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),--this.$blockScrolling,
this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(D));this._signal("changeSession",{session:D,oldSession:M});this.curOp=null;M&&M._signal("changeEditor",{oldEditor:this});D&&D._signal("changeEditor",{editor:this});D&&D.bgTokenizer&&D.bgTokenizer.scheduleStart()}};
this.getSession=function(){return this.session};this.setValue=function(D,M){return this.session.doc.setValue(D),M?1==M?this.navigateFileEnd():-1==M&&this.navigateFileStart():this.selectAll(),D};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(D){this.renderer.onResize(D)};this.setTheme=function(D,M){this.renderer.setTheme(D,M)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(D){this.renderer.setStyle(D)};
this.unsetStyle=function(D){this.renderer.unsetStyle(D)};this.getFontSize=function(){return this.getOption("fontSize")||h.computedStyle(this.container,"fontSize")};this.setFontSize=function(D){this.setOption("fontSize",D)};this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(!this.$highlightPending){var D=this;this.$highlightPending=!0;setTimeout(function(){D.$highlightPending=!1;var M=
D.session;if(M&&M.bgTokenizer){var Q=M.findMatchingBracket(D.getCursorPosition());if(Q)var G=new n(Q.row,Q.column,Q.row,Q.column+1);else M.$mode.getMatching&&(G=M.$mode.getMatching(D.session));G&&(M.$bracketHighlight=M.addMarker(G,"ace_bracket","text"))}},50)}};this.$highlightTags=function(){if(!this.$highlightTagPending){var D=this;this.$highlightTagPending=!0;setTimeout(function(){D.$highlightTagPending=!1;var M=D.session;if(M&&M.bgTokenizer){var Q=D.getCursorPosition(),G=new v(D.session,Q.row,
Q.column);if((Q=G.getCurrentToken())&&/\b(?:tag-open|tag-name)/.test(Q.type)){if(-1!=Q.type.indexOf("tag-open")&&(Q=G.stepForward(),!Q))return;var T=Q.value,S=0,R=G.stepBackward();if("<"==R.value){do R=Q,(Q=G.stepForward())&&Q.value===T&&-1!==Q.type.indexOf("tag-name")&&("<"===R.value?S++:"</"===R.value&&S--);while(Q&&0<=S)}else{do Q=R,R=G.stepBackward(),Q&&Q.value===T&&-1!==Q.type.indexOf("tag-name")&&("<"===R.value?S++:"</"===R.value&&S--);while(R&&0>=S);G.stepForward()}Q?(T=G.getCurrentTokenRow(),
G=G.getCurrentTokenColumn(),Q=new n(T,G,T,G+Q.value.length),G=M.$backMarkers[M.$tagHighlight],M.$tagHighlight&&void 0!=G&&0!==Q.compareRange(G.range)&&(M.removeMarker(M.$tagHighlight),M.$tagHighlight=null),Q&&!M.$tagHighlight&&(M.$tagHighlight=M.addMarker(Q,"ace_bracket","text"))):(M.removeMarker(M.$tagHighlight),M.$tagHighlight=null)}else M.removeMarker(M.$tagHighlight),M.$tagHighlight=null}},50)}};this.focus=function(){var D=this;setTimeout(function(){D.textInput.focus()});this.textInput.focus()};
this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(D){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",D))};this.onBlur=function(D){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",D))};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(D){this.renderer.updateLines(D.start.row,
D.start.row==D.end.row?D.end.row:Infinity,this.session.$useWrapMode);this._signal("change",D);this.$cursorChange();this.$updateHighlightActiveLine()};this.onTokenizerUpdate=function(D){D=D.data;this.renderer.updateLines(D.first,D.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();this.$blockScrolling||(J.warn("Automatically scrolling cursor into view after selection change",
"this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView());this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var D=this.getSession(),M;this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(M=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||
1<this.renderer.$minLines||(M=!1));D.$highlightLineMarker&&!M?(D.removeMarker(D.$highlightLineMarker.id),D.$highlightLineMarker=null):!D.$highlightLineMarker&&M?(M=new n(M.row,M.column,M.row,Infinity),M.id=D.addMarker(M,"ace_active-line","screenLine"),D.$highlightLineMarker=M):M&&(D.$highlightLineMarker.start.row=M.row,D.$highlightLineMarker.end.row=M.row,D.$highlightLineMarker.start.column=M.column,D._signal("changeBackMarker"))};this.onSelectionChange=function(D){D=this.session;D.$selectionMarker&&
D.removeMarker(D.$selectionMarker);D.$selectionMarker=null;if(this.selection.isEmpty())this.$updateHighlightActiveLine();else{var M=this.selection.getRange(),Q=this.getSelectionStyle();D.$selectionMarker=D.addMarker(M,"ace_selection",Q)}D=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(D);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var D=this.session,M=this.getSelectionRange();if(!M.isEmpty()&&!M.isMultiLine()){var Q=M.start.column-
1,G=M.end.column+1;D=D.getLine(M.start.row);var T=D.length,S=D.substring(Math.max(Q,0),Math.min(G,T));if(!(0<=Q&&/^[\w\d]/.test(S)||G<=T&&/[\w\d]$/.test(S))&&(S=D.substring(M.start.column,M.end.column),/^[\w\d]+$/.test(S)))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:S})}};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};
this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(D){this.renderer.updateText();this._emit("changeMode",D)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=
function(){var D=this.getSelectedText();return this._signal("copy",D),D};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(D,M){this.commands.exec("paste",this,{text:D,event:M})};this.$handlePaste=function(D){"string"==typeof D&&(D={text:D});this._signal("paste",D);var M=D.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(M);else{D=M.split(/\r\n|\r|\n/);var Q=this.selection.rangeList.ranges;if(D.length>
Q.length||2>D.length||!D[1])return this.commands.exec("insertstring",this,M);for(M=Q.length;M--;){var G=Q[M];G.isEmpty()||this.session.remove(G);this.session.insert(G.start,D[M])}}};this.execCommand=function(D,M){return this.commands.exec(D,this,M)};this.insert=function(D,M){var Q=this.session,G=Q.getMode(),T=this.getCursorPosition();if(this.getBehavioursEnabled()&&!M){var S=G.transformAction(Q.getState(T.row),"insertion",this,Q,D);S&&(D!==S.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=
!1),D=S.text)}"\t"==D&&(D=this.session.getTabString());this.selection.isEmpty()?this.session.getOverwrite()&&-1==D.indexOf("\n")&&(M=new n.fromPoints(T,T),M.end.column+=D.length,this.session.remove(M)):(M=this.getSelectionRange(),T=this.session.remove(M),this.clearSelection());if("\n"==D||"\r\n"==D){var R=Q.getLine(T.row);T.column>R.search(/\S|$/)&&(M=R.substr(T.column).search(/\S|$/),Q.doc.removeInLine(T.row,T.column,T.column+M))}this.clearSelection();var ca=T.column;M=Q.getState(T.row);R=Q.getLine(T.row);
var ha=G.checkOutdent(M,R,D);Q.insert(T,D);S&&S.selection&&(2==S.selection.length?this.selection.setSelectionRange(new n(T.row,ca+S.selection[0],T.row,ca+S.selection[1])):this.selection.setSelectionRange(new n(T.row+S.selection[0],S.selection[1],T.row+S.selection[2],S.selection[3])));Q.getDocument().isNewLine(D)&&(D=G.getNextLineIndent(M,R.slice(0,T.column),Q.getTabString()),Q.insert({row:T.row+1,column:0},D));ha&&G.autoOutdent(M,Q,T.row)};this.onTextInput=function(D){this.keyBinding.onTextInput(D)};
this.onCommandKey=function(D,M,Q){this.keyBinding.onCommandKey(D,M,Q)};this.setOverwrite=function(D){this.session.setOverwrite(D)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(D){this.setOption("scrollSpeed",D)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(D){this.setOption("dragDelay",D)};this.getDragDelay=function(){return this.getOption("dragDelay")};
this.setSelectionStyle=function(D){this.setOption("selectionStyle",D)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(D){this.setOption("highlightActiveLine",D)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(D){this.setOption("highlightGutterLine",D)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=
function(D){this.setOption("highlightSelectedWord",D)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(D){this.renderer.setAnimatedScroll(D)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(D){this.renderer.setShowInvisibles(D)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(D){this.renderer.setDisplayIndentGuides(D)};
this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(D){this.renderer.setShowPrintMargin(D)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(D){this.renderer.setPrintMarginColumn(D)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(D){this.setOption("readOnly",D)};this.getReadOnly=function(){return this.getOption("readOnly")};
this.setBehavioursEnabled=function(D){this.setOption("behavioursEnabled",D)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(D){this.setOption("wrapBehavioursEnabled",D)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(D){this.setOption("showFoldWidgets",D)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=
function(D){this.setOption("fadeFoldWidgets",D)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(D){this.selection.isEmpty()&&("left"==D?this.selection.selectLeft():this.selection.selectRight());D=this.getSelectionRange();if(this.getBehavioursEnabled()){var M=this.session,Q=M.getState(D.start.row);Q=M.getMode().transformAction(Q,"deletion",this,M,D);if(0===D.end.column){var G=M.getTextRange(D);"\n"==G[G.length-1]&&(M=M.getLine(D.end.row),/^\s+$/.test(M)&&
(D.end.column=M.length))}Q&&(D=Q)}this.session.remove(D);this.clearSelection()};this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.session.remove(this.getSelectionRange());
this.clearSelection()};this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var D=this.getSelectionRange();D.start.column==D.end.column&&D.start.row==D.end.row&&(D.end.column=0,D.end.row++);this.session.remove(D);this.clearSelection()};this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var D=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(D)};this.transposeLetters=function(){if(this.selection.isEmpty()){var D=
this.getCursorPosition(),M=D.column;if(0!==M){var Q=this.session.getLine(D.row),G,T;M<Q.length?(G=Q.charAt(M)+Q.charAt(M-1),T=new n(D.row,M-1,D.row,M+1)):(G=Q.charAt(M-1)+Q.charAt(M-2),T=new n(D.row,M-2,D.row,M));this.session.replace(T,G);this.session.selection.moveToPosition(T.end)}}};this.toLowerCase=function(){var D=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),Q=this.session.getTextRange(M);this.session.replace(M,Q.toLowerCase());
this.selection.setSelectionRange(D)};this.toUpperCase=function(){var D=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),Q=this.session.getTextRange(M);this.session.replace(M,Q.toUpperCase());this.selection.setSelectionRange(D)};this.indent=function(){var D=this.session,M=this.getSelectionRange();if(M.start.row<M.end.row)M=this.$getSelectedRows(),D.indentRows(M.first,M.last,"\t");else{if(M.start.column<M.end.column){var Q=D.getTextRange(M);
if(!/^\s+$/.test(Q)){M=this.$getSelectedRows();D.indentRows(M.first,M.last,"\t");return}}Q=D.getLine(M.start.row);var G=M.start,T=D.getTabSize();D=D.documentToScreenColumn(G.row,G.column);if(this.session.getUseSoftTabs())M=f.stringRepeat(" ",T-D%T);else{for(D%=T;" "==Q[M.start.column-1]&&D;)M.start.column--,D--;this.selection.setSelectionRange(M);M="\t"}return this.insert(M)}};this.blockIndent=function(){var D=this.$getSelectedRows();this.session.indentRows(D.first,D.last,"\t")};this.blockOutdent=
function(){var D=this.session.getSelection();this.session.outdentRows(D.getRange())};this.sortLines=function(){for(var D=this.$getSelectedRows(),M=this.session,Q=[],G=D.first;G<=D.last;G++)Q.push(M.getLine(G));Q.sort(function(R,ca){return R.toLowerCase()<ca.toLowerCase()?-1:R.toLowerCase()>ca.toLowerCase()?1:0});var T=new n(0,0,0,0);for(G=D.first;G<=D.last;G++){var S=M.getLine(G);T.start.row=G;T.end.row=G;T.end.column=S.length;M.replace(T,Q[G-D.first])}};this.toggleCommentLines=function(){var D=this.session.getState(this.getCursorPosition().row),
M=this.$getSelectedRows();this.session.getMode().toggleCommentLines(D,this.session,M.first,M.last)};this.toggleBlockComment=function(){var D=this.getCursorPosition(),M=this.session.getState(D.row),Q=this.getSelectionRange();this.session.getMode().toggleBlockComment(M,this.session,Q,D)};this.getNumberAt=function(D,M){var Q=/[\-]?[0-9]+(?:\.[0-9]+)?/g;Q.lastIndex=0;for(D=this.session.getLine(D);Q.lastIndex<M;){var G=Q.exec(D);if(G.index<=M&&G.index+G[0].length>=M)return{value:G[0],start:G.index,end:G.index+
G[0].length}}return null};this.modifyNumber=function(D){var M=this.selection.getCursor().row,Q=this.selection.getCursor().column,G=new n(M,Q-1,M,Q);G=this.session.getTextRange(G);if(!isNaN(parseFloat(G))&&isFinite(G)&&(G=this.getNumberAt(M,Q))){var T=0<=G.value.indexOf(".")?G.start+G.value.indexOf(".")+1:G.end,S=G.start+G.value.length-T,R=parseFloat(G.value);R*=Math.pow(10,S);T!==G.end&&Q<T?D*=Math.pow(10,G.end-Q-1):D*=Math.pow(10,G.end-Q);R=(R+D)/Math.pow(10,S);D=R.toFixed(S);T=new n(M,G.start,M,
G.end);this.session.replace(T,D);this.moveCursorTo(M,Math.max(G.start+1,Q+D.length-G.value.length))}};this.removeLines=function(){var D=this.$getSelectedRows();this.session.removeFullLines(D.first,D.last);this.clearSelection()};this.duplicateSelection=function(){var D=this.selection,M=this.session,Q=D.getRange(),G=D.isBackwards();if(Q.isEmpty())D=Q.start.row,M.duplicateLines(D,D);else{var T=G?Q.start:Q.end;M=M.insert(T,M.getTextRange(Q),!1);Q.start=T;Q.end=M;D.setSelectionRange(Q,G)}};this.moveLinesDown=
function(){this.$moveLines(1,!1)};this.moveLinesUp=function(){this.$moveLines(-1,!1)};this.moveText=function(D,M,Q){return this.session.moveText(D,M,Q)};this.copyLinesUp=function(){this.$moveLines(-1,!0)};this.copyLinesDown=function(){this.$moveLines(1,!0)};this.$moveLines=function(D,M){var Q=this.selection;if(!Q.inMultiSelectMode||this.inVirtualSelectionMode){var G=Q.toOrientedRange();var T=this.$getSelectedRows(G);var S=this.session.$moveLines(T.first,T.last,M?0:D);M&&-1==D&&(S=0);G.moveBy(S,0);
Q.fromOrientedRange(G)}else{G=Q.rangeList.ranges;Q.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;var R=0;S=0;for(var ca=G.length,ha=0;ha<ca;ha++){var ra=ha;G[ha].moveBy(R,0);T=this.$getSelectedRows(G[ha]);R=T.first;for(T=T.last;++ha<ca;){S&&G[ha].moveBy(S,0);var Ia=this.$getSelectedRows(G[ha]);if(M&&Ia.first!=T)break;if(!M&&Ia.first>T+1)break;T=Ia.last}ha--;R=this.session.$moveLines(R,T,M?0:D);for(M&&-1==D&&(ra=ha+1);ra<=ha;)G[ra].moveBy(R,0),ra++;M||(R=0);S+=R}Q.fromOrientedRange(Q.ranges[0]);
Q.rangeList.attach(this.session);this.inVirtualSelectionMode=!1}};this.$getSelectedRows=function(D){return D=(D||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(D.start.row),last:this.session.getRowFoldEnd(D.end.row)}};this.onCompositionStart=function(D){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(D){this.renderer.setCompositionText(D)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=
function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(D){return D>=this.getFirstVisibleRow()&&D<=this.getLastVisibleRow()};this.isRowFullyVisible=function(D){return D>=this.renderer.getFirstFullyVisibleRow()&&D<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(D,M){var Q=
this.renderer,G=this.renderer.layerConfig,T=D*Math.floor(G.height/G.lineHeight);this.$blockScrolling++;!0===M?this.selection.$moveSelection(function(){this.moveCursorBy(T,0)}):!1===M&&(this.selection.moveCursorBy(T,0),this.selection.clearSelection());this.$blockScrolling--;D=Q.scrollTop;Q.scrollBy(0,T*G.lineHeight);null!=M&&Q.scrollCursorIntoView(null,.5);Q.animateScrolling(D)};this.selectPageDown=function(){this.$moveByPage(1,!0)};this.selectPageUp=function(){this.$moveByPage(-1,!0)};this.gotoPageDown=
function(){this.$moveByPage(1,!1)};this.gotoPageUp=function(){this.$moveByPage(-1,!1)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(D){this.renderer.scrollToRow(D)};this.scrollToLine=function(D,M,Q,G){this.renderer.scrollToLine(D,M,Q,G)};this.centerSelection=function(){var D=this.getSelectionRange();this.renderer.alignCursor({row:Math.floor(D.start.row+(D.end.row-D.start.row)/2),column:Math.floor(D.start.column+(D.end.column-
D.start.column)/2)},.5)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();--this.$blockScrolling};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(D,M){this.selection.moveCursorTo(D,
M)};this.moveCursorToPosition=function(D){this.selection.moveCursorToPosition(D)};this.jumpToMatching=function(D,M){var Q=this.getCursorPosition(),G=new v(this.session,Q.row,Q.column),T=G.getCurrentToken(),S=T||G.stepForward();if(S){var R,ca=!1,ha={},ra=Q.column-S.start,Ia={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(S.value.match(/[{}()\[\]]/g))for(;ra<S.value.length&&!ca;ra++){if(Ia[S.value[ra]]){var ja=Ia[S.value[ra]]+"."+S.type.replace("rparen","lparen");isNaN(ha[ja])&&(ha[ja]=0);switch(S.value[ra]){case "(":case "[":case "{":ha[ja]++;
break;case ")":case "]":case "}":ha[ja]--,-1===ha[ja]&&(R="bracket",ca=!0)}}}else S&&-1!==S.type.indexOf("tag-name")&&(isNaN(ha[S.value])&&(ha[S.value]=0),"<"===T.value?ha[S.value]++:"</"===T.value&&ha[S.value]--,-1===ha[S.value]&&(R="tag",ca=!0));ca||(T=S,S=G.stepForward(),ra=0)}while(S&&!ca);if(R){if("bracket"===R){var ma=this.session.getBracketRange(Q);if(!ma){ma=new n(G.getCurrentTokenRow(),G.getCurrentTokenColumn()+ra-1,G.getCurrentTokenRow(),G.getCurrentTokenColumn()+ra-1);var Aa=ma.start;if(M||
Aa.row===Q.row&&2>Math.abs(Aa.column-Q.column))ma=this.session.getBracketRange(Aa)}}else if("tag"===R){if(!S||-1===S.type.indexOf("tag-name"))return;R=S.value;ma=new n(G.getCurrentTokenRow(),G.getCurrentTokenColumn()-2,G.getCurrentTokenRow(),G.getCurrentTokenColumn()-2);if(0===ma.compare(Q.row,Q.column)){ca=!1;do S=T,(T=G.stepBackward())&&(-1!==T.type.indexOf("tag-close")&&ma.setEnd(G.getCurrentTokenRow(),G.getCurrentTokenColumn()+1),S.value===R&&-1!==S.type.indexOf("tag-name")&&("<"===T.value?ha[R]++:
"</"===T.value&&ha[R]--,0===ha[R]&&(ca=!0)));while(T&&!ca)}S&&S.type.indexOf("tag-name")&&(Aa=ma.start,Aa.row==Q.row&&2>Math.abs(Aa.column-Q.column)&&(Aa=ma.end))}(Aa=ma&&ma.cursor||Aa)&&(D?ma&&M?this.selection.setRange(ma):ma&&ma.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Aa.row,Aa.column):this.selection.moveTo(Aa.row,Aa.column))}}};this.gotoLine=function(D,M,Q){this.selection.clearSelection();this.session.unfold({row:D-1,column:M||0});this.$blockScrolling+=1;
this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(D-1,M||0);--this.$blockScrolling;this.isRowFullyVisible(D-1)||this.scrollToLine(D-1,!0,Q)};this.navigateTo=function(D,M){this.selection.moveTo(D,M)};this.navigateUp=function(D){if(this.selection.isMultiLine()&&!this.selection.isBackwards())return D=this.selection.anchor.getPosition(),this.moveCursorToPosition(D);this.selection.clearSelection();this.selection.moveCursorBy(-D||-1,0)};this.navigateDown=function(D){if(this.selection.isMultiLine()&&
this.selection.isBackwards())return D=this.selection.anchor.getPosition(),this.moveCursorToPosition(D);this.selection.clearSelection();this.selection.moveCursorBy(D||1,0)};this.navigateLeft=function(D){if(this.selection.isEmpty())for(D=D||1;D--;)this.selection.moveCursorLeft();else D=this.getSelectionRange().start,this.moveCursorToPosition(D);this.clearSelection()};this.navigateRight=function(D){if(this.selection.isEmpty())for(D=D||1;D--;)this.selection.moveCursorRight();else D=this.getSelectionRange().end,
this.moveCursorToPosition(D);this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};
this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(D,M){M&&this.$search.set(M);M=this.$search.find(this.session);var Q=0;return M?(this.$tryReplace(M,D)&&(Q=1),null!==M&&(this.selection.setSelectionRange(M),this.renderer.scrollSelectionIntoView(M.start,M.end)),Q):Q};this.replaceAll=function(D,M){M&&this.$search.set(M);M=this.$search.findAll(this.session);var Q=0;if(!M.length)return Q;this.$blockScrolling+=1;var G=this.getSelectionRange();
this.selection.moveTo(0,0);for(var T=M.length-1;0<=T;--T)this.$tryReplace(M[T],D)&&Q++;return this.selection.setSelectionRange(G),--this.$blockScrolling,Q};this.$tryReplace=function(D,M){var Q=this.session.getTextRange(D);return M=this.$search.replace(Q,M),null!==M?(D.end=this.session.replace(D,M),D):null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(D,M,Q){M||={};"string"==typeof D||D instanceof RegExp?M.needle=D:"object"==typeof D&&a.mixin(M,D);var G=
this.selection.getRange();null==M.needle&&(D=this.session.getTextRange(G)||this.$search.$options.needle,D||(G=this.session.getWordRange(G.start.row,G.start.column),D=this.session.getTextRange(G)),this.$search.set({needle:D}));this.$search.set(M);M.start||this.$search.set({start:G});D=this.$search.find(this.session);if(M.preventScroll)return D;if(D)return this.revealRange(D,Q),D;M.backwards?G.start=G.end:G.end=G.start;this.selection.setRange(G)};this.findNext=function(D,M){this.find({skipCurrent:!0,
backwards:!1},D,M)};this.findPrevious=function(D,M){this.find(D,{skipCurrent:!0,backwards:!0},M)};this.revealRange=function(D,M){this.$blockScrolling+=1;this.session.unfold(D);this.selection.setSelectionRange(D);--this.$blockScrolling;var Q=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(D.start,D.end,.5);!1!==M&&this.renderer.animateScrolling(Q)};this.undo=function(){this.$blockScrolling++;this.session.getUndoManager().undo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,
.5)};this.redo=function(){this.$blockScrolling++;this.session.getUndoManager().redo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.renderer.destroy();this._signal("destroy",this);this.session&&this.session.destroy()};this.setAutoScrollEditorIntoView=function(D){if(D){var M,Q=this,G=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var T=this.$scrollAnchor;T.style.cssText="position:absolute";this.container.insertBefore(T,this.container.firstChild);
var S=this.on("changeSelection",function(){G=!0}),R=this.renderer.on("beforeRender",function(){G&&(M=Q.renderer.container.getBoundingClientRect())}),ca=this.renderer.on("afterRender",function(){if(G&&M&&(Q.isFocused()||Q.searchBox&&Q.searchBox.isFocused())){var ha=Q.renderer,ra=ha.$cursorLayer.$pixelPos;ha=ha.layerConfig;var Ia=ra.top-ha.offset;0<=ra.top&&0>Ia+M.top?G=!0:ra.top<ha.height&&ra.top+M.top+ha.lineHeight>window.innerHeight?G=!1:G=null;null!=G&&(T.style.top=Ia+"px",T.style.left=ra.left+
"px",T.style.height=ha.lineHeight+"px",T.scrollIntoView(G));G=M=null}});this.setAutoScrollEditorIntoView=function(ha){ha||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",S),this.renderer.off("afterRender",ca),this.renderer.off("beforeRender",R))}}};this.$resetCursorStyle=function(){var D=this.$cursorStyle||"ace",M=this.renderer.$cursorLayer;M&&(M.setSmoothBlinking(/smooth/.test(D)),M.isBlinking=!this.$readOnly&&"wide"!=D,h.setCssClass(M.element,"ace_slim-cursors",/slim/.test(D)))}}).call(K.prototype);
J.defineOptions(K.prototype,"editor",{selectionStyle:{set:function(D){this.onSelectionChange();this._signal("changeSelectionStyle",{data:D})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(D){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(D){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(D){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},
mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(D){this.setAutoScrollEditorIntoView(D)}},keyboardHandler:{set:function(D){this.setKeyboardHandler(D)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",
printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",
overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});N.Editor=K});
define("ace/undomanager",["require","exports","module"],function(d,N,X){d=function(){this.reset()};(function(){function a(g){return{action:g.action,start:g.start,end:g.end,lines:1==g.lines.length?null:g.lines,text:1==g.lines.length?g.lines[0]:null}}function h(g){return{action:g.action,start:g.start,end:g.end,lines:g.lines||[g.text]}}function f(g,e){for(var m=Array(g.length),p=0;p<g.length;p++){for(var u=g[p],c={group:u.group,deltas:Array(u.length)},l=0;l<u.deltas.length;l++)c.deltas[l]=e(u.deltas[l]);
m[p]=c}return m}this.execute=function(g){var e=g.args[0];this.$doc=g.args[1];g.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e));this.$undoStack.push(e);this.$redoStack=[];0>this.dirtyCounter&&(this.dirtyCounter=NaN);this.dirtyCounter++};this.undo=function(g){var e=this.$undoStack.pop(),m=null;return e&&(m=this.$doc.undoChanges(e,g),this.$redoStack.push(e),this.dirtyCounter--),m};this.redo=function(g){var e=this.$redoStack.pop(),m=null;return e&&(m=this.$doc.redoChanges(this.$deserializeDeltas(e),
g),this.$undoStack.push(e),this.dirtyCounter++),m};this.reset=function(){this.$undoStack=[];this.$redoStack=[];this.dirtyCounter=0};this.hasUndo=function(){return 0<this.$undoStack.length};this.hasRedo=function(){return 0<this.$redoStack.length};this.markClean=function(){this.dirtyCounter=0};this.isClean=function(){return 0===this.dirtyCounter};this.$serializeDeltas=function(g){return f(g,a)};this.$deserializeDeltas=function(g){return f(g,h)}}).call(d.prototype);N.UndoManager=d});
define("ace/layer/gutter","require exports module ace/lib/dom ace/lib/oop ace/lib/lang ace/lib/event_emitter".split(" "),function(d,N,X){var a=d("../lib/dom"),h=d("../lib/oop"),f=d("../lib/lang"),g=d("../lib/event_emitter").EventEmitter;d=function(e){this.element=a.createElement("div");this.element.className="ace_layer ace_gutter-layer";e.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);
this.$cells=[]};(function(){h.implement(this,g);this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations);(this.session=e)&&e.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(e,m){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(e,m)};this.removeGutterDecoration=function(e,m){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration");
this.session.removeGutterDecoration(e,m)};this.setAnnotations=function(e){this.$annotations=[];for(var m=0;m<e.length;m++){var p=e[m],u=p.row,c=this.$annotations[u];c||=this.$annotations[u]={text:[]};u=(u=p.text)?f.escapeHTML(u):p.html||"";-1===c.text.indexOf(u)&&c.text.push(u);p=p.type;"error"==p?c.className=" ace_error":"warning"==p&&" ace_error"!=c.className?c.className=" ace_warning":"info"==p&&!c.className&&(c.className=" ace_info")}};this.$updateAnnotations=function(e){if(this.$annotations.length){var m=
e.start.row,p=e.end.row-m;0!==p&&("remove"==e.action?this.$annotations.splice(m,p+1,null):(e=Array(p+1),e.unshift(m,1),this.$annotations.splice.apply(this.$annotations,e)))}};this.update=function(e){for(var m=this.session,p=e.firstRow,u=Math.min(e.lastRow+e.gutterOffset,m.getLength()-1),c=m.getNextFoldLine(p),l=c?c.start.row:Infinity,n=this.$showFoldWidgets&&m.foldWidgets,w=m.$breakpoints,z=m.$decorations,x=m.$firstLineNumber,J=0,v=m.gutterRenderer||this.$renderer,K=-1,D=p;;){D>l&&(D=c.end.row+1,
c=m.getNextFoldLine(D,c),l=c?c.start.row:Infinity);if(D>u){for(;this.$cells.length>K+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}(p=this.$cells[++K])||(p={element:null,textNode:null,foldWidget:null},p.element=a.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[K]=p);J="ace_gutter-cell ";w[D]&&(J+=w[D]);z[D]&&(J+=z[D]);this.$annotations[D]&&(J+=this.$annotations[D].className);p.element.className!=
J&&(p.element.className=J);J=m.getRowLength(D)*e.lineHeight+"px";J!=p.element.style.height&&(p.element.style.height=J);if(n){var M=n[D];null==M&&(M=n[D]=m.getFoldWidget(D))}M?(p.foldWidget||(p.foldWidget=a.createElement("span"),p.element.appendChild(p.foldWidget)),J="ace_fold-widget ace_"+M,"start"==M&&D==l&&D<c.end.row?J+=" ace_closed":J+=" ace_open",p.foldWidget.className!=J&&(p.foldWidget.className=J),J=e.lineHeight+"px",p.foldWidget.style.height!=J&&(p.foldWidget.style.height=J)):p.foldWidget&&
(p.element.removeChild(p.foldWidget),p.foldWidget=null);var Q=J=v?v.getText(m,D):D+x;Q!==p.textNode.data&&(p.textNode.data=Q);D++}this.element.style.height=e.minHeight+"px";if(this.$fixedWidth||m.$useWrapMode)J=m.getLength()+x;e=v?v.getWidth(m,J,e):J.toString().length*e.characterWidth;m=this.$padding||this.$computePadding();e+=m.left+m.right;e!==this.gutterWidth&&!isNaN(e)&&(this.gutterWidth=e,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",e))};this.$fixedWidth=
!1;this.$showLineNumbers=!0;this.$renderer="";this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=!0;this.setShowFoldWidgets=function(e){e?a.addCssClass(this.element,"ace_folding-enabled"):a.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=e;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};
this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=a.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding};this.getRegion=function(e){var m=this.$padding||this.$computePadding(),p=this.element.getBoundingClientRect();if(e.x<m.left+p.left)return"markers";if(this.$showFoldWidgets&&e.x>p.right-m.right)return"foldWidgets"}}).call(d.prototype);N.Gutter=
d});
define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(d,N,X){var a=d("../range").Range,h=d("../lib/dom");d=function(f){this.element=h.createElement("div");this.element.className="ace_layer ace_marker-layer";f.appendChild(this.element)};(function(){this.$padding=0;this.setPadding=function(f){this.$padding=f};this.setSession=function(f){this.session=f};this.setMarkers=function(f){this.markers=f};this.update=function(f){if(f){this.config=f;var g=[],e;for(e in this.markers){var m=this.markers[e];
if(m.range){var p=m.range.clipRows(f.firstRow,f.lastRow);if(!p.isEmpty())if(p=p.toScreenRange(this.session),m.renderer){var u=this.$getTop(p.start.row,f),c=this.$padding+(this.session.$bidiHandler.isBidiRow(p.start.row)?this.session.$bidiHandler.getPosLeft(p.start.column):p.start.column*f.characterWidth);m.renderer(g,p,c,u,f)}else"fullLine"==m.type?this.drawFullLineMarker(g,p,m.clazz,f):"screenLine"==m.type?this.drawScreenLineMarker(g,p,m.clazz,f):p.isMultiLine()?"text"==m.type?this.drawTextMarker(g,
p,m.clazz,f):this.drawMultiLineMarker(g,p,m.clazz,f):this.session.$bidiHandler.isBidiRow(p.start.row)?this.drawBidiSingleLineMarker(g,p,m.clazz+" ace_start ace_br15",f):this.drawSingleLineMarker(g,p,m.clazz+" ace_start ace_br15",f)}else m.update(g,this,this.session,f)}this.element.innerHTML=g.join("")}};this.$getTop=function(f,g){return(f-g.firstRowScreen)*g.lineHeight};this.drawTextMarker=function(f,g,e,m,p){for(var u=this.session,c=g.start.row,l=g.end.row,n=c,w,z=0,x=u.getScreenLastRowColumn(n),
J=new a(n,g.start.column,n,z);n<=l;n++)J.start.row=J.end.row=n,J.start.column=n==c?g.start.column:u.getRowWrapIndent(n),J.end.column=x,w=z,z=x,x=n+1<l?u.getScreenLastRowColumn(n+1):n==l?0:g.end.column,w=e+(n==c?" ace_start":"")+" ace_br"+((n==c||n==c+1&&g.start.column?1:0)|(w<z?2:0)|(z>x?4:0)|(n==l?8:0)),this.session.$bidiHandler.isBidiRow(n)?this.drawBidiSingleLineMarker(f,J,w,m,n==l?0:1,p):this.drawSingleLineMarker(f,J,w,m,n==l?0:1,p)};this.drawMultiLineMarker=function(f,g,e,m,p){var u=this.$padding;
p=p||"";if(this.session.$bidiHandler.isBidiRow(g.start.row)){var c=g.clone();c.end.row=c.start.row;c.end.column=this.session.getLine(c.start.row).length;this.drawBidiSingleLineMarker(f,c,e+" ace_br1 ace_start",m,null,p)}else{c=m.lineHeight;var l=this.$getTop(g.start.row,m);var n=u+g.start.column*m.characterWidth;f.push("<div class='",e," ace_br1 ace_start' style='","height:",c,"px;","right:0;","top:",l,"px;","left:",n,"px;",p,"'></div>")}this.session.$bidiHandler.isBidiRow(g.end.row)?(c=g.clone(),
c.start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(f,c,e+" ace_br12",m,null,p)):(n=g.end.column*m.characterWidth,c=m.lineHeight,l=this.$getTop(g.end.row,m),f.push("<div class='",e," ace_br12' style='","height:",c,"px;","width:",n,"px;","top:",l,"px;","left:",u,"px;",p,"'></div>"));c=(g.end.row-g.start.row-1)*m.lineHeight;0>=c||(l=this.$getTop(g.start.row+1,m),g=(g.start.column?1:0)|(g.end.column?0:8),f.push("<div class='",e,g?" ace_br"+g:"","' style='","height:",c,"px;","right:0;",
"top:",l,"px;","left:",u,"px;",p,"'></div>"))};this.drawSingleLineMarker=function(f,g,e,m,p,u){var c=m.lineHeight;p=(g.end.column+(p||0)-g.start.column)*m.characterWidth;var l=this.$getTop(g.start.row,m);f.push("<div class='",e,"' style='","height:",c,"px;","width:",p,"px;","top:",l,"px;","left:",this.$padding+g.start.column*m.characterWidth,"px;",u||"","'></div>")};this.drawBidiSingleLineMarker=function(f,g,e,m,p,u){var c=m.lineHeight,l=this.$getTop(g.start.row,m),n=this.$padding;this.session.$bidiHandler.getSelections(g.start.column,
g.end.column).forEach(function(w){f.push("<div class='",e,"' style='","height:",c,"px;","width:",w.width+(p||0),"px;","top:",l,"px;","left:",n+w.left,"px;",u||"","'></div>")})};this.drawFullLineMarker=function(f,g,e,m,p){var u=this.$getTop(g.start.row,m),c=m.lineHeight;g.start.row!=g.end.row&&(c+=this.$getTop(g.end.row,m)-u);f.push("<div class='",e,"' style='","height:",c,"px;","top:",u,"px;","left:0;right:0;",p||"","'></div>")};this.drawScreenLineMarker=function(f,g,e,m,p){g=this.$getTop(g.start.row,
m);f.push("<div class='",e,"' style='","height:",m.lineHeight,"px;","top:",g,"px;","left:0;right:0;",p||"","'></div>")}}).call(d.prototype);N.Marker=d});
define("ace/layer/text","require exports module ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/lib/event_emitter".split(" "),function(d,N,X){var a=d("../lib/oop"),h=d("../lib/dom"),f=d("../lib/lang");d("../lib/useragent");var g=d("../lib/event_emitter").EventEmitter;d=function(e){this.element=h.createElement("div");this.element.className="ace_layer ace_text-layer";e.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){a.implement(this,g);this.EOF_CHAR=
"\u00b6";this.EOL_CHAR_LF="\u00ac";this.EOL_CHAR_CRLF="\u00a4";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="\u2014";this.SPACE_CHAR="\u00b7";this.$padding=0;this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0};this.setPadding=function(e){this.$padding=e;this.element.style.padding="0 "+e+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=
function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(e){this.$fontMetrics=e;this.$fontMetrics.on("changeCharacterSize",function(m){this._signal("changeCharacterSize",m)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(e){(this.session=e)&&this.$computeTabString()};this.showInvisibles=
!1;this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)};this.displayIndentGuides=!0;this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var m=this.$tabStrings=[0],p=1;p<e+1;p++)this.showInvisibles?m.push("<span class='ace_invisible ace_invisible_tab'>"+
f.stringRepeat(this.TAB_CHAR,p)+"</span>"):m.push(f.stringRepeat(" ",p));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;e="ace_indent-guide";p=m="";if(this.showInvisibles){e+=" ace_invisible";m=" ace_invisible_space";p=" ace_invisible_tab";var u=f.stringRepeat(this.SPACE_CHAR,this.tabSize),c=f.stringRepeat(this.TAB_CHAR,this.tabSize)}else c=u=f.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+e+m+"'>"+u+"</span>";this.$tabStrings["\t"]="<span class='"+e+p+
"'>"+c+"</span>"}};this.updateLines=function(e,m,p){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e);this.config=e;var u=Math.max(m,e.firstRow);p=Math.min(p,e.lastRow);m=this.element.childNodes;for(var c=0,l=e.firstRow;l<u;l++){var n=this.session.getFoldLine(l);if(n){if(n.containsRow(u)){u=n.start.row;break}l=n.end.row}c++}l=u;for(u=(n=this.session.getNextFoldLine(l))?n.start.row:Infinity;;){l>u&&(l=n.end.row+1,n=this.session.getNextFoldLine(l,n),u=n?n.start.row:
Infinity);if(l>p)break;var w=m[c++];if(w){var z=[];this.$renderLine(z,l,!this.$useLineGroups(),l==u?n:!1);w.style.height=e.lineHeight*this.session.getRowLength(l)+"px";w.innerHTML=z.join("")}l++}};this.scrollLines=function(e){var m=this.config;this.config=e;if(!m||m.lastRow<e.firstRow||e.lastRow<m.firstRow)return this.update(e);var p=this.element;if(m.firstRow<e.firstRow)for(var u=this.session.getFoldedRowCount(m.firstRow,e.firstRow-1);0<u;u--)p.removeChild(p.firstChild);if(m.lastRow>e.lastRow)for(u=
this.session.getFoldedRowCount(e.lastRow+1,m.lastRow);0<u;u--)p.removeChild(p.lastChild);e.firstRow<m.firstRow&&(u=this.$renderLinesFragment(e,e.firstRow,m.firstRow-1),p.firstChild?p.insertBefore(u,p.firstChild):p.appendChild(u));e.lastRow>m.lastRow&&(u=this.$renderLinesFragment(e,m.lastRow+1,e.lastRow),p.appendChild(u))};this.$renderLinesFragment=function(e,m,p){for(var u=this.element.ownerDocument.createDocumentFragment(),c=this.session.getNextFoldLine(m),l=c?c.start.row:Infinity;;){m>l&&(m=c.end.row+
1,c=this.session.getNextFoldLine(m,c),l=c?c.start.row:Infinity);if(m>p)break;var n=h.createElement("div"),w=[];this.$renderLine(w,m,!1,m==l?c:!1);n.innerHTML=w.join("");if(this.$useLineGroups())n.className="ace_line_group",u.appendChild(n),n.style.height=e.lineHeight*this.session.getRowLength(m)+"px";else for(;n.firstChild;)u.appendChild(n.firstChild);m++}return u};this.update=function(e){this.config=e;for(var m=[],p=e.lastRow,u=e.firstRow,c=this.session.getNextFoldLine(u),l=c?c.start.row:Infinity;;){u>
l&&(u=c.end.row+1,c=this.session.getNextFoldLine(u,c),l=c?c.start.row:Infinity);if(u>p)break;this.$useLineGroups()&&m.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(u),"px'>");this.$renderLine(m,u,!1,u==l?c:!1);this.$useLineGroups()&&m.push("</div>");u++}this.element.innerHTML=m.join("")};this.$textToken={text:!0,rparen:!0,lparen:!0};this.$renderToken=function(e,m,p,u){var c=this,l=u.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
function(z,x,J,v,K){return x?c.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+f.stringRepeat(c.SPACE_CHAR,z.length)+"</span>":z:"&"==z?"&#38;":"<"==z?"&#60;":">"==z?"&#62;":"\t"==z?(z=c.session.getScreenTabSize(m+v),m+=z-1,c.$tabStrings[z]):"\u3000"==z?(z=c.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",x=c.showInvisibles?c.SPACE_CHAR:"",m+=1,"<span class='"+z+"' style='width:"+2*c.config.characterWidth+"px'>"+x+"</span>"):J?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+
c.SPACE_CHAR+"</span>":(m+=1,"<span class='ace_cjk' style='width:"+2*c.config.characterWidth+"px'>"+z+"</span>")});if(this.$textToken[p.type])e.push(l);else{var n="ace_"+p.type.replace(/\./g," ace_"),w="";"fold"==p.type&&(w=" style='width:"+p.value.length*this.config.characterWidth+"px;' ");e.push("<span class='",n,"'",w,">",l,"</span>")}return m+u.length};this.renderIndentGuide=function(e,m,p){var u=m.search(this.$indentGuideRe);return 0>=u||u>=p?m:" "==m[0]?(u-=u%this.tabSize,e.push(f.stringRepeat(this.$tabStrings[" "],
u/this.tabSize)),m.substr(u)):"\t"==m[0]?(e.push(f.stringRepeat(this.$tabStrings["\t"],u)),m.substr(u)):m};this.$renderWrappedLine=function(e,m,p,u){for(var c=0,l=0,n=p[0],w=0,z=0;z<m.length;z++){var x=m[z],J=x.value;if(0==z&&this.displayIndentGuides){c=J.length;J=this.renderIndentGuide(e,J,n);if(!J)continue;c-=J.length}if(c+J.length<n)w=this.$renderToken(e,w,x,J),c+=J.length;else{for(;c+J.length>=n;)this.$renderToken(e,w,x,J.substring(0,n-c)),J=J.substring(n-c),c=n,u||e.push("</div>","<div class='ace_line' style='height:",
this.config.lineHeight,"px'>"),e.push(f.stringRepeat("\u00a0",p.indent)),l++,w=0,n=p[l]||Number.MAX_VALUE;0!=J.length&&(c+=J.length,w=this.$renderToken(e,w,x,J))}}};this.$renderSimpleLine=function(e,m){var p=0,u=m[0],c=u.value;this.displayIndentGuides&&(c=this.renderIndentGuide(e,c));c&&(p=this.$renderToken(e,p,u,c));for(var l=1;l<m.length;l++)u=m[l],c=u.value,p=this.$renderToken(e,p,u,c)};this.$renderLine=function(e,m,p,u){!u&&0!=u&&(u=this.session.getFoldLine(m));var c=u?this.$getFoldLineTokens(m,
u):this.session.getTokens(m);p||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(m)),"px'>");if(c.length){var l=this.session.getRowSplitData(m);l&&l.length?this.$renderWrappedLine(e,c,l,p):this.$renderSimpleLine(e,c)}this.showInvisibles&&(u&&(m=u.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",m==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>"));p||e.push("</div>")};this.$getFoldLineTokens=function(e,
m){var p=this.session,u=[],c=p.getTokens(e);return m.walk(function(l,n,w,z,x){if(null!=l)u.push({type:"fold",value:l});else if(x&&(c=p.getTokens(n)),c.length)a:{l=c;for(x=n=0;x+l[n].value.length<z;)if(x+=l[n].value.length,n++,n==l.length)break a;if(x!=z){var J=l[n].value.substring(z-x);J.length>w-z&&(J=J.substring(0,w-z));u.push({type:l[n].type,value:J});x=z+J.length;n+=1}for(;x<w&&n<l.length;)J=l[n].value,J.length+x>w?u.push({type:l[n].type,value:J.substring(0,w-x)}):u.push(l[n]),x+=J.length,n+=
1}},m.end.row,this.session.getLine(m.end.row).length),u};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode);delete this.$measureNode}}).call(d.prototype);N.Text=d});
define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(d,N,X){var a=d("../lib/dom"),h;d=function(f){this.element=a.createElement("div");this.element.className="ace_layer ace_cursor-layer";f.appendChild(this.element);void 0===h&&(h=!("opacity"in this.element.style));this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1E3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();a.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=(h?this.$updateVisibility:
this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(f){for(var g=this.cursors,e=g.length;e--;)g[e].style.visibility=f?"":"hidden"};this.$updateOpacity=function(f){for(var g=this.cursors,e=g.length;e--;)g[e].style.opacity=f?"":"0"};this.$padding=0;this.setPadding=function(f){this.$padding=f};this.setSession=function(f){this.session=f};this.setBlinking=function(f){f!=this.isBlinking&&(this.isBlinking=f,this.restartTimer())};this.setBlinkInterval=function(f){f!=this.blinkInterval&&
(this.blinkInterval=f,this.restartTimer())};this.setSmoothBlinking=function(f){f!=this.smoothBlinking&&!h&&(this.smoothBlinking=f,a.setCssClass(this.element,"ace_smooth-blinking",f),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())};this.addCursor=function(){var f=a.createElement("div");return f.className="ace_cursor",this.element.appendChild(f),this.cursors.push(f),f};this.removeCursor=function(){if(1<this.cursors.length){var f=this.cursors.pop();return f.parentNode.removeChild(f),
f}};this.hideCursor=function(){this.isVisible=!1;a.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=!0;a.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var f=this.$updateCursors;clearInterval(this.intervalId);clearTimeout(this.timeoutId);this.smoothBlinking&&a.removeCssClass(this.element,"ace_smooth-blinking");f(!0);if(this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&
setTimeout(function(){a.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var g=function(){this.timeoutId=setTimeout(function(){f(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){f(!0);g()},this.blinkInterval);g()}};this.getPixelPosition=function(f,g){if(!this.config||!this.session)return{left:0,top:0};f||=this.session.selection.getCursor();var e=this.session.documentToScreenPosition(f);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(e.row,f.row)?
this.session.$bidiHandler.getPosLeft(e.column):e.column*this.config.characterWidth),top:(e.row-(g?this.config.firstRowScreen:0))*this.config.lineHeight}};this.update=function(f){this.config=f;var g=this.session.$selectionMarkers,e=0;if(void 0===g||0===g.length)g=[{cursor:null}];var m=0;for(var p=g.length;m<p;m++){var u=this.getPixelPosition(g[m].cursor,!0);if(!((u.top>f.height+f.offset||0>u.top)&&1<m)){var c=(this.cursors[e++]||this.addCursor()).style;this.drawCursor?this.drawCursor(c,u,f,g[m],this.session):
(c.left=u.left+"px",c.top=u.top+"px",c.width=f.characterWidth+"px",c.height=f.lineHeight+"px")}}for(;this.cursors.length>e;)this.removeCursor();f=this.session.getOverwrite();this.$setOverwrite(f);this.$pixelPos=u;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(f){f!=this.overwrite&&(this.overwrite=f,f?a.addCssClass(this.element,"ace_overwrite-cursors"):a.removeCssClass(this.element,"ace_overwrite-cursors"))};this.destroy=function(){clearInterval(this.intervalId);clearTimeout(this.timeoutId)}}).call(d.prototype);
N.Cursor=d});
define("ace/scrollbar","require exports module ace/lib/oop ace/lib/dom ace/lib/event ace/lib/event_emitter".split(" "),function(d,N,X){var a=d("./lib/oop"),h=d("./lib/dom"),f=d("./lib/event"),g=d("./lib/event_emitter").EventEmitter,e=function(m){this.element=h.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=h.createElement("div");this.inner.className="ace_scrollbar-inner";this.element.appendChild(this.inner);m.appendChild(this.element);this.setVisible(!1);
this.skipEvent=!1;f.addListener(this.element,"scroll",this.onScroll.bind(this));f.addListener(this.element,"mousedown",f.preventDefault)};(function(){a.implement(this,g);this.setVisible=function(m){this.element.style.display=m?"":"none";this.isVisible=m;this.coeff=1}}).call(e.prototype);d=function(m,p){e.call(this,m);this.scrollHeight=this.scrollTop=0;p.$scrollbarWidth=this.width=h.scrollbarWidth(m.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px";this.$minWidth=
0};a.inherits(d,e);(function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(1!=this.coeff){var m=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-m)/(this.coeff-m)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1};this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)};this.setHeight=function(m){this.element.style.height=m+"px"};this.setInnerHeight=this.setScrollHeight=
function(m){this.scrollHeight=m;32768<m?(this.coeff=32768/m,m=32768):1!=this.coeff&&(this.coeff=1);this.inner.style.height=m+"px"};this.setScrollTop=function(m){this.scrollTop!=m&&(this.skipEvent=!0,this.scrollTop=m,this.element.scrollTop=m*this.coeff)}}).call(d.prototype);X=function(m,p){e.call(this,m);this.scrollLeft=0;this.height=p.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};a.inherits(X,e);(function(){this.classSuffix="-h";this.onScroll=function(){this.skipEvent||
(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft}));this.skipEvent=!1};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(m){this.element.style.width=m+"px"};this.setInnerWidth=function(m){this.inner.style.width=m+"px"};this.setScrollWidth=function(m){this.inner.style.width=m+"px"};this.setScrollLeft=function(m){this.scrollLeft!=m&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=m)}}).call(X.prototype);N.ScrollBar=d;N.ScrollBarV=
d;N.ScrollBarH=X;N.VScrollBar=d;N.HScrollBar=X});define("ace/renderloop",["require","exports","module","ace/lib/event"],function(d,N,X){var a=d("./lib/event");d=function(h,f){this.onRender=h;this.pending=!1;this.changes=0;this.window=f||window};(function(){this.schedule=function(h){this.changes|=h;if(!this.pending&&this.changes){this.pending=!0;var f=this;a.nextFrame(function(){f.pending=!1;for(var g;g=f.changes;)f.changes=0,f.onRender(g)},this.window)}}}).call(d.prototype);N.RenderLoop=d});
define("ace/layer/font_metrics","require exports module ace/lib/oop ace/lib/dom ace/lib/lang ace/lib/useragent ace/lib/event_emitter".split(" "),function(d,N,X){var a=d("../lib/oop"),h=d("../lib/dom"),f=d("../lib/lang"),g=d("../lib/useragent"),e=d("../lib/event_emitter").EventEmitter,m=0;d=N.FontMetrics=function(p){this.el=h.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=h.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=h.createElement("div");
this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);p.appendChild(this.el);m||this.$testFractionalRect();this.$measureNode.innerHTML=f.stringRepeat("X",m);this.$characterSize={width:0,height:0};this.checkForSizeChanges()};(function(){a.implement(this,e);this.$characterSize={width:0,height:0};this.$testFractionalRect=function(){var p=h.createElement("div");this.$setMeasureNodeStyles(p.style);p.style.width="0.2px";document.documentElement.appendChild(p);
var u=p.getBoundingClientRect().width;0<u&&1>u?m=50:m=100;p.parentNode.removeChild(p)};this.$setMeasureNodeStyles=function(p,u){p.width=p.height="auto";p.left=p.top="0px";p.visibility="hidden";p.position="absolute";p.whiteSpace="pre";8>g.isIE?p["font-family"]="inherit":p.font="inherit";p.overflow=u?"hidden":"visible"};this.checkForSizeChanges=function(){var p=this.$measureSizes();if(p&&(this.$characterSize.width!==p.width||this.$characterSize.height!==p.height)){this.$measureNode.style.fontWeight=
"bold";var u=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=p;this.charSizes=Object.create(null);this.allowBoldFonts=u&&u.width===p.width&&u.height===p.height;this._emit("changeCharacterSize",{data:p})}};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var p=this;return this.$pollSizeChangesTimer=setInterval(function(){p.checkForSizeChanges()},500)};this.setPolling=function(p){p?this.$pollSizeChanges():this.$pollSizeChangesTimer&&
(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)};this.$measureSizes=function(){if(50===m){var p=null;try{p=this.$measureNode.getBoundingClientRect()}catch(u){p={width:0,height:0}}p={height:p.height,width:p.width/m}}else p={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/m};return 0===p.width||0===p.height?null:p};this.$measureCharWidth=function(p){this.$main.innerHTML=f.stringRepeat(p,m);return this.$main.getBoundingClientRect().width/m};this.getCharacterWidth=
function(p){var u=this.charSizes[p];return void 0===u&&(u=this.charSizes[p]=this.$measureCharWidth(p)/this.$characterSize.width),u};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(d.prototype)});
define("ace/virtual_renderer","require exports module ace/lib/oop ace/lib/dom ace/config ace/lib/useragent ace/layer/gutter ace/layer/marker ace/layer/text ace/layer/cursor ace/scrollbar ace/scrollbar ace/renderloop ace/layer/font_metrics ace/lib/event_emitter".split(" "),function(d,N,X){var a=d("./lib/oop"),h=d("./lib/dom"),f=d("./config"),g=d("./lib/useragent"),e=d("./layer/gutter").Gutter,m=d("./layer/marker").Marker,p=d("./layer/text").Text,u=d("./layer/cursor").Cursor,c=d("./scrollbar").HScrollBar,
l=d("./scrollbar").VScrollBar,n=d("./renderloop").RenderLoop,w=d("./layer/font_metrics").FontMetrics,z=d("./lib/event_emitter").EventEmitter;h.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 1;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',
"ace_editor.css");d=function(x,J){var v=this;this.container=x||h.createElement("div");this.$keepTextAreaAtCursor=!g.isOldIE;h.addCssClass(this.container,"ace_editor");this.setTheme(J);this.$gutter=h.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden",!0);this.scroller=h.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=h.createElement("div");this.content.className=
"ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new e(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new m(this.content);this.canvas=(this.$textLayer=new p(this.content)).element;this.$markerFront=new m(this.content);this.$cursorLayer=new u(this.content);this.$vScroll=this.$horizScroll=!1;this.scrollBar=this.scrollBarV=new l(this.container,this);this.scrollBarH=new c(this.container,this);this.scrollBarV.addEventListener("scroll",
function(K){v.$scrollAnimation||v.session.setScrollTop(K.data-v.scrollMargin.top)});this.scrollBarH.addEventListener("scroll",function(K){v.$scrollAnimation||v.session.setScrollLeft(K.data-v.scrollMargin.left)});this.scrollLeft=this.scrollTop=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new w(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.addEventListener("changeCharacterSize",function(K){v.updateCharacterSize();v.onResize(!0,v.gutterWidth,v.$size.width,
v.$size.height);v._signal("changeCharacterSize",K)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$loop=new n(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();
this.setPadding(4);f.resetOptions(this);f._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;a.implement(this,z);this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",
!this.$allowBoldFonts));this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin()};this.setSession=function(x){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode);(this.session=x)&&this.scrollMargin.top&&0>=x.getScrollTop()&&x.setScrollTop(-this.scrollMargin.top);this.$cursorLayer.setSession(x);this.$markerBack.setSession(x);this.$markerFront.setSession(x);
this.$gutterLayer.setSession(x);this.$textLayer.setSession(x);x&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))};this.updateLines=function(x,J,v){void 0===J&&(J=Infinity);this.$changedLines?(this.$changedLines.firstRow>x&&(this.$changedLines.firstRow=
x),this.$changedLines.lastRow<J&&(this.$changedLines.lastRow=J)):this.$changedLines={firstRow:x,lastRow:J};if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(!v)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)};this.onChangeTabSize=
function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(x){x?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()};this.onResize=function(x,J,v,K){if(!(2<this.resizing)){0<
this.resizing?this.resizing++:this.resizing=x?1:0;var D=this.container;K||=D.clientHeight||D.scrollHeight;v||=D.clientWidth||D.scrollWidth;J=this.$updateCachedSize(x,J,v,K);if(!this.$size.scrollerHeight||!v&&!K)return this.resizing=0;x&&(this.$gutterLayer.$padding=null);x?this.$renderChanges(J|this.$changes,!0):this.$loop.schedule(J|this.$changes);this.resizing&&(this.resizing=0);this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}};this.$updateCachedSize=function(x,J,v,K){K-=this.$extraHeight||
0;var D=0,M=this.$size,Q={width:M.width,height:M.height,scrollerHeight:M.scrollerHeight,scrollerWidth:M.scrollerWidth};K&&(x||M.height!=K)&&(M.height=K,D|=this.CHANGE_SIZE,M.scrollerHeight=M.height,this.$horizScroll&&(M.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",D|=this.CHANGE_SCROLL);v&&(x||M.width!=v)&&(D|=this.CHANGE_SIZE,M.width=v,null==J&&(J=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=J,this.scrollBarH.element.style.left=
this.scroller.style.left=J+"px",M.scrollerWidth=Math.max(0,v-J-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||x)&&(D|=this.CHANGE_FULL);return M.$dirty=!v||!K,D&&this._signal("resize",Q),D};this.onGutterResize=function(){var x=this.$showGutter?this.$gutter.offsetWidth:0;x!=this.gutterWidth&&(this.$changes|=
this.$updateCachedSize(!0,x,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))};this.adjustWrapLimit=function(){return this.session.adjustWrapLimit(Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth),this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(x){this.setOption("animatedScroll",
x)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(x){this.setOption("showInvisibles",x);this.session.$bidiHandler.setShowInvisibles(x)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(x){this.setOption("displayIndentGuides",x)};this.setShowPrintMargin=function(x){this.setOption("showPrintMargin",x)};this.getShowPrintMargin=
function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(x){this.setOption("printMarginColumn",x)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(x){return this.setOption("showGutter",x)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(x){this.setOption("fadeFoldWidgets",x)};this.setHighlightGutterLine=
function(x){this.setOption("highlightGutterLine",x)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updateGutterLineHighlight=function(){var x=this.$cursorLayer.$pixelPos,J=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var v=this.session.selection.getCursor();v.column=0;x=this.$cursorLayer.getPixelPosition(v,!0);J*=this.session.getRowLength(v.row)}this.$gutterLineHighlight.style.top=x.top-this.layerConfig.offset+"px";this.$gutterLineHighlight.style.height=
J+"px"};this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var x=h.createElement("div");x.className="ace_layer ace_print-margin-layer";this.$printMarginEl=h.createElement("div");this.$printMarginEl.className="ace_print-margin";x.appendChild(this.$printMarginEl);this.content.insertBefore(x,this.content.firstChild)}x=this.$printMarginEl.style;x.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px";x.visibility=this.$showPrintMargin?
"visible":"hidden";this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var x=this.layerConfig,J=this.$cursorLayer.$pixelPos.top,v=this.$cursorLayer.$pixelPos.left;J-=x.offset;var K=this.textarea.style,D=this.lineHeight;if(0>J||J>x.height-D)K.top=
K.left="0";else{x=this.characterWidth;if(this.$composition){var M=this.textarea.value.replace(/^\x01+/,"");x*=this.session.$getStringScreenWidth(M)[0]+2;D+=2}v-=this.scrollLeft;v>this.$size.scrollerWidth-x&&(v=this.$size.scrollerWidth-x);v+=this.gutterWidth;K.height=D+"px";K.width=x+"px";K.left=Math.min(v,this.$size.scrollerWidth-x)+"px";K.top=Math.min(J,this.$size.height-D)+"px"}}};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+
(0===this.layerConfig.offset?0:1)};this.getLastFullyVisibleRow=function(){var x=this.layerConfig,J=x.lastRow;return this.session.documentToScreenRow(J,0)*x.lineHeight-this.session.getScrollTop()>x.height-x.lineHeight?J-1:J};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(x){this.$padding=x;this.$textLayer.setPadding(x);this.$cursorLayer.setPadding(x);this.$markerFront.setPadding(x);this.$markerBack.setPadding(x);this.$loop.schedule(this.CHANGE_FULL);
this.$updatePrintMargin()};this.setScrollMargin=function(x,J,v,K){var D=this.scrollMargin;D.top=x|0;D.bottom=J|0;D.right=K|0;D.left=v|0;D.v=D.top+D.bottom;D.h=D.left+D.right;D.top&&0>=this.scrollTop&&this.session&&this.session.setScrollTop(-D.top);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(x){this.setOption("hScrollBarAlwaysVisible",x)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};
this.setVScrollBarAlwaysVisible=function(x){this.setOption("vScrollBarAlwaysVisible",x)};this.$updateScrollBarV=function(){var x=this.layerConfig.maxHeight,J=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(x-=(J-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>x-J&&(x=this.scrollTop+J,this.scrollBarV.scrollTop=null));this.scrollBarV.setScrollHeight(x+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+
2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=!1;this.freeze=function(){this.$frozen=!0};this.unfreeze=function(){this.$frozen=!1};this.$renderChanges=function(x,J){this.$changes&&(x|=this.$changes,this.$changes=0);if(this.session&&this.container.offsetWidth&&!this.$frozen&&(x||J)){if(this.$size.$dirty)return this.$changes|=x,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges();this._signal("beforeRender");
this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);J=this.layerConfig;if(x&this.CHANGE_FULL||x&this.CHANGE_SIZE||x&this.CHANGE_TEXT||x&this.CHANGE_LINES||x&this.CHANGE_SCROLL||x&this.CHANGE_H_SCROLL)x|=this.$computeLayerConfig(),J.firstRow!=this.layerConfig.firstRow&&J.firstRowScreen==this.layerConfig.firstRowScreen&&(J=this.scrollTop+(J.firstRow-this.layerConfig.firstRow)*this.lineHeight,0<J&&(this.scrollTop=J,x|=this.CHANGE_SCROLL,x|=this.$computeLayerConfig())),
J=this.layerConfig,this.$updateScrollBarV(),x&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-J.offset+"px",this.content.style.marginTop=-J.offset+"px",this.content.style.width=J.width+2*this.$padding+"px",this.content.style.height=J.minHeight+"px";x&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=0>=this.scrollLeft?"ace_scroller":"ace_scroller ace_scroll-left");x&this.CHANGE_FULL?(this.$textLayer.update(J),
this.$showGutter&&this.$gutterLayer.update(J),this.$markerBack.update(J),this.$markerFront.update(J),this.$cursorLayer.update(J),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()):x&this.CHANGE_SCROLL?(x&this.CHANGE_TEXT||x&this.CHANGE_LINES?this.$textLayer.update(J):this.$textLayer.scrollLines(J),this.$showGutter&&this.$gutterLayer.update(J),this.$markerBack.update(J),this.$markerFront.update(J),this.$cursorLayer.update(J),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),
this.$moveTextAreaToCursor()):(x&this.CHANGE_TEXT?(this.$textLayer.update(J),this.$showGutter&&this.$gutterLayer.update(J)):x&this.CHANGE_LINES?(this.$updateLines()||x&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(J):(x&this.CHANGE_TEXT||x&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(J),x&this.CHANGE_CURSOR&&(this.$cursorLayer.update(J),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),x&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&
this.$markerFront.update(J),x&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(J));this._signal("afterRender")}else this.$changes|=x};this.$autosize=function(){var x=this.session.getScreenLength()*this.lineHeight,J=this.$maxLines*this.lineHeight,v=Math.min(J,Math.max((this.$minLines||1)*this.lineHeight,x))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(v+=this.scrollBarH.getHeight());this.$maxPixelHeight&&v>this.$maxPixelHeight&&(v=this.$maxPixelHeight);x=x>J;
if(v!=this.desiredHeight||this.$size.height!=this.desiredHeight||x!=this.$vScroll)x!=this.$vScroll&&(this.$vScroll=x,this.scrollBarV.setVisible(x)),x=this.container.clientWidth,this.container.style.height=v+"px",this.$updateCachedSize(!0,this.$gutterWidth,x,v),this.desiredHeight=v,this._signal("autosize")};this.$computeLayerConfig=function(){var x=this.session,J=this.$size,v=J.height<=2*this.lineHeight,K=this.session.getScreenLength()*this.lineHeight,D=this.$getLongestLine(),M=!v&&(this.$hScrollBarAlwaysVisible||
0>J.scrollerWidth-D-2*this.$padding),Q=this.$horizScroll!==M;Q&&(this.$horizScroll=M,this.scrollBarH.setVisible(M));var G=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();M=this.scrollTop%this.lineHeight;var T=J.scrollerHeight+this.lineHeight,S=!this.$maxLines&&this.$scrollPastEnd?(J.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;K+=S;var R=this.scrollMargin;this.session.setScrollTop(Math.max(-R.top,Math.min(this.scrollTop,K-J.scrollerHeight+R.bottom)));this.session.setScrollLeft(Math.max(-R.left,
Math.min(this.scrollLeft,D+2*this.$padding-J.scrollerWidth+R.right)));S=!v&&(this.$vScrollBarAlwaysVisible||0>J.scrollerHeight-K+S||this.scrollTop>R.top);(v=G!==S)&&(this.$vScroll=S,this.scrollBarV.setVisible(S));G=Math.max(0,Math.round((this.scrollTop-M)/this.lineHeight));S=G+(Math.ceil(T/this.lineHeight)-1);R=this.lineHeight;G=x.screenToDocumentRow(G,0);(M=x.getFoldLine(G))&&(G=M.start.row);var ca=x.documentToScreenRow(G,0);M=x.getRowLength(G)*R;S=Math.min(x.screenToDocumentRow(S,0),x.getLength()-
1);T=J.scrollerHeight+x.getRowLength(S)*R+M;M=this.scrollTop-ca*R;x=0;this.layerConfig.width!=D&&(x=this.CHANGE_H_SCROLL);if(Q||v)x=this.$updateCachedSize(!0,this.gutterWidth,J.width,J.height),this._signal("scrollbarVisibilityChanged"),v&&(D=this.$getLongestLine());return this.layerConfig={width:D,padding:this.$padding,firstRow:G,firstRowScreen:ca,lastRow:S,lineHeight:R,characterWidth:this.characterWidth,minHeight:T,maxHeight:K,offset:M,gutterOffset:R?Math.max(0,Math.ceil((M+J.height-J.scrollerHeight)/
R)):0,height:this.$size.scrollerHeight},x};this.$updateLines=function(){if(this.$changedLines){var x=this.$changedLines.firstRow,J=this.$changedLines.lastRow;this.$changedLines=null;var v=this.layerConfig;if(!(x>v.lastRow+1||J<v.firstRow))if(Infinity===J)this.$showGutter&&this.$gutterLayer.update(v),this.$textLayer.update(v);else return this.$textLayer.updateLines(v,x,J),!0}};this.$getLongestLine=function(){var x=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&
(x+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(x*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(x,J){this.$gutterLayer.addGutterDecoration(x,J)};this.removeGutterDecoration=function(x,J){this.$gutterLayer.removeGutterDecoration(x,
J)};this.updateBreakpoints=function(x){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(x){this.$gutterLayer.setAnnotations(x);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(x,J,v){this.scrollCursorIntoView(x,v);this.scrollCursorIntoView(J,v)};this.scrollCursorIntoView=
function(x,J,v){if(0!==this.$size.scrollerHeight){var K=this.$cursorLayer.getPixelPosition(x);x=K.left;K=K.top;var D=v&&v.top||0;v=v&&v.bottom||0;var M=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;M+D>K?(J&&M+D>K+this.lineHeight&&(K-=J*this.$size.scrollerHeight),0===K&&(K=-this.scrollMargin.top),this.session.setScrollTop(K)):M+this.$size.scrollerHeight-v<K+this.lineHeight&&(J&&M+this.$size.scrollerHeight-v<K-this.lineHeight&&(K+=J*this.$size.scrollerHeight),this.session.setScrollTop(K+
this.lineHeight-this.$size.scrollerHeight));J=this.scrollLeft;J>x?(x<this.$padding+2*this.layerConfig.characterWidth&&(x=-this.scrollMargin.left),this.session.setScrollLeft(x)):J+this.$size.scrollerWidth<x+this.characterWidth?this.session.setScrollLeft(Math.round(x+this.characterWidth-this.$size.scrollerWidth)):J<=this.$padding&&x-J<this.characterWidth&&this.session.setScrollLeft(0)}};this.getScrollTop=function(){return this.session.getScrollTop()};this.getScrollLeft=function(){return this.session.getScrollLeft()};
this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(x){this.session.setScrollTop(x*this.lineHeight)};this.alignCursor=function(x,J){"number"==typeof x&&(x={row:x,column:0});x=this.$cursorLayer.getPixelPosition(x).top-(this.$size.scrollerHeight-this.lineHeight)*(J||0);return this.session.setScrollTop(x),x};this.STEPS=8;this.$calcSteps=
function(x,J){var v,K=this.STEPS,D=[];for(v=0;v<K;++v)D.push((J-x)*(Math.pow(v/this.STEPS-1,3)+1)+x);return D};this.scrollToLine=function(x,J,v,K){x=this.$cursorLayer.getPixelPosition({row:x,column:0}).top;J&&(x-=this.$size.scrollerHeight/2);J=this.scrollTop;this.session.setScrollTop(x);!1!==v&&this.animateScrolling(J,K)};this.animateScrolling=function(x,J){var v=this.scrollTop;if(this.$animatedScroll){var K=this;if(x!=v){if(this.$scrollAnimation){var D=this.$scrollAnimation.steps;if(D.length&&(x=
D[0],x==v))return}var M=K.$calcSteps(x,v);this.$scrollAnimation={from:x,to:v,steps:M};clearInterval(this.$timer);K.session.setScrollTop(M.shift());K.session.$scrollTop=v;this.$timer=setInterval(function(){M.length?(K.session.setScrollTop(M.shift()),K.session.$scrollTop=v):null!=v?(K.session.$scrollTop=-1,K.session.setScrollTop(v),v=null):(K.$timer=clearInterval(K.$timer),K.$scrollAnimation=null,J&&J())},10)}}};this.scrollToY=function(x){this.scrollTop!==x&&(this.$loop.schedule(this.CHANGE_SCROLL),
this.scrollTop=x)};this.scrollToX=function(x){this.scrollLeft!==x&&(this.scrollLeft=x);this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(x,J){this.session.setScrollTop(J);this.session.setScrollLeft(J)};this.scrollBy=function(x,J){J&&this.session.setScrollTop(this.session.getScrollTop()+J);x&&this.session.setScrollLeft(this.session.getScrollLeft()+x)};this.isScrollableBy=function(x,J){if(0>J&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<J&&this.session.getScrollTop()+this.$size.scrollerHeight-
this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||0>x&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<x&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0};this.pixelToScreenCoordinates=function(x,J){var v=this.scroller.getBoundingClientRect();x=x+this.scrollLeft-v.left-this.$padding;var K=x/this.characterWidth,D=Math.round(K);return{row:Math.floor((J+this.scrollTop-v.top)/this.lineHeight),column:D,side:0<K-D?1:-1,offsetX:x}};
this.screenToTextCoordinates=function(x,J){var v=this.scroller.getBoundingClientRect();x=x+this.scrollLeft-v.left-this.$padding;return this.session.screenToDocumentPosition((J+this.scrollTop-v.top)/this.lineHeight,Math.max(Math.round(x/this.characterWidth),0),x)};this.textToScreenCoordinates=function(x,J){var v=this.scroller.getBoundingClientRect();J=this.session.documentToScreenPosition(x,J);x=this.$padding+(this.session.$bidiHandler.isBidiRow(J.row,x)?this.session.$bidiHandler.getPosLeft(J.column):
Math.round(J.column*this.characterWidth));return{pageX:v.left+x-this.scrollLeft,pageY:v.top+J.row*this.lineHeight-this.scrollTop}};this.visualizeFocus=function(){h.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){h.removeCssClass(this.container,"ace_focus")};this.showComposition=function(x){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText});this.$keepTextAreaAtCursor=!0;h.addCssClass(this.textarea,"ace_composition");
this.textarea.style.cssText="";this.$moveTextAreaToCursor()};this.setCompositionText=function(x){this.$moveTextAreaToCursor()};this.hideComposition=function(){this.$composition&&(h.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)};this.setTheme=function(x,J){function v(D){if(K.$themeId!=x)return J&&J();if(!D||!D.cssClass)throw Error("couldn't load module "+
x+" or it didn't call define");h.importCssString(D.cssText,D.cssClass,K.container.ownerDocument);K.theme&&h.removeCssClass(K.container,K.theme.cssClass);var M="padding"in D?D.padding:"padding"in(K.theme||{})?4:K.$padding;K.$padding&&M!=K.$padding&&K.setPadding(M);K.$theme=D.cssClass;K.theme=D;h.addCssClass(K.container,D.cssClass);h.setCssClass(K.container,"ace_dark",D.isDark);K.$size&&(K.$size.width=0,K.$updateSizeAsync());K._dispatchEvent("themeLoaded",{theme:D});J&&J()}var K=this;this.$themeId=
x;K._dispatchEvent("themeChange",{theme:x});x&&"string"!=typeof x?v(x):f.loadModule(["theme",x||this.$options.theme.initialValue],v)};this.getTheme=function(){return this.$themeId};this.setStyle=function(x,J){h.setCssClass(this.container,x,!1!==J)};this.unsetStyle=function(x){h.removeCssClass(this.container,x)};this.setCursorStyle=function(x){this.scroller.style.cursor!=x&&(this.scroller.style.cursor=x)};this.setMouseCursor=function(x){this.scroller.style.cursor=x};this.destroy=function(){this.$textLayer.destroy();
this.$cursorLayer.destroy()}}).call(d.prototype);f.defineOptions(d.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(x){this.$textLayer.setShowInvisibles(x)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(x){"number"==typeof x&&(this.$printMarginColumn=x);this.$showPrintMargin=
!!x;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(x){this.$gutter.style.display=x?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(x){h.setCssClass(this.$gutter,"ace_fade-fold-widgets",x)},initialValue:!1},showFoldWidgets:{set:function(x){this.$gutterLayer.setShowFoldWidgets(x)},initialValue:!0},showLineNumbers:{set:function(x){this.$gutterLayer.setShowLineNumbers(x);
this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(x){this.$textLayer.setDisplayIndentGuides(x)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(x){this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=x?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()):(this.$gutterLineHighlight=h.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight))},
initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(x){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(x){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(x){"number"==typeof x&&(x+="px");this.container.style.fontSize=x;this.updateFontSize()},initialValue:12},fontFamily:{set:function(x){this.container.style.fontFamily=
x;this.updateFontSize()}},maxLines:{set:function(x){this.updateFull()}},minLines:{set:function(x){this.updateFull()}},maxPixelHeight:{set:function(x){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(x){x=+x||0;this.$scrollPastEnd!=x&&(this.$scrollPastEnd=x,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(x){this.$gutterLayer.$fixedWidth=!!x;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(x){this.setTheme(x)},get:function(){return this.$themeId||
this.theme},initialValue:"./theme/textmate",handlesSet:!0}});N.VirtualRenderer=d});
define("ace/worker/worker_client","require exports module ace/lib/oop ace/lib/net ace/lib/event_emitter ace/config".split(" "),function(d,N,X){function a(p){p="importScripts('"+f.qualifyURL(p)+"');";try{var u=new Blob([p],{type:"application/javascript"})}catch(c){u=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder),u=(u.append(p),u.getBlob("application/javascript"))}u=(window.URL||window.webkitURL).createObjectURL(u);return new Worker(u)}var h=d("../lib/oop"),f=d("../lib/net"),
g=d("../lib/event_emitter").EventEmitter,e=d("../config");X=function(p,u,c,l,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);d.nameToUrl&&!d.toUrl&&(d.toUrl=d.nameToUrl);if(e.get("packaged")||!d.toUrl)l=l||e.moduleUrl(u,"worker");else{var w=this.$normalizePath;l=l||w(d.toUrl("ace/worker/worker.js",null,"_"));var z={};p.forEach(function(x){z[x]=w(d.toUrl(x,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=
a(l);n&&this.send("importScripts",n);this.$worker.postMessage({init:!0,tlns:z,module:u,classname:c});this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage};(function(){h.implement(this,g);this.onMessage=function(p){p=p.data;switch(p.type){case "event":this._signal(p.name,{data:p.data});break;case "call":var u=this.callbacks[p.id];u&&(u(p.data),delete this.callbacks[p.id]);break;case "error":this.reportError(p.data);break;case "log":window.console&&console.log&&console.log.apply(console,
p.data)}};this.reportError=function(p){window.console&&console.error&&console.error(p)};this.$normalizePath=function(p){return f.qualifyURL(p)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;this.$doc&&this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(p,u){this.$worker.postMessage({command:p,args:u})};this.call=function(p,u,c){if(c){var l=this.callbackId++;this.callbacks[l]=c;u.push(l)}this.send(p,
u)};this.emit=function(p,u){try{this.$worker.postMessage({event:p,data:{data:u.data}})}catch(c){console.error(c.stack)}};this.attachToDocument=function(p){this.$doc&&this.terminate();this.$doc=p;this.call("setValue",[p.getValue()]);p.on("change",this.changeListener)};this.changeListener=function(p){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0));"insert"==p.action?this.deltaQueue.push(p.start,p.lines):this.deltaQueue.push(p.start,p.end)};this.$sendDeltaQueue=function(){var p=
this.deltaQueue;p&&(this.deltaQueue=null,50<p.length&&p.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:p}))}}).call(X.prototype);var m=function(p,u,c){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.callbackId=1;this.callbacks={};this.messageBuffer=[];var l=null,n=!1,w=Object.create(g),z=this;this.$worker={};this.$worker.terminate=function(){};this.$worker.postMessage=function(J){z.messageBuffer.push(J);
l&&(n?setTimeout(x):x())};this.setEmitSync=function(J){n=J};var x=function(){var J=z.messageBuffer.shift();J.command?l[J.command].apply(l,J.args):J.event&&w._signal(J.event,J.data)};w.postMessage=function(J){z.onMessage({data:J})};w.callback=function(J,v){this.postMessage({type:"call",id:v,data:J})};w.emit=function(J,v){this.postMessage({type:"event",name:J,data:v})};e.loadModule(["worker",u],function(J){for(l=new J[c](w);z.messageBuffer.length;)x()})};m.prototype=X.prototype;N.UIWorkerClient=m;N.WorkerClient=
X;N.createWorker=a});
define("ace/placeholder","require exports module ace/range ace/lib/event_emitter ace/lib/oop".split(" "),function(d,N,X){var a=d("./range").Range,h=d("./lib/event_emitter").EventEmitter,f=d("./lib/oop");d=function(g,e,m,p,u,c){var l=this;this.length=e;this.session=g;this.doc=g.getDocument();this.mainClass=u;this.othersClass=c;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=p;this.$onCursorChange=function(){setTimeout(function(){l.onCursorChange()})};this.$pos=
m;this.$undoStackDepth=(g.getUndoManager().$undoStack||g.getUndoManager().$undostack||{length:-1}).length;this.setup();g.selection.on("changeCursor",this.$onCursorChange)};(function(){f.implement(this,h);this.setup=function(){var g=this,e=this.doc,m=this.session;this.selectionBefore=m.selection.toJSON();m.selection.inMultiSelectMode&&m.selection.toSingleRange();var p=this.pos=e.createAnchor(this.$pos.row,this.$pos.column);p.$insertRight=!0;p.detach();p.markerId=m.addMarker(new a(p.row,p.column,p.row,
p.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(u){u=e.createAnchor(u.row,u.column);u.$insertRight=!0;u.detach();g.others.push(u)});m.setUndoSelect(!1)};this.showOtherMarkers=function(){if(!this.othersActive){var g=this.session,e=this;this.othersActive=!0;this.others.forEach(function(m){m.markerId=g.addMarker(new a(m.row,m.column,m.row,m.column+e.length),e.othersClass,null,!1)})}};this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;
for(var g=0;g<this.others.length;g++)this.session.removeMarker(this.others[g].markerId)}};this.onUpdate=function(g){if(this.$updating)return this.updateAnchors(g);if(g.start.row===g.end.row&&g.start.row===this.pos.row){this.$updating=!0;var e="insert"===g.action?g.end.column-g.start.column:g.start.column-g.end.column,m=g.start.column>=this.pos.column&&g.start.column<=this.pos.column+this.length+1,p=g.start.column-this.pos.column;this.updateAnchors(g);m&&(this.length+=e);if(m&&!this.session.$fromUndo)if("insert"===
g.action)for(m=this.others.length-1;0<=m;m--){var u=this.others[m];u={row:u.row,column:u.column+p};this.doc.insertMergedLines(u,g.lines)}else if("remove"===g.action)for(m=this.others.length-1;0<=m;m--)u=this.others[m],u={row:u.row,column:u.column+p},this.doc.remove(new a(u.row,u.column,u.row,u.column-e));this.$updating=!1;this.updateMarkers()}};this.updateAnchors=function(g){this.pos.onChange(g);for(var e=this.others.length;e--;)this.others[e].onChange(g);this.updateMarkers()};this.updateMarkers=
function(){if(!this.$updating){var g=this,e=this.session,m=function(u,c){e.removeMarker(u.markerId);u.markerId=e.addMarker(new a(u.row,u.column,u.row,u.column+g.length),c,null,!1)};m(this.pos,this.mainClass);for(var p=this.others.length;p--;)m(this.others[p],this.othersClass)}};this.onCursorChange=function(g){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",
g)):(this.hideOtherMarkers(),this._emit("cursorLeave",g))}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null};this.cancel=function(){if(-1!==this.$undoStackDepth){for(var g=this.session.getUndoManager(),e=(g.$undoStack||g.$undostack).length-this.$undoStackDepth,m=0;m<
e;m++)g.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(d.prototype);N.PlaceHolder=d});
define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(d,N,X){function a(g,e){return g.row==e.row&&g.column==e.column}var h=d("../lib/event"),f=d("../lib/useragent");N.onMouseDown=function(g){var e=g.domEvent,m=e.altKey,p=e.shiftKey,u=e.ctrlKey,c=g.getAccelKey(),l=g.getButton();u&&f.isMac&&(l=e.button);if(g.editor.inMultiSelectMode&&2==l)g.editor.textInput.onContextMenu(g.domEvent);else if(!u&&!m&&!c)0===l&&g.editor.inMultiSelectMode&&g.editor.exitMultiSelectMode();
else if(0===l){var n=g.editor,w=n.selection;l=n.inMultiSelectMode;var z=g.getDocumentPosition(),x=w.getCursor();x=g.inSelection()||w.isEmpty()&&a(z,x);var J=g.x,v=g.y,K=function(ra){J=ra.clientX;v=ra.clientY},D=n.session,M=n.renderer.pixelToScreenCoordinates(J,v),Q=M,G;if(n.$mouseHandler.$enableJumpToDef)u&&m||c&&m?G=p?"block":"add":m&&n.$blockSelectEnabled&&(G="block");else if(c&&!m){if(G="add",!l&&p)return}else m&&n.$blockSelectEnabled&&(G="block");G&&f.isMac&&e.ctrlKey&&n.$mouseHandler.cancelContextMenu();
if("add"==G){if(l||!x){if(!l){var T=w.toOrientedRange();n.addSelectionMarker(T)}var S=w.rangeList.rangeAtPoint(z);n.$blockScrolling++;n.inVirtualSelectionMode=!0;p&&(S=null,T=w.ranges[0]||T,n.removeSelectionMarker(T));n.once("mouseup",function(){var ra=w.toOrientedRange();S&&ra.isEmpty()&&a(S.cursor,ra.cursor)?w.substractPoint(ra.cursor):(p?w.substractPoint(T.cursor):T&&(n.removeSelectionMarker(T),w.addRange(T)),w.addRange(ra));n.$blockScrolling--;n.inVirtualSelectionMode=!1})}}else if("block"==G){g.stop();
n.inVirtualSelectionMode=!0;var R,ca=[];n.$blockScrolling++;l&&!c?w.toSingleRange():!l&&c&&(R=w.toOrientedRange(),n.addSelectionMarker(R));p?M=D.documentToScreenPosition(w.lead):w.moveToPosition(z);n.$blockScrolling--;Q={row:-1,column:-1};h.capture(n.container,K,function(ra){clearInterval(ha);n.removeSelectionMarkers(ca);ca.length||(ca=[w.toOrientedRange()]);n.$blockScrolling++;R&&(n.removeSelectionMarker(R),w.toSingleRange(R));for(ra=0;ra<ca.length;ra++)w.addRange(ca[ra]);n.inVirtualSelectionMode=
!1;n.$mouseHandler.$clickSelection=null;n.$blockScrolling--});var ha=setInterval(function(){var ra=n.renderer.pixelToScreenCoordinates(J,v),Ia=D.screenToDocumentPosition(ra.row,ra.column,ra.offsetX);a(Q,ra)&&a(Ia,w.lead)||(Q=ra,n.$blockScrolling++,n.selection.moveToPosition(Ia),n.renderer.scrollCursorIntoView(),n.removeSelectionMarkers(ca),ca=w.rectangularRangeBlock(Q,M),n.$mouseHandler.$clickSelection&&1==ca.length&&ca[0].isEmpty()&&(ca[0]=n.$mouseHandler.$clickSelection.clone()),ca.forEach(n.addSelectionMarker,
n),n.updateSelectionMarkers(),n.$blockScrolling--)},20);return g.preventDefault()}}}});
define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(d,N,X){N.defaultCommands=[{name:"addCursorAbove",exec:function(a){a.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(a){a.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(a){a.selectMoreLines(-1,
!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(a){a.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(a){a.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(a){a.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",
mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(a){a.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(a){a.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(a){a.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},
{name:"alignCursors",exec:function(a){a.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(a){a.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];N.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(a){a.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(a){return a&&a.inMultiSelectMode}}];d=d("../keyboard/hash_handler").HashHandler;N.keyboardHandler=
new d(N.multiSelectCommands)});
define("ace/multi_select","require exports module ace/range_list ace/range ace/selection ace/mouse/multi_select_handler ace/lib/event ace/lib/lang ace/commands/multi_select_commands ace/search ace/edit_session ace/editor ace/config".split(" "),function(d,N,X){function a(n){n.$multiselectOnSessionChange||(n.$onAddRange=n.$onAddRange.bind(n),n.$onRemoveRange=n.$onRemoveRange.bind(n),n.$onMultiSelect=n.$onMultiSelect.bind(n),n.$onSingleSelect=n.$onSingleSelect.bind(n),n.$multiselectOnSessionChange=N.onSessionChange.bind(n),
n.$checkMultiselectChange=n.$checkMultiselectChange.bind(n),n.$multiselectOnSessionChange(n),n.on("changeSession",n.$multiselectOnSessionChange),n.on("mousedown",m),n.commands.addCommands(c.defaultCommands),h(n))}function h(n){function w(J){x&&(n.renderer.setMouseCursor(""),x=!1)}var z=n.textInput.getElement(),x=!1;p.addListener(z,"keydown",function(J){J=18==J.keyCode&&!(J.ctrlKey||J.shiftKey||J.metaKey);n.$blockSelectEnabled&&J?x||(n.renderer.setMouseCursor("crosshair"),x=!0):x&&w()});p.addListener(z,
"keyup",w);p.addListener(z,"blur",w)}var f=d("./range_list").RangeList,g=d("./range").Range,e=d("./selection").Selection,m=d("./mouse/multi_select_handler").onMouseDown,p=d("./lib/event"),u=d("./lib/lang"),c=d("./commands/multi_select_commands");N.commands=c.defaultCommands.concat(c.multiSelectCommands);var l=new (d("./search").Search);X=d("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(X.prototype);(function(){this.rangeList=this.ranges=
null;this.addRange=function(n,w){if(n){if(!this.inMultiSelectMode&&0===this.rangeCount){var z=this.toOrientedRange();this.rangeList.add(z);this.rangeList.add(n);if(2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),w||this.fromOrientedRange(n);this.rangeList.removeAll();this.rangeList.add(z);this.$onAddRange(z)}n.cursor||(n.cursor=n.end);z=this.rangeList.add(n);return this.$onAddRange(n),z.length&&this.$onRemoveRange(z),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),
this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),w||this.fromOrientedRange(n)}};this.toSingleRange=function(n){n=n||this.ranges[0];var w=this.rangeList.removeAll();w.length&&this.$onRemoveRange(w);n&&this.fromOrientedRange(n)};this.substractPoint=function(n){if(n=this.rangeList.substractPoint(n))return this.$onRemoveRange(n),n[0]};this.mergeOverlappingRanges=function(){var n=this.rangeList.merge();n.length?this.$onRemoveRange(n):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])};
this.$onAddRange=function(n){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(n);this._signal("addRange",{range:n})};this.$onRemoveRange=function(n){this.rangeCount=this.rangeList.ranges.length;if(1==this.rangeCount&&this.inMultiSelectMode){var w=this.rangeList.ranges.pop();n.push(w);this.rangeCount=0}for(var z=n.length;z--;){var x=this.ranges.indexOf(n[z]);this.ranges.splice(x,1)}this._signal("removeRange",{ranges:n});0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=
!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));(w=w||this.ranges[0])&&!w.isEqual(this.getRange())&&this.fromOrientedRange(w)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new f,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){if(1<this.rangeCount){var n=this.rangeList.ranges,w=n[n.length-1];n=g.fromPoints(n[0].start,
w.end);this.toSingleRange();this.setSelectionRange(n,w.cursor==w.start)}else{n=this.getRange();var z=this.isBackwards(),x=n.start.row;w=n.end.row;if(x==w)z?(w=n.end,n=n.start):(w=n.start,n=n.end),this.addRange(g.fromPoints(n,n)),this.addRange(g.fromPoints(w,w));else{z=[];var J=this.getLineRange(x,!0);J.start.column=n.start.column;z.push(J);for(x+=1;x<w;x++)z.push(this.getLineRange(x,!0));J=this.getLineRange(w,!0);J.end.column=n.end.column;z.push(J);z.forEach(this.addRange,this)}}};this.toggleBlockSelection=
function(){if(1<this.rangeCount){var n=this.rangeList.ranges,w=n[n.length-1];n=g.fromPoints(n[0].start,w.end);this.toSingleRange();this.setSelectionRange(n,w.cursor==w.start)}else w=this.session.documentToScreenPosition(this.selectionLead),n=this.session.documentToScreenPosition(this.selectionAnchor),this.rectangularRangeBlock(w,n).forEach(this.addRange,this)};this.rectangularRangeBlock=function(n,w,z){var x=[],J=n.column<w.column;if(J)var v=n.column,K=w.column,D=n.offsetX,M=w.offsetX;else v=w.column,
K=n.column,D=w.offsetX,M=n.offsetX;var Q=n.row<w.row;if(Q){var G=n.row;n=w.row}else G=w.row,n=n.row;0>v&&(v=0);0>G&&(G=0);for(G==n&&(z=!0);G<=n;G++){w=g.fromPoints(this.session.screenToDocumentPosition(G,v,D),this.session.screenToDocumentPosition(G,K,M));if(w.isEmpty()){var T;if(T=S)T=w.end,T=T.row==S.row&&T.column==S.column;if(T)break;var S=w.end}w.cursor=J?w.start:w.end;x.push(w)}Q&&x.reverse();if(!z){for(z=x.length-1;x[z].isEmpty()&&0<z;)z--;if(0<z)for(var R=0;x[R].isEmpty();)R++;for(;z>=R;z--)x[z].isEmpty()&&
x.splice(z,1)}return x}}).call(e.prototype);X=d("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(n){n.cursor||(n.cursor=n.end);var w=this.getSelectionStyle();return n.marker=this.session.addMarker(n,"ace_selection",w),this.session.$selectionMarkers.push(n),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,n};this.removeSelectionMarker=function(n){n.marker&&(this.session.removeMarker(n.marker),
n=this.session.$selectionMarkers.indexOf(n),-1!=n&&this.session.$selectionMarkers.splice(n,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)};this.removeSelectionMarkers=function(n){for(var w=this.session.$selectionMarkers,z=n.length;z--;){var x=n[z];x.marker&&(this.session.removeMarker(x.marker),x=w.indexOf(x),-1!=x&&w.splice(x,1))}this.session.selectionMarkerCount=w.length};this.$onAddRange=function(n){this.addSelectionMarker(n.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};
this.$onRemoveRange=function(n){this.removeSelectionMarkers(n.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(n){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(n){this.session.multiSelect.inVirtualMode||
(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))};this.$onMultiSelectExec=function(n){var w=n.command,z=n.editor;if(z.multiSelect){if(w.multiSelectAction)"forEach"==w.multiSelectAction?x=z.forEachSelection(w,n.args):"forEachLine"==w.multiSelectAction?x=z.forEachSelection(w,
n.args,!0):"single"==w.multiSelectAction?(z.exitMultiSelectMode(),x=w.exec(z,n.args||{})):x=w.multiSelectAction(z,n.args||{});else{var x=w.exec(z,n.args||{});z.multiSelect.addRange(z.multiSelect.toOrientedRange());z.multiSelect.mergeOverlappingRanges()}return x}};this.forEachSelection=function(n,w,z){if(!this.inVirtualSelectionMode){var x=1==z||z&&z.$byLines,J=this.session,v=this.selection,K=v.rangeList;z=(z&&z.keepOrder?v:K).ranges;var D;if(!z.length)return n.exec?n.exec(this,w||{}):n(this,w||{});
K=v._eventRegistry;v._eventRegistry={};var M=new e(J);this.inVirtualSelectionMode=!0;for(var Q=z.length;Q--;){if(x)for(;0<Q&&z[Q].start.row==z[Q-1].end.row;)Q--;M.fromOrientedRange(z[Q]);M.index=Q;this.selection=J.selection=M;var G=n.exec?n.exec(this,w||{}):n(this,w||{});!D&&void 0!==G&&(D=G);M.toOrientedRange(z[Q])}M.detach();this.selection=J.selection=v;this.inVirtualSelectionMode=!1;v._eventRegistry=K;v.mergeOverlappingRanges();n=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),
n&&n.from==n.to&&this.renderer.animateScrolling(n.from),D}};this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()};this.getSelectedText=function(){var n="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){n=this.multiSelect.rangeList.ranges;for(var w=[],z=0;z<n.length;z++)w.push(this.session.getTextRange(n[z]));z=this.session.getDocument().getNewLineCharacter();n=w.join(z);n.length==(w.length-1)*z.length&&(n="")}else this.selection.isEmpty()||
(n=this.session.getTextRange(this.getSelectionRange()));return n};this.$checkMultiselectChange=function(n,w){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&(n=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&w==this.multiSelect.anchor||(n=w==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor,n.row==w.row&&this.session.$clipPositionToDocument(n.row,n.column).column==w.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())))};this.findAll=function(n,w,
z){w=w||{};w.needle=n||w.needle;if(void 0==w.needle){var x=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();w.needle=this.session.getTextRange(x)}this.$search.set(w);n=this.$search.findAll(this.session);if(!n.length)return 0;this.$blockScrolling+=1;w=this.multiSelect;z||w.toSingleRange(n[0]);for(z=n.length;z--;)w.addRange(n[z],!0);return x&&w.rangeList.rangeAtPoint(x.start)&&w.addRange(x,!0),--this.$blockScrolling,n.length};this.selectMoreLines=function(n,w){var z=
this.selection.toOrientedRange(),x=z.cursor==z.end,J=this.session.documentToScreenPosition(z.cursor);this.selection.$desiredColumn&&(J.column=this.selection.$desiredColumn);var v=this.session.screenToDocumentPosition(J.row+n,J.column);if(z.isEmpty())n=v;else{var K=this.session.documentToScreenPosition(x?z.end:z.start);n=this.session.screenToDocumentPosition(K.row+n,K.column)}x?(x=g.fromPoints(v,n),x.cursor=x.start):(x=g.fromPoints(n,v),x.cursor=x.end);x.desiredColumn=J.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(z);
else if(w)var D=z.cursor;this.selection.addRange(x);D&&this.selection.substractPoint(D)};this.transposeSelections=function(n){for(var w=this.session,z=w.multiSelect,x=z.ranges,J=x.length;J--;){var v=x[J];if(v.isEmpty()){var K=w.getWordRange(v.start.row,v.start.column);v.start.row=K.start.row;v.start.column=K.start.column;v.end.row=K.end.row;v.end.column=K.end.column}}z.mergeOverlappingRanges();z=[];for(J=x.length;J--;)v=x[J],z.unshift(w.getTextRange(v));0>n?z.unshift(z.pop()):z.push(z.shift());for(J=
x.length;J--;)v=x[J],K=v.clone(),w.replace(v,z[J]),v.start.row=K.start.row,v.start.column=K.start.column};this.selectMore=function(n,w,z){var x=this.session,J=x.multiSelect.toOrientedRange();if(J.isEmpty()&&(J=x.getWordRange(J.start.row,J.start.column),J.cursor=-1==n?J.start:J.end,this.multiSelect.addRange(J),z))return;z=x.getTextRange(J);(x=(l.$options.wrap=!0,l.$options.needle=z,l.$options.backwards=-1==n,l.find(x)))&&(x.cursor=-1==n?x.start:x.end,this.$blockScrolling+=1,this.session.unfold(x),
this.multiSelect.addRange(x),--this.$blockScrolling,this.renderer.scrollCursorIntoView(null,.5));w&&this.multiSelect.substractPoint(J.cursor)};this.alignCursors=function(){var n=this.session,w=n.multiSelect,z=w.ranges,x=-1,J=z.filter(function(S){if(S.cursor.row==x)return!0;x=S.cursor.row});if(z.length&&J.length!=z.length-1){J.forEach(function(S){w.substractPoint(S.cursor)});var v=0,K=Infinity,D=z.map(function(S){S=S.cursor;var R=n.getLine(S.row).substr(S.column).search(/\S/g);return-1==R&&(R=0),S.column>
v&&(v=S.column),R<K&&(K=R),R});z.forEach(function(S,R){var ca=S.cursor,ha=v-ca.column;R=D[R]-K;ha>R?n.insert(ca,u.stringRepeat(" ",ha-R)):n.remove(new g(ca.row,ca.column,ca.row,ca.column-ha+R));S.start.column=S.end.column=v;S.start.row=S.end.row=ca.row;S.cursor=S.end});w.fromOrientedRange(z[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}else{z=this.selection.getRange();J=z.start.row;var M=z.end.row,Q=J==M;if(Q){var G=this.session.getLength();do var T=this.session.getLine(M);while(/[=:]/.test(T)&&
++M<G);do T=this.session.getLine(J);while(/[=:]/.test(T)&&0<--J);0>J&&(J=0);M>=G&&(M=G-1)}M=this.session.removeFullLines(J,M);M=this.$reAlignText(M,Q);this.session.insert({row:J,column:0},M.join("\n")+"\n");Q||(z.start.column=0,z.end.column=M[M.length-1].length);this.selection.setRange(z)}};this.$reAlignText=function(n,w){function z(T){return u.stringRepeat(" ",T)}function x(T){return T[2]?z(M)+T[2]+z(Q-T[2].length+G)+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}function J(T){return T[2]?z(M+Q-T[2].length)+
T[2]+z(G," ")+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}function v(T){return T[2]?z(M)+T[2]+z(G)+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}var K=!0,D=!0,M,Q,G;return n.map(function(T){var S=T.match(/(\s*)(.*?)(\s*)([=:].*)/);return S?null==M?(M=S[1].length,Q=S[2].length,G=S[3].length,S):(M+Q+G!=S[1].length+S[2].length+S[3].length&&(D=!1),M!=S[1].length&&(K=!1),M>S[1].length&&(M=S[1].length),Q<S[2].length&&(Q=S[2].length),G>S[3].length&&(G=S[3].length),S):[T]}).map(w?x:K?D?J:x:v)}}).call(X.prototype);N.onSessionChange=
function(n){var w=n.session;w&&!w.multiSelect&&(w.$selectionMarkers=[],w.selection.$initRangeList(),w.multiSelect=w.selection);this.multiSelect=w&&w.multiSelect;(n=n.oldSession)&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange));
w&&(w.multiSelect.on("addRange",this.$onAddRange),w.multiSelect.on("removeRange",this.$onRemoveRange),w.multiSelect.on("multiSelect",this.$onMultiSelect),w.multiSelect.on("singleSelect",this.$onSingleSelect),w.multiSelect.lead.on("change",this.$checkMultiselectChange),w.multiSelect.anchor.on("change",this.$checkMultiselectChange));w&&this.inMultiSelectMode!=w.selection.inMultiSelectMode&&(w.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};N.MultiSelect=a;d("./config").defineOptions(X.prototype,
"editor",{enableMultiselect:{set:function(n){a(this);n?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",m)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",m))},value:!0},enableBlockSelect:{set:function(n){this.$blockSelectEnabled=n},value:!0}})});
define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(d,N,X){var a=d("../../range").Range;d=N.FoldMode=function(){};(function(){this.foldingStopMarker=this.foldingStartMarker=null;this.getFoldWidget=function(h,f,g){h=h.getLine(g);return this.foldingStartMarker.test(h)?"start":"markbeginend"==f&&this.foldingStopMarker&&this.foldingStopMarker.test(h)?"end":""};this.getFoldWidgetRange=function(h,f,g){return null};this.indentationBlock=function(h,f,g){var e=/\S/,m=h.getLine(f),
p=m.search(e);if(-1!=p){g=g||m.length;for(var u=h.getLength(),c=m=f;++f<u;){var l=h.getLine(f).search(e);if(-1!=l){if(l<=p)break;c=f}}if(c>m)return h=h.getLine(c).length,new a(m,g,c,h)}};this.openingBracketBlock=function(h,f,g,e,m){g={row:g,column:e+1};if(f=h.$findClosingBracket(f,g,m))return m=h.foldWidgets[f.row],null==m&&(m=h.getFoldWidget(f.row)),"start"==m&&f.row>g.row&&(f.row--,f.column=h.getLine(f.row).length),a.fromPoints(g,f)};this.closingBracketBlock=function(h,f,g,e,m){g={row:g,column:e};
if(h=h.$findOpeningBracket(f,g))return h.column++,g.column--,a.fromPoints(h,g)}}).call(d.prototype)});
define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(d,N,X){N.isDark=!1;N.cssClass="ace-tm";N.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';d("../lib/dom").importCssString(N.cssText,
N.cssClass)});
define("ace/line_widgets","require exports module ace/lib/oop ace/lib/dom ace/range".split(" "),function(d,N,X){function a(f){this.session=f;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",
this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}d("./lib/oop");var h=d("./lib/dom");d("./range");(function(){this.getRowLength=function(f){var g;return this.lineWidgets?g=this.lineWidgets[f]&&this.lineWidgets[f].rowCount||0:g=0,this.$useWrapMode&&this.$wrapData[f]?this.$wrapData[f].length+1+g:1+g};this.$getWidgetScreenLength=function(){var f=0;return this.lineWidgets.forEach(function(g){g&&g.rowCount&&!g.hidden&&(f+=g.rowCount)}),
f};this.$onChangeEditor=function(f){this.attach(f.editor)};this.attach=function(f){f&&f.widgetManager&&f.widgetManager!=this&&f.widgetManager.detach();this.editor!=f&&(this.detach(),(this.editor=f)&&(f.widgetManager=this,f.renderer.on("beforeRender",this.measureWidgets),f.renderer.on("afterRender",this.renderWidgets)))};this.detach=function(f){if(f=this.editor)this.editor=null,f.widgetManager=null,f.renderer.off("beforeRender",this.measureWidgets),f.renderer.off("afterRender",this.renderWidgets),
(f=this.session.lineWidgets)&&f.forEach(function(g){g&&g.el&&g.el.parentNode&&(g._inDocument=!1,g.el.parentNode.removeChild(g.el))})};this.updateOnFold=function(f,g){if((g=g.lineWidgets)&&f.action){var e=f.data,m=e.start.row;e=e.end.row;f="add"==f.action;for(var p=m+1;p<e;p++)g[p]&&(g[p].hidden=f);g[e]&&(f?g[m]?g[e].hidden=f:g[m]=g[e]:(g[m]==g[e]&&(g[m]=void 0),g[e].hidden=f))}};this.updateOnChange=function(f){var g=this.session.lineWidgets;if(g){var e=f.start.row,m=f.end.row-e;0!==m&&("remove"==
f.action?g.splice(e+1,m).forEach(function(p){p&&this.removeLineWidget(p)},this):(f=Array(m),f.unshift(e,0),g.splice.apply(g,f)),this.$updateRows())}};this.$updateRows=function(){var f=this.session.lineWidgets;if(f){var g=!0;f.forEach(function(e,m){if(e)for(g=!1,e.row=m;e.$oldWidget;)e.$oldWidget.row=m,e=e.$oldWidget});g&&(this.session.lineWidgets=null)}};this.addLineWidget=function(f){this.session.lineWidgets||(this.session.lineWidgets=Array(this.session.getLength()));var g=this.session.lineWidgets[f.row];
g&&(f.$oldWidget=g,g.el&&g.el.parentNode&&(g.el.parentNode.removeChild(g.el),g._inDocument=!1));this.session.lineWidgets[f.row]=f;f.session=this.session;g=this.editor.renderer;f.html&&!f.el&&(f.el=h.createElement("div"),f.el.innerHTML=f.html);f.el&&(h.addCssClass(f.el,"ace_lineWidgetContainer"),f.el.style.position="absolute",f.el.style.zIndex=5,g.container.appendChild(f.el),f._inDocument=!0);f.coverGutter||(f.el.style.zIndex=3);null==f.pixelHeight&&(f.pixelHeight=f.el.offsetHeight);null==f.rowCount&&
(f.rowCount=f.pixelHeight/g.layerConfig.lineHeight);var e=this.session.getFoldAt(f.row,0);if(f.$fold=e){var m=this.session.lineWidgets;f.row!=e.end.row||m[e.start.row]?f.hidden=!0:m[e.start.row]=f}return this.session._emit("changeFold",{data:{start:{row:f.row}}}),this.$updateRows(),this.renderWidgets(null,g),this.onWidgetChanged(f),f};this.removeLineWidget=function(f){f._inDocument=!1;f.session=null;f.el&&f.el.parentNode&&f.el.parentNode.removeChild(f.el);if(f.editor&&f.editor.destroy)try{f.editor.destroy()}catch(e){}if(this.session.lineWidgets){var g=
this.session.lineWidgets[f.row];if(g==f)(this.session.lineWidgets[f.row]=f.$oldWidget)&&this.onWidgetChanged(f.$oldWidget);else for(;g;){if(g.$oldWidget==f){g.$oldWidget=f.$oldWidget;break}g=g.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:f.row}}});this.$updateRows()};this.getWidgetsAtRow=function(f){var g=this.session.lineWidgets;f=g&&g[f];for(g=[];f;)g.push(f),f=f.$oldWidget;return g};this.onWidgetChanged=function(f){this.session._changedWidgets.push(f);this.editor&&this.editor.renderer.updateFull()};
this.measureWidgets=function(f,g){f=this.session._changedWidgets;var e=g.layerConfig;if(f&&f.length){for(var m=Infinity,p=0;p<f.length;p++){var u=f[p];if(u&&u.el&&u.session==this.session){if(!u._inDocument){if(this.session.lineWidgets[u.row]!=u)continue;u._inDocument=!0;g.container.appendChild(u.el)}u.h=u.el.offsetHeight;u.fixedWidth||(u.w=u.el.offsetWidth,u.screenWidth=Math.ceil(u.w/e.characterWidth));var c=u.h/e.lineHeight;u.coverLine&&(c-=this.session.getRowLineCount(u.row),0>c&&(c=0));u.rowCount!=
c&&(u.rowCount=c,u.row<m&&(m=u.row))}}Infinity!=m&&(this.session._emit("changeFold",{data:{start:{row:m}}}),this.session.lineWidgetWidth=null);this.session._changedWidgets=[]}};this.renderWidgets=function(f,g){f=g.layerConfig;var e=this.session.lineWidgets;if(e){for(var m=Math.min(this.firstRow,f.firstRow),p=Math.max(this.lastRow,f.lastRow,e.length);0<m&&!e[m];)m--;this.firstRow=f.firstRow;this.lastRow=f.lastRow;for(g.$cursorLayer.config=f;m<=p;m++){var u=e[m];if(u&&u.el)if(u.hidden)u.el.style.top=
-100-(u.pixelHeight||0)+"px";else{u._inDocument||(u._inDocument=!0,g.container.appendChild(u.el));var c=g.$cursorLayer.getPixelPosition({row:m,column:0},!0).top;u.coverLine||(c+=f.lineHeight*this.session.getRowLineCount(u.row));u.el.style.top=c-f.offset+"px";c=u.coverGutter?0:g.gutterWidth;u.fixedWidth||(c-=g.scrollLeft);u.el.style.left=c+"px";u.fullWidth&&u.screenWidth&&(u.el.style.minWidth=f.width+2*f.padding+"px");u.fixedWidth?u.el.style.right=g.scrollBar.getWidth()+"px":u.el.style.right=""}}}}}).call(a.prototype);
N.LineWidgets=a});
define("ace/ext/error_marker","require exports module ace/line_widgets ace/lib/dom ace/range".split(" "),function(d,N,X){function a(e,m,p){e=e.getAnnotations().sort(g.comparePoints);if(e.length){a:{var u={row:m,column:-1};for(var c=g.comparePoints,l=0,n=e.length-1;l<=n;){var w=l+n>>1,z=c(u,e[w]);if(0<z)l=w+1;else{if(!(0>z)){u=w;break a}n=w-1}}u=-(l+1)}0>u&&(u=-u-1);u>=e.length?u=0<p?0:e.length-1:0===u&&0>p&&(u=e.length-1);if((c=e[u])&&p){if(c.row===m){do c=e[u+=p];while(c&&c.row===m);if(!c)return e.slice()}l=
[];m=c.row;do l[0>p?"unshift":"push"](c),c=e[u+=p];while(c&&c.row==m);return l.length&&l}}}var h=d("../line_widgets").LineWidgets,f=d("../lib/dom"),g=d("../range").Range;N.showErrorMarker=function(e,m){var p=e.session;p.widgetManager||(p.widgetManager=new h(p),p.widgetManager.attach(e));var u=e.getCursorPosition(),c=u.row,l=p.widgetManager.getWidgetsAtRow(c).filter(function(z){return"errorMarker"==z.type})[0];l?l.destroy():c-=m;if(m=a(p,c,m))l=m[0],u.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:
l.column)||0,u.row=l.row,l=e.renderer.$gutterLayer.$annotations[u.row];else{if(l)return;l={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(u.row);e.selection.moveToPosition(u);var n={row:u.row,fixedWidth:!0,coverGutter:!0,el:f.createElement("div"),type:"errorMarker"};m=n.el.appendChild(f.createElement("div"));c=n.el.appendChild(f.createElement("div"));c.className="error_widget_arrow "+l.className;u=e.renderer.$cursorLayer.getPixelPosition(u).left;c.style.left=u+e.renderer.gutterWidth-5+
"px";n.el.className="error_widget_wrapper";m.className="error_widget "+l.className;m.innerHTML=l.text.join("<br>");m.appendChild(f.createElement("div"));var w=function(z,x,J){if(0===x&&("esc"===J||"return"===J))return n.destroy(),{command:"null"}};n.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(w),p.widgetManager.removeLineWidget(n),e.off("changeSelection",n.destroy),e.off("changeSession",n.destroy),e.off("mouseup",n.destroy),e.off("change",n.destroy))};e.keyBinding.addKeyboardHandler(w);
e.on("changeSelection",n.destroy);e.on("changeSession",n.destroy);e.on("mouseup",n.destroy);e.on("change",n.destroy);e.session.widgetManager.addLineWidget(n);n.el.onmousedown=e.focus.bind(e);e.renderer.scrollCursorIntoView(null,.5,{bottom:n.el.offsetHeight})};f.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }",
"")});
define("ace/ace","require exports module ace/lib/fixoldbrowsers ace/lib/dom ace/lib/event ace/editor ace/edit_session ace/undomanager ace/virtual_renderer ace/worker/worker_client ace/keyboard/hash_handler ace/placeholder ace/multi_select ace/mode/folding/fold_mode ace/theme/textmate ace/ext/error_marker ace/config".split(" "),function(d,N,X){d("./lib/fixoldbrowsers");var a=d("./lib/dom"),h=d("./lib/event"),f=d("./editor").Editor,g=d("./edit_session").EditSession,e=d("./undomanager").UndoManager,m=
d("./virtual_renderer").VirtualRenderer;d("./worker/worker_client");d("./keyboard/hash_handler");d("./placeholder");d("./multi_select");d("./mode/folding/fold_mode");d("./theme/textmate");d("./ext/error_marker");N.config=d("./config");N.require=d;"function"==typeof define&&(N.define=define);N.edit=function(p){if("string"==typeof p){var u=p;p=document.getElementById(u);if(!p)throw Error("ace.edit can't find div #"+u);}if(p&&p.env&&p.env.editor instanceof f)return p.env.editor;u="";if(p&&/input|textarea/i.test(p.tagName)){var c=
p;u=c.value;p=a.createElement("pre");c.parentNode.replaceChild(p,c)}else p&&(u=a.getInnerText(p),p.innerHTML="");u=N.createEditSession(u);p=new f(new m(p));p.setSession(u);var l={document:u,editor:p,onResize:p.resize.bind(p,null)};return c&&(l.textarea=c),h.addListener(window,"resize",l.onResize),p.on("destroy",function(){h.removeListener(window,"resize",l.onResize);l.editor.container.env=null}),p.container.env=p.env=l,p};N.createEditSession=function(p,u){p=new g(p,u);return p.setUndoManager(new e),
p};N.EditSession=g;N.UndoManager=e;N.version="1.2.9"});(function(){window.require(["ace/ace"],function(d){d&&(d.config.init(!0),d.define=window.define);window.ace||(window.ace=d);for(var N in d)d.hasOwnProperty(N)&&(window.ace[N]=d[N])})})();var wa_editor_key=!1,wa_editor;
function waEditorKeyCallback(d,N){N=N||{};N=jQuery.extend({save_button:"wa-page-button",change_callback:null},N);var X=$("#"+N.save_button);return d?function(a){X.length&&a.ctrlKey&&115==a.which&&!wa_editor_key&&(X.click(),a.preventDefault())}:function(a){wa_editor_key=!1;X.length&&(a.ctrlKey&&83==a.which&&(wa_editor_key=!0,X.click(),a.preventDefault()),a.metaKey||!((33>a.which||40<a.which)&&(27<a.which||8==a.which||13==a.which)&&(112>a.which||124<a.which))||a.ctrlKey&&67==a.which||(X.removeClass("green").addClass("yellow"),
N.change_callback&&"function"==typeof N.change_callback&&N.change_callback()))}}
function waEditorAceInit(d){function N(){"dark"===document.documentElement.dataset.theme?wa_editor.setTheme("ace/theme/monokai"):wa_editor.setTheme("ace/theme/eclipse")}d=d||{};d=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",type:"html",ace_editor_container:"wa-ace-editor-container"},d);d.save_button||(d.save_button=d.prefix+"button");$("#"+d.ace_editor_container).length||$('<div id="'+d.ace_editor_container+'"></div>').insertAfter($("#"+d.id));wa_editor=ace.edit(d.ace_editor_container);wa_editor.commands.removeCommand("find");
ace.config.set("basePath",wa_url+"wa-content/js/ace/");N();document.documentElement.addEventListener("wa-theme-change",N);var X=wa_editor.getSession();"css"==d.type?X.setMode("ace/mode/css"):"javascript"==d.type?X.setMode("ace/mode/javascript"):(X.setMode("ace/mode/css"),X.setMode("ace/mode/javascript"),X.setMode("ace/mode/smarty"));X.setUseWrapMode(!0);wa_editor.setOption("maxLines",1E4);wa_editor.setAutoScrollEditorIntoView(!0);wa_editor.renderer.setShowGutter(!0);wa_editor.setShowPrintMargin(!1);
-1!=navigator.appVersion.indexOf("Mac")?wa_editor.setFontSize(13):-1!=navigator.appVersion.indexOf("Linux")?wa_editor.setFontSize(16):wa_editor.setFontSize(14);$(".ace_editor").css("fontFamily","");X.setValue($("#"+d.id).hide().val());wa_editor.focus();wa_editor.navigateTo(0,0);wa_editor.commands.addCommands([{name:"waSave",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(a){$("#"+d.save_button).click()}},{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(a,h){return!1},readOnly:!0}]);
X.on("change",function(){d.change_callback&&"function"==typeof d.change_callback&&d.change_callback();$("#"+d.save_button).hasClass("green")&&$("#"+d.save_button).removeClass("green").addClass("yellow")});$(window).resize(function(){wa_editor.resize()})}
function waEditorUpdateSource(d){d=d||{};d=jQuery.extend({id:"wa-page-content"},d);d=$("#"+d.id);$(".el-rte").length&&$(".el-rte").is(":visible")?($(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))}),d.val(d.elrte("val")),wa_editor&&wa_editor.setValue(d.val()),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var N=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",N);$(this).attr("src",N.replace(/\{\$wa_url\}/,
wa_url))})):wa_editor&&d.val(wa_editor.getValue())}
function waEditorInit(d){d=d||{};d=jQuery.extend({prefix:"wa-page-",id:"wa-page-content",lang:"en",ace_editor_container:"wa-ace-editor-container",html_tab:"html",wysiwyg_tab:"wysiwyg"},d);d.save_button||(d.save_button=d.prefix+"button");var N=$("#"+d.id);if(!d.height){var X="div."+d.prefix+"editor";X=$(X).height()-$(X+" .wa-page-gray-toolbar").height()-92;$("div."+d.prefix+"save-panel").length&&(X-=25);$("#wa-app").height()<$("#wa").height()-$("#wa-header").height()&&(X+=$("#wa").height()-$("#wa-header").height()-
$("#wa-app").height());d.height=300>X?300:X}elRTE.prototype.beforeSave=function(){};elRTE.prototype.options.toolbars.waPageToolbar="wa_style alignment colors format indent lists wa_image wa_links wa_elements wa_tables direction".split(" ");!N.val()&&$.browser.msie&&N.val("<div></div>");N.elrte({height:d.height-53,cssfiles:[wa_url+"wa-content/css/wa/wa-1.3.css"],toolbar:"waPageToolbar",lang:d.lang,wa_image_upload:"?module=pages&action=uploadimage",wa_image_upload_path:d.upload_url,width:"100%"});"<div></div>"==
N.val()&&$.browser.msie&&N.elrte("val","");var a=N.elrte()[0].elrte.filter.source;N.elrte()[0].elrte.filter.source=function(h){h=a.call(N.elrte()[0].elrte.filter,h);h=h.replace(/%7B\$wa_url%7D/,"{$wa_url}");return h=h.replace(/{[a-z$][^}]*}/gi,function(f,g,e){var m=e.indexOf("\x3c/script",g+f.length);g=e.indexOf("<script",g+f.length);if(-1==m||-1!=g&&g<m)f=f.replace(/&gt;/g,">"),f=f.replace(/&lt;/g,"<"),f=f.replace(/&amp;/g,"&"),f=f.replace(/&quot;/g,'"');return f})};$(".el-rte iframe").contents().keydown(waEditorKeyCallback(!1,
d)).keypress(waEditorKeyCallback(!0,d)).keyup(function(h){27==h.keyCode&&jQuery(".dialog:visible").trigger("esc")});$(".el-rte .toolbar li").click(function(){$("#"+d.save_button).removeClass("green").addClass("yellow")});$("#wa-page-settings").keydown(waEditorKeyCallback(!1,d)).keypress(waEditorKeyCallback(!0,d));waEditorAceInit(d);$("#"+d.wysiwyg_tab).click(function(){$.storage&&$.storage.set(wa_app+"/editor","wysiwyg");$("ul#"+d.prefix+"wysiwyg-html-toggle, ul."+d.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$(this).parent().addClass("selected");$("#"+d.ace_editor_container).hide();N.elrte("val",wa_editor.getValue());$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var h=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",h);$(this).attr("src",h.replace(/\{\$wa_url\}/,wa_url))});$(".el-rte").show();$(".el-rte iframe").contents().find("body").focus();return!1});$("#"+d.html_tab).click(function(){$.storage&&$.storage.set(wa_app+"/editor","html");$("ul#"+d.prefix+"wysiwyg-html-toggle, ul."+
d.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");$(this).parent().addClass("selected");$(".el-rte iframe").contents().find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"))});var h=wa_editor.getCursorPosition();waEditorUpdateSource(d);$(".el-rte").hide();$("#"+d.ace_editor_container).show();wa_editor.focus();wa_editor.navigateTo(h.row,h.column);return!1});$("ul#"+d.prefix+"wysiwyg-html-toggle, ul."+d.prefix+"wysiwyg-html-toggle").children("li.selected").removeClass("selected");
$.storage&&"wysiwyg"!=$.storage.get(wa_app+"/editor")?($(".el-rte").hide(),$("#"+d.html_tab).parent().addClass("selected"),$("#"+d.ace_editor_container).show()):($("#"+d.wysiwyg_tab).parent().addClass("selected"),$(".el-rte iframe").contents().find('img[src*="$wa_url"]').each(function(){var h=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",h);$(this).attr("src",h.replace(/\{\$wa_url\}/,wa_url))}),$("#"+d.ace_editor_container).hide())};(function(d){var N=[],X=[];d.fn.doAutosize=function(a){var h=d(this).data("minwidth"),f=d(this).data("maxwidth"),g="",e=d(this),m=d("#"+d(this).data("tester_id"));g!==(g=e.val())&&(g=g.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">"),m.html(g),m=m.width(),a=m+a.comfortZone>=h?m+a.comfortZone:h,m=e.width(),(a<m&&a>=h||a>h&&a<f)&&e.width(a))};d.fn.resetAutosize=function(a){var h=d(this).data("minwidth")||a.minInputWidth||d(this).width();a=d(this).data("maxwidth")||a.maxInputWidth||
d(this).closest(".tagsinput").width()-a.inputPadding;var f=d(this),g=d("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:f.css("fontSize"),fontFamily:f.css("fontFamily"),fontWeight:f.css("fontWeight"),letterSpacing:f.css("letterSpacing"),whiteSpace:"nowrap"}),e=d(this).attr("id")+"_autosize_tester";0< !d("#"+e).length&&(g.attr("id",e),g.appendTo("body"));f.data("minwidth",h);f.data("maxwidth",a);f.data("tester_id",e);f.css("width",h)};d.fn.addTag=function(a,h){h=jQuery.extend({focus:!1,
callback:!0},h);this.each(function(){var f=d(this).attr("id"),g=d(this).val().split(N[f]);""==g[0]&&(g=[]);a=jQuery.trim(a);if(h.unique){var e=d(g).tagExist(a);1==e&&d("#"+f+"_tag").addClass("not_valid")}else e=!1;if(""!=a&&1!=e&&(d("<span>").addClass("tag").append(d("<span>").text(a).append("\u00a0\u00a0"),d("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return d("#"+f).removeTag(escape(a))})).insertBefore("#"+f+"_addTag"),g.push(a),d("#"+f+"_tag").val(""),h.focus?d("#"+f+"_tag").focus():
d("#"+f+"_tag").blur(),d.fn.tagsInput.updateTagsField(this,g),h.callback&&X[f]&&X[f].onAddTag&&(e=X[f].onAddTag,e.call(this,a)),X[f]&&X[f].onChange)){var m=g.length;e=X[f].onChange;e.call(this,d(this),g[m-1])}});return!1};d.fn.removeTag=function(a){a=unescape(a);this.each(function(){var h=d(this).attr("id"),f=d(this).val().split(N[h]);d("#"+h+"_tagsinput .tag").remove();str="";for(var g=0;g<f.length;g++)f[g]!=a&&(str=str+N[h]+f[g]);d.fn.tagsInput.importTags(this,str);X[h]&&X[h].onRemoveTag&&X[h].onRemoveTag.call(this,
a)});return!1};d.fn.tagExist=function(a){return 0<=jQuery.inArray(a,d(this))};d.fn.importTags=function(a){id=d(this).attr("id");d("#"+id+"_tagsinput .tag").remove();d.fn.tagsInput.importTags(this,a)};d.fn.tagsInput=function(a){var h=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},a);this.each(function(){h.hide&&
d(this).hide();var f=d(this).attr("id"),g=jQuery.extend({pid:f,real_input:"#"+f,holder:"#"+f+"_tagsinput",input_wrapper:"#"+f+"_addTag",fake_input:"#"+f+"_tag"},h);N[f]=g.delimiter;if(h.onAddTag||h.onRemoveTag||h.onChange)X[f]=[],X[f].onAddTag=h.onAddTag,X[f].onRemoveTag=h.onRemoveTag,X[f].onChange=h.onChange;var e='<div id="'+f+'_tagsinput" class="tagsinput"><div id="'+f+'_addTag">';h.interactive&&(e=e+'<input id="'+f+'_tag" value="" data-default="'+h.defaultText+'" />');d(e+'</div><div class="tags_clear"></div></div>').insertAfter(this);
d(g.holder).css("width",h.width);d(g.holder).css("height",h.height);""!=d(g.real_input).val()&&d.fn.tagsInput.importTags(d(g.real_input),d(g.real_input).val());if(h.interactive){d(g.fake_input).val(d(g.fake_input).attr("data-default"));d(g.fake_input).css("color",h.placeholderColor);d(g.fake_input).resetAutosize(h);d(g.holder).bind("click",g,function(m){d(m.data.fake_input).focus()});d(g.fake_input).bind("focus",g,function(m){d(m.data.fake_input).val()==d(m.data.fake_input).attr("data-default")&&
d(m.data.fake_input).val("");d(m.data.fake_input).css("color","#000000")});if(void 0!=h.autocomplete_url){autocomplete_options={source:h.autocomplete_url};for(attrname in h.autocomplete)autocomplete_options[attrname]=h.autocomplete[attrname];void 0!==jQuery.Autocompleter?(d(g.fake_input).autocomplete(h.autocomplete_url,h.autocomplete),d(g.fake_input).bind("result",g,function(m,p,u){p&&d("#"+f).addTag(p[0]+"",{focus:!0,unique:h.unique})})):void 0!==jQuery.ui.autocomplete&&(d(g.fake_input).autocomplete(autocomplete_options),
d(g.fake_input).bind("autocompleteselect",g,function(m,p){d(m.data.real_input).addTag(p.item.value,{focus:!0,unique:h.unique});return!1}))}else d(g.fake_input).bind("blur",g,function(m){var p=d(this).attr("data-default");""!=d(m.data.fake_input).val()&&d(m.data.fake_input).val()!=p?m.data.minChars<=d(m.data.fake_input).val().length&&(!m.data.maxChars||m.data.maxChars>=d(m.data.fake_input).val().length)&&d(m.data.real_input).addTag(d(m.data.fake_input).val(),{focus:!0,unique:h.unique}):(d(m.data.fake_input).val(d(m.data.fake_input).attr("data-default")),
d(m.data.fake_input).css("color",h.placeholderColor));return!1});d(g.fake_input).bind("keypress",g,function(m){if(m.which==m.data.delimiter.charCodeAt(0)||13==m.which)return m.preventDefault(),m.data.minChars<=d(m.data.fake_input).val().length&&(!m.data.maxChars||m.data.maxChars>=d(m.data.fake_input).val().length)&&d(m.data.real_input).addTag(d(m.data.fake_input).val(),{focus:!0,unique:h.unique}),d(m.data.fake_input).resetAutosize(h),!1;m.data.autosize&&d(m.data.fake_input).doAutosize(h)});g.removeWithBackspace&&
d(g.fake_input).bind("keydown",function(m){if(8==m.keyCode&&""==d(this).val()){m.preventDefault();m=d(this).closest(".tagsinput").find(".tag:last").text();var p=d(this).attr("id").replace(/_tag$/,"");m=m.replace(/[\s]+x$/,"");d("#"+p).removeTag(escape(m));d(this).trigger("focus")}});d(g.fake_input).blur();g.unique&&d(g.fake_input).keydown(function(m){(8==m.keyCode||String.fromCharCode(m.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,\/]+/))&&d(this).removeClass("not_valid")})}return!1});
return this};d.fn.tagsInput.updateTagsField=function(a,h){var f=d(a).attr("id");d(a).val(h.join(N[f]))};d.fn.tagsInput.importTags=function(a,h){d(a).val("");var f=d(a).attr("id");h=h.split(N[f]);for(var g=0;g<h.length;g++)d(a).addTag(h[g],{focus:!1,callback:!1});X[f]&&X[f].onChange&&X[f].onChange.call(a,a,h[g])}})(jQuery);(function(d){d.iButton={version:"1.0.03",setDefaults:function(g){d.extend(a,g)}};d.fn.iButton=function(g){var e="string"==typeof arguments[0]&&arguments[0],m=e&&Array.prototype.slice.call(arguments,1)||arguments,p=0==this.length?null:d.data(this[0],"iButton");if(p&&e&&this.length){if("object"==e.toLowerCase())return p;if(p[e]){var u;this.each(function(c){var l=d.data(this,"iButton")[e].apply(p,m);if(0==c&&l)if(l.jquery)u=d([]).add(l);else return u=l,!1;else l&&l.jquery&&(u=u.add(l))});return u||this}return this}return this.each(function(){new X(this,
g)})};var N=0;d.browser.iphone=-1<navigator.userAgent.toLowerCase().indexOf("iphone");var X=function(g,e){var m=this,p=d(g),u=++N,c=!1,l=!1,n=null,w=null,z=null,x=null;e=d.extend({},a,e,d.metadata?p.metadata():{});g=e.labelOn==h&&e.labelOff==f;if(!p.is(":checkbox, :radio"))return p.find(":checkbox, :radio").iButton(e);if(!d.data(p[0],"iButton")){d.data(p[0],"iButton",m);"auto"==e.resizeHandle&&(e.resizeHandle=!g);"auto"==e.resizeContainer&&(e.resizeContainer=!g);this.toggle=function(ha){p.attr("checked",
0<arguments.length?ha:!p[0].checked).trigger("change")};this.disable=function(ha){var ra=0<arguments.length?ha:!c;c=ra;p.attr("disabled",ra);J[ra?"addClass":"removeClass"](e.classDisabled);d.isFunction(e.disable)&&e.disable.apply(m,[c,p,e])};this.repaint=function(){R()};this.destroy=function(){d([p[0],J[0]]).unbind(".iButton");d(document).unbind(".iButton_"+u);J.after(p).remove();d.data(p[0],"iButton",null);d.isFunction(e.destroy)&&e.destroy.apply(m,[p,e])};p.wrap('<div class="'+d.trim(e.classContainer+
" "+e.className)+'" />').after('<div class="'+e.classHandle+'"><div class="'+e.classHandleRight+'"><div class="'+e.classHandleMiddle+'" /></div></div><div class="'+e.classLabelOff+'"><span><label>'+e.labelOff+'</label></span></div><div class="'+e.classLabelOn+'"><span><label>'+e.labelOn+'</label></span></div><div class="'+e.classPaddingLeft+'"></div><div class="'+e.classPaddingRight+'"></div>');var J=p.parent(),v=p.siblings("."+e.classHandle),K=p.siblings("."+e.classLabelOff),D=K.children("span"),
M=p.siblings("."+e.classLabelOn),Q=M.children("span");if(e.resizeHandle||e.resizeContainer){var G=Q.outerWidth();var T=D.outerWidth()}e.resizeHandle?(g=Math.min(G,T),v.css("width",g)):g=v.width();e.resizeContainer?(G=Math.max(G,T)+g+20,J.css("width",G),K.css("width",G-5)):G=J.width();var S=G-g-6,R=function(ha){var ra=p[0].checked?S:0;(ha=0<arguments.length?arguments[0]:!0)&&e.enableFx?(v.stop().animate({left:ra},e.duration,e.easing),M.stop().animate({width:ra+4},e.duration,e.easing),Q.stop().animate({marginLeft:ra-
S},e.duration,e.easing),D.stop().animate({marginRight:-ra},e.duration,e.easing)):(v.css("left",ra),M.css("width",ra+4),Q.css("marginLeft",ra-S),D.css("marginRight",-ra))};R(!1);var ca=function(ha){return ha.pageX||(ha.originalEvent.changedTouches?ha.originalEvent.changedTouches[0].pageX:0)};J.bind("mousedown.iButton touchstart.iButton",function(ha){if(!(d(ha.target).is(":checkbox, :radio")||c||!e.allowRadioUncheck&&p.is(":radio:checked")))return ha.preventDefault(),n=v,w=ca(ha),z=w-(parseInt(v.css("left"),
10)||0),x=(new Date).getTime(),!1});e.enableDrag&&d(document).bind("mousemove.iButton_"+u+" touchmove.iButton_"+u,function(ha){if(n==v)return ha.preventDefault(),ha=ca(ha),ha!=z&&(l=!0,J.addClass(e.classHandleActive)),ha=Math.min(1,Math.max(0,(ha-z)/S)),v.css("left",ha*S),M.css("width",ha*S+4),D.css("marginRight",-ha*S),Q.css("marginLeft",-(1-ha)*S),!1});d(document).bind("mouseup.iButton_"+u+" touchend.iButton_"+u,function(ha){if(n==v){ha.preventDefault();var ra=!0;!l||(new Date).getTime()-x<e.clickOffset?
(ha=p[0].checked,p.attr("checked",!ha),d.isFunction(e.click)&&e.click.apply(m,[!ha,p,e])):(ha=.5<=(ca(ha)-z)/S,p[0].checked==ha&&(ra=!1),p.attr("checked",ha));J.removeClass(e.classHandleActive);l=n=null;ra?p.trigger("change"):R();return!1}});p.bind("change.iButton",function(){R();if(p.is(":radio")){var ha=p[0];d(ha.form?ha.form[ha.name]:":radio[name="+ha.name+"]").filter(":not(:checked)").iButton("repaint")}d.isFunction(e.change)&&e.change.apply(m,[p,e])}).bind("focus.iButton",function(){J.addClass(e.classFocus)}).bind("blur.iButton",
function(){J.removeClass(e.classFocus)});d.isFunction(e.click)&&p.bind("click.iButton",function(){e.click.apply(m,[p[0].checked,p,e])});p.is(":disabled")&&this.disable(!0);d.browser.msie&&(J.find("*").andSelf().attr("unselectable","on"),p.bind("click.iButton",function(){p.triggerHandler("change.iButton")}));d.isFunction(e.init)&&e.init.apply(m,[p,e])}},a={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,
clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},h=a.labelOn,f=a.labelOff})(jQuery);jQuery.fn.waEditor2=function(){function d(e,m){var p=e.closest(".wa-editor-core-wrapper");if("string"===typeof m[0])switch(m[0]){case "sync":p.find(".wysiwyg").parent().hasClass("selected")?(e.redactor("code.sync"),m=e.redactor("code.get"),m!==e.data("last_wysiwyg_code")&&(m=e.redactor("clean.onSync",e.redactor("clean.onSet",m)),e.val(m))):e.val(e.data("ace").getValue());break;case "insert":p.find(".wysiwyg").parent().hasClass("selected")?e.redactor("insert.html",m[1]):e.data("ace").insert(m[1]);
break;case "get":return p.find(".wysiwyg").parent().hasClass("selected")?e.redactor("code.get"):e.data("ace").getValue()}else e.redactor("code.set",e.val()),e.data("ace").setValue(e.val())}function N(e){e=$.extend({focus:!0,deniedTags:!1,minHeight:300,linkify:!1,source:!1,paragraphy:!1,replaceDivs:!1,toolbarFixed:!0,replaceTags:{b:"strong",i:"em",strike:"del"},removeNewlines:!1,removeComments:!1,imagePosition:!0,imageResizable:!0,imageFloatMargin:"1.5em",buttons:"format bold italic underline deleted lists image video table link alignment horizontalrule fontcolor fontsize fontfamily".split(" "),
plugins:"fontcolor fontfamily alignment fontsize table video".split(" "),imageUpload:"?module=pages&action=uploadimage&r=2",imageUploadFields:'[name="_csrf"]:first',callbacks:{}},e||{});if(e.uploadFields||e.uploadImageFields)e.imageUploadFields=e.uploadFields||e.uploadImageFields;e.callbacks=$.extend({imageUploadError:function(m){console.log("imageUploadError",m);alert(m.error)},keydown:function(m){return"115"!=m.which&&"83"!=m.which||!m.ctrlKey&&!m.metaKey?!0:(m.preventDefault(),e.saveButton&&$(e.saveButton).click(),
!1)},sync:function(m){m=m.replace(/{[a-z$][^}]*}/gi,function(p,u,c){var l=c.indexOf("\x3c/script",u+p.length);u=c.indexOf("<script",u+p.length);if(-1==l||-1!=u&&u<l)p=p.replace(/&gt;/g,">"),p=p.replace(/&lt;/g,"<"),p=p.replace(/&amp;/g,"&"),p=p.replace(/&quot;/g,'"');return p});e.callbacks.syncBefore&&(m=e.callbacks.syncBefore(m));this.$textarea.val(m)},syncClean:function(m){return m.replace(/\{[a-z\$'"_\(!+\-][^\}]*\}/gi,function(p){return p.replace(/-&gt;/g,"->")})}},e.callbacks||{});e.saveButton&&
!e.callbacks.change&&(e.callbacks.change=function(m){$(e.saveButton).removeClass("green").addClass("yellow")});return e}function X(e,m){function p(){"dark"===document.documentElement.dataset.theme?l.setTheme("ace/theme/monokai"):l.setTheme("ace/theme/eclipse")}var u=e.closest(".wa-editor-core-wrapper");if(u.find(".ace").length)c=e.closest(".wa-editor-core-wrapper").find(".ace").children("div");else{var c=$("<div></div>");e.parent().append($('<div class="ace"></div>').append(c))}var l=ace.edit(c.get(0));
l.commands.removeCommand("find");ace.config.set("basePath",wa_url+"wa-content/js/ace/");p();document.documentElement.addEventListener("wa-theme-change",p);c=l.getSession();c.setMode("ace/mode/css");c.setMode("ace/mode/javascript");c.setMode("ace/mode/smarty");l.$blockScrolling=Infinity;c.setUseWrapMode(!0);l.renderer.setShowGutter(!1);l.setShowPrintMargin(!1);-1!=navigator.appVersion.indexOf("Mac")?l.setFontSize(13):-1!=navigator.appVersion.indexOf("Linux")?l.setFontSize(16):l.setFontSize(14);u.find(".ace_editor").css("fontFamily",
"");u.find(".ace_editor").css("minHeight",200);e.val().length?c.setValue(e.val()):c.setValue(" ");l.setOption("minLines",2);l.setOption("maxLines",1E4);l.setAutoScrollEditorIntoView(!0);m.focus&&(l.focus(),l.navigateTo(0,0));l.commands.addCommands([{name:"waSave",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(n){m.saveButton&&$(m.saveButton).click()}},{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(n,w){return!1},readOnly:!0}]);if(m.callbacks.change)c.on("change",m.callbacks.change);
e.data("ace",l);$(window).resize(function(){l.resize()});return l}function a(e){e=e.replace(/\{\$[a-z_][^\}]*\}/gi,"");return!e.match(/\{[a-z\$'"_\(!+\-]/i)}function h(e,m,p,u){var c=m.find(".wa-editor-upload-img");c.removeClass("hidden").appendTo(m.find(".ace"));c.click(function(){if($.fn.fileupload)return c.find("svg").length?$.waDialog({$wrapper:e}):e.waDialog(),!1;console.log("waEditor2 ERROR: jQuery fileupload plugins is required, but missing.")});c.on("click",function(){if($.fn.fileupload)return e.find("input:file").fileupload({dataType:"json",
start:function(){e.find("div.loading").show();e.find("input[type=submit]").attr("disabled","disabled")},done:function(l,n){if(n.result.error)return $('<div style="text-align: center"><p>'+n.result.error+"</p></div>").waDialog({buttons:'<input type="submit" value="'+u.locales.close+'" class="button red" />',height:"100px",width:"550px",onSubmit:function(w){w.trigger("close");return!1}}),!1;l='\n<figure><img src="%url%"></figure>\n'.replace("%url%",n.result.url);p.insert(l);p.clearSelection();p.focus()},
stop:function(){$("html").hasClass("is-wa2")?e.data("dialog").close():e.hide();e.find("div.loading").hide();e.find("input[type=submit]").removeAttr("disabled")}}),!1})}var f=arguments,g;this.each(function(){function e(n){return p.data("original_code")||n}function m(n){n&&p.data("original_code",n);setTimeout(function(){p.data("last_wysiwyg_code",p.redactor("code.get"))},50)}var p=$(this);if(p.data("redactor"))g=d(p,f);else{var u=N(f[0]),c=X(p,u);m(p.val());p.redactor(u);p.redactor("core.editor").find('img[src*="$wa_url"]').each(function(){var n=
decodeURIComponent($(this).attr("src"));$(this).attr("data-src",n);$(this).attr("src",n.replace(/\{\$wa_url\}/,wa_url))});p.redactor("core.box")&&p.redactor("core.box").css("z-index",0);p.redactor("core.toolbar")&&p.redactor("core.toolbar").css("z-index",1);var l=p.closest(".wa-editor-core-wrapper");u.upload_img_dialog&&h($(u.upload_img_dialog),l,c,u);l.find(".html").click(function(){if($(this).parent().hasClass("selected"))return!1;window.wa_app&&localStorage.setItem(wa_app+"/editor","html");l.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected");
$(this).parent().addClass("selected");p.redactor("core.box").hide();var n=c.getCursorPosition();p.redactor("core.editor").find("img[data-src!='']").each(function(){$(this).attr("src",$(this).attr("data-src"));$(this).removeAttr("data-src")});p.redactor("code.sync");var w=p.redactor("code.get");w!==p.data("last_wysiwyg_code")?(w=p.redactor("clean.onSync",p.redactor("clean.onSet",w)),c.setValue(w)):c.setValue(e(w));l.find(".ace").show();c.focus();c.navigateTo(n.row,n.column);return!1});l.find(".wysiwyg").click(function(){if($(this).parent().hasClass("selected"))return!1;
var n=c.getValue();if(u.smarty_wysiwyg_msg&&!a(n))return alert(u.smarty_wysiwyg_msg),!1;if($.trim(n)&&u.modification_wysiwyg_msg&&p.redactor("clean.onSync",p.redactor("clean.onSet",n))!==n)if("string"===typeof u.modification_wysiwyg_msg)if(confirm(u.modification_wysiwyg_msg))u.modification_wysiwyg_msg=null;else return!1;else return $(this).hasClass("js-is-wa2")?$.waDialog({$wrapper:u.modification_wysiwyg_msg,onOpen(w,z){w.find("form").on("submit",function(x){x.preventDefault();u.modification_wysiwyg_msg=
null;l.find(".wysiwyg").trigger("click");z.close()})},onSubmit:function(w){return!1}}):u.modification_wysiwyg_msg.waDialog({onSubmit:function(w){u.modification_wysiwyg_msg=null;w.trigger("close");l.find(".wysiwyg").trigger("click");return!1}}),!1;window.wa_app&&localStorage.setItem(wa_app+"/editor","wysiwyg");p.redactor("code.set",n);p.redactor("core.editor").find('img[src*="$wa_url"]').each(function(){var w=decodeURIComponent($(this).attr("src"));$(this).attr("data-src",w);$(this).attr("src",w.replace(/\{\$wa_url\}/,
wa_url))});p.redactor("observe.images");p.redactor("observe.links");l.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected");$(this).parent().addClass("selected");l.find(".ace").hide();p.redactor("core.box").show();m(n);p.redactor("focus.start");return!1});window.wa_app&&u.smarty_wysiwyg_msg&&!a(p.val())||localStorage.getItem(wa_app+"/editor")&&"html"==localStorage.getItem(wa_app+"/editor")?(l.find(".wa-editor-wysiwyg-html-toggle li.selected").removeClass("selected"),l.find(".html").parent().addClass("selected"),
p.redactor("core.box").hide(),l.find(".ace").show(),setTimeout(function(){c.blur()},50),u.focus&&setTimeout(function(){c.focus();c.navigateTo(0,0)},100)):(l.find(".ace").hide(),u.focus&&(u.iframe?setTimeout(function(){p.redactor("focus.start")},100):p.redactor("focus.start")))}});return g};jQuery.fn.waEditor||(jQuery.fn.waEditor=jQuery.fn.waEditor2);
//# sourceMappingURL=vendor.min.js.map